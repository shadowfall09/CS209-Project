{"items":[{"tags":["java","jenkins","groovy","jenkins-pipeline","jenkins-groovy"],"comments":[{"owner":{"account_id":152312,"reputation":4229,"user_id":366749,"display_name":"Patrice M."},"score":0,"creation_date":1646432059,"post_id":71355951,"comment_id":126129990,"body_markdown":"hmmm `import com.rifi.Utility` or `def util = new com.rifi.Utility(&#39;amr&#39;)`","body":"hmmm <code>import com.rifi.Utility</code> or <code>def util = new com.rifi.Utility(&#39;amr&#39;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":23026053,"reputation":29,"user_id":17146285,"display_name":"amr ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646484353,"creation_date":1646484353,"answer_id":71362307,"question_id":71355951,"body_markdown":"first when using src it must be scriptive not declarative so i change pipeline to \r\n**node {}**\r\n**it works**\r\nbut i need to use declarative so i change to vars make some functions that return the \r\nclass \r\nin pipeline i called ","title":"cannot resolve class error in jenkins pipeline","body":"<p>first when using src it must be scriptive not declarative so i change pipeline to\n<strong>node {}</strong>\n<strong>it works</strong>\nbut i need to use declarative so i change to vars make some functions that return the\nclass\nin pipeline i called</p>\n"}],"owner":{"account_id":23026053,"reputation":29,"user_id":17146285,"display_name":"amr ahmed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646484353,"creation_date":1646419551,"question_id":71355951,"body_markdown":"jenkins pipeline\r\n\r\n    @Library(&#39;shared_lib&#39;) _\r\n    def util =new Utility(&#39;amr&#39;)\r\n    pipeline {\r\n    agent any\r\n\r\n    stages {\r\n        stage(&#39;Hello&#39;) {\r\n            steps {\r\n                echo &#39;Hello &#39; + util.name\r\n            }\r\n        }\r\n     }\r\n    }\r\n\r\n\r\n**src/com/rifi/Utility.groovy**\r\n\r\n    package com.rifi\r\n    Class Utility{\r\n    def name\r\n    Utility(_name){\r\n        this.name=_name\r\n     }\r\n    }\r\n\r\n**WorkflowScript: 2: unable to resolve class Utility \r\n @ line 2, column 11.\r\n   def util =new Utility(&#39;amr&#39;)**\r\n\r\n","title":"cannot resolve class error in jenkins pipeline","body":"<p>jenkins pipeline</p>\n<pre><code>@Library('shared_lib') _\ndef util =new Utility('amr')\npipeline {\nagent any\n\nstages {\n    stage('Hello') {\n        steps {\n            echo 'Hello ' + util.name\n        }\n    }\n }\n}\n</code></pre>\n<p><strong>src/com/rifi/Utility.groovy</strong></p>\n<pre><code>package com.rifi\nClass Utility{\ndef name\nUtility(_name){\n    this.name=_name\n }\n}\n</code></pre>\n<p><strong>WorkflowScript: 2: unable to resolve class Utility\n@ line 2, column 11.\ndef util =new Utility('amr')</strong></p>\n"},{"tags":["java","environment-variables","kali-linux","javaoptions"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1584317657,"post_id":60698872,"comment_id":107392623,"body_markdown":"What OS are you using?","body":"What OS are you using?"},{"owner":{"account_id":15084568,"reputation":387,"user_id":10886220,"display_name":"zyydoosh"},"score":0,"creation_date":1584317759,"post_id":60698872,"comment_id":107392636,"body_markdown":"@MarsAtomic kali-linux","body":"@MarsAtomic kali-linux"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":2,"creation_date":1584318394,"post_id":60698872,"comment_id":107392747,"body_markdown":"Edit your .bashrc and remove _JAVA_OPTIONS. All that variable does is feed the value(s) to the Java exe as command line args, but it&#39;s not typically used. In fact, it&#39;s undocumented, meaning no one should be using it, so deleting it is very likely to be safe. I&#39;d be curious to see how that env variable was set in the first place -- probably some Oracle specific tool or application.","body":"Edit your .bashrc and remove _JAVA_OPTIONS. All that variable does is feed the value(s) to the Java exe as command line args, but it&#39;s not typically used. In fact, it&#39;s undocumented, meaning no one should be using it, so deleting it is very likely to be safe. I&#39;d be curious to see how that env variable was set in the first place -- probably some Oracle specific tool or application."},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":1,"creation_date":1584318596,"post_id":60698872,"comment_id":107392772,"body_markdown":"OK, so... right after I wrote that, I found [this](https://wiki.archlinux.org/index.php/Java_Runtime_Environment_fonts). Apparently, you caught that setting by using an Oracle JDK release. That font setting variable is there to turn on anti-aliasing. The worst thing that can happen is that your fonts look a little ugly, but that depends on your taste, your monitor resolution and the acuity of your eyesight, so your mileage may vary. At any rate, removing it will not destroy anything.","body":"OK, so... right after I wrote that, I found <a href=\"https://wiki.archlinux.org/index.php/Java_Runtime_Environment_fonts\" rel=\"nofollow noreferrer\">this</a>. Apparently, you caught that setting by using an Oracle JDK release. That font setting variable is there to turn on anti-aliasing. The worst thing that can happen is that your fonts look a little ugly, but that depends on your taste, your monitor resolution and the acuity of your eyesight, so your mileage may vary. At any rate, removing it will not destroy anything."},{"owner":{"account_id":15084568,"reputation":387,"user_id":10886220,"display_name":"zyydoosh"},"score":0,"creation_date":1584319371,"post_id":60698872,"comment_id":107392904,"body_markdown":"But I always use JDK and many people do, and I never face this message, it&#39;s started to appear when I start using java on kali instead of Ubuntu , do you have any idea why it wasn&#39;t appear before, and is that mean that all people who executing java with kali linux face this message?","body":"But I always use JDK and many people do, and I never face this message, it&#39;s started to appear when I start using java on kali instead of Ubuntu , do you have any idea why it wasn&#39;t appear before, and is that mean that all people who executing java with kali linux face this message?"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":1,"creation_date":1584480883,"post_id":60698872,"comment_id":107449024,"body_markdown":"There&#39;s no way for me to know any of that. I don&#39;t know what you installed on your personal machine or where you got it. I use Ubuntu and Mint and have never used Kali. That said, seeing as you have the perfect testing environment set up, you should be able to discover the solution yourself. All I know is what I&#39;ve already reported: _JAVA_OPTIONS is Oracle vendor specific and controls anti-aliasing.","body":"There&#39;s no way for me to know any of that. I don&#39;t know what you installed on your personal machine or where you got it. I use Ubuntu and Mint and have never used Kali. That said, seeing as you have the perfect testing environment set up, you should be able to discover the solution yourself. All I know is what I&#39;ve already reported: _JAVA_OPTIONS is Oracle vendor specific and controls anti-aliasing."},{"owner":{"account_id":15084568,"reputation":387,"user_id":10886220,"display_name":"zyydoosh"},"score":0,"creation_date":1584697899,"post_id":60698872,"comment_id":107521759,"body_markdown":"I  have better understanding now after some searching around this staff, thanks for your help","body":"I  have better understanding now after some searching around this staff, thanks for your help"}],"owner":{"account_id":15084568,"reputation":387,"user_id":10886220,"display_name":"zyydoosh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4122,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1646482771,"creation_date":1584316715,"question_id":60698872,"body_markdown":"Whenever I execute java code on intellij on kali, or type `java --version` in command line\r\nI get this message \r\n\r\n`Picked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on -Dswing.aatext=true`.\r\n\r\n I googled it and found [this][1] link that is exactly the same situation as me,\r\nbut what I understand is that it&#39;s an information not error and I can unset _JAVA_OPTIONS environmental variable.\r\nWhat I&#39;m asking for is that deleting this environmental variable will not cause any harm?\r\n\r\nI read in the above link that `If you remove that variable, information will be gone.`\r\nI didn&#39;t understand is that mean any damage or he just said that the message will gone!\r\n\r\nAnd finally how to delete or unset this _JAVA_OPTIONS variable?\r\n\r\n***Update* :** \r\n\r\nWhen I unset this variable by these commands\r\n\r\n`_SILENT_JAVA_OPTIONS=&quot;$_JAVA_OPTIONS&quot; `\r\n\r\n`unset _JAVA_OPTIONS `\r\n\r\n`alias java=&#39;java &quot;$_SILENT_JAVA_OPTIONS&quot;&#39; `\r\n\r\n-referenced from this [link][2], the second answer-  the message is still appear but after the output of the java program instead of before the output as it was!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/59478100/picked-up-java-options-in-kali-linux\r\n  [2]: https://superuser.com/questions/585695/suppressing-the-picked-up-java-options-message","title":"Picked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on","body":"<p>Whenever I execute java code on intellij on kali, or type <code>java --version</code> in command line\nI get this message </p>\n\n<p><code>Picked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on -Dswing.aatext=true</code>.</p>\n\n<p>I googled it and found <a href=\"https://stackoverflow.com/questions/59478100/picked-up-java-options-in-kali-linux\">this</a> link that is exactly the same situation as me,\nbut what I understand is that it's an information not error and I can unset _JAVA_OPTIONS environmental variable.\nWhat I'm asking for is that deleting this environmental variable will not cause any harm?</p>\n\n<p>I read in the above link that <code>If you remove that variable, information will be gone.</code>\nI didn't understand is that mean any damage or he just said that the message will gone!</p>\n\n<p>And finally how to delete or unset this _JAVA_OPTIONS variable?</p>\n\n<p><strong><em>Update</em> :</strong> </p>\n\n<p>When I unset this variable by these commands</p>\n\n<p><code>_SILENT_JAVA_OPTIONS=\"$_JAVA_OPTIONS\"</code></p>\n\n<p><code>unset _JAVA_OPTIONS</code></p>\n\n<p><code>alias java='java \"$_SILENT_JAVA_OPTIONS\"'</code></p>\n\n<p>-referenced from this <a href=\"https://superuser.com/questions/585695/suppressing-the-picked-up-java-options-message\">link</a>, the second answer-  the message is still appear but after the output of the java program instead of before the output as it was!</p>\n"},{"tags":["java","spring-boot","docker","docker-compose"],"comments":[{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1646437760,"post_id":71358306,"comment_id":126131045,"body_markdown":"With this particular `docker-compose.yml` file, your colleague will also need the two `*.sql` files.  They may need to remove the `build: .` line if they don&#39;t have the local source tree.  Have you tried to run it yourself in a clean environment?","body":"With this particular <code>docker-compose.yml</code> file, your colleague will also need the two <code>*.sql</code> files.  They may need to remove the <code>build: .</code> line if they don&#39;t have the local source tree.  Have you tried to run it yourself in a clean environment?"},{"owner":{"account_id":16249042,"reputation":86,"user_id":11733458,"display_name":"Deyvid Dimitrov"},"score":0,"creation_date":1646468606,"post_id":71358306,"comment_id":126134968,"body_markdown":"@DavidMaze So he should pull the whole repository and then run docker-compose?\nWhat exactly is clean environment? I have removed all the images &amp; volumes, then run docker-compose up and it works fine.","body":"@DavidMaze So he should pull the whole repository and then run docker-compose? What exactly is clean environment? I have removed all the images &amp; volumes, then run docker-compose up and it works fine."}],"answers":[{"tags":[],"owner":{"account_id":14681443,"reputation":116,"user_id":10602782,"display_name":"mohammad hosein bahmani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646471901,"creation_date":1646471901,"answer_id":71360954,"question_id":71358306,"body_markdown":"Because of the `build: .` keyword in your docker-compose in `api` service, running `docker-compose up` will search for the backend Dockerfile and build the image. So, your teammate needs to get all the files you wrote.  \r\nAnother solution, which in my point of view is better, would be building the image by you and pushing it to docker.hub, so your teammate can just pull the image from there and run it on his/her system. For this solution, [this](https://docs.docker.com/compose/reference/push/) could be useful.  \r\nIn case your not familiar with docker hub, read [this quick start](https://docs.docker.com/docker-hub/)","title":"How to use docker-compose from another person?","body":"<p>Because of the <code>build: .</code> keyword in your docker-compose in <code>api</code> service, running <code>docker-compose up</code> will search for the backend Dockerfile and build the image. So, your teammate needs to get all the files you wrote.<br />\nAnother solution, which in my point of view is better, would be building the image by you and pushing it to docker.hub, so your teammate can just pull the image from there and run it on his/her system. For this solution, <a href=\"https://docs.docker.com/compose/reference/push/\" rel=\"nofollow noreferrer\">this</a> could be useful.<br />\nIn case your not familiar with docker hub, read <a href=\"https://docs.docker.com/docker-hub/\" rel=\"nofollow noreferrer\">this quick start</a></p>\n"},{"tags":[],"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646482750,"creation_date":1646482750,"answer_id":71362134,"question_id":71358306,"body_markdown":"Your colleague will need:\r\n\r\n* The `docker-compose.yml` file itself\r\n* Any local files or directories named on the left-hand side of `volumes:` bind mounts\r\n* Any directories named in `build:` (or `build: { context: }`) lines, if the images aren&#39;t pushed to a registry\r\n* Any data content contained in a named volume that isn&#39;t automatically recreated\r\n\r\nIf they have the `docker-compose.yml` file they can `docker-compose pull` the images named there, and Docker won&#39;t try to rebuild them.\r\n\r\nNamed volumes are difficult to transfer between systems; see the [Docker documentation on saving and restoring volumes](https://docs.docker.com/storage/volumes/#backup-restore-or-migrate-data-volumes).  Bind-mounted host directories are easier to transfer, but are much slower on non-Linux hosts.  Avoid using volumes for parts of your application code, including the Node library directory or static assets.\r\n\r\nFor this setup in particular, the one change I might consider making is using the [`postgres` image](https://hub.docker.com/_/postgres)&#39;s environment variables to create the database, and then use your application&#39;s database migration system to create tables and seed data.  This would avoid needing the two `.sql` files.  Beyond that, the only thing they need is the `docker-compose.yml` file.","title":"How to use docker-compose from another person?","body":"<p>Your colleague will need:</p>\n<ul>\n<li>The <code>docker-compose.yml</code> file itself</li>\n<li>Any local files or directories named on the left-hand side of <code>volumes:</code> bind mounts</li>\n<li>Any directories named in <code>build:</code> (or <code>build: { context: }</code>) lines, if the images aren't pushed to a registry</li>\n<li>Any data content contained in a named volume that isn't automatically recreated</li>\n</ul>\n<p>If they have the <code>docker-compose.yml</code> file they can <code>docker-compose pull</code> the images named there, and Docker won't try to rebuild them.</p>\n<p>Named volumes are difficult to transfer between systems; see the <a href=\"https://docs.docker.com/storage/volumes/#backup-restore-or-migrate-data-volumes\" rel=\"nofollow noreferrer\">Docker documentation on saving and restoring volumes</a>.  Bind-mounted host directories are easier to transfer, but are much slower on non-Linux hosts.  Avoid using volumes for parts of your application code, including the Node library directory or static assets.</p>\n<p>For this setup in particular, the one change I might consider making is using the <a href=\"https://hub.docker.com/_/postgres\" rel=\"nofollow noreferrer\"><code>postgres</code> image</a>'s environment variables to create the database, and then use your application's database migration system to create tables and seed data.  This would avoid needing the two <code>.sql</code> files.  Beyond that, the only thing they need is the <code>docker-compose.yml</code> file.</p>\n"}],"owner":{"account_id":16249042,"reputation":86,"user_id":11733458,"display_name":"Deyvid Dimitrov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71362134,"answer_count":2,"score":0,"last_activity_date":1646482750,"creation_date":1646437064,"question_id":71358306,"body_markdown":"I&#39;m pretty new to the world of Docker, so I have the following scenario:\r\n\r\n - Spring Boot application which depends to..\r\n - PostgreSQL\r\n\r\nand frontend requesting data from them.\r\n\r\nThe Dockerfile in the Spring Boot app is:\r\n```FROM adoptopenjdk:11-jre-hotspot\r\nEXPOSE 8080\r\nARG JAR_FILE=target/*.jar\r\nCOPY ${JAR_FILE} app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n```\r\n\r\nAnd the content of the docker-compose.yaml is:\r\n```\r\nversion: &#39;3&#39;\r\n\r\nservices:\r\n  app:\r\n    image: &lt;user&gt;/&lt;repo&gt;\r\n    build: .\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    container_name: app_test\r\n    depends_on:\r\n      - db\r\n    environment:\r\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/test\r\n      - SPRING_DATASOURCE_USERNAME=test\r\n      - SPRING_DATASOURCE_PASSWORD=test\r\n\r\n  db:\r\n    image: &#39;postgres:13.1-alpine&#39;\r\n    restart: always\r\n    expose:\r\n      - 5432\r\n    ports:\r\n      - &quot;5433:5432&quot;\r\n    container_name: db_test\r\n    environment:\r\n      - POSTGRES_DB=test\r\n      - POSTGRES_USER=test\r\n      - POSTGRES_PASSWORD=test\r\n    volumes:\r\n      - db:/var/lib/postgresql/data\r\n      - ./create-tables.sql:/docker-entrypoint-initdb.d/create-tables.sql\r\n      - ./fill_tables.sql:/docker-entrypoint-initdb.d/fill_tables.sql\r\nvolumes:\r\n    db:\r\n      driver: local\r\n```\r\n\r\nAs far as I understand in order to run the whole *thing* is required just to type **docker-compose up** and voila, it works. It pulls the image for the app from the docker-hub repo and same does for the image for the database.\r\n\r\nHere comes the thing. I&#39;m working with another guy (front end), whose goal is to make requests to this API. So **is it enough for him to just copy-paste this docker-compose.yaml file** and write docker-compose up or there is another thing to be done?\r\n\r\nHow should docker-compose be used in teamwork?\r\n\r\nThanks in advance, if I have to make it more clear leave a comment!","title":"How to use docker-compose from another person?","body":"<p>I'm pretty new to the world of Docker, so I have the following scenario:</p>\n<ul>\n<li>Spring Boot application which depends to..</li>\n<li>PostgreSQL</li>\n</ul>\n<p>and frontend requesting data from them.</p>\n<p>The Dockerfile in the Spring Boot app is:</p>\n<pre><code>EXPOSE 8080\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>And the content of the docker-compose.yaml is:</p>\n<pre><code>version: '3'\n\nservices:\n  app:\n    image: &lt;user&gt;/&lt;repo&gt;\n    build: .\n    ports:\n      - &quot;8080:8080&quot;\n    container_name: app_test\n    depends_on:\n      - db\n    environment:\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/test\n      - SPRING_DATASOURCE_USERNAME=test\n      - SPRING_DATASOURCE_PASSWORD=test\n\n  db:\n    image: 'postgres:13.1-alpine'\n    restart: always\n    expose:\n      - 5432\n    ports:\n      - &quot;5433:5432&quot;\n    container_name: db_test\n    environment:\n      - POSTGRES_DB=test\n      - POSTGRES_USER=test\n      - POSTGRES_PASSWORD=test\n    volumes:\n      - db:/var/lib/postgresql/data\n      - ./create-tables.sql:/docker-entrypoint-initdb.d/create-tables.sql\n      - ./fill_tables.sql:/docker-entrypoint-initdb.d/fill_tables.sql\nvolumes:\n    db:\n      driver: local\n</code></pre>\n<p>As far as I understand in order to run the whole <em>thing</em> is required just to type <strong>docker-compose up</strong> and voila, it works. It pulls the image for the app from the docker-hub repo and same does for the image for the database.</p>\n<p>Here comes the thing. I'm working with another guy (front end), whose goal is to make requests to this API. So <strong>is it enough for him to just copy-paste this docker-compose.yaml file</strong> and write docker-compose up or there is another thing to be done?</p>\n<p>How should docker-compose be used in teamwork?</p>\n<p>Thanks in advance, if I have to make it more clear leave a comment!</p>\n"},{"tags":["java","sparql","jena","wikidata-query-service"],"comments":[{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":0,"creation_date":1587976407,"post_id":61454573,"comment_id":108710738,"body_markdown":"the error message is quite meaningful: `Unresolved prefixed name: wikibase:lemma` - `wikibase` is not defined among your PREFIX declarations. it works in Wikidata because it&#39;s predefined. See the list here: https://www.mediawiki.org/wiki/Wikibase/Indexing/RDF_Dump_Format#Full_list_of_prefixes","body":"the error message is quite meaningful: <code>Unresolved prefixed name: wikibase:lemma</code> - <code>wikibase</code> is not defined among your PREFIX declarations. it works in Wikidata because it&#39;s predefined. See the list here: <a href=\"https://www.mediawiki.org/wiki/Wikibase/Indexing/RDF_Dump_Format#Full_list_of_prefixes\" rel=\"nofollow noreferrer\">mediawiki.org/wiki/Wikibase/Indexing/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5990315,"reputation":1983,"user_id":4706562,"display_name":"chrisis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1587985921,"creation_date":1587976540,"answer_id":61454773,"question_id":61454573,"body_markdown":"When you use their SPARQL query page a number of prefixes are pre-declared, including wikibase. When querying the endpoint remotely these have to be declared. So use `PREFIX wikibase: &lt;http://wikiba.se/ontology#&gt;` in your query.\r\n\r\nA list of prefixes is available in the [wiki][1]\r\n\r\n\r\n  [1]: https://www.mediawiki.org/wiki/Wikibase/Indexing/RDF_Dump_Format#Full_list_of_prefixes","title":"Sparql with Java Jena","body":"<p>When you use their SPARQL query page a number of prefixes are pre-declared, including wikibase. When querying the endpoint remotely these have to be declared. So use <code>PREFIX wikibase: &lt;http://wikiba.se/ontology#&gt;</code> in your query.</p>\n\n<p>A list of prefixes is available in the <a href=\"https://www.mediawiki.org/wiki/Wikibase/Indexing/RDF_Dump_Format#Full_list_of_prefixes\" rel=\"nofollow noreferrer\">wiki</a></p>\n"}],"owner":{"account_id":17370818,"reputation":125,"user_id":12585010,"display_name":"David G. Hdez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61454773,"answer_count":1,"score":1,"last_activity_date":1646482464,"creation_date":1587975917,"question_id":61454573,"body_markdown":"I&#39;m using next query in Wikidata Query Service:\r\n\r\n    PREFIX wd: &lt;http://www.wikidata.org/entity/&gt; \r\n    PREFIX wdt: &lt;http://www.wikidata.org/prop/direct/&gt;  \r\n    PREFIX xsd: &lt;www.w3.org/2001/XMLSchema#&gt;  \r\n    PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;  \r\n    \r\n    select ?lexemeId ?lemma WHERE { \r\n    ?lexemeId &lt;http://purl.org/dc/terms/language&gt; wd:Q1860.\r\n      ?lexemeId wikibase:lemma ?lemma.\r\n    FILTER (regex(?lemma, &#39;^bank.*&#39;))\r\n    }\r\n\r\nIt works fine when executing at https://query.wikidata.org/ but, if trying using Java Jena, it fails, cause:\r\n\r\n    Exception in thread &quot;main&quot; org.apache.jena.query.QueryParseException: Line 7, column 11: Unresolved prefixed name: wikibase:lemma\r\n\r\nIt can&#39;t resolve wikibase as a prefix.\r\nAny clue?\r\nThx in advance, David.\r\n\r\n","title":"Sparql with Java Jena","body":"<p>I'm using next query in Wikidata Query Service:</p>\n<pre><code>PREFIX wd: &lt;http://www.wikidata.org/entity/&gt; \nPREFIX wdt: &lt;http://www.wikidata.org/prop/direct/&gt;  \nPREFIX xsd: &lt;www.w3.org/2001/XMLSchema#&gt;  \nPREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;  \n\nselect ?lexemeId ?lemma WHERE { \n?lexemeId &lt;http://purl.org/dc/terms/language&gt; wd:Q1860.\n  ?lexemeId wikibase:lemma ?lemma.\nFILTER (regex(?lemma, '^bank.*'))\n}\n</code></pre>\n<p>It works fine when executing at <a href=\"https://query.wikidata.org/\" rel=\"nofollow noreferrer\">https://query.wikidata.org/</a> but, if trying using Java Jena, it fails, cause:</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.jena.query.QueryParseException: Line 7, column 11: Unresolved prefixed name: wikibase:lemma\n</code></pre>\n<p>It can't resolve wikibase as a prefix.\nAny clue?\nThx in advance, David.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646387623,"post_id":71349453,"comment_id":126115580,"body_markdown":"Yuor dependencies are a mess, you are mixing at leat 3 versions of Spring Boot (2.4, 2.5 and 2.6) which is a recipe for disasters. For all your Spring Boot Starter dependencies, remove the version attribute.","body":"Yuor dependencies are a mess, you are mixing at leat 3 versions of Spring Boot (2.4, 2.5 and 2.6) which is a recipe for disasters. For all your Spring Boot Starter dependencies, remove the version attribute."},{"owner":{"account_id":23841946,"reputation":11,"user_id":17846887,"display_name":"twelve"},"score":0,"creation_date":1646454487,"post_id":71349453,"comment_id":126133053,"body_markdown":"Still one time, can&#39;t solve","body":"Still one time, can&#39;t solve"}],"answers":[{"tags":[],"owner":{"account_id":17317329,"reputation":1,"user_id":12543456,"display_name":"小眼睛带鱼"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646387455,"creation_date":1646387455,"answer_id":71349521,"question_id":71349453,"body_markdown":"```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Spring boot : Error creating bean with name &#39;persistenceExceptionTranslationPostProcessor&#39;","body":"<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":23841946,"reputation":11,"user_id":17846887,"display_name":"twelve"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646482081,"creation_date":1646387151,"question_id":71349453,"body_markdown":"I have a spring boot application and i am creating jar file and deploying on CentOS 7.6.(tomcat 7) The code works perfectly well when running in my intellij IDEA but i am getting below exception when running application on CentOS 7.6\r\n```\r\nApplication run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;persistenceExceptionTranslationPostProcessor&#39; defined in class path resource [org/springframework/boot/autoconfigure/dao/PersistenceExceptionTranslationAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;persistenceExceptionTranslationPostProcessor&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;factory&#39; defined in class path resource [cn/edu/imau/config/ShiroConfig.class]: Unsatisfied dependency expressed through method &#39;factory&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;securityManager&#39; defined in class path resource [cn/edu/imau/config/ShiroConfig.class]: Unsatisfied dependency expressed through method &#39;securityManager&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;myRealm&#39;: Unsatisfied dependency expressed through field &#39;activistService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;activistServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;activistMapper&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;activistMapper&#39; defined in URL [jar:file:/usr/local/red/api-1.0.0.jar!/BOOT-INF/lib/mapper-1.0.0.jar!/cn/edu/imau/redpioneer/dao/ActivistMapper.class]: Unsatisfied dependency expressed through bean property &#39;sqlSessionFactory&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;sqlSessionFactory&#39; defined in class path resource [tk/mybatis/mapper/autoconfigure/MapperAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;sqlSessionFactory&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [com/alibaba/druid/spring/boot/autoconfigure/DruidDataSourceAutoConfigure.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/boot/bind/RelaxedDataBinder\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.5.jar!/:5.3.5]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.5.jar!/:5.3.5]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.5.jar!/:5.3.5]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.3.5.jar!/:5.3.5]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.5.jar!/:5.3.5]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar!/:5.3.5]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar!/:5.3.5]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar!/:5.3.5]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar!/:5.3.5]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.5.jar!/:5.3.5]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:258) ~[spring-context-5.3.5.jar!/:5.3.5]\r\n\tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:762) ~[spring-context-5.3.5.jar!/:5.3.5]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:567) ~[spring-context-5.3.5.jar!/:5.3.5]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.4.jar!/:2.4.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:769) [spring-boot-2.4.4.jar!/:2.4.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761) [spring-boot-2.4.4.jar!/:2.4.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) [spring-boot-2.4.4.jar!/:2.4.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:326) [spring-boot-2.4.4.jar!/:2.4.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1313) [spring-boot-2.4.4.jar!/:2.4.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) [spring-boot-2.4.4.jar!/:2.4.4]\r\n\tat cn.edu.imau.ApiApplication.main(ApiApplication.java:17) [classes!/:1.0.0]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_322]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_322]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_322]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_322]\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [api-1.0.0.jar:1.0.0]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:107) [api-1.0.0.jar:1.0.0]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [api-1.0.0.jar:1.0.0]\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) [api-1.0.0.jar:1.0.0]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;factory&#39; defined in class path resource [cn/edu/imau/config/ShiroConfig.class]: Unsatisfied dependency expressed through method &#39;factory&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;securityManager&#39; defined in class path resource [cn/edu/imau/config/ShiroConfig.class]: Unsatisfied dependency expressed through method &#39;securityManager&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;myRealm&#39;: Unsatisfied dependency expressed through field &#39;activistService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;activistServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;activistMapper&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;activistMapper&#39; defined in URL [jar:file:/usr/local/red/api-1.0.0.jar!/BOOT-INF/lib/mapper-1.0.0.jar!/cn/edu/imau/redpioneer/dao/ActivistMapper.class]: Unsatisfied dependency expressed through bean property &#39;sqlSessionFactory&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;sqlSessionFactory&#39; defined in class path resource [tk/mybatis/mapper/autoconfigure/MapperAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;sqlSessionFactory&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [com/alibaba/druid/spring/boot/autoconfigure/DruidDataSourceAutoConfigure.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/boot/bind/RelaxedDataBinder\r\n\r\n\r\n```\r\nBelow is my pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;cn.edu.imau&lt;/groupId&gt;\r\n    &lt;artifactId&gt;red-pioneer&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;common&lt;/module&gt;\r\n        &lt;module&gt;beans&lt;/module&gt;\r\n        &lt;module&gt;mapper&lt;/module&gt;\r\n        &lt;module&gt;service&lt;/module&gt;\r\n        &lt;module&gt;api&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.18&lt;/version&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.12&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\n        &lt;/dependencies&gt;\r\n\r\n    &lt;/dependencyManagement&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nbeans\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;red-pioneer&lt;/artifactId&gt;\r\n        &lt;groupId&gt;cn.edu.imau&lt;/groupId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;beans&lt;/artifactId&gt;\r\n\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!-- tkMapper --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;tk.mybatis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapper-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--swagger--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- lombok --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nmapper\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;red-pioneer&lt;/artifactId&gt;\r\n        &lt;groupId&gt;cn.edu.imau&lt;/groupId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;mapper&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!--beans--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;cn.edu.imau&lt;/groupId&gt;\r\n            &lt;artifactId&gt;beans&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--spring-boot-starter--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--mybatis starter--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--druid starter--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n            &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--PageHelper--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pagehelper-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--easyexcel--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n            &lt;artifactId&gt;easyexcel&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.5&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;configurationFile&gt;\r\n                        ${basedir}/src/main/resources/generator/generatorConfig.xml\r\n                    &lt;/configurationFile&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;!--mysql--&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                        &lt;version&gt;5.1.47&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;tk.mybatis&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;mapper&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.4.4&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\ncommon\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;red-pioneer&lt;/artifactId&gt;\r\n        &lt;groupId&gt;cn.edu.imau&lt;/groupId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!--beans--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;cn.edu.imau&lt;/groupId&gt;\r\n            &lt;artifactId&gt;beans&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--easyexcel--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n            &lt;artifactId&gt;easyexcel&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--jwt--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n            &lt;version&gt;3.10.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--shiro--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n            &lt;artifactId&gt;shiro-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nservice\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;red-pioneer&lt;/artifactId&gt;\r\n        &lt;groupId&gt;cn.edu.imau&lt;/groupId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;service&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!--mapper--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;cn.edu.imau&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapper&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--common--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;cn.edu.imau&lt;/groupId&gt;\r\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--mail--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\napi\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;cn.edu.imau&lt;/groupId&gt;\r\n        &lt;artifactId&gt;red-pioneer&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;api&lt;/artifactId&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!--service--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;cn.edu.imau&lt;/groupId&gt;\r\n            &lt;artifactId&gt;service&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--web--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.4&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--junit--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;optional&gt;true&lt;/optional&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2.4.4&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n\r\n&lt;!--        &amp;lt;!&amp;ndash;Test&amp;ndash;&amp;gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2.4.4&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;io.springfox&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2.9.2&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n\r\n        &lt;!--swagger2--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--swagger-ui--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.xiaoymin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-bootstrap-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nBelow is my ApiApplication.java\r\n```\r\n@EnableScheduling\r\n@SpringBootApplication(exclude = DataSourceAutoConfiguration.class)\r\n@MapperScan(&quot;cn.edu.imau.redpioneer.dao&quot;)\r\n@ComponentScan(basePackages = &quot;cn.edu.imau.*&quot;)\r\npublic class ApiApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ApiApplication.class, args);\r\n\r\n    }\r\n\r\n}\r\n```\r\nCan anyone let me know why i am getting this error while running my Tomcat.","title":"Spring boot : Error creating bean with name &#39;persistenceExceptionTranslationPostProcessor&#39;","body":"<p>I have a spring boot application and i am creating jar file and deploying on CentOS 7.6.(tomcat 7) The code works perfectly well when running in my intellij IDEA but i am getting below exception when running application on CentOS 7.6</p>\n<pre><code>Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'persistenceExceptionTranslationPostProcessor' defined in class path resource [org/springframework/boot/autoconfigure/dao/PersistenceExceptionTranslationAutoConfiguration.class]: Unsatisfied dependency expressed through method 'persistenceExceptionTranslationPostProcessor' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'factory' defined in class path resource [cn/edu/imau/config/ShiroConfig.class]: Unsatisfied dependency expressed through method 'factory' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityManager' defined in class path resource [cn/edu/imau/config/ShiroConfig.class]: Unsatisfied dependency expressed through method 'securityManager' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'myRealm': Unsatisfied dependency expressed through field 'activistService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'activistServiceImpl': Unsatisfied dependency expressed through field 'activistMapper'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'activistMapper' defined in URL [jar:file:/usr/local/red/api-1.0.0.jar!/BOOT-INF/lib/mapper-1.0.0.jar!/cn/edu/imau/redpioneer/dao/ActivistMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [tk/mybatis/mapper/autoconfigure/MapperAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionFactory' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [com/alibaba/druid/spring/boot/autoconfigure/DruidDataSourceAutoConfigure.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/boot/bind/RelaxedDataBinder\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.5.jar!/:5.3.5]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.5.jar!/:5.3.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.5.jar!/:5.3.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.3.5.jar!/:5.3.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.5.jar!/:5.3.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar!/:5.3.5]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar!/:5.3.5]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar!/:5.3.5]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar!/:5.3.5]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.5.jar!/:5.3.5]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:258) ~[spring-context-5.3.5.jar!/:5.3.5]\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:762) ~[spring-context-5.3.5.jar!/:5.3.5]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:567) ~[spring-context-5.3.5.jar!/:5.3.5]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.4.jar!/:2.4.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:769) [spring-boot-2.4.4.jar!/:2.4.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761) [spring-boot-2.4.4.jar!/:2.4.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) [spring-boot-2.4.4.jar!/:2.4.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) [spring-boot-2.4.4.jar!/:2.4.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1313) [spring-boot-2.4.4.jar!/:2.4.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) [spring-boot-2.4.4.jar!/:2.4.4]\n    at cn.edu.imau.ApiApplication.main(ApiApplication.java:17) [classes!/:1.0.0]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_322]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_322]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_322]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_322]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [api-1.0.0.jar:1.0.0]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:107) [api-1.0.0.jar:1.0.0]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [api-1.0.0.jar:1.0.0]\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) [api-1.0.0.jar:1.0.0]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'factory' defined in class path resource [cn/edu/imau/config/ShiroConfig.class]: Unsatisfied dependency expressed through method 'factory' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityManager' defined in class path resource [cn/edu/imau/config/ShiroConfig.class]: Unsatisfied dependency expressed through method 'securityManager' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'myRealm': Unsatisfied dependency expressed through field 'activistService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'activistServiceImpl': Unsatisfied dependency expressed through field 'activistMapper'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'activistMapper' defined in URL [jar:file:/usr/local/red/api-1.0.0.jar!/BOOT-INF/lib/mapper-1.0.0.jar!/cn/edu/imau/redpioneer/dao/ActivistMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [tk/mybatis/mapper/autoconfigure/MapperAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionFactory' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [com/alibaba/druid/spring/boot/autoconfigure/DruidDataSourceAutoConfigure.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/boot/bind/RelaxedDataBinder\n\n\n</code></pre>\n<p>Below is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;cn.edu.imau&lt;/groupId&gt;\n    &lt;artifactId&gt;red-pioneer&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;common&lt;/module&gt;\n        &lt;module&gt;beans&lt;/module&gt;\n        &lt;module&gt;mapper&lt;/module&gt;\n        &lt;module&gt;service&lt;/module&gt;\n        &lt;module&gt;api&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;version&gt;1.18.18&lt;/version&gt;\n                &lt;optional&gt;true&lt;/optional&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;junit&lt;/groupId&gt;\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\n                &lt;version&gt;4.12&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n        &lt;/dependencies&gt;\n\n    &lt;/dependencyManagement&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>beans</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;red-pioneer&lt;/artifactId&gt;\n        &lt;groupId&gt;cn.edu.imau&lt;/groupId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;beans&lt;/artifactId&gt;\n\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- tkMapper --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;tk.mybatis&lt;/groupId&gt;\n            &lt;artifactId&gt;mapper-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--swagger--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- lombok --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>mapper</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;red-pioneer&lt;/artifactId&gt;\n        &lt;groupId&gt;cn.edu.imau&lt;/groupId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;mapper&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        &lt;!--beans--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;cn.edu.imau&lt;/groupId&gt;\n            &lt;artifactId&gt;beans&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--spring-boot-starter--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--mybatis starter--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--druid starter--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n            &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--PageHelper--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;\n            &lt;artifactId&gt;pagehelper-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;1.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--easyexcel--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n            &lt;artifactId&gt;easyexcel&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\n            &lt;version&gt;1.2.20&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;\n                &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.3.5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;configurationFile&gt;\n                        ${basedir}/src/main/resources/generator/generatorConfig.xml\n                    &lt;/configurationFile&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;!--mysql--&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;mysql&lt;/groupId&gt;\n                        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                        &lt;version&gt;5.1.47&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;tk.mybatis&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapper&lt;/artifactId&gt;\n                        &lt;version&gt;3.4.4&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>common</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;red-pioneer&lt;/artifactId&gt;\n        &lt;groupId&gt;cn.edu.imau&lt;/groupId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;common&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!--beans--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;cn.edu.imau&lt;/groupId&gt;\n            &lt;artifactId&gt;beans&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--easyexcel--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n            &lt;artifactId&gt;easyexcel&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--jwt--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n            &lt;version&gt;3.10.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--shiro--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n            &lt;artifactId&gt;shiro-spring&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.3.13&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>service</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;red-pioneer&lt;/artifactId&gt;\n        &lt;groupId&gt;cn.edu.imau&lt;/groupId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;service&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!--mapper--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;cn.edu.imau&lt;/groupId&gt;\n            &lt;artifactId&gt;mapper&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--common--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;cn.edu.imau&lt;/groupId&gt;\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--mail--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>api</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;cn.edu.imau&lt;/groupId&gt;\n        &lt;artifactId&gt;red-pioneer&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;api&lt;/artifactId&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!--service--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;cn.edu.imau&lt;/groupId&gt;\n            &lt;artifactId&gt;service&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--web--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;2.4.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!--junit--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;optional&gt;true&lt;/optional&gt;--&gt;\n&lt;!--            &lt;version&gt;2.4.4&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n&lt;!--        &amp;lt;!&amp;ndash;Test&amp;ndash;&amp;gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;scope&gt;test&lt;/scope&gt;--&gt;\n&lt;!--            &lt;version&gt;2.4.4&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;io.springfox&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2.9.2&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n        &lt;!--swagger2--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--swagger-ui--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.xiaoymin&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-bootstrap-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.9.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Below is my ApiApplication.java</p>\n<pre><code>@EnableScheduling\n@SpringBootApplication(exclude = DataSourceAutoConfiguration.class)\n@MapperScan(&quot;cn.edu.imau.redpioneer.dao&quot;)\n@ComponentScan(basePackages = &quot;cn.edu.imau.*&quot;)\npublic class ApiApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ApiApplication.class, args);\n\n    }\n\n}\n</code></pre>\n<p>Can anyone let me know why i am getting this error while running my Tomcat.</p>\n"},{"tags":["java","nio"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1646493132,"post_id":71361937,"comment_id":126139349,"body_markdown":"you really need to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"you really need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":2,"creation_date":1646498436,"post_id":71361937,"comment_id":126140513,"body_markdown":"`DatagramChannel.send(ByteBuffer,SocketAddress)` sends [&#39;the remaining bytes in the given buffer&#39;](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/channels/DatagramChannel.html#send(java.nio.ByteBuffer,java.net.SocketAddress)) which is not the data you `put` but a bunch of zeros. Either `flip` first, or instead of alloc+put+flip just use `ByteBuffer.wrap(data)`.","body":"<code>DatagramChannel.send(ByteBuffer,SocketAddress)</code> sends <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/channels/DatagramChannel.html#send(java.nio.ByteBuffer,java.net.SocketAddress)\" rel=\"nofollow noreferrer\">&#39;the remaining bytes in the given buffer&#39;</a> which is not the data you <code>put</code> but a bunch of zeros. Either <code>flip</code> first, or instead of alloc+put+flip just use <code>ByteBuffer.wrap(data)</code>."},{"owner":{"account_id":11642566,"reputation":79,"user_id":8526501,"display_name":"Joezzz"},"score":0,"creation_date":1646513660,"post_id":71361937,"comment_id":126143579,"body_markdown":"@dave_thompson_085 flip the buffer fixed the probelm! thanks you for your help","body":"@dave_thompson_085 flip the buffer fixed the probelm! thanks you for your help"}],"owner":{"account_id":11642566,"reputation":79,"user_id":8526501,"display_name":"Joezzz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646481185,"creation_date":1646481185,"question_id":71361937,"body_markdown":"I&#39;m developing a real time application in Java with communication between one server and one client with UDP socket.\r\n\r\nIt worked fine when i send and receive string but when i tried to receive a custom class Message. i got this error :java.io.StreamCorruptedException: invalid stream header: 00000000 \r\nat line `message = (Message) objectInputStream.readObject();` in the &quot;receiveMessage&quot; function\r\n\r\nI don&#39;t know why i have this error.\r\n\r\nMy Message class:\r\n\r\n    public class Message implements Serializable {\r\n\r\n\t\t\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t\t\tprivate TypeMessage typeMessage;\r\n\t\r\n\t\t\tprivate int seedMap;\r\n\r\n\t\t\tpublic Message(TypeMessage typeMessage) {\r\n\t\t\t\tthis.typeMessage = typeMessage;\r\n\t\t\t}\r\n\r\n\t\t\tpublic TypeMessage getTypeMessage() {\r\n\t\t\t\treturn typeMessage;\r\n\t\t\t}\r\n\r\n\t\t\tpublic void setTypeMessage(TypeMessage typeMessage) {\r\n\t\t\t\tthis.typeMessage = typeMessage;\r\n\t\t\t}\r\n\r\n\t\t\tpublic int getSeedMap() {\r\n\t\t\t\treturn seedMap;\r\n\t\t\t}\r\n\r\n\t\t\tpublic void setSeedMap(int seedMap) {\r\n\t\t\t\tthis.seedMap = seedMap;\r\n\t\t\t}\r\n\r\nMy send function used by the client and the server:\r\n\r\n    public final static void sendMessage(Message message, DatagramChannel socketSender, InetSocketAddress addressRecever) {\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\t\tObjectOutputStream oos;\r\n\t\t\toos = new ObjectOutputStream(baos);\r\n\t\t\toos.writeObject(message);\r\n\t\t\toos.flush();\r\n\t\t\r\n\t\t\tbyte[] data = baos.toByteArray();\r\n\t\t\t\r\n\t\t\tByteBuffer bufferSocket = ByteBuffer.allocate(SIZE_BUFFER);\r\n\t\t\tbufferSocket.put(data);\r\n\t\t\tsocketSender.send(bufferSocket, addressRecever);\r\n\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(e);\r\n\t\t}\r\n\t}\r\n\r\nMy receive function used by the server and the client:\r\n\r\n    public final static Message receiveMessage(DatagramChannel socketRecever, SocketAddress socketSender) {\r\n\t\tMessage message = null;\r\n\t\ttry {\r\n\t\t\tByteBuffer bufferSocket = ByteBuffer.allocate(SIZE_BUFFER);\r\n\t\t\tbufferSocket.clear();\r\n\t\t\t\r\n\t\t\tsocketSender = socketRecever.receive(bufferSocket);\r\n\t\t\t\r\n\t\t\tif(socketSender != null) {\r\n\t\t\t\tbufferSocket.flip();\r\n\t\t\t\tbyte[] bytes = new byte[bufferSocket.limit()];\r\n\t\t\t\tbufferSocket.get(bytes);\r\n\t\t\t\tByteArrayInputStream bytesStream = new ByteArrayInputStream(bytes);\r\n\t\t\t\tObjectInputStream objectInputStream = new ObjectInputStream(bytesStream);\r\n\t\t\t\tmessage = (Message) objectInputStream.readObject();\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(e);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\treturn message;\r\n\t}\r\n\r\n\r\nThanks in advance for help\r\n","title":"Why my DatagramChannel socket can&#39;t read my custom object?","body":"<p>I'm developing a real time application in Java with communication between one server and one client with UDP socket.</p>\n<p>It worked fine when i send and receive string but when i tried to receive a custom class Message. i got this error :java.io.StreamCorruptedException: invalid stream header: 00000000\nat line <code>message = (Message) objectInputStream.readObject();</code> in the &quot;receiveMessage&quot; function</p>\n<p>I don't know why i have this error.</p>\n<p>My Message class:</p>\n<pre><code>public class Message implements Serializable {\n\n        private static final long serialVersionUID = 1L;\n\n        private TypeMessage typeMessage;\n\n        private int seedMap;\n\n        public Message(TypeMessage typeMessage) {\n            this.typeMessage = typeMessage;\n        }\n\n        public TypeMessage getTypeMessage() {\n            return typeMessage;\n        }\n\n        public void setTypeMessage(TypeMessage typeMessage) {\n            this.typeMessage = typeMessage;\n        }\n\n        public int getSeedMap() {\n            return seedMap;\n        }\n\n        public void setSeedMap(int seedMap) {\n            this.seedMap = seedMap;\n        }\n</code></pre>\n<p>My send function used by the client and the server:</p>\n<pre><code>public final static void sendMessage(Message message, DatagramChannel socketSender, InetSocketAddress addressRecever) {\n    try {\n        \n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        ObjectOutputStream oos;\n        oos = new ObjectOutputStream(baos);\n        oos.writeObject(message);\n        oos.flush();\n    \n        byte[] data = baos.toByteArray();\n        \n        ByteBuffer bufferSocket = ByteBuffer.allocate(SIZE_BUFFER);\n        bufferSocket.put(data);\n        socketSender.send(bufferSocket, addressRecever);\n    \n    } catch (Exception e) {\n        System.out.println(e);\n    }\n}\n</code></pre>\n<p>My receive function used by the server and the client:</p>\n<pre><code>public final static Message receiveMessage(DatagramChannel socketRecever, SocketAddress socketSender) {\n    Message message = null;\n    try {\n        ByteBuffer bufferSocket = ByteBuffer.allocate(SIZE_BUFFER);\n        bufferSocket.clear();\n        \n        socketSender = socketRecever.receive(bufferSocket);\n        \n        if(socketSender != null) {\n            bufferSocket.flip();\n            byte[] bytes = new byte[bufferSocket.limit()];\n            bufferSocket.get(bytes);\n            ByteArrayInputStream bytesStream = new ByteArrayInputStream(bytes);\n            ObjectInputStream objectInputStream = new ObjectInputStream(bytesStream);\n            message = (Message) objectInputStream.readObject();\n        }\n    } catch (Exception e) {\n        System.out.println(e);\n        e.printStackTrace();\n    }\n    \n    return message;\n}\n</code></pre>\n<p>Thanks in advance for help</p>\n"},{"tags":["java","database","dictionary","constants","hardcoded"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646480380,"creation_date":1646480380,"answer_id":71361852,"question_id":71361787,"body_markdown":"Java does have &quot;dictionaries&quot;, except it&#39;s called `java.util.Map` (with implementations like `HashMap` or `TreeMap`). There is also `java.util.Properties`, which is probably what I would use here in combination with a resource.\r\n\r\n    try (InputStream inputStream = myClass.getResourceAsStream(&quot;my.properties&quot;)) {\r\n        Properties properties = new Properties();\r\n        properties.load(inputStream);\r\n        // now you can use properties.getProperty(&quot;key&quot;)\r\n    }\r\n\r\nThe properties file itself (`my.properties`) is then located in the same location as the class file. Its content is a list of key-value pairs:\r\n\r\n    key1 = value1\r\n    key2 = value2\r\n    # for comments","title":"Where is the best place to define a big list of hard coded key-value pairs in Java?","body":"<p>Java does have &quot;dictionaries&quot;, except it's called <code>java.util.Map</code> (with implementations like <code>HashMap</code> or <code>TreeMap</code>). There is also <code>java.util.Properties</code>, which is probably what I would use here in combination with a resource.</p>\n<pre><code>try (InputStream inputStream = myClass.getResourceAsStream(&quot;my.properties&quot;)) {\n    Properties properties = new Properties();\n    properties.load(inputStream);\n    // now you can use properties.getProperty(&quot;key&quot;)\n}\n</code></pre>\n<p>The properties file itself (<code>my.properties</code>) is then located in the same location as the class file. Its content is a list of key-value pairs:</p>\n<pre><code>key1 = value1\nkey2 = value2\n# for comments\n</code></pre>\n"}],"owner":{"account_id":14690581,"reputation":131,"user_id":10609356,"display_name":"Jaime Fern&#225;ndez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1646480380,"creation_date":1646479802,"question_id":71361787,"body_markdown":"For context, I&#39;m doing some kind of game in Java where there are hundreds of items. And other than their unique name (which serves as id aswell) they also have a numeric price.\r\n\r\nWhere do I store all those hard-coded price values for each item? Do I make a constants class for all of them? And if so how would I search for the specific price of the item &quot;shovel&quot;? Since there are no dictionaries in Java like there are in Python for example. Or do I need to use a database even though they will probably never change?","title":"Where is the best place to define a big list of hard coded key-value pairs in Java?","body":"<p>For context, I'm doing some kind of game in Java where there are hundreds of items. And other than their unique name (which serves as id aswell) they also have a numeric price.</p>\n<p>Where do I store all those hard-coded price values for each item? Do I make a constants class for all of them? And if so how would I search for the specific price of the item &quot;shovel&quot;? Since there are no dictionaries in Java like there are in Python for example. Or do I need to use a database even though they will probably never change?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1646480643,"post_id":71361803,"comment_id":126137067,"body_markdown":"Does this help: [Smallest difference between two angles?](https://stackoverflow.com/questions/6722272/smallest-difference-between-two-angles) Although the code is C#, I believe you can adapt it to your needs.","body":"Does this help: <a href=\"https://stackoverflow.com/questions/6722272/smallest-difference-between-two-angles\">Smallest difference between two angles?</a> Although the code is C#, I believe you can adapt it to your needs."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1646480761,"post_id":71361803,"comment_id":126137085,"body_markdown":"Does this help: [How can I find the difference between two angles?](https://stackoverflow.com/questions/1878907/how-can-i-find-the-difference-between-two-angles)","body":"Does this help: <a href=\"https://stackoverflow.com/questions/1878907/how-can-i-find-the-difference-between-two-angles\">How can I find the difference between two angles?</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1646480854,"post_id":71361803,"comment_id":126137098,"body_markdown":"Here&#39;s one with Java code: [How do I calculate the difference of two angle measures?](https://stackoverflow.com/questions/7570808/how-do-i-calculate-the-difference-of-two-angle-measures)","body":"Here&#39;s one with Java code: <a href=\"https://stackoverflow.com/questions/7570808/how-do-i-calculate-the-difference-of-two-angle-measures\">How do I calculate the difference of two angle measures?</a>"},{"owner":{"account_id":20230349,"reputation":105,"user_id":14837054,"display_name":"jaylawl"},"score":1,"creation_date":1646480961,"post_id":71361803,"comment_id":126137110,"body_markdown":"Thank you guys! I am sure to find my answer in those. I assure you that i tried to web-search an answer before opening my own question - it seems like my phrasing was just way off, otherwise i should have found these. Thanks again --- i marked this question as duplicate","body":"Thank you guys! I am sure to find my answer in those. I assure you that i tried to web-search an answer before opening my own question - it seems like my phrasing was just way off, otherwise i should have found these. Thanks again --- i marked this question as duplicate"}],"owner":{"account_id":20230349,"reputation":105,"user_id":14837054,"display_name":"jaylawl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646481094,"answer_count":0,"score":0,"last_activity_date":1646480353,"creation_date":1646479923,"question_id":71361803,"body_markdown":"I am trying to find the shortest &quot;path&quot; between two rotations, measured in degrees.\r\n\r\nExample problem:\r\nI am given two rotations: `10` and `340`. The shortest path between these rotations would be `-30`, because going below 0 degrees underflows to 359 degrees. However, I seem to be unable to get the value programmatically! Everything i&#39;ve tried before (lots of random code snippets), always returned the longer path, which would be `330` with this example.\r\n\r\nShort problem version:\r\n- Rotation A: `10`\r\n- Rotation B: `340`\r\n- Shortest path: `-30`\r\n- Longest path: `330`\r\n- I am unable to find the logic to compute the shortest path, which is my goal.\r\n\r\nXY Problem addendum:\r\nI am working on game project. For this matter, i have an entity that moves through 3D-space. That movement is determined by a 3D-vector. The entity also has yaw and pitch. In the previously described example problem, `Rotation A` is the yaw that the entity currently has. `Rotation B` is the yaw of the current movement vector. The entity is supposed to slowly adjust its yaw to match the current vector.\r\n\r\nI am coding this project using Java.\r\n\r\nThank you!","title":"Finding the shortest path between two rotations (in degrees)","body":"<p>I am trying to find the shortest &quot;path&quot; between two rotations, measured in degrees.</p>\n<p>Example problem:\nI am given two rotations: <code>10</code> and <code>340</code>. The shortest path between these rotations would be <code>-30</code>, because going below 0 degrees underflows to 359 degrees. However, I seem to be unable to get the value programmatically! Everything i've tried before (lots of random code snippets), always returned the longer path, which would be <code>330</code> with this example.</p>\n<p>Short problem version:</p>\n<ul>\n<li>Rotation A: <code>10</code></li>\n<li>Rotation B: <code>340</code></li>\n<li>Shortest path: <code>-30</code></li>\n<li>Longest path: <code>330</code></li>\n<li>I am unable to find the logic to compute the shortest path, which is my goal.</li>\n</ul>\n<p>XY Problem addendum:\nI am working on game project. For this matter, i have an entity that moves through 3D-space. That movement is determined by a 3D-vector. The entity also has yaw and pitch. In the previously described example problem, <code>Rotation A</code> is the yaw that the entity currently has. <code>Rotation B</code> is the yaw of the current movement vector. The entity is supposed to slowly adjust its yaw to match the current vector.</p>\n<p>I am coding this project using Java.</p>\n<p>Thank you!</p>\n"},{"tags":["java","android","bitmap","android-camera","android-bitmap"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1646459392,"post_id":71359491,"comment_id":126133687,"body_markdown":"do you mean how to take screenshot or bitmap of `RelativeLayout` right?","body":"do you mean how to take screenshot or bitmap of <code>RelativeLayout</code> right?"},{"owner":{"account_id":11330720,"reputation":25,"user_id":8308336,"display_name":"Lawrence"},"score":0,"creation_date":1646467732,"post_id":71359491,"comment_id":126134833,"body_markdown":"@VishalBeep yes, but even when i tried to save the bitmap alone (the on taken from camera, not the relativelayout as bitmap) it still return as null.","body":"@VishalBeep yes, but even when i tried to save the bitmap alone (the on taken from camera, not the relativelayout as bitmap) it still return as null."}],"answers":[{"tags":[],"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646471336,"creation_date":1646471336,"answer_id":71360888,"question_id":71359491,"body_markdown":"You can give this answer a try :)\r\n\r\nIf you want to take the screenshot of any `view` or your `RelativeLayout` you can create this method `takeScreenShot()` : it will return a `Bitmap` \r\nin `@Param` or parameter in this method, you can pass `RelativeLayout`\r\n\r\n        public static Bitmap takeScreenShot(@NonNull View view) {\r\n        view.setDrawingCacheEnabled(true);\r\n        view.setDrawingCacheQuality(View.DRAWING_CACHE_QUALITY_AUTO);\r\n        view.buildDrawingCache();\r\n\r\n        if (view.getDrawingCache() == null) return null;\r\n        Bitmap snapshot;\r\n        try {\r\n            snapshot = Bitmap.createBitmap(view.getDrawingCache());\r\n            view.setDrawingCacheEnabled(false);\r\n            view.destroyDrawingCache();\r\n        } catch (Exception e) {\r\n            snapshot = null;\r\n        }\r\n        return snapshot;\r\n    }\r\n\r\ntell me if this helps you :)\r\n\r\n","title":"Error when saving relative layout as bitmap using layout.getDrawingCache() returning null","body":"<p>You can give this answer a try :)</p>\n<p>If you want to take the screenshot of any <code>view</code> or your <code>RelativeLayout</code> you can create this method <code>takeScreenShot()</code> : it will return a <code>Bitmap</code>\nin <code>@Param</code> or parameter in this method, you can pass <code>RelativeLayout</code></p>\n<pre><code>    public static Bitmap takeScreenShot(@NonNull View view) {\n    view.setDrawingCacheEnabled(true);\n    view.setDrawingCacheQuality(View.DRAWING_CACHE_QUALITY_AUTO);\n    view.buildDrawingCache();\n\n    if (view.getDrawingCache() == null) return null;\n    Bitmap snapshot;\n    try {\n        snapshot = Bitmap.createBitmap(view.getDrawingCache());\n        view.setDrawingCacheEnabled(false);\n        view.destroyDrawingCache();\n    } catch (Exception e) {\n        snapshot = null;\n    }\n    return snapshot;\n}\n</code></pre>\n<p>tell me if this helps you :)</p>\n"}],"owner":{"account_id":11330720,"reputation":25,"user_id":8308336,"display_name":"Lawrence"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646479938,"creation_date":1646454467,"question_id":71359491,"body_markdown":"How to handle full-sized photo using *MediaStore.EXTRA_OUTPUT*? First, I need to put the picture AS FULL-SIZED NOT THUMBNAIL on a layout and put text below it like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nrpn8.png\r\n\r\nThe idea I am using is that I am using *layout.getDrawingCache* to make it as bitmap.\r\n\r\nBelow is my camera button:\r\n\r\n    private void SelectImage(){\r\n\r\n        final CharSequence[] items={&quot;Camera&quot;, &quot;Cancel&quot;};\r\n\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(PickupDrop.this);\r\n        builder.setTitle(&quot;Add Image&quot;);\r\n\r\n        builder.setItems(items, new DialogInterface.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(DialogInterface dialogInterface, int i) {\r\n                if (items[i].equals(&quot;Camera&quot;)) {\r\n\r\n                    Intent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n\r\n                    if(cameraIntent.resolveActivity(getPackageManager())!= null){\r\n\r\n                        File imageFile = null;\r\n                        try {\r\n                            imageFile = getImageFile();\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n\r\n                        if(imageFile!= null){\r\n                             imageUri =FileProvider.getUriForFile(context, &quot;com.example.android.fileprovider&quot;, imageFile);\r\n\r\n\r\n                            cameraIntent.putExtra(MediaStore.EXTRA_OUTPUT,imageUri);\r\n                            cameraIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                            startActivityForResult(cameraIntent,REQUEST_CAMERA);\r\n\r\n                           \r\n                        }\r\n\r\n                    }\r\n\r\n                } else if (items[i].equals(&quot;Cancel&quot;)) {\r\n                    dialogInterface.dismiss();\r\n                }\r\n            }\r\n        });\r\n        builder.show();\r\n\r\n    }\r\n\r\nThe *getImageFile()* method:\r\n\r\n    private File getImageFile(){\r\n        String imageName = &quot;test&quot;;\r\n        File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\r\n\r\n        File imageFile = null;\r\n        try {\r\n            imageFile = File.createTempFile(imageName,&quot;.jpg&quot;,storageDir);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        currentImagePath = imageFile.getAbsolutePath();\r\n        return imageFile;\r\n    }\r\n\r\nAs you can see above, I am using EXTRA_OUTPUT with fileprovider to get FULL-SIZED bitmap.\r\nBelow is my manifests, provider.\r\n\r\nManifest:\r\n\r\n    &lt;application ...\r\n    &lt;provider\r\n            android:authorities=&quot;com.example.android.fileprovider&quot;\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/file_path&quot;/&gt;\r\n        &lt;/provider&gt;\r\n\r\nfile_path.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;external-path\r\n        name=&quot;my images&quot;\r\n        path=&quot;Android/data/com.example.luckypasabayapp/files/Pictures&quot;/&gt;\r\n\r\n&lt;/paths&gt;\r\n\r\nMy onActivityResult method:\r\n\r\n     @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data){\r\n        super.onActivityResult(requestCode, resultCode,data);\r\n\r\n        if(resultCode== Activity.RESULT_OK){\r\n\r\n            if(requestCode==REQUEST_CAMERA){\r\n\r\n                Bitmap bitmap = BitmapFactory.decodeFile(currentImagePath);\r\n\r\n\r\n                populateScreenshot(bitmap);\r\n\r\n            \r\n\r\n            }\r\n        }\r\n    }\r\n\r\nNow here is where my problem occurs when I try to save the relative layout *screenshot* to my storage:\r\n\r\n    public void populateScreenshot(Bitmap bitmapFromPhone){\r\n\r\n        LayoutInflater inflater = LayoutInflater.from(PickupDrop.this);\r\n        View v = inflater.inflate(R.layout.information_dialog, null);\r\n        ImageView imageView_profilePic = v.findViewById(R.id.imageview_image);\r\n        TextView txt_item_data = v.findViewById(R.id.txt_item_data);\r\n        Button btn_cancel = v.findViewById(R.id.btn_cancel);\r\n        Button btn_download = v.findViewById(R.id.btn_download);\r\n        screenShot = v.findViewById(R.id.screenShot);\r\n        screenShot.setDrawingCacheEnabled(true);\r\n        screenShot.buildDrawingCache();\r\n\r\n        final AlertDialog alertDialog = new AlertDialog.Builder(PickupDrop.this)\r\n                .setView(v)\r\n                .create();\r\n\r\n        alertDialog.setOnKeyListener(new DialogInterface.OnKeyListener() {\r\n            @Override\r\n            public boolean onKey(DialogInterface dialog, int keyCode, KeyEvent event) {\r\n                // Prevent dialog close on back press button\r\n                return keyCode == KeyEvent.KEYCODE_BACK;\r\n            }\r\n        });\r\n        //alertDialog.setCanceledOnTouchOutside(false);\r\n        \r\n        \r\n        \r\n        \r\n        //SETTING THE IMAGEVIEW OF LAYOUT TAKEN FROM CAMERA\r\n        imageView_profilePic.setImageBitmap(bitmapFromPhone);\r\n        \r\n\r\n        btn_download.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                //GETTING THE RELATIVELAYOUT AS BITMAP\r\n                Bitmap bitmap = screenShot.getDrawingCache();\r\n                \r\n  \r\n                File filePath = Environment.getExternalStorageDirectory();\r\n                File dir = new File(filePath.getAbsolutePath()+&quot;/qrcode/&quot;);\r\n\r\n                dir.mkdirs();\r\n                File file = new File(dir, &quot;str_specialNumber&quot; + &quot;.png&quot;);\r\n\r\n                try {\r\n                    outputStream = new FileOutputStream(file);\r\n                } catch (FileNotFoundException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                \r\n                \r\n                //HERE IS WHERE THE ERROR OCCURS, IT SAYS BITMAP IS NULL!!!\r\n                \r\n                bitmap.setHasAlpha(true);\r\n                bitmap.compress(Bitmap.CompressFormat.PNG, 100,outputStream);\r\n\r\n                Toast.makeText(PickupDrop.this,&quot;SCREENSHOT Downloaded&quot;,Toast.LENGTH_LONG).show();\r\n\r\n                try {\r\n                    outputStream.flush();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                try {\r\n                    outputStream.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                //notify gallery for a new picture\r\n                galleryAddPic(filePath.getAbsolutePath()+&quot;/qrcode/&quot;+&quot;str_specialNumber&quot;+&quot;.png&quot;);\r\n\r\n\r\n            }\r\n        });\r\n\r\n        alertDialog.show();\r\n\r\n\r\n\r\n    }\r\n\r\n\r\nHere in *bitmap.setHasAlpha(true);* it says bitmap is null from *screenshot.getDrawingCache* I don&#39;t understand why.\r\n\r\nHow do I handle the EXTRA_OUTPUT properly to be able to do whatever I want with the bitmap?\r\n\r\n\r\n","title":"Error when saving relative layout as bitmap using layout.getDrawingCache() returning null","body":"<p>How to handle full-sized photo using <em>MediaStore.EXTRA_OUTPUT</em>? First, I need to put the picture AS FULL-SIZED NOT THUMBNAIL on a layout and put text below it like this:</p>\n<p><a href=\"https://i.stack.imgur.com/nrpn8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nrpn8.png\" alt=\"enter image description here\" /></a></p>\n<p>The idea I am using is that I am using <em>layout.getDrawingCache</em> to make it as bitmap.</p>\n<p>Below is my camera button:</p>\n<pre><code>private void SelectImage(){\n\n    final CharSequence[] items={&quot;Camera&quot;, &quot;Cancel&quot;};\n\n    AlertDialog.Builder builder = new AlertDialog.Builder(PickupDrop.this);\n    builder.setTitle(&quot;Add Image&quot;);\n\n    builder.setItems(items, new DialogInterface.OnClickListener() {\n\n        @Override\n        public void onClick(DialogInterface dialogInterface, int i) {\n            if (items[i].equals(&quot;Camera&quot;)) {\n\n                Intent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n\n                if(cameraIntent.resolveActivity(getPackageManager())!= null){\n\n                    File imageFile = null;\n                    try {\n                        imageFile = getImageFile();\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n\n                    if(imageFile!= null){\n                         imageUri =FileProvider.getUriForFile(context, &quot;com.example.android.fileprovider&quot;, imageFile);\n\n\n                        cameraIntent.putExtra(MediaStore.EXTRA_OUTPUT,imageUri);\n                        cameraIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n                        startActivityForResult(cameraIntent,REQUEST_CAMERA);\n\n                       \n                    }\n\n                }\n\n            } else if (items[i].equals(&quot;Cancel&quot;)) {\n                dialogInterface.dismiss();\n            }\n        }\n    });\n    builder.show();\n\n}\n</code></pre>\n<p>The <em>getImageFile()</em> method:</p>\n<pre><code>private File getImageFile(){\n    String imageName = &quot;test&quot;;\n    File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\n\n    File imageFile = null;\n    try {\n        imageFile = File.createTempFile(imageName,&quot;.jpg&quot;,storageDir);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    currentImagePath = imageFile.getAbsolutePath();\n    return imageFile;\n}\n</code></pre>\n<p>As you can see above, I am using EXTRA_OUTPUT with fileprovider to get FULL-SIZED bitmap.\nBelow is my manifests, provider.</p>\n<p>Manifest:</p>\n<pre><code>&lt;application ...\n&lt;provider\n        android:authorities=&quot;com.example.android.fileprovider&quot;\n        android:name=&quot;androidx.core.content.FileProvider&quot;\n        android:exported=&quot;false&quot;\n        android:grantUriPermissions=&quot;true&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n            android:resource=&quot;@xml/file_path&quot;/&gt;\n    &lt;/provider&gt;\n</code></pre>\n<p>file_path.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n</code></pre>\n\n<pre><code>&lt;external-path\n    name=&quot;my images&quot;\n    path=&quot;Android/data/com.example.luckypasabayapp/files/Pictures&quot;/&gt;\n</code></pre>\n\n<p>My onActivityResult method:</p>\n<pre><code> @Override\npublic void onActivityResult(int requestCode, int resultCode, Intent data){\n    super.onActivityResult(requestCode, resultCode,data);\n\n    if(resultCode== Activity.RESULT_OK){\n\n        if(requestCode==REQUEST_CAMERA){\n\n            Bitmap bitmap = BitmapFactory.decodeFile(currentImagePath);\n\n\n            populateScreenshot(bitmap);\n\n        \n\n        }\n    }\n}\n</code></pre>\n<p>Now here is where my problem occurs when I try to save the relative layout <em>screenshot</em> to my storage:</p>\n<pre><code>public void populateScreenshot(Bitmap bitmapFromPhone){\n\n    LayoutInflater inflater = LayoutInflater.from(PickupDrop.this);\n    View v = inflater.inflate(R.layout.information_dialog, null);\n    ImageView imageView_profilePic = v.findViewById(R.id.imageview_image);\n    TextView txt_item_data = v.findViewById(R.id.txt_item_data);\n    Button btn_cancel = v.findViewById(R.id.btn_cancel);\n    Button btn_download = v.findViewById(R.id.btn_download);\n    screenShot = v.findViewById(R.id.screenShot);\n    screenShot.setDrawingCacheEnabled(true);\n    screenShot.buildDrawingCache();\n\n    final AlertDialog alertDialog = new AlertDialog.Builder(PickupDrop.this)\n            .setView(v)\n            .create();\n\n    alertDialog.setOnKeyListener(new DialogInterface.OnKeyListener() {\n        @Override\n        public boolean onKey(DialogInterface dialog, int keyCode, KeyEvent event) {\n            // Prevent dialog close on back press button\n            return keyCode == KeyEvent.KEYCODE_BACK;\n        }\n    });\n    //alertDialog.setCanceledOnTouchOutside(false);\n    \n    \n    \n    \n    //SETTING THE IMAGEVIEW OF LAYOUT TAKEN FROM CAMERA\n    imageView_profilePic.setImageBitmap(bitmapFromPhone);\n    \n\n    btn_download.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            //GETTING THE RELATIVELAYOUT AS BITMAP\n            Bitmap bitmap = screenShot.getDrawingCache();\n            \n\n            File filePath = Environment.getExternalStorageDirectory();\n            File dir = new File(filePath.getAbsolutePath()+&quot;/qrcode/&quot;);\n\n            dir.mkdirs();\n            File file = new File(dir, &quot;str_specialNumber&quot; + &quot;.png&quot;);\n\n            try {\n                outputStream = new FileOutputStream(file);\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            }\n            \n            \n            //HERE IS WHERE THE ERROR OCCURS, IT SAYS BITMAP IS NULL!!!\n            \n            bitmap.setHasAlpha(true);\n            bitmap.compress(Bitmap.CompressFormat.PNG, 100,outputStream);\n\n            Toast.makeText(PickupDrop.this,&quot;SCREENSHOT Downloaded&quot;,Toast.LENGTH_LONG).show();\n\n            try {\n                outputStream.flush();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            try {\n                outputStream.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            //notify gallery for a new picture\n            galleryAddPic(filePath.getAbsolutePath()+&quot;/qrcode/&quot;+&quot;str_specialNumber&quot;+&quot;.png&quot;);\n\n\n        }\n    });\n\n    alertDialog.show();\n\n\n\n}\n</code></pre>\n<p>Here in <em>bitmap.setHasAlpha(true);</em> it says bitmap is null from <em>screenshot.getDrawingCache</em> I don't understand why.</p>\n<p>How do I handle the EXTRA_OUTPUT properly to be able to do whatever I want with the bitmap?</p>\n"},{"tags":["java","xml","android-studio"],"comments":[{"owner":{"account_id":15699209,"reputation":1056,"user_id":11327755,"display_name":"Jakob F"},"score":0,"creation_date":1646316035,"post_id":71338336,"comment_id":126096515,"body_markdown":"Could you add the full error message?","body":"Could you add the full error message?"},{"owner":{"account_id":22346171,"reputation":7,"user_id":16565140,"display_name":"SammaDev"},"score":0,"creation_date":1646318468,"post_id":71338336,"comment_id":126097504,"body_markdown":"Hi @Jakob k. Error displaying is;\n\nimport com.example.juizeesapp.databinding.ActivityDetailBinding;\n                                         ^\n  symbol:   class ActivityDetailBinding\n  location: package com.example.juizeesapp.databinding","body":"Hi @Jakob k. Error displaying is;  import com.example.juizeesapp.databinding.ActivityDetailBinding;                                          ^   symbol:   class ActivityDetailBinding   location: package com.example.juizeesapp.databinding"}],"answers":[{"tags":[],"owner":{"account_id":19949156,"reputation":345,"user_id":14619182,"display_name":"tintin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646331073,"creation_date":1646331073,"answer_id":71341886,"question_id":71338336,"body_markdown":"you have not declared binding\r\nActivityDetailBinding binding;","title":"ActivityBinding Not Recognized","body":"<p>you have not declared binding\nActivityDetailBinding binding;</p>\n"},{"tags":[],"owner":{"account_id":22346171,"reputation":7,"user_id":16565140,"display_name":"SammaDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646479416,"creation_date":1646479416,"answer_id":71361754,"question_id":71338336,"body_markdown":"It was a typo error in the manifest file. I stated .DetailActivity at the manifest file is;\r\n\r\n    &lt;activity\r\n            android:name=&quot;.DetailActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n\r\nBut when I changed it into; \r\n\r\n    &lt;activity android:name=&quot;.DetailActivity&quot;&gt;&lt;/activity&gt;\r\n\r\nProblem solved.","title":"ActivityBinding Not Recognized","body":"<p>It was a typo error in the manifest file. I stated .DetailActivity at the manifest file is;</p>\n<pre><code>&lt;activity\n        android:name=&quot;.DetailActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n</code></pre>\n<p>But when I changed it into;</p>\n<pre><code>&lt;activity android:name=&quot;.DetailActivity&quot;&gt;&lt;/activity&gt;\n</code></pre>\n<p>Problem solved.</p>\n"}],"owner":{"account_id":22346171,"reputation":7,"user_id":16565140,"display_name":"SammaDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646479416,"creation_date":1646315555,"question_id":71338336,"body_markdown":"My **DetailActivity.java** file shows an error by not picking `ActivityDetailBinding`. **Other Activity files are working fine** and I put;\r\n\r\n    buildFeatures{\r\n        viewBinding true\r\n    }\r\n\r\nin `build.gradle` file before start working on xml files. Only **DetailActivity.java** file is showing this error. \r\n\r\nError displaying is; \r\n\r\n**import com.example.juizeesapp.databinding.ActivityDetailBinding; ^ symbol: class ActivityDetailBinding location: package com.example.juizeesapp.databinding**\r\n\r\nPlease look into this help me through this. TIA.\r\n\r\nHere is my code.\r\n\r\n**activity_detail.xml**\r\n\r\n    \r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n    &lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.DetailActivity&quot;\r\n    &gt;\r\n\r\n     &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;ImageView\r\n            android:id=&quot;@+id/detailImage&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;200dp&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n            app:srcCompat=&quot;@drawable/apple&quot; /&gt;\r\n\r\n    &lt;TextView\r\n            android:id=&quot;@+id/textView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:padding=&quot;5dp&quot;\r\n            android:text=&quot;Juice Name&quot;\r\n            android:textColor=&quot;#000000&quot;\r\n            android:textSize=&quot;24sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;25dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n    &lt;ImageView\r\n                android:id=&quot;@+id/subtract&quot;\r\n                android:layout_width=&quot;30dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:srcCompat=&quot;@drawable/minus&quot; /&gt;\r\n\r\n    &lt;TextView\r\n                android:id=&quot;@+id/quantity&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;2dp&quot;\r\n                android:layout_marginLeft=&quot;2dp&quot;\r\n                android:layout_marginEnd=&quot;2dp&quot;\r\n                android:layout_marginRight=&quot;2dp&quot;\r\n                android:text=&quot;1&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n                android:id=&quot;@+id/add&quot;\r\n                android:layout_width=&quot;30dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:srcCompat=&quot;@drawable/plus&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_marginStart=&quot;20dp&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        android:layout_marginEnd=&quot;20dp&quot;\r\n        android:layout_marginRight=&quot;20dp&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;TextView\r\n            android:id=&quot;@+id/detailDescription&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;15dp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam iaculis.&quot; /&gt;\r\n\r\n    &lt;EditText\r\n            android:id=&quot;@+id/nameBox&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:background=&quot;@drawable/edit_textbackground&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;Name&quot;\r\n            android:inputType=&quot;textPersonName&quot;\r\n            android:minHeight=&quot;48dp&quot;\r\n            android:padding=&quot;10dp&quot; /&gt;\r\n\r\n    &lt;EditText\r\n            android:id=&quot;@+id/phoneBox&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:background=&quot;@drawable/edit_textbackground&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;Phone Number&quot;\r\n            android:inputType=&quot;phone&quot;\r\n            android:minHeight=&quot;48dp&quot;\r\n            android:padding=&quot;10dp&quot; /&gt;\r\n\r\n    &lt;TextView\r\n            android:id=&quot;@+id/textView4&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;6dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Price&quot;\r\n            android:textColor=&quot;#000000&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n    &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Rs. &quot;\r\n                android:textColor=&quot;@color/red&quot;\r\n                android:textSize=&quot;18dp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n    &lt;TextView\r\n                android:id=&quot;@+id/priceLbl&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;45&quot;\r\n                android:textColor=&quot;@color/red&quot;\r\n                android:textSize=&quot;18dp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;Button\r\n            android:id=&quot;@+id/insertBtn&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:background=&quot;@drawable/btn_background&quot;\r\n            android:text=&quot;Place Your Order&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n**DetailActivity.java**\r\n\r\n    package com.example.juizeesapp;\r\n\r\n    import android.os.Bundle;\r\n    import android.os.PersistableBundle;\r\n    import androidx.annotation.Nullable;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import com.example.juizeesapp.databinding.ActivityDetailBinding;\r\n\r\n     public class DetailActivity extends AppCompatActivity {\r\n   \r\n    ActivityDetailBinding binding;\r\n\r\n    @Override\r\n          public void onCreate(@Nullable Bundle savedInstanceState) {\r\n             super.onCreate(savedInstanceState);\r\n             binding = ActivityDetailBinding.inflate(getLayoutInflater());\r\n             setContentView(binding.getRoot());\r\n    \r\n             int image = getIntent().getIntExtra(&quot;image&quot; , 0);\r\n             int price = Integer.parseInt(getIntent().getStringExtra(&quot;price&quot;));\r\n             String name = getIntent().getStringExtra(&quot;name&quot;);\r\n             String description = getIntent().getStringExtra(&quot;desc&quot;);\r\n    \r\n             binding.detailImage.setImageResource(image);\r\n             binding.priceLbl.setText(String.format(&quot;%d&quot;, price));\r\n             binding.nameBox.setText(name);\r\n             binding.detailDescription.setText(description);\r\n        }\r\n    }","title":"ActivityBinding Not Recognized","body":"<p>My <strong>DetailActivity.java</strong> file shows an error by not picking <code>ActivityDetailBinding</code>. <strong>Other Activity files are working fine</strong> and I put;</p>\n<pre><code>buildFeatures{\n    viewBinding true\n}\n</code></pre>\n<p>in <code>build.gradle</code> file before start working on xml files. Only <strong>DetailActivity.java</strong> file is showing this error.</p>\n<p>Error displaying is;</p>\n<p><strong>import com.example.juizeesapp.databinding.ActivityDetailBinding; ^ symbol: class ActivityDetailBinding location: package com.example.juizeesapp.databinding</strong></p>\n<p>Please look into this help me through this. TIA.</p>\n<p>Here is my code.</p>\n<p><strong>activity_detail.xml</strong></p>\n\n<pre><code>&lt;LinearLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:orientation=&quot;vertical&quot;\ntools:context=&quot;.DetailActivity&quot;\n&gt;\n\n &lt;androidx.cardview.widget.CardView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n&lt;ImageView\n        android:id=&quot;@+id/detailImage&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;200dp&quot;\n        android:scaleType=&quot;centerCrop&quot;\n        app:srcCompat=&quot;@drawable/apple&quot; /&gt;\n\n&lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:padding=&quot;5dp&quot;\n        android:text=&quot;Juice Name&quot;\n        android:textColor=&quot;#000000&quot;\n        android:textSize=&quot;24sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n&lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;25dp&quot;\n        android:gravity=&quot;center&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n&lt;ImageView\n            android:id=&quot;@+id/subtract&quot;\n            android:layout_width=&quot;30dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:srcCompat=&quot;@drawable/minus&quot; /&gt;\n\n&lt;TextView\n            android:id=&quot;@+id/quantity&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;2dp&quot;\n            android:layout_marginLeft=&quot;2dp&quot;\n            android:layout_marginEnd=&quot;2dp&quot;\n            android:layout_marginRight=&quot;2dp&quot;\n            android:text=&quot;1&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n&lt;ImageView\n            android:id=&quot;@+id/add&quot;\n            android:layout_width=&quot;30dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:srcCompat=&quot;@drawable/plus&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n&lt;/androidx.cardview.widget.CardView&gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_marginStart=&quot;20dp&quot;\n    android:layout_marginLeft=&quot;20dp&quot;\n    android:layout_marginEnd=&quot;20dp&quot;\n    android:layout_marginRight=&quot;20dp&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n&lt;TextView\n        android:id=&quot;@+id/detailDescription&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;15dp&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam iaculis.&quot; /&gt;\n\n&lt;EditText\n        android:id=&quot;@+id/nameBox&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:background=&quot;@drawable/edit_textbackground&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Name&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:minHeight=&quot;48dp&quot;\n        android:padding=&quot;10dp&quot; /&gt;\n\n&lt;EditText\n        android:id=&quot;@+id/phoneBox&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:background=&quot;@drawable/edit_textbackground&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Phone Number&quot;\n        android:inputType=&quot;phone&quot;\n        android:minHeight=&quot;48dp&quot;\n        android:padding=&quot;10dp&quot; /&gt;\n\n&lt;TextView\n        android:id=&quot;@+id/textView4&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;6dp&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;Price&quot;\n        android:textColor=&quot;#000000&quot; /&gt;\n\n&lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n&lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Rs. &quot;\n            android:textColor=&quot;@color/red&quot;\n            android:textSize=&quot;18dp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n&lt;TextView\n            android:id=&quot;@+id/priceLbl&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;45&quot;\n            android:textColor=&quot;@color/red&quot;\n            android:textSize=&quot;18dp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n\n&lt;Button\n        android:id=&quot;@+id/insertBtn&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:background=&quot;@drawable/btn_background&quot;\n        android:text=&quot;Place Your Order&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>DetailActivity.java</strong></p>\n<pre><code>package com.example.juizeesapp;\n\nimport android.os.Bundle;\nimport android.os.PersistableBundle;\nimport androidx.annotation.Nullable;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport com.example.juizeesapp.databinding.ActivityDetailBinding;\n\n public class DetailActivity extends AppCompatActivity {\n\nActivityDetailBinding binding;\n\n@Override\n      public void onCreate(@Nullable Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n         binding = ActivityDetailBinding.inflate(getLayoutInflater());\n         setContentView(binding.getRoot());\n\n         int image = getIntent().getIntExtra(&quot;image&quot; , 0);\n         int price = Integer.parseInt(getIntent().getStringExtra(&quot;price&quot;));\n         String name = getIntent().getStringExtra(&quot;name&quot;);\n         String description = getIntent().getStringExtra(&quot;desc&quot;);\n\n         binding.detailImage.setImageResource(image);\n         binding.priceLbl.setText(String.format(&quot;%d&quot;, price));\n         binding.nameBox.setText(name);\n         binding.detailDescription.setText(description);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","file-storage"],"comments":[{"owner":{"account_id":10410191,"reputation":81,"user_id":8419894,"display_name":"kimwii"},"score":0,"creation_date":1565691881,"post_id":57475704,"comment_id":101423335,"body_markdown":"You need to use MediaStore to work with external storage from Android Q. This talk will give you some ideas of how to use it: https://www.youtube.com/watch?v=3EtBw5s9iRY","body":"You need to use MediaStore to work with external storage from Android Q. This talk will give you some ideas of how to use it: <a href=\"https://www.youtube.com/watch?v=3EtBw5s9iRY\" rel=\"nofollow noreferrer\">youtube.com/watch?v=3EtBw5s9iRY</a>"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1565694900,"post_id":57475704,"comment_id":101424995,"body_markdown":"You can also use `getExternalFilesDir()` on `Context`. See [this blog post](https://commonsware.com/blog/2019/06/07/death-external-storage-end-saga.html) for more on the Q restrictions.","body":"You can also use <code>getExternalFilesDir()</code> on <code>Context</code>. See <a href=\"https://commonsware.com/blog/2019/06/07/death-external-storage-end-saga.html\" rel=\"nofollow noreferrer\">this blog post</a> for more on the Q restrictions."}],"answers":[{"tags":[],"owner":{"account_id":13220615,"reputation":25,"user_id":9547506,"display_name":"Mahmudxon"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1579176855,"creation_date":1579176855,"answer_id":59769491,"question_id":57475704,"body_markdown":"    Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)\r\n    \r\n    \r\nreplace to this:\r\n\r\n       requireContext().getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS)!!.absolutePath","title":"How to save file to public (external) storage on Android Q (API 29)?","body":"<pre><code>Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)\n</code></pre>\n\n<p>replace to this:</p>\n\n<pre><code>   requireContext().getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS)!!.absolutePath\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6187446,"reputation":967,"user_id":4821148,"display_name":"Nauman Ash"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1580738336,"creation_date":1580738336,"answer_id":60040747,"question_id":57475704,"body_markdown":"You need to add a check for Android Q. Let&#39;s assume you want to save the Image in your public Download folder.\r\n\r\n \r\n\r\n    try{\r\n         OutputStream fos;\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n    \t   ContentResolver resolver = context.getContentResolver();\r\n           ContentValues contentValues = new ContentValues();\r\n           contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, fileName);\r\n           contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpg&quot;);\r\n           contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_DOWNLOADS);\r\n           Uri imageUri = resolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues);\r\n           fos = resolver.openOutputStream(Objects.requireNonNull(imageUri));\r\n        } else {\r\n           String imagesDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();\r\n           File image = new File(imagesDir, fileName);\r\n           fos = new FileOutputStream(image);\r\n        }\r\n         finalBitmap.compress(Bitmap.CompressFormat.JPEG, 100, fos);\r\n         Objects.requireNonNull(fos).close();\r\n    }catch (IOException e) {\r\n      // Log Message\r\n    }\r\n\r\n","title":"How to save file to public (external) storage on Android Q (API 29)?","body":"<p>You need to add a check for Android Q. Let's assume you want to save the Image in your public Download folder.</p>\n\n<pre><code>try{\n     OutputStream fos;\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n       ContentResolver resolver = context.getContentResolver();\n       ContentValues contentValues = new ContentValues();\n       contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, fileName);\n       contentValues.put(MediaStore.MediaColumns.MIME_TYPE, \"image/jpg\");\n       contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_DOWNLOADS);\n       Uri imageUri = resolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues);\n       fos = resolver.openOutputStream(Objects.requireNonNull(imageUri));\n    } else {\n       String imagesDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();\n       File image = new File(imagesDir, fileName);\n       fos = new FileOutputStream(image);\n    }\n     finalBitmap.compress(Bitmap.CompressFormat.JPEG, 100, fos);\n     Objects.requireNonNull(fos).close();\n}catch (IOException e) {\n  // Log Message\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9280135,"reputation":953,"user_id":6891547,"display_name":"Vinod Makode"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1584710981,"creation_date":1584710981,"answer_id":60775181,"question_id":57475704,"body_markdown":"  **Save capture Bitmap in android Q and below verison** \r\n \r\n\r\n    private class AsyncTaskExample extends AsyncTask&lt;String, String, Bitmap&gt; {\r\n            Bitmap icon = null;\r\n            ByteArrayOutputStream bytes;\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            mBitmap = BaseApplication.getInstance().getBitmap();\r\n            ((BaseActivity)mContext).showFullScreenProgressLoader(((BaseActivity)mContext), ((BaseActivity)mContext).getString(R.string.please_wait), ((BaseActivity)mContext).getString(R.string.we_are_processing_your_request));\r\n        }\r\n\r\n        @Override\r\n        protected Bitmap doInBackground(String... strings) {\r\n            try {\r\n\r\n          \r\n\r\n          String imageFileName = &quot;picture_&quot; + System.currentTimeMillis() + &quot;.jpg&quot;;\r\n                    File directory = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES) + &quot;/&quot; + Constants.INTERNAL_FOLDER_NAME + &quot;/&quot;);\r\n                    directory.mkdirs();\r\n                    mFile = new File(directory, imageFileName);\r\n                    if (!mFile.isFile()) {\r\n                        try {\r\n                            mFile.createNewFile();\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                    if (Build.VERSION.SDK_INT == Build.VERSION_CODES.Q) {\r\n                        final ContentResolver resolver = ((CameraFaceDetectionActivity) mContext).getContentResolver();\r\n                        insertImage(resolver, mBitmap, mFile.getAbsolutePath(), &quot;&quot;);\r\n                    } else {\r\n                        FileOutputStream out = new FileOutputStream(mFile);\r\n                        try {\r\n    //                    mBitmap = modifyOrientation(mBitmap,mFile.getAbsolutePath());\r\n                            OutputStream output = new FileOutputStream(mFile);\r\n                            mBitmap.compress(Bitmap.CompressFormat.JPEG, 100, output);\r\n                            output.flush(); // Not really required\r\n                            output.close();\r\n                        }\r\n                    catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n\r\n\r\n\r\n            } catch(Exception e){\r\n                e.printStackTrace();\r\n            }\r\n            return mBitmap;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(Bitmap bitmap) {\r\n            super.onPostExecute(bitmap);\r\n\r\n            final Handler handler = new Handler();\r\n            handler.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        OutputStream output = new FileOutputStream(mFile);\r\n                        Bitmap b = modifyOrientation(mBitmap, mFile.getAbsolutePath());\r\n                        b.compress(Bitmap.CompressFormat.JPEG, 100, output);\r\n\r\n\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    startActivity(new Intent(mContext, SelfiePreviewForgetPsdActivity.class)\r\n                            .putExtra(Constants.KEY_MOBILE, mMobileNumber)\r\n                            .putExtra(Constants.KEY_COUNTRY_CODE, mCountryCode)\r\n                            .putExtra(KEY_ID_NUMBER, idNumber)\r\n                            .putExtra(Constants.KEY_USER_DETAIL, mVerifyUserDetailResponse)\r\n                            .putExtra(KEY_ID_TYPE, idType)\r\n                            .putExtra(Constants.IMAGE_PATH, mFile.getAbsolutePath()));\r\n                }\r\n            }, 500);\r\n        }\r\n    }\r\n\r\nbelow are the method for save bitmap on android Q for specify folder\r\n\r\n    public static String insertImage(ContentResolver cr,\r\n                                     Bitmap source,\r\n                                     String title,\r\n                                     String description) {\r\n\r\n        ContentValues values = new ContentValues();\r\n        values.put(MediaStore.Images.Media.TITLE, title);\r\n        values.put(MediaStore.Images.Media.DISPLAY_NAME, title);\r\n        values.put(MediaStore.Images.Media.DESCRIPTION, description);\r\n        values.put(MediaStore.Images.Media.MIME_TYPE, &quot;image/jpg&quot;);\r\n        // Add the date meta data to ensure the image is added at the front of the gallery\r\n        values.put(MediaStore.Images.Media.DATE_ADDED, System.currentTimeMillis());\r\n        values.put(MediaStore.Images.Media.DATE_TAKEN, System.currentTimeMillis());\r\n\r\n        Uri url = null;\r\n        String stringUrl = null;    /* value to be returned */\r\n\r\n        try {\r\n            url = cr.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values);\r\n\r\n            if (source != null) {\r\n                OutputStream imageOut = cr.openOutputStream(url);\r\n                try {\r\n                    source.compress(Bitmap.CompressFormat.JPEG, 100, imageOut);\r\n                } finally {\r\n                    imageOut.close();\r\n                }\r\n\r\n                long id = ContentUris.parseId(url);\r\n                // Wait until MINI_KIND thumbnail is generated.\r\n                Bitmap miniThumb = MediaStore.Images.Thumbnails.getThumbnail(cr, id, MediaStore.Images.Thumbnails.MINI_KIND, null);\r\n                // This is for backward compatibility.\r\n                storeThumbnail(cr, miniThumb, id, source.getWidth(), source.getHeight(), MediaStore.Images.Thumbnails.MICRO_KIND);\r\n            } else {\r\n                cr.delete(url, null, null);\r\n                url = null;\r\n            }\r\n        } catch (Exception e) {\r\n            if (url != null) {\r\n                cr.delete(url, null, null);\r\n                url = null;\r\n            }\r\n        }\r\n\r\n        if (url != null) {\r\n            stringUrl = url.toString();\r\n        }\r\n\r\n        return stringUrl;\r\n    }\r\n\r\n\r\nSave bitmap method\r\n\r\n     private static final Bitmap storeThumbnail(\r\n            ContentResolver cr,\r\n            Bitmap source,\r\n            long id,\r\n            float width,\r\n            float height,\r\n            int kind) {\r\n\r\n        // create the matrix to scale it\r\n        Matrix matrix = new Matrix();\r\n\r\n        float scaleX = width / source.getWidth();\r\n        float scaleY = height / source.getHeight();\r\n\r\n        matrix.setScale(scaleX, scaleY);\r\n\r\n        Bitmap thumb = Bitmap.createBitmap(source, 0, 0,\r\n                source.getWidth(),\r\n                source.getHeight(), matrix,\r\n                true\r\n        );\r\n\r\n        ContentValues values = new ContentValues(4);\r\n        values.put(MediaStore.Images.Thumbnails.KIND, kind);\r\n        values.put(MediaStore.Images.Thumbnails.IMAGE_ID, (int) id);\r\n        values.put(MediaStore.Images.Thumbnails.HEIGHT, thumb.getHeight());\r\n        values.put(MediaStore.Images.Thumbnails.WIDTH, thumb.getWidth());\r\n\r\n        Uri url = cr.insert(MediaStore.Images.Thumbnails.EXTERNAL_CONTENT_URI, values);\r\n\r\n        try {\r\n            OutputStream thumbOut = cr.openOutputStream(url);\r\n            thumb.compress(Bitmap.CompressFormat.JPEG, 100, thumbOut);\r\n            thumbOut.close();\r\n            return thumb;\r\n        } catch (Exception ex) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n","title":"How to save file to public (external) storage on Android Q (API 29)?","body":"<p><strong>Save capture Bitmap in android Q and below verison</strong> </p>\n\n<pre><code>private class AsyncTaskExample extends AsyncTask&lt;String, String, Bitmap&gt; {\n        Bitmap icon = null;\n        ByteArrayOutputStream bytes;\n\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n        mBitmap = BaseApplication.getInstance().getBitmap();\n        ((BaseActivity)mContext).showFullScreenProgressLoader(((BaseActivity)mContext), ((BaseActivity)mContext).getString(R.string.please_wait), ((BaseActivity)mContext).getString(R.string.we_are_processing_your_request));\n    }\n\n    @Override\n    protected Bitmap doInBackground(String... strings) {\n        try {\n\n\n\n      String imageFileName = \"picture_\" + System.currentTimeMillis() + \".jpg\";\n                File directory = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES) + \"/\" + Constants.INTERNAL_FOLDER_NAME + \"/\");\n                directory.mkdirs();\n                mFile = new File(directory, imageFileName);\n                if (!mFile.isFile()) {\n                    try {\n                        mFile.createNewFile();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n                if (Build.VERSION.SDK_INT == Build.VERSION_CODES.Q) {\n                    final ContentResolver resolver = ((CameraFaceDetectionActivity) mContext).getContentResolver();\n                    insertImage(resolver, mBitmap, mFile.getAbsolutePath(), \"\");\n                } else {\n                    FileOutputStream out = new FileOutputStream(mFile);\n                    try {\n//                    mBitmap = modifyOrientation(mBitmap,mFile.getAbsolutePath());\n                        OutputStream output = new FileOutputStream(mFile);\n                        mBitmap.compress(Bitmap.CompressFormat.JPEG, 100, output);\n                        output.flush(); // Not really required\n                        output.close();\n                    }\n                catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n\n\n\n\n        } catch(Exception e){\n            e.printStackTrace();\n        }\n        return mBitmap;\n    }\n\n    @Override\n    protected void onPostExecute(Bitmap bitmap) {\n        super.onPostExecute(bitmap);\n\n        final Handler handler = new Handler();\n        handler.postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    OutputStream output = new FileOutputStream(mFile);\n                    Bitmap b = modifyOrientation(mBitmap, mFile.getAbsolutePath());\n                    b.compress(Bitmap.CompressFormat.JPEG, 100, output);\n\n\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n\n                startActivity(new Intent(mContext, SelfiePreviewForgetPsdActivity.class)\n                        .putExtra(Constants.KEY_MOBILE, mMobileNumber)\n                        .putExtra(Constants.KEY_COUNTRY_CODE, mCountryCode)\n                        .putExtra(KEY_ID_NUMBER, idNumber)\n                        .putExtra(Constants.KEY_USER_DETAIL, mVerifyUserDetailResponse)\n                        .putExtra(KEY_ID_TYPE, idType)\n                        .putExtra(Constants.IMAGE_PATH, mFile.getAbsolutePath()));\n            }\n        }, 500);\n    }\n}\n</code></pre>\n\n<p>below are the method for save bitmap on android Q for specify folder</p>\n\n<pre><code>public static String insertImage(ContentResolver cr,\n                                 Bitmap source,\n                                 String title,\n                                 String description) {\n\n    ContentValues values = new ContentValues();\n    values.put(MediaStore.Images.Media.TITLE, title);\n    values.put(MediaStore.Images.Media.DISPLAY_NAME, title);\n    values.put(MediaStore.Images.Media.DESCRIPTION, description);\n    values.put(MediaStore.Images.Media.MIME_TYPE, \"image/jpg\");\n    // Add the date meta data to ensure the image is added at the front of the gallery\n    values.put(MediaStore.Images.Media.DATE_ADDED, System.currentTimeMillis());\n    values.put(MediaStore.Images.Media.DATE_TAKEN, System.currentTimeMillis());\n\n    Uri url = null;\n    String stringUrl = null;    /* value to be returned */\n\n    try {\n        url = cr.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values);\n\n        if (source != null) {\n            OutputStream imageOut = cr.openOutputStream(url);\n            try {\n                source.compress(Bitmap.CompressFormat.JPEG, 100, imageOut);\n            } finally {\n                imageOut.close();\n            }\n\n            long id = ContentUris.parseId(url);\n            // Wait until MINI_KIND thumbnail is generated.\n            Bitmap miniThumb = MediaStore.Images.Thumbnails.getThumbnail(cr, id, MediaStore.Images.Thumbnails.MINI_KIND, null);\n            // This is for backward compatibility.\n            storeThumbnail(cr, miniThumb, id, source.getWidth(), source.getHeight(), MediaStore.Images.Thumbnails.MICRO_KIND);\n        } else {\n            cr.delete(url, null, null);\n            url = null;\n        }\n    } catch (Exception e) {\n        if (url != null) {\n            cr.delete(url, null, null);\n            url = null;\n        }\n    }\n\n    if (url != null) {\n        stringUrl = url.toString();\n    }\n\n    return stringUrl;\n}\n</code></pre>\n\n<p>Save bitmap method</p>\n\n<pre><code> private static final Bitmap storeThumbnail(\n        ContentResolver cr,\n        Bitmap source,\n        long id,\n        float width,\n        float height,\n        int kind) {\n\n    // create the matrix to scale it\n    Matrix matrix = new Matrix();\n\n    float scaleX = width / source.getWidth();\n    float scaleY = height / source.getHeight();\n\n    matrix.setScale(scaleX, scaleY);\n\n    Bitmap thumb = Bitmap.createBitmap(source, 0, 0,\n            source.getWidth(),\n            source.getHeight(), matrix,\n            true\n    );\n\n    ContentValues values = new ContentValues(4);\n    values.put(MediaStore.Images.Thumbnails.KIND, kind);\n    values.put(MediaStore.Images.Thumbnails.IMAGE_ID, (int) id);\n    values.put(MediaStore.Images.Thumbnails.HEIGHT, thumb.getHeight());\n    values.put(MediaStore.Images.Thumbnails.WIDTH, thumb.getWidth());\n\n    Uri url = cr.insert(MediaStore.Images.Thumbnails.EXTERNAL_CONTENT_URI, values);\n\n    try {\n        OutputStream thumbOut = cr.openOutputStream(url);\n        thumb.compress(Bitmap.CompressFormat.JPEG, 100, thumbOut);\n        thumbOut.close();\n        return thumb;\n    } catch (Exception ex) {\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4403519,"reputation":348,"user_id":3588523,"display_name":"dimvolk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646479063,"creation_date":1646479063,"answer_id":71361714,"question_id":57475704,"body_markdown":"    File newDir = new File (Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES) + &quot;folder_name&quot;);\r\n        if (!newDir.exists()) {\r\n            newDir.mkdirs();\r\n           }\r\n        \r\n    File file = new File(newDir, imagename);\r\n       try {\r\n          FileOutputStream out = new FileOutputStream(file);\r\n          bmpOverlay.compress(Bitmap.CompressFormat.PNG, 100, out);\r\n          out.flush();\r\n          out.close();\r\n    } catch (Exception e) {\r\n         Log.e(&quot;interior&quot;, &quot;Save image to SD&quot;);\r\n    }","title":"How to save file to public (external) storage on Android Q (API 29)?","body":"<pre><code>File newDir = new File (Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES) + &quot;folder_name&quot;);\n    if (!newDir.exists()) {\n        newDir.mkdirs();\n       }\n    \nFile file = new File(newDir, imagename);\n   try {\n      FileOutputStream out = new FileOutputStream(file);\n      bmpOverlay.compress(Bitmap.CompressFormat.PNG, 100, out);\n      out.flush();\n      out.close();\n} catch (Exception e) {\n     Log.e(&quot;interior&quot;, &quot;Save image to SD&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":3719099,"reputation":190,"user_id":3094536,"display_name":"t.jancic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12747,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":4,"score":18,"last_activity_date":1646479063,"creation_date":1565691541,"question_id":57475704,"body_markdown":"I have been using external storage in order to save a different type of files. That files needs to be visible to user. And now from Android Q, the method `getExternalStoragePublicDirectory()` has been deprecated [getExternalStoragePublicDirectory(docs)][1].\r\n\r\nI used following code:\r\n\r\n    File externalFilesDir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), &quot;DirectoryName&quot;);\r\n\r\nIs there another way to save files which will be visible to user?\r\n\r\n  [1]: https://developer.android.com/reference/android/os/Environment#getExternalStoragePublicDirectory(java.lang.String)","title":"How to save file to public (external) storage on Android Q (API 29)?","body":"<p>I have been using external storage in order to save a different type of files. That files needs to be visible to user. And now from Android Q, the method <code>getExternalStoragePublicDirectory()</code> has been deprecated <a href=\"https://developer.android.com/reference/android/os/Environment#getExternalStoragePublicDirectory(java.lang.String)\" rel=\"noreferrer\">getExternalStoragePublicDirectory(docs)</a>.</p>\n<p>I used following code:</p>\n<pre><code>File externalFilesDir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), &quot;DirectoryName&quot;);\n</code></pre>\n<p>Is there another way to save files which will be visible to user?</p>\n"},{"tags":["java","deserialization","utf"],"answers":[{"tags":[],"owner":{"account_id":24314867,"reputation":11,"user_id":18256231,"display_name":"hadsag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646477906,"creation_date":1646431930,"answer_id":71357733,"question_id":71350723,"body_markdown":"The issue was I called setUpThread() twice, messing with the input stream. So if you get this kind of problem, make sure you don&#39;t initialize your threads (that are reading input stream from the sockets) more than once.","title":"Cannot deserialize a class only when sent by the server-to-client, works vice versa","body":"<p>The issue was I called setUpThread() twice, messing with the input stream. So if you get this kind of problem, make sure you don't initialize your threads (that are reading input stream from the sockets) more than once.</p>\n"}],"owner":{"account_id":24314867,"reputation":11,"user_id":18256231,"display_name":"hadsag"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646478794,"creation_date":1646393037,"question_id":71350723,"body_markdown":"The streams used to work, but suddenly just stopped two days ago,  and I can&#39;t get it fixed.\r\n\r\nThe client creates and successfully sends a User object and a Message object (serialize by the client and deserialize by the server). When the clients receives any of the two classes (serialized by the server and deserialized by the client), I get exceptions, mainly:\r\n\r\n    java.io.UTFDataFormatException\r\n    \tat java.base/java.io.ObjectInputStream$BlockDataInputStream.readUTFSpan(ObjectInputStream.java:3704)\r\n    \tat java.base/java.io.ObjectInputStream$BlockDataInputStream.readUTFBody(ObjectInputStream.java:3658)\r\n    \tat java.base/java.io.ObjectInputStream$BlockDataInputStream.readUTF(ObjectInputStream.java:3458)\r\n    \tat java.base/java.io.ObjectInputStream.readUTF(ObjectInputStream.java:1239)\r\n    \tat java.base/java.io.ObjectStreamClass.readNonProxy(ObjectStreamClass.java:804)\r\n    \tat java.base/java.io.ObjectInputStream.readClassDescriptor(ObjectInputStream.java:988)\r\n    \tat java.base/java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:2032)\r\n    \tat java.base/java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1907)\r\n    \tat java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2209)\r\n    \tat java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1742)\r\n    \tat java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:514)\r\n    \tat java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:472)\r\n    \tat Model.MessageClient$1.run(MessageClient.java:69)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nEvery so often, I get:\r\n\r\n    java.io.InvalidClassException: Model.Message; class invalid for deserialization\r\n    \tat java.base/java.io.ObjectStreamClass$ExceptionInfo.newInvalidClassException(ObjectStreamClass.java:174)\r\n    \tat java.base/java.io.ObjectStreamClass.checkDeserialize(ObjectStreamClass.java:921)\r\n    \tat java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2210)\r\n    \tat java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1742)\r\n    \tat java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:514)\r\n    \tat java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:472)\r\n\r\n\r\n### Client side - streams\r\n\r\n    public MessageClient(String ip, int port, String usernameStr, ImageIcon icon, Controller controller) {\r\n        this.user = new User(usernameStr, icon);\r\n        this.controller = controller;\r\n        this.port = port;\r\n        this.ip = ip;\r\n        this.messageBuffer = new Buffer&lt;&gt;();\r\n        this.contacts = new ArrayList&lt;&gt;(); //(ArrayList&lt;Model.User&gt;) readObjectFromFile(&quot;files/contacts&quot;);\r\n        setUpStreams();\r\n        setUpThreads();\r\n    }\r\n\r\n    public void setUpStreams(){\r\n        try {\r\n            s = new Socket(ip, port);\r\n            try {\r\n                ois = new ObjectInputStream(s.getInputStream());\r\n                oos = new ObjectOutputStream(s.getOutputStream());\r\n                oos.writeObject(user);\r\n                oos.flush();\r\n                users = new ArrayList&lt;&gt;();\r\n                setUpThreads();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void setUpThreads(){\r\n        t1 = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                while (!Thread.interrupted()) {\r\n                    try {\r\n                        Object o = ois.readObject();\r\n                        if (o.getClass().isAssignableFrom(Message.class)) {\r\n                            receiveMessage((Message) o);\r\n                        }\r\n                        if (o.getClass().isAssignableFrom(ArrayList.class)) {\r\n                            updateUsers((ArrayList&lt;Model.User&gt;) o);\r\n                        }\r\n                    } catch(EOFException e){\r\n                        System.out.println(&quot;stopped&quot;);\r\n                        t2.stop();\r\n                        t1.stop();\r\n                    } catch(IOException | ClassNotFoundException e){\r\n                        try {\r\n                            Thread.sleep(2000);\r\n                        } catch (InterruptedException ex) {\r\n                            ex.printStackTrace();\r\n                        }\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        t2 = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                while (!Thread.interrupted()) {\r\n                    try {\r\n                        Message currMessage = messageBuffer.get();\r\n                        oos.writeObject(currMessage);\r\n                        oos.flush();\r\n                    } catch(IOException | InterruptedException e){\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                }\r\n            }\r\n        });\r\n        t1.start();\r\n        t2.start();\r\n    }\r\n\r\n### Server-side streams\r\n\r\n    @Override\r\n    public synchronized void run() {\r\n\r\n        while (socket.isConnected() &amp;&amp; !socket.isClosed()) {\r\n                try {\r\n                    Object o = ois.readObject();\r\n                    ih.addToBuffer((Model.Message) o);\r\n                } catch (EOFException e) {\r\n                    try {\r\n                        socket.close();\r\n                        t2.stop();\r\n                        t1.stop();\r\n                    } catch (IOException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                } catch (IOException | ClassNotFoundException e) {\r\n                    try {\r\n                        Thread.sleep(1000);\r\n                    } catch (InterruptedException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                }\r\n\r\n        }\r\n        chm.put(user, null);\r\n        clients.remove(this);\r\n        sendAll(new Message(user.getUsername() + &quot; has disconnected&quot;, null));\r\n\r\n    }\r\n\r\n    private class InputHandler implements Runnable{\r\n        private Buffer&lt;Model.Message&gt; inputBuffer;\r\n\r\n        public InputHandler(){\r\n            inputBuffer = new Buffer&lt;&gt;();\r\n        }\r\n\r\n        public void addToBuffer(Message msg){\r\n            inputBuffer.put(msg);\r\n        }\r\n\r\n        @Override\r\n        public synchronized void run() {\r\n            Object o = null;\r\n            while (!Thread.interrupted()) {\r\n                Message temp = null;\r\n                Message sendable = null;\r\n                try {\r\n                    temp = inputBuffer.get();\r\n                    sendable = new Message(temp.getText(), temp.getIcon(), temp.getRecipients(), temp.getSender());\r\n                    sendable.setCurrID();\r\n                    sendable.setUploaded(new Timestamp(System.currentTimeMillis()));\r\n                    sendSelect(sendable ,sendable.getSender());\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n    public void sendSelect(Message msg, User selectedUser){\r\n            Client currClient;\r\n            if(!chm.containsKey(selectedUser)) {\r\n                try {\r\n                    oos.writeObject(new Message(selectedUser.getUsername() + &quot;not found&quot;, null));\r\n                    oos.flush();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            } else if ((currClient = chm.get(selectedUser)) != null) {\r\n                try {\r\n                    currClient.oos.writeObject((Model.Message) msg);\r\n                    currClient.oos.flush();\r\n                    msg.setDownloaded(new Timestamp(System.currentTimeMillis()));\r\n                    callback.downloadTimestamp(msg);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n            } else {\r\n                addUnsent(selectedUser, msg);\r\n            }\r\n    }\r\n\r\nThe classes I serialized copy and pasted.\r\n\r\nThe classpath is the same, all fields are serializable and the have no-arg constructors. I also made sure both encoding on are set to UTF-8\r\n\r\n### Message\r\n\r\n    package Model;\r\n    \r\n    import javax.swing.*;\r\n    import java.io.*;\r\n    import java.sql.Timestamp;\r\n    import java.util.LinkedList;\r\n    \r\n    public class Message implements Serializable{\r\n        @Serial\r\n        private static final long serialVersionUID = -3930131856060689940L;\r\n    \r\n        private static int nextID = 0;\r\n        private int currID;\r\n    \r\n        private final String text;\r\n        private final ImageIcon icon;\r\n    \r\n        private Timestamp uploaded;\r\n        private Timestamp downloaded;\r\n    \r\n        private final User sender;\r\n        private final LinkedList&lt;User&gt; recipients;\r\n    \r\n        public Message(){\r\n            currID = nextID;\r\n            nextID++;\r\n            this.text = null;\r\n            this.icon = null;\r\n            sender = null;\r\n            recipients = null;\r\n        }\r\n        public Message(String text, User sender){\r\n            currID = nextID;\r\n            nextID++;\r\n            this.text = text;\r\n            this.icon = null;\r\n            this.sender = sender;\r\n            this.recipients = null;\r\n    \r\n        }\r\n        public Message(String text, ImageIcon icon, User sender) {\r\n            currID = nextID;\r\n            nextID++;\r\n            this.text = text;\r\n            this.icon = icon;\r\n            this.sender = sender;\r\n            this.recipients = null;\r\n    \r\n        }\r\n        public Message(String text, ImageIcon icon, LinkedList&lt;User&gt; recipients, User sender) {\r\n            currID = nextID;\r\n            nextID++;\r\n            this.text = text;\r\n            this.icon = icon;\r\n            this.sender = sender;\r\n            this.recipients = recipients;\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if(obj instanceof Message){\r\n                if( ((Message) obj).getCurrID() == this.currID ){\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        public String getText() {\r\n            return text;\r\n        }\r\n        public ImageIcon getIcon() {\r\n            return icon;\r\n        }\r\n        public Timestamp getUploaded() {\r\n            return uploaded;\r\n        }\r\n        public Timestamp getDownloaded() {\r\n            return downloaded;\r\n        }\r\n        public Model.User getSender(){return sender;}\r\n        public int getCurrID(){return currID;}\r\n        public void setCurrID(){currID = nextID; nextID++;}\r\n        public LinkedList&lt;User&gt; getRecipients(){\r\n            return recipients;\r\n        }\r\n        public void setUploaded(Timestamp uploaded) {\r\n            this.uploaded = uploaded;\r\n        }\r\n        public void setDownloaded(Timestamp downloaded) {\r\n            this.downloaded = downloaded;\r\n        }\r\n    }\r\n\r\n### User\r\n\r\n    package Model;\r\n    \r\n    import javax.swing.*;\r\n    import java.io.Serial;\r\n    import java.io.Serializable;\r\n    \r\n    public class User implements Serializable{\r\n        @Serial\r\n        private static final long serialVersionUID = -5886308724572898536L;\r\n    \r\n        private String username;\r\n        private ImageIcon image;\r\n    \r\n        public User(String username, ImageIcon image){\r\n            this.username = username;\r\n            this.image = image;\r\n        }\r\n    \r\n        public int hashCode() {\r\n            return username.hashCode();\r\n        }\r\n    \r\n        public boolean equals(Object obj) {\r\n            if(obj!=null &amp;&amp; obj instanceof User)\r\n                return username.equals(((User)obj).getUsername());\r\n            return false;\r\n        }\r\n    \r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n    \r\n        @Override\r\n        public String toString(){\r\n            return username;\r\n        }\r\n    }\r\n\r\n","title":"Cannot deserialize a class only when sent by the server-to-client, works vice versa","body":"<p>The streams used to work, but suddenly just stopped two days ago,  and I can't get it fixed.</p>\n<p>The client creates and successfully sends a User object and a Message object (serialize by the client and deserialize by the server). When the clients receives any of the two classes (serialized by the server and deserialized by the client), I get exceptions, mainly:</p>\n<pre><code>java.io.UTFDataFormatException\n    at java.base/java.io.ObjectInputStream$BlockDataInputStream.readUTFSpan(ObjectInputStream.java:3704)\n    at java.base/java.io.ObjectInputStream$BlockDataInputStream.readUTFBody(ObjectInputStream.java:3658)\n    at java.base/java.io.ObjectInputStream$BlockDataInputStream.readUTF(ObjectInputStream.java:3458)\n    at java.base/java.io.ObjectInputStream.readUTF(ObjectInputStream.java:1239)\n    at java.base/java.io.ObjectStreamClass.readNonProxy(ObjectStreamClass.java:804)\n    at java.base/java.io.ObjectInputStream.readClassDescriptor(ObjectInputStream.java:988)\n    at java.base/java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:2032)\n    at java.base/java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1907)\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2209)\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1742)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:514)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:472)\n    at Model.MessageClient$1.run(MessageClient.java:69)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Every so often, I get:</p>\n<pre><code>java.io.InvalidClassException: Model.Message; class invalid for deserialization\n    at java.base/java.io.ObjectStreamClass$ExceptionInfo.newInvalidClassException(ObjectStreamClass.java:174)\n    at java.base/java.io.ObjectStreamClass.checkDeserialize(ObjectStreamClass.java:921)\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2210)\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1742)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:514)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:472)\n</code></pre>\n<h3>Client side - streams</h3>\n<pre><code>public MessageClient(String ip, int port, String usernameStr, ImageIcon icon, Controller controller) {\n    this.user = new User(usernameStr, icon);\n    this.controller = controller;\n    this.port = port;\n    this.ip = ip;\n    this.messageBuffer = new Buffer&lt;&gt;();\n    this.contacts = new ArrayList&lt;&gt;(); //(ArrayList&lt;Model.User&gt;) readObjectFromFile(&quot;files/contacts&quot;);\n    setUpStreams();\n    setUpThreads();\n}\n\npublic void setUpStreams(){\n    try {\n        s = new Socket(ip, port);\n        try {\n            ois = new ObjectInputStream(s.getInputStream());\n            oos = new ObjectOutputStream(s.getOutputStream());\n            oos.writeObject(user);\n            oos.flush();\n            users = new ArrayList&lt;&gt;();\n            setUpThreads();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\npublic void setUpThreads(){\n    t1 = new Thread(new Runnable() {\n        @Override\n        public void run() {\n            while (!Thread.interrupted()) {\n                try {\n                    Object o = ois.readObject();\n                    if (o.getClass().isAssignableFrom(Message.class)) {\n                        receiveMessage((Message) o);\n                    }\n                    if (o.getClass().isAssignableFrom(ArrayList.class)) {\n                        updateUsers((ArrayList&lt;Model.User&gt;) o);\n                    }\n                } catch(EOFException e){\n                    System.out.println(&quot;stopped&quot;);\n                    t2.stop();\n                    t1.stop();\n                } catch(IOException | ClassNotFoundException e){\n                    try {\n                        Thread.sleep(2000);\n                    } catch (InterruptedException ex) {\n                        ex.printStackTrace();\n                    }\n                    e.printStackTrace();\n                }\n            }\n        }\n    });\n    t2 = new Thread(new Runnable() {\n        @Override\n        public void run() {\n            while (!Thread.interrupted()) {\n                try {\n                    Message currMessage = messageBuffer.get();\n                    oos.writeObject(currMessage);\n                    oos.flush();\n                } catch(IOException | InterruptedException e){\n                    e.printStackTrace();\n                }\n\n            }\n        }\n    });\n    t1.start();\n    t2.start();\n}\n</code></pre>\n<h3>Server-side streams</h3>\n<pre><code>@Override\npublic synchronized void run() {\n\n    while (socket.isConnected() &amp;&amp; !socket.isClosed()) {\n            try {\n                Object o = ois.readObject();\n                ih.addToBuffer((Model.Message) o);\n            } catch (EOFException e) {\n                try {\n                    socket.close();\n                    t2.stop();\n                    t1.stop();\n                } catch (IOException ex) {\n                    ex.printStackTrace();\n                }\n            } catch (IOException | ClassNotFoundException e) {\n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException ex) {\n                    ex.printStackTrace();\n                }\n            }\n\n    }\n    chm.put(user, null);\n    clients.remove(this);\n    sendAll(new Message(user.getUsername() + &quot; has disconnected&quot;, null));\n\n}\n\nprivate class InputHandler implements Runnable{\n    private Buffer&lt;Model.Message&gt; inputBuffer;\n\n    public InputHandler(){\n        inputBuffer = new Buffer&lt;&gt;();\n    }\n\n    public void addToBuffer(Message msg){\n        inputBuffer.put(msg);\n    }\n\n    @Override\n    public synchronized void run() {\n        Object o = null;\n        while (!Thread.interrupted()) {\n            Message temp = null;\n            Message sendable = null;\n            try {\n                temp = inputBuffer.get();\n                sendable = new Message(temp.getText(), temp.getIcon(), temp.getRecipients(), temp.getSender());\n                sendable.setCurrID();\n                sendable.setUploaded(new Timestamp(System.currentTimeMillis()));\n                sendSelect(sendable ,sendable.getSender());\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n\n        }\n    }\n}\npublic void sendSelect(Message msg, User selectedUser){\n        Client currClient;\n        if(!chm.containsKey(selectedUser)) {\n            try {\n                oos.writeObject(new Message(selectedUser.getUsername() + &quot;not found&quot;, null));\n                oos.flush();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        } else if ((currClient = chm.get(selectedUser)) != null) {\n            try {\n                currClient.oos.writeObject((Model.Message) msg);\n                currClient.oos.flush();\n                msg.setDownloaded(new Timestamp(System.currentTimeMillis()));\n                callback.downloadTimestamp(msg);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n        } else {\n            addUnsent(selectedUser, msg);\n        }\n}\n</code></pre>\n<p>The classes I serialized copy and pasted.</p>\n<p>The classpath is the same, all fields are serializable and the have no-arg constructors. I also made sure both encoding on are set to UTF-8</p>\n<h3>Message</h3>\n<pre><code>package Model;\n\nimport javax.swing.*;\nimport java.io.*;\nimport java.sql.Timestamp;\nimport java.util.LinkedList;\n\npublic class Message implements Serializable{\n    @Serial\n    private static final long serialVersionUID = -3930131856060689940L;\n\n    private static int nextID = 0;\n    private int currID;\n\n    private final String text;\n    private final ImageIcon icon;\n\n    private Timestamp uploaded;\n    private Timestamp downloaded;\n\n    private final User sender;\n    private final LinkedList&lt;User&gt; recipients;\n\n    public Message(){\n        currID = nextID;\n        nextID++;\n        this.text = null;\n        this.icon = null;\n        sender = null;\n        recipients = null;\n    }\n    public Message(String text, User sender){\n        currID = nextID;\n        nextID++;\n        this.text = text;\n        this.icon = null;\n        this.sender = sender;\n        this.recipients = null;\n\n    }\n    public Message(String text, ImageIcon icon, User sender) {\n        currID = nextID;\n        nextID++;\n        this.text = text;\n        this.icon = icon;\n        this.sender = sender;\n        this.recipients = null;\n\n    }\n    public Message(String text, ImageIcon icon, LinkedList&lt;User&gt; recipients, User sender) {\n        currID = nextID;\n        nextID++;\n        this.text = text;\n        this.icon = icon;\n        this.sender = sender;\n        this.recipients = recipients;\n\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if(obj instanceof Message){\n            if( ((Message) obj).getCurrID() == this.currID ){\n                return true;\n            }\n        }\n        return false;\n    }\n    public String getText() {\n        return text;\n    }\n    public ImageIcon getIcon() {\n        return icon;\n    }\n    public Timestamp getUploaded() {\n        return uploaded;\n    }\n    public Timestamp getDownloaded() {\n        return downloaded;\n    }\n    public Model.User getSender(){return sender;}\n    public int getCurrID(){return currID;}\n    public void setCurrID(){currID = nextID; nextID++;}\n    public LinkedList&lt;User&gt; getRecipients(){\n        return recipients;\n    }\n    public void setUploaded(Timestamp uploaded) {\n        this.uploaded = uploaded;\n    }\n    public void setDownloaded(Timestamp downloaded) {\n        this.downloaded = downloaded;\n    }\n}\n</code></pre>\n<h3>User</h3>\n<pre><code>package Model;\n\nimport javax.swing.*;\nimport java.io.Serial;\nimport java.io.Serializable;\n\npublic class User implements Serializable{\n    @Serial\n    private static final long serialVersionUID = -5886308724572898536L;\n\n    private String username;\n    private ImageIcon image;\n\n    public User(String username, ImageIcon image){\n        this.username = username;\n        this.image = image;\n    }\n\n    public int hashCode() {\n        return username.hashCode();\n    }\n\n    public boolean equals(Object obj) {\n        if(obj!=null &amp;&amp; obj instanceof User)\n            return username.equals(((User)obj).getUsername());\n        return false;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    @Override\n    public String toString(){\n        return username;\n    }\n}\n</code></pre>\n"},{"tags":["java","user-interface","fonts","compatibility"],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646478124,"creation_date":1646476520,"answer_id":71361418,"question_id":71361159,"body_markdown":"Save the font file wherever you like...place it with the rest of your game files or place it in a resource folder. It doesn&#39;t need to go somewhere special if it&#39;s just for your game. You can load the font when you need it by using the following method:\r\n\r\n    /**\r\n     * Loads a Font file and returns it as a Font Object. This method does try to \r\n     * utilize the proper Font Type Resource (TrueType or Type1) but will default \r\n     * to TrueType if the resource type can not be established.\r\n     * \r\n     * @param fontFilePath (String) Full path and file name of the font to load.&lt;br&gt;\r\n     * \r\n     * @param fontStyle (Integer) The Font Style to use for the loaded font, for \r\n     * example:&lt;pre&gt;\r\n     * \r\n     *      Font.PLAIN\r\n     *      Font.BOLD\r\n     *      Font.ITALIC\r\n     *      Font.BOLDITALIC&lt;/pre&gt;\r\n     * \r\n     * @param fontSize (Integer) The desired size of font.&lt;br&gt;\r\n     * \r\n     * @return (Font) A Font Object\r\n     */\r\n    public Font loadFont(String fontFilePath, int fontStyle, int fontSize) {\r\n        Font font = null;\r\n        int fontTypeResource = Font.TRUETYPE_FONT;\r\n        if ((fontFilePath == null || fontFilePath.isEmpty()) || fontSize &lt; 1) {\r\n            throw new IllegalArgumentException(&quot;loadFont() Method Error! Arguments &quot;\r\n                    + &quot;passed to this method must contain a file path OR a numerical &quot;\r\n                    + &quot;value other than 0!&quot; + System.lineSeparator());\r\n        }\r\n        String fileExt = (fontFilePath.contains(&quot;.&quot;) ? fontFilePath.substring(fontFilePath.lastIndexOf(&quot;.&quot;) + 1) : &quot;&quot;);\r\n        if (fontFilePath.isEmpty()) {\r\n            throw new IllegalArgumentException(&quot;loadFont() Method Error! An illegal &quot;\r\n                    + &quot;font file has been passed to this method (no file name &quot;\r\n                    + &quot;extension)!&quot; + System.lineSeparator());\r\n        }\r\n        \r\n        switch (fileExt.toLowerCase()) {\r\n            case &quot;fot&quot;:\r\n            case &quot;t2&quot;:\r\n            case &quot;otf&quot;:\r\n            case &quot;ttf&quot;:\r\n                fontTypeResource = Font.TRUETYPE_FONT;\r\n                break;\r\n            // PostScript/Adobe\r\n            case &quot;lwfn&quot;:\r\n            case &quot;pfa&quot;:\r\n            case &quot;pfb&quot;:\r\n            case &quot;pdm&quot;:\r\n                fontTypeResource = Font.TYPE1_FONT;\r\n                break;\r\n            default:\r\n                fontTypeResource = Font.TRUETYPE_FONT;\r\n        }\r\n        \r\n        try {\r\n            font = Font.createFont(fontTypeResource, new FileInputStream(\r\n                   new File(fontFilePath))).deriveFont(fontStyle, fontSize);\r\n        }\r\n        catch (FileNotFoundException ex) {\r\n            Logger.getLogger(&quot;loadFont()&quot;).log(Level.SEVERE, null, ex);\r\n        }\r\n        catch (FontFormatException | IOException ex) {\r\n            Logger.getLogger(&quot;loadFont()&quot;).log(Level.SEVERE, null, ex);\r\n        }\r\n        return font;\r\n    }\r\n\r\nAnd how you might use it:\r\n\r\n    JLabel jLabel_1 = new JLabel(&quot;This is my Label Caption&quot;);\r\n\r\n    /* Assumes the .ttf file in within the application&#39;s project \r\n       directory. Use a getResource() mechanism when loading from\r\n       a resource directory.                           */\r\n    Font gameFont = loadFont(&quot;Retro Gaming.ttf&quot;, Font.BOLD, 18);\r\n\r\n    jLabel_1.setFont(gameFont);","title":"How can I use a downloaded font in a java Project on different PCs?","body":"<p>Save the font file wherever you like...place it with the rest of your game files or place it in a resource folder. It doesn't need to go somewhere special if it's just for your game. You can load the font when you need it by using the following method:</p>\n<pre><code>/**\n * Loads a Font file and returns it as a Font Object. This method does try to \n * utilize the proper Font Type Resource (TrueType or Type1) but will default \n * to TrueType if the resource type can not be established.\n * \n * @param fontFilePath (String) Full path and file name of the font to load.&lt;br&gt;\n * \n * @param fontStyle (Integer) The Font Style to use for the loaded font, for \n * example:&lt;pre&gt;\n * \n *      Font.PLAIN\n *      Font.BOLD\n *      Font.ITALIC\n *      Font.BOLDITALIC&lt;/pre&gt;\n * \n * @param fontSize (Integer) The desired size of font.&lt;br&gt;\n * \n * @return (Font) A Font Object\n */\npublic Font loadFont(String fontFilePath, int fontStyle, int fontSize) {\n    Font font = null;\n    int fontTypeResource = Font.TRUETYPE_FONT;\n    if ((fontFilePath == null || fontFilePath.isEmpty()) || fontSize &lt; 1) {\n        throw new IllegalArgumentException(&quot;loadFont() Method Error! Arguments &quot;\n                + &quot;passed to this method must contain a file path OR a numerical &quot;\n                + &quot;value other than 0!&quot; + System.lineSeparator());\n    }\n    String fileExt = (fontFilePath.contains(&quot;.&quot;) ? fontFilePath.substring(fontFilePath.lastIndexOf(&quot;.&quot;) + 1) : &quot;&quot;);\n    if (fontFilePath.isEmpty()) {\n        throw new IllegalArgumentException(&quot;loadFont() Method Error! An illegal &quot;\n                + &quot;font file has been passed to this method (no file name &quot;\n                + &quot;extension)!&quot; + System.lineSeparator());\n    }\n    \n    switch (fileExt.toLowerCase()) {\n        case &quot;fot&quot;:\n        case &quot;t2&quot;:\n        case &quot;otf&quot;:\n        case &quot;ttf&quot;:\n            fontTypeResource = Font.TRUETYPE_FONT;\n            break;\n        // PostScript/Adobe\n        case &quot;lwfn&quot;:\n        case &quot;pfa&quot;:\n        case &quot;pfb&quot;:\n        case &quot;pdm&quot;:\n            fontTypeResource = Font.TYPE1_FONT;\n            break;\n        default:\n            fontTypeResource = Font.TRUETYPE_FONT;\n    }\n    \n    try {\n        font = Font.createFont(fontTypeResource, new FileInputStream(\n               new File(fontFilePath))).deriveFont(fontStyle, fontSize);\n    }\n    catch (FileNotFoundException ex) {\n        Logger.getLogger(&quot;loadFont()&quot;).log(Level.SEVERE, null, ex);\n    }\n    catch (FontFormatException | IOException ex) {\n        Logger.getLogger(&quot;loadFont()&quot;).log(Level.SEVERE, null, ex);\n    }\n    return font;\n}\n</code></pre>\n<p>And how you might use it:</p>\n<pre><code>JLabel jLabel_1 = new JLabel(&quot;This is my Label Caption&quot;);\n\n/* Assumes the .ttf file in within the application's project \n   directory. Use a getResource() mechanism when loading from\n   a resource directory.                           */\nFont gameFont = loadFont(&quot;Retro Gaming.ttf&quot;, Font.BOLD, 18);\n\njLabel_1.setFont(gameFont);\n</code></pre>\n"}],"owner":{"account_id":19932760,"reputation":49,"user_id":14606099,"display_name":"ilMichigan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71361418,"answer_count":1,"score":0,"last_activity_date":1646478124,"creation_date":1646473971,"question_id":71361159,"body_markdown":"I downloaded the Font &quot;Retro Gaming&quot; (https://www.dafont.com/retro-gaming.font) to use it on my Java project. This project needs to run on every machine I run it. \r\nMy question is: How or where can I put the font so that all computers (even without having it installed) can use it?\r\nI thought gradle could be a nice solution but I found nothing about it on the internet.\r\n\r\nThe example of code is:\r\n\r\n```java\r\npublic PlayerOneLabel() {\r\n\t\tthis.setText(&quot;PLAYER 1&quot;);\r\n\t\tthis.setForeground(Color.white);\r\n\t\tthis.setFont(new Font(&quot;Retro Gaming&quot;, Font.BOLD, CenterOnDefaultScreen.center().height*2/100));\r\n\t\t}\r\n```\r\n\r\nThis obviously run only on the PCs with the font already installed.","title":"How can I use a downloaded font in a java Project on different PCs?","body":"<p>I downloaded the Font &quot;Retro Gaming&quot; (<a href=\"https://www.dafont.com/retro-gaming.font\" rel=\"nofollow noreferrer\">https://www.dafont.com/retro-gaming.font</a>) to use it on my Java project. This project needs to run on every machine I run it.\nMy question is: How or where can I put the font so that all computers (even without having it installed) can use it?\nI thought gradle could be a nice solution but I found nothing about it on the internet.</p>\n<p>The example of code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public PlayerOneLabel() {\n        this.setText(&quot;PLAYER 1&quot;);\n        this.setForeground(Color.white);\n        this.setFont(new Font(&quot;Retro Gaming&quot;, Font.BOLD, CenterOnDefaultScreen.center().height*2/100));\n        }\n</code></pre>\n<p>This obviously run only on the PCs with the font already installed.</p>\n"},{"tags":["java","json","spring","spring-boot","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646477742,"creation_date":1646477742,"answer_id":71361565,"question_id":71360687,"body_markdown":"You should read the JavaDoc for [ObjectMapper](https://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/ObjectMapper.html).\r\n\r\nWhat you are seeing is expected behavior, as explained in the JavaDoc: configuration can only be done before first read/write usage. After first usage, changing the configuration may have no effect or may result in errors. The JavaDoc also explains how you can work around the limitation.","title":"How to dynamic ObjectMapper implementation for spring","body":"<p>You should read the JavaDoc for <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\">ObjectMapper</a>.</p>\n<p>What you are seeing is expected behavior, as explained in the JavaDoc: configuration can only be done before first read/write usage. After first usage, changing the configuration may have no effect or may result in errors. The JavaDoc also explains how you can work around the limitation.</p>\n"}],"owner":{"account_id":19817696,"reputation":49,"user_id":14514967,"display_name":"namnv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71361565,"answer_count":1,"score":0,"last_activity_date":1646477742,"creation_date":1646469308,"question_id":71360687,"body_markdown":"The client can decide whether the PropertyNamingStrategy is SNAKE_CASE or CAMEL_CASE by adding it to the api parameter.\r\n\r\nmy idea is to do aop interceptor before entering the controller to customize ObjectMapper.\r\n\r\nI have setPropertyNamingStrategy for ObjectMapper object but it only get first PropertyNamingStrategy set, values set after first time are not used.\r\n\r\n```\r\n@Aspect\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class NamingJsonAspect {\r\n  private final ObjectMapper objectMapper;\r\n\r\n  @Pointcut(&quot;execution(public * com.nnv98..*Controller.*(..))&quot;)\r\n  private void namingJson() {}\r\n\r\n  @SneakyThrows\r\n  @Before(&quot;namingJson()&quot;)\r\n  public void doAround(JoinPoint proceedingJoinPoint) {\r\n    ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();\r\n    assert attributes != null;\r\n    HttpServletRequest request = attributes.getRequest();\r\n    String namingJson = request.getParameter(&quot;namingJson&quot;);\r\n    if(namingJson.equals(&quot;SNAKE_CASE&quot;)){\r\n      objectMapper.setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);\r\n    }else {\r\n      objectMapper.setPropertyNamingStrategy(PropertyNamingStrategy.LOWER_CAMEL_CASE);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\nthank you","title":"How to dynamic ObjectMapper implementation for spring","body":"<p>The client can decide whether the PropertyNamingStrategy is SNAKE_CASE or CAMEL_CASE by adding it to the api parameter.</p>\n<p>my idea is to do aop interceptor before entering the controller to customize ObjectMapper.</p>\n<p>I have setPropertyNamingStrategy for ObjectMapper object but it only get first PropertyNamingStrategy set, values set after first time are not used.</p>\n<pre><code>@Aspect\n@Component\n@RequiredArgsConstructor\npublic class NamingJsonAspect {\n  private final ObjectMapper objectMapper;\n\n  @Pointcut(&quot;execution(public * com.nnv98..*Controller.*(..))&quot;)\n  private void namingJson() {}\n\n  @SneakyThrows\n  @Before(&quot;namingJson()&quot;)\n  public void doAround(JoinPoint proceedingJoinPoint) {\n    ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();\n    assert attributes != null;\n    HttpServletRequest request = attributes.getRequest();\n    String namingJson = request.getParameter(&quot;namingJson&quot;);\n    if(namingJson.equals(&quot;SNAKE_CASE&quot;)){\n      objectMapper.setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);\n    }else {\n      objectMapper.setPropertyNamingStrategy(PropertyNamingStrategy.LOWER_CAMEL_CASE);\n    }\n  }\n}\n</code></pre>\n<p>thank you</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":19483670,"reputation":87,"user_id":14253459,"display_name":"Simone Di Cola"},"score":0,"creation_date":1616670599,"post_id":66797736,"comment_id":118078130,"body_markdown":"got the feeling that the problem boils down to how to replace a json key-value within a json document...","body":"got the feeling that the problem boils down to how to replace a json key-value within a json document..."}],"answers":[{"tags":[],"owner":{"account_id":9563876,"reputation":351,"user_id":7103768,"display_name":"Benaya Trabelsi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646477659,"creation_date":1645044007,"answer_id":71148989,"question_id":66797736,"body_markdown":"I would suggest including document B as a part of document A, in your search - \r\n- first, you need to set ignore_unavailable to true in the query for A document, otherwise it will throw exception when it won&#39;t find doc b inside doc a.\r\n- second, you can set document b, as a nested field in document a, and set &quot;includeInParent&quot; to true, so you can access B fields directly from A document. \r\n\r\nlets call B - a document from index B, and same for A.\r\n\r\nfor the first part, an example would explain better:\r\n\r\n    NativeSearchQuery query = new NativeSearchQueryBuilder().withQuery(queryBuilder)\r\n    .withIndicesOptions(IndicesOptions.LENIENT_EXPAND_OPEN).build()\r\nplease note that I used the LENIENT_EXPAND_OPEN option, since it includes the ignore_unavailable option.\r\n\r\nfor the second part, you cant use the following field annotation:\r\n\r\n    @Field(type = FieldType.Nested, includeInParent = true...)\r\n\r\nthen, you could set the B field inside A to the B search-result content:\r\n\r\n    A.setB(searchHit.getContent());","title":"ElasticSearch: how to combine two SearchResponse obj into one?","body":"<p>I would suggest including document B as a part of document A, in your search -</p>\n<ul>\n<li>first, you need to set ignore_unavailable to true in the query for A document, otherwise it will throw exception when it won't find doc b inside doc a.</li>\n<li>second, you can set document b, as a nested field in document a, and set &quot;includeInParent&quot; to true, so you can access B fields directly from A document.</li>\n</ul>\n<p>lets call B - a document from index B, and same for A.</p>\n<p>for the first part, an example would explain better:</p>\n<pre><code>NativeSearchQuery query = new NativeSearchQueryBuilder().withQuery(queryBuilder)\n.withIndicesOptions(IndicesOptions.LENIENT_EXPAND_OPEN).build()\n</code></pre>\n<p>please note that I used the LENIENT_EXPAND_OPEN option, since it includes the ignore_unavailable option.</p>\n<p>for the second part, you cant use the following field annotation:</p>\n<pre><code>@Field(type = FieldType.Nested, includeInParent = true...)\n</code></pre>\n<p>then, you could set the B field inside A to the B search-result content:</p>\n<pre><code>A.setB(searchHit.getContent());\n</code></pre>\n"}],"owner":{"account_id":19483670,"reputation":87,"user_id":14253459,"display_name":"Simone Di Cola"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71148989,"answer_count":1,"score":1,"last_activity_date":1646477659,"creation_date":1616668723,"question_id":66797736,"body_markdown":"I have two indexes, say A and B, with the following structure:\r\n\r\nA contains among other things a field called `agent_key` like below: \r\n\r\n \r\n            [...]\r\n            &quot;_source&quot;: {\r\n                        &quot;id&quot;: &quot;1599048000PbsPVjP2bRWK&quot;,\r\n                        &quot;property_time&quot;: 1616637650000,\r\n                        &quot;property_key&quot;: &quot;YO88AN0000027654869134276550001&quot;,\r\n                        &quot;**agent_key**&quot;: &quot;50001000002765&quot;,\r\n            [...]\r\n\r\nB contains agents documents. It contains among other things the `agent_key` field like below:\r\n\r\n    \r\n\r\n         [...]\r\n              },\r\n                &quot;upload_time&quot;: 1616637650000,\r\n                &quot;agent_key&quot;: &quot;50001000002765&quot;,\r\n         [...]\r\n\r\nUsing the Java high-level rest client it is easy to search each index separately. I have the use case where I need to return a SearchResponse that contains both, or rather the response from A should be enriched with the response from B. \r\n\r\nHow can I achieve that without reinventing the wheel? I am sure this is not a new use case. \r\n\r\nHere my very poor attempt to try to find a solution: (it is pseudocode)\r\n\r\n\r\n      public SearchResponse getEnhancedProperty() throws IOException {\r\n            SearchResponse property = client.search(searchRequest, RequestOptions.DEFAULT);\r\n            SearchResponse agent = getAgent(extractAgentKey(property)); \r\n            return combineResponses(property,agent); //&lt;=== No idea how to combine responses\r\n        }\r\n\r\n","title":"ElasticSearch: how to combine two SearchResponse obj into one?","body":"<p>I have two indexes, say A and B, with the following structure:</p>\n<p>A contains among other things a field called <code>agent_key</code> like below:</p>\n<pre><code>        [...]\n        &quot;_source&quot;: {\n                    &quot;id&quot;: &quot;1599048000PbsPVjP2bRWK&quot;,\n                    &quot;property_time&quot;: 1616637650000,\n                    &quot;property_key&quot;: &quot;YO88AN0000027654869134276550001&quot;,\n                    &quot;**agent_key**&quot;: &quot;50001000002765&quot;,\n        [...]\n</code></pre>\n<p>B contains agents documents. It contains among other things the <code>agent_key</code> field like below:</p>\n<pre><code>     [...]\n          },\n            &quot;upload_time&quot;: 1616637650000,\n            &quot;agent_key&quot;: &quot;50001000002765&quot;,\n     [...]\n</code></pre>\n<p>Using the Java high-level rest client it is easy to search each index separately. I have the use case where I need to return a SearchResponse that contains both, or rather the response from A should be enriched with the response from B.</p>\n<p>How can I achieve that without reinventing the wheel? I am sure this is not a new use case.</p>\n<p>Here my very poor attempt to try to find a solution: (it is pseudocode)</p>\n<pre><code>  public SearchResponse getEnhancedProperty() throws IOException {\n        SearchResponse property = client.search(searchRequest, RequestOptions.DEFAULT);\n        SearchResponse agent = getAgent(extractAgentKey(property)); \n        return combineResponses(property,agent); //&lt;=== No idea how to combine responses\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","openapi"],"comments":[{"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"score":0,"creation_date":1646772118,"post_id":71306617,"comment_id":126205665,"body_markdown":"I see no path for your controller. How is it going to be called?","body":"I see no path for your controller. How is it going to be called?"}],"answers":[{"tags":[],"owner":{"account_id":22066749,"reputation":3758,"user_id":16328516,"display_name":"TriS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646335640,"creation_date":1646333922,"answer_id":71342414,"question_id":71306617,"body_markdown":"The OpenAPI swagger file that you have shared has `$ref: &#39;#/components/schemas/MyData`&#39; but `components` and `schema` is missing in the paths of MyData.\r\n\r\nAs per Open API [documentation][1]  it should be \r\n```\r\ncomponents:\r\n  schemas:\r\n    User:    # Schema name\r\n      type: object\r\n      properties:\r\n        id:\r\n          type: integer\r\n          format: int64\r\n          example: 1          # Property example\r\n        name:\r\n          type: string\r\n          example: New order  # Property example\r\n```  \r\nFor nested objects there is already a [StackOverflow][2] question which might help. Github [issue][3].\r\n\r\nYou can try something similar\r\n```\r\ncomponents:\r\n  schemas:\r\n    MyMetaData:\r\n      type: object\r\n      description: ttttttt\r\n      properties:\r\n        id:\r\n          description: id\r\n\t      type: string\r\n        somedata:\r\n          description: ttttttt\r\n          $ref: &#39;#/components/schemas/MyData&#39;\r\n    MyData:\r\n      type: object\r\n      description: ttttttt\r\n      properties:\r\n        id:\r\n          description: id\r\n\t      type: string  \r\n```\r\nIf you still face issue with OpenAPI swagger you can try [SpringDoc][4] . It supports `OpenAPI 3+` and generates Swagger documentation easily. You can find a lot of examples over web. \r\n\r\nSample: &amp;nbsp;[Baeldung OpenAPI][5] &amp;emsp; [Dzone SpringDoc OpenApi][6]\r\n\r\n\r\n  [1]: https://swagger.io/docs/specification/adding-examples/\r\n  [2]: https://stackoverflow.com/questions/54803837/openapi-required-property-in-nested-objects-not-working\r\n  [3]: https://github.com/swagger-api/swagger-editor/issues/1952\r\n  [4]: https://springdoc.org/\r\n  [5]: https://www.baeldung.com/spring-rest-openapi-documentation\r\n  [6]: https://dzone.com/articles/doing-more-with-springdoc-openapi","title":"OpenAPI returns null in nested type","body":"<p>The OpenAPI swagger file that you have shared has <code>$ref: '#/components/schemas/MyData</code>' but <code>components</code> and <code>schema</code> is missing in the paths of MyData.</p>\n<p>As per Open API <a href=\"https://swagger.io/docs/specification/adding-examples/\" rel=\"nofollow noreferrer\">documentation</a>  it should be</p>\n<pre><code>components:\n  schemas:\n    User:    # Schema name\n      type: object\n      properties:\n        id:\n          type: integer\n          format: int64\n          example: 1          # Property example\n        name:\n          type: string\n          example: New order  # Property example\n</code></pre>\n<p>For nested objects there is already a <a href=\"https://stackoverflow.com/questions/54803837/openapi-required-property-in-nested-objects-not-working\">StackOverflow</a> question which might help. Github <a href=\"https://github.com/swagger-api/swagger-editor/issues/1952\" rel=\"nofollow noreferrer\">issue</a>.</p>\n<p>You can try something similar</p>\n<pre><code>components:\n  schemas:\n    MyMetaData:\n      type: object\n      description: ttttttt\n      properties:\n        id:\n          description: id\n          type: string\n        somedata:\n          description: ttttttt\n          $ref: '#/components/schemas/MyData'\n    MyData:\n      type: object\n      description: ttttttt\n      properties:\n        id:\n          description: id\n          type: string  \n</code></pre>\n<p>If you still face issue with OpenAPI swagger you can try <a href=\"https://springdoc.org/\" rel=\"nofollow noreferrer\">SpringDoc</a> . It supports <code>OpenAPI 3+</code> and generates Swagger documentation easily. You can find a lot of examples over web.</p>\n<p>Sample:  <a href=\"https://www.baeldung.com/spring-rest-openapi-documentation\" rel=\"nofollow noreferrer\">Baeldung OpenAPI</a>   <a href=\"https://dzone.com/articles/doing-more-with-springdoc-openapi\" rel=\"nofollow noreferrer\">Dzone SpringDoc OpenApi</a></p>\n"}],"owner":{"account_id":1321712,"reputation":2088,"user_id":1267404,"accept_rate":77,"display_name":"Victoria Agafonova"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1674,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71342414,"answer_count":1,"score":2,"last_activity_date":1646477604,"creation_date":1646128494,"question_id":71306617,"body_markdown":"I have SpringBoot app with Mybatis and Rest API made by OpenAPI\r\nHere is my swagger file:  \r\n\r\n     /api/v1/getdata:\r\n        get:\r\n          summary: ttttttt\r\n          tags:\r\n            - &quot;API&quot;\r\n          description: ttttttt\r\n          operationId: getdata\r\n          parameters:\r\n            - name: sap\r\n              in: header\r\n              required: true\r\n              description: ttttttt\r\n              schema:\r\n                type: string\r\n            - name: created\r\n              in: header\r\n              required: true\r\n              description: ttttttt\r\n              schema:\r\n                type: string\r\n          responses:\r\n            &quot;200&quot;:\r\n              description: Success\r\n              content:\r\n                application/json:\r\n                  schema:\r\n                    $ref: &#39;#/components/schemas/MyResponse&#39;\r\n            &quot;404&quot;:\r\n              description: Not Found\r\n              content:\r\n                application/json:\r\n                  schema:\r\n                    $ref: &#39;#/components/schemas/MyResponse&#39;\r\n\r\n    components:\r\n      schemas:    \r\n        MyResponse:\r\n            description: ttttttt\r\n            type: object\r\n            properties:\r\n            code:\r\n                description: ttttttt\r\n                type: string\r\n            body:\r\n                $ref: &#39;#/components/schemas/MyMetaData&#39;\r\n        \r\n        MyMetaData:\r\n          description: ttttttt\r\n          type: object\r\n          properties:\r\n            id:\r\n              description: id\r\n              type: string\r\n            somedata:\r\n              description: ttttttt\r\n              $ref: &#39;#/components/schemas/MyData&#39;\r\n        \r\n        MyData:\r\n          description: ttttttt\r\n          type: object\r\n          properties:\r\n            id:\r\n              description: id\r\n              type: string\r\n            group:\r\n              description: ttttttt\r\n              type: string\r\n\r\nHere is my controller code:\r\n\r\n    @Override\r\n    public ResponseEntity&lt;MyResponse&gt; getdata(String sap, String created) {\r\n        MyResponse myResponse = new MyResponse();\r\n        try {\r\n            OffsetDateTime date = OffsetDateTime.parse(created, DateTimeFormatter.ISO_OFFSET_DATE_TIME);\r\n            Optional&lt;MyMetaData&gt; optionalMetaData = Optional.ofNullable(this.MyMetaDataMapper.getdata(sap, date));\r\n            if (optionalMetaData.isPresent()) {\r\n                myResponse.setBody(optionalMetaData.get());\r\n                myResponse.setCode(&quot;OK&quot;);\r\n            }\r\n            return ResponseEntity.status(HttpStatus.OK).body(myResponse);\r\n        } catch (Exception e) {\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(myResponse);\r\n        }\r\n    }\r\n\r\nHere is generated model:\r\n\r\n    @javax.annotation.Generated(value = &quot;io.swagger.codegen.v3.generators.java.SpringCodegen&quot;, date = &quot;2022-03-01T12:24:46.999519+03:00&quot;)\r\n    public class MyMetaData   {\r\n      @JsonProperty(&quot;id&quot;)\r\n      private String id = null;\r\n    \r\n      @JsonProperty(&quot;somedata&quot;)\r\n      private MyData somedata = null;\r\n    \r\n      public MyMetaData id(String id) {\r\n        this.id = id;\r\n        return this;\r\n      }\r\n\r\n\r\nWhen I use time MyData like this, as a result i get null:\r\n\r\n      somedata:\r\n          description: ttttttt\r\n          $ref: &#39;#/components/schemas/MyData&#39;\r\n\r\nWhen somedata is of type string, then I get some normal data from my database. What&#39;s the correct way to use object type here?\r\n","title":"OpenAPI returns null in nested type","body":"<p>I have SpringBoot app with Mybatis and Rest API made by OpenAPI\nHere is my swagger file:</p>\n<pre><code> /api/v1/getdata:\n    get:\n      summary: ttttttt\n      tags:\n        - &quot;API&quot;\n      description: ttttttt\n      operationId: getdata\n      parameters:\n        - name: sap\n          in: header\n          required: true\n          description: ttttttt\n          schema:\n            type: string\n        - name: created\n          in: header\n          required: true\n          description: ttttttt\n          schema:\n            type: string\n      responses:\n        &quot;200&quot;:\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/MyResponse'\n        &quot;404&quot;:\n          description: Not Found\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/MyResponse'\n\ncomponents:\n  schemas:    \n    MyResponse:\n        description: ttttttt\n        type: object\n        properties:\n        code:\n            description: ttttttt\n            type: string\n        body:\n            $ref: '#/components/schemas/MyMetaData'\n    \n    MyMetaData:\n      description: ttttttt\n      type: object\n      properties:\n        id:\n          description: id\n          type: string\n        somedata:\n          description: ttttttt\n          $ref: '#/components/schemas/MyData'\n    \n    MyData:\n      description: ttttttt\n      type: object\n      properties:\n        id:\n          description: id\n          type: string\n        group:\n          description: ttttttt\n          type: string\n</code></pre>\n<p>Here is my controller code:</p>\n<pre><code>@Override\npublic ResponseEntity&lt;MyResponse&gt; getdata(String sap, String created) {\n    MyResponse myResponse = new MyResponse();\n    try {\n        OffsetDateTime date = OffsetDateTime.parse(created, DateTimeFormatter.ISO_OFFSET_DATE_TIME);\n        Optional&lt;MyMetaData&gt; optionalMetaData = Optional.ofNullable(this.MyMetaDataMapper.getdata(sap, date));\n        if (optionalMetaData.isPresent()) {\n            myResponse.setBody(optionalMetaData.get());\n            myResponse.setCode(&quot;OK&quot;);\n        }\n        return ResponseEntity.status(HttpStatus.OK).body(myResponse);\n    } catch (Exception e) {\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(myResponse);\n    }\n}\n</code></pre>\n<p>Here is generated model:</p>\n<pre><code>@javax.annotation.Generated(value = &quot;io.swagger.codegen.v3.generators.java.SpringCodegen&quot;, date = &quot;2022-03-01T12:24:46.999519+03:00&quot;)\npublic class MyMetaData   {\n  @JsonProperty(&quot;id&quot;)\n  private String id = null;\n\n  @JsonProperty(&quot;somedata&quot;)\n  private MyData somedata = null;\n\n  public MyMetaData id(String id) {\n    this.id = id;\n    return this;\n  }\n</code></pre>\n<p>When I use time MyData like this, as a result i get null:</p>\n<pre><code>  somedata:\n      description: ttttttt\n      $ref: '#/components/schemas/MyData'\n</code></pre>\n<p>When somedata is of type string, then I get some normal data from my database. What's the correct way to use object type here?</p>\n"},{"tags":["java","static","thread-safety"],"answers":[{"tags":[],"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342592219,"creation_date":1342592219,"answer_id":11535321,"question_id":11535237,"body_markdown":"For number 1, I don&#39;t know what `test()` does, so I cannot answer. If they modify some `static` variable of the class A, then it may not be thread safe. If both threads along the way are given reference to the same object, depending on how the object is defined, it might not be thread safe.\r\n\r\nFor number 2, local variables are in the stack of each thread (or at least conceptually like that), so there is no worry about the local variables being modified by the other threads.","title":"Local variables in static method and thread safety","body":"<p>For number 1, I don't know what <code>test()</code> does, so I cannot answer. If they modify some <code>static</code> variable of the class A, then it may not be thread safe. If both threads along the way are given reference to the same object, depending on how the object is defined, it might not be thread safe.</p>\n\n<p>For number 2, local variables are in the stack of each thread (or at least conceptually like that), so there is no worry about the local variables being modified by the other threads.</p>\n"},{"tags":[],"owner":{"account_id":1513180,"reputation":7944,"user_id":1414799,"accept_rate":56,"display_name":"Pramod Kumar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1342598013,"creation_date":1342592287,"answer_id":11535332,"question_id":11535237,"body_markdown":"When I call test() in each thread, can I guarantee that test() is thread safe?\r\n\r\n    \r\n\r\n&gt; Yes it would be thread safe if in test() method you are working on\r\n&gt; method local variables.\r\n\r\nWhere are the local varibles in test() stored? each threads&#39; stack? heap space?\r\n\r\n   \r\n\r\n&gt;  Method Local variable are stored each thread&#39;s own stack.","title":"Local variables in static method and thread safety","body":"<p>When I call test() in each thread, can I guarantee that test() is thread safe?</p>\n\n<blockquote>\n  <p>Yes it would be thread safe if in test() method you are working on\n  method local variables.</p>\n</blockquote>\n\n<p>Where are the local varibles in test() stored? each threads' stack? heap space?</p>\n\n<blockquote>\n  <p>Method Local variable are stored each thread's own stack.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1468545,"reputation":6498,"user_id":1380723,"accept_rate":95,"display_name":"Erol"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1342592931,"creation_date":1342592325,"answer_id":11535343,"question_id":11535237,"body_markdown":"Local variables are stored in each thread&#39;s own stack. That means that local variables are never shared between threads. That also means that all local primitive variables are thread safe. \r\n\r\nLocal references to objects are a bit different. The reference itself is not shared. The object referenced however, is not stored in each threads&#39;s local stack. All objects are stored in the shared heap. If an object created locally never escapes the method it was created in, it is thread safe. In fact you can also pass it on to other methods and objects as long as none of these methods or objects make the passed object available to other threads. \r\n\r\nObject members are stored on the heap along with the object. Therefore, if two threads call a method on the same object instance and this method updates object members, the method is not thread safe. \r\n\r\nThread safety check: If a resource is created, used and disposed within the control of the same thread, and never escapes the control of this thread,the use of that resource is thread safe.\r\n\r\nFrom: http://tutorials.jenkov.com/java-concurrency/thread-safety.html","title":"Local variables in static method and thread safety","body":"<p>Local variables are stored in each thread's own stack. That means that local variables are never shared between threads. That also means that all local primitive variables are thread safe. </p>\n\n<p>Local references to objects are a bit different. The reference itself is not shared. The object referenced however, is not stored in each threads's local stack. All objects are stored in the shared heap. If an object created locally never escapes the method it was created in, it is thread safe. In fact you can also pass it on to other methods and objects as long as none of these methods or objects make the passed object available to other threads. </p>\n\n<p>Object members are stored on the heap along with the object. Therefore, if two threads call a method on the same object instance and this method updates object members, the method is not thread safe. </p>\n\n<p>Thread safety check: If a resource is created, used and disposed within the control of the same thread, and never escapes the control of this thread,the use of that resource is thread safe.</p>\n\n<p>From: <a href=\"http://tutorials.jenkov.com/java-concurrency/thread-safety.html\">http://tutorials.jenkov.com/java-concurrency/thread-safety.html</a></p>\n"}],"owner":{"account_id":1305095,"reputation":416,"user_id":1254217,"accept_rate":100,"display_name":"Daehee Han"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14234,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":11535343,"answer_count":3,"score":22,"last_activity_date":1646477197,"creation_date":1342591874,"question_id":11535237,"body_markdown":"I have a question about variable scope.\r\n\r\nFor example:\r\n\r\n    class A {\r\n        private static void test() {\r\n            // do something with local variables\r\n        }\r\n    }\r\n\r\n\r\nNow I make two threads, and create one instance of `A` for each thread.\r\n\r\n1. When I call `test()` in each thread, can I guarantee that `test()` is thread safe?\r\n\r\n2. Where are the local varibles in `test()` stored? Each threads&#39; stack? Heap space?\r\n\r\nP.S. I know that static is totally pointless in this case. I found it in our legacy code; I just wanna make sure what I know!","title":"Local variables in static method and thread safety","body":"<p>I have a question about variable scope.</p>\n\n<p>For example:</p>\n\n<pre><code>class A {\n    private static void test() {\n        // do something with local variables\n    }\n}\n</code></pre>\n\n<p>Now I make two threads, and create one instance of <code>A</code> for each thread.</p>\n\n<ol>\n<li><p>When I call <code>test()</code> in each thread, can I guarantee that <code>test()</code> is thread safe?</p></li>\n<li><p>Where are the local varibles in <code>test()</code> stored? Each threads' stack? Heap space?</p></li>\n</ol>\n\n<p>P.S. I know that static is totally pointless in this case. I found it in our legacy code; I just wanna make sure what I know!</p>\n"},{"tags":["java","multithreading","singleton","synchronized"],"comments":[{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":3,"creation_date":1502289924,"post_id":45593912,"comment_id":78147243,"body_markdown":"no! static is not a synonym for synchronized!","body":"no! static is not a synonym for synchronized!"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":2,"creation_date":1502290008,"post_id":45593912,"comment_id":78147308,"body_markdown":"If that static data is mutable it means that every object sees changes.  Is that what you want?  Perhaps not.","body":"If that static data is mutable it means that every object sees changes.  Is that what you want?  Perhaps not."},{"owner":{"account_id":112682,"reputation":25724,"user_id":297115,"accept_rate":56,"display_name":"JavaUser"},"score":0,"creation_date":1502290010,"post_id":45593912,"comment_id":78147311,"body_markdown":"But , the method will be having only one copy as it is class level variable . Right?","body":"But , the method will be having only one copy as it is class level variable . Right?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":7,"creation_date":1502290047,"post_id":45593912,"comment_id":78147339,"body_markdown":"Methods don&#39;t have *copies* at all. I strongly suspect you&#39;ve misremembered the book - or you should quote it verbatim. Static methods should be *made* thread-safe, typically - but that&#39;s not the same thing.","body":"Methods don&#39;t have <i>copies</i> at all. I strongly suspect you&#39;ve misremembered the book - or you should quote it verbatim. Static methods should be <i>made</i> thread-safe, typically - but that&#39;s not the same thing."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":5,"creation_date":1502290155,"post_id":45593912,"comment_id":78147426,"body_markdown":"Static methods are not thread sate just because they are static. If your class has static field, lets say `x=1;` and you have static method `static void increment(){x++}` then you can still face problem with race condition. Static just means that method is invoked on class rather than on instance. If you synchronize it it just means you synchronized it on `YourClass.class` literal rather than `this` instance.","body":"Static methods are not thread sate just because they are static. If your class has static field, lets say <code>x=1;</code> and you have static method <code>static void increment(){x++}</code> then you can still face problem with race condition. Static just means that method is invoked on class rather than on instance. If you synchronize it it just means you synchronized it on <code>YourClass.class</code> literal rather than <code>this</code> instance."},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1544181187,"post_id":45593912,"comment_id":94194221,"body_markdown":"@all what if that data is ThreadContext?","body":"@all what if that data is ThreadContext?"}],"answers":[{"tags":[],"owner":{"account_id":8202043,"reputation":365,"user_id":6173082,"display_name":"Roberto Benazzato"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1505988319,"creation_date":1502290653,"answer_id":45594190,"question_id":45593912,"body_markdown":"No, it is not.\r\n\r\nThe sentence you quote means that the static method is not object specific and, because of the local variable is saved in thread environment, it can only be accessed from the local execution of the thread itself. \r\nBut in a static method you can access to a static field or an object shared by multiple thread, in that case you are not dealing with a local variable, but with something shared among multiple object. \r\n\r\nIn other word, since the execution is thread safe, the access to a field of an object is shared to all threads that has access to the object. In that case you have a concurrency problem which have to be handled with the `synchronized` keyword. With synchronized keyword you make a statement accessible from only one thread per time.\r\n\r\n    class MyObject{\r\n     static MyType mySharedObject; //if you access this in static methos you are not safe until you sync the access\r\n    \r\n    public static void myMethod(){\r\n       int localVar; //that is safely accessed\r\n       mySharedObject.setSomething(pippo); //that is not safe in multi thread environment.\r\n       \r\n    }\r\n\r\n}","title":"java - static method is implicitly thread safe?","body":"<p>No, it is not.</p>\n\n<p>The sentence you quote means that the static method is not object specific and, because of the local variable is saved in thread environment, it can only be accessed from the local execution of the thread itself. \nBut in a static method you can access to a static field or an object shared by multiple thread, in that case you are not dealing with a local variable, but with something shared among multiple object. </p>\n\n<p>In other word, since the execution is thread safe, the access to a field of an object is shared to all threads that has access to the object. In that case you have a concurrency problem which have to be handled with the <code>synchronized</code> keyword. With synchronized keyword you make a statement accessible from only one thread per time.</p>\n\n<pre><code>class MyObject{\n static MyType mySharedObject; //if you access this in static methos you are not safe until you sync the access\n\npublic static void myMethod(){\n   int localVar; //that is safely accessed\n   mySharedObject.setSomething(pippo); //that is not safe in multi thread environment.\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1502296023,"creation_date":1502290713,"answer_id":45594206,"question_id":45593912,"body_markdown":"`static` modifier and thread safety are two distinct matters.&lt;br&gt;\r\n\r\nYou are in a defacto thead-safety case only when you don&#39;t have any race condition. &lt;br&gt;\r\nHaving no race condition for a method means that :\r\n\r\n- either the access to the method are done by a **single thread** \r\n\r\n- or **by concurrent threads but only for reading access**.&lt;br&gt;\r\n\r\nThese two things have zero relation with the fact that the method be **static** or not.&lt;br&gt;\r\n\r\nFor example in this code :\r\n\r\n    public static Logger getInstance() {\r\n         if( instance == null ){\r\n             instance = new Logger();\r\n         }\r\n    \r\n         return instance;\r\n    }\r\n\r\nIt is thread safe defacto if the application is mono threaded.&lt;br&gt;\r\nBut it is not the case if it is accessed concurrently by threads as the method **doesn&#39;t make only reading access**.&lt;br&gt;\r\nIn this case, you need to synchronize the access to the method.&lt;br&gt;\r\n\r\n\r\n----------\r\n\r\n\r\nAs a side note, the Bill Pugh idiom singleton spares the use of a synchronized method to implement a singleton.&lt;br&gt;\r\nYou can indeed implement it by taking advantage of static initialization done by the JVM as the class is loaded :\r\n\r\n    public class SingletonBillPughWithEagerCreation {\r\n     \r\n        // executed as soon as the SingletonBillPughWithEagerCreation class is loaded by the classLoader\r\n        private static SingletonBillPughWithEagerCreation instance = new SingletonBillPughWithEagerCreation();\r\n     \r\n        private SingletonBillPughWithEagerCreation() {\r\n        }\r\n     \r\n        public static SingletonBillPughWithEagerCreation getInstance() {\r\n    \t   return instance;\r\n        }\r\n    }\r\n\r\n","title":"java - static method is implicitly thread safe?","body":"<p><code>static</code> modifier and thread safety are two distinct matters.<br></p>\n\n<p>You are in a defacto thead-safety case only when you don't have any race condition. <br>\nHaving no race condition for a method means that :</p>\n\n<ul>\n<li><p>either the access to the method are done by a <strong>single thread</strong> </p></li>\n<li><p>or <strong>by concurrent threads but only for reading access</strong>.<br></p></li>\n</ul>\n\n<p>These two things have zero relation with the fact that the method be <strong>static</strong> or not.<br></p>\n\n<p>For example in this code :</p>\n\n<pre><code>public static Logger getInstance() {\n     if( instance == null ){\n         instance = new Logger();\n     }\n\n     return instance;\n}\n</code></pre>\n\n<p>It is thread safe defacto if the application is mono threaded.<br>\nBut it is not the case if it is accessed concurrently by threads as the method <strong>doesn't make only reading access</strong>.<br>\nIn this case, you need to synchronize the access to the method.<br></p>\n\n<hr>\n\n<p>As a side note, the Bill Pugh idiom singleton spares the use of a synchronized method to implement a singleton.<br>\nYou can indeed implement it by taking advantage of static initialization done by the JVM as the class is loaded :</p>\n\n<pre><code>public class SingletonBillPughWithEagerCreation {\n\n    // executed as soon as the SingletonBillPughWithEagerCreation class is loaded by the classLoader\n    private static SingletonBillPughWithEagerCreation instance = new SingletonBillPughWithEagerCreation();\n\n    private SingletonBillPughWithEagerCreation() {\n    }\n\n    public static SingletonBillPughWithEagerCreation getInstance() {\n       return instance;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4520068,"reputation":86,"user_id":3673613,"display_name":"user3673613"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502291041,"creation_date":1502291041,"answer_id":45594323,"question_id":45593912,"body_markdown":"Consider the following example. `getInstance` is called two times, by threads A and B.\r\n\r\n    line1:public **synchronized** static Logger getInstance() {\r\n    line2:    if( instance == null ){\r\n    line3:        instance = new Logger();\r\n    line4:    }\r\n    line5:\r\n    line6:    return instance;\r\n    line7:}\r\n\r\nA possible execution order might be `A2, B2, A3, B3` meaning line 2 is executed by thread A, then by thread B and afterwards line 3 is executed by thread A and B. This will result in `instance == B.getInstance()`, meaning the Logger that was created when thread B called getInstance. Thread A however is using a different logger!","title":"java - static method is implicitly thread safe?","body":"<p>Consider the following example. <code>getInstance</code> is called two times, by threads A and B.</p>\n\n<pre><code>line1:public **synchronized** static Logger getInstance() {\nline2:    if( instance == null ){\nline3:        instance = new Logger();\nline4:    }\nline5:\nline6:    return instance;\nline7:}\n</code></pre>\n\n<p>A possible execution order might be <code>A2, B2, A3, B3</code> meaning line 2 is executed by thread A, then by thread B and afterwards line 3 is executed by thread A and B. This will result in <code>instance == B.getInstance()</code>, meaning the Logger that was created when thread B called getInstance. Thread A however is using a different logger!</p>\n"},{"tags":[],"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502291426,"creation_date":1502291426,"answer_id":45594474,"question_id":45593912,"body_markdown":"There are some answers explaining why it&#39;s not thread safe, but to answer your quote\r\n\r\n&gt; static method is implicitly thread safe as the method is not object specific\r\n\r\nThe JVM instruction [invokestatic](http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.invokestatic) for static methods documents that\r\n\r\n&gt; If the method is synchronized, the monitor associated with the resolved Class object is entered or reentered as if by execution of a monitorenter instruction (&#167;monitorenter) in the current thread.\r\n\r\nWhich means that static methods are not inherently thread-safe in a concurrent environment, because there is a difference between `synchronized` and `non-synchronized` static methods.","title":"java - static method is implicitly thread safe?","body":"<p>There are some answers explaining why it's not thread safe, but to answer your quote</p>\n\n<blockquote>\n  <p>static method is implicitly thread safe as the method is not object specific</p>\n</blockquote>\n\n<p>The JVM instruction <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.invokestatic\" rel=\"nofollow noreferrer\">invokestatic</a> for static methods documents that</p>\n\n<blockquote>\n  <p>If the method is synchronized, the monitor associated with the resolved Class object is entered or reentered as if by execution of a monitorenter instruction (§monitorenter) in the current thread.</p>\n</blockquote>\n\n<p>Which means that static methods are not inherently thread-safe in a concurrent environment, because there is a difference between <code>synchronized</code> and <code>non-synchronized</code> static methods.</p>\n"},{"tags":[],"owner":{"account_id":3328940,"reputation":13909,"user_id":2798291,"accept_rate":53,"display_name":"TwoThe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1502365657,"creation_date":1502365657,"answer_id":45612897,"question_id":45593912,"body_markdown":"A method can be considered thread-safe if simultaneous calls from multiple threads will not create a situation, where any memory space is written by one thread, and simultaneously written/read by another thread at the same time.\r\n\r\nThis example shows a function that if called by multiple threads can cause issues:\r\n\r\n    void doThreadNonsense(int input) {\r\n      this.myValue = input;\r\n      if (this.myValue &gt; 9000) System.out.println(&quot;It&#39;s over 9000!&quot;);\r\n    }\r\n\r\nBecause here a value is first written, then read by multiple threads, and it could happen that Thread A writes a 5, then Thread B writes a 9000, and then Thread A outputs the sentence, because the value is now &gt; 9000, despite the input of 5.\r\n\r\nWith however just a minor change this function becomes thread-safe:\r\n\r\n    void doThreadNonsense(int input) {\r\n      this.myValue = input;\r\n      if (input &gt; 9000) System.out.println(&quot;It&#39;s over 9000!&quot;);\r\n    }\r\n\r\nNow the value is only written by multiple threads, but since writing an int happens atomically on any 32-bit (or higher) machine, `myValue` is only written by one thread or another, but never by both at the same time. This example shows how closely you need to check what your code is doing to figure out whether or not it is thread-safe.\r\n\r\nIf you take a static method it can - as above - also be not thread-safe:\r\n\r\n    static int myValue;\r\n    static void doThreadNonsense(int input) {\r\n      myValue = input;\r\n      if (myValue &gt; 9000) System.out.println(&quot;It&#39;s over 9000!&quot;);\r\n    }\r\n\r\nHowever in most cases static functions do not write on static variables (this isn&#39;t considered clean code by OOP design patterns), and if you don&#39;t access anything outside the scope of the method, the code is automatically thread-safe, because all used memory locations are local to the current thread only.\r\n\r\n    static void doThreadNonsense(int input) {\r\n      if (input&gt; 9000) System.out.println(&quot;It&#39;s over 9000!&quot;);\r\n    }\r\n\r\nSo your book should have said: &quot;Static methods that follow the clean code paradigm tend to be thread-safe.&quot;\r\n\r\nThis is however not at all helpful, and completely misses the point why something is thread-safe and other things are not. Take the following example, that is surprisingly (to some) thread-safe, despite that it violates many of the &quot;clean threading&quot; rules:\r\n\r\n    static final int[][] matrix = new int[N][M];\r\n\r\n    static void fillMatrixColumn(final int n) {\r\n      for (int m = 0; m &lt; M; ++m) {\r\n        matrix[n][m] = calculateValue(n, m);\r\n      }\r\n    }\r\n\r\n    public static void main(String[] args)() {\r\n      IntStream.range(0, N)\r\n        .parallel()\r\n        .forEach(this::fillMatrixColumn);\r\n      printMatrix(matrix);\r\n    }\r\n\r\nNo synchronized, no locking, but a lot of happy writing from multiple threads to the same data structure. This is still thread-safe, because at no point two threads are simultaneously writing to/reading from the same memory location.","title":"java - static method is implicitly thread safe?","body":"<p>A method can be considered thread-safe if simultaneous calls from multiple threads will not create a situation, where any memory space is written by one thread, and simultaneously written/read by another thread at the same time.</p>\n\n<p>This example shows a function that if called by multiple threads can cause issues:</p>\n\n<pre><code>void doThreadNonsense(int input) {\n  this.myValue = input;\n  if (this.myValue &gt; 9000) System.out.println(\"It's over 9000!\");\n}\n</code></pre>\n\n<p>Because here a value is first written, then read by multiple threads, and it could happen that Thread A writes a 5, then Thread B writes a 9000, and then Thread A outputs the sentence, because the value is now > 9000, despite the input of 5.</p>\n\n<p>With however just a minor change this function becomes thread-safe:</p>\n\n<pre><code>void doThreadNonsense(int input) {\n  this.myValue = input;\n  if (input &gt; 9000) System.out.println(\"It's over 9000!\");\n}\n</code></pre>\n\n<p>Now the value is only written by multiple threads, but since writing an int happens atomically on any 32-bit (or higher) machine, <code>myValue</code> is only written by one thread or another, but never by both at the same time. This example shows how closely you need to check what your code is doing to figure out whether or not it is thread-safe.</p>\n\n<p>If you take a static method it can - as above - also be not thread-safe:</p>\n\n<pre><code>static int myValue;\nstatic void doThreadNonsense(int input) {\n  myValue = input;\n  if (myValue &gt; 9000) System.out.println(\"It's over 9000!\");\n}\n</code></pre>\n\n<p>However in most cases static functions do not write on static variables (this isn't considered clean code by OOP design patterns), and if you don't access anything outside the scope of the method, the code is automatically thread-safe, because all used memory locations are local to the current thread only.</p>\n\n<pre><code>static void doThreadNonsense(int input) {\n  if (input&gt; 9000) System.out.println(\"It's over 9000!\");\n}\n</code></pre>\n\n<p>So your book should have said: \"Static methods that follow the clean code paradigm tend to be thread-safe.\"</p>\n\n<p>This is however not at all helpful, and completely misses the point why something is thread-safe and other things are not. Take the following example, that is surprisingly (to some) thread-safe, despite that it violates many of the \"clean threading\" rules:</p>\n\n<pre><code>static final int[][] matrix = new int[N][M];\n\nstatic void fillMatrixColumn(final int n) {\n  for (int m = 0; m &lt; M; ++m) {\n    matrix[n][m] = calculateValue(n, m);\n  }\n}\n\npublic static void main(String[] args)() {\n  IntStream.range(0, N)\n    .parallel()\n    .forEach(this::fillMatrixColumn);\n  printMatrix(matrix);\n}\n</code></pre>\n\n<p>No synchronized, no locking, but a lot of happy writing from multiple threads to the same data structure. This is still thread-safe, because at no point two threads are simultaneously writing to/reading from the same memory location.</p>\n"}],"owner":{"account_id":112682,"reputation":25724,"user_id":297115,"accept_rate":56,"display_name":"JavaUser"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7641,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":5,"score":9,"last_activity_date":1646477164,"creation_date":1502289879,"question_id":45593912,"body_markdown":"One of my java **static** method is accessed by multiple threads . Do I need to synchronize the method explicitly by synchronized keyword?.\r\n\r\nSometime back I read in a book which states that \r\n\r\n&gt; static method is implicitly thread safe as the method is not object\r\n&gt; specific\r\n\r\n.\r\n\r\nWell known example is  , Singleton implementation.\r\nIn which getInstance() is static and do we need to mark this as synchronized as well? \r\n\r\n     public synchronized static Logger getInstance() {\r\n             if( instance == null ){\r\n                 instance = new Logger();\r\n             }\r\n    \r\n             return instance;\r\n         }\r\n\r\nThanks\r\n\r\n","title":"java - static method is implicitly thread safe?","body":"<p>One of my java <strong>static</strong> method is accessed by multiple threads . Do I need to synchronize the method explicitly by synchronized keyword?.</p>\n\n<p>Sometime back I read in a book which states that </p>\n\n<blockquote>\n  <p>static method is implicitly thread safe as the method is not object\n  specific</p>\n</blockquote>\n\n<p>.</p>\n\n<p>Well known example is  , Singleton implementation.\nIn which getInstance() is static and do we need to mark this as synchronized as well? </p>\n\n<pre><code> public synchronized static Logger getInstance() {\n         if( instance == null ){\n             instance = new Logger();\n         }\n\n         return instance;\n     }\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","multithreading","concurrency","static","thread-safety"],"comments":[{"owner":{"account_id":277691,"reputation":3697,"user_id":571828,"accept_rate":69,"display_name":"WIZARDELF"},"score":0,"creation_date":1329853002,"post_id":5173399,"comment_id":11853992,"body_markdown":"another thread on this issue:\r\nhttp://stackoverflow.com/questions/8015797/are-java-arrays-in-a-static-method-thread-safe","body":"another thread on this issue:  <a href=\"http://stackoverflow.com/questions/8015797/are-java-arrays-in-a-static-method-thread-safe\" title=\"are java arrays in a static method thread safe\">stackoverflow.com/questions/8015797/&hellip;</a>"},{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":2,"creation_date":1329853786,"post_id":5173399,"comment_id":11854258,"body_markdown":"That is a different question, this is whether static method invocation is thread safe, not whether arrays are.","body":"That is a different question, this is whether static method invocation is thread safe, not whether arrays are."}],"answers":[{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":214,"is_accepted":true,"score":214,"last_activity_date":1447781928,"creation_date":1299099696,"answer_id":5173415,"question_id":5173399,"body_markdown":"This method is 100% thread safe, it would be even if it wasn&#39;t `static`. The problem with thread-safety arises when you need to share data between threads - you must take care of atomicity, visibility, etc.\r\n\r\nThis method only operates on **parameters, which reside on stack** and references to immutable objects on heap. **Stack is inherently local to the thread**, so no sharing of data occurs, ever.\r\n\r\nImmutable objects (`String` in this case) are also thread-safe because once created they can&#39;t be changed and all threads see the same value. On the other hand if the method was accepting (mutable) `Date` you could have had a problem. Two threads can simultaneously modify that same object instance, causing race conditions and visibility problems. ","title":"Are non-synchronised static methods thread safe if they don&#39;t modify static class variables?","body":"<p>This method is 100% thread safe, it would be even if it wasn't <code>static</code>. The problem with thread-safety arises when you need to share data between threads - you must take care of atomicity, visibility, etc.</p>\n\n<p>This method only operates on <strong>parameters, which reside on stack</strong> and references to immutable objects on heap. <strong>Stack is inherently local to the thread</strong>, so no sharing of data occurs, ever.</p>\n\n<p>Immutable objects (<code>String</code> in this case) are also thread-safe because once created they can't be changed and all threads see the same value. On the other hand if the method was accepting (mutable) <code>Date</code> you could have had a problem. Two threads can simultaneously modify that same object instance, causing race conditions and visibility problems. </p>\n"},{"tags":[],"owner":{"account_id":103731,"reputation":53285,"user_id":277683,"accept_rate":68,"display_name":"Konrad Garus"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1299099775,"creation_date":1299099775,"answer_id":5173439,"question_id":5173399,"body_markdown":"A method can only be thread-unsafe when it changes some shared state. Whether it&#39;s static or not is irrelevant.","title":"Are non-synchronised static methods thread safe if they don&#39;t modify static class variables?","body":"<p>A method can only be thread-unsafe when it changes some shared state. Whether it's static or not is irrelevant.</p>\n"},{"tags":[],"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1299100115,"creation_date":1299100115,"answer_id":5173505,"question_id":5173399,"body_markdown":"The function is perfectly thread safe. \r\n\r\nIf you think about it... assume what would happen if this were different. Every usual function would have threading problems if not synchronized, so all API functions in the JDK would have to be synchronized, because they could potentially be called by multiple threads. And since most time the app is using some API, multithreaded apps would effectively be impossible.\r\n\r\nThis is too ridiculous to think about it, so just for you: Methods are not threadsafe if there is a clear reason why there could be problems. Try to always think about what if there were multiple threads in my function, and what if you had a step-debugger and would one step after another advance the first... then the second thread... maybe the second again... would there be problems? If you find one, its not thread safe.\r\n\r\nPlease be also aware, that most of the Java 1.5 Collection classes are not threadsafe, except those where stated, like ConcurrentHashMap. \r\n\r\nAnd if you really want to dive into this, have a close look at the volatile keyword and ALL its side effects. Have a look at the Semaphore() and Lock() class, and their friends in java.util.Concurrent. Read all the API docs around the classes. It is worth to learn and satisfying, too.\r\n\r\nSorry for this overly elaborate answer.","title":"Are non-synchronised static methods thread safe if they don&#39;t modify static class variables?","body":"<p>The function is perfectly thread safe. </p>\n\n<p>If you think about it... assume what would happen if this were different. Every usual function would have threading problems if not synchronized, so all API functions in the JDK would have to be synchronized, because they could potentially be called by multiple threads. And since most time the app is using some API, multithreaded apps would effectively be impossible.</p>\n\n<p>This is too ridiculous to think about it, so just for you: Methods are not threadsafe if there is a clear reason why there could be problems. Try to always think about what if there were multiple threads in my function, and what if you had a step-debugger and would one step after another advance the first... then the second thread... maybe the second again... would there be problems? If you find one, its not thread safe.</p>\n\n<p>Please be also aware, that most of the Java 1.5 Collection classes are not threadsafe, except those where stated, like ConcurrentHashMap. </p>\n\n<p>And if you really want to dive into this, have a close look at the volatile keyword and ALL its side effects. Have a look at the Semaphore() and Lock() class, and their friends in java.util.Concurrent. Read all the API docs around the classes. It is worth to learn and satisfying, too.</p>\n\n<p>Sorry for this overly elaborate answer.</p>\n"},{"tags":[],"owner":{"account_id":801225,"reputation":7522,"user_id":878732,"accept_rate":60,"display_name":"harsh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1316700847,"creation_date":1316700847,"answer_id":7516205,"question_id":5173399,"body_markdown":"String objects being immutable is another reason for thread-safe scenario above. Instead if mutable objects are used (say makeMutableArray..) then surely thread-safety will break.","title":"Are non-synchronised static methods thread safe if they don&#39;t modify static class variables?","body":"<p>String objects being immutable is another reason for thread-safe scenario above. Instead if mutable objects are used (say makeMutableArray..) then surely thread-safety will break.</p>\n"},{"tags":[],"owner":{"account_id":1923919,"reputation":612,"user_id":1734803,"display_name":"clinton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1349872105,"creation_date":1349871771,"answer_id":12819262,"question_id":5173399,"body_markdown":"Use the `static` keyword with synchronized static methods to modify static data shared among threads. With the `static` keyword all the threads created will contend for a single version of the method.\r\n\r\nUse the `volatile` keyword along with synchronized instance methods will guarantee that each thread has its own copy of the shared data and no read/ writes will leak out between threads.\r\n\r\n\r\n","title":"Are non-synchronised static methods thread safe if they don&#39;t modify static class variables?","body":"<p>Use the <code>static</code> keyword with synchronized static methods to modify static data shared among threads. With the <code>static</code> keyword all the threads created will contend for a single version of the method.</p>\n\n<p>Use the <code>volatile</code> keyword along with synchronized instance methods will guarantee that each thread has its own copy of the shared data and no read/ writes will leak out between threads.</p>\n"},{"tags":[],"owner":{"account_id":6651349,"reputation":4535,"user_id":7756492,"display_name":"ucMedia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646477106,"creation_date":1646477106,"answer_id":71361493,"question_id":5173399,"body_markdown":"Since the complete method was pushed onto the stack, any variable creation that takes place lives within the stack (again exceptions being static variables) and only accessible to one thread. So all the methods are thread safe until they change the state of some static variable. \r\n\r\n\r\n\r\n\r\nSee also:\r\n---------\r\n\r\n\r\n[Is static method is thread safe in Java?][1]\r\n\r\n\r\n  [1]: https://www.heyiamindians.com/is-static-method-is-thread-safe-in-java/","title":"Are non-synchronised static methods thread safe if they don&#39;t modify static class variables?","body":"<p>Since the complete method was pushed onto the stack, any variable creation that takes place lives within the stack (again exceptions being static variables) and only accessible to one thread. So all the methods are thread safe until they change the state of some static variable.</p>\n<h2>See also:</h2>\n<p><a href=\"https://www.heyiamindians.com/is-static-method-is-thread-safe-in-java/\" rel=\"nofollow noreferrer\">Is static method is thread safe in Java?</a></p>\n"}],"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64095,"favorite_count":0,"down_vote_count":2,"up_vote_count":147,"accepted_answer_id":5173415,"answer_count":6,"score":145,"last_activity_date":1646477106,"creation_date":1299099629,"question_id":5173399,"body_markdown":"I was wondering if you have a static method that is **not** synchronised, but does **not** modify any static variables is it thread-safe? What about if the method creates local variables inside it? For example, is the following code thread-safe?\r\n\r\n    public static String[] makeStringArray( String a, String b ){\r\n        return new String[]{ a, b };\r\n    }\r\n\r\nSo if I have two threads calling ths method continously and concurrently, one with dogs (say &quot;great dane&quot; and &quot;bull dog&quot;) and the other with cats (say &quot;persian&quot; and &quot;siamese&quot;) will I ever get cats and dogs in the same array? Or will the cats and dogs never be inside the same invocation of the method at the same time?","title":"Are non-synchronised static methods thread safe if they don&#39;t modify static class variables?","body":"<p>I was wondering if you have a static method that is <strong>not</strong> synchronised, but does <strong>not</strong> modify any static variables is it thread-safe? What about if the method creates local variables inside it? For example, is the following code thread-safe?</p>\n\n<pre><code>public static String[] makeStringArray( String a, String b ){\n    return new String[]{ a, b };\n}\n</code></pre>\n\n<p>So if I have two threads calling ths method continously and concurrently, one with dogs (say \"great dane\" and \"bull dog\") and the other with cats (say \"persian\" and \"siamese\") will I ever get cats and dogs in the same array? Or will the cats and dogs never be inside the same invocation of the method at the same time?</p>\n"},{"tags":["java","logging","slf4j","logback"],"comments":[{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1576771660,"post_id":19689223,"comment_id":105013816,"body_markdown":"Does this answer your question? [How to create 2 different ROOT loggers with logback?](https://stackoverflow.com/questions/18827633/how-to-create-2-different-root-loggers-with-logback)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/18827633/how-to-create-2-different-root-loggers-with-logback\">How to create 2 different ROOT loggers with logback?</a>"}],"answers":[{"tags":[],"owner":{"account_id":785462,"reputation":16343,"user_id":845034,"accept_rate":57,"display_name":"steffen"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1646476145,"creation_date":1383152702,"answer_id":19689315,"question_id":19689223,"body_markdown":"Put this into your file appender definition:\r\n\r\n\t&lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n\t\t&lt;level&gt;ERROR&lt;/level&gt;\r\n\t&lt;/filter&gt;\r\n\r\nThe ``ThresholdFilter`` is in ``logback-classic.jar``.","title":"Logback: how to log only errors to file","body":"<p>Put this into your file appender definition:</p>\n<pre><code>&lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n    &lt;level&gt;ERROR&lt;/level&gt;\n&lt;/filter&gt;\n</code></pre>\n<p>The <code>ThresholdFilter</code> is in <code>logback-classic.jar</code>.</p>\n"},{"tags":[],"owner":{"account_id":9117614,"reputation":91,"user_id":6784237,"display_name":"Anton Pryamostanov"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1600960034,"creation_date":1543333138,"answer_id":53503120,"question_id":19689223,"body_markdown":"I don&#39;t understand why wrong answer here is upvoted.\r\nThe guy wants ONLY error messages in his file.\r\n\r\nHere is the correct answer:\r\n\r\n    &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\r\n      &lt;level&gt;ERROR&lt;/level&gt;\r\n      &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;\r\n      &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;\r\n    &lt;/filter&gt;\r\n\r\nReference:\r\nhttps://logback.qos.ch/manual/filters.html#levelFilter","title":"Logback: how to log only errors to file","body":"<p>I don't understand why wrong answer here is upvoted.\nThe guy wants ONLY error messages in his file.</p>\n<p>Here is the correct answer:</p>\n<pre><code>&lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\n  &lt;level&gt;ERROR&lt;/level&gt;\n  &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;\n  &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;\n&lt;/filter&gt;\n</code></pre>\n<p>Reference:\n<a href=\"https://logback.qos.ch/manual/filters.html#levelFilter\" rel=\"nofollow noreferrer\">https://logback.qos.ch/manual/filters.html#levelFilter</a></p>\n"},{"tags":[],"owner":{"account_id":16319949,"reputation":476,"user_id":11786034,"display_name":"Hardik Rana"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1588612783,"creation_date":1588612783,"answer_id":61597972,"question_id":19689223,"body_markdown":"Refer below code:\r\n```\r\n&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\r\n            &lt;level&gt;INFO&lt;/level&gt;\r\n            &lt;onMatch&gt;DENY&lt;/onMatch&gt;\r\n            &lt;onMismatch&gt;ACCEPT&lt;/onMismatch&gt;\r\n        &lt;/filter&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n```","title":"Logback: how to log only errors to file","body":"<p>Refer below code:</p>\n\n<pre><code>&lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n        &lt;filter class=\"ch.qos.logback.classic.filter.LevelFilter\"&gt;\n            &lt;level&gt;INFO&lt;/level&gt;\n            &lt;onMatch&gt;DENY&lt;/onMatch&gt;\n            &lt;onMismatch&gt;ACCEPT&lt;/onMismatch&gt;\n        &lt;/filter&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n</code></pre>\n"}],"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22387,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":19689315,"answer_count":3,"score":14,"last_activity_date":1646476145,"creation_date":1383152451,"question_id":19689223,"body_markdown":"I&#39;ve been reading the logback manual for 2 hours and still can&#39;t figure how to do what I need.\r\n\r\nIt is as simple as the title says: I want to log only the errors to a file, and the other levels (including ERROR) to console.\r\n\r\nThis is the root section of my logcat.xml file:\r\n\r\n\t\t&lt;root level=&quot;TRACE&quot; &gt;\r\n\t\t\t&lt;appender-ref ref=&quot;CONSOLE_APPENDER&quot; /&gt;\r\n\t\t\t&lt;appender-ref ref=&quot;FILE_APPENDER&quot; /&gt;\r\n\t\t&lt;/root&gt;\r\n\r\nThe problem with this configuration is that it logs every level &gt;= TRACE to both appenders.\r\n\r\nI could let the root with only console, and define a file logger:\r\n\r\n\t\t&lt;logger name=&#39;file_logger&#39; level=&#39;ERROR&#39; &gt;\r\n\t\t\t&lt;appender-ref ref=&quot;FILE_APPENDER&quot; /&gt;\r\n\t\t&lt;/logger&gt;\r\n\r\nBut then I&#39;d have to call the normal logger like this:\r\n\r\n    LoggerFactory.getLogger(ClientClass.class);\r\n\r\nAnd the file logger like this:\r\n\r\n    LoggerFactory.getLogger(&quot;file_logger&quot;);\r\n\r\nI don&#39;t wan&#39;t to choose the logger for each class. I just want to get the root logger from the factory using the class as parameter, and have it do the correct thing depending on the level.\r\n\r\nIs this possible?","title":"Logback: how to log only errors to file","body":"<p>I've been reading the logback manual for 2 hours and still can't figure how to do what I need.</p>\n\n<p>It is as simple as the title says: I want to log only the errors to a file, and the other levels (including ERROR) to console.</p>\n\n<p>This is the root section of my logcat.xml file:</p>\n\n<pre><code>    &lt;root level=\"TRACE\" &gt;\n        &lt;appender-ref ref=\"CONSOLE_APPENDER\" /&gt;\n        &lt;appender-ref ref=\"FILE_APPENDER\" /&gt;\n    &lt;/root&gt;\n</code></pre>\n\n<p>The problem with this configuration is that it logs every level >= TRACE to both appenders.</p>\n\n<p>I could let the root with only console, and define a file logger:</p>\n\n<pre><code>    &lt;logger name='file_logger' level='ERROR' &gt;\n        &lt;appender-ref ref=\"FILE_APPENDER\" /&gt;\n    &lt;/logger&gt;\n</code></pre>\n\n<p>But then I'd have to call the normal logger like this:</p>\n\n<pre><code>LoggerFactory.getLogger(ClientClass.class);\n</code></pre>\n\n<p>And the file logger like this:</p>\n\n<pre><code>LoggerFactory.getLogger(\"file_logger\");\n</code></pre>\n\n<p>I don't wan't to choose the logger for each class. I just want to get the root logger from the factory using the class as parameter, and have it do the correct thing depending on the level.</p>\n\n<p>Is this possible?</p>\n"},{"tags":["java","spring","jpa","transactions"],"answers":[{"tags":[],"owner":{"account_id":8808876,"reputation":1,"user_id":9352903,"display_name":"finca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646475620,"creation_date":1646475620,"answer_id":71361320,"question_id":71360378,"body_markdown":"That same book offers another way of configuring Repository by replacing injection of EntityManagerFactory with EntityManager:\r\n\r\n```\r\n    //@PersistenceUnit\r\n    @PersistenceContext\r\n    //private EntityManagerFactory emf;\r\n    private EntityManager em;\r\n```\r\n\r\nAs explained, calling emf.createEntityManager() in each method creates new EntityManager which complicates matters concerning transactions\r\n\r\nNow it works, though for me the root cause of problem still unclear","title":"Spring @Transactional doesn&#39;t apply transactional behavior to method","body":"<p>That same book offers another way of configuring Repository by replacing injection of EntityManagerFactory with EntityManager:</p>\n<pre><code>    //@PersistenceUnit\n    @PersistenceContext\n    //private EntityManagerFactory emf;\n    private EntityManager em;\n</code></pre>\n<p>As explained, calling emf.createEntityManager() in each method creates new EntityManager which complicates matters concerning transactions</p>\n<p>Now it works, though for me the root cause of problem still unclear</p>\n"}],"owner":{"account_id":8808876,"reputation":1,"user_id":9352903,"display_name":"finca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646475620,"creation_date":1646466297,"question_id":71360378,"body_markdown":"I try to get my hands dirty with Spring + JPA and I read Spring in Action 4th edition. Because of code samples there are incomplete I look for needed parts of code myself in web. But seems I did smth wrong because when I call EntityManager.persist() it doesn&#39;t work. No even exception thrown \r\n\r\nMy code below\r\n\r\n**DataConfig**\r\n```\r\n@Configuration\r\n@EnableTransactionManagement\r\npublic class DataConfig {\r\n\r\n    @Bean\r\n    public DataSource dataSource() {\r\n        SingleConnectionDataSource ds = new SingleConnectionDataSource();\r\n        ds.setDriverClassName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n        ds.setUrl(&quot;jdbc:mysql://localhost:3306/dbname&quot;);\r\n        ds.setSuppressClose(true);\r\n        ds.setUsername(&quot;user&quot;);\r\n        ds.setPassword(&quot;password&quot;);\r\n        return ds;\r\n    }\r\n\r\n    @Bean\r\n    public JpaVendorAdapter jpaVendorAdapter(){\r\n        HibernateJpaVendorAdapter adapter = new HibernateJpaVendorAdapter();\r\n        adapter.setDatabase(Database.MYSQL);\r\n        adapter.setShowSql(true);\r\n        adapter.setGenerateDdl(false);\r\n        adapter.setDatabasePlatform(&quot;org.hibernate.dialect.MySQLDialect&quot;);\r\n        return adapter;\r\n    }\r\n\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(DataSource dataSource, JpaVendorAdapter jpaVendorAdapter){\r\n        LocalContainerEntityManagerFactoryBean emfb = new LocalContainerEntityManagerFactoryBean();\r\n        emfb.setDataSource(dataSource);\r\n        emfb.setJpaVendorAdapter(jpaVendorAdapter);\r\n        emfb.setPackagesToScan(&quot;spittr.domain&quot;);\r\n        return emfb;\r\n    }\r\n\r\n    @Bean\r\n    public PlatformTransactionManager transactionManager(DataSource ds){\r\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n        transactionManager.setDataSource(ds);\r\n        return transactionManager;\r\n    }\r\n}\r\n```\r\n\r\n**Repository**\r\n```\r\n@Repository\r\npublic class JpaSpittleRepository implements SpittleRepository{\r\n\r\n    @PersistenceUnit\r\n    private EntityManagerFactory emf;\r\n\r\n    //other methods...\r\n\r\n    @Transactional\r\n    public void save(Spittle spittle) {\r\n        EntityManager em = emf.createEntityManager();\r\n        em.persist(spittle);\r\n    }\r\n\r\n}\r\n```\r\n\r\nSo in this configuration save() saves nothing. \r\n\r\nOf course if explicitly add a pair of lines of code to that method like:\r\n```\r\n@Transactional //unnecessary now\r\n    public void save(Spittle spittle) {\r\n        EntityManager em = emf.createEntityManager();\r\n        EntityTransaction tx = em.getTransaction();\r\n        tx.begin();\r\n        em.persist(spittle);\r\n        tx.commit();\r\n    }\r\n``` \r\nsave() works fine (even without @Transactional)\r\n\r\nAlso I found that @Transactional **does** wrap save() method with doBegin() and doCommit() methods of JpaTransactionManager.\r\n\r\nWhere would you suggest to dig more to find the problem? \r\n  ","title":"Spring @Transactional doesn&#39;t apply transactional behavior to method","body":"<p>I try to get my hands dirty with Spring + JPA and I read Spring in Action 4th edition. Because of code samples there are incomplete I look for needed parts of code myself in web. But seems I did smth wrong because when I call EntityManager.persist() it doesn't work. No even exception thrown</p>\n<p>My code below</p>\n<p><strong>DataConfig</strong></p>\n<pre><code>@Configuration\n@EnableTransactionManagement\npublic class DataConfig {\n\n    @Bean\n    public DataSource dataSource() {\n        SingleConnectionDataSource ds = new SingleConnectionDataSource();\n        ds.setDriverClassName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        ds.setUrl(&quot;jdbc:mysql://localhost:3306/dbname&quot;);\n        ds.setSuppressClose(true);\n        ds.setUsername(&quot;user&quot;);\n        ds.setPassword(&quot;password&quot;);\n        return ds;\n    }\n\n    @Bean\n    public JpaVendorAdapter jpaVendorAdapter(){\n        HibernateJpaVendorAdapter adapter = new HibernateJpaVendorAdapter();\n        adapter.setDatabase(Database.MYSQL);\n        adapter.setShowSql(true);\n        adapter.setGenerateDdl(false);\n        adapter.setDatabasePlatform(&quot;org.hibernate.dialect.MySQLDialect&quot;);\n        return adapter;\n    }\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(DataSource dataSource, JpaVendorAdapter jpaVendorAdapter){\n        LocalContainerEntityManagerFactoryBean emfb = new LocalContainerEntityManagerFactoryBean();\n        emfb.setDataSource(dataSource);\n        emfb.setJpaVendorAdapter(jpaVendorAdapter);\n        emfb.setPackagesToScan(&quot;spittr.domain&quot;);\n        return emfb;\n    }\n\n    @Bean\n    public PlatformTransactionManager transactionManager(DataSource ds){\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setDataSource(ds);\n        return transactionManager;\n    }\n}\n</code></pre>\n<p><strong>Repository</strong></p>\n<pre><code>@Repository\npublic class JpaSpittleRepository implements SpittleRepository{\n\n    @PersistenceUnit\n    private EntityManagerFactory emf;\n\n    //other methods...\n\n    @Transactional\n    public void save(Spittle spittle) {\n        EntityManager em = emf.createEntityManager();\n        em.persist(spittle);\n    }\n\n}\n</code></pre>\n<p>So in this configuration save() saves nothing.</p>\n<p>Of course if explicitly add a pair of lines of code to that method like:</p>\n<pre><code>@Transactional //unnecessary now\n    public void save(Spittle spittle) {\n        EntityManager em = emf.createEntityManager();\n        EntityTransaction tx = em.getTransaction();\n        tx.begin();\n        em.persist(spittle);\n        tx.commit();\n    }\n</code></pre>\n<p>save() works fine (even without @Transactional)</p>\n<p>Also I found that @Transactional <strong>does</strong> wrap save() method with doBegin() and doCommit() methods of JpaTransactionManager.</p>\n<p>Where would you suggest to dig more to find the problem?</p>\n"},{"tags":["java","windows","macos","udp","datagram"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1644461839,"post_id":70999028,"comment_id":125615563,"body_markdown":"It is receiving broadcasts from port 15922 that are sent in MacOS but not in Windows. Why are you using a zero length `DatagramPacket`?","body":"It is receiving broadcasts from port 15922 that are sent in MacOS but not in Windows. Why are you using a zero length <code>DatagramPacket</code>?"},{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":0,"creation_date":1644463697,"post_id":70999028,"comment_id":125615886,"body_markdown":"@user207421 The server supposed to receive an _empty_ packet and send some data to the client.","body":"@user207421 The server supposed to receive an <i>empty</i> packet and send some data to the client."}],"answers":[{"tags":[],"owner":{"account_id":10513824,"reputation":338,"user_id":7748575,"display_name":"tycl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645870246,"creation_date":1645870246,"answer_id":71275753,"question_id":70999028,"body_markdown":"I think @user207421 is right that it might have something to do with your local configuration. On my macbook the first print statement is the only one that gets executed - afterwards, the server blocks. \r\n\r\nOn second thought, since you bind to `127.0.0.1`, the server should be listening only to data that&#39;s sent from your local machine, rather than the entire local network. A quick google search didn&#39;t help in finding potential causes for this behaviour, but maybe you could try and analyze the traffic yourself using a command like this:\r\n\r\n`while true; do lsof -lnP +M -i4 | grep &#39;&lt;server-port&gt;&#39;; sleep 1; done`\r\n\r\nsource: https://security.stackexchange.com/a/17204\r\n","title":"Why doesn&#39;t DatagramSocket#receive(DatagramPacket) block with macOS?","body":"<p>I think @user207421 is right that it might have something to do with your local configuration. On my macbook the first print statement is the only one that gets executed - afterwards, the server blocks.</p>\n<p>On second thought, since you bind to <code>127.0.0.1</code>, the server should be listening only to data that's sent from your local machine, rather than the entire local network. A quick google search didn't help in finding potential causes for this behaviour, but maybe you could try and analyze the traffic yourself using a command like this:</p>\n<p><code>while true; do lsof -lnP +M -i4 | grep '&lt;server-port&gt;'; sleep 1; done</code></p>\n<p>source: <a href=\"https://security.stackexchange.com/a/17204\">https://security.stackexchange.com/a/17204</a></p>\n"},{"tags":[],"owner":{"account_id":22066749,"reputation":3758,"user_id":16328516,"display_name":"TriS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646475312,"creation_date":1646158016,"answer_id":71312841,"question_id":70999028,"body_markdown":"The reason we see these issues in MacOS, not on Windows is that the `DatagramSocket` and `DatagramPacket`  class depends on the Operating System-specific implementation of JDK for socket connections. As the underlying implementation depends on OS, we see issues differently in Windows, macOS, or any Linux-based environment.\r\n\r\nIn the context of the issue mentioned above, the DatagramSocket object is waiting for the DatagramPacket. The code creates a DatagramPacket with an empty byte array. When the byte array is empty the datagram packet is simply a request to the server for information. When the server has read all the data packets, the while loop terminates. \r\n\r\nTo get a response from the server, the client creates a &quot;receive&quot; packet and uses the DatagramSocket receive method to receive the reply from the server. The receive method waits until a datagram packet destined for the client comes through the socket. \r\n\r\nNote that if the server&#39;s reply is somehow lost, the client will wait forever because of the no-guarantee policy of the datagram model. Normally, a client sets a timer so that it doesn&#39;t wait forever for a reply, if no reply arrives, the timer goes off and the client retransmits.\r\n\r\nSo, here the client may be getting timed out and then the rebinding might fail, hence the socket is left in an unspecified state. This then further binds to the wild card address which is selected by the OS and it keeps repeating the loop indefinitely and not blocked.\r\n\r\nThere is a known issue in MacOS. The fix for this issue in present in the later version of JDK (15+).&lt;br/&gt;\r\n**Issue 1** : [JDK-8235674 - Rebinding fail issue ][1] &amp;emsp;  [Oracle Bug][2]\r\n\r\nInformation in the link (JEP for JDK-15) :\r\n\r\n&gt; On macOS and Linux, invoking disconnect on the new implementation\r\n&gt; might require rebinding the underlying socket. This introduces the\r\n&gt; possibility that the rebinding might fail and leave the underlying socket\r\n&gt; in an unspecified state. Whereas the legacy implementation might have\r\n&gt; silently left the socket in an unspecified state.\r\n\r\nThe Java version provided in the example is `OpenJDK` version `11.0.14` and `11.0.8 `. \r\nPrior to `JDK-15`, If the rebinding failed then the socket is left in an unspecified state. `DatagramSocket` remains bound when disconnected, it is the `close()` method that would unbind it. The default behavior of the constructors is to bind the socket immediately. \r\n\r\nBut here we have created an unbound `DatagramSocket` by  `DatagramSocket(null)` as a constructor argument. When rebinding fails the socket moves to an unspecified state, there is a probability that the socket will remain allocated by the OS until the JVM process exits.\r\n\r\n**Issue 2:** [ JDK-8231259][4]- *DatagramChannel::disconnect re-binds socket to the wildcard address (macOS)* and  &amp;nbsp; [Oracle Bug][5] \r\n\r\nAbove issue is fixed in `JDK-14`. A `DatagramChannel` is bound to a specific local address, connected, and then disconnect is invoked to dissolve the association. On `macOS` the `disconnect` rebinds the socket to the `wildcard` address. If the object is created using the no-arg constructor, you get a socket that is not bound, hence it returns the wildcard IP address `0.0.0.0`. If the IP address is 0.0.0.0, the socket will be bound to the wildcard address, an IP address chosen by the kernel.\r\n`0.0.0.0` is a `non-routable` meta-address used to designate an invalid, unknown, or non-applicable target (a ‘no particular address’ place holder)\r\n\r\nUse links:\r\nJDK 17 : [DatagramSocket][6] &amp;emsp;   [Datagram Client Server][7] &amp;emsp;[UDP loop][8] &lt;br/&gt;\r\nStackOverflow : [DataGramSocket questions][9]  &amp;emsp; [Localaddress 0.0.0.0][10]&lt;br/&gt;\r\nFix : [JDK-15 fix][11] &amp;emsp; [Release notes][12]\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8235674\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8241072\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/DatagramSocket.html\r\n  [4]: https://bugs.openjdk.java.net/browse/JDK-8231259\r\n  [5]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8231261\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/DatagramSocket.html\r\n  [7]: https://docs.oracle.com/javase/tutorial/networking/datagrams/clientServer.html\r\n  [8]: https://stackoverflow.com/questions/6185767/udp-threading-infinite-loop-in-java\r\n  [9]: https://stackoverflow.com/questions/6361741/some-java-datagram-socket-questions\r\n  [10]: https://stackoverflow.com/questions/10298480/getlocaladdress-returning-0-0-0-0\r\n  [11]: https://bugs.openjdk.java.net/browse/JDK-8235783\r\n  [12]: https://www.oracle.com/java/technologies/javase/15-relnote-issues.html#JDK-8235783","title":"Why doesn&#39;t DatagramSocket#receive(DatagramPacket) block with macOS?","body":"<p>The reason we see these issues in MacOS, not on Windows is that the <code>DatagramSocket</code> and <code>DatagramPacket</code>  class depends on the Operating System-specific implementation of JDK for socket connections. As the underlying implementation depends on OS, we see issues differently in Windows, macOS, or any Linux-based environment.</p>\n<p>In the context of the issue mentioned above, the DatagramSocket object is waiting for the DatagramPacket. The code creates a DatagramPacket with an empty byte array. When the byte array is empty the datagram packet is simply a request to the server for information. When the server has read all the data packets, the while loop terminates.</p>\n<p>To get a response from the server, the client creates a &quot;receive&quot; packet and uses the DatagramSocket receive method to receive the reply from the server. The receive method waits until a datagram packet destined for the client comes through the socket.</p>\n<p>Note that if the server's reply is somehow lost, the client will wait forever because of the no-guarantee policy of the datagram model. Normally, a client sets a timer so that it doesn't wait forever for a reply, if no reply arrives, the timer goes off and the client retransmits.</p>\n<p>So, here the client may be getting timed out and then the rebinding might fail, hence the socket is left in an unspecified state. This then further binds to the wild card address which is selected by the OS and it keeps repeating the loop indefinitely and not blocked.</p>\n<p>There is a known issue in MacOS. The fix for this issue in present in the later version of JDK (15+).<br/>\n<strong>Issue 1</strong> : <a href=\"https://bugs.openjdk.java.net/browse/JDK-8235674\" rel=\"nofollow noreferrer\">JDK-8235674 - Rebinding fail issue </a>    <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8241072\" rel=\"nofollow noreferrer\">Oracle Bug</a></p>\n<p>Information in the link (JEP for JDK-15) :</p>\n<blockquote>\n<p>On macOS and Linux, invoking disconnect on the new implementation\nmight require rebinding the underlying socket. This introduces the\npossibility that the rebinding might fail and leave the underlying socket\nin an unspecified state. Whereas the legacy implementation might have\nsilently left the socket in an unspecified state.</p>\n</blockquote>\n<p>The Java version provided in the example is <code>OpenJDK</code> version <code>11.0.14</code> and <code>11.0.8 </code>.\nPrior to <code>JDK-15</code>, If the rebinding failed then the socket is left in an unspecified state. <code>DatagramSocket</code> remains bound when disconnected, it is the <code>close()</code> method that would unbind it. The default behavior of the constructors is to bind the socket immediately.</p>\n<p>But here we have created an unbound <code>DatagramSocket</code> by  <code>DatagramSocket(null)</code> as a constructor argument. When rebinding fails the socket moves to an unspecified state, there is a probability that the socket will remain allocated by the OS until the JVM process exits.</p>\n<p><strong>Issue 2:</strong> <a href=\"https://bugs.openjdk.java.net/browse/JDK-8231259\" rel=\"nofollow noreferrer\"> JDK-8231259</a>- <em>DatagramChannel::disconnect re-binds socket to the wildcard address (macOS)</em> and    <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8231261\" rel=\"nofollow noreferrer\">Oracle Bug</a></p>\n<p>Above issue is fixed in <code>JDK-14</code>. A <code>DatagramChannel</code> is bound to a specific local address, connected, and then disconnect is invoked to dissolve the association. On <code>macOS</code> the <code>disconnect</code> rebinds the socket to the <code>wildcard</code> address. If the object is created using the no-arg constructor, you get a socket that is not bound, hence it returns the wildcard IP address <code>0.0.0.0</code>. If the IP address is 0.0.0.0, the socket will be bound to the wildcard address, an IP address chosen by the kernel.\n<code>0.0.0.0</code> is a <code>non-routable</code> meta-address used to designate an invalid, unknown, or non-applicable target (a ‘no particular address’ place holder)</p>\n<p>Use links:\nJDK 17 : <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/DatagramSocket.html\" rel=\"nofollow noreferrer\">DatagramSocket</a>     <a href=\"https://docs.oracle.com/javase/tutorial/networking/datagrams/clientServer.html\" rel=\"nofollow noreferrer\">Datagram Client Server</a>  <a href=\"https://stackoverflow.com/questions/6185767/udp-threading-infinite-loop-in-java\">UDP loop</a> <br/>\nStackOverflow : <a href=\"https://stackoverflow.com/questions/6361741/some-java-datagram-socket-questions\">DataGramSocket questions</a>    <a href=\"https://stackoverflow.com/questions/10298480/getlocaladdress-returning-0-0-0-0\">Localaddress 0.0.0.0</a><br/>\nFix : <a href=\"https://bugs.openjdk.java.net/browse/JDK-8235783\" rel=\"nofollow noreferrer\">JDK-15 fix</a>   <a href=\"https://www.oracle.com/java/technologies/javase/15-relnote-issues.html#JDK-8235783\" rel=\"nofollow noreferrer\">Release notes</a></p>\n"}],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71312841,"answer_count":2,"score":1,"last_activity_date":1646475312,"creation_date":1644072065,"question_id":70999028,"body_markdown":"With following code,\r\n\r\n```java\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\nclass DatagramServer {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        DatagramSocket socket = new DatagramSocket(null);\r\n        socket.bind(new InetSocketAddress(&quot;127.0.0.1&quot;, 0));\r\n        System.out.println(socket.getLocalSocketAddress());\r\n        while (true) {\r\n            // I just need client&#39;s address to send back some data!\r\n            DatagramPacket packet = new DatagramPacket(new byte[0], 0);\r\n            socket.receive(packet);\r\n            System.out.println(packet.getSocketAddress());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn Windows it blocks as expected.\r\n\r\n```\r\n&gt; java --version\r\njava 11.0.8 2020-07-14 LTS\r\nJava(TM) SE Runtime Environment 18.9 (build 11.0.8+10-LTS)\r\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.8+10-LTS, mixed mode)\r\n\r\n&gt; java DatagramServer\r\n```\r\n\r\nIn macOS it doesn&#39;t and prints a bunch of received socket addresses.\r\n\r\n```\r\n$ java -version\r\nopenjdk version &quot;11.0.14&quot; 2022-01-18\r\nOpenJDK Runtime Environment Temurin-11.0.14+9 (build 11.0.14+9)\r\nOpenJDK 64-Bit Server VM Temurin-11.0.14+9 (build 11.0.14+9, mixed mode)\r\n\r\n$ java DatagramServer \r\n/127.0.0.1:61206\r\n/0.0.0.0:15922\r\n/0.0.0.0:15922\r\n/0.0.0.0:15922\r\n/0.0.0.0:15922\r\n/0.0.0.0:15922\r\n/0.0.0.0:15922\r\n/0.0.0.0:15922\r\n/0.0.0.0:0\r\n/0.0.0.0:15922\r\n/0.0.0.0:15922\r\n/0.0.0.0:15922\r\n/0.0.0.0:15922\r\n/0.0.0.0:15922\r\n...\r\n```\r\n\r\nIs this normal?","title":"Why doesn&#39;t DatagramSocket#receive(DatagramPacket) block with macOS?","body":"<p>With following code,</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.net.*;\n\nclass DatagramServer {\n\n    public static void main(String[] args) throws IOException {\n        DatagramSocket socket = new DatagramSocket(null);\n        socket.bind(new InetSocketAddress(&quot;127.0.0.1&quot;, 0));\n        System.out.println(socket.getLocalSocketAddress());\n        while (true) {\n            // I just need client's address to send back some data!\n            DatagramPacket packet = new DatagramPacket(new byte[0], 0);\n            socket.receive(packet);\n            System.out.println(packet.getSocketAddress());\n        }\n    }\n}\n</code></pre>\n<p>In Windows it blocks as expected.</p>\n<pre><code>&gt; java --version\njava 11.0.8 2020-07-14 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.8+10-LTS)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.8+10-LTS, mixed mode)\n\n&gt; java DatagramServer\n</code></pre>\n<p>In macOS it doesn't and prints a bunch of received socket addresses.</p>\n<pre><code>$ java -version\nopenjdk version &quot;11.0.14&quot; 2022-01-18\nOpenJDK Runtime Environment Temurin-11.0.14+9 (build 11.0.14+9)\nOpenJDK 64-Bit Server VM Temurin-11.0.14+9 (build 11.0.14+9, mixed mode)\n\n$ java DatagramServer \n/127.0.0.1:61206\n/0.0.0.0:15922\n/0.0.0.0:15922\n/0.0.0.0:15922\n/0.0.0.0:15922\n/0.0.0.0:15922\n/0.0.0.0:15922\n/0.0.0.0:15922\n/0.0.0.0:0\n/0.0.0.0:15922\n/0.0.0.0:15922\n/0.0.0.0:15922\n/0.0.0.0:15922\n/0.0.0.0:15922\n...\n</code></pre>\n<p>Is this normal?</p>\n"},{"tags":["javascript","java","javafx"],"comments":[{"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"score":0,"creation_date":1472161943,"post_id":39155267,"comment_id":65654044,"body_markdown":"I would use JSON-as-an-Object-Literal (it&#39;s &quot;close enough&quot; that it&#39;ll work as expected). This will take care of all escaping/injection issues and provide a clean strongerly-typed message-oriented interface.","body":"I would use JSON-as-an-Object-Literal (it&#39;s &quot;close enough&quot; that it&#39;ll work as expected). This will take care of all escaping/injection issues and provide a clean strongerly-typed message-oriented interface."},{"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"score":0,"creation_date":1472161999,"post_id":39155267,"comment_id":65654065,"body_markdown":"`decodeJson(webEngine.executeScript(&quot;myName(&quot; + encodeJson(..) + &quot;)&quot;)`. The JSON serialization technique is left unspecified.","body":"<code>decodeJson(webEngine.executeScript(&quot;myName(&quot; + encodeJson(..) + &quot;)&quot;)</code>. The JSON serialization technique is left unspecified."},{"owner":{"account_id":7070916,"reputation":61,"user_id":5412546,"accept_rate":100,"display_name":"Jake lee"},"score":0,"creation_date":1472162306,"post_id":39155267,"comment_id":65654191,"body_markdown":"Thank you, I will try that. Also am I doing it right? Is it proper coding?","body":"Thank you, I will try that. Also am I doing it right? Is it proper coding?"}],"owner":{"account_id":7070916,"reputation":61,"user_id":5412546,"accept_rate":100,"display_name":"Jake lee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1254,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1646474866,"creation_date":1472161830,"question_id":39155267,"body_markdown":"I am trying to learn how to use JavaFX and I don&#39;t know what is the proper way of passing a value to JS and returning a value from JS.\r\n\r\nThis code works fine, but I don&#39;t know if it is proper coding. If you have any suggestion on how to do it properly please tell me.\r\n\r\nThank you.\r\n    \r\n    \r\n*JavaFX Class*\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.web.WebEngine;\r\n    import javafx.scene.web.WebView;\r\n    import javafx.stage.Stage;\r\n    \r\n    \r\n    public class NewFXMain extends Application {\r\n        private String msg;\r\n        private String name = &quot;Vader&quot;;\r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            \r\n            WebView browser = new WebView();\r\n            WebEngine webEngine = browser.getEngine();\r\n            webEngine.load(getClass().getResource(&quot;HelloWorld.html&quot;).toString());\r\n    \r\n            Button btn = new Button();\r\n            btn.setText(&quot;DO you want to know my secret Identity?!!!&quot;);\r\n            btn.setOnAction(new EventHandler&lt;ActionEvent&gt;() {        \r\n                @Override\r\n                public void handle(ActionEvent event) {\r\n\r\n                   //Pass this to javascript\r\n                   webEngine.executeScript(&quot;myName(&quot;+&quot;&#39;&quot;+ name +&quot;&#39;&quot;+ &quot;)&quot;);\r\n\r\n                   //get return value from javascript\r\n                   msg = (String)webEngine.executeScript(&quot;hello()&quot;);\r\n                   \r\n                   printMsg(msg);\r\n                }\r\n            });\r\n            \r\n            StackPane root = new StackPane();     \r\n            root.getChildren().add(btn);          \r\n            Scene scene = new Scene(root, 300, 250);\r\n            primaryStage.setTitle(&quot;Hello World!&quot;);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        }\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n        \r\n        public void printMsg(String s){\r\n            System.out.println(s);\r\n        }\r\n    }\r\n    \r\n*JavaScript*\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;title&gt;TODO supply a title&lt;/title&gt;\r\n            &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;script&gt;\r\n                var me    \r\n                function hello(){\r\n                    return me;\r\n                }\r\n                function myName(name){\r\n                    me = name;\r\n                }         \r\n            &lt;/script&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n","title":"JavaFx to Javascript. What is the proper way of passing parameters.","body":"<p>I am trying to learn how to use JavaFX and I don't know what is the proper way of passing a value to JS and returning a value from JS.</p>\n\n<p>This code works fine, but I don't know if it is proper coding. If you have any suggestion on how to do it properly please tell me.</p>\n\n<p>Thank you.</p>\n\n<p><em>JavaFX Class</em></p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.web.WebEngine;\nimport javafx.scene.web.WebView;\nimport javafx.stage.Stage;\n\n\npublic class NewFXMain extends Application {\n    private String msg;\n    private String name = \"Vader\";\n    @Override\n    public void start(Stage primaryStage) {\n\n        WebView browser = new WebView();\n        WebEngine webEngine = browser.getEngine();\n        webEngine.load(getClass().getResource(\"HelloWorld.html\").toString());\n\n        Button btn = new Button();\n        btn.setText(\"DO you want to know my secret Identity?!!!\");\n        btn.setOnAction(new EventHandler&lt;ActionEvent&gt;() {        \n            @Override\n            public void handle(ActionEvent event) {\n\n               //Pass this to javascript\n               webEngine.executeScript(\"myName(\"+\"'\"+ name +\"'\"+ \")\");\n\n               //get return value from javascript\n               msg = (String)webEngine.executeScript(\"hello()\");\n\n               printMsg(msg);\n            }\n        });\n\n        StackPane root = new StackPane();     \n        root.getChildren().add(btn);          \n        Scene scene = new Scene(root, 300, 250);\n        primaryStage.setTitle(\"Hello World!\");\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    public void printMsg(String s){\n        System.out.println(s);\n    }\n}\n</code></pre>\n\n<p><em>JavaScript</em></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;TODO supply a title&lt;/title&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;script&gt;\n            var me    \n            function hello(){\n                return me;\n            }\n            function myName(name){\n                me = name;\n            }         \n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","android","sqlite","android-sqlite"],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646474803,"creation_date":1646474803,"answer_id":71361246,"question_id":71360304,"body_markdown":"In your first code, you&#39;re adding the `FAVORITE` column after trying to insert data to it. In the second code, you create the table with the `FAVORITE` column first and then insert data. ","title":"I don&#39;t get why I HAVE to directly put code in the onCreate of my SQLiteOpenHelper","body":"<p>In your first code, you're adding the <code>FAVORITE</code> column after trying to insert data to it. In the second code, you create the table with the <code>FAVORITE</code> column first and then insert data.</p>\n"}],"owner":{"account_id":24438727,"reputation":3,"user_id":18362679,"display_name":"Miguel Andre Repatacodo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71361246,"answer_count":1,"score":0,"last_activity_date":1646474803,"creation_date":1646465622,"question_id":71360304,"body_markdown":"I&#39;ve fixed an issue in my code that doesn&#39;t allow me to add records to my SQLite database. Even though I&#39;ve fixed it, I don&#39;t really get what&#39;s wrong with my first code, so if anyone is willing to help me understand please do explain!\r\n\r\nMy first code:\r\n\r\n    package com.example.starbuzz;\r\n    \r\n    import android.content.ContentValues;\r\n    import android.content.Context;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.database.sqlite.SQLiteOpenHelper;\r\n    \r\n    public class StarbuzzDatabaseHelper extends SQLiteOpenHelper {\r\n    \r\n        public static final String DATABASE_NAME = &quot;DatabaseName&quot;;\r\n        public static final int DATABASE_VERSION = 2;\r\n    \r\n    \r\n        public StarbuzzDatabaseHelper(Context context) {\r\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            updateMyDatabase(db, 0, DATABASE_VERSION);\r\n        }\r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n            updateMyDatabase(db, oldVersion, newVersion);\r\n        }\r\n    \r\n        @Override\r\n        public void onDowngrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n            super.onDowngrade(db, oldVersion, newVersion);\r\n        }\r\n    \r\n        private void updateMyDatabase(SQLiteDatabase db, int oldVersion, int newVersion){\r\n            if (oldVersion &lt; 1){\r\n                db.execSQL(&quot;CREATE TABLE DRINK (&quot; +\r\n                        &quot;_id INTEGER PRIMARY KEY AUTOINCREMENT,&quot; +\r\n                        &quot;NAME TEXT,&quot; +\r\n                        &quot;DESCRIPTION TEXT,&quot; +\r\n                        &quot;IMAGE_RESOURCE_ID INTEGER);&quot;);\r\n    \r\n                insertDrink(db, &quot;Latte&quot;, &quot;Expresso and steamed milk&quot;, R.drawable.latte, false);\r\n                insertDrink(db, &quot;Cappuccino&quot;, &quot;Expresso, hot milk, and a steamed milk foam&quot;, R.drawable.cappuccino, true);\r\n                insertDrink(db, &quot;Filter&quot;, &quot;Highest quality beans roasted and brewed fresh&quot;, R.drawable.filter, false);\r\n            }\r\n    \r\n            if (oldVersion &lt; 2){\r\n                db.execSQL(&quot;ALTER TABLE DRINK ADD COLUMN FAVORITE NUMERIC&quot;);\r\n            }\r\n        }\r\n    \r\n        public static void insertDrink(SQLiteDatabase db,\r\n                                       String name,\r\n                                       String description,\r\n                                       int resourceID,\r\n                                       boolean favorite){\r\n            ContentValues drinkValues = new ContentValues();\r\n    \r\n            drinkValues.put(&quot;NAME&quot;, name);\r\n            drinkValues.put(&quot;DESCRIPTION&quot;, description);\r\n            drinkValues.put(&quot;IMAGE_RESOURCE_ID&quot;, resourceID);\r\n            drinkValues.put(&quot;FAVORITE&quot;, favorite);\r\n    \r\n            db.insert(&quot;DRINK&quot;, null, drinkValues);\r\n        }\r\n    }\r\n\r\nMy new code:\r\n\r\n    package com.example.starbuzz;\r\n    \r\n    import android.content.ContentValues;\r\n    import android.content.Context;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.database.sqlite.SQLiteOpenHelper;\r\n    \r\n    import androidx.annotation.Nullable;\r\n    \r\n    public class StarbuzzDatabaseHelper extends SQLiteOpenHelper {\r\n    \r\n        public static final String DATABASE_NAME = &quot;DatabaseName&quot;;\r\n        public static final int DATABASE_VERSION = 2;\r\n    \r\n    \r\n        public StarbuzzDatabaseHelper(Context context) {\r\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n    //        updateMyDatabase(db, 0, DATABASE_VERSION);\r\n            db.execSQL(&quot;CREATE TABLE DRINK (&quot; +\r\n                    &quot;_id INTEGER PRIMARY KEY AUTOINCREMENT,&quot; +\r\n                    &quot;NAME TEXT,&quot; +\r\n                    &quot;DESCRIPTION TEXT,&quot; +\r\n                    &quot;IMAGE_RESOURCE_ID INTEGER);&quot;);\r\n    \r\n            //Due to update version 2\r\n            db.execSQL(&quot;ALTER TABLE DRINK ADD COLUMN FAVORITE NUMERIC&quot;);\r\n    \r\n            insertDrink(db, &quot;Latte&quot;, &quot;Expresso and steamed milk&quot;, R.drawable.latte, false);\r\n            insertDrink(db, &quot;Cappuccino&quot;, &quot;Expresso, hot milk, and a steamed milk foam&quot;, R.drawable.cappuccino, true);\r\n            insertDrink(db, &quot;Filter&quot;, &quot;Highest quality beans roasted and brewed fresh&quot;, R.drawable.filter, false);\r\n        }\r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n    //        updateMyDatabase(db, oldVersion, newVersion);\r\n            if (oldVersion &lt; 2){\r\n                db.execSQL(&quot;ALTER TABLE DRINK ADD COLUMN FAVORITE NUMERIC&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onDowngrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n            super.onDowngrade(db, oldVersion, newVersion);\r\n        }\r\n    \r\n        private void updateMyDatabase(SQLiteDatabase db, int oldVersion, int newVersion){\r\n    /*        if (oldVersion &lt; 1){\r\n                db.execSQL(&quot;CREATE TABLE DRINK (&quot; +\r\n                        &quot;_id INTEGER PRIMARY KEY AUTOINCREMENT,&quot; +\r\n                        &quot;NAME TEXT,&quot; +\r\n                        &quot;DESCRIPTION TEXT,&quot; +\r\n                        &quot;IMAGE_RESOURCE_ID INTEGER);&quot;);\r\n    \r\n                insertDrink(db, &quot;Latte&quot;, &quot;Expresso and steamed milk&quot;, R.drawable.latte, false);\r\n                insertDrink(db, &quot;Cappuccino&quot;, &quot;Expresso, hot milk, and a steamed milk foam&quot;, R.drawable.cappuccino, true);\r\n                insertDrink(db, &quot;Filter&quot;, &quot;Highest quality beans roasted and brewed fresh&quot;, R.drawable.filter, false);\r\n            }\r\n    \r\n            if (oldVersion &lt; 2){\r\n                db.execSQL(&quot;ALTER TABLE DRINK ADD COLUMN FAVORITE NUMERIC&quot;);\r\n            }  */\r\n        }\r\n    \r\n        public static void insertDrink(SQLiteDatabase db,\r\n                                       String name,\r\n                                       String description,\r\n                                       int resourceID,\r\n                                       boolean favorite){\r\n    \r\n            ContentValues drinkValues = new ContentValues();\r\n    \r\n            drinkValues.put(&quot;NAME&quot;, name);\r\n            drinkValues.put(&quot;DESCRIPTION&quot;, description);\r\n            drinkValues.put(&quot;IMAGE_RESOURCE_ID&quot;, resourceID);\r\n            drinkValues.put(&quot;FAVORITE&quot;, favorite);\r\n    \r\n            db.insert(&quot;DRINK&quot;, null, drinkValues);\r\n        }\r\n    }\r\n\r\nThe whole point of using updateMyDatabase(SQLiteDatabase db, int oldVersion, int newVersion) was so that I could manage the changes in the database in one method, as instructed in the book I&#39;m following: *Head First Android Development, 2rd Edition*. Problem is that the database gets created, but it&#39;s empty so the insertDrink() methods aren&#39;t working. I think it should be working. \r\n\r\nTo fix the issue, I tried doing it the conventional way by adding all the code needed to run in onCreate() inside itself directly. This fixed the issue, but when I trace how the first code would run, I really don&#39;t think the result should be any different. Can anyone explain?\r\n\r\nBTW if you need any additional info or code, I&#39;m very much willing to give whatever.\r\nI&#39;m sorry in advance for my English, it isn&#39;t my first language.","title":"I don&#39;t get why I HAVE to directly put code in the onCreate of my SQLiteOpenHelper","body":"<p>I've fixed an issue in my code that doesn't allow me to add records to my SQLite database. Even though I've fixed it, I don't really get what's wrong with my first code, so if anyone is willing to help me understand please do explain!</p>\n<p>My first code:</p>\n<pre><code>package com.example.starbuzz;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\n\npublic class StarbuzzDatabaseHelper extends SQLiteOpenHelper {\n\n    public static final String DATABASE_NAME = &quot;DatabaseName&quot;;\n    public static final int DATABASE_VERSION = 2;\n\n\n    public StarbuzzDatabaseHelper(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        updateMyDatabase(db, 0, DATABASE_VERSION);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        updateMyDatabase(db, oldVersion, newVersion);\n    }\n\n    @Override\n    public void onDowngrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        super.onDowngrade(db, oldVersion, newVersion);\n    }\n\n    private void updateMyDatabase(SQLiteDatabase db, int oldVersion, int newVersion){\n        if (oldVersion &lt; 1){\n            db.execSQL(&quot;CREATE TABLE DRINK (&quot; +\n                    &quot;_id INTEGER PRIMARY KEY AUTOINCREMENT,&quot; +\n                    &quot;NAME TEXT,&quot; +\n                    &quot;DESCRIPTION TEXT,&quot; +\n                    &quot;IMAGE_RESOURCE_ID INTEGER);&quot;);\n\n            insertDrink(db, &quot;Latte&quot;, &quot;Expresso and steamed milk&quot;, R.drawable.latte, false);\n            insertDrink(db, &quot;Cappuccino&quot;, &quot;Expresso, hot milk, and a steamed milk foam&quot;, R.drawable.cappuccino, true);\n            insertDrink(db, &quot;Filter&quot;, &quot;Highest quality beans roasted and brewed fresh&quot;, R.drawable.filter, false);\n        }\n\n        if (oldVersion &lt; 2){\n            db.execSQL(&quot;ALTER TABLE DRINK ADD COLUMN FAVORITE NUMERIC&quot;);\n        }\n    }\n\n    public static void insertDrink(SQLiteDatabase db,\n                                   String name,\n                                   String description,\n                                   int resourceID,\n                                   boolean favorite){\n        ContentValues drinkValues = new ContentValues();\n\n        drinkValues.put(&quot;NAME&quot;, name);\n        drinkValues.put(&quot;DESCRIPTION&quot;, description);\n        drinkValues.put(&quot;IMAGE_RESOURCE_ID&quot;, resourceID);\n        drinkValues.put(&quot;FAVORITE&quot;, favorite);\n\n        db.insert(&quot;DRINK&quot;, null, drinkValues);\n    }\n}\n</code></pre>\n<p>My new code:</p>\n<pre><code>package com.example.starbuzz;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\n\nimport androidx.annotation.Nullable;\n\npublic class StarbuzzDatabaseHelper extends SQLiteOpenHelper {\n\n    public static final String DATABASE_NAME = &quot;DatabaseName&quot;;\n    public static final int DATABASE_VERSION = 2;\n\n\n    public StarbuzzDatabaseHelper(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n//        updateMyDatabase(db, 0, DATABASE_VERSION);\n        db.execSQL(&quot;CREATE TABLE DRINK (&quot; +\n                &quot;_id INTEGER PRIMARY KEY AUTOINCREMENT,&quot; +\n                &quot;NAME TEXT,&quot; +\n                &quot;DESCRIPTION TEXT,&quot; +\n                &quot;IMAGE_RESOURCE_ID INTEGER);&quot;);\n\n        //Due to update version 2\n        db.execSQL(&quot;ALTER TABLE DRINK ADD COLUMN FAVORITE NUMERIC&quot;);\n\n        insertDrink(db, &quot;Latte&quot;, &quot;Expresso and steamed milk&quot;, R.drawable.latte, false);\n        insertDrink(db, &quot;Cappuccino&quot;, &quot;Expresso, hot milk, and a steamed milk foam&quot;, R.drawable.cappuccino, true);\n        insertDrink(db, &quot;Filter&quot;, &quot;Highest quality beans roasted and brewed fresh&quot;, R.drawable.filter, false);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n//        updateMyDatabase(db, oldVersion, newVersion);\n        if (oldVersion &lt; 2){\n            db.execSQL(&quot;ALTER TABLE DRINK ADD COLUMN FAVORITE NUMERIC&quot;);\n        }\n    }\n\n    @Override\n    public void onDowngrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        super.onDowngrade(db, oldVersion, newVersion);\n    }\n\n    private void updateMyDatabase(SQLiteDatabase db, int oldVersion, int newVersion){\n/*        if (oldVersion &lt; 1){\n            db.execSQL(&quot;CREATE TABLE DRINK (&quot; +\n                    &quot;_id INTEGER PRIMARY KEY AUTOINCREMENT,&quot; +\n                    &quot;NAME TEXT,&quot; +\n                    &quot;DESCRIPTION TEXT,&quot; +\n                    &quot;IMAGE_RESOURCE_ID INTEGER);&quot;);\n\n            insertDrink(db, &quot;Latte&quot;, &quot;Expresso and steamed milk&quot;, R.drawable.latte, false);\n            insertDrink(db, &quot;Cappuccino&quot;, &quot;Expresso, hot milk, and a steamed milk foam&quot;, R.drawable.cappuccino, true);\n            insertDrink(db, &quot;Filter&quot;, &quot;Highest quality beans roasted and brewed fresh&quot;, R.drawable.filter, false);\n        }\n\n        if (oldVersion &lt; 2){\n            db.execSQL(&quot;ALTER TABLE DRINK ADD COLUMN FAVORITE NUMERIC&quot;);\n        }  */\n    }\n\n    public static void insertDrink(SQLiteDatabase db,\n                                   String name,\n                                   String description,\n                                   int resourceID,\n                                   boolean favorite){\n\n        ContentValues drinkValues = new ContentValues();\n\n        drinkValues.put(&quot;NAME&quot;, name);\n        drinkValues.put(&quot;DESCRIPTION&quot;, description);\n        drinkValues.put(&quot;IMAGE_RESOURCE_ID&quot;, resourceID);\n        drinkValues.put(&quot;FAVORITE&quot;, favorite);\n\n        db.insert(&quot;DRINK&quot;, null, drinkValues);\n    }\n}\n</code></pre>\n<p>The whole point of using updateMyDatabase(SQLiteDatabase db, int oldVersion, int newVersion) was so that I could manage the changes in the database in one method, as instructed in the book I'm following: <em>Head First Android Development, 2rd Edition</em>. Problem is that the database gets created, but it's empty so the insertDrink() methods aren't working. I think it should be working.</p>\n<p>To fix the issue, I tried doing it the conventional way by adding all the code needed to run in onCreate() inside itself directly. This fixed the issue, but when I trace how the first code would run, I really don't think the result should be any different. Can anyone explain?</p>\n<p>BTW if you need any additional info or code, I'm very much willing to give whatever.\nI'm sorry in advance for my English, it isn't my first language.</p>\n"},{"tags":["java","swing","jbutton","jlabel"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1457916227,"post_id":35977801,"comment_id":59609841,"body_markdown":"Try html, `new JLabel(&quot;&lt;center&gt;Simple test&lt;/center&gt;&quot;);`","body":"Try html, <code>new JLabel(&quot;&lt;center&gt;Simple test&lt;&#47;center&gt;&quot;);</code>"},{"owner":{"account_id":29269,"reputation":1995,"user_id":78972,"display_name":"dovetalk"},"score":6,"creation_date":1457916235,"post_id":35977801,"comment_id":59609844,"body_markdown":"Why don&#39;t you just `new JButton(&quot;Simple test&quot;)`?","body":"Why don&#39;t you just <code>new JButton(&quot;Simple test&quot;)</code>?"},{"owner":{"account_id":7423867,"reputation":409,"user_id":5647122,"accept_rate":62,"display_name":"KingOfBabu"},"score":0,"creation_date":1457916268,"post_id":35977801,"comment_id":59609857,"body_markdown":"Because I need to do some operation with it like \t\t\t\tlabeltest.setForeground(Color.WHITE);\n\t\t\t\tlabeltest.setBackground(Color.BLACK);\n\t\t\t\tlabeltest.setOpaque(true);","body":"Because I need to do some operation with it like \t\t\t\tlabeltest.setForeground(Color.WHITE); \t\t\t\tlabeltest.setBackground(Color.BLACK); \t\t\t\tlabeltest.setOpaque(true);"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1457916440,"post_id":35977801,"comment_id":59609888,"body_markdown":"That still doesn&#39;t explain why you&#39;re trying to add a JLabel to a JButton. Any pictures of what you&#39;re trying to achieve?","body":"That still doesn&#39;t explain why you&#39;re trying to add a JLabel to a JButton. Any pictures of what you&#39;re trying to achieve?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1457916579,"post_id":35977801,"comment_id":59609923,"body_markdown":"The reason I ask is to be sure that yours isn&#39;t an XY Problem in disguise.","body":"The reason I ask is to be sure that yours isn&#39;t an XY Problem in disguise."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1457916652,"post_id":35977801,"comment_id":59609943,"body_markdown":"Hint: `JButton` doesn&#39;t have a layout manager, even if you solved that problem, it&#39;s highly unlikely that the button would even use any child components as part of its sizing calculations and simply appear very, very small","body":"Hint: <code>JButton</code> doesn&#39;t have a layout manager, even if you solved that problem, it&#39;s highly unlikely that the button would even use any child components as part of its sizing calculations and simply appear very, very small"},{"owner":{"account_id":7423867,"reputation":409,"user_id":5647122,"accept_rate":62,"display_name":"KingOfBabu"},"score":0,"creation_date":1457916875,"post_id":35977801,"comment_id":59610002,"body_markdown":"I&#39;ve add the output that I get (picture). I can&#39;t center the number &quot;3&quot; on this button.","body":"I&#39;ve add the output that I get (picture). I can&#39;t center the number &quot;3&quot; on this button."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1457917920,"post_id":35977801,"comment_id":59610257,"body_markdown":"Create an Icon of the text and give the Icon the foreground/background colors that you want.","body":"Create an Icon of the text and give the Icon the foreground/background colors that you want."},{"owner":{"account_id":7423867,"reputation":409,"user_id":5647122,"accept_rate":62,"display_name":"KingOfBabu"},"score":0,"creation_date":1457917953,"post_id":35977801,"comment_id":59610266,"body_markdown":"I tried this but the problem comes when I had to do button.setenabled(false); after this the text becomes almost invisible.","body":"I tried this but the problem comes when I had to do button.setenabled(false); after this the text becomes almost invisible."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1457918785,"creation_date":1457918785,"answer_id":35978108,"question_id":35977801,"body_markdown":"Create an Icon of the text and give the Icon the foreground/background colors that you want.\r\n\r\n&gt; I tried this but the problem comes when I had to do button.setenabled(false); after this the text becomes almost invisible\r\n\r\nYou can set the disabled Icon to be the same as the Icon and it will not be painted in the disabled state:\r\n\r\n    JButton button = new JButton( new ImageIcon(...) );\r\n    button.setDisabledIcon( button.getIcon() );\r\n    button.setEnabled(false);\r\n\r\nOf course the problem with this approach is that the user doesn&#39;t know the button is disabled. So in reality you would need 2 icons:\r\n\r\n1. one for the normal state\r\n2. one for the disabled state\r\n\r\n","title":"Java add a JLabel in the middle of a JButton","body":"<p>Create an Icon of the text and give the Icon the foreground/background colors that you want.</p>\n\n<blockquote>\n  <p>I tried this but the problem comes when I had to do button.setenabled(false); after this the text becomes almost invisible</p>\n</blockquote>\n\n<p>You can set the disabled Icon to be the same as the Icon and it will not be painted in the disabled state:</p>\n\n<pre><code>JButton button = new JButton( new ImageIcon(...) );\nbutton.setDisabledIcon( button.getIcon() );\nbutton.setEnabled(false);\n</code></pre>\n\n<p>Of course the problem with this approach is that the user doesn't know the button is disabled. So in reality you would need 2 icons:</p>\n\n<ol>\n<li>one for the normal state</li>\n<li>one for the disabled state</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1457937789,"creation_date":1457937789,"answer_id":35981066,"question_id":35977801,"body_markdown":"A `JButton` is also a `java.awt.Container`. Thus you can set a layout manager. E.g. you can use a GridBagLayout. \r\n\r\n    public class Main {\r\n    \r\n      public static void main(String[] args) {\r\n        JFrame frame = new JFrame();\r\n    \r\n        JToggleButton toggleButton = new JToggleButton();\r\n        JLabel jLabel = new JLabel(&quot;3&quot;);\r\n    \r\n        JToggleButton.ToggleButtonModel toggleButtonModel = (JToggleButton.ToggleButtonModel) toggleButton.getModel()\r\n        ToggleForegroundAction toggleForegroundAction = \r\n                new ToggleForegroundAction(toggleButtonModel, Color.WHITE, Color.RED);\r\n        toggleForegroundAction.setComponent(jLabel);\r\n        toggleButton.setAction(toggleForegroundAction);\r\n    \r\n        toggleButton.setLayout(new GridBagLayout());\r\n        toggleButton.add(jLabel, new GridBagConstraints());\r\n    \r\n        JPanel panel = new JPanel();\r\n        panel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\r\n        panel.setLayout(new BorderLayout());\r\n        panel.add(toggleButton, BorderLayout.CENTER);\r\n    \r\n        Container contentPane = frame.getContentPane();\r\n        contentPane.add(panel);\r\n    \r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n      }\r\n    }\r\n\r\nAn action that toggles the label&#39;s foreground color might look like this\r\n\r\n      public class ToggleForegroundAction extends AbstractAction {\r\n    \r\n        private JComponent component;\r\n        private JToggleButton.ToggleButtonModel toggleButtonModel;\r\n        private final Color selectedColor;\r\n        private final Color unselectedColor;\r\n    \r\n        public ToggleForegroundAction(JToggleButton.ToggleButtonModel toggleButtonModel, Color selectedColor, Color unselectedColor) {\r\n          this.toggleButtonModel = toggleButtonModel;\r\n          this.selectedColor = selectedColor;\r\n          this.unselectedColor = unselectedColor;\r\n        }\r\n    \r\n        public void setComponent(JComponent component) {\r\n          this.component = component;\r\n          setForeground(component, toggleButtonModel.isSelected());\r\n        }\r\n    \r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n          JComponent targetComponent = this.component;\r\n          if (targetComponent == null) {\r\n            targetComponent = (JComponent) e.getSource();\r\n          }\r\n          setForeground(targetComponent, toggleButtonModel.isSelected());\r\n        }\r\n\r\n        private void setForeground(JComponent targetComponent, boolean isSelected) {\r\n          Color foreground;\r\n          if (isSelected) {\r\n            foreground = selectedColor;\r\n          } else {\r\n            foreground = unselectedColor;\r\n          }\r\n          targetComponent.setForeground(foreground);\r\n        }\r\n      }\r\n\r\n[![Unselected][1]][1] =&gt; [![Selected][2]][2]\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ZQHQo.png\r\n  [2]: http://i.stack.imgur.com/ktpOH.png","title":"Java add a JLabel in the middle of a JButton","body":"<p>A <code>JButton</code> is also a <code>java.awt.Container</code>. Thus you can set a layout manager. E.g. you can use a GridBagLayout. </p>\n\n<pre><code>public class Main {\n\n  public static void main(String[] args) {\n    JFrame frame = new JFrame();\n\n    JToggleButton toggleButton = new JToggleButton();\n    JLabel jLabel = new JLabel(\"3\");\n\n    JToggleButton.ToggleButtonModel toggleButtonModel = (JToggleButton.ToggleButtonModel) toggleButton.getModel()\n    ToggleForegroundAction toggleForegroundAction = \n            new ToggleForegroundAction(toggleButtonModel, Color.WHITE, Color.RED);\n    toggleForegroundAction.setComponent(jLabel);\n    toggleButton.setAction(toggleForegroundAction);\n\n    toggleButton.setLayout(new GridBagLayout());\n    toggleButton.add(jLabel, new GridBagConstraints());\n\n    JPanel panel = new JPanel();\n    panel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\n    panel.setLayout(new BorderLayout());\n    panel.add(toggleButton, BorderLayout.CENTER);\n\n    Container contentPane = frame.getContentPane();\n    contentPane.add(panel);\n\n    frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n    frame.setLocationRelativeTo(null);\n    frame.pack();\n    frame.setVisible(true);\n  }\n}\n</code></pre>\n\n<p>An action that toggles the label's foreground color might look like this</p>\n\n<pre><code>  public class ToggleForegroundAction extends AbstractAction {\n\n    private JComponent component;\n    private JToggleButton.ToggleButtonModel toggleButtonModel;\n    private final Color selectedColor;\n    private final Color unselectedColor;\n\n    public ToggleForegroundAction(JToggleButton.ToggleButtonModel toggleButtonModel, Color selectedColor, Color unselectedColor) {\n      this.toggleButtonModel = toggleButtonModel;\n      this.selectedColor = selectedColor;\n      this.unselectedColor = unselectedColor;\n    }\n\n    public void setComponent(JComponent component) {\n      this.component = component;\n      setForeground(component, toggleButtonModel.isSelected());\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n      JComponent targetComponent = this.component;\n      if (targetComponent == null) {\n        targetComponent = (JComponent) e.getSource();\n      }\n      setForeground(targetComponent, toggleButtonModel.isSelected());\n    }\n\n    private void setForeground(JComponent targetComponent, boolean isSelected) {\n      Color foreground;\n      if (isSelected) {\n        foreground = selectedColor;\n      } else {\n        foreground = unselectedColor;\n      }\n      targetComponent.setForeground(foreground);\n    }\n  }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ZQHQo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZQHQo.png\" alt=\"Unselected\"></a> => <a href=\"https://i.stack.imgur.com/ktpOH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ktpOH.png\" alt=\"Selected\"></a></p>\n"}],"owner":{"account_id":7423867,"reputation":409,"user_id":5647122,"accept_rate":62,"display_name":"KingOfBabu"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3967,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1646474530,"creation_date":1457916128,"question_id":35977801,"body_markdown":"I would like to simply add a JLabel into a JButton and center it horizontally. I&#39;ve tried many thing but the text stay left side... Here is my code : \r\n\r\n\t\tJLabel labeltest = new JLabel(&quot;Simple test&quot;);\r\n\t\tJButton myButton = new JButton();\r\n\t\tmyButton.setHorizontalTextPosition(SwingConstants.CENTER);\r\n\t\tmyButton.add(labeltest);\r\n[![output picture][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/KYpZv.jpg","title":"Java add a JLabel in the middle of a JButton","body":"<p>I would like to simply add a JLabel into a JButton and center it horizontally. I've tried many thing but the text stay left side... Here is my code : </p>\n\n<pre><code>    JLabel labeltest = new JLabel(\"Simple test\");\n    JButton myButton = new JButton();\n    myButton.setHorizontalTextPosition(SwingConstants.CENTER);\n    myButton.add(labeltest);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/KYpZv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KYpZv.jpg\" alt=\"output picture\"></a></p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646473678,"creation_date":1646473678,"answer_id":71361139,"question_id":71355217,"body_markdown":"First of all, stop ignoring errors. At a minimum, please add inside the onCancelled method:\r\n\r\n    Log.d(TAG, error.getMessage());\r\n\r\nPlease also note that Picasso is a library that can help you download images and **not** update them in the Realtime Database. If you want to update the image at an existing location, remember that there is no need to read it first. To solve this, please use the following line of code:\r\n\r\n    pImageRef.updateChildren(&quot;yourNewUrl&quot;);\r\n\r\nYou can also use in this case `addOnCompleteListener()` to see if something goes wrong.\r\n\r\nIf you however need to update the image right after you read it, then inside the onDataChange() method, use the following line of code:\r\n\r\n    dataSnapshot.getRef().updateChildren(&quot;yourNewUrl&quot;);","title":"how to update user profile image using firebase and Picasso library","body":"<p>First of all, stop ignoring errors. At a minimum, please add inside the onCancelled method:</p>\n<pre><code>Log.d(TAG, error.getMessage());\n</code></pre>\n<p>Please also note that Picasso is a library that can help you download images and <strong>not</strong> update them in the Realtime Database. If you want to update the image at an existing location, remember that there is no need to read it first. To solve this, please use the following line of code:</p>\n<pre><code>pImageRef.updateChildren(&quot;yourNewUrl&quot;);\n</code></pre>\n<p>You can also use in this case <code>addOnCompleteListener()</code> to see if something goes wrong.</p>\n<p>If you however need to update the image right after you read it, then inside the onDataChange() method, use the following line of code:</p>\n<pre><code>dataSnapshot.getRef().updateChildren(&quot;yourNewUrl&quot;);\n</code></pre>\n"}],"owner":{"reputation":17,"user_id":14228581,"display_name":"Jawad Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71361139,"answer_count":1,"score":1,"last_activity_date":1646473865,"creation_date":1646415420,"question_id":71355217,"body_markdown":"I&#39;m trying to update the user profile image in the Firebase Realtime Database on my application but I&#39;m unable to get the reference of the current user as I declare it in another activity.\r\n\r\nMy code and database structure is as follows:\r\n\r\n[profile image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hBgac.png\r\n\r\nas in this current picture and the code, I&#39;m writing manually the id of the child node (gli) because it is the user_name of the current user in the firebase, please help me how can I give it a path through coding.\r\n\r\ncode:\r\n\r\n    private void profileImage(){\r\n    \r\n            pImageRef = FirebaseDatabase.getInstance().getReference(&quot;doctors/doctors_registration/gli/pimage&quot;); &#128072;&#128072;\r\n    \r\n            pImageRef.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n    \r\n                    String  imageurl=  String.valueOf(dataSnapshot.getValue()) ;\r\n                    Toast.makeText(HomeActivity.this, &quot;link:&quot;+imageurl, Toast.LENGTH_SHORT).show();\r\n                    Picasso.get()\r\n                            .load(imageurl)\r\n                            .into(profileimg);\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) {\r\n    \r\n                }\r\n            });\r\n    \r\n        }\r\n\r\n\r\nPlease see the screenshot of the database structure and help me how I can get the current user profile image?","title":"how to update user profile image using firebase and Picasso library","body":"<p>I'm trying to update the user profile image in the Firebase Realtime Database on my application but I'm unable to get the reference of the current user as I declare it in another activity.</p>\n<p>My code and database structure is as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/hBgac.png\" rel=\"nofollow noreferrer\">profile image</a></p>\n<p>as in this current picture and the code, I'm writing manually the id of the child node (gli) because it is the user_name of the current user in the firebase, please help me how can I give it a path through coding.</p>\n<p>code:</p>\n<pre><code>private void profileImage(){\n\n        pImageRef = FirebaseDatabase.getInstance().getReference(&quot;doctors/doctors_registration/gli/pimage&quot;); 👈👈\n\n        pImageRef.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n\n                String  imageurl=  String.valueOf(dataSnapshot.getValue()) ;\n                Toast.makeText(HomeActivity.this, &quot;link:&quot;+imageurl, Toast.LENGTH_SHORT).show();\n                Picasso.get()\n                        .load(imageurl)\n                        .into(profileimg);\n            }\n\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n\n            }\n        });\n\n    }\n</code></pre>\n<p>Please see the screenshot of the database structure and help me how I can get the current user profile image?</p>\n"},{"tags":["java","maven","protocol-buffers","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646473632,"creation_date":1646473632,"answer_id":71361134,"question_id":71353187,"body_markdown":"I&#39;ve been wrong with\r\n&gt; The grpc-java manual says, that I must put my proto files into\r\n&gt; src/main/resourses/proto folder.\r\n\r\nWe can set `protoSourceRoot` configuration for [grpc-java](https://github.com/grpc/grpc-java) plugin. We can specify any required proto source folder as follows:\r\n```xml\r\n&lt;protoSourceRoot&gt;${basedir}/../proto&lt;/protoSourceRoot&gt;\r\n```\r\nIt means no need in separate `maven` module and library.\r\n\r\n","title":"How to share protobuf files between maven modules?","body":"<p>I've been wrong with</p>\n<blockquote>\n<p>The grpc-java manual says, that I must put my proto files into\nsrc/main/resourses/proto folder.</p>\n</blockquote>\n<p>We can set <code>protoSourceRoot</code> configuration for <a href=\"https://github.com/grpc/grpc-java\" rel=\"nofollow noreferrer\">grpc-java</a> plugin. We can specify any required proto source folder as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;protoSourceRoot&gt;${basedir}/../proto&lt;/protoSourceRoot&gt;\n</code></pre>\n<p>It means no need in separate <code>maven</code> module and library.</p>\n"}],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":914,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1646473632,"creation_date":1646405660,"question_id":71353187,"body_markdown":"I have two services A and B which placed in monorepo in different maven modules, also they have Aggregate `pom.xml` which contains the next modules:\r\n```xml\r\n&lt;modules&gt;\r\n\t&lt;module&gt;A&lt;/module&gt;\r\n\t&lt;module&gt;B&lt;/module&gt;\r\n&lt;/modules&gt;\r\n```\r\nBoth services are talking through gRPC and have common protocol which described in the proto files.\r\nThe [grpc-java manual](https://github.com/grpc/grpc-java) says, that I must put my proto files into `src/main/resourses/proto` folder.\r\nIt means I have to copy the same proto files bewteen two services:\r\n\r\n1. `A/src/main/resourses/proto/somefile.proto`\r\n2. `B/src/main/resourses/proto/somefile.proto`\r\n\r\nWhich is code duplication actually.\r\nThe main question - How can I share and compile proto files between two maven modules in monorepo?\r\n\r\nI have done the next:\r\n1. Created the separate library which contains only proto files. Let&#39;s call it C.\r\n2. Added C dependency to A and B modules.\r\nAggregated `pom.xml` looks like:\r\n\r\n```xml\r\n&lt;modules&gt;\r\n\t&lt;module&gt;C&lt;/module&gt;\r\n\t&lt;module&gt;A&lt;/module&gt;\r\n\t&lt;module&gt;B&lt;/module&gt;\r\n&lt;/modules&gt;\r\n```\r\n\r\nThe approach seems quite havy for that case and I don&#39;t want to have a separate maven module for that. \r\nMoreover, I will definetley face with a problem, if I use different language for B service (something other than java and maven). \r\nIs there a known solution for this problem? Can I share protofiles without separate library/module? Any examples appreciated.","title":"How to share protobuf files between maven modules?","body":"<p>I have two services A and B which placed in monorepo in different maven modules, also they have Aggregate <code>pom.xml</code> which contains the next modules:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;modules&gt;\n    &lt;module&gt;A&lt;/module&gt;\n    &lt;module&gt;B&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n<p>Both services are talking through gRPC and have common protocol which described in the proto files.\nThe <a href=\"https://github.com/grpc/grpc-java\" rel=\"nofollow noreferrer\">grpc-java manual</a> says, that I must put my proto files into <code>src/main/resourses/proto</code> folder.\nIt means I have to copy the same proto files bewteen two services:</p>\n<ol>\n<li><code>A/src/main/resourses/proto/somefile.proto</code></li>\n<li><code>B/src/main/resourses/proto/somefile.proto</code></li>\n</ol>\n<p>Which is code duplication actually.\nThe main question - How can I share and compile proto files between two maven modules in monorepo?</p>\n<p>I have done the next:</p>\n<ol>\n<li>Created the separate library which contains only proto files. Let's call it C.</li>\n<li>Added C dependency to A and B modules.\nAggregated <code>pom.xml</code> looks like:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;modules&gt;\n    &lt;module&gt;C&lt;/module&gt;\n    &lt;module&gt;A&lt;/module&gt;\n    &lt;module&gt;B&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n<p>The approach seems quite havy for that case and I don't want to have a separate maven module for that.\nMoreover, I will definetley face with a problem, if I use different language for B service (something other than java and maven).\nIs there a known solution for this problem? Can I share protofiles without separate library/module? Any examples appreciated.</p>\n"},{"tags":["java","gradle","intellij-idea","lwjgl"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":3,"creation_date":1567795908,"post_id":57827139,"comment_id":102084635,"body_markdown":"jdk1.8.0_101.jdk is ancient, did you try a more recent build, like _211?","body":"jdk1.8.0_101.jdk is ancient, did you try a more recent build, like _211?"}],"answers":[{"tags":[],"owner":{"account_id":2297045,"reputation":4337,"user_id":2018247,"display_name":"Martin Strejc"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1567883248,"creation_date":1567883248,"answer_id":57836715,"question_id":57827139,"body_markdown":"The sample program uses GWT (Java GUI - graphic interface). It requires xorg server running on Linux (if you are on Linux). See the answer https://stackoverflow.com/questions/53549899/jvm-error-process-finished-with-exit-code-134-interrupted-by-signal-6-sigabrt","title":"Why is Java crashing (exit code 134)?","body":"<p>The sample program uses GWT (Java GUI - graphic interface). It requires xorg server running on Linux (if you are on Linux). See the answer <a href=\"https://stackoverflow.com/questions/53549899/jvm-error-process-finished-with-exit-code-134-interrupted-by-signal-6-sigabrt\">JVM error: Process finished with exit code 134 (interrupted by signal 6: SIGABRT)</a></p>\n"},{"tags":[],"owner":{"account_id":3002132,"reputation":1376,"user_id":2547427,"accept_rate":50,"display_name":"jonathanzh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632418669,"creation_date":1632418669,"answer_id":69304607,"question_id":57827139,"body_markdown":"I have had this same issue (exit value 134) before, but maybe in a slightly different context: in Android Studio running on a Ubuntu machine. When this happened, I also saw an error log file produced under the ./app folder, named “hs_err_pid[a number].log”. This log file provided more info about the error. However, I still couldn’t figure out a solution by reading the log file.\r\n\r\nSince this error does not always happen to me, I’ve tried 2 brute-force methods:\r\n\r\nMethod #1. Remove the ./build folder\r\n\r\nMethod #2. In Android Studio, → File → Invalidate Cashes / Restart…\r\n\r\nIt appears that the error can be avoided by using one of, or a combination of, these 2 methods.","title":"Why is Java crashing (exit code 134)?","body":"<p>I have had this same issue (exit value 134) before, but maybe in a slightly different context: in Android Studio running on a Ubuntu machine. When this happened, I also saw an error log file produced under the ./app folder, named “hs_err_pid[a number].log”. This log file provided more info about the error. However, I still couldn’t figure out a solution by reading the log file.</p>\n<p>Since this error does not always happen to me, I’ve tried 2 brute-force methods:</p>\n<p>Method #1. Remove the ./build folder</p>\n<p>Method #2. In Android Studio, → File → Invalidate Cashes / Restart…</p>\n<p>It appears that the error can be avoided by using one of, or a combination of, these 2 methods.</p>\n"},{"tags":[],"owner":{"account_id":2559860,"reputation":101,"user_id":2221080,"display_name":"Anupam Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646473539,"creation_date":1646473539,"answer_id":71361120,"question_id":57827139,"body_markdown":"Not sure if its relevant but I faced the same issue while trying to run some introductory code on my Mac. For me the issue seemed to be around library version configurations. I was earlier using these:\r\n\r\n    project.ext.lwjglVersion = &quot;3.2.3&quot;\r\n    project.ext.jomlVersion = &quot;1.10.4&quot;\r\n\r\nAnd later changed it to this (As per the LWJGL library customisation page)\r\n\r\n    project.ext.lwjglVersion = &quot;3.3.1&quot;\r\n    project.ext.jomlVersion = &quot;1.10.4&quot;\r\n\r\nFurther, I also added the VM option: `-XstartOnFirstThread`\r\n\r\nBut that was for a different error only as far as I understand.","title":"Why is Java crashing (exit code 134)?","body":"<p>Not sure if its relevant but I faced the same issue while trying to run some introductory code on my Mac. For me the issue seemed to be around library version configurations. I was earlier using these:</p>\n<pre><code>project.ext.lwjglVersion = &quot;3.2.3&quot;\nproject.ext.jomlVersion = &quot;1.10.4&quot;\n</code></pre>\n<p>And later changed it to this (As per the LWJGL library customisation page)</p>\n<pre><code>project.ext.lwjglVersion = &quot;3.3.1&quot;\nproject.ext.jomlVersion = &quot;1.10.4&quot;\n</code></pre>\n<p>Further, I also added the VM option: <code>-XstartOnFirstThread</code></p>\n<p>But that was for a different error only as far as I understand.</p>\n"}],"owner":{"account_id":9096587,"reputation":145,"user_id":6770360,"display_name":"korochun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10944,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1646473539,"creation_date":1567795312,"question_id":57827139,"body_markdown":"I&#39;m trying to get started with LWJGL 3, but it doesn&#39;t even run [the sample program](https://www.lwjgl.org/guide). It just crashes the JVM (error code 134, SIGABRT, JVM tries to access memory at address 0).\r\n\r\nI&#39;ve reinstalled Gradle, made sure it uses the right Java version and re-downloaded the LWJGL script, but to no avail.\r\n\r\nEDIT: I updated Java to the latest version, but it still doesn&#39;t work...\r\n\r\nI used the default Java app Gradle config and the sample program (linked above).\r\n\r\nThe expected behaviour is the app running, opening a window, etc., but instead Java crashes.\r\n```\r\nExecution failed for task &#39;:run&#39;.\r\n&gt; Process &#39;command &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_101.jdk/Contents/Home/bin/java&#39;&#39; finished with non-zero exit value 134","title":"Why is Java crashing (exit code 134)?","body":"<p>I'm trying to get started with LWJGL 3, but it doesn't even run <a href=\"https://www.lwjgl.org/guide\" rel=\"nofollow noreferrer\">the sample program</a>. It just crashes the JVM (error code 134, SIGABRT, JVM tries to access memory at address 0).</p>\n\n<p>I've reinstalled Gradle, made sure it uses the right Java version and re-downloaded the LWJGL script, but to no avail.</p>\n\n<p>EDIT: I updated Java to the latest version, but it still doesn't work...</p>\n\n<p>I used the default Java app Gradle config and the sample program (linked above).</p>\n\n<p>The expected behaviour is the app running, opening a window, etc., but instead Java crashes.</p>\n\n<pre><code>Execution failed for task ':run'.\n&gt; Process 'command '/Library/Java/JavaVirtualMachines/jdk1.8.0_101.jdk/Contents/Home/bin/java'' finished with non-zero exit value 134\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":1,"creation_date":1646471998,"post_id":71360798,"comment_id":126135527,"body_markdown":"Why did you pick a hash map over a list?","body":"Why did you pick a hash map over a list?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1646473908,"post_id":71360798,"comment_id":126135834,"body_markdown":"What exactly is the problem you are facing? Just tested your code and it works. There are some typos here and there, your do not utilise a `Map` correctly, but your search functions finds the desired worker from the input.","body":"What exactly is the problem you are facing? Just tested your code and it works. There are some typos here and there, your do not utilise a <code>Map</code> correctly, but your search functions finds the desired worker from the input."},{"owner":{"account_id":24459251,"reputation":9,"user_id":18380473,"display_name":"plmeqruqwucfiaboop"},"score":0,"creation_date":1646475563,"post_id":71360798,"comment_id":126136121,"body_markdown":"@maigcmn I wanted to learn how to use HashMaps since I have no previous experience using them.","body":"@maigcmn I wanted to learn how to use HashMaps since I have no previous experience using them."},{"owner":{"account_id":24459251,"reputation":9,"user_id":18380473,"display_name":"plmeqruqwucfiaboop"},"score":0,"creation_date":1646475709,"post_id":71360798,"comment_id":126136142,"body_markdown":"@Chaosfire The problem was, not taking account for the typos, the missing System.out.println(); when calling the methods as pointed out by Ani M.","body":"@Chaosfire The problem was, not taking account for the typos, the missing System.out.println(); when calling the methods as pointed out by Ani M."}],"answers":[{"tags":[],"owner":{"account_id":19875789,"reputation":2650,"user_id":14645101,"display_name":"Aniketh Malyala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646473497,"creation_date":1646473497,"answer_id":71361118,"question_id":71360798,"body_markdown":"I think you just have a few typos in your code:\r\n\r\nFirst of all, in your `Worker` class, you need to define the constructor so that it is `public Worker()` and not `public Flight()`:\r\n\r\n    public Worker(String id, String name, String location) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.location = location;\r\n    }\r\n\r\nAdditionally, you had a misplaced parenthesis in your `WorkerDB` class:\r\n\r\n    workers.put(sizeOfHashMap, new Worker(workerDataArray[1], workerDataArray[2], workerDataArray[3]));\r\n\r\n\r\nAlso, since you are using a return statement to return the String, we need to use a print statement to output it in our main method:\r\n\r\n    System.out.println(workers.searchWorker(&quot;W03&quot;));   \r\n\r\nResult:\r\n\r\n   W01 John Workshop\r\n\r\nAdditionally, you should be going up until (and including) the length of the HashMap since you start at 0, so use `&lt;=`:\r\n\r\n    for (int i = 1; i &lt;= workers.size(); i++) {\r\n\r\nI hope this helped answer your question! Please let me know if you need any further details or clarification :)","title":"Inserting and searching for data from a HashMap","body":"<p>I think you just have a few typos in your code:</p>\n<p>First of all, in your <code>Worker</code> class, you need to define the constructor so that it is <code>public Worker()</code> and not <code>public Flight()</code>:</p>\n<pre><code>public Worker(String id, String name, String location) {\n    this.id = id;\n    this.name = name;\n    this.location = location;\n}\n</code></pre>\n<p>Additionally, you had a misplaced parenthesis in your <code>WorkerDB</code> class:</p>\n<pre><code>workers.put(sizeOfHashMap, new Worker(workerDataArray[1], workerDataArray[2], workerDataArray[3]));\n</code></pre>\n<p>Also, since you are using a return statement to return the String, we need to use a print statement to output it in our main method:</p>\n<pre><code>System.out.println(workers.searchWorker(&quot;W03&quot;));   \n</code></pre>\n<p>Result:</p>\n<p>W01 John Workshop</p>\n<p>Additionally, you should be going up until (and including) the length of the HashMap since you start at 0, so use <code>&lt;=</code>:</p>\n<pre><code>for (int i = 1; i &lt;= workers.size(); i++) {\n</code></pre>\n<p>I hope this helped answer your question! Please let me know if you need any further details or clarification :)</p>\n"}],"owner":{"account_id":24459251,"reputation":9,"user_id":18380473,"display_name":"plmeqruqwucfiaboop"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71361118,"answer_count":1,"score":-1,"last_activity_date":1646473497,"creation_date":1646470411,"question_id":71360798,"body_markdown":"There&#39;s something wrong with my solution and I can&#39;t quite figure it out. I would very much appreciate it, if someone could steer me in the right direction and get this working. When I&#39;m calling my methods nothing seems to happen.\r\n\r\nHere&#39;s the setters and getters for the worker parameters:\r\n\r\n    public class Worker {\r\n\t\r\n\tprivate String id;\r\n\tprivate String name;\r\n\tprivate String location;\r\n\t\r\n\tpublic Flight(String id, String name, String location) {\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.location = location;\r\n\t}\r\n\t\r\n\tpublic String getID() {\r\n\t\treturn id;\r\n\t}\r\n\t\r\n\tpublic void setID(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\t\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\t\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\t\r\n\tpublic String getLocation() {\r\n\t\treturn location;\r\n\t}\r\n\t\r\n\tpublic void setLocation(String location) {\r\n\t\tthis.location = location;\r\n\t}\r\n}\r\n\r\nI want to have the worker data on the WorkerDB class with the methods to handle the search function and inserting new workers to the HashMap.\r\n\r\n    public class WorkerDB {\r\n\t\r\n\tHashMap&lt;Integer, Worker&gt; workers = new HashMap&lt;Integer, Worker&gt;();\r\n\r\n\tpublic WorkerDB() {\r\n\t\tworkers.put(1, new Worker(&quot;W01&quot;, &quot;John&quot;, &quot;Workshop&quot;));\r\n\t\tworkers.put(2, new Worker(&quot;W02&quot;, &quot;Steve&quot;, &quot;Office&quot;));\r\n\t\tworkers.put(3, new Worker(&quot;W03&quot;, &quot;Bob&quot;, &quot;Gate&quot;));\r\n\t}\r\n\t\r\n\tpublic String InsertWorkerData(String [] workerDataArray) {\r\n\t\tint sizeOfHashMap = Integer.parseInt(workerDataArray[0]);\r\n\t\tworkers.put(sizeOfHashMap, new Worker(workerDataArray[1], workerDataArray[2], workerDataArray[3]);\r\n\t\treturn &quot;Worker data inserted successfully&quot;;\t\t\r\n\t}\r\n\t\r\n\tpublic String searchWorker(String workerID) {\r\n\t\tString search = &quot;Worker with ID: &quot; + workerID + &quot;, not found&quot;;\r\n\t\tfor (int i = 1; i &lt; workers.size(); i++) {\r\n\t\t    \tif(workers.get(i).getID().equals(workerID)) {\r\n\t\t    \t\tsearch = workers.get(i).getID() + &quot; &quot; + workers.get(i).getName() + &quot; &quot; + workers.get(i).getLocation();\r\n\t\t    \t}\r\n\t\t    }\r\n\t\treturn search;\r\n\t}\r\n}\r\n\r\nHere I&#39;m just calling the methods from the WorkerDB class.\r\n\r\n    public class Interface {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tWorkerDB workers = new WorkerDB(); \r\n        String[] testArray = {&quot;4&quot;, &quot;W04&quot;, &quot;George&quot;, &quot;Garage&quot;};\r\n\t\tworkers.searchWorker(&quot;W01&quot;);    \r\n    }\r\n}","title":"Inserting and searching for data from a HashMap","body":"<p>There's something wrong with my solution and I can't quite figure it out. I would very much appreciate it, if someone could steer me in the right direction and get this working. When I'm calling my methods nothing seems to happen.</p>\n<p>Here's the setters and getters for the worker parameters:</p>\n<pre><code>public class Worker {\n\nprivate String id;\nprivate String name;\nprivate String location;\n\npublic Flight(String id, String name, String location) {\n    this.id = id;\n    this.name = name;\n    this.location = location;\n}\n\npublic String getID() {\n    return id;\n}\n\npublic void setID(String id) {\n    this.id = id;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic String getLocation() {\n    return location;\n}\n\npublic void setLocation(String location) {\n    this.location = location;\n}\n</code></pre>\n<p>}</p>\n<p>I want to have the worker data on the WorkerDB class with the methods to handle the search function and inserting new workers to the HashMap.</p>\n<pre><code>public class WorkerDB {\n\nHashMap&lt;Integer, Worker&gt; workers = new HashMap&lt;Integer, Worker&gt;();\n\npublic WorkerDB() {\n    workers.put(1, new Worker(&quot;W01&quot;, &quot;John&quot;, &quot;Workshop&quot;));\n    workers.put(2, new Worker(&quot;W02&quot;, &quot;Steve&quot;, &quot;Office&quot;));\n    workers.put(3, new Worker(&quot;W03&quot;, &quot;Bob&quot;, &quot;Gate&quot;));\n}\n\npublic String InsertWorkerData(String [] workerDataArray) {\n    int sizeOfHashMap = Integer.parseInt(workerDataArray[0]);\n    workers.put(sizeOfHashMap, new Worker(workerDataArray[1], workerDataArray[2], workerDataArray[3]);\n    return &quot;Worker data inserted successfully&quot;;     \n}\n\npublic String searchWorker(String workerID) {\n    String search = &quot;Worker with ID: &quot; + workerID + &quot;, not found&quot;;\n    for (int i = 1; i &lt; workers.size(); i++) {\n            if(workers.get(i).getID().equals(workerID)) {\n                search = workers.get(i).getID() + &quot; &quot; + workers.get(i).getName() + &quot; &quot; + workers.get(i).getLocation();\n            }\n        }\n    return search;\n}\n</code></pre>\n<p>}</p>\n<p>Here I'm just calling the methods from the WorkerDB class.</p>\n<pre><code>public class Interface {\n\npublic static void main(String[] args) {\n    \n    WorkerDB workers = new WorkerDB(); \n    String[] testArray = {&quot;4&quot;, &quot;W04&quot;, &quot;George&quot;, &quot;Garage&quot;};\n    workers.searchWorker(&quot;W01&quot;);    \n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646467670,"post_id":71360496,"comment_id":126134823,"body_markdown":"You could read all the lines into your array, without printing them, and then have a `for` loop which prints only the lines you want. Or you could put your `println` in an `if` statement which checks the value of `i`.","body":"You could read all the lines into your array, without printing them, and then have a <code>for</code> loop which prints only the lines you want. Or you could put your <code>println</code> in an <code>if</code> statement which checks the value of <code>i</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646467764,"post_id":71360496,"comment_id":126134838,"body_markdown":"By the way, please step through your code with the debugger, or add some more logging, and check that `i` is behaving as you expect.","body":"By the way, please step through your code with the debugger, or add some more logging, and check that <code>i</code> is behaving as you expect."},{"owner":{"account_id":23972123,"reputation":23,"user_id":17960673,"display_name":"Manh Pham"},"score":0,"creation_date":1646468306,"post_id":71360496,"comment_id":126134930,"body_markdown":"so i tries to store each line into data[i] and i++, and i remove the println in while loop, and try to `System.out.println(data[i]);` outside the loop, and i try 0 1 2 3 4 and the result is only &quot;From: Hoa Lac, To: Hoan Kiem&quot; line is stored in index number 1, all of the rest is display NULL why is this happening ?","body":"so i tries to store each line into data[i] and i++, and i remove the println in while loop, and try to <code>System.out.println(data[i]);</code> outside the loop, and i try 0 1 2 3 4 and the result is only &quot;From: Hoa Lac, To: Hoan Kiem&quot; line is stored in index number 1, all of the rest is display NULL why is this happening ?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646475033,"post_id":71360496,"comment_id":126136039,"body_markdown":"The line `int i = 0;` creates a new variable, initialised to 0, for each iteration of your while loop. Move it before the loop.","body":"The line <code>int i = 0;</code> creates a new variable, initialised to 0, for each iteration of your while loop. Move it before the loop."}],"owner":{"account_id":23972123,"reputation":23,"user_id":17960673,"display_name":"Manh Pham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646473332,"creation_date":1646467520,"question_id":71360496,"body_markdown":"i have this file name **input.txt**:\r\n\r\n    3 1\r\n    \r\n    Hoa Lac, Thang Long, Le Quang Dao, Me Tri, Pham Hung, My Dinh, Cau Giay, Kim Ma, Hoan Kiem\r\n    \r\n    Bus 74, Price 9000, Hoa Lac, Thang Long, Le Quang Dao, Me Tri, Pham Hung, My Dinh\r\n    \r\n    Bus 99, Price 50000, Hoa Lac, My Dinh\r\n    \r\n    Bus 34, Price 7000, My Dinh, Cau Giay, Kim Ma, Hoan Kiem\r\n    \r\n    From: Hoa Lac, To: Hoan Kiem\r\n\r\ni want to try to store each line as a String in array and i have write like this \r\n``` \r\n  public static void readFile(){\r\n        try {\r\n            String data[] = new String[100];\r\n            File myObj = new File(&quot;input.txt&quot;);\r\n            Scanner myReader = new Scanner(myObj);\r\n            int m;\r\n            int n;\r\n            m = myReader.nextInt();\r\n            n = myReader.nextInt();\r\n            System.out.println(&quot;m = &quot; + m);\r\n            System.out.println(&quot;n = &quot; + n);\r\n            while (myReader.hasNextLine()){\r\n                int i = 0;\r\n                data[i] = myReader.nextLine();\r\n                System.out.println(data[i]);                \r\n                i++;\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;cannot find file!&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nso far i can only read file and display all of them at once, but i can not control which line i want to print(ex:i want to print only line: 2 3 4),  please help me and explain to me please.","title":"how can i choose which lines to print in file in java?","body":"<p>i have this file name <strong>input.txt</strong>:</p>\n<pre><code>3 1\n\nHoa Lac, Thang Long, Le Quang Dao, Me Tri, Pham Hung, My Dinh, Cau Giay, Kim Ma, Hoan Kiem\n\nBus 74, Price 9000, Hoa Lac, Thang Long, Le Quang Dao, Me Tri, Pham Hung, My Dinh\n\nBus 99, Price 50000, Hoa Lac, My Dinh\n\nBus 34, Price 7000, My Dinh, Cau Giay, Kim Ma, Hoan Kiem\n\nFrom: Hoa Lac, To: Hoan Kiem\n</code></pre>\n<p>i want to try to store each line as a String in array and i have write like this</p>\n<pre><code>  public static void readFile(){\n        try {\n            String data[] = new String[100];\n            File myObj = new File(&quot;input.txt&quot;);\n            Scanner myReader = new Scanner(myObj);\n            int m;\n            int n;\n            m = myReader.nextInt();\n            n = myReader.nextInt();\n            System.out.println(&quot;m = &quot; + m);\n            System.out.println(&quot;n = &quot; + n);\n            while (myReader.hasNextLine()){\n                int i = 0;\n                data[i] = myReader.nextLine();\n                System.out.println(data[i]);                \n                i++;\n            }\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;cannot find file!&quot;);\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>so far i can only read file and display all of them at once, but i can not control which line i want to print(ex:i want to print only line: 2 3 4),  please help me and explain to me please.</p>\n"},{"tags":["java","html","spring","tomcat","intellij-idea"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1646386720,"post_id":71348886,"comment_id":126115256,"body_markdown":"Replace `/WEB-INF/classes` with `classpath:` for the resource location and remove that `/WEB-INF/classes` from the resource path. So you should end up with `registry.addResourceHandler(&quot;/static/**&quot;).addResourceLocations(&quot;classpath:/static/&quot;);`","body":"Replace <code>&#47;WEB-INF&#47;classes</code> with <code>classpath:</code> for the resource location and remove that <code>&#47;WEB-INF&#47;classes</code> from the resource path. So you should end up with <code>registry.addResourceHandler(&quot;&#47;static&#47;**&quot;).addResourceLocatio&zwnj;&#8203;ns(&quot;classpath:&#47;stati&zwnj;&#8203;c&#47;&quot;);</code>"},{"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"score":0,"creation_date":1646388431,"post_id":71348886,"comment_id":126115837,"body_markdown":"@ M. Deinum\nThanks a lot, it really worked.","body":"@ M. Deinum Thanks a lot, it really worked."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646473152,"creation_date":1646473152,"answer_id":71361084,"question_id":71348886,"body_markdown":"The `/WEB-INF/classes/` folder is basically the root of the class path, so instead you should use the `classpath:` prefix. \r\n\r\nFor the path section it is for matching incoming requests to see where to retrieve the resources from. I doubt that that has `/WEB-INF/classes/` in the URL, so remove it from that part. \r\n\r\n```java\r\nregistry.addResourceHandler(&quot;/static/**&quot;).addResourceLocations(&quot;classpath:/static/&quot;)\r\n```\r\n\r\nThis is what you should end up with for a proper mapping. ","title":"The template does not see the resources folder","body":"<p>The <code>/WEB-INF/classes/</code> folder is basically the root of the class path, so instead you should use the <code>classpath:</code> prefix.</p>\n<p>For the path section it is for matching incoming requests to see where to retrieve the resources from. I doubt that that has <code>/WEB-INF/classes/</code> in the URL, so remove it from that part.</p>\n<pre class=\"lang-java prettyprint-override\"><code>registry.addResourceHandler(&quot;/static/**&quot;).addResourceLocations(&quot;classpath:/static/&quot;)\n</code></pre>\n<p>This is what you should end up with for a proper mapping.</p>\n"}],"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646473152,"creation_date":1646384304,"question_id":71348886,"body_markdown":"I recently needed to move all my resources from a folder\r\n**3DShop/src/main/webapp/resources/** \r\nto\r\n**3DShop/src/main/resources/**\r\nAfter the transfer, css styles on the pages stopped working and images also stopped displaying.\r\n\r\nI changed the paths in the spring settings in the addResourceHandlers method, and the path in my html template when I included the link.\r\nHowever, the styles and pictures still don&#39;t work. I think I&#39;m not specifying the addresses correctly in the addResourceHandlers method. How to prescribe the correct path, please explain.\r\n\r\n**My spring config class:**\r\n\r\n    package ru.shop.three_d_print.config;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    import org.springframework.jdbc.datasource.DriverManagerDataSource;\r\n    import org.springframework.web.servlet.config.annotation.*;\r\n    import org.thymeleaf.spring5.SpringTemplateEngine;\r\n    import org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver;\r\n    import org.thymeleaf.spring5.view.ThymeleafViewResolver;\r\n    import javax.sql.DataSource;\r\n    \r\n    @Configuration\r\n    @ComponentScan(&quot;ru.shop.three_d_print&quot;)\r\n    @EnableWebMvc\r\n    public class SpringConfig implements WebMvcConfigurer\r\n    {\r\n        private final ApplicationContext applicationContext;\r\n        \r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry)\r\n        {\r\n            registry.addResourceHandler(&quot;/WEB-INF/classes/static/**&quot;).addResourceLocations(&quot;/WEB-INF/classes/static/&quot;);\r\n        }\r\n    \r\n        @Autowired\r\n        public SpringConfig(ApplicationContext applicationContext)\r\n        {\r\n            this.applicationContext = applicationContext;\r\n        }\r\n    \r\n        @Bean\r\n        public SpringResourceTemplateResolver templateResolver()\r\n        {\r\n            SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\r\n            templateResolver.setApplicationContext(applicationContext);\r\n            templateResolver.setPrefix(&quot;/WEB-INF/classes/templates/&quot;);\r\n            templateResolver.setSuffix(&quot;.html&quot;);\r\n            return templateResolver;\r\n        }\r\n    \r\n        @Bean\r\n        public SpringTemplateEngine templateEngine()\r\n        {\r\n            SpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n            templateEngine.setTemplateResolver(templateResolver());\r\n            templateEngine.setEnableSpringELCompiler(true);\r\n            return templateEngine;\r\n        }\r\n    \r\n        @Override\r\n        public void configureViewResolvers(ViewResolverRegistry registry)\r\n        {\r\n            ThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n            resolver.setTemplateEngine(templateEngine());\r\n            registry.viewResolver(resolver);\r\n        }\r\n    \r\n        @Bean\r\n        public JdbcTemplate jdbcTemplate() { return new JdbcTemplate(dataSource()); }\r\n    \r\n        @Bean\r\n        public DataSource dataSource()\r\n        {\r\n            DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n    \r\n            dataSource.setDriverClassName(&quot;org.postgresql.Driver&quot;);\r\n            dataSource.setUrl(&quot;jdbc:postgresql://localhost:5432/three_d_shop_db&quot;);\r\n            dataSource.setUsername(&quot;*******&quot;);\r\n            dataSource.setPassword(&quot;*******&quot;);\r\n    \r\n            return dataSource;\r\n        }\r\n    }\r\n\r\n**Main page using css styles:**\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    \r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;3d_shop&lt;/title&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/static/css/styles.css&quot;&gt;\r\n    &lt;/head&gt;\r\n    &lt;body style=&quot;margin: 0&quot;&gt;\r\n        &lt;div class=&quot;page&quot;&gt;\r\n            &lt;header th:insert=&quot;~{other/fragments :: header}&quot;&gt;&lt;/header&gt;\r\n    \r\n            &lt;main style=&quot;margin-left: 10%; margin-right: 10%;&quot;&gt;\r\n                &lt;h2&gt; Welcome! &lt;/h2&gt;\r\n                &lt;button&gt;Text&lt;/button&gt;\r\n                &lt;div&gt;\r\n                    &lt;p&gt;\r\n                        ipsum dolor sit amet, consectetuer adipiscing elit, sed diem\r\n                        nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat.\r\n                        Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diem\r\n                        nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat.\r\n                        Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diem\r\n                        nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat.\r\n                    &lt;/p&gt;\r\n                &lt;/div&gt;\r\n                \r\n                &lt;div class=&quot;center_frame&quot;&gt;&lt;/div&gt;\r\n            &lt;/main&gt;\r\n    \r\n            &lt;footer th:insert=&quot;~{other/fragments :: footer}&quot; style=&quot;margin-top: auto;&quot; &gt;&lt;/footer&gt;\r\n        &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n**Project hierarchy:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aOGHd.png","title":"The template does not see the resources folder","body":"<p>I recently needed to move all my resources from a folder\n<strong>3DShop/src/main/webapp/resources/</strong>\nto\n<strong>3DShop/src/main/resources/</strong>\nAfter the transfer, css styles on the pages stopped working and images also stopped displaying.</p>\n<p>I changed the paths in the spring settings in the addResourceHandlers method, and the path in my html template when I included the link.\nHowever, the styles and pictures still don't work. I think I'm not specifying the addresses correctly in the addResourceHandlers method. How to prescribe the correct path, please explain.</p>\n<p><strong>My spring config class:</strong></p>\n<pre><code>package ru.shop.three_d_print.config;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.web.servlet.config.annotation.*;\nimport org.thymeleaf.spring5.SpringTemplateEngine;\nimport org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver;\nimport org.thymeleaf.spring5.view.ThymeleafViewResolver;\nimport javax.sql.DataSource;\n\n@Configuration\n@ComponentScan(&quot;ru.shop.three_d_print&quot;)\n@EnableWebMvc\npublic class SpringConfig implements WebMvcConfigurer\n{\n    private final ApplicationContext applicationContext;\n    \n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry)\n    {\n        registry.addResourceHandler(&quot;/WEB-INF/classes/static/**&quot;).addResourceLocations(&quot;/WEB-INF/classes/static/&quot;);\n    }\n\n    @Autowired\n    public SpringConfig(ApplicationContext applicationContext)\n    {\n        this.applicationContext = applicationContext;\n    }\n\n    @Bean\n    public SpringResourceTemplateResolver templateResolver()\n    {\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\n        templateResolver.setApplicationContext(applicationContext);\n        templateResolver.setPrefix(&quot;/WEB-INF/classes/templates/&quot;);\n        templateResolver.setSuffix(&quot;.html&quot;);\n        return templateResolver;\n    }\n\n    @Bean\n    public SpringTemplateEngine templateEngine()\n    {\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n        templateEngine.setTemplateResolver(templateResolver());\n        templateEngine.setEnableSpringELCompiler(true);\n        return templateEngine;\n    }\n\n    @Override\n    public void configureViewResolvers(ViewResolverRegistry registry)\n    {\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n        resolver.setTemplateEngine(templateEngine());\n        registry.viewResolver(resolver);\n    }\n\n    @Bean\n    public JdbcTemplate jdbcTemplate() { return new JdbcTemplate(dataSource()); }\n\n    @Bean\n    public DataSource dataSource()\n    {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n\n        dataSource.setDriverClassName(&quot;org.postgresql.Driver&quot;);\n        dataSource.setUrl(&quot;jdbc:postgresql://localhost:5432/three_d_shop_db&quot;);\n        dataSource.setUsername(&quot;*******&quot;);\n        dataSource.setPassword(&quot;*******&quot;);\n\n        return dataSource;\n    }\n}\n</code></pre>\n<p><strong>Main page using css styles:</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;3d_shop&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/static/css/styles.css&quot;&gt;\n&lt;/head&gt;\n&lt;body style=&quot;margin: 0&quot;&gt;\n    &lt;div class=&quot;page&quot;&gt;\n        &lt;header th:insert=&quot;~{other/fragments :: header}&quot;&gt;&lt;/header&gt;\n\n        &lt;main style=&quot;margin-left: 10%; margin-right: 10%;&quot;&gt;\n            &lt;h2&gt; Welcome! &lt;/h2&gt;\n            &lt;button&gt;Text&lt;/button&gt;\n            &lt;div&gt;\n                &lt;p&gt;\n                    ipsum dolor sit amet, consectetuer adipiscing elit, sed diem\n                    nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat.\n                    Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diem\n                    nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat.\n                    Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diem\n                    nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat.\n                &lt;/p&gt;\n            &lt;/div&gt;\n            \n            &lt;div class=&quot;center_frame&quot;&gt;&lt;/div&gt;\n        &lt;/main&gt;\n\n        &lt;footer th:insert=&quot;~{other/fragments :: footer}&quot; style=&quot;margin-top: auto;&quot; &gt;&lt;/footer&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>Project hierarchy:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/aOGHd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aOGHd.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","huawei-mobile-services"],"answers":[{"tags":[],"owner":{"account_id":1174345,"reputation":33174,"user_id":1150712,"accept_rate":72,"display_name":"zhangxaochen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641349462,"creation_date":1641349462,"answer_id":70587134,"question_id":70585752,"body_markdown":"Try this:\r\n\r\nGo to **File** -&gt; **Project Settings** -&gt; **Gradle** and uncheck the Gradle offline work option.\r\n\r\nSynchronize the project again and let all the dependencies get downloaded.","title":"Could not resolve in adding HMS Huawei repos in gradle","body":"<p>Try this:</p>\n<p>Go to <strong>File</strong> -&gt; <strong>Project Settings</strong> -&gt; <strong>Gradle</strong> and uncheck the Gradle offline work option.</p>\n<p>Synchronize the project again and let all the dependencies get downloaded.</p>\n"},{"tags":[],"owner":{"account_id":9864990,"reputation":49,"user_id":7306756,"display_name":"Andrey Alexandrov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646473103,"creation_date":1646473103,"answer_id":71361079,"question_id":70585752,"body_markdown":"I have corrected settings.gradle like this:\r\n\r\n    dependencyResolutionManagement {\r\n        repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            jcenter()\r\n            maven {url &#39;https://developer.huawei.com/repo/&#39;} // add this line\r\n        }\r\n    }","title":"Could not resolve in adding HMS Huawei repos in gradle","body":"<p>I have corrected settings.gradle like this:</p>\n<pre><code>dependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n        jcenter()\n        maven {url 'https://developer.huawei.com/repo/'} // add this line\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23142195,"reputation":23,"user_id":17245481,"display_name":"artom11m"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70587134,"answer_count":2,"score":2,"last_activity_date":1646473103,"creation_date":1641335157,"question_id":70585752,"body_markdown":"im trying to integrate in HMS Huawei, in adding classpath im have error:\r\n\r\n&gt; Could not resolve com.huawei.agconnect:agcp:1.6.0.300.\r\n\r\nmy build.gradle:\r\n\r\n```\r\nbuildscript {\r\n\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        maven {url &#39;https://developer.huawei.com/repo/&#39;}\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.1.3&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.8&#39;\r\n        classpath &#39;com.huawei.agconnect:agcp:1.6.0.300&#39;\r\n    }\r\n}\r\n\r\n\r\n\r\nallprojects {\r\n    repositories {\r\n\r\n        google()\r\n        jcenter()\r\n        repositories {\r\n            maven { url  &#39;http://dl.bintray.com/swallowsonny/ext/&#39; }\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n            maven { url &#39;https://developer.huawei.com/repo/&#39; }\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nmy gradle ver: 6.7.1 and gradle plugin ver: 4.1.3","title":"Could not resolve in adding HMS Huawei repos in gradle","body":"<p>im trying to integrate in HMS Huawei, in adding classpath im have error:</p>\n<blockquote>\n<p>Could not resolve com.huawei.agconnect:agcp:1.6.0.300.</p>\n</blockquote>\n<p>my build.gradle:</p>\n<pre><code>buildscript {\n\n    repositories {\n        google()\n        jcenter()\n        maven {url 'https://developer.huawei.com/repo/'}\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.1.3'\n        classpath 'com.google.gms:google-services:4.3.8'\n        classpath 'com.huawei.agconnect:agcp:1.6.0.300'\n    }\n}\n\n\n\nallprojects {\n    repositories {\n\n        google()\n        jcenter()\n        repositories {\n            maven { url  'http://dl.bintray.com/swallowsonny/ext/' }\n            maven { url 'https://jitpack.io' }\n            maven { url 'https://developer.huawei.com/repo/' }\n        }\n\n    }\n}\n\n\n</code></pre>\n<p>my gradle ver: 6.7.1 and gradle plugin ver: 4.1.3</p>\n"},{"tags":["java","android","json","readfile"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1646473453,"post_id":71360988,"comment_id":126135766,"body_markdown":"You packed all code in one statement. Not a good idea especially when things go different a thought. Split it all up. Do step by step then you will discover where things go wrong.","body":"You packed all code in one statement. Not a good idea especially when things go different a thought. Split it all up. Do step by step then you will discover where things go wrong."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1646473506,"post_id":71360988,"comment_id":126135775,"body_markdown":"`File file = new File(&quot;OnBoardingItems.json&quot;);`  You should supply a full path to begin with as a file can be every where. You could also first have used file.exists() before trying to read from it. But yes... you are not doing it step by step..","body":"<code>File file = new File(&quot;OnBoardingItems.json&quot;);</code>  You should supply a full path to begin with as a file can be every where. You could also first have used file.exists() before trying to read from it. But yes... you are not doing it step by step.."},{"owner":{"account_id":11881446,"reputation":103,"user_id":8695066,"display_name":"Prs2"},"score":0,"creation_date":1646475568,"post_id":71360988,"comment_id":126136122,"body_markdown":"@blackapps Right I tried to make new file with the absolute path of the file and then tested file.exists() and it returns false. Any Idea why that could be?","body":"@blackapps Right I tried to make new file with the absolute path of the file and then tested file.exists() and it returns false. Any Idea why that could be?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1646476810,"post_id":71360988,"comment_id":126136321,"body_markdown":"It means that the file does not exist on that path. In that directory. Pretty strange you did not post actual code. How can we help you if you keep it so vague?","body":"It means that the file does not exist on that path. In that directory. Pretty strange you did not post actual code. How can we help you if you keep it so vague?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1646477130,"post_id":71360988,"comment_id":126136369,"body_markdown":"`Also my json file is in the same directory as my fragment class` ???? Abacadabra. Which directory? Come to the point if you need help.","body":"<code>Also my json file is in the same directory as my fragment class</code> ???? Abacadabra. Which directory? Come to the point if you need help."},{"owner":{"account_id":11881446,"reputation":103,"user_id":8695066,"display_name":"Prs2"},"score":0,"creation_date":1646481275,"post_id":71360988,"comment_id":126137156,"body_markdown":"@blackapps Lol got it thanks. I didn&#39;t speculate that it SHOULD be in the assets directory It&#39;s fixed now","body":"@blackapps Lol got it thanks. I didn&#39;t speculate that it SHOULD be in the assets directory It&#39;s fixed now"}],"owner":{"account_id":11881446,"reputation":103,"user_id":8695066,"display_name":"Prs2"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646473056,"creation_date":1646472176,"question_id":71360988,"body_markdown":"I&#39;m trying to read a file that contains a json object but it returns null.\r\nhere is my json file\r\n\r\n    [   \r\n    {&quot;VersionNumber&quot;: 200,\r\n    &quot;TitleFA&quot;: &quot;TitleFA2&quot;,\r\n    &quot;DescriptionFA&quot;: &quot;DescriptionFA2&quot;,\r\n    &quot;TitleEN&quot;: &quot;TitleEN2&quot;,\r\n    &quot;DescriptionEN&quot;: &quot;DescriptionEN2&quot;,\r\n    &quot;Priority&quot;: 1  },\r\n\r\n    {&quot;VersionNumber&quot;: 100,\r\n    &quot;TitleFA&quot;: &quot;TitleFA1&quot;,\r\n    &quot;DescriptionFA&quot;: &quot;DescriptionFA1&quot;,\r\n    &quot;TitleEN&quot;: &quot;TitleEN1&quot;,\r\n    &quot;DescriptionEN&quot;: &quot;DescriptionEN1&quot;,\r\n    &quot;Image&quot;: &quot;Image1&quot;,\r\n    &quot;Priority&quot;: 1  } \r\n    ]\r\n\r\nHere is the Class that I&#39;m trying to map it to\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class OnBoardingItemsModel {\r\n     public int VersionNumber;\r\n     public String TitleFA;\r\n     public String DescriptionFA;\r\n     public String TitleEN;\r\n     public String DescriptionEN;\r\n     public String Image;\r\n     public int Priority; }\r\n\r\nHere is the code I&#39;m using it my fragment to read the file. Also my json file is in the same directory as my fragment class\r\n\r\n        private List&lt;OnBoardingItemsModel&gt; mOnBoardingItems;\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n\r\n        try {\r\n            mOnBoardingItems = Arrays.asList(mapper.readValue(new File(&quot;OnBoardingItems.json&quot;), OnBoardingItemsModel[].class));\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nI tried different ways but `mOnBoardingItems` is always null in the end. I also tries this code and it didn&#39;t work: [Java Android – Read JSON file from assets using Gson][1]\r\n\r\nEdit: I tried this and it returned false. I don&#39;t know why it&#39;s unable to read the file \r\n\r\n        File file = new File(&quot;OnBoardingItems.json&quot;);\r\n\r\n        Log.v(&quot;canreadfile&quot;, String.valueOf(file.canRead()));\r\n        Log.v(&quot;isfileee&quot;, String.valueOf(file.isFile()));\r\n\r\nI have no idea what else I should check I would appreciate it if someone could help\r\n\r\n\r\n  [1]: https://www.bezkoder.com/java-android-read-json-file-assets-gson/#:~:text=put%20assets%20folder%20%26%20JSON%20file,JSON%20string%20to%20Java%20object","title":"Reading JSON file list returns null (can not read file)","body":"<p>I'm trying to read a file that contains a json object but it returns null.\nhere is my json file</p>\n<pre><code>[   \n{&quot;VersionNumber&quot;: 200,\n&quot;TitleFA&quot;: &quot;TitleFA2&quot;,\n&quot;DescriptionFA&quot;: &quot;DescriptionFA2&quot;,\n&quot;TitleEN&quot;: &quot;TitleEN2&quot;,\n&quot;DescriptionEN&quot;: &quot;DescriptionEN2&quot;,\n&quot;Priority&quot;: 1  },\n\n{&quot;VersionNumber&quot;: 100,\n&quot;TitleFA&quot;: &quot;TitleFA1&quot;,\n&quot;DescriptionFA&quot;: &quot;DescriptionFA1&quot;,\n&quot;TitleEN&quot;: &quot;TitleEN1&quot;,\n&quot;DescriptionEN&quot;: &quot;DescriptionEN1&quot;,\n&quot;Image&quot;: &quot;Image1&quot;,\n&quot;Priority&quot;: 1  } \n]\n</code></pre>\n<p>Here is the Class that I'm trying to map it to</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class OnBoardingItemsModel {\n public int VersionNumber;\n public String TitleFA;\n public String DescriptionFA;\n public String TitleEN;\n public String DescriptionEN;\n public String Image;\n public int Priority; }\n</code></pre>\n<p>Here is the code I'm using it my fragment to read the file. Also my json file is in the same directory as my fragment class</p>\n<pre><code>    private List&lt;OnBoardingItemsModel&gt; mOnBoardingItems;\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n\n    try {\n        mOnBoardingItems = Arrays.asList(mapper.readValue(new File(&quot;OnBoardingItems.json&quot;), OnBoardingItemsModel[].class));\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>I tried different ways but <code>mOnBoardingItems</code> is always null in the end. I also tries this code and it didn't work: <a href=\"https://www.bezkoder.com/java-android-read-json-file-assets-gson/#:%7E:text=put%20assets%20folder%20%26%20JSON%20file,JSON%20string%20to%20Java%20object\" rel=\"nofollow noreferrer\">Java Android – Read JSON file from assets using Gson</a></p>\n<p>Edit: I tried this and it returned false. I don't know why it's unable to read the file</p>\n<pre><code>    File file = new File(&quot;OnBoardingItems.json&quot;);\n\n    Log.v(&quot;canreadfile&quot;, String.valueOf(file.canRead()));\n    Log.v(&quot;isfileee&quot;, String.valueOf(file.isFile()));\n</code></pre>\n<p>I have no idea what else I should check I would appreciate it if someone could help</p>\n"},{"tags":["java","maven","javafx","jpackage"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1646446656,"post_id":71358675,"comment_id":126132118,"body_markdown":"Do you need both double *and* single quotes to supply the add-exports option to jpackage? (I don’t know, just double check it though). Do you need to create a fat jar?  What is in the fat jar?  It would not make sense to include JavaFX dependencies in the fat jar given you are already linking the modules into the runtime.","body":"Do you need both double <i>and</i> single quotes to supply the add-exports option to jpackage? (I don’t know, just double check it though). Do you need to create a fat jar?  What is in the fat jar?  It would not make sense to include JavaFX dependencies in the fat jar given you are already linking the modules into the runtime."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1646446788,"post_id":71358675,"comment_id":126132136,"body_markdown":"Perhaps try using [JPackageScriptFX](https://github.com/dlemmermann/JPackageScriptFX). Try to get the samples from that project to work in your environment. Then either apply what you learned to your project or adapt your project to work with those scripts rather than the packaging setup you are currently using.","body":"Perhaps try using <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">JPackageScriptFX</a>. Try to get the samples from that project to work in your environment. Then either apply what you learned to your project or adapt your project to work with those scripts rather than the packaging setup you are currently using."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1646446997,"post_id":71358675,"comment_id":126132153,"body_markdown":"To respond to comments, it may be best to edit the question, to add additional info, quoting comments.","body":"To respond to comments, it may be best to edit the question, to add additional info, quoting comments."}],"owner":{"account_id":17961114,"reputation":11,"user_id":13052076,"display_name":"Ivan De Rose"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646471692,"creation_date":1646442256,"question_id":71358675,"body_markdown":"I developed a ***JavaFX*** application and through ***JPackage*** I created the installation package.\r\nWhen I try to click on the * .exe startup file of my application I get the error:\r\n\r\n    Unrecognized option: --add-exports javafx.base/com.sun.javafx.event=org.controlsfx.controls\r\n    Error: Could not create the Java Virtual Machine.\r\n    Error: A fatal exception has occurred. Program will exit.\r\n\r\nHere is my configuration:\r\n\r\n 1. **S.O.** Windows10\r\n\r\n 2. **java** \r\n\r\n    java version &quot;17.0.2&quot; 2022-01-18 LTS\r\n    Java(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)\r\n\r\n 3. **Jpackage** version 17.0.1\r\n\r\n \r\nThese are the steps to create the installation package:\r\n\r\n 1. Create FAT Jar with Maven:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.18.22&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;mainClass&gt;Launcher&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;mainClass&gt;com.merkury.Launcher&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;com.merkury.Launcher&lt;/mainClass&gt;\r\n                            &lt;options&gt;\r\n                                &lt;option&gt;--add-exports&lt;/option&gt;\r\n                                &lt;option&gt;javafx.base/com.sun.javafx.event=org.controlsfx.controls&lt;/option&gt;\r\n                            &lt;/options&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\n\r\n 2. Create a Custom Runtime Image\r\n\r\n        jlink --output install/windows/merkury --module-path &quot;D:\\Program Files\\javafx-jmods-17.0.2&quot; --add-modules javafx.controls,javafx.fxml,java.sql,java.logging\r\n\r\n 3. Launch Jpackage\r\n\r\n        jpackage --input target --name Merkury --main-jar Mercury-1.0-SNAPSHOT-jar-with-dependencies.jar --main-class com.merkury.Launcher --description &quot;Software gestionale per i medici del lavoro&quot; --vendor &quot;Nvsecurity.it&quot; --icon install/assets/merkury.ico --dest install/output --app-version 1.0 --runtime-image install/windows/merkury --win-shortcut --win-dir-chooser --win-menu --win-menu-group &quot;Nvsecurity Merkury&quot; --type exe --java-options &quot;&#39;--add-exports javafx.base/com.sun.javafx.event=org.controlsfx.controls&#39;&quot; --win-console\r\n\r\nIn my application I need to use ***AutoCompletionBinding*** and as stated [here][1] I had to add the option for the VM as java-options of Jpackage:\r\n\r\n    --add-exports=javafx.base/com.sun.javafx.event=org.controlsfx.controls\r\n\r\nCan anyone explain to me what is happening? Thank you\r\n\r\n**EDIT 05-03-22**\r\n\r\n&gt; Do you need both double and single quotes to supply the add-exports\r\n&gt; option to jpackage?\r\n\r\nYes As described [Here][2]\r\n\r\n&gt; Perhaps try using JPackageScriptFX\r\n\r\nI tried to package and deploy the indicated project. Adding the option \r\n\r\n      --java-options &quot;&#39;--add-exports javafx.base/com.sun.javafx.event=org.controlsfx.controls&#39;&quot;^\r\n\r\n\r\ndoesn&#39;t work. Without it works.\r\n\r\n  [1]: https://github.com/controlsfx/controlsfx/wiki/Using-ControlsFX-with-JDK-9-and-above\r\n  [2]: https://docs.oracle.com/en/java/javase/14/jpackage/support-application-features.html#GUID-34C3BE72-CDE5-469B-BC4D-3D9A6DD2AEEA","title":"JavaFX: Unrecognized option: --add-exports javafx.base/com.sun.javafx.event=org.controlsfx.controls","body":"<p>I developed a <em><strong>JavaFX</strong></em> application and through <em><strong>JPackage</strong></em> I created the installation package.\nWhen I try to click on the * .exe startup file of my application I get the error:</p>\n<pre><code>Unrecognized option: --add-exports javafx.base/com.sun.javafx.event=org.controlsfx.controls\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n<p>Here is my configuration:</p>\n<ol>\n<li><p><strong>S.O.</strong> Windows10</p>\n</li>\n<li><p><strong>java</strong></p>\n<p>java version &quot;17.0.2&quot; 2022-01-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)</p>\n</li>\n<li><p><strong>Jpackage</strong> version 17.0.1</p>\n</li>\n</ol>\n<p>These are the steps to create the installation package:</p>\n<ol>\n<li><p>Create FAT Jar with Maven:</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;17&lt;/source&gt;\n            &lt;target&gt;17&lt;/target&gt;\n            &lt;annotationProcessorPaths&gt;\n                &lt;path&gt;\n                    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;version&gt;1.18.22&lt;/version&gt;\n                &lt;/path&gt;\n            &lt;/annotationProcessorPaths&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;archive&gt;\n                &lt;manifest&gt;\n                    &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                    &lt;mainClass&gt;Launcher&lt;/mainClass&gt;\n                &lt;/manifest&gt;\n            &lt;/archive&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;descriptorRefs&gt;\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n            &lt;/descriptorRefs&gt;\n            &lt;archive&gt;\n                &lt;manifest&gt;\n                    &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                    &lt;mainClass&gt;com.merkury.Launcher&lt;/mainClass&gt;\n                &lt;/manifest&gt;\n            &lt;/archive&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n                &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;single&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.0.8&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                &lt;id&gt;default-cli&lt;/id&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.merkury.Launcher&lt;/mainClass&gt;\n                    &lt;options&gt;\n                        &lt;option&gt;--add-exports&lt;/option&gt;\n                        &lt;option&gt;javafx.base/com.sun.javafx.event=org.controlsfx.controls&lt;/option&gt;\n                    &lt;/options&gt;\n                    &lt;launcher&gt;app&lt;/launcher&gt;\n                    &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                    &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                    &lt;noManPages&gt;true&lt;/noManPages&gt;\n                    &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                    &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n</li>\n<li><p>Create a Custom Runtime Image</p>\n<pre><code>jlink --output install/windows/merkury --module-path &quot;D:\\Program Files\\javafx-jmods-17.0.2&quot; --add-modules javafx.controls,javafx.fxml,java.sql,java.logging\n</code></pre>\n</li>\n<li><p>Launch Jpackage</p>\n<pre><code>jpackage --input target --name Merkury --main-jar Mercury-1.0-SNAPSHOT-jar-with-dependencies.jar --main-class com.merkury.Launcher --description &quot;Software gestionale per i medici del lavoro&quot; --vendor &quot;Nvsecurity.it&quot; --icon install/assets/merkury.ico --dest install/output --app-version 1.0 --runtime-image install/windows/merkury --win-shortcut --win-dir-chooser --win-menu --win-menu-group &quot;Nvsecurity Merkury&quot; --type exe --java-options &quot;'--add-exports javafx.base/com.sun.javafx.event=org.controlsfx.controls'&quot; --win-console\n</code></pre>\n</li>\n</ol>\n<p>In my application I need to use <em><strong>AutoCompletionBinding</strong></em> and as stated <a href=\"https://github.com/controlsfx/controlsfx/wiki/Using-ControlsFX-with-JDK-9-and-above\" rel=\"nofollow noreferrer\">here</a> I had to add the option for the VM as java-options of Jpackage:</p>\n<pre><code>--add-exports=javafx.base/com.sun.javafx.event=org.controlsfx.controls\n</code></pre>\n<p>Can anyone explain to me what is happening? Thank you</p>\n<p><strong>EDIT 05-03-22</strong></p>\n<blockquote>\n<p>Do you need both double and single quotes to supply the add-exports\noption to jpackage?</p>\n</blockquote>\n<p>Yes As described <a href=\"https://docs.oracle.com/en/java/javase/14/jpackage/support-application-features.html#GUID-34C3BE72-CDE5-469B-BC4D-3D9A6DD2AEEA\" rel=\"nofollow noreferrer\">Here</a></p>\n<blockquote>\n<p>Perhaps try using JPackageScriptFX</p>\n</blockquote>\n<p>I tried to package and deploy the indicated project. Adding the option</p>\n<pre><code>  --java-options &quot;'--add-exports javafx.base/com.sun.javafx.event=org.controlsfx.controls'&quot;^\n</code></pre>\n<p>doesn't work. Without it works.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":963516,"reputation":10188,"user_id":987358,"accept_rate":40,"display_name":"Michael Butscher"},"score":0,"creation_date":1646471381,"post_id":71360845,"comment_id":126135427,"body_markdown":"How is this related to Python?","body":"How is this related to Python?"}],"answers":[{"tags":[],"owner":{"account_id":13838023,"reputation":60,"user_id":9989076,"display_name":"Ruslan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646471545,"creation_date":1646471545,"answer_id":71360912,"question_id":71360845,"body_markdown":"For comparison of values within objects you need to use `.equals()` method. By comparing `==` within objects Java compares memory addresses.\r\n\r\nSo the solution for you replace `==` with `.equals()`.\r\n\r\n```\r\nif ((sys_userName.equals(username)) &amp;&amp; (passWord == sys_passWord)) {\r\n    System.out.println(&quot;Welcome!&quot;);\r\n}\r\n```\r\nThe same for the other `if` branches.","title":"UserLogin Program in java I could not find my mistake.Can you plz help me out","body":"<p>For comparison of values within objects you need to use <code>.equals()</code> method. By comparing <code>==</code> within objects Java compares memory addresses.</p>\n<p>So the solution for you replace <code>==</code> with <code>.equals()</code>.</p>\n<pre><code>if ((sys_userName.equals(username)) &amp;&amp; (passWord == sys_passWord)) {\n    System.out.println(&quot;Welcome!&quot;);\n}\n</code></pre>\n<p>The same for the other <code>if</code> branches.</p>\n"}],"owner":{"account_id":24459548,"reputation":1,"user_id":18380745,"display_name":"Abdullah Emin Tatar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1646471664,"accepted_answer_id":71360912,"answer_count":1,"score":-2,"last_activity_date":1646471658,"creation_date":1646470824,"question_id":71360845,"body_markdown":"When I enter &quot;helloworld&quot; as username the program returns username is incorrect. I could not understand what my problem is.\r\n\r\n\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\t\r\n\tpublic static void main (String[] args) {\r\n\t\t\r\n\t\tString userName, sys_userName = &quot;helloworld&quot;;\r\n\t\tint passWord, sys_passWord = 12345;\r\n\t\t\r\n\t\tScanner scan = new Scanner (System.in); \r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter username: &quot;);\r\n\t\tuserName = scan.nextLine();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter password: &quot;);\r\n\t\tpassWord = scan.nextInt();\r\n\t\t\r\n\t\tif ((userName == sys_userName) &amp;&amp; (passWord == sys_passWord)) {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Welcome!&quot;);\r\n\t\t}\r\n\t\t\r\n\t\telse if ((userName != sys_userName) &amp;&amp; (passWord == sys_passWord)) {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Username is incorrect!&quot;);\r\n\t\t}\r\n\t\t\r\n\t\telse if ((userName == sys_userName) &amp;&amp; (passWord != sys_passWord)) {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Password is incorrect!&quot;);\r\n\t\t}\r\n\t\t\r\n\t\telse if ((userName != sys_userName) &amp;&amp; (passWord != sys_passWord)) {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;All infos are incorrect!&quot;);\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"UserLogin Program in java I could not find my mistake.Can you plz help me out","body":"<p>When I enter &quot;helloworld&quot; as username the program returns username is incorrect. I could not understand what my problem is.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Main {\n    \n    public static void main (String[] args) {\n        \n        String userName, sys_userName = &quot;helloworld&quot;;\n        int passWord, sys_passWord = 12345;\n        \n        Scanner scan = new Scanner (System.in); \n        \n        System.out.println(&quot;Enter username: &quot;);\n        userName = scan.nextLine();\n        \n        System.out.println(&quot;Enter password: &quot;);\n        passWord = scan.nextInt();\n        \n        if ((userName == sys_userName) &amp;&amp; (passWord == sys_passWord)) {\n            \n            System.out.println(&quot;Welcome!&quot;);\n        }\n        \n        else if ((userName != sys_userName) &amp;&amp; (passWord == sys_passWord)) {\n            \n            System.out.println(&quot;Username is incorrect!&quot;);\n        }\n        \n        else if ((userName == sys_userName) &amp;&amp; (passWord != sys_passWord)) {\n            \n            System.out.println(&quot;Password is incorrect!&quot;);\n        }\n        \n        else if ((userName != sys_userName) &amp;&amp; (passWord != sys_passWord)) {\n            \n            System.out.println(&quot;All infos are incorrect!&quot;);\n            \n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","equals"],"comments":[{"owner":{"account_id":23397237,"reputation":1,"user_id":17461021,"display_name":"tragicstudent"},"score":0,"creation_date":1646471247,"post_id":71360778,"comment_id":126135401,"body_markdown":"yeah, that was part of my attempts to get the null values to work, since i thought the problem might have been that x.equals(null) returns an exception","body":"yeah, that was part of my attempts to get the null values to work, since i thought the problem might have been that x.equals(null) returns an exception"},{"owner":{"account_id":23397237,"reputation":1,"user_id":17461021,"display_name":"tragicstudent"},"score":0,"creation_date":1646471274,"post_id":71360778,"comment_id":126135407,"body_markdown":"Objects.equals() fixed everything, thank you! I think you have to write an answer formally so I can close the thread","body":"Objects.equals() fixed everything, thank you! I think you have to write an answer formally so I can close the thread"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1646474116,"post_id":71360778,"comment_id":126135871,"body_markdown":"@tragicstudent Be careful in using `instanceof` in your `equals()` method, see https://stackoverflow.com/questions/596462/any-reason-to-prefer-getclass-over-instanceof-when-generating-equals","body":"@tragicstudent Be careful in using <code>instanceof</code> in your <code>equals()</code> method, see <a href=\"https://stackoverflow.com/questions/596462/any-reason-to-prefer-getclass-over-instanceof-when-generating-equals\" title=\"any reason to prefer getclass over instanceof when generating equals\">stackoverflow.com/questions/596462/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23397237,"reputation":1,"user_id":17461021,"display_name":"tragicstudent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646471451,"creation_date":1646471451,"answer_id":71360899,"question_id":71360778,"body_markdown":"As @user16320675 said in a comment, simply replacing the `.equals` method calls with `Objects.equals()` checks null values and fixes my code.","title":".equals() Override always returns false with null parameters","body":"<p>As @user16320675 said in a comment, simply replacing the <code>.equals</code> method calls with <code>Objects.equals()</code> checks null values and fixes my code.</p>\n"}],"owner":{"account_id":23397237,"reputation":1,"user_id":17461021,"display_name":"tragicstudent"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71360899,"answer_count":1,"score":0,"last_activity_date":1646471451,"creation_date":1646470212,"question_id":71360778,"body_markdown":"I am trying to create a Book class with an overriding .equals() method. The constructor for Book objects is Book(String author, String title, Integer year).  The issue is that whenever one of the parameters is null, the method returns false even if the parameter for the other book is also null. Null should be a valid option and the method should check whether the other value is also equal to null. I&#39;ve tried changing the if statements, the constructor, nothing works. Please see my attempt below.\r\n\r\n```\r\n public boolean equals(Object other) {\r\n        // Your code here\r\n        if (other == this) {\r\n            return true;\r\n        } else if (!(other instanceof Book)) {\r\n            return false;\r\n        }\r\n\r\n        Book book2 = (Book) other;\r\n\r\n        if ( (this.title.equals(book2.title) || (this.title == book2.title))\r\n                &amp;&amp; (this.author.equals(book2.author) || (this.author == book2.author))\r\n                &amp;&amp; (this.year.equals(book2.year) || (this.year == book2.year)) ) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n```\r\n","title":".equals() Override always returns false with null parameters","body":"<p>I am trying to create a Book class with an overriding .equals() method. The constructor for Book objects is Book(String author, String title, Integer year).  The issue is that whenever one of the parameters is null, the method returns false even if the parameter for the other book is also null. Null should be a valid option and the method should check whether the other value is also equal to null. I've tried changing the if statements, the constructor, nothing works. Please see my attempt below.</p>\n<pre><code> public boolean equals(Object other) {\n        // Your code here\n        if (other == this) {\n            return true;\n        } else if (!(other instanceof Book)) {\n            return false;\n        }\n\n        Book book2 = (Book) other;\n\n        if ( (this.title.equals(book2.title) || (this.title == book2.title))\n                &amp;&amp; (this.author.equals(book2.author) || (this.author == book2.author))\n                &amp;&amp; (this.year.equals(book2.year) || (this.year == book2.year)) ) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","null","storage","bufferedreader"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1646470954,"post_id":71360817,"comment_id":126135356,"body_markdown":"Yes, that could be done better. What is good: You have a lot of catch blocks. But... if you have a catch you continue as if nothing has happened. You should stop then and display a Toast() to the user telling that you stop and e.getMessage(); Please try. Update your code here and then we continue.","body":"Yes, that could be done better. What is good: You have a lot of catch blocks. But... if you have a catch you continue as if nothing has happened. You should stop then and display a Toast() to the user telling that you stop and e.getMessage(); Please try. Update your code here and then we continue."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1646472055,"post_id":71360817,"comment_id":126135541,"body_markdown":"Also: put all your PrintWriter code in that onClick() handler. `PrintWriter printWriter;` Put that in onClick to begin with;","body":"Also: put all your PrintWriter code in that onClick() handler. <code>PrintWriter printWriter;</code> Put that in onClick to begin with;"}],"owner":{"account_id":15894877,"reputation":1,"user_id":11468895,"display_name":"Android World   "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646470535,"creation_date":1646470535,"question_id":71360817,"body_markdown":"Dear StackOverflow members have a good day.\r\n\r\nActually, I am a beginner learner in Android, And in the following code, I have gotten the following issue When I try to read some data stored in the internal storage by the buffered reader.\r\n\r\nThe buffered reader returns null data when I try to read from the &quot;TestFile&quot; file.\r\n\r\nI have spent a lot of time trying to fix this issue, but it is not fixed.\r\n\r\n\r\nSo, please help me :(\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\npackage com.example.internalstorage;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.PrintWriter;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    FileOutputStream fileOutputStream;\r\n    PrintWriter printWriter;\r\n    public static final String fileName = &quot;TestFile&quot;;\r\n    String allText = &quot;&quot;;\r\n    EditText editText;\r\n    Button storeBtn;\r\n    Button restoreBtn;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        editText = findViewById(R.id.editText);\r\n        storeBtn = findViewById(R.id.storeBtn);\r\n        restoreBtn = findViewById(R.id.restoreBtn);\r\n\r\n\r\n\r\n        try {\r\n            File file = new File(getFilesDir(), fileName);\r\n            if (file == null){\r\n\r\n                try {\r\n                    file.createNewFile();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n\r\n            fileOutputStream = new FileOutputStream(fileName);\r\n\r\n                  //  openFileOutput(fileName, MODE_PRIVATE);\r\n\r\n            printWriter = new PrintWriter(fileOutputStream);\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n        storeBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                printWriter.println(editText.getText().toString());\r\n                printWriter.println(editText.getText().toString());\r\n                printWriter.println(editText.getText().toString());\r\n\r\n                Toast.makeText(getBaseContext(), allText, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n        printWriter.close();\r\n        try {\r\n            fileOutputStream.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n\r\n        restoreBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                FileInputStream fileInputStream = null;\r\n                InputStreamReader inputStreamReader = null;\r\n                BufferedReader bufferedReader = null;\r\n\r\n\r\n              //  getFilesDir().get\r\n\r\n                try {\r\n                    fileInputStream = openFileInput(fileName);\r\n                    inputStreamReader = new InputStreamReader(fileInputStream);\r\n                    bufferedReader = new BufferedReader(inputStreamReader);\r\n                } catch (FileNotFoundException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                String line = &quot;&quot;;\r\n                try {\r\n\r\n                    line = bufferedReader.readLine();\r\n\r\n                    String s  = bufferedReader.readLine();\r\n                    Toast.makeText(getBaseContext(), s +&quot;321&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n\r\n                }\r\n\r\n\r\n\r\n\r\n                while(line != null){\r\n\r\n                    allText =  allText + line + &quot;\\n&quot;;\r\n                    try {\r\n                        line =  bufferedReader.readLine();\r\n\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n\r\n                try {\r\n                    bufferedReader.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n\r\n                try {\r\n                    inputStreamReader.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n\r\n                try {\r\n                    fileInputStream.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n\r\n\r\n                Toast.makeText(getBaseContext(), allText, Toast.LENGTH_SHORT).show();\r\n\r\n//\r\n\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nAnd this is the intended XML file \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/editText&quot;\r\n        android:layout_width=&quot;245dp&quot;\r\n        android:layout_height=&quot;73dp&quot;\r\n        android:layout_marginTop=&quot;356dp&quot;\r\n        android:layout_marginEnd=&quot;80dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        android:text=&quot;Name&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/storeBtn&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;132dp&quot;\r\n        android:text=&quot;Store&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.479&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/restoreBtn&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;36dp&quot;\r\n        android:text=&quot;restore&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.458&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"The buffered Reader returns null data when I store the data in the internal storage by Print Writer","body":"<p>Dear StackOverflow members have a good day.</p>\n<p>Actually, I am a beginner learner in Android, And in the following code, I have gotten the following issue When I try to read some data stored in the internal storage by the buffered reader.</p>\n<p>The buffered reader returns null data when I try to read from the &quot;TestFile&quot; file.</p>\n<p>I have spent a lot of time trying to fix this issue, but it is not fixed.</p>\n<p>So, please help me :(</p>\n<pre><code>package com.example.internalstorage;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\n\npublic class MainActivity extends AppCompatActivity {\n\n    FileOutputStream fileOutputStream;\n    PrintWriter printWriter;\n    public static final String fileName = &quot;TestFile&quot;;\n    String allText = &quot;&quot;;\n    EditText editText;\n    Button storeBtn;\n    Button restoreBtn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        editText = findViewById(R.id.editText);\n        storeBtn = findViewById(R.id.storeBtn);\n        restoreBtn = findViewById(R.id.restoreBtn);\n\n\n\n        try {\n            File file = new File(getFilesDir(), fileName);\n            if (file == null){\n\n                try {\n                    file.createNewFile();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n\n\n            fileOutputStream = new FileOutputStream(fileName);\n\n                  //  openFileOutput(fileName, MODE_PRIVATE);\n\n            printWriter = new PrintWriter(fileOutputStream);\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n\n\n        storeBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                printWriter.println(editText.getText().toString());\n                printWriter.println(editText.getText().toString());\n                printWriter.println(editText.getText().toString());\n\n                Toast.makeText(getBaseContext(), allText, Toast.LENGTH_SHORT).show();\n\n\n            }\n        });\n\n\n\n\n        printWriter.close();\n        try {\n            fileOutputStream.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n\n\n        restoreBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                FileInputStream fileInputStream = null;\n                InputStreamReader inputStreamReader = null;\n                BufferedReader bufferedReader = null;\n\n\n              //  getFilesDir().get\n\n                try {\n                    fileInputStream = openFileInput(fileName);\n                    inputStreamReader = new InputStreamReader(fileInputStream);\n                    bufferedReader = new BufferedReader(inputStreamReader);\n                } catch (FileNotFoundException e) {\n                    e.printStackTrace();\n                }\n\n                String line = &quot;&quot;;\n                try {\n\n                    line = bufferedReader.readLine();\n\n                    String s  = bufferedReader.readLine();\n                    Toast.makeText(getBaseContext(), s +&quot;321&quot;, Toast.LENGTH_SHORT).show();\n\n\n                } catch (IOException e) {\n                    e.printStackTrace();\n\n                }\n\n\n\n\n                while(line != null){\n\n                    allText =  allText + line + &quot;\\n&quot;;\n                    try {\n                        line =  bufferedReader.readLine();\n\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n\n                try {\n                    bufferedReader.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n\n\n                try {\n                    inputStreamReader.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n\n\n                try {\n                    fileInputStream.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n\n\n\n                Toast.makeText(getBaseContext(), allText, Toast.LENGTH_SHORT).show();\n\n//\n\n\n            }\n        });\n\n\n\n\n\n\n    }\n}\n</code></pre>\n<p>And this is the intended XML file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editText&quot;\n        android:layout_width=&quot;245dp&quot;\n        android:layout_height=&quot;73dp&quot;\n        android:layout_marginTop=&quot;356dp&quot;\n        android:layout_marginEnd=&quot;80dp&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:text=&quot;Name&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/storeBtn&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;132dp&quot;\n        android:text=&quot;Store&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.479&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/restoreBtn&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;36dp&quot;\n        android:text=&quot;restore&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.458&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","android","flutter"],"comments":[{"owner":{"account_id":10453530,"reputation":6345,"user_id":7706354,"display_name":"lava"},"score":1,"creation_date":1646469188,"post_id":71360447,"comment_id":126135063,"body_markdown":"open editing in android studio will open android code  directly .","body":"open editing in android studio will open android code  directly ."},{"owner":{"account_id":18744771,"reputation":217,"user_id":13667248,"display_name":"Martin"},"score":1,"creation_date":1646558511,"post_id":71360447,"comment_id":126149332,"body_markdown":"That opens this java file along with its parent directories in new window and all errors are gone as well. But why is it showing errors here. This is Android studio too. And why do I have to open them in separate windows. I was watching videos on YouTube about how to create flutter plugins but I didn&#39;t see anything like this in any of those videos.","body":"That opens this java file along with its parent directories in new window and all errors are gone as well. But why is it showing errors here. This is Android studio too. And why do I have to open them in separate windows. I was watching videos on YouTube about how to create flutter plugins but I didn&#39;t see anything like this in any of those videos."},{"owner":{"account_id":10453530,"reputation":6345,"user_id":7706354,"display_name":"lava"},"score":0,"creation_date":1646559314,"post_id":71360447,"comment_id":126149458,"body_markdown":"may be  proper indexing the package","body":"may be  proper indexing the package"}],"answers":[{"tags":[],"owner":{"account_id":24377110,"reputation":6808,"user_id":18309290,"display_name":"user18309290"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1646470486,"creation_date":1646470486,"answer_id":71360814,"question_id":71360447,"body_markdown":"Open `example/android/build.gradle` instead of `android/build.gradle`, then you have both app and plugin in your Project.","title":"Creating flutter plugin for android and ios gives error in java files android studio","body":"<p>Open <code>example/android/build.gradle</code> instead of <code>android/build.gradle</code>, then you have both app and plugin in your Project.</p>\n"}],"owner":{"account_id":18744771,"reputation":217,"user_id":13667248,"display_name":"Martin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1097,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1646470486,"creation_date":1646466958,"question_id":71360447,"body_markdown":"I created a flutter plugin for android and ios using the following command:\r\n```\r\nflutter create --org com.docscanner.ds --template=plugin --platforms=android,ios -i swift -a java complete_pdf_tools\r\n```\r\nThe operation was carried out smoothly and then I opened android studio and clicked on the option **Open** and selected the folder created by the above command. The project opened but it shows error everywhere in all the .java files.\r\n\r\nAnd also all the folders and files on the left are in yellow except lib folder.\r\n\r\nThis is how it looks:\r\n[![enter image description here][1]][1]\r\n\r\nI tried Invalidate Caches and android studio restart and system restart but no good. If I move cursor on top of any red colored word for example on embedding in 3rd line it says **Cannot resolve symbol &#39;embedding&#39;** and for actions it suggests **Find JAR on web** and if I click on that action it says looking for Libraries and then says **No libraries found for &#39;import io.flutter.embedding.engine.plugins.FlutterPlugin;&#39;**\r\n\r\nThe error is in .java files only. Same thing happens if I try to create the plugin from android studio itself by going New Flutter Project&gt;*and then it asks me for flutter sdk path, which is C:\\src\\flutter*&gt;*now for project type i select plugin and select java for android and swift for ios, give project name, org name and finish*\r\n\r\nI am using windows 10 x64, flutter version stable 2.10.2, and Android Studio version Bumblebee 2021.1.1 Patch 1\r\n\r\nWhat could be the cause of these errors.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nFxcJ.png","title":"Creating flutter plugin for android and ios gives error in java files android studio","body":"<p>I created a flutter plugin for android and ios using the following command:</p>\n<pre><code>flutter create --org com.docscanner.ds --template=plugin --platforms=android,ios -i swift -a java complete_pdf_tools\n</code></pre>\n<p>The operation was carried out smoothly and then I opened android studio and clicked on the option <strong>Open</strong> and selected the folder created by the above command. The project opened but it shows error everywhere in all the .java files.</p>\n<p>And also all the folders and files on the left are in yellow except lib folder.</p>\n<p>This is how it looks:\n<a href=\"https://i.stack.imgur.com/nFxcJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nFxcJ.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried Invalidate Caches and android studio restart and system restart but no good. If I move cursor on top of any red colored word for example on embedding in 3rd line it says <strong>Cannot resolve symbol 'embedding'</strong> and for actions it suggests <strong>Find JAR on web</strong> and if I click on that action it says looking for Libraries and then says <strong>No libraries found for 'import io.flutter.embedding.engine.plugins.FlutterPlugin;'</strong></p>\n<p>The error is in .java files only. Same thing happens if I try to create the plugin from android studio itself by going New Flutter Project&gt;<em>and then it asks me for flutter sdk path, which is C:\\src\\flutter</em>&gt;<em>now for project type i select plugin and select java for android and swift for ios, give project name, org name and finish</em></p>\n<p>I am using windows 10 x64, flutter version stable 2.10.2, and Android Studio version Bumblebee 2021.1.1 Patch 1</p>\n<p>What could be the cause of these errors.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1646469425,"post_id":71360614,"comment_id":126135097,"body_markdown":"your class is named `Thread`, it does not have the static method `currentThread()` - that would be in the class `java.lang.Thread`, but your class is hiding it - change the name of your class (it is not a good idea, not recommended to use same name as standard classes) {you could also use `java.lang.Thread.currentThread()`}","body":"your class is named <code>Thread</code>, it does not have the static method <code>currentThread()</code> - that would be in the class <code>java.lang.Thread</code>, but your class is hiding it - change the name of your class (it is not a good idea, not recommended to use same name as standard classes) {you could also use <code>java.lang.Thread.currentThread()</code>}"}],"answers":[{"tags":[],"owner":{"account_id":9910073,"reputation":290,"user_id":16781656,"display_name":"Yogesh Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646470156,"creation_date":1646470156,"answer_id":71360772,"question_id":71360614,"body_markdown":"user16320675 is correctly pointing out. It is happening because you named your class as &quot;Thread&quot;, to solve this problem, either rename your class (eg. to MyThread or Test etc) **Or** use java.lang.Thread for invoking currentThread() Method on it (to use java&#39;s Thread class instead of yours).\r\nFind the code below :\r\n\r\n    public class MyThread{\r\n\t   public static void main(String[] args){\t\t\r\n\t\t System.out.println(Thread.currentThread().getName());\t\t\r\n\t   }\r\n    }\r\nOr \r\n\r\n    public class Thread{\r\n\t    public static void main(String[] args){\t\t\r\n\t\t   System.out.println(java.lang.Thread.currentThread().getName());\t\t\r\n\t    }\r\n    }\r\n\r\n","title":"Why am i getting a error in this java code? Im just a beginner learning java","body":"<p>user16320675 is correctly pointing out. It is happening because you named your class as &quot;Thread&quot;, to solve this problem, either rename your class (eg. to MyThread or Test etc) <strong>Or</strong> use java.lang.Thread for invoking currentThread() Method on it (to use java's Thread class instead of yours).\nFind the code below :</p>\n<pre><code>public class MyThread{\n   public static void main(String[] args){      \n     System.out.println(Thread.currentThread().getName());      \n   }\n}\n</code></pre>\n<p>Or</p>\n<pre><code>public class Thread{\n    public static void main(String[] args){     \n       System.out.println(java.lang.Thread.currentThread().getName());      \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20891961,"reputation":1,"user_id":15347153,"display_name":"Viren Bhagyesh Mandalia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1646471725,"answer_count":1,"score":-1,"last_activity_date":1646470156,"creation_date":1646468573,"question_id":71360614,"body_markdown":"public class Thread{\r\n\t\r\n\tpublic static void main(String[] args){\r\n\t\t\r\n\t\tSystem.out.println(Thread.currentThread().getName());\r\n\t\t\r\n\t}\r\n}\r\n\r\n\r\nThread.java:9: error: cannot find symbol\r\n\r\n\t\tSystem.out.println(Thread.currentThread().getName());\r\n\r\n\t\t                         ^\r\n  symbol:   method currentThread()\r\n  location: class Thread\r\n1 error\r\n","title":"Why am i getting a error in this java code? Im just a beginner learning java","body":"<p>public class Thread{</p>\n<pre><code>public static void main(String[] args){\n    \n    System.out.println(Thread.currentThread().getName());\n    \n}\n</code></pre>\n<p>}</p>\n<p>Thread.java:9: error: cannot find symbol</p>\n<pre><code>    System.out.println(Thread.currentThread().getName());\n\n                             ^\n</code></pre>\n<p>symbol:   method currentThread()\nlocation: class Thread\n1 error</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7787481,"reputation":9066,"user_id":5891747,"display_name":"Android Geek"},"score":0,"creation_date":1646470227,"post_id":71360757,"comment_id":126135244,"body_markdown":"Check this answer - https://stackoverflow.com/questions/11340776/passing-a-list-from-one-activity-to-another","body":"Check this answer - <a href=\"https://stackoverflow.com/questions/11340776/passing-a-list-from-one-activity-to-another\" title=\"passing a list from one activity to another\">stackoverflow.com/questions/11340776/&hellip;</a>"},{"owner":{"account_id":24093135,"reputation":1,"user_id":18066113,"display_name":"Channel one"},"score":0,"creation_date":1646471806,"post_id":71360757,"comment_id":126135494,"body_markdown":"Cannot resolve method &#39;getIntent&#39; in &#39;SlideAdapter&#39;  . This is show in SlideAdapter.java","body":"Cannot resolve method &#39;getIntent&#39; in &#39;SlideAdapter&#39;  . This is show in SlideAdapter.java"},{"owner":{"account_id":7787481,"reputation":9066,"user_id":5891747,"display_name":"Android Geek"},"score":0,"creation_date":1646473388,"post_id":71360757,"comment_id":126135747,"body_markdown":"getIntent in method of activity we cannot use it in Adapter.","body":"getIntent in method of activity we cannot use it in Adapter."},{"owner":{"account_id":7787481,"reputation":9066,"user_id":5891747,"display_name":"Android Geek"},"score":0,"creation_date":1646473447,"post_id":71360757,"comment_id":126135765,"body_markdown":"Add getIntent in your activity in which your `SlideAdapter.java` is present.","body":"Add getIntent in your activity in which your <code>SlideAdapter.java</code> is present."},{"owner":{"account_id":24093135,"reputation":1,"user_id":18066113,"display_name":"Channel one"},"score":0,"creation_date":1646475409,"post_id":71360757,"comment_id":126136093,"body_markdown":"How can i pass the arraylist from activity to SliderAdapter.java","body":"How can i pass the arraylist from activity to SliderAdapter.java"},{"owner":{"account_id":7787481,"reputation":9066,"user_id":5891747,"display_name":"Android Geek"},"score":0,"creation_date":1646475510,"post_id":71360757,"comment_id":126136111,"body_markdown":"You can pass list in constructor of SlideAdapter.","body":"You can pass list in constructor of SlideAdapter."}],"owner":{"account_id":24093135,"reputation":1,"user_id":18066113,"display_name":"Channel one"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646470038,"creation_date":1646470038,"question_id":71360757,"body_markdown":" I want data of arraylist   ,List &lt;ModalClass&gt; songs = new ArrayList&lt;&gt;();    , on my SlideAdapter.  I have two addapter one is &quot;Adapter.java&quot; and second one is &quot;SliderAdapert.java&quot; I want to use List &lt;ModalClass&gt; songs = new ArrayList&lt;&gt;(); on both adapter\r\n \r\n\r\n     \r\n       private void fetchSongs() {\r\n\r\n        //define list to carry songs\r\n        List&lt;ModelClass&gt; songs = new ArrayList&lt;&gt;();\r\n        Uri songLibraryUri;\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            songLibraryUri = MediaStore.Audio.Media.getContentUri(MediaStore.VOLUME_EXTERNAL);\r\n        } else {\r\n            songLibraryUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\n        }\r\n\r\n        //projection\r\n        String[] projection = new String[]{\r\n                MediaStore.Audio.Media._ID,\r\n                MediaStore.Audio.Media.DISPLAY_NAME,\r\n                MediaStore.Audio.Media.DATE_MODIFIED,\r\n                MediaStore.Audio.Media.DATA\r\n        };\r\n\r\n        //sort order\r\n        String sortOrder = MediaStore.Audio.Media.DATE_ADDED + &quot; DESC&quot; ;\r\n\r\n        //Querying\r\n        try (Cursor cursor = getContentResolver().query(songLibraryUri, projection, null, null, sortOrder)) {\r\n\r\n            // cache the cursor indices\r\n            int idColumn = cursor.getColumnIndexOrThrow(MediaStore.Audio.Media._ID);\r\n            int nameColumn = cursor.getColumnIndexOrThrow(MediaStore.Audio.Media.DISPLAY_NAME);\r\n            int dateColumn = cursor.getColumnIndexOrThrow(MediaStore.Audio.Media.DATE_MODIFIED);\r\n            int pathColimn = cursor.getColumnIndexOrThrow(MediaStore.Audio.Media.DATA);\r\n\r\n\r\n            //getting the values\r\n            while (cursor.moveToNext()) {\r\n\r\n                // get values of colums for a give audio files\r\n                long id = cursor.getLong(idColumn);\r\n                String name = cursor.getString(nameColumn);\r\n                long date = cursor.getLong(dateColumn);\r\n                String path = cursor.getString(pathColimn);\r\n\r\n\r\n                //song uri\r\n                Uri uri = ContentUris.withAppendedId(MediaStore.Audio.Media.EXTERNAL_CONTENT_URI, id);\r\n\r\n                //album art uri\r\n                // Uri albumartUri = ContentUris.withAppendedId(Uri.parse(&quot;content://media/external/audio/albumart&quot;),alb)\r\n\r\n                //remove .mp3 extension on song&#39;s name\r\n                name = name.substring(0, name.lastIndexOf(&quot;.&quot;));\r\n\r\n                    // song item\r\n                    ModelClass song = new ModelClass(path, name, uri, date);\r\n                // add song to songs list\r\n                songs.add(song);\r\n\r\n            }\r\n\r\n\r\n\r\n            //show songs on rv\r\n            showSongs(songs);\r\n            Toast.makeText(this, &quot;Number of Songs:&quot; +songs.size(), Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private void showSongs(List&lt;ModelClass&gt; songs) {\r\n\r\n       // songs.clear();\r\n\r\n        LinearLayoutManager layoutManager = new LinearLayoutManager(this);\r\n        layoutManager.setOrientation(RecyclerView.VERTICAL);\r\n        recyclerView.setLayoutManager(layoutManager);\r\n\r\n        adapter = new Adapter(songs);\r\n\r\n\r\n        recyclerView.setAdapter(adapter);\r\n       // adapter.notifyDataSetChanged();\r\n\r\n    }\r\n\r\n\r\nI want List &lt; ModalClass&gt; songs = new ArrayList&lt;&gt;(); on my SlideAdapter.java\r\n\r\n\r\n       public class SlideAdapter extends PagerAdapter {\r\n\r\n    Context context;\r\n    LayoutInflater layoutInflater;\r\n    RelativeLayout relativeLayout1, relativeLayout2;\r\n\r\n    public static final String MyPREFERENCES = &quot;MyPrefs&quot;;\r\n    public static final String Name = &quot;nameKey&quot;;\r\n    public static final String Phone = &quot;phoneKey&quot;;\r\n    public static final String Email = &quot;emailKey&quot;;\r\n    SharedPreferences sharedpreferences;\r\n\r\n    public SlideAdapter(Context context) {\r\n        this.context = context;\r\n\r\n    }\r\n\r\n    //Array\r\n    public int[] slide_images = {\r\n            R.drawable.intro_call,\r\n            R.drawable.intro_call4,\r\n            R.drawable.intro_call4\r\n    };\r\n\r\n    public String[] slide_heading = {\r\n\r\n            &quot;Please allow auto call recording on your device to get better experience&quot;,\r\n            &quot;Please make a dummy call&quot;,\r\n            &quot;Is this is your recorded dummy call ?&quot;\r\n    };\r\n\r\n    public String[] slide_btn = {\r\n\r\n            &quot;I Got it, Continue&quot;,\r\n            &quot;Please Make a dummy call&quot;,\r\n            &quot;No&quot;\r\n    };\r\n\r\n    public String[] slide_des = {\r\n\r\n            &quot;&quot;,\r\n            &quot;It helps us to take accurate location of your recorded calls&quot;,\r\n            &quot;&quot;\r\n    };\r\n\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return slide_heading.length;\r\n    }\r\n\r\n    @Override\r\n    public boolean isViewFromObject(@NonNull View view, @NonNull Object object) {\r\n\r\n        return view == (RelativeLayout) object;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Object instantiateItem(@NonNull ViewGroup container, int position) {\r\n\r\n\r\n        layoutInflater = (LayoutInflater) context.getSystemService(context.LAYOUT_INFLATER_SERVICE);\r\n        View view = layoutInflater.inflate(R.layout.intro_item_layout, container, false);\r\n\r\n\r\n        TextView head = (TextView) view.findViewById(R.id.introtext);\r\n        TextView head2 = (TextView) view.findViewById(R.id.introtext2);\r\n        TextView des = (TextView) view.findViewById(R.id.introdesc);\r\n        TextView recHead = (TextView) view.findViewById(R.id.recText);\r\n        TextView recTime = (TextView) view.findViewById(R.id.recTime);\r\n        TextView recSource = (TextView) view.findViewById(R.id.recSource);\r\n        ImageView img = (ImageView) view.findViewById(R.id.introImg);\r\n        Button btn = (Button) view.findViewById(R.id.introB);\r\n        Button noB = (Button) view.findViewById(R.id.noB);\r\n        Button yesB = (Button) view.findViewById(R.id.yesB);\r\n\r\n        ImageView playB = (ImageView) view.findViewById(R.id.play);\r\n        ImageView pauseB = (ImageView) view.findViewById(R.id.pause);\r\n\r\n        relativeLayout1 = (RelativeLayout) view.findViewById(R.id.relative1);\r\n        relativeLayout2 = (RelativeLayout) view.findViewById(R.id.relativ2);\r\n\r\n        relativeLayout1.setVisibility(View.VISIBLE);\r\n        relativeLayout2.setVisibility(View.GONE);\r\n\r\n\r\n        img.setImageResource(slide_images[position]);\r\n        head.setText(slide_heading[position]);\r\n        des.setText(slide_des[position]);\r\n        btn.setText(slide_btn[position]);\r\n\r\n\r\n        if (position == 1) {\r\n\r\n            sharedpreferences = context.getSharedPreferences(MyPREFERENCES, Context.MODE_PRIVATE);\r\n            btn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n\r\n                    String n = &quot;ed1.getText().toString()&quot;;\r\n                    String ph = &quot;ed2.getText().toString()&quot;;\r\n                    String e = &quot;ed3.getText().toString()&quot;;\r\n\r\n                    SharedPreferences.Editor editor = sharedpreferences.edit();\r\n\r\n                    editor.putString(Name, n);\r\n                    editor.putString(Phone, ph);\r\n                    editor.putString(Email, e);\r\n                    editor.commit();\r\n\r\n                    Intent callIntent = new Intent(Intent.ACTION_DIAL);\r\n                    callIntent.setData(Uri.parse(&quot;tel:&quot;));//change the number\r\n                    context.startActivity(callIntent);\r\n                }\r\n            });\r\n        }\r\n\r\n        if (position == 2) {\r\n            relativeLayout2.setVisibility(View.VISIBLE);\r\n            relativeLayout1.setVisibility(View.INVISIBLE);\r\n           \r\n             // I want the data of the List &lt;ModalClass&gt; songs = new ArrayList&lt;&gt;();  \r\n          // here                  \r\n\r\n        }\r\n        container.addView(view);\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void destroyItem(ViewGroup container, int position, Object object) {\r\n        //container.removeView(container);\r\n        Intent intent = new Intent(context, MainActivity.class);\r\n        context.startActivity(intent);\r\n    }\r\n}\r\n\r\n\r\n","title":"How to pass ArrayList data to another onboarding adapter activity in android?","body":"<p>I want data of arraylist   ,List  songs = new ArrayList&lt;&gt;();    , on my SlideAdapter.  I have two addapter one is &quot;Adapter.java&quot; and second one is &quot;SliderAdapert.java&quot; I want to use List  songs = new ArrayList&lt;&gt;(); on both adapter</p>\n<pre><code>   private void fetchSongs() {\n\n    //define list to carry songs\n    List&lt;ModelClass&gt; songs = new ArrayList&lt;&gt;();\n    Uri songLibraryUri;\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        songLibraryUri = MediaStore.Audio.Media.getContentUri(MediaStore.VOLUME_EXTERNAL);\n    } else {\n        songLibraryUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n    }\n\n    //projection\n    String[] projection = new String[]{\n            MediaStore.Audio.Media._ID,\n            MediaStore.Audio.Media.DISPLAY_NAME,\n            MediaStore.Audio.Media.DATE_MODIFIED,\n            MediaStore.Audio.Media.DATA\n    };\n\n    //sort order\n    String sortOrder = MediaStore.Audio.Media.DATE_ADDED + &quot; DESC&quot; ;\n\n    //Querying\n    try (Cursor cursor = getContentResolver().query(songLibraryUri, projection, null, null, sortOrder)) {\n\n        // cache the cursor indices\n        int idColumn = cursor.getColumnIndexOrThrow(MediaStore.Audio.Media._ID);\n        int nameColumn = cursor.getColumnIndexOrThrow(MediaStore.Audio.Media.DISPLAY_NAME);\n        int dateColumn = cursor.getColumnIndexOrThrow(MediaStore.Audio.Media.DATE_MODIFIED);\n        int pathColimn = cursor.getColumnIndexOrThrow(MediaStore.Audio.Media.DATA);\n\n\n        //getting the values\n        while (cursor.moveToNext()) {\n\n            // get values of colums for a give audio files\n            long id = cursor.getLong(idColumn);\n            String name = cursor.getString(nameColumn);\n            long date = cursor.getLong(dateColumn);\n            String path = cursor.getString(pathColimn);\n\n\n            //song uri\n            Uri uri = ContentUris.withAppendedId(MediaStore.Audio.Media.EXTERNAL_CONTENT_URI, id);\n\n            //album art uri\n            // Uri albumartUri = ContentUris.withAppendedId(Uri.parse(&quot;content://media/external/audio/albumart&quot;),alb)\n\n            //remove .mp3 extension on song's name\n            name = name.substring(0, name.lastIndexOf(&quot;.&quot;));\n\n                // song item\n                ModelClass song = new ModelClass(path, name, uri, date);\n            // add song to songs list\n            songs.add(song);\n\n        }\n\n\n\n        //show songs on rv\n        showSongs(songs);\n        Toast.makeText(this, &quot;Number of Songs:&quot; +songs.size(), Toast.LENGTH_SHORT).show();\n    }\n\n\n}\n\nprivate void showSongs(List&lt;ModelClass&gt; songs) {\n\n   // songs.clear();\n\n    LinearLayoutManager layoutManager = new LinearLayoutManager(this);\n    layoutManager.setOrientation(RecyclerView.VERTICAL);\n    recyclerView.setLayoutManager(layoutManager);\n\n    adapter = new Adapter(songs);\n\n\n    recyclerView.setAdapter(adapter);\n   // adapter.notifyDataSetChanged();\n\n}\n</code></pre>\n<p>I want List &lt; ModalClass&gt; songs = new ArrayList&lt;&gt;(); on my SlideAdapter.java</p>\n<pre><code>   public class SlideAdapter extends PagerAdapter {\n\nContext context;\nLayoutInflater layoutInflater;\nRelativeLayout relativeLayout1, relativeLayout2;\n\npublic static final String MyPREFERENCES = &quot;MyPrefs&quot;;\npublic static final String Name = &quot;nameKey&quot;;\npublic static final String Phone = &quot;phoneKey&quot;;\npublic static final String Email = &quot;emailKey&quot;;\nSharedPreferences sharedpreferences;\n\npublic SlideAdapter(Context context) {\n    this.context = context;\n\n}\n\n//Array\npublic int[] slide_images = {\n        R.drawable.intro_call,\n        R.drawable.intro_call4,\n        R.drawable.intro_call4\n};\n\npublic String[] slide_heading = {\n\n        &quot;Please allow auto call recording on your device to get better experience&quot;,\n        &quot;Please make a dummy call&quot;,\n        &quot;Is this is your recorded dummy call ?&quot;\n};\n\npublic String[] slide_btn = {\n\n        &quot;I Got it, Continue&quot;,\n        &quot;Please Make a dummy call&quot;,\n        &quot;No&quot;\n};\n\npublic String[] slide_des = {\n\n        &quot;&quot;,\n        &quot;It helps us to take accurate location of your recorded calls&quot;,\n        &quot;&quot;\n};\n\n\n@Override\npublic int getCount() {\n    return slide_heading.length;\n}\n\n@Override\npublic boolean isViewFromObject(@NonNull View view, @NonNull Object object) {\n\n    return view == (RelativeLayout) object;\n}\n\n@NonNull\n@Override\npublic Object instantiateItem(@NonNull ViewGroup container, int position) {\n\n\n    layoutInflater = (LayoutInflater) context.getSystemService(context.LAYOUT_INFLATER_SERVICE);\n    View view = layoutInflater.inflate(R.layout.intro_item_layout, container, false);\n\n\n    TextView head = (TextView) view.findViewById(R.id.introtext);\n    TextView head2 = (TextView) view.findViewById(R.id.introtext2);\n    TextView des = (TextView) view.findViewById(R.id.introdesc);\n    TextView recHead = (TextView) view.findViewById(R.id.recText);\n    TextView recTime = (TextView) view.findViewById(R.id.recTime);\n    TextView recSource = (TextView) view.findViewById(R.id.recSource);\n    ImageView img = (ImageView) view.findViewById(R.id.introImg);\n    Button btn = (Button) view.findViewById(R.id.introB);\n    Button noB = (Button) view.findViewById(R.id.noB);\n    Button yesB = (Button) view.findViewById(R.id.yesB);\n\n    ImageView playB = (ImageView) view.findViewById(R.id.play);\n    ImageView pauseB = (ImageView) view.findViewById(R.id.pause);\n\n    relativeLayout1 = (RelativeLayout) view.findViewById(R.id.relative1);\n    relativeLayout2 = (RelativeLayout) view.findViewById(R.id.relativ2);\n\n    relativeLayout1.setVisibility(View.VISIBLE);\n    relativeLayout2.setVisibility(View.GONE);\n\n\n    img.setImageResource(slide_images[position]);\n    head.setText(slide_heading[position]);\n    des.setText(slide_des[position]);\n    btn.setText(slide_btn[position]);\n\n\n    if (position == 1) {\n\n        sharedpreferences = context.getSharedPreferences(MyPREFERENCES, Context.MODE_PRIVATE);\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                String n = &quot;ed1.getText().toString()&quot;;\n                String ph = &quot;ed2.getText().toString()&quot;;\n                String e = &quot;ed3.getText().toString()&quot;;\n\n                SharedPreferences.Editor editor = sharedpreferences.edit();\n\n                editor.putString(Name, n);\n                editor.putString(Phone, ph);\n                editor.putString(Email, e);\n                editor.commit();\n\n                Intent callIntent = new Intent(Intent.ACTION_DIAL);\n                callIntent.setData(Uri.parse(&quot;tel:&quot;));//change the number\n                context.startActivity(callIntent);\n            }\n        });\n    }\n\n    if (position == 2) {\n        relativeLayout2.setVisibility(View.VISIBLE);\n        relativeLayout1.setVisibility(View.INVISIBLE);\n       \n         // I want the data of the List &lt;ModalClass&gt; songs = new ArrayList&lt;&gt;();  \n      // here                  \n\n    }\n    container.addView(view);\n    return view;\n}\n\n@Override\npublic void destroyItem(ViewGroup container, int position, Object object) {\n    //container.removeView(container);\n    Intent intent = new Intent(context, MainActivity.class);\n    context.startActivity(intent);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","user-interface"],"comments":[{"owner":{"account_id":22934311,"reputation":1,"user_id":17068006,"display_name":"Hammer1825"},"score":0,"creation_date":1646470009,"post_id":71360670,"comment_id":126135206,"body_markdown":"any idea/tips on how id manage/implement that?","body":"any idea/tips on how id manage/implement that?"},{"owner":{"account_id":24408886,"reputation":86,"user_id":18336654,"display_name":"Nagamura"},"score":0,"creation_date":1646499311,"post_id":71360670,"comment_id":126140730,"body_markdown":"Since the program will close you loose all of your data. You should store the data in files or in database","body":"Since the program will close you loose all of your data. You should store the data in files or in database"}],"owner":{"account_id":22934311,"reputation":1,"user_id":17068006,"display_name":"Hammer1825"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646469125,"creation_date":1646469125,"question_id":71360670,"body_markdown":"I&#39;m trying to make a banking system GUI and I&#39;ve done well so far but I&#39;ve run into quite the roadblock. I want to be able to log in, but only if you&#39;ve previously created an account, but I&#39;m not sure if it&#39;s even possible to run my create account class and save the information received for future use since the program will close. I assume it&#39;s not possible as I&#39;d need a place to store the username and password for future use, such as a server or something, but I thought I&#39;d ask to see if maybe there was something I could do with an array or something. (P.S. I know I shouldn&#39;t use .setLayout(null) but this is just a fun first solo coding project I&#39;m trying to do and I don&#39;t understand what people say about it so I&#39;ll learn about it later)\r\n\r\nHere is my code so far:\r\n\r\n    import java.awt.Font;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JPasswordField;\r\n    import javax.swing.JTextField;\r\n\r\n    public class CreateAccount{\r\n\t\r\n\t   private JPanel panel;\r\n\t   private JFrame frame;\r\n\t   private JLabel username;\r\n\t   private JLabel title;\r\n\t   private JLabel passwordLabel;\r\n\t   private JLabel confirmPasswordLabel;\r\n\t   private JLabel alreadyLoggedIn;\r\n\t   private JTextField usernameText;\r\n\t   private JPasswordField passwordText;\r\n\t   private JPasswordField confirmPasswordText;\r\n\t   private JButton confirmButton;\r\n\t   private JButton alreadyLoggedInButton;\r\n\t   private JLabel failureLabel;\r\n\t\r\n\tpublic CreateAccount()\r\n\t{\r\n\t\tpanel = new JPanel();\r\n\t\tframe = new JFrame();\r\n\t\tframe.setSize(500,300);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setLocationRelativeTo(null);\r\n\t\tframe.add(panel);\r\n\t\t\r\n\t\tpanel.setLayout(null);\r\n\t\t\r\n\t\tClicklistener click = new Clicklistener();\r\n\t\t\r\n\t\ttitle = new JLabel(&quot;Create New Account&quot;);\r\n\t\ttitle.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 18));\r\n\t\ttitle.setBounds(150,10,200, 25);\r\n\t\tpanel.add(title);\r\n\t\t\r\n\t\tusername = new JLabel(&quot;New Username:&quot;);\r\n\t\tusername.setBounds(40,50,100,25);;\r\n\t\tusername.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 14));\r\n\t\tpanel.add(username);\r\n\t\t\r\n\t\tpasswordLabel = new JLabel(&quot;Create Password:&quot;);\r\n\t\tpasswordLabel.setBounds(30,90,150,25);\r\n\t\tpasswordLabel.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 14));\r\n\t\tpanel.add(passwordLabel);\r\n\t\t\r\n\t\tconfirmPasswordLabel = new JLabel(&quot;Confirm Password:&quot;);\r\n\t\tconfirmPasswordLabel.setBounds(18,130,150,25);\r\n\t\tconfirmPasswordLabel.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 14));\r\n\t\tpanel.add(confirmPasswordLabel);\r\n\t\t\r\n\t\talreadyLoggedIn = new JLabel(&quot;Already logged in?&quot;);\r\n\t\talreadyLoggedIn.setBounds(28,225,200,25);\r\n\t\tpanel.add(alreadyLoggedIn);\r\n\t\t\r\n\t\tusernameText = new JTextField();\r\n\t\tusernameText.setBounds(160,53,225,25);\r\n\t\tpanel.add(usernameText);\r\n\t\t\r\n\t\tpasswordText = new JPasswordField();\r\n\t\tpasswordText.setBounds(160,93,225,25);\r\n\t\tpanel.add(passwordText);\r\n\t\t\r\n\t\tconfirmPasswordText = new JPasswordField();\r\n\t\tconfirmPasswordText.setBounds(160,133,225,25);\r\n\t\tpanel.add(confirmPasswordText);\r\n\t\t\r\n\t\tconfirmButton = new JButton(&quot;Confirm Login&quot;);\r\n\t\tconfirmButton.setBounds(205,190,125,25);\r\n\t\tconfirmButton.addActionListener(click);\r\n\t\tpanel.add(confirmButton);\r\n\t\t\r\n\t\talreadyLoggedInButton = new JButton(&quot;Login Here&quot;);\r\n\t\talreadyLoggedInButton.setBounds(140,225, 125,25);\r\n\t\talreadyLoggedInButton.addActionListener(click);\r\n\t\tpanel.add(alreadyLoggedInButton);\r\n\t\t\r\n\t\tfailureLabel = new JLabel(&quot;&quot;);\r\n\t\tfailureLabel.setBounds(175,160,400,25);\r\n\t\tpanel.add(failureLabel);\r\n\t\t\r\n\t\tframe.setVisible(true);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic String getUsername() {\r\n\t\treturn usernameText.getText();\r\n\t}\r\n\t\r\n\tpublic String getPassword() {\r\n\t\treturn passwordText.getText();\r\n\t}\r\n\t\r\n\tprivate class Clicklistener implements ActionListener\r\n\t  {\r\n\t\r\n\t    public void actionPerformed(ActionEvent e)\r\n\t    {\r\n\t    \tString password = passwordText.getText();\r\n\t    \tString confirmedPassword = confirmPasswordText.getText();\r\n\t    \t\r\n\t      if ((password.equals(confirmedPassword)) &amp;&amp; (e.getSource() == confirmButton))\r\n\t      {\r\n\t        frame.dispose();\r\n\t        //call Home Page\r\n\t      }\r\n\t      else if(!password.equals(confirmedPassword)) {\r\n\t    \t  failureLabel.setText(&quot;Passwords don&#39;t match. Try Again!&quot;);\r\n\t      }\r\n\t      \r\n\t      if (e.getSource() == alreadyLoggedInButton)\r\n\t      {\r\n\t        frame.dispose();\r\n\t        new Login();\r\n\t      }\r\n\t    }\r\n\t  }\r\n\r\n    }\r\n\r\nMy Login class code:\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JPasswordField;\r\n    import javax.swing.JTextField;\r\n\r\n    public class Login {\r\n\t\r\n\t   private JFrame frame;\r\n\t   private JPanel panel;\r\n\t   private JLabel userLabel;\r\n\t   private JTextField userText;\r\n\t   private JLabel passwordLabel;\r\n\t   private JPasswordField passwordText;\r\n\t   private JButton button;\r\n\t   private JLabel success;\r\n\t\r\n\tpublic Login(){\r\n\t\t\r\n\t\tpanel = new JPanel();\r\n\t\tframe = new JFrame();\r\n\t\tframe.setSize(350,200);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.add(panel);\r\n\t\t\r\n\t\tpanel.setLayout(null);\r\n\t\t\r\n\t\tuserLabel = new JLabel(&quot;Username:&quot;);\r\n\t\tuserLabel.setBounds(10, 20, 80, 25); // x , y , width , height\r\n\t\tpanel.add(userLabel);\r\n\t\t\r\n\t\tuserText = new JTextField();\r\n\t\tuserText.setBounds(100, 20, 165, 25);\r\n\t\tpanel.add(userText);\r\n\t\t\r\n\t\tpasswordLabel = new JLabel(&quot;Password:&quot;);\r\n\t\tpasswordLabel.setBounds(10, 50, 80, 25);\r\n\t\tpanel.add(passwordLabel);\r\n\t\t\r\n\t\tpasswordText = new JPasswordField();\r\n\t\tpasswordText.setBounds(100,50,165,25);\r\n\t\tpanel.add(passwordText);\r\n\t\t\r\n\t\tbutton = new JButton(&quot;Login&quot;);\r\n\t\tbutton.setBounds(135,80,80,25);\r\n\t\tbutton.addActionListener(new Clicklistener());\r\n\t\tpanel.add(button);\r\n\t\t\r\n\t\tsuccess = new JLabel(&quot;&quot;);\r\n\t\tsuccess.setBounds(10,110,300,25);\r\n\t\tpanel.add(success);\r\n\t\tsuccess.setText(&quot;&quot;);\r\n\t\t\r\n\t\tframe.setVisible(true);\r\n\t\t\r\n\t}\r\n\tprivate class Clicklistener implements ActionListener{\r\n\t    \r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\r\n\t    \tif ((e.getSource() == button))\r\n\t\t      {\r\n\t\t        frame.dispose();\r\n\t\t      }\r\n\t    }\r\n\t  }\r\n    }\r\n\r\n\t    \r\n","title":"Is there a way to save Strings after the program closes?","body":"<p>I'm trying to make a banking system GUI and I've done well so far but I've run into quite the roadblock. I want to be able to log in, but only if you've previously created an account, but I'm not sure if it's even possible to run my create account class and save the information received for future use since the program will close. I assume it's not possible as I'd need a place to store the username and password for future use, such as a server or something, but I thought I'd ask to see if maybe there was something I could do with an array or something. (P.S. I know I shouldn't use .setLayout(null) but this is just a fun first solo coding project I'm trying to do and I don't understand what people say about it so I'll learn about it later)</p>\n<p>Here is my code so far:</p>\n<pre><code>import java.awt.Font;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JPasswordField;\nimport javax.swing.JTextField;\n\npublic class CreateAccount{\n\n   private JPanel panel;\n   private JFrame frame;\n   private JLabel username;\n   private JLabel title;\n   private JLabel passwordLabel;\n   private JLabel confirmPasswordLabel;\n   private JLabel alreadyLoggedIn;\n   private JTextField usernameText;\n   private JPasswordField passwordText;\n   private JPasswordField confirmPasswordText;\n   private JButton confirmButton;\n   private JButton alreadyLoggedInButton;\n   private JLabel failureLabel;\n\npublic CreateAccount()\n{\n    panel = new JPanel();\n    frame = new JFrame();\n    frame.setSize(500,300);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setLocationRelativeTo(null);\n    frame.add(panel);\n    \n    panel.setLayout(null);\n    \n    Clicklistener click = new Clicklistener();\n    \n    title = new JLabel(&quot;Create New Account&quot;);\n    title.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 18));\n    title.setBounds(150,10,200, 25);\n    panel.add(title);\n    \n    username = new JLabel(&quot;New Username:&quot;);\n    username.setBounds(40,50,100,25);;\n    username.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 14));\n    panel.add(username);\n    \n    passwordLabel = new JLabel(&quot;Create Password:&quot;);\n    passwordLabel.setBounds(30,90,150,25);\n    passwordLabel.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 14));\n    panel.add(passwordLabel);\n    \n    confirmPasswordLabel = new JLabel(&quot;Confirm Password:&quot;);\n    confirmPasswordLabel.setBounds(18,130,150,25);\n    confirmPasswordLabel.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 14));\n    panel.add(confirmPasswordLabel);\n    \n    alreadyLoggedIn = new JLabel(&quot;Already logged in?&quot;);\n    alreadyLoggedIn.setBounds(28,225,200,25);\n    panel.add(alreadyLoggedIn);\n    \n    usernameText = new JTextField();\n    usernameText.setBounds(160,53,225,25);\n    panel.add(usernameText);\n    \n    passwordText = new JPasswordField();\n    passwordText.setBounds(160,93,225,25);\n    panel.add(passwordText);\n    \n    confirmPasswordText = new JPasswordField();\n    confirmPasswordText.setBounds(160,133,225,25);\n    panel.add(confirmPasswordText);\n    \n    confirmButton = new JButton(&quot;Confirm Login&quot;);\n    confirmButton.setBounds(205,190,125,25);\n    confirmButton.addActionListener(click);\n    panel.add(confirmButton);\n    \n    alreadyLoggedInButton = new JButton(&quot;Login Here&quot;);\n    alreadyLoggedInButton.setBounds(140,225, 125,25);\n    alreadyLoggedInButton.addActionListener(click);\n    panel.add(alreadyLoggedInButton);\n    \n    failureLabel = new JLabel(&quot;&quot;);\n    failureLabel.setBounds(175,160,400,25);\n    panel.add(failureLabel);\n    \n    frame.setVisible(true);\n    \n}\n\npublic String getUsername() {\n    return usernameText.getText();\n}\n\npublic String getPassword() {\n    return passwordText.getText();\n}\n\nprivate class Clicklistener implements ActionListener\n  {\n\n    public void actionPerformed(ActionEvent e)\n    {\n        String password = passwordText.getText();\n        String confirmedPassword = confirmPasswordText.getText();\n        \n      if ((password.equals(confirmedPassword)) &amp;&amp; (e.getSource() == confirmButton))\n      {\n        frame.dispose();\n        //call Home Page\n      }\n      else if(!password.equals(confirmedPassword)) {\n          failureLabel.setText(&quot;Passwords don't match. Try Again!&quot;);\n      }\n      \n      if (e.getSource() == alreadyLoggedInButton)\n      {\n        frame.dispose();\n        new Login();\n      }\n    }\n  }\n\n}\n</code></pre>\n<p>My Login class code:</p>\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JPasswordField;\nimport javax.swing.JTextField;\n\npublic class Login {\n\n   private JFrame frame;\n   private JPanel panel;\n   private JLabel userLabel;\n   private JTextField userText;\n   private JLabel passwordLabel;\n   private JPasswordField passwordText;\n   private JButton button;\n   private JLabel success;\n\npublic Login(){\n    \n    panel = new JPanel();\n    frame = new JFrame();\n    frame.setSize(350,200);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.add(panel);\n    \n    panel.setLayout(null);\n    \n    userLabel = new JLabel(&quot;Username:&quot;);\n    userLabel.setBounds(10, 20, 80, 25); // x , y , width , height\n    panel.add(userLabel);\n    \n    userText = new JTextField();\n    userText.setBounds(100, 20, 165, 25);\n    panel.add(userText);\n    \n    passwordLabel = new JLabel(&quot;Password:&quot;);\n    passwordLabel.setBounds(10, 50, 80, 25);\n    panel.add(passwordLabel);\n    \n    passwordText = new JPasswordField();\n    passwordText.setBounds(100,50,165,25);\n    panel.add(passwordText);\n    \n    button = new JButton(&quot;Login&quot;);\n    button.setBounds(135,80,80,25);\n    button.addActionListener(new Clicklistener());\n    panel.add(button);\n    \n    success = new JLabel(&quot;&quot;);\n    success.setBounds(10,110,300,25);\n    panel.add(success);\n    success.setText(&quot;&quot;);\n    \n    frame.setVisible(true);\n    \n}\nprivate class Clicklistener implements ActionListener{\n    \n    public void actionPerformed(ActionEvent e) {\n        \n        if ((e.getSource() == button))\n          {\n            frame.dispose();\n          }\n    }\n  }\n}\n\n    \n</code></pre>\n"},{"tags":["java","spring","rabbitmq"],"comments":[{"owner":{"account_id":4097931,"reputation":8214,"user_id":3364187,"display_name":"Xstian"},"score":0,"creation_date":1418217225,"post_id":27401750,"comment_id":43248597,"body_markdown":"Do you use spring-integration?","body":"Do you use spring-integration?"},{"owner":{"account_id":98298,"reputation":5903,"user_id":266185,"accept_rate":73,"display_name":"Daniel Wu"},"score":0,"creation_date":1418219455,"post_id":27401750,"comment_id":43250004,"body_markdown":"yes, I am using rabbit:listener-container","body":"yes, I am using rabbit:listener-container"},{"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"score":0,"creation_date":1418223133,"post_id":27401750,"comment_id":43252603,"body_markdown":"There is some functionality available in Spring AMQP relating to retries: http://docs.spring.io/spring-amqp/reference/html/amqp.html#template-retry","body":"There is some functionality available in Spring AMQP relating to retries: <a href=\"http://docs.spring.io/spring-amqp/reference/html/amqp.html#template-retry\" rel=\"nofollow noreferrer\">docs.spring.io/spring-amqp/reference/html/&hellip;</a>"},{"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"score":0,"creation_date":1418223319,"post_id":27401750,"comment_id":43252750,"body_markdown":"Additionally, you could just take advantage of a chain of RabbitMQ dead letter queues. i.e. Your main queue has a DLQ, which in turn has a DLQ, and so on for as many DLQ/retries as you like. You listen to the DLQs and then anything in a final DLQ causes alerts for manual intervention.","body":"Additionally, you could just take advantage of a chain of RabbitMQ dead letter queues. i.e. Your main queue has a DLQ, which in turn has a DLQ, and so on for as many DLQ/retries as you like. You listen to the DLQs and then anything in a final DLQ causes alerts for manual intervention."},{"owner":{"account_id":4097931,"reputation":8214,"user_id":3364187,"display_name":"Xstian"},"score":1,"creation_date":1418226106,"post_id":27401750,"comment_id":43254735,"body_markdown":"Have you already seen [this link](http://stackoverflow.com/q/21393517/3364187)?","body":"Have you already seen <a href=\"http://stackoverflow.com/q/21393517/3364187\">this link</a>?"}],"answers":[{"tags":[],"owner":{"account_id":17865245,"reputation":21,"user_id":12977747,"display_name":"rustem taralov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646469019,"creation_date":1646469019,"answer_id":71360659,"question_id":27401750,"body_markdown":"spring:\r\n  rabbitmq:\r\n    listener:\r\n      simple:\r\n        retry:\r\n          enabled: true\r\n          initial-interval: 3s\r\n          max-attempts: 6\r\n          max-interval: 10s\r\n          multiplier: 2\r\n\r\ni hope it gonna help you [https://www.javainuse.com/messaging/rabbitmq/error]","title":"possible to limit retry for a failed message in spring rabbitmq","body":"<p>spring:\nrabbitmq:\nlistener:\nsimple:\nretry:\nenabled: true\ninitial-interval: 3s\nmax-attempts: 6\nmax-interval: 10s\nmultiplier: 2</p>\n<p>i hope it gonna help you [https://www.javainuse.com/messaging/rabbitmq/error]</p>\n"}],"owner":{"account_id":98298,"reputation":5903,"user_id":266185,"accept_rate":73,"display_name":"Daniel Wu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1364,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1646469019,"creation_date":1418216624,"question_id":27401750,"body_markdown":"When there is some except throw out to the listener, the message will be re-deliver next time and this is good for us, but is it possible to set a limit for the retries? such as I want to retry 3 times, and  drop the message after retried 3 times.","title":"possible to limit retry for a failed message in spring rabbitmq","body":"<p>When there is some except throw out to the listener, the message will be re-deliver next time and this is good for us, but is it possible to set a limit for the retries? such as I want to retry 3 times, and  drop the message after retried 3 times.</p>\n"},{"tags":["java"],"owner":{"account_id":24459162,"reputation":11,"user_id":18380393,"display_name":"Chiyu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646467890,"creation_date":1646467890,"question_id":71360540,"body_markdown":" I&#39;ve run this code. Description, this code is about choosing a choice what to do. Error Occurs in  every input.next() \r\n\r\n    public static void showItem() throws IOException {\r\n\t\tdeleteInformation delete = new deleteInformation();\r\n\t\tshowInformation info = new showInformation();\r\n\t\tinfo.showAllItemInfo(); //Just show all item (No scanner here)\r\n\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.print(&quot;1.Delete an information | 2.Go back to previous | : &quot;);\r\n\t\tint choice = 2;\r\n\t\tchoice = input.nextInt();\r\n\t\t\r\n\t\t\r\n\t\twhile(choice &lt; 1 || choice &gt; 2) {\r\n\t\t\tSystem.out.print(&quot;Please type between 1-2 : &quot;);\r\n\t\t\tinput.nextLine();\r\n\t\t\tchoice = input.nextInt();\r\n\t\t}\r\n\t\tif(choice == 1) {\r\n\t\t\tint wanted = 0;\r\n\t\t\tSystem.out.print(&quot;Please type what number you want to delete : &quot;);\r\n\t\t\twanted = input.nextInt();\r\n\t\t\t\r\n\t\t\twhile(wanted &lt; 1 || wanted &gt; info.countAllItem()) {\r\n\t\t\t\tSystem.out.print(&quot;Please type between 1-&quot; + info.countAllItem() + &quot; : &quot;);\r\n\t\t\t\twanted = input.nextInt();\r\n\t\t\t}\r\n\t\t\tdelete.deleteItemNum(wanted);\r\n\t\t\tchooseOption();\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\tchooseOption();\r\n\t\t}\r\n\t\tinput.close();\r\n\t}\r\n\r\nThen this is how an error occurs.\r\n\r\n    Exception in thread &quot;main&quot; java.util.NoSuchElementException\r\n\tat java.util.Scanner.throwFor(Unknown Source)\r\n\tat java.util.Scanner.next(Unknown Source)\r\n\tat java.util.Scanner.nextInt(Unknown Source)\r\n\tat java.util.Scanner.nextInt(Unknown Source)\r\n\tat LostItemService.showItem(LostItemService.java:216)\r\n\tat LostItemService.chooseOption(LostItemService.java:130)\r\n\tat LostItemService.main(LostItemService.java:8)\r\n\r\nI tried to put input.nextLine(); on both before and after nextInt() But It didn&#39;t figured.\r\nI am finding a way to fix it. Please help ;w;. Appreciate it.\r\n\r\nAbout chooseOption method\r\n\r\n    public static void chooseOption() throws IOException {\r\n\t\tint choice = 0;\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Please choose what do you want to do&quot;);\r\n\t\tSystem.out.println(&quot;1.Put found item without any person information&quot;);\r\n\t\tSystem.out.println(&quot;2.Insert your lost item and your information&quot;);\r\n\t\tSystem.out.println(&quot;3.View existed information&quot;);\r\n\t\tSystem.out.println(&quot;4.Close this program&quot;);\r\n\t\tchoice = input.nextInt();\r\n\t\twhile(choice &lt; 1 || choice &gt; 4) {\r\n\t\t\tSystem.out.print(&quot;Please type between 1-4 : &quot;);\r\n\t\t\tchoice = input.nextInt();\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;\\n-----------------------------------------------------------------------------&quot;);\r\n\t\tSystem.out.println();\r\n\t\t\r\n\t\tif(choice == 1) {\r\n\t\t\tsaveItem();\r\n\t\t}\r\n\t\telse if(choice == 2) {\r\n\t\t\tsavePerson();\r\n\t\t}\r\n\t\telse if(choice == 3) {\r\n\t\t\tSystem.out.println(&quot;\\nPlease choose what do you want to do about information&quot;);\r\n\t\t\tSystem.out.println(&quot;1.Show all item in system.&quot;);\r\n\t\t\tSystem.out.println(&quot;2.Show all people who lost item.&quot;);\r\n\t\t\tchoice = input.nextInt();\r\n\t\t\twhile(choice &lt; 1 || choice &gt; 2) {\r\n\t\t\t\tSystem.out.print(&quot;Please type between 1-2 : &quot;);\r\n\t\t\t\tchoice = input.nextInt();\r\n\t\t\t}\r\n\t\t\tinput.nextLine();\r\n\t\t\tinput.close();\r\n\t\t\tswitch(choice) {\r\n\t\t\tcase 1 : \r\n\t\t\t\t//input.close();\r\n\t\t\t\tshowItem();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2 : \r\n\t\t\t\t//input.close();\r\n\t\t\t\tshowPerson();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault : System.out.println(&quot;What?&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;Turning off program...&quot;);\r\n\t\t\t//input.close();\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t\tinput.close();\r\n\t}\r\n\r\nThe main method is nothing than just called chooseOption method.","title":"java.util.NoSuchElementException occurs for some reason","body":"<p>I've run this code. Description, this code is about choosing a choice what to do. Error Occurs in  every input.next()</p>\n<pre><code>public static void showItem() throws IOException {\n    deleteInformation delete = new deleteInformation();\n    showInformation info = new showInformation();\n    info.showAllItemInfo(); //Just show all item (No scanner here)\n\n    Scanner input = new Scanner(System.in);\n    \n    System.out.print(&quot;1.Delete an information | 2.Go back to previous | : &quot;);\n    int choice = 2;\n    choice = input.nextInt();\n    \n    \n    while(choice &lt; 1 || choice &gt; 2) {\n        System.out.print(&quot;Please type between 1-2 : &quot;);\n        input.nextLine();\n        choice = input.nextInt();\n    }\n    if(choice == 1) {\n        int wanted = 0;\n        System.out.print(&quot;Please type what number you want to delete : &quot;);\n        wanted = input.nextInt();\n        \n        while(wanted &lt; 1 || wanted &gt; info.countAllItem()) {\n            System.out.print(&quot;Please type between 1-&quot; + info.countAllItem() + &quot; : &quot;);\n            wanted = input.nextInt();\n        }\n        delete.deleteItemNum(wanted);\n        chooseOption();\n        \n    }\n    else {\n        chooseOption();\n    }\n    input.close();\n}\n</code></pre>\n<p>Then this is how an error occurs.</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException\nat java.util.Scanner.throwFor(Unknown Source)\nat java.util.Scanner.next(Unknown Source)\nat java.util.Scanner.nextInt(Unknown Source)\nat java.util.Scanner.nextInt(Unknown Source)\nat LostItemService.showItem(LostItemService.java:216)\nat LostItemService.chooseOption(LostItemService.java:130)\nat LostItemService.main(LostItemService.java:8)\n</code></pre>\n<p>I tried to put input.nextLine(); on both before and after nextInt() But It didn't figured.\nI am finding a way to fix it. Please help ;w;. Appreciate it.</p>\n<p>About chooseOption method</p>\n<pre><code>public static void chooseOption() throws IOException {\n    int choice = 0;\n    Scanner input = new Scanner(System.in);\n    \n    System.out.println(&quot;Please choose what do you want to do&quot;);\n    System.out.println(&quot;1.Put found item without any person information&quot;);\n    System.out.println(&quot;2.Insert your lost item and your information&quot;);\n    System.out.println(&quot;3.View existed information&quot;);\n    System.out.println(&quot;4.Close this program&quot;);\n    choice = input.nextInt();\n    while(choice &lt; 1 || choice &gt; 4) {\n        System.out.print(&quot;Please type between 1-4 : &quot;);\n        choice = input.nextInt();\n    }\n    \n    System.out.println(&quot;\\n-----------------------------------------------------------------------------&quot;);\n    System.out.println();\n    \n    if(choice == 1) {\n        saveItem();\n    }\n    else if(choice == 2) {\n        savePerson();\n    }\n    else if(choice == 3) {\n        System.out.println(&quot;\\nPlease choose what do you want to do about information&quot;);\n        System.out.println(&quot;1.Show all item in system.&quot;);\n        System.out.println(&quot;2.Show all people who lost item.&quot;);\n        choice = input.nextInt();\n        while(choice &lt; 1 || choice &gt; 2) {\n            System.out.print(&quot;Please type between 1-2 : &quot;);\n            choice = input.nextInt();\n        }\n        input.nextLine();\n        input.close();\n        switch(choice) {\n        case 1 : \n            //input.close();\n            showItem();\n            break;\n        case 2 : \n            //input.close();\n            showPerson();\n            break;\n        default : System.out.println(&quot;What?&quot;);\n        }\n    }\n    else {\n        System.out.println(&quot;Turning off program...&quot;);\n        //input.close();\n        System.exit(0);\n    }\n    input.close();\n}\n</code></pre>\n<p>The main method is nothing than just called chooseOption method.</p>\n"},{"tags":["java","selenium","xpath"],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646467803,"creation_date":1646467803,"answer_id":71360531,"question_id":71360466,"body_markdown":"This should work for the title.\r\n```\r\ndriver.findElement(By.xpath(&quot;//a[@id=&#39;video-title&#39;]&quot;));\r\n```\r\nHowever, there are 27 of them. So, you might want to use \r\n```\r\nList&lt;WebElement&gt; plants = driver.findElements(By.xpath(&quot;//a[@id=&#39;video-title&#39;]&quot;));\r\n```\r\nAnother thing is that you might want to wait until the elements are visible, enabled, clickable, etc., on the page. For this, you need to do something like the following:\r\n\r\n```\r\nWebElement firstResult = new WebDriverWait(driver, Duration.ofSeconds(10))\r\n     .until(ExpectedConditions.elementToBeVisible(By.xpath(&quot;//a[@id=&#39;video-title&#39;]&quot;)));\r\n```","title":"XPath doesn&#39;t locate element","body":"<p>This should work for the title.</p>\n<pre><code>driver.findElement(By.xpath(&quot;//a[@id='video-title']&quot;));\n</code></pre>\n<p>However, there are 27 of them. So, you might want to use</p>\n<pre><code>List&lt;WebElement&gt; plants = driver.findElements(By.xpath(&quot;//a[@id='video-title']&quot;));\n</code></pre>\n<p>Another thing is that you might want to wait until the elements are visible, enabled, clickable, etc., on the page. For this, you need to do something like the following:</p>\n<pre><code>WebElement firstResult = new WebDriverWait(driver, Duration.ofSeconds(10))\n     .until(ExpectedConditions.elementToBeVisible(By.xpath(&quot;//a[@id='video-title']&quot;)));\n</code></pre>\n"}],"owner":{"account_id":15806233,"reputation":17,"user_id":11404674,"display_name":"Den"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71360531,"answer_count":1,"score":0,"last_activity_date":1646467803,"creation_date":1646467145,"question_id":71360466,"body_markdown":"I want to scrape links from this page.\r\nhttps://www.youtube.com/results?search_query=food+recepies\r\n\r\n    WebElement w1 = driver.findElement(By.xpath(&quot;//a[@id=\\&quot;video-title\\&quot;]&quot;));\r\n    WebElement w2 = driver.findElement(By.xpath(&quot;//*a[@id=&#39;video-title&#39;]&quot;));\r\n    WebElement w3 = driver.findElement(By.xpath(&quot;//a[@class=&#39;yt-simple-endpoint style-scope ytd-video-renderer&#39;]&quot;));\r\n    WebElement w4 = driver.findElement(By.xpath(&quot;//h3/a&quot;));\r\n    \r\n    String link = w1.getAttribute(&quot;href&quot;);\r\n\r\nNone of these works for me.\r\n\r\n    Error: Unable to locate element: //a[@id=&quot;video-title&quot;]","title":"XPath doesn&#39;t locate element","body":"<p>I want to scrape links from this page.\n<a href=\"https://www.youtube.com/results?search_query=food+recepies\" rel=\"nofollow noreferrer\">https://www.youtube.com/results?search_query=food+recepies</a></p>\n<pre><code>WebElement w1 = driver.findElement(By.xpath(&quot;//a[@id=\\&quot;video-title\\&quot;]&quot;));\nWebElement w2 = driver.findElement(By.xpath(&quot;//*a[@id='video-title']&quot;));\nWebElement w3 = driver.findElement(By.xpath(&quot;//a[@class='yt-simple-endpoint style-scope ytd-video-renderer']&quot;));\nWebElement w4 = driver.findElement(By.xpath(&quot;//h3/a&quot;));\n\nString link = w1.getAttribute(&quot;href&quot;);\n</code></pre>\n<p>None of these works for me.</p>\n<pre><code>Error: Unable to locate element: //a[@id=&quot;video-title&quot;]\n</code></pre>\n"},{"tags":["java","sql","selenium","exception"],"comments":[{"owner":{"account_id":22214143,"reputation":3393,"user_id":16452840,"display_name":"pmadhu"},"score":1,"creation_date":1646395716,"post_id":71350140,"comment_id":126118246,"body_markdown":"Have you tried `try-catch block`.","body":"Have you tried <code>try-catch block</code>."}],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646467495,"creation_date":1646396100,"answer_id":71351251,"question_id":71350140,"body_markdown":"It depends where the exception occurs. You can try adjust the query to have always a column in the result using `SELECT AS`, see different result of those two queries:\r\n\r\n    select newid();\r\n    select newid() as newid;\r\n\r\nAnother approach is using try/catch block:\r\n\r\n    String name = null;\r\n\r\n    try {\r\n       name = (String) DBUtil.executeQuery(&quot;&lt;QUERY&gt;&quot;, new Object[0]).get(0).get(&quot;&lt;COLUMN_Name&gt;&quot;);\r\n    }\r\n    catch (IndexOutofBounException indexOutofBounException) {\r\n    }\r\n\r\nUpdate:\r\n\r\nOr you can leave `DBUtil.executeQuery` and use this:\r\n\r\n\tpublic static List&lt;String&gt; getQueryResults(Connection connection, String query, String key) {\r\n\t\tList&lt;String&gt; results = new ArrayList&lt;String&gt;();\r\n\t\ttry {\r\n\t\t\tStatement statement = connection.createStatement();\r\n\t\t\tstatement.setQueryTimeout(60);\r\n\t\t\tResultSet result = statement.executeQuery(query);\r\n\t\t\twhile (result.next()) {\r\n\t\t\t\tresults.add(result.getString(key));\r\n\t\t\t}\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn results;\r\n\t}\r\n\r\nUsage example:\r\n\r\n\tpublic static Boolean databaseExists(Connection connection, String dbName) {\r\n\t\tList&lt;String&gt; dbNames = getQueryResults(connection, &quot;SELECT name FROM sys.databases&quot;, &quot;name&quot;);\r\n\t\tif (dbNames.contains(dbName)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\nor similar:\r\n\r\n\tpublic static Map&lt;String, String&gt; mapQueryResult(Connection connection, String query, String key, String value) {\r\n\t\tMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n\t\tResultSet result = null;\r\n\t\ttry {\r\n\t\t\tresult = connection.createStatement().executeQuery(query);\r\n\t\t\twhile (result.next()) {\r\n\t\t\t\tmap.put(result.getString(key), result.getString(value));\r\n\t\t\t}\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn map;\r\n\t}\r\n\r\nUsage example:\r\n\r\n\tpublic static String getBackupLogicalName(Connection connection, File backupFile) {\r\n\t\tString origin = null;\r\n\t\tString query = &quot;RESTORE FILELISTONLY FROM DISK = N&#39;&quot; + backupFile.getAbsolutePath() + &quot;&#39; WITH  NOUNLOAD;&quot;;\r\n\t\tMap&lt;String, String&gt; results = mapQueryResult(connection, query, &quot;FileGroupName&quot;, &quot;LogicalName&quot;);\r\n\t\tif (results.size() &gt; 0) {\r\n\t\t\torigin = results.get(&quot;PRIMARY&quot;);\r\n\t\t}\r\n\t\treturn origin;\r\n\t}\r\n","title":"How to handle IndexOutofBounException if the SQL query does not return any results in Selenium?","body":"<p>It depends where the exception occurs. You can try adjust the query to have always a column in the result using <code>SELECT AS</code>, see different result of those two queries:</p>\n<pre><code>select newid();\nselect newid() as newid;\n</code></pre>\n<p>Another approach is using try/catch block:</p>\n<pre><code>String name = null;\n\ntry {\n   name = (String) DBUtil.executeQuery(&quot;&lt;QUERY&gt;&quot;, new Object[0]).get(0).get(&quot;&lt;COLUMN_Name&gt;&quot;);\n}\ncatch (IndexOutofBounException indexOutofBounException) {\n}\n</code></pre>\n<p>Update:</p>\n<p>Or you can leave <code>DBUtil.executeQuery</code> and use this:</p>\n<pre><code>public static List&lt;String&gt; getQueryResults(Connection connection, String query, String key) {\n    List&lt;String&gt; results = new ArrayList&lt;String&gt;();\n    try {\n        Statement statement = connection.createStatement();\n        statement.setQueryTimeout(60);\n        ResultSet result = statement.executeQuery(query);\n        while (result.next()) {\n            results.add(result.getString(key));\n        }\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n    return results;\n}\n</code></pre>\n<p>Usage example:</p>\n<pre><code>public static Boolean databaseExists(Connection connection, String dbName) {\n    List&lt;String&gt; dbNames = getQueryResults(connection, &quot;SELECT name FROM sys.databases&quot;, &quot;name&quot;);\n    if (dbNames.contains(dbName)) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\n</code></pre>\n<p>or similar:</p>\n<pre><code>public static Map&lt;String, String&gt; mapQueryResult(Connection connection, String query, String key, String value) {\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n    ResultSet result = null;\n    try {\n        result = connection.createStatement().executeQuery(query);\n        while (result.next()) {\n            map.put(result.getString(key), result.getString(value));\n        }\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n    return map;\n}\n</code></pre>\n<p>Usage example:</p>\n<pre><code>public static String getBackupLogicalName(Connection connection, File backupFile) {\n    String origin = null;\n    String query = &quot;RESTORE FILELISTONLY FROM DISK = N'&quot; + backupFile.getAbsolutePath() + &quot;' WITH  NOUNLOAD;&quot;;\n    Map&lt;String, String&gt; results = mapQueryResult(connection, query, &quot;FileGroupName&quot;, &quot;LogicalName&quot;);\n    if (results.size() &gt; 0) {\n        origin = results.get(&quot;PRIMARY&quot;);\n    }\n    return origin;\n}\n</code></pre>\n"}],"owner":{"account_id":15635634,"reputation":151,"user_id":11280615,"display_name":"Saloni Singhal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646467495,"creation_date":1646390178,"question_id":71350140,"body_markdown":"In my automation script, one data has to be fetched from SQL in order to fill a form for certain conditions. \r\nSo, I run the SQL query, and store the first data (from the 0th position) in a String like this:\r\n\r\n    String name = (String) DBUtil.executeQuery(&quot;&lt;QUERY&gt;&quot;, new Object[0]).get(0).get(&quot;&lt;COLUMN_Name&gt;&quot;);\r\n\r\nI am doing this one class where the test scripts is written. Following is the executeQuery method written in another class DBUtil, and it works fine for all the queries.\r\n\r\nThe issue that I am facing is when the query does not fetch any results, and nothing gets stored in the String name.\r\nIn that case, upon running the test script, it throws IndexOutofBounException as as no result is fetched. \r\nCan anyone suggest on how to handle this part?","title":"How to handle IndexOutofBounException if the SQL query does not return any results in Selenium?","body":"<p>In my automation script, one data has to be fetched from SQL in order to fill a form for certain conditions.\nSo, I run the SQL query, and store the first data (from the 0th position) in a String like this:</p>\n<pre><code>String name = (String) DBUtil.executeQuery(&quot;&lt;QUERY&gt;&quot;, new Object[0]).get(0).get(&quot;&lt;COLUMN_Name&gt;&quot;);\n</code></pre>\n<p>I am doing this one class where the test scripts is written. Following is the executeQuery method written in another class DBUtil, and it works fine for all the queries.</p>\n<p>The issue that I am facing is when the query does not fetch any results, and nothing gets stored in the String name.\nIn that case, upon running the test script, it throws IndexOutofBounException as as no result is fetched.\nCan anyone suggest on how to handle this part?</p>\n"},{"tags":["java","spring","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"score":0,"creation_date":1658736782,"post_id":71354507,"comment_id":129115934,"body_markdown":"Did my answer help you? or do you want me to add something to my answer? otherwise, feel free to accept my answer if you like.","body":"Did my answer help you? or do you want me to add something to my answer? otherwise, feel free to accept my answer if you like."}],"answers":[{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646466748,"creation_date":1646466748,"answer_id":71360418,"question_id":71354507,"body_markdown":"You have to call the method `innerHits` of class `NestedQueryBuilder`.\r\nThis method retrieves just the nested objects that match.\r\nTherefore your code becomes:\r\n\r\n```java\r\nBoolQueryBuilder builder = boolQuery();\r\nbuilder.must(termQuery(&quot;hidden&quot;, false))\r\n       .must(termQuery(&quot;removed&quot;, false))\r\n       .must(nestedQuery(&quot;products&quot;, termQuery(&quot;products.hidden&quot;, false), ScoreMode.None).innerHits(new InnerHitBuilder()));\r\n       .must(nestedQuery(&quot;products&quot;, termQuery(&quot;products.removed&quot;, false), ScoreMode.None).innerHits(new InnerHitBuilder()));\r\n\r\nSearchHits&lt;ShopDocument&gt; searchHits = operations.search(qb.build(), ShopDocument.class, IndexCoordinates.of(Indices.SHOP_INDEX));\r\n```","title":"Full text elasticsearch filltering nested objects and hits order hits by score of the field","body":"<p>You have to call the method <code>innerHits</code> of class <code>NestedQueryBuilder</code>.\nThis method retrieves just the nested objects that match.\nTherefore your code becomes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BoolQueryBuilder builder = boolQuery();\nbuilder.must(termQuery(&quot;hidden&quot;, false))\n       .must(termQuery(&quot;removed&quot;, false))\n       .must(nestedQuery(&quot;products&quot;, termQuery(&quot;products.hidden&quot;, false), ScoreMode.None).innerHits(new InnerHitBuilder()));\n       .must(nestedQuery(&quot;products&quot;, termQuery(&quot;products.removed&quot;, false), ScoreMode.None).innerHits(new InnerHitBuilder()));\n\nSearchHits&lt;ShopDocument&gt; searchHits = operations.search(qb.build(), ShopDocument.class, IndexCoordinates.of(Indices.SHOP_INDEX));\n</code></pre>\n"}],"owner":{"account_id":20074280,"reputation":25,"user_id":14718339,"display_name":"John kirito"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71360418,"answer_count":1,"score":1,"last_activity_date":1646466748,"creation_date":1646412178,"question_id":71354507,"body_markdown":"I have 2 documents, ShopDocument and ProductDocument. What i need is to filter out all shops that have field `hidden` and `removed` equals to `true`, from shops that left filter out products that have `removed` and `hidden` fields equal to `true`, then from whats left, i want to filter out shops and products that doesnt match certain string (the matching needs to be in certain fields) and sort the results according to score that i will give to each field (like in lucene). This is my documents:\r\n\r\n    @Document(indexName = Indices.SHOP_INDEX)\r\n    @Setting(settingPath = Constants.esSettingsPath)\r\n    @Data\r\n    public class ShopDocument {\r\n\r\n    @Id\r\n    @Field(type = FieldType.Keyword)\r\n    private Long id;\r\n\r\n    @Field(type = FieldType.Keyword)\r\n    private Long companyId;\r\n\r\n    @Field(type = FieldType.Boolean)\r\n    private Boolean companyHidden;\r\n\r\n    @Field(type = FieldType.Keyword)\r\n    private String slug;\r\n\r\n    @Field(type = FieldType.Keyword)\r\n    private String postalCode;\r\n\r\n    @Field(type = FieldType.Keyword)\r\n    private String addressLine;\r\n\r\n    @Field(type = FieldType.Boolean)\r\n    private boolean hidden;\r\n\r\n    @Field(type = FieldType.Boolean)\r\n    private boolean removed;\r\n\r\n    @Field(type = FieldType.Text)\r\n    private String name;\r\n\r\n    @Field(type = FieldType.Nested)\r\n    private List&lt;ProductDocument&gt; products = new ArrayList&lt;&gt;();\r\n\r\n    @Field(type = FieldType.Double)\r\n    private Double latitude;\r\n\r\n    @Field(type = FieldType.Double)\r\n    private Double longitude;\r\n\r\n    @Field(type = FieldType.Integer)\r\n    private Integer maxDeliveryDistance;\r\n    }\r\n\r\n\r\n\r\n    @Document(indexName = Indices.Product_INDEX)\r\n    @Setting(settingPath = Constants.esSettingsPath)\r\n    @Data\r\n    public class ProductDocument {\r\n\r\n    @Id\r\n    @Field(type = FieldType.Keyword)\r\n    private String id;\r\n\r\n    @Field(type = FieldType.Text)\r\n    private String name;\r\n\r\n    @Field(type = FieldType.Text)\r\n    private String description;\r\n\r\n    @Field(type = FieldType.Boolean)\r\n    private boolean hidden;\r\n\r\n    @Field(type = FieldType.Boolean)\r\n    private boolean removed;\r\n\r\n    @Field(type = FieldType.Long)\r\n    private Long oldPrice;\r\n\r\n    @Field(type = FieldType.Long)\r\n    private Long price;\r\n\r\n**I had tried the following:**\r\n        \r\n        BoolQueryBuilder builder = boolQuery();\r\n\r\n        builder.must(termQuery(&quot;hidden&quot;, false))\r\n                .must(termQuery(&quot;removed&quot;, false))\r\n                .must(nestedQuery(&quot;products&quot;, termQuery(&quot;products.hidden&quot;, false), ScoreMode.None))\r\n                .must(nestedQuery(&quot;products&quot;, termQuery(&quot;products.removed&quot;, false), ScoreMode.None));\r\n\r\n                SearchHits&lt;ShopDocument&gt; searchHits = operations.search(qb.build(), ShopDocument.class, IndexCoordinates.of(Indices.SHOP_INDEX));\r\n\r\nThis query should return all shops with `hidden` and `removed` equals to `false` and all products in shops that have `hidden` and `removed` equals to `false` but it only filters out shops and leaves the products as is. Thanks in advance!","title":"Full text elasticsearch filltering nested objects and hits order hits by score of the field","body":"<p>I have 2 documents, ShopDocument and ProductDocument. What i need is to filter out all shops that have field <code>hidden</code> and <code>removed</code> equals to <code>true</code>, from shops that left filter out products that have <code>removed</code> and <code>hidden</code> fields equal to <code>true</code>, then from whats left, i want to filter out shops and products that doesnt match certain string (the matching needs to be in certain fields) and sort the results according to score that i will give to each field (like in lucene). This is my documents:</p>\n<pre><code>@Document(indexName = Indices.SHOP_INDEX)\n@Setting(settingPath = Constants.esSettingsPath)\n@Data\npublic class ShopDocument {\n\n@Id\n@Field(type = FieldType.Keyword)\nprivate Long id;\n\n@Field(type = FieldType.Keyword)\nprivate Long companyId;\n\n@Field(type = FieldType.Boolean)\nprivate Boolean companyHidden;\n\n@Field(type = FieldType.Keyword)\nprivate String slug;\n\n@Field(type = FieldType.Keyword)\nprivate String postalCode;\n\n@Field(type = FieldType.Keyword)\nprivate String addressLine;\n\n@Field(type = FieldType.Boolean)\nprivate boolean hidden;\n\n@Field(type = FieldType.Boolean)\nprivate boolean removed;\n\n@Field(type = FieldType.Text)\nprivate String name;\n\n@Field(type = FieldType.Nested)\nprivate List&lt;ProductDocument&gt; products = new ArrayList&lt;&gt;();\n\n@Field(type = FieldType.Double)\nprivate Double latitude;\n\n@Field(type = FieldType.Double)\nprivate Double longitude;\n\n@Field(type = FieldType.Integer)\nprivate Integer maxDeliveryDistance;\n}\n\n\n\n@Document(indexName = Indices.Product_INDEX)\n@Setting(settingPath = Constants.esSettingsPath)\n@Data\npublic class ProductDocument {\n\n@Id\n@Field(type = FieldType.Keyword)\nprivate String id;\n\n@Field(type = FieldType.Text)\nprivate String name;\n\n@Field(type = FieldType.Text)\nprivate String description;\n\n@Field(type = FieldType.Boolean)\nprivate boolean hidden;\n\n@Field(type = FieldType.Boolean)\nprivate boolean removed;\n\n@Field(type = FieldType.Long)\nprivate Long oldPrice;\n\n@Field(type = FieldType.Long)\nprivate Long price;\n</code></pre>\n<p><strong>I had tried the following:</strong></p>\n<pre><code>    BoolQueryBuilder builder = boolQuery();\n\n    builder.must(termQuery(&quot;hidden&quot;, false))\n            .must(termQuery(&quot;removed&quot;, false))\n            .must(nestedQuery(&quot;products&quot;, termQuery(&quot;products.hidden&quot;, false), ScoreMode.None))\n            .must(nestedQuery(&quot;products&quot;, termQuery(&quot;products.removed&quot;, false), ScoreMode.None));\n\n            SearchHits&lt;ShopDocument&gt; searchHits = operations.search(qb.build(), ShopDocument.class, IndexCoordinates.of(Indices.SHOP_INDEX));\n</code></pre>\n<p>This query should return all shops with <code>hidden</code> and <code>removed</code> equals to <code>false</code> and all products in shops that have <code>hidden</code> and <code>removed</code> equals to <code>false</code> but it only filters out shops and leaves the products as is. Thanks in advance!</p>\n"},{"tags":["java","algorithm","data-structures","tree","binary-search-tree"],"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":1,"creation_date":1646463468,"post_id":71359840,"comment_id":126134207,"body_markdown":"`good, clean approach?` Never use `if (&lt;boolean expression&gt;) return true; else return false;` - just `return &lt;boolean expression&gt;`.","body":"<code>good, clean approach?</code> Never use <code>if (&lt;boolean expression&gt;) return true; else return false;</code> - just <code>return &lt;boolean expression&gt;</code>."},{"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"score":0,"creation_date":1646463662,"post_id":71359840,"comment_id":126134237,"body_markdown":"good point...totally missed in the process.","body":"good point...totally missed in the process."}],"answers":[{"tags":[],"owner":{"account_id":19323009,"reputation":15,"user_id":14126298,"display_name":"Aditya Verma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646462563,"creation_date":1646462563,"answer_id":71360065,"question_id":71359840,"body_markdown":"A cleaner recursive approach\r\n\r\nYou could use a bounded approach, i.e. have two variables for every recursion: `min` and `max`.\r\n \r\n\r\n - Initially `min = INT_MIN` and `max = INT_MAX`\r\n - if `node = NULL` then return True because an empty BST is a BST\r\n - else check if `node.val &lt; min or node.val &gt; max` if this condition is `True` then tree is not a BST, `return False` Notice : the strict inequality `&gt;` and `&lt;` are used as BST doesn&#39;t allow duplicate elements. \r\n - recurse for left : `recur(node.left)` with `min` remaining the same and `max = node.val - 1` because the left subtrees should have values not greater than `node.val - 1`.\r\n\r\n    The `max` cannot be `node.val` because BST cannot have duplicate elements.\r\n    Store the boolean return value in say `left`\r\n\r\n - recurse for right : `recur(node.right)` with `min = node.val + 1` and `max` remaining the same.\r\n\r\n   The right subtrees should have values not less than `node.val + 1`.\r\n   Store the boolean return value in say `right`\r\n\r\n - return `left &amp;&amp; right`\r\n\r\n\r\n","title":"Checking a tree to be a BST","body":"<p>A cleaner recursive approach</p>\n<p>You could use a bounded approach, i.e. have two variables for every recursion: <code>min</code> and <code>max</code>.</p>\n<ul>\n<li><p>Initially <code>min = INT_MIN</code> and <code>max = INT_MAX</code></p>\n</li>\n<li><p>if <code>node = NULL</code> then return True because an empty BST is a BST</p>\n</li>\n<li><p>else check if <code>node.val &lt; min or node.val &gt; max</code> if this condition is <code>True</code> then tree is not a BST, <code>return False</code> Notice : the strict inequality <code>&gt;</code> and <code>&lt;</code> are used as BST doesn't allow duplicate elements.</p>\n</li>\n<li><p>recurse for left : <code>recur(node.left)</code> with <code>min</code> remaining the same and <code>max = node.val - 1</code> because the left subtrees should have values not greater than <code>node.val - 1</code>.</p>\n<p>The <code>max</code> cannot be <code>node.val</code> because BST cannot have duplicate elements.\nStore the boolean return value in say <code>left</code></p>\n</li>\n<li><p>recurse for right : <code>recur(node.right)</code> with <code>min = node.val + 1</code> and <code>max</code> remaining the same.</p>\n<p>The right subtrees should have values not less than <code>node.val + 1</code>.\nStore the boolean return value in say <code>right</code></p>\n</li>\n<li><p>return <code>left &amp;&amp; right</code></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646465629,"creation_date":1646465629,"answer_id":71360305,"question_id":71359840,"body_markdown":"@Aditya gave the ingredients of the more elegant solution. \r\n\r\nIt is generally not forbidden for a binary search tree to have duplicate values, so there should no be reduction of the &quot;window&quot; with 1.\r\n\r\nHere is suggested code:\r\n\r\n```\r\npublic boolean isBST() {\r\n    return isBSTRecursively(this.root, Integer.MIN_VALUE, Integer.MAX_VALUE);\r\n}\r\n\r\nprivate boolean isBSTRecursively(Node node, int min, int max) {\r\n    return node == null\r\n           || node.getValue() &gt;= min &amp;&amp; node.getValue() &lt;= max\r\n               &amp;&amp; isBSTRecursively(node.getLeft(), min, node.getValue())\r\n               &amp;&amp; isBSTRecursively(node.getRight(), node.getValue(), max);           \r\n}\r\n``` ","title":"Checking a tree to be a BST","body":"<p>@Aditya gave the ingredients of the more elegant solution.</p>\n<p>It is generally not forbidden for a binary search tree to have duplicate values, so there should no be reduction of the &quot;window&quot; with 1.</p>\n<p>Here is suggested code:</p>\n<pre><code>public boolean isBST() {\n    return isBSTRecursively(this.root, Integer.MIN_VALUE, Integer.MAX_VALUE);\n}\n\nprivate boolean isBSTRecursively(Node node, int min, int max) {\n    return node == null\n           || node.getValue() &gt;= min &amp;&amp; node.getValue() &lt;= max\n               &amp;&amp; isBSTRecursively(node.getLeft(), min, node.getValue())\n               &amp;&amp; isBSTRecursively(node.getRight(), node.getValue(), max);           \n}\n</code></pre>\n"}],"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71360305,"answer_count":2,"score":0,"last_activity_date":1646465629,"creation_date":1646459158,"question_id":71359840,"body_markdown":"Here is my attempt to check whether a tree is a BST or not:\r\n\r\n    public boolean isBST() {\r\n        return isBSTRecursively(this.root, new Max());\r\n    }\r\n\r\n    class Max {\r\n        int value;\r\n    }\r\n\r\n    private boolean isBSTRecursively(Node node, Max max) {\r\n        if (node == null) return true; // to handle null root\r\n      \r\n        // to handle scenario when both child nodes are absent\r\n        if(node.getLeft() == null &amp;&amp; node.getRight() == null) {\r\n            max.value = node.getValue();\r\n            return true;\r\n        }\r\n\r\n        // if left child is absent, we only investigate right subtree\r\n        if(node.getLeft() == null) {\r\n            Max rightMax = new Max();\r\n            boolean isRightBST = isBSTRecursively(node.getRight(), rightMax);\r\n            max.value = Math.max(node.getValue(), rightMax.value);\r\n            if(isRightBST &amp;&amp; node.getValue() &lt; rightMax.value) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        } else {\r\n            Max leftMax = new Max();\r\n            boolean isLeftBST = isBSTRecursively(node.getLeft(), leftMax);\r\n            // if right child is absent, we only investigate left subtree\r\n            if(node.getRight() == null) {\r\n                max.value = Math.max(node.getValue(), leftMax.value);\r\n                if(isLeftBST &amp;&amp; node.getValue() &gt; leftMax.value) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            } else {\r\n                // we investigate both left and right subtrees\r\n                Max rightMax = new Max();\r\n                boolean isRightBST = isBSTRecursively(node.getRight(), rightMax);\r\n                max.value = Math.max(Math.max(leftMax.value, node.getValue()), rightMax.value);\r\n                if(isLeftBST &amp;&amp; isRightBST &amp;&amp; leftMax.value &lt; node.getValue() &amp;&amp; node.getValue() &lt; rightMax.value) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n\r\nCode works fine as tested with multiple test cases. \r\n\r\nBut I am not sure if this is a good, clean approach. \r\n\r\nRecursive method is big it seems. I am dealing with scenarios like null left node, null right node, node itself null, both child nodes null etc. separately. I guess they all can be handled in a much smaller, and cleaner way.\r\n\r\nMoreover, I am always more inclined towards iterative approach(I generally find it better to visualize). Would that be better here (given it can be done iteratively)?\r\n\r\nAny suggestions?","title":"Checking a tree to be a BST","body":"<p>Here is my attempt to check whether a tree is a BST or not:</p>\n<pre><code>public boolean isBST() {\n    return isBSTRecursively(this.root, new Max());\n}\n\nclass Max {\n    int value;\n}\n\nprivate boolean isBSTRecursively(Node node, Max max) {\n    if (node == null) return true; // to handle null root\n  \n    // to handle scenario when both child nodes are absent\n    if(node.getLeft() == null &amp;&amp; node.getRight() == null) {\n        max.value = node.getValue();\n        return true;\n    }\n\n    // if left child is absent, we only investigate right subtree\n    if(node.getLeft() == null) {\n        Max rightMax = new Max();\n        boolean isRightBST = isBSTRecursively(node.getRight(), rightMax);\n        max.value = Math.max(node.getValue(), rightMax.value);\n        if(isRightBST &amp;&amp; node.getValue() &lt; rightMax.value) {\n            return true;\n        } else {\n            return false;\n        }\n    } else {\n        Max leftMax = new Max();\n        boolean isLeftBST = isBSTRecursively(node.getLeft(), leftMax);\n        // if right child is absent, we only investigate left subtree\n        if(node.getRight() == null) {\n            max.value = Math.max(node.getValue(), leftMax.value);\n            if(isLeftBST &amp;&amp; node.getValue() &gt; leftMax.value) {\n                return true;\n            } else {\n                return false;\n            }\n        } else {\n            // we investigate both left and right subtrees\n            Max rightMax = new Max();\n            boolean isRightBST = isBSTRecursively(node.getRight(), rightMax);\n            max.value = Math.max(Math.max(leftMax.value, node.getValue()), rightMax.value);\n            if(isLeftBST &amp;&amp; isRightBST &amp;&amp; leftMax.value &lt; node.getValue() &amp;&amp; node.getValue() &lt; rightMax.value) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }\n</code></pre>\n<p>Code works fine as tested with multiple test cases.</p>\n<p>But I am not sure if this is a good, clean approach.</p>\n<p>Recursive method is big it seems. I am dealing with scenarios like null left node, null right node, node itself null, both child nodes null etc. separately. I guess they all can be handled in a much smaller, and cleaner way.</p>\n<p>Moreover, I am always more inclined towards iterative approach(I generally find it better to visualize). Would that be better here (given it can be done iteratively)?</p>\n<p>Any suggestions?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1646433215,"post_id":71357821,"comment_id":126130185,"body_markdown":"Which value is `null`?","body":"Which value is <code>null</code>?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1646433437,"post_id":71357821,"comment_id":126130223,"body_markdown":"`JFormattedTextField#getValue` may return `null` if the input can&#39;t be parsed by the field (ie you enter a character or, in your case, a double value)","body":"<code>JFormattedTextField#getValue</code> may return <code>null</code> if the input can&#39;t be parsed by the field (ie you enter a character or, in your case, a double value)"},{"owner":{"account_id":17541405,"reputation":5,"user_id":12723510,"display_name":"Quamatoc"},"score":0,"creation_date":1646462984,"post_id":71357821,"comment_id":126134150,"body_markdown":"@tgdavies the value label returns as null","body":"@tgdavies the value label returns as null"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646433721,"creation_date":1646433721,"answer_id":71357964,"question_id":71357821,"body_markdown":"You can force a `commit` of the editor value, which will trigger a parser exception or you could just check if the return value is `null` or not first.\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.text.NumberFormat;\r\n    import java.text.ParseException;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFormattedTextField;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                setLayout(new GridBagLayout());\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\r\n                JFormattedTextField textField = new JFormattedTextField(NumberFormat.getIntegerInstance());\r\n                textField.setColumns(20);\r\n                textField.setFocusLostBehavior(JFormattedTextField.COMMIT);\r\n\r\n                add(textField, gbc);\r\n\r\n                JButton button = new JButton(&quot;Make it so&quot;);\r\n                button.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        try {\r\n                            textField.commitEdit();\r\n                            int value = ((Number) textField.getValue()).intValue();\r\n                            JOptionPane.showMessageDialog(TestPane.this, &quot;You have entered &quot; + value);\r\n                        } catch (ParseException ex) {\r\n                            JOptionPane.showMessageDialog(TestPane.this, &quot;That&#39;s not a valid value, try again&quot;);\r\n                        }\r\n                    }\r\n                });\r\n\r\n                add(button, gbc);\r\n            }\r\n\r\n        }\r\n    }\r\n","title":"Grabbing value form JFormattedTextField contains null","body":"<p>You can force a <code>commit</code> of the editor value, which will trigger a parser exception or you could just check if the return value is <code>null</code> or not first.</p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.text.NumberFormat;\nimport java.text.ParseException;\nimport javax.swing.JButton;\nimport javax.swing.JFormattedTextField;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            setLayout(new GridBagLayout());\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n            JFormattedTextField textField = new JFormattedTextField(NumberFormat.getIntegerInstance());\n            textField.setColumns(20);\n            textField.setFocusLostBehavior(JFormattedTextField.COMMIT);\n\n            add(textField, gbc);\n\n            JButton button = new JButton(&quot;Make it so&quot;);\n            button.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    try {\n                        textField.commitEdit();\n                        int value = ((Number) textField.getValue()).intValue();\n                        JOptionPane.showMessageDialog(TestPane.this, &quot;You have entered &quot; + value);\n                    } catch (ParseException ex) {\n                        JOptionPane.showMessageDialog(TestPane.this, &quot;That's not a valid value, try again&quot;);\n                    }\n                }\n            });\n\n            add(button, gbc);\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17541405,"reputation":5,"user_id":12723510,"display_name":"Quamatoc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646556214,"answer_count":1,"score":0,"last_activity_date":1646464094,"creation_date":1646432643,"question_id":71357821,"body_markdown":"Is it possible to grab the value of a JFormatedTextField by clicking on a button?  \r\nBecause that is what I have been racking my brain on today. Assume a run of the mill GUI consisting of two Panels, a JFormatedTextField and a button. What the panels show is not important - importantis the TextField. in this text field is obviuosly a value to be entered and the pressed button shall kick of the processing of the value. The following I made the TextField:  \r\n```\r\nJFormattedTextField NutzerID=new JFormattedTextField(NumberFormat.getIntegerInstance());\r\nNutzerID.setFocusLostBehavior(JFormattedTextField.COMMIT);\r\nNutzerID.setEditable(true);\r\n```\r\nAnd receive the value inside the Actionlistener of the Button as follows(output intended as debug):\r\n```\r\nint Label=((Number) NutzerID.getValue()).intValue();\r\n                System.out.println(Label);\r\n```\r\nNow, if I click on the button, I receive a NullpointerException inside the Actionlistener to my button.  \r\nTwo things: The GUI is build using Intellijs GUI generator so I do not exactly know how the Cmponents are attached. Secondly, I am already working with a FormatedTextField but in a different Dialog. And that part works wonderful...  \r\nSo I do not understand how one Button coupled FormattedTextField could work but the other not. Could it be because I did the Layout for the working FormattedTextField manually and let myself rely on the automatic layout of IntelliJ&#39;s GUI builder?     \r\n\r\nI have tried commiting (comitEdit)in the Button Actionlistener, add an Actionlistener to the TextField and adding an Focuslistener to the Textfield. Nothing worked.\r\n\r\nPlease tell me what I did wrong. ","title":"Grabbing value form JFormattedTextField contains null","body":"<p>Is it possible to grab the value of a JFormatedTextField by clicking on a button?<br />\nBecause that is what I have been racking my brain on today. Assume a run of the mill GUI consisting of two Panels, a JFormatedTextField and a button. What the panels show is not important - importantis the TextField. in this text field is obviuosly a value to be entered and the pressed button shall kick of the processing of the value. The following I made the TextField:</p>\n<pre><code>JFormattedTextField NutzerID=new JFormattedTextField(NumberFormat.getIntegerInstance());\nNutzerID.setFocusLostBehavior(JFormattedTextField.COMMIT);\nNutzerID.setEditable(true);\n</code></pre>\n<p>And receive the value inside the Actionlistener of the Button as follows(output intended as debug):</p>\n<pre><code>int Label=((Number) NutzerID.getValue()).intValue();\n                System.out.println(Label);\n</code></pre>\n<p>Now, if I click on the button, I receive a NullpointerException inside the Actionlistener to my button.<br />\nTwo things: The GUI is build using Intellijs GUI generator so I do not exactly know how the Cmponents are attached. Secondly, I am already working with a FormatedTextField but in a different Dialog. And that part works wonderful...<br />\nSo I do not understand how one Button coupled FormattedTextField could work but the other not. Could it be because I did the Layout for the working FormattedTextField manually and let myself rely on the automatic layout of IntelliJ's GUI builder?</p>\n<p>I have tried commiting (comitEdit)in the Button Actionlistener, add an Actionlistener to the TextField and adding an Focuslistener to the Textfield. Nothing worked.</p>\n<p>Please tell me what I did wrong.</p>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":6673420,"reputation":12359,"user_id":5148907,"accept_rate":67,"display_name":"JAAD"},"score":0,"creation_date":1465192069,"post_id":37650253,"comment_id":62780369,"body_markdown":"are you sure that your id are stable and unique for each item?","body":"are you sure that your id are stable and unique for each item?"},{"owner":{"account_id":7422757,"reputation":1676,"user_id":5646429,"accept_rate":58,"display_name":"Jaeger"},"score":0,"creation_date":1465192306,"post_id":37650253,"comment_id":62780453,"body_markdown":"Noobie question : Where to find that id ? i didn&#39;t come across any a similar thing at all.","body":"Noobie question : Where to find that id ? i didn&#39;t come across any a similar thing at all."},{"owner":{"account_id":6673420,"reputation":12359,"user_id":5148907,"accept_rate":67,"display_name":"JAAD"},"score":1,"creation_date":1465192424,"post_id":37650253,"comment_id":62780492,"body_markdown":"check whether getItemId() return same for 2  viewholder, also check if you title same for 2 viewholders?","body":"check whether getItemId() return same for 2  viewholder, also check if you title same for 2 viewholders?"},{"owner":{"account_id":7422757,"reputation":1676,"user_id":5646429,"accept_rate":58,"display_name":"Jaeger"},"score":0,"creation_date":1465193160,"post_id":37650253,"comment_id":62780780,"body_markdown":"Both Viewholders have different class name, I just modified the class code, used different variables names, it worked now, i don&#39;t think that&#39;s the problem but it&#39;s fixed now, thanks!.","body":"Both Viewholders have different class name, I just modified the class code, used different variables names, it worked now, i don&#39;t think that&#39;s the problem but it&#39;s fixed now, thanks!."},{"owner":{"account_id":6673420,"reputation":12359,"user_id":5148907,"accept_rate":67,"display_name":"JAAD"},"score":1,"creation_date":1465193353,"post_id":37650253,"comment_id":62780858,"body_markdown":"the problem was 2 viewholder having same id you must be passing something that result in same id in 2 viewholder in the lib that was the issue","body":"the problem was 2 viewholder having same id you must be passing something that result in same id in 2 viewholder in the lib that was the issue"}],"answers":[{"tags":[],"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598035872,"creation_date":1598027103,"answer_id":63526601,"question_id":37650253,"body_markdown":"In my case I got this error when manipulated list items (changed their positions), but made a mistake. I tried to create a copy of an item and add it to the top:\r\n\r\n    val oldItem = adapter.getItem(id)\r\n    val newItem = oldItem.copy(text = &quot;item updated&quot;)\r\n    adapter.removeItem(7) // Removed nothing.\r\n    adapter.addItem(0, newItem) // Added the item with the same id.\r\n\r\nI wanted to remove the 7th item instead of the item with the given `id`. So, I didn&#39;t remove anything (`removeItem` works so in my code).Then I added a new item with the same `id`. Now the list contains two equal items and throws the error. So, correct an error to have unique `id`s.\r\n\r\nIf you don&#39;t know where equal `id`s appear, you can do this.\r\n\r\nSet `adapter.setHasStableIds(false)` and after it assign an adapter of `RecyclerView`:\r\n\r\n    with(view.recycler_view) {\r\n        layoutManager = this@YourFragment.layoutManager\r\n        adapter = this@YourFragment.adapter\r\n        setHasFixedSize(true)\r\n    }\r\n\r\nIf you set `setHasStableIds(false)` after `RecyclerView`, you will get an [error][1].\r\n\r\nThese two `ViewHolder`s can be of the same class, not different.\r\n\r\n  [1]: https://stackoverflow.com/questions/52460141/cannot-change-whether-this-adapter-has-stable-ids-while-the-adapter-has-register","title":"java.lang.IllegalStateException: Two different ViewHolders have the same stable ID","body":"<p>In my case I got this error when manipulated list items (changed their positions), but made a mistake. I tried to create a copy of an item and add it to the top:</p>\n<pre><code>val oldItem = adapter.getItem(id)\nval newItem = oldItem.copy(text = &quot;item updated&quot;)\nadapter.removeItem(7) // Removed nothing.\nadapter.addItem(0, newItem) // Added the item with the same id.\n</code></pre>\n<p>I wanted to remove the 7th item instead of the item with the given <code>id</code>. So, I didn't remove anything (<code>removeItem</code> works so in my code).Then I added a new item with the same <code>id</code>. Now the list contains two equal items and throws the error. So, correct an error to have unique <code>id</code>s.</p>\n<p>If you don't know where equal <code>id</code>s appear, you can do this.</p>\n<p>Set <code>adapter.setHasStableIds(false)</code> and after it assign an adapter of <code>RecyclerView</code>:</p>\n<pre><code>with(view.recycler_view) {\n    layoutManager = this@YourFragment.layoutManager\n    adapter = this@YourFragment.adapter\n    setHasFixedSize(true)\n}\n</code></pre>\n<p>If you set <code>setHasStableIds(false)</code> after <code>RecyclerView</code>, you will get an <a href=\"https://stackoverflow.com/questions/52460141/cannot-change-whether-this-adapter-has-stable-ids-while-the-adapter-has-register\">error</a>.</p>\n<p>These two <code>ViewHolder</code>s can be of the same class, not different.</p>\n"},{"tags":[],"owner":{"account_id":24458787,"reputation":1,"user_id":18380052,"display_name":"Pan Zhang"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1646463833,"creation_date":1646463833,"answer_id":71360153,"question_id":37650253,"body_markdown":"remove your code `setHasStableIds`, because recyclerView has a  reuse mechanism","title":"java.lang.IllegalStateException: Two different ViewHolders have the same stable ID","body":"<p>remove your code <code>setHasStableIds</code>, because recyclerView has a  reuse mechanism</p>\n"}],"owner":{"account_id":7422757,"reputation":1676,"user_id":5646429,"accept_rate":58,"display_name":"Jaeger"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10876,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1646463833,"creation_date":1465191827,"question_id":37650253,"body_markdown":"I&#39;m having the following error in my app : \r\n\r\n    java.lang.IllegalStateException: Two different ViewHolders have the same stable ID. Stable IDs in your adapter MUST BE unique and SHOULD NOT change.\r\n    ViewHolder 1:ViewHolder{c7b44d1 position=5 id=3, oldPos=-1, pLpos:-1 not recyclable(1)} \r\n    View Holder 2:ViewHolder{67232f6 position=3 id=3, oldPos=-1, pLpos:-1}\r\n\r\nI&#39;m using MaterialDrawer from Mike @github, this is my viewholder sample : \r\n\r\n    public class FavoritesViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{\r\n\r\n    TextView Title;\r\n    ImageView Pic;\r\n\r\n    public FavoritesViewHolder(View itemView) {\r\n        super(itemView);\r\n        itemView.setOnClickListener(this);\r\n        Title = (TextView) itemView.findViewById(R.id.textViewHighlight);\r\n        Pic = (ImageView) itemView.findViewById(R.id.imageViewHighlight);\r\n\r\n       }\r\n    }\r\n\r\nTwo fragments are switching their layout, when i press the first, it load without any problem, when i press the second fragment, it load a different layout and FC itself.\r\n\r\nBoth fragmets use the same ViewHolder code but in different classes .","title":"java.lang.IllegalStateException: Two different ViewHolders have the same stable ID","body":"<p>I'm having the following error in my app : </p>\n\n<pre><code>java.lang.IllegalStateException: Two different ViewHolders have the same stable ID. Stable IDs in your adapter MUST BE unique and SHOULD NOT change.\nViewHolder 1:ViewHolder{c7b44d1 position=5 id=3, oldPos=-1, pLpos:-1 not recyclable(1)} \nView Holder 2:ViewHolder{67232f6 position=3 id=3, oldPos=-1, pLpos:-1}\n</code></pre>\n\n<p>I'm using MaterialDrawer from Mike @github, this is my viewholder sample : </p>\n\n<pre><code>public class FavoritesViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{\n\nTextView Title;\nImageView Pic;\n\npublic FavoritesViewHolder(View itemView) {\n    super(itemView);\n    itemView.setOnClickListener(this);\n    Title = (TextView) itemView.findViewById(R.id.textViewHighlight);\n    Pic = (ImageView) itemView.findViewById(R.id.imageViewHighlight);\n\n   }\n}\n</code></pre>\n\n<p>Two fragments are switching their layout, when i press the first, it load without any problem, when i press the second fragment, it load a different layout and FC itself.</p>\n\n<p>Both fragmets use the same ViewHolder code but in different classes .</p>\n"},{"tags":["java","java-8","option-type"],"comments":[{"owner":{"account_id":10224453,"reputation":23,"user_id":7704710,"display_name":"user7704710"},"score":1,"creation_date":1646463848,"post_id":71360118,"comment_id":126134267,"body_markdown":"@Christos, I have checked the link that you have shared but that doesn&#39;t answer my question.","body":"@Christos, I have checked the link that you have shared but that doesn&#39;t answer my question."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1646464674,"post_id":71360118,"comment_id":126134402,"body_markdown":"Ignoring generics, in `map`, the mapping function returns an object of type `U` whereas in `flatMap`, it returns an `Optional&lt;U&gt;`.","body":"Ignoring generics, in <code>map</code>, the mapping function returns an object of type <code>U</code> whereas in <code>flatMap</code>, it returns an <code>Optional&lt;U&gt;</code>."}],"owner":{"account_id":10224453,"reputation":23,"user_id":7704710,"display_name":"user7704710"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646464524,"answer_count":0,"score":0,"last_activity_date":1646463525,"creation_date":1646463346,"question_id":71360118,"body_markdown":"I&#39;m able to find out the difference between the `Optional.map` &amp; `Optional.flatMap` and when to use which method. But what I&#39;m not able to understand what is that the difference between the two method&#39;s signatures. From the documentation, I found the below.\r\n\r\n   \r\n    public &lt;U&gt; Optional&lt;U&gt; map(Function&lt;? super T,? extends U&gt; mapper)\r\n\r\n    public &lt;U&gt; Optional&lt;U&gt; flatMap(Function&lt;? super T, Optional&lt;U&gt;&gt; mapper)\r\n\r\n\r\nCan anyone please explain the difference between `Function&lt;? super T,? extends U&gt;` and `Function&lt;? super T, Optional&lt;U&gt;&gt;` with some example?","title":"Difference between the signatures of Optional.map &amp; Optional.flatMap methods","body":"<p>I'm able to find out the difference between the <code>Optional.map</code> &amp; <code>Optional.flatMap</code> and when to use which method. But what I'm not able to understand what is that the difference between the two method's signatures. From the documentation, I found the below.</p>\n<pre><code>public &lt;U&gt; Optional&lt;U&gt; map(Function&lt;? super T,? extends U&gt; mapper)\n\npublic &lt;U&gt; Optional&lt;U&gt; flatMap(Function&lt;? super T, Optional&lt;U&gt;&gt; mapper)\n</code></pre>\n<p>Can anyone please explain the difference between <code>Function&lt;? super T,? extends U&gt;</code> and <code>Function&lt;? super T, Optional&lt;U&gt;&gt;</code> with some example?</p>\n"},{"tags":["java","time-complexity","big-o"],"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1646462950,"post_id":71360036,"comment_id":126134142,"body_markdown":"Duplicate [Examples of Algorithms which has O(1), O(n log n) and O(log n) complexities](https://stackoverflow.com/questions/1592649/examples-of-algorithms-which-has-o1-on-log-n-and-olog-n-complexities)","body":"Duplicate <a href=\"https://stackoverflow.com/questions/1592649/examples-of-algorithms-which-has-o1-on-log-n-and-olog-n-complexities\">Examples of Algorithms which has O(1), O(n log n) and O(log n) complexities</a>"}],"answers":[{"tags":[],"owner":{"account_id":23975389,"reputation":9,"user_id":17963568,"display_name":"Sriram Vinodh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1646462582,"creation_date":1646462582,"answer_id":71360066,"question_id":71360036,"body_markdown":"Since the main loop&#39;s iterations does not increase/decrease drastically with change in input, the code is O(N). \r\n\r\nYou can give whatever limit you want to the I&lt;=20 iterator, and the iterations will grow **linearly** \r\n","title":"Is this a O(n)?","body":"<p>Since the main loop's iterations does not increase/decrease drastically with change in input, the code is O(N).</p>\n<p>You can give whatever limit you want to the I&lt;=20 iterator, and the iterations will grow <strong>linearly</strong></p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646463461,"creation_date":1646462768,"answer_id":71360077,"question_id":71360036,"body_markdown":"Since nothing depends on any input and the number of iterations is always fixed, this has constant-time complexity or O(1). Asymptotic runtime complexity is always a property of a function describing how the number of operations change in relation to the input size.\r\n\r\nThere is no input and the function always takes the same time to execute, hence O(1).\r\n\r\n* Function performs the same operations regardless of its input: O(1)\r\n* Function runs twice as long when input doubles: O(n)\r\n* Function runs 4 times slower when input doubles: O(n&#178;)\r\n* Function performs more operations, but less than you would expect from N: usually O(log n)","title":"Is this a O(n)?","body":"<p>Since nothing depends on any input and the number of iterations is always fixed, this has constant-time complexity or O(1). Asymptotic runtime complexity is always a property of a function describing how the number of operations change in relation to the input size.</p>\n<p>There is no input and the function always takes the same time to execute, hence O(1).</p>\n<ul>\n<li>Function performs the same operations regardless of its input: O(1)</li>\n<li>Function runs twice as long when input doubles: O(n)</li>\n<li>Function runs 4 times slower when input doubles: O(n²)</li>\n<li>Function performs more operations, but less than you would expect from N: usually O(log n)</li>\n</ul>\n"}],"owner":{"account_id":23253882,"reputation":29,"user_id":17341218,"display_name":"Rim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1646463435,"answer_count":2,"score":-2,"last_activity_date":1646463461,"creation_date":1646462068,"question_id":71360036,"body_markdown":"What is the time complexity for this? And what&#39;s the Big-O?\r\n\r\n```\r\nint sum = 0;\r\n    \r\nfor (int i = 0; i&lt;= 20; i+=2)\r\n     for (int j = 0; j&lt;= i; j++)\r\n          sum+= 2i * j ;\r\nSystem.out.println (sum);\r\nSystem.out.ptintln(“I = ” + i + “ J = ” + j);\r\n```\r\n","title":"Is this a O(n)?","body":"<p>What is the time complexity for this? And what's the Big-O?</p>\n<pre><code>int sum = 0;\n    \nfor (int i = 0; i&lt;= 20; i+=2)\n     for (int j = 0; j&lt;= i; j++)\n          sum+= 2i * j ;\nSystem.out.println (sum);\nSystem.out.ptintln(“I = ” + i + “ J = ” + j);\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":13578509,"reputation":681,"user_id":9795231,"display_name":"user06062019"},"score":2,"creation_date":1646461738,"post_id":71360003,"comment_id":126133966,"body_markdown":"You have created a method not a constructor.Remove void from Student and then try","body":"You have created a method not a constructor.Remove void from Student and then try"},{"owner":{"account_id":23990788,"reputation":407,"user_id":18083414,"display_name":"dnaiel"},"score":0,"creation_date":1646461871,"post_id":71360003,"comment_id":126133978,"body_markdown":"@user06062019 Thanks, that worked. You can put that as an answer. I will mark it.","body":"@user06062019 Thanks, that worked. You can put that as an answer. I will mark it."}],"answers":[{"tags":[],"owner":{"account_id":16145881,"reputation":441,"user_id":11655642,"display_name":"shockwave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646462676,"creation_date":1646462676,"answer_id":71360073,"question_id":71360003,"body_markdown":"A constructor in Java should have following rules:\r\n\r\n 1. Name should match class name\r\n 2. Constructor should not have a return type\r\n 3. compiler generates default constructor if there is no explicit declaration(user written constructor that looks exactly like a default one is not called default constructor)\r\n\r\nIn your code you have added return type which makes it a method , since there is no constructor written it is calling a default constructor generated by the compiler.\r\n\r\n    public Student(){\r\n       id = 1;\r\n       name=&quot;asd&quot;;\r\n    }\r\nRemoving `void` should fix the issue ,however this is a user defined constructor\r\n","title":"Spring not calling the default constructor","body":"<p>A constructor in Java should have following rules:</p>\n<ol>\n<li>Name should match class name</li>\n<li>Constructor should not have a return type</li>\n<li>compiler generates default constructor if there is no explicit declaration(user written constructor that looks exactly like a default one is not called default constructor)</li>\n</ol>\n<p>In your code you have added return type which makes it a method , since there is no constructor written it is calling a default constructor generated by the compiler.</p>\n<pre><code>public Student(){\n   id = 1;\n   name=&quot;asd&quot;;\n}\n</code></pre>\n<p>Removing <code>void</code> should fix the issue ,however this is a user defined constructor</p>\n"}],"owner":{"account_id":23990788,"reputation":407,"user_id":18083414,"display_name":"dnaiel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":861,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71360073,"answer_count":1,"score":0,"last_activity_date":1646462676,"creation_date":1646461609,"question_id":71360003,"body_markdown":"I have made a simple spring boot application: &lt;br&gt;\r\n\r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            ConfigurableApplicationContext context= SpringApplication.run(DemoApplication.class, args);\r\n            Student student = context.getBean(Student.class);\r\n          System.out.println(student.getName());\r\n\r\n&lt;br&gt; \r\n\r\n    @Component\r\n    public class Student {\r\n        private int id;\r\n        private String name;\r\n    \r\n        public void Student(){\r\n            id = 1;\r\n            name=&quot;asd&quot;;\r\n        }\r\nHere I have put @Component annotation on the Student class. So I can get the student object from the application context. But the id and name &lt;br&gt; are not initialized as per the default constructor. What could be the reason for this? Does spring not call the default constructor automatically? If not, how is it constructing the object and putting in the &lt;br&gt; applicationContext? I have also provided the setters and getters in this class. But still, the getName method is returning null.","title":"Spring not calling the default constructor","body":"<p>I have made a simple spring boot application: <br></p>\n<pre><code>@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n\n        ConfigurableApplicationContext context= SpringApplication.run(DemoApplication.class, args);\n        Student student = context.getBean(Student.class);\n      System.out.println(student.getName());\n</code></pre>\n<br> \n<pre><code>@Component\npublic class Student {\n    private int id;\n    private String name;\n\n    public void Student(){\n        id = 1;\n        name=&quot;asd&quot;;\n    }\n</code></pre>\n<p>Here I have put @Component annotation on the Student class. So I can get the student object from the application context. But the id and name <br> are not initialized as per the default constructor. What could be the reason for this? Does spring not call the default constructor automatically? If not, how is it constructing the object and putting in the <br> applicationContext? I have also provided the setters and getters in this class. But still, the getName method is returning null.</p>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":7137920,"reputation":1714,"user_id":5456789,"display_name":"Amir Azizkhani"},"score":0,"creation_date":1646461683,"post_id":71359916,"comment_id":126133957,"body_markdown":"...     `  else\n       {\n           int damagetaken = this.intelligence*3;\n           human.health= human.health-(this.intelligence*3) + human.armor;\n           System.out.println(this.getName()+ &quot; use a &#39;Fireball&#39; and will deal &quot;+damagetaken+ &quot; damage to &quot;+ human.getName());\n           System.out.println(human.getName()+&quot; has now 0 armor left, and &quot;+human.getHealth()+&quot; health left.&quot;);\n           System.out.println();\n       }`   &lt;=  try this ;)","body":"...     `  else        {            int damagetaken = this.intelligence*3;            human.health= human.health-(this.intelligence*3) + human.armor;            System.out.println(this.getName()+ &quot; use a &#39;Fireball&#39; and will deal &quot;+damagetaken+ &quot; damage to &quot;+ human.getName());            System.out.println(human.getName()+&quot; has now 0 armor left, and &quot;+human.getHealth()+&quot; health left.&quot;);            System.out.println();        }`   &lt;=  try this ;)"}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646461718,"creation_date":1646461718,"answer_id":71360010,"question_id":71359916,"body_markdown":"You are checking if `armor` is greater than 1 (`human.armor &gt; 1`). You must reduce as much armor as possible and then the rest from `health`.\r\n\r\n\r\n    public void fireball(Knight knight) { //I&#39;ve renamed the variable as knight\r\n        int damageToTake = this.intelligence * 3;\r\n        if (knight.armor &gt;= damageToTake) {\r\n            knight.armor -= damageToTake;\r\n        } else {\r\n            int remaining = damageToTake - knight.armor;\r\n            knight.armor = 0;\r\n            // reduce remaining from health\r\n            knight.health -= remaining;\r\n        }\r\n        System.out.println(this.getName()+ &quot; use a &#39;Fireball&#39; and will deal &quot;+damagetaken+ &quot; damage to &quot;+ knight.getName());\r\n        System.out.println(knight.getName()+&quot; has now &quot; +knight.armor+&quot; armor left, and &quot;+knight.getHealth()+&quot; health left.&quot;);\r\n        System.out.println();\r\n\r\n    }\r\n\r\n\r\nI guess you&#39;ll also have to handle when there isn&#39;t enough `health` as well. I&#39;ll leave that to you.","title":"Inheritance, setters and getters (Game Class Output)","body":"<p>You are checking if <code>armor</code> is greater than 1 (<code>human.armor &gt; 1</code>). You must reduce as much armor as possible and then the rest from <code>health</code>.</p>\n<pre><code>public void fireball(Knight knight) { //I've renamed the variable as knight\n    int damageToTake = this.intelligence * 3;\n    if (knight.armor &gt;= damageToTake) {\n        knight.armor -= damageToTake;\n    } else {\n        int remaining = damageToTake - knight.armor;\n        knight.armor = 0;\n        // reduce remaining from health\n        knight.health -= remaining;\n    }\n    System.out.println(this.getName()+ &quot; use a 'Fireball' and will deal &quot;+damagetaken+ &quot; damage to &quot;+ knight.getName());\n    System.out.println(knight.getName()+&quot; has now &quot; +knight.armor+&quot; armor left, and &quot;+knight.getHealth()+&quot; health left.&quot;);\n    System.out.println();\n\n}\n</code></pre>\n<p>I guess you'll also have to handle when there isn't enough <code>health</code> as well. I'll leave that to you.</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646462539,"creation_date":1646462539,"answer_id":71360064,"question_id":71359916,"body_markdown":"Your should should add an additional check: \r\n\r\n 1. If armor less than 0\r\n 2. Then health += armor\r\n 3. Then set armor to 0.\r\n\r\nExample armor = -10, health = 30, then health = 20, armor = 0. Other algorithms are possible as well.\r\n\r\nAs additional note having method for dealing damage to knight and method for dealing damage to human is bad design. If you have more classes with armor, would you make additional method for each of them? \r\n\r\nIt&#39;s better for example to have all humans have armor, but with default value of 0 for them, and assign correct armor to extending classes. \r\n\r\nOr even better have an interface for dealing with armor and health, your classes should implement it, and damage dealing methods should accept it.\r\n\r\nOr best, have a method accepting damage done for each class. Like this the class itself will handle health left according to different modifiers, armor in your case, but you can add more. You really should not handle your knight&#39;s armor and health in the wizard class.","title":"Inheritance, setters and getters (Game Class Output)","body":"<p>Your should should add an additional check:</p>\n<ol>\n<li>If armor less than 0</li>\n<li>Then health += armor</li>\n<li>Then set armor to 0.</li>\n</ol>\n<p>Example armor = -10, health = 30, then health = 20, armor = 0. Other algorithms are possible as well.</p>\n<p>As additional note having method for dealing damage to knight and method for dealing damage to human is bad design. If you have more classes with armor, would you make additional method for each of them?</p>\n<p>It's better for example to have all humans have armor, but with default value of 0 for them, and assign correct armor to extending classes.</p>\n<p>Or even better have an interface for dealing with armor and health, your classes should implement it, and damage dealing methods should accept it.</p>\n<p>Or best, have a method accepting damage done for each class. Like this the class itself will handle health left according to different modifiers, armor in your case, but you can add more. You really should not handle your knight's armor and health in the wizard class.</p>\n"}],"owner":{"account_id":23178003,"reputation":13,"user_id":17276214,"display_name":"kakakararara"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71360010,"answer_count":2,"score":0,"last_activity_date":1646462539,"creation_date":1646460441,"question_id":71359916,"body_markdown":"How am I supposed to decrease its armor first and next the health? I want not to print the negative of armor, and I want to print if the armor gets 0, the health should be the next to decrease.\r\n\r\nFor Instance in Testing Class, I use wizard and cast a spell to fireball 3 times to knight. Since knight should decrease the armor first, and health after the armor gets to 0.\r\n\r\nOutput:\r\n\r\n    Wizard use a &#39;Fireball&#39; and will deal 24 damage to Knight\r\n    Knight has now 6 armor left, and 80 health left.\r\n    \r\n    Wizard use a &#39;Fireball&#39; and will deal 24 damage to Knight\r\n    Knight has now -18 armor left, and 80 health left.\r\n    \r\n    Wizard use a &#39;Fireball&#39; and will deal 24 damage to Knight\r\n    Knight has now -18 armor left, and 56 health left.\r\n\r\nAs you can see in the Second Print, the armor gets -18, I want that to print 0 and 62 health left. since wizard deal 24 damage\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aLJx0.png\r\n\r\nThis is the Parent class:\r\n\r\n        public class Human {\r\n    \t\r\n       String name;\r\n       int strength;\r\n       int stealth;\r\n       int intelligence;\r\n       int health;\r\n    \r\n       public Human() {\r\n    \t   name = &quot;Human&quot;;\r\n           strength=3;\r\n           stealth=3;\r\n           intelligence=3;\r\n           health=100;\r\n       }\r\n       \r\n      \r\n       public int getStrength() \r\n       {\r\n           return strength;\r\n       }\r\n    \r\n       public int getStealth() \r\n       {\r\n           return stealth;\r\n       }\r\n    \r\n       public int getIntelligence() \r\n       {\r\n           return intelligence;\r\n       }\r\n    \r\n       public int getHealth() \r\n       {\r\n           return health;\r\n       }\r\n    \r\n      \r\n       public String getName()\r\n       {\r\n    \t   return name;\r\n       }\r\n    \r\n    \r\n       public void setName(String name) \r\n       {\r\n    \tthis.name = name;\r\n       }\r\n    \r\n    \r\n       public void setStrength(int strength) \r\n       {\r\n    \tthis.strength = strength;\r\n       }\r\n    \r\n    \r\n       public void setStealth(int stealth) \r\n       {\r\n    \tthis.stealth = stealth;\r\n       }\r\n    \r\n    \r\n       public void setIntelligence(int intelligence)\r\n       {\r\n    \tthis.intelligence = intelligence;\r\n       }\r\n    \r\n    \r\n       public void setHealth(int health) \r\n       {\r\n    \tthis.health = health;\r\n       }\r\n    \r\n       public void attack(Human human)\r\n       {\r\n    \t   int damagetaken = this.getStrength();\r\n    \t\thuman.health = human.health - this.getStrength();\r\n    \t\tSystem.out.println(this.getName()+ &quot; attack &quot; + human.getName() + &quot; and will deal &quot; +damagetaken +&quot; damage.&quot;);\r\n    \t\tSystem.out.println(human.getName()+ &quot; has now &quot;+human.getHealth()+&quot; health left&quot;);\r\n    \t\tSystem.out.println();\r\n       }\r\n    \r\n    \r\n    }\r\n\r\n\r\nChild Class Knight:\r\n\r\n    public class Knight extends Human\r\n    {\r\n       int armor=30;\r\n       \r\n       public Knight() {\r\n    \t   this.name=&quot;Knight&quot;;\r\n           this.health=80;  \r\n       }\r\n       public void Reinforce(){\r\n           this.armor=this.armor+5;\r\n           System.out.println(this.getName()+ &quot; use a &#39;Reinforce&#39; and will increase its armor to 5 &quot;);\r\n           System.out.println(this.getName()+ &quot; has now &quot;+ this.armor +&quot; armor left.&quot;);\r\n           System.out.println();\r\n    \r\n       }\r\n       public void HolyStrike(Human human)\r\n       {   \r\n    \t   int damagetaken = (int)(human.health-10-(.20*this.armor));\r\n           human.health= human.getHealth() - damagetaken;\r\n           System.out.println(this.getName()+ &quot; use a &#39;Holy Strike&#39; and will deal &quot;+damagetaken+ &quot; damage to &quot;+ human.getName());\r\n           System.out.println(human.getName()+&quot; has now &quot; +human.getHealth()+&quot; health left.&quot;);\r\n           System.out.println();\r\n       }\r\n    }\r\n\r\nChild Class Wizard:\r\n\r\n    public class Wizard extends Human{\r\n    \r\n       public Wizard() \r\n       {\r\n    \t   this.name=&quot;Wizard&quot;;\r\n           this.health=50;\r\n           this.intelligence=8;  \r\n       }\r\n       public void heal(Human human)\r\n       {\r\n    \t   int healtake = this.getIntelligence();\r\n           human.health=human.health+this.intelligence;\r\n           System.out.println(this.getName()+&quot; use a &#39;Heal&#39; to &quot; + human.getName() + &quot; he/she will receive &quot; + healtake + &quot; additional health to his/her HP&quot;);\r\n           System.out.println(human.getName()+&quot; has now &quot;+ human.getHealth()+&quot; health left.&quot;);\r\n           System.out.println();\r\n       }\r\n       public void fireball(Human human)\r\n       {\r\n    \t   int damagetaken = this.intelligence*3;\r\n           human.health= human.health-(this.intelligence*3);\r\n           System.out.println(this.getName()+ &quot; use a &#39;Fireball&#39; and will deal &quot;+damagetaken+ &quot; damage to &quot;+ human.getName());\r\n           System.out.println(human.getName()+&quot; has now &quot; +human.getHealth()+&quot; health left.&quot;);\r\n           System.out.println();\r\n       }\r\n       \r\n       public void fireball(Knight human)\r\n       {\r\n    \t   \r\n    \t   if (human.armor &gt; 1)\r\n    \t   {\r\n    \t\t   int damagetaken = this.intelligence*3;\r\n    \t\t   human.armor= human.armor-(this.intelligence*3);\r\n    \t\t   System.out.println(this.getName()+ &quot; use a &#39;Fireball&#39; and will deal &quot;+damagetaken+ &quot; damage to &quot;+ human.getName());\r\n    \t\t   System.out.println(human.getName()+&quot; has now &quot; +human.armor+&quot; armor left, and &quot;+human.getHealth()+&quot; health left.&quot;);\r\n    \t\t   System.out.println();\r\n    \t   }\r\n    \t   \r\n    \t   else\r\n    \t   {\r\n    \t\t   int damagetaken = this.intelligence*3;\r\n    \t       human.health= human.health-(this.intelligence*3);\r\n    \t       System.out.println(this.getName()+ &quot; use a &#39;Fireball&#39; and will deal &quot;+damagetaken+ &quot; damage to &quot;+ human.getName());\r\n    \t       System.out.println(human.getName()+&quot; has now &quot; +human.armor+&quot; armor left, and &quot;+human.getHealth()+&quot; health left.&quot;);\r\n    \t       System.out.println();\r\n    \t   }\r\n       }\r\n       \r\n    }\r\n\r\nTesting Class:\r\n\r\n    public class HumanTest {\r\n       public static void main(String Args[]){\r\n    \t   \r\n           Human h1 = new Human();\r\n           Wizard w1=  new Wizard();\r\n           Ninja n1 = new Ninja();\r\n           Samurai s1 = new Samurai();\r\n           Knight k1 = new Knight();\r\n           \r\n       \r\n          w1.fireball(k1);\r\n          w1.fireball(k1);\r\n          w1.fireball(k1);\r\n          w1.fireball(k1);\r\n          w1.fireball(k1);\r\n          w1.fireball(k1);\r\n       }\r\n    }\r\n\r\n\r\nCan you help me to solve this?\r\n   \r\n   \r\n  \r\n\r\n\r\nyou can ask me about the source code. \r\n","title":"Inheritance, setters and getters (Game Class Output)","body":"<p>How am I supposed to decrease its armor first and next the health? I want not to print the negative of armor, and I want to print if the armor gets 0, the health should be the next to decrease.</p>\n<p>For Instance in Testing Class, I use wizard and cast a spell to fireball 3 times to knight. Since knight should decrease the armor first, and health after the armor gets to 0.</p>\n<p>Output:</p>\n<pre><code>Wizard use a 'Fireball' and will deal 24 damage to Knight\nKnight has now 6 armor left, and 80 health left.\n\nWizard use a 'Fireball' and will deal 24 damage to Knight\nKnight has now -18 armor left, and 80 health left.\n\nWizard use a 'Fireball' and will deal 24 damage to Knight\nKnight has now -18 armor left, and 56 health left.\n</code></pre>\n<p>As you can see in the Second Print, the armor gets -18, I want that to print 0 and 62 health left. since wizard deal 24 damage</p>\n<p><a href=\"https://i.stack.imgur.com/aLJx0.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>This is the Parent class:</p>\n<pre><code>    public class Human {\n    \n   String name;\n   int strength;\n   int stealth;\n   int intelligence;\n   int health;\n\n   public Human() {\n       name = &quot;Human&quot;;\n       strength=3;\n       stealth=3;\n       intelligence=3;\n       health=100;\n   }\n   \n  \n   public int getStrength() \n   {\n       return strength;\n   }\n\n   public int getStealth() \n   {\n       return stealth;\n   }\n\n   public int getIntelligence() \n   {\n       return intelligence;\n   }\n\n   public int getHealth() \n   {\n       return health;\n   }\n\n  \n   public String getName()\n   {\n       return name;\n   }\n\n\n   public void setName(String name) \n   {\n    this.name = name;\n   }\n\n\n   public void setStrength(int strength) \n   {\n    this.strength = strength;\n   }\n\n\n   public void setStealth(int stealth) \n   {\n    this.stealth = stealth;\n   }\n\n\n   public void setIntelligence(int intelligence)\n   {\n    this.intelligence = intelligence;\n   }\n\n\n   public void setHealth(int health) \n   {\n    this.health = health;\n   }\n\n   public void attack(Human human)\n   {\n       int damagetaken = this.getStrength();\n        human.health = human.health - this.getStrength();\n        System.out.println(this.getName()+ &quot; attack &quot; + human.getName() + &quot; and will deal &quot; +damagetaken +&quot; damage.&quot;);\n        System.out.println(human.getName()+ &quot; has now &quot;+human.getHealth()+&quot; health left&quot;);\n        System.out.println();\n   }\n\n\n}\n</code></pre>\n<p>Child Class Knight:</p>\n<pre><code>public class Knight extends Human\n{\n   int armor=30;\n   \n   public Knight() {\n       this.name=&quot;Knight&quot;;\n       this.health=80;  \n   }\n   public void Reinforce(){\n       this.armor=this.armor+5;\n       System.out.println(this.getName()+ &quot; use a 'Reinforce' and will increase its armor to 5 &quot;);\n       System.out.println(this.getName()+ &quot; has now &quot;+ this.armor +&quot; armor left.&quot;);\n       System.out.println();\n\n   }\n   public void HolyStrike(Human human)\n   {   \n       int damagetaken = (int)(human.health-10-(.20*this.armor));\n       human.health= human.getHealth() - damagetaken;\n       System.out.println(this.getName()+ &quot; use a 'Holy Strike' and will deal &quot;+damagetaken+ &quot; damage to &quot;+ human.getName());\n       System.out.println(human.getName()+&quot; has now &quot; +human.getHealth()+&quot; health left.&quot;);\n       System.out.println();\n   }\n}\n</code></pre>\n<p>Child Class Wizard:</p>\n<pre><code>public class Wizard extends Human{\n\n   public Wizard() \n   {\n       this.name=&quot;Wizard&quot;;\n       this.health=50;\n       this.intelligence=8;  \n   }\n   public void heal(Human human)\n   {\n       int healtake = this.getIntelligence();\n       human.health=human.health+this.intelligence;\n       System.out.println(this.getName()+&quot; use a 'Heal' to &quot; + human.getName() + &quot; he/she will receive &quot; + healtake + &quot; additional health to his/her HP&quot;);\n       System.out.println(human.getName()+&quot; has now &quot;+ human.getHealth()+&quot; health left.&quot;);\n       System.out.println();\n   }\n   public void fireball(Human human)\n   {\n       int damagetaken = this.intelligence*3;\n       human.health= human.health-(this.intelligence*3);\n       System.out.println(this.getName()+ &quot; use a 'Fireball' and will deal &quot;+damagetaken+ &quot; damage to &quot;+ human.getName());\n       System.out.println(human.getName()+&quot; has now &quot; +human.getHealth()+&quot; health left.&quot;);\n       System.out.println();\n   }\n   \n   public void fireball(Knight human)\n   {\n       \n       if (human.armor &gt; 1)\n       {\n           int damagetaken = this.intelligence*3;\n           human.armor= human.armor-(this.intelligence*3);\n           System.out.println(this.getName()+ &quot; use a 'Fireball' and will deal &quot;+damagetaken+ &quot; damage to &quot;+ human.getName());\n           System.out.println(human.getName()+&quot; has now &quot; +human.armor+&quot; armor left, and &quot;+human.getHealth()+&quot; health left.&quot;);\n           System.out.println();\n       }\n       \n       else\n       {\n           int damagetaken = this.intelligence*3;\n           human.health= human.health-(this.intelligence*3);\n           System.out.println(this.getName()+ &quot; use a 'Fireball' and will deal &quot;+damagetaken+ &quot; damage to &quot;+ human.getName());\n           System.out.println(human.getName()+&quot; has now &quot; +human.armor+&quot; armor left, and &quot;+human.getHealth()+&quot; health left.&quot;);\n           System.out.println();\n       }\n   }\n   \n}\n</code></pre>\n<p>Testing Class:</p>\n<pre><code>public class HumanTest {\n   public static void main(String Args[]){\n       \n       Human h1 = new Human();\n       Wizard w1=  new Wizard();\n       Ninja n1 = new Ninja();\n       Samurai s1 = new Samurai();\n       Knight k1 = new Knight();\n       \n   \n      w1.fireball(k1);\n      w1.fireball(k1);\n      w1.fireball(k1);\n      w1.fireball(k1);\n      w1.fireball(k1);\n      w1.fireball(k1);\n   }\n}\n</code></pre>\n<p>Can you help me to solve this?</p>\n<p>you can ask me about the source code.</p>\n"},{"tags":["java","spring","spring-boot","tomcat"],"answers":[{"tags":[],"owner":{"account_id":14679287,"reputation":192,"user_id":10601327,"display_name":"livesamarthgupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646459468,"creation_date":1646459468,"answer_id":71359860,"question_id":71359795,"body_markdown":"Check the accepted answer for this: https://stackoverflow.com/questions/42285665/use-web-xml-security-constraints-with-spring-boot\r\n\r\nYou might have to tweak it for your case. \r\n```\r\n&lt;user-data-constraint&gt;\r\n    &lt;transport-guarantee&gt;NONE&lt;/transport-guarantee&gt;\r\n&lt;/user-data-constraint&gt;\r\n``` \r\nThe `&lt;transport-gurantee&gt;` tag handles HTTPS auto-redirect. You can set it NONE for your health API.","title":"How config different tomcat connector server different resources","body":"<p>Check the accepted answer for this: <a href=\"https://stackoverflow.com/questions/42285665/use-web-xml-security-constraints-with-spring-boot\">Use web.xml security constraints with Spring Boot</a></p>\n<p>You might have to tweak it for your case.</p>\n<pre><code>&lt;user-data-constraint&gt;\n    &lt;transport-guarantee&gt;NONE&lt;/transport-guarantee&gt;\n&lt;/user-data-constraint&gt;\n</code></pre>\n<p>The <code>&lt;transport-gurantee&gt;</code> tag handles HTTPS auto-redirect. You can set it NONE for your health API.</p>\n"}],"owner":{"account_id":8503655,"reputation":1414,"user_id":6375917,"display_name":"TongChen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646462062,"creation_date":1646458499,"question_id":71359795,"body_markdown":"In my spring boot application,i want create two tomcat connectors,one connector server https and one server http,i want http connector just server only health check url GET `/api/healh`,how should i config?\r\n\r\nmy codes like this:\r\n~~~java\r\n@Component\r\npublic class TlsServerConfigure implements WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; {\r\n    @Override\r\n    public void customize(TomcatServletWebServerFactory factory) {\r\n        TomcatConnectorCustomizer httpsCustomizer = connector -&gt; {\r\n            Http11NioProtocol httpProtocol = (Http11NioProtocol)connector.getProtocolHandler();\r\n            httpProtocol.setAddress(getBindHost());\r\n            httpProtocol.setPort(8090);\r\n            httpProtocol.setSSLEnabled(true);\r\n            httpProtocol.setKeystoreFile(getKeystoreFile());\r\n            httpProtocol.setKeystorePass(&quot;123456&quot;);\r\n            httpProtocol.setKeyAlias(&quot;tls-server&quot;);\r\n\r\n            connector.setScheme(&quot;https&quot;);\r\n        };\r\n\r\n        factory.addConnectorCustomizers(httpsCustomizer);\r\n\r\n        factory.addAdditionalTomcatConnectors(createHttpConnector());\r\n    }\r\n\r\n    private Connector createHttpConnector() {\r\n        Connector connector = new Connector();\r\n        connector.setPort(8080);\r\n        connector.setScheme(&quot;http&quot;);\r\n        return connector;\r\n    }\r\n}\r\n~~~","title":"How config different tomcat connector server different resources","body":"<p>In my spring boot application,i want create two tomcat connectors,one connector server https and one server http,i want http connector just server only health check url GET <code>/api/healh</code>,how should i config?</p>\n<p>my codes like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class TlsServerConfigure implements WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; {\n    @Override\n    public void customize(TomcatServletWebServerFactory factory) {\n        TomcatConnectorCustomizer httpsCustomizer = connector -&gt; {\n            Http11NioProtocol httpProtocol = (Http11NioProtocol)connector.getProtocolHandler();\n            httpProtocol.setAddress(getBindHost());\n            httpProtocol.setPort(8090);\n            httpProtocol.setSSLEnabled(true);\n            httpProtocol.setKeystoreFile(getKeystoreFile());\n            httpProtocol.setKeystorePass(&quot;123456&quot;);\n            httpProtocol.setKeyAlias(&quot;tls-server&quot;);\n\n            connector.setScheme(&quot;https&quot;);\n        };\n\n        factory.addConnectorCustomizers(httpsCustomizer);\n\n        factory.addAdditionalTomcatConnectors(createHttpConnector());\n    }\n\n    private Connector createHttpConnector() {\n        Connector connector = new Connector();\n        connector.setPort(8080);\n        connector.setScheme(&quot;http&quot;);\n        return connector;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","pdf","android-webview","android-download-manager"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1618454368,"post_id":67101472,"comment_id":118608086,"body_markdown":"Does `String url` have `blob:` at the beginning? If so get rid of it?","body":"Does <code>String url</code> have <code>blob:</code> at the beginning? If so get rid of it?"},{"owner":{"account_id":21260346,"reputation":11,"user_id":15641178,"display_name":"Fazrur"},"score":0,"creation_date":1618455158,"post_id":67101472,"comment_id":118608227,"body_markdown":"No, when i use browser the url doesnt containt blob and when i click download button it is automatically download file, but why in my android app ( webview ) these error said &quot;Can only download HTTP/HTTPS URIs: blob:http://lapor.infokanimsambas.com/a0d3f9a5-81ce-434d-99a3-52ae66348ea2&quot; i got confuse??","body":"No, when i use browser the url doesnt containt blob and when i click download button it is automatically download file, but why in my android app ( webview ) these error said &quot;Can only download HTTP/HTTPS URIs: blob:<a href=\"http://lapor.infokanimsambas.com/a0d3f9a5-81ce-434d-99a3-52ae66348ea2\" rel=\"nofollow noreferrer\">lapor.infokanimsambas.com/a0d3f9a5-81ce-434d-99a3-52ae6&zwnj;&#8203;6348ea2</a>&quot; i got confuse??"}],"answers":[{"tags":[],"owner":{"account_id":13928648,"reputation":1,"user_id":10057301,"display_name":"lalit sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618466587,"creation_date":1618466587,"answer_id":67103036,"question_id":67101472,"body_markdown":"apart from using the webview   you can use the action view intent to directly jump on to the browser and just pass the url inside it or else you can try the volley library  ","title":"Download pdf in Webview didnt work ( Error Can only download HTTP/HTTPS Uri: Blob )","body":"<p>apart from using the webview   you can use the action view intent to directly jump on to the browser and just pass the url inside it or else you can try the volley library</p>\n"},{"tags":[],"owner":{"account_id":24403865,"reputation":21,"user_id":18332261,"display_name":"Rahul ch"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1646461182,"creation_date":1646461182,"answer_id":71359971,"question_id":67101472,"body_markdown":"I had the similar issue the onDownloadStart param url was appended with `blob:`. I Just removed it from the url and it worked like a charm.\r\n\r\nurl that was coming from method -&gt; blob:http://lapor.infokanimsambas.com/a0d3f9a5-81ce-434d-99a3-52ae66348ea2\r\n\r\nurl that I had to use -&gt; http://lapor.infokanimsambas.com/a0d3f9a5-81ce-434d-99a3-52ae66348ea2","title":"Download pdf in Webview didnt work ( Error Can only download HTTP/HTTPS Uri: Blob )","body":"<p>I had the similar issue the onDownloadStart param url was appended with <code>blob:</code>. I Just removed it from the url and it worked like a charm.</p>\n<p>url that was coming from method -&gt; blob:<a href=\"http://lapor.infokanimsambas.com/a0d3f9a5-81ce-434d-99a3-52ae66348ea2\" rel=\"nofollow noreferrer\">http://lapor.infokanimsambas.com/a0d3f9a5-81ce-434d-99a3-52ae66348ea2</a></p>\n<p>url that I had to use -&gt; <a href=\"http://lapor.infokanimsambas.com/a0d3f9a5-81ce-434d-99a3-52ae66348ea2\" rel=\"nofollow noreferrer\">http://lapor.infokanimsambas.com/a0d3f9a5-81ce-434d-99a3-52ae66348ea2</a></p>\n"}],"owner":{"account_id":21260346,"reputation":11,"user_id":15641178,"display_name":"Fazrur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1696,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1646461182,"creation_date":1618454075,"question_id":67101472,"body_markdown":"i make android app with webview for my website, but when i try to download pdf file i always get error  java.lang.IllegalArgumentException: Can only download HTTP/HTTPS URIs: blob:http://lapor.infokanimsambas.com/a0d3f9a5-81ce-434d-99a3-52ae66348ea2\r\nim using downloadlistener, this is my code :\r\n\r\n    @SuppressLint({&quot;SetJavaScriptEnabled&quot;, &quot;WrongViewCast&quot;})\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState){\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        webView = (WebView) findViewById(R.id.os_view);\r\n        assert webView != null;\r\n        WebSettings webSettings = webView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        webSettings.setAllowFileAccess(true);\r\n\r\n        if(Build.VERSION.SDK_INT &gt;= 21){\r\n            webSettings.setMixedContentMode(0);\r\n            webView.setLayerType(View.LAYER_TYPE_HARDWARE, null);\r\n        }else {\r\n            webView.setLayerType(View.LAYER_TYPE_SOFTWARE, null);\r\n        }\r\n\r\n        webView.setWebViewClient(new Callback());\r\n        webView.loadUrl(webview_url);\r\n        webView.setDownloadListener(new DownloadListener() {\r\n            @Override\r\n            public void onDownloadStart(String url, String userAgent, String contentDisposition, String mimetype, long contentLength) {\r\n                DownloadManager.Request request = new DownloadManager.Request(Uri.parse(url));\r\n                request.setMimeType(mimetype);\r\n                String cookies = CookieManager.getInstance().getCookie(url);\r\n                request.addRequestHeader(&quot;cookie&quot;, cookies);\r\n                request.addRequestHeader(&quot;User-Agent&quot;, userAgent);\r\n                request.setTitle(URLUtil.guessFileName(url, contentDisposition, mimetype));\r\n                request.allowScanningByMediaScanner();\r\n                request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\r\n                request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, URLUtil.guessFileName(\r\n                        url, contentDisposition, mimetype));\r\n                DownloadManager dm = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\r\n                dm.enqueue(request);\r\n                Toast.makeText(getApplicationContext(), &quot;Downloading FIle&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n\r\nand this is the error log : \r\n\r\n    2021-04-15 09:13:16.790 6870-6870/mgks.os.fileup E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: mgks.os.fileup, PID: 6870\r\n    java.lang.IllegalArgumentException: Can only download HTTP/HTTPS URIs: blob:http://lapor.infokanimsambas.com/a0d3f9a5-81ce-434d-99a3-52ae66348ea2\r\n        at android.app.DownloadManager$Request.&lt;init&gt;(DownloadManager.java:468)\r\n        at mgks.os.fileup.MainActivity$1.onDownloadStart(MainActivity.java:149)\r\n        at Cs.handleMessage(chromium-TrichromeWebViewGoogle.apk-stable-410410681:156)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n\r\ncan anybody help me???","title":"Download pdf in Webview didnt work ( Error Can only download HTTP/HTTPS Uri: Blob )","body":"<p>i make android app with webview for my website, but when i try to download pdf file i always get error  java.lang.IllegalArgumentException: Can only download HTTP/HTTPS URIs: blob:<a href=\"http://lapor.infokanimsambas.com/a0d3f9a5-81ce-434d-99a3-52ae66348ea2\" rel=\"nofollow noreferrer\">http://lapor.infokanimsambas.com/a0d3f9a5-81ce-434d-99a3-52ae66348ea2</a>\nim using downloadlistener, this is my code :</p>\n<pre><code>@SuppressLint({&quot;SetJavaScriptEnabled&quot;, &quot;WrongViewCast&quot;})\n@Override\nprotected void onCreate(Bundle savedInstanceState){\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    webView = (WebView) findViewById(R.id.os_view);\n    assert webView != null;\n    WebSettings webSettings = webView.getSettings();\n    webSettings.setJavaScriptEnabled(true);\n    webSettings.setAllowFileAccess(true);\n\n    if(Build.VERSION.SDK_INT &gt;= 21){\n        webSettings.setMixedContentMode(0);\n        webView.setLayerType(View.LAYER_TYPE_HARDWARE, null);\n    }else {\n        webView.setLayerType(View.LAYER_TYPE_SOFTWARE, null);\n    }\n\n    webView.setWebViewClient(new Callback());\n    webView.loadUrl(webview_url);\n    webView.setDownloadListener(new DownloadListener() {\n        @Override\n        public void onDownloadStart(String url, String userAgent, String contentDisposition, String mimetype, long contentLength) {\n            DownloadManager.Request request = new DownloadManager.Request(Uri.parse(url));\n            request.setMimeType(mimetype);\n            String cookies = CookieManager.getInstance().getCookie(url);\n            request.addRequestHeader(&quot;cookie&quot;, cookies);\n            request.addRequestHeader(&quot;User-Agent&quot;, userAgent);\n            request.setTitle(URLUtil.guessFileName(url, contentDisposition, mimetype));\n            request.allowScanningByMediaScanner();\n            request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n            request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, URLUtil.guessFileName(\n                    url, contentDisposition, mimetype));\n            DownloadManager dm = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\n            dm.enqueue(request);\n            Toast.makeText(getApplicationContext(), &quot;Downloading FIle&quot;, Toast.LENGTH_LONG).show();\n        }\n    });\n</code></pre>\n<p>and this is the error log :</p>\n<pre><code>2021-04-15 09:13:16.790 6870-6870/mgks.os.fileup E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: mgks.os.fileup, PID: 6870\njava.lang.IllegalArgumentException: Can only download HTTP/HTTPS URIs: blob:http://lapor.infokanimsambas.com/a0d3f9a5-81ce-434d-99a3-52ae66348ea2\n    at android.app.DownloadManager$Request.&lt;init&gt;(DownloadManager.java:468)\n    at mgks.os.fileup.MainActivity$1.onDownloadStart(MainActivity.java:149)\n    at Cs.handleMessage(chromium-TrichromeWebViewGoogle.apk-stable-410410681:156)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:223)\n    at android.app.ActivityThread.main(ActivityThread.java:7656)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n<p>can anybody help me???</p>\n"},{"tags":["java","http","curl","post","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":16062,"reputation":37419,"user_id":34596,"accept_rate":74,"display_name":"namin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646460708,"creation_date":1646459757,"answer_id":71359880,"question_id":71359443,"body_markdown":"I think I found the issue. It has nothing to do with Java. It turns out to be a 405, because we&#39;re using www.freesound.org instead of freesound.org!\r\n\r\nThe lesson is that a 405 is about wrong method (POST vs GET) or wrong URL (HTTPS vs HTTP, plain vs www). What was insidious is that the header still indicated that POST was allowed and yet it failed.","title":"OAuth server API (Freesound) succeeds in cURL but fails in Java","body":"<p>I think I found the issue. It has nothing to do with Java. It turns out to be a 405, because we're using <a href=\"http://www.freesound.org\" rel=\"nofollow noreferrer\">www.freesound.org</a> instead of freesound.org!</p>\n<p>The lesson is that a 405 is about wrong method (POST vs GET) or wrong URL (HTTPS vs HTTP, plain vs www). What was insidious is that the header still indicated that POST was allowed and yet it failed.</p>\n"}],"owner":{"account_id":16062,"reputation":37419,"user_id":34596,"accept_rate":74,"display_name":"namin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646460708,"creation_date":1646453811,"question_id":71359443,"body_markdown":"I&#39;d like to access the Freesound API via Java for Clojure (in the context of the [Overtone](http://overtone.github.io/) project).\r\n\r\nThe cURL request, taken from the documentation here:\r\nhttps://freesound.org/docs/api/authentication.html#oauth2-authentication\r\nis:\r\n```\r\ncurl -X POST -d &quot;client_id=YOUR_CLIENT_ID&amp;client_secret=YOUR_CLIENT_SECRET&amp;grant_type=authorization_code&amp;code=THE_GIVEN_CODE&quot; https://freesound.org/apiv2/oauth2/access_token/\r\n```\r\n\r\nI narrowed it down to this program failing in Java with an HTTP 405, even though the equivalent succeeds in cURL. What is going wrong?\r\n\r\nAlso, note that the Overtone code to post the request used to work, but it seems to have stopped at some point. It is here:\r\nhttps://github.com/overtone/overtone/blob/master/src/overtone/samples/freesound.clj#L79\r\n\r\n```\r\nclass req {\r\n    public static void main(String[] args) throws Exception {\r\n        String client_id = &quot;CLIENT_ID&quot;;\r\n        String api_key = &quot;API_KEY&quot;;\r\n        String code = &quot;CODE&quot;;\r\n        String url = &quot;https://www.freesound.org/apiv2/oauth2/access_token/&quot;;\r\n        String query = &quot;client_id=&quot;+client_id+&quot;&amp;api_key=&quot;+api_key+&quot;&amp;grant_type=authorization_code&amp;code=&quot;+code;\r\n        print_input(post_request(url, query));\r\n    }\r\n    static java.io.InputStream post_request(String url_text, String query) throws Exception {\r\n        java.net.URL url = new java.net.URL(url_text);\r\n        javax.net.ssl.HttpsURLConnection con = (javax.net.ssl.HttpsURLConnection)(url.openConnection());\r\n        con.setRequestMethod(&quot;POST&quot;);\r\n        con.setDoOutput(true);\r\n        //con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;);\r\n        //con.connect();\r\n        java.io.BufferedWriter w = new java.io.BufferedWriter(new java.io.OutputStreamWriter(con.getOutputStream()));\r\n        w.write(query);\r\n        print_headers(con);\r\n        return con.getInputStream();\r\n    }\r\n    static void print_headers(java.net.URLConnection con) {\r\n        java.util.Map&lt;String, java.util.List&lt;String&gt;&gt; map = con.getHeaderFields();\r\n\tfor (java.util.Map.Entry&lt;String, java.util.List&lt;String&gt;&gt; entry : map.entrySet()) {\r\n            System.out.println(entry.getKey() + &quot;: &quot;+ entry.getValue());\r\n\t}\r\n    }\r\n    static void print_input(java.io.InputStream input) throws Exception {\r\n        java.io.BufferedReader in = new java.io.BufferedReader(new java.io.InputStreamReader(input));\r\n        String line = null;\r\n        while((line = in.readLine()) != null) {\r\n            System.out.println(line);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe error is:\r\n```\r\n% javac req.java\r\n% java req      \r\nallow: [POST, OPTIONS]\r\ndate: [Sat, 05 Mar 2022 04:03:47 GMT]\r\nnull: [HTTP/1.1 405 Method Not Allowed]\r\ncontent-length: [0]\r\nserver: [istio-envoy]\r\nStrict-Transport-Security: [max-age=31536000; preload]\r\nx-envoy-upstream-service-time: [8]\r\nvary: [Cookie]\r\nx-frame-options: [SAMEORIGIN]\r\ncontent-type: [text/html; charset=utf-8]\r\nException in thread &quot;main&quot; java.io.IOException: Server returned HTTP response code: 405 for URL: https://freesound.org/apiv2/oauth2/access_token/\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:2035)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:2030)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:554)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getChainedException(HttpURLConnection.java:2029)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1597)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1577)\r\n\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\r\n\tat req.post_request(req.java:22)\r\n\tat req.main(req.java:10)\r\nCaused by: java.io.IOException: Server returned HTTP response code: 405 for URL: https://freesound.org/apiv2/oauth2/access_token/\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1985)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1577)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getHeaderFields(HttpURLConnection.java:3229)\r\n\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getHeaderFields(HttpsURLConnectionImpl.java:253)\r\n\tat req.print_headers(req.java:25)\r\n\tat req.post_request(req.java:21)\r\n\t... 1 more\r\n```\r\n\r\nThanks for any insights.","title":"OAuth server API (Freesound) succeeds in cURL but fails in Java","body":"<p>I'd like to access the Freesound API via Java for Clojure (in the context of the <a href=\"http://overtone.github.io/\" rel=\"nofollow noreferrer\">Overtone</a> project).</p>\n<p>The cURL request, taken from the documentation here:\n<a href=\"https://freesound.org/docs/api/authentication.html#oauth2-authentication\" rel=\"nofollow noreferrer\">https://freesound.org/docs/api/authentication.html#oauth2-authentication</a>\nis:</p>\n<pre><code>curl -X POST -d &quot;client_id=YOUR_CLIENT_ID&amp;client_secret=YOUR_CLIENT_SECRET&amp;grant_type=authorization_code&amp;code=THE_GIVEN_CODE&quot; https://freesound.org/apiv2/oauth2/access_token/\n</code></pre>\n<p>I narrowed it down to this program failing in Java with an HTTP 405, even though the equivalent succeeds in cURL. What is going wrong?</p>\n<p>Also, note that the Overtone code to post the request used to work, but it seems to have stopped at some point. It is here:\n<a href=\"https://github.com/overtone/overtone/blob/master/src/overtone/samples/freesound.clj#L79\" rel=\"nofollow noreferrer\">https://github.com/overtone/overtone/blob/master/src/overtone/samples/freesound.clj#L79</a></p>\n<pre><code>class req {\n    public static void main(String[] args) throws Exception {\n        String client_id = &quot;CLIENT_ID&quot;;\n        String api_key = &quot;API_KEY&quot;;\n        String code = &quot;CODE&quot;;\n        String url = &quot;https://www.freesound.org/apiv2/oauth2/access_token/&quot;;\n        String query = &quot;client_id=&quot;+client_id+&quot;&amp;api_key=&quot;+api_key+&quot;&amp;grant_type=authorization_code&amp;code=&quot;+code;\n        print_input(post_request(url, query));\n    }\n    static java.io.InputStream post_request(String url_text, String query) throws Exception {\n        java.net.URL url = new java.net.URL(url_text);\n        javax.net.ssl.HttpsURLConnection con = (javax.net.ssl.HttpsURLConnection)(url.openConnection());\n        con.setRequestMethod(&quot;POST&quot;);\n        con.setDoOutput(true);\n        //con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;);\n        //con.connect();\n        java.io.BufferedWriter w = new java.io.BufferedWriter(new java.io.OutputStreamWriter(con.getOutputStream()));\n        w.write(query);\n        print_headers(con);\n        return con.getInputStream();\n    }\n    static void print_headers(java.net.URLConnection con) {\n        java.util.Map&lt;String, java.util.List&lt;String&gt;&gt; map = con.getHeaderFields();\n    for (java.util.Map.Entry&lt;String, java.util.List&lt;String&gt;&gt; entry : map.entrySet()) {\n            System.out.println(entry.getKey() + &quot;: &quot;+ entry.getValue());\n    }\n    }\n    static void print_input(java.io.InputStream input) throws Exception {\n        java.io.BufferedReader in = new java.io.BufferedReader(new java.io.InputStreamReader(input));\n        String line = null;\n        while((line = in.readLine()) != null) {\n            System.out.println(line);\n        }\n    }\n}\n</code></pre>\n<p>The error is:</p>\n<pre><code>% javac req.java\n% java req      \nallow: [POST, OPTIONS]\ndate: [Sat, 05 Mar 2022 04:03:47 GMT]\nnull: [HTTP/1.1 405 Method Not Allowed]\ncontent-length: [0]\nserver: [istio-envoy]\nStrict-Transport-Security: [max-age=31536000; preload]\nx-envoy-upstream-service-time: [8]\nvary: [Cookie]\nx-frame-options: [SAMEORIGIN]\ncontent-type: [text/html; charset=utf-8]\nException in thread &quot;main&quot; java.io.IOException: Server returned HTTP response code: 405 for URL: https://freesound.org/apiv2/oauth2/access_token/\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:2035)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:2030)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:554)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getChainedException(HttpURLConnection.java:2029)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1597)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1577)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\n    at req.post_request(req.java:22)\n    at req.main(req.java:10)\nCaused by: java.io.IOException: Server returned HTTP response code: 405 for URL: https://freesound.org/apiv2/oauth2/access_token/\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1985)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1577)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getHeaderFields(HttpURLConnection.java:3229)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getHeaderFields(HttpsURLConnectionImpl.java:253)\n    at req.print_headers(req.java:25)\n    at req.post_request(req.java:21)\n    ... 1 more\n</code></pre>\n<p>Thanks for any insights.</p>\n"},{"tags":["java","user-interface"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1646458397,"post_id":71359724,"comment_id":126133562,"body_markdown":"The way you ask is by posting your code in the question, explaining what the code is doing, and explaining what you want the code to do.  [How To Ask](https://stackoverflow.com/help/asking)","body":"The way you ask is by posting your code in the question, explaining what the code is doing, and explaining what you want the code to do.  <a href=\"https://stackoverflow.com/help/asking\">How To Ask</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1646460162,"post_id":71359724,"comment_id":126133784,"body_markdown":"You&#39;ve shot yourself in the foot already by using a form editor, this is going to greatly reduce the flexibility of the solution.  First piece of advice, ditch the form editor","body":"You&#39;ve shot yourself in the foot already by using a form editor, this is going to greatly reduce the flexibility of the solution.  First piece of advice, ditch the form editor"}],"owner":{"account_id":22867845,"reputation":1,"user_id":17011356,"display_name":"Astr&#230;a Gaming"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646460234,"creation_date":1646457495,"question_id":71359724,"body_markdown":"I just want to ask if I can change the text in radio button.\r\n\r\nFor example:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nhere in the picture if I put a number, it will show the number factors at the radio button. ( the factor 1 will just show in Jlabel and the rest of the factor will show at the Radio button) the problem part at the **private void checkbtnActionPerformed(java.awt.event.ActionEvent evt)** I already tried to use **.setText()** but I think this will not work for radio button or button group. Is there another way to do that\r\n\r\n```\r\npublic class primefactor extends javax.swing.JFrame {\r\n\r\n    /**\r\n     * Creates new form primefactor\r\n     */\r\n    public primefactor() {\r\n        initComponents();\r\n    }\r\n\r\n    /**\r\n     * This method is called from within the constructor to initialize the form.\r\n     * WARNING: Do NOT modify this code. The content of this method is always\r\n     * regenerated by the Form Editor.\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        numfactorgr = new javax.swing.ButtonGroup();\r\n        jLabel1 = new javax.swing.JLabel();\r\n        jLabel2 = new javax.swing.JLabel();\r\n        jLabel3 = new javax.swing.JLabel();\r\n        checkbtn = new javax.swing.JButton();\r\n        cleatbtn = new javax.swing.JButton();\r\n        inspectbtn = new javax.swing.JButton();\r\n        num1 = new javax.swing.JLabel();\r\n        numdis = new javax.swing.JLabel();\r\n        numtxt = new javax.swing.JTextField();\r\n        primeyn = new javax.swing.JLabel();\r\n        numfactors1 = new javax.swing.JRadioButton();\r\n        numfactors2 = new javax.swing.JRadioButton();\r\n        numfactors3 = new javax.swing.JRadioButton();\r\n        numfactors4 = new javax.swing.JRadioButton();\r\n        numfactors = new javax.swing.JLabel();\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\r\n        jLabel1.setText(&quot;NUMBER::&quot;);\r\n\r\n        jLabel2.setText(&quot;FACTORS::&quot;);\r\n\r\n        jLabel3.setText(&quot;PRIME:&quot;);\r\n\r\n        checkbtn.setText(&quot;CHECK&quot;);\r\n        checkbtn.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                checkbtnActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        cleatbtn.setText(&quot;CLEAR&quot;);\r\n        cleatbtn.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                cleatbtnActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        inspectbtn.setText(&quot;INSPECT&quot;);\r\n        inspectbtn.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                inspectbtnActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        numdis.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);\r\n\r\n        numtxt.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                numtxtActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        numfactorgr.add(numfactors1);\r\n\r\n        numfactorgr.add(numfactors2);\r\n\r\n        numfactorgr.add(numfactors3);\r\n\r\n        numfactorgr.add(numfactors4);\r\n\r\n        numfactors.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addComponent(checkbtn, javax.swing.GroupLayout.PREFERRED_SIZE, 190, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 138, Short.MAX_VALUE)\r\n                        .addComponent(cleatbtn, javax.swing.GroupLayout.PREFERRED_SIZE, 192, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addComponent(jLabel2)\r\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                        .addComponent(num1)\r\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                            .addGroup(layout.createSequentialGroup()\r\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                                .addComponent(numdis, javax.swing.GroupLayout.PREFERRED_SIZE, 34, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED))\r\n                            .addGroup(layout.createSequentialGroup()\r\n                                .addGap(94, 94, 94)\r\n                                .addComponent(numfactors, javax.swing.GroupLayout.PREFERRED_SIZE, 184, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))\r\n                        .addComponent(inspectbtn))\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addComponent(jLabel3)\r\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                        .addComponent(primeyn)\r\n                        .addGap(0, 0, Short.MAX_VALUE))\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addComponent(jLabel1)\r\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                        .addComponent(numtxt))\r\n                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\r\n                        .addGap(0, 0, Short.MAX_VALUE)\r\n                        .addComponent(numfactors1)\r\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                        .addComponent(numfactors2)\r\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                        .addComponent(numfactors3)\r\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                        .addComponent(numfactors4)))\r\n                .addContainerGap())\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGap(23, 23, 23)\r\n                        .addComponent(jLabel1))\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addContainerGap()\r\n                        .addComponent(numtxt, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)))\r\n                .addGap(30, 30, 30)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addComponent(numdis)\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                        .addComponent(jLabel2)\r\n                        .addComponent(inspectbtn)\r\n                        .addComponent(num1)\r\n                        .addComponent(numfactors)))\r\n                .addGap(28, 28, 28)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(jLabel3)\r\n                    .addComponent(primeyn))\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 3, Short.MAX_VALUE)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(numfactors1)\r\n                    .addComponent(numfactors2)\r\n                    .addComponent(numfactors3)\r\n                    .addComponent(numfactors4))\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(checkbtn)\r\n                    .addComponent(cleatbtn))\r\n                .addContainerGap())\r\n        );\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    private void numtxtActionPerformed(java.awt.event.ActionEvent evt) {                                       \r\n        // TODO add your handling code here:\r\n    }                                      \r\n\r\n    private void checkbtnActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        String str = numtxt.getText();\r\n        int num = Integer.parseInt(str);\r\n        int flag = 0;\r\n        \r\n        numdis.setText(str);\r\n        num1.setText(&quot;1&quot;);\r\n        for (int i=2;i&lt;num;i++){\r\n            if (num%i ==0){\r\n                flag =1;\r\n            num1.setText(&quot;1&quot;);\r\n            numfactors.setText( numfactors.getText()+i+&quot;    &quot;); // at this part it will display the radio button with the number factors. (but I use first the jlabel numfactors to show the number factors)\r\n            }\r\n        }\r\n        if (flag == 0){\r\n           primeyn.setText(&quot;Yes&quot;);\r\n        }\r\n        else{\r\n            primeyn.setText(primeyn.getText()+&quot;No&quot;);\r\n        }\r\n    }                                        \r\n\r\n    private void cleatbtnActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n         numtxt.setText(&quot;&quot;);\r\n        num1.setText(&quot;&quot;);\r\n        numdis.setText(&quot;&quot;);\r\n        numfactors.setText(&quot;&quot;);\r\n        primeyn.setText(&quot;&quot;);\r\n    }                                        \r\n\r\n    private void inspectbtnActionPerformed(java.awt.event.ActionEvent evt) {                                           \r\n        // TODO add your handling code here:\r\n    }                                          \r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String args[]) {\r\n        /* Set the Nimbus look and feel */\r\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n         */\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(primefactor.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(primefactor.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(primefactor.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(primefactor.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        //&lt;/editor-fold&gt;\r\n\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new primefactor().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JButton checkbtn;\r\n    private javax.swing.JButton cleatbtn;\r\n    private javax.swing.JButton inspectbtn;\r\n    private javax.swing.JLabel jLabel1;\r\n    private javax.swing.JLabel jLabel2;\r\n    private javax.swing.JLabel jLabel3;\r\n    private javax.swing.JLabel num1;\r\n    private javax.swing.JLabel numdis;\r\n    private javax.swing.ButtonGroup numfactorgr;\r\n    private javax.swing.JLabel numfactors;\r\n    private javax.swing.JRadioButton numfactors1;\r\n    private javax.swing.JRadioButton numfactors2;\r\n    private javax.swing.JRadioButton numfactors3;\r\n    private javax.swing.JRadioButton numfactors4;\r\n    private javax.swing.JTextField numtxt;\r\n    private javax.swing.JLabel primeyn;\r\n    // End of variables declaration                   \r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OVFQ4.png","title":"Radio Button In Java","body":"<p>I just want to ask if I can change the text in radio button.</p>\n<p>For example:</p>\n<p><a href=\"https://i.stack.imgur.com/OVFQ4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OVFQ4.png\" alt=\"enter image description here\" /></a></p>\n<p>here in the picture if I put a number, it will show the number factors at the radio button. ( the factor 1 will just show in Jlabel and the rest of the factor will show at the Radio button) the problem part at the <strong>private void checkbtnActionPerformed(java.awt.event.ActionEvent evt)</strong> I already tried to use <strong>.setText()</strong> but I think this will not work for radio button or button group. Is there another way to do that</p>\n<pre><code>public class primefactor extends javax.swing.JFrame {\n\n    /**\n     * Creates new form primefactor\n     */\n    public primefactor() {\n        initComponents();\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        numfactorgr = new javax.swing.ButtonGroup();\n        jLabel1 = new javax.swing.JLabel();\n        jLabel2 = new javax.swing.JLabel();\n        jLabel3 = new javax.swing.JLabel();\n        checkbtn = new javax.swing.JButton();\n        cleatbtn = new javax.swing.JButton();\n        inspectbtn = new javax.swing.JButton();\n        num1 = new javax.swing.JLabel();\n        numdis = new javax.swing.JLabel();\n        numtxt = new javax.swing.JTextField();\n        primeyn = new javax.swing.JLabel();\n        numfactors1 = new javax.swing.JRadioButton();\n        numfactors2 = new javax.swing.JRadioButton();\n        numfactors3 = new javax.swing.JRadioButton();\n        numfactors4 = new javax.swing.JRadioButton();\n        numfactors = new javax.swing.JLabel();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        jLabel1.setText(&quot;NUMBER::&quot;);\n\n        jLabel2.setText(&quot;FACTORS::&quot;);\n\n        jLabel3.setText(&quot;PRIME:&quot;);\n\n        checkbtn.setText(&quot;CHECK&quot;);\n        checkbtn.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                checkbtnActionPerformed(evt);\n            }\n        });\n\n        cleatbtn.setText(&quot;CLEAR&quot;);\n        cleatbtn.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                cleatbtnActionPerformed(evt);\n            }\n        });\n\n        inspectbtn.setText(&quot;INSPECT&quot;);\n        inspectbtn.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                inspectbtnActionPerformed(evt);\n            }\n        });\n\n        numdis.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);\n\n        numtxt.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                numtxtActionPerformed(evt);\n            }\n        });\n\n        numfactorgr.add(numfactors1);\n\n        numfactorgr.add(numfactors2);\n\n        numfactorgr.add(numfactors3);\n\n        numfactorgr.add(numfactors4);\n\n        numfactors.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addContainerGap()\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(layout.createSequentialGroup()\n                        .addComponent(checkbtn, javax.swing.GroupLayout.PREFERRED_SIZE, 190, javax.swing.GroupLayout.PREFERRED_SIZE)\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 138, Short.MAX_VALUE)\n                        .addComponent(cleatbtn, javax.swing.GroupLayout.PREFERRED_SIZE, 192, javax.swing.GroupLayout.PREFERRED_SIZE))\n                    .addGroup(layout.createSequentialGroup()\n                        .addComponent(jLabel2)\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                        .addComponent(num1)\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                            .addGroup(layout.createSequentialGroup()\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                                .addComponent(numdis, javax.swing.GroupLayout.PREFERRED_SIZE, 34, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED))\n                            .addGroup(layout.createSequentialGroup()\n                                .addGap(94, 94, 94)\n                                .addComponent(numfactors, javax.swing.GroupLayout.PREFERRED_SIZE, 184, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))\n                        .addComponent(inspectbtn))\n                    .addGroup(layout.createSequentialGroup()\n                        .addComponent(jLabel3)\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                        .addComponent(primeyn)\n                        .addGap(0, 0, Short.MAX_VALUE))\n                    .addGroup(layout.createSequentialGroup()\n                        .addComponent(jLabel1)\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                        .addComponent(numtxt))\n                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\n                        .addGap(0, 0, Short.MAX_VALUE)\n                        .addComponent(numfactors1)\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                        .addComponent(numfactors2)\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                        .addComponent(numfactors3)\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                        .addComponent(numfactors4)))\n                .addContainerGap())\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(23, 23, 23)\n                        .addComponent(jLabel1))\n                    .addGroup(layout.createSequentialGroup()\n                        .addContainerGap()\n                        .addComponent(numtxt, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)))\n                .addGap(30, 30, 30)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(numdis)\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                        .addComponent(jLabel2)\n                        .addComponent(inspectbtn)\n                        .addComponent(num1)\n                        .addComponent(numfactors)))\n                .addGap(28, 28, 28)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jLabel3)\n                    .addComponent(primeyn))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 3, Short.MAX_VALUE)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(numfactors1)\n                    .addComponent(numfactors2)\n                    .addComponent(numfactors3)\n                    .addComponent(numfactors4))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(checkbtn)\n                    .addComponent(cleatbtn))\n                .addContainerGap())\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void numtxtActionPerformed(java.awt.event.ActionEvent evt) {                                       \n        // TODO add your handling code here:\n    }                                      \n\n    private void checkbtnActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        String str = numtxt.getText();\n        int num = Integer.parseInt(str);\n        int flag = 0;\n        \n        numdis.setText(str);\n        num1.setText(&quot;1&quot;);\n        for (int i=2;i&lt;num;i++){\n            if (num%i ==0){\n                flag =1;\n            num1.setText(&quot;1&quot;);\n            numfactors.setText( numfactors.getText()+i+&quot;    &quot;); // at this part it will display the radio button with the number factors. (but I use first the jlabel numfactors to show the number factors)\n            }\n        }\n        if (flag == 0){\n           primeyn.setText(&quot;Yes&quot;);\n        }\n        else{\n            primeyn.setText(primeyn.getText()+&quot;No&quot;);\n        }\n    }                                        \n\n    private void cleatbtnActionPerformed(java.awt.event.ActionEvent evt) {                                         \n         numtxt.setText(&quot;&quot;);\n        num1.setText(&quot;&quot;);\n        numdis.setText(&quot;&quot;);\n        numfactors.setText(&quot;&quot;);\n        primeyn.setText(&quot;&quot;);\n    }                                        \n\n    private void inspectbtnActionPerformed(java.awt.event.ActionEvent evt) {                                           \n        // TODO add your handling code here:\n    }                                          \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(primefactor.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(primefactor.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(primefactor.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(primefactor.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new primefactor().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton checkbtn;\n    private javax.swing.JButton cleatbtn;\n    private javax.swing.JButton inspectbtn;\n    private javax.swing.JLabel jLabel1;\n    private javax.swing.JLabel jLabel2;\n    private javax.swing.JLabel jLabel3;\n    private javax.swing.JLabel num1;\n    private javax.swing.JLabel numdis;\n    private javax.swing.ButtonGroup numfactorgr;\n    private javax.swing.JLabel numfactors;\n    private javax.swing.JRadioButton numfactors1;\n    private javax.swing.JRadioButton numfactors2;\n    private javax.swing.JRadioButton numfactors3;\n    private javax.swing.JRadioButton numfactors4;\n    private javax.swing.JTextField numtxt;\n    private javax.swing.JLabel primeyn;\n    // End of variables declaration                   \n}\n</code></pre>\n"},{"tags":["java","android","kotlin","button","navigation"],"answers":[{"tags":[],"owner":{"account_id":20420629,"reputation":658,"user_id":14981685,"display_name":"hossein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646460213,"creation_date":1646460213,"answer_id":71359906,"question_id":71359224,"body_markdown":"If you do not use the rules of material design, you should not have a theme that inherits from material design.\r\nFind the theme.xml according to the Android version of your studio and change the parent to Theme.AppCompat.Light.DarkActionBar.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nHzAz.png","title":"the menu is not displayed in the xml file already tried everything, nothing works","body":"<p>If you do not use the rules of material design, you should not have a theme that inherits from material design.\nFind the theme.xml according to the Android version of your studio and change the parent to Theme.AppCompat.Light.DarkActionBar.</p>\n<p><a href=\"https://i.stack.imgur.com/nHzAz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nHzAz.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":24211527,"reputation":21,"user_id":18167978,"display_name":"Rustam Kozhinov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71359906,"answer_count":1,"score":2,"last_activity_date":1646460213,"creation_date":1646450657,"question_id":71359224,"body_markdown":"The main problem is that the menu bar is not displayed in my layout file.\r\nI&#39;ve done a few searches but haven&#39;t been able to find a solution or a reason as to why it is behaving this way.\r\nAny help would be appreciated. Thanks.\r\n**my menu file**\r\n\r\n    `&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n            &lt;item\r\n                android:id=&quot;@+id/air&quot;\r\n                android:title=&quot;Авиабилеты&quot;\r\n                android:enabled=&quot;true&quot;\r\n                android:icon=&quot;@drawable/air&quot;/&gt;\r\n            &lt;item\r\n                android:id=&quot;@+id/bed&quot;\r\n                android:title=&quot;Отели&quot;\r\n                android:enabled=&quot;true&quot;\r\n                android:icon=&quot;@drawable/bed&quot;/&gt;\r\n            &lt;item\r\n                android:id=&quot;@+id/profile&quot;\r\n                android:title=&quot;Профиль&quot;\r\n                android:enabled=&quot;true&quot;\r\n                android:icon=&quot;@drawable/person&quot;/&gt;\r\n        \r\n        &lt;/menu&gt;`\r\n\r\n&gt; XML\r\n**my layout file**\r\n\r\n        `&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        tools:context=&quot;com.example.gototrip.view.MainSearchTicketFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/linearLayout2&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:background=&quot;@color/purple_700&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;Поиск дешевых\r\n                              авиабилетов&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;26sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n            &lt;EditText\r\n                android:id=&quot;@+id/fromEditText&quot;\r\n                android:layout_width=&quot;336dp&quot;\r\n                android:layout_height=&quot;30dp&quot;\r\n                android:layout_gravity=&quot;center|center_vertical&quot;\r\n                android:layout_marginStart=&quot;100dp&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:layout_marginEnd=&quot;101dp&quot;\r\n                android:background=&quot;@drawable/rouded_edittext&quot;\r\n                android:ems=&quot;10&quot;\r\n                android:hint=&quot;Откуда&quot;\r\n                android:inputType=&quot;textPersonName&quot;\r\n                android:textSize=&quot;24sp&quot;\r\n                app:guidelineUseRtl=&quot;true&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                tools:layout_editor_absoluteY=&quot;42dp&quot; /&gt;\r\n    \r\n            &lt;EditText\r\n                android:id=&quot;@+id/whereEditText&quot;\r\n                android:layout_width=&quot;336dp&quot;\r\n                android:layout_height=&quot;33dp&quot;\r\n                android:layout_gravity=&quot;center|center_vertical&quot;\r\n                android:layout_marginStart=&quot;100dp&quot;\r\n                android:layout_marginEnd=&quot;101dp&quot;\r\n                android:background=&quot;@drawable/rouded_edittext_two&quot;\r\n                android:ems=&quot;10&quot;\r\n                android:hint=&quot;Куда&quot;\r\n                android:inputType=&quot;textPersonName&quot;\r\n                android:textSize=&quot;24sp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/editTextTextPersonName&quot; /&gt;\r\n    \r\n            &lt;android.support.v7.widget.LinearLayoutCompat\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;8dp&quot;\r\n                android:gravity=&quot;center&quot;&gt;\r\n    \r\n                &lt;Button\r\n                    android:id=&quot;@+id/buttonData&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginRight=&quot;8dp&quot;\r\n                    android:text=&quot;Дата&quot;\r\n                    android:textColor=&quot;@color/black&quot; /&gt;\r\n    \r\n                &lt;Button\r\n                    android:id=&quot;@+id/buttonPassenger&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginRight=&quot;8dp&quot;\r\n                    android:text=&quot;Класс&quot;\r\n                    android:textColor=&quot;@color/black&quot; /&gt;\r\n    \r\n                &lt;Button\r\n                    android:id=&quot;@+id/buttonFilter&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Фильтр&quot;\r\n                    android:textColor=&quot;@color/black&quot; /&gt;\r\n            &lt;/android.support.v7.widget.LinearLayoutCompat&gt;\r\n    \r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n    \r\n        &lt;android.support.design.widget.BottomNavigationView\r\n            android:id=&quot;@+id/navigation&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;bottom&quot;\r\n            app:itemBackground=&quot;@color/black&quot;\r\n            app:itemIconTint=&quot;@android:color/white&quot;\r\n            app:itemTextColor=&quot;@android:color/white&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:menu=&quot;@menu/navigation_menu&quot; /&gt;\r\n    \r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;`\r\n\r\nWhere am I doing wrong? I checked some tutorials, and that exactly the process of setting bottom navigation view\r\n[photo][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c6QRe.png","title":"the menu is not displayed in the xml file already tried everything, nothing works","body":"<p>The main problem is that the menu bar is not displayed in my layout file.\nI've done a few searches but haven't been able to find a solution or a reason as to why it is behaving this way.\nAny help would be appreciated. Thanks.\n<strong>my menu file</strong></p>\n<pre><code>`&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n        &lt;item\n            android:id=&quot;@+id/air&quot;\n            android:title=&quot;Авиабилеты&quot;\n            android:enabled=&quot;true&quot;\n            android:icon=&quot;@drawable/air&quot;/&gt;\n        &lt;item\n            android:id=&quot;@+id/bed&quot;\n            android:title=&quot;Отели&quot;\n            android:enabled=&quot;true&quot;\n            android:icon=&quot;@drawable/bed&quot;/&gt;\n        &lt;item\n            android:id=&quot;@+id/profile&quot;\n            android:title=&quot;Профиль&quot;\n            android:enabled=&quot;true&quot;\n            android:icon=&quot;@drawable/person&quot;/&gt;\n    \n    &lt;/menu&gt;`\n</code></pre>\n<blockquote>\n<p>XML\n<strong>my layout file</strong></p>\n</blockquote>\n<pre><code>    `&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    tools:context=&quot;com.example.gototrip.view.MainSearchTicketFragment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/linearLayout2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:background=&quot;@color/purple_700&quot;\n        android:orientation=&quot;vertical&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;Поиск дешевых\n                          авиабилетов&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;26sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/fromEditText&quot;\n            android:layout_width=&quot;336dp&quot;\n            android:layout_height=&quot;30dp&quot;\n            android:layout_gravity=&quot;center|center_vertical&quot;\n            android:layout_marginStart=&quot;100dp&quot;\n            android:layout_marginTop=&quot;20dp&quot;\n            android:layout_marginEnd=&quot;101dp&quot;\n            android:background=&quot;@drawable/rouded_edittext&quot;\n            android:ems=&quot;10&quot;\n            android:hint=&quot;Откуда&quot;\n            android:inputType=&quot;textPersonName&quot;\n            android:textSize=&quot;24sp&quot;\n            app:guidelineUseRtl=&quot;true&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            tools:layout_editor_absoluteY=&quot;42dp&quot; /&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/whereEditText&quot;\n            android:layout_width=&quot;336dp&quot;\n            android:layout_height=&quot;33dp&quot;\n            android:layout_gravity=&quot;center|center_vertical&quot;\n            android:layout_marginStart=&quot;100dp&quot;\n            android:layout_marginEnd=&quot;101dp&quot;\n            android:background=&quot;@drawable/rouded_edittext_two&quot;\n            android:ems=&quot;10&quot;\n            android:hint=&quot;Куда&quot;\n            android:inputType=&quot;textPersonName&quot;\n            android:textSize=&quot;24sp&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/editTextTextPersonName&quot; /&gt;\n\n        &lt;android.support.v7.widget.LinearLayoutCompat\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;8dp&quot;\n            android:gravity=&quot;center&quot;&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/buttonData&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginRight=&quot;8dp&quot;\n                android:text=&quot;Дата&quot;\n                android:textColor=&quot;@color/black&quot; /&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/buttonPassenger&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginRight=&quot;8dp&quot;\n                android:text=&quot;Класс&quot;\n                android:textColor=&quot;@color/black&quot; /&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/buttonFilter&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Фильтр&quot;\n                android:textColor=&quot;@color/black&quot; /&gt;\n        &lt;/android.support.v7.widget.LinearLayoutCompat&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n\n    &lt;android.support.design.widget.BottomNavigationView\n        android:id=&quot;@+id/navigation&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;bottom&quot;\n        app:itemBackground=&quot;@color/black&quot;\n        app:itemIconTint=&quot;@android:color/white&quot;\n        app:itemTextColor=&quot;@android:color/white&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:menu=&quot;@menu/navigation_menu&quot; /&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;`\n</code></pre>\n<p>Where am I doing wrong? I checked some tutorials, and that exactly the process of setting bottom navigation view\n<a href=\"https://i.stack.imgur.com/c6QRe.png\" rel=\"nofollow noreferrer\">photo</a></p>\n"},{"tags":["java","android","android-studio","payumoney","gradle-dependencies"],"answers":[{"tags":[],"owner":{"account_id":18085262,"reputation":96,"user_id":13146364,"display_name":"Elek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646312211,"creation_date":1646312211,"answer_id":71337587,"question_id":71336871,"body_markdown":"It seems, that the dependency can not be loaded from `JCenter`. PayU mentioned in their [developer guide][1], that `implementation(&quot;com.payumoney.sdkui:plug-n-play:&lt;version&gt;&quot;)` is enough. \r\n\r\nI recommend to remove the other `payumoney` dependencies and change your repository scope in the `build.gradle` to\r\n\r\n```groovy\r\nrepositories {\r\n        google()\r\n        mavenCentral()\r\n        maven{ url(&quot;https://repo.gradle.org/gradle/libs-releases/&quot;) }\r\n        maven { url &quot;https://jitpack.io&quot; }\r\n    }\r\n``\r\n\r\n\r\n  [1]: https://developer.payumoney.com/android/","title":"Android Gradle dependencies are not working in new update of Android Studio","body":"<p>It seems, that the dependency can not be loaded from <code>JCenter</code>. PayU mentioned in their [developer guide][1], that <code>implementation(&quot;com.payumoney.sdkui:plug-n-play:&lt;version&gt;&quot;)</code> is enough.</p>\n<p>I recommend to remove the other <code>payumoney</code> dependencies and change your repository scope in the <code>build.gradle</code> to</p>\n<pre><code>repositories {\n        google()\n        mavenCentral()\n        maven{ url(&quot;https://repo.gradle.org/gradle/libs-releases/&quot;) }\n        maven { url &quot;https://jitpack.io&quot; }\n    }\n``\n\n\n  [1]: https://developer.payumoney.com/android/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20847006,"reputation":39,"user_id":15312292,"display_name":"Rupesh Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646459602,"creation_date":1646459602,"answer_id":71359873,"question_id":71336871,"body_markdown":"I have wrote code before getting exact code or concept behind it after a lot of error handling.\r\n\r\nIn my system it works when modified in `settings.gradle`  inside of `repositories {  }` : \r\n\r\n    maven{ url(&quot;https://repo.gradle.org/gradle/libs-releases/&quot;) }\r\n    maven { url &quot;https://jitpack.io&quot; }\r\n\r\nThe complete `settings.gradle` file should have as given below :\r\n\r\n    pluginManagement {\r\n        repositories {\r\n            gradlePluginPortal()\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    }\r\n    dependencyResolutionManagement {\r\n        repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            maven{ url(&quot;https://repo.gradle.org/gradle/libs-releases/&quot;) }\r\n            maven { url &quot;https://jitpack.io&quot; }\r\n        }\r\n    }\r\n    rootProject.name = &quot;PayU Demo&quot;\r\n    include &#39;:app&#39;\r\n\r\nI hope the above code helpful to you all guys.","title":"Android Gradle dependencies are not working in new update of Android Studio","body":"<p>I have wrote code before getting exact code or concept behind it after a lot of error handling.</p>\n<p>In my system it works when modified in <code>settings.gradle</code>  inside of <code>repositories {  }</code> :</p>\n<pre><code>maven{ url(&quot;https://repo.gradle.org/gradle/libs-releases/&quot;) }\nmaven { url &quot;https://jitpack.io&quot; }\n</code></pre>\n<p>The complete <code>settings.gradle</code> file should have as given below :</p>\n<pre><code>pluginManagement {\n    repositories {\n        gradlePluginPortal()\n        google()\n        mavenCentral()\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n        maven{ url(&quot;https://repo.gradle.org/gradle/libs-releases/&quot;) }\n        maven { url &quot;https://jitpack.io&quot; }\n    }\n}\nrootProject.name = &quot;PayU Demo&quot;\ninclude ':app'\n</code></pre>\n<p>I hope the above code helpful to you all guys.</p>\n"}],"owner":{"account_id":20847006,"reputation":39,"user_id":15312292,"display_name":"Rupesh Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2824,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1646459602,"creation_date":1646308884,"question_id":71336871,"body_markdown":"I am trying to implement any kind of dependency ,in new android studio IDE which is stable in JDK 11, like payumoney or something else. It syncs successfully but when trying to use it in java file or xml file getting error like can not find symbol that you are using.\r\n\r\nIn updated Android Studio when we create new project we are getting code in build.gradle file which is given below :\r\n\r\nbuild.gradle : \r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.1.2&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.1.2&#39; apply false\r\n    }\r\n    \r\n    \r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nand build.gradle(app) : \r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    \r\n    android {\r\n        compileSdk 31\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.wipenex.payudemo&quot;\r\n            minSdk 21\r\n            targetSdk 31\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n        implementation &#39;com.google.firebase:firebase-common:20.0.0&#39;\r\n    \r\n        implementation &#39;com.payumoney.core:payumoney-sdk:7.4.4&#39;\r\n        implementation &#39;com.payumoney.sdkui:plug-n-play:1.6.0&#39;\r\n    \r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n        \r\n    \r\n    }\r\n\r\nAnd it looks like : \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2Dmsh.png\r\n\r\nI was trying to add some code in build.gradle(app) :\r\n\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:7.1.1&#39;\r\n            classpath &#39;com.google.gms:google-services:4.3.8&#39;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            maven { url &quot;https://jitpack.io&quot; }\r\n        }\r\n    }\r\n\r\nbut getting error.","title":"Android Gradle dependencies are not working in new update of Android Studio","body":"<p>I am trying to implement any kind of dependency ,in new android studio IDE which is stable in JDK 11, like payumoney or something else. It syncs successfully but when trying to use it in java file or xml file getting error like can not find symbol that you are using.</p>\n<p>In updated Android Studio when we create new project we are getting code in build.gradle file which is given below :</p>\n<p>build.gradle :</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.1.2' apply false\n    id 'com.android.library' version '7.1.2' apply false\n}\n\n\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>and build.gradle(app) :</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 31\n\n    defaultConfig {\n        applicationId &quot;com.wipenex.payudemo&quot;\n        minSdk 21\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'com.google.firebase:firebase-common:20.0.0'\n\n    implementation 'com.payumoney.core:payumoney-sdk:7.4.4'\n    implementation 'com.payumoney.sdkui:plug-n-play:1.6.0'\n\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    \n\n}\n</code></pre>\n<p>And it looks like :\n<a href=\"https://i.stack.imgur.com/2Dmsh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Dmsh.png\" alt=\"enter image description here\" /></a></p>\n<p>I was trying to add some code in build.gradle(app) :</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.1.1'\n        classpath 'com.google.gms:google-services:4.3.8'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven { url &quot;https://jitpack.io&quot; }\n    }\n}\n</code></pre>\n<p>but getting error.</p>\n"},{"tags":["java","android","json","sharedpreferences"],"answers":[{"tags":[],"owner":{"account_id":3318823,"reputation":21,"user_id":2790466,"display_name":"AmanJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646459038,"creation_date":1646459038,"answer_id":71359830,"question_id":71359527,"body_markdown":"This is how you can put a value in a shared preference.\r\n\r\n    SharedPreferences sharedPreferences =\r\n    PreferenceManager.getDefaultSharedPreferences(activity /* Activity context */);\r\n    SharedPreferences.Editor myEdit = sharedPreferences.edit();\r\n    myEdit.putString(&quot;preferenceName&quot;, &quot;preferenceValue&quot;);\r\n    // Once the changes have been made,\r\n    // we need to commit to apply those changes made,\r\n    // otherwise, it will throw an error\r\n    myEdit.commit();\r\n\r\nThis is how you can get a stored value from a shared preference.\r\n\r\n    SharedPreferences sharedPreferences =\r\n    PreferenceManager.getDefaultSharedPreferences(activity /* Activity context */);\r\n    String name = sharedPreferences.getString(&quot;preferenceKey&quot;, &quot;defaultValue&quot;);","title":"How to use shared preferences in android with JSON to keep a user logged in?","body":"<p>This is how you can put a value in a shared preference.</p>\n<pre><code>SharedPreferences sharedPreferences =\nPreferenceManager.getDefaultSharedPreferences(activity /* Activity context */);\nSharedPreferences.Editor myEdit = sharedPreferences.edit();\nmyEdit.putString(&quot;preferenceName&quot;, &quot;preferenceValue&quot;);\n// Once the changes have been made,\n// we need to commit to apply those changes made,\n// otherwise, it will throw an error\nmyEdit.commit();\n</code></pre>\n<p>This is how you can get a stored value from a shared preference.</p>\n<pre><code>SharedPreferences sharedPreferences =\nPreferenceManager.getDefaultSharedPreferences(activity /* Activity context */);\nString name = sharedPreferences.getString(&quot;preferenceKey&quot;, &quot;defaultValue&quot;);\n</code></pre>\n"}],"owner":{"account_id":24385683,"reputation":13,"user_id":18316506,"display_name":"Clair Arci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646459038,"creation_date":1646454981,"question_id":71359527,"body_markdown":"I have an app and every time I exit, I was asked to log in again. I want my app to keep a user logged in. I don&#39;t where to start. I&#39;m kinda new in using shared preference with JSON in android. If anyone of you who can help me, let me know. Badly need it for school project. Thanks\r\n\r\nHere&#39;s my sign_in.java:\r\n\r\n    public class sign_in extends AppCompatActivity {\r\n    \r\n        private EditText  username,password;\r\n        private Button btnSignIn;\r\n        private RequestQueue requestQueue;\r\n        private static final String URL = &quot;http://192.168.1.2:80/OrgSpace/API/user_control.php&quot;;\r\n        private StringRequest request;\r\n    \r\n    \r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(final Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_sign_in);\r\n    \r\n            username = (EditText) findViewById(R.id.username);\r\n            password = (EditText) findViewById(R.id.password);\r\n            btnSignIn = (Button) findViewById(R.id.btnSignIn);\r\n    \r\n    \r\n    \r\n            requestQueue = Volley.newRequestQueue(this);\r\n    \r\n            btnSignIn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    request = new StringRequest(Request.Method.POST, URL, new Response.Listener&lt;String&gt;() {\r\n                        @Override\r\n                        public void onResponse(String response) {\r\n                            try {\r\n                                JSONObject jsonObject = new JSONObject(response);\r\n                                if(jsonObject.names().get(0).equals(&quot;success&quot;)){\r\n                                    Toast.makeText(getApplicationContext(),&quot;SUCCESS &quot;+jsonObject.getString(&quot;success&quot;),Toast.LENGTH_SHORT).show();\r\n                                    startActivity(new Intent(getApplicationContext(),menu.class));\r\n                                }else {\r\n                                    Toast.makeText(getApplicationContext(), &quot;Error&quot; +jsonObject.getString(&quot;error&quot;), Toast.LENGTH_SHORT).show();\r\n                                }\r\n    \r\n                            } catch (JSONException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n    \r\n    \r\n                        }\r\n                    }, new Response.ErrorListener() {\r\n                        @Override\r\n                        public void onErrorResponse(VolleyError error) {\r\n    \r\n                        }\r\n                    }){\r\n                        @Override\r\n                        protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\r\n                            HashMap&lt;String,String&gt; hashMap = new HashMap&lt;String, String&gt;();\r\n                            hashMap.put(&quot;username&quot;,username.getText().toString());\r\n                            hashMap.put(&quot;password&quot;,password.getText().toString());\r\n    \r\n                            return hashMap;\r\n                        }\r\n                    };\r\n    \r\n                    requestQueue.add(request);\r\n                }\r\n            });\r\n        }\r\n    } \r\n\r\n\r\nThis is where my splash screen:\r\n\r\n  \r\n\r\n      public class MainActivity extends AppCompatActivity {\r\n                Handler h = new Handler();\r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_main);\r\n                h.postDelayed(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        Intent i = new Intent(MainActivity.this, starting_page.class);\r\n                        startActivity(i);\r\n                        finish();\r\n                    }\r\n                }, 5000);\r\n            }\r\n        \r\n        \r\n        }\r\n\r\nand this is what they see after splash screen the starting_page.java: [![take a look at this picture][1]][1]\r\n\r\n    public class starting_page extends AppCompatActivity {\r\n    \r\n        TextView textView;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_starting_page);\r\n    \r\n            textView=findViewById(R.id.register);\r\n            textView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent i1 = new Intent (starting_page.this, registration.class);\r\n                    startActivity(i1);\r\n            }\r\n            });\r\n    \r\n        }\r\n        public void signin(View view) {\r\n            Intent intent=new Intent(starting_page.this, sign_in.class);\r\n            startActivity(intent);\r\n        }\r\n    \r\n        public void btnContinue(View view) {\r\n            Intent intent=new Intent(starting_page.this, menu.class);\r\n            startActivity(intent);\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RYwIu.png","title":"How to use shared preferences in android with JSON to keep a user logged in?","body":"<p>I have an app and every time I exit, I was asked to log in again. I want my app to keep a user logged in. I don't where to start. I'm kinda new in using shared preference with JSON in android. If anyone of you who can help me, let me know. Badly need it for school project. Thanks</p>\n<p>Here's my sign_in.java:</p>\n<pre><code>public class sign_in extends AppCompatActivity {\n\n    private EditText  username,password;\n    private Button btnSignIn;\n    private RequestQueue requestQueue;\n    private static final String URL = &quot;http://192.168.1.2:80/OrgSpace/API/user_control.php&quot;;\n    private StringRequest request;\n\n\n\n\n    @Override\n    protected void onCreate(final Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_sign_in);\n\n        username = (EditText) findViewById(R.id.username);\n        password = (EditText) findViewById(R.id.password);\n        btnSignIn = (Button) findViewById(R.id.btnSignIn);\n\n\n\n        requestQueue = Volley.newRequestQueue(this);\n\n        btnSignIn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                request = new StringRequest(Request.Method.POST, URL, new Response.Listener&lt;String&gt;() {\n                    @Override\n                    public void onResponse(String response) {\n                        try {\n                            JSONObject jsonObject = new JSONObject(response);\n                            if(jsonObject.names().get(0).equals(&quot;success&quot;)){\n                                Toast.makeText(getApplicationContext(),&quot;SUCCESS &quot;+jsonObject.getString(&quot;success&quot;),Toast.LENGTH_SHORT).show();\n                                startActivity(new Intent(getApplicationContext(),menu.class));\n                            }else {\n                                Toast.makeText(getApplicationContext(), &quot;Error&quot; +jsonObject.getString(&quot;error&quot;), Toast.LENGTH_SHORT).show();\n                            }\n\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n\n\n                    }\n                }, new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n\n                    }\n                }){\n                    @Override\n                    protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\n                        HashMap&lt;String,String&gt; hashMap = new HashMap&lt;String, String&gt;();\n                        hashMap.put(&quot;username&quot;,username.getText().toString());\n                        hashMap.put(&quot;password&quot;,password.getText().toString());\n\n                        return hashMap;\n                    }\n                };\n\n                requestQueue.add(request);\n            }\n        });\n    }\n} \n</code></pre>\n<p>This is where my splash screen:</p>\n<pre><code>  public class MainActivity extends AppCompatActivity {\n            Handler h = new Handler();\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n            h.postDelayed(new Runnable() {\n                @Override\n                public void run() {\n                    Intent i = new Intent(MainActivity.this, starting_page.class);\n                    startActivity(i);\n                    finish();\n                }\n            }, 5000);\n        }\n    \n    \n    }\n</code></pre>\n<p>and this is what they see after splash screen the starting_page.java: <a href=\"https://i.stack.imgur.com/RYwIu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RYwIu.png\" alt=\"take a look at this picture\" /></a></p>\n<pre><code>public class starting_page extends AppCompatActivity {\n\n    TextView textView;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_starting_page);\n\n        textView=findViewById(R.id.register);\n        textView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent i1 = new Intent (starting_page.this, registration.class);\n                startActivity(i1);\n        }\n        });\n\n    }\n    public void signin(View view) {\n        Intent intent=new Intent(starting_page.this, sign_in.class);\n        startActivity(intent);\n    }\n\n    public void btnContinue(View view) {\n        Intent intent=new Intent(starting_page.this, menu.class);\n        startActivity(intent);\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":["java","arrays","object"],"comments":[{"owner":{"account_id":7363021,"reputation":1618,"user_id":5605687,"accept_rate":100,"display_name":"Onic Team"},"score":0,"creation_date":1646459048,"post_id":71359796,"comment_id":126133650,"body_markdown":"use LinkedList instead of Array. List&lt;Object&gt;. or you can use List&lt;Map&lt;String,Object&gt;&gt;","body":"use LinkedList instead of Array. List&lt;Object&gt;. or you can use List&lt;Map&lt;String,Object&gt;&gt;"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1646460057,"post_id":71359796,"comment_id":126133770,"body_markdown":"An `ArrayList` is simple an implementation of `List` backed by an array.  It&#39;s best used when you need random access to the list.  Persisting objects to a file can be done in many different ways, you &quot;could&quot; use [serialisation](https://www.baeldung.com/java-serialization), but it has limitations.  You could XML or JSON to represent the data and parse it at runtime.  This is probably a more common solution.  You could even have a &quot;master&quot; file which linked out to other files, maybe representing different categories, as an example","body":"An <code>ArrayList</code> is simple an implementation of <code>List</code> backed by an array.  It&#39;s best used when you need random access to the list.  Persisting objects to a file can be done in many different ways, you &quot;could&quot; use <a href=\"https://www.baeldung.com/java-serialization\" rel=\"nofollow noreferrer\">serialisation</a>, but it has limitations.  You could XML or JSON to represent the data and parse it at runtime.  This is probably a more common solution.  You could even have a &quot;master&quot; file which linked out to other files, maybe representing different categories, as an example"}],"owner":{"account_id":12920623,"reputation":1,"user_id":9343242,"display_name":"TerraAkbar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646458505,"creation_date":1646458505,"question_id":71359796,"body_markdown":"I am making a small game in Java which involves guessing what the specified attribute belongs to (For example, what country does the city of Bogota belong to?).\r\n\r\nMy initial idea was to create a custom object which had the name as the first attribute and then the other attributes of the object (like shape, size, color) as the rest of the attributes. Then you would have a parent array containing these objects and to find the specific attribute of the object you would be guessing, it would pick a random number and select that number object from the array.\r\n\r\nI am at the point where I am lost in how I should make this array. If I have 100 objects, it doesn&#39;t seem efficient to me to say, create an ArrayList of custom objects, then define each object individually with their attributes, then do list.add(object) 100 times.\r\n\r\nSurely it does not make sense to create and store every object each time my main loop is run? Would there be a more effective way of putting each object into an array? Would there be a way to store each object into a file and my program retrieves the object and its information from a different file when I need to call it? I&#39;m pretty new to this so maybe it doesn&#39;t make much sense. Any help would be greatly appreciated.","title":"Storing object information in java","body":"<p>I am making a small game in Java which involves guessing what the specified attribute belongs to (For example, what country does the city of Bogota belong to?).</p>\n<p>My initial idea was to create a custom object which had the name as the first attribute and then the other attributes of the object (like shape, size, color) as the rest of the attributes. Then you would have a parent array containing these objects and to find the specific attribute of the object you would be guessing, it would pick a random number and select that number object from the array.</p>\n<p>I am at the point where I am lost in how I should make this array. If I have 100 objects, it doesn't seem efficient to me to say, create an ArrayList of custom objects, then define each object individually with their attributes, then do list.add(object) 100 times.</p>\n<p>Surely it does not make sense to create and store every object each time my main loop is run? Would there be a more effective way of putting each object into an array? Would there be a way to store each object into a file and my program retrieves the object and its information from a different file when I need to call it? I'm pretty new to this so maybe it doesn't make much sense. Any help would be greatly appreciated.</p>\n"},{"tags":["java","oop","generics"],"owner":{"account_id":23519216,"reputation":65,"user_id":17836321,"display_name":"Philipp Crosman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1646457157,"answer_count":0,"score":1,"last_activity_date":1646457164,"creation_date":1646455827,"question_id":71359592,"body_markdown":"I have the following class and its constructor, and I&#39;m not sure why the IDE says it is a problem: &quot;Incompatible types: found &#39;T&#39;/&#39;Node&lt;T&gt;&#39;, required: &#39;T&#39;/&#39;Node&lt;T&gt;&#39;. As soon as I remove the type parameter from the constructor signature, however, the warning goes away.\r\n```\r\nclass Node&lt;T&gt;{\r\n        private T element;\r\n        private Node&lt;T&gt; nextNode;\r\n\r\n        public &lt;T&gt; Node(T element, Node&lt;T&gt; nextNode){\r\n            this.element = element;\r\n            this.nextNode = nextNode;\r\n        }\r\n    } \r\n```\r\nI am wondering what the reason for this is and what is the difference between using a regular constructor (that might accept generic types in its *parameters*) and a generic constructor.\r\n","title":"In what case must the type parameter of a constructor of a generic class be generic?","body":"<p>I have the following class and its constructor, and I'm not sure why the IDE says it is a problem: &quot;Incompatible types: found 'T'/'Node', required: 'T'/'Node'. As soon as I remove the type parameter from the constructor signature, however, the warning goes away.</p>\n<pre><code>class Node&lt;T&gt;{\n        private T element;\n        private Node&lt;T&gt; nextNode;\n\n        public &lt;T&gt; Node(T element, Node&lt;T&gt; nextNode){\n            this.element = element;\n            this.nextNode = nextNode;\n        }\n    } \n</code></pre>\n<p>I am wondering what the reason for this is and what is the difference between using a regular constructor (that might accept generic types in its <em>parameters</em>) and a generic constructor.</p>\n"},{"tags":["java","postgresql","jdbc"],"comments":[{"owner":{"account_id":1422699,"reputation":4139,"user_id":1346996,"display_name":"Ant&#243;nio Ribeiro"},"score":0,"creation_date":1456078798,"post_id":35539893,"comment_id":58768629,"body_markdown":"Have you thought on using a `blob` instead of a `bytea`? BTW, what&#39;s the type of your Java attribute `picture`?","body":"Have you thought on using a <code>blob</code> instead of a <code>bytea</code>? BTW, what&#39;s the type of your Java attribute <code>picture</code>?"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1456079518,"post_id":35539893,"comment_id":58768889,"body_markdown":"Try `&#39;\\X89504e47.....&#39;` instead of `X&#39;89504e47....&#39;`.","body":"Try <code>&#39;\\X89504e47.....&#39;</code> instead of <code>X&#39;89504e47....&#39;</code>."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1456130845,"post_id":35539893,"comment_id":58786731,"body_markdown":"You should be using a `PreparedStatement` in the first place. Then you can use `setBytes()`, without the need to escape the binary data.","body":"You should be using a <code>PreparedStatement</code> in the first place. Then you can use <code>setBytes()</code>, without the need to escape the binary data."}],"answers":[{"tags":[],"owner":{"account_id":7882463,"reputation":192,"user_id":5955905,"display_name":"Nick Burns"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456080659,"creation_date":1456080659,"answer_id":35540419,"question_id":35539893,"body_markdown":"Try this:\n\n    E&#39;\\\\x89504e470d0a1a0a0000000d4948445200000079000000750802000000e55ad965000000097048597300000ec300000ec301c76fa8640000200049444154789c4cbb7794246779ffbbf78f7b7ebe466177677772ce3d9d667aa67ba62776ce39545557ce3974ee9eb049ab95563922104142580830d10203061bb049064cb031d916c160100284505aedee4cdd3f16b8b7ce73de53f5d61f75cee7bcf53ccff7fb561dbb7ce9ad972fbdf5aecb6fbd74e7a3b75f7ef4ce7bde72e9ae375fbaffcd676ebff7e29d658c864812c0e90acec0040d123aad8a284f950906205810672b140d900226b218c713028f0a5c8&#39;","title":"How to Insert binary data with in insert query into Postgresql using jdbc","body":"<p>Try this:</p>\n\n<pre><code>E'\\\\x89504e470d0a1a0a0000000d4948445200000079000000750802000000e55ad965000000097048597300000ec300000ec301c76fa8640000200049444154789c4cbb7794246779ffbbf78f7b7ebe466177677772ce3d9d667aa67ba62776ce39545557ce3974ee9eb049ab95563922104142580830d10203061bb049064cb031d916c160100284505aedee4cdd3f16b8b7ce73de53f5d61f75cee7bcf53ccff7fb561dbb7ce9ad972fbdf5aecb6fbd74e7a3b75f7ef4ce7bde72e9ae375fbaffcd676ebff7e29d658c864812c0e90acec0040d123aad8a284f950906205810672b140d900226b218c713028f0a5c8'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8503092,"reputation":2408,"user_id":6375498,"display_name":"Seva"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646457126,"creation_date":1646457126,"answer_id":71359693,"question_id":35539893,"body_markdown":"Yes, when accessing form java it is recommended to use prepared statement. An example can be found [here][1].\r\n\r\nBut sometimes you need to do it in SQL. In this case should use slightly different notation. Just use \\x at the beginning of a string like follows (no need for any special prefixes, but note that x is lowercase):\r\n```\r\n&#39;\\x89504e470d0a1a0a0000000d4948445200000079000000750802000000e55ad965000000097048597300000ec300000ec301c76fa8640000200049444154789c4cbb7794246779ffbbf78f7b7ebe466177677772ce3d9d667aa67ba62776ce39545557ce3974ee9eb049ab95563922104142580830d10203061bb049064cb031d916c160100284505aedee4cdd3f16b8b7ce73de53f5d61f75cee7bcf53ccff7fb561dbb7ce9ad972fbdf5aecb6fbd74e7a3b75f7ef4ce7bde72e9ae375fbaffcd676ebff7e29d658c864812c0e90acec0040d123aad8a284f950906205810672b140d900226b218c713028f0a5c8&#39;\r\n```\r\n\r\nNote that older versions of PostgreSQL only supported Escape Format which uses octal form to encode arbitrary bytes, not hex. Also note that Escape Format needs ::bytea ending.\r\n\r\nDetails can be found [here][2] (substitute version in the url to whichever you are using). \r\n\r\nP.S. Obviously way too late for the original question, but this is where an online search lands. So, documenting it here.\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/7.4/jdbc-binary-data.html\r\n  [2]: https://www.postgresql.org/docs/14/datatype-binary.html","title":"How to Insert binary data with in insert query into Postgresql using jdbc","body":"<p>Yes, when accessing form java it is recommended to use prepared statement. An example can be found <a href=\"https://www.postgresql.org/docs/7.4/jdbc-binary-data.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>But sometimes you need to do it in SQL. In this case should use slightly different notation. Just use \\x at the beginning of a string like follows (no need for any special prefixes, but note that x is lowercase):</p>\n<pre><code>'\\x89504e470d0a1a0a0000000d4948445200000079000000750802000000e55ad965000000097048597300000ec300000ec301c76fa8640000200049444154789c4cbb7794246779ffbbf78f7b7ebe466177677772ce3d9d667aa67ba62776ce39545557ce3974ee9eb049ab95563922104142580830d10203061bb049064cb031d916c160100284505aedee4cdd3f16b8b7ce73de53f5d61f75cee7bcf53ccff7fb561dbb7ce9ad972fbdf5aecb6fbd74e7a3b75f7ef4ce7bde72e9ae375fbaffcd676ebff7e29d658c864812c0e90acec0040d123aad8a284f950906205810672b140d900226b218c713028f0a5c8'\n</code></pre>\n<p>Note that older versions of PostgreSQL only supported Escape Format which uses octal form to encode arbitrary bytes, not hex. Also note that Escape Format needs ::bytea ending.</p>\n<p>Details can be found <a href=\"https://www.postgresql.org/docs/14/datatype-binary.html\" rel=\"nofollow noreferrer\">here</a> (substitute version in the url to whichever you are using).</p>\n<p>P.S. Obviously way too late for the original question, but this is where an online search lands. So, documenting it here.</p>\n"}],"owner":{"account_id":7834750,"reputation":77,"user_id":5923325,"accept_rate":70,"display_name":"Madhava"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6971,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1646457126,"creation_date":1456078188,"question_id":35539893,"body_markdown":"I have table structure like below\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    CREATE  TABLE PUBLIC.STAFF(\r\n        STAFF_ID INT NOT NULL,\r\n        FIRST_NAME VARCHAR(45) NOT NULL,\r\n        LAST_NAME VARCHAR(45) NOT NULL,\r\n        ADDRESS_ID SMALLINT NOT NULL,\r\n        PICTURE BYTEA,\r\n        EMAIL VARCHAR(50),\r\n        STORE_ID INT NOT NULL,\r\n        ACTIVE BOOLEAN NOT NULL,\r\n        USERNAME VARCHAR(16) NOT NULL,\r\n        PASSWORD VARCHAR(40),\r\n        LAST_UPDATE TIMESTAMP NOT NULL\r\n    ); \r\n\r\nand I have couple of  insert queries in script file or stored in arraylist like \r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    INSERT INTO STAFF(STAFF_ID, FIRST_NAME, LAST_NAME, ADDRESS_ID, PICTURE, EMAIL, STORE_ID, ACTIVE, USERNAME, PASSWORD, LAST_UPDATE)\r\n    VALUES (\r\n        1,\r\n        &#39;Mike&#39;,\r\n        &#39;Hillyer&#39;,\r\n        3,\r\n        X&#39;89504e470d0a1a0a0000000d4948445200000079000000750802000000e55ad965000000097048597300000ec300000ec301c76fa8640000200049444154789c4cbb7794246779ffbbf78f7b7ebe466177677772ce3d9d667aa67ba62776ce39545557ce3974ee9eb049ab95563922104142580830d10203061bb049064cb031d916c160100284505aedee4cdd3f16b8b7ce73de53f5d61f75cee7bcf53ccff7fb561dbb7ce9ad972fbdf5aecb6fbd74e7a3b75f7ef4ce7bde72e9ae375fbaffcd676ebff7e29d658c864812c0e90acec0040d123aad8a284f950906205810672b140d900226b218c713028f0a5c8&#39;,\r\n        &#39;Mike.Hillyer@sakilastaff.com&#39;,\r\n        1,\r\n        TRUE,\r\n        &#39;Mike&#39;,\r\n        &#39;8cb2237d0679ca88db6464eac60da96345513964&#39;,\r\n        TIMESTAMP &#39;2006-02-15 04:57:16.0&#39;\r\n    ); \r\n\r\nWhen I am trying to insert the data into postgres using JDBC program I am getting the following error:\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    ERROR:  column &quot;picture&quot; is of type bytea but expression is of type bit\r\n    LINE 2: (1, &#39;Mike&#39;, &#39;Hillyer&#39;, 3, X&#39;89504e470d0a1a0a0000000d49484452..                                 \r\n    HINT:  You will need to rewrite or cast the expression.\r\n    ********** Error **********\r\n    \r\n    ERROR: column &quot;picture&quot; is of type bytea but expression is of type bit\r\n\r\nHow to solve this issue using `Java`?","title":"How to Insert binary data with in insert query into Postgresql using jdbc","body":"<p>I have table structure like below</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE  TABLE PUBLIC.STAFF(\n    STAFF_ID INT NOT NULL,\n    FIRST_NAME VARCHAR(45) NOT NULL,\n    LAST_NAME VARCHAR(45) NOT NULL,\n    ADDRESS_ID SMALLINT NOT NULL,\n    PICTURE BYTEA,\n    EMAIL VARCHAR(50),\n    STORE_ID INT NOT NULL,\n    ACTIVE BOOLEAN NOT NULL,\n    USERNAME VARCHAR(16) NOT NULL,\n    PASSWORD VARCHAR(40),\n    LAST_UPDATE TIMESTAMP NOT NULL\n); \n</code></pre>\n\n<p>and I have couple of  insert queries in script file or stored in arraylist like </p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO STAFF(STAFF_ID, FIRST_NAME, LAST_NAME, ADDRESS_ID, PICTURE, EMAIL, STORE_ID, ACTIVE, USERNAME, PASSWORD, LAST_UPDATE)\nVALUES (\n    1,\n    'Mike',\n    'Hillyer',\n    3,\n    X'89504e470d0a1a0a0000000d4948445200000079000000750802000000e55ad965000000097048597300000ec300000ec301c76fa8640000200049444154789c4cbb7794246779ffbbf78f7b7ebe466177677772ce3d9d667aa67ba62776ce39545557ce3974ee9eb049ab95563922104142580830d10203061bb049064cb031d916c160100284505aedee4cdd3f16b8b7ce73de53f5d61f75cee7bcf53ccff7fb561dbb7ce9ad972fbdf5aecb6fbd74e7a3b75f7ef4ce7bde72e9ae375fbaffcd676ebff7e29d658c864812c0e90acec0040d123aad8a284f950906205810672b140d900226b218c713028f0a5c8',\n    'Mike.Hillyer@sakilastaff.com',\n    1,\n    TRUE,\n    'Mike',\n    '8cb2237d0679ca88db6464eac60da96345513964',\n    TIMESTAMP '2006-02-15 04:57:16.0'\n); \n</code></pre>\n\n<p>When I am trying to insert the data into postgres using JDBC program I am getting the following error:\n</p>\n\n<pre><code>ERROR:  column \"picture\" is of type bytea but expression is of type bit\nLINE 2: (1, 'Mike', 'Hillyer', 3, X'89504e470d0a1a0a0000000d49484452..                                 \nHINT:  You will need to rewrite or cast the expression.\n********** Error **********\n\nERROR: column \"picture\" is of type bytea but expression is of type bit\n</code></pre>\n\n<p>How to solve this issue using <code>Java</code>?</p>\n"},{"tags":["java","azure","jenkins","azure-devops"],"answers":[{"tags":[],"owner":{"account_id":17891094,"reputation":1,"user_id":12997527,"display_name":"user12997527"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646456574,"creation_date":1646456574,"answer_id":71359652,"question_id":71318654,"body_markdown":"I could able to solve the issue by adding below xml in pom.xml\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;forkCount&gt;3&lt;/forkCount&gt;\r\n        &lt;reuseForks&gt;true&lt;/reuseForks&gt;\r\n        &lt;argLine&gt;-Xmx1024m -XX:MaxPermSize=256m&lt;/argLine&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Build fails in jenkins for java which is in Azure repo","body":"<p>I could able to solve the issue by adding below xml in pom.xml</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;forkCount&gt;3&lt;/forkCount&gt;\n    &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n    &lt;argLine&gt;-Xmx1024m -XX:MaxPermSize=256m&lt;/argLine&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":17891094,"reputation":1,"user_id":12997527,"display_name":"user12997527"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646456574,"creation_date":1646204825,"question_id":71318654,"body_markdown":"I have configured the project in Azure Repo and Jenkins VM but when I start Build of that java project in jenkins, it fails. Please help me to resolve the issue. Jenkins console output below. Integration between Azure Repo and Jenkins was successful but when I try to click on Build Now in Jenkins it fails.  \r\n\r\nJava Project is in Azure Repo,\r\nJenkins is in Azure cloud vm (Ready plugins available by Azure)\r\n\r\n\r\n    Started by user user\r\n    Running as SYSTEM\r\n    Building in workspace /bitnami/jenkins/home/workspace/MyShuttle\r\n    The recommended git tool is: NONE\r\n    using credential 04536115-8271-469c-9196-66fa633da13a\r\n     &gt; git rev-parse --resolve-git-dir /bitnami/jenkins/home/workspace/MyShuttle/.git # timeout=10\r\n    Fetching changes from the remote Git repository\r\n     &gt; git config remote.origin.url https://cloudera2019@dev.azure.com/cloudera2019/MyShuttle/_git/MyShuttle # timeout=10\r\n    Fetching upstream changes from https://cloudera2019@dev.azure.com/cloudera2019/MyShuttle/_git/MyShuttle\r\n     &gt; git --version # timeout=10\r\n     &gt; git --version # &#39;git version 2.35.1&#39;\r\n    using GIT_ASKPASS to set credentials \r\n     &gt; git fetch --tags --force --progress -- https://cloudera2019@dev.azure.com/cloudera2019/MyShuttle/_git/MyShuttle +refs/heads/*:refs/remotes/origin/* # timeout=10\r\n     &gt; git rev-parse refs/remotes/origin/master^{commit} # timeout=10\r\n    Checking out Revision c481534e99083921a6ff50e07bed72b1f6855a93 (refs/remotes/origin/master)\r\n     &gt; git config core.sparsecheckout # timeout=10\r\n     &gt; git checkout -f c481534e99083921a6ff50e07bed72b1f6855a93 # timeout=10\r\n    Commit message: &quot;Added CreateMYSQLDB.sql&quot;\r\n     &gt; git rev-list --no-walk c481534e99083921a6ff50e07bed72b1f6855a93 # timeout=10\r\n    Parsing POMs\r\n    Established TCP socket on 33515\r\n    [MyShuttle] $ java -cp /bitnami/jenkins/home/plugins/maven-plugin/WEB-INF/lib/maven35-agent-1.13.jar:/bitnami/jenkins/home/tools/hudson.tasks.Maven_MavenInstallation/maven/boot/plexus-classworlds-2.6.0.jar:/bitnami/jenkins/home/tools/hudson.tasks.Maven_MavenInstallation/maven/conf/logging jenkins.maven3.agent.Maven35Main /bitnami/jenkins/home/tools/hudson.tasks.Maven_MavenInstallation/maven /bitnami/jenkins/home/war/WEB-INF/lib/remoting-4.11.2.jar /bitnami/jenkins/home/plugins/maven-plugin/WEB-INF/lib/maven35-interceptor-1.13.jar /bitnami/jenkins/home/plugins/maven-plugin/WEB-INF/lib/maven3-interceptor-commons-1.13.jar 33515\r\n    &lt;===[JENKINS REMOTING CAPACITY]===&gt;channel started\r\n    Executing Maven:  -B -f /bitnami/jenkins/home/workspace/MyShuttle/pom.xml package -Dtest=FaresTest,SimpleTest\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] ------------------&lt; com.microsoft.example:myshuttle &gt;-------------------\r\n    [INFO] Building myshuttle 0.0.1\r\n    [INFO] --------------------------------[ war ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- jacoco-maven-plugin:0.7.9:prepare-agent (default) @ myshuttle ---\r\n    [WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2\r\n    [INFO] argLine set to -javaagent:/bitnami/jenkins/home/.m2/repository/org/jacoco/org.jacoco.agent/0.7.9/org.jacoco.agent-0.7.9-runtime.jar=destfile=/bitnami/jenkins/home/workspace/MyShuttle/target/jacoco.exec\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ myshuttle ---\r\n    [WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] skip non existing resourceDirectory /bitnami/jenkins/home/workspace/MyShuttle/src/main/resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ myshuttle ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ myshuttle ---\r\n    [WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] skip non existing resourceDirectory /bitnami/jenkins/home/workspace/MyShuttle/src/test/resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ myshuttle ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO] \r\n    [INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ myshuttle ---\r\n    [INFO] Surefire report directory: /bitnami/jenkins/home/workspace/MyShuttle/target/surefire-reports\r\n    \r\n    -------------------------------------------------------\r\n     T E S T S\r\n    -------------------------------------------------------\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:513)\r\n    \tat java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:525)\r\n    Caused by: java.lang.RuntimeException: Class java/util/UUID could not be instrumented.\r\n    \tat org.jacoco.agent.rt.internal_8ff85ea.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:140)\r\n    \tat org.jacoco.agent.rt.internal_8ff85ea.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:101)\r\n    \tat org.jacoco.agent.rt.internal_8ff85ea.PreMain.createRuntime(PreMain.java:55)\r\n    \tat org.jacoco.agent.rt.internal_8ff85ea.PreMain.premain(PreMain.java:47)\r\n    \t... 6 more\r\n    Caused by: java.lang.NoSuchFieldException: $jacocoAccess\r\n    \tat java.base/java.lang.Class.getField(Class.java:1999)\r\n    \tat org.jacoco.agent.rt.internal_8ff85ea.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:138)\r\n    \t... 9 more\r\n    *** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at ./src/java.instrument/share/native/libinstrument/JPLISAgent.c line: 422\r\n    FATAL ERROR in native method: processing of -javaagent failed, processJavaStart failed\r\n    Aborted\r\n    \r\n    Results :\r\n    \r\n    Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n    \r\n    [JENKINS] Recording test results\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  12.070 s\r\n    [INFO] Finished at: 2022-02-28T09:25:11Z\r\n    [INFO] ------------------------------------------------------------------------\r\n    Waiting for Jenkins to finish collecting data\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test (default-test) on project myshuttle: Execution default-test of goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test failed: The forked VM terminated without saying properly goodbye. VM crash or System.exit called ? -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\r\n    [JENKINS] Archiving /bitnami/jenkins/home/workspace/MyShuttle/pom.xml to com.microsoft.example/myshuttle/0.0.1/myshuttle-0.0.1.pom\r\n    channel stopped\r\n    Archiving artifacts\r\n    Finished: FAILURE\r\n\r\n","title":"Build fails in jenkins for java which is in Azure repo","body":"<p>I have configured the project in Azure Repo and Jenkins VM but when I start Build of that java project in jenkins, it fails. Please help me to resolve the issue. Jenkins console output below. Integration between Azure Repo and Jenkins was successful but when I try to click on Build Now in Jenkins it fails.</p>\n<p>Java Project is in Azure Repo,\nJenkins is in Azure cloud vm (Ready plugins available by Azure)</p>\n<pre><code>Started by user user\nRunning as SYSTEM\nBuilding in workspace /bitnami/jenkins/home/workspace/MyShuttle\nThe recommended git tool is: NONE\nusing credential 04536115-8271-469c-9196-66fa633da13a\n &gt; git rev-parse --resolve-git-dir /bitnami/jenkins/home/workspace/MyShuttle/.git # timeout=10\nFetching changes from the remote Git repository\n &gt; git config remote.origin.url https://cloudera2019@dev.azure.com/cloudera2019/MyShuttle/_git/MyShuttle # timeout=10\nFetching upstream changes from https://cloudera2019@dev.azure.com/cloudera2019/MyShuttle/_git/MyShuttle\n &gt; git --version # timeout=10\n &gt; git --version # 'git version 2.35.1'\nusing GIT_ASKPASS to set credentials \n &gt; git fetch --tags --force --progress -- https://cloudera2019@dev.azure.com/cloudera2019/MyShuttle/_git/MyShuttle +refs/heads/*:refs/remotes/origin/* # timeout=10\n &gt; git rev-parse refs/remotes/origin/master^{commit} # timeout=10\nChecking out Revision c481534e99083921a6ff50e07bed72b1f6855a93 (refs/remotes/origin/master)\n &gt; git config core.sparsecheckout # timeout=10\n &gt; git checkout -f c481534e99083921a6ff50e07bed72b1f6855a93 # timeout=10\nCommit message: &quot;Added CreateMYSQLDB.sql&quot;\n &gt; git rev-list --no-walk c481534e99083921a6ff50e07bed72b1f6855a93 # timeout=10\nParsing POMs\nEstablished TCP socket on 33515\n[MyShuttle] $ java -cp /bitnami/jenkins/home/plugins/maven-plugin/WEB-INF/lib/maven35-agent-1.13.jar:/bitnami/jenkins/home/tools/hudson.tasks.Maven_MavenInstallation/maven/boot/plexus-classworlds-2.6.0.jar:/bitnami/jenkins/home/tools/hudson.tasks.Maven_MavenInstallation/maven/conf/logging jenkins.maven3.agent.Maven35Main /bitnami/jenkins/home/tools/hudson.tasks.Maven_MavenInstallation/maven /bitnami/jenkins/home/war/WEB-INF/lib/remoting-4.11.2.jar /bitnami/jenkins/home/plugins/maven-plugin/WEB-INF/lib/maven35-interceptor-1.13.jar /bitnami/jenkins/home/plugins/maven-plugin/WEB-INF/lib/maven3-interceptor-commons-1.13.jar 33515\n&lt;===[JENKINS REMOTING CAPACITY]===&gt;channel started\nExecuting Maven:  -B -f /bitnami/jenkins/home/workspace/MyShuttle/pom.xml package -Dtest=FaresTest,SimpleTest\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------------&lt; com.microsoft.example:myshuttle &gt;-------------------\n[INFO] Building myshuttle 0.0.1\n[INFO] --------------------------------[ war ]---------------------------------\n[INFO] \n[INFO] --- jacoco-maven-plugin:0.7.9:prepare-agent (default) @ myshuttle ---\n[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2\n[INFO] argLine set to -javaagent:/bitnami/jenkins/home/.m2/repository/org/jacoco/org.jacoco.agent/0.7.9/org.jacoco.agent-0.7.9-runtime.jar=destfile=/bitnami/jenkins/home/workspace/MyShuttle/target/jacoco.exec\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ myshuttle ---\n[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] skip non existing resourceDirectory /bitnami/jenkins/home/workspace/MyShuttle/src/main/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ myshuttle ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ myshuttle ---\n[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] skip non existing resourceDirectory /bitnami/jenkins/home/workspace/MyShuttle/src/test/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ myshuttle ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] \n[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ myshuttle ---\n[INFO] Surefire report directory: /bitnami/jenkins/home/workspace/MyShuttle/target/surefire-reports\n\n-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:513)\n    at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:525)\nCaused by: java.lang.RuntimeException: Class java/util/UUID could not be instrumented.\n    at org.jacoco.agent.rt.internal_8ff85ea.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:140)\n    at org.jacoco.agent.rt.internal_8ff85ea.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:101)\n    at org.jacoco.agent.rt.internal_8ff85ea.PreMain.createRuntime(PreMain.java:55)\n    at org.jacoco.agent.rt.internal_8ff85ea.PreMain.premain(PreMain.java:47)\n    ... 6 more\nCaused by: java.lang.NoSuchFieldException: $jacocoAccess\n    at java.base/java.lang.Class.getField(Class.java:1999)\n    at org.jacoco.agent.rt.internal_8ff85ea.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:138)\n    ... 9 more\n*** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at ./src/java.instrument/share/native/libinstrument/JPLISAgent.c line: 422\nFATAL ERROR in native method: processing of -javaagent failed, processJavaStart failed\nAborted\n\nResults :\n\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0\n\n[JENKINS] Recording test results\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  12.070 s\n[INFO] Finished at: 2022-02-28T09:25:11Z\n[INFO] ------------------------------------------------------------------------\nWaiting for Jenkins to finish collecting data\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test (default-test) on project myshuttle: Execution default-test of goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test failed: The forked VM terminated without saying properly goodbye. VM crash or System.exit called ? -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\n[JENKINS] Archiving /bitnami/jenkins/home/workspace/MyShuttle/pom.xml to com.microsoft.example/myshuttle/0.0.1/myshuttle-0.0.1.pom\nchannel stopped\nArchiving artifacts\nFinished: FAILURE\n</code></pre>\n"},{"tags":["java","android","asynchronous"],"comments":[{"owner":{"account_id":18716710,"reputation":1336,"user_id":14291243,"display_name":"Abhishek Dutt"},"score":0,"creation_date":1646450338,"post_id":71356677,"comment_id":126132582,"body_markdown":"You have answered the question itself. The `ProcessBuilder` command should be run on a background thread, instead of the Main/UI thread. That is call the particular method under asynchronous task.","body":"You have answered the question itself. The <code>ProcessBuilder</code> command should be run on a background thread, instead of the Main/UI thread. That is call the particular method under asynchronous task."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646450360,"post_id":71356677,"comment_id":126132586,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":21775166,"reputation":52,"user_id":16077711,"display_name":"Cypherpunk Samurai"},"score":0,"creation_date":1646455385,"post_id":71356677,"comment_id":126133155,"body_markdown":"@AbhishekDutt Yes, but I cannot figure out how to do this with threads. I&#39;m new to android development.","body":"@AbhishekDutt Yes, but I cannot figure out how to do this with threads. I&#39;m new to android development."}],"owner":{"account_id":21775166,"reputation":52,"user_id":16077711,"display_name":"Cypherpunk Samurai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646455695,"creation_date":1646424059,"question_id":71356677,"body_markdown":"**Hi**,\r\nI&#39;m new to android development and trying to build an app that will run a shell command using `ProcessBuilder`.\r\n\r\nWhenever I run the command it freezes the main UI thread, and the output comes after the process has exited.\r\n\r\nHow can I make the shell command run in a seperate thread and update textview text?\r\n\r\nHere&#39;s my code that i want to run in a thread:\r\n\r\n```java\r\nprocess = new ProcessBuilder()\r\n           .command(&quot;busybox&quot;, &quot;ls&quot;, &quot;/sdcard/&quot;)\r\n           .redirectErrorStream(true)\r\n           .start();\r\n\r\n```\r\n","title":"Android update textview text from ProcessBuilder thread outputstream","body":"<p><strong>Hi</strong>,\nI'm new to android development and trying to build an app that will run a shell command using <code>ProcessBuilder</code>.</p>\n<p>Whenever I run the command it freezes the main UI thread, and the output comes after the process has exited.</p>\n<p>How can I make the shell command run in a seperate thread and update textview text?</p>\n<p>Here's my code that i want to run in a thread:</p>\n<pre class=\"lang-java prettyprint-override\"><code>process = new ProcessBuilder()\n           .command(&quot;busybox&quot;, &quot;ls&quot;, &quot;/sdcard/&quot;)\n           .redirectErrorStream(true)\n           .start();\n\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646455055,"creation_date":1646455055,"answer_id":71359530,"question_id":71359230,"body_markdown":"While the Firebase Realtime Database can order its results, the values to order on must be at a fixed path under each direct child node. \r\n\r\nIn your case the value is under a `$date/$time` of each child node, so the database can&#39;t order on those values. You will have to load the into your application code first, and sort them there.","title":"Firebase: get children ordered by Date and Hour keys","body":"<p>While the Firebase Realtime Database can order its results, the values to order on must be at a fixed path under each direct child node.</p>\n<p>In your case the value is under a <code>$date/$time</code> of each child node, so the database can't order on those values. You will have to load the into your application code first, and sort them there.</p>\n"}],"owner":{"account_id":17800342,"reputation":35,"user_id":12927269,"display_name":"G_S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71359530,"answer_count":1,"score":0,"last_activity_date":1646455055,"creation_date":1646450707,"question_id":71359230,"body_markdown":"I have stored in my Firestore DB data about Teachings and their relative Lessons, with Date and Hour.\r\nI would like to retrieve this data ordered by Date and Hour (the ones that have most recent Date and Hour should be retrieved first), but since these two fields are not values, but keys, I don&#39;t know how to do it.\r\nI then add these data into an ArrayList of lessons that I use to show everything into a RecyclerView.\r\nThis is my DB structure:\r\n[![DB structure][1]][1]\r\n\r\nSo the order of the output I would like to get is:\r\n1. History, 14:00\r\n2. History, 9:00\r\n3. Math, 12:00\r\n4. Math, 9:00\r\n\r\nWith the code below I&#39;ve just retrieved every lesson in alphabetical order.\r\n\r\n```\r\nFirebaseAuth mAuth;\r\nFirebaseUser user;\r\nmAuth = FirebaseAuth.getInstance();\r\nuser= mAuth.getCurrentUser();\r\n\r\nDatabaseReference mDatabase = FirebaseDatabase.getInstance().getReference(&quot;Teachings&quot;).child(user.getUid());\r\n\r\nmDatabase.addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n\r\n        if(dataSnapshot.exists()){\r\n\r\n                for(DataSnapshot dataCourse: dataSnapshot.getChildren()){\r\n                    String course= dataCourse.getKey();\r\n\r\n                    for(DataSnapshot dataDate: dataCourse.getChildren()){\r\n                        String date= dataDate.getKey();\r\n\r\n                        for(DataSnapshot dataHour: dataDate.getChildren()){\r\n                            String hour= dataHour.getKey();\r\n                            lessonsArrayList.add(new Lesson(course, date, hour));\r\n                        }\r\n                    }\r\n                }\r\n         }\r\n\r\n    }\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n        \r\n    }\r\n});\r\n```\r\nThe class Lesson:\r\n```\r\npublic class Lesson {\r\n    public String courseName, date, hour;\r\n\r\n    public Lezione(String courseName, String date, String hour){\r\n        this.courseName= courseName;\r\n        this.date= date;\r\n        this.hour=hour;\r\n    }\r\n}\r\n```\r\nCan someone help me?\r\n\r\n  [1]: https://i.stack.imgur.com/sSbBj.png","title":"Firebase: get children ordered by Date and Hour keys","body":"<p>I have stored in my Firestore DB data about Teachings and their relative Lessons, with Date and Hour.\nI would like to retrieve this data ordered by Date and Hour (the ones that have most recent Date and Hour should be retrieved first), but since these two fields are not values, but keys, I don't know how to do it.\nI then add these data into an ArrayList of lessons that I use to show everything into a RecyclerView.\nThis is my DB structure:\n<a href=\"https://i.stack.imgur.com/sSbBj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sSbBj.png\" alt=\"DB structure\" /></a></p>\n<p>So the order of the output I would like to get is:</p>\n<ol>\n<li>History, 14:00</li>\n<li>History, 9:00</li>\n<li>Math, 12:00</li>\n<li>Math, 9:00</li>\n</ol>\n<p>With the code below I've just retrieved every lesson in alphabetical order.</p>\n<pre><code>FirebaseAuth mAuth;\nFirebaseUser user;\nmAuth = FirebaseAuth.getInstance();\nuser= mAuth.getCurrentUser();\n\nDatabaseReference mDatabase = FirebaseDatabase.getInstance().getReference(&quot;Teachings&quot;).child(user.getUid());\n\nmDatabase.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n        if(dataSnapshot.exists()){\n\n                for(DataSnapshot dataCourse: dataSnapshot.getChildren()){\n                    String course= dataCourse.getKey();\n\n                    for(DataSnapshot dataDate: dataCourse.getChildren()){\n                        String date= dataDate.getKey();\n\n                        for(DataSnapshot dataHour: dataDate.getChildren()){\n                            String hour= dataHour.getKey();\n                            lessonsArrayList.add(new Lesson(course, date, hour));\n                        }\n                    }\n                }\n         }\n\n    }\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n        \n    }\n});\n</code></pre>\n<p>The class Lesson:</p>\n<pre><code>public class Lesson {\n    public String courseName, date, hour;\n\n    public Lezione(String courseName, String date, String hour){\n        this.courseName= courseName;\n        this.date= date;\n        this.hour=hour;\n    }\n}\n</code></pre>\n<p>Can someone help me?</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":9868618,"reputation":1076,"user_id":7309154,"accept_rate":67,"display_name":"Brandon Dixon"},"score":0,"creation_date":1646438241,"post_id":71358342,"comment_id":126131120,"body_markdown":"I&#39;ve edited the question for more clarity: I want to remove an entire portion of the tree, so in other words, remove all *but* k elements. Also, I meant *log n + k*, not multiplied, that was a typo.","body":"I&#39;ve edited the question for more clarity: I want to remove an entire portion of the tree, so in other words, remove all <i>but</i> k elements. Also, I meant <i>log n + k</i>, not multiplied, that was a typo."},{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":0,"creation_date":1646438365,"post_id":71358342,"comment_id":126131136,"body_markdown":"Okay, so the submaps are always rooted at a single element; they won&#39;t span multiple roots? Meaning you can&#39;t remove arbitrary spans of consecutive elements, correct?","body":"Okay, so the submaps are always rooted at a single element; they won&#39;t span multiple roots? Meaning you can&#39;t remove arbitrary spans of consecutive elements, correct?"},{"owner":{"account_id":9868618,"reputation":1076,"user_id":7309154,"accept_rate":67,"display_name":"Brandon Dixon"},"score":0,"creation_date":1646438477,"post_id":71358342,"comment_id":126131154,"body_markdown":"If I understand you correctly, then the answer is yes. This would correspond I believe to tail map in that case actually, but I believe the complexity is still the same. I&#39;ll try it out in my code though.","body":"If I understand you correctly, then the answer is yes. This would correspond I believe to tail map in that case actually, but I believe the complexity is still the same. I&#39;ll try it out in my code though."},{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":0,"creation_date":1646438836,"post_id":71358342,"comment_id":126131212,"body_markdown":"Let&#39;s say you were storing the numbers 1 through 7 in a balanced binary tree with 4 at the top, 2 and 6 at the next level, and 1/3/5/7 at the last level. Removing 1-3 would mean removing the 2 node. Removing 5-7 would mean removing 6. But you wouldn&#39;t attempt to remove, say, 2-4 or 3-6, since those number ranges span multiple subtrees. Is this correct?...","body":"Let&#39;s say you were storing the numbers 1 through 7 in a balanced binary tree with 4 at the top, 2 and 6 at the next level, and 1/3/5/7 at the last level. Removing 1-3 would mean removing the 2 node. Removing 5-7 would mean removing 6. But you wouldn&#39;t attempt to remove, say, 2-4 or 3-6, since those number ranges span multiple subtrees. Is this correct?..."},{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":0,"creation_date":1646438934,"post_id":71358342,"comment_id":126131230,"body_markdown":"...If so, it sounds like you&#39;re leaning heavily on the &quot;list&quot; having a tree representation, and aren&#39;t looking for an array-based data structure. Is that also correct?","body":"...If so, it sounds like you&#39;re leaning heavily on the &quot;list&quot; having a tree representation, and aren&#39;t looking for an array-based data structure. Is that also correct?"},{"owner":{"account_id":9868618,"reputation":1076,"user_id":7309154,"accept_rate":67,"display_name":"Brandon Dixon"},"score":0,"creation_date":1646439025,"post_id":71358342,"comment_id":126131246,"body_markdown":"I see your point now, in that case, they indeed could span multiple elements, which means I&#39;m probably not using the best data structure for what I&#39;m looking for. I&#39;m not leaning particularly on using a tree implementation, it&#39;s just that Java doesn&#39;t seem to have a default sorted list implementation other than sets (though Java&#39;s not my main language, so I may be mistaken).","body":"I see your point now, in that case, they indeed could span multiple elements, which means I&#39;m probably not using the best data structure for what I&#39;m looking for. I&#39;m not leaning particularly on using a tree implementation, it&#39;s just that Java doesn&#39;t seem to have a default sorted list implementation other than sets (though Java&#39;s not my main language, so I may be mistaken)."}],"answers":[{"tags":[],"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646454273,"creation_date":1646439611,"answer_id":71358505,"question_id":71358342,"body_markdown":"Google&#39;s [Guava](https://github.com/google/guava) library has an [extensive suite of collection classes](https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/package-summary.html) that complement the ones in the standard library nicely.\r\n\r\n&gt; Guava is a set of core Java libraries from Google that includes new collection types (such as multimap and multiset), immutable collections, a graph library, and utilities for concurrency, I/O, hashing, caching, primitives, strings, and more! It is widely used on most Java projects within Google, and widely used by many other companies as well.\r\n\r\nYou might like their [`SortedMultiset`](https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/SortedMultiset.html) interface for collections that maintain elements in a sorted order and allow for duplicates. Implementations include:\r\n\r\n* [`ImmutableSortedMultiset`](https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/ImmutableSortedMultiset.html)\r\n* [`TreeMultiset`](https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/TreeMultiset.html)","title":"Remove submap of TreeMap in logarithmic time","body":"<p>Google's <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Guava</a> library has an <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/package-summary.html\" rel=\"nofollow noreferrer\">extensive suite of collection classes</a> that complement the ones in the standard library nicely.</p>\n<blockquote>\n<p>Guava is a set of core Java libraries from Google that includes new collection types (such as multimap and multiset), immutable collections, a graph library, and utilities for concurrency, I/O, hashing, caching, primitives, strings, and more! It is widely used on most Java projects within Google, and widely used by many other companies as well.</p>\n</blockquote>\n<p>You might like their <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/SortedMultiset.html\" rel=\"nofollow noreferrer\"><code>SortedMultiset</code></a> interface for collections that maintain elements in a sorted order and allow for duplicates. Implementations include:</p>\n<ul>\n<li><a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/ImmutableSortedMultiset.html\" rel=\"nofollow noreferrer\"><code>ImmutableSortedMultiset</code></a></li>\n<li><a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/TreeMultiset.html\" rel=\"nofollow noreferrer\"><code>TreeMultiset</code></a></li>\n</ul>\n"}],"owner":{"account_id":9868618,"reputation":1076,"user_id":7309154,"accept_rate":67,"display_name":"Brandon Dixon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71358505,"answer_count":1,"score":2,"last_activity_date":1646454273,"creation_date":1646437622,"question_id":71358342,"body_markdown":"I am using a `TreeMap&lt;Integer, Integer&gt;` to represent a sorted list which can have duplicate elements. The key corresponds to an arbitrary value in the list and the mapped value corresponds to the number of occurrences. I am using a sorted list concept because I need to efficiently operate over sublists (log *n* time) and I am using a `TreeMap` because Java doesn&#39;t have any default sorted list implementation.\r\n\r\nHowever, I noticed that the performance of my algorithm was slower than expected, so after doing some research, it appears that the `subMap` method takes *O*(log *n* + *k*) time, where *n* is the size of the map and *k* is the number of elements within the sub map. For large values of *k* relative to *n*, this approaches linear time. \r\n\r\nHow can I operate over submaps (sublists) in sublinear time; or alternatively, is there a better way I can represent a sorted list in Java?\r\n\r\nThe motivation behind this question: imagining the tree map as a binary search tree, I&#39;d like to find the first node of some subtree, then use that as the entire tree itself, effectively removing the rest of the tree. Ideally this would only take *O(log n)* time.","title":"Remove submap of TreeMap in logarithmic time","body":"<p>I am using a <code>TreeMap&lt;Integer, Integer&gt;</code> to represent a sorted list which can have duplicate elements. The key corresponds to an arbitrary value in the list and the mapped value corresponds to the number of occurrences. I am using a sorted list concept because I need to efficiently operate over sublists (log <em>n</em> time) and I am using a <code>TreeMap</code> because Java doesn't have any default sorted list implementation.</p>\n<p>However, I noticed that the performance of my algorithm was slower than expected, so after doing some research, it appears that the <code>subMap</code> method takes <em>O</em>(log <em>n</em> + <em>k</em>) time, where <em>n</em> is the size of the map and <em>k</em> is the number of elements within the sub map. For large values of <em>k</em> relative to <em>n</em>, this approaches linear time.</p>\n<p>How can I operate over submaps (sublists) in sublinear time; or alternatively, is there a better way I can represent a sorted list in Java?</p>\n<p>The motivation behind this question: imagining the tree map as a binary search tree, I'd like to find the first node of some subtree, then use that as the entire tree itself, effectively removing the rest of the tree. Ideally this would only take <em>O(log n)</em> time.</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1646460258,"post_id":71359390,"comment_id":126133793,"body_markdown":"Kotlin interfaces are only treated as functional interfaces if you put the `fun` keyword in front of them.","body":"Kotlin interfaces are only treated as functional interfaces if you put the <code>fun</code> keyword in front of them."},{"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"score":0,"creation_date":1646473383,"post_id":71359390,"comment_id":126135746,"body_markdown":"@Tenfour04 You&#39;re right! Add an answer I can pick you","body":"@Tenfour04 You&#39;re right! Add an answer I can pick you"}],"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646452994,"creation_date":1646452994,"question_id":71359390,"body_markdown":"Kotlin lambda is valid for JDK built-in functional interface:\r\n\r\n    // These are OK:\r\n    fun &lt;T&gt; ((T) -&gt; Boolean).asJavaFun(): Predicate&lt;T&gt; = Predicate { this(it) }\r\n    fun &lt;T, U&gt; ((T, U) -&gt; Boolean).asJavaFun(): BiPredicate&lt;T, U&gt; = BiPredicate { it0, it1 -&gt; this(it0, it1) }\r\n\r\nBut it is invalid for custom functional interface:\r\n\r\n    @FunctionalInterface\r\n    interface IndexedPredicate&lt;T&gt; {\r\n        fun test(index: Int, t: T): Boolean\r\n    }\r\n    // This is wrong: interface IndexedPredicate does not have constructors\r\n    // And it recommends: convert to anonymous object\r\n    fun &lt;T&gt; ((Int, T) -&gt; Boolean).asJavaFun(): IndexedPredicate&lt;T&gt; = IndexedPredicate { i, it -&gt; this(i, it) }\r\n\r\nWhy and how to solve?","title":"kotlin lambda is invalid for custom java functional interface","body":"<p>Kotlin lambda is valid for JDK built-in functional interface:</p>\n<pre><code>// These are OK:\nfun &lt;T&gt; ((T) -&gt; Boolean).asJavaFun(): Predicate&lt;T&gt; = Predicate { this(it) }\nfun &lt;T, U&gt; ((T, U) -&gt; Boolean).asJavaFun(): BiPredicate&lt;T, U&gt; = BiPredicate { it0, it1 -&gt; this(it0, it1) }\n</code></pre>\n<p>But it is invalid for custom functional interface:</p>\n<pre><code>@FunctionalInterface\ninterface IndexedPredicate&lt;T&gt; {\n    fun test(index: Int, t: T): Boolean\n}\n// This is wrong: interface IndexedPredicate does not have constructors\n// And it recommends: convert to anonymous object\nfun &lt;T&gt; ((Int, T) -&gt; Boolean).asJavaFun(): IndexedPredicate&lt;T&gt; = IndexedPredicate { i, it -&gt; this(i, it) }\n</code></pre>\n<p>Why and how to solve?</p>\n"},{"tags":["java","eclipse","jpa"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1646451987,"post_id":71358537,"comment_id":126132752,"body_markdown":"How do you make one?  1) Read https://thorben-janssen.com/jpa-persistence-xml/.  2) Create a new `persistence.xml` file in the appropriate place in your Eclipse project and start typing ...","body":"How do you make one?  1) Read <a href=\"https://thorben-janssen.com/jpa-persistence-xml/\" rel=\"nofollow noreferrer\">thorben-janssen.com/jpa-persistence-xml</a>.  2) Create a new <code>persistence.xml</code> file in the appropriate place in your Eclipse project and start typing ..."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1646452560,"post_id":71358537,"comment_id":126132817,"body_markdown":"See also https://www.eclipse.org/webtools/dali/docs/3.2/user_guide/task_manage_persistence.htm ... which says that the file should go into the project&#39;s META-INF directory, and gives a simple example.  (Ignore the screenshots of the custom editor. They won&#39;t work unless you have the relevant plugins in Eclipse.  Just focus on what is says about the file itself.)","body":"See also <a href=\"https://www.eclipse.org/webtools/dali/docs/3.2/user_guide/task_manage_persistence.htm\" rel=\"nofollow noreferrer\">eclipse.org/webtools/dali/docs/3.2/user_guide/&hellip;</a> ... which says that the file should go into the project&#39;s META-INF directory, and gives a simple example.  (Ignore the screenshots of the custom editor. They won&#39;t work unless you have the relevant plugins in Eclipse.  Just focus on what is says about the file itself.)"},{"owner":{"account_id":24124091,"reputation":11,"user_id":18092724,"display_name":"callbee"},"score":0,"creation_date":1646453616,"post_id":71358537,"comment_id":126132948,"body_markdown":"When I right click the META-INF file and try to create a new persistence.xml file it only gives me the design and source tabs, not anything about the general tab, schema tab, etc. Is there any other steps I have to take in order for these tabs to appear?","body":"When I right click the META-INF file and try to create a new persistence.xml file it only gives me the design and source tabs, not anything about the general tab, schema tab, etc. Is there any other steps I have to take in order for these tabs to appear?"}],"owner":{"account_id":24124091,"reputation":11,"user_id":18092724,"display_name":"callbee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646452374,"creation_date":1646440042,"question_id":71358537,"body_markdown":"I am doing a project that I brought over from a GitHub repo, my project says that I don&#39;t have a persistence.xml file and I need to use this file for JPA. I am unsure of how to make a new persistence.xml file in my workspace. My requirements are that I have to use Java 16 and JPA 2.1. I have tried making the persistence.xml file through Properties&gt;Project Facets&gt; and clicking &quot;JPA 2.1&quot; and &quot;Java 16&quot;. \r\n\r\nHere is a [screenshot][1]\r\n of the Problem tab in `Eclipse`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1qqwT.png","title":"How do I make a persistence.xml file?","body":"<p>I am doing a project that I brought over from a GitHub repo, my project says that I don't have a persistence.xml file and I need to use this file for JPA. I am unsure of how to make a new persistence.xml file in my workspace. My requirements are that I have to use Java 16 and JPA 2.1. I have tried making the persistence.xml file through Properties&gt;Project Facets&gt; and clicking &quot;JPA 2.1&quot; and &quot;Java 16&quot;.</p>\n<p>Here is a <a href=\"https://i.stack.imgur.com/1qqwT.png\" rel=\"nofollow noreferrer\">screenshot</a>\nof the Problem tab in <code>Eclipse</code>.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1646380681,"post_id":71344406,"comment_id":126113333,"body_markdown":"Could you please elaborate more on what you&#39;re trying to achieve? Usually, classes annotated with `@Configuration` are considered spring configuration classes. They&#39;re processed by spring itself and it &quot;recognizes&quot; only those annotations that it supports.... If you need to define a functionality - you can place it on the bean itself (`Test` in this case) then you can define a bean post processor to read the annotation and alter the default behaviour...","body":"Could you please elaborate more on what you&#39;re trying to achieve? Usually, classes annotated with <code>@Configuration</code> are considered spring configuration classes. They&#39;re processed by spring itself and it &quot;recognizes&quot; only those annotations that it supports.... If you need to define a functionality - you can place it on the bean itself (<code>Test</code> in this case) then you can define a bean post processor to read the annotation and alter the default behaviour..."}],"answers":[{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646451302,"creation_date":1646347183,"answer_id":71344645,"question_id":71344406,"body_markdown":"You could, in theory, inspect the current Thread stack to determine the name of your caller, then look up the class definition, locate the method, and read its annotations:\r\n\r\n\t\tvar t = Thread.currentThread().getStackTrace()[2];\r\n\t\tvar className = t.getClassName();\r\n\t\tClass&lt;?&gt; clazz;\r\n\t\ttry {\r\n\t\t\tclazz = Test.class.getClassLoader().loadClass(className);\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\tthrow new RuntimeException(&quot;Caller was loaded by a different ClassLoader :-(&quot;);\r\n\t\t}\r\n\t\tfor (var method : clazz.getDeclaredMethods()) {\r\n\t\t\tif (method.getName().equals(t.getMethodName())) {\r\n\t\t\t\treturn method.getAnnotation(YourAnnotation.class).value();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthrow new RuntimeException(&quot;Method not found - I might have found the wrong class definition&quot;);\r\n\r\nHowever:\r\n\r\n* inspecting the stack is rather slow, in particular if the stack is deep\r\n* inspecting the stack is brittle with respect to refactorings (people don&#39;t expect that factoring out code into a utility method will change behaviour)\r\n* the compiler can not check that the caller provides the required annotation\r\n* this only works reliably if all code is loaded by the same `ClassLoader`\r\n* this can not distinguish overloaded methods\r\n\r\nThis is therefore a rather brittle hack. Are you sure that there is no better option? For instance, requiring the caller to pass the value as a method parameter would have none of these shortcomings ...","title":"Get the annotation on method from the instance that the method created","body":"<p>You could, in theory, inspect the current Thread stack to determine the name of your caller, then look up the class definition, locate the method, and read its annotations:</p>\n<pre><code>    var t = Thread.currentThread().getStackTrace()[2];\n    var className = t.getClassName();\n    Class&lt;?&gt; clazz;\n    try {\n        clazz = Test.class.getClassLoader().loadClass(className);\n    } catch (ClassNotFoundException e) {\n        throw new RuntimeException(&quot;Caller was loaded by a different ClassLoader :-(&quot;);\n    }\n    for (var method : clazz.getDeclaredMethods()) {\n        if (method.getName().equals(t.getMethodName())) {\n            return method.getAnnotation(YourAnnotation.class).value();\n        }\n    }\n    throw new RuntimeException(&quot;Method not found - I might have found the wrong class definition&quot;);\n</code></pre>\n<p>However:</p>\n<ul>\n<li>inspecting the stack is rather slow, in particular if the stack is deep</li>\n<li>inspecting the stack is brittle with respect to refactorings (people don't expect that factoring out code into a utility method will change behaviour)</li>\n<li>the compiler can not check that the caller provides the required annotation</li>\n<li>this only works reliably if all code is loaded by the same <code>ClassLoader</code></li>\n<li>this can not distinguish overloaded methods</li>\n</ul>\n<p>This is therefore a rather brittle hack. Are you sure that there is no better option? For instance, requiring the caller to pass the value as a method parameter would have none of these shortcomings ...</p>\n"},{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646390301,"creation_date":1646353548,"answer_id":71345297,"question_id":71344406,"body_markdown":"You can use `ConfigurableListableBeanFactory` to get metadata about any Bean by name. Use [BeanNameAware][1] interface to retrieve Bean name.\r\n\r\n```java\r\n@Target({ElementType.FIELD, ElementType.METHOD, ElementType.PARAMETER, ElementType.TYPE, ElementType.ANNOTATION_TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Qualifier\r\npublic @interface CustomAnnotation {\r\n\r\n}\r\n\r\n@org.springframework.context.annotation.Configuration\r\npublic static class ContextConfiguration {\r\n    @Bean(name = &quot;TEST&quot;)\r\n    @CustomAnnotation\r\n    public TestObject getTest() {\r\n        return new TestObject();\r\n    }\r\n}\r\n\r\npublic class TestObject implements BeanNameAware {\r\n    private String beanName;\r\n\r\n    @Autowired\r\n    ConfigurableListableBeanFactory beanFactory;\r\n\r\n    @Override\r\n    public void setBeanName(String name) {\r\n        this.beanName = name;\r\n    }\r\n\r\n    public void test() {\r\n        CustomAnnotation customAnnotation = (CustomAnnotation) getBeanAnnotation(beanName, CustomAnnotation.class);\r\n    }\r\n\r\n    private Annotation getBeanAnnotation(String beanName, java.lang.Class&lt;? extends Annotation&gt; clazz) {\r\n        Annotation annotation = null;\r\n        BeanDefinition beanDefinition = beanFactory.getBeanDefinition(beanName);\r\n\r\n        if( beanDefinition != null &amp;&amp; beanDefinition.getSource() instanceof StandardMethodMetadata) {\r\n            StandardMethodMetadata metadata = (StandardMethodMetadata) beanDefinition.getSource();\r\n            annotation = Arrays.stream(metadata.getIntrospectedMethod().getDeclaredAnnotations()).filter(annot -&gt; annot.annotationType().equals(clazz)).findFirst().orElse(null);\r\n        }\r\n\r\n        return annotation;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/BeanNameAware.html","title":"Get the annotation on method from the instance that the method created","body":"<p>You can use <code>ConfigurableListableBeanFactory</code> to get metadata about any Bean by name. Use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/BeanNameAware.html\" rel=\"nofollow noreferrer\">BeanNameAware</a> interface to retrieve Bean name.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ElementType.FIELD, ElementType.METHOD, ElementType.PARAMETER, ElementType.TYPE, ElementType.ANNOTATION_TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Qualifier\npublic @interface CustomAnnotation {\n\n}\n\n@org.springframework.context.annotation.Configuration\npublic static class ContextConfiguration {\n    @Bean(name = &quot;TEST&quot;)\n    @CustomAnnotation\n    public TestObject getTest() {\n        return new TestObject();\n    }\n}\n\npublic class TestObject implements BeanNameAware {\n    private String beanName;\n\n    @Autowired\n    ConfigurableListableBeanFactory beanFactory;\n\n    @Override\n    public void setBeanName(String name) {\n        this.beanName = name;\n    }\n\n    public void test() {\n        CustomAnnotation customAnnotation = (CustomAnnotation) getBeanAnnotation(beanName, CustomAnnotation.class);\n    }\n\n    private Annotation getBeanAnnotation(String beanName, java.lang.Class&lt;? extends Annotation&gt; clazz) {\n        Annotation annotation = null;\n        BeanDefinition beanDefinition = beanFactory.getBeanDefinition(beanName);\n\n        if( beanDefinition != null &amp;&amp; beanDefinition.getSource() instanceof StandardMethodMetadata) {\n            StandardMethodMetadata metadata = (StandardMethodMetadata) beanDefinition.getSource();\n            annotation = Arrays.stream(metadata.getIntrospectedMethod().getDeclaredAnnotations()).filter(annot -&gt; annot.annotationType().equals(clazz)).findFirst().orElse(null);\n        }\n\n        return annotation;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4844268,"reputation":1484,"user_id":3908406,"display_name":"user3908406"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1646451302,"creation_date":1646345374,"question_id":71344406,"body_markdown":"Here is an example\r\n```\r\n@Target({ElementType.FIELD, ElementType.METHOD, ElementType.PARAMETER, ElementType.TYPE, ElementType.ANNOTATION_TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Qualifier\r\npublic @interface Annotation {\r\n   \r\n}\r\n\r\n@Configuration\r\npublic class Configuration {\r\n  \r\n   @Bean\r\n   @Annotation\r\n   public Test getTest() {\r\n       return new Test();\r\n   }\r\n}\r\n\r\npublic class Test() {\r\n   public void test() {\r\n       // how can get the annotation `@Annotation` here?\r\n   }\r\n}\r\n```\r\n\r\nHere is what I have tried `getClass().getAnnotations()` but this returns empty array. I can see why since `getClass()` return Test.class which does not have the annotation. How can I get the method that creates this instance and then get the annotation?\r\n","title":"Get the annotation on method from the instance that the method created","body":"<p>Here is an example</p>\n<pre><code>@Target({ElementType.FIELD, ElementType.METHOD, ElementType.PARAMETER, ElementType.TYPE, ElementType.ANNOTATION_TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Qualifier\npublic @interface Annotation {\n   \n}\n\n@Configuration\npublic class Configuration {\n  \n   @Bean\n   @Annotation\n   public Test getTest() {\n       return new Test();\n   }\n}\n\npublic class Test() {\n   public void test() {\n       // how can get the annotation `@Annotation` here?\n   }\n}\n</code></pre>\n<p>Here is what I have tried <code>getClass().getAnnotations()</code> but this returns empty array. I can see why since <code>getClass()</code> return Test.class which does not have the annotation. How can I get the method that creates this instance and then get the annotation?</p>\n"},{"tags":["java","eclipse","selenium","selenium-webdriver","testng"],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1625354320,"creation_date":1625354320,"answer_id":68240592,"question_id":68238301,"body_markdown":"I encounterd this bug once. How to fix it, change\r\n\r\n    PageFactory.initElements(driver, LoginPageCRM.class );\r\n\r\nto\r\n\r\n    PageFactory.initElements(driver, this);\r\n\r\n","title":"java.lang.StackOverflowError when running class as TestNG Test in Selenium","body":"<p>I encounterd this bug once. How to fix it, change</p>\n<pre><code>PageFactory.initElements(driver, LoginPageCRM.class );\n</code></pre>\n<p>to</p>\n<pre><code>PageFactory.initElements(driver, this);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625395544,"creation_date":1625395117,"answer_id":68243864,"question_id":68238301,"body_markdown":"`PageFactory.initElements(driver, LoginPageCRM.class)` is causing the `StackOverflowError` because `initElements` tries to create a object of `LoginPageCRM` by invoking it&#39;s constructor. And as the constructor of `LoginPageCRM` contains `PageFactory.initElements(driver, LoginPageCRM.class)`, this process is repeated infinite times leading to `StackOverflowError`. This is the root cause of the issue.\r\n\r\nSince I am not much familiar with selenium, I assume @**lucasnguyen17**&#39;s answer explains how to fix it. But I would suggest a few changes before passing `this` to that method within a constructor.\r\n\r\n---\r\n**NOTE: The below mentioned issue might NOT cause an issue in your case as there are no other operations with `this` inside the constructor. But the below can be followed as a general guideline/best-practice**\r\n\r\n---\r\n\r\nAn object is considered not properly constructed, if the `this` reference &quot;escapes&quot; during construction. i.e the object is said to be properly constructed only if the constructor is fully executed. If you fix your code as below, you are passing a **not properly constructed object** to the `initElements` method. This could be thought as analogous to renting a house to someone before the construction is even completed. Hence this is a wrong practice and should **NOT** be done as it could lead to unexpected results as you may not know what the method you are calling, is going to do with the object you pass.\r\n\r\n```java\r\npublic LoginPageCRM()\r\n{\r\n    // The object is not fully constructed at this point\r\n    PageFactory.initElements(driver, this);\r\n}\r\n```\r\n\r\nSo I would suggest the below refactor:\r\n\r\nIn `LoginPageCRM` just create a default constructor without any code within it. (Java would actually create one, if there are no other constructors in the class). Then create a method that would do the `PageFactory.initElements(driver, this)`:\r\n\r\n```java\r\npublic LoginPageCRM()\r\n{\r\n}\r\n\r\npublic void init() {\r\n    PageFactory.initElements(driver, this);\r\n}\r\n```\r\n\r\nThen in the `LoginTest` class, after constructing the `LoginPageCRM` object, invoke the new `init` method, so that you can ensure that you are passing a properly constructed object.\r\n\r\n```java\r\n@BeforeTest\r\npublic void setUP() {\r\n    initialization();\r\n    loginPage = new LoginPageCRM();\r\n    loginPage.init();\r\n}\r\n```","title":"java.lang.StackOverflowError when running class as TestNG Test in Selenium","body":"<p><code>PageFactory.initElements(driver, LoginPageCRM.class)</code> is causing the <code>StackOverflowError</code> because <code>initElements</code> tries to create a object of <code>LoginPageCRM</code> by invoking it's constructor. And as the constructor of <code>LoginPageCRM</code> contains <code>PageFactory.initElements(driver, LoginPageCRM.class)</code>, this process is repeated infinite times leading to <code>StackOverflowError</code>. This is the root cause of the issue.</p>\n<p>Since I am not much familiar with selenium, I assume @<strong>lucasnguyen17</strong>'s answer explains how to fix it. But I would suggest a few changes before passing <code>this</code> to that method within a constructor.</p>\n<hr />\n<p><strong>NOTE: The below mentioned issue might NOT cause an issue in your case as there are no other operations with <code>this</code> inside the constructor. But the below can be followed as a general guideline/best-practice</strong></p>\n<hr />\n<p>An object is considered not properly constructed, if the <code>this</code> reference &quot;escapes&quot; during construction. i.e the object is said to be properly constructed only if the constructor is fully executed. If you fix your code as below, you are passing a <strong>not properly constructed object</strong> to the <code>initElements</code> method. This could be thought as analogous to renting a house to someone before the construction is even completed. Hence this is a wrong practice and should <strong>NOT</strong> be done as it could lead to unexpected results as you may not know what the method you are calling, is going to do with the object you pass.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public LoginPageCRM()\n{\n    // The object is not fully constructed at this point\n    PageFactory.initElements(driver, this);\n}\n</code></pre>\n<p>So I would suggest the below refactor:</p>\n<p>In <code>LoginPageCRM</code> just create a default constructor without any code within it. (Java would actually create one, if there are no other constructors in the class). Then create a method that would do the <code>PageFactory.initElements(driver, this)</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public LoginPageCRM()\n{\n}\n\npublic void init() {\n    PageFactory.initElements(driver, this);\n}\n</code></pre>\n<p>Then in the <code>LoginTest</code> class, after constructing the <code>LoginPageCRM</code> object, invoke the new <code>init</code> method, so that you can ensure that you are passing a properly constructed object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@BeforeTest\npublic void setUP() {\n    initialization();\n    loginPage = new LoginPageCRM();\n    loginPage.init();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14255433,"reputation":282,"user_id":10297796,"display_name":"Vikas Piprade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646450702,"creation_date":1646450702,"answer_id":71359229,"question_id":68238301,"body_markdown":"    public LoginPageCRM()\r\n    {\r\n        PageFactory.initElements(driver, LoginPageCRM.class );\r\n    }\r\n        \r\n    \r\n    This line in your page class constructor in turn call below internal PageFactory method to instantiate LoginPageCRM class which again call this LoginPageCRM constructor. It continue till stack overflows.\r\n    \r\n      **T page = instantiatePage(driver, pageClassToProxy);**\r\n    \r\n    \r\n            public static &lt;T&gt; T initElements(WebDriver driver, Class&lt;T&gt; pageClassToProxy) {\r\n            T page = instantiatePage(driver, pageClassToProxy);\r\n            initElements(driver, page);\r\n            return page;\r\n          }\r\n\r\n","title":"java.lang.StackOverflowError when running class as TestNG Test in Selenium","body":"<pre><code>public LoginPageCRM()\n{\n    PageFactory.initElements(driver, LoginPageCRM.class );\n}\n    \n\nThis line in your page class constructor in turn call below internal PageFactory method to instantiate LoginPageCRM class which again call this LoginPageCRM constructor. It continue till stack overflows.\n\n  **T page = instantiatePage(driver, pageClassToProxy);**\n\n\n        public static &lt;T&gt; T initElements(WebDriver driver, Class&lt;T&gt; pageClassToProxy) {\n        T page = instantiatePage(driver, pageClassToProxy);\n        initElements(driver, page);\n        return page;\n      }\n</code></pre>\n"}],"owner":{"account_id":21932092,"reputation":119,"user_id":16213903,"display_name":"Vidhya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":891,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68240592,"answer_count":3,"score":1,"last_activity_date":1646450702,"creation_date":1625331383,"question_id":68238301,"body_markdown":"This is a demo project, implementation is done using Page Object Pattern and Data driven framework.\r\n\r\nBelow inheritance, constructor concepts are used.\r\n\r\nThe `config.prpoerties` file has username, password, url and browser.\r\n\r\nBase Class\r\n---\r\n```\r\npackage com.crm.qa.base;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.util.Properties;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.firefox.FirefoxDriver;\r\nimport org.openqa.selenium.firefox.FirefoxOptions;\r\n\r\nimport com.crm.qa.utilities.TestUtil;\r\n\r\npublic class TestBase {\r\n\t\r\n\tpublic static Properties prop;\r\n\tpublic static WebDriver driver;\r\n\t\r\n\tpublic TestBase() {\r\n\t\r\n\t    //import variables from Config.properties file\r\n\t\ttry {\r\n\t\t\tprop=new Properties();\r\n\t\r\n\t\t\tFileInputStream fis=new FileInputStream(System.getProperty(&quot;user.dir&quot;)+&quot;/src/main/java/com/crm/qa/configuration/config.properties&quot;);\r\n\t\r\n\t\t\t\tprop.load(fis);\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t    e.printStackTrace();\r\n\t    }\r\n\t}\t\r\n\t\r\n\tpublic static void  initialization()\r\n\t{\r\n\t\tString browser= prop.getProperty(&quot;browser&quot;);\r\n\t\t\r\n\t\tif(browser.equalsIgnoreCase(&quot;firefox&quot;))\r\n\t\t{\r\n\t\t\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;./Drivers/geckodriver.exe&quot;);\r\n\t\t\tFirefoxOptions firefoxOptions = new FirefoxOptions();\r\n\t\t    firefoxOptions.setCapability(&quot;marionette&quot;, true);\r\n\t\t    driver = new FirefoxDriver(firefoxOptions);     \r\n\t\t}\r\n\r\n\t    if(browser.equalsIgnoreCase(&quot;chrome&quot;))\r\n\t\t{\r\n\t\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;./Drivers/chromedriver.exe&quot;);\r\n\t\t\tdriver=new ChromeDriver();\r\n\t\t}\r\n\t\r\n\t\tdriver.manage().window().maximize();\r\n\t\tdriver.manage().deleteAllCookies();\r\n\t\tdriver.manage().timeouts().pageLoadTimeout(TestUtil.PAGE_LOAD_TIMEOUT, TimeUnit.SECONDS); \r\n\t\tdriver.manage().timeouts().pageLoadTimeout(TestUtil.IMPLICIT_WAIT, TimeUnit.SECONDS); \r\n\t\tdriver.get(prop.getProperty(&quot;baseURL&quot;));\r\n    }\t\t\t\t\r\n}\r\n\r\n```\r\n\r\nLogin Page Object Class\r\n---\r\n\r\n```\r\npackage com.crm.qa.pages;\r\n\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.support.FindBy;\r\nimport org.openqa.selenium.support.PageFactory;\r\n\r\nimport com.crm.qa.base.TestBase;\r\n\r\npublic class LoginPageCRM extends TestBase {\r\n\t\r\n\t\r\n\t//PageFactory\r\n\t@FindBy(name=&quot;username&quot;)\r\n\tWebElement username;\r\n\t\r\n\t\r\n\t@FindBy(name=&quot;password&quot;)\r\n\tWebElement password;\r\n\t\r\n\t@FindBy(xpath = &quot;//input[@type=&#39;submit&#39;]&quot;)\r\n\tWebElement loginBtn;\t\r\n\t\r\n\t@FindBy(xpath= &quot;//a[contains(text(),&#39;Sign Up&#39;)]&quot;)\r\n\tWebElement signUP;\r\n\t\r\n\t@FindBy(xpath=&quot;//img[contains(@class,&#39;img-responsive&#39;)]&quot;)\r\n\tWebElement crmLogo;\r\n\t\r\n\t//to initialize page objects\r\n\t\r\n\tpublic LoginPageCRM()\r\n\t{\r\n\t\tPageFactory.initElements(driver, LoginPageCRM.class );\r\n\t}\r\n\t\r\n\t\r\n\t//Actions\r\n\t//1. verify title of page\r\n\tpublic String validateLoginPageTitle()\r\n\t{\r\n\t\treturn driver.getTitle();\r\n\t\t\r\n\t}\r\n\t\r\n\t//2. Validate crm image\r\n\tpublic boolean validateCRMLogo()\r\n\t{\r\n\t\treturn crmLogo.isDisplayed();\r\n\t}\r\n\t\r\n\t//3. Login\r\n\tpublic HomePageCRM login(String uname, String pwd)  \r\n\t{\r\n\t\tusername.sendKeys(uname);\r\n\t\tpassword.sendKeys(pwd);\r\n\t\tloginBtn.click();\r\n\t\t\r\n\t\treturn new HomePageCRM();\r\n\t}\r\n\r\n}\r\n```\r\n&lt;------------------------------------LoginTest Class-------------------------------------&gt;\r\n```\r\npackage com.crm.qa.testcases;\r\n\r\nimport org.testng.Assert;\r\nimport org.testng.annotations.AfterTest;\r\nimport org.testng.annotations.BeforeTest;\r\nimport org.testng.annotations.Test;\r\n\r\nimport com.crm.qa.base.TestBase;\r\nimport com.crm.qa.pages.HomePageCRM;\r\nimport com.crm.qa.pages.LoginPageCRM;\r\n\r\n\r\npublic class LoginTest extends TestBase{\r\n\t\r\n\tpublic LoginTest()\r\n\t{\r\n\t\tsuper(); \r\n\t}\r\n\t\r\n\tLoginPageCRM loginPage;\r\n\tpublic HomePageCRM homePageCRM;\r\n\t\r\n\t@BeforeTest\r\n\tpublic void setUP()\r\n\t{\r\n\tinitialization();\r\n\tloginPage=new LoginPageCRM();\r\n\t}\r\n\t\r\n\t\r\n\t@Test(priority=1)\r\n\tpublic void LoginPageTitleTest()\r\n\t{\r\n\t\tString pageTitle= loginPage.validateLoginPageTitle();\r\n\t\tAssert.assertEquals(pageTitle,&quot;CRMPRO  - CRM software for customer relationship management, sales, and support.&quot;);\r\n\t\t\r\n\t}\r\n\t\r\n\t@Test(priority=2)\r\n\tpublic void CRMLogoTest()\r\n\t{\r\n\t\tAssert.assertEquals(loginPage.validateCRMLogo(), true);\r\n\t}\r\n\t\r\n\t@Test(priority=3)\r\n\tpublic  void loginPageTest()\r\n\t{\r\n\t\thomePageCRM= loginPage.login(prop.getProperty(&quot;username&quot;), prop.getProperty(&quot;password&quot;));\r\n\t}\r\n\t\r\n\t\r\n\t@AfterTest\r\n\tpublic void tearDown()\r\n\t{\r\n\tdriver.quit();\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nNow when I run the LoginTest class as TestNG Test, I get error in console as below--&gt;\r\n\r\n```\r\ncom.crm.qa.testcases.LoginTest#setUP\r\n\r\n\r\nException\r\n\r\njava.lang.StackOverflowError\r\n\tat java.base/java.util.stream.StreamOpFlag.fromCharacteristics(StreamOpFlag.java:733)\r\n\tat java.base/java.util.stream.StreamSupport.stream(StreamSupport.java:70)\r\n\tat java.base/java.util.Arrays.stream(Arrays.java:5446)\r\n\tat java.base/java.util.Arrays.stream(Arrays.java:5427)\r\n\tat java.base/java.lang.Class.methodToString(Class.java:3579)\r\n\tat java.base/java.lang.Class.getConstructor0(Class.java:3508)\r\n\tat java.base/java.lang.Class.getConstructor(Class.java:2244)\r\n\tat org.openqa.selenium.support.PageFactory.instantiatePage(PageFactory.java:128)\r\n\tat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:64)\r\n\tat com.crm.qa.pages.LoginPageCRM.&lt;init&gt;(LoginPageCRM.java:33)\r\n\tat jdk.internal.reflect.GeneratedConstructorAccessor9.newInstance(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n\tat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\r\n\tat java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:350)\r\n\tat java.base/java.lang.Class.newInstance(Class.java:645)\r\n\tat org.openqa.selenium.support.PageFactory.instantiatePage(PageFactory.java:131)\r\n\tat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:64)\r\n\tat com.crm.qa.pages.LoginPageCRM.&lt;init&gt;(LoginPageCRM.java:33)\r\n\tat jdk.internal.reflect.GeneratedConstructorAccessor9.newInstance(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n\tat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\r\n\tat java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:350)\r\n\tat java.base/java.lang.Class.newInstance(Class.java:645)\r\n\tat org.openqa.selenium.support.PageFactory.instantiatePage(PageFactory.java:131)\r\n\tat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:64)\r\n\tat com.crm.qa.pages.LoginPageCRM.&lt;init&gt;(LoginPageCRM.java:33)\r\n\tat jdk.internal.reflect.GeneratedConstructorAccessor9.newInstance(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n\r\n \r\n\r\n ........\r\n```\r\n\r\nMy Eclipse verion :\r\nVersion: 2021-03 (4.19.0)\r\nBuild id: 20210312-0638\r\n\r\neclipse.ini file\r\n```\r\n-startup\r\nplugins/org.eclipse.equinox.launcher_1.6.100.v20201223-0822.jar\r\n--launcher.library\r\nC:\\Users\\JACOB\\.p2\\pool\\plugins\\org.eclipse.equinox.launcher.win32.win32.x86_64_1.2.100.v20210209-1541\r\n-product\r\norg.eclipse.epp.package.java.product\r\n-showsplash\r\nC:\\Users\\JACOB\\.p2\\pool\\plugins\\org.eclipse.epp.package.common_4.19.0.20210311-1200\r\n--launcher.defaultAction\r\nopenFile\r\n--launcher.appendVmargs\r\n-vm\r\nC:/Program Files/Java/jdk-15.0.1/bin/javaw.exe\r\n-vmargs\r\n-Dosgi.requiredJavaVersion=11\r\n-Dosgi.instance.area.default=@user.home/eclipse-workspace\r\n-Dsun.java.command=Eclipse\r\n-XX:+UseG1GC\r\n-XX:+UseStringDeduplication\r\n--add-modules=ALL-SYSTEM\r\n-Dosgi.requiredJavaVersion=11\r\n-Dosgi.dataAreaRequiresExplicitInit=true\r\n-Dorg.eclipse.swt.graphics.Resource.reportNonDisposed=true\r\n-Xms256m\r\n-Xmx2048m\r\n--add-modules=ALL-SYSTEM\r\n-Declipse.p2.max.threads=10\r\n-Doomph.update.url=http://download.eclipse.org/oomph/updates/milestone/latest\r\n-Doomph.redirection.index.redirection=index:/-&gt;http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/\r\n```","title":"java.lang.StackOverflowError when running class as TestNG Test in Selenium","body":"<p>This is a demo project, implementation is done using Page Object Pattern and Data driven framework.</p>\n<p>Below inheritance, constructor concepts are used.</p>\n<p>The <code>config.prpoerties</code> file has username, password, url and browser.</p>\n<h2>Base Class</h2>\n<pre><code>package com.crm.qa.base;\n\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.util.Properties;\nimport java.util.concurrent.TimeUnit;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.firefox.FirefoxOptions;\n\nimport com.crm.qa.utilities.TestUtil;\n\npublic class TestBase {\n    \n    public static Properties prop;\n    public static WebDriver driver;\n    \n    public TestBase() {\n    \n        //import variables from Config.properties file\n        try {\n            prop=new Properties();\n    \n            FileInputStream fis=new FileInputStream(System.getProperty(&quot;user.dir&quot;)+&quot;/src/main/java/com/crm/qa/configuration/config.properties&quot;);\n    \n                prop.load(fis);         \n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n            e.printStackTrace();\n        }\n    }   \n    \n    public static void  initialization()\n    {\n        String browser= prop.getProperty(&quot;browser&quot;);\n        \n        if(browser.equalsIgnoreCase(&quot;firefox&quot;))\n        {\n            System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;./Drivers/geckodriver.exe&quot;);\n            FirefoxOptions firefoxOptions = new FirefoxOptions();\n            firefoxOptions.setCapability(&quot;marionette&quot;, true);\n            driver = new FirefoxDriver(firefoxOptions);     \n        }\n\n        if(browser.equalsIgnoreCase(&quot;chrome&quot;))\n        {\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;./Drivers/chromedriver.exe&quot;);\n            driver=new ChromeDriver();\n        }\n    \n        driver.manage().window().maximize();\n        driver.manage().deleteAllCookies();\n        driver.manage().timeouts().pageLoadTimeout(TestUtil.PAGE_LOAD_TIMEOUT, TimeUnit.SECONDS); \n        driver.manage().timeouts().pageLoadTimeout(TestUtil.IMPLICIT_WAIT, TimeUnit.SECONDS); \n        driver.get(prop.getProperty(&quot;baseURL&quot;));\n    }               \n}\n\n</code></pre>\n<h2>Login Page Object Class</h2>\n<pre><code>package com.crm.qa.pages;\n\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.FindBy;\nimport org.openqa.selenium.support.PageFactory;\n\nimport com.crm.qa.base.TestBase;\n\npublic class LoginPageCRM extends TestBase {\n    \n    \n    //PageFactory\n    @FindBy(name=&quot;username&quot;)\n    WebElement username;\n    \n    \n    @FindBy(name=&quot;password&quot;)\n    WebElement password;\n    \n    @FindBy(xpath = &quot;//input[@type='submit']&quot;)\n    WebElement loginBtn;    \n    \n    @FindBy(xpath= &quot;//a[contains(text(),'Sign Up')]&quot;)\n    WebElement signUP;\n    \n    @FindBy(xpath=&quot;//img[contains(@class,'img-responsive')]&quot;)\n    WebElement crmLogo;\n    \n    //to initialize page objects\n    \n    public LoginPageCRM()\n    {\n        PageFactory.initElements(driver, LoginPageCRM.class );\n    }\n    \n    \n    //Actions\n    //1. verify title of page\n    public String validateLoginPageTitle()\n    {\n        return driver.getTitle();\n        \n    }\n    \n    //2. Validate crm image\n    public boolean validateCRMLogo()\n    {\n        return crmLogo.isDisplayed();\n    }\n    \n    //3. Login\n    public HomePageCRM login(String uname, String pwd)  \n    {\n        username.sendKeys(uname);\n        password.sendKeys(pwd);\n        loginBtn.click();\n        \n        return new HomePageCRM();\n    }\n\n}\n</code></pre>\n<p>&lt;------------------------------------LoginTest Class-------------------------------------&gt;</p>\n<pre><code>package com.crm.qa.testcases;\n\nimport org.testng.Assert;\nimport org.testng.annotations.AfterTest;\nimport org.testng.annotations.BeforeTest;\nimport org.testng.annotations.Test;\n\nimport com.crm.qa.base.TestBase;\nimport com.crm.qa.pages.HomePageCRM;\nimport com.crm.qa.pages.LoginPageCRM;\n\n\npublic class LoginTest extends TestBase{\n    \n    public LoginTest()\n    {\n        super(); \n    }\n    \n    LoginPageCRM loginPage;\n    public HomePageCRM homePageCRM;\n    \n    @BeforeTest\n    public void setUP()\n    {\n    initialization();\n    loginPage=new LoginPageCRM();\n    }\n    \n    \n    @Test(priority=1)\n    public void LoginPageTitleTest()\n    {\n        String pageTitle= loginPage.validateLoginPageTitle();\n        Assert.assertEquals(pageTitle,&quot;CRMPRO  - CRM software for customer relationship management, sales, and support.&quot;);\n        \n    }\n    \n    @Test(priority=2)\n    public void CRMLogoTest()\n    {\n        Assert.assertEquals(loginPage.validateCRMLogo(), true);\n    }\n    \n    @Test(priority=3)\n    public  void loginPageTest()\n    {\n        homePageCRM= loginPage.login(prop.getProperty(&quot;username&quot;), prop.getProperty(&quot;password&quot;));\n    }\n    \n    \n    @AfterTest\n    public void tearDown()\n    {\n    driver.quit();      \n    }\n\n}\n</code></pre>\n<p>Now when I run the LoginTest class as TestNG Test, I get error in console as below--&gt;</p>\n<pre><code>com.crm.qa.testcases.LoginTest#setUP\n\n\nException\n\njava.lang.StackOverflowError\n    at java.base/java.util.stream.StreamOpFlag.fromCharacteristics(StreamOpFlag.java:733)\n    at java.base/java.util.stream.StreamSupport.stream(StreamSupport.java:70)\n    at java.base/java.util.Arrays.stream(Arrays.java:5446)\n    at java.base/java.util.Arrays.stream(Arrays.java:5427)\n    at java.base/java.lang.Class.methodToString(Class.java:3579)\n    at java.base/java.lang.Class.getConstructor0(Class.java:3508)\n    at java.base/java.lang.Class.getConstructor(Class.java:2244)\n    at org.openqa.selenium.support.PageFactory.instantiatePage(PageFactory.java:128)\n    at org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:64)\n    at com.crm.qa.pages.LoginPageCRM.&lt;init&gt;(LoginPageCRM.java:33)\n    at jdk.internal.reflect.GeneratedConstructorAccessor9.newInstance(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\n    at java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:350)\n    at java.base/java.lang.Class.newInstance(Class.java:645)\n    at org.openqa.selenium.support.PageFactory.instantiatePage(PageFactory.java:131)\n    at org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:64)\n    at com.crm.qa.pages.LoginPageCRM.&lt;init&gt;(LoginPageCRM.java:33)\n    at jdk.internal.reflect.GeneratedConstructorAccessor9.newInstance(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\n    at java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:350)\n    at java.base/java.lang.Class.newInstance(Class.java:645)\n    at org.openqa.selenium.support.PageFactory.instantiatePage(PageFactory.java:131)\n    at org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:64)\n    at com.crm.qa.pages.LoginPageCRM.&lt;init&gt;(LoginPageCRM.java:33)\n    at jdk.internal.reflect.GeneratedConstructorAccessor9.newInstance(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n\n \n\n ........\n</code></pre>\n<p>My Eclipse verion :\nVersion: 2021-03 (4.19.0)\nBuild id: 20210312-0638</p>\n<p>eclipse.ini file</p>\n<pre><code>-startup\nplugins/org.eclipse.equinox.launcher_1.6.100.v20201223-0822.jar\n--launcher.library\nC:\\Users\\JACOB\\.p2\\pool\\plugins\\org.eclipse.equinox.launcher.win32.win32.x86_64_1.2.100.v20210209-1541\n-product\norg.eclipse.epp.package.java.product\n-showsplash\nC:\\Users\\JACOB\\.p2\\pool\\plugins\\org.eclipse.epp.package.common_4.19.0.20210311-1200\n--launcher.defaultAction\nopenFile\n--launcher.appendVmargs\n-vm\nC:/Program Files/Java/jdk-15.0.1/bin/javaw.exe\n-vmargs\n-Dosgi.requiredJavaVersion=11\n-Dosgi.instance.area.default=@user.home/eclipse-workspace\n-Dsun.java.command=Eclipse\n-XX:+UseG1GC\n-XX:+UseStringDeduplication\n--add-modules=ALL-SYSTEM\n-Dosgi.requiredJavaVersion=11\n-Dosgi.dataAreaRequiresExplicitInit=true\n-Dorg.eclipse.swt.graphics.Resource.reportNonDisposed=true\n-Xms256m\n-Xmx2048m\n--add-modules=ALL-SYSTEM\n-Declipse.p2.max.threads=10\n-Doomph.update.url=http://download.eclipse.org/oomph/updates/milestone/latest\n-Doomph.redirection.index.redirection=index:/-&gt;http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/\n</code></pre>\n"},{"tags":["java","android","kotlin","gis","geotiff"],"comments":[{"owner":{"account_id":21209622,"reputation":356,"user_id":15598519,"display_name":"LegendSayantan"},"score":0,"creation_date":1646823928,"post_id":71359205,"comment_id":126217897,"body_markdown":"Why not use MapView instead?","body":"Why not use MapView instead?"},{"owner":{"account_id":22712819,"reputation":91,"user_id":16878544,"display_name":"SOSparachuter1"},"score":0,"creation_date":1646827918,"post_id":71359205,"comment_id":126219240,"body_markdown":"MapView uses google maps data, we need to load and display our own map data from geotiffs.","body":"MapView uses google maps data, we need to load and display our own map data from geotiffs."}],"owner":{"account_id":22712819,"reputation":91,"user_id":16878544,"display_name":"SOSparachuter1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646450228,"creation_date":1646450228,"question_id":71359205,"body_markdown":"I have a server feeding tiled geographic images from a GIS database, to my Android client app. I want users to be able to pan/zoom into the map like they&#39;d do in Google Maps.\r\n\r\nBut there&#39;s an issue implementing it the standard way, with a canvas and ImageView: canvases need to have a fixed width/height, whereas Geotiff maps wraps around the globe and is thus theoretically unlimited (or at least tens of thousands of pixels wide). I.e. if our source is a Geotiff of the Northeastern USA, display a satellite view of Boston, and the user wants to pan over to New York City, then zoom into the Statue of Liberty.\r\n\r\nRight now I have it sort of working, where:\r\n1. when the user pans/zooms and releases their finger, I obtain the pixel coordinates of the top left and bottom right corners of the ImageView. \r\n2. Then I tell the server to get me the tiled map at those coordinates (after converting the viewport coordinates to image coordinates of the full Geotiff image)\r\n3. Draw the new tile while resetting the ImageView&#39;s internal transformation matrix. I internally keep track of where the image&#39;s origin (top left corner) is relative to the full Geotiff image.\r\n\r\nBut it&#39;s super hacky and causes issues when trying to render icons since we&#39;re resetting the matrix each time a new tile is drawn. Plus this way it&#39;s pretty much impossible to dynamically draw tiles **while the user is continuing to zoom/pan.**\r\n\r\nSomething like an infinite-canvas would be best where I&#39;m not limited by the size of a drawable. Is there a non-hacky way of achieving this using the standard set of Android containers? Or is it inevitable I do something custom with OpenGL?","title":"Creating a Google Maps-like view?","body":"<p>I have a server feeding tiled geographic images from a GIS database, to my Android client app. I want users to be able to pan/zoom into the map like they'd do in Google Maps.</p>\n<p>But there's an issue implementing it the standard way, with a canvas and ImageView: canvases need to have a fixed width/height, whereas Geotiff maps wraps around the globe and is thus theoretically unlimited (or at least tens of thousands of pixels wide). I.e. if our source is a Geotiff of the Northeastern USA, display a satellite view of Boston, and the user wants to pan over to New York City, then zoom into the Statue of Liberty.</p>\n<p>Right now I have it sort of working, where:</p>\n<ol>\n<li>when the user pans/zooms and releases their finger, I obtain the pixel coordinates of the top left and bottom right corners of the ImageView.</li>\n<li>Then I tell the server to get me the tiled map at those coordinates (after converting the viewport coordinates to image coordinates of the full Geotiff image)</li>\n<li>Draw the new tile while resetting the ImageView's internal transformation matrix. I internally keep track of where the image's origin (top left corner) is relative to the full Geotiff image.</li>\n</ol>\n<p>But it's super hacky and causes issues when trying to render icons since we're resetting the matrix each time a new tile is drawn. Plus this way it's pretty much impossible to dynamically draw tiles <strong>while the user is continuing to zoom/pan.</strong></p>\n<p>Something like an infinite-canvas would be best where I'm not limited by the size of a drawable. Is there a non-hacky way of achieving this using the standard set of Android containers? Or is it inevitable I do something custom with OpenGL?</p>\n"},{"tags":["java","spring","spring-aop"],"comments":[{"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"score":0,"creation_date":1587632855,"post_id":61382719,"comment_id":108589228,"body_markdown":"AOP will act on the location you specify at you PointCut regex !","body":"AOP will act on the location you specify at you PointCut regex !"},{"owner":{"account_id":10017303,"reputation":37,"user_id":7408117,"display_name":"justin"},"score":0,"creation_date":1587642086,"post_id":61382719,"comment_id":108594400,"body_markdown":"Yes，but there are some limitations, e.g, I can&#39;t advise methods of class which extends from another.","body":"Yes，but there are some limitations, e.g, I can&#39;t advise methods of class which extends from another."},{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1587651853,"post_id":61382719,"comment_id":108600226,"body_markdown":"How do you call methods `function1()` , `function2()` and `functionSubJdkProxy()` ? All the 3 methods can be intercepted , if these methods can be called . Could you please share the code where these methods are called so that the calls are intercepted ?","body":"How do you call methods <code>function1()</code> , <code>function2()</code> and <code>functionSubJdkProxy()</code> ? All the 3 methods can be intercepted , if these methods can be called . Could you please share the code where these methods are called so that the calls are intercepted ?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1587654508,"post_id":61382719,"comment_id":108601878,"body_markdown":"For me your code also works without problems. You must make a configuration mistake. So please show how you start and configure your application.","body":"For me your code also works without problems. You must make a configuration mistake. So please show how you start and configure your application."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646448554,"creation_date":1587654645,"answer_id":61390594,"question_id":61382719,"body_markdown":"Your application should work. Look, I tried all sorts of combinations, they all work:\r\n\r\n**Driver application:**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.example.proxytestdemo;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.ConfigurableApplicationContext;\r\n    \r\n    @SpringBootApplication\r\n    public class Application {\r\n      public static void main(String[] args) {\r\n        try (ConfigurableApplicationContext context = SpringApplication.run(Application.class, args)) {\r\n          doStuff(context);\r\n        }\r\n      }\r\n    \r\n      private static void doStuff(ConfigurableApplicationContext context) {\r\n        JdkProxy jdkProxy = (JdkProxy) context.getBean(&quot;jdkProxy&quot;);\r\n        jdkProxy.function(11);\r\n        jdkProxy.function1(22);\r\n        jdkProxy.function2(33);\r\n        System.out.println(&quot;----------&quot;);\r\n    \r\n        JdkProxyInterface jdkProxyInterface = jdkProxy ;\r\n        jdkProxyInterface.function(11);\r\n        System.out.println(&quot;==========&quot;);\r\n    \r\n        SubJdkProxy subJdkProxy = (SubJdkProxy) context.getBean(&quot;subJdkProxy&quot;);\r\n        subJdkProxy.function(11);\r\n        subJdkProxy.function1(22);\r\n        subJdkProxy.function2(33);\r\n        subJdkProxy.functionSubJdkProxy(44);\r\n        System.out.println(&quot;----------&quot;);\r\n    \r\n        jdkProxyInterface = subJdkProxy;\r\n        jdkProxyInterface.function(11);\r\n      }\r\n    }\r\n\r\n**Console log:**\r\n\r\n```none\r\nexecution(void com.example.proxytestdemo.JdkProxy.function(int))\r\nJdkProxy function\r\nexecution(void com.example.proxytestdemo.JdkProxy.function1(int))\r\nJdkProxy function\r\nexecution(void com.example.proxytestdemo.JdkProxy.function2(int))\r\nJdkProxy function\r\n----------\r\nexecution(void com.example.proxytestdemo.JdkProxy.function(int))\r\nJdkProxy function\r\n==========\r\nexecution(void com.example.proxytestdemo.JdkProxy.function(int))\r\nJdkProxy function\r\nexecution(void com.example.proxytestdemo.JdkProxy.function1(int))\r\nJdkProxy function\r\nexecution(void com.example.proxytestdemo.JdkProxy.function2(int))\r\nJdkProxy function\r\nexecution(void com.example.proxytestdemo.SubJdkProxy.functionSubJdkProxy(int))\r\nfunctionSubJdkProxy\r\n----------\r\nexecution(void com.example.proxytestdemo.JdkProxy.function(int))\r\nJdkProxy function\r\n```\r\n\r\nBTW, in order to concentrate on the basics I simplified your aspect&#39;s advice method to:\r\n\r\n```java\r\n      @Around(value = &quot;calcTime1()&quot;)\r\n      public Object aspectProcess(ProceedingJoinPoint pjp) throws Throwable {\r\n        System.out.println(pjp);\r\n        return pjp.proceed();\r\n      }\r\n```\r\n\r\n---\r\n\r\n**Update:**\r\n\r\n**Spring Boot defaults to CGLIB proxy mode** and currently cannot easily be reconfigured to use JDK proxies because the corresponding annotations are ignored or superseded, see [issue #12194](https://github.com/spring-projects/spring-boot/issues/12194). But I found a way, see [my comment on Spring Boot #27375](https://github.com/spring-projects/spring-boot/issues/27375#issuecomment-1057588762). You need to put this into your `application.properties`:\r\n\r\n```none\r\nspring.aop.proxy-target-class=false\r\n```\r\n\r\nHowever, **plain vanilla Spring defaults JDK proxy mode**. You have to set up a classical Spring project without any Boot dependencies on your classpath. But then of course only interface-defined methods are being proxied and you cannot use methods defined outside of interfaces. You can switch Spring to CGLIB mode too, but not Boot to JDK mode.\r\n\r\nBecause this is a common question and I like to have a playground project to answer related questions anyway, I published [this GitHub project](https://github.com/kriegaex/SO_AJ_SpringJDKvsCGLIB_61382719) for your convenience. Feel free to inspect it, clone it and play around with it.\r\n\r\n---\r\n\r\n**Update 2022-02-26:** [Here](https://github.com/kriegaex/SO_AJ_SpringJDKvsCGLIB_61382719/blob/354469d43c97f4e580971caf89bd46abcf96267e/src/main/java/de/scrum_master/spring/app/Application.java#L75-L86) you can learn how to determine Spring AOP proxy types (JDK vs. CGLIB proxies) using Spring&#39;s own `AopUtils` helper class.\r\n","title":"what kind of method can be advised by spring aop or what&#39;s a spring aop joinpoint&#39;s limitation?","body":"<p>Your application should work. Look, I tried all sorts of combinations, they all work:</p>\n<p><strong>Driver application:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.proxytestdemo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\n\n@SpringBootApplication\npublic class Application {\n  public static void main(String[] args) {\n    try (ConfigurableApplicationContext context = SpringApplication.run(Application.class, args)) {\n      doStuff(context);\n    }\n  }\n\n  private static void doStuff(ConfigurableApplicationContext context) {\n    JdkProxy jdkProxy = (JdkProxy) context.getBean(&quot;jdkProxy&quot;);\n    jdkProxy.function(11);\n    jdkProxy.function1(22);\n    jdkProxy.function2(33);\n    System.out.println(&quot;----------&quot;);\n\n    JdkProxyInterface jdkProxyInterface = jdkProxy ;\n    jdkProxyInterface.function(11);\n    System.out.println(&quot;==========&quot;);\n\n    SubJdkProxy subJdkProxy = (SubJdkProxy) context.getBean(&quot;subJdkProxy&quot;);\n    subJdkProxy.function(11);\n    subJdkProxy.function1(22);\n    subJdkProxy.function2(33);\n    subJdkProxy.functionSubJdkProxy(44);\n    System.out.println(&quot;----------&quot;);\n\n    jdkProxyInterface = subJdkProxy;\n    jdkProxyInterface.function(11);\n  }\n}\n</code></pre>\n<p><strong>Console log:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>execution(void com.example.proxytestdemo.JdkProxy.function(int))\nJdkProxy function\nexecution(void com.example.proxytestdemo.JdkProxy.function1(int))\nJdkProxy function\nexecution(void com.example.proxytestdemo.JdkProxy.function2(int))\nJdkProxy function\n----------\nexecution(void com.example.proxytestdemo.JdkProxy.function(int))\nJdkProxy function\n==========\nexecution(void com.example.proxytestdemo.JdkProxy.function(int))\nJdkProxy function\nexecution(void com.example.proxytestdemo.JdkProxy.function1(int))\nJdkProxy function\nexecution(void com.example.proxytestdemo.JdkProxy.function2(int))\nJdkProxy function\nexecution(void com.example.proxytestdemo.SubJdkProxy.functionSubJdkProxy(int))\nfunctionSubJdkProxy\n----------\nexecution(void com.example.proxytestdemo.JdkProxy.function(int))\nJdkProxy function\n</code></pre>\n<p>BTW, in order to concentrate on the basics I simplified your aspect's advice method to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      @Around(value = &quot;calcTime1()&quot;)\n      public Object aspectProcess(ProceedingJoinPoint pjp) throws Throwable {\n        System.out.println(pjp);\n        return pjp.proceed();\n      }\n</code></pre>\n<hr />\n<p><strong>Update:</strong></p>\n<p><strong>Spring Boot defaults to CGLIB proxy mode</strong> and currently cannot easily be reconfigured to use JDK proxies because the corresponding annotations are ignored or superseded, see <a href=\"https://github.com/spring-projects/spring-boot/issues/12194\" rel=\"nofollow noreferrer\">issue #12194</a>. But I found a way, see <a href=\"https://github.com/spring-projects/spring-boot/issues/27375#issuecomment-1057588762\" rel=\"nofollow noreferrer\">my comment on Spring Boot #27375</a>. You need to put this into your <code>application.properties</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>spring.aop.proxy-target-class=false\n</code></pre>\n<p>However, <strong>plain vanilla Spring defaults JDK proxy mode</strong>. You have to set up a classical Spring project without any Boot dependencies on your classpath. But then of course only interface-defined methods are being proxied and you cannot use methods defined outside of interfaces. You can switch Spring to CGLIB mode too, but not Boot to JDK mode.</p>\n<p>Because this is a common question and I like to have a playground project to answer related questions anyway, I published <a href=\"https://github.com/kriegaex/SO_AJ_SpringJDKvsCGLIB_61382719\" rel=\"nofollow noreferrer\">this GitHub project</a> for your convenience. Feel free to inspect it, clone it and play around with it.</p>\n<hr />\n<p><strong>Update 2022-02-26:</strong> <a href=\"https://github.com/kriegaex/SO_AJ_SpringJDKvsCGLIB_61382719/blob/354469d43c97f4e580971caf89bd46abcf96267e/src/main/java/de/scrum_master/spring/app/Application.java#L75-L86\" rel=\"nofollow noreferrer\">Here</a> you can learn how to determine Spring AOP proxy types (JDK vs. CGLIB proxies) using Spring's own <code>AopUtils</code> helper class.</p>\n"}],"owner":{"account_id":10017303,"reputation":37,"user_id":7408117,"display_name":"justin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61390594,"answer_count":1,"score":0,"last_activity_date":1646448554,"creation_date":1587630702,"question_id":61382719,"body_markdown":"I am working with spring aop and i found out that there are 3 situations but I am not quite clear:\r\nsituation 1: a single class which do not implements or extends any class or interface\r\nIn this situation, any none-private methods will be the joinpoints\r\n\r\nsituation 2: a class implements a interface and implements methods\r\nIn this sutuation, only method declared in interface will be a joinpoint\r\n\r\nsituation 3: a class extends a super class and override super class&#39;s methods\r\nIn this sutuation, all sub class&#39;s methods will not be a joinpoint.\r\n\r\nIs that how spring aop is designed?\r\n\r\nHere is the code i use:\r\n\r\n*JdkProxyInterface.java*\r\n```\r\npackage com.example.proxytestdemo;\r\n\r\npublic interface JdkProxyInterface {\r\n\r\n    void function(int i);\r\n}\r\n\r\n```\r\n*JdkProxy.java*\r\n```\r\npackage com.example.proxytestdemo;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class JdkProxy implements JdkProxyInterface {\r\n\r\n    @Override\r\n    @TimeIt\r\n    public void function(int i) {\r\n        System.out.println(&quot;JdkProxy function&quot;);\r\n    }\r\n\r\n    @TimeIt\r\n    public void function1(int i) {\r\n        System.out.println(&quot;JdkProxy function&quot;);\r\n    }\r\n\r\n    @TimeIt\r\n    public void function2(int i) {\r\n        System.out.println(&quot;JdkProxy function&quot;);\r\n    }\r\n    \r\n}\r\n```\r\n*SubJdkProxy.java*\r\n```\r\npackage com.example.proxytestdemo;\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class SubJdkProxy extends JdkProxy {\r\n\r\n    @TimeIt\r\n    public void functionSubJdkProxy(int i) {\r\n        System.out.println(&quot;functionSubJdkProxy&quot;);\r\n    }\r\n}\r\n```\r\n*TimeIt.java*\r\n```\r\npackage com.example.proxytestdemo;\r\nimport java.lang.annotation.*;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.TYPE,ElementType.METHOD})\r\n@Inherited\r\npublic @interface TimeIt {\r\n    boolean enabled() default true;\r\n}\r\n```\r\n\r\n*TimePointCut.java*\r\n```\r\npackage com.example.proxytestdemo;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Pointcut;\r\nimport org.aspectj.lang.reflect.MethodSignature;\r\nimport org.springframework.stereotype.Component;\r\nimport java.lang.reflect.Method;\r\n\r\n\r\n@Aspect\r\n@Component\r\npublic class TimePointCut {\r\n\r\n    @Pointcut(&quot;execution(* com.example.proxytestdemo..*(..))&quot;)\r\n    public void calcTime1() {\r\n    }\r\n\r\n    @Around(value = &quot;calcTime1()&quot;)\r\n    public Object aspectProcess(ProceedingJoinPoint pjp) throws Throwable {\r\n        System.out.println(&quot;proxy begin....... &quot;);\r\n        MethodSignature signature = (MethodSignature) pjp.getSignature();\r\n        Method method = signature.getMethod();\r\n        TimeIt annotation = method.getAnnotation(com.example.proxytestdemo.TimeIt.class);\r\n        if (annotation == null) {\r\n            annotation = pjp.getTarget().getClass().getAnnotation(TimeIt.class);\r\n            if (annotation == null) {\r\n                for (Class&lt;?&gt; cls : pjp.getClass().getInterfaces()) {\r\n                    annotation = cls.getAnnotation(TimeIt.class);\r\n                    if (annotation != null) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (annotation != null) {\r\n            System.out.println(annotation.enabled());\r\n        }\r\n        Object o = null;\r\n        long t1 = 0, t2 = 0;\r\n        try {\r\n            t1 = System.currentTimeMillis();\r\n            o = pjp.proceed();\r\n            t2 = System.currentTimeMillis();\r\n        } catch (Exception e) {\r\n            throw e;\r\n        } finally {\r\n            System.out.println(&quot;proxy end....... &quot;);\r\n            System.out.println(&quot;time cost: &quot;+ (t2-t1)/1000 + &quot;s&quot;);\r\n        }\r\n\r\n        return o;\r\n    }\r\n}\r\n```\r\nI find that JdkProxy.function1() and JdkProxy.function2() and SubJdkProxy.functionSubJdkProxy() can not be advised.\r\n\r\nSorry, I made a mistake because of IDEA&#39;s hint. [IDEA&#39;s hint][1]\r\n\r\n  [1]: https://i.stack.imgur.com/ekIhI.png","title":"what kind of method can be advised by spring aop or what&#39;s a spring aop joinpoint&#39;s limitation?","body":"<p>I am working with spring aop and i found out that there are 3 situations but I am not quite clear:\nsituation 1: a single class which do not implements or extends any class or interface\nIn this situation, any none-private methods will be the joinpoints</p>\n\n<p>situation 2: a class implements a interface and implements methods\nIn this sutuation, only method declared in interface will be a joinpoint</p>\n\n<p>situation 3: a class extends a super class and override super class's methods\nIn this sutuation, all sub class's methods will not be a joinpoint.</p>\n\n<p>Is that how spring aop is designed?</p>\n\n<p>Here is the code i use:</p>\n\n<p><em>JdkProxyInterface.java</em></p>\n\n<pre><code>package com.example.proxytestdemo;\n\npublic interface JdkProxyInterface {\n\n    void function(int i);\n}\n\n</code></pre>\n\n<p><em>JdkProxy.java</em></p>\n\n<pre><code>package com.example.proxytestdemo;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class JdkProxy implements JdkProxyInterface {\n\n    @Override\n    @TimeIt\n    public void function(int i) {\n        System.out.println(\"JdkProxy function\");\n    }\n\n    @TimeIt\n    public void function1(int i) {\n        System.out.println(\"JdkProxy function\");\n    }\n\n    @TimeIt\n    public void function2(int i) {\n        System.out.println(\"JdkProxy function\");\n    }\n\n}\n</code></pre>\n\n<p><em>SubJdkProxy.java</em></p>\n\n<pre><code>package com.example.proxytestdemo;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class SubJdkProxy extends JdkProxy {\n\n    @TimeIt\n    public void functionSubJdkProxy(int i) {\n        System.out.println(\"functionSubJdkProxy\");\n    }\n}\n</code></pre>\n\n<p><em>TimeIt.java</em></p>\n\n<pre><code>package com.example.proxytestdemo;\nimport java.lang.annotation.*;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.TYPE,ElementType.METHOD})\n@Inherited\npublic @interface TimeIt {\n    boolean enabled() default true;\n}\n</code></pre>\n\n<p><em>TimePointCut.java</em></p>\n\n<pre><code>package com.example.proxytestdemo;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Pointcut;\nimport org.aspectj.lang.reflect.MethodSignature;\nimport org.springframework.stereotype.Component;\nimport java.lang.reflect.Method;\n\n\n@Aspect\n@Component\npublic class TimePointCut {\n\n    @Pointcut(\"execution(* com.example.proxytestdemo..*(..))\")\n    public void calcTime1() {\n    }\n\n    @Around(value = \"calcTime1()\")\n    public Object aspectProcess(ProceedingJoinPoint pjp) throws Throwable {\n        System.out.println(\"proxy begin....... \");\n        MethodSignature signature = (MethodSignature) pjp.getSignature();\n        Method method = signature.getMethod();\n        TimeIt annotation = method.getAnnotation(com.example.proxytestdemo.TimeIt.class);\n        if (annotation == null) {\n            annotation = pjp.getTarget().getClass().getAnnotation(TimeIt.class);\n            if (annotation == null) {\n                for (Class&lt;?&gt; cls : pjp.getClass().getInterfaces()) {\n                    annotation = cls.getAnnotation(TimeIt.class);\n                    if (annotation != null) {\n                        break;\n                    }\n                }\n            }\n        }\n        if (annotation != null) {\n            System.out.println(annotation.enabled());\n        }\n        Object o = null;\n        long t1 = 0, t2 = 0;\n        try {\n            t1 = System.currentTimeMillis();\n            o = pjp.proceed();\n            t2 = System.currentTimeMillis();\n        } catch (Exception e) {\n            throw e;\n        } finally {\n            System.out.println(\"proxy end....... \");\n            System.out.println(\"time cost: \"+ (t2-t1)/1000 + \"s\");\n        }\n\n        return o;\n    }\n}\n</code></pre>\n\n<p>I find that JdkProxy.function1() and JdkProxy.function2() and SubJdkProxy.functionSubJdkProxy() can not be advised.</p>\n\n<p>Sorry, I made a mistake because of IDEA's hint. <a href=\"https://i.stack.imgur.com/ekIhI.png\" rel=\"nofollow noreferrer\">IDEA's hint</a></p>\n"},{"tags":["java","algorithm","search","subset","subset-sum"],"comments":[{"owner":{"account_id":14612183,"reputation":4799,"user_id":10553341,"display_name":"Damien"},"score":0,"creation_date":1646426492,"post_id":71352985,"comment_id":126128684,"body_markdown":"Why is not `[1 1 1]` allowed in your first example? What is the maximum size of the array?","body":"Why is not <code>[1 1 1]</code> allowed in your first example? What is the maximum size of the array?"},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1646451075,"post_id":71352985,"comment_id":126132651,"body_markdown":"Are all elements of `a` non-negative?","body":"Are all elements of <code>a</code> non-negative?"},{"owner":{"account_id":10549957,"reputation":283,"user_id":7772947,"display_name":"xmcx"},"score":0,"creation_date":1646474170,"post_id":71352985,"comment_id":126135884,"body_markdown":"@CarySwoveland I hope this is a solution that supports negative numbers.","body":"@CarySwoveland I hope this is a solution that supports negative numbers."},{"owner":{"account_id":10549957,"reputation":283,"user_id":7772947,"display_name":"xmcx"},"score":0,"creation_date":1646474445,"post_id":71352985,"comment_id":126135934,"body_markdown":"@Damien If `array` is `[1,1,1] and `n` is `3`, then the array itself is the only answer.  Array length may be in the hundreds or even over 1000.","body":"@Damien If <code>array</code> is <code>[1,1,1] and </code>n` is <code>3</code>, then the array itself is the only answer.  Array length may be in the hundreds or even over 1000."},{"owner":{"account_id":14612183,"reputation":4799,"user_id":10553341,"display_name":"Damien"},"score":0,"creation_date":1646474558,"post_id":71352985,"comment_id":126135954,"body_markdown":"I was suggesting  `1+1+1` as an answer, not as an input. Sorry  if it was not clear.","body":"I was suggesting  <code>1+1+1</code> as an answer, not as an input. Sorry  if it was not clear."},{"owner":{"account_id":10549957,"reputation":283,"user_id":7772947,"display_name":"xmcx"},"score":0,"creation_date":1646475847,"post_id":71352985,"comment_id":126136165,"body_markdown":"@Damien All elements in the answer must be selected from the given array.","body":"@Damien All elements in the answer must be selected from the given array."},{"owner":{"account_id":14826207,"reputation":534,"user_id":10707092,"display_name":"Alois Christen"},"score":0,"creation_date":1646763299,"post_id":71352985,"comment_id":126202810,"body_markdown":"And I suppose each element can only be selected once","body":"And I suppose each element can only be selected once"}],"answers":[{"tags":[],"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646448191,"creation_date":1646448191,"answer_id":71359069,"question_id":71352985,"body_markdown":"Here is a solution lightly adapted from solution A.\r\n\r\n    from random import random\r\n    \r\n    def random_subset_sum(array, target):\r\n        sign = 1\r\n        array = sorted(array)\r\n        if target &lt; 0:\r\n            array = reversed(array)\r\n            sign = -1\r\n        # Checkpoint A\r\n    \r\n        last_index = {0: [[-1,1]]}\r\n        for i in range(len(array)):\r\n            for s in list(last_index.keys()):\r\n                new_s = s + array[i]\r\n                total = 0\r\n                for index, count in last_index[s]:\r\n                    total += count\r\n                if 0 &lt; (new_s - target) * sign:\r\n                    pass # Cannot lead to target\r\n                elif new_s in last_index:\r\n                    last_index[new_s].append([i,total])\r\n                else:\r\n                    last_index[new_s] = [[i, total]]\r\n        # Checkpoint B\r\n    \r\n        answer_indexes = []\r\n        last_choice = len(array)\r\n        while -1 &lt; last_choice:\r\n            choice = None\r\n            total = 0\r\n            for i, count in last_index[target]:\r\n                if last_choice &lt;= i:\r\n                    break\r\n                total += count\r\n                if random() &lt;= count / total:\r\n                    choice = i\r\n            target -= array[choice]\r\n            last_choice = choice\r\n            if -1 &lt; choice:\r\n                answer_indexes.append(choice)\r\n    \r\n        return [array[i] for i in reversed(answer_indexes)]","title":"randomly find a combination from an array with duplicate elements and it&#39;s sum equal n","body":"<p>Here is a solution lightly adapted from solution A.</p>\n<pre><code>from random import random\n\ndef random_subset_sum(array, target):\n    sign = 1\n    array = sorted(array)\n    if target &lt; 0:\n        array = reversed(array)\n        sign = -1\n    # Checkpoint A\n\n    last_index = {0: [[-1,1]]}\n    for i in range(len(array)):\n        for s in list(last_index.keys()):\n            new_s = s + array[i]\n            total = 0\n            for index, count in last_index[s]:\n                total += count\n            if 0 &lt; (new_s - target) * sign:\n                pass # Cannot lead to target\n            elif new_s in last_index:\n                last_index[new_s].append([i,total])\n            else:\n                last_index[new_s] = [[i, total]]\n    # Checkpoint B\n\n    answer_indexes = []\n    last_choice = len(array)\n    while -1 &lt; last_choice:\n        choice = None\n        total = 0\n        for i, count in last_index[target]:\n            if last_choice &lt;= i:\n                break\n            total += count\n            if random() &lt;= count / total:\n                choice = i\n        target -= array[choice]\n        last_choice = choice\n        if -1 &lt; choice:\n            answer_indexes.append(choice)\n\n    return [array[i] for i in reversed(answer_indexes)]\n</code></pre>\n"}],"owner":{"account_id":10549957,"reputation":283,"user_id":7772947,"display_name":"xmcx"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646448191,"creation_date":1646404679,"question_id":71352985,"body_markdown":"How can I randomly find a combination from an `array` with duplicate elements and it&#39;s sum equal `n`.\r\n\r\n**Example**\r\n\r\n - `array` is `[1, 2, 2, 3]` and `n` is `3`\r\n - answers are `1+2`, `1+2`, `3`\r\n - If `randomSubsetSum(array, n)` is solution, then `randomSubsetSum([1,2,2,3], 3)` will return one of `1+2`, `1+2`, `3`. Note: `1+2` appear twice as often as `3`\r\n - A real-world scenario: random selection of questions from a question bank for an exam\r\n\r\nI found some similar questions and solutions:\r\n\r\n 1. Q: [Finding all possible combinations of numbers to reach a given sum][1]\r\n\r\n    A: [solution A][2] and [solution B][3]\r\n\r\n 2. Q: [Rank and unrank integer partition with k parts][4]\r\n\r\n    A: [solution C][5]\r\n\r\n**Defect**\r\n\r\n`solution A` and `solution B` can not random find combination. `solution C` does not allow duplicate elements.\r\n\r\n**My Java solution**\r\n\r\n    public List&lt;Integer&gt; randomSubsetSum(List&lt;Integer&gt; list, Integer n) {\r\n        list.removeIf(e -&gt; e &gt; n);\r\n        int maxSum = list.stream().reduce(0, Integer::sum);\r\n        if (maxSum &lt; n) {\r\n            throw new RuntimeException(&quot;maxSum of list lower than n!&quot;);\r\n        }\r\n        if (maxSum == n) {\r\n            return list;\r\n        }\r\n        final SecureRandom random = new SecureRandom();\r\n        // maybe helpful, not important\r\n        final Map&lt;Integer, List&lt;Integer&gt;&gt; map = list.stream().collect(Collectors.groupingBy(Function.identity()));\r\n        final List&lt;Integer&gt; keys = new ArrayList&lt;&gt;(map.keySet());\r\n        final List&lt;Integer&gt; answers = new ArrayList&lt;&gt;();\r\n        int sum = 0;\r\n        while (true) {\r\n            int keyIndex = random.nextInt(keys.size());\r\n            Integer key = keys.get(keyIndex);\r\n            sum += key;\r\n\r\n            // sum equal n\r\n            if (sum == n) {\r\n                List&lt;Integer&gt; elements = map.get(key);\r\n                answers.add(elements.get(random.nextInt(elements.size())));\r\n                break;\r\n            }\r\n\r\n            // sum below n\r\n            if (sum &lt; n) {\r\n                List&lt;Integer&gt; elements = map.get(key);\r\n                answers.add(elements.remove(random.nextInt(elements.size())));\r\n                if (elements.isEmpty()) {\r\n                    map.remove(key);\r\n                    keys.remove(keyIndex);\r\n                }\r\n                continue;\r\n            }\r\n\r\n            // sum over n: exists (below  = n - sum + key) in keys\r\n            int below = n - sum + key;\r\n            if (CollectionUtils.isNotEmpty(map.get(below))) {\r\n                List&lt;Integer&gt; elements = map.get(below);\r\n                answers.add(elements.get(random.nextInt(elements.size())));\r\n                break;\r\n            }\r\n\r\n            // sum over n: exists (over  = sum - n) in answers\r\n            int over = sum - n;\r\n            int answerIndex =\r\n                    IntStream.range(0, answers.size())\r\n                            .filter(index -&gt; answers.get(index) == over)\r\n                            .findFirst().orElse(-1);\r\n            if (answerIndex != -1) {\r\n                List&lt;Integer&gt; elements = map.get(key);\r\n                answers.set(answerIndex, elements.get(random.nextInt(elements.size())));\r\n                break;\r\n            }\r\n\r\n            // Point A. BUG: may occur infinite loop\r\n\r\n            // sum over n: rollback sum\r\n            sum -= key;\r\n            // sum over n: remove min element in answer\r\n            Integer minIndex =\r\n                    IntStream.range(0, answers.size())\r\n                            .boxed()\r\n                            .min(Comparator.comparing(answers::get))\r\n                            // never occurred\r\n                            .orElseThrow(RuntimeException::new);\r\n            Integer element = answers.remove((int) minIndex);\r\n            sum -= element;\r\n            if (keys.contains(element)) {\r\n                map.get(element).add(element);\r\n            } else {\r\n                keys.add(element);\r\n                map.put(element, new ArrayList&lt;&gt;(Collections.singleton(element)));\r\n            }\r\n        }\r\n        return answers;\r\n    }\r\n\r\nAt `Point A`, infinite loop may occur(eg. `randomSubsetSum([3,4,8],13)`) or use a lot of time. How to fix this bug or is there any other solution?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4632322/finding-all-possible-combinations-of-numbers-to-reach-a-given-sum\r\n  [2]: https://stackoverflow.com/a/64380474/7772947\r\n  [3]: https://stackoverflow.com/a/4633515/7772947\r\n  [4]: https://stackoverflow.com/questions/56781001/rank-and-unrank-integer-partition-with-k-parts\r\n  [5]: https://stackoverflow.com/a/56782034/7772947","title":"randomly find a combination from an array with duplicate elements and it&#39;s sum equal n","body":"<p>How can I randomly find a combination from an <code>array</code> with duplicate elements and it's sum equal <code>n</code>.</p>\n<p><strong>Example</strong></p>\n<ul>\n<li><code>array</code> is <code>[1, 2, 2, 3]</code> and <code>n</code> is <code>3</code></li>\n<li>answers are <code>1+2</code>, <code>1+2</code>, <code>3</code></li>\n<li>If <code>randomSubsetSum(array, n)</code> is solution, then <code>randomSubsetSum([1,2,2,3], 3)</code> will return one of <code>1+2</code>, <code>1+2</code>, <code>3</code>. Note: <code>1+2</code> appear twice as often as <code>3</code></li>\n<li>A real-world scenario: random selection of questions from a question bank for an exam</li>\n</ul>\n<p>I found some similar questions and solutions:</p>\n<ol>\n<li><p>Q: <a href=\"https://stackoverflow.com/questions/4632322/finding-all-possible-combinations-of-numbers-to-reach-a-given-sum\">Finding all possible combinations of numbers to reach a given sum</a></p>\n<p>A: <a href=\"https://stackoverflow.com/a/64380474/7772947\">solution A</a> and <a href=\"https://stackoverflow.com/a/4633515/7772947\">solution B</a></p>\n</li>\n<li><p>Q: <a href=\"https://stackoverflow.com/questions/56781001/rank-and-unrank-integer-partition-with-k-parts\">Rank and unrank integer partition with k parts</a></p>\n<p>A: <a href=\"https://stackoverflow.com/a/56782034/7772947\">solution C</a></p>\n</li>\n</ol>\n<p><strong>Defect</strong></p>\n<p><code>solution A</code> and <code>solution B</code> can not random find combination. <code>solution C</code> does not allow duplicate elements.</p>\n<p><strong>My Java solution</strong></p>\n<pre><code>public List&lt;Integer&gt; randomSubsetSum(List&lt;Integer&gt; list, Integer n) {\n    list.removeIf(e -&gt; e &gt; n);\n    int maxSum = list.stream().reduce(0, Integer::sum);\n    if (maxSum &lt; n) {\n        throw new RuntimeException(&quot;maxSum of list lower than n!&quot;);\n    }\n    if (maxSum == n) {\n        return list;\n    }\n    final SecureRandom random = new SecureRandom();\n    // maybe helpful, not important\n    final Map&lt;Integer, List&lt;Integer&gt;&gt; map = list.stream().collect(Collectors.groupingBy(Function.identity()));\n    final List&lt;Integer&gt; keys = new ArrayList&lt;&gt;(map.keySet());\n    final List&lt;Integer&gt; answers = new ArrayList&lt;&gt;();\n    int sum = 0;\n    while (true) {\n        int keyIndex = random.nextInt(keys.size());\n        Integer key = keys.get(keyIndex);\n        sum += key;\n\n        // sum equal n\n        if (sum == n) {\n            List&lt;Integer&gt; elements = map.get(key);\n            answers.add(elements.get(random.nextInt(elements.size())));\n            break;\n        }\n\n        // sum below n\n        if (sum &lt; n) {\n            List&lt;Integer&gt; elements = map.get(key);\n            answers.add(elements.remove(random.nextInt(elements.size())));\n            if (elements.isEmpty()) {\n                map.remove(key);\n                keys.remove(keyIndex);\n            }\n            continue;\n        }\n\n        // sum over n: exists (below  = n - sum + key) in keys\n        int below = n - sum + key;\n        if (CollectionUtils.isNotEmpty(map.get(below))) {\n            List&lt;Integer&gt; elements = map.get(below);\n            answers.add(elements.get(random.nextInt(elements.size())));\n            break;\n        }\n\n        // sum over n: exists (over  = sum - n) in answers\n        int over = sum - n;\n        int answerIndex =\n                IntStream.range(0, answers.size())\n                        .filter(index -&gt; answers.get(index) == over)\n                        .findFirst().orElse(-1);\n        if (answerIndex != -1) {\n            List&lt;Integer&gt; elements = map.get(key);\n            answers.set(answerIndex, elements.get(random.nextInt(elements.size())));\n            break;\n        }\n\n        // Point A. BUG: may occur infinite loop\n\n        // sum over n: rollback sum\n        sum -= key;\n        // sum over n: remove min element in answer\n        Integer minIndex =\n                IntStream.range(0, answers.size())\n                        .boxed()\n                        .min(Comparator.comparing(answers::get))\n                        // never occurred\n                        .orElseThrow(RuntimeException::new);\n        Integer element = answers.remove((int) minIndex);\n        sum -= element;\n        if (keys.contains(element)) {\n            map.get(element).add(element);\n        } else {\n            keys.add(element);\n            map.put(element, new ArrayList&lt;&gt;(Collections.singleton(element)));\n        }\n    }\n    return answers;\n}\n</code></pre>\n<p>At <code>Point A</code>, infinite loop may occur(eg. <code>randomSubsetSum([3,4,8],13)</code>) or use a lot of time. How to fix this bug or is there any other solution?</p>\n"},{"tags":["java","swing","jframe"],"answers":[{"tags":[],"owner":{"account_id":23213362,"reputation":23,"user_id":17306533,"display_name":"Abhinav Ojha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645108679,"creation_date":1645108679,"answer_id":71160159,"question_id":71160005,"body_markdown":"Just create an object for the class Game.\r\n\r\n    new Game();\r\n\r\nAlso the `frame.setLocation(null);` throws an error.","title":"JFrame Java. Window not showing","body":"<p>Just create an object for the class Game.</p>\n<pre><code>new Game();\n</code></pre>\n<p>Also the <code>frame.setLocation(null);</code> throws an error.</p>\n"},{"tags":[],"owner":{"account_id":12596093,"reputation":143,"user_id":9160673,"display_name":"Marios Koni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645109059,"creation_date":1645109059,"answer_id":71160247,"question_id":71160005,"body_markdown":"That&#39;s why it is not a good idea to copy paste code blindly. You have two classes. A Game class which I assume will handle the game logic and a Window function which will handle the GUI related. In your Game class, you have the main function, which is the function java will look for when you start the program. But it&#39;s empty. That&#39;s why your program terminates. You should define an instance of the Game class, which in turn will trigger the Game constructor and your window will be initiated and then call whatever method you need.","title":"JFrame Java. Window not showing","body":"<p>That's why it is not a good idea to copy paste code blindly. You have two classes. A Game class which I assume will handle the game logic and a Window function which will handle the GUI related. In your Game class, you have the main function, which is the function java will look for when you start the program. But it's empty. That's why your program terminates. You should define an instance of the Game class, which in turn will trigger the Game constructor and your window will be initiated and then call whatever method you need.</p>\n"},{"tags":[],"owner":{"account_id":21345642,"reputation":16,"user_id":15715740,"display_name":"Prime Balpreet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645109842,"creation_date":1645109842,"answer_id":71160434,"question_id":71160005,"body_markdown":"Add a `new Game();` in the main method.\r\nInstead of `frame.setLocation(null);` do `frame.setRelativeLocation(null);","title":"JFrame Java. Window not showing","body":"<p>Add a <code>new Game();</code> in the main method.\nInstead of <code>frame.setLocation(null);</code> do `frame.setRelativeLocation(null);</p>\n"},{"tags":[],"owner":{"account_id":24289131,"reputation":1,"user_id":18234469,"display_name":"Adri2210"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645110970,"creation_date":1645110970,"answer_id":71160734,"question_id":71160005,"body_markdown":"It works now, thanks guys! The problem was not the setLocationRelativetoNull(null); but that I forgot to create an object of the game class in the main method. And the Title was not being used because I created the Jframe frame = new Jframe(); instead of Jframe frame = new Jframe(title);","title":"JFrame Java. Window not showing","body":"<p>It works now, thanks guys! The problem was not the setLocationRelativetoNull(null); but that I forgot to create an object of the game class in the main method. And the Title was not being used because I created the Jframe frame = new Jframe(); instead of Jframe frame = new Jframe(title);</p>\n"}],"owner":{"account_id":24289131,"reputation":1,"user_id":18234469,"display_name":"Adri2210"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1646445377,"creation_date":1645108103,"question_id":71160005,"body_markdown":"Heey,\r\nI tried to copy a game code from a tutorial for a simple game and was just creating the environment for it. The problem now is I copied the code and also checked it several times and it just does not show. The code itself does not seem to have any errors and the console only shows some &quot;terminated  Game [Java Application] C:/Users....&quot; which I don&#180;t really understand.\r\n\r\n``` \r\n\r\npackage com.tutorial.main;\r\n\r\nimport java.awt.Canvas;\r\n\r\npublic class Game extends Canvas implements Runnable{\r\n\t\r\n\tprivate static final long serialVersionUID = 1550691097823471818L;\r\n\t\r\n\tpublic static final int WIDTH = 640, HEIGTH = WIDTH / 12 * 9;\r\n\t\r\n\tpublic Game() {\r\n\t\tnew Window(WIDTH, HEIGTH, &quot;Let&#180;s build a Game!&quot;, this);\r\n\t}\r\n\t\r\n\tpublic synchronized void start() {\r\n\t\t\r\n\t}\r\n\tpublic void run() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void main(String []args ) {\r\n\r\n\t\t}\r\n\t}\r\n\r\n``` \r\nand the class \r\n``` \r\n\r\npackage com.tutorial.main;\r\n\r\nimport java.awt.Canvas;\r\nimport java.awt.Dimension;\r\nimport javax.swing.JFrame;\r\n\r\npublic class Window extends Canvas{\r\n\r\n    enter code here\r\n\tprivate static final long serialVersionUID = -240840600533728354L;\r\n\t\r\n\tpublic Window(int width, int height, String title, Game game) {\r\n\t\tJFrame frame = new JFrame();\r\n\t\t\r\n\t\tframe.setPreferredSize(new Dimension(width, height));\r\n\t\tframe.setMinimumSize(new Dimension(width, height));\r\n\t\tframe.setMaximumSize(new Dimension(width, height));\r\n\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setResizable(false);\r\n\t\tframe.setLocation(null);\r\n\t\tframe.add(game);\r\n\t\tframe.setVisible(true);\r\n\t\tgame.start();\r\n\t}\r\n\r\n}\r\n ```\r\n","title":"JFrame Java. Window not showing","body":"<p>Heey,\nI tried to copy a game code from a tutorial for a simple game and was just creating the environment for it. The problem now is I copied the code and also checked it several times and it just does not show. The code itself does not seem to have any errors and the console only shows some &quot;terminated  Game [Java Application] C:/Users....&quot; which I don´t really understand.</p>\n<pre><code>\npackage com.tutorial.main;\n\nimport java.awt.Canvas;\n\npublic class Game extends Canvas implements Runnable{\n    \n    private static final long serialVersionUID = 1550691097823471818L;\n    \n    public static final int WIDTH = 640, HEIGTH = WIDTH / 12 * 9;\n    \n    public Game() {\n        new Window(WIDTH, HEIGTH, &quot;Let´s build a Game!&quot;, this);\n    }\n    \n    public synchronized void start() {\n        \n    }\n    public void run() {\n        \n    }\n    \n    public static void main(String []args ) {\n\n        }\n    }\n\n</code></pre>\n<p>and the class</p>\n<pre><code>\npackage com.tutorial.main;\n\nimport java.awt.Canvas;\nimport java.awt.Dimension;\nimport javax.swing.JFrame;\n\npublic class Window extends Canvas{\n\n    enter code here\n    private static final long serialVersionUID = -240840600533728354L;\n    \n    public Window(int width, int height, String title, Game game) {\n        JFrame frame = new JFrame();\n        \n        frame.setPreferredSize(new Dimension(width, height));\n        frame.setMinimumSize(new Dimension(width, height));\n        frame.setMaximumSize(new Dimension(width, height));\n\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setResizable(false);\n        frame.setLocation(null);\n        frame.add(game);\n        frame.setVisible(true);\n        game.start();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","swing","jframe","jcomponent","jspinner"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1645657844,"post_id":71245069,"comment_id":125934186,"body_markdown":"The arrow layout is controlled by the look and feel delegate, so I don&#39;t think there is a &quot;simple way&quot; to achieve this","body":"The arrow layout is controlled by the look and feel delegate, so I don&#39;t think there is a &quot;simple way&quot; to achieve this"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1645658372,"post_id":71245069,"comment_id":125934347,"body_markdown":"`JSpinner` has a `createEditor` method, in theory, you could override this method and modify the result or create your own editor to align the text based on you need.  The basic editors are all internal `public static` classes, so in theory, you can re-use those.  You could also make use of `setEditor` to pass in your own editor, again, this is not &quot;simple&quot; and has a lot of complications wrapped around it. You also need to consider the fact that you&#39;re fighting pre-existing user expectations (they are use to a certain layout), is it really worth messing with the user in this way","body":"<code>JSpinner</code> has a <code>createEditor</code> method, in theory, you could override this method and modify the result or create your own editor to align the text based on you need.  The basic editors are all internal <code>public static</code> classes, so in theory, you can re-use those.  You could also make use of <code>setEditor</code> to pass in your own editor, again, this is not &quot;simple&quot; and has a lot of complications wrapped around it. You also need to consider the fact that you&#39;re fighting pre-existing user expectations (they are use to a certain layout), is it really worth messing with the user in this way"},{"owner":{"account_id":15587425,"reputation":61,"user_id":11245518,"display_name":"fox"},"score":0,"creation_date":1645658943,"post_id":71245069,"comment_id":125934506,"body_markdown":"Oh well, if its that much effort it probably wont be worth it. Even if its against the norm it would have worked in favour of my GUI.","body":"Oh well, if its that much effort it probably wont be worth it. Even if its against the norm it would have worked in favour of my GUI."}],"answers":[{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645661990,"creation_date":1645661990,"answer_id":71245586,"question_id":71245069,"body_markdown":"You can override the methods found in **BasicSpinnerUI** for creating the next and previous buttons:\r\n\r\nCustom Spinner UI:\r\n```\r\nimport javax.swing.JButton;\r\nimport javax.swing.JComponent;\r\nimport javax.swing.SwingConstants;\r\nimport javax.swing.UIManager;\r\nimport javax.swing.border.Border;\r\nimport javax.swing.border.CompoundBorder;\r\nimport javax.swing.plaf.ComponentUI;\r\nimport javax.swing.plaf.UIResource;\r\nimport javax.swing.plaf.basic.BasicArrowButton;\r\nimport javax.swing.plaf.basic.BasicSpinnerUI;\r\nimport java.awt.Component;\r\nimport java.awt.Dimension;\r\nimport java.awt.BorderLayout;\r\n\r\npublic class MyJSpinnerUI extends BasicSpinnerUI{\r\n    public static ComponentUI createUI(JComponent c) {\r\n        return new MyJSpinnerUI();\r\n    }\r\n\r\n    @Override \r\n    protected Component createNextButton(){\r\n        // change arrow direction: up becomes right\r\n        Component c = createArrowButton(SwingConstants.EAST);\r\n        c.setName(&quot;Spinner.nextButton&quot;);\r\n        c.setSize(new Dimension(5, 5));\r\n        installNextButtonListeners(c);\r\n        return c;\r\n    }\r\n\r\n    @Override\r\n    protected Component createPreviousButton() {\r\n        // change arrow direction: down becomes left\r\n        Component c = createArrowButton(SwingConstants.WEST);\r\n        c.setName(&quot;Spinner.previousButton&quot;);\r\n        c.setSize(new Dimension(5, 5));\r\n        installPreviousButtonListeners(c);\r\n        return c;\r\n    }\r\n\r\n    @Override\r\n    public void installUI(JComponent c) {\r\n      super.installUI(c);\r\n      c.removeAll();\r\n      c.setLayout(new BorderLayout());\r\n\r\n      // here you can play with their positioning\r\n      c.add(createPreviousButton(), BorderLayout.WEST);\r\n      c.add(createEditor(), BorderLayout.CENTER);\r\n      c.add(createNextButton(), BorderLayout.EAST);\r\n    }\r\n\r\n    // private method inside BasicSpinnerUI\r\n    private Component createArrowButton(int direction) {\r\n        JButton b = new BasicArrowButton(direction);\r\n        Border buttonBorder = UIManager.getBorder(&quot;Spinner.arrowButtonBorder&quot;);\r\n        if (buttonBorder instanceof UIResource) {\r\n            // Wrap the border to avoid having the UIResource be replaced by\r\n            // the ButtonUI. This is the opposite of using BorderUIResource.\r\n            b.setBorder(new CompoundBorder(buttonBorder, null));\r\n        } else {\r\n            b.setBorder(buttonBorder);\r\n        }\r\n        b.setInheritsPopupMenu(true);\r\n        return b;\r\n    }\r\n}\r\n```\r\n\r\nDemo:\r\n```\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JSpinner;\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;  \r\n\r\npublic class JSpinnerTest{\r\n\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame(&quot;JSpinner changed arrows&quot;);  \r\n        JPanel panel = new JPanel();  \r\n        JSpinner jSpinner = new JSpinner();\r\n\r\n        // apply your custom Spinner UI\r\n        jSpinner.setUI(new MyJSpinnerUI());\r\n\r\n        jSpinner.setPreferredSize(new Dimension(100, 40));\r\n        panel.setLayout(new FlowLayout());  \r\n        panel.add(jSpinner);  \r\n        frame.add(panel);\r\n        frame.setVisible(true);  \r\n        frame.setSize(1000, 400);  \r\n        frame.setLocationRelativeTo(null);  \r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);  \r\n\r\n    }\r\n}\r\n```","title":"How to invert JSpinner layout","body":"<p>You can override the methods found in <strong>BasicSpinnerUI</strong> for creating the next and previous buttons:</p>\n<p>Custom Spinner UI:</p>\n<pre><code>import javax.swing.JButton;\nimport javax.swing.JComponent;\nimport javax.swing.SwingConstants;\nimport javax.swing.UIManager;\nimport javax.swing.border.Border;\nimport javax.swing.border.CompoundBorder;\nimport javax.swing.plaf.ComponentUI;\nimport javax.swing.plaf.UIResource;\nimport javax.swing.plaf.basic.BasicArrowButton;\nimport javax.swing.plaf.basic.BasicSpinnerUI;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.BorderLayout;\n\npublic class MyJSpinnerUI extends BasicSpinnerUI{\n    public static ComponentUI createUI(JComponent c) {\n        return new MyJSpinnerUI();\n    }\n\n    @Override \n    protected Component createNextButton(){\n        // change arrow direction: up becomes right\n        Component c = createArrowButton(SwingConstants.EAST);\n        c.setName(&quot;Spinner.nextButton&quot;);\n        c.setSize(new Dimension(5, 5));\n        installNextButtonListeners(c);\n        return c;\n    }\n\n    @Override\n    protected Component createPreviousButton() {\n        // change arrow direction: down becomes left\n        Component c = createArrowButton(SwingConstants.WEST);\n        c.setName(&quot;Spinner.previousButton&quot;);\n        c.setSize(new Dimension(5, 5));\n        installPreviousButtonListeners(c);\n        return c;\n    }\n\n    @Override\n    public void installUI(JComponent c) {\n      super.installUI(c);\n      c.removeAll();\n      c.setLayout(new BorderLayout());\n\n      // here you can play with their positioning\n      c.add(createPreviousButton(), BorderLayout.WEST);\n      c.add(createEditor(), BorderLayout.CENTER);\n      c.add(createNextButton(), BorderLayout.EAST);\n    }\n\n    // private method inside BasicSpinnerUI\n    private Component createArrowButton(int direction) {\n        JButton b = new BasicArrowButton(direction);\n        Border buttonBorder = UIManager.getBorder(&quot;Spinner.arrowButtonBorder&quot;);\n        if (buttonBorder instanceof UIResource) {\n            // Wrap the border to avoid having the UIResource be replaced by\n            // the ButtonUI. This is the opposite of using BorderUIResource.\n            b.setBorder(new CompoundBorder(buttonBorder, null));\n        } else {\n            b.setBorder(buttonBorder);\n        }\n        b.setInheritsPopupMenu(true);\n        return b;\n    }\n}\n</code></pre>\n<p>Demo:</p>\n<pre><code>import javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JSpinner;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;  \n\npublic class JSpinnerTest{\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame(&quot;JSpinner changed arrows&quot;);  \n        JPanel panel = new JPanel();  \n        JSpinner jSpinner = new JSpinner();\n\n        // apply your custom Spinner UI\n        jSpinner.setUI(new MyJSpinnerUI());\n\n        jSpinner.setPreferredSize(new Dimension(100, 40));\n        panel.setLayout(new FlowLayout());  \n        panel.add(jSpinner);  \n        frame.add(panel);\n        frame.setVisible(true);  \n        frame.setSize(1000, 400);  \n        frame.setLocationRelativeTo(null);  \n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);  \n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15587425,"reputation":61,"user_id":11245518,"display_name":"fox"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71245586,"answer_count":1,"score":1,"last_activity_date":1646445248,"creation_date":1645657517,"question_id":71245069,"body_markdown":"I have a JSpinner:\r\n\r\n[Spinner][1]\r\n\r\nI want the up/down buttons to be on the left side, and also the text to align on the left.\r\n\r\nIs there a simple way I can achieve this? Thank you\r\n\r\n    JSpinner spinner = new JSpinner();\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ai7pp.png","title":"How to invert JSpinner layout","body":"<p>I have a JSpinner:</p>\n<p><a href=\"https://i.stack.imgur.com/Ai7pp.png\" rel=\"nofollow noreferrer\">Spinner</a></p>\n<p>I want the up/down buttons to be on the left side, and also the text to align on the left.</p>\n<p>Is there a simple way I can achieve this? Thank you</p>\n<pre><code>JSpinner spinner = new JSpinner();\n</code></pre>\n"},{"tags":["java","swing","jframe","jpanel"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1645799318,"post_id":71267269,"comment_id":125972787,"body_markdown":"@nitind: that won&#39;t change a thing, since the `JFrame#add(...)` method delegates directly to `contentPane.add(...)`.","body":"@nitind: that won&#39;t change a thing, since the <code>JFrame#add(...)</code> method delegates directly to <code>contentPane.add(...)</code>."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1645799960,"post_id":71267269,"comment_id":125972999,"body_markdown":"1. Better to use a CardLayout when swapping components. 2. If you must do it &quot;by hand&quot;, be sure to call `revalidate()` then `repaint()` on the container after adding components to it. 3. Avoid use of null layouts and instead learn and use the layout managers.","body":"1. Better to use a CardLayout when swapping components. 2. If you must do it &quot;by hand&quot;, be sure to call <code>revalidate()</code> then <code>repaint()</code> on the container after adding components to it. 3. Avoid use of null layouts and instead learn and use the layout managers."}],"owner":{"account_id":23610428,"reputation":13,"user_id":17645530,"display_name":"Ayush Nobeen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645799903,"answer_count":0,"score":0,"last_activity_date":1646445126,"creation_date":1645799040,"question_id":71267269,"body_markdown":"Why my panel is not displaying after I click the button?\r\n\r\nI am guessing that my frame is not retrieving my panel.\r\nOR have I made an error when adding the object to panel? \r\n\r\n\r\n     \r\n\r\n\r\n```\r\npublic class gui{\r\n    JPanel panel= new JPanel();\r\n     \r\n    public gui() {\r\n        JFrame frame= new JFrame(&quot;GUI&quot;);   \t\t \r\n    \tframe.setSize(500,500);\r\n        addBtns();\r\n        frame.add(button1);\r\n        frame.add(button2);\r\n        panel = new JPanel();\r\n        panel.setBackground(Color.WHITE);\r\n    \tpanel.setBounds(350, 100, 500, 750);\r\n    \tpanel.setVisible(true);\r\n    \tframe.add(panel);           \r\n    \tframe.setVisible(true);\r\n    }\r\n    \r\n    public void displayNodes() {   \r\n        DrawingCanvas dc = new DrawingCanvas(100,100,vertex, path);\r\n        panel.add(dc);\t    \r\n    }\r\n    \r\n    public static void main(String[]args) {\r\n    \tnew gui();\r\n    }\r\n    \r\n    public void addBtns() {    \r\n        button1.setBounds(110,380,180,65);\r\n        userInput.setBounds(245,145,50,35);\r\n        button1.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n    \t    displayNodes();\r\n    \t\t}\r\n    \t});\r\n    } \r\n}  \r\n```","title":"Panel not showing object","body":"<p>Why my panel is not displaying after I click the button?</p>\n<p>I am guessing that my frame is not retrieving my panel.\nOR have I made an error when adding the object to panel?</p>\n<pre><code>public class gui{\n    JPanel panel= new JPanel();\n     \n    public gui() {\n        JFrame frame= new JFrame(&quot;GUI&quot;);         \n        frame.setSize(500,500);\n        addBtns();\n        frame.add(button1);\n        frame.add(button2);\n        panel = new JPanel();\n        panel.setBackground(Color.WHITE);\n        panel.setBounds(350, 100, 500, 750);\n        panel.setVisible(true);\n        frame.add(panel);           \n        frame.setVisible(true);\n    }\n    \n    public void displayNodes() {   \n        DrawingCanvas dc = new DrawingCanvas(100,100,vertex, path);\n        panel.add(dc);      \n    }\n    \n    public static void main(String[]args) {\n        new gui();\n    }\n    \n    public void addBtns() {    \n        button1.setBounds(110,380,180,65);\n        userInput.setBounds(245,145,50,35);\n        button1.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n            displayNodes();\n            }\n        });\n    } \n}  \n</code></pre>\n"},{"tags":["java","string","swing","user-interface","jframe"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1645951772,"post_id":71283349,"comment_id":126000773,"body_markdown":"What does &#39;It comes up null on my firstname&#39; mean? Plus you did not post the full code. The problem may be in the unknown parts.","body":"What does &#39;It comes up null on my firstname&#39; mean? Plus you did not post the full code. The problem may be in the unknown parts."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1645951932,"post_id":71283349,"comment_id":126000802,"body_markdown":"You&#39;re not passing the first name to the second `JFrame`.  You should be using one `JFrame` and a `CardLayout`.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"You&#39;re not passing the first name to the second <code>JFrame</code>.  You should be using one <code>JFrame</code> and a <code>CardLayout</code>.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1645971437,"post_id":71283349,"comment_id":126004409,"body_markdown":"You should include minimal, **REPRODUCIBLE** code. What you included here cannot be run.","body":"You should include minimal, <b>REPRODUCIBLE</b> code. What you included here cannot be run."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645953321,"creation_date":1645953321,"answer_id":71283508,"question_id":71283349,"body_markdown":"In your class 1 you use `gui1.setName(first_name);`, which will invoke\r\n\r\n    public void setName(String name) {\r\n        this.first_name = name;\r\n    }\r\n\r\nin class 2. But the value is not passed to the Label. That method probably should look like\r\n\r\n    public void setName(String name) {\r\n        this.first_name = name;\r\n        first_name_label.setText(name);\r\n    }\r\n","title":"Passing string value one gui to another","body":"<p>In your class 1 you use <code>gui1.setName(first_name);</code>, which will invoke</p>\n<pre><code>public void setName(String name) {\n    this.first_name = name;\n}\n</code></pre>\n<p>in class 2. But the value is not passed to the Label. That method probably should look like</p>\n<pre><code>public void setName(String name) {\n    this.first_name = name;\n    first_name_label.setText(name);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645978356,"creation_date":1645978356,"answer_id":71286363,"question_id":71283349,"body_markdown":"All you need to do is add the second GUI (let&#39;s call it a popup) as a component of the first. In the example below, I chose to make the popup an internal frame. Then, all the action listener of the &quot;show popup&quot; button needs to do is grab the text from the text field and set it on the label in the popup.\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class MyApp {\r\n\r\n    public static void main (String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; createAndShowGUI());\r\n    }\r\n    private static void createAndShowGUI () {\r\n        JFrame frame = new JFrame();\r\n        Form form = new Form();\r\n        Container pane = frame.getContentPane();\r\n        pane.add(form, BorderLayout.CENTER);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(400, 400);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private static class Form extends JPanel {\r\n        private JTextField field = new JTextField();\r\n        private Popup popup = new Popup();\r\n        JButton btn = new JButton(&quot;Show popup&quot;);\r\n\r\n        public Form() {\r\n            field.setColumns(20);\r\n            add(field);\r\n            add(btn);\r\n            add(popup);\r\n            btn.addActionListener(e -&gt; {\r\n                popup.setLabel(field.getText());\r\n                popup.setVisible(true);\r\n            });\r\n        }\r\n    }\r\n\r\n    private static class Popup extends JInternalFrame {\r\n        private static final String TEXT_PREFIX = &quot;You entered: &quot;;\r\n        private JLabel label = new JLabel(TEXT_PREFIX);\r\n\r\n        public Popup () {\r\n            super(&quot;Popup&quot;, false, true, false, false);\r\n            add(label);\r\n            label.setVisible(true);\r\n            setLocation(0,0);\r\n            setPreferredSize(new Dimension(200, 100));\r\n        }\r\n\r\n        public void setLabel (String text) {\r\n            label.setText(TEXT_PREFIX + text);\r\n        }\r\n    }\r\n}\r\n```\r\nI added this code to Replit. You can run it from there. [Replit JInternalFrameDemo][1]\r\n\r\nSee the results below:\r\n\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://replit.com/@HectorFontanez1/InternalFrameDemo?v=1\r\n  [2]: https://i.stack.imgur.com/XAxrx.png\r\n  [3]: https://i.stack.imgur.com/MmNqV.png","title":"Passing string value one gui to another","body":"<p>All you need to do is add the second GUI (let's call it a popup) as a component of the first. In the example below, I chose to make the popup an internal frame. Then, all the action listener of the &quot;show popup&quot; button needs to do is grab the text from the text field and set it on the label in the popup.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class MyApp {\n\n    public static void main (String[] args) {\n        SwingUtilities.invokeLater(() -&gt; createAndShowGUI());\n    }\n    private static void createAndShowGUI () {\n        JFrame frame = new JFrame();\n        Form form = new Form();\n        Container pane = frame.getContentPane();\n        pane.add(form, BorderLayout.CENTER);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(400, 400);\n        frame.setVisible(true);\n    }\n\n    private static class Form extends JPanel {\n        private JTextField field = new JTextField();\n        private Popup popup = new Popup();\n        JButton btn = new JButton(&quot;Show popup&quot;);\n\n        public Form() {\n            field.setColumns(20);\n            add(field);\n            add(btn);\n            add(popup);\n            btn.addActionListener(e -&gt; {\n                popup.setLabel(field.getText());\n                popup.setVisible(true);\n            });\n        }\n    }\n\n    private static class Popup extends JInternalFrame {\n        private static final String TEXT_PREFIX = &quot;You entered: &quot;;\n        private JLabel label = new JLabel(TEXT_PREFIX);\n\n        public Popup () {\n            super(&quot;Popup&quot;, false, true, false, false);\n            add(label);\n            label.setVisible(true);\n            setLocation(0,0);\n            setPreferredSize(new Dimension(200, 100));\n        }\n\n        public void setLabel (String text) {\n            label.setText(TEXT_PREFIX + text);\n        }\n    }\n}\n</code></pre>\n<p>I added this code to Replit. You can run it from there. <a href=\"https://replit.com/@HectorFontanez1/InternalFrameDemo?v=1\" rel=\"nofollow noreferrer\">Replit JInternalFrameDemo</a></p>\n<p>See the results below:</p>\n<p><a href=\"https://i.stack.imgur.com/XAxrx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XAxrx.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/MmNqV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MmNqV.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23866293,"reputation":3,"user_id":17868569,"display_name":"groundon000"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71283508,"answer_count":2,"score":0,"last_activity_date":1646445027,"creation_date":1645951562,"question_id":71283349,"body_markdown":"[Main class ][1]\r\n\r\n[Result GUI][2]\r\n\r\n\r\nI am trying to add one string from main class to another gui when you hit the submit button. When the second gui comes up however, it comes up null on my firstname.\r\n\r\nclass 1 main\r\n\r\n    public class SubmitButtonHandler implements ActionListener{\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\r\n    \t\t\r\n    \t\tfirst_name = firstText.getText();\r\n    \t\tlast_name = lastText.getText();\r\n    \t\tfirstText.setText(first_name);\r\n    \t\tlastText.setText(last_name);\r\n    \t\t\r\n    \t\t\r\n    \t\tframe.setVisible(false);\r\n    \t\tresultGui gui1 = new resultGui();\r\n    \t\tgui1.setName(first_name);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    } \r\n\r\nclass 2 second gui\r\n   \r\n\r\n     public JFrame resultFrame;\r\n        public JLabel first_name_label , last_name_label;\r\n        private String first_name;\r\n        \t\r\n          public String getName() {\r\n        \t  return first_name;\r\n          }\r\n        \t\r\n          public void setName(String name) {\r\n        \t  this.first_name = name;\r\n          }\r\n    \r\n       \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TZrP1.png\r\n  [2]: https://i.stack.imgur.com/zj1og.png","title":"Passing string value one gui to another","body":"<p><a href=\"https://i.stack.imgur.com/TZrP1.png\" rel=\"nofollow noreferrer\">Main class </a></p>\n<p><a href=\"https://i.stack.imgur.com/zj1og.png\" rel=\"nofollow noreferrer\">Result GUI</a></p>\n<p>I am trying to add one string from main class to another gui when you hit the submit button. When the second gui comes up however, it comes up null on my firstname.</p>\n<p>class 1 main</p>\n<pre><code>public class SubmitButtonHandler implements ActionListener{\n    public void actionPerformed(ActionEvent e) {\n        \n        \n        first_name = firstText.getText();\n        last_name = lastText.getText();\n        firstText.setText(first_name);\n        lastText.setText(last_name);\n        \n        \n        frame.setVisible(false);\n        resultGui gui1 = new resultGui();\n        gui1.setName(first_name);\n        \n    }\n    \n} \n</code></pre>\n<p>class 2 second gui</p>\n<pre><code> public JFrame resultFrame;\n    public JLabel first_name_label , last_name_label;\n    private String first_name;\n        \n      public String getName() {\n          return first_name;\n      }\n        \n      public void setName(String name) {\n          this.first_name = name;\n      }\n\n   \n</code></pre>\n"},{"tags":["java","eclipse","swing","jframe"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646463202,"post_id":71354246,"comment_id":126134174,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1646463510,"post_id":71354246,"comment_id":126134216,"body_markdown":"I believe you mean that you installed [WindowBuilder](https://www.eclipse.org/windowbuilder/). Your screen capture looks fine to me. Are you saying that something is missing from the image in your question?","body":"I believe you mean that you installed <a href=\"https://www.eclipse.org/windowbuilder/\" rel=\"nofollow noreferrer\">WindowBuilder</a>. Your screen capture looks fine to me. Are you saying that something is missing from the image in your question?"}],"owner":{"account_id":23150186,"reputation":1,"user_id":17252325,"display_name":"Jejoreo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646444587,"creation_date":1646410835,"question_id":71354246,"body_markdown":"I just installed `JFrame` and it seems to only shows a fraction of the form design, any fix to show the full form design?\r\n\r\nFrame first opened:\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/69gC7.png&quot;&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/69gC7.png","title":"JFrame not showing (full)","body":"<p>I just installed <code>JFrame</code> and it seems to only shows a fraction of the form design, any fix to show the full form design?</p>\n<p>Frame first opened:</p>\n<img src=\"https://i.stack.imgur.com/69gC7.png\">\n"},{"tags":["java","matlab"],"comments":[{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1646444721,"post_id":71356311,"comment_id":126131887,"body_markdown":"A similar question: *[MATLAB reports &quot;Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException&quot;](https://stackoverflow.com/questions/25015983/)*","body":"A similar question: <i><a href=\"https://stackoverflow.com/questions/25015983/\">MATLAB reports &quot;Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException&quot;</a></i>"},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1646444865,"post_id":71356311,"comment_id":126131906,"body_markdown":"Why is Java involved at all? Is it for the terminal application?","body":"Why is Java involved at all? Is it for the terminal application?"},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1646445177,"post_id":71356311,"comment_id":126131942,"body_markdown":"You may consider to  [add](https://stackoverflow.com/posts/71356311/edit) system information, like operating system (e.g., [Linux](https://en.wikipedia.org/wiki/Linux) or [Windows 10](https://en.wikipedia.org/wiki/Microsoft_Windows). Incl. version), distribution (incl. version), MATLAB version, Java version, and other information that may be relevant (like what type of installation system, both for MATLAB and the other components). (But ***without*** &quot;Edit:&quot;, &quot;Update:&quot;, or similar - the question should appear as if it was written right now.)","body":"You may consider to  <a href=\"https://stackoverflow.com/posts/71356311/edit\">add</a> system information, like operating system (e.g., <a href=\"https://en.wikipedia.org/wiki/Linux\" rel=\"nofollow noreferrer\">Linux</a> or <a href=\"https://en.wikipedia.org/wiki/Microsoft_Windows\" rel=\"nofollow noreferrer\">Windows 10</a>. Incl. version), distribution (incl. version), MATLAB version, Java version, and other information that may be relevant (like what type of installation system, both for MATLAB and the other components). (But <b><i>without</i></b> &quot;Edit:&quot;, &quot;Update:&quot;, or similar - the question should appear as if it was written right now.)"},{"owner":{"account_id":1390247,"reputation":1111,"user_id":1321247,"display_name":"X Zhang"},"score":0,"creation_date":1646468237,"post_id":71356311,"comment_id":126134916,"body_markdown":"@PeterMortensen This is actually a legitimate problem that also bothers me sometimes. On the desktop, the entire MATLAB GUI is handled by the Java Swing framework on top of the bundled JRE, and interacts with computational side now and then (figures, code completion, help, etc.)","body":"@PeterMortensen This is actually a legitimate problem that also bothers me sometimes. On the desktop, the entire MATLAB GUI is handled by the Java Swing framework on top of the bundled JRE, and interacts with computational side now and then (figures, code completion, help, etc.)"},{"owner":{"account_id":1390247,"reputation":1111,"user_id":1321247,"display_name":"X Zhang"},"score":0,"creation_date":1646468855,"post_id":71356311,"comment_id":126135012,"body_markdown":"It&#39;s likely you have some missing or broken files or bad saved configuration. The immediate remedy to this specific exception might be un-tick the Preference-&gt;Command Window-&gt;Automatic Completions-&gt;Enable function hints box, but you should check your disk and reinstall the MATLAB suit when possible.","body":"It&#39;s likely you have some missing or broken files or bad saved configuration. The immediate remedy to this specific exception might be un-tick the Preference-&gt;Command Window-&gt;Automatic Completions-&gt;Enable function hints box, but you should check your disk and reinstall the MATLAB suit when possible."}],"owner":{"account_id":17515542,"reputation":1,"user_id":14930458,"display_name":"Aayush Boliya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646444120,"creation_date":1646421790,"question_id":71356311,"body_markdown":"I am new to MATLAB, learning in university. I installed MATLAB from my university license. So, no matter what I type in the command window, the command does execute, but also this long error text in red.\r\n\r\nFor example:\r\n\r\n```lang-none\r\n&gt;&gt; 1+1\r\n\r\nans =\r\n\r\n     2\r\n\r\nException in thread &quot;AWT-EventQueue-0&quot;: java.lang.NoClassDefFoundError: Could not initialize class com.mathworks.mlwidgets.help.HelpPrefs\r\n    at com.mathworks.mlwidgets.help.HelpUtils.isDocInstalled(HelpUtils.java:453)\r\n    at com.mathworks.mde.functionhints.FunctionHints.openFunctionHints(FunctionHints.java:108)\r\n    at com.mathworks.mde.cmdwin.CmdWinEditorKit.maybeOpenFunctionHints(CmdWinEditorKit.java:1706)\r\n    at com.mathworks.mde.cmdwin.CmdWinEditorKit.access$1000(CmdWinEditorKit.java:88)\r\n    at com.mathworks.mde.cmdwin.CmdWinEditorKit$CWDefaultKeyTypedAction.actionPerformed(CmdWinEditorKit.java:2175)\r\n    at javax.swing.SwingUtilities.notifyAction(SwingUtilities.java:1668)\r\n    at javax.swing.JComponent.processKeyBinding(JComponent.java:2882)\r\n    at javax.swing.JComponent.processKeyBindings(JComponent.java:2929)\r\n    at javax.swing.JComponent.processKeyEvent(JComponent.java:2845)\r\n    at com.mathworks.mde.cmdwin.XCmdWndView.processKeyEvent(XCmdWndView.java:2461)\r\n    at java.awt.Component.processEvent(Component.java:6316)\r\n    at java.awt.Container.processEvent(Container.java:2239)\r\n    at com.mathworks.mde.cmdwin.XCmdWndView.processEvent(XCmdWndView.java:439)\r\n    at java.awt.Component.dispatchEventImpl(Component.java:4889)\r\n    at java.awt.Container.dispatchEventImpl(Container.java:2297)\r\n    at java.awt.Component.dispatchEvent(Component.java:4711)\r\n    at java.awt.KeyboardFocusManager.redispatchEvent(KeyboardFocusManager.java:1954)\r\n    at java.awt.DefaultKeyboardFocusManager.dispatchKeyEvent(DefaultKeyboardFocusManager.java:835)\r\n    at java.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent(DefaultKeyboardFocusManager.java:1103)\r\n    at java.awt.DefaultKeyboardFocusManager.typeAheadAssertions(DefaultKeyboardFocusManager.java:974)\r\n    at java.awt.DefaultKeyboardFocusManager.dispatchEvent(DefaultKeyboardFocusManager.java:800)\r\n    at java.awt.Component.dispatchEventImpl(Component.java:4760)\r\n    at java.awt.Container.dispatchEventImpl(Container.java:2297)\r\n    at java.awt.Window.dispatchEventImpl(Window.java:2746)\r\n    at java.awt.Component.dispatchEvent(Component.java:4711)\r\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\r\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\r\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\r\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\r\n    at java.security.AccessController.doPrivileged(Native Method)\r\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\r\n    at java.awt.EventQueue$4.run(EventQueue.java:733)\r\n    at java.awt.EventQueue$4.run(EventQueue.java:731)\r\n    at java.security.AccessController.doPrivileged(Native Method)\r\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\r\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\r\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)```\r\n```\r\n\r\nHow can I fix it?\r\n\r\n\r\n","title":"Exception in thread &quot;AWT-EventQueue-0&quot;: java.lang.​NoClassDef​FoundError on command window","body":"<p>I am new to MATLAB, learning in university. I installed MATLAB from my university license. So, no matter what I type in the command window, the command does execute, but also this long error text in red.</p>\n<p>For example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt;&gt; 1+1\n\nans =\n\n     2\n\nException in thread &quot;AWT-EventQueue-0&quot;: java.lang.NoClassDefFoundError: Could not initialize class com.mathworks.mlwidgets.help.HelpPrefs\n    at com.mathworks.mlwidgets.help.HelpUtils.isDocInstalled(HelpUtils.java:453)\n    at com.mathworks.mde.functionhints.FunctionHints.openFunctionHints(FunctionHints.java:108)\n    at com.mathworks.mde.cmdwin.CmdWinEditorKit.maybeOpenFunctionHints(CmdWinEditorKit.java:1706)\n    at com.mathworks.mde.cmdwin.CmdWinEditorKit.access$1000(CmdWinEditorKit.java:88)\n    at com.mathworks.mde.cmdwin.CmdWinEditorKit$CWDefaultKeyTypedAction.actionPerformed(CmdWinEditorKit.java:2175)\n    at javax.swing.SwingUtilities.notifyAction(SwingUtilities.java:1668)\n    at javax.swing.JComponent.processKeyBinding(JComponent.java:2882)\n    at javax.swing.JComponent.processKeyBindings(JComponent.java:2929)\n    at javax.swing.JComponent.processKeyEvent(JComponent.java:2845)\n    at com.mathworks.mde.cmdwin.XCmdWndView.processKeyEvent(XCmdWndView.java:2461)\n    at java.awt.Component.processEvent(Component.java:6316)\n    at java.awt.Container.processEvent(Container.java:2239)\n    at com.mathworks.mde.cmdwin.XCmdWndView.processEvent(XCmdWndView.java:439)\n    at java.awt.Component.dispatchEventImpl(Component.java:4889)\n    at java.awt.Container.dispatchEventImpl(Container.java:2297)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.KeyboardFocusManager.redispatchEvent(KeyboardFocusManager.java:1954)\n    at java.awt.DefaultKeyboardFocusManager.dispatchKeyEvent(DefaultKeyboardFocusManager.java:835)\n    at java.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent(DefaultKeyboardFocusManager.java:1103)\n    at java.awt.DefaultKeyboardFocusManager.typeAheadAssertions(DefaultKeyboardFocusManager.java:974)\n    at java.awt.DefaultKeyboardFocusManager.dispatchEvent(DefaultKeyboardFocusManager.java:800)\n    at java.awt.Component.dispatchEventImpl(Component.java:4760)\n    at java.awt.Container.dispatchEventImpl(Container.java:2297)\n    at java.awt.Window.dispatchEventImpl(Window.java:2746)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\n    at java.awt.EventQueue$4.run(EventQueue.java:733)\n    at java.awt.EventQueue$4.run(EventQueue.java:731)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)```\n</code></pre>\n<p>How can I fix it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4608575,"reputation":429,"user_id":5041879,"accept_rate":60,"display_name":"william cage"},"score":0,"creation_date":1646444578,"post_id":71358738,"comment_id":126131869,"body_markdown":"No it doesn&#39;t. The other questions accepted answer says Java does type comparison within HashMap. But I don&#39;t see a type comparison done within HashMap containsKey method.","body":"No it doesn&#39;t. The other questions accepted answer says Java does type comparison within HashMap. But I don&#39;t see a type comparison done within HashMap containsKey method."},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1646444894,"post_id":71358738,"comment_id":126131908,"body_markdown":"To put it in terms of the other answer: these cases return `false` because `Integer.valueOf(5).equals(Double.valueOf(5))` is `false`.","body":"To put it in terms of the other answer: these cases return <code>false</code> because <code>Integer.valueOf(5).equals(Double.valueOf(5))</code> is <code>false</code>."}],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646443757,"creation_date":1646443757,"answer_id":71358791,"question_id":71358738,"body_markdown":"[`HashSet.contains`](https://docs.oracle.com/javase/7/docs/api/java/util/HashSet.html#contains(java.lang.Object)) takes an `Object` as parameter (so, basically anything). `5.0` is a `double` so it gets autoboxed to a `Double`, and your `HashSet` only contains `Integer` values, which never compare `.equals` to a `Double`.\r\n\r\nEven if `HashSet.contains` took an `Integer` as argument, Java would reject your code. In general, Java is pretty stingy about implicit conversions and will only do so if there&#39;s no loss of precision. So it will happily convert, say, an `int` to a `long` without asking, but it&#39;s way more careful about converting a `double` to an `int` or to an `Integer`.","title":"Why HashSet of Integers returns false for a Double element?","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/HashSet.html#contains(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>HashSet.contains</code></a> takes an <code>Object</code> as parameter (so, basically anything). <code>5.0</code> is a <code>double</code> so it gets autoboxed to a <code>Double</code>, and your <code>HashSet</code> only contains <code>Integer</code> values, which never compare <code>.equals</code> to a <code>Double</code>.</p>\n<p>Even if <code>HashSet.contains</code> took an <code>Integer</code> as argument, Java would reject your code. In general, Java is pretty stingy about implicit conversions and will only do so if there's no loss of precision. So it will happily convert, say, an <code>int</code> to a <code>long</code> without asking, but it's way more careful about converting a <code>double</code> to an <code>int</code> or to an <code>Integer</code>.</p>\n"}],"owner":{"account_id":4608575,"reputation":429,"user_id":5041879,"accept_rate":60,"display_name":"william cage"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1646557463,"answer_count":1,"score":-4,"last_activity_date":1646443757,"creation_date":1646443063,"question_id":71358738,"body_markdown":"I created a **HashSet** of **Integers** (Ex. 5). When I try to check the HashSet for the same added element but in a **Double** element version (Ex. 5d, 5.0). It couldn&#39;t identify and returns false!\r\n\r\nMy assumption was, Java would implicitly convert **Double** to **Integer** and try to identify. But it didn&#39;t! Why is this the case?\r\n\r\n        Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\r\n        set.add(5);\r\n\r\n        System.out.println(set.contains(5d)); // returns false? Why?\r\n        System.out.println(set.contains(5.0));// returns false? Why?\r\n        System.out.println(set.contains(5));  // returns true\r\n        System.out.println(5 == 5d);          // returns true","title":"Why HashSet of Integers returns false for a Double element?","body":"<p>I created a <strong>HashSet</strong> of <strong>Integers</strong> (Ex. 5). When I try to check the HashSet for the same added element but in a <strong>Double</strong> element version (Ex. 5d, 5.0). It couldn't identify and returns false!</p>\n<p>My assumption was, Java would implicitly convert <strong>Double</strong> to <strong>Integer</strong> and try to identify. But it didn't! Why is this the case?</p>\n<pre><code>    Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\n    set.add(5);\n\n    System.out.println(set.contains(5d)); // returns false? Why?\n    System.out.println(set.contains(5.0));// returns false? Why?\n    System.out.println(set.contains(5));  // returns true\n    System.out.println(5 == 5d);          // returns true\n</code></pre>\n"},{"tags":["java","curl"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1489734726,"post_id":42851183,"comment_id":72809768,"body_markdown":"A space on the command line means a new argument.","body":"A space on the command line means a new argument."},{"owner":{"account_id":5794132,"reputation":67,"user_id":4570464,"accept_rate":44,"display_name":"Susmita Sadhu"},"score":0,"creation_date":1489735873,"post_id":42851183,"comment_id":72810278,"body_markdown":"Thanks. It works.","body":"Thanks. It works."}],"answers":[{"tags":[],"owner":{"account_id":10478653,"reputation":51,"user_id":7724348,"display_name":"Seongmin Gwon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489741278,"creation_date":1489736435,"answer_id":42851842,"question_id":42851183,"body_markdown":"I used it like this that executing curl in java.\r\n\r\n    \tpublic static String invokeCurlGet(String _host, int _connectTimeout, int _maxTimeout, int _maxResLength, Charset _charset) throws IOException\r\n    \t{\r\n    \t\tbyte[] res = execute(&quot;curl --connect-timeout &quot; + _connectTimeout + &quot; --max-time &quot; + _maxTimeout + &quot; -X GET &quot; + _host, _maxResLength);\r\n    \t\t\r\n    \t\treturn new String(res, _charset);\r\n    \t}\r\n    \t\r\n    \tpublic static byte[] execute(String _cmd, int _maxResLength) throws IOException\r\n    \t{\r\n    \t\tProcess process = Runtime.getRuntime().exec(_cmd);\r\n    \t\t\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tint result = process.waitFor();\r\n    \t\t\tif(result != 0)\r\n    \t\t\t{\r\n    \t\t\t\tthrow new IOException(&quot;Fail to execute cammand. Exit Value[&quot; + result + &quot;], cmd =&gt; &quot; + _cmd);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch(InterruptedException e)\r\n    \t\t{\r\n    \t\t\tprocess.destroyForcibly();\r\n    \t\t\t\r\n    \t\t\tthrow new IOException(e);\r\n    \t\t}\r\n    \r\n    \t\tBufferedInputStream in = null;\r\n    \t\t\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    \t\t\tin = new BufferedInputStream(process.getInputStream());\r\n    \t\t\tbyte[] buf = new byte[1024];\r\n    \t\t\tint read = 0;\r\n    \t\t\t\r\n    \t\t\twhile((read = in.read(buf)) != -1)\r\n    \t\t\t{\r\n    \t\t\t\tout.write(buf, 0, read);\r\n    \t\t\t\tout.flush();\r\n    \t\t\t\t\r\n    \t\t\t\tif(_maxResLength &gt; 0 &amp;&amp; out.size() &gt; _maxResLength)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tthrow new IOException(&quot;Response length exceeded.&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\treturn out.toByteArray();\r\n    \t\t}\r\n    \t\tfinally\r\n    \t\t{\r\n    \t\t\tif(in != null)\r\n    \t\t\t{\r\n    \t\t\t\tin.close();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) throws Exception\r\n    \t{\r\n    \t\tSystem.out.println(invokeCurlGet(&quot;http://127.0.0.1:9000?messageId=aaaaaaaa&amp;to=asdfsefwaf&quot;, 3, 10, 0, Charset.defaultCharset()));\r\n    //\t\tSystem.out.println(invokeCurlGet(&quot;https://github.com&quot;, 1, 1, 0, Charset.defaultCharset()));\r\n    \t}","title":"Execute CURL command from java code","body":"<p>I used it like this that executing curl in java.</p>\n\n<pre><code>    public static String invokeCurlGet(String _host, int _connectTimeout, int _maxTimeout, int _maxResLength, Charset _charset) throws IOException\n    {\n        byte[] res = execute(\"curl --connect-timeout \" + _connectTimeout + \" --max-time \" + _maxTimeout + \" -X GET \" + _host, _maxResLength);\n\n        return new String(res, _charset);\n    }\n\n    public static byte[] execute(String _cmd, int _maxResLength) throws IOException\n    {\n        Process process = Runtime.getRuntime().exec(_cmd);\n\n        try\n        {\n            int result = process.waitFor();\n            if(result != 0)\n            {\n                throw new IOException(\"Fail to execute cammand. Exit Value[\" + result + \"], cmd =&gt; \" + _cmd);\n            }\n        }\n        catch(InterruptedException e)\n        {\n            process.destroyForcibly();\n\n            throw new IOException(e);\n        }\n\n        BufferedInputStream in = null;\n\n        try\n        {\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\n            in = new BufferedInputStream(process.getInputStream());\n            byte[] buf = new byte[1024];\n            int read = 0;\n\n            while((read = in.read(buf)) != -1)\n            {\n                out.write(buf, 0, read);\n                out.flush();\n\n                if(_maxResLength &gt; 0 &amp;&amp; out.size() &gt; _maxResLength)\n                {\n                    throw new IOException(\"Response length exceeded.\");\n                }\n            }\n\n            return out.toByteArray();\n        }\n        finally\n        {\n            if(in != null)\n            {\n                in.close();\n            }\n        }\n    }\n\n    public static void main(String[] args) throws Exception\n    {\n        System.out.println(invokeCurlGet(\"http://127.0.0.1:9000?messageId=aaaaaaaa&amp;to=asdfsefwaf\", 3, 10, 0, Charset.defaultCharset()));\n//      System.out.println(invokeCurlGet(\"https://github.com\", 1, 1, 0, Charset.defaultCharset()));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489737438,"creation_date":1489737438,"answer_id":42852123,"question_id":42851183,"body_markdown":"Your understanding on how to convert a command line to a list of string arguments is slightly incorrect.  (This is roughly equivalent to how a Unix shell works).\r\n\r\nGenerally when a space is present on the command line it means starting a new argument.  So\r\n\r\n    &quot;-H \\&quot;Content-Type: application/sparql-query\\&quot;&quot;\r\n\r\nshould be\r\n\r\n    &quot;-H&quot;, &quot;\\&quot;Content-Type: application/sparql-query\\&quot;&quot;","title":"Execute CURL command from java code","body":"<p>Your understanding on how to convert a command line to a list of string arguments is slightly incorrect.  (This is roughly equivalent to how a Unix shell works).</p>\n\n<p>Generally when a space is present on the command line it means starting a new argument.  So</p>\n\n<pre><code>\"-H \\\"Content-Type: application/sparql-query\\\"\"\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>\"-H\", \"\\\"Content-Type: application/sparql-query\\\"\"\n</code></pre>\n"}],"owner":{"account_id":5794132,"reputation":67,"user_id":4570464,"accept_rate":44,"display_name":"Susmita Sadhu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13652,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646442295,"creation_date":1489734167,"question_id":42851183,"body_markdown":"I want to execute curl command from java code. I have already seen couple of documents, stackoverflow questions regarding the same. But it is not giving the desired result, I am trying to run this curl command :\r\n\r\n    curl --noproxy &lt;ip&gt; \r\n    -i \r\n    -d &quot;INSERT IN GRAPH &lt;http://graph.com&gt;{ &lt;prop/Advanced_Data_Types&gt; rdf:type owl:NamedIndividual ,\r\n                                        &lt;http://abcd/Video&gt; ,\r\n                                       &lt;http://abcd/LearningResource/BookChapter&gt; ;\r\n                               &lt;http://abcd/hasAuthor&gt; &lt;prop/Eric_Grimson&gt; ;\r\n                               &lt;http://abcd/inLanguage&gt; &lt;http://abcd/#Hindi&gt; ;\r\n                               &lt;http://abcd/sourceOrganization&gt; &lt;prop/IIT_Hyderabad&gt; .}&quot; \r\n    -u &quot;demo:demo&quot; \r\n    -H &quot;Content-Type: application/sparql-query&quot; http://&lt;ip&gt;:&lt;port&gt;/DAV/home/dba/xx\r\n\r\nAnd the JAVA code :\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(\r\n\t\t\t\t&quot;curl&quot;,\r\n\t\t\t\t&quot;-i&quot;,\r\n\t\t\t\t&quot;-d \\&quot;INSERT IN GRAPH &lt;http://graph.com&gt;{ &lt;prop/Advanced_Data_Types&gt; rdf:type owl:NamedIndividual ,&lt;http://abcd/Video&gt; ,&lt;http://abcd/LearningResource/BookChapter&gt; ;&lt;http://abcd/hasAuthor&gt; &lt;prop/Eric_Grimson&gt; ;&lt;http://abcd/inLanguage&gt; &lt;http://abcd/#Hindi&gt; ;&lt;http://abcd/sourceOrganization&gt; &lt;prop/IIT_Hyderabad&gt; .} &quot;,\r\n\t\t\t\t&quot;-u \\&quot;demo:demo\\&quot;&quot;,\r\n\t\t\t\t&quot;-H \\&quot;Content-Type: application/sparql-query\\&quot;&quot;,\r\n\t\t\t\t&quot;http://&lt;ip&gt;:&lt;port&gt;/DAV/home/dba/xx&quot;);\r\n\r\n\t\tpb.redirectErrorStream(true);\r\n\t\tProcess p = pb.start();\r\n\t\tInputStream is = p.getInputStream();\r\n\r\n\t\tString line;\r\n\t\tBufferedInputStream bis = new BufferedInputStream(is);\r\n\t    System.out.println(bis);\r\n\t\t\r\nIs anything wrong in my code? I want to use this particular curl command. Please help.","title":"Execute CURL command from java code","body":"<p>I want to execute curl command from java code. I have already seen couple of documents, stackoverflow questions regarding the same. But it is not giving the desired result, I am trying to run this curl command :</p>\n\n<pre><code>curl --noproxy &lt;ip&gt; \n-i \n-d \"INSERT IN GRAPH &lt;http://graph.com&gt;{ &lt;prop/Advanced_Data_Types&gt; rdf:type owl:NamedIndividual ,\n                                    &lt;http://abcd/Video&gt; ,\n                                   &lt;http://abcd/LearningResource/BookChapter&gt; ;\n                           &lt;http://abcd/hasAuthor&gt; &lt;prop/Eric_Grimson&gt; ;\n                           &lt;http://abcd/inLanguage&gt; &lt;http://abcd/#Hindi&gt; ;\n                           &lt;http://abcd/sourceOrganization&gt; &lt;prop/IIT_Hyderabad&gt; .}\" \n-u \"demo:demo\" \n-H \"Content-Type: application/sparql-query\" http://&lt;ip&gt;:&lt;port&gt;/DAV/home/dba/xx\n</code></pre>\n\n<p>And the JAVA code :</p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(\n            \"curl\",\n            \"-i\",\n            \"-d \\\"INSERT IN GRAPH &lt;http://graph.com&gt;{ &lt;prop/Advanced_Data_Types&gt; rdf:type owl:NamedIndividual ,&lt;http://abcd/Video&gt; ,&lt;http://abcd/LearningResource/BookChapter&gt; ;&lt;http://abcd/hasAuthor&gt; &lt;prop/Eric_Grimson&gt; ;&lt;http://abcd/inLanguage&gt; &lt;http://abcd/#Hindi&gt; ;&lt;http://abcd/sourceOrganization&gt; &lt;prop/IIT_Hyderabad&gt; .} \",\n            \"-u \\\"demo:demo\\\"\",\n            \"-H \\\"Content-Type: application/sparql-query\\\"\",\n            \"http://&lt;ip&gt;:&lt;port&gt;/DAV/home/dba/xx\");\n\n    pb.redirectErrorStream(true);\n    Process p = pb.start();\n    InputStream is = p.getInputStream();\n\n    String line;\n    BufferedInputStream bis = new BufferedInputStream(is);\n    System.out.println(bis);\n</code></pre>\n\n<p>Is anything wrong in my code? I want to use this particular curl command. Please help.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1646434660,"post_id":71358052,"comment_id":126130512,"body_markdown":"Perhaps @JsonIgnore could be used?","body":"Perhaps @JsonIgnore could be used?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1646436721,"post_id":71358052,"comment_id":126130883,"body_markdown":"Your Question seems to roam all over the place. Is the question about filtering a `Map`? Or is the question about serializing to JSON? I suggest a re-write, without any extraneous distractions.","body":"Your Question seems to roam all over the place. Is the question about filtering a <code>Map</code>? Or is the question about serializing to JSON? I suggest a re-write, without any extraneous distractions."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1646442398,"post_id":71358052,"comment_id":126131640,"body_markdown":"@BasilBourque, I disagree. The question is quite clear in what it wants to achieve. At least I understand it. Only the way the OP tried to do it is inadequate,  because the linked tutorial is about avoiding to serialise a whole property, which in this case he wants to avoid serialising objects based on property values, which is not the same. Not serialising `Person.names` does not help, because it is a list which contains some objects he wants and others he does not want. Something like a `SimpleBeanPropertyFilter` does not do what he wants. `@JsonIgnore` does not help either.","body":"@BasilBourque, I disagree. The question is quite clear in what it wants to achieve. At least I understand it. Only the way the OP tried to do it is inadequate,  because the linked tutorial is about avoiding to serialise a whole property, which in this case he wants to avoid serialising objects based on property values, which is not the same. Not serialising <code>Person.names</code> does not help, because it is a list which contains some objects he wants and others he does not want. Something like a <code>SimpleBeanPropertyFilter</code> does not do what he wants. <code>@JsonIgnore</code> does not help either."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646441818,"creation_date":1646441818,"answer_id":71358651,"question_id":71358052,"body_markdown":"_Disclaimer: I never used Jackson before, this was my first contact. I was just looking for a little puzzle to solve while drinking my morning tea, which also enables me to learn something. So I am not sure if there are better or more elegant ways of doing this._\r\n\r\nIn order to present an [MCVE](https://stackoverflow.com/help/mcve) which everyone can easily compile and execute, here are my more complete versions (including getters) of your example classes:\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q71358052;\r\n\r\npublic enum NameType {\r\n  REAL,\r\n  ARTIST,\r\n  ONLINE\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q71358052;\r\n\r\npublic class Name {\r\n  private final String first;\r\n  private final String last;\r\n  private final String middle;\r\n  private final NameType type;\r\n\r\n  public Name(String first, String last, String middle, NameType type) {\r\n    this.first = first;\r\n    this.last = last;\r\n    this.middle = middle;\r\n    this.type = type;\r\n  }\r\n\r\n  public String getFirst() {\r\n    return first;\r\n  }\r\n\r\n  public String getLast() {\r\n    return last;\r\n  }\r\n\r\n  public String getMiddle() {\r\n    return middle;\r\n  }\r\n\r\n  public NameType getType() {\r\n    return type;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q71358052;\r\n\r\nimport java.util.List;\r\n\r\npublic final class Person {\r\n  private final List&lt;Name&gt; names;\r\n\r\n  public Person(List&lt;Name&gt; names) {\r\n    this.names = names;\r\n  }\r\n\r\n  public List&lt;Name&gt; getNames() {\r\n    return names;\r\n  }\r\n}\r\n```\r\n\r\nAs described for a similar case in [this tutorial](https://www.baeldung.com/jackson-serialize-field-custom-criteria#2-custom-serializer), we can use a custom `JsonSerializer&lt;Name&gt;` in combination with a `BeanSerializerModifier`, registering them on the `ObjectMapper` in a `SimpleModule`:\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q71358052;\r\n\r\nimport com.fasterxml.jackson.core.JsonGenerator;\r\nimport com.fasterxml.jackson.databind.JsonSerializer;\r\nimport com.fasterxml.jackson.databind.SerializerProvider;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class NameSerializer extends JsonSerializer&lt;Name&gt; {\r\n  private final JsonSerializer&lt;Object&gt; defaultSerializer;\r\n\r\n  public NameSerializer(JsonSerializer&lt;Object&gt; serializer) {\r\n    defaultSerializer = serializer;\r\n  }\r\n\r\n  @Override\r\n  public void serialize(Name value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n    if (value.getType() != NameType.REAL)\r\n      return;\r\n    defaultSerializer.serialize(value, gen, serializers);\r\n  }\r\n\r\n  @Override\r\n  public boolean isEmpty(SerializerProvider provider, Name value) {\r\n    return value == null || value.getType() != NameType.REAL;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q71358052;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.BeanDescription;\r\nimport com.fasterxml.jackson.databind.JsonSerializer;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.SerializationConfig;\r\nimport com.fasterxml.jackson.databind.module.SimpleModule;\r\nimport com.fasterxml.jackson.databind.ser.BeanSerializerModifier;\r\n\r\nimport java.util.List;\r\n\r\npublic class JacksonDemo {\r\n  public static void main(String[] args) throws JsonProcessingException {\r\n    Person person = new Person(List.of(\r\n      new Name(&quot;Edward&quot;, &quot;Robinson&quot;, &quot;G.&quot;, NameType.ARTIST),\r\n      new Name(&quot;Emanuel&quot;, &quot;Goldenberg&quot;, null, NameType.REAL),\r\n      new Name(&quot;Эмануэль&quot;, &quot;Голденберг&quot;, null, NameType.REAL),\r\n      new Name(&quot;Eddie&quot;, &quot;The Gangster&quot;, null, NameType.ONLINE)\r\n    ));\r\n\r\n    ObjectMapper objectMapper = getObjectMapper();\r\n    String personJson = objectMapper.writeValueAsString(person);\r\n\r\n    System.out.println(personJson.contains(&quot;ARTIST&quot;));      // false\r\n    System.out.println(personJson.contains(&quot;ONLINE&quot;));      // false\r\n    System.out.println(personJson.contains(&quot;Goldenberg&quot;));  // true\r\n    System.out.println(personJson.contains(&quot;Голденберг&quot;));  // true\r\n    System.out.println(personJson);\r\n  }\r\n\r\n  private static ObjectMapper getObjectMapper() {\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\r\n    objectMapper.registerModule(\r\n      new SimpleModule() {\r\n        @Override\r\n        public void setupModule(SetupContext context) {\r\n          super.setupModule(context);\r\n          context.addBeanSerializerModifier(\r\n            new BeanSerializerModifier() {\r\n              @Override\r\n              public JsonSerializer&lt;?&gt; modifySerializer(SerializationConfig config, BeanDescription beanDesc, JsonSerializer&lt;?&gt; serializer) {\r\n                if (Name.class.isAssignableFrom(beanDesc.getBeanClass()))\r\n                  return new NameSerializer((JsonSerializer&lt;Object&gt;) serializer);\r\n                return serializer;\r\n              }\r\n            }\r\n          );\r\n        }\r\n      }\r\n    );\r\n    return objectMapper;\r\n  }\r\n}\r\n```\r\n\r\nThe console log should be:\r\n\r\n```none\r\nfalse\r\nfalse\r\ntrue\r\ntrue\r\n{&quot;names&quot;:[{&quot;first&quot;:&quot;Emanuel&quot;,&quot;last&quot;:&quot;Goldenberg&quot;,&quot;type&quot;:&quot;REAL&quot;},{&quot;first&quot;:&quot;Эмануэль&quot;,&quot;last&quot;:&quot;Голденберг&quot;,&quot;type&quot;:&quot;REAL&quot;}]}\r\n```\r\n\r\nOh, by the way and just in case not everybody knows who [Edward G. Robinson](https://en.wikipedia.org/wiki/Edward_G._Robinson) was...","title":"remove an entry from HashMap depending on the Enum type of the value","body":"<p><em>Disclaimer: I never used Jackson before, this was my first contact. I was just looking for a little puzzle to solve while drinking my morning tea, which also enables me to learn something. So I am not sure if there are better or more elegant ways of doing this.</em></p>\n<p>In order to present an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> which everyone can easily compile and execute, here are my more complete versions (including getters) of your example classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q71358052;\n\npublic enum NameType {\n  REAL,\n  ARTIST,\n  ONLINE\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q71358052;\n\npublic class Name {\n  private final String first;\n  private final String last;\n  private final String middle;\n  private final NameType type;\n\n  public Name(String first, String last, String middle, NameType type) {\n    this.first = first;\n    this.last = last;\n    this.middle = middle;\n    this.type = type;\n  }\n\n  public String getFirst() {\n    return first;\n  }\n\n  public String getLast() {\n    return last;\n  }\n\n  public String getMiddle() {\n    return middle;\n  }\n\n  public NameType getType() {\n    return type;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q71358052;\n\nimport java.util.List;\n\npublic final class Person {\n  private final List&lt;Name&gt; names;\n\n  public Person(List&lt;Name&gt; names) {\n    this.names = names;\n  }\n\n  public List&lt;Name&gt; getNames() {\n    return names;\n  }\n}\n</code></pre>\n<p>As described for a similar case in <a href=\"https://www.baeldung.com/jackson-serialize-field-custom-criteria#2-custom-serializer\" rel=\"nofollow noreferrer\">this tutorial</a>, we can use a custom <code>JsonSerializer&lt;Name&gt;</code> in combination with a <code>BeanSerializerModifier</code>, registering them on the <code>ObjectMapper</code> in a <code>SimpleModule</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q71358052;\n\nimport com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.SerializerProvider;\n\nimport java.io.IOException;\n\npublic class NameSerializer extends JsonSerializer&lt;Name&gt; {\n  private final JsonSerializer&lt;Object&gt; defaultSerializer;\n\n  public NameSerializer(JsonSerializer&lt;Object&gt; serializer) {\n    defaultSerializer = serializer;\n  }\n\n  @Override\n  public void serialize(Name value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n    if (value.getType() != NameType.REAL)\n      return;\n    defaultSerializer.serialize(value, gen, serializers);\n  }\n\n  @Override\n  public boolean isEmpty(SerializerProvider provider, Name value) {\n    return value == null || value.getType() != NameType.REAL;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q71358052;\n\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.BeanDescription;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationConfig;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\nimport com.fasterxml.jackson.databind.ser.BeanSerializerModifier;\n\nimport java.util.List;\n\npublic class JacksonDemo {\n  public static void main(String[] args) throws JsonProcessingException {\n    Person person = new Person(List.of(\n      new Name(&quot;Edward&quot;, &quot;Robinson&quot;, &quot;G.&quot;, NameType.ARTIST),\n      new Name(&quot;Emanuel&quot;, &quot;Goldenberg&quot;, null, NameType.REAL),\n      new Name(&quot;Эмануэль&quot;, &quot;Голденберг&quot;, null, NameType.REAL),\n      new Name(&quot;Eddie&quot;, &quot;The Gangster&quot;, null, NameType.ONLINE)\n    ));\n\n    ObjectMapper objectMapper = getObjectMapper();\n    String personJson = objectMapper.writeValueAsString(person);\n\n    System.out.println(personJson.contains(&quot;ARTIST&quot;));      // false\n    System.out.println(personJson.contains(&quot;ONLINE&quot;));      // false\n    System.out.println(personJson.contains(&quot;Goldenberg&quot;));  // true\n    System.out.println(personJson.contains(&quot;Голденберг&quot;));  // true\n    System.out.println(personJson);\n  }\n\n  private static ObjectMapper getObjectMapper() {\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\n    objectMapper.registerModule(\n      new SimpleModule() {\n        @Override\n        public void setupModule(SetupContext context) {\n          super.setupModule(context);\n          context.addBeanSerializerModifier(\n            new BeanSerializerModifier() {\n              @Override\n              public JsonSerializer&lt;?&gt; modifySerializer(SerializationConfig config, BeanDescription beanDesc, JsonSerializer&lt;?&gt; serializer) {\n                if (Name.class.isAssignableFrom(beanDesc.getBeanClass()))\n                  return new NameSerializer((JsonSerializer&lt;Object&gt;) serializer);\n                return serializer;\n              }\n            }\n          );\n        }\n      }\n    );\n    return objectMapper;\n  }\n}\n</code></pre>\n<p>The console log should be:</p>\n<pre class=\"lang-none prettyprint-override\"><code>false\nfalse\ntrue\ntrue\n{&quot;names&quot;:[{&quot;first&quot;:&quot;Emanuel&quot;,&quot;last&quot;:&quot;Goldenberg&quot;,&quot;type&quot;:&quot;REAL&quot;},{&quot;first&quot;:&quot;Эмануэль&quot;,&quot;last&quot;:&quot;Голденберг&quot;,&quot;type&quot;:&quot;REAL&quot;}]}\n</code></pre>\n<p>Oh, by the way and just in case not everybody knows who <a href=\"https://en.wikipedia.org/wiki/Edward_G._Robinson\" rel=\"nofollow noreferrer\">Edward G. Robinson</a> was...</p>\n"}],"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71358651,"answer_count":1,"score":0,"last_activity_date":1646441818,"creation_date":1646434378,"question_id":71358052,"body_markdown":"I need to create a json from an Object. The Object contains a List member variable of type Name. Name is a class which contains an enum NameType. below are the class:\r\n\r\n    public final class Person { private final List&lt;Name&gt; names; }\r\n\r\n    public class Name {\r\n    \r\n        private final String first;\r\n    \r\n        private final String last;\r\n    \r\n        private final String middle;\r\n    \r\n        private final NameType type;\r\n    }\r\n    public enum NameType {\r\n    \tX,\r\n    \tY,\r\n    \tZ\r\n    }\r\nThe json that is produced for class Person should not include Name for which NameType is Y and Z. Below is the simple way in which I try to generate the json:\r\n\r\n     Map&lt;String, Object&gt; personMap = mapper.readValue(person!=null ? mapper.writeValueAsString(person) : &quot;{}&quot;, typeReference);\r\n\r\nI need to remove the key &quot;names&quot; from personMap. I have searched a few ways to remove it before serialization, but that hasn&#39;t worked for me. I followed this tutorial: https://www.baeldung.com/jackson-ignore-properties-on-serialization\r\nand tried to remove it using type and using filter, but because this is an enum so didn&#39;t work for me. So, I have 2 questions:\r\n1. Is there a way to not include the Name property as part of serialization based on NameType.\r\n2. If there is any way to remove after serialization is done.\r\nBelow is the structure that is generated for the map.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5hIYx.png\r\n\r\nThanks in Advance!!","title":"remove an entry from HashMap depending on the Enum type of the value","body":"<p>I need to create a json from an Object. The Object contains a List member variable of type Name. Name is a class which contains an enum NameType. below are the class:</p>\n<pre><code>public final class Person { private final List&lt;Name&gt; names; }\n\npublic class Name {\n\n    private final String first;\n\n    private final String last;\n\n    private final String middle;\n\n    private final NameType type;\n}\npublic enum NameType {\n    X,\n    Y,\n    Z\n}\n</code></pre>\n<p>The json that is produced for class Person should not include Name for which NameType is Y and Z. Below is the simple way in which I try to generate the json:</p>\n<pre><code> Map&lt;String, Object&gt; personMap = mapper.readValue(person!=null ? mapper.writeValueAsString(person) : &quot;{}&quot;, typeReference);\n</code></pre>\n<p>I need to remove the key &quot;names&quot; from personMap. I have searched a few ways to remove it before serialization, but that hasn't worked for me. I followed this tutorial: <a href=\"https://www.baeldung.com/jackson-ignore-properties-on-serialization\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-ignore-properties-on-serialization</a>\nand tried to remove it using type and using filter, but because this is an enum so didn't work for me. So, I have 2 questions:</p>\n<ol>\n<li>Is there a way to not include the Name property as part of serialization based on NameType.</li>\n<li>If there is any way to remove after serialization is done.\nBelow is the structure that is generated for the map.<a href=\"https://i.stack.imgur.com/5hIYx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5hIYx.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n<p>Thanks in Advance!!</p>\n"},{"tags":["java","maven","jar"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1646441244,"post_id":71358603,"comment_id":126131504,"body_markdown":"So many questions &#128531;.  A jar file, embedded within your app won&#39;t be executable when the project is built and packaged.  You&#39;d need to &quot;extract&quot; the jar file and store it somewhere externally instead.  I don&#39;t think you want the Jar as a dependency, in the sense that Maven considers it, and placing the Jar in the resources folder should allow maven to package it into the resulting package/bundle of your app","body":"So many questions 😓.  A jar file, embedded within your app won&#39;t be executable when the project is built and packaged.  You&#39;d need to &quot;extract&quot; the jar file and store it somewhere externally instead.  I don&#39;t think you want the Jar as a dependency, in the sense that Maven considers it, and placing the Jar in the resources folder should allow maven to package it into the resulting package/bundle of your app"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1646569796,"post_id":71358603,"comment_id":126151369,"body_markdown":"I strongly recommend to remove such strange approach (having a jar file inside src/main/resource) and calling it externally. What is the reason for such an approach? Apart from that strange approach I would recommend to use ProcessBuilder instead of exec...","body":"I strongly recommend to remove such strange approach (having a jar file inside src/main/resource) and calling it externally. What is the reason for such an approach? Apart from that strange approach I would recommend to use ProcessBuilder instead of exec..."}],"owner":{"account_id":4719260,"reputation":780,"user_id":3817651,"accept_rate":50,"display_name":"Bahar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646440950,"creation_date":1646440950,"question_id":71358603,"body_markdown":"I have a java code that runs a jar file. To do that I am using the runtime object and create a process like:\r\n\r\n```\r\nRuntime re = Runtime.getRuntime();\r\nProcess jarProcess = re.exec(new String[]{&quot;java&quot;,&quot;-jar&quot;,&quot;src/resources/myjar.jar&quot;});\r\n```\r\nThis works perfectly when I put my jar file in `src/resources/myjar.jar`. Now I want to improve this and instead of putting the jar file in the resources, I want to add a dependency to that jar in my .pom file and then use the jar file that maven pulls in. But I don&#39;t know how to do this. It seems that even when I hardcode my maven remote directory which is something like ~/.m2/... the process cannot be run. I don&#39;t get any error (unless I&#39;m missing something) but the `jarProcess.exitValue()` is 1. So how can I update my code to refer and execute the jar file which is pulled in by Maven.","title":"executing a jar file brought in by maven using java Runtime object","body":"<p>I have a java code that runs a jar file. To do that I am using the runtime object and create a process like:</p>\n<pre><code>Runtime re = Runtime.getRuntime();\nProcess jarProcess = re.exec(new String[]{&quot;java&quot;,&quot;-jar&quot;,&quot;src/resources/myjar.jar&quot;});\n</code></pre>\n<p>This works perfectly when I put my jar file in <code>src/resources/myjar.jar</code>. Now I want to improve this and instead of putting the jar file in the resources, I want to add a dependency to that jar in my .pom file and then use the jar file that maven pulls in. But I don't know how to do this. It seems that even when I hardcode my maven remote directory which is something like ~/.m2/... the process cannot be run. I don't get any error (unless I'm missing something) but the <code>jarProcess.exitValue()</code> is 1. So how can I update my code to refer and execute the jar file which is pulled in by Maven.</p>\n"},{"tags":["java","image","javafx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1646438827,"post_id":71358243,"comment_id":126131211,"body_markdown":"Please amplify on your image processing goal(s): interactive? online? offline?","body":"Please amplify on your image processing goal(s): interactive? online? offline?"},{"owner":{"account_id":20623850,"reputation":39,"user_id":15140226,"display_name":"MythicalMoose"},"score":0,"creation_date":1646439327,"post_id":71358243,"comment_id":126131292,"body_markdown":"@trashgod I updated the post to (I believe) explain what you&#39;re asking for","body":"@trashgod I updated the post to (I believe) explain what you&#39;re asking for"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1646441820,"post_id":71358243,"comment_id":126131580,"body_markdown":"[Using the Image Ops API](https://docs.oracle.com/javafx/2/image_ops/jfxpub-image_ops.htm) or [maybe this](http://www.cse.uaa.alaska.edu/~afkjm/csce201/handouts/LoopsImages.pdf) or [Drawing user input on Image JavaFX](https://stackoverflow.com/questions/24681018/drawing-user-input-on-image-javafx) or [JavaFX Canvas Example](https://examples.javacodegeeks.com/desktop-java/javafx/javafx-canvas-example/)","body":"<a href=\"https://docs.oracle.com/javafx/2/image_ops/jfxpub-image_ops.htm\" rel=\"nofollow noreferrer\">Using the Image Ops API</a> or <a href=\"http://www.cse.uaa.alaska.edu/~afkjm/csce201/handouts/LoopsImages.pdf\" rel=\"nofollow noreferrer\">maybe this</a> or <a href=\"https://stackoverflow.com/questions/24681018/drawing-user-input-on-image-javafx\">Drawing user input on Image JavaFX</a> or <a href=\"https://examples.javacodegeeks.com/desktop-java/javafx/javafx-canvas-example/\" rel=\"nofollow noreferrer\">JavaFX Canvas Example</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1646443614,"post_id":71358243,"comment_id":126131766,"body_markdown":"For interactive use, edit like [this](https://stackoverflow.com/a/70827873/230513), take a `snapshot()` and save it to a file like [this](https://stackoverflow.com/q/48124777/230513).","body":"For interactive use, edit like <a href=\"https://stackoverflow.com/a/70827873/230513\">this</a>, take a <code>snapshot()</code> and save it to a file like <a href=\"https://stackoverflow.com/q/48124777/230513\">this</a>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1646450198,"post_id":71358243,"comment_id":126132568,"body_markdown":"“It looks like JavaFX images can only be loaded from a file.”  [No.](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/WritableImage.html)","body":"“It looks like JavaFX images can only be loaded from a file.”  <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/WritableImage.html\" rel=\"nofollow noreferrer\">No.</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1646453389,"post_id":71358243,"comment_id":126132929,"body_markdown":"You can apply blends and color adjustments using effects to canvases and image views.  You can localize these filters via clips and layers.  You can snapshot the canvas or ImageView nodes that have the clipped effects applied to generate images.  You can save those images via imageio.  Because I don’t fully understand your problem, I  am not saying you should do that for your situation, probably not in fact.  Or you could create a custom algorithm and manipulate data in the image or canvas at a pixel or backing buffer level. Just providing info on related capabilities.","body":"You can apply blends and color adjustments using effects to canvases and image views.  You can localize these filters via clips and layers.  You can snapshot the canvas or ImageView nodes that have the clipped effects applied to generate images.  You can save those images via imageio.  Because I don’t fully understand your problem, I  am not saying you should do that for your situation, probably not in fact.  Or you could create a custom algorithm and manipulate data in the image or canvas at a pixel or backing buffer level. Just providing info on related capabilities."}],"owner":{"account_id":20623850,"reputation":39,"user_id":15140226,"display_name":"MythicalMoose"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646439140,"creation_date":1646436311,"question_id":71358243,"body_markdown":"I&#39;m showing an Image on a Canvas using JavaFX, but I would like the color of certain parts of the image to vary based on a variable. Ordinarily, I imagine this would be accomplished by creating a color mask and adding that to the image, but as far as I can find JavaFX Image doesn&#39;t allow any operations like that, and from the documentation it looks like JavaFX Images can only be loaded from a file. I don&#39;t want to modify and then reload the file each time the color changes, because that seems pretty inefficient performance-wise.\r\n\r\nMy goal is to create an interactive offline app in which a small character is shown, and the user can (for example) use an input to change the characters eye/hair color.\r\n\r\nAre there any ways to accomplish this? Essentially doing basic image masking/coloration with JavaFX Images and canvases. (Not ImageView)\r\n\r\nThanks for any advice you can give me!","title":"Are there any ways to modify a JavaFX Image Object?","body":"<p>I'm showing an Image on a Canvas using JavaFX, but I would like the color of certain parts of the image to vary based on a variable. Ordinarily, I imagine this would be accomplished by creating a color mask and adding that to the image, but as far as I can find JavaFX Image doesn't allow any operations like that, and from the documentation it looks like JavaFX Images can only be loaded from a file. I don't want to modify and then reload the file each time the color changes, because that seems pretty inefficient performance-wise.</p>\n<p>My goal is to create an interactive offline app in which a small character is shown, and the user can (for example) use an input to change the characters eye/hair color.</p>\n<p>Are there any ways to accomplish this? Essentially doing basic image masking/coloration with JavaFX Images and canvases. (Not ImageView)</p>\n<p>Thanks for any advice you can give me!</p>\n"},{"tags":["java","jpa","junit","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":1833225,"reputation":879,"user_id":1664131,"accept_rate":89,"display_name":"cvsr.sarma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646438930,"creation_date":1646438930,"answer_id":71358440,"question_id":71345742,"body_markdown":"You can use @Transactional for each test case. It will rollbacks transactions.\r\nIt works. \r\n\r\n    @Test\r\n    @Transactional\r\n    public void deleteById_basicTest() {\r\n        courseRepo.deleteById(100001L);\r\n        assertNull(courseRepo.findById(100001L));\r\n    }","title":"Junit DirtiesContext is not rollbacking my transcation using JPA","body":"<p>You can use @Transactional for each test case. It will rollbacks transactions.\nIt works.</p>\n<pre><code>@Test\n@Transactional\npublic void deleteById_basicTest() {\n    courseRepo.deleteById(100001L);\n    assertNull(courseRepo.findById(100001L));\n}\n</code></pre>\n"}],"owner":{"account_id":20481160,"reputation":59,"user_id":15029343,"display_name":"Surya Chandra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71358440,"answer_count":1,"score":1,"last_activity_date":1646438930,"creation_date":1646358392,"question_id":71345742,"body_markdown":"I have create delete method in my repo class and did use @Transactional at class level, \r\n\r\nWhen I call deletebyID its deleting that id. in Junit I did use DirtiesContext it should roll back the transaction, but due to @Transactional at class level, it commuted my delete (It did what suppose to do), \r\n\r\nnow my juint not able to rollback that transaction. \r\n\r\nHow to overcome this issue?\r\n\r\n    @Repository\r\n    @Transactional\r\n    public class CourseRepository {\r\n\t\r\n\t@Autowired\r\n\tEntityManager em;\r\n\t\r\n\tpublic Course findById(Long id) {\r\n\t\treturn em.find(Course.class, id);\r\n\t}\r\n\t\r\n\tpublic Course deleteById(Long id) {\r\n\t\tCourse course= em.find(Course.class, id);\r\n\t\tem.remove(course);\r\n\t\treturn course;\r\n\t  }\r\n    }\r\n\r\nIn my Junit\r\n\r\n    @Autowired\r\n    CourseRepository courseRepo;\r\n    @Test\r\n    @DirtiesContext\r\n    public void deleteById_basicTest() {\r\n    \tcourseRepo.deleteById(100001L);\r\n    \tassertNull(courseRepo.findById(100001L));\r\n    }\r\n\r\n","title":"Junit DirtiesContext is not rollbacking my transcation using JPA","body":"<p>I have create delete method in my repo class and did use @Transactional at class level,</p>\n<p>When I call deletebyID its deleting that id. in Junit I did use DirtiesContext it should roll back the transaction, but due to @Transactional at class level, it commuted my delete (It did what suppose to do),</p>\n<p>now my juint not able to rollback that transaction.</p>\n<p>How to overcome this issue?</p>\n<pre><code>@Repository\n@Transactional\npublic class CourseRepository {\n\n@Autowired\nEntityManager em;\n\npublic Course findById(Long id) {\n    return em.find(Course.class, id);\n}\n\npublic Course deleteById(Long id) {\n    Course course= em.find(Course.class, id);\n    em.remove(course);\n    return course;\n  }\n}\n</code></pre>\n<p>In my Junit</p>\n<pre><code>@Autowired\nCourseRepository courseRepo;\n@Test\n@DirtiesContext\npublic void deleteById_basicTest() {\n    courseRepo.deleteById(100001L);\n    assertNull(courseRepo.findById(100001L));\n}\n</code></pre>\n"},{"tags":["java","if-statement","java-stream"],"comments":[{"owner":{"account_id":23442743,"reputation":65,"user_id":17499998,"display_name":"Vivek T S"},"score":0,"creation_date":1646418550,"post_id":71355621,"comment_id":126126399,"body_markdown":"Element {\n    String name;\n    int atomicNumber;\n}","body":"Element {     String name;     int atomicNumber; }"}],"answers":[{"tags":[],"owner":{"account_id":6586288,"reputation":91,"user_id":5088963,"display_name":"Sathiya prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646419181,"creation_date":1646418542,"answer_id":71355785,"question_id":71355621,"body_markdown":"i have used predicate in filter to for radium and silicon and using the resulted set i am printing the result.\r\n```\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Set;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Element&gt; elementss = new ArrayList&lt;&gt;();\r\n        Set&lt;String&gt; stringSet = elementss.stream().map(e -&gt; e.getName())\r\n            .filter(string -&gt; (string.equals(&quot;Radium&quot;) || string.equals(&quot;Silicon&quot;)))\r\n            .collect(Collectors.toSet());\r\n        if(stringSet.size()==2){\r\n            System.out.println(&quot;both&quot;);\r\n        }else if(stringSet.size()==1){\r\n            System.out.println(stringSet);\r\n        }else{\r\n            System.out.println(&quot; &quot;);\r\n        }\r\n    }\r\n    \r\n}\r\n\r\n```","title":"How to set a value to variable based on multiple conditions using Java Streams API?","body":"<p>i have used predicate in filter to for radium and silicon and using the resulted set i am printing the result.</p>\n<pre><code>\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        List&lt;Element&gt; elementss = new ArrayList&lt;&gt;();\n        Set&lt;String&gt; stringSet = elementss.stream().map(e -&gt; e.getName())\n            .filter(string -&gt; (string.equals(&quot;Radium&quot;) || string.equals(&quot;Silicon&quot;)))\n            .collect(Collectors.toSet());\n        if(stringSet.size()==2){\n            System.out.println(&quot;both&quot;);\n        }else if(stringSet.size()==1){\n            System.out.println(stringSet);\n        }else{\n            System.out.println(&quot; &quot;);\n        }\n    }\n    \n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646418631,"creation_date":1646418631,"answer_id":71355799,"question_id":71355621,"body_markdown":"Collect the strings to a unique set. Then check containment in constant time. \r\n\r\n```\r\nSet&lt;String&gt; names = elements.stream().map(Element::getName).map(String::toLowerCase).collect(toSet());\r\nboolean hasSilicon = names.contains(&quot;silicon&quot;);\r\nboolean hasRadium = names.contains(&quot;radium&quot;);\r\nString result = &quot;&quot;; \r\nif (hasSilicon &amp;&amp; hasRadium) {\r\n  result = &quot;BOTH&quot;;\r\n} else if (hasSilicon) {\r\n  result = &quot;SILICON&quot;;\r\n} else if (hasRadium) {\r\n  result = &quot;RADIUM&quot;;\r\n}\r\nreturn result;\r\n```","title":"How to set a value to variable based on multiple conditions using Java Streams API?","body":"<p>Collect the strings to a unique set. Then check containment in constant time.</p>\n<pre><code>Set&lt;String&gt; names = elements.stream().map(Element::getName).map(String::toLowerCase).collect(toSet());\nboolean hasSilicon = names.contains(&quot;silicon&quot;);\nboolean hasRadium = names.contains(&quot;radium&quot;);\nString result = &quot;&quot;; \nif (hasSilicon &amp;&amp; hasRadium) {\n  result = &quot;BOTH&quot;;\n} else if (hasSilicon) {\n  result = &quot;SILICON&quot;;\n} else if (hasRadium) {\n  result = &quot;RADIUM&quot;;\n}\nreturn result;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646425306,"creation_date":1646425306,"answer_id":71356862,"question_id":71355621,"body_markdown":"You could save a few lines if you use regex, but I doubt if it is better than the other answers:\r\n\r\n    String resolve(List&lt;Element&gt; elements) {\r\n        String result = elements.stream()\r\n                                .map(Element::getName)\r\n                                .map(String::toUpperCase)\r\n                                .filter(str -&gt; str.matches(&quot;RADIUM|SILICON&quot;))\r\n                                .sorted()\r\n                                .collect(Collectors.joining());\r\n\r\n        return result.matches(&quot;RADIUMSILICON&quot;) ? &quot;BOTH&quot; : result;\r\n    }","title":"How to set a value to variable based on multiple conditions using Java Streams API?","body":"<p>You could save a few lines if you use regex, but I doubt if it is better than the other answers:</p>\n<pre><code>String resolve(List&lt;Element&gt; elements) {\n    String result = elements.stream()\n                            .map(Element::getName)\n                            .map(String::toUpperCase)\n                            .filter(str -&gt; str.matches(&quot;RADIUM|SILICON&quot;))\n                            .sorted()\n                            .collect(Collectors.joining());\n\n    return result.matches(&quot;RADIUMSILICON&quot;) ? &quot;BOTH&quot; : result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646438550,"creation_date":1646432673,"answer_id":71357824,"question_id":71355621,"body_markdown":"It could be done with *Stream IPA* in a **single statement** and without *multiline lambdas*, *nested conditions* and *impure function* that changes the state outside the lambda.\r\n\r\nMy approach is to introduce an **enum** which elements correspond to all possible outcomes with its constants `EMPTY`, `SILICON`, `RADIUM`, `BOTH`. \r\n\r\nAll the return values apart from empty string can be obtained by invoking the method `name()` derived from the `java.lang.Enum`. And only to caver the case with empty string, I&#39;ve added `getName()` method.\r\n\r\nNote that since **Java 16** enums can be declared *locally* inside a method.\r\n\r\nThe logic of the **stream pipeline** is the following:\r\n* stream *elements* turns into a stream of *string*;\r\n* gets filtered and transformed into a stream of *enum constants*;\r\n* reduction is done on the enum members;\r\n* optional of enum turs into an optional of string. \r\n\r\nImplementation can look like this:\r\n\r\n    public static String resolve(List&lt;Element&gt; elements) {\r\n        return elements.stream()\r\n                .map(Element::getName)\r\n                .map(String::toUpperCase)\r\n                .filter(str -&gt; str.equals(&quot;SILICON&quot;) || str.equals(&quot;RADIUM&quot;))\r\n                .map(Elements::valueOf)\r\n                .reduce((result, next) -&gt; result == Elements.BOTH || result != next ? Elements.BOTH : next)\r\n                .map(Elements::getName)\r\n                .orElse(&quot;&quot;);\r\n    }\r\n\r\n**enum**\r\n\r\n    enum Elements {EMPTY, SILICON, RADIUM, BOTH;\r\n        String getName() {\r\n            return this == EMPTY ? &quot;&quot; : name(); // note name() declared in the java.lang.Enum as final and can&#39;t be overridden\r\n        }\r\n    }\r\n\r\n**main**\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(resolve(List.of(new Element(&quot;Silicon&quot;), new Element(&quot;Lithium&quot;))));\r\n        System.out.println(resolve(List.of(new Element(&quot;Silicon&quot;), new Element(&quot;Radium&quot;))));\r\n        System.out.println(resolve(List.of(new Element(&quot;Ferrum&quot;), new Element(&quot;Oxygen&quot;), new Element(&quot;Aurum&quot;)))\r\n                    .isEmpty() + &quot; - no target elements&quot;); // output is an empty string\r\n    }\r\n\r\n**output**\r\n```\r\nSILICON\r\nBOTH\r\ntrue - no target elements\r\n```\r\n**Note:**\r\n* Although with streams you can produce the result in **O(n)** time iterative approach might be better for this task. Think about it this way: if you have a list of `10.000` elements in the list and it starts with `&quot;SILICON&quot;` and `&quot;RADIUM&quot;`. You could easily break the loop and return `&quot;BOTH&quot;`.\r\n* **Stateful** operations in the streams has to be avoided [according to the documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#Statelessness), also to understand why **javadoc** warns against stateful streams you might take a look at [this question](https://stackoverflow.com/questions/53329809/why-atomicinteger-based-stream-solutions-are-not-recommended). If you want to play around with `AtomicReference` it&#39;s totally fine, just keep in mind that this approach is not considered to be good practice.\r\n\r\nI guess if I had implemented such a method with streams, the overall logic would be the same as above, but without utilizing an *enum*. Since only a single object is needed it&#39;s a **reduction**, so I&#39;ll apply `reduce()` on a stream of strings, extract the reduction logic with all the conditions to a *separate method*. Normally, *lambdas* have to be well-readable *one-liners*.","title":"How to set a value to variable based on multiple conditions using Java Streams API?","body":"<p>It could be done with <em>Stream IPA</em> in a <strong>single statement</strong> and without <em>multiline lambdas</em>, <em>nested conditions</em> and <em>impure function</em> that changes the state outside the lambda.</p>\n<p>My approach is to introduce an <strong>enum</strong> which elements correspond to all possible outcomes with its constants <code>EMPTY</code>, <code>SILICON</code>, <code>RADIUM</code>, <code>BOTH</code>.</p>\n<p>All the return values apart from empty string can be obtained by invoking the method <code>name()</code> derived from the <code>java.lang.Enum</code>. And only to caver the case with empty string, I've added <code>getName()</code> method.</p>\n<p>Note that since <strong>Java 16</strong> enums can be declared <em>locally</em> inside a method.</p>\n<p>The logic of the <strong>stream pipeline</strong> is the following:</p>\n<ul>\n<li>stream <em>elements</em> turns into a stream of <em>string</em>;</li>\n<li>gets filtered and transformed into a stream of <em>enum constants</em>;</li>\n<li>reduction is done on the enum members;</li>\n<li>optional of enum turs into an optional of string.</li>\n</ul>\n<p>Implementation can look like this:</p>\n<pre><code>public static String resolve(List&lt;Element&gt; elements) {\n    return elements.stream()\n            .map(Element::getName)\n            .map(String::toUpperCase)\n            .filter(str -&gt; str.equals(&quot;SILICON&quot;) || str.equals(&quot;RADIUM&quot;))\n            .map(Elements::valueOf)\n            .reduce((result, next) -&gt; result == Elements.BOTH || result != next ? Elements.BOTH : next)\n            .map(Elements::getName)\n            .orElse(&quot;&quot;);\n}\n</code></pre>\n<p><strong>enum</strong></p>\n<pre><code>enum Elements {EMPTY, SILICON, RADIUM, BOTH;\n    String getName() {\n        return this == EMPTY ? &quot;&quot; : name(); // note name() declared in the java.lang.Enum as final and can't be overridden\n    }\n}\n</code></pre>\n<p><strong>main</strong></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(resolve(List.of(new Element(&quot;Silicon&quot;), new Element(&quot;Lithium&quot;))));\n    System.out.println(resolve(List.of(new Element(&quot;Silicon&quot;), new Element(&quot;Radium&quot;))));\n    System.out.println(resolve(List.of(new Element(&quot;Ferrum&quot;), new Element(&quot;Oxygen&quot;), new Element(&quot;Aurum&quot;)))\n                .isEmpty() + &quot; - no target elements&quot;); // output is an empty string\n}\n</code></pre>\n<p><strong>output</strong></p>\n<pre><code>SILICON\nBOTH\ntrue - no target elements\n</code></pre>\n<p><strong>Note:</strong></p>\n<ul>\n<li>Although with streams you can produce the result in <strong>O(n)</strong> time iterative approach might be better for this task. Think about it this way: if you have a list of <code>10.000</code> elements in the list and it starts with <code>&quot;SILICON&quot;</code> and <code>&quot;RADIUM&quot;</code>. You could easily break the loop and return <code>&quot;BOTH&quot;</code>.</li>\n<li><strong>Stateful</strong> operations in the streams has to be avoided <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#Statelessness\" rel=\"nofollow noreferrer\">according to the documentation</a>, also to understand why <strong>javadoc</strong> warns against stateful streams you might take a look at <a href=\"https://stackoverflow.com/questions/53329809/why-atomicinteger-based-stream-solutions-are-not-recommended\">this question</a>. If you want to play around with <code>AtomicReference</code> it's totally fine, just keep in mind that this approach is not considered to be good practice.</li>\n</ul>\n<p>I guess if I had implemented such a method with streams, the overall logic would be the same as above, but without utilizing an <em>enum</em>. Since only a single object is needed it's a <strong>reduction</strong>, so I'll apply <code>reduce()</code> on a stream of strings, extract the reduction logic with all the conditions to a <em>separate method</em>. Normally, <em>lambdas</em> have to be well-readable <em>one-liners</em>.</p>\n"}],"owner":{"account_id":23442743,"reputation":65,"user_id":17499998,"display_name":"Vivek T S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1769,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71357824,"answer_count":4,"score":1,"last_activity_date":1646438550,"creation_date":1646417600,"question_id":71355621,"body_markdown":"I couldn&#39;t wrap my head around writing the below condition using Java Streams. Let&#39;s assume that I have a list of elements from the periodic table. I&#39;ve to write a method that returns a String by checking whether the list has Silicon or Radium or Both. If it has only Silicon, method has to return ```Silicon```. If it has only Radium, method has to return ```Radium```. If it has both, method has to return ```Both```. If none of them are available, method returns ```&quot;&quot;``` (default value).\r\n\r\nCurrently, the code that I&#39;ve written is below.\r\n```java\r\nString resolve(List&lt;Element&gt; elements) {\r\n    AtomicReference&lt;String&gt; value = new AtomicReference&lt;&gt;(&quot;&quot;);\r\n    elements.stream()\r\n            .map(Element::getName)\r\n            .forEach(name -&gt; {\r\n                if (name.equalsIgnoreCase(&quot;RADIUM&quot;)) {\r\n                    if (value.get().equals(&quot;&quot;)) {\r\n                        value.set(&quot;RADIUM&quot;);\r\n                    } else {\r\n                        value.set(&quot;BOTH&quot;);\r\n                    }\r\n                } else if (name.equalsIgnoreCase(&quot;SILICON&quot;)) {\r\n                    if (value.get().equals(&quot;&quot;)) {\r\n                        value.set(&quot;SILICON&quot;);\r\n                    } else {\r\n                        value.set(&quot;BOTH&quot;);\r\n                    }\r\n                }\r\n            });\r\n    return value.get();\r\n}\r\n```\r\nI understand the code looks messier and looks more imperative than functional. But I don&#39;t know how to write it in a better manner using streams. I&#39;ve also considered the possibility of going through the list couple of times to filter elements ```Silicon``` and ```Radium``` and finalizing based on that. But it doesn&#39;t seem efficient going through a list twice.\r\n\r\nNOTE : I also understand that this could be written in an imperative manner rather than complicating with streams and atomic variables. I just want to know how to write the same logic using streams.\r\n\r\nPlease share your suggestions on better ways to achieve the same goal using Java Streams.","title":"How to set a value to variable based on multiple conditions using Java Streams API?","body":"<p>I couldn't wrap my head around writing the below condition using Java Streams. Let's assume that I have a list of elements from the periodic table. I've to write a method that returns a String by checking whether the list has Silicon or Radium or Both. If it has only Silicon, method has to return <code>Silicon</code>. If it has only Radium, method has to return <code>Radium</code>. If it has both, method has to return <code>Both</code>. If none of them are available, method returns <code>&quot;&quot;</code> (default value).</p>\n<p>Currently, the code that I've written is below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String resolve(List&lt;Element&gt; elements) {\n    AtomicReference&lt;String&gt; value = new AtomicReference&lt;&gt;(&quot;&quot;);\n    elements.stream()\n            .map(Element::getName)\n            .forEach(name -&gt; {\n                if (name.equalsIgnoreCase(&quot;RADIUM&quot;)) {\n                    if (value.get().equals(&quot;&quot;)) {\n                        value.set(&quot;RADIUM&quot;);\n                    } else {\n                        value.set(&quot;BOTH&quot;);\n                    }\n                } else if (name.equalsIgnoreCase(&quot;SILICON&quot;)) {\n                    if (value.get().equals(&quot;&quot;)) {\n                        value.set(&quot;SILICON&quot;);\n                    } else {\n                        value.set(&quot;BOTH&quot;);\n                    }\n                }\n            });\n    return value.get();\n}\n</code></pre>\n<p>I understand the code looks messier and looks more imperative than functional. But I don't know how to write it in a better manner using streams. I've also considered the possibility of going through the list couple of times to filter elements <code>Silicon</code> and <code>Radium</code> and finalizing based on that. But it doesn't seem efficient going through a list twice.</p>\n<p>NOTE : I also understand that this could be written in an imperative manner rather than complicating with streams and atomic variables. I just want to know how to write the same logic using streams.</p>\n<p>Please share your suggestions on better ways to achieve the same goal using Java Streams.</p>\n"},{"tags":["java","android"],"owner":{"account_id":23730198,"reputation":11,"user_id":17749552,"display_name":"Konstantinos Michail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646438006,"creation_date":1646401883,"question_id":71352426,"body_markdown":"First item in bottom navigation bar is not visible, although its clickable and working properly.\r\nTried the solutions given to this question: https://stackoverflow.com/questions/60536213/kotlin-first-item-in-bottomnavigationbar-isnt-visible-title-issues\r\nBut nothing seems to work out.\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/drawer_layout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MapsActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/bottom_navigation&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        app:itemBackground=&quot;@color/white&quot;\r\n        app:itemIconTint=&quot;@drawable/selector&quot;\r\n        app:itemTextColor=&quot;@drawable/selector&quot;\r\n        app:labelVisibilityMode=&quot;labeled&quot;\r\n        app:menu=&quot;@menu/nav_menu&quot; /&gt;\r\n\r\nThis is the code in my xml file regarding the bottom navigation bar.\r\n\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n\r\n            &lt;item android:title=&quot;Information&quot;\r\n                android:id=&quot;@+id/information_nav_bar&quot;\r\n                android:icon=&quot;@drawable/ic_info&quot; /&gt;\r\n\r\n            &lt;item android:title=&quot;Table&quot;\r\n                android:id=&quot;@+id/table_nav_bar&quot;\r\n                android:icon=&quot;@drawable/ic_info&quot; /&gt;\r\n\r\n\r\n&lt;/menu&gt;\r\nThis is my navigation menu xml.\r\n\r\n","title":"First item in bottom navigation bar is not visible","body":"<p>First item in bottom navigation bar is not visible, although its clickable and working properly.\nTried the solutions given to this question: <a href=\"https://stackoverflow.com/questions/60536213/kotlin-first-item-in-bottomnavigationbar-isnt-visible-title-issues\">KOTLIN - First item in BottomNavigationBar isn&#39;t visible, title issues</a>\nBut nothing seems to work out.</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:id=&quot;@+id/drawer_layout&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:orientation=&quot;vertical&quot;\ntools:context=&quot;.MapsActivity&quot;&gt;\n\n&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n    android:id=&quot;@+id/bottom_navigation&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentBottom=&quot;true&quot;\n    app:itemBackground=&quot;@color/white&quot;\n    app:itemIconTint=&quot;@drawable/selector&quot;\n    app:itemTextColor=&quot;@drawable/selector&quot;\n    app:labelVisibilityMode=&quot;labeled&quot;\n    app:menu=&quot;@menu/nav_menu&quot; /&gt;\n</code></pre>\n<p>This is the code in my xml file regarding the bottom navigation bar.</p>\n<pre><code>&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n\n        &lt;item android:title=&quot;Information&quot;\n            android:id=&quot;@+id/information_nav_bar&quot;\n            android:icon=&quot;@drawable/ic_info&quot; /&gt;\n\n        &lt;item android:title=&quot;Table&quot;\n            android:id=&quot;@+id/table_nav_bar&quot;\n            android:icon=&quot;@drawable/ic_info&quot; /&gt;\n</code></pre>\n\nThis is my navigation menu xml.\n"},{"tags":["java","dictionary","key"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1511567113,"post_id":47481283,"comment_id":81917381,"body_markdown":"For what purpose? The only times you care about the actual object identity is if you are either synchronising or misusing `==`. NB a hash map uses both `hashCode()` and `equals()`.","body":"For what purpose? The only times you care about the actual object identity is if you are either synchronising or misusing <code>==</code>. NB a hash map uses both <code>hashCode()</code> and <code>equals()</code>."},{"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":2,"creation_date":1511567144,"post_id":47481283,"comment_id":81917389,"body_markdown":"Re: &quot;A `HashMap` uses `hashCode()`, which is the same for multiple unique objects&quot;: More relevantly, it uses `equals()` rather than `==`. The `hashCode()` is just for quickly narrowing down the set of keys that it needs to use `equals()` on.","body":"Re: &quot;A <code>HashMap</code> uses <code>hashCode()</code>, which is the same for multiple unique objects&quot;: More relevantly, it uses <code>equals()</code> rather than <code>==</code>. The <code>hashCode()</code> is just for quickly narrowing down the set of keys that it needs to use <code>equals()</code> on."},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":0,"creation_date":1511568388,"post_id":47481283,"comment_id":81917689,"body_markdown":"I think it is very clear what I am asking, and just someone&#39;s taste for questions doesn&#39;t make this eligible to close for &quot;unclear what you&#39;re asking&quot;.","body":"I think it is very clear what I am asking, and just someone&#39;s taste for questions doesn&#39;t make this eligible to close for &quot;unclear what you&#39;re asking&quot;."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1511568530,"post_id":47481283,"comment_id":81917726,"body_markdown":"What is unclear both this time and the previous time you asked this question is *why you are asking it.* At least last time you had a reason, although the code you posted was actually meaningless. This time, nothing, not even when you were specifically asked for an explanation, 23 minutes and several edits ago.","body":"What is unclear both this time and the previous time you asked this question is <i>why you are asking it.</i> At least last time you had a reason, although the code you posted was actually meaningless. This time, nothing, not even when you were specifically asked for an explanation, 23 minutes and several edits ago."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1511570389,"post_id":47481283,"comment_id":81918058,"body_markdown":"If your design depends on getting a reference to a specific instance, the key instance that was originally passed to `put(K,V)`, and an equivalent (via `hashCode()` and `equals()`) is insufficient, then your design is broken.  Unless you can provide a convincing reason for wanting this we have to assume it&#39;s an [XY Problem](http://xyproblem.info).","body":"If your design depends on getting a reference to a specific instance, the key instance that was originally passed to <code>put(K,V)</code>, and an equivalent (via <code>hashCode()</code> and <code>equals()</code>) is insufficient, then your design is broken.  Unless you can provide a convincing reason for wanting this we have to assume it&#39;s an <a href=\"http://xyproblem.info\" rel=\"nofollow noreferrer\">XY Problem</a>."},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":0,"creation_date":1511570449,"post_id":47481283,"comment_id":81918066,"body_markdown":"_Why_ I ask does not matter. It&#39;s a valid question. Otherwise you could ask &quot;why&quot; for each answer I give to your previous why. I understand you want to be helpful with the underlying problem, but if you don&#39;t want to answer it, fine. Please let others. Thanks.","body":"<i>Why</i> I ask does not matter. It&#39;s a valid question. Otherwise you could ask &quot;why&quot; for each answer I give to your previous why. I understand you want to be helpful with the underlying problem, but if you don&#39;t want to answer it, fine. Please let others. Thanks."},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":0,"creation_date":1511570649,"post_id":47481283,"comment_id":81918099,"body_markdown":"The obvious answer is &quot;no&quot;. But there are tricks. Like, &quot;is it possible to create a singleton across all classloaders?&quot; Simple wrong answer: no. Correct answer: Yes, with some hacks.","body":"The obvious answer is &quot;no&quot;. But there are tricks. Like, &quot;is it possible to create a singleton across all classloaders?&quot; Simple wrong answer: no. Correct answer: Yes, with some hacks."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1511571711,"post_id":47481283,"comment_id":81918259,"body_markdown":"You could &#39;wrap&#39; the String in an object that also stores the key, and put that wrapper in the map - but you must ensure that the correct key is stored (extending the Map?!)","body":"You could &#39;wrap&#39; the String in an object that also stores the key, and put that wrapper in the map - but you must ensure that the correct key is stored (extending the Map?!)"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1511572210,"post_id":47481283,"comment_id":81918350,"body_markdown":"Why you ask *does* matter: when the question appears pointless; when you are asked; when what you are asking looks like an XY problem; and when your previous motivation for asking it proved spurious. Are you perhaps looking for [`IdentityHashMap`](https://docs.oracle.com/javase/7/docs/api/java/util/IdentityHashMap.html)?","body":"Why you ask <i>does</i> matter: when the question appears pointless; when you are asked; when what you are asking looks like an XY problem; and when your previous motivation for asking it proved spurious. Are you perhaps looking for <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/IdentityHashMap.html\" rel=\"nofollow noreferrer\"><code>IdentityHashMap</code></a>?"},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":0,"creation_date":1511575681,"post_id":47481283,"comment_id":81918884,"body_markdown":"Sorry, but my experience with &quot;why do you ask&quot; is that it leads to pointless discussions about other topic. This is a Q&amp;A site, not a support site. Thanks for trying to help me with concurrency but I have a hotfix to do and know the fix, I only wanted to know if there&#39;s a trick to get the key object or should I create another map. Typically, hotfixes are not supposed to be fixing a bad syncing design.","body":"Sorry, but my experience with &quot;why do you ask&quot; is that it leads to pointless discussions about other topic. This is a Q&amp;A site, not a support site. Thanks for trying to help me with concurrency but I have a hotfix to do and know the fix, I only wanted to know if there&#39;s a trick to get the key object or should I create another map. Typically, hotfixes are not supposed to be fixing a bad syncing design."}],"answers":[{"tags":[],"owner":{"account_id":9938171,"reputation":630,"user_id":7355766,"display_name":"Jorge L. Morla"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1511567511,"creation_date":1511567511,"answer_id":47481351,"question_id":47481283,"body_markdown":"it could help. You can use a for each like below.   \r\n\r\n    Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();\r\n            map.put(&quot;hello1&quot;, new String(&quot;Hello&quot;));\r\n            map.put(&quot;hello2&quot;, new String(&quot;World&quot;));\r\n            map.put(&quot;hello3&quot;, new String(&quot;How&quot;));\r\n            map.put(&quot;hello4&quot;, new String(&quot;Are u&quot;));\r\n                \r\n            for(Map.Entry&lt;String,Object&gt; e: map.entrySet()){\r\n                 System.out.println(e.getKey());\r\n            }","title":"Java - how to get a key object (or entry) stored in HashMap by key?","body":"<p>it could help. You can use a for each like below.   </p>\n\n<pre><code>Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();\n        map.put(\"hello1\", new String(\"Hello\"));\n        map.put(\"hello2\", new String(\"World\"));\n        map.put(\"hello3\", new String(\"How\"));\n        map.put(\"hello4\", new String(\"Are u\"));\n\n        for(Map.Entry&lt;String,Object&gt; e: map.entrySet()){\n             System.out.println(e.getKey());\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511570830,"creation_date":1511569392,"answer_id":47481511,"question_id":47481283,"body_markdown":"&gt; Is there a way to get the actual key object from the map?\r\n\r\n&lt;sup&gt;OK, so I am going to make some assumptions about what you mean.  After all, you said that your question doesn&#39;t need clarification, so the obvious meaning that I can see **must be** the correct one.  Right? :-)&lt;/sup&gt;\r\n\r\nThe answer is No.  There isn&#39;t a way.  \r\n\r\nExample scenario (not compileable!)\r\n\r\n    UUID uuid = UUID.fromString(&quot;xxxx-yyy-zzz&quot;);\r\n    UUID uuid2 = UUID.fromString(&quot;xxxx-yyy-zzz&quot;);  // same string\r\n    println(uuid == uuid2);  // prints false\r\n    println(uuid.equals(true));  // prints true\r\n    \r\n    Map&lt;UUID, String&gt; map = new ...\r\n    map.put(uuid, &quot;fred&quot;);\r\n    println(map.get(uuid)); // prints fred\r\n    println(map.get(uuid2)); // prints fred (because uuid.equals(uuid2) is true)\r\n\r\n... but, the `Map` API does not provide a way to find the *actual* key (in the example above it is `uuid`) in the `map` apart from iterating the key or entry sets.  And I&#39;m not aware of any existing `Map` class (standard or 3rd-party) that does provide this&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nHowever, you *could* implement your own `Map` class with an additional method for returning the actual key object.  There is no *technical* reason why you couldn&#39;t, though you would have more code to write, test, maintain, etcetera.\r\n\r\n------------\r\n\r\nBut I would add that I agree with Jim Garrison.  If you have a scenario where you have UUID objects (with equality-by-value semantics) and you also want to implement equality by identity semantics, then there is probably something wrong with your application&#39;s design.  The correct approach would be to change the `UUID.fromString(...)` implementation to always return the same `UUID` object for the same input string.\r\n\r\n------------\r\n\r\n&lt;sup&gt;1 - This is not to say that such a map implementation doesn&#39;t exist.  But if it does, *you* should be able to find it if you look hard enough  Note that Questions asking us to find or recommend a library are off-topic!&lt;/sup&gt;","title":"Java - how to get a key object (or entry) stored in HashMap by key?","body":"<blockquote>\n  <p>Is there a way to get the actual key object from the map?</p>\n</blockquote>\n\n<p><sup>OK, so I am going to make some assumptions about what you mean.  After all, you said that your question doesn't need clarification, so the obvious meaning that I can see <strong>must be</strong> the correct one.  Right? :-)</sup></p>\n\n<p>The answer is No.  There isn't a way.  </p>\n\n<p>Example scenario (not compileable!)</p>\n\n<pre><code>UUID uuid = UUID.fromString(\"xxxx-yyy-zzz\");\nUUID uuid2 = UUID.fromString(\"xxxx-yyy-zzz\");  // same string\nprintln(uuid == uuid2);  // prints false\nprintln(uuid.equals(true));  // prints true\n\nMap&lt;UUID, String&gt; map = new ...\nmap.put(uuid, \"fred\");\nprintln(map.get(uuid)); // prints fred\nprintln(map.get(uuid2)); // prints fred (because uuid.equals(uuid2) is true)\n</code></pre>\n\n<p>... but, the <code>Map</code> API does not provide a way to find the <em>actual</em> key (in the example above it is <code>uuid</code>) in the <code>map</code> apart from iterating the key or entry sets.  And I'm not aware of any existing <code>Map</code> class (standard or 3rd-party) that does provide this<sup>1</sup>.</p>\n\n<p>However, you <em>could</em> implement your own <code>Map</code> class with an additional method for returning the actual key object.  There is no <em>technical</em> reason why you couldn't, though you would have more code to write, test, maintain, etcetera.</p>\n\n<hr>\n\n<p>But I would add that I agree with Jim Garrison.  If you have a scenario where you have UUID objects (with equality-by-value semantics) and you also want to implement equality by identity semantics, then there is probably something wrong with your application's design.  The correct approach would be to change the <code>UUID.fromString(...)</code> implementation to always return the same <code>UUID</code> object for the same input string.</p>\n\n<hr>\n\n<p><sup>1 - This is not to say that such a map implementation doesn't exist.  But if it does, <em>you</em> should be able to find it if you look hard enough  Note that Questions asking us to find or recommend a library are off-topic!</sup></p>\n"},{"tags":[],"owner":{"account_id":4542619,"reputation":8565,"user_id":3690024,"display_name":"AJNeufeld"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511588725,"creation_date":1511588725,"answer_id":47483006,"question_id":47481283,"body_markdown":"There is a (relatively) simple way of doing this.  I’ve done so in my applications from time to time, when needed ... not for the purpose of `==` testing, but to reduce the number of identical objects being stored when tens of thousand of objects exist, and are cross-referenced with each other.  This significantly reduced my memory usage, and improved performance ... while still using `equals()` for equality tests. \n\nJust maintain a parallel map for interning the keys.  \n\n    Map&lt;UUID, UUID&gt; interned_keys = ...\n\n    UUID key = ...\n    if (interned_keys.contains(key))\n        key = interned_keys.get(key)\n\nOf course, it is far better when the object being stored knows what its own identity is.  Then you get the interning basically for free. \n\n    class Item {\n        UUID key;\n        // ...\n    }\n\n    Map&lt;UUID, Item&gt; map = ...\n    map.put(item.key, item);\n\n    UUID key = ...\n    key = map.get(key).key;  // get interned key\n\n\n    ","title":"Java - how to get a key object (or entry) stored in HashMap by key?","body":"<p>There is a (relatively) simple way of doing this.  I’ve done so in my applications from time to time, when needed ... not for the purpose of <code>==</code> testing, but to reduce the number of identical objects being stored when tens of thousand of objects exist, and are cross-referenced with each other.  This significantly reduced my memory usage, and improved performance ... while still using <code>equals()</code> for equality tests. </p>\n\n<p>Just maintain a parallel map for interning the keys.  </p>\n\n<pre><code>Map&lt;UUID, UUID&gt; interned_keys = ...\n\nUUID key = ...\nif (interned_keys.contains(key))\n    key = interned_keys.get(key)\n</code></pre>\n\n<p>Of course, it is far better when the object being stored knows what its own identity is.  Then you get the interning basically for free. </p>\n\n<pre><code>class Item {\n    UUID key;\n    // ...\n}\n\nMap&lt;UUID, Item&gt; map = ...\nmap.put(item.key, item);\n\nUUID key = ...\nkey = map.get(key).key;  // get interned key\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5374286,"reputation":1172,"user_id":4350148,"accept_rate":12,"display_name":"dan b"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559220859,"creation_date":1559220859,"answer_id":56378738,"question_id":47481283,"body_markdown":"I think there are valid reasons for wanting the actual key. For example, to save memory.  Also keep in mind that the actual key may store other objects. For instance, suppose you have a vertex of a graph. The vertex can store the actual data (Say a String, for instance), as well as the incident vertices. A vertex hash value can be dependent only on the data.  So to look up a vertex with some data, \r\nD, look up a vertex with data, D,and with with no incident values.  Now if you can return the actual vertex in the map you will be able to get the actual incident to the vertex. \r\n\r\nIt seems to me that many map implementations could easily provide a getEntry method.  For example, the HashMap implementation for get is:\r\n\r\n      public V get(Object key) {\r\n        Node&lt;K,V&gt; e;\r\n        return (e = getNode(hash(key), key)) == null ? null : e.value;\r\n      }\r\n      \r\n      final Node&lt;K,V&gt; getNode(int hash, Object key) {\r\n        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; int n; K k;\r\n        if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp;\r\n            (first = tab[(n - 1) &amp; hash]) != null) {\r\n            if (first.hash == hash &amp;&amp; // always check first node\r\n                ((k = first.key) == key || (key != null &amp;&amp; key.equals(k))))\r\n                return first;\r\n            if ((e = first.next) != null) {\r\n                if (first instanceof TreeNode)\r\n                    return ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);\r\n                do {\r\n                    if (e.hash == hash &amp;&amp;\r\n                        ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))\r\n                        return e;\r\n                } while ((e = e.next) != null);\r\n            }\r\n        }\r\n        return null;\r\n     }\r\n\r\nOne could use the getNode method to return an Entry:\r\n\r\n     public getEntry(Object key){\r\n       Node&lt;K,V&gt; e = getNode(hash(key),key);\r\n       if(e == null) return null;\r\n       return new Entry&lt;&gt;(e.key,e.value);\r\n     }\r\n ","title":"Java - how to get a key object (or entry) stored in HashMap by key?","body":"<p>I think there are valid reasons for wanting the actual key. For example, to save memory.  Also keep in mind that the actual key may store other objects. For instance, suppose you have a vertex of a graph. The vertex can store the actual data (Say a String, for instance), as well as the incident vertices. A vertex hash value can be dependent only on the data.  So to look up a vertex with some data, \nD, look up a vertex with data, D,and with with no incident values.  Now if you can return the actual vertex in the map you will be able to get the actual incident to the vertex. </p>\n\n<p>It seems to me that many map implementations could easily provide a getEntry method.  For example, the HashMap implementation for get is:</p>\n\n<pre><code>  public V get(Object key) {\n    Node&lt;K,V&gt; e;\n    return (e = getNode(hash(key), key)) == null ? null : e.value;\n  }\n\n  final Node&lt;K,V&gt; getNode(int hash, Object key) {\n    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; int n; K k;\n    if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp;\n        (first = tab[(n - 1) &amp; hash]) != null) {\n        if (first.hash == hash &amp;&amp; // always check first node\n            ((k = first.key) == key || (key != null &amp;&amp; key.equals(k))))\n            return first;\n        if ((e = first.next) != null) {\n            if (first instanceof TreeNode)\n                return ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);\n            do {\n                if (e.hash == hash &amp;&amp;\n                    ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))\n                    return e;\n            } while ((e = e.next) != null);\n        }\n    }\n    return null;\n }\n</code></pre>\n\n<p>One could use the getNode method to return an Entry:</p>\n\n<pre><code> public getEntry(Object key){\n   Node&lt;K,V&gt; e = getNode(hash(key),key);\n   if(e == null) return null;\n   return new Entry&lt;&gt;(e.key,e.value);\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16229064,"reputation":59,"user_id":11718457,"display_name":"bluejazzshark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646437231,"creation_date":1646437231,"answer_id":71358317,"question_id":47481283,"body_markdown":"The easiest way is to duplicate the reference to the key in the value using a generic Pair type, like this:\r\n\r\n    HashMap&lt;UUID,Pair&lt;UUID,String&gt;&gt; myMap = new HashMap&lt;&gt;();\r\n\r\nWhen you put them in the map, you provide the reference to the key to the pair. The cost is one reference per entry.\r\n\r\n    void add(UUID uuid, String str)\r\n    {\r\n        myMap.put(uuid,Pair.of(uuid,str));\r\n    }\r\n    \r\n    Pair&lt;UUID,String&gt; get(UUID uuid)\r\n    {\r\n        return myMap.get(uuid);\r\n    }\r\n\r\nThen getFirst() of the Pair *is* your key. getSecond() is the value.\r\n\r\nWhatever you do, it&#39;s going to cost you in either time or space.\r\n\r\nYour Pair class will be something like:\r\n\r\n\r\n    public class Pair&lt;A,B&gt;\r\n    {\r\n        private final A a;\r\n        private final B b;\r\n    \r\n        \r\n        public Pair(A a, B b)\r\n        {\r\n            this.a = a;\r\n            this.b = b;\r\n        }\r\n    \r\n        /**\r\n         * @return      the first argument of the Pair\r\n         */\r\n        public A getFirst()\r\n        {\r\n            return this.a;\r\n        }\r\n    \r\n        /**\r\n         * @return      the second argument of the Pair\r\n         */\r\n        public B getSecond()\r\n        {\r\n            return this.b;\r\n        }\r\n    \r\n        /**\r\n         * Create a Pair.\r\n         *\r\n         * @param a         The first argument (of type A)\r\n         * @param b         The second argument (of type B)\r\n         *\r\n         * @return          A Pair of A and B\r\n         */\r\n        public static &lt;A,B&gt; Pair&lt;A,B&gt; of(A a, B b)\r\n        {\r\n            return new Pair&lt;&gt;(a,b);\r\n        }\r\n    \r\n    \r\n        // Don&#39;t forget to get your IDE to produce a hashcode() \r\n        // and equals() method for you, depending\r\n        // on if you allow nulls or not, or DIY.\r\n    \r\n    }\r\n\r\n\r\n","title":"Java - how to get a key object (or entry) stored in HashMap by key?","body":"<p>The easiest way is to duplicate the reference to the key in the value using a generic Pair type, like this:</p>\n<pre><code>HashMap&lt;UUID,Pair&lt;UUID,String&gt;&gt; myMap = new HashMap&lt;&gt;();\n</code></pre>\n<p>When you put them in the map, you provide the reference to the key to the pair. The cost is one reference per entry.</p>\n<pre><code>void add(UUID uuid, String str)\n{\n    myMap.put(uuid,Pair.of(uuid,str));\n}\n\nPair&lt;UUID,String&gt; get(UUID uuid)\n{\n    return myMap.get(uuid);\n}\n</code></pre>\n<p>Then getFirst() of the Pair <em>is</em> your key. getSecond() is the value.</p>\n<p>Whatever you do, it's going to cost you in either time or space.</p>\n<p>Your Pair class will be something like:</p>\n<pre><code>public class Pair&lt;A,B&gt;\n{\n    private final A a;\n    private final B b;\n\n    \n    public Pair(A a, B b)\n    {\n        this.a = a;\n        this.b = b;\n    }\n\n    /**\n     * @return      the first argument of the Pair\n     */\n    public A getFirst()\n    {\n        return this.a;\n    }\n\n    /**\n     * @return      the second argument of the Pair\n     */\n    public B getSecond()\n    {\n        return this.b;\n    }\n\n    /**\n     * Create a Pair.\n     *\n     * @param a         The first argument (of type A)\n     * @param b         The second argument (of type B)\n     *\n     * @return          A Pair of A and B\n     */\n    public static &lt;A,B&gt; Pair&lt;A,B&gt; of(A a, B b)\n    {\n        return new Pair&lt;&gt;(a,b);\n    }\n\n\n    // Don't forget to get your IDE to produce a hashcode() \n    // and equals() method for you, depending\n    // on if you allow nulls or not, or DIY.\n\n}\n</code></pre>\n"}],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1094,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":5,"score":1,"last_activity_date":1646437231,"creation_date":1511566897,"question_id":47481283,"body_markdown":"I&#39;d like to get the &quot;canonical&quot; key object for each key usable to query a map. See here:\r\n\r\n    Map&lt;UUID, String&gt; map = new HashMap();\r\n    UUID a = new UUID(&quot;ABC...&quot;);\r\n    map.put(a, &quot;Tu nejde o zamyk&#225;n&#237;.&quot;);\r\n\r\n    UUID b = new UUID(&quot;ABC...&quot;);\r\n    String string = map.get(b); // This gives that string.\r\n    \r\n    // This is what I am looking for:\r\n    UUID againA = map.getEntry(b).key();\r\n    boolean thisIsTrue = a == againA;\r\n\r\n\r\n A `HashMap` uses `equals()`, which is the same for multiple unique objects. So I want to get the actual key from the map, which will always be the same, no matter what object was used to query the map.\r\n\r\nIs there a way to get the actual key object from the map? I don&#39;t see anything in the interface, but perhaps some clever trick I overlooked?\r\n\r\n(Iterating all entries or keys doesn&#39;t count.)\r\n\r\n\r\n&lt;!--\r\n**Edit:** While this is not relevant to the question, here is the thing that I am solving:\r\n\r\n    public ConversionTask getRunningTask(UUID uuid) {\r\n        synchronized (uuid) {\r\n            return this.runningConversions.get(uuid);\r\n        }\r\n    }\r\n\r\nThere can be any number of UUID instances for given UUID.\r\nThe map uses `hashCode()` but locking uses the object identity.\r\n\r\nThis is not really locking per UUID as was intended by code author. If I was able to get the actual key object, it would be an unique-per-UUID object, and it could be safely used for locking.\r\n--&gt;\r\n","title":"Java - how to get a key object (or entry) stored in HashMap by key?","body":"<p>I'd like to get the \"canonical\" key object for each key usable to query a map. See here:</p>\n\n<pre><code>Map&lt;UUID, String&gt; map = new HashMap();\nUUID a = new UUID(\"ABC...\");\nmap.put(a, \"Tu nejde o zamykání.\");\n\nUUID b = new UUID(\"ABC...\");\nString string = map.get(b); // This gives that string.\n\n// This is what I am looking for:\nUUID againA = map.getEntry(b).key();\nboolean thisIsTrue = a == againA;\n</code></pre>\n\n<p>A <code>HashMap</code> uses <code>equals()</code>, which is the same for multiple unique objects. So I want to get the actual key from the map, which will always be the same, no matter what object was used to query the map.</p>\n\n<p>Is there a way to get the actual key object from the map? I don't see anything in the interface, but perhaps some clever trick I overlooked?</p>\n\n<p>(Iterating all entries or keys doesn't count.)</p>\n\n\n"},{"tags":["java","loops","if-statement","nested-loops"],"answers":[{"tags":[],"owner":{"account_id":1232799,"reputation":1734,"user_id":1197030,"display_name":"Joeblade"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646435908,"creation_date":1646435908,"answer_id":71358197,"question_id":71357974,"body_markdown":"I can&#39;t see a clear question in here so I assume you are stuck on the structure of the loops.\r\n\r\n**while** has the following structure:\r\n\r\n    // before\r\n    while (condition) {\r\n        statements;\r\n        statements;\r\n    }\r\n    //after\r\n\r\nIt first tests the condition. if true, it runs the statements. if the condition is false it skips straight to &#39;after&#39;\r\n\r\n**do-while** has the following structure:\r\n\r\n    // before\r\n    do {\r\n        statements;\r\n        statements;\r\n    } while (condition);\r\n    // after\r\nIt first runs the statements. then it tests the condition. if the condition is true it goes back into &#39;do&#39; and runs the statements again. if the condition is false it goes to after. \r\n\r\nYou can nest loops like so:\r\n\r\n    while (someCondition) {\r\n        int i = 1;\r\n        String s = &quot;&quot;;\r\n        // other code, just filling this to make it look a bit better\r\n        while (otherCondition) {\r\n            int j = i + 3; // i is available because this while is inside the block of the other while\r\n        }\r\n    }\r\n\r\nYou can do the same with do-while / mix them.\r\n\r\nOne additional thing: if you use break, you exit the loop you are in. if you have nested loops then you will break from the deepest loop.\r\n\r\n    while (someCondition) {\r\n        while (otherCondition) {\r\n            break; // goes to after-inner-while\r\n        }\r\n        // after-inner-while\r\n    }\r\n\r\nsometimes you want to jump out of the outer while loop. break can help with this if you use labels. you can name loops like so:\r\n\r\n    outer: while (someCondition) {\r\n         inner: while (otherCondition) {\r\n             break outer; // goes to after-outer-while\r\n         }\r\n         // after-inner-while\r\n    }\r\n    // after-outer-while\r\n\r\nthis all also works for for-loops but you specifically asked questions about while loops.\r\n\r\nbe very careful about not using blocks after your while.\r\nthis is allowed but will be hard to read / a source of bugs:\r\n\r\n    while (someCondition)\r\n        doSomething();\r\n    \r\nit can easily be confuse you into thinking your code works differently than it actually does:\r\n\r\n    while (someCondition)\r\n        doSomething();\r\n        doAnotherThing();\r\n\r\nthe above only runs doSomething inside the loop but someone reading your code will likely think both method calls will be run.\r\n\r\n\r\nNow to the code you posted:\r\n\r\nI think you are expected to do something along the lines of:\r\n\r\n    boolean answeredYes = false;\r\n    while (!answeredYes) {\r\n        // ask for user input\r\n        // if user input is &quot;Y&quot; set answeredYes to true\r\n    } \r\n\r\nsince you say you need to use a while loop first. I would prefer do-while for this since you can do:\r\n\r\n    do {\r\n        // ask for user input\r\n    } while (userinput not what you expect);\r\n\r\nMy best advice right now is: don&#39;t try to write the entire method. Write code for one problem at a time. Start with the Y/N question and what you are supposed to do if the user types Y or N\r\n\r\nthen move on to the next step and work out what to do and how to do it. Write yourself comments (notes) that let you know what your intentions are.","title":"Setting up while and do-while loops from user input questions","body":"<p>I can't see a clear question in here so I assume you are stuck on the structure of the loops.</p>\n<p><strong>while</strong> has the following structure:</p>\n<pre><code>// before\nwhile (condition) {\n    statements;\n    statements;\n}\n//after\n</code></pre>\n<p>It first tests the condition. if true, it runs the statements. if the condition is false it skips straight to 'after'</p>\n<p><strong>do-while</strong> has the following structure:</p>\n<pre><code>// before\ndo {\n    statements;\n    statements;\n} while (condition);\n// after\n</code></pre>\n<p>It first runs the statements. then it tests the condition. if the condition is true it goes back into 'do' and runs the statements again. if the condition is false it goes to after.</p>\n<p>You can nest loops like so:</p>\n<pre><code>while (someCondition) {\n    int i = 1;\n    String s = &quot;&quot;;\n    // other code, just filling this to make it look a bit better\n    while (otherCondition) {\n        int j = i + 3; // i is available because this while is inside the block of the other while\n    }\n}\n</code></pre>\n<p>You can do the same with do-while / mix them.</p>\n<p>One additional thing: if you use break, you exit the loop you are in. if you have nested loops then you will break from the deepest loop.</p>\n<pre><code>while (someCondition) {\n    while (otherCondition) {\n        break; // goes to after-inner-while\n    }\n    // after-inner-while\n}\n</code></pre>\n<p>sometimes you want to jump out of the outer while loop. break can help with this if you use labels. you can name loops like so:</p>\n<pre><code>outer: while (someCondition) {\n     inner: while (otherCondition) {\n         break outer; // goes to after-outer-while\n     }\n     // after-inner-while\n}\n// after-outer-while\n</code></pre>\n<p>this all also works for for-loops but you specifically asked questions about while loops.</p>\n<p>be very careful about not using blocks after your while.\nthis is allowed but will be hard to read / a source of bugs:</p>\n<pre><code>while (someCondition)\n    doSomething();\n</code></pre>\n<p>it can easily be confuse you into thinking your code works differently than it actually does:</p>\n<pre><code>while (someCondition)\n    doSomething();\n    doAnotherThing();\n</code></pre>\n<p>the above only runs doSomething inside the loop but someone reading your code will likely think both method calls will be run.</p>\n<p>Now to the code you posted:</p>\n<p>I think you are expected to do something along the lines of:</p>\n<pre><code>boolean answeredYes = false;\nwhile (!answeredYes) {\n    // ask for user input\n    // if user input is &quot;Y&quot; set answeredYes to true\n} \n</code></pre>\n<p>since you say you need to use a while loop first. I would prefer do-while for this since you can do:</p>\n<pre><code>do {\n    // ask for user input\n} while (userinput not what you expect);\n</code></pre>\n<p>My best advice right now is: don't try to write the entire method. Write code for one problem at a time. Start with the Y/N question and what you are supposed to do if the user types Y or N</p>\n<p>then move on to the next step and work out what to do and how to do it. Write yourself comments (notes) that let you know what your intentions are.</p>\n"}],"owner":{"account_id":24456015,"reputation":1,"user_id":18377597,"display_name":"Slothy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646435908,"creation_date":1646433796,"question_id":71357974,"body_markdown":"I have to create a code used to determine the amount of insurance payout. I have to use a *while loop* after the initial prompt asking if they want to get an analysis. Then I need to use *nested do-whiles*, 2 do-while loops, in the prompts and *if-else-ifs*. I need help with the loops. \r\n\r\n    `\r\n\r\n    public class Main\r\n        {\r\n         public static void main(String[] args) {\r\n        Scanner input = new Scanner (System.in);\r\n        String answer = &quot; &quot;;\r\n        String cont = (&quot;%nMUTUALLY ACCIDENTAL, INC.&quot; +\r\n         &quot;%n%nDo you want an analysis of earthquake coverage&quot; +\r\n         &quot;for your property? Enter &#39;Y&#39; or &#39;N&#39;: &quot;);\r\n    \r\n            System.out.printf (cont);\r\n            (Scanner (answer = input.nextLine ()));\r\n    \r\n        while (answer.equalsIgnoreCase (&quot;Y&quot;))\r\n            System.out.printf (&quot;%nMUTUALLY ACCIDENTAL, INC.&quot; +\r\n          &quot;%n%nEarthquake coverage analyzer&quot; +\r\n          &quot;%nPlease enter your name:  &quot;);\r\n        do\r\n        System.out.printf(&quot;%nPlease enter the insured value of your home:  &quot;);\r\n        System.out.printf(&quot;%nRichter Scale     Damage Assessment&quot;+\r\n                       &quot;     9.0+         Total destruction.&quot;+\r\n                       &quot;     8.0          Most structures dell.&quot;+\r\n                       &quot;     7.0          Many buildings destroyed&quot;+\r\n                       &quot;     6.0          Many buildings considerably damaged, some collapsed.&quot;+\r\n                       &quot;     4.5          Damage to poorly constructed buildings.&quot;+\r\n                       &quot;     3.5          Felt by many people, no destruction.&quot;+\r\n                       &quot;     0            Generally not felt by people.&quot;+\r\n                      &quot;%n%nPlease enter the Richter scale value for the earthquake: &quot;);\r\n        do \r\n        system.out.printf(&quot;%n“Your Name: “,Xxxxxxxxxx Xxxxxxxxxxxxxxx\r\n                            “Home’s Insured Vale: “,$ZZZ,ZZZ,ZZZ9.99\r\n                            “Richter Scale: “,Z9.99 or -Z9.99\r\n    \r\n                            “Is this information correct? ‘Y’ or ‘N’: “);\r\n        System.out.printf(&quot;%nDo you have another property? Enter &#39;Y&#39; or &#39;N&#39;:  &quot;);\r\n        coverage = String.format(%n%nPAYOUT FOR EARTHQUAKE &quot;+\r\n                                   &quot;DAMAGE&quot;+\r\n                                 &quot;%N%NHOMEOWNER: %S&quot;+\r\n                                 &quot;$n$nDATE:  %tD&quot;+\r\n                                 &quot;%nTime:  %tr%n, insured, dateTime, dateTime);\r\n        coverage +=String.format(&quot;%n%-52s %4s $%,20.2f&quot;+\r\n                                 &quot;%nDeductible $47 $,20,2f&quot;+\r\n                                 &quot;%n46s TOTAL %4s $%,20.2f%n&quot;, message, &quot; &quot;, payout, &quot; &quot;, deductible, &quot; &quot;, &quot; &quot;, payout + deductible);\r\n    \r\n           System.out.print(coverage) when richter &gt; 0\r\n                                 \r\n                                 exit main()\r\n          \r\n          else \r\n          System.out.printf(&quot;%nThank you for using the Earthquake&quot; +\r\n           &quot;Coverage Analyzer.&quot;);\r\n      }\r\n    }","title":"Setting up while and do-while loops from user input questions","body":"<p>I have to create a code used to determine the amount of insurance payout. I have to use a <em>while loop</em> after the initial prompt asking if they want to get an analysis. Then I need to use <em>nested do-whiles</em>, 2 do-while loops, in the prompts and <em>if-else-ifs</em>. I need help with the loops.</p>\n<pre><code>`\n\npublic class Main\n    {\n     public static void main(String[] args) {\n    Scanner input = new Scanner (System.in);\n    String answer = &quot; &quot;;\n    String cont = (&quot;%nMUTUALLY ACCIDENTAL, INC.&quot; +\n     &quot;%n%nDo you want an analysis of earthquake coverage&quot; +\n     &quot;for your property? Enter 'Y' or 'N': &quot;);\n\n        System.out.printf (cont);\n        (Scanner (answer = input.nextLine ()));\n\n    while (answer.equalsIgnoreCase (&quot;Y&quot;))\n        System.out.printf (&quot;%nMUTUALLY ACCIDENTAL, INC.&quot; +\n      &quot;%n%nEarthquake coverage analyzer&quot; +\n      &quot;%nPlease enter your name:  &quot;);\n    do\n    System.out.printf(&quot;%nPlease enter the insured value of your home:  &quot;);\n    System.out.printf(&quot;%nRichter Scale     Damage Assessment&quot;+\n                   &quot;     9.0+         Total destruction.&quot;+\n                   &quot;     8.0          Most structures dell.&quot;+\n                   &quot;     7.0          Many buildings destroyed&quot;+\n                   &quot;     6.0          Many buildings considerably damaged, some collapsed.&quot;+\n                   &quot;     4.5          Damage to poorly constructed buildings.&quot;+\n                   &quot;     3.5          Felt by many people, no destruction.&quot;+\n                   &quot;     0            Generally not felt by people.&quot;+\n                  &quot;%n%nPlease enter the Richter scale value for the earthquake: &quot;);\n    do \n    system.out.printf(&quot;%n“Your Name: “,Xxxxxxxxxx Xxxxxxxxxxxxxxx\n                        “Home’s Insured Vale: “,$ZZZ,ZZZ,ZZZ9.99\n                        “Richter Scale: “,Z9.99 or -Z9.99\n\n                        “Is this information correct? ‘Y’ or ‘N’: “);\n    System.out.printf(&quot;%nDo you have another property? Enter 'Y' or 'N':  &quot;);\n    coverage = String.format(%n%nPAYOUT FOR EARTHQUAKE &quot;+\n                               &quot;DAMAGE&quot;+\n                             &quot;%N%NHOMEOWNER: %S&quot;+\n                             &quot;$n$nDATE:  %tD&quot;+\n                             &quot;%nTime:  %tr%n, insured, dateTime, dateTime);\n    coverage +=String.format(&quot;%n%-52s %4s $%,20.2f&quot;+\n                             &quot;%nDeductible $47 $,20,2f&quot;+\n                             &quot;%n46s TOTAL %4s $%,20.2f%n&quot;, message, &quot; &quot;, payout, &quot; &quot;, deductible, &quot; &quot;, &quot; &quot;, payout + deductible);\n\n       System.out.print(coverage) when richter &gt; 0\n                             \n                             exit main()\n      \n      else \n      System.out.printf(&quot;%nThank you for using the Earthquake&quot; +\n       &quot;Coverage Analyzer.&quot;);\n  }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3768354,"reputation":7981,"user_id":3131203,"accept_rate":50,"display_name":"keshlam"},"score":7,"creation_date":1397018412,"post_id":22952882,"comment_id":35043413,"body_markdown":"On pure test-taking skill, given an &quot;always/sometimes/never&quot; choice, your best bet is &quot;sometimes&quot;. And that happens to be correct in this case.","body":"On pure test-taking skill, given an &quot;always/sometimes/never&quot; choice, your best bet is &quot;sometimes&quot;. And that happens to be correct in this case."}],"answers":[{"tags":[],"owner":{"account_id":3969990,"reputation":7267,"user_id":3274830,"accept_rate":58,"display_name":"Mohsen Kamrani"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1397035219,"creation_date":1397018436,"answer_id":22952922,"question_id":22952882,"body_markdown":"Look, there is a significant difference between a &quot;Dummy&quot; node and a &quot;Sentinel&quot; node.\r\n\r\nDummy nodes &quot;Sometimes get used as first and last nodes in the list&quot;.\r\n \r\nWhen you initiate a linked list a common approach is to create a dummy node, and interestingly it&#39;s the last node at the same time.\r\n\r\nObviously not always first or last nodes of a LL are dummy records.\r\n\r\nPlease note that you can use a dummy node without any data and a null pointer as a sentinel that shows the last node in the LL.\r\n\r\nYou may wonder is it possible to have a LL without any dummy node?&lt;br/&gt;\r\nAnswer: Yes. You can hold initialization of your LL until the insertion of the first data entry, and to that point just have null pointer as the LL, and after insertion(s) hold a pointer to the head node and always use a null pointer as &quot;Next&quot; node of the tail node.\r\n\r\nI refer you to [this](http://www.cs.uwm.edu/classes/cs351/linked-list-variations.html) page for more insight.","title":"Dummy nodes in linked lists","body":"<p>Look, there is a significant difference between a \"Dummy\" node and a \"Sentinel\" node.</p>\n\n<p>Dummy nodes \"Sometimes get used as first and last nodes in the list\".</p>\n\n<p>When you initiate a linked list a common approach is to create a dummy node, and interestingly it's the last node at the same time.</p>\n\n<p>Obviously not always first or last nodes of a LL are dummy records.</p>\n\n<p>Please note that you can use a dummy node without any data and a null pointer as a sentinel that shows the last node in the LL.</p>\n\n<p>You may wonder is it possible to have a LL without any dummy node?<br/>\nAnswer: Yes. You can hold initialization of your LL until the insertion of the first data entry, and to that point just have null pointer as the LL, and after insertion(s) hold a pointer to the head node and always use a null pointer as \"Next\" node of the tail node.</p>\n\n<p>I refer you to <a href=\"http://www.cs.uwm.edu/classes/cs351/linked-list-variations.html\" rel=\"noreferrer\">this</a> page for more insight.</p>\n"},{"tags":[],"owner":{"account_id":3126975,"reputation":301,"user_id":2645659,"display_name":"Tarkik Mittal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1397020146,"creation_date":1397020146,"answer_id":22953246,"question_id":22952882,"body_markdown":"Yes, Answer is 2. Sometimes used as first and last nodes in the list.\r\n\r\nTo answer this question you need to understand need and use of dummy node. I will explain this with the help a link list problem.\r\n\r\nSay you have Delete a node in a singly link list and only pointer to that node is given to you, How do you delete ??\r\nAnswer : If we have HEAD node we can simply traverse until we find that node and delete it, but this will not work if we have pointer of last node, because last node points to NULL.\r\nHere we need DUMMY node. which is a blank node that help us build new node of delete node later.\r\n\r\nIn case of doubly link list this problem can be in either direction. \r\nDefinition of dummy node :  a dummy node at the front/end of the list that is there only to reduce the need for special-case code in the linked-list operations. It is an empty template to build new nodes later.\r\nproblem here is we don&#39;t have any head node. We only have pointer to target node only.\r\n\r\nSolution will be like this we will copy data from next node to node what to delete and delete next node.\r\n\r\n    struct node *temp  = node_ptr-&gt;next;\r\n\r\n    node_ptr-&gt;data  = temp-&gt;data;\r\n\r\n    node_ptr-&gt;next  = temp-&gt;next;\r\n\r\n    free(temp);\r\n\r\n\r\nbut this will not work if we have pointer of last node, because last node points to NULL.\r\nHere we need DUMMY node. which is a blank node that help us build new node of delete node later.\r\n\r\nIn case of doubly link list this problem can be in either direction.\r\n \r\nDefinition of dummy node :  a dummy node at the front/end of the list that is there only to reduce the need for special-case code in the linked-list operations. It is an empty template to build new nodes later.\r\n\r\nReference : http://pages.cs.wisc.edu/~vernon/cs367/notes/4.LINKED-LIST.html","title":"Dummy nodes in linked lists","body":"<p>Yes, Answer is 2. Sometimes used as first and last nodes in the list.</p>\n\n<p>To answer this question you need to understand need and use of dummy node. I will explain this with the help a link list problem.</p>\n\n<p>Say you have Delete a node in a singly link list and only pointer to that node is given to you, How do you delete ??\nAnswer : If we have HEAD node we can simply traverse until we find that node and delete it, but this will not work if we have pointer of last node, because last node points to NULL.\nHere we need DUMMY node. which is a blank node that help us build new node of delete node later.</p>\n\n<p>In case of doubly link list this problem can be in either direction. \nDefinition of dummy node :  a dummy node at the front/end of the list that is there only to reduce the need for special-case code in the linked-list operations. It is an empty template to build new nodes later.\nproblem here is we don't have any head node. We only have pointer to target node only.</p>\n\n<p>Solution will be like this we will copy data from next node to node what to delete and delete next node.</p>\n\n<pre><code>struct node *temp  = node_ptr-&gt;next;\n\nnode_ptr-&gt;data  = temp-&gt;data;\n\nnode_ptr-&gt;next  = temp-&gt;next;\n\nfree(temp);\n</code></pre>\n\n<p>but this will not work if we have pointer of last node, because last node points to NULL.\nHere we need DUMMY node. which is a blank node that help us build new node of delete node later.</p>\n\n<p>In case of doubly link list this problem can be in either direction.</p>\n\n<p>Definition of dummy node :  a dummy node at the front/end of the list that is there only to reduce the need for special-case code in the linked-list operations. It is an empty template to build new nodes later.</p>\n\n<p>Reference : <a href=\"http://pages.cs.wisc.edu/~vernon/cs367/notes/4.LINKED-LIST.html\" rel=\"nofollow\">http://pages.cs.wisc.edu/~vernon/cs367/notes/4.LINKED-LIST.html</a></p>\n"},{"tags":[],"owner":{"account_id":14206439,"reputation":38683,"user_id":10262805,"display_name":"Yilmaz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646435881,"creation_date":1627340778,"answer_id":68537188,"question_id":22952882,"body_markdown":"In algorithms questions, we always pass the head of the linked list as the argument. If you are changing the position of the head node and you need to return the new head node, the problem will be how are you gonna return the new head. That&#39;s why we initially create a dummy node and `dummy.next` will point to the head. So, if you are potentially modifying the head of list, use dummy node\r\n\r\nOne of Apple interview questions is to swap the pair of nodes and return the new head in one way linked list.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSince, the linked list is one way, after we swap the first 2 nodes (in question u need to swap all), how are we gonna keep the reference of the head node. That&#39;s where we use the dummy node. \r\n\r\n     dummy=new ListNode(dummyValue, head)\r\n\r\n[![enter image description here][2]][2]\r\n\r\ndummy node will always point to the first node, so re return `dummy.next`\r\n\r\nThere is one common question in linked list questions: Remove the n&#39;th node from the end. \r\n\r\nTo solve this, we initialize slow pointer and fast pointer. first we traverse the fast pointer n times so when we keep traversing the fast pointer and we reach the end of the list, slow pointer will be n node behind. \r\n\r\nHowever, to remove a node from a linked list, we just have to cut the pointer to that node. If nothing points to that node, it will be garbage collected. \r\n\r\nFor example, if we have 5 nodes and we need to delete 2nd node from the end, the 3rd node from the end points to the node that we are trying to delete. So we actually have to keep a reference of 3rd node from the end and assign its `next` to the last node. So we create a dummy node and slow pointer will be starting from there. It will be easier to show on an image:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nIf the nth node was point to the head of the linked list, we would have returned null. since dummy.next is head, we will return dummy.next\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3GP1O.png\r\n  [2]: https://i.stack.imgur.com/pzIrd.png\r\n  [3]: https://i.stack.imgur.com/EcZI0.png","title":"Dummy nodes in linked lists","body":"<p>In algorithms questions, we always pass the head of the linked list as the argument. If you are changing the position of the head node and you need to return the new head node, the problem will be how are you gonna return the new head. That's why we initially create a dummy node and <code>dummy.next</code> will point to the head. So, if you are potentially modifying the head of list, use dummy node</p>\n<p>One of Apple interview questions is to swap the pair of nodes and return the new head in one way linked list.</p>\n<p><a href=\"https://i.stack.imgur.com/3GP1O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3GP1O.png\" alt=\"enter image description here\" /></a></p>\n<p>Since, the linked list is one way, after we swap the first 2 nodes (in question u need to swap all), how are we gonna keep the reference of the head node. That's where we use the dummy node.</p>\n<pre><code> dummy=new ListNode(dummyValue, head)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/pzIrd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pzIrd.png\" alt=\"enter image description here\" /></a></p>\n<p>dummy node will always point to the first node, so re return <code>dummy.next</code></p>\n<p>There is one common question in linked list questions: Remove the n'th node from the end.</p>\n<p>To solve this, we initialize slow pointer and fast pointer. first we traverse the fast pointer n times so when we keep traversing the fast pointer and we reach the end of the list, slow pointer will be n node behind.</p>\n<p>However, to remove a node from a linked list, we just have to cut the pointer to that node. If nothing points to that node, it will be garbage collected.</p>\n<p>For example, if we have 5 nodes and we need to delete 2nd node from the end, the 3rd node from the end points to the node that we are trying to delete. So we actually have to keep a reference of 3rd node from the end and assign its <code>next</code> to the last node. So we create a dummy node and slow pointer will be starting from there. It will be easier to show on an image:</p>\n<p><a href=\"https://i.stack.imgur.com/EcZI0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EcZI0.png\" alt=\"enter image description here\" /></a></p>\n<p>If the nth node was point to the head of the linked list, we would have returned null. since dummy.next is head, we will return dummy.next</p>\n"}],"owner":{"account_id":4297240,"reputation":195,"user_id":3511965,"accept_rate":85,"display_name":"user3511965"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39387,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":22952922,"answer_count":3,"score":3,"last_activity_date":1646435881,"creation_date":1397018171,"question_id":22952882,"body_markdown":"Q: When are they used? (Homework question)\r\n\r\n1. 1st and last node in the list\r\n\r\n2. Sometimes used as 1st and last nodes in the list\r\n\r\n3. Never used as 1st and last nodes in the list\r\n\r\nWikipedia says,\r\n\r\n&gt; A sentinel node is a specifically designated node used with linked\r\n&gt; lists and trees as a traversal path terminator. A sentinel node does\r\n&gt; not hold or reference any data managed by the data structure.\r\n\r\nI&#39;m thinking B but I don&#39;t really know.\r\n","title":"Dummy nodes in linked lists","body":"<p>Q: When are they used? (Homework question)</p>\n\n<ol>\n<li><p>1st and last node in the list</p></li>\n<li><p>Sometimes used as 1st and last nodes in the list</p></li>\n<li><p>Never used as 1st and last nodes in the list</p></li>\n</ol>\n\n<p>Wikipedia says,</p>\n\n<blockquote>\n  <p>A sentinel node is a specifically designated node used with linked\n  lists and trees as a traversal path terminator. A sentinel node does\n  not hold or reference any data managed by the data structure.</p>\n</blockquote>\n\n<p>I'm thinking B but I don't really know.</p>\n"},{"tags":["java","reference"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":4,"creation_date":1646435028,"post_id":71358099,"comment_id":126130590,"body_markdown":"No. A Java array is never of it&#39;s component type (except for `Object`). `Object` is the root of the type hierarchy. `Object obj = new String[] {&quot;Hello&quot;, &quot;World&quot;};` is legal and fine. Because an array is an `Object`. But it&#39;s never a `String`. Note that `Object obj = new int[] {1,2};` is also fine. Because an `int[]` is an `Object`. Not an `int`. Java is not descended from C and it has strong typing.","body":"No. A Java array is never of it&#39;s component type (except for <code>Object</code>). <code>Object</code> is the root of the type hierarchy. <code>Object obj = new String[] {&quot;Hello&quot;, &quot;World&quot;};</code> is legal and fine. Because an array is an <code>Object</code>. But it&#39;s never a <code>String</code>. Note that <code>Object obj = new int[] {1,2};</code> is also fine. Because an <code>int[]</code> is an <code>Object</code>. Not an <code>int</code>. Java is not descended from C and it has strong typing."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1646435264,"post_id":71358099,"comment_id":126130638,"body_markdown":"Java arrays are much more than pointers to the first elements in them.  They have an entire object header, a length field, and everything.","body":"Java arrays are much more than pointers to the first elements in them.  They have an entire object header, a length field, and everything."},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":1,"creation_date":1646435553,"post_id":71358099,"comment_id":126130685,"body_markdown":"Java references are not C/C++ pointers. A Java reference is just something that may leads to an object. The type of the reference must corresponds to the type of the object. You better should not think of references as pointers.","body":"Java references are not C/C++ pointers. A Java reference is just something that may leads to an object. The type of the reference must corresponds to the type of the object. You better should not think of references as pointers."}],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646435863,"creation_date":1646435863,"answer_id":71358192,"question_id":71358099,"body_markdown":"The reason why you can&#39;t write\r\n\r\n    String obj = new String[];\r\n\r\nis that the left-hand side and right-hand side have different types.  That&#39;s all there is to it.  An array of Strings is not a String.  A reference to an array of Strings is not a reference to a String.\r\n\r\nMaybe more fundamentally, Java is not C++.\r\n","title":"How is String arr = new String[] not possible in Java","body":"<p>The reason why you can't write</p>\n<pre><code>String obj = new String[];\n</code></pre>\n<p>is that the left-hand side and right-hand side have different types.  That's all there is to it.  An array of Strings is not a String.  A reference to an array of Strings is not a reference to a String.</p>\n<p>Maybe more fundamentally, Java is not C++.</p>\n"}],"owner":{"account_id":23400703,"reputation":1,"user_id":17463908,"display_name":"askingRealQuestions"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1646435863,"creation_date":1646434781,"question_id":71358099,"body_markdown":"i have trouble understand reference types in Java. So in C++ if we wanna allocate some 1D array dynamicly or single object all we do is:\r\n\r\n```java\r\nint *a = new int();\r\nint *a = new int[];\r\n```\r\n\r\nBut in Java pointers are not avaliable to programers, references are introduced as some type of pointers but without possibilty of arithemtic operation on the value they hold(point?). \r\n\r\nAs far as i know every non-primitive data type in Java is of type reference :\r\n\r\n```java\r\nString obj; //reference\r\nobj = new String();\r\n```\r\n\r\nAnd if wanna allocate it something we gotta allocate it on heap, and the obj will hold the adress of that object on heap. So in C++ it would be like :\r\n\r\n```java\r\nString *obj = new String();\r\n\r\nBut for the array we gotta do :\r\n\r\nString[] obj = new String[];\r\n```\r\n\r\nAnd I dont understand why exactly? If obj is already of  reference type(simple *ptr)  why cant we just do :\r\n\r\nString obj = new String[];\r\n\r\nHow does this exactly work in Java?\r\nIs `String[]` obj actualy **ptr in C++ or am i missing something?","title":"How is String arr = new String[] not possible in Java","body":"<p>i have trouble understand reference types in Java. So in C++ if we wanna allocate some 1D array dynamicly or single object all we do is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int *a = new int();\nint *a = new int[];\n</code></pre>\n<p>But in Java pointers are not avaliable to programers, references are introduced as some type of pointers but without possibilty of arithemtic operation on the value they hold(point?).</p>\n<p>As far as i know every non-primitive data type in Java is of type reference :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String obj; //reference\nobj = new String();\n</code></pre>\n<p>And if wanna allocate it something we gotta allocate it on heap, and the obj will hold the adress of that object on heap. So in C++ it would be like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String *obj = new String();\n\nBut for the array we gotta do :\n\nString[] obj = new String[];\n</code></pre>\n<p>And I dont understand why exactly? If obj is already of  reference type(simple *ptr)  why cant we just do :</p>\n<p>String obj = new String[];</p>\n<p>How does this exactly work in Java?\nIs <code>String[]</code> obj actualy **ptr in C++ or am i missing something?</p>\n"},{"tags":["java","spring-boot","logging","tomcat9","graceful-shutdown"],"answers":[{"tags":[],"owner":{"account_id":5436088,"reputation":185,"user_id":4325533,"accept_rate":18,"display_name":"davyjones"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646435306,"creation_date":1646435306,"answer_id":71358139,"question_id":71348290,"body_markdown":"It was a logging issue indeed. A logging property deep inside the legacy code was overriding the outer log level. The shutdown works just fine.","title":"Graceful shutdown not working in Spring Boot App","body":"<p>It was a logging issue indeed. A logging property deep inside the legacy code was overriding the outer log level. The shutdown works just fine.</p>\n"}],"owner":{"account_id":5436088,"reputation":185,"user_id":4325533,"accept_rate":18,"display_name":"davyjones"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646435306,"creation_date":1646381203,"question_id":71348290,"body_markdown":"I want to activate graceful shutdown on an existing Spring Boot (v2.3.9) app. \r\n\r\nInitially, to test the feature out, I created a sample app and added the property \r\n**server.shutdown: graceful** in the application.properties. I could see the server shutting down gracefully in the logs when I kill the app.\r\n\r\n[![enter image description here][1]][1] \r\n\r\n  [1]: https://i.stack.imgur.com/k4Bpz.png\r\n\r\nSatisfied with the output, I added the same property to the existing app. However, when I kill that particular app, the shutdown doesn&#39;t happen gracefully. No logs like above are produced. This made me wonder whether the property was actually getting set so just to double down I also set it as a run-time argument **-Dserver.shutdown=graceful**. It didn&#39;t work even after that.\r\n\r\nI have confirmed the Spring Boot/Tomcat versions running for the existing app and they are above the minimum required to enable this property.\r\n\r\nThe existing application has a convoluted logging structure with a variety of libraries (log4j, logback etc) in the mix. Could it be the case that the graceful shutdown is happening but due to a higher logging level, the logs don&#39;t show up? If that&#39;s the case, which property should I set/override to enable them.","title":"Graceful shutdown not working in Spring Boot App","body":"<p>I want to activate graceful shutdown on an existing Spring Boot (v2.3.9) app.</p>\n<p>Initially, to test the feature out, I created a sample app and added the property\n<strong>server.shutdown: graceful</strong> in the application.properties. I could see the server shutting down gracefully in the logs when I kill the app.</p>\n<p><a href=\"https://i.stack.imgur.com/k4Bpz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k4Bpz.png\" alt=\"enter image description here\" /></a></p>\n<p>Satisfied with the output, I added the same property to the existing app. However, when I kill that particular app, the shutdown doesn't happen gracefully. No logs like above are produced. This made me wonder whether the property was actually getting set so just to double down I also set it as a run-time argument <strong>-Dserver.shutdown=graceful</strong>. It didn't work even after that.</p>\n<p>I have confirmed the Spring Boot/Tomcat versions running for the existing app and they are above the minimum required to enable this property.</p>\n<p>The existing application has a convoluted logging structure with a variety of libraries (log4j, logback etc) in the mix. Could it be the case that the graceful shutdown is happening but due to a higher logging level, the logs don't show up? If that's the case, which property should I set/override to enable them.</p>\n"},{"tags":["java","google-cloud-platform","gcloud","google-iam"],"answers":[{"tags":[],"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646435261,"creation_date":1646435261,"answer_id":71358132,"question_id":71357776,"body_markdown":"You can do like that\r\n\r\n```\r\nimport com.google.auth.oauth2.GoogleCredentials;\r\nimport java.io.IOException;\r\n\r\n\r\npublic class Sandbox{\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        GoogleCredentials credentials = GoogleCredentials.getApplicationDefault();\r\n        System.out.println(credentials.getAccessToken());\r\n    }\r\n}\r\n```\r\n\r\nwith that dependency\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"How to get a GCP Bearer token programmatically with Java","body":"<p>You can do like that</p>\n<pre><code>import com.google.auth.oauth2.GoogleCredentials;\nimport java.io.IOException;\n\n\npublic class Sandbox{\n\n    public static void main(String[] args) throws IOException {\n\n        GoogleCredentials credentials = GoogleCredentials.getApplicationDefault();\n        System.out.println(credentials.getAccessToken());\n    }\n}\n</code></pre>\n<p>with that dependency</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"reputation":2411,"user_id":3182598,"display_name":"nomadSK25"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1407,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1646435261,"creation_date":1646432310,"question_id":71357776,"body_markdown":"How to get gcloud access token programmatically in Java which we can get from this command `gcloud auth print-access-token`.\r\n\r\nSomething similar like this [python code](https://stackoverflow.com/q/53472429/3182598)","title":"How to get a GCP Bearer token programmatically with Java","body":"<p>How to get gcloud access token programmatically in Java which we can get from this command <code>gcloud auth print-access-token</code>.</p>\n<p>Something similar like this <a href=\"https://stackoverflow.com/q/53472429/3182598\">python code</a></p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1646432781,"post_id":71357809,"comment_id":126130104,"body_markdown":"You are creating two `PageOne` objects: one inside `PageTwo` and one in the frame&#39;s constructor. Then `PageTwo` is referring to one of those (which is not the correct one).","body":"You are creating two <code>PageOne</code> objects: one inside <code>PageTwo</code> and one in the frame&#39;s constructor. Then <code>PageTwo</code> is referring to one of those (which is not the correct one)."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1646433804,"post_id":71357809,"comment_id":126130308,"body_markdown":"The short answer is, you don&#39;t, or at least not the way you&#39;re trying to do.  Instead, you define a common model which can be shared between the components","body":"The short answer is, you don&#39;t, or at least not the way you&#39;re trying to do.  Instead, you define a common model which can be shared between the components"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646434894,"creation_date":1646434894,"answer_id":71358112,"question_id":71357809,"body_markdown":"The basic answer is, you need some kind of &quot;container&quot; which can be shared between the two components.  This is commonly achieved through the use of a &quot;model&quot; of some kind.\r\n\r\nSee:\r\n\r\n* [Model-View-Controller](https://www.geeksforgeeks.org/mvc-design-pattern/)\r\n* [Observer Pattern](https://www.oodesign.com/observer-pattern.html)\r\n* [Writing Event Listeners](https://docs.oracle.com/javase/tutorial/uiswing/events/index.html)\r\n\r\nfor an overview of the concepts presented below\r\n\r\n# Runnable example\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTabbedPane;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n\r\n                    DefaultIntegerModel model = new DefaultIntegerModel();\r\n                    JTabbedPane tabbedPane = new JTabbedPane();\r\n                    tabbedPane.addTab(&quot;Page One&quot;, new PageOne(model));\r\n                    tabbedPane.addTab(&quot;Page Two&quot;, new PageTwo(model));\r\n\r\n                    frame.add(tabbedPane);\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public interface IntegerModel {\r\n            public interface Observer {\r\n                public void valueDidChange(IntegerModel source, int value);\r\n            }\r\n            public int getValue();\r\n            public void addObserver(Observer observer);\r\n            public void removeObserver(Observer observer);\r\n        }\r\n\r\n        public interface MutableIntegerModel extends IntegerModel {\r\n\r\n            public void setValue(int value);\r\n        }\r\n\r\n        public class DefaultIntegerModel implements MutableIntegerModel {\r\n\r\n            private int value;\r\n\r\n            private List&lt;Observer&gt; observers;\r\n\r\n            public DefaultIntegerModel() {\r\n                this(0);\r\n            }\r\n\r\n            public DefaultIntegerModel(int value) {\r\n                this.value = value;\r\n                observers = new ArrayList&lt;Observer&gt;(8);\r\n            }\r\n\r\n            @Override\r\n            public void setValue(int value) {\r\n                this.value = value;\r\n                fireValueDidChange(value);\r\n            }\r\n\r\n            @Override\r\n            public int getValue() {\r\n                return value;\r\n            }\r\n\r\n            @Override\r\n            public void addObserver(Observer observer) {\r\n                observers.add(observer);\r\n            }\r\n\r\n            @Override\r\n            public void removeObserver(Observer observer) {\r\n                observers.remove(observer);\r\n            }\r\n\r\n            protected void fireValueDidChange(int value) {\r\n                for (Observer observer : observers) {\r\n                    observer.valueDidChange(this, value);\r\n                }\r\n            }\r\n        }\r\n\r\n        public class PageOne extends JPanel {\r\n\r\n            public JButton add;\r\n\r\n            private MutableIntegerModel model;\r\n\r\n            public PageOne(MutableIntegerModel model) {\r\n                this.model = model;\r\n\r\n                add = new JButton();\r\n                add.setText(&quot;Increment number&quot;);\r\n\r\n                add(add);\r\n\r\n                add.addActionListener(actionEvent -&gt; {\r\n                    model.setValue(model.getValue() + 1);\r\n                    printOne();\r\n                });\r\n\r\n            }\r\n\r\n            public void printOne() {\r\n                System.out.println(&quot;Page One:&quot; + model.getValue());\r\n            }\r\n\r\n        }\r\n\r\n        public class PageTwo extends JPanel {\r\n\r\n            private JButton button;\r\n            private JLabel label;\r\n            private IntegerModel model;\r\n\r\n            public PageTwo(IntegerModel model) {\r\n                this.model = model;\r\n                model.addObserver(new IntegerModel.Observer() {\r\n                    @Override\r\n                    public void valueDidChange(IntegerModel source, int value) {\r\n                        System.out.println(&quot;Page two value did change to &quot; + value);\r\n                        label.setText(Integer.toString(model.getValue()));\r\n                    }\r\n                });\r\n\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\r\n                label = new JLabel(Integer.toString(model.getValue()));\r\n                add(label, gbc);\r\n\r\n                button = new JButton(&quot;Click me&quot;);\r\n                button.addActionListener(e -&gt; printTwo());\r\n                add(button, gbc);\r\n            }\r\n\r\n            public void printTwo() {\r\n                System.out.println(&quot;Page Two:&quot; + model.getValue());\r\n            }\r\n        }\r\n    }\r\n\r\n&gt; But why are there two models\r\n\r\nStop for a second and think about the responsibilities of each component.\r\n\r\n`PageOne` want&#39;s to update the model, in order to do so, it also needs to know the value of the model.  The model makes no assumption about &quot;how&quot; the consumer of this model will do that (so I didn&#39;t provide a `increment` method), it just allows the consumer to set the value it wants\r\n\r\n`PageTwo` just wants to display the value (and be notified when some change occurs), so it doesn&#39;t need a mutable version of the model.\r\n\r\nThis restricts what consumers maybe able to do to the model rather the exposing functionality to parties which don&#39;t need it (and might be tempted to abuse it)\r\n\r\nThis is a demonstration and your needs may differ, but I&#39;m bit of a scrooge when I design these kinds of things, I need the consumers to prove to me that they need functionality, rather then &quot;assuming&quot; what functionality they &quot;might&quot; require &#128521;\r\n\r\nThis is a practice known is &quot;information hiding&quot;, which is supported by [Polymorphism](https://docs.oracle.com/javase/tutorial/java/IandI/polymorphism.html) in OO languages","title":"How to pass a variable between JPanel classes?","body":"<p>The basic answer is, you need some kind of &quot;container&quot; which can be shared between the two components.  This is commonly achieved through the use of a &quot;model&quot; of some kind.</p>\n<p>See:</p>\n<ul>\n<li><a href=\"https://www.geeksforgeeks.org/mvc-design-pattern/\" rel=\"nofollow noreferrer\">Model-View-Controller</a></li>\n<li><a href=\"https://www.oodesign.com/observer-pattern.html\" rel=\"nofollow noreferrer\">Observer Pattern</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/index.html\" rel=\"nofollow noreferrer\">Writing Event Listeners</a></li>\n</ul>\n<p>for an overview of the concepts presented below</p>\n<h1>Runnable example</h1>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTabbedPane;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n\n                DefaultIntegerModel model = new DefaultIntegerModel();\n                JTabbedPane tabbedPane = new JTabbedPane();\n                tabbedPane.addTab(&quot;Page One&quot;, new PageOne(model));\n                tabbedPane.addTab(&quot;Page Two&quot;, new PageTwo(model));\n\n                frame.add(tabbedPane);\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public interface IntegerModel {\n        public interface Observer {\n            public void valueDidChange(IntegerModel source, int value);\n        }\n        public int getValue();\n        public void addObserver(Observer observer);\n        public void removeObserver(Observer observer);\n    }\n\n    public interface MutableIntegerModel extends IntegerModel {\n\n        public void setValue(int value);\n    }\n\n    public class DefaultIntegerModel implements MutableIntegerModel {\n\n        private int value;\n\n        private List&lt;Observer&gt; observers;\n\n        public DefaultIntegerModel() {\n            this(0);\n        }\n\n        public DefaultIntegerModel(int value) {\n            this.value = value;\n            observers = new ArrayList&lt;Observer&gt;(8);\n        }\n\n        @Override\n        public void setValue(int value) {\n            this.value = value;\n            fireValueDidChange(value);\n        }\n\n        @Override\n        public int getValue() {\n            return value;\n        }\n\n        @Override\n        public void addObserver(Observer observer) {\n            observers.add(observer);\n        }\n\n        @Override\n        public void removeObserver(Observer observer) {\n            observers.remove(observer);\n        }\n\n        protected void fireValueDidChange(int value) {\n            for (Observer observer : observers) {\n                observer.valueDidChange(this, value);\n            }\n        }\n    }\n\n    public class PageOne extends JPanel {\n\n        public JButton add;\n\n        private MutableIntegerModel model;\n\n        public PageOne(MutableIntegerModel model) {\n            this.model = model;\n\n            add = new JButton();\n            add.setText(&quot;Increment number&quot;);\n\n            add(add);\n\n            add.addActionListener(actionEvent -&gt; {\n                model.setValue(model.getValue() + 1);\n                printOne();\n            });\n\n        }\n\n        public void printOne() {\n            System.out.println(&quot;Page One:&quot; + model.getValue());\n        }\n\n    }\n\n    public class PageTwo extends JPanel {\n\n        private JButton button;\n        private JLabel label;\n        private IntegerModel model;\n\n        public PageTwo(IntegerModel model) {\n            this.model = model;\n            model.addObserver(new IntegerModel.Observer() {\n                @Override\n                public void valueDidChange(IntegerModel source, int value) {\n                    System.out.println(&quot;Page two value did change to &quot; + value);\n                    label.setText(Integer.toString(model.getValue()));\n                }\n            });\n\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n            label = new JLabel(Integer.toString(model.getValue()));\n            add(label, gbc);\n\n            button = new JButton(&quot;Click me&quot;);\n            button.addActionListener(e -&gt; printTwo());\n            add(button, gbc);\n        }\n\n        public void printTwo() {\n            System.out.println(&quot;Page Two:&quot; + model.getValue());\n        }\n    }\n}\n</code></pre>\n<blockquote>\n<p>But why are there two models</p>\n</blockquote>\n<p>Stop for a second and think about the responsibilities of each component.</p>\n<p><code>PageOne</code> want's to update the model, in order to do so, it also needs to know the value of the model.  The model makes no assumption about &quot;how&quot; the consumer of this model will do that (so I didn't provide a <code>increment</code> method), it just allows the consumer to set the value it wants</p>\n<p><code>PageTwo</code> just wants to display the value (and be notified when some change occurs), so it doesn't need a mutable version of the model.</p>\n<p>This restricts what consumers maybe able to do to the model rather the exposing functionality to parties which don't need it (and might be tempted to abuse it)</p>\n<p>This is a demonstration and your needs may differ, but I'm bit of a scrooge when I design these kinds of things, I need the consumers to prove to me that they need functionality, rather then &quot;assuming&quot; what functionality they &quot;might&quot; require 😉</p>\n<p>This is a practice known is &quot;information hiding&quot;, which is supported by <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/polymorphism.html\" rel=\"nofollow noreferrer\">Polymorphism</a> in OO languages</p>\n"}],"owner":{"account_id":20096868,"reputation":5,"user_id":14736224,"display_name":"user14736224"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646434894,"creation_date":1646432551,"question_id":71357809,"body_markdown":"I have a JTabbedPane with two JPanels that need to stay in seperate classes. In PageOne, I want to be able to increment MyInteger by clicking the add button, and I then want to be able to print that integer in PageTwo by clicking the button there. It prints the correct value in PageOne, but prints 0 when I pass it to the PageTwo class and print it there.\r\n\r\nHow can I pass the value in such a way that it prints the correct value when clicking the button in both JPanels? I figure it has something to do with how I inherit from PageOne, but couldn&#39;t find a way of changing it on SO that solved my problem. \r\n\r\nMain class:\r\n\r\n    import javax.swing.*;\r\n\r\n\tpublic class MyJFrame {\r\n\r\n\t\tPageOne pageOne;\r\n\t\tPageTwo pageTwo;\r\n\r\n\t\tpublic MyJFrame() {\r\n\r\n\t\t\tJFrame f = new JFrame();\r\n\r\n\t\t\tpageOne = new PageOne();\r\n\t\t\tpageTwo = new PageTwo();\r\n\r\n\t\t\tJTabbedPane jTabbedPane = new JTabbedPane();\r\n\r\n\t\t\tjTabbedPane.addTab(&quot;Page One&quot;, pageOne);\r\n\t\t\tjTabbedPane.addTab(&quot;Page Two&quot;, pageTwo);\r\n\r\n\t\t\tf.add(jTabbedPane);\r\n\t\t\tf.setSize(200,120);\r\n\t\t\tf.setVisible(true);\r\n\t\t}\r\n\r\n\t\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\t\tnew MyJFrame();\r\n\r\n\t\t}\r\n\t}\r\n\r\n\r\nJPanel One:\r\n\r\n    import javax.swing.*;\r\n\r\n\tpublic class PageOne extends JPanel {\r\n\r\n\t\tpublic Integer myInteger = 0;\r\n\t\tpublic JButton add;\r\n\r\n\t\tpublic PageOne() {\r\n\r\n\t\t\tadd = new JButton();\r\n\t\t\tadd.setText(&quot;Increment number&quot;);\r\n\r\n\t\t\tadd(add);\r\n\r\n\t\t\tadd.addActionListener(actionEvent -&gt; {\r\n\t\t\t\tmyInteger++;\r\n\t\t\t\tprintOne();\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\tpublic void printOne() {\r\n\t\t\tSystem.out.println(&quot;Page One:&quot; + myInteger);\r\n\t\t}\r\n\r\n\t}\r\n\r\nJPanel Two:\r\n\r\n    import javax.swing.*;\r\n\r\n\tpublic class PageTwo extends JPanel {\r\n\r\n\t\tPageOne  pageOneRef = new PageOne();\r\n\t\tpublic JButton button;\r\n\r\n\t\tpublic PageTwo() {\r\n\r\n\t\t\tJPanel panel = new JPanel();\r\n\r\n\t\t\tbutton = new JButton(&quot;Click me&quot;);\r\n\r\n\t\t\tpanel.add(button);\r\n\t\t\tadd(panel);\r\n\r\n\t\t\tbutton.addActionListener(e -&gt; printTwo());\r\n\t\t}\r\n\r\n\t\tpublic void printTwo() {\r\n\t\t\tSystem.out.println(&quot;Page Two:&quot; + pageOneRef.myInteger);\r\n\t\t}\r\n\t}\r\n\r\n","title":"How to pass a variable between JPanel classes?","body":"<p>I have a JTabbedPane with two JPanels that need to stay in seperate classes. In PageOne, I want to be able to increment MyInteger by clicking the add button, and I then want to be able to print that integer in PageTwo by clicking the button there. It prints the correct value in PageOne, but prints 0 when I pass it to the PageTwo class and print it there.</p>\n<p>How can I pass the value in such a way that it prints the correct value when clicking the button in both JPanels? I figure it has something to do with how I inherit from PageOne, but couldn't find a way of changing it on SO that solved my problem.</p>\n<p>Main class:</p>\n<pre><code>import javax.swing.*;\n\npublic class MyJFrame {\n\n    PageOne pageOne;\n    PageTwo pageTwo;\n\n    public MyJFrame() {\n\n        JFrame f = new JFrame();\n\n        pageOne = new PageOne();\n        pageTwo = new PageTwo();\n\n        JTabbedPane jTabbedPane = new JTabbedPane();\n\n        jTabbedPane.addTab(&quot;Page One&quot;, pageOne);\n        jTabbedPane.addTab(&quot;Page Two&quot;, pageTwo);\n\n        f.add(jTabbedPane);\n        f.setSize(200,120);\n        f.setVisible(true);\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        new MyJFrame();\n\n    }\n}\n</code></pre>\n<p>JPanel One:</p>\n<pre><code>import javax.swing.*;\n\npublic class PageOne extends JPanel {\n\n    public Integer myInteger = 0;\n    public JButton add;\n\n    public PageOne() {\n\n        add = new JButton();\n        add.setText(&quot;Increment number&quot;);\n\n        add(add);\n\n        add.addActionListener(actionEvent -&gt; {\n            myInteger++;\n            printOne();\n        });\n\n    }\n\n    public void printOne() {\n        System.out.println(&quot;Page One:&quot; + myInteger);\n    }\n\n}\n</code></pre>\n<p>JPanel Two:</p>\n<pre><code>import javax.swing.*;\n\npublic class PageTwo extends JPanel {\n\n    PageOne  pageOneRef = new PageOne();\n    public JButton button;\n\n    public PageTwo() {\n\n        JPanel panel = new JPanel();\n\n        button = new JButton(&quot;Click me&quot;);\n\n        panel.add(button);\n        add(panel);\n\n        button.addActionListener(e -&gt; printTwo());\n    }\n\n    public void printTwo() {\n        System.out.println(&quot;Page Two:&quot; + pageOneRef.myInteger);\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","gradle","cucumber"],"answers":[{"tags":[],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646433682,"creation_date":1646433682,"answer_id":71357955,"question_id":71353744,"body_markdown":"Looks like you&#39;re trying to convert from the Groovy DSL to Kotlin. Remember that in the Kotlin DSL, everything is strongly typed since Kotlin is strongly typed.\r\n\r\nYou need to wrap all tasks creations within the `tasks { }` block in order to access `compileTestKotlin`. Currently, the scope of `this` in your `cucumber` task registration is the task itself which is of type `DefaultTask` which does not know about `compileTestKotlin`.\r\n\r\nAdditionally:\r\n\r\n* `mainClassName` is deprecated and `mainClass` should be used instead.\r\n* The `java` extension provides the capability to create sources JAR for you, so no need to create the task yourself unless you have specific requirements for the JAR which does not seem to be the case from your snippet.\r\n* Since the goal of the `cucumber` task is to execute a Java main class, you can utilize `JavaExec` as your task type instead of `DefaultTask`\r\n\r\nPolished sample (untested):\r\n\r\n    plugins {\r\n        id(&quot;org.jetbrains.kotlin.jvm&quot;) version &quot;1.5.31&quot;\r\n        application\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    configurations {\r\n        register(&quot;cucumberRuntime&quot;) {\r\n            extendsFrom(testImplementation.get())\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom&quot;))\r\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\r\n    \r\n        testImplementation(platform(&quot;io.cucumber:cucumber-bom:7.2.3&quot;))\r\n        testImplementation(&quot;io.cucumber:cucumber-java8&quot;)\r\n        testImplementation(&quot;io.cucumber:cucumber-junit&quot;)\r\n    }\r\n    \r\n    java {\r\n        withSourcesJar()\r\n    }\r\n    \r\n    application {\r\n        mainClass.set(&quot;io.mateo.ExampleKt&quot;)\r\n    }\r\n    \r\n    tasks {\r\n        register&lt;Jar&gt;(&quot;fatJar&quot;) {\r\n            archiveFileName.set(&quot;foo-bar.jar&quot;)\r\n            duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n            manifest {\r\n                attributes(&quot;Main-Class&quot; to application.mainClass.get())\r\n            }\r\n            from(configurations.runtimeClasspath.get()\r\n                    .onEach { println(&quot;Add from dependencies: ${it.name}&quot;) }\r\n                    .map { if (it.isDirectory) it else zipTree(it) })\r\n            val sourcesMain = sourceSets.main.get()\r\n            sourcesMain.allSource.forEach { println(&quot;Add from sources: ${it.name}&quot;) }\r\n            from(sourcesMain.output)\r\n        }\r\n        register&lt;JavaExec&gt;(&quot;cucumber&quot;) {\r\n            dependsOn(compileTestKotlin)\r\n            mainClass.set(&quot;io.cucumber.core.cli.Main&quot;)\r\n            classpath = configurations[&quot;cucumberRuntime&quot;] + sourceSets.main.get().output + sourceSets.test.get().output\r\n        }\r\n    }\r\n\r\nReferences:\r\n\r\n* https://docs.gradle.org/current/userguide/kotlin_dsl.html\r\n* https://docs.gradle.org/current/userguide/lazy_configuration.html\r\n* https://docs.gradle.org/current/userguide/task_configuration_avoidance.html\r\n","title":"Error when I try to build tests with Gradle and Cucumber","body":"<p>Looks like you're trying to convert from the Groovy DSL to Kotlin. Remember that in the Kotlin DSL, everything is strongly typed since Kotlin is strongly typed.</p>\n<p>You need to wrap all tasks creations within the <code>tasks { }</code> block in order to access <code>compileTestKotlin</code>. Currently, the scope of <code>this</code> in your <code>cucumber</code> task registration is the task itself which is of type <code>DefaultTask</code> which does not know about <code>compileTestKotlin</code>.</p>\n<p>Additionally:</p>\n<ul>\n<li><code>mainClassName</code> is deprecated and <code>mainClass</code> should be used instead.</li>\n<li>The <code>java</code> extension provides the capability to create sources JAR for you, so no need to create the task yourself unless you have specific requirements for the JAR which does not seem to be the case from your snippet.</li>\n<li>Since the goal of the <code>cucumber</code> task is to execute a Java main class, you can utilize <code>JavaExec</code> as your task type instead of <code>DefaultTask</code></li>\n</ul>\n<p>Polished sample (untested):</p>\n<pre><code>plugins {\n    id(&quot;org.jetbrains.kotlin.jvm&quot;) version &quot;1.5.31&quot;\n    application\n}\n\nrepositories {\n    mavenCentral()\n}\n\nconfigurations {\n    register(&quot;cucumberRuntime&quot;) {\n        extendsFrom(testImplementation.get())\n    }\n}\n\ndependencies {\n    implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom&quot;))\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\n\n    testImplementation(platform(&quot;io.cucumber:cucumber-bom:7.2.3&quot;))\n    testImplementation(&quot;io.cucumber:cucumber-java8&quot;)\n    testImplementation(&quot;io.cucumber:cucumber-junit&quot;)\n}\n\njava {\n    withSourcesJar()\n}\n\napplication {\n    mainClass.set(&quot;io.mateo.ExampleKt&quot;)\n}\n\ntasks {\n    register&lt;Jar&gt;(&quot;fatJar&quot;) {\n        archiveFileName.set(&quot;foo-bar.jar&quot;)\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n        manifest {\n            attributes(&quot;Main-Class&quot; to application.mainClass.get())\n        }\n        from(configurations.runtimeClasspath.get()\n                .onEach { println(&quot;Add from dependencies: ${it.name}&quot;) }\n                .map { if (it.isDirectory) it else zipTree(it) })\n        val sourcesMain = sourceSets.main.get()\n        sourcesMain.allSource.forEach { println(&quot;Add from sources: ${it.name}&quot;) }\n        from(sourcesMain.output)\n    }\n    register&lt;JavaExec&gt;(&quot;cucumber&quot;) {\n        dependsOn(compileTestKotlin)\n        mainClass.set(&quot;io.cucumber.core.cli.Main&quot;)\n        classpath = configurations[&quot;cucumberRuntime&quot;] + sourceSets.main.get().output + sourceSets.test.get().output\n    }\n}\n</code></pre>\n<p>References:</p>\n<ul>\n<li><a href=\"https://docs.gradle.org/current/userguide/kotlin_dsl.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/kotlin_dsl.html</a></li>\n<li><a href=\"https://docs.gradle.org/current/userguide/lazy_configuration.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/lazy_configuration.html</a></li>\n<li><a href=\"https://docs.gradle.org/current/userguide/task_configuration_avoidance.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/task_configuration_avoidance.html</a></li>\n</ul>\n"}],"owner":{"account_id":19012282,"reputation":209,"user_id":13877985,"display_name":"Rayder-_-"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":888,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71357955,"answer_count":1,"score":0,"last_activity_date":1646433682,"creation_date":1646408364,"question_id":71353744,"body_markdown":"I am trying to write functional tests using Cucumber lib, Unfortunately, I can&#39;t use Cucumber and Gradle together, an error occurs when building the tests. I am a real beginner in the Java environment. I use for this project: Kotlin / Gradle / Cucumber.\r\n\r\nHere is what my build.gradle.kts looks like\r\n\r\n```kt\r\nimport org.gradle.jvm.tasks.Jar\r\n\r\nplugins {\r\n    application\r\n    `java-library`\r\n    `maven-publish`\r\n    signing\r\n    jacoco\r\n    kotlin(&quot;jvm&quot;) version &quot;1.3.61&quot;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation(kotlin(&quot;stdlib&quot;))\r\n\r\n    testImplementation(&quot;org.mock-server:mockserver-netty:5.3.0&quot;)\r\n    testImplementation(&quot;io.cucumber:cucumber-java8:7.0.0&quot;)\r\n    testImplementation(&quot;io.cucumber:cucumber-junit:7.0.0&quot;)\r\n}\r\n\r\ntasks.register&lt;Jar&gt;(&quot;fatJar&quot;) {\r\n    archiveFileName.set(&quot;${artifactName}-${artifactVersion}.jar&quot;)\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n    manifest {\r\n      attributes(&quot;Main-Class&quot; to application.mainClassName)\r\n    }\r\n    from(configurations.runtimeClasspath.get()\r\n        .onEach { println(&quot;Add from dependencies: ${it.name}&quot;) }\r\n        .map { if (it.isDirectory) it else zipTree(it) })\r\n    val sourcesMain = sourceSets.main.get()\r\n    sourcesMain.allSource.forEach { println(&quot;Add from sources: ${it.name}&quot;) }\r\n    from(sourcesMain.output)\r\n}\r\n\r\ntasks.register&lt;Jar&gt;(&quot;sourcesJar&quot;) {\r\n    from(sourceSets.main.get().allJava)\r\n    archiveClassifier.set(&quot;sources&quot;)\r\n}\r\n\r\ntasks.register(&quot;cucumber&quot;) {\r\n     dependsOn compileTestKotlin\r\n     doLast {\r\n         javaexec {\r\n             main = &quot;io.cucumber.core.cli.Main&quot;\r\n             classpath = configurations.cucumberRuntime + sourceSets.main.output + sourceSets.test.output\r\n         }\r\n     }\r\n}\r\n```\r\n\r\nhere is the error\r\n\r\n```\r\n* What went wrong:\r\nScript compilation errors:\r\n\r\n  Line 104:      dependsOn compileTestKotlin\r\n                           ^ Unresolved reference: compileTestKotlin\r\n\r\n  Line 108:              classpath = configurations.cucumberRuntime + sourceSets.main.output + sourceSets.test.output\r\n                                                    ^ Unresolved reference: cucumberRuntime\r\n\r\n  Line 108:              classpath = configurations.cucumberRuntime + sourceSets.main.output + sourceSets.test.output\r\n                                                                                      ^ Unresolved reference: output\r\n\r\n  Line 108:              classpath = configurations.cucumberRuntime + sourceSets.main.output + sourceSets.test.output\r\n                                                                                                               ^ Unresolved reference: output\r\n\r\n4 errors\r\n```\r\nThanks for your help.","title":"Error when I try to build tests with Gradle and Cucumber","body":"<p>I am trying to write functional tests using Cucumber lib, Unfortunately, I can't use Cucumber and Gradle together, an error occurs when building the tests. I am a real beginner in the Java environment. I use for this project: Kotlin / Gradle / Cucumber.</p>\n<p>Here is what my build.gradle.kts looks like</p>\n<pre><code>import org.gradle.jvm.tasks.Jar\n\nplugins {\n    application\n    `java-library`\n    `maven-publish`\n    signing\n    jacoco\n    kotlin(&quot;jvm&quot;) version &quot;1.3.61&quot;\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(kotlin(&quot;stdlib&quot;))\n\n    testImplementation(&quot;org.mock-server:mockserver-netty:5.3.0&quot;)\n    testImplementation(&quot;io.cucumber:cucumber-java8:7.0.0&quot;)\n    testImplementation(&quot;io.cucumber:cucumber-junit:7.0.0&quot;)\n}\n\ntasks.register&lt;Jar&gt;(&quot;fatJar&quot;) {\n    archiveFileName.set(&quot;${artifactName}-${artifactVersion}.jar&quot;)\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n    manifest {\n      attributes(&quot;Main-Class&quot; to application.mainClassName)\n    }\n    from(configurations.runtimeClasspath.get()\n        .onEach { println(&quot;Add from dependencies: ${it.name}&quot;) }\n        .map { if (it.isDirectory) it else zipTree(it) })\n    val sourcesMain = sourceSets.main.get()\n    sourcesMain.allSource.forEach { println(&quot;Add from sources: ${it.name}&quot;) }\n    from(sourcesMain.output)\n}\n\ntasks.register&lt;Jar&gt;(&quot;sourcesJar&quot;) {\n    from(sourceSets.main.get().allJava)\n    archiveClassifier.set(&quot;sources&quot;)\n}\n\ntasks.register(&quot;cucumber&quot;) {\n     dependsOn compileTestKotlin\n     doLast {\n         javaexec {\n             main = &quot;io.cucumber.core.cli.Main&quot;\n             classpath = configurations.cucumberRuntime + sourceSets.main.output + sourceSets.test.output\n         }\n     }\n}\n</code></pre>\n<p>here is the error</p>\n<pre><code>* What went wrong:\nScript compilation errors:\n\n  Line 104:      dependsOn compileTestKotlin\n                           ^ Unresolved reference: compileTestKotlin\n\n  Line 108:              classpath = configurations.cucumberRuntime + sourceSets.main.output + sourceSets.test.output\n                                                    ^ Unresolved reference: cucumberRuntime\n\n  Line 108:              classpath = configurations.cucumberRuntime + sourceSets.main.output + sourceSets.test.output\n                                                                                      ^ Unresolved reference: output\n\n  Line 108:              classpath = configurations.cucumberRuntime + sourceSets.main.output + sourceSets.test.output\n                                                                                                               ^ Unresolved reference: output\n\n4 errors\n</code></pre>\n<p>Thanks for your help.</p>\n"},{"tags":["java","spring","rest","pagination"],"answers":[{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646355643,"creation_date":1646355643,"answer_id":71345514,"question_id":71345186,"body_markdown":"From what I see you need to set a value for your {id} path variable, just like you do for size and page ([reference](https://www.baeldung.com/spring-thymeleaf-path-variables)):\r\n\r\n```\r\n&lt;div style=&quot;display: inline&quot; th:if=&quot;${allP.totalPages &gt; 0}&quot; class=&quot;pagination&quot;\r\n     th:each=&quot;pageNumber : ${pageNumbers}&quot;&gt;\r\n    &lt;a th:href=&quot;@{/SimulationsValuesById/{id}/(id=${someValue}, size=${allP.size}, page=${pageNumber})}&quot;\r\n       th:text=${pageNumber}\r\n       th:class=&quot;${pageNumber==allP.number + 1} ? active&quot;&gt;&lt;/a&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nIf I understood correctly what needs to be done, you should have two separate endpoints in your controller:\r\n- one for pagination, without id. This will return a list of simulations for the current page:\r\n```\r\n@GetMapping(&quot;/simulations&quot;)\r\n    public String showSimulations(@RequestParam(value = &quot;page&quot;, defaultValue = &quot;1&quot;) Integer page,\r\n                                  @RequestParam(value = &quot;size&quot;, defaultValue = &quot;5&quot;) Integer size,\r\n                                  Model model) \r\n{\r\n    // return a list of simulations for a given page\r\n}\r\n```\r\nIterate through the simulations:\r\n```\r\n&lt;div th:each=&quot;simulation : ${simulations}&quot;&gt;\r\n    &lt;a th:href=&quot;@{/simulation/{id}(id = ${simulation.id})}&quot;&gt;\r\n        &lt;span th:text=&quot;${simulation.name}&quot;&gt;&lt;/span&gt;\r\n    &lt;/a&gt;\r\n&lt;/div&gt;\r\n```\r\n- a second one for getting the information for a specific simulation\r\n```\r\n@GetMapping(&quot;/simulation/{id}&quot;)\r\n    public String showSimulation(@PathVariable(&quot;id&quot;) int id, \r\n                                  Model model) \r\n{\r\n    // return simulation details\r\n}\r\n```","title":"Path variable changes with pagination, err: Failed to convert value of type java.lang.String to required type &#39;java.lang.Long For input string: &quot;{id}&quot;","body":"<p>From what I see you need to set a value for your {id} path variable, just like you do for size and page (<a href=\"https://www.baeldung.com/spring-thymeleaf-path-variables\" rel=\"nofollow noreferrer\">reference</a>):</p>\n<pre><code>&lt;div style=&quot;display: inline&quot; th:if=&quot;${allP.totalPages &gt; 0}&quot; class=&quot;pagination&quot;\n     th:each=&quot;pageNumber : ${pageNumbers}&quot;&gt;\n    &lt;a th:href=&quot;@{/SimulationsValuesById/{id}/(id=${someValue}, size=${allP.size}, page=${pageNumber})}&quot;\n       th:text=${pageNumber}\n       th:class=&quot;${pageNumber==allP.number + 1} ? active&quot;&gt;&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n<p>If I understood correctly what needs to be done, you should have two separate endpoints in your controller:</p>\n<ul>\n<li>one for pagination, without id. This will return a list of simulations for the current page:</li>\n</ul>\n<pre><code>@GetMapping(&quot;/simulations&quot;)\n    public String showSimulations(@RequestParam(value = &quot;page&quot;, defaultValue = &quot;1&quot;) Integer page,\n                                  @RequestParam(value = &quot;size&quot;, defaultValue = &quot;5&quot;) Integer size,\n                                  Model model) \n{\n    // return a list of simulations for a given page\n}\n</code></pre>\n<p>Iterate through the simulations:</p>\n<pre><code>&lt;div th:each=&quot;simulation : ${simulations}&quot;&gt;\n    &lt;a th:href=&quot;@{/simulation/{id}(id = ${simulation.id})}&quot;&gt;\n        &lt;span th:text=&quot;${simulation.name}&quot;&gt;&lt;/span&gt;\n    &lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n<ul>\n<li>a second one for getting the information for a specific simulation</li>\n</ul>\n<pre><code>@GetMapping(&quot;/simulation/{id}&quot;)\n    public String showSimulation(@PathVariable(&quot;id&quot;) int id, \n                                  Model model) \n{\n    // return simulation details\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23515390,"reputation":73,"user_id":17563398,"display_name":"Ign"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646433581,"creation_date":1646433581,"answer_id":71357948,"question_id":71345186,"body_markdown":"```\r\n @GetMapping(&quot;SimulationsValuesById/{id}/&quot;)\r\n    public String showSimulationsValuesForSimulation(@PathVariable(&quot;id&quot;) Long id,\r\n                                                     @RequestParam(value = &quot;page&quot;, defaultValue = &quot;1&quot;) Integer page,\r\n                                                     @RequestParam(value = &quot;size&quot;, defaultValue = &quot;5&quot;) Integer size,\r\n                                                     Model model) {\r\n        Page&lt;SimulationsValues&gt; ratePage = simulationService.pagination(id, PageRequest.of(page - 1, size));\r\n        model.addAttribute(&quot;allP&quot;, ratePage);\r\n        int totalPages = ratePage.getTotalPages();\r\n        if (totalPages &gt; 0) {\r\n            List&lt;Integer&gt; pageNumbers = IntStream.rangeClosed(1, totalPages)\r\n                    .boxed()\r\n                    .collect(Collectors.toList());\r\n            model.addAttribute(&quot;pageNumbers&quot;, pageNumbers);\r\n        }\r\n        model.addAttribute(&quot;idS&quot;, id);\r\n        model.addAttribute(&quot;s&quot;, simulationRepository.findAll());\r\n        return &quot;allSimsSimulationValues&quot;;\r\n    }\r\n```\r\n\r\n```\r\n&lt;div style=&quot;display: inline&quot; th:if=&quot;${allP.totalPages &gt; 0}&quot; class=&quot;pagination&quot;\r\n     th:each=&quot;pageNumber : ${pageNumbers}&quot;&gt;\r\n    &lt;a th:href=&quot;@{/SimulationsValuesById/{idS}/(idS=${idS}, size=${allP.size}, page=${pageNumber})}&quot;\r\n       th:text=${pageNumber}\r\n       th:class=&quot;${pageNumber==allP.number + 1} ? active&quot;&gt;&lt;/a&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nI simply passed id from @PathVariable() to .html as idS and there used it as a part of a url and everything works as it should.","title":"Path variable changes with pagination, err: Failed to convert value of type java.lang.String to required type &#39;java.lang.Long For input string: &quot;{id}&quot;","body":"<pre><code> @GetMapping(&quot;SimulationsValuesById/{id}/&quot;)\n    public String showSimulationsValuesForSimulation(@PathVariable(&quot;id&quot;) Long id,\n                                                     @RequestParam(value = &quot;page&quot;, defaultValue = &quot;1&quot;) Integer page,\n                                                     @RequestParam(value = &quot;size&quot;, defaultValue = &quot;5&quot;) Integer size,\n                                                     Model model) {\n        Page&lt;SimulationsValues&gt; ratePage = simulationService.pagination(id, PageRequest.of(page - 1, size));\n        model.addAttribute(&quot;allP&quot;, ratePage);\n        int totalPages = ratePage.getTotalPages();\n        if (totalPages &gt; 0) {\n            List&lt;Integer&gt; pageNumbers = IntStream.rangeClosed(1, totalPages)\n                    .boxed()\n                    .collect(Collectors.toList());\n            model.addAttribute(&quot;pageNumbers&quot;, pageNumbers);\n        }\n        model.addAttribute(&quot;idS&quot;, id);\n        model.addAttribute(&quot;s&quot;, simulationRepository.findAll());\n        return &quot;allSimsSimulationValues&quot;;\n    }\n</code></pre>\n<pre><code>&lt;div style=&quot;display: inline&quot; th:if=&quot;${allP.totalPages &gt; 0}&quot; class=&quot;pagination&quot;\n     th:each=&quot;pageNumber : ${pageNumbers}&quot;&gt;\n    &lt;a th:href=&quot;@{/SimulationsValuesById/{idS}/(idS=${idS}, size=${allP.size}, page=${pageNumber})}&quot;\n       th:text=${pageNumber}\n       th:class=&quot;${pageNumber==allP.number + 1} ? active&quot;&gt;&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n<p>I simply passed id from @PathVariable() to .html as idS and there used it as a part of a url and everything works as it should.</p>\n"}],"owner":{"account_id":23515390,"reputation":73,"user_id":17563398,"display_name":"Ign"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":989,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71357948,"answer_count":2,"score":1,"last_activity_date":1646433581,"creation_date":1646352231,"question_id":71345186,"body_markdown":"html\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;End Value&lt;/title&gt;\r\n    &lt;link th:href=&quot;@{/static/css/bootstrap.min.css}&quot; rel=&quot;stylesheet&quot;/&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css&quot;/&gt;\r\n    &lt;style&gt;\r\n#simulat {\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  border-collapse: collapse;\r\n  width: 100%;\r\n}\r\n\r\n#simulat td, #plantEvent th {\r\n  border: 1px solid #ddd;\r\n  padding: 8px;\r\n}\r\n\r\n#simulat tr:nth-child(even){background-color: #f2f2f2;}\r\n\r\n#simulat tr:hover {background-color: #ddd;}\r\n\r\n#simulat th {\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  text-align: left;\r\n  background-color: #04AA6D;\r\n  color: white;\r\n}\r\n&lt;/style&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;br&gt;\r\n&lt;td&gt;\r\n    &lt;a th:href=&quot;@{~/SimulationsForm}&quot; class=&quot;btn btn-primary&quot;&gt;Back to simulation form site&lt;/a&gt;\r\n    &lt;a th:href=&quot;@{~/SimulationsValues}&quot; class=&quot;btn btn-primary&quot;&gt;Back to simulation values site&lt;/a&gt;\r\n&lt;/td&gt;\r\n&lt;table id=&quot;simulat&quot; border=&quot;1&quot; class=&quot;table table-striped table-responsive-md&quot;&gt;\r\n    &lt;thead&gt;\r\n    &lt;tr&gt;\r\n        &lt;th&gt;Pv&lt;/th&gt;\r\n        &lt;th&gt;Pr&lt;/th&gt;\r\n        &lt;th&gt;Pi&lt;/th&gt;\r\n        &lt;th&gt;Pm&lt;/th&gt;\r\n    &lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n    &lt;tbody&gt;\r\n    &lt;tr th:each=&quot;sim, iStat : ${allP.content}&quot;\r\n        th:style=&quot;${iStat.odd}? &#39;font-weight: bold;&#39;&quot;\r\n        th:alt-title=&quot;${iStat.even}? &#39;even&#39; : &#39;odd&#39;&quot;&gt;\r\n        &lt;td th:text=&quot;${sim.healthy_Prone_To_Infection}&quot;&gt;&lt;/td&gt;\r\n        &lt;td th:text=&quot;${sim.regained_Health_And_Immunity}&quot;&gt;&lt;/td&gt;\r\n        &lt;td th:text=&quot;${sim.number_Of_Infected}&quot;&gt;&lt;/td&gt;\r\n        &lt;td th:text=&quot;${sim.dead}&quot;&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n&lt;div style=&quot;display: inline&quot; th:if=&quot;${allP.totalPages &gt; 0}&quot; class=&quot;pagination&quot;\r\n     th:each=&quot;pageNumber : ${pageNumbers}&quot;&gt;\r\n    &lt;a th:href=&quot;@{/SimulationsValuesById/{id}/(size=${allP.size}, page=${pageNumber})}&quot;\r\n       th:text=${pageNumber}\r\n       th:class=&quot;${pageNumber==allP.number + 1} ? active&quot;&gt;&lt;/a&gt;\r\n&lt;/div&gt;\r\n&lt;br&gt;\r\nProvide simulation name\r\n&lt;input id=&quot;vall2&quot; type=&quot;text&quot; class=&quot;form-control col-2&quot;&gt;\r\n&lt;br&gt;\r\nProvide day\r\n&lt;input id=&quot;vall3&quot; type=&quot;text&quot; class=&quot;form-control col-2&quot;&gt;&lt;br&gt;\r\n&lt;button onclick=&quot;myFunction2()&quot; class=&quot;btn btn-primary&quot;&gt;Find simulation values for given day for specific simulation by\r\n    name\r\n&lt;/button&gt;\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nSimulations:\r\n&lt;br&gt;\r\n&lt;table&gt;\r\n    &lt;thead&gt;\r\n    &lt;tr class=&quot;table-striped&quot;&gt;\r\n        &lt;th&gt;Name&lt;/th&gt;\r\n        &lt;th&gt;Days&lt;/th&gt;\r\n    &lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n    &lt;tbody&gt;\r\n    &lt;th:block th:each=&quot;sim : ${s}&quot;&gt;\r\n        &lt;tr&gt;\r\n            &lt;td th:text=&quot;${sim.simulation_Name}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${sim.simulation_Time}&quot;&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/th:block&gt;\r\n    &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n&lt;br&gt;\r\n&lt;script&gt;\r\nfunction myFunction2() {\r\n  var intt = document.getElementById(&quot;vall2&quot;).value;\r\n  var intt2 = document.getElementById(&quot;vall3&quot;).value;\r\nlocation.href = &#39;http://localhost:8080/SimulationsValues/&#39;+intt+&#39;/&#39;+intt2;\r\n}\r\n&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nController\r\n\r\n```\r\n @GetMapping(&quot;SimulationsValuesById/{id}/&quot;)\r\n    public String showSimulationsValuesForSimulation(@PathVariable(&quot;id&quot;) Long id,\r\n                                                     @RequestParam(value = &quot;page&quot;, defaultValue = &quot;1&quot;) Integer page,\r\n                                                     @RequestParam(value = &quot;size&quot;, defaultValue = &quot;5&quot;) Integer size,\r\n                                                     Model model) {\r\n        Page&lt;SimulationsValues&gt; ratePage = simulationService.pagination(id, PageRequest.of(page - 1, size));\r\n        model.addAttribute(&quot;allP&quot;, ratePage);\r\n        int totalPages = ratePage.getTotalPages();\r\n        if (totalPages &gt; 0) {\r\n            List&lt;Integer&gt; pageNumbers = IntStream.rangeClosed(1, totalPages)\r\n                    .boxed()\r\n                    .collect(Collectors.toList());\r\n            model.addAttribute(&quot;pageNumbers&quot;, pageNumbers);\r\n        }\r\n        model.addAttribute(&quot;s&quot;, simulationRepository.findAll());\r\n        return &quot;allSimsSimulationValues&quot;;\r\n    }\r\n```\r\n\r\nPagination method\r\n\r\n```\r\npublic Page&lt;SimulationsValues&gt; pagination(Long id, Pageable pageable) {\r\n        int pageSize = pageable.getPageSize();\r\n        int currentPage = pageable.getPageNumber();\r\n        int startItem = currentPage * pageSize;\r\n        List&lt;SimulationsValues&gt; list;\r\n        if (eachRemainingDayService.getSimulations().stream().filter(e -&gt; e.getId().equals(id))\r\n                .collect(Collectors.toList()).get(0).getSimulationsValues().size() &lt; startItem) {\r\n            list = Collections.emptyList();\r\n        } else {\r\n            int toIndex = Math.min(startItem + pageSize, (simulationRepository.findAll().stream()\r\n                    .filter(e -&gt; e.getId().equals(id)).collect(Collectors.toList()).get(0)\r\n                    .getSimulationsValues().size()));\r\n            list = simulationRepository.findAll().stream()\r\n                    .filter(e -&gt; e.getId().equals(id)).collect(Collectors.toList()).get(0)\r\n                    .getSimulationsValues().subList(startItem, toIndex);\r\n        }\r\n        return new PageImpl&lt;&gt;(list, PageRequest.of(currentPage, pageSize), simulationRepository.findAll()\r\n                .stream().filter(e -&gt; e.getId().equals(id)).collect(Collectors.toList()).get(0)\r\n                .getSimulationsValues().size());\r\n    }\r\n\r\n```\r\n\r\nHi, I have a problem. I have a table with pagination (values of that table are spread on 5 pages) and the url to this table is for example: http://localhost:8080/SimulationsValuesById/2563/ where 2563 is a path variable and an id of some object whose fields I want to show in that table and when I click on some  page number (here page 2) under that table, I get error status 400 and on the console error: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;{id}&quot;] and url gets changed to http://localhost:8080/SimulationsValuesById/%7Bid%7D/?size=5&amp;page=2. Why id gets changed to some String (here %7Bid%7D) when I try to get on some page? (%7Bid%7D is on every page) How do  I make this path variable constant so it stays the same no matter what page I get on so I get http://localhost:8080/SimulationsValuesById/2563/?size=5&amp;page=2 or http://localhost:8080/SimulationsValuesById/1111/?size=5&amp;page=2?Thanks in advance.","title":"Path variable changes with pagination, err: Failed to convert value of type java.lang.String to required type &#39;java.lang.Long For input string: &quot;{id}&quot;","body":"<p>html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;End Value&lt;/title&gt;\n    &lt;link th:href=&quot;@{/static/css/bootstrap.min.css}&quot; rel=&quot;stylesheet&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css&quot;/&gt;\n    &lt;style&gt;\n#simulat {\n  font-family: Arial, Helvetica, sans-serif;\n  border-collapse: collapse;\n  width: 100%;\n}\n\n#simulat td, #plantEvent th {\n  border: 1px solid #ddd;\n  padding: 8px;\n}\n\n#simulat tr:nth-child(even){background-color: #f2f2f2;}\n\n#simulat tr:hover {background-color: #ddd;}\n\n#simulat th {\n  padding-top: 12px;\n  padding-bottom: 12px;\n  text-align: left;\n  background-color: #04AA6D;\n  color: white;\n}\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;br&gt;\n&lt;td&gt;\n    &lt;a th:href=&quot;@{~/SimulationsForm}&quot; class=&quot;btn btn-primary&quot;&gt;Back to simulation form site&lt;/a&gt;\n    &lt;a th:href=&quot;@{~/SimulationsValues}&quot; class=&quot;btn btn-primary&quot;&gt;Back to simulation values site&lt;/a&gt;\n&lt;/td&gt;\n&lt;table id=&quot;simulat&quot; border=&quot;1&quot; class=&quot;table table-striped table-responsive-md&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        &lt;th&gt;Pv&lt;/th&gt;\n        &lt;th&gt;Pr&lt;/th&gt;\n        &lt;th&gt;Pi&lt;/th&gt;\n        &lt;th&gt;Pm&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n    &lt;tr th:each=&quot;sim, iStat : ${allP.content}&quot;\n        th:style=&quot;${iStat.odd}? 'font-weight: bold;'&quot;\n        th:alt-title=&quot;${iStat.even}? 'even' : 'odd'&quot;&gt;\n        &lt;td th:text=&quot;${sim.healthy_Prone_To_Infection}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${sim.regained_Health_And_Immunity}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${sim.number_Of_Infected}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${sim.dead}&quot;&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n&lt;div style=&quot;display: inline&quot; th:if=&quot;${allP.totalPages &gt; 0}&quot; class=&quot;pagination&quot;\n     th:each=&quot;pageNumber : ${pageNumbers}&quot;&gt;\n    &lt;a th:href=&quot;@{/SimulationsValuesById/{id}/(size=${allP.size}, page=${pageNumber})}&quot;\n       th:text=${pageNumber}\n       th:class=&quot;${pageNumber==allP.number + 1} ? active&quot;&gt;&lt;/a&gt;\n&lt;/div&gt;\n&lt;br&gt;\nProvide simulation name\n&lt;input id=&quot;vall2&quot; type=&quot;text&quot; class=&quot;form-control col-2&quot;&gt;\n&lt;br&gt;\nProvide day\n&lt;input id=&quot;vall3&quot; type=&quot;text&quot; class=&quot;form-control col-2&quot;&gt;&lt;br&gt;\n&lt;button onclick=&quot;myFunction2()&quot; class=&quot;btn btn-primary&quot;&gt;Find simulation values for given day for specific simulation by\n    name\n&lt;/button&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\nSimulations:\n&lt;br&gt;\n&lt;table&gt;\n    &lt;thead&gt;\n    &lt;tr class=&quot;table-striped&quot;&gt;\n        &lt;th&gt;Name&lt;/th&gt;\n        &lt;th&gt;Days&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n    &lt;th:block th:each=&quot;sim : ${s}&quot;&gt;\n        &lt;tr&gt;\n            &lt;td th:text=&quot;${sim.simulation_Name}&quot;&gt;&lt;/td&gt;\n            &lt;td th:text=&quot;${sim.simulation_Time}&quot;&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/th:block&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n&lt;br&gt;\n&lt;script&gt;\nfunction myFunction2() {\n  var intt = document.getElementById(&quot;vall2&quot;).value;\n  var intt2 = document.getElementById(&quot;vall3&quot;).value;\nlocation.href = 'http://localhost:8080/SimulationsValues/'+intt+'/'+intt2;\n}\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Controller</p>\n<pre><code> @GetMapping(&quot;SimulationsValuesById/{id}/&quot;)\n    public String showSimulationsValuesForSimulation(@PathVariable(&quot;id&quot;) Long id,\n                                                     @RequestParam(value = &quot;page&quot;, defaultValue = &quot;1&quot;) Integer page,\n                                                     @RequestParam(value = &quot;size&quot;, defaultValue = &quot;5&quot;) Integer size,\n                                                     Model model) {\n        Page&lt;SimulationsValues&gt; ratePage = simulationService.pagination(id, PageRequest.of(page - 1, size));\n        model.addAttribute(&quot;allP&quot;, ratePage);\n        int totalPages = ratePage.getTotalPages();\n        if (totalPages &gt; 0) {\n            List&lt;Integer&gt; pageNumbers = IntStream.rangeClosed(1, totalPages)\n                    .boxed()\n                    .collect(Collectors.toList());\n            model.addAttribute(&quot;pageNumbers&quot;, pageNumbers);\n        }\n        model.addAttribute(&quot;s&quot;, simulationRepository.findAll());\n        return &quot;allSimsSimulationValues&quot;;\n    }\n</code></pre>\n<p>Pagination method</p>\n<pre><code>public Page&lt;SimulationsValues&gt; pagination(Long id, Pageable pageable) {\n        int pageSize = pageable.getPageSize();\n        int currentPage = pageable.getPageNumber();\n        int startItem = currentPage * pageSize;\n        List&lt;SimulationsValues&gt; list;\n        if (eachRemainingDayService.getSimulations().stream().filter(e -&gt; e.getId().equals(id))\n                .collect(Collectors.toList()).get(0).getSimulationsValues().size() &lt; startItem) {\n            list = Collections.emptyList();\n        } else {\n            int toIndex = Math.min(startItem + pageSize, (simulationRepository.findAll().stream()\n                    .filter(e -&gt; e.getId().equals(id)).collect(Collectors.toList()).get(0)\n                    .getSimulationsValues().size()));\n            list = simulationRepository.findAll().stream()\n                    .filter(e -&gt; e.getId().equals(id)).collect(Collectors.toList()).get(0)\n                    .getSimulationsValues().subList(startItem, toIndex);\n        }\n        return new PageImpl&lt;&gt;(list, PageRequest.of(currentPage, pageSize), simulationRepository.findAll()\n                .stream().filter(e -&gt; e.getId().equals(id)).collect(Collectors.toList()).get(0)\n                .getSimulationsValues().size());\n    }\n\n</code></pre>\n<p>Hi, I have a problem. I have a table with pagination (values of that table are spread on 5 pages) and the url to this table is for example: http://localhost:8080/SimulationsValuesById/2563/ where 2563 is a path variable and an id of some object whose fields I want to show in that table and when I click on some  page number (here page 2) under that table, I get error status 400 and on the console error: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; nested exception is java.lang.NumberFormatException: For input string: &quot;{id}&quot;] and url gets changed to http://localhost:8080/SimulationsValuesById/%7Bid%7D/?size=5&amp;page=2. Why id gets changed to some String (here %7Bid%7D) when I try to get on some page? (%7Bid%7D is on every page) How do  I make this path variable constant so it stays the same no matter what page I get on so I get http://localhost:8080/SimulationsValuesById/2563/?size=5&amp;page=2 or http://localhost:8080/SimulationsValuesById/1111/?size=5&amp;page=2?Thanks in advance.</p>\n"},{"tags":["java","spring","apache-poi","spring-batch","spring-batch-excel"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1643709822,"post_id":70937915,"comment_id":125406111,"body_markdown":"It will use the date-format from the cell if it is available (if no format it set and only type date it will fallback to the default JDK locale for formatting). You could try to explicitly set the format for the date-cells in your excel sheet. Everything currently is delegated to Apache POI and we allow for some hooks (I&#39;m the author of the excel readers). We could provide an option to set a `Locale` to be used for reading. If you know what the format is for reading, and apparently the writing is important, you could map it to another format whilst writing as well.","body":"It will use the date-format from the cell if it is available (if no format it set and only type date it will fallback to the default JDK locale for formatting). You could try to explicitly set the format for the date-cells in your excel sheet. Everything currently is delegated to Apache POI and we allow for some hooks (I&#39;m the author of the excel readers). We could provide an option to set a <code>Locale</code> to be used for reading. If you know what the format is for reading, and apparently the writing is important, you could map it to another format whilst writing as well."},{"owner":{"account_id":4137161,"reputation":47,"user_id":3393551,"accept_rate":50,"display_name":"pivsxii"},"score":0,"creation_date":1643713687,"post_id":70937915,"comment_id":125407603,"body_markdown":"We created the Excel to be filled so we are aware which format we are expecting. Unfortunately users should fill the value and it can do mistakes. So basically I can check in the rowmapper some additional checks regarding the date format and eventually use the optional Local when implemented. Sounds good ?","body":"We created the Excel to be filled so we are aware which format we are expecting. Unfortunately users should fill the value and it can do mistakes. So basically I can check in the rowmapper some additional checks regarding the date format and eventually use the optional Local when implemented. Sounds good ?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1643784834,"post_id":70937915,"comment_id":125428156,"body_markdown":"I don&#39;t understand your comment at all? If there is an explicit pattern in excel it will be used (according to the Apache POI documentation) if there isn&#39;t it will use the date format as available from the system local (or rather the JVM default). Another option is, which we are pondering on, is make the API we have more JDBC like and return the actual type (a `Date` in this case instead of a `String`). The Apache POI implementation does allow for a date-format to be set, so we could investigate that as well (you can set the `Locale` to use and/or date format), so we could investigate that.","body":"I don&#39;t understand your comment at all? If there is an explicit pattern in excel it will be used (according to the Apache POI documentation) if there isn&#39;t it will use the date format as available from the system local (or rather the JVM default). Another option is, which we are pondering on, is make the API we have more JDBC like and return the actual type (a <code>Date</code> in this case instead of a <code>String</code>). The Apache POI implementation does allow for a date-format to be set, so we could investigate that as well (you can set the <code>Locale</code> to use and/or date format), so we could investigate that."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1643790116,"post_id":70937915,"comment_id":125429613,"body_markdown":"Before running the batch job (not sure how you are launching things), try doing `LocaleUtil.setUserLocale(your-preffered-locale)`. This should set the `Locale` to use for Apache POI, see if that makes a difference. If not it means there is formatting and the date is formatted accordingly to the format as defined in excel. The only way to get around that would be to create another API exposing the actual datatypes (like numeric, date etc.) akin to the JDBC stuff. Which would be quite a refactoring to do, but it would offer more flexibility I guess.","body":"Before running the batch job (not sure how you are launching things), try doing <code>LocaleUtil.setUserLocale(your-preffered-locale)</code>. This should set the <code>Locale</code> to use for Apache POI, see if that makes a difference. If not it means there is formatting and the date is formatted accordingly to the format as defined in excel. The only way to get around that would be to create another API exposing the actual datatypes (like numeric, date etc.) akin to the JDBC stuff. Which would be quite a refactoring to do, but it would offer more flexibility I guess."}],"owner":{"account_id":4137161,"reputation":47,"user_id":3393551,"accept_rate":50,"display_name":"pivsxii"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646433388,"creation_date":1643706399,"question_id":70937915,"body_markdown":"I&#39;m trying to read an Excel file with Spring Batch and [Spring Batch Excel](https://github.com/spring-projects/spring-batch-extensions/tree/main/spring-batch-excel) and cells in date format are read in a different format form the file.\r\n\r\nIn my file dates are in `DD/MM/YYYY` and when Spring/POI are reading data `org.apache.poi.ss.usermodel.DataFormatter` is used and in `performDateFormatting` method the parameter `dateFormat`  has a pattern of `M/d/yy`.\r\n\r\nIs there a way to force the date pattern when reading ?\r\n\r\nMy rowmapper configuration is\r\n\r\n```xml\r\n&lt;bean id=&quot;caricaAnagraficheReader&quot; class=&quot;org.springframework.batch.extensions.excel.poi.PoiItemReader&quot; scope=&quot;step&quot;&gt;\r\n\t&lt;property name=&quot;resource&quot; value=&quot;file:#{batchParameters.genericBatchParameters.allegatoNomeCompleto}&quot; /&gt;\r\n\t&lt;property name=&quot;linesToSkip&quot; value=&quot;1&quot; /&gt;\r\n    &lt;property name=&quot;rowMapper&quot;&gt;\r\n        &lt;bean class=&quot;it.blue.batch.portali.components.CaricaAnagraficheRowMapper&quot; /&gt;\r\n\t&lt;/property&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nThank you in advance","title":"Date format in Spring Batch Excel","body":"<p>I'm trying to read an Excel file with Spring Batch and <a href=\"https://github.com/spring-projects/spring-batch-extensions/tree/main/spring-batch-excel\" rel=\"nofollow noreferrer\">Spring Batch Excel</a> and cells in date format are read in a different format form the file.</p>\n<p>In my file dates are in <code>DD/MM/YYYY</code> and when Spring/POI are reading data <code>org.apache.poi.ss.usermodel.DataFormatter</code> is used and in <code>performDateFormatting</code> method the parameter <code>dateFormat</code>  has a pattern of <code>M/d/yy</code>.</p>\n<p>Is there a way to force the date pattern when reading ?</p>\n<p>My rowmapper configuration is</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=&quot;caricaAnagraficheReader&quot; class=&quot;org.springframework.batch.extensions.excel.poi.PoiItemReader&quot; scope=&quot;step&quot;&gt;\n    &lt;property name=&quot;resource&quot; value=&quot;file:#{batchParameters.genericBatchParameters.allegatoNomeCompleto}&quot; /&gt;\n    &lt;property name=&quot;linesToSkip&quot; value=&quot;1&quot; /&gt;\n    &lt;property name=&quot;rowMapper&quot;&gt;\n        &lt;bean class=&quot;it.blue.batch.portali.components.CaricaAnagraficheRowMapper&quot; /&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Thank you in advance</p>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":6506530,"reputation":1934,"user_id":5035236,"accept_rate":58,"display_name":"hawarden_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1646433013,"creation_date":1646433013,"question_id":71357867,"body_markdown":"I have a dataset `Dataset&lt;Row&gt; ds` like this:\r\n\r\n    col1 | col2 |\r\n    tom  | jerry|\r\n\r\nI want to convert this dataset to this schema : \r\n\r\n       StructType myModel = new StructType(new StructField[]{\r\n        new StructField(&quot;col1&quot;, DataTypes.StringType, false, Metadata.empty()),\r\n        new StructField(&quot;col2&quot;, DataTypes.StringType, false, Metadata.empty()),\r\n        new StructField(&quot;col3&quot;, DataTypes.StringType, false, Metadata.empty())\r\n       });\r\n\r\nWhat is the best way to do this ? I want to have a `Dataset&lt;MyModel&gt; ds` at the end, which has `col3` as null value (but this is a simplified example, there will be more columns with null values):\r\n\r\n    col1 | col2 | col3 |\r\n    tom  | jerry| null |","title":"Spark : add schema to dataset with missing columns","body":"<p>I have a dataset <code>Dataset&lt;Row&gt; ds</code> like this:</p>\n<pre><code>col1 | col2 |\ntom  | jerry|\n</code></pre>\n<p>I want to convert this dataset to this schema :</p>\n<pre><code>   StructType myModel = new StructType(new StructField[]{\n    new StructField(&quot;col1&quot;, DataTypes.StringType, false, Metadata.empty()),\n    new StructField(&quot;col2&quot;, DataTypes.StringType, false, Metadata.empty()),\n    new StructField(&quot;col3&quot;, DataTypes.StringType, false, Metadata.empty())\n   });\n</code></pre>\n<p>What is the best way to do this ? I want to have a <code>Dataset&lt;MyModel&gt; ds</code> at the end, which has <code>col3</code> as null value (but this is a simplified example, there will be more columns with null values):</p>\n<pre><code>col1 | col2 | col3 |\ntom  | jerry| null |\n</code></pre>\n"},{"tags":["java","multithreading","thread-safety","runnable"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1646411845,"post_id":71354222,"comment_id":126124058,"body_markdown":"You will need AtomicInteger to make this work correctly.  You cannot just modify an int.","body":"You will need AtomicInteger to make this work correctly.  You cannot just modify an int."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1646413089,"creation_date":1646411945,"answer_id":71354460,"question_id":71354222,"body_markdown":"For the first example, each thread has its own counter and it is incremented separately. Integer is immutable, when it is incremented the result is a new Integer object. The threads get the same starting value but there is no shared state. \r\n\r\nFor the second example the threads share the same MyObject instance, there is nothing to stop them from overwriting each others&#39; work. Use AtomicInteger in the second example and the threads won&#39;t interfere with each other. \r\n\r\n    class MyObj {\r\n        private AtomicInteger counter = new AtomicInteger(0);\r\n    \r\n        public void inc() { \r\n            counter.incrementAndGet(); \r\n        }\r\n    \r\n        public int getCount() { \r\n            return counter.get();\r\n        }\r\n    }","title":"How does incrementing a value across multiple threads in Java work?","body":"<p>For the first example, each thread has its own counter and it is incremented separately. Integer is immutable, when it is incremented the result is a new Integer object. The threads get the same starting value but there is no shared state.</p>\n<p>For the second example the threads share the same MyObject instance, there is nothing to stop them from overwriting each others' work. Use AtomicInteger in the second example and the threads won't interfere with each other.</p>\n<pre><code>class MyObj {\n    private AtomicInteger counter = new AtomicInteger(0);\n\n    public void inc() { \n        counter.incrementAndGet(); \n    }\n\n    public int getCount() { \n        return counter.get();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646412165,"creation_date":1646412165,"answer_id":71354503,"question_id":71354222,"body_markdown":"In a nutshell: The difference between your two implementations is that your `MyObj` class is _mutable,_ but `Integer` is immutable.\r\n\r\nIn particular, this statement does not do what you seem to think it does:\r\n\r\n``` lang-java\r\ncounter++;\r\n```\r\n\r\nWhat it does is:\r\n\r\n1. fetch the value of the `counter` variable, which is a reference to an immutable `Integer` object.\r\n1. Get the `int` value of the `Integer` object,\r\n1. Compute a new `int` value, equal to 1+ the previous value,\r\n1. Construct a _new_ `Integer` object with the new value, and finally\r\n1. Store a reference to the new object into the `counter` variable.\r\n\r\nSince each of your threads has its own `counter`, and each one constructs its own new sequence of `Integer` objects to assign to `counter`, the threads run entirely independent of each other.\r\n\r\n------------\r\n\r\nIn your second example, there is only ever one `MyObj` instance. Each thread has its own `obj` variable, but those are all initialized to point to the same instance, and the threads never assign their `obj` variables: The threads mutate the one shared instance instead.","title":"How does incrementing a value across multiple threads in Java work?","body":"<p>In a nutshell: The difference between your two implementations is that your <code>MyObj</code> class is <em>mutable,</em> but <code>Integer</code> is immutable.</p>\n<p>In particular, this statement does not do what you seem to think it does:</p>\n<pre class=\"lang-java prettyprint-override\"><code>counter++;\n</code></pre>\n<p>What it does is:</p>\n<ol>\n<li>fetch the value of the <code>counter</code> variable, which is a reference to an immutable <code>Integer</code> object.</li>\n<li>Get the <code>int</code> value of the <code>Integer</code> object,</li>\n<li>Compute a new <code>int</code> value, equal to 1+ the previous value,</li>\n<li>Construct a <em>new</em> <code>Integer</code> object with the new value, and finally</li>\n<li>Store a reference to the new object into the <code>counter</code> variable.</li>\n</ol>\n<p>Since each of your threads has its own <code>counter</code>, and each one constructs its own new sequence of <code>Integer</code> objects to assign to <code>counter</code>, the threads run entirely independent of each other.</p>\n<hr />\n<p>In your second example, there is only ever one <code>MyObj</code> instance. Each thread has its own <code>obj</code> variable, but those are all initialized to point to the same instance, and the threads never assign their <code>obj</code> variables: The threads mutate the one shared instance instead.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646431529,"creation_date":1646412245,"answer_id":71354525,"question_id":71354222,"body_markdown":"# Never share unprotected resources across threads\r\n\r\nThe [Answer by Nathan Hughes][1] is correct. \r\n\r\nChange this code:\r\n\r\n    new Threaded( &quot;Thread &quot; + i , obj )\r\n\r\n… to this:\r\n\r\n    new Threaded( &quot;Thread &quot; + i , new MyObject( … ) )\r\n\r\n… to get behavior similar to your first example. By passing each new `Thread` its own instance of `MyObject`, the various `Thread` objects will no longer be stepping in each other’s feet.\r\n\r\nThe lesson here is to **never share resources across threads without adding protection**. As Nathan Hughes suggested, replacing `int` on `MyObject` class with `AtomicInteger` is one way to add protection. Mark that `AtomicInteger` as `final` to ensure that its instance is never replaced.  \r\n\r\n# Executor service\r\n\r\nAnother issue: In modern Java, we rarely address the `Thread` class directly. Instead, use the Executors framework added to Java 5. \r\n\r\nDefine your task as a `Runnable` or `Callable`. Pass an instance of that task to an executor service. \r\n\r\nThe lambda syntax in Java 8+ is often quite convenient to use in defining your `Runnable`. The code in the lambda can refer to variables in its surrounding code. \r\n\r\nThis has been covered many times on Stack Overflow. Search to learn more. \r\n\r\n# Example code\r\n\r\nHere is a revamped version of your code using an executor service.\r\n\r\nNotice that `inc` method has been changed to **return the newly incremented count** rather than returning void. By the time another line of code called the `MyObj#getCount`, some other thread may have performed an additional increment, so result of `getCount` would not give your intended results.\r\n\r\n```java\r\npackage work.basil.threading;\r\n\r\nimport java.time.Instant;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\npublic class App2\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App2 app = new App2();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        final MyObj myObj = new MyObj();\r\n\r\n        Runnable task = ( ) -&gt; {\r\n            for ( int i = 0 ; i &lt; 5 ; i++ )\r\n            {\r\n                int newValue = myObj.inc();\r\n                // BEWARE: Multi-threaded calls to `System.out` may *not* appear chronologically. Add timestamp to get some idea of chronology.\r\n                System.out.println( Thread.currentThread().getId() + &quot; thread incremented to : &quot; + newValue + &quot; at &quot; + Instant.now() );\r\n            }\r\n        };\r\n\r\n        ExecutorService executorService = Executors.newCachedThreadPool();\r\n        for ( int i = 0 ; i &lt; 3 ; i++ )\r\n        {\r\n            executorService.submit( task );\r\n        }\r\n        executorService.shutdown();\r\n        try { executorService.awaitTermination( 1 , TimeUnit.MINUTES ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\r\n    }\r\n}\r\n\r\nclass MyObj\r\n{\r\n    private final AtomicInteger count = new AtomicInteger();\r\n\r\n    public int inc ( ) { return this.count.incrementAndGet(); }\r\n\r\n    public int getCount ( ) { return count.get(); }\r\n}\r\n```\r\n\r\nExample run. Again, beware of the console printing lines out of chronological order.\r\n\r\n```none\r\n15 thread incremented to : 1 at 2022-03-04T21:54:17.926156Z\r\n17 thread incremented to : 3 at 2022-03-04T21:54:17.926207Z\r\n16 thread incremented to : 2 at 2022-03-04T21:54:17.926219Z\r\n17 thread incremented to : 5 at 2022-03-04T21:54:17.941980Z\r\n15 thread incremented to : 4 at 2022-03-04T21:54:17.941961Z\r\n16 thread incremented to : 6 at 2022-03-04T21:54:17.942027Z\r\n15 thread incremented to : 8 at 2022-03-04T21:54:17.942054Z\r\n17 thread incremented to : 7 at 2022-03-04T21:54:17.942041Z\r\n16 thread incremented to : 9 at 2022-03-04T21:54:17.942067Z\r\n15 thread incremented to : 10 at 2022-03-04T21:54:17.942083Z\r\n17 thread incremented to : 11 at 2022-03-04T21:54:17.942126Z\r\n16 thread incremented to : 12 at 2022-03-04T21:54:17.942164Z\r\n15 thread incremented to : 13 at 2022-03-04T21:54:17.942176Z\r\n16 thread incremented to : 15 at 2022-03-04T21:54:17.942254Z\r\n17 thread incremented to : 14 at 2022-03-04T21:54:17.942219Z\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/71354460/642706","title":"How does incrementing a value across multiple threads in Java work?","body":"<h1>Never share unprotected resources across threads</h1>\n<p>The <a href=\"https://stackoverflow.com/a/71354460/642706\">Answer by Nathan Hughes</a> is correct.</p>\n<p>Change this code:</p>\n<pre><code>new Threaded( &quot;Thread &quot; + i , obj )\n</code></pre>\n<p>… to this:</p>\n<pre><code>new Threaded( &quot;Thread &quot; + i , new MyObject( … ) )\n</code></pre>\n<p>… to get behavior similar to your first example. By passing each new <code>Thread</code> its own instance of <code>MyObject</code>, the various <code>Thread</code> objects will no longer be stepping in each other’s feet.</p>\n<p>The lesson here is to <strong>never share resources across threads without adding protection</strong>. As Nathan Hughes suggested, replacing <code>int</code> on <code>MyObject</code> class with <code>AtomicInteger</code> is one way to add protection. Mark that <code>AtomicInteger</code> as <code>final</code> to ensure that its instance is never replaced.</p>\n<h1>Executor service</h1>\n<p>Another issue: In modern Java, we rarely address the <code>Thread</code> class directly. Instead, use the Executors framework added to Java 5.</p>\n<p>Define your task as a <code>Runnable</code> or <code>Callable</code>. Pass an instance of that task to an executor service.</p>\n<p>The lambda syntax in Java 8+ is often quite convenient to use in defining your <code>Runnable</code>. The code in the lambda can refer to variables in its surrounding code.</p>\n<p>This has been covered many times on Stack Overflow. Search to learn more.</p>\n<h1>Example code</h1>\n<p>Here is a revamped version of your code using an executor service.</p>\n<p>Notice that <code>inc</code> method has been changed to <strong>return the newly incremented count</strong> rather than returning void. By the time another line of code called the <code>MyObj#getCount</code>, some other thread may have performed an additional increment, so result of <code>getCount</code> would not give your intended results.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.threading;\n\nimport java.time.Instant;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.atomic.AtomicInteger;\n\npublic class App2\n{\n    public static void main ( String[] args )\n    {\n        App2 app = new App2();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        final MyObj myObj = new MyObj();\n\n        Runnable task = ( ) -&gt; {\n            for ( int i = 0 ; i &lt; 5 ; i++ )\n            {\n                int newValue = myObj.inc();\n                // BEWARE: Multi-threaded calls to `System.out` may *not* appear chronologically. Add timestamp to get some idea of chronology.\n                System.out.println( Thread.currentThread().getId() + &quot; thread incremented to : &quot; + newValue + &quot; at &quot; + Instant.now() );\n            }\n        };\n\n        ExecutorService executorService = Executors.newCachedThreadPool();\n        for ( int i = 0 ; i &lt; 3 ; i++ )\n        {\n            executorService.submit( task );\n        }\n        executorService.shutdown();\n        try { executorService.awaitTermination( 1 , TimeUnit.MINUTES ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\n    }\n}\n\nclass MyObj\n{\n    private final AtomicInteger count = new AtomicInteger();\n\n    public int inc ( ) { return this.count.incrementAndGet(); }\n\n    public int getCount ( ) { return count.get(); }\n}\n</code></pre>\n<p>Example run. Again, beware of the console printing lines out of chronological order.</p>\n<pre class=\"lang-none prettyprint-override\"><code>15 thread incremented to : 1 at 2022-03-04T21:54:17.926156Z\n17 thread incremented to : 3 at 2022-03-04T21:54:17.926207Z\n16 thread incremented to : 2 at 2022-03-04T21:54:17.926219Z\n17 thread incremented to : 5 at 2022-03-04T21:54:17.941980Z\n15 thread incremented to : 4 at 2022-03-04T21:54:17.941961Z\n16 thread incremented to : 6 at 2022-03-04T21:54:17.942027Z\n15 thread incremented to : 8 at 2022-03-04T21:54:17.942054Z\n17 thread incremented to : 7 at 2022-03-04T21:54:17.942041Z\n16 thread incremented to : 9 at 2022-03-04T21:54:17.942067Z\n15 thread incremented to : 10 at 2022-03-04T21:54:17.942083Z\n17 thread incremented to : 11 at 2022-03-04T21:54:17.942126Z\n16 thread incremented to : 12 at 2022-03-04T21:54:17.942164Z\n15 thread incremented to : 13 at 2022-03-04T21:54:17.942176Z\n16 thread incremented to : 15 at 2022-03-04T21:54:17.942254Z\n17 thread incremented to : 14 at 2022-03-04T21:54:17.942219Z\n</code></pre>\n"}],"owner":{"account_id":24453333,"reputation":151,"user_id":18375257,"display_name":"user18375257"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4309,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":71354460,"answer_count":3,"score":2,"last_activity_date":1646431529,"creation_date":1646410699,"question_id":71354222,"body_markdown":"I have two pieces of multithreaded code. One passes an Integer to the thread and the thread increments it and the other passes an object that has an inner Integer which is incremented. When I run these the output is different and not what I expected. Can someone give an explanation of what&#39;s going and how I&#39;d make the first behave in a similar manner to the second.\r\n\r\n**Implementation 1:**\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Integer counter = 0;\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            Threaded t = new Threaded(&quot;Thread &quot; + i, counter);\r\n            Thread thread = new Thread(t);\r\n            thread.start();\r\n        }\r\n    }\r\n}\r\n\r\nclass Threaded implements Runnable {\r\n    private final String name;\r\n    private Integer counter;\r\n    \r\n    public Threaded(String name, Integer counter) {\r\n        this.name = name;\r\n        this.counter = counter;\r\n    }\r\n    \r\n    @Override\r\n    public void run() {\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            counter++;\r\n            System.out.println(name + &quot;: &quot; + counter);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Output 1:**\r\n```\r\nThread 1: 1\r\nThread 1: 2\r\nThread 0: 1\r\nThread 0: 2\r\nThread 0: 3\r\nThread 0: 4\r\nThread 0: 5\r\nThread 2: 1\r\nThread 2: 2\r\nThread 2: 3\r\nThread 2: 4\r\nThread 1: 3\r\nThread 1: 4\r\nThread 1: 5\r\nThread 2: 5\r\n```\r\n\r\n**Implementation 2:**\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        MyObj obj = new MyObj();\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            Threaded t = new Threaded(&quot;Thread &quot; + i, obj);\r\n            Thread thread = new Thread(t);\r\n            thread.start();\r\n        }\r\n    }\r\n}\r\n\r\nclass MyObj {\r\n    private int count = 0;\r\n    \r\n    public void inc() { count++; }\r\n    \r\n    public int getCount() { return count; }\r\n}\r\n\r\nclass Threaded implements Runnable {\r\n    \r\n    private final String name;\r\n    private final MyObj obj;\r\n    \r\n    public Threaded(String name, MyObj obj) {\r\n        this.name = name;\r\n        this.obj = obj;\r\n    }\r\n    \r\n    @Override\r\n    public void run() {\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            obj.inc();\r\n            System.out.println(name + &quot;: &quot; + obj.getCount());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Output 2:**\r\n```\r\nThread 1: 2\r\nThread 1: 3\r\nThread 1: 4\r\nThread 1: 5\r\nThread 1: 6\r\nThread 0: 1\r\nThread 0: 7\r\nThread 2: 8\r\nThread 0: 9\r\nThread 2: 10\r\nThread 2: 11\r\nThread 0: 12\r\nThread 2: 13\r\nThread 2: 15\r\nThread 0: 14\r\n```\r\n\r\nIs it possible to have multiple threads all increment an Integer directly but get an output similar to implementation 2?","title":"How does incrementing a value across multiple threads in Java work?","body":"<p>I have two pieces of multithreaded code. One passes an Integer to the thread and the thread increments it and the other passes an object that has an inner Integer which is incremented. When I run these the output is different and not what I expected. Can someone give an explanation of what's going and how I'd make the first behave in a similar manner to the second.</p>\n<p><strong>Implementation 1:</strong></p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Integer counter = 0;\n        for (int i = 0; i &lt; 3; i++) {\n            Threaded t = new Threaded(&quot;Thread &quot; + i, counter);\n            Thread thread = new Thread(t);\n            thread.start();\n        }\n    }\n}\n\nclass Threaded implements Runnable {\n    private final String name;\n    private Integer counter;\n    \n    public Threaded(String name, Integer counter) {\n        this.name = name;\n        this.counter = counter;\n    }\n    \n    @Override\n    public void run() {\n        for (int i = 0; i &lt; 5; i++) {\n            counter++;\n            System.out.println(name + &quot;: &quot; + counter);\n        }\n    }\n}\n</code></pre>\n<p><strong>Output 1:</strong></p>\n<pre><code>Thread 1: 1\nThread 1: 2\nThread 0: 1\nThread 0: 2\nThread 0: 3\nThread 0: 4\nThread 0: 5\nThread 2: 1\nThread 2: 2\nThread 2: 3\nThread 2: 4\nThread 1: 3\nThread 1: 4\nThread 1: 5\nThread 2: 5\n</code></pre>\n<p><strong>Implementation 2:</strong></p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        MyObj obj = new MyObj();\n        for (int i = 0; i &lt; 3; i++) {\n            Threaded t = new Threaded(&quot;Thread &quot; + i, obj);\n            Thread thread = new Thread(t);\n            thread.start();\n        }\n    }\n}\n\nclass MyObj {\n    private int count = 0;\n    \n    public void inc() { count++; }\n    \n    public int getCount() { return count; }\n}\n\nclass Threaded implements Runnable {\n    \n    private final String name;\n    private final MyObj obj;\n    \n    public Threaded(String name, MyObj obj) {\n        this.name = name;\n        this.obj = obj;\n    }\n    \n    @Override\n    public void run() {\n        for (int i = 0; i &lt; 5; i++) {\n            obj.inc();\n            System.out.println(name + &quot;: &quot; + obj.getCount());\n        }\n    }\n}\n</code></pre>\n<p><strong>Output 2:</strong></p>\n<pre><code>Thread 1: 2\nThread 1: 3\nThread 1: 4\nThread 1: 5\nThread 1: 6\nThread 0: 1\nThread 0: 7\nThread 2: 8\nThread 0: 9\nThread 2: 10\nThread 2: 11\nThread 0: 12\nThread 2: 13\nThread 2: 15\nThread 0: 14\n</code></pre>\n<p>Is it possible to have multiple threads all increment an Integer directly but get an output similar to implementation 2?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8451,"page":1541,"page_size":100}
