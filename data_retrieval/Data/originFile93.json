{"items":[{"tags":["java","memory","ram"],"comments":[{"owner":{"account_id":1733893,"reputation":66893,"user_id":1586880,"accept_rate":100,"display_name":"dsgriffin"},"score":0,"creation_date":1354570926,"post_id":13692206,"comment_id":18799816,"body_markdown":"possible duplicate of [How to set the maximum memory usage for JVM?](http://stackoverflow.com/questions/1493913/how-to-set-the-maximum-memory-usage-for-jvm)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1493913/how-to-set-the-maximum-memory-usage-for-jvm\">How to set the maximum memory usage for JVM?</a>"},{"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"score":7,"creation_date":1354570943,"post_id":13692206,"comment_id":18799827,"body_markdown":"Who cares? Virtual memory is essentially free. Modern systems can make huge amounts of it at near-zero cost. This is like trying to breathe less air. (Note that this is not measuring physical memory, RAM, but just measuring virtual memory, address space.)","body":"Who cares? Virtual memory is essentially free. Modern systems can make huge amounts of it at near-zero cost. This is like trying to breathe less air. (Note that this is not measuring physical memory, RAM, but just measuring virtual memory, address space.)"},{"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"score":0,"creation_date":1354571139,"post_id":13692206,"comment_id":18799919,"body_markdown":"43MB is not surprising, since JVM reserve enough memory for possible future load. but it should be fine if you set max mem to just a few MB","body":"43MB is not surprising, since JVM reserve enough memory for possible future load. but it should be fine if you set max mem to just a few MB"},{"owner":{"display_name":"user166390"},"score":0,"creation_date":1354571143,"post_id":13692206,"comment_id":18799924,"body_markdown":"The JVM *does* use [relatively] lots of memory. While David does make a point about it being &quot;virtual&quot;, I think this may overshadow the overhead&#39;s involved with a typical Java environment compared to a native application (especially when the application &quot;does nothing&quot; but starts) - so how does this compare to physical usage? I know not ..","body":"The JVM <i>does</i> use [relatively] lots of memory. While David does make a point about it being &quot;virtual&quot;, I think this may overshadow the overhead&#39;s involved with a typical Java environment compared to a native application (especially when the application &quot;does nothing&quot; but starts) - so how does this compare to physical usage? I know not .."},{"owner":{"account_id":518254,"reputation":391,"user_id":1873767,"display_name":"Vivo"},"score":0,"creation_date":1354573312,"post_id":13692206,"comment_id":18800847,"body_markdown":"@TomG Sometimes it is not about cost of RAM, because some devices can only have so much of it (Raspberry Pi : 265/512MB RAM, my netbook : 2GB)","body":"@TomG Sometimes it is not about cost of RAM, because some devices can only have so much of it (Raspberry Pi : 265/512MB RAM, my netbook : 2GB)"},{"owner":{"account_id":314843,"reputation":4193,"user_id":630261,"accept_rate":54,"display_name":"Assen Kolov"},"score":0,"creation_date":1354575143,"post_id":13692206,"comment_id":18801522,"body_markdown":"Interesting question. I quickly tried some parameters and ran your program on MacOS with 17MB instead of 40MB just with 3 params:  -Xmx2m -Xms2m -Xint. I think there is a lot to squeeze if you examine all java command line parameters.","body":"Interesting question. I quickly tried some parameters and ran your program on MacOS with 17MB instead of 40MB just with 3 params:  -Xmx2m -Xms2m -Xint. I think there is a lot to squeeze if you examine all java command line parameters."},{"owner":{"account_id":518254,"reputation":391,"user_id":1873767,"display_name":"Vivo"},"score":0,"creation_date":1354578047,"post_id":13692206,"comment_id":18802473,"body_markdown":"@AssenKolov The best I got was 19MB with `java -Xmx1281k -Xms1281k -Xss160k -Xint -Xnoclassgc -Xrs -Xbatch ram`\nEven with just an empty while loop and no variables/print statements, the lowest I got was 16.7MB","body":"@AssenKolov The best I got was 19MB with <code>java -Xmx1281k -Xms1281k -Xss160k -Xint -Xnoclassgc -Xrs -Xbatch ram</code> Even with just an empty while loop and no variables/print statements, the lowest I got was 16.7MB"},{"owner":{"account_id":4112953,"reputation":2266,"user_id":3375325,"accept_rate":71,"display_name":"jansohn"},"score":0,"creation_date":1603286691,"post_id":13692206,"comment_id":113988901,"body_markdown":"@Vivo: which program did you use to list the memory usage of your java process?","body":"@Vivo: which program did you use to list the memory usage of your java process?"}],"answers":[{"tags":[],"owner":{"account_id":3624,"reputation":682,"user_id":5237,"accept_rate":75,"display_name":"stmoebius"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1364144231,"creation_date":1364144231,"answer_id":15601291,"question_id":13692206,"body_markdown":"There are several reasons for this:\r\n\r\n 1. The java runtime is a rather complex program in itself. It needs to take the byte code of your Java program (the output from javac), translate it into machine code for the system it is running on, there&#39;s an optimizer for that, there are interfaces for debugging, etc.\r\n 2. Although your program is rather small, Java will still load many classes from its standard library. You can observe this by starting it using &#39;java -verbose:class ram&#39;\r\n 3. Java allocates a great bunch of memory for your program in advance - it cannot know how much memory it will actually need. This is, among others, governed by the -Xmx option. There are several types of such memory. To find out more about them, you can use the JConsole tool, which is included in the JDK&#39;s bin folder. You can read more about it at [java.sun.com][1]. A summary of the memory areas used by Java is also given at [this stackoverflow question][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/technotes/guides/management/jconsole.html\r\n  [2]: https://stackoverflow.com/questions/1262328/how-is-the-java-memory-pool-divided","title":"High Java memory usage even for small programs","body":"<p>There are several reasons for this:</p>\n\n<ol>\n<li>The java runtime is a rather complex program in itself. It needs to take the byte code of your Java program (the output from javac), translate it into machine code for the system it is running on, there's an optimizer for that, there are interfaces for debugging, etc.</li>\n<li>Although your program is rather small, Java will still load many classes from its standard library. You can observe this by starting it using 'java -verbose:class ram'</li>\n<li>Java allocates a great bunch of memory for your program in advance - it cannot know how much memory it will actually need. This is, among others, governed by the -Xmx option. There are several types of such memory. To find out more about them, you can use the JConsole tool, which is included in the JDK's bin folder. You can read more about it at <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/management/jconsole.html\" rel=\"noreferrer\">java.sun.com</a>. A summary of the memory areas used by Java is also given at <a href=\"https://stackoverflow.com/questions/1262328/how-is-the-java-memory-pool-divided\">this stackoverflow question</a></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":52453,"reputation":26429,"user_id":156755,"accept_rate":90,"display_name":"Basic"},"score":23,"creation_date":1389122871,"post_id":17403555,"comment_id":31522164,"body_markdown":"Thanks for taking the time to provide a balanced answer with none of the usual rage (in either direction) +1","body":"Thanks for taking the time to provide a balanced answer with none of the usual rage (in either direction) +1"},{"owner":{"account_id":1713048,"reputation":1374,"user_id":1570688,"accept_rate":86,"display_name":"bluelurker"},"score":1,"creation_date":1448967294,"post_id":17403555,"comment_id":55792334,"body_markdown":"This is a brilliant answer. Seems to solve the conundrum.","body":"This is a brilliant answer. Seems to solve the conundrum."},{"owner":{"account_id":4363097,"reputation":1,"user_id":4142152,"accept_rate":91,"display_name":"Pavel"},"score":4,"creation_date":1453924131,"post_id":17403555,"comment_id":57817591,"body_markdown":"How come C# uses less memory? For example I usually see intellij, Eclipse or netbeans use 1gb of ram,but Visual Studio only uses 300mb. Also I&#39;ve seen other c# programs such as paint. Net, and according to task manager they also use very little memory.","body":"How come C# uses less memory? For example I usually see intellij, Eclipse or netbeans use 1gb of ram,but Visual Studio only uses 300mb. Also I&#39;ve seen other c# programs such as paint. Net, and according to task manager they also use very little memory."},{"owner":{"account_id":137960,"reputation":25420,"user_id":342553,"accept_rate":69,"display_name":"James Lin"},"score":1,"creation_date":1488140369,"post_id":17403555,"comment_id":72087864,"body_markdown":"@pavel maybe c# being run only on windows has better optimisation, eg utilising system resources etc, on the other hand JVM needs to work on other platforms has to implement their own magic. I might be wrong tho.","body":"@pavel maybe c# being run only on windows has better optimisation, eg utilising system resources etc, on the other hand JVM needs to work on other platforms has to implement their own magic. I might be wrong tho."},{"owner":{"account_id":57501,"reputation":4679,"user_id":172272,"accept_rate":83,"display_name":"Didier A."},"score":0,"creation_date":1499927860,"post_id":17403555,"comment_id":77118721,"body_markdown":"@Pavel I&#39;m pretty sure VisualStudio is coded in C++, not in C#. Not sure about Paint.NET.","body":"@Pavel I&#39;m pretty sure VisualStudio is coded in C++, not in C#. Not sure about Paint.NET."},{"owner":{"account_id":4363097,"reputation":1,"user_id":4142152,"accept_rate":91,"display_name":"Pavel"},"score":0,"creation_date":1499928794,"post_id":17403555,"comment_id":77119247,"body_markdown":"@Didier you are wrong. Visual studio is written in c#, using wpf","body":"@Didier you are wrong. Visual studio is written in c#, using wpf"},{"owner":{"account_id":57501,"reputation":4679,"user_id":172272,"accept_rate":83,"display_name":"Didier A."},"score":0,"creation_date":1499928993,"post_id":17403555,"comment_id":77119367,"body_markdown":"@Pavel Not according to Wikipedia and this website: http://www.lextrait.com/Vincent/implementations.html The core of VisualStudio is in C++. Only the UI widgets have been transitioned over to C# with WPF.","body":"@Pavel Not according to Wikipedia and this website: <a href=\"http://www.lextrait.com/Vincent/implementations.html\" rel=\"nofollow noreferrer\">lextrait.com/Vincent/implementations.html</a> The core of VisualStudio is in C++. Only the UI widgets have been transitioned over to C# with WPF."},{"owner":{"account_id":4363097,"reputation":1,"user_id":4142152,"accept_rate":91,"display_name":"Pavel"},"score":0,"creation_date":1499929754,"post_id":17403555,"comment_id":77119843,"body_markdown":"@Didier and what is that core? What does it consist of?","body":"@Didier and what is that core? What does it consist of?"},{"owner":{"account_id":57501,"reputation":4679,"user_id":172272,"accept_rate":83,"display_name":"Didier A."},"score":0,"creation_date":1499931710,"post_id":17403555,"comment_id":77121182,"body_markdown":"The code base is proprietary, so its hard to say, but its most probably all the actual logic. You can read more about it here: https://blogs.msdn.microsoft.com/visualstudio/2010/02/16/wpf-in-visual-studio-2010-part-1-introduction/ . They just mention that they separated the core business logic from the presentation layer. So the presentation layer is WPF, the core logic is mostly C++, and it sounds like some components might be running VB. I&#39;d suspect things like search, file buffers, outlines, etc. are probably C++.","body":"The code base is proprietary, so its hard to say, but its most probably all the actual logic. You can read more about it here: <a href=\"https://blogs.msdn.microsoft.com/visualstudio/2010/02/16/wpf-in-visual-studio-2010-part-1-introduction/\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/visualstudio/2010/02/16/&hellip;</a> . They just mention that they separated the core business logic from the presentation layer. So the presentation layer is WPF, the core logic is mostly C++, and it sounds like some components might be running VB. I&#39;d suspect things like search, file buffers, outlines, etc. are probably C++."},{"owner":{"account_id":191445,"reputation":4484,"user_id":432024,"accept_rate":65,"display_name":"user432024"},"score":0,"creation_date":1508906132,"post_id":17403555,"comment_id":80795020,"body_markdown":"Also Visual Studio uses a bunch of dlls already loaded by Windows!?!?!?","body":"Also Visual Studio uses a bunch of dlls already loaded by Windows!?!?!?"},{"owner":{"account_id":8990140,"reputation":319,"user_id":6702334,"display_name":"Gabor Szita"},"score":3,"creation_date":1609414100,"post_id":17403555,"comment_id":115837469,"body_markdown":"Thank You! Best answer I got. Every other answer is like &quot;cause new computer&#39;s have enough RAM, so it doesn&#39;t matter&quot;. I&#39;m a C++ programmer, that&#39;s why this is an interesting topic to me. Really, thanks a lot.","body":"Thank You! Best answer I got. Every other answer is like &quot;cause new computer&#39;s have enough RAM, so it doesn&#39;t matter&quot;. I&#39;m a C++ programmer, that&#39;s why this is an interesting topic to me. Really, thanks a lot."},{"owner":{"account_id":8156877,"reputation":176,"user_id":6142156,"display_name":"manudicri"},"score":0,"creation_date":1634719694,"post_id":17403555,"comment_id":123098020,"body_markdown":"I have a simple java rest that is occupying 4GB of RAM and I don&#39;t understand why","body":"I have a simple java rest that is occupying 4GB of RAM and I don&#39;t understand why"}],"tags":[],"owner":{"account_id":2317167,"reputation":3504,"user_id":2033951,"accept_rate":93,"display_name":"Steve Kallestad"},"comment_count":12,"down_vote_count":0,"up_vote_count":118,"is_accepted":false,"score":118,"last_activity_date":1372678592,"creation_date":1372678592,"answer_id":17403555,"question_id":13692206,"body_markdown":"I see similar questions to this asked frequently and I have yet to see a satisfactory answer.  \r\n\r\nThe answers I see most frequently are angry &quot;why do you care?&quot; answers.  Some people put a lot of thought and effort into making the question and whoever asks it seem stupid.  \r\n\r\nSome people will answer this question with a long diatribe about the different kinds of memory Java allocates, why it does so, and what command line parameters you should look into.  (rarely does anyone get very specific)\r\n\r\nThe fact is that for small utilities Java is a memory hog on most operating systems.  The smaller the utility, the more obvious it really is.  Java developers have long been conditioned to deal with or ignore this fact.  \r\n\r\nThe reasons for the seemingly abnormal memory usage are plentiful.  Each thread gets a certain amount of memory for it&#39;s stack.  There are several threads that will get started regardless of how simple a program is for things like garbage cleanup, RMI, etc.  On Windows/64-bit that&#39;s 1MB per thread.  A bunch of classes get loaded by default and all of your classes.  I&#39;m sure a lot of other things are happening behind the scenes.\r\n\r\nJava has made tradeoff choices that other languages haven&#39;t.  The load time is slower than most other languages.  The initial memory requirement is higher.  Strings as they are most commonly used eat up a lot more memory than most people realize.  There are countless others.  The benefit for many situations really does pay off.  Something like Hello World shows off the cost of those choices more than anything else.  Benefits like easy multi-threading and near-native performance really don&#39;t do you any good with Hello World.\r\n\r\nUnfortunately, there&#39;s not a lot that you can do to really minimize the memory used by a simple application.  There are the aforementioned command line switches and trial and error could shrink your reported usage down to the ~10-15mb level I&#39;m sure, but those choices and time you spend figuring them out aren&#39;t going to be applicable to a wide variety of future applications.  You&#39;ll have to go through the same process again for the next application.  Throw in a GUI interface and some logging and another common library or two and your base number will shoot up to 60mb pretty darn quick.\r\n\r\nYou aren&#39;t doing anything wrong.  It&#39;s just the way things work in Java.  You&#39;ll get used to it.  You&#39;ll choose another language on occasion because of it, and that&#39;s OK too.\r\n","title":"High Java memory usage even for small programs","body":"<p>I see similar questions to this asked frequently and I have yet to see a satisfactory answer.  </p>\n\n<p>The answers I see most frequently are angry \"why do you care?\" answers.  Some people put a lot of thought and effort into making the question and whoever asks it seem stupid.  </p>\n\n<p>Some people will answer this question with a long diatribe about the different kinds of memory Java allocates, why it does so, and what command line parameters you should look into.  (rarely does anyone get very specific)</p>\n\n<p>The fact is that for small utilities Java is a memory hog on most operating systems.  The smaller the utility, the more obvious it really is.  Java developers have long been conditioned to deal with or ignore this fact.  </p>\n\n<p>The reasons for the seemingly abnormal memory usage are plentiful.  Each thread gets a certain amount of memory for it's stack.  There are several threads that will get started regardless of how simple a program is for things like garbage cleanup, RMI, etc.  On Windows/64-bit that's 1MB per thread.  A bunch of classes get loaded by default and all of your classes.  I'm sure a lot of other things are happening behind the scenes.</p>\n\n<p>Java has made tradeoff choices that other languages haven't.  The load time is slower than most other languages.  The initial memory requirement is higher.  Strings as they are most commonly used eat up a lot more memory than most people realize.  There are countless others.  The benefit for many situations really does pay off.  Something like Hello World shows off the cost of those choices more than anything else.  Benefits like easy multi-threading and near-native performance really don't do you any good with Hello World.</p>\n\n<p>Unfortunately, there's not a lot that you can do to really minimize the memory used by a simple application.  There are the aforementioned command line switches and trial and error could shrink your reported usage down to the ~10-15mb level I'm sure, but those choices and time you spend figuring them out aren't going to be applicable to a wide variety of future applications.  You'll have to go through the same process again for the next application.  Throw in a GUI interface and some logging and another common library or two and your base number will shoot up to 60mb pretty darn quick.</p>\n\n<p>You aren't doing anything wrong.  It's just the way things work in Java.  You'll get used to it.  You'll choose another language on occasion because of it, and that's OK too.</p>\n"}],"owner":{"account_id":518254,"reputation":391,"user_id":1873767,"display_name":"Vivo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36462,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"answer_count":2,"score":39,"last_activity_date":1698706241,"creation_date":1354570787,"question_id":13692206,"body_markdown":"I have a couple of simple applications written in java, one of them written to act as a widget. What surprised me how much RAM even small applications use.\r\n\r\nI wrote the following to see if it is a bug in my programs, or a general Java issue:\r\n\r\n    public class ram {\r\n        public static void main(String[] args){\r\n        while(true)System.out.print(&quot;Hello World&quot;);//while loop to give me time to check RAM usage\r\n        }\r\n    }\r\n\r\nThen compiled and ran it with `java ram` and it gave me the following RAM usage:\r\n\r\n    The process java (with pid 4489) is using approximately 43.3 MB of memory.\r\n    34460 KB\t[heap]\r\n    7088 KB\t/usr/lib/jvm/java-7-openjdk/jre/lib/amd64/server/libjvm.so\r\n    1712 KB\t/usr/lib/jvm/java-7-openjdk/jre/lib/rt.jar\r\n    136 KB\t[stack:4495]\r\n    120 KB\t/usr/lib/jvm/java-7-openjdk/jre/lib/amd64/libjava.so\r\n\r\nIsn&#39;t this too high? Especially a heap of 34MB. My system is ArchLinux x86_64 and openjdk-7.\r\n\r\nIs there any way to minimise the amount of RAM used by the JVM?\r\n\r\n**Edit**: I tried using the -Xmx flag and this is what I got (1281k was the smallest it would let me start with):\r\n\r\n    java -Xmx1281k ram\r\n    The process java (with pid 4987) is using approximately 27.6 MB of memory.\r\n    18388 KB\t[heap]\r\n\r\nFor comparison, Python2 uses 4.4MB, Mono uses 4.3MB.\r\n","title":"High Java memory usage even for small programs","body":"<p>I have a couple of simple applications written in java, one of them written to act as a widget. What surprised me how much RAM even small applications use.</p>\n\n<p>I wrote the following to see if it is a bug in my programs, or a general Java issue:</p>\n\n<pre><code>public class ram {\n    public static void main(String[] args){\n    while(true)System.out.print(\"Hello World\");//while loop to give me time to check RAM usage\n    }\n}\n</code></pre>\n\n<p>Then compiled and ran it with <code>java ram</code> and it gave me the following RAM usage:</p>\n\n<pre><code>The process java (with pid 4489) is using approximately 43.3 MB of memory.\n34460 KB    [heap]\n7088 KB /usr/lib/jvm/java-7-openjdk/jre/lib/amd64/server/libjvm.so\n1712 KB /usr/lib/jvm/java-7-openjdk/jre/lib/rt.jar\n136 KB  [stack:4495]\n120 KB  /usr/lib/jvm/java-7-openjdk/jre/lib/amd64/libjava.so\n</code></pre>\n\n<p>Isn't this too high? Especially a heap of 34MB. My system is ArchLinux x86_64 and openjdk-7.</p>\n\n<p>Is there any way to minimise the amount of RAM used by the JVM?</p>\n\n<p><strong>Edit</strong>: I tried using the -Xmx flag and this is what I got (1281k was the smallest it would let me start with):</p>\n\n<pre><code>java -Xmx1281k ram\nThe process java (with pid 4987) is using approximately 27.6 MB of memory.\n18388 KB    [heap]\n</code></pre>\n\n<p>For comparison, Python2 uses 4.4MB, Mono uses 4.3MB.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1538573716,"post_id":52628230,"comment_id":92190057,"body_markdown":"Why do _you_ think it should be 0.0?","body":"Why do <i>you</i> think it should be 0.0?"},{"owner":{"account_id":6306175,"reputation":6201,"user_id":4899193,"display_name":"Usagi Miyamoto"},"score":0,"creation_date":1538573792,"post_id":52628230,"comment_id":92190096,"body_markdown":"In Java numbers are integers, unless they contain decimal dot, or `d` or `f` suffix... Thus the above computation is (5*4=20)/2=10 and (5/2=2)*4=8...","body":"In Java numbers are integers, unless they contain decimal dot, or <code>d</code> or <code>f</code> suffix... Thus the above computation is (5*4=20)/2=10 and (5/2=2)*4=8..."}],"answers":[{"tags":[],"owner":{"account_id":2454017,"reputation":1269,"user_id":2139631,"display_name":"Rahim Dastar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1538573698,"creation_date":1538573698,"answer_id":52628265,"question_id":52628230,"body_markdown":"Because 5/2 is 2 not 2.5. 5 and 2 is integer and / operator generates int.","title":"Order of operations with multiplication, subtraction, and division in Java?","body":"<p>Because 5/2 is 2 not 2.5. 5 and 2 is integer and / operator generates int.</p>\n"},{"tags":[],"owner":{"account_id":4113392,"reputation":5800,"user_id":3375670,"accept_rate":88,"display_name":"Robert Kock"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538573727,"creation_date":1538573727,"answer_id":52628280,"question_id":52628230,"body_markdown":"You&#39;re working with integers. So &lt;code&gt;5/2*4&lt;/code&gt; equals 8.","title":"Order of operations with multiplication, subtraction, and division in Java?","body":"<p>You're working with integers. So <code>5/2*4</code> equals 8.</p>\n"},{"comments":[{"owner":{"account_id":12621308,"reputation":1337,"user_id":9176702,"display_name":"Jorge.V"},"score":0,"creation_date":1538574182,"post_id":52628317,"comment_id":92190335,"body_markdown":"You only need to write one number with .0 to force this behaviour on the &quot;/&quot; operator. Also, if you use Double instead of double, it won&#39;t even compile. Primitive types..","body":"You only need to write one number with .0 to force this behaviour on the &quot;/&quot; operator. Also, if you use Double instead of double, it won&#39;t even compile. Primitive types.."}],"tags":[],"owner":{"account_id":9509570,"reputation":435,"user_id":7067918,"display_name":"Katajun"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538573864,"creation_date":1538573864,"answer_id":52628317,"question_id":52628230,"body_markdown":"Integer division truncates any decimal places. You are probably expecting 5/2*4 to equal 10, but it is actually resolving to 8.\r\n\r\nThis can be solved by writing your numbers like this: \r\n`double x = 5.0*4.0/2.0 - 5.0/2.0*4.0;`\r\n\r\nSimply storing the result in a double does not force the actual arithmetic to consider the values to be doubles.","title":"Order of operations with multiplication, subtraction, and division in Java?","body":"<p>Integer division truncates any decimal places. You are probably expecting 5/2*4 to equal 10, but it is actually resolving to 8.</p>\n\n<p>This can be solved by writing your numbers like this: \n<code>double x = 5.0*4.0/2.0 - 5.0/2.0*4.0;</code></p>\n\n<p>Simply storing the result in a double does not force the actual arithmetic to consider the values to be doubles.</p>\n"},{"tags":[],"owner":{"account_id":6523765,"reputation":9872,"user_id":5083516,"display_name":"plugwash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698705077,"creation_date":1698705077,"answer_id":77392227,"question_id":52628230,"body_markdown":"Multiplication and division have higher precedence than addition and subtraction, but the same precedence as each other. Multiplication and division operators are evaluated from left to right.\r\n\r\nEvaluation proceeds from left to right, respecting precedence\r\n\r\nThe types used in an arithmetic operation depend only on the arguments to that operation. Storing the result in a double implicitly converts the result to a double, but that only happens *after* all of the arithmetic is complete.\r\n\r\nPutting all that together our calculation looks like\r\n\r\n* 5 * 4 -&gt; 20\r\n* 20 / 2 -&gt; 10\r\n* 5 / 2 -&gt; 2 (these are integers, so it can&#39;t be 2.5)\r\n* 2 * 4 -&gt; 8\r\n* 10 - 8 -&gt; 2\r\n* 2 -&gt; 2.0 (implicitly convert result to double)\r\n","title":"Order of operations with multiplication, subtraction, and division in Java?","body":"<p>Multiplication and division have higher precedence than addition and subtraction, but the same precedence as each other. Multiplication and division operators are evaluated from left to right.</p>\n<p>Evaluation proceeds from left to right, respecting precedence</p>\n<p>The types used in an arithmetic operation depend only on the arguments to that operation. Storing the result in a double implicitly converts the result to a double, but that only happens <em>after</em> all of the arithmetic is complete.</p>\n<p>Putting all that together our calculation looks like</p>\n<ul>\n<li>5 * 4 -&gt; 20</li>\n<li>20 / 2 -&gt; 10</li>\n<li>5 / 2 -&gt; 2 (these are integers, so it can't be 2.5)</li>\n<li>2 * 4 -&gt; 8</li>\n<li>10 - 8 -&gt; 2</li>\n<li>2 -&gt; 2.0 (implicitly convert result to double)</li>\n</ul>\n"}],"owner":{"account_id":14468998,"reputation":21,"user_id":10451573,"display_name":"Sarah Fike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1228,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1698705077,"creation_date":1538573603,"question_id":52628230,"body_markdown":"Below is the code and I wanted to know why it gives an output of `2.0` instead of `0.0`?\r\n\r\n    class Main {\r\n      public static void main(String[] args) {\r\n        double x = 5*4/2 - 5/2*4;\r\n        System.out.println(x);\r\n      }\r\n    }","title":"Order of operations with multiplication, subtraction, and division in Java?","body":"<p>Below is the code and I wanted to know why it gives an output of <code>2.0</code> instead of <code>0.0</code>?</p>\n\n<pre><code>class Main {\n  public static void main(String[] args) {\n    double x = 5*4/2 - 5/2*4;\n    System.out.println(x);\n  }\n}\n</code></pre>\n"},{"tags":["java","wildfly","cluster-computing","httpsession"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698768329,"post_id":77392194,"comment_id":136446008,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29789963,"reputation":1,"user_id":22830388,"display_name":"Juan Santamar&#237;a"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698704715,"creation_date":1698704715,"question_id":77392194,"body_markdown":"i am running 2 nodes of Wildfly 29 in clustering mode, all works fine but when i tried to logout in the app, logout not working, the session remains alive.\r\n\r\nI think the problem is the session cache that is not cleared when logging out in cluster mode.\r\n\r\nTks for any answer.","title":"Wildfly-29 clustering mode Logout Not Working - Session is Still Valid","body":"<p>i am running 2 nodes of Wildfly 29 in clustering mode, all works fine but when i tried to logout in the app, logout not working, the session remains alive.</p>\n<p>I think the problem is the session cache that is not cleared when logging out in cluster mode.</p>\n<p>Tks for any answer.</p>\n"},{"tags":["java","dependency-injection","guice","strategy-pattern"],"answers":[{"tags":[],"owner":{"account_id":4954,"reputation":4796,"user_id":7708,"accept_rate":81,"display_name":"Alan Krueger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698704658,"creation_date":1698704658,"answer_id":77392191,"question_id":77033134,"body_markdown":"Note that the spot where you say\r\n\r\n&gt;`// Now how to create the metricCollectors here`\r\n\r\nis not where you should actually _create_ the metricCollectors. That&#39;s the point of Dependency Injection, you inject your dependencies rather than constructing them.\r\n\r\nYou should instead have a constructor where you receive those dependencies and your DI framework should create them.","title":"Implement Strategy pattern with Guice DI","body":"<p>Note that the spot where you say</p>\n<blockquote>\n<p><code>// Now how to create the metricCollectors here</code></p>\n</blockquote>\n<p>is not where you should actually <em>create</em> the metricCollectors. That's the point of Dependency Injection, you inject your dependencies rather than constructing them.</p>\n<p>You should instead have a constructor where you receive those dependencies and your DI framework should create them.</p>\n"}],"owner":{"account_id":2627115,"reputation":1007,"user_id":2273909,"accept_rate":84,"display_name":"Arpan Das"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77392191,"answer_count":1,"score":0,"last_activity_date":1698704658,"creation_date":1693757096,"question_id":77033134,"body_markdown":"I am very new in `Guice DI`. I am trying to implement a `Strategy` pattern with `Guice`. But I am confused on, How to inject different types of **Strategy Implementations** in the `Context` class through `Guice DI`. Can any expert help me on this. Following are my codes till now.\r\n\r\n**The Strategy Pattern**\r\n\r\n```\r\npublic interface MetricCollectorStrategy {\r\n    List&lt;String&gt; collect(final Context context);\r\n}\r\n\r\npublic class AMetricCollector implements MetricCollectorStrategy {\r\n @Override\r\n public List&lt;String&gt; collect(final Context context) {\r\n    List&lt;String&gt; aMetricList = construct A metric list by some business logic....\r\n    return aMetricList;\r\n }\r\n}\r\n\r\n\r\npublic class BMetricCollector implements MetricCollectorStrategy {\r\n @Override\r\n public List&lt;String&gt; collect(final Context context) {\r\n    List&lt;String&gt; bMetricList = construct B metric list by some business logic....\r\n    return bMetricList;\r\n }\r\n}\r\n\r\n\r\n@AllArgsConstructor(onConstructor_ = @Inject)\r\npublic class MetricPublisher {\r\n\r\n    // This has a method to publish metric\r\n    private final MetricsHelper metricsHelper;\r\n    private final MetricCollectorStrategy metricCollectorStrategy;\r\n\r\n \r\n    public void collectAndPublishMetric(Context context) {\r\n        metricsHelper.emitCollectedCountMetricList(metricCollectorStrategy.collect(context));\r\n    }\r\n}\r\n\r\n```\r\n\r\nTill then it&#39;s fine. But how to create and inject these 2 types of `MetricCollector` in the client:\r\n\r\n```\r\n@AllArgsConstructor(onConstructor_ = @Inject)\r\npublic class Client{\r\n\t\r\n  // Some dummy code to simulate the current code\r\n  private final ExistingDependency_1 existingDependency_1;\r\n\r\n  private final ExistingDependency_2 existingDependency_2;\r\n\r\n  private final ExistingDependency_3 existingDependency_2;\r\n\r\n\r\n  // Now how to create the metricCollectors here\r\n\r\n  AMetricCollector aMetricCollector;\r\n  BMetricCollector bMetricCollector;\r\n\r\n  public void someMethod(Context context){\r\n\r\n\r\n  \t  if(condition){\r\n\t\taMetricCollector.collectAndPublishMetric(context);\r\n  \t  }else{\r\n  \t  \tbMetricCollector.collectAndPublishMetric(context);\r\n  \t  }\r\n  }\r\n\r\n}\r\n\r\n\r\n```","title":"Implement Strategy pattern with Guice DI","body":"<p>I am very new in <code>Guice DI</code>. I am trying to implement a <code>Strategy</code> pattern with <code>Guice</code>. But I am confused on, How to inject different types of <strong>Strategy Implementations</strong> in the <code>Context</code> class through <code>Guice DI</code>. Can any expert help me on this. Following are my codes till now.</p>\n<p><strong>The Strategy Pattern</strong></p>\n<pre><code>public interface MetricCollectorStrategy {\n    List&lt;String&gt; collect(final Context context);\n}\n\npublic class AMetricCollector implements MetricCollectorStrategy {\n @Override\n public List&lt;String&gt; collect(final Context context) {\n    List&lt;String&gt; aMetricList = construct A metric list by some business logic....\n    return aMetricList;\n }\n}\n\n\npublic class BMetricCollector implements MetricCollectorStrategy {\n @Override\n public List&lt;String&gt; collect(final Context context) {\n    List&lt;String&gt; bMetricList = construct B metric list by some business logic....\n    return bMetricList;\n }\n}\n\n\n@AllArgsConstructor(onConstructor_ = @Inject)\npublic class MetricPublisher {\n\n    // This has a method to publish metric\n    private final MetricsHelper metricsHelper;\n    private final MetricCollectorStrategy metricCollectorStrategy;\n\n \n    public void collectAndPublishMetric(Context context) {\n        metricsHelper.emitCollectedCountMetricList(metricCollectorStrategy.collect(context));\n    }\n}\n\n</code></pre>\n<p>Till then it's fine. But how to create and inject these 2 types of <code>MetricCollector</code> in the client:</p>\n<pre><code>@AllArgsConstructor(onConstructor_ = @Inject)\npublic class Client{\n    \n  // Some dummy code to simulate the current code\n  private final ExistingDependency_1 existingDependency_1;\n\n  private final ExistingDependency_2 existingDependency_2;\n\n  private final ExistingDependency_3 existingDependency_2;\n\n\n  // Now how to create the metricCollectors here\n\n  AMetricCollector aMetricCollector;\n  BMetricCollector bMetricCollector;\n\n  public void someMethod(Context context){\n\n\n      if(condition){\n        aMetricCollector.collectAndPublishMetric(context);\n      }else{\n        bMetricCollector.collectAndPublishMetric(context);\n      }\n  }\n\n}\n\n\n</code></pre>\n"},{"tags":["javascript","java","google-visualization","google-trends"],"comments":[{"owner":{"account_id":29573014,"reputation":982,"user_id":22664690,"display_name":"Afzal K."},"score":0,"creation_date":1698683336,"post_id":77389102,"comment_id":136433446,"body_markdown":"i think its not full snippet","body":"i think its not full snippet"}],"owner":{"account_id":11908327,"reputation":1,"user_id":8714296,"display_name":"Andre Luiz Bernardes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698704395,"creation_date":1698672926,"question_id":77389102,"body_markdown":"I try insert this script in my post:\r\n\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;https://ssl.gstatic.com/trends_nrtr/3523_RC02/embed_loader.js&quot;&gt;&lt;/script&gt; \r\n    \r\n    &lt;script type=&quot;text/javascript&quot;&gt;trends.embed.renderWidget(&quot;BR_cu_WHKtsooBAAB_QM_en&quot;, &quot;fe_line_chart_be74b3cc-8b89-4365-b142-13e39&lt;/script&gt;\r\n\r\nBut I don&#180;t see anything.\r\n\r\nI need see the chart in my post.\r\n\r\nI need the post content to be updated dynamically as proposed by the Google Trends script.","title":"How insert Google Trends embed graphs in Google blogger POST?","body":"<p>I try insert this script in my post:</p>\n<pre><code>&lt;script type=&quot;text/javascript&quot; src=&quot;https://ssl.gstatic.com/trends_nrtr/3523_RC02/embed_loader.js&quot;&gt;&lt;/script&gt; \n\n&lt;script type=&quot;text/javascript&quot;&gt;trends.embed.renderWidget(&quot;BR_cu_WHKtsooBAAB_QM_en&quot;, &quot;fe_line_chart_be74b3cc-8b89-4365-b142-13e39&lt;/script&gt;\n</code></pre>\n<p>But I don´t see anything.</p>\n<p>I need see the chart in my post.</p>\n<p>I need the post content to be updated dynamically as proposed by the Google Trends script.</p>\n"},{"tags":["java","dependency-injection","singleton","guice"],"comments":[{"owner":{"account_id":72753,"reputation":13028,"user_id":209899,"accept_rate":92,"display_name":"Gamlor"},"score":0,"creation_date":1694785501,"post_id":77100011,"comment_id":135940823,"body_markdown":"What do you expect the end result to be? A Client for each different property. Or just an new Client instance for each call? \n\nFor me: As is, I would involve Guice here? Call the .getClient() method with the parameter you need, and you get a new instance with that parameter set.","body":"What do you expect the end result to be? A Client for each different property. Or just an new Client instance for each call?   For me: As is, I would involve Guice here? Call the .getClient() method with the parameter you need, and you get a new instance with that parameter set."},{"owner":{"account_id":7133286,"reputation":33,"user_id":5453826,"display_name":"Raj"},"score":0,"creation_date":1694873302,"post_id":77100011,"comment_id":135950125,"body_markdown":"I need to create a single instance of getClient for propY and need to get this instance using guice @inject annotation.","body":"I need to create a single instance of getClient for propY and need to get this instance using guice @inject annotation."}],"answers":[{"tags":[],"owner":{"account_id":4954,"reputation":4796,"user_id":7708,"accept_rate":81,"display_name":"Alan Krueger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698704161,"creation_date":1698704161,"answer_id":77392163,"question_id":77100011,"body_markdown":"The arguments to a `@Provides` methods are obtained through bindings in Guice. Typically you shouldn&#39;t bind something as common as a `String` without a [binding annotation](https://github.com/google/guice/wiki/BindingAnnotations). So something like this should let the `Client` be created:\r\n\r\n    @BindingAnnotation\r\n    @Retention(RUNTIME)\r\n    @interface PropX {}\r\n\r\n    // ...\r\n    \r\n    bind(String.class).annotatedWith(PropX.class).toInstance(&quot;propX value&quot;);","title":"Google Guice - Singleton with param","body":"<p>The arguments to a <code>@Provides</code> methods are obtained through bindings in Guice. Typically you shouldn't bind something as common as a <code>String</code> without a <a href=\"https://github.com/google/guice/wiki/BindingAnnotations\" rel=\"nofollow noreferrer\">binding annotation</a>. So something like this should let the <code>Client</code> be created:</p>\n<pre><code>@BindingAnnotation\n@Retention(RUNTIME)\n@interface PropX {}\n\n// ...\n\nbind(String.class).annotatedWith(PropX.class).toInstance(&quot;propX value&quot;);\n</code></pre>\n"}],"owner":{"account_id":7133286,"reputation":33,"user_id":5453826,"display_name":"Raj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77392163,"answer_count":1,"score":0,"last_activity_date":1698704161,"creation_date":1694633413,"question_id":77100011,"body_markdown":"I started using google guice and trying to create an singleton object.  Not sure how to pass the parameter required by getClient(...) and create an object using @Inject annotation.  Any help is appreciated.\r\n\r\n    public class Client\r\n    {\r\n        private readonly Child _child;\r\n        public Client(Child child)\r\n        {\r\n\t        this._child = child;\r\n        }\r\n\r\n        static class NestedClass {\r\n\t        public String propX;\r\n\t        public String propY;    \r\n        }\r\n    }\r\n\r\n    class MyHelperModule extends AbstractModule {\r\n    \tprivate static final String propXValue = &quot;hello&quot;;\r\n    \r\n    \t@Provides\r\n    \t@Singleton\r\n    \tprivate Client getClient(\r\n    \t   \tString propY) {\r\n    \r\n    \t   Client.NestedClass nestedClass = new Client.NestedClass();\r\n    \t   nestedClass.propX(&quot;hello&quot;);\r\n    \t   nestedClass.propY(propY);\r\n    \r\n    \t   return new Client(nestedClass);\r\n    \t}\r\n    }\r\n\r\n\r\n    // helper class to create singleton object Client.  \r\n    // Need to pass param propY while creating the instance\r\n    public Client _client;\r\n\r\n    @Inject\r\n    void newClient(Client client) {\r\n    \tthis._client = client;\r\n    }\r\n\r\n\r\nThanks\r\nSrini\r\n","title":"Google Guice - Singleton with param","body":"<p>I started using google guice and trying to create an singleton object.  Not sure how to pass the parameter required by getClient(...) and create an object using @Inject annotation.  Any help is appreciated.</p>\n<pre><code>public class Client\n{\n    private readonly Child _child;\n    public Client(Child child)\n    {\n        this._child = child;\n    }\n\n    static class NestedClass {\n        public String propX;\n        public String propY;    \n    }\n}\n\nclass MyHelperModule extends AbstractModule {\n    private static final String propXValue = &quot;hello&quot;;\n\n    @Provides\n    @Singleton\n    private Client getClient(\n        String propY) {\n\n       Client.NestedClass nestedClass = new Client.NestedClass();\n       nestedClass.propX(&quot;hello&quot;);\n       nestedClass.propY(propY);\n\n       return new Client(nestedClass);\n    }\n}\n\n\n// helper class to create singleton object Client.  \n// Need to pass param propY while creating the instance\npublic Client _client;\n\n@Inject\nvoid newClient(Client client) {\n    this._client = client;\n}\n</code></pre>\n<p>Thanks\nSrini</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1698699797,"post_id":77391810,"comment_id":136436207,"body_markdown":"&quot;how the orElse() changes the return type here&quot; consider this: `new Integer(53).toString()` with `toString`, the return type is `String`. without it, it is `Integer`. How does `toString` change the return type? (the signature of `orElse` is available in the documentation)","body":"&quot;how the orElse() changes the return type here&quot; consider this: <code>new Integer(53).toString()</code> with <code>toString</code>, the return type is <code>String</code>. without it, it is <code>Integer</code>. How does <code>toString</code> change the return type? (the signature of <code>orElse</code> is available in the documentation)"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":3,"creation_date":1698699822,"post_id":77391810,"comment_id":136436209,"body_markdown":"You have looked at the javadoc of Optional.orElse(), haven&#39;t you?","body":"You have looked at the javadoc of Optional.orElse(), haven&#39;t you?"},{"owner":{"account_id":5449054,"reputation":1020,"user_id":4334502,"accept_rate":30,"display_name":"ever alian"},"score":0,"creation_date":1698700029,"post_id":77391810,"comment_id":136436234,"body_markdown":"@S&#246;ren         yes, but how does adding it change the return type in the method? This is what I do not understand.","body":"@S&#246;ren         yes, but how does adding it change the return type in the method? This is what I do not understand."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":3,"creation_date":1698700129,"post_id":77391810,"comment_id":136436249,"body_markdown":"It doesn&#39;t change anything. Optional&lt;String&gt;.orElse() *has* a return type of String.","body":"It doesn&#39;t change anything. Optional&lt;String&gt;.orElse() <i>has</i> a return type of String."},{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":2,"creation_date":1698700232,"post_id":77391810,"comment_id":136436263,"body_markdown":"Have you read https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElse-T- ?","body":"Have you read <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElse-T-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/&hellip;</a> ?"},{"owner":{"account_id":5449054,"reputation":1020,"user_id":4334502,"accept_rate":30,"display_name":"ever alian"},"score":0,"creation_date":1698700276,"post_id":77391810,"comment_id":136436268,"body_markdown":"@S&#246;ren         But, when there is a value in the &#180;arg&#180; it should return Optional instead of a String.  Isn&#39;t it? In that case, it violates the return type of the method which is String.","body":"@S&#246;ren         But, when there is a value in the &#180;arg&#180; it should return Optional instead of a String.  Isn&#39;t it? In that case, it violates the return type of the method which is String."},{"owner":{"account_id":5449054,"reputation":1020,"user_id":4334502,"accept_rate":30,"display_name":"ever alian"},"score":0,"creation_date":1698700599,"post_id":77391810,"comment_id":136436326,"body_markdown":"@azro           doc says &#180;Return the value if present, otherwise return other.&#180; When there is a value in the &#180;Optional&#180; object, how does it change from &#180;Optional&#180; to &#180;String&#180; here? This is what I do not understand.","body":"@azro           doc says &#180;Return the value if present, otherwise return other.&#180; When there is a value in the &#180;Optional&#180; object, how does it change from &#180;Optional&#180; to &#180;String&#180; here? This is what I do not understand."},{"owner":{"account_id":1449510,"reputation":48182,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"score":0,"creation_date":1698700757,"post_id":77391810,"comment_id":136436351,"body_markdown":"No the value is actually the &quot;value&quot; wrapped by the Optional class, if you open the Optional class implementation you can see it","body":"No the value is actually the &quot;value&quot; wrapped by the Optional class, if you open the Optional class implementation you can see it"},{"owner":{"account_id":1449510,"reputation":48182,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"score":0,"creation_date":1698700940,"post_id":77391810,"comment_id":136436371,"body_markdown":"Optional.ofNullable(arg) -&gt; return &quot;new Optional &lt;&gt; (value)&quot;, then map apply the toUpperCase method into the &#39;value&#39; wrapped by the class Optional and return the new value again wrapped by an Optional, then you call orElse which basically returns either the value if it is not null, otherwise the argument that you passed","body":"Optional.ofNullable(arg) -&gt; return &quot;new Optional &lt;&gt; (value)&quot;, then map apply the toUpperCase method into the &#39;value&#39; wrapped by the class Optional and return the new value again wrapped by an Optional, then you call orElse which basically returns either the value if it is not null, otherwise the argument that you passed"},{"owner":{"account_id":5449054,"reputation":1020,"user_id":4334502,"accept_rate":30,"display_name":"ever alian"},"score":0,"creation_date":1698701149,"post_id":77391810,"comment_id":136436407,"body_markdown":"@dreamcrash    So you say &quot;orElse which basically returns either the value if it is not null,&quot; Do You mean the value is returned without wrapping the Optional ? Which is String. ??","body":"@dreamcrash    So you say &quot;orElse which basically returns either the value if it is not null,&quot; Do You mean the value is returned without wrapping the Optional ? Which is String. ??"},{"owner":{"account_id":1449510,"reputation":48182,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"score":1,"creation_date":1698701206,"post_id":77391810,"comment_id":136436415,"body_markdown":"yes, it will be the value resulted from apply the function toUpperCase to the args","body":"yes, it will be the value resulted from apply the function toUpperCase to the args"}],"answers":[{"comments":[{"owner":{"account_id":5449054,"reputation":1020,"user_id":4334502,"accept_rate":30,"display_name":"ever alian"},"score":0,"creation_date":1698701259,"post_id":77391924,"comment_id":136436421,"body_markdown":"Thank you for clarifying. I understood now how it happens.","body":"Thank you for clarifying. I understood now how it happens."}],"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698700968,"creation_date":1698700968,"answer_id":77391924,"question_id":77391810,"body_markdown":"1. The expression\r\n\r\n       Optional.ofNullable(arg)\r\n\r\n   is returning an object of type `Optional&lt;String&gt;`, as defined in the javadoc of [`Optional.ofNullable(T)`](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#ofNullable-T-), where in this case the generic variable `T` is of type `String`.\r\n\r\n2. The method call\r\n \r\n       .map(String::toUpperCase)\r\n\r\n   on the `Optional&lt;String&gt;` object will return a `Optional&lt;String&gt;` object. This is defined in the javadoc of [`Optional.map()`](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#map-java.util.function.Function-). In this particular case, the generic variable `T` is still of type `String` and the new generic variable `U` for this specific method is `String` as well, since the method being called ([`String.toUpperCase()`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#toUpperCase--)) is returning a `String`.\r\n\r\n3. The final method call\r\n\r\n       .orElse(&quot;value from orElse&quot;)\r\n\r\n   will &quot;terminate&quot; or &quot;consume&quot; the `Optional&lt;String&gt;` instance. It will either return the value inside the `Optional&lt;String&gt;` instance (which is the original value but in uppercase), or it will return the given fallback value `&quot;value from orElse&quot;`, as specified in the javadoc of [`Optional.orElse()`](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElse-T-).\r\n\r\nSo in order you have the following types:\r\n\r\n    Optional&lt;String&gt; - from ofNullable()\r\n    Optional&lt;String&gt; - from map()\r\n    String           - from orElse()\r\n     ","title":"Optional.orElse() change the return type?","body":"<ol>\n<li><p>The expression</p>\n<pre><code>Optional.ofNullable(arg)\n</code></pre>\n<p>is returning an object of type <code>Optional&lt;String&gt;</code>, as defined in the javadoc of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#ofNullable-T-\" rel=\"nofollow noreferrer\"><code>Optional.ofNullable(T)</code></a>, where in this case the generic variable <code>T</code> is of type <code>String</code>.</p>\n</li>\n<li><p>The method call</p>\n<pre><code>.map(String::toUpperCase)\n</code></pre>\n<p>on the <code>Optional&lt;String&gt;</code> object will return a <code>Optional&lt;String&gt;</code> object. This is defined in the javadoc of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Optional.map()</code></a>. In this particular case, the generic variable <code>T</code> is still of type <code>String</code> and the new generic variable <code>U</code> for this specific method is <code>String</code> as well, since the method being called (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#toUpperCase--\" rel=\"nofollow noreferrer\"><code>String.toUpperCase()</code></a>) is returning a <code>String</code>.</p>\n</li>\n<li><p>The final method call</p>\n<pre><code>.orElse(&quot;value from orElse&quot;)\n</code></pre>\n<p>will &quot;terminate&quot; or &quot;consume&quot; the <code>Optional&lt;String&gt;</code> instance. It will either return the value inside the <code>Optional&lt;String&gt;</code> instance (which is the original value but in uppercase), or it will return the given fallback value <code>&quot;value from orElse&quot;</code>, as specified in the javadoc of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElse-T-\" rel=\"nofollow noreferrer\"><code>Optional.orElse()</code></a>.</p>\n</li>\n</ol>\n<p>So in order you have the following types:</p>\n<pre><code>Optional&lt;String&gt; - from ofNullable()\nOptional&lt;String&gt; - from map()\nString           - from orElse()\n \n</code></pre>\n"}],"owner":{"account_id":5449054,"reputation":1020,"user_id":4334502,"accept_rate":30,"display_name":"ever alian"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1698709322,"accepted_answer_id":77391924,"answer_count":1,"score":-3,"last_activity_date":1698700968,"creation_date":1698699566,"question_id":77391810,"body_markdown":"I need help on understanding the Optional.orElse() method&#39;s return type. \r\nPlease take a look at the simple method below.  It is supposed to return a `String`. If the `arg` is not null, then the `map` function changes the `arg` to `toUpperCase` and returns an `Optional` object. Then how this `Optional` object is changed to a `String` in this case? Because there are no compiler errors in this method. Is this is done by `orElse()`? Because if I remove orElse(), it shows a return type miss match error. What is the magic behind that changing the data type?\r\n\r\n    private String process(String arg) {\r\n\r\n        return Optional.ofNullable(arg).map(String::toUpperCase).orElse(&quot;value from orElse&quot;);\r\n\r\n    }\r\n\r\nI am really confused about how the orElse() changes the return type here. And what is the exact return type of orElse()","title":"Optional.orElse() change the return type?","body":"<p>I need help on understanding the Optional.orElse() method's return type.\nPlease take a look at the simple method below.  It is supposed to return a <code>String</code>. If the <code>arg</code> is not null, then the <code>map</code> function changes the <code>arg</code> to <code>toUpperCase</code> and returns an <code>Optional</code> object. Then how this <code>Optional</code> object is changed to a <code>String</code> in this case? Because there are no compiler errors in this method. Is this is done by <code>orElse()</code>? Because if I remove orElse(), it shows a return type miss match error. What is the magic behind that changing the data type?</p>\n<pre><code>private String process(String arg) {\n\n    return Optional.ofNullable(arg).map(String::toUpperCase).orElse(&quot;value from orElse&quot;);\n\n}\n</code></pre>\n<p>I am really confused about how the orElse() changes the return type here. And what is the exact return type of orElse()</p>\n"},{"tags":["java","mockito","sftp","jsch"],"comments":[{"owner":{"account_id":14861822,"reputation":160,"user_id":10732359,"display_name":"Tempo810"},"score":0,"creation_date":1557739677,"post_id":56109076,"comment_id":98852431,"body_markdown":"You said you are mocking the connection in the test but your code seems not?\n\n`Session session = jsch.getSession( &quot;remote-username&quot;, &quot;localhost&quot;, 22999);\n        session.setPassword(&quot;remote-password&quot;);\n\n        session.connect();\n\n        Channel channel = session.openChannel( &quot;sftp&quot; );\n        channel.connect();`","body":"You said you are mocking the connection in the test but your code seems not?  <code>Session session = jsch.getSession( &quot;remote-username&quot;, &quot;localhost&quot;, 22999);         session.setPassword(&quot;remote-password&quot;);          session.connect();          Channel channel = session.openChannel( &quot;sftp&quot; );         channel.connect();</code>"},{"owner":{"account_id":14861822,"reputation":160,"user_id":10732359,"display_name":"Tempo810"},"score":0,"creation_date":1557740126,"post_id":56109076,"comment_id":98852707,"body_markdown":"To your second question, you don&#39;t read the fileDetails from the test by calling :\n`Mockito.when(fileRepository.findByFileName(fileName)).thenReturn(fileDetail);`\n\nThis mock the class to be tested, when the class call fileRepository.findByFileName, and mock the response for the caller method, which i assume is `findByFileName(entry.getFilename());` in getFile(). However, your actual class does nothing to the response to findByFileName().","body":"To your second question, you don&#39;t read the fileDetails from the test by calling : <code>Mockito.when(fileRepository.findByFileName(fileName)).thenRe&zwnj;&#8203;turn(fileDetail);</code>  This mock the class to be tested, when the class call fileRepository.findByFileName, and mock the response for the caller method, which i assume is <code>findByFileName(entry.getFilename());</code> in getFile(). However, your actual class does nothing to the response to findByFileName()."},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1557740242,"post_id":56109076,"comment_id":98852771,"body_markdown":"Instead of mocking the connection, which might not test the actual SSH/SFTP interaction, you can also use a [fake SSH/SFTP implementation](https://github.com/shamsoftware/sham-ssh/blob/master/src/test/java/software/sham/sftp/FunctionalTest.java) that you can feed with a local temporary directory to read files from or write files to","body":"Instead of mocking the connection, which might not test the actual SSH/SFTP interaction, you can also use a <a href=\"https://github.com/shamsoftware/sham-ssh/blob/master/src/test/java/software/sham/sftp/FunctionalTest.java\" rel=\"nofollow noreferrer\">fake SSH/SFTP implementation</a> that you can feed with a local temporary directory to read files from or write files to"},{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":0,"creation_date":1557741462,"post_id":56109076,"comment_id":98853485,"body_markdown":"You could also use some test docker framework (e.g. Testcontainers) and run a full-blown dockerized SFTP server.","body":"You could also use some test docker framework (e.g. Testcontainers) and run a full-blown dockerized SFTP server."}],"answers":[{"tags":[],"owner":{"account_id":7777159,"reputation":1084,"user_id":6886283,"display_name":"priyanksriv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557740020,"creation_date":1557740020,"answer_id":56109541,"question_id":56109076,"body_markdown":"That&#39;s because you&#39;re creating an actual connection with `new Jsch()`. You need to mock the connection with a library such as `Mockito`. For example:\r\n\r\n```java\r\n\r\n@RunWith(MockitoJUnitRunner.class)\r\nclass Test {\r\n\r\n    @Mock(answer = Answers.RETURNS_DEEP_STUBS)\r\n    private JSch mockJsch;\r\n\r\n    ..\r\n\r\n    void test() {\r\n        Session mockSession = mockJsch.getSession(&quot;username&quot;, &quot;localhost&quot;, 22999);\r\n        ..\r\n    }\r\n}\r\n```","title":"How to mock connection for SFTP Connection","body":"<p>That's because you're creating an actual connection with <code>new Jsch()</code>. You need to mock the connection with a library such as <code>Mockito</code>. For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\n@RunWith(MockitoJUnitRunner.class)\nclass Test {\n\n    @Mock(answer = Answers.RETURNS_DEEP_STUBS)\n    private JSch mockJsch;\n\n    ..\n\n    void test() {\n        Session mockSession = mockJsch.getSession(\"username\", \"localhost\", 22999);\n        ..\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14284915,"reputation":131,"user_id":10318485,"display_name":"Aarika"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12595,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698699960,"creation_date":1557738498,"question_id":56109076,"body_markdown":"My program opens sftp connection and connects to the server to get a file which is then processed.\r\nI am writing a test case for this method, trying to mock the connection.\r\n\r\nMy actual class is:\r\n\r\n    public void getFile() {\r\n        Session session = null;\r\n    \tChannel channel = null;\r\n    \tChannelSftp channelSftp = null;\r\n    \tString path = ftpurl;\r\n    \ttry {\r\n        \tJSch jsch = new JSch();\r\n    \t\tsession = jsch.getSession(username, host, port);\r\n    \t\tsession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);session.setPassword(JaspytPasswordEncryptor.getDecryptedString(jaspytEncryptionKey, jaspytEncryptionAlgorithm, password));\r\n     \r\n    \t\tsession.connect();\r\n            channel = session.openChannel(&quot;sftp&quot;);\r\n    \t\tchannel.connect();\r\n    \t\tchannelSftp = (ChannelSftp) channel;\r\n    \r\n    \t\tchannelSftp.cd(path);\r\n    \r\n    \t\tVector&lt;ChannelSftp.LsEntry&gt; list = channelSftp.ls(&quot;*.csv&quot;);\r\n    \t\tfor (ChannelSftp.LsEntry entry : list) {\r\n    \t\t\tif (entry.getFilename().startsWith(&quot;A...&quot;)) {\r\n    \t\t\t\tfindByFileName(entry.getFilename());\r\n    \t\t\t}\r\n    \t\t}\r\n            channelSftp.exit();\r\n    \t\tsession.disconnect();\r\n    \t} catch (JSchException e) {\r\n    \t\tLOGGER.error(&quot;JSch exception&quot;+e);\r\n    \t} catch (SftpException e) {\r\n    \t\tLOGGER.error(&quot;Sftp Exception&quot;+e);\r\n    \t}\r\n    }\r\n\r\nTest class so far:\r\n\r\n    @Test\r\n    public void getNamesTestValid() throws IOException, JSchException {\t\r\n    \tJSch jsch = new JSch();\r\n    \t\t\r\n    \tHashtable config = new Hashtable();\r\n    \tconfig.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n    \tJSch.setConfig(config);\r\n    \t\t\r\n    \tSession session = jsch.getSession( &quot;remote-username&quot;, &quot;localhost&quot;, 22999);\r\n    \tsession.setPassword(&quot;remote-password&quot;);\r\n    \r\n    \tsession.connect();\r\n    \r\n    \tChannel channel = session.openChannel( &quot;sftp&quot; );\r\n    \tchannel.connect();\r\n    \r\n    \tChannelSftp sftpChannel = (ChannelSftp) channel;\r\n    \t\tMockito.when(fileRepository.findByFileName(fileName)).thenReturn(fileDetail);\r\n    \tscheduler.getCSVFileNames();\t\r\n    }\r\n\r\nWhen trying to mock the connection, it searches for the actual port and the error is port invalid, connection refused.\r\nI only want to mock the connection.\r\nMy other doubt is after mocking the connection from where should i read the file details.","title":"How to mock connection for SFTP Connection","body":"<p>My program opens sftp connection and connects to the server to get a file which is then processed.\nI am writing a test case for this method, trying to mock the connection.</p>\n\n<p>My actual class is:</p>\n\n<pre><code>public void getFile() {\n    Session session = null;\n    Channel channel = null;\n    ChannelSftp channelSftp = null;\n    String path = ftpurl;\n    try {\n        JSch jsch = new JSch();\n        session = jsch.getSession(username, host, port);\n        session.setConfig(\"StrictHostKeyChecking\", \"no\");session.setPassword(JaspytPasswordEncryptor.getDecryptedString(jaspytEncryptionKey, jaspytEncryptionAlgorithm, password));\n\n        session.connect();\n        channel = session.openChannel(\"sftp\");\n        channel.connect();\n        channelSftp = (ChannelSftp) channel;\n\n        channelSftp.cd(path);\n\n        Vector&lt;ChannelSftp.LsEntry&gt; list = channelSftp.ls(\"*.csv\");\n        for (ChannelSftp.LsEntry entry : list) {\n            if (entry.getFilename().startsWith(\"A...\")) {\n                findByFileName(entry.getFilename());\n            }\n        }\n        channelSftp.exit();\n        session.disconnect();\n    } catch (JSchException e) {\n        LOGGER.error(\"JSch exception\"+e);\n    } catch (SftpException e) {\n        LOGGER.error(\"Sftp Exception\"+e);\n    }\n}\n</code></pre>\n\n<p>Test class so far:</p>\n\n<pre><code>@Test\npublic void getNamesTestValid() throws IOException, JSchException { \n    JSch jsch = new JSch();\n\n    Hashtable config = new Hashtable();\n    config.put(\"StrictHostKeyChecking\", \"no\");\n    JSch.setConfig(config);\n\n    Session session = jsch.getSession( \"remote-username\", \"localhost\", 22999);\n    session.setPassword(\"remote-password\");\n\n    session.connect();\n\n    Channel channel = session.openChannel( \"sftp\" );\n    channel.connect();\n\n    ChannelSftp sftpChannel = (ChannelSftp) channel;\n        Mockito.when(fileRepository.findByFileName(fileName)).thenReturn(fileDetail);\n    scheduler.getCSVFileNames();    \n}\n</code></pre>\n\n<p>When trying to mock the connection, it searches for the actual port and the error is port invalid, connection refused.\nI only want to mock the connection.\nMy other doubt is after mocking the connection from where should i read the file details.</p>\n"},{"tags":["java","kotlin","gradle","jupyter-notebook","jupyter"],"answers":[{"tags":[],"owner":{"account_id":20537440,"reputation":253,"user_id":15073157,"display_name":"thebluepandabear"},"comment_count":0,"down_vote_count":2,"up_vote_count":14,"is_accepted":true,"score":12,"last_activity_date":1618093974,"creation_date":1618093974,"answer_id":67039846,"question_id":66945802,"body_markdown":"Using a JDK version that isn&#39;t 16 (I used JDK 15) should solve the problem. Also, make sure you change all of your environment variables and relaunch whatever command-line you are using.","title":"Installing Kotlin-Jupyter: e: java.lang.NoClassDefFoundError: Could not initialize class org.jetbrains.kotlin.com.intellij.pom.java.LanguageLevel","body":"<p>Using a JDK version that isn't 16 (I used JDK 15) should solve the problem. Also, make sure you change all of your environment variables and relaunch whatever command-line you are using.</p>\n"},{"comments":[{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":1,"creation_date":1620148666,"post_id":67180866,"comment_id":119113382,"body_markdown":"What does the `illegal-access` mean?","body":"What does the <code>illegal-access</code> mean?"},{"owner":{"account_id":3083879,"reputation":888,"user_id":3910324,"display_name":"Nico"},"score":0,"creation_date":1620841325,"post_id":67180866,"comment_id":119323037,"body_markdown":"Do you know how should be done in apache maven?","body":"Do you know how should be done in apache maven?"},{"owner":{"account_id":211884,"reputation":3040,"user_id":464328,"accept_rate":67,"display_name":"Roger Alien"},"score":1,"creation_date":1626311195,"post_id":67180866,"comment_id":120861305,"body_markdown":"how do you combine this with already existing `org.gradle.jvmargs=-Xmx2048m` ? It gives me an error when I tried to use both of them. Thanks!","body":"how do you combine this with already existing <code>org.gradle.jvmargs=-Xmx2048m</code> ? It gives me an error when I tried to use both of them. Thanks!"},{"owner":{"account_id":14134902,"reputation":175,"user_id":10211700,"display_name":"Nimantha"},"score":1,"creation_date":1631943742,"post_id":67180866,"comment_id":122364996,"body_markdown":"@RogerAlien use like this\n`org.gradle.jvmargs=-Xmx2048M -Dkotlin.daemon.jvm.options=--illegal-access=permit`","body":"@RogerAlien use like this <code>org.gradle.jvmargs=-Xmx2048M -Dkotlin.daemon.jvm.options=--illegal-access=permit</code>"},{"owner":{"account_id":2150108,"reputation":1059,"user_id":1906738,"accept_rate":0,"display_name":"Syed Arsalan Kazmi"},"score":1,"creation_date":1640723617,"post_id":67180866,"comment_id":124644026,"body_markdown":"isn&#39;t working for me. :(","body":"isn&#39;t working for me. :("}],"tags":[],"owner":{"account_id":5635704,"reputation":3288,"user_id":4461271,"accept_rate":0,"display_name":"midi"},"comment_count":5,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1618928680,"creation_date":1618928680,"answer_id":67180866,"question_id":66945802,"body_markdown":"Not sure if it is the same issue, but for me adding the following line to `gradle.properties` solved it\r\n\r\n    org.gradle.jvmargs=-Dkotlin.daemon.jvm.options=--illegal-access=permit","title":"Installing Kotlin-Jupyter: e: java.lang.NoClassDefFoundError: Could not initialize class org.jetbrains.kotlin.com.intellij.pom.java.LanguageLevel","body":"<p>Not sure if it is the same issue, but for me adding the following line to <code>gradle.properties</code> solved it</p>\n<pre><code>org.gradle.jvmargs=-Dkotlin.daemon.jvm.options=--illegal-access=permit\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8672866,"reputation":1726,"user_id":6491200,"display_name":"Caio Santos"},"score":0,"creation_date":1636488828,"post_id":69187602,"comment_id":123569699,"body_markdown":"I used your solution and it worked!\nI changed build.gradle from:\n\nplugins {\n    id &#39;org.jetbrains.kotlin.jvm&#39; version &#39;1.4.21&#39;\n}\n\nto:\n\nplugins {\n    id &#39;org.jetbrains.kotlin.jvm&#39; version &#39;1.5.30&#39;\n}","body":"I used your solution and it worked! I changed build.gradle from:  plugins {     id &#39;org.jetbrains.kotlin.jvm&#39; version &#39;1.4.21&#39; }  to:  plugins {     id &#39;org.jetbrains.kotlin.jvm&#39; version &#39;1.5.30&#39; }"},{"owner":{"account_id":2415504,"reputation":1856,"user_id":2109620,"accept_rate":0,"display_name":"Donghua Liu"},"score":0,"creation_date":1642557620,"post_id":69187602,"comment_id":125100788,"body_markdown":"I have the same problems when I tried `https://github.com/Gurupreet/ComposeSpotifyDesktop`, this solution saved me! Thanks!","body":"I have the same problems when I tried <code>https:&#47;&#47;github.com&#47;Gurupreet&#47;ComposeSpotifyDesktop</code>, this solution saved me! Thanks!"},{"owner":{"account_id":936511,"reputation":186,"user_id":965347,"accept_rate":92,"display_name":"user965347"},"score":0,"creation_date":1644932746,"post_id":69187602,"comment_id":125731934,"body_markdown":"doesnt work for me","body":"doesnt work for me"},{"owner":{"account_id":3438751,"reputation":172981,"user_id":3297613,"accept_rate":74,"display_name":"Avinash Raj"},"score":0,"creation_date":1647830693,"post_id":69187602,"comment_id":126462006,"body_markdown":"worked after placing the above classpath under dependencies section of buildscript","body":"worked after placing the above classpath under dependencies section of buildscript"},{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1664100881,"post_id":69187602,"comment_id":130390022,"body_markdown":"I think this solution works because the new jetbrains&#39; kotlin gradle plugin has the class `LanguageLevel`. The question is how come there&#39;s such a runtime dependency and not built into the dependencies mechanism...","body":"I think this solution works because the new jetbrains&#39; kotlin gradle plugin has the class <code>LanguageLevel</code>. The question is how come there&#39;s such a runtime dependency and not built into the dependencies mechanism..."},{"owner":{"account_id":11524089,"reputation":161,"user_id":8445079,"display_name":"Paolino L Angeletti"},"score":0,"creation_date":1699440730,"post_id":69187602,"comment_id":136530858,"body_markdown":"you saved my day!! thanks!","body":"you saved my day!! thanks!"}],"tags":[],"owner":{"account_id":3568055,"reputation":1080,"user_id":2979095,"display_name":"Alessandro Mulloni"},"comment_count":6,"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1631684340,"creation_date":1631684340,"answer_id":69187602,"question_id":66945802,"body_markdown":"I had the exact same issue on _Android Studio_ and solved it by updating the Kotlin Gradle plugin from version **1.4.31** to version **1.5.30**.\r\n\r\n    classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.30&quot;\r\n\r\nIn my project-level *build.gradle* file.","title":"Installing Kotlin-Jupyter: e: java.lang.NoClassDefFoundError: Could not initialize class org.jetbrains.kotlin.com.intellij.pom.java.LanguageLevel","body":"<p>I had the exact same issue on <em>Android Studio</em> and solved it by updating the Kotlin Gradle plugin from version <strong>1.4.31</strong> to version <strong>1.5.30</strong>.</p>\n<pre><code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.30&quot;\n</code></pre>\n<p>In my project-level <em>build.gradle</em> file.</p>\n"},{"comments":[{"owner":{"account_id":4814419,"reputation":1681,"user_id":3886934,"accept_rate":57,"display_name":"rerashhh"},"score":0,"creation_date":1682933813,"post_id":72774137,"comment_id":134285929,"body_markdown":"This was the only way for me to fix it!","body":"This was the only way for me to fix it!"}],"tags":[],"owner":{"account_id":466656,"reputation":769,"user_id":871542,"accept_rate":46,"display_name":"Shendor"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1656341554,"creation_date":1656341554,"answer_id":72774137,"question_id":66945802,"body_markdown":"Had the similar issue when building an intellij plugin through gradle. The solution was to remove all content in `cache` folder from `.gradle` in your home dir. ","title":"Installing Kotlin-Jupyter: e: java.lang.NoClassDefFoundError: Could not initialize class org.jetbrains.kotlin.com.intellij.pom.java.LanguageLevel","body":"<p>Had the similar issue when building an intellij plugin through gradle. The solution was to remove all content in <code>cache</code> folder from <code>.gradle</code> in your home dir.</p>\n"},{"tags":[],"owner":{"account_id":83518,"reputation":6215,"user_id":234110,"accept_rate":67,"display_name":"Anand Rockzz"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1657455655,"creation_date":1657455655,"answer_id":72928428,"question_id":66945802,"body_markdown":"On react native, I had to Add the following to fix it:\r\n\r\n    classpath(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.7.10&quot;)\r\n\r\nin `android/build.gradle` under `buildscript.dependencies` after `classpath(&quot;com.android.tools.build:gradle:7.1.1&quot;)`\r\n\r\n","title":"Installing Kotlin-Jupyter: e: java.lang.NoClassDefFoundError: Could not initialize class org.jetbrains.kotlin.com.intellij.pom.java.LanguageLevel","body":"<p>On react native, I had to Add the following to fix it:</p>\n<pre><code>classpath(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.7.10&quot;)\n</code></pre>\n<p>in <code>android/build.gradle</code> under <code>buildscript.dependencies</code> after <code>classpath(&quot;com.android.tools.build:gradle:7.1.1&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":8007,"reputation":22733,"user_id":14131,"accept_rate":58,"display_name":"Pavel Chuchuva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698699817,"creation_date":1698699817,"answer_id":77391834,"question_id":66945802,"body_markdown":"If you have an Android project then upgrade Android Gradle Plugin to the latest version in Android Studio using &#39;AGP Upgrade Assistant&#39;:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSee [Use the Android Gradle plugin Upgrade Assistant][2] in Android Studio documentation.\r\n\r\nOn my computer it changed this line in android/build.gradle:\r\n\r\n    classpath(&#39;com.android.tools.build:gradle:7.4.2&#39;)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e6M7O.png\r\n  [2]: https://developer.android.com/build/agp-upgrade-assistant","title":"Installing Kotlin-Jupyter: e: java.lang.NoClassDefFoundError: Could not initialize class org.jetbrains.kotlin.com.intellij.pom.java.LanguageLevel","body":"<p>If you have an Android project then upgrade Android Gradle Plugin to the latest version in Android Studio using 'AGP Upgrade Assistant':</p>\n<p><a href=\"https://i.stack.imgur.com/e6M7O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e6M7O.png\" alt=\"enter image description here\" /></a></p>\n<p>See <a href=\"https://developer.android.com/build/agp-upgrade-assistant\" rel=\"nofollow noreferrer\">Use the Android Gradle plugin Upgrade Assistant</a> in Android Studio documentation.</p>\n<p>On my computer it changed this line in android/build.gradle:</p>\n<pre><code>classpath('com.android.tools.build:gradle:7.4.2')\n</code></pre>\n"}],"owner":{"account_id":20537440,"reputation":253,"user_id":15073157,"display_name":"thebluepandabear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53166,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":67039846,"answer_count":6,"score":35,"last_activity_date":1698699817,"creation_date":1617569886,"question_id":66945802,"body_markdown":"I&#39;m new to Gradle, but recently I wanted to use Kotlin-Jupyter notebook for a project.\r\n\r\nI followed the instructions, I cloned the repo at [https://github.com/Kotlin/kotlin-jupyter][1]...\r\n\r\nThroughout my struggles, I have gone through 5 or 6 errors, all of which have taken days to fix.\r\n\r\nI am getting this new error when typing in the command `gradlew install`, it is an internal exception:\r\n\r\n```\r\n\r\n&gt; Task :kotlin-jupyter-publish:compileKotlin FAILED\r\nThe `kotlin-dsl` plugin applied to project &#39;:kotlin-jupyter-publish&#39; enables experimental Kotlin compiler features. For more information see https://docs.gradle.org/6.8.2/userguide/kotlin_dsl.html#sec:kotlin-dsl_plugin\r\ne: java.lang.NoClassDefFoundError: Could not initialize class org.jetbrains.kotlin.com.intellij.pom.java.LanguageLevel\r\n        at org.jetbrains.kotlin.com.intellij.core.CoreLanguageLevelProjectExtension.&lt;init&gt;(CoreLanguageLevelProjectExtension.java:26)\r\n        at org.jetbrains.kotlin.com.intellij.core.JavaCoreProjectEnvironment.&lt;init&gt;(JavaCoreProjectEnvironment.java:42)\r\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreProjectEnvironment.&lt;init&gt;(KotlinCoreProjectEnvironment.kt:26)\r\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment$ProjectEnvironment.&lt;init&gt;(KotlinCoreEnvironment.kt:118)\r\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment$Companion.createForProduction(KotlinCoreEnvironment.kt:420)\r\n        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.createCoreEnvironment(K2JVMCompiler.kt:226)\r\n        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:152)\r\n        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:52)\r\n        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:88)\r\n        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:44)\r\n        at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:98)\r\n        at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:371)\r\n        at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:105)\r\n        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally(IncrementalCompilerRunner.kt:249)\r\n        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.access$compileIncrementally(IncrementalCompilerRunner.kt:38)\r\n        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner$compile$2.invoke(IncrementalCompilerRunner.kt:80)\r\n        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compile(IncrementalCompilerRunner.kt:92)\r\n        at org.jetbrains.kotlin.daemon.CompileServiceImplBase.execIncrementalCompiler(CompileServiceImpl.kt:602)\r\n        at org.jetbrains.kotlin.daemon.CompileServiceImplBase.access$execIncrementalCompiler(CompileServiceImpl.kt:93)\r\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:1644)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n        at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\r\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:691)\r\n        at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587)\r\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828)\r\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n        at java.base/java.lang.Thread.run(Thread.java:831)\r\n\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:kotlin-jupyter-publish:compileKotlin&#39;.\r\n&gt; Internal compiler error. See log for more details\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 1s\r\n```\r\nYes, it is quite long. I am unsure what the cause of the error is - to be quite frank, I&#39;m a a beginner when it comes to Gradle. I was wondering why I am getting this error and how I could fix this.\r\n\r\nAgain, just recently I installed the JDK and set the environment variable for the JDK. I am not sure if the error has risen because of this, if so - here is my environment variable, maybe I have set it wrong:\r\n\r\n`C:\\Program Files\\Java\\jdk-16`\r\n\r\nAlso this is the gradle properties file:\r\n\r\n```\r\n# kotlinVersion=1.4.255-SNAPSHOT\r\nkotlinVersion=1.4.31\r\nkotlinLanguageLevel=1.4\r\njvmTarget=1.8\r\n\r\nshadowJarVersion=5.2.0\r\nkotlinxSerializationVersion=1.1.0\r\nktlintGradleVersion=9.4.1\r\nktlintVersion=0.40.0\r\njunitVersion=5.6.2\r\nslf4jVersion=1.7.30\r\nkhttpVersion=1.0.0\r\nhttp4kVersion=4.4.0.1\r\nartifactsPath=build/artifacts\r\n\r\nbaseVersion=0.8.3\r\n\r\nprojectRepoUrl=https://github.com/Kotlin/kotlin-jupyter\r\ndocsRepo=git@github.com:ileasile/kotlin-jupyter-docs.git\r\npushRepoUrl=git@github.com:Kotlin/kotlin-jupyter.git\r\n\r\njupyterApiVersion=0.8.3.291\r\nkotlin.jupyter.add.api=false\r\nkotlin.jupyter.add.scanner=false\r\n\r\norg.gradle.jvmargs=-Xmx512M\r\n```\r\nAlso build.gradle file:\r\n\r\n```\r\nimport org.jetbrains.kotlin.gradle.tasks.KotlinCompile\r\nimport org.jetbrains.kotlinx.jupyter.build.getFlag\r\nimport org.jetbrains.kotlinx.jupyter.plugin.options\r\nimport org.jetbrains.kotlinx.jupyter.publishing.addPublication\r\nimport org.jetbrains.kotlinx.jupyter.publishing.applyNexusPlugin\r\nimport org.jlleitschuh.gradle.ktlint.KtlintExtension\r\n\r\nplugins {\r\n    kotlin(&quot;jvm&quot;)\r\n    kotlin(&quot;jupyter.api&quot;) apply false\r\n    kotlin(&quot;plugin.serialization&quot;)\r\n    id(&quot;com.github.johnrengelman.shadow&quot;)\r\n    id(&quot;org.jlleitschuh.gradle.ktlint&quot;)\r\n    id(&quot;org.jetbrains.kotlinx.jupyter.dependencies&quot;)\r\n    id(&quot;org.jetbrains.kotlinx.jupyter.publishing&quot;)\r\n    id(&quot;org.jetbrains.kotlinx.jupyter.doc&quot;)\r\n}\r\n\r\nextra[&quot;isMainProject&quot;] = true\r\n\r\nval kotlinxSerializationVersion: String by project\r\nval ktlintVersion: String by project\r\nval junitVersion: String by project\r\nval slf4jVersion: String by project\r\nval khttpVersion: String by project\r\n\r\nval docsRepo: String by project\r\n\r\nval taskOptions = project.options()\r\nval deploy: Configuration by configurations.creating\r\n\r\ndeploy.apply {\r\n    exclude(&quot;org.jetbrains.kotlinx&quot;, &quot;kotlinx-serialization-json-jvm&quot;)\r\n    exclude(&quot;org.jetbrains.kotlinx&quot;, &quot;kotlinx-serialization-core-jvm&quot;)\r\n}\r\n\r\napplyNexusPlugin()\r\n\r\nfun KtlintExtension.setup() {\r\n    version.set(ktlintVersion)\r\n    enableExperimentalRules.set(true)\r\n}\r\n\r\nktlint {\r\n    setup()\r\n}\r\n\r\nsubprojects {\r\n    apply(plugin = &quot;org.jlleitschuh.gradle.ktlint&quot;)\r\n\r\n    ktlint {\r\n        setup()\r\n    }\r\n}\r\n\r\nallprojects {\r\n    val kotlinLanguageLevel: String by rootProject\r\n    val jvmTarget: String by rootProject\r\n\r\n    tasks.withType(KotlinCompile::class.java).all {\r\n        kotlinOptions {\r\n            languageVersion = kotlinLanguageLevel\r\n            this.jvmTarget = jvmTarget\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    // Dependency on module with compiler.\r\n    api(project(&quot;:shared-compiler&quot;))\r\n\r\n    // Standard dependencies\r\n    implementation(kotlin(&quot;stdlib&quot;))\r\n    implementation(kotlin(&quot;reflect&quot;))\r\n    implementation(kotlin(&quot;stdlib-jdk8&quot;))\r\n    implementation(&quot;org.jetbrains:annotations:20.1.0&quot;)\r\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.4.2&quot;)\r\n\r\n    // Embedded compiler and scripting dependencies\r\n    implementation(kotlin(&quot;compiler-embeddable&quot;))\r\n    implementation(kotlin(&quot;scripting-compiler-impl-embeddable&quot;))\r\n    implementation(kotlin(&quot;scripting-compiler-embeddable&quot;))\r\n    implementation(kotlin(&quot;scripting-ide-services&quot;))\r\n    implementation(kotlin(&quot;main-kts&quot;))\r\n    implementation(kotlin(&quot;script-util&quot;))\r\n    implementation(kotlin(&quot;scripting-common&quot;))\r\n\r\n    // Embedded version of serialization plugin for notebook code\r\n    implementation(kotlin(&quot;serialization&quot;))\r\n\r\n    // Logging\r\n    implementation(&quot;org.slf4j:slf4j-api:$slf4jVersion&quot;)\r\n    runtimeOnly(&quot;org.slf4j:slf4j-simple:$slf4jVersion&quot;)\r\n\r\n    // ZeroMQ library for implementing messaging protocol\r\n    implementation(&quot;org.zeromq:jeromq:0.5.2&quot;)\r\n\r\n    // Clikt library for parsing output magics\r\n    implementation(&quot;com.github.ajalt:clikt:2.8.0&quot;)\r\n\r\n    // Serialization implementation for kernel code\r\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-serialization-json:$kotlinxSerializationVersion&quot;)\r\n\r\n    // Test dependencies: kotlin-test and Junit 5\r\n    testImplementation(kotlin(&quot;test&quot;))\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:$junitVersion&quot;)\r\n    testImplementation(&quot;io.kotlintest:kotlintest-assertions:3.1.6&quot;)\r\n\r\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:$junitVersion&quot;)\r\n\r\n    deploy(project(&quot;:lib&quot;))\r\n    deploy(project(&quot;:api&quot;))\r\n    deploy(kotlin(&quot;script-runtime&quot;))\r\n}\r\n\r\ntasks.register(&quot;publishLocal&quot;) {\r\n    group = &quot;publishing&quot;\r\n\r\n    dependsOn(\r\n        tasks.condaPackage,\r\n        tasks.pyPiPackage\r\n    )\r\n}\r\n\r\ntasks.named(&quot;closeRepository&quot;) {\r\n    mustRunAfter(&quot;publishToSonatype&quot;)\r\n}\r\n\r\ntasks.register(&quot;publishToSonatypeAndRelease&quot;) {\r\n    group = &quot;publishing&quot;\r\n\r\n    dependsOn(&quot;publishToSonatype&quot;, &quot;closeAndReleaseRepository&quot;)\r\n}\r\n\r\ntasks.register(&quot;publishToPluginPortal&quot;) {\r\n    group = &quot;publishing&quot;\r\n\r\n    dependsOn(\r\n        &quot;:kotlin-jupyter-api-gradle-plugin:publishPlugins&quot;\r\n    )\r\n}\r\n\r\ntasks.jar {\r\n    manifest {\r\n        attributes[&quot;Main-Class&quot;] = taskOptions.mainClassFQN\r\n        attributes[&quot;Implementation-Version&quot;] = project.version\r\n    }\r\n}\r\n\r\ntasks.shadowJar {\r\n    archiveBaseName.set(taskOptions.packageName)\r\n    archiveClassifier.set(&quot;&quot;)\r\n    mergeServiceFiles()\r\n\r\n    manifest {\r\n        attributes(tasks.jar.get().manifest.attributes)\r\n    }\r\n}\r\n\r\ntasks.test {\r\n    val doParallelTesting = getFlag(&quot;test.parallel&quot;, true)\r\n\r\n    /**\r\n     *  Set to true to debug classpath/shadowing issues, see testKlaxonClasspathDoesntLeak test\r\n     */\r\n    val useShadowedJar = getFlag(&quot;test.useShadowed&quot;, false)\r\n\r\n    useJUnitPlatform()\r\n    testLogging {\r\n        events(&quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;)\r\n    }\r\n\r\n    if (useShadowedJar) {\r\n        dependsOn(tasks.shadowJar.get())\r\n        classpath = files(tasks.shadowJar.get()) + classpath\r\n    }\r\n\r\n    systemProperties = mutableMapOf(\r\n        &quot;junit.jupiter.displayname.generator.default&quot; to &quot;org.junit.jupiter.api.DisplayNameGenerator\\$ReplaceUnderscores&quot;,\r\n\r\n        &quot;junit.jupiter.execution.parallel.enabled&quot; to doParallelTesting.toString() as Any,\r\n        &quot;junit.jupiter.execution.parallel.mode.default&quot; to &quot;concurrent&quot;,\r\n        &quot;junit.jupiter.execution.parallel.mode.classes.default&quot; to &quot;concurrent&quot;\r\n    )\r\n}\r\n\r\ntasks.processResources {\r\n    dependsOn(tasks.buildProperties)\r\n}\r\n\r\ntasks.check {\r\n    dependsOn(tasks.checkReadme)\r\n}\r\n\r\ntasks.publishDocs {\r\n    docsRepoUrl.set(docsRepo)\r\n}\r\n\r\naddPublication {\r\n    publicationName = &quot;kernel&quot;\r\n    artifactId = &quot;kotlin-jupyter-kernel&quot;\r\n    description = &quot;Kotlin Jupyter kernel published as artifact&quot;\r\n    packageName = artifactId\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/Kotlin/kotlin-jupyter","title":"Installing Kotlin-Jupyter: e: java.lang.NoClassDefFoundError: Could not initialize class org.jetbrains.kotlin.com.intellij.pom.java.LanguageLevel","body":"<p>I'm new to Gradle, but recently I wanted to use Kotlin-Jupyter notebook for a project.</p>\n<p>I followed the instructions, I cloned the repo at <a href=\"https://github.com/Kotlin/kotlin-jupyter\" rel=\"noreferrer\">https://github.com/Kotlin/kotlin-jupyter</a>...</p>\n<p>Throughout my struggles, I have gone through 5 or 6 errors, all of which have taken days to fix.</p>\n<p>I am getting this new error when typing in the command <code>gradlew install</code>, it is an internal exception:</p>\n<pre><code>\n&gt; Task :kotlin-jupyter-publish:compileKotlin FAILED\nThe `kotlin-dsl` plugin applied to project ':kotlin-jupyter-publish' enables experimental Kotlin compiler features. For more information see https://docs.gradle.org/6.8.2/userguide/kotlin_dsl.html#sec:kotlin-dsl_plugin\ne: java.lang.NoClassDefFoundError: Could not initialize class org.jetbrains.kotlin.com.intellij.pom.java.LanguageLevel\n        at org.jetbrains.kotlin.com.intellij.core.CoreLanguageLevelProjectExtension.&lt;init&gt;(CoreLanguageLevelProjectExtension.java:26)\n        at org.jetbrains.kotlin.com.intellij.core.JavaCoreProjectEnvironment.&lt;init&gt;(JavaCoreProjectEnvironment.java:42)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreProjectEnvironment.&lt;init&gt;(KotlinCoreProjectEnvironment.kt:26)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment$ProjectEnvironment.&lt;init&gt;(KotlinCoreEnvironment.kt:118)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment$Companion.createForProduction(KotlinCoreEnvironment.kt:420)\n        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.createCoreEnvironment(K2JVMCompiler.kt:226)\n        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:152)\n        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:52)\n        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:88)\n        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:44)\n        at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:98)\n        at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:371)\n        at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:105)\n        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally(IncrementalCompilerRunner.kt:249)\n        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.access$compileIncrementally(IncrementalCompilerRunner.kt:38)\n        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner$compile$2.invoke(IncrementalCompilerRunner.kt:80)\n        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compile(IncrementalCompilerRunner.kt:92)\n        at org.jetbrains.kotlin.daemon.CompileServiceImplBase.execIncrementalCompiler(CompileServiceImpl.kt:602)\n        at org.jetbrains.kotlin.daemon.CompileServiceImplBase.access$execIncrementalCompiler(CompileServiceImpl.kt:93)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:1644)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n        at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:691)\n        at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n        at java.base/java.lang.Thread.run(Thread.java:831)\n\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':kotlin-jupyter-publish:compileKotlin'.\n&gt; Internal compiler error. See log for more details\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\n</code></pre>\n<p>Yes, it is quite long. I am unsure what the cause of the error is - to be quite frank, I'm a a beginner when it comes to Gradle. I was wondering why I am getting this error and how I could fix this.</p>\n<p>Again, just recently I installed the JDK and set the environment variable for the JDK. I am not sure if the error has risen because of this, if so - here is my environment variable, maybe I have set it wrong:</p>\n<p><code>C:\\Program Files\\Java\\jdk-16</code></p>\n<p>Also this is the gradle properties file:</p>\n<pre><code># kotlinVersion=1.4.255-SNAPSHOT\nkotlinVersion=1.4.31\nkotlinLanguageLevel=1.4\njvmTarget=1.8\n\nshadowJarVersion=5.2.0\nkotlinxSerializationVersion=1.1.0\nktlintGradleVersion=9.4.1\nktlintVersion=0.40.0\njunitVersion=5.6.2\nslf4jVersion=1.7.30\nkhttpVersion=1.0.0\nhttp4kVersion=4.4.0.1\nartifactsPath=build/artifacts\n\nbaseVersion=0.8.3\n\nprojectRepoUrl=https://github.com/Kotlin/kotlin-jupyter\ndocsRepo=git@github.com:ileasile/kotlin-jupyter-docs.git\npushRepoUrl=git@github.com:Kotlin/kotlin-jupyter.git\n\njupyterApiVersion=0.8.3.291\nkotlin.jupyter.add.api=false\nkotlin.jupyter.add.scanner=false\n\norg.gradle.jvmargs=-Xmx512M\n</code></pre>\n<p>Also build.gradle file:</p>\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\nimport org.jetbrains.kotlinx.jupyter.build.getFlag\nimport org.jetbrains.kotlinx.jupyter.plugin.options\nimport org.jetbrains.kotlinx.jupyter.publishing.addPublication\nimport org.jetbrains.kotlinx.jupyter.publishing.applyNexusPlugin\nimport org.jlleitschuh.gradle.ktlint.KtlintExtension\n\nplugins {\n    kotlin(&quot;jvm&quot;)\n    kotlin(&quot;jupyter.api&quot;) apply false\n    kotlin(&quot;plugin.serialization&quot;)\n    id(&quot;com.github.johnrengelman.shadow&quot;)\n    id(&quot;org.jlleitschuh.gradle.ktlint&quot;)\n    id(&quot;org.jetbrains.kotlinx.jupyter.dependencies&quot;)\n    id(&quot;org.jetbrains.kotlinx.jupyter.publishing&quot;)\n    id(&quot;org.jetbrains.kotlinx.jupyter.doc&quot;)\n}\n\nextra[&quot;isMainProject&quot;] = true\n\nval kotlinxSerializationVersion: String by project\nval ktlintVersion: String by project\nval junitVersion: String by project\nval slf4jVersion: String by project\nval khttpVersion: String by project\n\nval docsRepo: String by project\n\nval taskOptions = project.options()\nval deploy: Configuration by configurations.creating\n\ndeploy.apply {\n    exclude(&quot;org.jetbrains.kotlinx&quot;, &quot;kotlinx-serialization-json-jvm&quot;)\n    exclude(&quot;org.jetbrains.kotlinx&quot;, &quot;kotlinx-serialization-core-jvm&quot;)\n}\n\napplyNexusPlugin()\n\nfun KtlintExtension.setup() {\n    version.set(ktlintVersion)\n    enableExperimentalRules.set(true)\n}\n\nktlint {\n    setup()\n}\n\nsubprojects {\n    apply(plugin = &quot;org.jlleitschuh.gradle.ktlint&quot;)\n\n    ktlint {\n        setup()\n    }\n}\n\nallprojects {\n    val kotlinLanguageLevel: String by rootProject\n    val jvmTarget: String by rootProject\n\n    tasks.withType(KotlinCompile::class.java).all {\n        kotlinOptions {\n            languageVersion = kotlinLanguageLevel\n            this.jvmTarget = jvmTarget\n        }\n    }\n}\n\ndependencies {\n    // Dependency on module with compiler.\n    api(project(&quot;:shared-compiler&quot;))\n\n    // Standard dependencies\n    implementation(kotlin(&quot;stdlib&quot;))\n    implementation(kotlin(&quot;reflect&quot;))\n    implementation(kotlin(&quot;stdlib-jdk8&quot;))\n    implementation(&quot;org.jetbrains:annotations:20.1.0&quot;)\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.4.2&quot;)\n\n    // Embedded compiler and scripting dependencies\n    implementation(kotlin(&quot;compiler-embeddable&quot;))\n    implementation(kotlin(&quot;scripting-compiler-impl-embeddable&quot;))\n    implementation(kotlin(&quot;scripting-compiler-embeddable&quot;))\n    implementation(kotlin(&quot;scripting-ide-services&quot;))\n    implementation(kotlin(&quot;main-kts&quot;))\n    implementation(kotlin(&quot;script-util&quot;))\n    implementation(kotlin(&quot;scripting-common&quot;))\n\n    // Embedded version of serialization plugin for notebook code\n    implementation(kotlin(&quot;serialization&quot;))\n\n    // Logging\n    implementation(&quot;org.slf4j:slf4j-api:$slf4jVersion&quot;)\n    runtimeOnly(&quot;org.slf4j:slf4j-simple:$slf4jVersion&quot;)\n\n    // ZeroMQ library for implementing messaging protocol\n    implementation(&quot;org.zeromq:jeromq:0.5.2&quot;)\n\n    // Clikt library for parsing output magics\n    implementation(&quot;com.github.ajalt:clikt:2.8.0&quot;)\n\n    // Serialization implementation for kernel code\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-serialization-json:$kotlinxSerializationVersion&quot;)\n\n    // Test dependencies: kotlin-test and Junit 5\n    testImplementation(kotlin(&quot;test&quot;))\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:$junitVersion&quot;)\n    testImplementation(&quot;io.kotlintest:kotlintest-assertions:3.1.6&quot;)\n\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:$junitVersion&quot;)\n\n    deploy(project(&quot;:lib&quot;))\n    deploy(project(&quot;:api&quot;))\n    deploy(kotlin(&quot;script-runtime&quot;))\n}\n\ntasks.register(&quot;publishLocal&quot;) {\n    group = &quot;publishing&quot;\n\n    dependsOn(\n        tasks.condaPackage,\n        tasks.pyPiPackage\n    )\n}\n\ntasks.named(&quot;closeRepository&quot;) {\n    mustRunAfter(&quot;publishToSonatype&quot;)\n}\n\ntasks.register(&quot;publishToSonatypeAndRelease&quot;) {\n    group = &quot;publishing&quot;\n\n    dependsOn(&quot;publishToSonatype&quot;, &quot;closeAndReleaseRepository&quot;)\n}\n\ntasks.register(&quot;publishToPluginPortal&quot;) {\n    group = &quot;publishing&quot;\n\n    dependsOn(\n        &quot;:kotlin-jupyter-api-gradle-plugin:publishPlugins&quot;\n    )\n}\n\ntasks.jar {\n    manifest {\n        attributes[&quot;Main-Class&quot;] = taskOptions.mainClassFQN\n        attributes[&quot;Implementation-Version&quot;] = project.version\n    }\n}\n\ntasks.shadowJar {\n    archiveBaseName.set(taskOptions.packageName)\n    archiveClassifier.set(&quot;&quot;)\n    mergeServiceFiles()\n\n    manifest {\n        attributes(tasks.jar.get().manifest.attributes)\n    }\n}\n\ntasks.test {\n    val doParallelTesting = getFlag(&quot;test.parallel&quot;, true)\n\n    /**\n     *  Set to true to debug classpath/shadowing issues, see testKlaxonClasspathDoesntLeak test\n     */\n    val useShadowedJar = getFlag(&quot;test.useShadowed&quot;, false)\n\n    useJUnitPlatform()\n    testLogging {\n        events(&quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;)\n    }\n\n    if (useShadowedJar) {\n        dependsOn(tasks.shadowJar.get())\n        classpath = files(tasks.shadowJar.get()) + classpath\n    }\n\n    systemProperties = mutableMapOf(\n        &quot;junit.jupiter.displayname.generator.default&quot; to &quot;org.junit.jupiter.api.DisplayNameGenerator\\$ReplaceUnderscores&quot;,\n\n        &quot;junit.jupiter.execution.parallel.enabled&quot; to doParallelTesting.toString() as Any,\n        &quot;junit.jupiter.execution.parallel.mode.default&quot; to &quot;concurrent&quot;,\n        &quot;junit.jupiter.execution.parallel.mode.classes.default&quot; to &quot;concurrent&quot;\n    )\n}\n\ntasks.processResources {\n    dependsOn(tasks.buildProperties)\n}\n\ntasks.check {\n    dependsOn(tasks.checkReadme)\n}\n\ntasks.publishDocs {\n    docsRepoUrl.set(docsRepo)\n}\n\naddPublication {\n    publicationName = &quot;kernel&quot;\n    artifactId = &quot;kotlin-jupyter-kernel&quot;\n    description = &quot;Kotlin Jupyter kernel published as artifact&quot;\n    packageName = artifactId\n}\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":4,"creation_date":1698700262,"post_id":77391796,"comment_id":136436267,"body_markdown":"`//super.paintComponent(g);` -- why are you commenting this out? Leaving it in is key for success.","body":"<code>&#47;&#47;super.paintComponent(g);</code> -- why are you commenting this out? Leaving it in is key for success."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1698700372,"post_id":77391796,"comment_id":136436281,"body_markdown":"Paint in Swing is destructive.  That is, each time a paint pass is executed, you are expected to re-render the component state from scratch, your current workflow is calling `removeNextString();` on the first paint pass, subsequent paint pass will then have nothing to paint, as the `lstStr` is empty. Swing employees a  passive rendering workflow, that is, the UI is repainted only when it&#39;s deemed necessary","body":"Paint in Swing is destructive.  That is, each time a paint pass is executed, you are expected to re-render the component state from scratch, your current workflow is calling <code>removeNextString();</code> on the first paint pass, subsequent paint pass will then have nothing to paint, as the <code>lstStr</code> is empty. Swing employees a  passive rendering workflow, that is, the UI is repainted only when it&#39;s deemed necessary"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1698700570,"post_id":77391796,"comment_id":136436319,"body_markdown":"I would either a). Use a copy of the list to paint the text, so that the master list remains unchanged; or b). Cache the rendering calculations on the first pass, so that subsequent passes don&#39;t need to re-calculate the layout, which will make it faster.","body":"I would either a). Use a copy of the list to paint the text, so that the master list remains unchanged; or b). Cache the rendering calculations on the first pass, so that subsequent passes don&#39;t need to re-calculate the layout, which will make it faster."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1698700910,"post_id":77391796,"comment_id":136436369,"body_markdown":"I would suggest taking a look at [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html)","body":"I would suggest taking a look at <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1698701970,"post_id":77391796,"comment_id":136436499,"body_markdown":"I would also suggest taking a look at the `TextLayout` class - see [Drawing Multiple Lines of Text](https://docs.oracle.com/javase%2Ftutorial%2F/2d/text/drawmulstring.html) and [example](https://stackoverflow.com/questions/49593022/advanced-text-in-image-in-java/49593642#49593642) as it will probably do a much better job for you","body":"I would also suggest taking a look at the <code>TextLayout</code> class - see <a href=\"https://docs.oracle.com/javase%2Ftutorial%2F/2d/text/drawmulstring.html\" rel=\"nofollow noreferrer\">Drawing Multiple Lines of Text</a> and <a href=\"https://stackoverflow.com/questions/49593022/advanced-text-in-image-in-java/49593642#49593642\">example</a> as it will probably do a much better job for you"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698713672,"post_id":77391796,"comment_id":136437567,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29789543,"reputation":1,"user_id":22830079,"display_name":"Klaus Herz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698699374,"creation_date":1698699374,"question_id":77391796,"body_markdown":"For one of the functionalities of my program, I want to print out text inside of a string onto a JPanel. However, when i tried to do that, the text prints, but usually, soon-after it is covered and disappears. I do not know why sometimes the code works and why at other times it doesn&#39;t. Why doesn&#39;t my program work and what should I do to fix it?\r\n\r\n\r\n\r\n```\r\nimport java.awt.Dimension;\r\nimport java.awt.Toolkit;\r\n\r\nimport javax.swing.JFrame;\r\n\r\npublic class ReadingMain {\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tJFrame window = new JFrame(&quot;Spreeder&quot;);\r\n        \r\n        // Model, following Observer pattern, is oblivious.  It doesn&#39;t need a reference to anyone\r\n        ReadingModel model = new ReadingModel();\r\n        ReadingView view = new ReadingView(model, &quot;Something that I would like to say to everybody&quot;); \r\n        \r\n        \r\n        //  CheckersController controller = new CheckersController(model); // view is created and hooked up inside controller constructor \r\n        // **Changed to have view take in the controller, not controller take in view.\r\n        // Because we need a reference to the view here, so set it as content pane.  \r\n        // Or I suppose you could have a getView() method in the controller\r\n        \r\n        window.setContentPane(view);\r\n        window.pack();  \r\n        //****this centers the window on the users screen\r\n        Dimension screensize = Toolkit.getDefaultToolkit().getScreenSize();\r\n        window.setSize(800, 800);\r\n        window.setLocation( (screensize.width - window.getWidth())/2,\r\n                (screensize.height - window.getHeight())/2 );\r\n        window.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\r\n        window.setResizable(false);  \r\n        window.setVisible(true);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n\r\n\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\nimport java.awt.*;\r\nimport java.awt.Point;\r\nimport java.awt.font.FontRenderContext;\r\nimport java.awt.font.TextLayout;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class ReadingView extends JPanel{\r\n\t\r\n\t\r\n\tprivate ReadingModel model;\r\n\tprivate JTextField text;\r\n\tprivate ArrayList&lt;String&gt; lstStr = new ArrayList&lt;String&gt;();\r\n\tprivate Font font = new Font(&quot;Times New Roman&quot;, Font.PLAIN, 25);\r\n\r\n\t\r\n\r\n\tpublic ReadingView(ReadingModel model, String str) {\r\n\t\tthis.model = model;\r\n\t\tString sampleText = &quot;Times New Roman is a new Roman Times&quot;;\r\n\t\tScanner newScnr = new Scanner(sampleText);\r\n\t\twhile(newScnr.hasNext()) {\r\n\t\t\tlstStr.add(newScnr.next());\r\n\t\t}\r\n\t\tSystem.out.println(lstStr.size());\r\n\t\t//repaint();\r\n\t\t\r\n\t\t\r\n\t}\r\n\t@Override\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\t//super.paintComponent(g);\r\n\t\tpaintSlide((Graphics2D)g);\r\n\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void paintSlide(Graphics2D g) {\r\n\t\tint x = 20;\r\n\t\tint y = 20;\r\n\t\tFontRenderContext frc = g.getFontRenderContext();\r\n\t\tArrayList&lt;TextLayoutCoord&gt; lines = new ArrayList&lt;TextLayoutCoord&gt;();\r\n\t\tString mnm = &quot;The End&quot;;\r\n\t\tif(lstStr.size() == 0) {\r\n\t\t\tTextLayout endLayout = new TextLayout(mnm, font, frc);\r\n\t\t\t//endLayout.draw(g, 20, 20);\r\n\t\t\tSystem.out.println(&quot;reaced here&quot;);\r\n\t\t\t\r\n\t\t\tmnm = mnm + &quot;m&quot;;\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\twhile(y &lt; this.getHeight() &amp;&amp; lstStr.size() &gt; 1) {\r\n\t\t\t\tTextLayoutCoord layout = new TextLayoutCoord(new TextLayout(&quot; &quot;, font, frc), x, y);\r\n\t\t\t\tTextLayout tempLayout = new TextLayout(&quot; &quot;, font, frc);\r\n\t\t\t\tString lineString = &quot; &quot;;\r\n\t\t\t\tString temp = &quot;&quot;;\r\n\t\t\t\tint i = 0; \r\n\t\t\t\tSystem.out.println(y);\r\n\t\t\t\twhile(lstStr.size() &gt; 0) {\r\n\t\t\t\t\t//layout.getBounds().getWidth() &lt; this.getWidth()\r\n\r\n\t\t\t\t\tif(getNextString().equals(&quot;\\n&quot;)) {\r\n\t\t\t\t\t\tremoveNextString();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\ttemp = temp + getNextString();\r\n\t\t\t\t\ttempLayout = new TextLayout(temp, font, frc);\r\n\t\t\t\t\tif(tempLayout.getBounds().getWidth() &gt; this.getWidth() - 40) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlayout = new TextLayoutCoord(tempLayout, x, y);;\r\n\t\t\t\t\tremoveNextString();\r\n\t\t\t\t\ti++;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tlines.add(layout);\r\n\r\n\t\t\t\ty += layout.getTxt().getBounds().getHeight();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Billie bob joe jr&quot;);\r\n\t\t\tSystem.out.println(lines.size());\r\n\t\t\tfor(TextLayoutCoord singleLine : lines) {\r\n\t\t\t\tsingleLine.getTxt().draw(g, singleLine.getX(), singleLine.getY());\r\n\t\t\t}\r\n\t\t\tmnm = mnm + &quot;m&quot;;\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\tpublic String getNextString() {\r\n\t\tif(lstStr.size() &gt; 0) {\r\n\t\t\treturn lstStr.get(0);\r\n\t\t}\r\n\t\treturn &quot;&quot;;\r\n\t}\r\n\tpublic void removeNextString() {\r\n\t\tif(lstStr.size() &gt; 0) {\r\n\t\t\tlstStr.remove(0);\r\n\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\t\r\n\r\n\t\r\n\t\r\n}\r\n```\r\n\r\n\r\n```\r\nimport java.awt.font.TextLayout;\r\n\r\npublic class TextLayoutCoord {\r\n\r\n\tprivate TextLayout txt;\r\n\tprivate int  x ;\r\n\tprivate int  y;\r\n\t\r\n\tpublic TextLayoutCoord(TextLayout txt, int x, int y) {\r\n\t\tthis.txt = txt;\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t}\r\n\r\n\tpublic TextLayout getTxt() {\r\n\t\treturn txt;\r\n\t}\r\n\r\n\tpublic void setTxt(TextLayout txt) {\r\n\t\tthis.txt = txt;\r\n\t}\r\n\r\n\tpublic int getX() {\r\n\t\treturn x;\r\n\t}\r\n\r\n\tpublic void setX(int x) {\r\n\t\tthis.x = x;\r\n\t}\r\n\r\n\tpublic int getY() {\r\n\t\treturn y;\r\n\t}\r\n\r\n\tpublic void setY(int y) {\r\n\t\tthis.y = y;\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\n\r\n\r\n```\r\n\r\n\r\nimport java.io.*;\r\n\r\npublic class ReadingModel {\r\n\t\r\n\tpublic ReadingModel() {\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n","title":"Java swing text disappearing after paintinng","body":"<p>For one of the functionalities of my program, I want to print out text inside of a string onto a JPanel. However, when i tried to do that, the text prints, but usually, soon-after it is covered and disappears. I do not know why sometimes the code works and why at other times it doesn't. Why doesn't my program work and what should I do to fix it?</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.Toolkit;\n\nimport javax.swing.JFrame;\n\npublic class ReadingMain {\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        JFrame window = new JFrame(&quot;Spreeder&quot;);\n        \n        // Model, following Observer pattern, is oblivious.  It doesn't need a reference to anyone\n        ReadingModel model = new ReadingModel();\n        ReadingView view = new ReadingView(model, &quot;Something that I would like to say to everybody&quot;); \n        \n        \n        //  CheckersController controller = new CheckersController(model); // view is created and hooked up inside controller constructor \n        // **Changed to have view take in the controller, not controller take in view.\n        // Because we need a reference to the view here, so set it as content pane.  \n        // Or I suppose you could have a getView() method in the controller\n        \n        window.setContentPane(view);\n        window.pack();  \n        //****this centers the window on the users screen\n        Dimension screensize = Toolkit.getDefaultToolkit().getScreenSize();\n        window.setSize(800, 800);\n        window.setLocation( (screensize.width - window.getWidth())/2,\n                (screensize.height - window.getHeight())/2 );\n        window.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\n        window.setResizable(false);  \n        window.setVisible(true);\n    }\n}\n\n</code></pre>\n<pre><code>\n\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.*;\nimport java.awt.Point;\nimport java.awt.font.FontRenderContext;\nimport java.awt.font.TextLayout;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\nimport javax.swing.*;\n\npublic class ReadingView extends JPanel{\n    \n    \n    private ReadingModel model;\n    private JTextField text;\n    private ArrayList&lt;String&gt; lstStr = new ArrayList&lt;String&gt;();\n    private Font font = new Font(&quot;Times New Roman&quot;, Font.PLAIN, 25);\n\n    \n\n    public ReadingView(ReadingModel model, String str) {\n        this.model = model;\n        String sampleText = &quot;Times New Roman is a new Roman Times&quot;;\n        Scanner newScnr = new Scanner(sampleText);\n        while(newScnr.hasNext()) {\n            lstStr.add(newScnr.next());\n        }\n        System.out.println(lstStr.size());\n        //repaint();\n        \n        \n    }\n    @Override\n    public void paintComponent(Graphics g) {\n        //super.paintComponent(g);\n        paintSlide((Graphics2D)g);\n\n        \n    }\n    \n    public void paintSlide(Graphics2D g) {\n        int x = 20;\n        int y = 20;\n        FontRenderContext frc = g.getFontRenderContext();\n        ArrayList&lt;TextLayoutCoord&gt; lines = new ArrayList&lt;TextLayoutCoord&gt;();\n        String mnm = &quot;The End&quot;;\n        if(lstStr.size() == 0) {\n            TextLayout endLayout = new TextLayout(mnm, font, frc);\n            //endLayout.draw(g, 20, 20);\n            System.out.println(&quot;reaced here&quot;);\n            \n            mnm = mnm + &quot;m&quot;;\n\n            return;\n        }\n        else {\n            while(y &lt; this.getHeight() &amp;&amp; lstStr.size() &gt; 1) {\n                TextLayoutCoord layout = new TextLayoutCoord(new TextLayout(&quot; &quot;, font, frc), x, y);\n                TextLayout tempLayout = new TextLayout(&quot; &quot;, font, frc);\n                String lineString = &quot; &quot;;\n                String temp = &quot;&quot;;\n                int i = 0; \n                System.out.println(y);\n                while(lstStr.size() &gt; 0) {\n                    //layout.getBounds().getWidth() &lt; this.getWidth()\n\n                    if(getNextString().equals(&quot;\\n&quot;)) {\n                        removeNextString();\n                        break;\n                    }\n                    \n                    temp = temp + getNextString();\n                    tempLayout = new TextLayout(temp, font, frc);\n                    if(tempLayout.getBounds().getWidth() &gt; this.getWidth() - 40) {\n                        break;\n                    }\n                    layout = new TextLayoutCoord(tempLayout, x, y);;\n                    removeNextString();\n                    i++;\n                    \n                }\n                lines.add(layout);\n\n                y += layout.getTxt().getBounds().getHeight();\n                \n            }\n            System.out.println(&quot;Billie bob joe jr&quot;);\n            System.out.println(lines.size());\n            for(TextLayoutCoord singleLine : lines) {\n                singleLine.getTxt().draw(g, singleLine.getX(), singleLine.getY());\n            }\n            mnm = mnm + &quot;m&quot;;\n            \n        }\n    }\n    public String getNextString() {\n        if(lstStr.size() &gt; 0) {\n            return lstStr.get(0);\n        }\n        return &quot;&quot;;\n    }\n    public void removeNextString() {\n        if(lstStr.size() &gt; 0) {\n            lstStr.remove(0);\n\n        }\n        return;\n    }\n    \n\n    \n    \n}\n</code></pre>\n<pre><code>import java.awt.font.TextLayout;\n\npublic class TextLayoutCoord {\n\n    private TextLayout txt;\n    private int  x ;\n    private int  y;\n    \n    public TextLayoutCoord(TextLayout txt, int x, int y) {\n        this.txt = txt;\n        this.x = x;\n        this.y = y;\n    }\n\n    public TextLayout getTxt() {\n        return txt;\n    }\n\n    public void setTxt(TextLayout txt) {\n        this.txt = txt;\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public void setX(int x) {\n        this.x = x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public void setY(int y) {\n        this.y = y;\n    }\n    \n    \n}\n</code></pre>\n<pre><code>\n\nimport java.io.*;\n\npublic class ReadingModel {\n    \n    public ReadingModel() {\n        \n        \n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","algorithm","performance","data-structures","intervals"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1698201383,"post_id":77356301,"comment_id":136373956,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1698201543,"post_id":77356301,"comment_id":136373971,"body_markdown":"Are you doing this all in memory within Java? Or are you trying to ask about databases?","body":"Are you doing this all in memory within Java? Or are you trying to ask about databases?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1698202904,"post_id":77356301,"comment_id":136374082,"body_markdown":"How do your &quot;overlap&quot; `30abc | 40abc` and `41a | 45z`?","body":"How do your &quot;overlap&quot; <code>30abc | 40abc</code> and <code>41a | 45z</code>?"},{"owner":{"account_id":11887272,"reputation":1,"user_id":9247899,"display_name":"Prateek Maurya"},"score":0,"creation_date":1698204151,"post_id":77356301,"comment_id":136374161,"body_markdown":"in this given example, only the dates overlap not the values. so they aren&#39;t considered overlapping","body":"in this given example, only the dates overlap not the values. so they aren&#39;t considered overlapping"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1698204387,"post_id":77356301,"comment_id":136374180,"body_markdown":"@BasilBourque the OP said that the sample values do not overlap. Nonetheless, I could not ascertain what does constitute overlapping values.","body":"@BasilBourque the OP said that the sample values do not overlap. Nonetheless, I could not ascertain what does constitute overlapping values."},{"owner":{"account_id":146428,"reputation":9156,"user_id":356887,"accept_rate":78,"display_name":"xdhmoore"},"score":0,"creation_date":1698204537,"post_id":77356301,"comment_id":136374195,"body_markdown":"Can you just solve the two overlapping problems separately?","body":"Can you just solve the two overlapping problems separately?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1698204607,"post_id":77356301,"comment_id":136374204,"body_markdown":"@ruakh your edit completely changed the meaning of the sample data. How do you know that the sample values overlap when the OP stated that they do not?","body":"@ruakh your edit completely changed the meaning of the sample data. How do you know that the sample values overlap when the OP stated that they do not?"},{"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":0,"creation_date":1698204646,"post_id":77356301,"comment_id":136374206,"body_markdown":"Related: https://stackoverflow.com/questions/40622016/efficient-way-to-find-overlapping-of-n-rectangles. That one&#39;s a bit different, firstly in that there are *two* lists of records (with the goal being to find records from one list that conflict with records from the other), and secondly in that the values are all numeric (so some answers use a numeric computing library); but you may be able to make use of the accepted answer there.","body":"Related: <a href=\"https://stackoverflow.com/questions/40622016/efficient-way-to-find-overlapping-of-n-rectangles\" title=\"efficient way to find overlapping of n rectangles\">stackoverflow.com/questions/40622016/&hellip;</a>. That one&#39;s a bit different, firstly in that there are <i>two</i> lists of records (with the goal being to find records from one list that conflict with records from the other), and secondly in that the values are all numeric (so some answers use a numeric computing library); but you may be able to make use of the accepted answer there."},{"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":0,"creation_date":1698204777,"post_id":77356301,"comment_id":136374215,"body_markdown":"@Abra: The OP initially gave a *non*-conflicting example, which confused Basil Bourque (see comments above). So as part of my general rewrite for clarity, I changed it to a conflicting example. Unfortunately, the OP seems not to have noticed that I changed the example; so (s)he changed it to say that the conflicting example is actually non-conflicting. I just rolled that back. (Prateek Maurya, please speak up if I&#39;ve misunderstood.)","body":"@Abra: The OP initially gave a <i>non</i>-conflicting example, which confused Basil Bourque (see comments above). So as part of my general rewrite for clarity, I changed it to a conflicting example. Unfortunately, the OP seems not to have noticed that I changed the example; so (s)he changed it to say that the conflicting example is actually non-conflicting. I just rolled that back. (Prateek Maurya, please speak up if I&#39;ve misunderstood.)"},{"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":0,"creation_date":1698205107,"post_id":77356301,"comment_id":136374245,"body_markdown":"@PrateekMaurya: If two records conflict, is it a firm requirement that you have to retain the one you encounter first and reject the one you encounter second? I ask because there&#39;s a very straightforward approach that you can use if you don&#39;t care which one is retained and which one is rejected.","body":"@PrateekMaurya: If two records conflict, is it a firm requirement that you have to retain the one you encounter first and reject the one you encounter second? I ask because there&#39;s a very straightforward approach that you can use if you don&#39;t care which one is retained and which one is rejected."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1698209784,"post_id":77356301,"comment_id":136374634,"body_markdown":"@ruak Actually, I was not confused by the example. I am confused because we have no definition of what it means for digits-with-text to be &quot;overlapping&quot;. Overlapping of date ranges is obvious (except for the minor detail of Half-Open versus Fully-Open), but overlapping of arbitrary digits-with-text is not all obvious.","body":"@ruak Actually, I was not confused by the example. I am confused because we have no definition of what it means for digits-with-text to be &quot;overlapping&quot;. Overlapping of date ranges is obvious (except for the minor detail of Half-Open versus Fully-Open), but overlapping of arbitrary digits-with-text is not all obvious."},{"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":0,"creation_date":1698216204,"post_id":77356301,"comment_id":136375327,"body_markdown":"@BasilBourque: Given that the OP talked of storing those values in a TreeSet in order to find lower bounds of intervals, it seems clear that (s)he&#39;s using some ordering — very likely the natural ordering — and the intervals (a, b) and (c, d) &quot;overlap&quot; if a &lt; d and b &gt; c. No?","body":"@BasilBourque: Given that the OP talked of storing those values in a TreeSet in order to find lower bounds of intervals, it seems clear that (s)he&#39;s using some ordering — very likely the natural ordering — and the intervals (a, b) and (c, d) &quot;overlap&quot; if a &lt; d and b &gt; c. No?"}],"owner":{"account_id":11887272,"reputation":1,"user_id":9247899,"display_name":"Prateek Maurya"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698699335,"creation_date":1698200734,"question_id":77356301,"body_markdown":"I&#39;m reading records from a large CSV file, and I need to raise an error when the record that I&#39;m reading conflicts with a record that I&#39;ve already read.\r\n\r\nThe records contain a date-range and a value-range, where the values are strings; one record &quot;conflicts&quot; with another if their date-ranges and value-ranges both overlap. to check overlap natural ordering is considered. For example, these two records conflict:\r\n\r\n\r\n| startDate | endDate | beginValue | endValue |\r\n|-----------|---------|------------|----------|\r\n| 2023-05-05 | 2023-07-05 | 30abc | 41a |\r\n| 2023-06-05 | 2023-08-05 | 40abc | 45z |\r\n\r\nIn the given example date ranges overlap and also the value ranges overlap as per string comparison, so this is conflicting. A record has to have both date and value overlap both with same record to be considered as overlap. There is no need to see the order of the records, just need to find if the overlap is present.\r\nConsider this example:\r\n\r\n| startDate | endDate | beginValue | endValue |\r\n|-----------|---------|------------|----------|\r\n| 2023-05-05 | 2023-07-05 | 30abc | 41a |\r\n| 2023-06-05 | 2023-08-05 | 41bc | 45z |\r\n| 2023-09-05 | 2023-10-05 | 30abc | 41a |\r\n\r\nin this example:\r\n1. 1st and 2nd record overlap only for date range but not value range so they do not overlap.\r\n2. 1st and 3rd record only overlap for values but not date range so they do not overlap.\r\nso this is non-conflicting\r\n\r\n\r\nThe problem is that the file contains millions of records, so I can&#39;t check them one-by-one.\r\n\r\nHow can I do that?","title":"How to find records whose date-ranges and value-ranges both overlap?","body":"<p>I'm reading records from a large CSV file, and I need to raise an error when the record that I'm reading conflicts with a record that I've already read.</p>\n<p>The records contain a date-range and a value-range, where the values are strings; one record &quot;conflicts&quot; with another if their date-ranges and value-ranges both overlap. to check overlap natural ordering is considered. For example, these two records conflict:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>startDate</th>\n<th>endDate</th>\n<th>beginValue</th>\n<th>endValue</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2023-05-05</td>\n<td>2023-07-05</td>\n<td>30abc</td>\n<td>41a</td>\n</tr>\n<tr>\n<td>2023-06-05</td>\n<td>2023-08-05</td>\n<td>40abc</td>\n<td>45z</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>In the given example date ranges overlap and also the value ranges overlap as per string comparison, so this is conflicting. A record has to have both date and value overlap both with same record to be considered as overlap. There is no need to see the order of the records, just need to find if the overlap is present.\nConsider this example:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>startDate</th>\n<th>endDate</th>\n<th>beginValue</th>\n<th>endValue</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2023-05-05</td>\n<td>2023-07-05</td>\n<td>30abc</td>\n<td>41a</td>\n</tr>\n<tr>\n<td>2023-06-05</td>\n<td>2023-08-05</td>\n<td>41bc</td>\n<td>45z</td>\n</tr>\n<tr>\n<td>2023-09-05</td>\n<td>2023-10-05</td>\n<td>30abc</td>\n<td>41a</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>in this example:</p>\n<ol>\n<li>1st and 2nd record overlap only for date range but not value range so they do not overlap.</li>\n<li>1st and 3rd record only overlap for values but not date range so they do not overlap.\nso this is non-conflicting</li>\n</ol>\n<p>The problem is that the file contains millions of records, so I can't check them one-by-one.</p>\n<p>How can I do that?</p>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":2764411,"reputation":1,"user_id":2380610,"display_name":"user2380610"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698699128,"creation_date":1698699128,"answer_id":77391775,"question_id":77381110,"body_markdown":"maybe you should try to set https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo/blob/0148baff2e043cbb77d5de352a0fa35087862372/src/main/java/de/flapdoodle/embed/mongo/commands/MongodArguments.java#L70 to true to avoid excessive mongod output.. \r\n\r\nIn any case just open an issue on github:)","title":"Error &quot;de.flapdoodle.embed.mongo.runtime.Mongod - Got some response, should be an error message&quot;","body":"<p>maybe you should try to set <a href=\"https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo/blob/0148baff2e043cbb77d5de352a0fa35087862372/src/main/java/de/flapdoodle/embed/mongo/commands/MongodArguments.java#L70\" rel=\"nofollow noreferrer\">https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo/blob/0148baff2e043cbb77d5de352a0fa35087862372/src/main/java/de/flapdoodle/embed/mongo/commands/MongodArguments.java#L70</a> to true to avoid excessive mongod output..</p>\n<p>In any case just open an issue on github:)</p>\n"}],"owner":{"account_id":10643310,"reputation":31,"user_id":7837584,"display_name":"Turok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698699128,"creation_date":1698524647,"question_id":77381110,"body_markdown":"I want to test de.flapdoodle.embed.mongo version 4.9.3 and mongo-java-driver version 3.12.14.\r\n\r\nBased on https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo/blob/main/docs/Howto.md I&#39;ve created following code:\r\n```\r\nimport java.io.IOException;\r\nimport org.bson.Document;\r\n\r\nimport com.mongodb.MongoClient;\r\nimport com.mongodb.client.MongoCollection;\r\nimport com.mongodb.client.MongoDatabase;\r\n\r\nimport de.flapdoodle.embed.mongo.distribution.Version;\r\nimport de.flapdoodle.embed.mongo.transitions.Mongod;\r\nimport de.flapdoodle.embed.mongo.transitions.RunningMongodProcess;\r\nimport de.flapdoodle.embed.process.io.ImmutableProcessOutput;\r\nimport de.flapdoodle.embed.process.io.ProcessOutput;\r\nimport de.flapdoodle.embed.process.io.StreamProcessor;\r\nimport de.flapdoodle.reverse.Transition;\r\nimport de.flapdoodle.reverse.TransitionWalker;\r\nimport de.flapdoodle.reverse.transitions.Start;\r\n\r\nclass NullStreamProcessor implements StreamProcessor {\r\n\t@Override\r\n\tpublic void process(String block) {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onProcessed() {\r\n\t}\r\n}\r\n\r\npublic class TestMongoDBembed {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tStreamProcessor nullStreamProcessor = new NullStreamProcessor();\r\n\r\n\t\tMongod mongod = new Mongod() {\r\n\t\t\t@Override\r\n\t\t\tpublic Transition&lt;ProcessOutput&gt; processOutput() {\r\n\t\t\t\tImmutableProcessOutput nullProcessOutput = ProcessOutput.builder()\r\n\t\t\t\t\t\t.output(nullStreamProcessor)\r\n\t\t\t\t\t\t.error(nullStreamProcessor)\r\n\t\t\t\t\t\t.commands(nullStreamProcessor)\r\n\t\t\t\t\t\t.build();\r\n\t\t\t\treturn Start.to(ProcessOutput.class)\r\n\t\t\t\t\t\t.initializedWith(nullProcessOutput)\r\n\t\t\t\t\t\t.withTransitionLabel(&quot;create null output&quot;);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\ttry (TransitionWalker.ReachedState&lt;RunningMongodProcess&gt; running = mongod.start(Version.Main.V7_0)) {\r\n\t\t\ttry (MongoClient mongo = new MongoClient(running.current().getServerAddress().toString())) {\r\n\t\t\t\tMongoDatabase db = mongo.getDatabase(&quot;testDatabase&quot;);\r\n\t\t\t\tMongoCollection&lt;Document&gt; col = db.getCollection(&quot;testCollection&quot;);\r\n\t\t\t\tcol.insertOne(new Document(&quot;testString&quot;, &quot;testString&quot;));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nI&#39;m getting following error:\r\n```\r\n22:16:13.941 [TestMongoDBembed.main()] ERROR de.flapdoodle.embed.mongo.runtime.Mongod - Got some response, should be an error message\r\n```\r\nHow to get rid of this error?","title":"Error &quot;de.flapdoodle.embed.mongo.runtime.Mongod - Got some response, should be an error message&quot;","body":"<p>I want to test de.flapdoodle.embed.mongo version 4.9.3 and mongo-java-driver version 3.12.14.</p>\n<p>Based on <a href=\"https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo/blob/main/docs/Howto.md\" rel=\"nofollow noreferrer\">https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo/blob/main/docs/Howto.md</a> I've created following code:</p>\n<pre><code>import java.io.IOException;\nimport org.bson.Document;\n\nimport com.mongodb.MongoClient;\nimport com.mongodb.client.MongoCollection;\nimport com.mongodb.client.MongoDatabase;\n\nimport de.flapdoodle.embed.mongo.distribution.Version;\nimport de.flapdoodle.embed.mongo.transitions.Mongod;\nimport de.flapdoodle.embed.mongo.transitions.RunningMongodProcess;\nimport de.flapdoodle.embed.process.io.ImmutableProcessOutput;\nimport de.flapdoodle.embed.process.io.ProcessOutput;\nimport de.flapdoodle.embed.process.io.StreamProcessor;\nimport de.flapdoodle.reverse.Transition;\nimport de.flapdoodle.reverse.TransitionWalker;\nimport de.flapdoodle.reverse.transitions.Start;\n\nclass NullStreamProcessor implements StreamProcessor {\n    @Override\n    public void process(String block) {\n    }\n\n    @Override\n    public void onProcessed() {\n    }\n}\n\npublic class TestMongoDBembed {\n\n    public static void main(String[] args) throws IOException {\n        StreamProcessor nullStreamProcessor = new NullStreamProcessor();\n\n        Mongod mongod = new Mongod() {\n            @Override\n            public Transition&lt;ProcessOutput&gt; processOutput() {\n                ImmutableProcessOutput nullProcessOutput = ProcessOutput.builder()\n                        .output(nullStreamProcessor)\n                        .error(nullStreamProcessor)\n                        .commands(nullStreamProcessor)\n                        .build();\n                return Start.to(ProcessOutput.class)\n                        .initializedWith(nullProcessOutput)\n                        .withTransitionLabel(&quot;create null output&quot;);\n            }\n        };\n\n        try (TransitionWalker.ReachedState&lt;RunningMongodProcess&gt; running = mongod.start(Version.Main.V7_0)) {\n            try (MongoClient mongo = new MongoClient(running.current().getServerAddress().toString())) {\n                MongoDatabase db = mongo.getDatabase(&quot;testDatabase&quot;);\n                MongoCollection&lt;Document&gt; col = db.getCollection(&quot;testCollection&quot;);\n                col.insertOne(new Document(&quot;testString&quot;, &quot;testString&quot;));\n            }\n        }\n    }\n}\n</code></pre>\n<p>I'm getting following error:</p>\n<pre><code>22:16:13.941 [TestMongoDBembed.main()] ERROR de.flapdoodle.embed.mongo.runtime.Mongod - Got some response, should be an error message\n</code></pre>\n<p>How to get rid of this error?</p>\n"},{"tags":["java","plsql","oracle10g"],"comments":[{"owner":{"account_id":1826914,"reputation":523,"user_id":1659362,"accept_rate":75,"display_name":"hologram"},"score":2,"creation_date":1354517126,"post_id":13678387,"comment_id":18776944,"body_markdown":"Can&#39;t you do `list.size()` and go from there?","body":"Can&#39;t you do <code>list.size()</code> and go from there?"},{"owner":{"account_id":1587724,"reputation":1822,"user_id":1471699,"accept_rate":29,"display_name":"Srinivas B"},"score":0,"creation_date":1354517274,"post_id":13678387,"comment_id":18776987,"body_markdown":"list.size() will fetch the size of the list at the runtime. You need not worry about that. you can use this and split the arraylist into chunks with your desired size.","body":"list.size() will fetch the size of the list at the runtime. You need not worry about that. you can use this and split the arraylist into chunks with your desired size."},{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1354517512,"post_id":13678387,"comment_id":18777050,"body_markdown":"@SrinivasB, but there is no API method available right to split it based on my desired size? I need to explicitly mention range","body":"@SrinivasB, but there is no API method available right to split it based on my desired size? I need to explicitly mention range"},{"owner":{"account_id":1150337,"reputation":2204,"user_id":1132202,"display_name":"Subodh"},"score":0,"creation_date":1354518074,"post_id":13678387,"comment_id":18777212,"body_markdown":"I have posted the code to generate partitions, check it below.","body":"I have posted the code to generate partitions, check it below."},{"owner":{"account_id":1587724,"reputation":1822,"user_id":1471699,"accept_rate":29,"display_name":"Srinivas B"},"score":0,"creation_date":1354518409,"post_id":13678387,"comment_id":18777313,"body_markdown":"@pradeepsimha: Hi, i have given my code below. check it and let me know.","body":"@pradeepsimha: Hi, i have given my code below. check it and let me know."},{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1362333709,"post_id":13678387,"comment_id":21399129,"body_markdown":"Thanks for revenge downvote... !","body":"Thanks for revenge downvote... !"}],"answers":[{"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1354517287,"post_id":13678415,"comment_id":18776994,"body_markdown":"Yes I am looking for splitting a list into chunks of size&lt;=n, I am not getting logic to do that. Any idea would be very helpful","body":"Yes I am looking for splitting a list into chunks of size&lt;=n, I am not getting logic to do that. Any idea would be very helpful"}],"tags":[],"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1354517517,"creation_date":1354517199,"answer_id":13678415,"question_id":13678387,"body_markdown":"If you&#39;re constrained by PL/SQL `in` limits then you want to know how to split a list into chunks of size _&lt;=n_, where _n_ is the limit.  This is a much simpler problem as it _does not_ require knowing the size of the list in advance.\r\n\r\nPseudocode:\r\n\r\n    for (int n=0; n&lt;list.size(); n+=limit)\r\n    {\r\n        chunkSize = min(list.size,n+limit);\r\n        chunk     = list.sublist(n,chunkSize);\r\n        // do something with chunk\r\n    }","title":"How to split array list into equal parts?","body":"<p>If you're constrained by PL/SQL <code>in</code> limits then you want to know how to split a list into chunks of size <em>&lt;=n</em>, where <em>n</em> is the limit.  This is a much simpler problem as it <em>does not</em> require knowing the size of the list in advance.</p>\n\n<p>Pseudocode:</p>\n\n<pre><code>for (int n=0; n&lt;list.size(); n+=limit)\n{\n    chunkSize = min(list.size,n+limit);\n    chunk     = list.sublist(n,chunkSize);\n    // do something with chunk\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1275664,"reputation":1043,"user_id":1230995,"accept_rate":95,"display_name":"kosmič&#225;k"},"score":2,"creation_date":1401722141,"post_id":13678577,"comment_id":36982939,"body_markdown":"Shouldn&#39;t it be `Math.min(i + partitionSize, originalList.size() - i)`?","body":"Shouldn&#39;t it be <code>Math.min(i + partitionSize, originalList.size() - i)</code>?"},{"owner":{"account_id":1298494,"reputation":3394,"user_id":1248889,"accept_rate":100,"display_name":"jgawrych"},"score":2,"creation_date":1413914152,"post_id":13678577,"comment_id":41619832,"body_markdown":"I think it should be ```Math.min(i + partitionSize, originalList.size())```","body":"I think it should be <code>Math.min(i + partitionSize, originalList.size())</code>"},{"owner":{"account_id":3992,"reputation":8918,"user_id":5868,"accept_rate":83,"display_name":"John Montgomery"},"score":0,"creation_date":1439384702,"post_id":13678577,"comment_id":51839231,"body_markdown":"I&#39;ve edited to match Jonathan Gawrych&#39;s suggestion.  It&#39;s less confusing than the original of `i + Math.min(partitionSize, originalList.size() - i)`(note the extra subtraction of i in there).","body":"I&#39;ve edited to match Jonathan Gawrych&#39;s suggestion.  It&#39;s less confusing than the original of <code>i + Math.min(partitionSize, originalList.size() - i)</code>(note the extra subtraction of i in there)."}],"tags":[],"owner":{"account_id":1150337,"reputation":2204,"user_id":1132202,"display_name":"Subodh"},"comment_count":3,"down_vote_count":0,"up_vote_count":77,"is_accepted":true,"score":77,"last_activity_date":1698698646,"creation_date":1354517974,"answer_id":13678577,"question_id":13678387,"body_markdown":"This should give you all your parts:\r\n\r\n```java\r\nint partitionSize = 1000;\r\nList&lt;List&lt;Integer&gt;&gt; partitions = new LinkedList&lt;List&lt;Integer&gt;&gt;();\r\nfor (int i = 0; i &lt; originalList.size(); i += partitionSize) {\r\n    partitions.add(originalList.subList(i,\r\n            Math.min(i + partitionSize, originalList.size())));\r\n}\r\n```\r\n","title":"How to split array list into equal parts?","body":"<p>This should give you all your parts:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int partitionSize = 1000;\nList&lt;List&lt;Integer&gt;&gt; partitions = new LinkedList&lt;List&lt;Integer&gt;&gt;();\nfor (int i = 0; i &lt; originalList.size(); i += partitionSize) {\n    partitions.add(originalList.subList(i,\n            Math.min(i + partitionSize, originalList.size())));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1587724,"reputation":1822,"user_id":1471699,"accept_rate":29,"display_name":"Srinivas B"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1354518357,"creation_date":1354518357,"answer_id":13678651,"question_id":13678387,"body_markdown":"    listSize = oldlist.size();\r\n    chunksize =1000;\r\n    chunks = list.size()/chunksize;\r\n    ArrayList subLists;\r\n    ArrayList finalList;\r\n    int count = -1;\r\n    for(int i=0;i&lt;chunks;i++){\r\n         subLists = new ArrayList();\r\n         int j=0;\r\n         while(j&lt;chunksize &amp;&amp; count&lt;listSize){\r\n            subList.add(oldList.get(++count))\r\n            j++;\r\n         }\r\n         finalList.add(subLists)\r\n    }\r\n    \r\nYou can use this finalList as it contains the list of chuncks of the oldList.","title":"How to split array list into equal parts?","body":"<pre><code>listSize = oldlist.size();\nchunksize =1000;\nchunks = list.size()/chunksize;\nArrayList subLists;\nArrayList finalList;\nint count = -1;\nfor(int i=0;i&lt;chunks;i++){\n     subLists = new ArrayList();\n     int j=0;\n     while(j&lt;chunksize &amp;&amp; count&lt;listSize){\n        subList.add(oldList.get(++count))\n        j++;\n     }\n     finalList.add(subLists)\n}\n</code></pre>\n\n<p>You can use this finalList as it contains the list of chuncks of the oldList.</p>\n"},{"comments":[{"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"score":0,"creation_date":1393596791,"post_id":17969792,"comment_id":33517081,"body_markdown":"Generic but lacks compile time checks when using Object instead of Java Generics","body":"Generic but lacks compile time checks when using Object instead of Java Generics"}],"tags":[],"owner":{"account_id":1648711,"reputation":7,"user_id":1519694,"display_name":"Shrenik"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1375272025,"creation_date":1375272025,"answer_id":17969792,"question_id":13678387,"body_markdown":"generic method for your help : \r\n\r\n    private static List&lt;List&lt;Object&gt;&gt; createBatch(List&lt;Object&gt; originalList,\r\n\t\t\tint chunkSize) {\r\n\t\tList&lt;List&lt;Object&gt;&gt; listOfChunks = new ArrayList&lt;List&lt;Object&gt;&gt;();\r\n\t\tfor (int i = 0; i &lt; originalList.size() / chunkSize; i++) {\r\n\t\t\tlistOfChunks.add(originalList.subList(i * chunkSize, i * chunkSize\r\n\t\t\t\t\t+ chunkSize));\r\n\t\t}\r\n\t\tif (originalList.size() % chunkSize != 0) {\r\n\t\t\tlistOfChunks.add(originalList.subList(originalList.size()\r\n\t\t\t\t\t- originalList.size() % chunkSize, originalList.size()));\r\n\t\t}\r\n\t\treturn listOfChunks;","title":"How to split array list into equal parts?","body":"<p>generic method for your help : </p>\n\n<pre><code>private static List&lt;List&lt;Object&gt;&gt; createBatch(List&lt;Object&gt; originalList,\n        int chunkSize) {\n    List&lt;List&lt;Object&gt;&gt; listOfChunks = new ArrayList&lt;List&lt;Object&gt;&gt;();\n    for (int i = 0; i &lt; originalList.size() / chunkSize; i++) {\n        listOfChunks.add(originalList.subList(i * chunkSize, i * chunkSize\n                + chunkSize));\n    }\n    if (originalList.size() % chunkSize != 0) {\n        listOfChunks.add(originalList.subList(originalList.size()\n                - originalList.size() % chunkSize, originalList.size()));\n    }\n    return listOfChunks;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2255261,"reputation":1459,"user_id":1986576,"display_name":"HenryChuang"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1390219749,"creation_date":1390219749,"answer_id":21233731,"question_id":13678387,"body_markdown":"generic function :\r\n\r\n    public static &lt;T&gt; ArrayList&lt;T[]&gt; chunks(ArrayList&lt;T&gt; bigList,int n){\r\n\t\tArrayList&lt;T[]&gt; chunks = new ArrayList&lt;T[]&gt;();\r\n\r\n\t\tfor (int i = 0; i &lt; bigList.size(); i += n) {\r\n\t\t\tT[] chunk = (T[])bigList.subList(i, Math.min(bigList.size(), i + n)).toArray();\t\t\t\r\n\t\t\tchunks.add(chunk);\r\n\t\t}\r\n\t\t\r\n\t\treturn chunks;\r\n\t}\r\n\r\n\r\nenjoy it~ :)","title":"How to split array list into equal parts?","body":"<p>generic function :</p>\n\n<pre><code>public static &lt;T&gt; ArrayList&lt;T[]&gt; chunks(ArrayList&lt;T&gt; bigList,int n){\n    ArrayList&lt;T[]&gt; chunks = new ArrayList&lt;T[]&gt;();\n\n    for (int i = 0; i &lt; bigList.size(); i += n) {\n        T[] chunk = (T[])bigList.subList(i, Math.min(bigList.size(), i + n)).toArray();         \n        chunks.add(chunk);\n    }\n\n    return chunks;\n}\n</code></pre>\n\n<p>enjoy it~ :)</p>\n"},{"tags":[],"owner":{"account_id":5011607,"reputation":19,"user_id":4027728,"display_name":"Akhil Singhal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457097313,"creation_date":1457097125,"answer_id":35796988,"question_id":13678387,"body_markdown":"I am also doing key:value mapping for values with index.  \n    \n      public static void partitionOfList(List&lt;Object&gt; l1, List&lt;Object&gt; l2, int partitionSize){\n                Map&lt;String, List&lt;Object&gt;&gt; mapListData = new LinkedHashMap&lt;String, List&lt;Object&gt;&gt;();\n                List&lt;Object&gt; partitions = new LinkedList&lt;Object&gt;();\n                for (int i = 0; i &lt; l1.size(); i += partitionSize) {\n                    partitions.add(l1.subList(i,Math.min(i + partitionSize, l1.size())));\n                    l2=new ArrayList(partitions);\n                }\n                int l2size = l2.size();\n                System.out.println(&quot;Partitioned List: &quot;+l2);\n                int j=1;\n                for(int k=0;k&lt;l2size;k++){\n                     l2=(List&lt;Object&gt;) partitions.get(k);\n                    // System.out.println(l2.size());\n                     if(l2.size()&gt;=partitionSize &amp;&amp; l2.size()!=1){\n                    mapListData.put(&quot;val&quot;+j+&quot;-val&quot;+(j+partitionSize-1), l2);\n                    j=j+partitionSize;\n                     }\n                     else if(l2.size()&lt;=partitionSize &amp;&amp; l2.size()!=1){\n                        // System.out.println(&quot;::::@@::&quot;+ l2.size());\n                         int s = l2.size();\n                         mapListData.put(&quot;val&quot;+j+&quot;-val&quot;+(j+s-1), l2);\n                            //k++;\n                            j=j+partitionSize;\n                     }\n                     else if(l2.size()==1){\n                        // System.out.println(&quot;::::::&quot;+ l2.size());\n                         //int s = l2.size();\n                         mapListData.put(&quot;val&quot;+j, l2);\n                            //k++;\n                            j=j+partitionSize;\n                     }\n                }\n                System.out.println(&quot;Map: &quot; +mapListData);\n            }\n        \n        public static void main(String[] args) {\n                List l1 = new LinkedList();\n                l1.add(1);\n                l1.add(2);\n                l1.add(7);\n                l1.add(4);\n                l1.add(0);\n                l1.add(77);\n                l1.add(34);\n        \n        partitionOfList(l1,l2,2);\n        }\n    \nOutput:\n\n&gt;    Partitioned List: [[1, 2], [7, 4], [0, 77], [34]]\n&gt;\n&gt;    Map: {val1-val2=[1, 2], val3-val4=[7, 4], val5-val6=[0, 77], val7=[34]}","title":"How to split array list into equal parts?","body":"<p>I am also doing key:value mapping for values with index.</p>\n<pre><code>  public static void partitionOfList(List&lt;Object&gt; l1, List&lt;Object&gt; l2, int partitionSize){\n            Map&lt;String, List&lt;Object&gt;&gt; mapListData = new LinkedHashMap&lt;String, List&lt;Object&gt;&gt;();\n            List&lt;Object&gt; partitions = new LinkedList&lt;Object&gt;();\n            for (int i = 0; i &lt; l1.size(); i += partitionSize) {\n                partitions.add(l1.subList(i,Math.min(i + partitionSize, l1.size())));\n                l2=new ArrayList(partitions);\n            }\n            int l2size = l2.size();\n            System.out.println(&quot;Partitioned List: &quot;+l2);\n            int j=1;\n            for(int k=0;k&lt;l2size;k++){\n                 l2=(List&lt;Object&gt;) partitions.get(k);\n                // System.out.println(l2.size());\n                 if(l2.size()&gt;=partitionSize &amp;&amp; l2.size()!=1){\n                mapListData.put(&quot;val&quot;+j+&quot;-val&quot;+(j+partitionSize-1), l2);\n                j=j+partitionSize;\n                 }\n                 else if(l2.size()&lt;=partitionSize &amp;&amp; l2.size()!=1){\n                    // System.out.println(&quot;::::@@::&quot;+ l2.size());\n                     int s = l2.size();\n                     mapListData.put(&quot;val&quot;+j+&quot;-val&quot;+(j+s-1), l2);\n                        //k++;\n                        j=j+partitionSize;\n                 }\n                 else if(l2.size()==1){\n                    // System.out.println(&quot;::::::&quot;+ l2.size());\n                     //int s = l2.size();\n                     mapListData.put(&quot;val&quot;+j, l2);\n                        //k++;\n                        j=j+partitionSize;\n                 }\n            }\n            System.out.println(&quot;Map: &quot; +mapListData);\n        }\n    \n    public static void main(String[] args) {\n            List l1 = new LinkedList();\n            l1.add(1);\n            l1.add(2);\n            l1.add(7);\n            l1.add(4);\n            l1.add(0);\n            l1.add(77);\n            l1.add(34);\n    \n    partitionOfList(l1,l2,2);\n    }\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>Partitioned List: [[1, 2], [7, 4], [0, 77], [34]]</p>\n<p>Map: {val1-val2=[1, 2], val3-val4=[7, 4], val5-val6=[0, 77], val7=[34]}</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":0,"creation_date":1472584470,"post_id":39220959,"comment_id":65807821,"body_markdown":"I think you can just use `Collectors.toList()` as the collector.","body":"I think you can just use <code>Collectors.toList()</code> as the collector."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1472584823,"post_id":39220959,"comment_id":65808032,"body_markdown":"@StuartMarks I already used it a couple of times, but forgotten here.","body":"@StuartMarks I already used it a couple of times, but forgotten here."},{"owner":{"account_id":4776,"reputation":16345,"user_id":7355,"accept_rate":87,"display_name":"Fran&#231;ois Beausoleil"},"score":1,"creation_date":1574049789,"post_id":39220959,"comment_id":104078205,"body_markdown":"Hmm, I think in &quot;new style&quot;, the `3` should be `G`, no?","body":"Hmm, I think in &quot;new style&quot;, the <code>3</code> should be <code>G</code>, no?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1574066359,"post_id":39220959,"comment_id":104083504,"body_markdown":"@Fran&#231;oisBeausoleil yes, naturellement.","body":"@Fran&#231;oisBeausoleil yes, naturellement."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1636256868,"creation_date":1472540883,"answer_id":39220959,"question_id":13678387,"body_markdown":"Java 8 (not that it has advantages):\r\n```java\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\nCollections.addAll(list,  &quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;b&quot;,&quot;c&quot;,&quot;a&quot;,&quot;c&quot;,&quot;a&quot;,&quot;b&quot;);\r\n```\r\nGrouping size:\r\n```java\r\nfinal int G = 3;\r\nfinal int NG = (list.size() + G - 1) / G;\r\n```\r\nIn old style:\r\n```java\r\nList&lt;List&lt;String&gt;&gt; result = new ArrayList(NG);\r\nIntStream.range(0, list.size())\r\n    .forEach(i -&gt; {\r\n        if (i % G == 0) {\r\n            result.add(i/G, new ArrayList&lt;&gt;());\r\n        }\r\n        result.get(i/G).add(list.get(i));\r\n    });\r\n```\r\nIn new style:\r\n```java\r\nList&lt;List&lt;String&gt;&gt; result = IntStream.range(0, NG)\r\n    .mapToObj(i -&gt; list.subList(G * i, Math.min(G * i + G, list.size())))\r\n    .collect(Collectors.toList());\r\n```\r\nThanks to @StuartMarks for the forgotten toList.\r\n","title":"How to split array list into equal parts?","body":"<p>Java 8 (not that it has advantages):</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\nCollections.addAll(list,  &quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;b&quot;,&quot;c&quot;,&quot;a&quot;,&quot;c&quot;,&quot;a&quot;,&quot;b&quot;);\n</code></pre>\n<p>Grouping size:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final int G = 3;\nfinal int NG = (list.size() + G - 1) / G;\n</code></pre>\n<p>In old style:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;String&gt;&gt; result = new ArrayList(NG);\nIntStream.range(0, list.size())\n    .forEach(i -&gt; {\n        if (i % G == 0) {\n            result.add(i/G, new ArrayList&lt;&gt;());\n        }\n        result.get(i/G).add(list.get(i));\n    });\n</code></pre>\n<p>In new style:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;String&gt;&gt; result = IntStream.range(0, NG)\n    .mapToObj(i -&gt; list.subList(G * i, Math.min(G * i + G, list.size())))\n    .collect(Collectors.toList());\n</code></pre>\n<p>Thanks to @StuartMarks for the forgotten toList.</p>\n"},{"tags":[],"owner":{"account_id":2584375,"reputation":7820,"user_id":2240409,"accept_rate":79,"display_name":"dazito"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1482512729,"creation_date":1482512729,"answer_id":41305286,"question_id":13678387,"body_markdown":"If you already have or don&#39;t mind adding the Guava library, you don&#39;t need to reinvent the wheel.\r\n\r\nSimply do: `final List&lt;List&lt;String&gt;&gt; splittedList = Lists.partition(bigList, 10);`\r\n\r\nwhere `bigList` implements the `List` interface and `10` is the desired size of each sublist (the last may be smaller)","title":"How to split array list into equal parts?","body":"<p>If you already have or don't mind adding the Guava library, you don't need to reinvent the wheel.</p>\n\n<p>Simply do: <code>final List&lt;List&lt;String&gt;&gt; splittedList = Lists.partition(bigList, 10);</code></p>\n\n<p>where <code>bigList</code> implements the <code>List</code> interface and <code>10</code> is the desired size of each sublist (the last may be smaller)</p>\n"},{"tags":[],"owner":{"account_id":15184724,"reputation":51,"user_id":10957072,"display_name":"Medium core"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575463047,"creation_date":1550735961,"answer_id":54801978,"question_id":13678387,"body_markdown":"The following code:\r\n```java\r\nprivate static List&lt;List&lt;Object&gt;&gt; createBatch(List&lt;Object&gt; originalList, int batch_size) {\r\n    int Length = originalList.size();\r\n    int chunkSize = Length / batch_size;\r\n    int residual = Length-chunkSize*batch_size;\r\n    List&lt;Integer&gt; list_nums = new ArrayList&lt;Integer&gt;();\r\n    for (int i = 0; i &lt; batch_size; i++) {\r\n        list_nums.add(chunkSize);\r\n    }\r\n    for (int i = 0; i &lt; residual; i++) {\r\n        list_nums.set(i, list_nums.get(i) + 1);\r\n    }\r\n    List&lt;Integer&gt; list_index = new ArrayList&lt;Integer&gt;();\r\n    int cumulative = 0;\r\n    for (int i = 0; i &lt; batch_size; i++) {\r\n        list_index.add(cumulative);\r\n        cumulative += list_nums.get(i);\r\n    }\r\n    list_index.add(cumulative);\r\n    List&lt;List&lt;Object&gt;&gt; listOfChunks = new ArrayList&lt;List&lt;Object&gt;&gt;();\r\n    for (int i = 0; i &lt; batch_size; i++) {\r\n        listOfChunks.add(originalList.subList(list_index.get(i), list_index.get(i + 1)));\r\n    }\r\n    return listOfChunks;\r\n}\r\n```\r\nproduces the following output:\r\n\r\n      //[0,..,99] equally partition into 6 batch\r\n      // result:batch_size=[17,17,17,17,16,16]\r\n      //Continually partition into 6 batch, and residual also equally \r\n      //partition into top n batch\r\n      // Output:\r\n      [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]    \r\n      [17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33] \r\n      [34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50] \r\n      [51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67] \r\n      [68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83]       \r\n      [84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99]  ","title":"How to split array list into equal parts?","body":"<p>The following code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static List&lt;List&lt;Object&gt;&gt; createBatch(List&lt;Object&gt; originalList, int batch_size) {\n    int Length = originalList.size();\n    int chunkSize = Length / batch_size;\n    int residual = Length-chunkSize*batch_size;\n    List&lt;Integer&gt; list_nums = new ArrayList&lt;Integer&gt;();\n    for (int i = 0; i &lt; batch_size; i++) {\n        list_nums.add(chunkSize);\n    }\n    for (int i = 0; i &lt; residual; i++) {\n        list_nums.set(i, list_nums.get(i) + 1);\n    }\n    List&lt;Integer&gt; list_index = new ArrayList&lt;Integer&gt;();\n    int cumulative = 0;\n    for (int i = 0; i &lt; batch_size; i++) {\n        list_index.add(cumulative);\n        cumulative += list_nums.get(i);\n    }\n    list_index.add(cumulative);\n    List&lt;List&lt;Object&gt;&gt; listOfChunks = new ArrayList&lt;List&lt;Object&gt;&gt;();\n    for (int i = 0; i &lt; batch_size; i++) {\n        listOfChunks.add(originalList.subList(list_index.get(i), list_index.get(i + 1)));\n    }\n    return listOfChunks;\n}\n</code></pre>\n\n<p>produces the following output:</p>\n\n<pre><code>  //[0,..,99] equally partition into 6 batch\n  // result:batch_size=[17,17,17,17,16,16]\n  //Continually partition into 6 batch, and residual also equally \n  //partition into top n batch\n  // Output:\n  [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]    \n  [17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33] \n  [34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50] \n  [51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67] \n  [68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83]       \n  [84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99]  \n</code></pre>\n"}],"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87062,"favorite_count":0,"down_vote_count":2,"up_vote_count":34,"accepted_answer_id":13678577,"answer_count":9,"score":32,"last_activity_date":1698698646,"creation_date":1354517008,"question_id":13678387,"body_markdown":"Is there anyway to split ArrayList into different parts without knowing size of it until runtime? I know there is a method called:\r\n\r\n    list.subList(a,b);\r\n\r\nbut we need to explicitly mention staring and ending range of list.\r\nMy problem is, we get a arraylist containing account numbers which is having data like 2000,4000 account numbers (there numbers will not be known during coding time), and I need to pass this acc nos into IN query of PL/SQL, as IN doesn&#39;t support more than 1000 values in it, I am trying to split into multiple chunks and sending it to query\r\n\r\nNote: I cannot use any external libraries like Guava etc.. :(\r\nAny guide in this regard is appreciated.","title":"How to split array list into equal parts?","body":"<p>Is there anyway to split ArrayList into different parts without knowing size of it until runtime? I know there is a method called:</p>\n\n<pre><code>list.subList(a,b);\n</code></pre>\n\n<p>but we need to explicitly mention staring and ending range of list.\nMy problem is, we get a arraylist containing account numbers which is having data like 2000,4000 account numbers (there numbers will not be known during coding time), and I need to pass this acc nos into IN query of PL/SQL, as IN doesn't support more than 1000 values in it, I am trying to split into multiple chunks and sending it to query</p>\n\n<p>Note: I cannot use any external libraries like Guava etc.. :(\nAny guide in this regard is appreciated.</p>\n"},{"tags":["java","user-interface","swing","awt"],"answers":[{"tags":[],"owner":{"account_id":17205,"reputation":7140,"user_id":38264,"accept_rate":67,"display_name":"z  -"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1429516914,"creation_date":1242651527,"answer_id":877614,"question_id":877570,"body_markdown":"you&#39;ll want to use the [GraphicsEnvironment][1].\r\n\r\nIn particular, getScreenDevices() returns an array of [GraphicsDevice][2] objects from which you can read the width/height of the display mode.\r\n\r\nExample: \r\n\r\n    GraphicsEnvironment g = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n    GraphicsDevice[] devices = g.getScreenDevices();\r\n\t\t\r\n\tfor (int i = 0; i &lt; devices.length; i++) {\r\n\t\tSystem.out.println(&quot;Width:&quot; + devices[i].getDisplayMode().getWidth());\r\n\t\tSystem.out.println(&quot;Height:&quot; + devices[i].getDisplayMode().getHeight());\r\n\t} \r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/awt/GraphicsEnvironment.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/awt/GraphicsDevice.html","title":"Java: Getting resolutions of one/all available monitors (instead of the whole desktop)?","body":"<p>you'll want to use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/awt/GraphicsEnvironment.html\" rel=\"noreferrer\">GraphicsEnvironment</a>.</p>\n\n<p>In particular, getScreenDevices() returns an array of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/awt/GraphicsDevice.html\" rel=\"noreferrer\">GraphicsDevice</a> objects from which you can read the width/height of the display mode.</p>\n\n<p>Example: </p>\n\n<pre><code>GraphicsEnvironment g = GraphicsEnvironment.getLocalGraphicsEnvironment();\nGraphicsDevice[] devices = g.getScreenDevices();\n\nfor (int i = 0; i &lt; devices.length; i++) {\n    System.out.println(\"Width:\" + devices[i].getDisplayMode().getWidth());\n    System.out.println(\"Height:\" + devices[i].getDisplayMode().getHeight());\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":29379885,"reputation":11,"user_id":22510636,"display_name":"bobeojoe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698698089,"creation_date":1698698089,"answer_id":77391683,"question_id":877570,"body_markdown":"I came accross this thread when trying to implement a way to capture all screens on any given computer in a single screenshot, and could not find an answer as to how to accomplish this anywhere else.\r\n\r\n In my case, `Toolkit.getDefaultToolkit().getScreenSize()` would only return the resolution of the primary monitor. I made the following method to create a `Rectangle` that has an origin at the top-leftmost point between all monitors, and is large enough to capture all the content on all the monitors supplied by `GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()` when passed to `Robot().createScreenCapture`.\r\n\r\n```\r\nprivate Rectangle allScreensRectangle()\r\n{\r\n    // make array of all screens\r\n    GraphicsDevice[] screens = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices();\r\n    \r\n    // start out with the rectangle of the primary monitor\r\n    Rectangle allScreens = screens[0].getDefaultConfiguration().getBounds();\r\n    for (int i = 1; i &lt; screens.length; i++)\r\n    {\r\n        Rectangle screenRect = screens[i].getDefaultConfiguration().getBounds();\r\n\r\n        // expand the size of the capture region to include any area in the x/y dimension that is outside the already-defined rectangle\r\n        allScreens.width += (screenRect.width - (screenRect.width - Math.abs(screenRect.x)));\r\n        allScreens.height += (screenRect.height - (screenRect.height - Math.abs(screenRect.y)));\r\n\r\n        // ensure the origin point is always at the top-leftmost point of all monitors.\r\n        allScreens.x = Math.min(allScreens.x, screenRect.x);\r\n        allScreens.y = Math.min(allScreens.y, screenRect.y);\r\n    }\r\n    return allScreens;\r\n}\r\n```","title":"Java: Getting resolutions of one/all available monitors (instead of the whole desktop)?","body":"<p>I came accross this thread when trying to implement a way to capture all screens on any given computer in a single screenshot, and could not find an answer as to how to accomplish this anywhere else.</p>\n<p>In my case, <code>Toolkit.getDefaultToolkit().getScreenSize()</code> would only return the resolution of the primary monitor. I made the following method to create a <code>Rectangle</code> that has an origin at the top-leftmost point between all monitors, and is large enough to capture all the content on all the monitors supplied by <code>GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()</code> when passed to <code>Robot().createScreenCapture</code>.</p>\n<pre><code>private Rectangle allScreensRectangle()\n{\n    // make array of all screens\n    GraphicsDevice[] screens = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices();\n    \n    // start out with the rectangle of the primary monitor\n    Rectangle allScreens = screens[0].getDefaultConfiguration().getBounds();\n    for (int i = 1; i &lt; screens.length; i++)\n    {\n        Rectangle screenRect = screens[i].getDefaultConfiguration().getBounds();\n\n        // expand the size of the capture region to include any area in the x/y dimension that is outside the already-defined rectangle\n        allScreens.width += (screenRect.width - (screenRect.width - Math.abs(screenRect.x)));\n        allScreens.height += (screenRect.height - (screenRect.height - Math.abs(screenRect.y)));\n\n        // ensure the origin point is always at the top-leftmost point of all monitors.\n        allScreens.x = Math.min(allScreens.x, screenRect.x);\n        allScreens.y = Math.min(allScreens.y, screenRect.y);\n    }\n    return allScreens;\n}\n</code></pre>\n"}],"owner":{"account_id":28564,"reputation":19193,"user_id":76393,"accept_rate":65,"display_name":"ivan_ivanovich_ivanoff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7337,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":877614,"answer_count":2,"score":19,"last_activity_date":1698698089,"creation_date":1242651019,"question_id":877570,"body_markdown":"I have two different-sized monitors, connected together using (I believe) TwinView.\r\n\r\nI tried\r\n\r\n    System.out.println(Toolkit.getDefaultToolkit().getScreenSize());\r\n\r\nand get\r\n\r\n    java.awt.Dimension[width=2960,height=1050]\r\n\r\nwhich is true if you count both monitors **together**.\r\n\r\nInstead of this, I would like to be able achieving **one** of the following:\r\n\r\n - getting resolution of the current monitor\r\n - getting resolution of the main monitor\r\n","title":"Java: Getting resolutions of one/all available monitors (instead of the whole desktop)?","body":"<p>I have two different-sized monitors, connected together using (I believe) TwinView.</p>\n\n<p>I tried</p>\n\n<pre><code>System.out.println(Toolkit.getDefaultToolkit().getScreenSize());\n</code></pre>\n\n<p>and get</p>\n\n<pre><code>java.awt.Dimension[width=2960,height=1050]\n</code></pre>\n\n<p>which is true if you count both monitors <strong>together</strong>.</p>\n\n<p>Instead of this, I would like to be able achieving <strong>one</strong> of the following:</p>\n\n<ul>\n<li>getting resolution of the current monitor</li>\n<li>getting resolution of the main monitor</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1698695375,"post_id":77391438,"comment_id":136435599,"body_markdown":"Does this answer your question? [Read input stream twice](https://stackoverflow.com/questions/9501237/read-input-stream-twice)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9501237/read-input-stream-twice\">Read input stream twice</a>"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1698845668,"post_id":77391438,"comment_id":136456305,"body_markdown":"Mastering Scanner is such a waste of time. If you go on to be a professional, the chances that you ever need to use this are minimal. And in terms of input validation, HTML 5&#39;s input.pattern (and other attributes for number fields, etc) are the state of the art and (IMO) much more useful to learn.","body":"Mastering Scanner is such a waste of time. If you go on to be a professional, the chances that you ever need to use this are minimal. And in terms of input validation, HTML 5&#39;s input.pattern (and other attributes for number fields, etc) are the state of the art and (IMO) much more useful to learn."}],"answers":[{"tags":[],"owner":{"account_id":3977656,"reputation":431,"user_id":3280444,"display_name":"Sharad Nanda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698697100,"creation_date":1698697100,"answer_id":77391604,"question_id":77391438,"body_markdown":"You can improve multiple areas in your code. Your main challenge is not actually to reset the scanner but rather ensure right acceptance of data. If the threshold exceeds then the data must not be recorded.\r\n\r\nYou can create an array and right away start filling it up. Once it crosses the threshold of 9 numbers you must just check if there are still any more numbers left. If there are still more incoming numbers then you can give that error message and reset your filled out array. \r\n\r\n*FYR Code:* \r\n\r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n    \r\n    public class CorrectLabProgram {\r\n        private final static int SIZE = 9;\r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            int[] v = new int[SIZE];\r\n            int i = 0;\r\n            while (i &lt; 9 &amp;&amp; scan.hasNext()) {\r\n                v[i] = scan.nextInt();\r\n                i++;\r\n            }\r\n            if (scan.hasNext()) {\r\n                System.out.println(&quot;Too many numbers&quot;);\r\n                // You can reset your array here either way\r\n                Arrays.fill(v, 0);\r\n                v = null;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nI also added some comments to your original code\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class LabProgram {\r\n        public static void main(String[] args) {\r\n            Scanner scnr = new Scanner(System.in);\r\n            int length; // Unused variable\r\n            int i;\r\n            boolean tm = false;\r\n            for(i = 0; scnr.hasNextInt(); i++){\r\n                int x = scnr.nextInt();  // Unused variable\r\n                if(i &gt; 9){\r\n                    tm = true;\r\n                    System.out.print(&quot;Too many numbers&quot;);\r\n                    break;\r\n                }\r\n    \r\n            }\r\n            if(!tm){\r\n                int[] v = new int[i]; // This can create size 10 array which would be undesirable\r\n                Scanner scn = new Scanner(System.in); // Unused variable\r\n                for(i = 0; i &lt; v.length; i++){\r\n                    v[i] = scnr.nextInt();\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to Run New Scanner Sucessfully","body":"<p>You can improve multiple areas in your code. Your main challenge is not actually to reset the scanner but rather ensure right acceptance of data. If the threshold exceeds then the data must not be recorded.</p>\n<p>You can create an array and right away start filling it up. Once it crosses the threshold of 9 numbers you must just check if there are still any more numbers left. If there are still more incoming numbers then you can give that error message and reset your filled out array.</p>\n<p><em>FYR Code:</em></p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class CorrectLabProgram {\n    private final static int SIZE = 9;\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int[] v = new int[SIZE];\n        int i = 0;\n        while (i &lt; 9 &amp;&amp; scan.hasNext()) {\n            v[i] = scan.nextInt();\n            i++;\n        }\n        if (scan.hasNext()) {\n            System.out.println(&quot;Too many numbers&quot;);\n            // You can reset your array here either way\n            Arrays.fill(v, 0);\n            v = null;\n        }\n    }\n}\n</code></pre>\n<p>I also added some comments to your original code</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n        int length; // Unused variable\n        int i;\n        boolean tm = false;\n        for(i = 0; scnr.hasNextInt(); i++){\n            int x = scnr.nextInt();  // Unused variable\n            if(i &gt; 9){\n                tm = true;\n                System.out.print(&quot;Too many numbers&quot;);\n                break;\n            }\n\n        }\n        if(!tm){\n            int[] v = new int[i]; // This can create size 10 array which would be undesirable\n            Scanner scn = new Scanner(System.in); // Unused variable\n            for(i = 0; i &lt; v.length; i++){\n                v[i] = scnr.nextInt();\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29704556,"reputation":7,"user_id":22765726,"display_name":"PimpShrimp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1698697100,"creation_date":1698695097,"question_id":77391438,"body_markdown":"Trying to get the scanner to start from the beginning but receiving an error code while doing so. The code currently is only supposed to make sure the input does not have more than nine integers, otherwise it will output &quot;Too many number&quot;, and I am trying to make in put the integers into the array &quot;v&quot;.\r\n\r\n    import java.util.Scanner; \r\n\r\n    public class LabProgram {\r\n       public static void main(String[] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          int length;\r\n          int i;\r\n          boolean tm = false;\r\n          for(i = 0; scnr.hasNextInt(); i++){\r\n             int x = scnr.nextInt();\r\n             if(i &gt; 9){\r\n                tm = true;\r\n                System.out.print(&quot;Too many numbers&quot;);\r\n                break;\r\n             }\r\n            \r\n          }\r\n         if(!tm){\r\n             int[] v = new int[i];\r\n             Scanner scn = new Scanner(System.in);\r\n             for(i = 0; i &lt; v.length; i++){\r\n                v[i] = scnr.nextInt();\r\n             }\r\n          }\r\n       }\r\n    }\r\n","title":"How to Run New Scanner Sucessfully","body":"<p>Trying to get the scanner to start from the beginning but receiving an error code while doing so. The code currently is only supposed to make sure the input does not have more than nine integers, otherwise it will output &quot;Too many number&quot;, and I am trying to make in put the integers into the array &quot;v&quot;.</p>\n<pre><code>import java.util.Scanner; \n\npublic class LabProgram {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      int length;\n      int i;\n      boolean tm = false;\n      for(i = 0; scnr.hasNextInt(); i++){\n         int x = scnr.nextInt();\n         if(i &gt; 9){\n            tm = true;\n            System.out.print(&quot;Too many numbers&quot;);\n            break;\n         }\n        \n      }\n     if(!tm){\n         int[] v = new int[i];\n         Scanner scn = new Scanner(System.in);\n         for(i = 0; i &lt; v.length; i++){\n            v[i] = scnr.nextInt();\n         }\n      }\n   }\n}\n</code></pre>\n"},{"tags":["java","javax.imageio"],"owner":{"account_id":6211203,"reputation":87,"user_id":13660973,"display_name":"FarHooD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698740508,"answer_count":0,"score":0,"last_activity_date":1698696805,"creation_date":1698695762,"question_id":77391496,"body_markdown":"I have a JPEG image that need to set Metadata JFIF X and Y Resolution, but I don&#39;t know how I can do it. Please be Aware I don&#39;t need set Image Vertical and Horizental resolution! I need added Into JFIF X and Y Resolution as dot with Java. Some Extracted Meta Info :\r\n\r\n```\r\n[JPEG] Compression Type - Baseline\r\n[JPEG] Data Precision - 8 bits\r\n[JPEG] Image Height - 2867 pixels\r\n[JPEG] Image Width - 4448 pixels\r\n[JPEG] Number of Components - 3\r\n[JPEG] Component 1 - Y component: Quantization table 0, Sampling factors 2 horiz/2 vert\r\n[JPEG] Component 2 - Cb component: Quantization table 1, Sampling factors 1 horiz/1 vert\r\n[JPEG] Component 3 - Cr component: Quantization table 1, Sampling factors 1 horiz/1 vert\r\n[JFIF] Version - 1.1\r\n[JFIF] Resolution Units - inch\r\n[JFIF] X Resolution - 32 dots  &lt;------Here What I need to Change\r\n[JFIF] Y Resolution - 32 dots  &lt;------Here What I need to Change\r\n[JFIF] Thumbnail Width Pixels - 0\r\n[JFIF] Thumbnail Height Pixels - 0\r\n[Huffman] Number of Tables - 4 Huffman tables\r\n[File Type] Detected File Type Name - JPEG\r\n[File Type] Detected File Type Long Name - Joint Photographic Experts Group\r\n[File Type] Detected MIME Type - image/jpeg\r\n[File Type] Expected File Name Extension - jpg\r\n[File] File Name - project-desk-26a124af27488a761b7a7b8b636500bc (1).jpg\r\n[File] File Size - 1325321 bytes\r\n[File] File Modified Date - Mon Oct 30 06:02:48 +03:30 2023\r\n\r\n--------------------------------------------------------\r\n```\r\n[More Example for read metadata At here,][1] but no edit meta data!\r\n\r\n\r\n  [1]: https://github.com/drewnoakes/metadata-extractor/wiki/SampleOutput","title":"Changing JFIF X and Y Resolution with Java","body":"<p>I have a JPEG image that need to set Metadata JFIF X and Y Resolution, but I don't know how I can do it. Please be Aware I don't need set Image Vertical and Horizental resolution! I need added Into JFIF X and Y Resolution as dot with Java. Some Extracted Meta Info :</p>\n<pre><code>[JPEG] Compression Type - Baseline\n[JPEG] Data Precision - 8 bits\n[JPEG] Image Height - 2867 pixels\n[JPEG] Image Width - 4448 pixels\n[JPEG] Number of Components - 3\n[JPEG] Component 1 - Y component: Quantization table 0, Sampling factors 2 horiz/2 vert\n[JPEG] Component 2 - Cb component: Quantization table 1, Sampling factors 1 horiz/1 vert\n[JPEG] Component 3 - Cr component: Quantization table 1, Sampling factors 1 horiz/1 vert\n[JFIF] Version - 1.1\n[JFIF] Resolution Units - inch\n[JFIF] X Resolution - 32 dots  &lt;------Here What I need to Change\n[JFIF] Y Resolution - 32 dots  &lt;------Here What I need to Change\n[JFIF] Thumbnail Width Pixels - 0\n[JFIF] Thumbnail Height Pixels - 0\n[Huffman] Number of Tables - 4 Huffman tables\n[File Type] Detected File Type Name - JPEG\n[File Type] Detected File Type Long Name - Joint Photographic Experts Group\n[File Type] Detected MIME Type - image/jpeg\n[File Type] Expected File Name Extension - jpg\n[File] File Name - project-desk-26a124af27488a761b7a7b8b636500bc (1).jpg\n[File] File Size - 1325321 bytes\n[File] File Modified Date - Mon Oct 30 06:02:48 +03:30 2023\n\n--------------------------------------------------------\n</code></pre>\n<p><a href=\"https://github.com/drewnoakes/metadata-extractor/wiki/SampleOutput\" rel=\"nofollow noreferrer\">More Example for read metadata At here,</a> but no edit meta data!</p>\n"},{"tags":["java","string","object","comparator"],"answers":[{"tags":[],"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"comment_count":0,"down_vote_count":2,"up_vote_count":23,"is_accepted":true,"score":21,"last_activity_date":1516575797,"creation_date":1344038406,"answer_id":11804744,"question_id":11804733,"body_markdown":"The `Arrays` class has versions of `sort()` and `binarySearch()` which don&#39;t require a `Comparator.` For example, you can use [the version of `Arrays.sort()` which just takes an array of objects](http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort(java.lang.Object[])). These methods call the `compareTo()` method of the objects in the array.\r\n","title":"Java get String CompareTo as a comparator object","body":"<p>The <code>Arrays</code> class has versions of <code>sort()</code> and <code>binarySearch()</code> which don't require a <code>Comparator.</code> For example, you can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort(java.lang.Object[])\" rel=\"nofollow noreferrer\">the version of <code>Arrays.sort()</code> which just takes an array of objects</a>. These methods call the <code>compareTo()</code> method of the objects in the array.</p>\n"},{"comments":[{"owner":{"account_id":429789,"reputation":8649,"user_id":812868,"accept_rate":78,"display_name":"theisenp"},"score":10,"creation_date":1368564088,"post_id":11804763,"comment_id":23778190,"body_markdown":"`Comparator` is a generic type, so `ExampleComparator` should probably implement `Comparator&lt;String&gt;` to avoid warnings.","body":"<code>Comparator</code> is a generic type, so <code>ExampleComparator</code> should probably implement <code>Comparator&lt;String&gt;</code> to avoid warnings."},{"owner":{"account_id":27169,"reputation":4357,"user_id":71410,"accept_rate":78,"display_name":"Andrea Girardi"},"score":0,"creation_date":1392811256,"post_id":11804763,"comment_id":33128555,"body_markdown":"For string comparator, keep in mind to lowercase (or uppercase) string before compare them otherwise you should get this order A-Za-z","body":"For string comparator, keep in mind to lowercase (or uppercase) string before compare them otherwise you should get this order A-Za-z"},{"owner":{"account_id":171201,"reputation":10235,"user_id":398461,"accept_rate":67,"display_name":"wcochran"},"score":3,"creation_date":1412380649,"post_id":11804763,"comment_id":41063627,"body_markdown":"Need to implement equals() too.","body":"Need to implement equals() too."},{"owner":{"account_id":216793,"reputation":21763,"user_id":472245,"accept_rate":83,"display_name":"towi"},"score":5,"creation_date":1511511415,"post_id":11804763,"comment_id":81892225,"body_markdown":"Are you sure that you are supposed to return `-1` in case that `obj1==null &amp;&amp; obj2==null`, though?","body":"Are you sure that you are supposed to return <code>-1</code> in case that <code>obj1==null &amp;&amp; obj2==null</code>, though?"},{"owner":{"account_id":450009,"reputation":1499,"user_id":845117,"display_name":"Dirk Schumacher"},"score":1,"creation_date":1641454199,"post_id":11804763,"comment_id":124809722,"body_markdown":"Based on @towi&#39;s comment on Nov 24 &#39;17: If `obj1 == obj2` then it is `true` and thus resulting `0` when both of them are equals `null`!","body":"Based on @towi&#39;s comment on Nov 24 &#39;17: If <code>obj1 == obj2</code> then it is <code>true</code> and thus resulting <code>0</code> when both of them are equals <code>null</code>!"}],"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"comment_count":5,"down_vote_count":3,"up_vote_count":53,"is_accepted":false,"score":50,"last_activity_date":1529558834,"creation_date":1344038574,"answer_id":11804763,"question_id":11804733,"body_markdown":"You may write your own comparator\r\n\r\n    public class ExampleComparator  implements Comparator&lt;String&gt; {\r\n      public int compare(String obj1, String obj2) {\r\n        if (obj1 == obj2) {\r\n            return 0;\r\n        }\r\n        if (obj1 == null) {\r\n            return -1;\r\n        }\r\n        if (obj2 == null) {\r\n            return 1;\r\n        }\r\n        return obj1.compareTo(obj2);\r\n      }\r\n    }","title":"Java get String CompareTo as a comparator object","body":"<p>You may write your own comparator</p>\n\n<pre><code>public class ExampleComparator  implements Comparator&lt;String&gt; {\n  public int compare(String obj1, String obj2) {\n    if (obj1 == obj2) {\n        return 0;\n    }\n    if (obj1 == null) {\n        return -1;\n    }\n    if (obj2 == null) {\n        return 1;\n    }\n    return obj1.compareTo(obj2);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22644,"reputation":14098,"user_id":56044,"accept_rate":71,"display_name":"Michael Brewer-Davis"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1506092250,"creation_date":1368583663,"answer_id":16555630,"question_id":11804733,"body_markdown":"If you do find yourslef needing a `Comparator`, and you already use [`Guava`][1], you can use [`Ordering.natural()`][2].\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/\r\n  [2]: http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Ordering.html#natural()","title":"Java get String CompareTo as a comparator object","body":"<p>If you do find yourslef needing a <code>Comparator</code>, and you already use <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"nofollow noreferrer\"><code>Guava</code></a>, you can use <a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Ordering.html#natural()\" rel=\"nofollow noreferrer\"><code>Ordering.natural()</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1468340868,"post_id":19839590,"comment_id":64083049,"body_markdown":"@Sharcoux I see!  C-:=","body":"@Sharcoux I see!  C-:="},{"owner":{"account_id":212338,"reputation":149,"user_id":465102,"display_name":"Martin Vatshelle"},"score":1,"creation_date":1499871449,"post_id":19839590,"comment_id":77095681,"body_markdown":"Could be nice to add the following code to that class:\n\npublic static &lt;T extends Comparable&lt;T&gt;&gt; Comparator&lt;T&gt; getReversedInstance()\n    {\n        return Collections.reverseOrder((Comparator&lt;T&gt;) getInstance());\n    }","body":"Could be nice to add the following code to that class:  public static &lt;T extends Comparable&lt;T&gt;&gt; Comparator&lt;T&gt; getReversedInstance()     {         return Collections.reverseOrder((Comparator&lt;T&gt;) getInstance());     }"}],"tags":[],"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1468327247,"creation_date":1383837398,"answer_id":19839590,"question_id":11804733,"body_markdown":"This is a generic `Comparator` for any kind of `Comparable` object, not just `String`:\r\n\r\n    package util;\r\n    \r\n    import java.util.Comparator;\r\n    \r\n    /**\r\n     * The Default Comparator for classes implementing Comparable.\r\n     *\r\n     * @param &lt;E&gt; the type of the comparable objects.\r\n     *\r\n     * @author Michael Belivanakis (michael.gr)\r\n     */\r\n    public final class DefaultComparator&lt;E extends Comparable&lt;E&gt;&gt; implements Comparator&lt;E&gt;\r\n    {\r\n        @SuppressWarnings( &quot;rawtypes&quot; )\r\n        private static final DefaultComparator&lt;?&gt; INSTANCE = new DefaultComparator();\r\n    \r\n        /**\r\n         * Get an instance of DefaultComparator for any type of Comparable.\r\n         *\r\n         * @param &lt;T&gt; the type of Comparable of interest.\r\n         *\r\n         * @return an instance of DefaultComparator for comparing instances of the requested type.\r\n         */\r\n        public static &lt;T extends Comparable&lt;T&gt;&gt; Comparator&lt;T&gt; getInstance()\r\n        {\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            Comparator&lt;T&gt; result = (Comparator&lt;T&gt;)INSTANCE;\r\n            return result;\r\n        }\r\n    \r\n        private DefaultComparator()\r\n        {\r\n        }\r\n    \r\n        @Override\r\n        public int compare( E o1, E o2 )\r\n        {\r\n            if( o1 == o2 )\r\n                return 0;\r\n            if( o1 == null )\r\n                return 1;\r\n            if( o2 == null )\r\n                return -1;\r\n            return o1.compareTo( o2 );\r\n        }\r\n    }\r\n\r\nHow to use with `String`:\r\n\r\n    Comparator&lt;String&gt; stringComparator = DefaultComparator.getInstance();\r\n\r\n","title":"Java get String CompareTo as a comparator object","body":"<p>This is a generic <code>Comparator</code> for any kind of <code>Comparable</code> object, not just <code>String</code>:</p>\n\n<pre><code>package util;\n\nimport java.util.Comparator;\n\n/**\n * The Default Comparator for classes implementing Comparable.\n *\n * @param &lt;E&gt; the type of the comparable objects.\n *\n * @author Michael Belivanakis (michael.gr)\n */\npublic final class DefaultComparator&lt;E extends Comparable&lt;E&gt;&gt; implements Comparator&lt;E&gt;\n{\n    @SuppressWarnings( \"rawtypes\" )\n    private static final DefaultComparator&lt;?&gt; INSTANCE = new DefaultComparator();\n\n    /**\n     * Get an instance of DefaultComparator for any type of Comparable.\n     *\n     * @param &lt;T&gt; the type of Comparable of interest.\n     *\n     * @return an instance of DefaultComparator for comparing instances of the requested type.\n     */\n    public static &lt;T extends Comparable&lt;T&gt;&gt; Comparator&lt;T&gt; getInstance()\n    {\n        @SuppressWarnings(\"unchecked\")\n        Comparator&lt;T&gt; result = (Comparator&lt;T&gt;)INSTANCE;\n        return result;\n    }\n\n    private DefaultComparator()\n    {\n    }\n\n    @Override\n    public int compare( E o1, E o2 )\n    {\n        if( o1 == o2 )\n            return 0;\n        if( o1 == null )\n            return 1;\n        if( o2 == null )\n            return -1;\n        return o1.compareTo( o2 );\n    }\n}\n</code></pre>\n\n<p>How to use with <code>String</code>:</p>\n\n<pre><code>Comparator&lt;String&gt; stringComparator = DefaultComparator.getInstance();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":1,"creation_date":1436960730,"post_id":22774731,"comment_id":50829279,"body_markdown":"@tallseth this is the right answer **only** if you are interested in case-insensitive search, **and** you are using a recent version of java.  If what you need is case-sensitive search, or if you are stuck with some old version of java, then this is not the right answer for you.","body":"@tallseth this is the right answer <b>only</b> if you are interested in case-insensitive search, <b>and</b> you are using a recent version of java.  If what you need is case-sensitive search, or if you are stuck with some old version of java, then this is not the right answer for you."}],"tags":[],"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1396312518,"creation_date":1396312518,"answer_id":22774731,"question_id":11804733,"body_markdown":"Also, if you want case-insensitive comparison, in recent versions of Java the `String` class contains a `public static final` field called `CASE_INSENSITIVE_ORDER` which is of type `Comparator&lt;String&gt;`, as I just recently found out. So, you can get your job done using `String.CASE_INSENSITIVE_ORDER`.","title":"Java get String CompareTo as a comparator object","body":"<p>Also, if you want case-insensitive comparison, in recent versions of Java the <code>String</code> class contains a <code>public static final</code> field called <code>CASE_INSENSITIVE_ORDER</code> which is of type <code>Comparator&lt;String&gt;</code>, as I just recently found out. So, you can get your job done using <code>String.CASE_INSENSITIVE_ORDER</code>.</p>\n"},{"tags":[],"owner":{"account_id":5285870,"reputation":5585,"user_id":4220035,"accept_rate":83,"display_name":"Joseph Nields"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1465235372,"creation_date":1429213254,"answer_id":29684485,"question_id":11804733,"body_markdown":"Again, don&#39;t need the comparator for `Arrays.binarySearch(Object[] a, Object key)` so long as the types of objects are comparable, but with lambda expressions this is now way easier.\r\n\r\nSimply replace the comparator with the method reference: `String::compareTo`\r\n\r\nE.g.:\r\n\r\n    Arrays.binarySearch(someStringArray, &quot;The String to find.&quot;, String::compareTo);\r\n\r\nYou could also use\r\n\r\n    Arrays.binarySearch(someStringArray, &quot;The String to find.&quot;, (a,b) -&gt; a.compareTo(b));\r\n\r\nbut even before lambdas, there were always anonymous classes:\r\n\r\n    Arrays.binarySearch(\r\n                    someStringArray,\r\n                    &quot;The String to find.&quot;,\r\n                    new Comparator&lt;String&gt;() {\r\n                        @Override\r\n                        public int compare(String o1, String o2) {\r\n                            return o1.compareTo(o2);\r\n                        }\r\n                    });","title":"Java get String CompareTo as a comparator object","body":"<p>Again, don't need the comparator for <code>Arrays.binarySearch(Object[] a, Object key)</code> so long as the types of objects are comparable, but with lambda expressions this is now way easier.</p>\n\n<p>Simply replace the comparator with the method reference: <code>String::compareTo</code></p>\n\n<p>E.g.:</p>\n\n<pre><code>Arrays.binarySearch(someStringArray, \"The String to find.\", String::compareTo);\n</code></pre>\n\n<p>You could also use</p>\n\n<pre><code>Arrays.binarySearch(someStringArray, \"The String to find.\", (a,b) -&gt; a.compareTo(b));\n</code></pre>\n\n<p>but even before lambdas, there were always anonymous classes:</p>\n\n<pre><code>Arrays.binarySearch(\n                someStringArray,\n                \"The String to find.\",\n                new Comparator&lt;String&gt;() {\n                    @Override\n                    public int compare(String o1, String o2) {\n                        return o1.compareTo(o2);\n                    }\n                });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3511610,"reputation":3120,"user_id":2935802,"display_name":"Sudhakar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1436959265,"creation_date":1436957616,"answer_id":31428420,"question_id":11804733,"body_markdown":"We can use the String.CASE_INSENSITIVE_ORDER comparator to compare the strings in case insensitive order.\r\n\r\n    Arrays.binarySearch(someStringArray, &quot;The String to find.&quot;,String.CASE_INSENSITIVE_ORDER);","title":"Java get String CompareTo as a comparator object","body":"<p>We can use the String.CASE_INSENSITIVE_ORDER comparator to compare the strings in case insensitive order.</p>\n\n<pre><code>Arrays.binarySearch(someStringArray, \"The String to find.\",String.CASE_INSENSITIVE_ORDER);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1525843,"reputation":583,"user_id":1424313,"display_name":"ailveen"},"score":9,"creation_date":1513344286,"post_id":32528632,"comment_id":82629474,"body_markdown":"Or Comparator.comparing(Function.identity())","body":"Or Comparator.comparing(Function.identity())"},{"owner":{"account_id":84493,"reputation":1255,"user_id":236152,"display_name":"Anthony"},"score":0,"creation_date":1649708522,"post_id":32528632,"comment_id":126940392,"body_markdown":"Or `String::compareTo`  \n`Comparator&lt;String&gt; c = String::compareTo`  \nI think inlining is more readable than creating a variable for it: `myListOfText.sort(String::compareTo);`","body":"Or <code>String::compareTo</code>   <code>Comparator&lt;String&gt; c = String::compareTo</code>   I think inlining is more readable than creating a variable for it: <code>myListOfText.sort(String::compareTo);</code>"}],"tags":[],"owner":{"account_id":69926,"reputation":12519,"user_id":203204,"accept_rate":72,"display_name":"Anthony"},"comment_count":2,"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1441991747,"creation_date":1441990972,"answer_id":32528632,"question_id":11804733,"body_markdown":"Solution for Java 8 based on [java.util.Comparator.comparing(...)][1]:\r\n\r\n    Comparator&lt;String&gt; c = Comparator.comparing(String::toString);\r\n\r\nor\r\n\r\n    Comparator&lt;String&gt; c = Comparator.comparing((String x) -&gt; x);\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-\r\n","title":"Java get String CompareTo as a comparator object","body":"<p>Solution for Java 8 based on <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-\" rel=\"noreferrer\">java.util.Comparator.comparing(...)</a>:</p>\n\n<pre><code>Comparator&lt;String&gt; c = Comparator.comparing(String::toString);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Comparator&lt;String&gt; c = Comparator.comparing((String x) -&gt; x);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6229027,"reputation":28489,"user_id":4850040,"accept_rate":62,"display_name":"Toby Speight"},"score":1,"creation_date":1465917231,"post_id":37815415,"comment_id":63096096,"body_markdown":"Although this code may answer the question, providing\nadditional context regarding _why_ and/or _how_ it answers\nthe question would significantly improve its long-term\nvalue.  Please [edit] your answer to add some explanation.","body":"Although this code may answer the question, providing additional context regarding <i>why</i> and/or <i>how</i> it answers the question would significantly improve its long-term value.  Please <a href=\"https://stackoverflow.com/posts/37815415/edit\">edit</a> your answer to add some explanation."},{"owner":{"account_id":153881,"reputation":19008,"user_id":369450,"accept_rate":99,"display_name":"Uyghur Lives Matter"},"score":1,"creation_date":1465930505,"post_id":37815415,"comment_id":63104064,"body_markdown":"How is this effectively any different from Nambari&#39;s [answer](http://stackoverflow.com/a/11804763/369450)?","body":"How is this effectively any different from Nambari&#39;s <a href=\"http://stackoverflow.com/a/11804763/369450\">answer</a>?"}],"tags":[],"owner":{"account_id":8634457,"reputation":21,"user_id":6465142,"display_name":"Rafał Jankowski"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1466082361,"creation_date":1465915925,"answer_id":37815415,"question_id":11804733,"body_markdown":"Regarding Nambari&#39;s [answer][1] there was a mistake. If you compare values using double equal sign ***==*** program will never reach compare method, unless someone will use ***new*** keyword to create String object which is not the best practice. This might be a bit better solution:\r\n\r\n    public int compare(String o1, String o2) {\r\n            if (o1 == null &amp;&amp; o2 == null){return 0;}\r\n            if (o1 == null) { return -1;}\r\n            if (o2 == null) { return 1;}\r\n            return o1.compareTo(o2);\r\n        }\r\n\r\nP.S. Thanks for comments ;)\r\n\r\n  [1]: https://stackoverflow.com/a/11804763/369450 &quot;answer&quot;","title":"Java get String CompareTo as a comparator object","body":"<p>Regarding Nambari's <a href=\"https://stackoverflow.com/a/11804763/369450\" title=\"answer\">answer</a> there was a mistake. If you compare values using double equal sign <strong><em>==</em></strong> program will never reach compare method, unless someone will use <strong><em>new</em></strong> keyword to create String object which is not the best practice. This might be a bit better solution:</p>\n\n<pre><code>public int compare(String o1, String o2) {\n        if (o1 == null &amp;&amp; o2 == null){return 0;}\n        if (o1 == null) { return -1;}\n        if (o2 == null) { return 1;}\n        return o1.compareTo(o2);\n    }\n</code></pre>\n\n<p>P.S. Thanks for comments ;)</p>\n"},{"tags":[],"owner":{"account_id":2229924,"reputation":5666,"user_id":1967800,"accept_rate":78,"display_name":"Sharcoux"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1468336948,"creation_date":1468336948,"answer_id":38333028,"question_id":11804733,"body_markdown":"To generalize the good answer of Mike Nakis with `String.CASE_INSENSITIVE_ORDER`, you can also use :\r\n\r\n    Collator.getInstance();\r\n\r\nSee [Collator][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/text/Collator.html &quot;Collator&quot;","title":"Java get String CompareTo as a comparator object","body":"<p>To generalize the good answer of Mike Nakis with <code>String.CASE_INSENSITIVE_ORDER</code>, you can also use :</p>\n\n<pre><code>Collator.getInstance();\n</code></pre>\n\n<p>See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/Collator.html\" rel=\"nofollow\" title=\"Collator\">Collator</a></p>\n"},{"comments":[{"owner":{"account_id":5705909,"reputation":3868,"user_id":4509457,"display_name":"Nikolay Mihaylov"},"score":1,"creation_date":1471115472,"post_id":38935905,"comment_id":65228167,"body_markdown":"Links to potential answers are always welcome, but please add most important parts here in case link gets removed.","body":"Links to potential answers are always welcome, but please add most important parts here in case link gets removed."}],"tags":[],"owner":{"account_id":6452883,"reputation":430,"user_id":4999263,"display_name":"brunesto"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1471155980,"creation_date":1471114129,"answer_id":38935905,"question_id":11804733,"body_markdown":"Ok this is a few years later but with java 8 you can use Comparator.naturalOrder():  \r\n\r\nhttp://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#naturalOrder--\r\n\r\nFrom javadoc:\r\n\r\n    static &lt;T extends Comparable&lt;? super T&gt;&gt; Comparator&lt;T&gt; naturalOrder()\r\nReturns a comparator that compares Comparable objects in natural order.\r\nThe returned comparator is serializable and throws NullPointerException when comparing null.\r\n\r\n\r\n\r\n\r\n","title":"Java get String CompareTo as a comparator object","body":"<p>Ok this is a few years later but with java 8 you can use Comparator.naturalOrder():  </p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#naturalOrder--\" rel=\"noreferrer\">http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#naturalOrder--</a></p>\n\n<p>From javadoc:</p>\n\n<pre><code>static &lt;T extends Comparable&lt;? super T&gt;&gt; Comparator&lt;T&gt; naturalOrder()\n</code></pre>\n\n<p>Returns a comparator that compares Comparable objects in natural order.\nThe returned comparator is serializable and throws NullPointerException when comparing null.</p>\n"},{"comments":[{"owner":{"account_id":450009,"reputation":1499,"user_id":845117,"display_name":"Dirk Schumacher"},"score":0,"creation_date":1641453864,"post_id":59957087,"comment_id":124809624,"body_markdown":"It should be declared which package the `StringUtils` belongs to. My IDE lists 10 different ones. For me the answer works with `org.apache.commons.lang3.StringUtils`.","body":"It should be declared which package the <code>StringUtils</code> belongs to. My IDE lists 10 different ones. For me the answer works with <code>org.apache.commons.lang3.StringUtils</code>."}],"tags":[],"owner":{"account_id":6859918,"reputation":1134,"user_id":5274291,"accept_rate":75,"display_name":"Jo&#227;o Pedro Schmitt"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1580245841,"creation_date":1580245841,"answer_id":59957087,"question_id":11804733,"body_markdown":"You can use the `StringUtils.compare(&quot;a&quot;, &quot;b&quot;)`","title":"Java get String CompareTo as a comparator object","body":"<p>You can use the <code>StringUtils.compare(\"a\", \"b\")</code></p>\n"},{"tags":[],"owner":{"account_id":29163643,"reputation":41,"user_id":22341776,"display_name":"Aliciasiashia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698695860,"creation_date":1698695860,"answer_id":77391506,"question_id":11804733,"body_markdown":"I find the most clean way is to use [lambda expression](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html).\r\n\r\nLike this: `strings.sort((a, b) -&gt; a.compareTo(b));`\r\n\r\n- - - \r\n\r\nIf you want to know more—\r\n\r\nIn javascript or other functional languages, we can simply pass a function as an argument, that is, `compareTo` is itself a `Comparator`. \r\n\r\nIn java, functions are not first-class citizens. Therefore, you need to wrap it in a class that subclasses `Comparator` and define the method as the **only** method of that class. \r\n\r\nCertainly it looks weird and verbose, b/c OOP is not designed to do something like this. *Lambda expression does exactly that (subclassing, defining the method) behind the scene, although the expression itself looks the same as in functional language.*","title":"Java get String CompareTo as a comparator object","body":"<p>I find the most clean way is to use <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">lambda expression</a>.</p>\n<p>Like this: <code>strings.sort((a, b) -&gt; a.compareTo(b));</code></p>\n<hr />\n<p>If you want to know more—</p>\n<p>In javascript or other functional languages, we can simply pass a function as an argument, that is, <code>compareTo</code> is itself a <code>Comparator</code>.</p>\n<p>In java, functions are not first-class citizens. Therefore, you need to wrap it in a class that subclasses <code>Comparator</code> and define the method as the <strong>only</strong> method of that class.</p>\n<p>Certainly it looks weird and verbose, b/c OOP is not designed to do something like this. <em>Lambda expression does exactly that (subclassing, defining the method) behind the scene, although the expression itself looks the same as in functional language.</em></p>\n"}],"owner":{"account_id":175291,"reputation":6872,"user_id":405210,"accept_rate":81,"display_name":"Georges Oates Larsen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196636,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":11804744,"answer_count":13,"score":56,"last_activity_date":1698695860,"creation_date":1344038270,"question_id":11804733,"body_markdown":"I would like to sort and binary search a static array of strings via the String.CompareTo comparator.\r\n\r\nThe problem is that both sorting, and binary searching requires that a Comparator object be passed in -- So how do I pass in the built in string comparator?","title":"Java get String CompareTo as a comparator object","body":"<p>I would like to sort and binary search a static array of strings via the String.CompareTo comparator.</p>\n\n<p>The problem is that both sorting, and binary searching requires that a Comparator object be passed in -- So how do I pass in the built in string comparator?</p>\n"},{"tags":["java","docker","maven","quarkus","jjwt"],"answers":[{"comments":[{"owner":{"account_id":16303377,"reputation":73,"user_id":11773896,"display_name":"Xander Vos"},"score":0,"creation_date":1605299363,"post_id":64807738,"comment_id":114617856,"body_markdown":"Thanks mr Cortez, I wasn&#39;t aware there were limitations to native mode!","body":"Thanks mr Cortez, I wasn&#39;t aware there were limitations to native mode!"}],"tags":[],"owner":{"account_id":1954609,"reputation":903,"user_id":1757919,"display_name":"Roberto Cortez"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1605198657,"creation_date":1605198302,"answer_id":64807738,"question_id":64761364,"body_markdown":"It doesn&#39;t work because your are using native mode and the `io.jsonwebtoken` library seems that does not support it.\r\n\r\nQuarkus does its best to integrate libraries and make them work with native mode, by adding the pieces required by native mode. For native mode limitations, please check this link: https://www.graalvm.org/reference-manual/native-image/Limitations/.\r\n\r\nPlease check Quarkus JWT support that works with native mode: https://quarkus.io/guides/security-jwt.\r\n\r\nIf you really want to keep using `io.jsonwebtoken` you may need to provide additional metadata to the native image build: https://quarkus.io/guides/writing-native-applications-tips.","title":"Can&#39;t find io.jsonwebtoken.impl.DefaultJwtBuilder when starting project in a docker container","body":"<p>It doesn't work because your are using native mode and the <code>io.jsonwebtoken</code> library seems that does not support it.</p>\n<p>Quarkus does its best to integrate libraries and make them work with native mode, by adding the pieces required by native mode. For native mode limitations, please check this link: <a href=\"https://www.graalvm.org/reference-manual/native-image/Limitations/\" rel=\"nofollow noreferrer\">https://www.graalvm.org/reference-manual/native-image/Limitations/</a>.</p>\n<p>Please check Quarkus JWT support that works with native mode: <a href=\"https://quarkus.io/guides/security-jwt\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/security-jwt</a>.</p>\n<p>If you really want to keep using <code>io.jsonwebtoken</code> you may need to provide additional metadata to the native image build: <a href=\"https://quarkus.io/guides/writing-native-applications-tips\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/writing-native-applications-tips</a>.</p>\n"},{"tags":[],"owner":{"account_id":16598426,"reputation":99,"user_id":11994767,"display_name":"Umakanth Sahu"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1666967605,"creation_date":1666967605,"answer_id":74236894,"question_id":64761364,"body_markdown":"I know, I&#39;m quite late. I got the same issue with jjwt 0.11.5. I didnot had `&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;`.\r\n\r\nI added this dependency and got some Serializer error\r\n\r\n    Unable to find an implementation for interface io.jsonwebtoken.io.Serializer using java.util.ServiceLoader. Ensure you include a backing implementation .jar in the classpath, for example jjwt-impl.jar, or your own .jar for custom implementations.\r\n\r\nThen i added \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt; &lt;!-- or jjwt-gson if Gson is preferred --&gt;\r\n        &lt;version&gt;0.11.1&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n and changed all the versions to 0.11.1 and it worked.","title":"Can&#39;t find io.jsonwebtoken.impl.DefaultJwtBuilder when starting project in a docker container","body":"<p>I know, I'm quite late. I got the same issue with jjwt 0.11.5. I didnot had <code>&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;</code>.</p>\n<p>I added this dependency and got some Serializer error</p>\n<pre><code>Unable to find an implementation for interface io.jsonwebtoken.io.Serializer using java.util.ServiceLoader. Ensure you include a backing implementation .jar in the classpath, for example jjwt-impl.jar, or your own .jar for custom implementations.\n</code></pre>\n<p>Then i added</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n    &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt; &lt;!-- or jjwt-gson if Gson is preferred --&gt;\n    &lt;version&gt;0.11.1&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and changed all the versions to 0.11.1 and it worked.</p>\n"},{"comments":[{"owner":{"account_id":17043956,"reputation":995,"user_id":12331220,"display_name":"Anupam Haldkar"},"score":0,"creation_date":1692381727,"post_id":75925164,"comment_id":135620311,"body_markdown":"Worked for me. Thank you so much. &#128591;","body":"Worked for me. Thank you so much. 🙏"}],"tags":[],"owner":{"account_id":23097958,"reputation":61,"user_id":17207769,"display_name":"Mike En"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1680576664,"creation_date":1680576664,"answer_id":75925164,"question_id":64761364,"body_markdown":"This does not work becuase jjwt-impl .jar needs to be imported\r\n\r\nUse \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;","title":"Can&#39;t find io.jsonwebtoken.impl.DefaultJwtBuilder when starting project in a docker container","body":"<p>This does not work becuase jjwt-impl .jar needs to be imported</p>\n<p>Use</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698301043,"post_id":77361997,"comment_id":136388208,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77361997/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29751944,"reputation":1,"user_id":22801654,"display_name":"damu mahendar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698695670,"creation_date":1698257621,"answer_id":77361997,"question_id":64761364,"body_markdown":"Nothing worked in my case, so I have created a new spring boot project and copied the below dependency to my POM.XML then copied all my code to a new project, and then ran it. \r\n    \r\nAfter that, it worked fine. I spent 6 hours and couldn&#39;t able to figure out the problem of why my old project threw errors as both old and new are same \r\n    \r\nNote I am using Java 11\r\n\r\n```     \r\n         &lt;dependency&gt;\r\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n                &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n                &lt;version&gt;0.11.5&lt;/version&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n                &lt;version&gt;0.11.5&lt;/version&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\n","title":"Can&#39;t find io.jsonwebtoken.impl.DefaultJwtBuilder when starting project in a docker container","body":"<p>Nothing worked in my case, so I have created a new spring boot project and copied the below dependency to my POM.XML then copied all my code to a new project, and then ran it.</p>\n<p>After that, it worked fine. I spent 6 hours and couldn't able to figure out the problem of why my old project threw errors as both old and new are same</p>\n<p>Note I am using Java 11</p>\n<pre><code>         &lt;dependency&gt;\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n                &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n                &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n                &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n                &lt;version&gt;0.11.5&lt;/version&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n                &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n                &lt;version&gt;0.11.5&lt;/version&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n</code></pre>\n"}],"owner":{"account_id":16303377,"reputation":73,"user_id":11773896,"display_name":"Xander Vos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16081,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":64807738,"answer_count":4,"score":4,"last_activity_date":1698695670,"creation_date":1604969798,"question_id":64761364,"body_markdown":"When starting my Quarkus project locally with `mvn quarkus:dev` I have no errors when executing a function which utilizes JJWT.\r\nHowever when I export my project into a docker container it gives me an error stating that it can&#39;t find DefaultJwtBuilder.\r\n\r\nWhen dockerizing my project I first execute \r\n\r\n`./mvnw package -Pnative -Dquarkus.native.container-build=true`\r\n\r\nas stated in [the Quarkus docs][1] for creating a Linux executable without GraalVM.\r\n\r\nFollowed by\r\n\r\n`docker build -f src/main/docker/Dockerfile.native -t quarkus-quickstart/getting-started .` \r\n\r\nWhen starting the project with Docker Desktop I get the error.\r\n\r\nThe dependencies I have in my pom.xml are the following.\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n  &lt;version&gt;0.11.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n  &lt;version&gt;0.11.2&lt;/version&gt;\r\n  &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n  &lt;version&gt;0.11.2&lt;/version&gt;\r\n  &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe detailed error message is\r\n```\r\nio.jsonwebtoken.lang.UnknownClassException: Unable to load class named [io.jsonwebtoken.impl.DefaultJwtBuilder] from the thread context, current, or system/application ClassLoaders. All heuristics have been exhausted. Class could not be found. Have you remembered to include the jjwt-impl.jar in your runtime classpath?\r\n\r\nat io.jsonwebtoken.lang.Classes.forName(Classes.java:92)\r\nat io.jsonwebtoken.lang.Classes.newInstance(Classes.java:136)\r\nat io.jsonwebtoken.Jwts.builder(Jwts.java:141)\r\nat org.roguedevelopment.logic.JWT.GenerateJWT(JWT.java:21)\r\nat org.roguedevelopment.logic.JWT_ClientProxy.GenerateJWT(JWT_ClientProxy.zig:224)\r\nat org.roguedevelopment.logic.AuthHandler.LoginUser(AuthHandler.java:62)\r\nat org.roguedevelopment.logic.AuthHandler_ClientProxy.LoginUser(AuthHandler_ClientProxy.zig:164)\r\nat org.roguedevelopment.controllers.AuthController.login(AuthController.java:72)\r\nat java.lang.reflect.Method.invoke(Method.java:566)\r\nat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\r\nat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\r\nat org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:643)\r\nat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:507)\r\nat org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:457)\r\nat org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\nat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:459)\r\nat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:419)\r\nat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:393)\r\nat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:68)\r\nat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\r\nat org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\r\nat org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\r\nat org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\nat org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\r\nat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\r\nat io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:73)\r\nat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:131)\r\nat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.access$000(VertxRequestHandler.java:37)\r\nat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler$1.run(VertxRequestHandler.java:94)\r\nat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\nat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2046)\r\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1578)\r\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1452)\r\nat org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\nat org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\nat java.lang.Thread.run(Thread.java:834)\r\nat org.jboss.threads.JBossThread.run(JBossThread.java:479)\r\nat com.oracle.svm.core.thread.JavaThreads.threadStartRoutine(JavaThreads.java:517)\r\nat com.oracle.svm.core.posix.thread.PosixJavaThreads.pthreadStartRoutine(PosixJavaThreads.java:192)\r\n```\r\nThe dockerfile I use to build my docker image is\r\n```\r\n## Stage 1 : build with maven builder image with native capabilities\r\nFROM quay.io/quarkus/centos-quarkus-maven:20.2.0-java11 AS build\r\nCOPY pom.xml /usr/src/app/\r\nRUN mvn -f /usr/src/app/pom.xml -B de.qaware.maven:go-offline-maven-plugin:1.2.5:resolve-dependencies\r\nCOPY src /usr/src/app/src\r\nUSER root\r\nRUN chown -R quarkus /usr/src/app\r\nUSER quarkus\r\nRUN mvn -f /usr/src/app/pom.xml -Pnative clean package\r\n\r\n## Stage 2 : create the docker final image\r\nFROM registry.access.redhat.com/ubi8/ubi-minimal\r\nWORKDIR /work/\r\nCOPY --from=build /usr/src/app/target/*-runner /work/application\r\n\r\n# set up permissions for user `1001`\r\nRUN chmod 775 /work /work/application \\\r\n  &amp;&amp; chown -R 1001 /work \\\r\n  &amp;&amp; chmod -R &quot;g+rwX&quot; /work \\\r\n  &amp;&amp; chown -R 1001:root /work\r\n\r\nEXPOSE 8000\r\nUSER 1001\r\n\r\nCMD [&quot;./application&quot;, &quot;-Dquarkus.http.host=0.0.0.0&quot;]\r\n```\r\n\r\nAny help would be greatly appreciated.\r\n\r\n\r\n  [1]: https://quarkus.io/guides/building-native-image#container-runtime","title":"Can&#39;t find io.jsonwebtoken.impl.DefaultJwtBuilder when starting project in a docker container","body":"<p>When starting my Quarkus project locally with <code>mvn quarkus:dev</code> I have no errors when executing a function which utilizes JJWT.\nHowever when I export my project into a docker container it gives me an error stating that it can't find DefaultJwtBuilder.</p>\n<p>When dockerizing my project I first execute</p>\n<p><code>./mvnw package -Pnative -Dquarkus.native.container-build=true</code></p>\n<p>as stated in <a href=\"https://quarkus.io/guides/building-native-image#container-runtime\" rel=\"nofollow noreferrer\">the Quarkus docs</a> for creating a Linux executable without GraalVM.</p>\n<p>Followed by</p>\n<p><code>docker build -f src/main/docker/Dockerfile.native -t quarkus-quickstart/getting-started .</code></p>\n<p>When starting the project with Docker Desktop I get the error.</p>\n<p>The dependencies I have in my pom.xml are the following.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n  &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n  &lt;version&gt;0.11.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n  &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n  &lt;version&gt;0.11.2&lt;/version&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n  &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n  &lt;version&gt;0.11.2&lt;/version&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The detailed error message is</p>\n<pre><code>io.jsonwebtoken.lang.UnknownClassException: Unable to load class named [io.jsonwebtoken.impl.DefaultJwtBuilder] from the thread context, current, or system/application ClassLoaders. All heuristics have been exhausted. Class could not be found. Have you remembered to include the jjwt-impl.jar in your runtime classpath?\n\nat io.jsonwebtoken.lang.Classes.forName(Classes.java:92)\nat io.jsonwebtoken.lang.Classes.newInstance(Classes.java:136)\nat io.jsonwebtoken.Jwts.builder(Jwts.java:141)\nat org.roguedevelopment.logic.JWT.GenerateJWT(JWT.java:21)\nat org.roguedevelopment.logic.JWT_ClientProxy.GenerateJWT(JWT_ClientProxy.zig:224)\nat org.roguedevelopment.logic.AuthHandler.LoginUser(AuthHandler.java:62)\nat org.roguedevelopment.logic.AuthHandler_ClientProxy.LoginUser(AuthHandler_ClientProxy.zig:164)\nat org.roguedevelopment.controllers.AuthController.login(AuthController.java:72)\nat java.lang.reflect.Method.invoke(Method.java:566)\nat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\nat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\nat org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:643)\nat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:507)\nat org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:457)\nat org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\nat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:459)\nat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:419)\nat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:393)\nat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:68)\nat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\nat org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\nat org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\nat org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\nat org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\nat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\nat io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:73)\nat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:131)\nat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.access$000(VertxRequestHandler.java:37)\nat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler$1.run(VertxRequestHandler.java:94)\nat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\nat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2046)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1578)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1452)\nat org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\nat org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\nat java.lang.Thread.run(Thread.java:834)\nat org.jboss.threads.JBossThread.run(JBossThread.java:479)\nat com.oracle.svm.core.thread.JavaThreads.threadStartRoutine(JavaThreads.java:517)\nat com.oracle.svm.core.posix.thread.PosixJavaThreads.pthreadStartRoutine(PosixJavaThreads.java:192)\n</code></pre>\n<p>The dockerfile I use to build my docker image is</p>\n<pre><code>## Stage 1 : build with maven builder image with native capabilities\nFROM quay.io/quarkus/centos-quarkus-maven:20.2.0-java11 AS build\nCOPY pom.xml /usr/src/app/\nRUN mvn -f /usr/src/app/pom.xml -B de.qaware.maven:go-offline-maven-plugin:1.2.5:resolve-dependencies\nCOPY src /usr/src/app/src\nUSER root\nRUN chown -R quarkus /usr/src/app\nUSER quarkus\nRUN mvn -f /usr/src/app/pom.xml -Pnative clean package\n\n## Stage 2 : create the docker final image\nFROM registry.access.redhat.com/ubi8/ubi-minimal\nWORKDIR /work/\nCOPY --from=build /usr/src/app/target/*-runner /work/application\n\n# set up permissions for user `1001`\nRUN chmod 775 /work /work/application \\\n  &amp;&amp; chown -R 1001 /work \\\n  &amp;&amp; chmod -R &quot;g+rwX&quot; /work \\\n  &amp;&amp; chown -R 1001:root /work\n\nEXPOSE 8000\nUSER 1001\n\nCMD [&quot;./application&quot;, &quot;-Dquarkus.http.host=0.0.0.0&quot;]\n</code></pre>\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","windows","maven"],"comments":[{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":0,"creation_date":1698443367,"post_id":77376872,"comment_id":136411190,"body_markdown":"How do you execute build - which command you use?\nCan you show your pom.xml?","body":"How do you execute build - which command you use? Can you show your pom.xml?"},{"owner":{"account_id":6934644,"reputation":93,"user_id":5402252,"display_name":"Michael Teasdale"},"score":0,"creation_date":1698672349,"post_id":77376872,"comment_id":136431078,"body_markdown":"As I mentioned, I&#39;m using mvn compile as my command.","body":"As I mentioned, I&#39;m using mvn compile as my command."}],"answers":[{"comments":[{"owner":{"account_id":6934644,"reputation":93,"user_id":5402252,"display_name":"Michael Teasdale"},"score":0,"creation_date":1698673234,"post_id":77377220,"comment_id":136431252,"body_markdown":"Thank-you for your suggestsions. However, as I mention in my problem description:\n1. I have done this.\n2. Latest release version of the compiler is 3.11.0, which I am using.\n3. I have all the permissions required. As mentioned, this problem did not occur earlier in the day.\n4. Done.\n5. Done.\n6. Done. It provided no more information than that shown in the stack trace.","body":"Thank-you for your suggestsions. However, as I mention in my problem description: 1. I have done this. 2. Latest release version of the compiler is 3.11.0, which I am using. 3. I have all the permissions required. As mentioned, this problem did not occur earlier in the day. 4. Done. 5. Done. 6. Done. It provided no more information than that shown in the stack trace."}],"tags":[],"owner":{"account_id":15720230,"reputation":1,"user_id":11343327,"display_name":"Mishu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698443718,"creation_date":1698443718,"answer_id":77377220,"question_id":77376872,"body_markdown":"This error typically occurs when the Maven Compiler Plugin is unable to store its status information due to a missing or inaccessible file. Here are some steps you can take to resolve this issue:\r\n1. Clean the Project:\r\nTry cleaning your project using the following Maven command to remove any existing build artifacts:\r\n\r\n    mvn clean\r\n\r\n2. Update the Maven Compiler Plugin:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.7&lt;/version&gt; &lt;!-- Use the latest version --&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- Other plugins --&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n3. Check File System Permissions:\r\nEnsure that the directory H:\\Documents\\auto-testing\\target\\maven-status\\maven-compiler-plugin\\compile\\default-compile and its parent directories have the necessary read and write permissions. The error may occur if the plugin cannot write the inputFiles.lst file to this location.\r\n4. Restart Your IDE:\r\nSometimes, IDEs like IntelliJ IDEA or Eclipse can cache information related to the build process. Restarting your IDE may help resolve the issue.\r\n5. Check for File System Issues:\r\nThe error message mentions a NoSuchFileException. Ensure that the file system on your machine is healthy and that there are no issues with file storage.\r\n6. Enable Debug Logging:\r\nIf the issue persists, you can enable full debug logging by running Maven with the -X switch. This will provide more detailed information about the problem:\r\n\r\n    mvn clean install -X\r\n\r\n","title":"How do I fix Maven &quot;Error while storing the mojo status&quot;?","body":"<p>This error typically occurs when the Maven Compiler Plugin is unable to store its status information due to a missing or inaccessible file. Here are some steps you can take to resolve this issue:</p>\n<ol>\n<li><p>Clean the Project:\nTry cleaning your project using the following Maven command to remove any existing build artifacts:</p>\n<p>mvn clean</p>\n</li>\n<li><p>Update the Maven Compiler Plugin:</p>\n \n     \n         \n             org.apache.maven.plugins\n             maven-compiler-plugin\n             3.11.7 \n         \n         \n     \n \n</li>\n<li><p>Check File System Permissions:\nEnsure that the directory H:\\Documents\\auto-testing\\target\\maven-status\\maven-compiler-plugin\\compile\\default-compile and its parent directories have the necessary read and write permissions. The error may occur if the plugin cannot write the inputFiles.lst file to this location.</p>\n</li>\n<li><p>Restart Your IDE:\nSometimes, IDEs like IntelliJ IDEA or Eclipse can cache information related to the build process. Restarting your IDE may help resolve the issue.</p>\n</li>\n<li><p>Check for File System Issues:\nThe error message mentions a NoSuchFileException. Ensure that the file system on your machine is healthy and that there are no issues with file storage.</p>\n</li>\n<li><p>Enable Debug Logging:\nIf the issue persists, you can enable full debug logging by running Maven with the -X switch. This will provide more detailed information about the problem:</p>\n<p>mvn clean install -X</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6934644,"reputation":93,"user_id":5402252,"display_name":"Michael Teasdale"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698695418,"creation_date":1698695418,"answer_id":77391473,"question_id":77376872,"body_markdown":"I was unable to find the cause of the issue or a way to resolve it directly.\r\nHOWEVER, I was able to find a work-around: I copied my project directory, and when I executed mvn compile in the new directory, everything worked without complaint.\r\n\r\nI can only assume from this that there was some kind of corruption on disk which prevented the creation of files in one of the parent directories of inputFiles.lst.","title":"How do I fix Maven &quot;Error while storing the mojo status&quot;?","body":"<p>I was unable to find the cause of the issue or a way to resolve it directly.\nHOWEVER, I was able to find a work-around: I copied my project directory, and when I executed mvn compile in the new directory, everything worked without complaint.</p>\n<p>I can only assume from this that there was some kind of corruption on disk which prevented the creation of files in one of the parent directories of inputFiles.lst.</p>\n"}],"owner":{"account_id":6934644,"reputation":93,"user_id":5402252,"display_name":"Michael Teasdale"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77391473,"answer_count":2,"score":0,"last_activity_date":1698695418,"creation_date":1698438258,"question_id":77376872,"body_markdown":"I&#39;m using windows 10 and building with Maven and Java 20.\r\n\r\n    PS H:\\Documents\\auto-testing&gt; mvn --version\r\n    Apache Maven 3.9.5 (57804ffe001d7215b5e7bcb531cf83df38f93546)\r\n    Maven home: H:\\Documents\\Maven\\apache-maven-3.9.5\r\n    Java version: 19.0.2, vendor: Oracle Corporation, runtime: C:\\Program Files\\Microsoft\\jdk-19.0.2\r\n    Default locale: en_CA, platform encoding: UTF-8\r\n    OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\nWhen I attempt mvn compile, I get the following result:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project TRTesting: Error while storing the mojo status: H:\\Documents\\auto-testing\\target\\maven-status\\maven-compiler-plugin\\compile\\default-compile\\inputFiles.lst -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project TRTesting: Error while storing the mojo status\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:333)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n        at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\r\n        at java.lang.reflect.Method.invoke (Method.java:578)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\n    Caused by: org.apache.maven.plugin.MojoExecutionException: Error while storing the mojo status\r\n        at org.apache.maven.plugin.compiler.AbstractCompilerMojo.computeInputFileTreeChanges (AbstractCompilerMojo.java:1706)\r\n        at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:858)\r\n        at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:193)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n        at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\r\n        at java.lang.reflect.Method.invoke (Method.java:578)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\n    Caused by: java.nio.file.NoSuchFileException: H:\\Documents\\auto-testing\\target\\maven-status\\maven-compiler-plugin\\compile\\default-compile\\inputFiles.lst\r\n        at sun.nio.fs.WindowsException.translateToIOException (WindowsException.java:85)\r\n        at sun.nio.fs.WindowsException.rethrowAsIOException (WindowsException.java:103)\r\n        at sun.nio.fs.WindowsException.rethrowAsIOException (WindowsException.java:108)\r\n        at sun.nio.fs.WindowsFileSystemProvider.newByteChannel (WindowsFileSystemProvider.java:236)\r\n        at java.nio.file.spi.FileSystemProvider.newOutputStream (FileSystemProvider.java:484)\r\n        at java.nio.file.Files.newOutputStream (Files.java:228)\r\n        at java.nio.file.Files.newBufferedWriter (Files.java:3007)\r\n        at org.apache.maven.shared.utils.io.FileUtils.fileWriteArray (FileUtils.java:456)\r\n        at org.apache.maven.shared.utils.io.FileUtils.fileWriteArray (FileUtils.java:437)\r\n        at org.apache.maven.plugin.compiler.AbstractCompilerMojo.computeInputFileTreeChanges (AbstractCompilerMojo.java:1704)\r\n        at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:858)\r\n        at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:193)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n        at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\r\n        at java.lang.reflect.Method.invoke (Method.java:578)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\n    [ERROR]\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\nIt mentions &#39;target\\maven-status\\maven-compiler-plugin\\compile\\default-compile\\inputFiles.lst&#39; and a few notes I&#39;ve found online mention this could be a problem with permissions. HOWEVER, this just started happening in the middle of my work day (The only thing I did which corresponds to this starting is interrupting the build process at one point), I have all the permissions necessary, and the file mentioned is in the target directory which I&#39;ve deleted with a mvn clean and which it should rebuild during the compile process.\r\n\r\nI&#39;ve upgraded maven to the latest to address the possibility that something has become corrupted, but this has made no difference.\r\n\r\nDoes anyone know how to address this?\r\n\r\nEDIT: My pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.truckright&lt;/groupId&gt;\r\n    &lt;artifactId&gt;TRTesting&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;20&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Cucumber --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;7.14.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.14.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- TestNG --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.8.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Selenide --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenide&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Selenium WebDriver Management --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;!-- This lets us set the tags marking scenarios/features to be run.\r\n                             See https://cucumber.io/docs/cucumber/configuration/?lang=java#profiles\r\n                             It can also be done from the Maven command line, and in the RunCucumberTest\r\n                             method.\r\n                        &lt;cucumber.filter.tags&gt;@change-language&lt;/cucumber.filter.tags&gt;\r\n                        --&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"How do I fix Maven &quot;Error while storing the mojo status&quot;?","body":"<p>I'm using windows 10 and building with Maven and Java 20.</p>\n<pre><code>PS H:\\Documents\\auto-testing&gt; mvn --version\nApache Maven 3.9.5 (57804ffe001d7215b5e7bcb531cf83df38f93546)\nMaven home: H:\\Documents\\Maven\\apache-maven-3.9.5\nJava version: 19.0.2, vendor: Oracle Corporation, runtime: C:\\Program Files\\Microsoft\\jdk-19.0.2\nDefault locale: en_CA, platform encoding: UTF-8\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>When I attempt mvn compile, I get the following result:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project TRTesting: Error while storing the mojo status: H:\\Documents\\auto-testing\\target\\maven-status\\maven-compiler-plugin\\compile\\default-compile\\inputFiles.lst -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project TRTesting: Error while storing the mojo status\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:333)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\n    at java.lang.reflect.Method.invoke (Method.java:578)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Error while storing the mojo status\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.computeInputFileTreeChanges (AbstractCompilerMojo.java:1706)\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:858)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:193)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\n    at java.lang.reflect.Method.invoke (Method.java:578)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\nCaused by: java.nio.file.NoSuchFileException: H:\\Documents\\auto-testing\\target\\maven-status\\maven-compiler-plugin\\compile\\default-compile\\inputFiles.lst\n    at sun.nio.fs.WindowsException.translateToIOException (WindowsException.java:85)\n    at sun.nio.fs.WindowsException.rethrowAsIOException (WindowsException.java:103)\n    at sun.nio.fs.WindowsException.rethrowAsIOException (WindowsException.java:108)\n    at sun.nio.fs.WindowsFileSystemProvider.newByteChannel (WindowsFileSystemProvider.java:236)\n    at java.nio.file.spi.FileSystemProvider.newOutputStream (FileSystemProvider.java:484)\n    at java.nio.file.Files.newOutputStream (Files.java:228)\n    at java.nio.file.Files.newBufferedWriter (Files.java:3007)\n    at org.apache.maven.shared.utils.io.FileUtils.fileWriteArray (FileUtils.java:456)\n    at org.apache.maven.shared.utils.io.FileUtils.fileWriteArray (FileUtils.java:437)\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.computeInputFileTreeChanges (AbstractCompilerMojo.java:1704)\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:858)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:193)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\n    at java.lang.reflect.Method.invoke (Method.java:578)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\n[ERROR]\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>It mentions 'target\\maven-status\\maven-compiler-plugin\\compile\\default-compile\\inputFiles.lst' and a few notes I've found online mention this could be a problem with permissions. HOWEVER, this just started happening in the middle of my work day (The only thing I did which corresponds to this starting is interrupting the build process at one point), I have all the permissions necessary, and the file mentioned is in the target directory which I've deleted with a mvn clean and which it should rebuild during the compile process.</p>\n<p>I've upgraded maven to the latest to address the possibility that something has become corrupted, but this has made no difference.</p>\n<p>Does anyone know how to address this?</p>\n<p>EDIT: My pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.truckright&lt;/groupId&gt;\n    &lt;artifactId&gt;TRTesting&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;20&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Cucumber --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;7.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n            &lt;version&gt;7.14.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- TestNG --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.8.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Selenide --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\n            &lt;artifactId&gt;selenide&lt;/artifactId&gt;\n            &lt;version&gt;7.0.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Selenium WebDriver Management --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.6.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;!-- This lets us set the tags marking scenarios/features to be run.\n                             See https://cucumber.io/docs/cucumber/configuration/?lang=java#profiles\n                             It can also be done from the Maven command line, and in the RunCucumberTest\n                             method.\n                        &lt;cucumber.filter.tags&gt;@change-language&lt;/cucumber.filter.tags&gt;\n                        --&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","telephony","smsmanager"],"owner":{"account_id":29078676,"reputation":1,"user_id":22275205,"display_name":"Ans Riaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698695000,"creation_date":1698695000,"question_id":77391428,"body_markdown":"I have this function that I am using to send message to recipent on shake\r\n\r\n ShakeDetector.create(this, () -&gt; {\r\n\r\n            //if you want to play siren sound you can do it here\r\n            //just create music player and play here\r\n            //before playing sound please set volume to max\r\n\r\n            SharedPreferences sharedPreferences = getSharedPreferences(&quot;MySharedPref&quot;,MODE_PRIVATE);\r\n            String ENUM = sharedPreferences.getString(&quot;ENUM&quot;,&quot;NONE&quot;);\r\n            if(!ENUM.equalsIgnoreCase(&quot;NONE&quot;)){\r\n                manager.sendTextMessage(ENUM,null,&quot;Im in Trouble!\\nSending My Location :\\n&quot;+myLocation,null,null);\r\n\r\n            }\r\n\r\n        });\r\n\r\nMessage is opened in recipents chat and it shows &quot;failed to send&quot; in my message app\r\nwhen I try to resend that same message manually It works fine\r\n\r\nI tried using multiple devices and multiple recipents. Please anybody help me resolve this issue","title":"Message failed to send on android app using telephony","body":"<p>I have this function that I am using to send message to recipent on shake</p>\n<p>ShakeDetector.create(this, () -&gt; {</p>\n<pre><code>        //if you want to play siren sound you can do it here\n        //just create music player and play here\n        //before playing sound please set volume to max\n\n        SharedPreferences sharedPreferences = getSharedPreferences(&quot;MySharedPref&quot;,MODE_PRIVATE);\n        String ENUM = sharedPreferences.getString(&quot;ENUM&quot;,&quot;NONE&quot;);\n        if(!ENUM.equalsIgnoreCase(&quot;NONE&quot;)){\n            manager.sendTextMessage(ENUM,null,&quot;Im in Trouble!\\nSending My Location :\\n&quot;+myLocation,null,null);\n\n        }\n\n    });\n</code></pre>\n<p>Message is opened in recipents chat and it shows &quot;failed to send&quot; in my message app\nwhen I try to resend that same message manually It works fine</p>\n<p>I tried using multiple devices and multiple recipents. Please anybody help me resolve this issue</p>\n"},{"tags":["java","firebase","firebase-authentication"],"answers":[{"comments":[{"owner":{"account_id":20518165,"reputation":25,"user_id":15058338,"display_name":"Ioanaa 98"},"score":0,"creation_date":1674498199,"post_id":75208155,"comment_id":132722273,"body_markdown":"Thanks, I used the getUserByEmail and it solved the problem! In case my case I didn&#39;t have the email in uid collection in firebase, but I will add it since it&#39;s better that way!","body":"Thanks, I used the getUserByEmail and it solved the problem! In case my case I didn&#39;t have the email in uid collection in firebase, but I will add it since it&#39;s better that way!"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1674469517,"creation_date":1674469517,"answer_id":75208155,"question_id":75208062,"body_markdown":"There is no method inside the [FirebaseAuth][1] class that can help you check the existence of a user based on an email address. If you need that functionality you have to create it yourself. This means that when a user signs in for the first time into your app, then save user data in [Firestore][2] using a schema that looks like this:\r\n\r\n    db\r\n    |\r\n    --- users (collection)\r\n         |\r\n         --- $uid (document)\r\n              |\r\n              --- email: &quot;user-email@gmail.com&quot;\r\n\r\nTo check if a user with the `user-email@gmail.com` already exists, then you have to perform a query that looks like this in Java:\r\n\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    Query queryByEmail = db.collection(&quot;users&quot;).whereEqualTo(&quot;email&quot;, &quot;user-email@gmail.com&quot;);\r\n    queryByEmail.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n            if (task.isSuccessful()) {\r\n                for (QueryDocumentSnapshot document : task.getResult()) {\r\n                    if (document.exists()) {\r\n                        Log.d(TAG, &quot;User already exists.&quot;);\r\n                    } else {\r\n                        Log.d(TAG, &quot;User doesn&#39;t exist.&quot;);\r\n                    }\r\n                }\r\n            } else {\r\n                Log.d(TAG, task.getException().getMessage()); //Never ignore potential errors!\r\n            }\r\n        }\r\n    });\r\n\r\nAnother solution would be to use [Query#count()][3] method:\r\n\r\n    queryByEmail.count();\r\n\r\nIf the result is &gt; 0 then it means that the user already exists, otherwise it doesn&#39;t exist.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth\r\n  [2]: https://firebase.google.com/docs/firestore\r\n  [3]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/Query#count()","title":"How to check if an email exists in Firebase Authentication?","body":"<p>There is no method inside the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth\" rel=\"nofollow noreferrer\">FirebaseAuth</a> class that can help you check the existence of a user based on an email address. If you need that functionality you have to create it yourself. This means that when a user signs in for the first time into your app, then save user data in <a href=\"https://firebase.google.com/docs/firestore\" rel=\"nofollow noreferrer\">Firestore</a> using a schema that looks like this:</p>\n<pre><code>db\n|\n--- users (collection)\n     |\n     --- $uid (document)\n          |\n          --- email: &quot;user-email@gmail.com&quot;\n</code></pre>\n<p>To check if a user with the <code>user-email@gmail.com</code> already exists, then you have to perform a query that looks like this in Java:</p>\n<pre><code>FirebaseFirestore db = FirebaseFirestore.getInstance();\nQuery queryByEmail = db.collection(&quot;users&quot;).whereEqualTo(&quot;email&quot;, &quot;user-email@gmail.com&quot;);\nqueryByEmail.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            for (QueryDocumentSnapshot document : task.getResult()) {\n                if (document.exists()) {\n                    Log.d(TAG, &quot;User already exists.&quot;);\n                } else {\n                    Log.d(TAG, &quot;User doesn't exist.&quot;);\n                }\n            }\n        } else {\n            Log.d(TAG, task.getException().getMessage()); //Never ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>Another solution would be to use <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/Query#count()\" rel=\"nofollow noreferrer\">Query#count()</a> method:</p>\n<pre><code>queryByEmail.count();\n</code></pre>\n<p>If the result is &gt; 0 then it means that the user already exists, otherwise it doesn't exist.</p>\n"},{"comments":[{"owner":{"account_id":20518165,"reputation":25,"user_id":15058338,"display_name":"Ioanaa 98"},"score":1,"creation_date":1674498148,"post_id":75208329,"comment_id":132722254,"body_markdown":"Thanks, I used the getUserByEmail and it solved the problem!","body":"Thanks, I used the getUserByEmail and it solved the problem!"}],"tags":[],"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674473580,"creation_date":1674470411,"answer_id":75208329,"question_id":75208062,"body_markdown":"In addition to the very complete response from Alex, another possible approach is to use a [Callable Cloud Function][1] that you call from your app.\r\n\r\nSince we use the Admin SDK in Cloud Functions you can use the [`getUserByEmail()`][2] method.\r\n\r\nThe function would look like:\r\n\r\n\r\n    const functions = require(&#39;firebase-functions&#39;);\r\n    const admin = require(&#39;firebase-admin&#39;);\r\n    admin.initializeApp();\r\n\r\n    exports.checkEmailExists = functions.https.onCall((data, context) =&gt; {\r\n    \r\n        return admin.auth()\r\n            .getUserByEmail(data.email)\r\n            .then((userRecord) =&gt; {\r\n                return { emailExists: true }\r\n            })\r\n            .catch((error) =&gt; {\r\n                throw new functions.https.HttpsError(&#39;invalid-argument&#39;, &quot;email doesn&#39;t exist&quot;);\r\n            });\r\n    \r\n    });\r\n\r\n\r\nWith this approach you don&#39;t need a specific Firestore collection. The Admin SDK will directly query the Auth service. \r\n\r\nLook at the doc for instructions on [how to call the Callable Cloud Function from your app][3].\r\n\r\n\r\n********\r\nNote that the above approach is valid if you want to check if a user exists from an application (e.g. an Android app).\r\n\r\nIf you already use [the Admin SDK from a  Java based **server**][4], you just have to use the `getUserByEmail()` method in your server code.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/functions/callable\r\n  [2]: https://firebase.google.com/docs/reference/admin/node/firebase-admin.auth.baseauth#baseauthgetuserbyemail\r\n  [3]: https://firebase.google.com/docs/functions/callable#call_the_function\r\n  [4]: https://firebase.google.com/docs/admin/setup","title":"How to check if an email exists in Firebase Authentication?","body":"<p>In addition to the very complete response from Alex, another possible approach is to use a <a href=\"https://firebase.google.com/docs/functions/callable\" rel=\"nofollow noreferrer\">Callable Cloud Function</a> that you call from your app.</p>\n<p>Since we use the Admin SDK in Cloud Functions you can use the <a href=\"https://firebase.google.com/docs/reference/admin/node/firebase-admin.auth.baseauth#baseauthgetuserbyemail\" rel=\"nofollow noreferrer\"><code>getUserByEmail()</code></a> method.</p>\n<p>The function would look like:</p>\n<pre><code>const functions = require('firebase-functions');\nconst admin = require('firebase-admin');\nadmin.initializeApp();\n\nexports.checkEmailExists = functions.https.onCall((data, context) =&gt; {\n\n    return admin.auth()\n        .getUserByEmail(data.email)\n        .then((userRecord) =&gt; {\n            return { emailExists: true }\n        })\n        .catch((error) =&gt; {\n            throw new functions.https.HttpsError('invalid-argument', &quot;email doesn't exist&quot;);\n        });\n\n});\n</code></pre>\n<p>With this approach you don't need a specific Firestore collection. The Admin SDK will directly query the Auth service.</p>\n<p>Look at the doc for instructions on <a href=\"https://firebase.google.com/docs/functions/callable#call_the_function\" rel=\"nofollow noreferrer\">how to call the Callable Cloud Function from your app</a>.</p>\n<hr />\n<p>Note that the above approach is valid if you want to check if a user exists from an application (e.g. an Android app).</p>\n<p>If you already use <a href=\"https://firebase.google.com/docs/admin/setup\" rel=\"nofollow noreferrer\">the Admin SDK from a  Java based <strong>server</strong></a>, you just have to use the <code>getUserByEmail()</code> method in your server code.</p>\n"},{"comments":[{"owner":{"account_id":20518165,"reputation":25,"user_id":15058338,"display_name":"Ioanaa 98"},"score":0,"creation_date":1674498286,"post_id":75209479,"comment_id":132722291,"body_markdown":"I didn&#39;t have the fetchSignInMethodForEmail but I used the getUserByEmail and that solved my issue. I will take a look in the method you mentioned, because it&#39;s also a good approach. Thanks again!","body":"I didn&#39;t have the fetchSignInMethodForEmail but I used the getUserByEmail and that solved my issue. I will take a look in the method you mentioned, because it&#39;s also a good approach. Thanks again!"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1674535151,"post_id":75209479,"comment_id":132729328,"body_markdown":"`fetchSignInMethodForEmail` is a method in the client-side SDKs, while `getUserByEmail` is in the server-side/Admin SDKs. Either can be used to implement the use-case, but I had overlooked you were using non-Android Java.","body":"<code>fetchSignInMethodForEmail</code> is a method in the client-side SDKs, while <code>getUserByEmail</code> is in the server-side/Admin SDKs. Either can be used to implement the use-case, but I had overlooked you were using non-Android Java."}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698694822,"creation_date":1674476774,"answer_id":75209479,"question_id":75208062,"body_markdown":"If you want to check if a given email address is associated with a user profile in Firebase, you can call the [`fetchSignInMethodsForEmail` API](https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth#fetchSignInMethodsForEmail(java.lang.String)). \r\n\r\nNote that this API gives malicious users a way to perform a so-called enumeration attack, so you can actually nowadays [disable `fetchSignInMethodsForEmail`](https://firebase.devsite.corp.google.com/docs/auth/android/password-auth#enumeration-protection) - in which case calling it from your app would fail.\r\n\r\nAlso see:\r\n\r\n* https://stackoverflow.com/questions/40093781/check-if-given-email-exists\r\n* https://stackoverflow.com/questions/51652134/check-if-an-email-already-exists-in-firebase-auth-in-flutter-app\r\n\r\n**Update**: Since September 15, 2023 the protection mentioned above is enabled for all new projects you create on Firebase, so you can no longer use `fetchSignInMethodsForEmail` on those projects unless you disabled the protection first.","title":"How to check if an email exists in Firebase Authentication?","body":"<p>If you want to check if a given email address is associated with a user profile in Firebase, you can call the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth#fetchSignInMethodsForEmail(java.lang.String)\" rel=\"nofollow noreferrer\"><code>fetchSignInMethodsForEmail</code> API</a>.</p>\n<p>Note that this API gives malicious users a way to perform a so-called enumeration attack, so you can actually nowadays <a href=\"https://firebase.devsite.corp.google.com/docs/auth/android/password-auth#enumeration-protection\" rel=\"nofollow noreferrer\">disable <code>fetchSignInMethodsForEmail</code></a> - in which case calling it from your app would fail.</p>\n<p>Also see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/40093781/check-if-given-email-exists\">Check if given email exists</a></li>\n<li><a href=\"https://stackoverflow.com/questions/51652134/check-if-an-email-already-exists-in-firebase-auth-in-flutter-app\">Check if an email already exists in Firebase Auth in Flutter App</a></li>\n</ul>\n<p><strong>Update</strong>: Since September 15, 2023 the protection mentioned above is enabled for all new projects you create on Firebase, so you can no longer use <code>fetchSignInMethodsForEmail</code> on those projects unless you disabled the protection first.</p>\n"}],"owner":{"account_id":20518165,"reputation":25,"user_id":15058338,"display_name":"Ioanaa 98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":850,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75208329,"answer_count":3,"score":1,"last_activity_date":1698694822,"creation_date":1674468824,"question_id":75208062,"body_markdown":"I am trying to check if an email already exists in Firebase authentication, but I can find something for Java.\r\nI am trying to do something like searching in a list of emails and if that email is not in the database (emailNotExistsInDatabase(email)), then continue.","title":"How to check if an email exists in Firebase Authentication?","body":"<p>I am trying to check if an email already exists in Firebase authentication, but I can find something for Java.\nI am trying to do something like searching in a list of emails and if that email is not in the database (emailNotExistsInDatabase(email)), then continue.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1698637011,"post_id":77386093,"comment_id":136426238,"body_markdown":"It’s a bit better after your edit. Now it sounds like you don’t need to do anything. You only need to escape with backslashes in Java source code. You don’t need to do that if you are taking user input.","body":"It’s a bit better after your edit. Now it sounds like you don’t need to do anything. You only need to escape with backslashes in Java source code. You don’t need to do that if you are taking user input."},{"owner":{"account_id":17436033,"reputation":400,"user_id":12639005,"display_name":"Name Null"},"score":0,"creation_date":1698637338,"post_id":77386093,"comment_id":136426263,"body_markdown":"@Sweeper What I get from users are not string literals. I actually want them to give me regex patterns, and I &#39;ll show them the match results (using their regex to perform search on some strings in the database). I assume they are not Java developer so they would enter standard regex strings","body":"@Sweeper What I get from users are not string literals. I actually want them to give me regex patterns, and I &#39;ll show them the match results (using their regex to perform search on some strings in the database). I assume they are not Java developer so they would enter standard regex strings"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1698637506,"post_id":77386093,"comment_id":136426274,"body_markdown":"“What I get from users are not string literals.” Exactly, so you don’t need to escape them. You only need the backslashes in a string literal. Did you actually try what I suggested (not doing anything)? What results did you get?","body":"“What I get from users are not string literals.” Exactly, so you don’t need to escape them. You only need the backslashes in a string literal. Did you actually try what I suggested (not doing anything)? What results did you get?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1698638594,"post_id":77386093,"comment_id":136426342,"body_markdown":"As stated, escaping backslashes is only needed when writing string literals in source code. It&#39;s for the _Java compiler_ at compile-time. Getting a string from the user happens at _run-time_, so the Java compiler is not involved. Just do `Pattern.compile(userInput)`.","body":"As stated, escaping backslashes is only needed when writing string literals in source code. It&#39;s for the <i>Java compiler</i> at compile-time. Getting a string from the user happens at <i>run-time</i>, so the Java compiler is not involved. Just do <code>Pattern.compile(userInput)</code>."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1698638912,"post_id":77386093,"comment_id":136426362,"body_markdown":"You are confusing java String *literals* with java Strings. Strings that are java regexes are just like any other language/tool, ie `\\(` will match a bracket (in fact `\\\\(` would match a backslash and start a group). But when you *code* the String you must escape the escape character, so to write the String `\\(` into your program, you would *code* `String regex = &quot;\\\\(&quot;;` which creates the String `&quot;\\(&quot;`.","body":"You are confusing java String <i>literals</i> with java Strings. Strings that are java regexes are just like any other language/tool, ie <code>\\(</code> will match a bracket (in fact <code>\\\\(</code> would match a backslash and start a group). But when you <i>code</i> the String you must escape the escape character, so to write the String <code>\\(</code> into your program, you would <i>code</i> <code>String regex = &quot;\\\\(&quot;;</code> which creates the String <code>&quot;\\(&quot;</code>."},{"owner":{"account_id":17436033,"reputation":400,"user_id":12639005,"display_name":"Name Null"},"score":0,"creation_date":1698643456,"post_id":77386093,"comment_id":136426651,"body_markdown":"I think I&#39;ve got  the point: 1. So there is a difference between &quot;string&quot; (for example &quot;\\\\(&quot;and &quot;string internal representation/string literal&quot;. (for example &quot;\\\\\\(&quot;) . What `Pattern` sees is a &quot;string&quot;,  not the internal representation.  2. When  user types &quot;\\\\(&quot; in the input text box, it is a string,but the string object I get  is &quot;\\\\\\(&quot;. When this object is passed to `Pattern`,  `Pattern` sees the  string &quot;\\\\(&quot;, so it is identical to what the user wants.","body":"I think I&#39;ve got  the point: 1. So there is a difference between &quot;string&quot; (for example &quot;\\&#40;&quot;and &quot;string internal representation/string literal&quot;. (for example &quot;\\\\&#40;&quot;) . What <code>Pattern</code> sees is a &quot;string&quot;,  not the internal representation.  2. When  user types &quot;\\&#40;&quot; in the input text box, it is a string,but the string object I get  is &quot;\\\\&#40;&quot;. When this object is passed to <code>Pattern</code>,  <code>Pattern</code> sees the  string &quot;\\&#40;&quot;, so it is identical to what the user wants."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1698644202,"post_id":77386093,"comment_id":136426707,"body_markdown":"Yes and no. A string literal only exists in the source code, before compilation. When you have `&quot;Foo&quot;` in the source code, Java compiles that to create a `String` with the code points `70 111 111`. But there needs to be a way to insert characters such as newlines, carriage returns, backspaces, tabs, or even double quotes. To do this, Java provides escape sequences. `&quot;Foo\\n&quot;` will compile to a `String` with the code points `70 111 111 10` (notice it&#39;s not `70 111 111 92 110`). Yet what if you want to have a literal backslash in the string? Well, just escape it with another backslash.","body":"Yes and no. A string literal only exists in the source code, before compilation. When you have <code>&quot;Foo&quot;</code> in the source code, Java compiles that to create a <code>String</code> with the code points <code>70 111 111</code>. But there needs to be a way to insert characters such as newlines, carriage returns, backspaces, tabs, or even double quotes. To do this, Java provides escape sequences. <code>&quot;Foo\\n&quot;</code> will compile to a <code>String</code> with the code points <code>70 111 111 10</code> (notice it&#39;s not <code>70 111 111 92 110</code>). Yet what if you want to have a literal backslash in the string? Well, just escape it with another backslash."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1698644467,"post_id":77386093,"comment_id":136426733,"body_markdown":"However, this specific backslash escape only has meaning with string literals in the source code. When the user types `Foo\\n` in a text box, the backslash is not an escape. The `String` created has the code points `70 111 111 92 110`, not `70 111 111 10`. Now, it&#39;s a little confusing, but `Pattern` **also** uses backslashes to escape special characters; this is entirely separate from the escape sequences used by string literals.","body":"However, this specific backslash escape only has meaning with string literals in the source code. When the user types <code>Foo\\n</code> in a text box, the backslash is not an escape. The <code>String</code> created has the code points <code>70 111 111 92 110</code>, not <code>70 111 111 10</code>. Now, it&#39;s a little confusing, but <code>Pattern</code> <b>also</b> uses backslashes to escape special characters; this is entirely separate from the escape sequences used by string literals."},{"owner":{"account_id":17436033,"reputation":400,"user_id":12639005,"display_name":"Name Null"},"score":0,"creation_date":1698645143,"post_id":77386093,"comment_id":136426792,"body_markdown":"So user-input is not a string literal, and string literals only exist in code. In my specific case  user-input string can be guaranteed to be the same as what `Pattern` sees it, not because they are string literals, but because Java automatically escapes backslashes in user input . Thank @Slaw for your detailed explanation.","body":"So user-input is not a string literal, and string literals only exist in code. In my specific case  user-input string can be guaranteed to be the same as what <code>Pattern</code> sees it, not because they are string literals, but because Java automatically escapes backslashes in user input . Thank @Slaw for your detailed explanation."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1698645593,"post_id":77386093,"comment_id":136426826,"body_markdown":"Correct conclusion, but slightly wrong reasoning. It&#39;s not that Java &quot;_automatically escapes backslashes in user input_&quot;, it&#39;s that the backslash **does not denote an escape sequence** because the user input is not a string literal nor is it processed by the Java compiler. It&#39;s just a backslash same as if you were typing in a text editor. If you pass the `String` to `Pattern::compile` then **it&#39;s the `Pattern` class** that will interpret any backslash as an escape character, not the Java language/compiler.","body":"Correct conclusion, but slightly wrong reasoning. It&#39;s not that Java &quot;<i>automatically escapes backslashes in user input</i>&quot;, it&#39;s that the backslash <b>does not denote an escape sequence</b> because the user input is not a string literal nor is it processed by the Java compiler. It&#39;s just a backslash same as if you were typing in a text editor. If you pass the <code>String</code> to <code>Pattern::compile</code> then <b>it&#39;s the <code>Pattern</code> class</b> that will interpret any backslash as an escape character, not the Java language/compiler."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698694642,"creation_date":1698674162,"answer_id":77389262,"question_id":77386093,"body_markdown":"&gt;My current understanding is that I only have to replace all &quot;\\\\&quot; in raw regex string with double backslash &quot;\\\\\\\\&quot;. Is that really the case?\r\n\r\n## NO.\r\n\r\nRegular expressions in Java use the same characters that are used in other languages.\r\n\r\nWhat you are missing is that in Java (and C and C++) **source code,** a backslash starts an [escape sequence](https://docs.oracle.com/javase/specs/jls/se17/html/jls-3.html#jls-EscapeSequence).  Although a coder must type multiple characters to complete an escape sequence, the escape sequence represents **one character.**\r\n\r\nHere are some examples of **single chararacters** in Java code:\r\n\r\n    char tab = &#39;\\t&#39;;\r\n    char newline = &#39;\\n&#39;;\r\n    char singleQuote = &#39;\\&#39;&#39;;\r\n    char backslash = &#39;\\\\&#39;;\r\n\r\nHere are some Strings containing those characters.  The crucial point here is that each of these Strings has a length of one.  Each contains **only a single character.**\r\n\r\n    String tab = &quot;\\t&quot;;\r\n    String newline = &quot;\\n&quot;;\r\n    String doubleQuote = &quot;\\&quot;&quot;;\r\n    String backslash = &quot;\\\\&quot;;\r\n\r\nNow, suppose someone wants to create a regular expression, like:\r\n\r\n    \\(S+\\)\r\n\r\nThat is a regular expression consisting of six characters.\r\n\r\nIn Java, the regular expression would be exactly the same.  It would be a String consisting of six characters.\r\n\r\nRecall that this is a String consisting of **one character:**\r\n\r\n    String s = &quot;\\\\&quot;;\r\n\r\nHere is a String consisting of two characters:\r\n\r\n    String s = &quot;\\\\(&quot;;\r\n\r\nAnd here is a String consisting of all six characters:\r\n\r\n    String s = &quot;\\\\(S+\\\\)&quot;;\r\n\r\nIf you print that string with this code:\r\n\r\n    String s = &quot;\\\\(S+\\\\)&quot;;\r\n    System.out.println(s);\r\n\r\nYou will see this:\r\n\r\n    \\(S+\\)\r\n\r\nBecause even though the **source code** uses doubled backslashes, each pair of them represents **one character.**\r\n\r\nSo, no, you must not “translate” a user-entered string.  It’s exactly right as it is.  Only in source code would you need to double the backslashes, and even then, each pair of backslashes would still represent a single character in the string.\r\n\r\nSide note:  your application will have to handle the possibility that the user entered an invalid regular expression (such as text with unbalanced parentheses).  Typically, something like:\r\n\r\n    Pattern pattern;\r\n    try {\r\n        pattern = Pattern.compile(userEnteredText);\r\n    } catch (PatternSyntaxException e) {\r\n        e.printStackTrace();\r\n        errorMessageLabel.setText(&quot;Invalid regular expression: &quot; + e);\r\n        return;\r\n    }\r\n","title":"How to convert &quot;raw regex string&quot; to Java compatible regex string?","body":"<blockquote>\n<p>My current understanding is that I only have to replace all &quot;\\&quot; in raw regex string with double backslash &quot;\\\\&quot;. Is that really the case?</p>\n</blockquote>\n<h2>NO.</h2>\n<p>Regular expressions in Java use the same characters that are used in other languages.</p>\n<p>What you are missing is that in Java (and C and C++) <strong>source code,</strong> a backslash starts an <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-3.html#jls-EscapeSequence\" rel=\"nofollow noreferrer\">escape sequence</a>.  Although a coder must type multiple characters to complete an escape sequence, the escape sequence represents <strong>one character.</strong></p>\n<p>Here are some examples of <strong>single chararacters</strong> in Java code:</p>\n<pre><code>char tab = '\\t';\nchar newline = '\\n';\nchar singleQuote = '\\'';\nchar backslash = '\\\\';\n</code></pre>\n<p>Here are some Strings containing those characters.  The crucial point here is that each of these Strings has a length of one.  Each contains <strong>only a single character.</strong></p>\n<pre><code>String tab = &quot;\\t&quot;;\nString newline = &quot;\\n&quot;;\nString doubleQuote = &quot;\\&quot;&quot;;\nString backslash = &quot;\\\\&quot;;\n</code></pre>\n<p>Now, suppose someone wants to create a regular expression, like:</p>\n<pre><code>\\(S+\\)\n</code></pre>\n<p>That is a regular expression consisting of six characters.</p>\n<p>In Java, the regular expression would be exactly the same.  It would be a String consisting of six characters.</p>\n<p>Recall that this is a String consisting of <strong>one character:</strong></p>\n<pre><code>String s = &quot;\\\\&quot;;\n</code></pre>\n<p>Here is a String consisting of two characters:</p>\n<pre><code>String s = &quot;\\\\(&quot;;\n</code></pre>\n<p>And here is a String consisting of all six characters:</p>\n<pre><code>String s = &quot;\\\\(S+\\\\)&quot;;\n</code></pre>\n<p>If you print that string with this code:</p>\n<pre><code>String s = &quot;\\\\(S+\\\\)&quot;;\nSystem.out.println(s);\n</code></pre>\n<p>You will see this:</p>\n<pre><code>\\(S+\\)\n</code></pre>\n<p>Because even though the <strong>source code</strong> uses doubled backslashes, each pair of them represents <strong>one character.</strong></p>\n<p>So, no, you must not “translate” a user-entered string.  It’s exactly right as it is.  Only in source code would you need to double the backslashes, and even then, each pair of backslashes would still represent a single character in the string.</p>\n<p>Side note:  your application will have to handle the possibility that the user entered an invalid regular expression (such as text with unbalanced parentheses).  Typically, something like:</p>\n<pre><code>Pattern pattern;\ntry {\n    pattern = Pattern.compile(userEnteredText);\n} catch (PatternSyntaxException e) {\n    e.printStackTrace();\n    errorMessageLabel.setText(&quot;Invalid regular expression: &quot; + e);\n    return;\n}\n</code></pre>\n"}],"owner":{"account_id":17436033,"reputation":400,"user_id":12639005,"display_name":"Name Null"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77389262,"answer_count":1,"score":0,"last_activity_date":1698694642,"creation_date":1698636685,"question_id":77386093,"body_markdown":"There is a difference between raw regex expressions and Java regex expressions. For example, in raw expression &quot;\\\\(&quot; matches &quot;(&quot;, but in Java you need to use &quot;\\\\\\\\(&quot;. \r\n\r\nI have a text box **for user to enter standard raw regex expressions** (1. I assume they are not Java programmers, otherwise I&#39;ll just let them input Java regex String; 2. What they enter in not a string to be searched, but a regex pattern to be used to search another string). For example they would input &quot;\\\\$&quot; if they want to search &quot;\\$&quot; in a string.\r\n\r\nOnce I get user-input, I want to convert the raw expressions to Java compatible regex expressions so that I can use `Pattern` to match that regex. How should I perform the conversion?\r\n\r\nMy current understanding is that I only have to replace all &quot;\\\\&quot; in raw regex string with double backslash &quot;\\\\\\\\&quot;. Is that really the case? What have I missed?\r\n\r\nI think `Pattern.quote` has nothing to do with my case because it is used to treat the string as a literal, taking each character as it is, without any regex special meaning. But in contrary, I just want to perform regex searches.\r\n\r\nFor example, if I have a String &quot;Long1&quot;. A normal regex pattern &quot;Long.?&quot; would match it. But if I use  `Pattern.quote(&quot;Long.?&quot;)` it would not match, because it is a normal string, not a regex pattern, and would only match &quot;Long.?&quot;.\r\n","title":"How to convert &quot;raw regex string&quot; to Java compatible regex string?","body":"<p>There is a difference between raw regex expressions and Java regex expressions. For example, in raw expression &quot;\\(&quot; matches &quot;(&quot;, but in Java you need to use &quot;\\\\(&quot;.</p>\n<p>I have a text box <strong>for user to enter standard raw regex expressions</strong> (1. I assume they are not Java programmers, otherwise I'll just let them input Java regex String; 2. What they enter in not a string to be searched, but a regex pattern to be used to search another string). For example they would input &quot;\\$&quot; if they want to search &quot;$&quot; in a string.</p>\n<p>Once I get user-input, I want to convert the raw expressions to Java compatible regex expressions so that I can use <code>Pattern</code> to match that regex. How should I perform the conversion?</p>\n<p>My current understanding is that I only have to replace all &quot;\\&quot; in raw regex string with double backslash &quot;\\\\&quot;. Is that really the case? What have I missed?</p>\n<p>I think <code>Pattern.quote</code> has nothing to do with my case because it is used to treat the string as a literal, taking each character as it is, without any regex special meaning. But in contrary, I just want to perform regex searches.</p>\n<p>For example, if I have a String &quot;Long1&quot;. A normal regex pattern &quot;Long.?&quot; would match it. But if I use  <code>Pattern.quote(&quot;Long.?&quot;)</code> it would not match, because it is a normal string, not a regex pattern, and would only match &quot;Long.?&quot;.</p>\n"},{"tags":["java","jackson-dataformat-xml","axway"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1698730774,"post_id":77391393,"comment_id":136439022,"body_markdown":"Did you also update the other jackson dependencies or just `jackson-dataformat-xml`?","body":"Did you also update the other jackson dependencies or just <code>jackson-dataformat-xml</code>?"},{"owner":{"account_id":6735919,"reputation":123,"user_id":12504986,"display_name":"sand87"},"score":0,"creation_date":1701810165,"post_id":77391393,"comment_id":136820918,"body_markdown":"yes i did update the other jars as well.","body":"yes i did update the other jars as well."}],"owner":{"account_id":6735919,"reputation":123,"user_id":12504986,"display_name":"sand87"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698694405,"creation_date":1698694405,"question_id":77391393,"body_markdown":"I updated our jackson-dataformat-xml to 2.15.2 from 2.14.2.Post this change when i send a test curl viz.,\r\n\r\n        curl --location &#39;https://xxxxx:8065/httpbin/post&#39; \\\r\n    --header &#39;Content-Length: 0&#39; \\\r\n    --header &#39;x-my-test-id: get-content-length=0&#39; \\\r\n    --header &#39;x-my-validation-original-host: xxxxx&#39; \\\r\n    --header &#39;Content-Type: application/json&#39; \\\r\n    --data &#39;{\r\n        &quot;name&quot;: &quot;John Smith&quot;,\r\n        &quot;id&quot; : 123456789\r\n    }&#39;\r\n\r\ni get the following error\r\n\r\n        ERROR   xxxxx java exception:\r\n    java.io.IOException: failed to parse JSON body stream\r\n            at com.vordel.mime.JSONBody.parse(JSONBody.java:175)\r\n            at com.vordel.mime.Body.parse(Body.java:343)\r\n            at com.vordel.mime.JSONBody.getJSON(JSONBody.java:74)\r\n            at com.vordel.coreapireg.runtime.broker.parameters.body.JSONBodyValidator.validate(JSONBodyValidator.java:36)\r\n            at com.vordel.coreapireg.runtime.CoreApiBroker$BodyParamGenerator.generateBodyParams(CoreApiBroker.java:107)\r\n            at com.vordel.coreapireg.runtime.CoreApiBroker.generateRestApiMsgAttributes(CoreApiBroker.java:568)\r\n            at com.vordel.coreapireg.runtime.CoreApiBroker.processRequest(CoreApiBroker.java:209)\r\n            at com.vordel.apiportal.runtime.Broker.processRequest(Broker.java:110)\r\n            at com.vordel.apiportal.runtime.virtualized.VApiRuntime.processRequest(VApiRuntime.java:134)\r\n            at com.vordel.apiportal.runtime.PortalBroker.processRequest(PortalBroker.java:94)\r\n            at com.vordel.dwe.http.HTTPPlugin.invokeDispose(HTTPPlugin.java:525)\r\n            at com.vordel.dwe.http.HTTPPlugin.invoke(HTTPPlugin.java:157)\r\n\r\nI have checked my pom etc but this seems to come from the internal vordel jars.The surprising thing is that this issue isnt there while having the jackson-dataformat-xml set to 2.14.2 or even 2.9.2.\r\n\r\nAny idea as to what i am missing?Is this some kind of known issue?\r\n\r\n","title":"error in json parsing after updating jackson-dataformat-xml to 2.15.2 in axway based java plugin","body":"<p>I updated our jackson-dataformat-xml to 2.15.2 from 2.14.2.Post this change when i send a test curl viz.,</p>\n<pre><code>    curl --location 'https://xxxxx:8065/httpbin/post' \\\n--header 'Content-Length: 0' \\\n--header 'x-my-test-id: get-content-length=0' \\\n--header 'x-my-validation-original-host: xxxxx' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    &quot;name&quot;: &quot;John Smith&quot;,\n    &quot;id&quot; : 123456789\n}'\n</code></pre>\n<p>i get the following error</p>\n<pre><code>    ERROR   xxxxx java exception:\njava.io.IOException: failed to parse JSON body stream\n        at com.vordel.mime.JSONBody.parse(JSONBody.java:175)\n        at com.vordel.mime.Body.parse(Body.java:343)\n        at com.vordel.mime.JSONBody.getJSON(JSONBody.java:74)\n        at com.vordel.coreapireg.runtime.broker.parameters.body.JSONBodyValidator.validate(JSONBodyValidator.java:36)\n        at com.vordel.coreapireg.runtime.CoreApiBroker$BodyParamGenerator.generateBodyParams(CoreApiBroker.java:107)\n        at com.vordel.coreapireg.runtime.CoreApiBroker.generateRestApiMsgAttributes(CoreApiBroker.java:568)\n        at com.vordel.coreapireg.runtime.CoreApiBroker.processRequest(CoreApiBroker.java:209)\n        at com.vordel.apiportal.runtime.Broker.processRequest(Broker.java:110)\n        at com.vordel.apiportal.runtime.virtualized.VApiRuntime.processRequest(VApiRuntime.java:134)\n        at com.vordel.apiportal.runtime.PortalBroker.processRequest(PortalBroker.java:94)\n        at com.vordel.dwe.http.HTTPPlugin.invokeDispose(HTTPPlugin.java:525)\n        at com.vordel.dwe.http.HTTPPlugin.invoke(HTTPPlugin.java:157)\n</code></pre>\n<p>I have checked my pom etc but this seems to come from the internal vordel jars.The surprising thing is that this issue isnt there while having the jackson-dataformat-xml set to 2.14.2 or even 2.9.2.</p>\n<p>Any idea as to what i am missing?Is this some kind of known issue?</p>\n"},{"tags":["java","android","audio","android-intent","media"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1698692155,"post_id":77391197,"comment_id":136435076,"body_markdown":"What do you have in your `&lt;queries&gt;` element in your manifest?","body":"What do you have in your <code>&lt;queries&gt;</code> element in your manifest?"},{"owner":{"account_id":2120014,"reputation":1266,"user_id":1883476,"accept_rate":67,"display_name":"mkabatek"},"score":0,"creation_date":1698694046,"post_id":77391197,"comment_id":136435409,"body_markdown":"@CommonsWare nothing that I know of. I never needed anything before for my app, I&#39;m updating an old app for context.","body":"@CommonsWare nothing that I know of. I never needed anything before for my app, I&#39;m updating an old app for context."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1698694221,"creation_date":1698694221,"answer_id":77391378,"question_id":77391197,"body_markdown":"To comply with [package visibility rules on Android 11 and higher](https://developer.android.com/training/package-visibility), you will need a `&lt;queries&gt;` element as a child of the root `&lt;manifest&gt;` element, something like:\r\n\r\n```xml\r\n&lt;queries&gt;\r\n    &lt;intent&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\r\n    &lt;/intent&gt;\r\n&lt;/queries&gt;\r\n```","title":"Getting all android packages that can handle Intent.ACTION_MEDIA_BUTTON Android 13 API33","body":"<p>To comply with <a href=\"https://developer.android.com/training/package-visibility\" rel=\"nofollow noreferrer\">package visibility rules on Android 11 and higher</a>, you will need a <code>&lt;queries&gt;</code> element as a child of the root <code>&lt;manifest&gt;</code> element, something like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;queries&gt;\n    &lt;intent&gt;\n        &lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\n    &lt;/intent&gt;\n&lt;/queries&gt;\n</code></pre>\n"}],"owner":{"account_id":2120014,"reputation":1266,"user_id":1883476,"accept_rate":67,"display_name":"mkabatek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77391378,"answer_count":1,"score":2,"last_activity_date":1698694221,"creation_date":1698692052,"question_id":77391197,"body_markdown":"In previous versions of Android the following code used to work for getting all packages installed that could handle the `Intent.ACTION_MEDIA_BUTTON` However, now it does not work as it used to. Does anyone have insight as to why this doesn&#39;t work anymore? as well as a new method (Android 13 API 33) for getting the packages that can handle `Intent.ACTION_MEDIA_BUTTON`?      \r\n\r\n    //get all media players\r\n    Intent sendIntent = new Intent(Intent.ACTION_MEDIA_BUTTON);\r\n    mediaPlayers = this.getPackageManager().queryBroadcastReceivers(sendIntent, 0);","title":"Getting all android packages that can handle Intent.ACTION_MEDIA_BUTTON Android 13 API33","body":"<p>In previous versions of Android the following code used to work for getting all packages installed that could handle the <code>Intent.ACTION_MEDIA_BUTTON</code> However, now it does not work as it used to. Does anyone have insight as to why this doesn't work anymore? as well as a new method (Android 13 API 33) for getting the packages that can handle <code>Intent.ACTION_MEDIA_BUTTON</code>?</p>\n<pre><code>//get all media players\nIntent sendIntent = new Intent(Intent.ACTION_MEDIA_BUTTON);\nmediaPlayers = this.getPackageManager().queryBroadcastReceivers(sendIntent, 0);\n</code></pre>\n"},{"tags":["java","algorithm","matrix","chess"],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1605243138,"creation_date":1605243138,"answer_id":64815682,"question_id":64815543,"body_markdown":" 1. For each row, find the top 2 values and remember the column where they were found. _O(mn)_\r\n\r\n 2. For each column, find the top 2 values and remember the row where they were found. _O(mn)_\r\n\r\n 3. The the remaining operations, we only use the two lists built above. We will not look at the matrix again:\r\n\r\n    1. For each row, pretend to place a rook in that row and in the column with the highest value. For each column, sum that top value with the top value for the column, except for the column where the rook is, where we sum with the second highest value. Remember the row of the pretend rook and the column with the highest sum. _O(mn)_\r\n\r\n    2. Repeat, but use the second highest value. _O(mn)_\r\n\r\nOperation complete. _O(mn)_ + _O(mn)_ + _O(mn)_ + _O(mn)_ = **_O(mn)_**","title":"What is the maximum sum of squares of two non-attacking rooks placed on a matrix?","body":"<ol>\n<li><p>For each row, find the top 2 values and remember the column where they were found. <em>O(mn)</em></p>\n</li>\n<li><p>For each column, find the top 2 values and remember the row where they were found. <em>O(mn)</em></p>\n</li>\n<li><p>The the remaining operations, we only use the two lists built above. We will not look at the matrix again:</p>\n<ol>\n<li><p>For each row, pretend to place a rook in that row and in the column with the highest value. For each column, sum that top value with the top value for the column, except for the column where the rook is, where we sum with the second highest value. Remember the row of the pretend rook and the column with the highest sum. <em>O(mn)</em></p>\n</li>\n<li><p>Repeat, but use the second highest value. <em>O(mn)</em></p>\n</li>\n</ol>\n</li>\n</ol>\n<p>Operation complete. <em>O(mn)</em> + <em>O(mn)</em> + <em>O(mn)</em> + <em>O(mn)</em> = <strong><em>O(mn)</em></strong></p>\n"},{"tags":[],"owner":{"account_id":19950732,"reputation":21,"user_id":14620450,"display_name":"ashu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660501209,"creation_date":1660501209,"answer_id":73354140,"question_id":64815543,"body_markdown":"based on @Andreas comment above here is the code :\r\n\r\n```\r\n\r\nint solution(vector&lt;vector&lt;int&gt;&gt;&amp; board) {\r\n    int n = board.size();\r\n    int m = board[0].size();\r\n\r\n    vector&lt;vector&lt;int&gt;&gt; row(n);\r\n    vector&lt;vector&lt;int&gt;&gt; col(m);\r\n\r\n    for (int i = 0 ; i &lt; n ; i++) {\r\n        int mx = 0  , mxc  , smx = 0  , smxc;\r\n        for (int j = 0 ; j &lt; m ; j++) {\r\n            if (board[i][j] &gt;= mx) {\r\n                smx = mx ;\r\n                smxc = mxc;\r\n\r\n                mx = board[i][j];\r\n                mxc = j;\r\n            }\r\n            else if (board[i][j] &gt;= smx){\r\n                smx = board[i][j];\r\n                smxc = j;\r\n            }\r\n        }\r\n        row[i].push_back(mxc);\r\n        row[i].push_back(smxc);\r\n    }\r\n    for (int j = 0 ; j &lt; m ; j++) {\r\n        int mx = 0 , mxr  , smx = 0  , smxr ;\r\n        for (int i = 0 ; i &lt; n ; i++) {\r\n            if (board[i][j] &gt;= mx) {\r\n                smx = mx ;\r\n                smxr = mxr;\r\n\r\n                mx = board[i][j];\r\n                mxr = i;\r\n            }\r\n            else if (board[i][j] &gt;= smx) {\r\n                smx = board[i][j];\r\n                smxr = i;\r\n            }\r\n        }\r\n        col[j].push_back(mxr);\r\n        col[j].push_back(smxr);\r\n    }\r\n    int ans = 0 ;\r\n    for (int i = 0 ; i &lt; n ; i++) {\r\n        int r = i  , c =  row[i][0];\r\n        for (int  j = 0 ; j &lt; m ; j++) {\r\n            if (j != c) {\r\n                if (col[j][0] != r)\r\n                    ans =  max(ans , board[r][c] + board[col[j][0]][j]);\r\n                else\r\n                    ans =  max(ans , board[r][c] + board[col[j][1]][j]);\r\n            }\r\n        }\r\n    }\r\n    for (int j = 0 ; j &lt; m ; j++) {\r\n        int c = j  , r = col[j][0];\r\n        for (int i = 0 ; i &lt; n ; i++) {\r\n            if (i != r) {\r\n                if (row[i][0] != c)\r\n                    ans = max(ans , board[r][c] + board[i][row[i][0]]);\r\n                else\r\n                    ans = max(ans , board[r][c] + board[i][row[i][1]]);\r\n            }\r\n        }\r\n    }\r\n    return ans ;\r\n}\r\n```","title":"What is the maximum sum of squares of two non-attacking rooks placed on a matrix?","body":"<p>based on @Andreas comment above here is the code :</p>\n<pre><code>\nint solution(vector&lt;vector&lt;int&gt;&gt;&amp; board) {\n    int n = board.size();\n    int m = board[0].size();\n\n    vector&lt;vector&lt;int&gt;&gt; row(n);\n    vector&lt;vector&lt;int&gt;&gt; col(m);\n\n    for (int i = 0 ; i &lt; n ; i++) {\n        int mx = 0  , mxc  , smx = 0  , smxc;\n        for (int j = 0 ; j &lt; m ; j++) {\n            if (board[i][j] &gt;= mx) {\n                smx = mx ;\n                smxc = mxc;\n\n                mx = board[i][j];\n                mxc = j;\n            }\n            else if (board[i][j] &gt;= smx){\n                smx = board[i][j];\n                smxc = j;\n            }\n        }\n        row[i].push_back(mxc);\n        row[i].push_back(smxc);\n    }\n    for (int j = 0 ; j &lt; m ; j++) {\n        int mx = 0 , mxr  , smx = 0  , smxr ;\n        for (int i = 0 ; i &lt; n ; i++) {\n            if (board[i][j] &gt;= mx) {\n                smx = mx ;\n                smxr = mxr;\n\n                mx = board[i][j];\n                mxr = i;\n            }\n            else if (board[i][j] &gt;= smx) {\n                smx = board[i][j];\n                smxr = i;\n            }\n        }\n        col[j].push_back(mxr);\n        col[j].push_back(smxr);\n    }\n    int ans = 0 ;\n    for (int i = 0 ; i &lt; n ; i++) {\n        int r = i  , c =  row[i][0];\n        for (int  j = 0 ; j &lt; m ; j++) {\n            if (j != c) {\n                if (col[j][0] != r)\n                    ans =  max(ans , board[r][c] + board[col[j][0]][j]);\n                else\n                    ans =  max(ans , board[r][c] + board[col[j][1]][j]);\n            }\n        }\n    }\n    for (int j = 0 ; j &lt; m ; j++) {\n        int c = j  , r = col[j][0];\n        for (int i = 0 ; i &lt; n ; i++) {\n            if (i != r) {\n                if (row[i][0] != c)\n                    ans = max(ans , board[r][c] + board[i][row[i][0]]);\n                else\n                    ans = max(ans , board[r][c] + board[i][row[i][1]]);\n            }\n        }\n    }\n    return ans ;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16370486,"reputation":153,"user_id":11823877,"display_name":"user11823877"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698693728,"creation_date":1698693728,"answer_id":77391323,"question_id":64815543,"body_markdown":"I attempted this in JavaScript. While it may not be the most efficient approach, I&#39;m open to any suggestions for enhancing performance. Your insights are greatly welcomed.\r\n\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function solution(A) {\r\n        let max = 0;\r\n        let a = {};\r\n        let b = [];\r\n\r\n        for (let i = 0; i &lt; A.length; i++) {\r\n            for (let j = 0; j &lt; A[i].length; j++) {\r\n                a[&#39;&#39; + i + j] = A[i][j];\r\n                b.push([i, j]);\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i &lt; b.length; i++) {\r\n            for (let j = i + 1; j &lt; b.length; j++) {\r\n                let sum = a[b[i].join(&#39;&#39;)] + a[b[j].join(&#39;&#39;)];\r\n                if (b[i][0] !== b[j][0] &amp;&amp; b[i][1] !== b[j][1] &amp;&amp; max &lt; sum) {\r\n                    max = sum;\r\n                }\r\n            }\r\n        }\r\n\r\n        return max;\r\n    }\r\n\r\n    console.log(solution([[2, 4], [8, 5]]))\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"What is the maximum sum of squares of two non-attacking rooks placed on a matrix?","body":"<p>I attempted this in JavaScript. While it may not be the most efficient approach, I'm open to any suggestions for enhancing performance. Your insights are greatly welcomed.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function solution(A) {\n    let max = 0;\n    let a = {};\n    let b = [];\n\n    for (let i = 0; i &lt; A.length; i++) {\n        for (let j = 0; j &lt; A[i].length; j++) {\n            a['' + i + j] = A[i][j];\n            b.push([i, j]);\n        }\n    }\n\n    for (let i = 0; i &lt; b.length; i++) {\n        for (let j = i + 1; j &lt; b.length; j++) {\n            let sum = a[b[i].join('')] + a[b[j].join('')];\n            if (b[i][0] !== b[j][0] &amp;&amp; b[i][1] !== b[j][1] &amp;&amp; max &lt; sum) {\n                max = sum;\n            }\n        }\n    }\n\n    return max;\n}\n\nconsole.log(solution([[2, 4], [8, 5]]))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":14063081,"reputation":497,"user_id":10508153,"display_name":"Panda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4586,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1698693728,"creation_date":1605242072,"question_id":64815543,"body_markdown":"There is a m x n matrix given each with integer elements. The problem says that we have to place two rooks on that matrix, such that they don&#39;t attack each other and the sum of the elements on which the rooks are placed is maximum.\r\n\r\nExample:\r\nLet&#39;s say matrix is\r\n```\r\n2 5\r\n1 3\r\n```\r\nThen non-attacking rooks can be placed only on 2,3 or 1,5 element positions. But the maximum sum is found in case of 1,5, so the function should return 1 + 5 = 6.\r\n\r\nI thought that we could go through all the pairs of the array one by one and then return the maximum sum that we found, but I can&#39;t seem to find a better or efficient approach for this. My solution would be `O(m * m * n * n)` in terms of complexity.\r\n\r\nWhat would be a better approach? I would appreciate any help.","title":"What is the maximum sum of squares of two non-attacking rooks placed on a matrix?","body":"<p>There is a m x n matrix given each with integer elements. The problem says that we have to place two rooks on that matrix, such that they don't attack each other and the sum of the elements on which the rooks are placed is maximum.</p>\n<p>Example:\nLet's say matrix is</p>\n<pre><code>2 5\n1 3\n</code></pre>\n<p>Then non-attacking rooks can be placed only on 2,3 or 1,5 element positions. But the maximum sum is found in case of 1,5, so the function should return 1 + 5 = 6.</p>\n<p>I thought that we could go through all the pairs of the array one by one and then return the maximum sum that we found, but I can't seem to find a better or efficient approach for this. My solution would be <code>O(m * m * n * n)</code> in terms of complexity.</p>\n<p>What would be a better approach? I would appreciate any help.</p>\n"},{"tags":["java","spring","spring-boot","ehcache","spring-cache"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1698699149,"post_id":77389915,"comment_id":136436126,"body_markdown":"You will need to Update your EhCache to version 3.x as well: https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching.provider","body":"You will need to Update your EhCache to version 3.x as well: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/io.html#io.caching.provider\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":25224960,"reputation":21,"user_id":19060964,"display_name":"Abhi V"},"score":0,"creation_date":1698967451,"post_id":77389915,"comment_id":136475225,"body_markdown":"@jorge-campos I could only find a reference with xml based configs, do you happen to know how to update above implementation using CachingConfigurer with EhCache version 3.x?","body":"@jorge-campos I could only find a reference with xml based configs, do you happen to know how to update above implementation using CachingConfigurer with EhCache version 3.x?"},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1699028011,"post_id":77389915,"comment_id":136483714,"body_markdown":"You will likely need to use Ehcache as a provider for JCache for that: https://www.ehcache.org/documentation/3.10/107.html","body":"You will likely need to use Ehcache as a provider for JCache for that: <a href=\"https://www.ehcache.org/documentation/3.10/107.html\" rel=\"nofollow noreferrer\">ehcache.org/documentation/3.10/107.html</a>"}],"owner":{"account_id":25224960,"reputation":21,"user_id":19060964,"display_name":"Abhi V"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698693663,"creation_date":1698679468,"question_id":77389915,"body_markdown":"I am trying to migrate my Spring Boot app from v2 to v3. I have the below caching config working in a Spring Boot app version 2.7.7 and ehcache from net.sf.ehcache version 2.7.4. \r\n\r\nI am unable to migrate this same config to Spring Boot 3. My understanding is this is a very old version of EhCache but I was wondering if there&#39;s a way or workaround to make this config work in Spring Boot 3. I want to avoid additional changes at this point if I can make the current config backward compatible.\r\n\r\nIf not, what&#39;s the best way to update this class without usage of xml configurations.   \r\n\r\n```\r\nimport net.sf.ehcache.config.CacheConfiguration;\r\nimport org.springframework.cache.annotation.CachingConfigurer;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\n// this below import doesn&#39;t work in Spring Boot 3 (version 3.1.4)\r\nimport org.springframework.cache.ehcache.EhCacheCacheManager;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport java.util.List;\r\n\r\n@Configuration\r\n@EnableCaching\r\npublic class AppConfig implements CachingConfigurer {\r\n\r\n    private static final List&lt;String&gt; CACHE_LIST =List.of(&quot;entity1&quot;, &quot;entity2&quot;, &quot;entity3&quot;);\r\n\r\n    @Bean(destroyMethod = &quot;shutdown&quot;)\r\n    public net.sf.ehcache.CacheManager ehCacheManager() {\r\n        final net.sf.ehcache.config.Configuration configuration = new net.sf.ehcache.config.Configuration();\r\n        for (final String cacheComponent : CACHE_LIST) {\r\n            final CacheConfiguration cacheConfiguration = new CacheConfiguration();\r\n            cacheConfiguration.setName(cacheComponent);\r\n            cacheConfiguration.setMemoryStoreEvictionPolicy(&quot;LFU&quot;);\r\n            cacheConfiguration.setMaxEntriesLocalHeap(10000);\r\n            cacheConfiguration.setOverflowToOffHeap(false);\r\n            cacheConfiguration.setEternal(false);\r\n            configuration.addCache(cacheConfiguration);\r\n        }\r\n        return net.sf.ehcache.CacheManager.newInstance(configuration);\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    // cannot resolve symbol &#39;EhCacheCacheManager&#39; with Spring Boot 3\r\n    public EhCacheCacheManager cacheManager() {\r\n        return new EhCacheCacheManager(ehCacheManager());\r\n    }\r\n\r\n}\r\n```","title":"Unable to use EhCacheCacheManager in SpringBoot 3","body":"<p>I am trying to migrate my Spring Boot app from v2 to v3. I have the below caching config working in a Spring Boot app version 2.7.7 and ehcache from net.sf.ehcache version 2.7.4.</p>\n<p>I am unable to migrate this same config to Spring Boot 3. My understanding is this is a very old version of EhCache but I was wondering if there's a way or workaround to make this config work in Spring Boot 3. I want to avoid additional changes at this point if I can make the current config backward compatible.</p>\n<p>If not, what's the best way to update this class without usage of xml configurations.</p>\n<pre><code>import net.sf.ehcache.config.CacheConfiguration;\nimport org.springframework.cache.annotation.CachingConfigurer;\nimport org.springframework.cache.annotation.EnableCaching;\n// this below import doesn't work in Spring Boot 3 (version 3.1.4)\nimport org.springframework.cache.ehcache.EhCacheCacheManager;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport java.util.List;\n\n@Configuration\n@EnableCaching\npublic class AppConfig implements CachingConfigurer {\n\n    private static final List&lt;String&gt; CACHE_LIST =List.of(&quot;entity1&quot;, &quot;entity2&quot;, &quot;entity3&quot;);\n\n    @Bean(destroyMethod = &quot;shutdown&quot;)\n    public net.sf.ehcache.CacheManager ehCacheManager() {\n        final net.sf.ehcache.config.Configuration configuration = new net.sf.ehcache.config.Configuration();\n        for (final String cacheComponent : CACHE_LIST) {\n            final CacheConfiguration cacheConfiguration = new CacheConfiguration();\n            cacheConfiguration.setName(cacheComponent);\n            cacheConfiguration.setMemoryStoreEvictionPolicy(&quot;LFU&quot;);\n            cacheConfiguration.setMaxEntriesLocalHeap(10000);\n            cacheConfiguration.setOverflowToOffHeap(false);\n            cacheConfiguration.setEternal(false);\n            configuration.addCache(cacheConfiguration);\n        }\n        return net.sf.ehcache.CacheManager.newInstance(configuration);\n    }\n\n    @Bean\n    @Override\n    // cannot resolve symbol 'EhCacheCacheManager' with Spring Boot 3\n    public EhCacheCacheManager cacheManager() {\n        return new EhCacheCacheManager(ehCacheManager());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","maven","drools"],"comments":[{"owner":{"account_id":11747381,"reputation":320,"user_id":8597738,"display_name":"Sabesh"},"score":0,"creation_date":1548148695,"post_id":54304712,"comment_id":95429543,"body_markdown":"Did you tried Maven force update?  Since, your code works fine for me","body":"Did you tried Maven force update?  Since, your code works fine for me"},{"owner":{"account_id":15127310,"reputation":41,"user_id":10916244,"display_name":"Thea"},"score":0,"creation_date":1548150293,"post_id":54304712,"comment_id":95430472,"body_markdown":"I did the actions meant in this article: https://stackoverflow.com/questions/9980869/force-intellij-idea-to-reread-all-maven-dependencies but got the same result.","body":"I did the actions meant in this article: <a href=\"https://stackoverflow.com/questions/9980869/force-intellij-idea-to-reread-all-maven-dependencies\" title=\"force intellij idea to reread all maven dependencies\">stackoverflow.com/questions/9980869/&hellip;</a> but got the same result."}],"answers":[{"tags":[],"owner":{"account_id":15127310,"reputation":41,"user_id":10916244,"display_name":"Thea"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1548402871,"creation_date":1548256298,"answer_id":54330262,"question_id":54304712,"body_markdown":"Finally I added a Maven Shade Plugin to create an Uber jar. I guarantees, that all classes are there at runtime. It works. Maybe, there is a better solution, then please leave an answer. The maven project looks now like this:\r\n\r\n    &lt;properties&gt;\r\n        &lt;drools.version&gt;6.3.0.Final&lt;/drools.version&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;drools-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${drools.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n\r\nMaybe it helps some others.\r\n\r\n            &lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;drools-compiler&lt;/artifactId&gt;\r\n            &lt;version&gt;${drools.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kie&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kie-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${drools.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.21&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.21&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.kie&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kie-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${drools.version}&lt;/version&gt;\r\n                &lt;extensions&gt;true&lt;/extensions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;!-- Build an executable JAR --&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;App&lt;/mainClass&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"How to fix &quot;NoClassDefFoundError KieServices.Factory&quot;","body":"<p>Finally I added a Maven Shade Plugin to create an Uber jar. I guarantees, that all classes are there at runtime. It works. Maybe, there is a better solution, then please leave an answer. The maven project looks now like this:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;drools.version&gt;6.3.0.Final&lt;/drools.version&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n\n&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.drools&lt;/groupId&gt;\n        &lt;artifactId&gt;drools-core&lt;/artifactId&gt;\n        &lt;version&gt;${drools.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n</code></pre>\n\n<p>Maybe it helps some others.</p>\n\n<pre><code>        &lt;groupId&gt;org.drools&lt;/groupId&gt;\n        &lt;artifactId&gt;drools-compiler&lt;/artifactId&gt;\n        &lt;version&gt;${drools.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.kie&lt;/groupId&gt;\n        &lt;artifactId&gt;kie-api&lt;/artifactId&gt;\n        &lt;version&gt;${drools.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n        &lt;version&gt;2.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.21&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.7.21&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.kie&lt;/groupId&gt;\n            &lt;artifactId&gt;kie-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${drools.version}&lt;/version&gt;\n            &lt;extensions&gt;true&lt;/extensions&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.6&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n\n        &lt;plugin&gt;\n            &lt;!-- Build an executable JAR --&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;App&lt;/mainClass&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":15127310,"reputation":41,"user_id":10916244,"display_name":"Thea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54330262,"answer_count":1,"score":1,"last_activity_date":1698693308,"creation_date":1548148098,"question_id":54304712,"body_markdown":"I am just starting learning JBoss Drools. So I have made a little application out from a book, Drools Jboss Rules 5.X. As I noticed soon, the initialisation of Drools 5.X is depricated and I rewrote the Code to Drools 6.2+ using the KieServices. Building the project finished without error.But running the jar I always got the NoClassDefFoundError: org/kie/api/KieServices$Factory. Then I began at the very beginning with a code, where nothing is in, just initialising the KieServices and got the same error. All suggestions of Stackoverflow and other discussion did not help. See below the code (nearly nothing) and the maven-file. Does anyone have a solution?\r\n\r\nMain Class with initialisation of KieServices\r\n\r\n    import org.kie.api.KieServices;\r\n    \r\n    public class App {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;start&quot;);\r\n            KieServices ks = KieServices.Factory.get();\r\n        }\r\n    }\r\n\r\n\r\nAnd here is my Maven-project\r\n\r\n       \r\n\r\n\r\n\r\n    &lt;properties&gt;\r\n        &lt;drools.version&gt;6.3.0.Final&lt;/drools.version&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;drools-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${drools.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;drools-compiler&lt;/artifactId&gt;\r\n            &lt;version&gt;${drools.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kie&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kie-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${drools.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.kie.server/kie-server-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kie.server&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kie-server-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${drools.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.kie&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kie-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${drools.version}&lt;/version&gt;\r\n                &lt;extensions&gt;true&lt;/extensions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;!-- Build an executable JAR --&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;App&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n    \r\n\r\n","title":"How to fix &quot;NoClassDefFoundError KieServices.Factory&quot;","body":"<p>I am just starting learning JBoss Drools. So I have made a little application out from a book, Drools Jboss Rules 5.X. As I noticed soon, the initialisation of Drools 5.X is depricated and I rewrote the Code to Drools 6.2+ using the KieServices. Building the project finished without error.But running the jar I always got the NoClassDefFoundError: org/kie/api/KieServices$Factory. Then I began at the very beginning with a code, where nothing is in, just initialising the KieServices and got the same error. All suggestions of Stackoverflow and other discussion did not help. See below the code (nearly nothing) and the maven-file. Does anyone have a solution?</p>\n\n<p>Main Class with initialisation of KieServices</p>\n\n<pre><code>import org.kie.api.KieServices;\n\npublic class App {\n    public static void main(String[] args) {\n        System.out.println(\"start\");\n        KieServices ks = KieServices.Factory.get();\n    }\n}\n</code></pre>\n\n<p>And here is my Maven-project</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;drools.version&gt;6.3.0.Final&lt;/drools.version&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.drools&lt;/groupId&gt;\n        &lt;artifactId&gt;drools-core&lt;/artifactId&gt;\n        &lt;version&gt;${drools.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.drools&lt;/groupId&gt;\n        &lt;artifactId&gt;drools-compiler&lt;/artifactId&gt;\n        &lt;version&gt;${drools.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.kie&lt;/groupId&gt;\n        &lt;artifactId&gt;kie-api&lt;/artifactId&gt;\n        &lt;version&gt;${drools.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.kie.server/kie-server-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.kie.server&lt;/groupId&gt;\n        &lt;artifactId&gt;kie-server-api&lt;/artifactId&gt;\n        &lt;version&gt;${drools.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.kie&lt;/groupId&gt;\n            &lt;artifactId&gt;kie-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${drools.version}&lt;/version&gt;\n            &lt;extensions&gt;true&lt;/extensions&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;!-- Build an executable JAR --&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;App&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","spring-boot","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1623280957,"post_id":67909037,"comment_id":120037703,"body_markdown":"`I must say that I have consciously decided not to go through the Reactor lib documentation` then tbh i suggest you do so [how much research effort is expected of stack overflow users](https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users)","body":"<code>I must say that I have consciously decided not to go through the Reactor lib documentation</code> then tbh i suggest you do so <a href=\"https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users\">how much research effort is expected of stack overflow users</a>"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1623281108,"post_id":67909037,"comment_id":120037731,"body_markdown":"possible duplicate? [who calls subscribe on Flux or Mono in reactive webapplication](https://stackoverflow.com/questions/56487429/who-calls-subscribe-on-flux-or-mono-in-reactive-webapplication)","body":"possible duplicate? <a href=\"https://stackoverflow.com/questions/56487429/who-calls-subscribe-on-flux-or-mono-in-reactive-webapplication\">who calls subscribe on Flux or Mono in reactive webapplication</a>"},{"owner":{"account_id":17966800,"reputation":409,"user_id":13056526,"display_name":"Alberto San Jos&#233;"},"score":0,"creation_date":1623309506,"post_id":67909037,"comment_id":120043629,"body_markdown":"@ToerkTumlare, I&#39;ve admitted that I haven&#39;t gone deep into the Reactor documentation before my attempt to use Spring Reactive WebClient, pretty much like hundreds of people do, I am pretty sure. But I can tell for certain that I NEVER post any question before trying myself to find a solution/explanation. As a matter of fact, you are redirecting me to a question pretty much like mine, but without acknowledging what has not been investigated. Anyway, if you think otherwise, that&#39;s fine with me. At the end of the day, I don&#39;t care much about reputation.","body":"@ToerkTumlare, I&#39;ve admitted that I haven&#39;t gone deep into the Reactor documentation before my attempt to use Spring Reactive WebClient, pretty much like hundreds of people do, I am pretty sure. But I can tell for certain that I NEVER post any question before trying myself to find a solution/explanation. As a matter of fact, you are redirecting me to a question pretty much like mine, but without acknowledging what has not been investigated. Anyway, if you think otherwise, that&#39;s fine with me. At the end of the day, I don&#39;t care much about reputation."},{"owner":{"account_id":17966800,"reputation":409,"user_id":13056526,"display_name":"Alberto San Jos&#233;"},"score":0,"creation_date":1623309806,"post_id":67909037,"comment_id":120043750,"body_markdown":"@Toerktumlare, the post you suggest ONLY addresses my first question, yes, that&#39;s right. With this one I was also aming to have one post where someone could help to provide a complete example of use of WebClient, not just the thousands of lines spread all over the web to just get the request out of the application, which is the easy part.","body":"@Toerktumlare, the post you suggest ONLY addresses my first question, yes, that&#39;s right. With this one I was also aming to have one post where someone could help to provide a complete example of use of WebClient, not just the thousands of lines spread all over the web to just get the request out of the application, which is the easy part."},{"owner":{"account_id":17966800,"reputation":409,"user_id":13056526,"display_name":"Alberto San Jos&#233;"},"score":0,"creation_date":1623310272,"post_id":67909037,"comment_id":120043921,"body_markdown":"Last, to be honest, if you think this question doesn&#39;t show much of investigation, I cannot imagine what you think about the one you refer to, asking how does browser of postman deal with Mono and Flux calling subscribe()... Have you read it twice before sending it back to me? Please, if you have experience in this matter, I think it would be more helpful, not only for me but for the community, that you provide a good and complete example. Thanks!","body":"Last, to be honest, if you think this question doesn&#39;t show much of investigation, I cannot imagine what you think about the one you refer to, asking how does browser of postman deal with Mono and Flux calling subscribe()... Have you read it twice before sending it back to me? Please, if you have experience in this matter, I think it would be more helpful, not only for me but for the community, that you provide a good and complete example. Thanks!"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1623315692,"post_id":67909037,"comment_id":120046166,"body_markdown":"people at stack overflow answer questions on their free time, always remember that. Im not going to spend an hour, writing an answer that is already in the documentation just because you consciously decided to not read the documentation. 100s of people everyday that say &quot;they are beginners and they havn&#39;t read the manual&quot;. The documentation is there for a reason. Reading the docs will make you a better dev. It will answer most of your questions. I have a lot of experience in the matter, just because i spent a couple of days, reading and im recommending you to do the same before asking here.","body":"people at stack overflow answer questions on their free time, always remember that. Im not going to spend an hour, writing an answer that is already in the documentation just because you consciously decided to not read the documentation. 100s of people everyday that say &quot;they are beginners and they havn&#39;t read the manual&quot;. The documentation is there for a reason. Reading the docs will make you a better dev. It will answer most of your questions. I have a lot of experience in the matter, just because i spent a couple of days, reading and im recommending you to do the same before asking here."},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1623351170,"post_id":67909037,"comment_id":120062099,"body_markdown":"@WinterBoot are you developing a reactive application (where the controller returns Mono/Flux) or a traditional blocking application? What is the context of the code snippet you shared? What is `StubHttpClient::handleResponse` supposed to do?","body":"@WinterBoot are you developing a reactive application (where the controller returns Mono/Flux) or a traditional blocking application? What is the context of the code snippet you shared? What is <code>StubHttpClient::handleResponse</code> supposed to do?"},{"owner":{"account_id":17966800,"reputation":409,"user_id":13056526,"display_name":"Alberto San Jos&#233;"},"score":0,"creation_date":1623403963,"post_id":67909037,"comment_id":120075094,"body_markdown":"reactive... that&#39;s why I don&#39;t call block() to trigger the chain of events to have WebClient sending out the request. StubHttpClient::handleResponse is dummy so far; I only use it to call subcribe() and see if it ever was called back, but it is not. As a matter of fact I have everything I need the client to do in the onStatus() calls, since the response does not have any content at all. My doubt was if I really need this explicit subscription or if I am probably doing something wrong... As the code is the request gets out and the  response codes are processed in the onStatus() callbacks.","body":"reactive... that&#39;s why I don&#39;t call block() to trigger the chain of events to have WebClient sending out the request. StubHttpClient::handleResponse is dummy so far; I only use it to call subcribe() and see if it ever was called back, but it is not. As a matter of fact I have everything I need the client to do in the onStatus() calls, since the response does not have any content at all. My doubt was if I really need this explicit subscription or if I am probably doing something wrong... As the code is the request gets out and the  response codes are processed in the onStatus() callbacks."},{"owner":{"account_id":17966800,"reputation":409,"user_id":13056526,"display_name":"Alberto San Jos&#233;"},"score":0,"creation_date":1623404164,"post_id":67909037,"comment_id":120075186,"body_markdown":"I am also concerned about the Disposable returned by subscribe(): am I responsible to call dispose() to avoid a memory leak? If I compare this to Angular Observables, the answer is yes, Angular takes care of some automatically (for example those to handle http responses), but for others the SPA is responsible.... I am still making my mind of the complete picture of how Reactive works in Spring. THANKS!","body":"I am also concerned about the Disposable returned by subscribe(): am I responsible to call dispose() to avoid a memory leak? If I compare this to Angular Observables, the answer is yes, Angular takes care of some automatically (for example those to handle http responses), but for others the SPA is responsible.... I am still making my mind of the complete picture of how Reactive works in Spring. THANKS!"},{"owner":{"account_id":17966800,"reputation":409,"user_id":13056526,"display_name":"Alberto San Jos&#233;"},"score":0,"creation_date":1623404753,"post_id":67909037,"comment_id":120075406,"body_markdown":"I&#39;ve also put the context where the webclient.post is used. Basically, an asynchronous task starts upon reception of a POST, once it finishes, the service calls notifyJobSuccess(), that returns a void because the service delegates the sending of the request and the processin of the answer to this HttpClientNotifier::notifyJobSuccess","body":"I&#39;ve also put the context where the webclient.post is used. Basically, an asynchronous task starts upon reception of a POST, once it finishes, the service calls notifyJobSuccess(), that returns a void because the service delegates the sending of the request and the processin of the answer to this HttpClientNotifier::notifyJobSuccess"}],"answers":[{"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1682942824,"post_id":71608550,"comment_id":134287271,"body_markdown":"this answer is filled with strange decisions and is not idiomatic reactive programming. For instance the mixage of CompletableFutures instead of using Fluxes or Monos. Also the mixing of using imperative java using Try/Catch blocks. Downvoted because this clearly shows the lack of not reading documentation.","body":"this answer is filled with strange decisions and is not idiomatic reactive programming. For instance the mixage of CompletableFutures instead of using Fluxes or Monos. Also the mixing of using imperative java using Try/Catch blocks. Downvoted because this clearly shows the lack of not reading documentation."}],"tags":[],"owner":{"account_id":17966800,"reputation":409,"user_id":13056526,"display_name":"Alberto San Jos&#233;"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648152975,"creation_date":1648151160,"answer_id":71608550,"question_id":67909037,"body_markdown":"Some time has passed since I asked for help here. Now I&#39;d like not to edit but to add an answer to my previous question, so that the answer remains clear and separate from he original question and comments.\r\nSo here goes a complete example.\r\n\r\n**CONTEXT:** An application, acting as a client, that requests an Access Token from an OAuth2 Authorization server. The Access Token is requested asynchronously to avoid blocking the appliction&#39;s thread while the token request is processed at the other end and the response arrives.\r\n\r\nFirst, this is a class that serves Access Token to its clients (method `getAccessToken`): if the Access Token is already initialized and it&#39;s valid, it returns the value stored; otherwise fetches a new one calling the internal method `fetchAccessTokenAsync`:\r\n\r\n    public class Oauth2ClientBroker {\r\n    private static final String OAUHT2_SRVR_TOKEN_PATH= &quot;/auth/realms/oam/protocol/openid-connect/token&quot;;\r\n    private static final String GRANT_TYPE = &quot;client_credentials&quot;;\r\n\r\n    @Qualifier(&quot;oAuth2Client&quot;)\r\n    private final WebClient oAuth2Client;\r\n\r\n    private final ConfigurationHolder CfgHolder;\r\n\r\n    @GuardedBy(&quot;this&quot;)\r\n    private String token = null;\r\n\r\n    @GuardedBy(&quot;this&quot;)\r\n    private Instant tokenExpireTime;\r\n\r\n    @GuardedBy(&quot;this&quot;)\r\n    private String tokenUrlEndPoint;\r\n\r\n    public void getAccessToken(final CompletableFuture&lt;String&gt; completableFuture) {\r\n\r\n        if (!isTokenInitialized() || isTokenExpired()) {\r\n            log.trace(&quot;Access Token not initialized or has exired: go fetch a new one...&quot;);\r\n            synchronized (this) {\r\n                this.token = null;\r\n            }\r\n            fetchAccessTokenAsync(completableFuture);\r\n        } else {\r\n            log.trace(&quot;Reusing Access Token (not expired)&quot;);\r\n            final String token;\r\n            synchronized (this) {\r\n                token = this.token;\r\n            }\r\n            completableFuture.complete(token);\r\n        }\r\n    }\r\n...\r\n}\r\n\r\nNext, we will see that `fetchAccessTokenAsync` does:\r\n\r\n    private void fetchAccessTokenAsync(final CompletableFuture&lt;String&gt; tokenReceivedInFuture) {\r\n\r\n        Mono&lt;String&gt; accessTokenResponse = postAccessTokenRequest();\r\n        accessTokenResponse.subscribe(tr -&gt; processResponseBodyInFuture(tr, tokenReceivedInFuture));\r\n\r\n    }\r\n\r\nTwo things happen here:\r\n\r\n 1. The method `postAccessTokenRequest()` builds a POST request and declares how the reponse will be consumed (when WebFlux makes it available once it is received), by using `exchangeToMono`:\r\n\r\n&lt;pre&gt;&lt;code&gt;private Mono&lt;String&gt; postAccessTokenRequest() {\r\n\r\n        log.trace(&quot;Request Access Token for OAuth2 client {}&quot;, cfgHolder.getClientId());\r\n\r\n        final URI uri = URI.create(cfgHolder.getsecServiceHostAndPort().concat(OAUHT2_SRVR_TOKEN_PATH));\r\n            } else {\r\n                uri = URI.create(tokenUrlEndPoint);\r\n            }\r\n\r\n        }\r\n        log.debug(&quot;Access Token endpoint OAuth2 Authorization server: {}&quot;, uri.toString());\r\n\r\n        return oAuth2Client.post().uri(uri)\r\n                .body(BodyInserters.fromFormData(&quot;client_id&quot;, cfgHolder.getEdaClientId())\r\n                        .with(&quot;client_secret&quot;, cfgHolder.getClientSecret())\r\n                        .with(&quot;scope&quot;, cfgHolder.getClientScopes()).with(&quot;grant_type&quot;, GRANT_TYPE))\r\n                .exchangeToMono(resp -&gt; {\r\n                    if (resp.statusCode().equals(HttpStatus.OK)) {\r\n                        log.info(&quot;Access Token successfully obtained&quot;);\r\n                        return resp.bodyToMono(String.class);\r\n                    } else if (resp.statusCode().equals(HttpStatus.BAD_REQUEST)) {\r\n                        log.error(&quot;Bad request sent to Authorization Server!&quot;);\r\n                        return resp.bodyToMono(String.class);\r\n                    } else if (resp.statusCode().equals(HttpStatus.UNAUTHORIZED)) {\r\n                        log.error(&quot;OAuth2 Credentials exchange with Authorization Server failed!&quot;);\r\n                        return resp.bodyToMono(String.class);\r\n                    } else if (resp.statusCode().is5xxServerError()) {\r\n                        log.error(&quot;Authorization Server could not generate a token due to a server error&quot;);\r\n                        return resp.bodyToMono(String.class);\r\n                    } else {\r\n                        log.error(&quot;Authorization Server returned an unexpected status code: {}&quot;,\r\n                                resp.statusCode().toString());\r\n                        return Mono.error(new Exception(\r\n                                String.format(&quot;Authorization Server returned an unexpected status code: %s&quot;,\r\n                                        resp.statusCode().toString())));\r\n                    }\r\n                }).onErrorResume(e -&gt; {\r\n                    log.error(\r\n                            &quot;Access Token could not be obtained. Process ends here&quot;);\r\n                    return Mono.empty();\r\n                });\r\n    }&lt;/code&gt;&lt;/pre&gt;\r\n\r\nThe `exchangeToMono` method does most of the magic here: tells WebFlux to return a Mono that will asynchronously receive a signal as soon as the response is received, wrapped in a `ClientResponse`, the parameter `resp` consumed in the lambda. But it is important to keep in mind that NO request has been sent out yet at this point; we are just passing in the Function that will take the `ClientResponse` when it arrives and will return a `Mono&lt;String&gt;` with the part of the body of our interest (the Access Token, as we will see).\r\n\r\n 2. Once the POST is built and the Mono&lt;String&gt; returned, then the real thing starts when we subscribe to the `Mono&lt;String&gt;` returned before. As the Reacive mantra says: [nothing happens until you subscribe][1] or, in our case, [the request is not actually sent until something attempts to read or wait for the response][2]. There are other ways in WebClient fluent API to implicitly subscribe, but we have chosen here the explicit way of returing the `Mono` -which implements the reactor `Publisher` interface- and subscribe to it. Here we blocking the thread no more, releasing CPU for other stuff, probably more useful than just waiting for an answer.\r\n\r\nSo far, so good: we have sent out the request, released CPU, but where the processing will continue whenever the response comes? The `subscribe()` method takes as an argument a Consumer parameterized in our case with a String, being nothing less than the body of the response we are waiting for, wrapped in Mono&lt;String&gt;. When the response comes, WebFlux will notify the event to our Mono, which will call the method `processResponseBodyInFuture`, where we finally receive the response body:\r\n\r\n    private void processResponseBodyInFuture(final String body, final CompletableFuture&lt;String&gt; tokenReceivedInFuture) {\r\n\r\n        DocumentContext jsonContext = JsonPath.parse(body);\r\n\r\n        try {\r\n            log.info(&quot;Access Token response received: {}&quot;, body);\r\n            final String aTkn = jsonContext.read(&quot;$.access_token&quot;);\r\n            log.trace(&quot;Access Token parsed: {}&quot;, aTkn);\r\n            final int expiresIn = jsonContext.read(&quot;$.expires_in&quot;);\r\n            synchronized (this) {\r\n                this.token = aTkn;\r\n                this.tokenExpireTime = Instant.now().plusSeconds(expiresIn);\r\n            }\r\n            log.trace(&quot;Signal Access Token request completion. Processing will continue calling client...&quot;);\r\n            tokenReceivedInFuture.complete(aTkn);\r\n        } catch (PathNotFoundException e) {\r\n            try {\r\n                log.error(e.getMessage());\r\n                log.info(String.format(\r\n                        &quot;Could not extract Access Token. The response returned corresponds to the error %s: %s&quot;,\r\n                        jsonContext.read(&quot;$.error&quot;), jsonContext.read(&quot;$.error_description&quot;)));\r\n            } catch (PathNotFoundException e2) {\r\n                log.error(e2.getMessage().concat(&quot; - Unexpected json content received from OAuth2 Server&quot;));\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nThe invocation of this method happens as soon as the Mono is signalled about the reception of the response. So here we try to parse the json content with an Access Token and do something with it... In this case call `complete()` onto the `CompletableFuture` passed in by the caller of the initial method `getAccessToken`, that hopefully will know what to do with it. Our job is done here... Asynchronously!\r\n\r\n**Summary:**\r\nTo summarize, these are the basic considerations to have your request sent out and the responses processed when you ise reactive WebClient:\r\n\r\n 1. Consider having a method in charge of preparing the request by means of the WebClient fluent API (to set http method, uri, headers and body). Remember: by doing this you are not sending any request yet.\r\n 2. Think on the strategy you will use to obtain the `Publisher` that will be receive the http client events (response or errors). `retreive()` is the most straight forward, but it has less power to manipulate the response than `exchangeToMono`.\r\n 3. Subscribe... or nothing will happen.\r\nMany examples you will find around will cheat you: they claim to use WebClient for asyncrhony, but then they &quot;forget&quot; about subscribing to the Publisher and call `block()` instead. Well, while this makes things easier and they seem to work (you will see responses received and passed to your application), the thing is that this is not asynchronous anymore: your Mono (or Flux, whatever you use) will be blocking until the response arrives. No good.\r\n 4. Have a separate method (being the Consumer passed in the `subscribe()` method) where the response body is processed.\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/reference/#reactive.subscribe\r\n  [2]: https://reflectoring.io/spring-webclient/","title":"Complete WebClient asynchronous example with Spring WebFlux","body":"<p>Some time has passed since I asked for help here. Now I'd like not to edit but to add an answer to my previous question, so that the answer remains clear and separate from he original question and comments.\nSo here goes a complete example.</p>\n<p><strong>CONTEXT:</strong> An application, acting as a client, that requests an Access Token from an OAuth2 Authorization server. The Access Token is requested asynchronously to avoid blocking the appliction's thread while the token request is processed at the other end and the response arrives.</p>\n<p>First, this is a class that serves Access Token to its clients (method <code>getAccessToken</code>): if the Access Token is already initialized and it's valid, it returns the value stored; otherwise fetches a new one calling the internal method <code>fetchAccessTokenAsync</code>:</p>\n<pre><code>public class Oauth2ClientBroker {\nprivate static final String OAUHT2_SRVR_TOKEN_PATH= &quot;/auth/realms/oam/protocol/openid-connect/token&quot;;\nprivate static final String GRANT_TYPE = &quot;client_credentials&quot;;\n\n@Qualifier(&quot;oAuth2Client&quot;)\nprivate final WebClient oAuth2Client;\n\nprivate final ConfigurationHolder CfgHolder;\n\n@GuardedBy(&quot;this&quot;)\nprivate String token = null;\n\n@GuardedBy(&quot;this&quot;)\nprivate Instant tokenExpireTime;\n\n@GuardedBy(&quot;this&quot;)\nprivate String tokenUrlEndPoint;\n\npublic void getAccessToken(final CompletableFuture&lt;String&gt; completableFuture) {\n\n    if (!isTokenInitialized() || isTokenExpired()) {\n        log.trace(&quot;Access Token not initialized or has exired: go fetch a new one...&quot;);\n        synchronized (this) {\n            this.token = null;\n        }\n        fetchAccessTokenAsync(completableFuture);\n    } else {\n        log.trace(&quot;Reusing Access Token (not expired)&quot;);\n        final String token;\n        synchronized (this) {\n            token = this.token;\n        }\n        completableFuture.complete(token);\n    }\n}\n</code></pre>\n<p>...\n}</p>\n<p>Next, we will see that <code>fetchAccessTokenAsync</code> does:</p>\n<pre><code>private void fetchAccessTokenAsync(final CompletableFuture&lt;String&gt; tokenReceivedInFuture) {\n\n    Mono&lt;String&gt; accessTokenResponse = postAccessTokenRequest();\n    accessTokenResponse.subscribe(tr -&gt; processResponseBodyInFuture(tr, tokenReceivedInFuture));\n\n}\n</code></pre>\n<p>Two things happen here:</p>\n<ol>\n<li>The method <code>postAccessTokenRequest()</code> builds a POST request and declares how the reponse will be consumed (when WebFlux makes it available once it is received), by using <code>exchangeToMono</code>:</li>\n</ol>\n<pre><code>private Mono postAccessTokenRequest() {\n\n        log.trace(\"Request Access Token for OAuth2 client {}\", cfgHolder.getClientId());\n\n        final URI uri = URI.create(cfgHolder.getsecServiceHostAndPort().concat(OAUHT2_SRVR_TOKEN_PATH));\n            } else {\n                uri = URI.create(tokenUrlEndPoint);\n            }\n\n        }\n        log.debug(\"Access Token endpoint OAuth2 Authorization server: {}\", uri.toString());\n\n        return oAuth2Client.post().uri(uri)\n                .body(BodyInserters.fromFormData(\"client_id\", cfgHolder.getEdaClientId())\n                        .with(\"client_secret\", cfgHolder.getClientSecret())\n                        .with(\"scope\", cfgHolder.getClientScopes()).with(\"grant_type\", GRANT_TYPE))\n                .exchangeToMono(resp -> {\n                    if (resp.statusCode().equals(HttpStatus.OK)) {\n                        log.info(\"Access Token successfully obtained\");\n                        return resp.bodyToMono(String.class);\n                    } else if (resp.statusCode().equals(HttpStatus.BAD_REQUEST)) {\n                        log.error(\"Bad request sent to Authorization Server!\");\n                        return resp.bodyToMono(String.class);\n                    } else if (resp.statusCode().equals(HttpStatus.UNAUTHORIZED)) {\n                        log.error(\"OAuth2 Credentials exchange with Authorization Server failed!\");\n                        return resp.bodyToMono(String.class);\n                    } else if (resp.statusCode().is5xxServerError()) {\n                        log.error(\"Authorization Server could not generate a token due to a server error\");\n                        return resp.bodyToMono(String.class);\n                    } else {\n                        log.error(\"Authorization Server returned an unexpected status code: {}\",\n                                resp.statusCode().toString());\n                        return Mono.error(new Exception(\n                                String.format(\"Authorization Server returned an unexpected status code: %s\",\n                                        resp.statusCode().toString())));\n                    }\n                }).onErrorResume(e -> {\n                    log.error(\n                            \"Access Token could not be obtained. Process ends here\");\n                    return Mono.empty();\n                });\n    }</code></pre>\n<p>The <code>exchangeToMono</code> method does most of the magic here: tells WebFlux to return a Mono that will asynchronously receive a signal as soon as the response is received, wrapped in a <code>ClientResponse</code>, the parameter <code>resp</code> consumed in the lambda. But it is important to keep in mind that NO request has been sent out yet at this point; we are just passing in the Function that will take the <code>ClientResponse</code> when it arrives and will return a <code>Mono&lt;String&gt;</code> with the part of the body of our interest (the Access Token, as we will see).</p>\n<ol start=\"2\">\n<li>Once the POST is built and the Mono returned, then the real thing starts when we subscribe to the <code>Mono&lt;String&gt;</code> returned before. As the Reacive mantra says: <a href=\"https://projectreactor.io/docs/core/release/reference/#reactive.subscribe\" rel=\"nofollow noreferrer\">nothing happens until you subscribe</a> or, in our case, <a href=\"https://reflectoring.io/spring-webclient/\" rel=\"nofollow noreferrer\">the request is not actually sent until something attempts to read or wait for the response</a>. There are other ways in WebClient fluent API to implicitly subscribe, but we have chosen here the explicit way of returing the <code>Mono</code> -which implements the reactor <code>Publisher</code> interface- and subscribe to it. Here we blocking the thread no more, releasing CPU for other stuff, probably more useful than just waiting for an answer.</li>\n</ol>\n<p>So far, so good: we have sent out the request, released CPU, but where the processing will continue whenever the response comes? The <code>subscribe()</code> method takes as an argument a Consumer parameterized in our case with a String, being nothing less than the body of the response we are waiting for, wrapped in Mono. When the response comes, WebFlux will notify the event to our Mono, which will call the method <code>processResponseBodyInFuture</code>, where we finally receive the response body:</p>\n<pre><code>private void processResponseBodyInFuture(final String body, final CompletableFuture&lt;String&gt; tokenReceivedInFuture) {\n\n    DocumentContext jsonContext = JsonPath.parse(body);\n\n    try {\n        log.info(&quot;Access Token response received: {}&quot;, body);\n        final String aTkn = jsonContext.read(&quot;$.access_token&quot;);\n        log.trace(&quot;Access Token parsed: {}&quot;, aTkn);\n        final int expiresIn = jsonContext.read(&quot;$.expires_in&quot;);\n        synchronized (this) {\n            this.token = aTkn;\n            this.tokenExpireTime = Instant.now().plusSeconds(expiresIn);\n        }\n        log.trace(&quot;Signal Access Token request completion. Processing will continue calling client...&quot;);\n        tokenReceivedInFuture.complete(aTkn);\n    } catch (PathNotFoundException e) {\n        try {\n            log.error(e.getMessage());\n            log.info(String.format(\n                    &quot;Could not extract Access Token. The response returned corresponds to the error %s: %s&quot;,\n                    jsonContext.read(&quot;$.error&quot;), jsonContext.read(&quot;$.error_description&quot;)));\n        } catch (PathNotFoundException e2) {\n            log.error(e2.getMessage().concat(&quot; - Unexpected json content received from OAuth2 Server&quot;));\n        }\n    }\n\n}\n</code></pre>\n<p>The invocation of this method happens as soon as the Mono is signalled about the reception of the response. So here we try to parse the json content with an Access Token and do something with it... In this case call <code>complete()</code> onto the <code>CompletableFuture</code> passed in by the caller of the initial method <code>getAccessToken</code>, that hopefully will know what to do with it. Our job is done here... Asynchronously!</p>\n<p><strong>Summary:</strong>\nTo summarize, these are the basic considerations to have your request sent out and the responses processed when you ise reactive WebClient:</p>\n<ol>\n<li>Consider having a method in charge of preparing the request by means of the WebClient fluent API (to set http method, uri, headers and body). Remember: by doing this you are not sending any request yet.</li>\n<li>Think on the strategy you will use to obtain the <code>Publisher</code> that will be receive the http client events (response or errors). <code>retreive()</code> is the most straight forward, but it has less power to manipulate the response than <code>exchangeToMono</code>.</li>\n<li>Subscribe... or nothing will happen.\nMany examples you will find around will cheat you: they claim to use WebClient for asyncrhony, but then they &quot;forget&quot; about subscribing to the Publisher and call <code>block()</code> instead. Well, while this makes things easier and they seem to work (you will see responses received and passed to your application), the thing is that this is not asynchronous anymore: your Mono (or Flux, whatever you use) will be blocking until the response arrives. No good.</li>\n<li>Have a separate method (being the Consumer passed in the <code>subscribe()</code> method) where the response body is processed.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17966800,"reputation":409,"user_id":13056526,"display_name":"Alberto San Jos&#233;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695916692,"creation_date":1695916692,"answer_id":77196521,"question_id":67909037,"body_markdown":"@Toerktumlare was totally right in his comment about my previous amend, which I left as an example of how NOT to do things.\r\n\r\nI&#39;d like to post a new answer, now that I have recenty had to revisit the reactive programming paradigm in the context of using WebClient to perform http requests towards an external Server.\r\n\r\nAs a matter of fact, I ended up building a PoC to implement and verify the ideas I needed to put in place for the real stuff. I also have to mention that since I issued this question for the first time, hundreds of entries in blogs and sites have flourised about how to use WebClient, how to handle errors efficiently, etc. I searched for something like that at that moment and I found nearly nothing; that is no longer the case.\r\n\r\nPut it simple, the PoC is a service with only one method, returning a Mono. Errors and retries are handled in different operations of the reactive chain. Caller of the service decides what to do, and how, with the Mono returned.\r\n\r\nFirst, the `WebClient` bean configured like this:\r\n\r\n```java\r\n@Configuration\r\n@EnableConfigurationProperties\r\n@ConfigurationProperties\r\npublic class GeneralConfiguration {\r\n  @Value(&quot;${service.remote.baseUrl}&quot;)\r\n  private String baseUrl;\r\n\r\n  @Value(&quot;${service.remote.httpPort}&quot;)\r\n  private int httpPort;\r\n\r\n  @Value(&quot;${service.remote.httpsPort}&quot;)\r\n  private int httpsPort;\r\n\r\n  public static final int TIMEOUT = 500;\r\n\r\n  // ...\r\n\r\n  @Bean(&quot;webClientSslTrustAllCerts&quot;)\r\n  public WebClient webClienSsltWithTimeout() throws SSLException {\r\n    var sslContext =\r\n        SslContextBuilder.forClient().trustManager(InsecureTrustManagerFactory.INSTANCE).build();\r\n    HttpClient httpClient =\r\n        HttpClient.create()\r\n            .baseUrl(String.format(&quot;%s:%d&quot;, baseUrl, httpsPort))\r\n            .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, TIMEOUT)\r\n            .doOnConnected(\r\n                conn -&gt; conn.addHandlerLast(new ReadTimeoutHandler(TIMEOUT, TimeUnit.MILLISECONDS)))\r\n            .secure(\r\n                spec -&gt; {\r\n                  SslProvider.Builder builder = spec.sslContext(sslContext);\r\n                })\r\n        /*\r\n        .wiretap(\r\n            &quot;reactor.netty.http.client.HttpClient&quot;,\r\n            LogLevel.DEBUG,\r\n            AdvancedByteBufFormat.TEXTUAL)*/ ;\r\n    return WebClient.builder().clientConnector(new ReactorClientHttpConnector(httpClient)).build();\r\n  }\r\n}\r\n```\r\n\r\nThe bean is injected in the service class, exposing the method that will take care of preparing a GET request:\r\n\r\n```java\r\n@Service\r\npublic class StupidService {\r\n  private static final Logger LOG = LogManager.getLogger(StupidService.class);\r\n  private final WebClient webClient;\r\n\r\n  private volatile String instance;\r\n  private volatile int errSc;\r\n\r\n  private final AtomicInteger pendingResponsesCtr = new AtomicInteger();\r\n  private static final int MAX_RETRIES = 3;\r\n\r\n  public StupidService(@Qualifier(&quot;webClientSslTrustAllCerts&quot;) final WebClient wc) {\r\n    webClient = wc;\r\n  }\r\n\r\n  /**\r\n   * send a http GET operation to a remote service.\r\n   *\r\n   * @param scenario\r\n   * @return a {@link Mono} wrapping the body of the response received, or a {@link Throwable}\r\n   *     representing the error returned.\r\n   */\r\n  public Mono&lt;Object&gt; saySomething(final String scenario) {\r\n    LOG.info(&quot;Entering service to fetch remote resources with WebClient (scenario &#39;{}&#39;)&quot;, scenario);\r\n    instance = String.format(&quot;/mock/%s&quot;, scenario);\r\n    return webClient\r\n        .get()\r\n        .uri(instance)\r\n        .retrieve()\r\n        .onStatus(\r\n            HttpStatusCode::is4xxClientError, response -&gt; handleClientErrors(response.statusCode()))\r\n        .onStatus(\r\n            HttpStatusCode::is5xxServerError, response -&gt; handleServerErrors(response.statusCode()))\r\n        .bodyToMono(Object.class)\r\n        .doFirst(pendingResponsesCtr::incrementAndGet)\r\n        .doOnError(err -&gt; LOG.info(&quot;Error Occurred: {}&quot;, err.getMessage()))\r\n        .doOnSuccess(b -&gt; LOG.info(&quot;Successful response arrived with body: {}&quot;, b))\r\n        .retryWhen(\r\n            Retry.backoff(MAX_RETRIES, Duration.ofMillis(500L))\r\n                .filter(t -&gt; t instanceof ServiceRetryErrException)\r\n                // takes care of keeping the balance of pending requests waiting for an answer in\r\n                // every retry\r\n                .doAfterRetry(retrySignal -&gt; pendingResponsesCtr.decrementAndGet()))\r\n        .doFinally(\r\n            // decrement the counter for the first request pending og and answer (and the only one\r\n            // if there were no retries)\r\n            signalType -&gt; {\r\n              LOG.info(\r\n                  &quot;There are {} requests waiting for an answer&quot;,\r\n                  pendingResponsesCtr.decrementAndGet());\r\n            })\r\n        .onErrorResume(\r\n            err -&gt; {\r\n              LOG.info(&quot;Error: {}&quot;, err.getMessage());\r\n              return Mono.just(createProblemDetails(err));\r\n            });\r\n  }\r\n\r\n  private Mono&lt;? extends Throwable&gt; handleClientErrors(final HttpStatusCode statusCode) {\r\n    // ...\r\n  }\r\n\r\n  private Mono&lt;? extends Throwable&gt; handleServerErrors(final HttpStatusCode statusCode) {\r\n    // ...\r\n  }\r\n\r\n  private ProblemDetails createProblemDetails(final Throwable t) {\r\n    final ProblemDetails p = new ProblemDetails();\r\n    // ...\r\n    return p;\r\n  }\r\n\r\n  /**\r\n   * just a method to know when the asynchronous operation is done. used for tests\r\n   */\r\n  @VisibleForTesting\r\n  int getPendingRequestsCounter() {\r\n    LOG.info(&quot;Counter of pending responses is: {}&quot;, pendingResponsesCtr.get());\r\n    return pendingResponsesCtr.get();\r\n  }\r\n}\r\n```\r\n\r\nThe method handles everything: errors, retries and completion by providing the appropriate callbacks along the reactive chain operators. It returns a Mono that callers will have to decide whether block or susbcribe upon.\r\n\r\nThe following two tests show both approaches: the first test blocks on the mono, by forcing the synchronous execution of flow: control is not returned to the caller until the response arrives. If `serviceUt.saySomething()` was based on `RestTemplate` rather than on `WebClient` the test would work perfectly: the validation of the response can be done right after the sending call because this will block until the answer arrives.\r\n\r\n```java\r\n  @Test\r\n  void testSaySomethingOkBlocking() {\r\n    stubFor(get(TEST_OK_PATH).willReturn(okJson(OK_RESULT_BODY)));\r\n\r\n    serviceUt.saySomething(PARAM_SCENARIO_OK).block();\r\n\r\n    verify(1, getRequestedFor(urlEqualTo(TEST_OK_PATH)));\r\n  }\r\n```\r\nSo we don&#39;t get the benefit of the reactive approach here, just perhaps a more elegant code to define the flow of request handling, but blocking the execution.\r\n\r\nThe second test subscribes to the Mono and provides callbacks, one for the success case, when a success response is returned along with whatever body has inside; and another one for handling the case of error, when the Mono returns a Throwable with some error that might have happened:\r\n\r\n```java\r\n  @Test\r\n  void testSaySomethingOkBestApproach() {\r\n    stubFor(get(TEST_OK_PATH).willReturn(okJson(OK_RESULT_BODY)));\r\n\r\n    serviceUt\r\n        .saySomething(PARAM_SCENARIO_OK)\r\n        .flatMap(this::getJsonPrettyString)\r\n        .subscribe(this::bodyConsumer, this::errConsumer);\r\n\r\n    LOG.info(&quot;We have subscribed and execution continues here, while WebClient does its job async&quot;);\r\n\r\n    await().atMost(2L, TimeUnit.SECONDS).until(() -&gt; serviceUt.getPendingRequestsCounter() == 0);\r\n\r\n    LOG.info(&quot;Reactive stream finished, successfully in this case&quot;);\r\n\r\n    // now we are ready to do assessments\r\n    verify(1, getRequestedFor(urlEqualTo(TEST_OK_PATH)));\r\n  }\r\n```\r\n\r\nIn this case, the reactor thread releases the execution right after subscribe, so that the application (in this case the awaitility utility) can continue doing its job, which is no other thing than just checking when the service is done. One it is done, and only then, we can validate the response received with WireMock. The whole thing becomes obvious in the logs of the execution:\r\n\r\n```\r\n2023-09-28T17:52:41.662+02:00  INFO 37552 --- [           main] c.s.p.webclient.service.StupidService    : Entering service to fetch remote resources with WebClient (scenario &#39;ok&#39;)\r\n2023-09-28T17:52:42.239+02:00  INFO 37552 --- [           main] c.s.p.w.service.StupidServiceTest        : We have subscribed and execution continues here, while WebClient does its job async\r\n2023-09-28T17:52:42.369+02:00  INFO 37552 --- [aitility-thread] c.s.p.webclient.service.StupidService    : Counter of pending responses is: 1\r\n2023-09-28T17:52:42.472+02:00  INFO 37552 --- [aitility-thread] c.s.p.webclient.service.StupidService    : Counter of pending responses is: 1\r\n2023-09-28T17:52:42.577+02:00  INFO 37552 --- [aitility-thread] c.s.p.webclient.service.StupidService    : Counter of pending responses is: 1\r\n2023-09-28T17:52:42.683+02:00  INFO 37552 --- [aitility-thread] c.s.p.webclient.service.StupidService    : Counter of pending responses is: 1\r\n2023-09-28T17:52:42.738+02:00  INFO 37552 --- [ctor-http-nio-2] c.s.p.webclient.service.StupidService    : Successful response arrived with body: {scenario=ok, value=here you have a value}\r\n2023-09-28T17:52:42.743+02:00  INFO 37552 --- [ctor-http-nio-2] c.s.p.w.service.StupidServiceTest        : Body received: {\r\n  &quot;scenario&quot; : &quot;ok&quot;,\r\n  &quot;value&quot; : &quot;here you have a value&quot;\r\n}\r\n2023-09-28T17:52:42.744+02:00  INFO 37552 --- [ctor-http-nio-2] c.s.p.webclient.service.StupidService    : There are 0 requests waiting for an answer\r\n2023-09-28T17:52:42.788+02:00  INFO 37552 --- [aitility-thread] c.s.p.webclient.service.StupidService    : Counter of pending responses is: 0\r\n2023-09-28T17:52:42.789+02:00  INFO 37552 --- [           main] c.s.p.w.service.StupidServiceTest        : Reactive stream finished, successfully in this case\r\n2023-09-28T17:52:42.812+02:00  INFO 37552 --- [           main] org.eclipse.jetty.server.Server          : Stopped Server@4482469c{STOPPING}[11.0.16,sto=1000]\r\n2023-09-28T17:52:42.812+02:00  INFO 37552 --- [           main] org.eclipse.jetty.server.Server          : Shutdown Server@4482469c{STOPPING}[11.0.16,sto=1000]\r\n2023-09-28T17:52:42.816+02:00  INFO 37552 --- [           main] o.e.jetty.server.AbstractConnector       : Stopped NetworkTrafficServerConnector@5df417a7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:0}\r\n2023-09-28T17:52:42.818+02:00  INFO 37552 --- [           main] o.e.jetty.server.AbstractConnector       : Stopped NetworkTrafficServerConnector@3bd7f8dc{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:8473}\r\n2023-09-28T17:52:42.821+02:00  INFO 37552 --- [           main] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@14151bc5{/,null,STOPPED}\r\n2023-09-28T17:52:42.821+02:00  INFO 37552 --- [           main] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@6b3871d6{/__admin,null,STOPPED}\r\n```\r\nThe whole code can be reached at: https://github.com/asjp1970/webflux","title":"Complete WebClient asynchronous example with Spring WebFlux","body":"<p>@Toerktumlare was totally right in his comment about my previous amend, which I left as an example of how NOT to do things.</p>\n<p>I'd like to post a new answer, now that I have recenty had to revisit the reactive programming paradigm in the context of using WebClient to perform http requests towards an external Server.</p>\n<p>As a matter of fact, I ended up building a PoC to implement and verify the ideas I needed to put in place for the real stuff. I also have to mention that since I issued this question for the first time, hundreds of entries in blogs and sites have flourised about how to use WebClient, how to handle errors efficiently, etc. I searched for something like that at that moment and I found nearly nothing; that is no longer the case.</p>\n<p>Put it simple, the PoC is a service with only one method, returning a Mono. Errors and retries are handled in different operations of the reactive chain. Caller of the service decides what to do, and how, with the Mono returned.</p>\n<p>First, the <code>WebClient</code> bean configured like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableConfigurationProperties\n@ConfigurationProperties\npublic class GeneralConfiguration {\n  @Value(&quot;${service.remote.baseUrl}&quot;)\n  private String baseUrl;\n\n  @Value(&quot;${service.remote.httpPort}&quot;)\n  private int httpPort;\n\n  @Value(&quot;${service.remote.httpsPort}&quot;)\n  private int httpsPort;\n\n  public static final int TIMEOUT = 500;\n\n  // ...\n\n  @Bean(&quot;webClientSslTrustAllCerts&quot;)\n  public WebClient webClienSsltWithTimeout() throws SSLException {\n    var sslContext =\n        SslContextBuilder.forClient().trustManager(InsecureTrustManagerFactory.INSTANCE).build();\n    HttpClient httpClient =\n        HttpClient.create()\n            .baseUrl(String.format(&quot;%s:%d&quot;, baseUrl, httpsPort))\n            .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, TIMEOUT)\n            .doOnConnected(\n                conn -&gt; conn.addHandlerLast(new ReadTimeoutHandler(TIMEOUT, TimeUnit.MILLISECONDS)))\n            .secure(\n                spec -&gt; {\n                  SslProvider.Builder builder = spec.sslContext(sslContext);\n                })\n        /*\n        .wiretap(\n            &quot;reactor.netty.http.client.HttpClient&quot;,\n            LogLevel.DEBUG,\n            AdvancedByteBufFormat.TEXTUAL)*/ ;\n    return WebClient.builder().clientConnector(new ReactorClientHttpConnector(httpClient)).build();\n  }\n}\n</code></pre>\n<p>The bean is injected in the service class, exposing the method that will take care of preparing a GET request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class StupidService {\n  private static final Logger LOG = LogManager.getLogger(StupidService.class);\n  private final WebClient webClient;\n\n  private volatile String instance;\n  private volatile int errSc;\n\n  private final AtomicInteger pendingResponsesCtr = new AtomicInteger();\n  private static final int MAX_RETRIES = 3;\n\n  public StupidService(@Qualifier(&quot;webClientSslTrustAllCerts&quot;) final WebClient wc) {\n    webClient = wc;\n  }\n\n  /**\n   * send a http GET operation to a remote service.\n   *\n   * @param scenario\n   * @return a {@link Mono} wrapping the body of the response received, or a {@link Throwable}\n   *     representing the error returned.\n   */\n  public Mono&lt;Object&gt; saySomething(final String scenario) {\n    LOG.info(&quot;Entering service to fetch remote resources with WebClient (scenario '{}')&quot;, scenario);\n    instance = String.format(&quot;/mock/%s&quot;, scenario);\n    return webClient\n        .get()\n        .uri(instance)\n        .retrieve()\n        .onStatus(\n            HttpStatusCode::is4xxClientError, response -&gt; handleClientErrors(response.statusCode()))\n        .onStatus(\n            HttpStatusCode::is5xxServerError, response -&gt; handleServerErrors(response.statusCode()))\n        .bodyToMono(Object.class)\n        .doFirst(pendingResponsesCtr::incrementAndGet)\n        .doOnError(err -&gt; LOG.info(&quot;Error Occurred: {}&quot;, err.getMessage()))\n        .doOnSuccess(b -&gt; LOG.info(&quot;Successful response arrived with body: {}&quot;, b))\n        .retryWhen(\n            Retry.backoff(MAX_RETRIES, Duration.ofMillis(500L))\n                .filter(t -&gt; t instanceof ServiceRetryErrException)\n                // takes care of keeping the balance of pending requests waiting for an answer in\n                // every retry\n                .doAfterRetry(retrySignal -&gt; pendingResponsesCtr.decrementAndGet()))\n        .doFinally(\n            // decrement the counter for the first request pending og and answer (and the only one\n            // if there were no retries)\n            signalType -&gt; {\n              LOG.info(\n                  &quot;There are {} requests waiting for an answer&quot;,\n                  pendingResponsesCtr.decrementAndGet());\n            })\n        .onErrorResume(\n            err -&gt; {\n              LOG.info(&quot;Error: {}&quot;, err.getMessage());\n              return Mono.just(createProblemDetails(err));\n            });\n  }\n\n  private Mono&lt;? extends Throwable&gt; handleClientErrors(final HttpStatusCode statusCode) {\n    // ...\n  }\n\n  private Mono&lt;? extends Throwable&gt; handleServerErrors(final HttpStatusCode statusCode) {\n    // ...\n  }\n\n  private ProblemDetails createProblemDetails(final Throwable t) {\n    final ProblemDetails p = new ProblemDetails();\n    // ...\n    return p;\n  }\n\n  /**\n   * just a method to know when the asynchronous operation is done. used for tests\n   */\n  @VisibleForTesting\n  int getPendingRequestsCounter() {\n    LOG.info(&quot;Counter of pending responses is: {}&quot;, pendingResponsesCtr.get());\n    return pendingResponsesCtr.get();\n  }\n}\n</code></pre>\n<p>The method handles everything: errors, retries and completion by providing the appropriate callbacks along the reactive chain operators. It returns a Mono that callers will have to decide whether block or susbcribe upon.</p>\n<p>The following two tests show both approaches: the first test blocks on the mono, by forcing the synchronous execution of flow: control is not returned to the caller until the response arrives. If <code>serviceUt.saySomething()</code> was based on <code>RestTemplate</code> rather than on <code>WebClient</code> the test would work perfectly: the validation of the response can be done right after the sending call because this will block until the answer arrives.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Test\n  void testSaySomethingOkBlocking() {\n    stubFor(get(TEST_OK_PATH).willReturn(okJson(OK_RESULT_BODY)));\n\n    serviceUt.saySomething(PARAM_SCENARIO_OK).block();\n\n    verify(1, getRequestedFor(urlEqualTo(TEST_OK_PATH)));\n  }\n</code></pre>\n<p>So we don't get the benefit of the reactive approach here, just perhaps a more elegant code to define the flow of request handling, but blocking the execution.</p>\n<p>The second test subscribes to the Mono and provides callbacks, one for the success case, when a success response is returned along with whatever body has inside; and another one for handling the case of error, when the Mono returns a Throwable with some error that might have happened:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Test\n  void testSaySomethingOkBestApproach() {\n    stubFor(get(TEST_OK_PATH).willReturn(okJson(OK_RESULT_BODY)));\n\n    serviceUt\n        .saySomething(PARAM_SCENARIO_OK)\n        .flatMap(this::getJsonPrettyString)\n        .subscribe(this::bodyConsumer, this::errConsumer);\n\n    LOG.info(&quot;We have subscribed and execution continues here, while WebClient does its job async&quot;);\n\n    await().atMost(2L, TimeUnit.SECONDS).until(() -&gt; serviceUt.getPendingRequestsCounter() == 0);\n\n    LOG.info(&quot;Reactive stream finished, successfully in this case&quot;);\n\n    // now we are ready to do assessments\n    verify(1, getRequestedFor(urlEqualTo(TEST_OK_PATH)));\n  }\n</code></pre>\n<p>In this case, the reactor thread releases the execution right after subscribe, so that the application (in this case the awaitility utility) can continue doing its job, which is no other thing than just checking when the service is done. One it is done, and only then, we can validate the response received with WireMock. The whole thing becomes obvious in the logs of the execution:</p>\n<pre><code>2023-09-28T17:52:41.662+02:00  INFO 37552 --- [           main] c.s.p.webclient.service.StupidService    : Entering service to fetch remote resources with WebClient (scenario 'ok')\n2023-09-28T17:52:42.239+02:00  INFO 37552 --- [           main] c.s.p.w.service.StupidServiceTest        : We have subscribed and execution continues here, while WebClient does its job async\n2023-09-28T17:52:42.369+02:00  INFO 37552 --- [aitility-thread] c.s.p.webclient.service.StupidService    : Counter of pending responses is: 1\n2023-09-28T17:52:42.472+02:00  INFO 37552 --- [aitility-thread] c.s.p.webclient.service.StupidService    : Counter of pending responses is: 1\n2023-09-28T17:52:42.577+02:00  INFO 37552 --- [aitility-thread] c.s.p.webclient.service.StupidService    : Counter of pending responses is: 1\n2023-09-28T17:52:42.683+02:00  INFO 37552 --- [aitility-thread] c.s.p.webclient.service.StupidService    : Counter of pending responses is: 1\n2023-09-28T17:52:42.738+02:00  INFO 37552 --- [ctor-http-nio-2] c.s.p.webclient.service.StupidService    : Successful response arrived with body: {scenario=ok, value=here you have a value}\n2023-09-28T17:52:42.743+02:00  INFO 37552 --- [ctor-http-nio-2] c.s.p.w.service.StupidServiceTest        : Body received: {\n  &quot;scenario&quot; : &quot;ok&quot;,\n  &quot;value&quot; : &quot;here you have a value&quot;\n}\n2023-09-28T17:52:42.744+02:00  INFO 37552 --- [ctor-http-nio-2] c.s.p.webclient.service.StupidService    : There are 0 requests waiting for an answer\n2023-09-28T17:52:42.788+02:00  INFO 37552 --- [aitility-thread] c.s.p.webclient.service.StupidService    : Counter of pending responses is: 0\n2023-09-28T17:52:42.789+02:00  INFO 37552 --- [           main] c.s.p.w.service.StupidServiceTest        : Reactive stream finished, successfully in this case\n2023-09-28T17:52:42.812+02:00  INFO 37552 --- [           main] org.eclipse.jetty.server.Server          : Stopped Server@4482469c{STOPPING}[11.0.16,sto=1000]\n2023-09-28T17:52:42.812+02:00  INFO 37552 --- [           main] org.eclipse.jetty.server.Server          : Shutdown Server@4482469c{STOPPING}[11.0.16,sto=1000]\n2023-09-28T17:52:42.816+02:00  INFO 37552 --- [           main] o.e.jetty.server.AbstractConnector       : Stopped NetworkTrafficServerConnector@5df417a7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:0}\n2023-09-28T17:52:42.818+02:00  INFO 37552 --- [           main] o.e.jetty.server.AbstractConnector       : Stopped NetworkTrafficServerConnector@3bd7f8dc{SSL, (ssl, alpn, h2, http/1.1)}{0.0.0.0:8473}\n2023-09-28T17:52:42.821+02:00  INFO 37552 --- [           main] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@14151bc5{/,null,STOPPED}\n2023-09-28T17:52:42.821+02:00  INFO 37552 --- [           main] o.e.jetty.server.handler.ContextHandler  : Stopped o.e.j.s.ServletContextHandler@6b3871d6{/__admin,null,STOPPED}\n</code></pre>\n<p>The whole code can be reached at: <a href=\"https://github.com/asjp1970/webflux\" rel=\"nofollow noreferrer\">https://github.com/asjp1970/webflux</a></p>\n"},{"comments":[{"owner":{"account_id":17966800,"reputation":409,"user_id":13056526,"display_name":"Alberto San Jos&#233;"},"score":0,"creation_date":1698787222,"post_id":77391267,"comment_id":136449403,"body_markdown":"you don&#39;t subscribe, but caller of your controller does. When you return a Mono or a Flux up the chain, the execution does not start until subscribe() is called.","body":"you don&#39;t subscribe, but caller of your controller does. When you return a Mono or a Flux up the chain, the execution does not start until subscribe() is called."},{"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"score":0,"creation_date":1698824186,"post_id":77391267,"comment_id":136452746,"body_markdown":"hey without subscribe it works","body":"hey without subscribe it works"},{"owner":{"account_id":17966800,"reputation":409,"user_id":13056526,"display_name":"Alberto San Jos&#233;"},"score":0,"creation_date":1698944252,"post_id":77391267,"comment_id":136471554,"body_markdown":"No, that is simply not possible. You return a Mono&lt;DailyReport&gt; in your controller method, but one thing is for certain: client of your controller (DispatcherServlet) subscribes to the Mono you returned... Otherwise the whole reactive chain does not even start. For your client side, you are basically receving a Mono from WebClient, containing the info retrieved from the remote weather service; then you just transform it and send it up to the controller, whose client (inside the framework) will call subscribe.","body":"No, that is simply not possible. You return a Mono&lt;DailyReport&gt; in your controller method, but one thing is for certain: client of your controller (DispatcherServlet) subscribes to the Mono you returned... Otherwise the whole reactive chain does not even start. For your client side, you are basically receving a Mono from WebClient, containing the info retrieved from the remote weather service; then you just transform it and send it up to the controller, whose client (inside the framework) will call subscribe."},{"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"score":0,"creation_date":1699255768,"post_id":77391267,"comment_id":136503731,"body_markdown":"yeah that&#39;s true!","body":"yeah that&#39;s true!"}],"tags":[],"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698692998,"creation_date":1698692998,"answer_id":77391267,"question_id":67909037,"body_markdown":"Finally, I tried a simple web service to get the asynchronous response using `.flatMap` and without `.subscribe`\r\n\r\nController:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/weatherReport&quot;)\r\n    class WeatherController constructor(@Autowired val weatherService: WeatherService) {\r\n    \r\n        @GetMapping\r\n        fun getTodayReport(): Mono&lt;DailyReport&gt; {\r\n            return weatherService.getTodayWeatherReport()\r\n        }\r\n    \r\n    }\r\n\r\nService:\r\n\r\n    @Service\r\n    class WeatherService {\r\n        val client = WebClient.create(&quot;https://api.weather.gov/gridpoints/MLB/33,70/forecast&quot;)\r\n    \r\n        fun getTodayWeatherReport(): Mono&lt;DailyReport&gt; {\r\n            return client.get()\r\n                .retrieve()\r\n                .bodyToMono(WeatherReport::class.java)\r\n                .flatMap { transformData(it.properties) }\r\n        }\r\n    \r\n        private fun transformData(properties: Properties): Mono&lt;DailyReport&gt; {\r\n            val response = DailyReport()\r\n            val dailyList = arrayListOf&lt;Daily&gt;()\r\n    \r\n            properties.periods.forEach { period -&gt;\r\n                val startTime = period.startTime\r\n                val date = startTime.substring(0, 10)\r\n                if (AppUtils.isDateStringToday(date, &quot;yyyy-MM-dd&quot;)) {\r\n                    val temperatureInF = period.temperature\r\n                    val temperatureInC = AppUtils.getCelsiusFromFahrenheit(temperatureInF)\r\n                    val daily = Daily(period.name, temperatureInC, period.shortForecast)\r\n                    dailyList.add(daily)\r\n                }\r\n            }\r\n            response.daily = dailyList\r\n            return Mono.just(response)\r\n        }\r\n    \r\n    }\r\n\r\nAppUtils:\r\n\r\n    object AppUtils {\r\n    \r\n        fun getCelsiusFromFahrenheit(temperatureInF: Long): Long {\r\n            return ((temperatureInF - 32) * 5) / 9\r\n        }\r\n    \r\n        fun isDateStringToday(dateString: String, dateFormat: String): Boolean {\r\n            // Define the format of the date string (e.g., &quot;yyyy-MM-dd&quot;)\r\n            val dateFormatter = DateTimeFormatter.ofPattern(dateFormat)\r\n            // Parse the date string into a LocalDate\r\n            val parsedDate = LocalDate.parse(dateString, dateFormatter)\r\n            // Get the current date\r\n            val currentDate = LocalDate.now()\r\n            // Compare the parsed date with the current date\r\n            return parsedDate.isEqual(currentDate)\r\n        }\r\n    }\r\n\r\nExpected response in postman:\r\nRequest: http://localhost:8090/weatherReport\r\n\r\n    {\r\n        &quot;daily&quot;: [\r\n            {\r\n                &quot;dayName&quot;: &quot;Tuesday&quot;,\r\n                &quot;tempHighCelsius&quot;: 29,\r\n                &quot;forecastBlurp&quot;: &quot;Mostly Sunny&quot;\r\n            },\r\n            {\r\n                &quot;dayName&quot;: &quot;Tuesday Night&quot;,\r\n                &quot;tempHighCelsius&quot;: 17,\r\n                &quot;forecastBlurp&quot;: &quot;Mostly Clear&quot;\r\n            }\r\n        ]\r\n    }","title":"Complete WebClient asynchronous example with Spring WebFlux","body":"<p>Finally, I tried a simple web service to get the asynchronous response using <code>.flatMap</code> and without <code>.subscribe</code></p>\n<p>Controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/weatherReport&quot;)\nclass WeatherController constructor(@Autowired val weatherService: WeatherService) {\n\n    @GetMapping\n    fun getTodayReport(): Mono&lt;DailyReport&gt; {\n        return weatherService.getTodayWeatherReport()\n    }\n\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>@Service\nclass WeatherService {\n    val client = WebClient.create(&quot;https://api.weather.gov/gridpoints/MLB/33,70/forecast&quot;)\n\n    fun getTodayWeatherReport(): Mono&lt;DailyReport&gt; {\n        return client.get()\n            .retrieve()\n            .bodyToMono(WeatherReport::class.java)\n            .flatMap { transformData(it.properties) }\n    }\n\n    private fun transformData(properties: Properties): Mono&lt;DailyReport&gt; {\n        val response = DailyReport()\n        val dailyList = arrayListOf&lt;Daily&gt;()\n\n        properties.periods.forEach { period -&gt;\n            val startTime = period.startTime\n            val date = startTime.substring(0, 10)\n            if (AppUtils.isDateStringToday(date, &quot;yyyy-MM-dd&quot;)) {\n                val temperatureInF = period.temperature\n                val temperatureInC = AppUtils.getCelsiusFromFahrenheit(temperatureInF)\n                val daily = Daily(period.name, temperatureInC, period.shortForecast)\n                dailyList.add(daily)\n            }\n        }\n        response.daily = dailyList\n        return Mono.just(response)\n    }\n\n}\n</code></pre>\n<p>AppUtils:</p>\n<pre><code>object AppUtils {\n\n    fun getCelsiusFromFahrenheit(temperatureInF: Long): Long {\n        return ((temperatureInF - 32) * 5) / 9\n    }\n\n    fun isDateStringToday(dateString: String, dateFormat: String): Boolean {\n        // Define the format of the date string (e.g., &quot;yyyy-MM-dd&quot;)\n        val dateFormatter = DateTimeFormatter.ofPattern(dateFormat)\n        // Parse the date string into a LocalDate\n        val parsedDate = LocalDate.parse(dateString, dateFormatter)\n        // Get the current date\n        val currentDate = LocalDate.now()\n        // Compare the parsed date with the current date\n        return parsedDate.isEqual(currentDate)\n    }\n}\n</code></pre>\n<p>Expected response in postman:\nRequest: http://localhost:8090/weatherReport</p>\n<pre><code>{\n    &quot;daily&quot;: [\n        {\n            &quot;dayName&quot;: &quot;Tuesday&quot;,\n            &quot;tempHighCelsius&quot;: 29,\n            &quot;forecastBlurp&quot;: &quot;Mostly Sunny&quot;\n        },\n        {\n            &quot;dayName&quot;: &quot;Tuesday Night&quot;,\n            &quot;tempHighCelsius&quot;: 17,\n            &quot;forecastBlurp&quot;: &quot;Mostly Clear&quot;\n        }\n    ]\n}\n</code></pre>\n"}],"owner":{"account_id":17966800,"reputation":409,"user_id":13056526,"display_name":"Alberto San Jos&#233;"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6977,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1698692998,"creation_date":1623259681,"question_id":67909037,"body_markdown":"I am new to Reactive programming paradigm, but recently I have decided to base a simple Http client on Spring WebClient, since the old sync RestTemplate is already under maintenance and might be deprecated in upoming releases.\r\n\r\nSo first I had a look at Spring documentation and, after that, I&#39;ve searched the web for examples.\r\n\r\nI must say that (**only for the time being**) I have consciously decided not to go through the Reactor lib documentation, so beyond the Publisher-Subscriber pattern, my knowledge about Mono&#39;s and Flux&#39;s is scarce. I focused instead on having something working.\r\n\r\nMy scenario is a simple POST to send a callback to a Server from which the client is only interested in response status code. No body is returned. So I finally came up with this code snippet that works:\r\n\r\n```\r\nprivate void notifyJobSuccess(final InternalJobData jobData) {\r\n\t\t\r\n\t\tSuccessResult result = new SuccessResult();\r\n\t\tresult.setJobId(jobData.getJobId());\r\n\t\tresult.setStatus(Status.SUCCESS);\r\n\t\tresult.setInstanceId(jobData.getInstanceId());\r\n\t\t\r\n\t\tlog.info(&quot;Result to send back:&quot; + System.lineSeparator() + &quot;{}&quot;, result.toString());\r\n\t\t\r\n\t\tthis.webClient.post()\r\n\t\t\t.uri(jobData.getCallbackUrl())\r\n\t\t\t.body(Mono.just(result), ReplaySuccessResult.class)\r\n\t\t\t.retrieve()\r\n\t\t\t.onStatus(s -&gt; s.equals(HttpStatus.OK), resp -&gt; {\t\r\n\t\t\t\tlog.info(&quot;Expected CCDM response received with HttpStatus = {}&quot;, HttpStatus.OK);\r\n\t\t\t\treturn Mono.empty();\r\n\t\t\t})\r\n\t\t\t.onStatus(HttpStatus::is4xxClientError, resp -&gt; {\t\r\n\t\t\t\tlog.error(&quot;CCDM response received with unexpected Client Error HttpStatus {}. &quot;\r\n\t\t\t\t\t\t+ &quot;The POST request sent by EDA2 stub did not match CCDM OpenApi spec&quot;, resp.statusCode());\r\n\t\t\t\treturn Mono.empty();\r\n\t\t\t})\r\n\t\t\t.onStatus(HttpStatus::is5xxServerError, resp -&gt; {\t\r\n\t\t\t\tlog.error(&quot;CCDM response received with unexpected Server Error HttpStatus {}&quot;, resp.statusCode());\r\n\t\t\t\treturn Mono.empty();\r\n\t\t\t}).bodyToMono(Void.class).subscribe(Eda2StubHttpClient::handleResponseFromCcdm);\r\n\t\t\r\n\t}\r\n```\r\nMy poor understanding of how the reactive WebClient works starts with the call to subscribe. None of the tens of examples that I checked before coding my client included such a call, but the fact is that before I included that call, the Server was sitting forever waiting for the request.\r\n\r\nThen I bumped into the mantra &quot;Nothing happens until you subscribe&quot;. Knowing the pattern Plublisher-Subscriber I knew that, but I (wrongly) assumed that the subscription was handled by WebClient API, in any of the exchage, or bodyToMono methods... block() definitely must subscribe, because when you block it, the request gets out at once.\r\n\r\nSo my first question is: is this call to subscribe() really needed?\r\n\r\nSecond question is why the method StubHttpClient::handleResponse is never called back. For this, the only explanation that I find is that as the Mono returned is a `Mono&lt;Void&gt;`, because there is nothing in the response besides the status code, as it is never instantiated, the method is totally dummy... I could even replace it by just .subscribe(). Is this a correct assumption.\r\n\r\nLast, is it too much to ask for a complete example of a a method receiving a body in a Mono that is later consumed? All examples I find just focus on getting the request out, but how the Mono or Flux is later consumed is now beyond my understanding... I know that I have to end up checking the Reactor doc sooner better than later, but I would appreciate a bit of help because I am having issues with Exceptions and errors handlin.\r\n\r\nThanks!\r\n\r\n","title":"Complete WebClient asynchronous example with Spring WebFlux","body":"<p>I am new to Reactive programming paradigm, but recently I have decided to base a simple Http client on Spring WebClient, since the old sync RestTemplate is already under maintenance and might be deprecated in upoming releases.</p>\n<p>So first I had a look at Spring documentation and, after that, I've searched the web for examples.</p>\n<p>I must say that (<strong>only for the time being</strong>) I have consciously decided not to go through the Reactor lib documentation, so beyond the Publisher-Subscriber pattern, my knowledge about Mono's and Flux's is scarce. I focused instead on having something working.</p>\n<p>My scenario is a simple POST to send a callback to a Server from which the client is only interested in response status code. No body is returned. So I finally came up with this code snippet that works:</p>\n<pre><code>private void notifyJobSuccess(final InternalJobData jobData) {\n        \n        SuccessResult result = new SuccessResult();\n        result.setJobId(jobData.getJobId());\n        result.setStatus(Status.SUCCESS);\n        result.setInstanceId(jobData.getInstanceId());\n        \n        log.info(&quot;Result to send back:&quot; + System.lineSeparator() + &quot;{}&quot;, result.toString());\n        \n        this.webClient.post()\n            .uri(jobData.getCallbackUrl())\n            .body(Mono.just(result), ReplaySuccessResult.class)\n            .retrieve()\n            .onStatus(s -&gt; s.equals(HttpStatus.OK), resp -&gt; {   \n                log.info(&quot;Expected CCDM response received with HttpStatus = {}&quot;, HttpStatus.OK);\n                return Mono.empty();\n            })\n            .onStatus(HttpStatus::is4xxClientError, resp -&gt; {   \n                log.error(&quot;CCDM response received with unexpected Client Error HttpStatus {}. &quot;\n                        + &quot;The POST request sent by EDA2 stub did not match CCDM OpenApi spec&quot;, resp.statusCode());\n                return Mono.empty();\n            })\n            .onStatus(HttpStatus::is5xxServerError, resp -&gt; {   \n                log.error(&quot;CCDM response received with unexpected Server Error HttpStatus {}&quot;, resp.statusCode());\n                return Mono.empty();\n            }).bodyToMono(Void.class).subscribe(Eda2StubHttpClient::handleResponseFromCcdm);\n        \n    }\n</code></pre>\n<p>My poor understanding of how the reactive WebClient works starts with the call to subscribe. None of the tens of examples that I checked before coding my client included such a call, but the fact is that before I included that call, the Server was sitting forever waiting for the request.</p>\n<p>Then I bumped into the mantra &quot;Nothing happens until you subscribe&quot;. Knowing the pattern Plublisher-Subscriber I knew that, but I (wrongly) assumed that the subscription was handled by WebClient API, in any of the exchage, or bodyToMono methods... block() definitely must subscribe, because when you block it, the request gets out at once.</p>\n<p>So my first question is: is this call to subscribe() really needed?</p>\n<p>Second question is why the method StubHttpClient::handleResponse is never called back. For this, the only explanation that I find is that as the Mono returned is a <code>Mono&lt;Void&gt;</code>, because there is nothing in the response besides the status code, as it is never instantiated, the method is totally dummy... I could even replace it by just .subscribe(). Is this a correct assumption.</p>\n<p>Last, is it too much to ask for a complete example of a a method receiving a body in a Mono that is later consumed? All examples I find just focus on getting the request out, but how the Mono or Flux is later consumed is now beyond my understanding... I know that I have to end up checking the Reactor doc sooner better than later, but I would appreciate a bit of help because I am having issues with Exceptions and errors handlin.</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":176350,"reputation":13315,"user_id":406984,"accept_rate":100,"display_name":"earldouglas"},"score":0,"creation_date":1282928059,"post_id":3585990,"comment_id":3762525,"body_markdown":"Which version of Spring is this?  The line numbers don&#39;t quite match with the source I&#39;m looking at, which is 3.0.4.RELEASE.","body":"Which version of Spring is this?  The line numbers don&#39;t quite match with the source I&#39;m looking at, which is 3.0.4.RELEASE."},{"owner":{"account_id":162408,"reputation":9549,"user_id":383838,"accept_rate":65,"display_name":"Jon Freedman"},"score":0,"creation_date":1282993057,"post_id":3585990,"comment_id":3767500,"body_markdown":"Can you post the xml definition for your PropertyPlaceholdConfigurer?","body":"Can you post the xml definition for your PropertyPlaceholdConfigurer?"}],"answers":[{"comments":[{"owner":{"account_id":645403,"reputation":11,"user_id":433111,"display_name":"VIJAy"},"score":0,"creation_date":1284388063,"post_id":3587555,"comment_id":3902477,"body_markdown":"The issue got resolved when i upgraded to Spring 2.5.6 , this is the compatability issue between Spring2.5.3 and JRE1.6 which comes with WAS7.0","body":"The issue got resolved when i upgraded to Spring 2.5.6 , this is the compatability issue between Spring2.5.3 and JRE1.6 which comes with WAS7.0"}],"tags":[],"owner":{"account_id":645403,"reputation":11,"user_id":433111,"display_name":"VIJAy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1282937763,"creation_date":1282937763,"answer_id":3587555,"question_id":3585990,"body_markdown":"**new ClassPathXmlApplicationContext(a.xml ,b.xml,c.xml);**\r\n\r\n**returns null pointer exceptio**n because of propertyPlaceholderConfigurer bean defined iin c.xml ,which refers the property file in classpath.","title":"Spring Error in creating bean with name propertyPlaceholderConfigurer defined in Classpath","body":"<p><strong>new ClassPathXmlApplicationContext(a.xml ,b.xml,c.xml);</strong></p>\n\n<p><strong>returns null pointer exceptio</strong>n because of propertyPlaceholderConfigurer bean defined iin c.xml ,which refers the property file in classpath.</p>\n"},{"tags":[],"owner":{"account_id":3332654,"reputation":739,"user_id":2801200,"accept_rate":36,"display_name":"Chintan Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382961490,"creation_date":1382961490,"answer_id":19634209,"question_id":3585990,"body_markdown":"Check your Spring libraries. If they are with mixed/mismatched version then remove the old version jars and replace with new version jars.","title":"Spring Error in creating bean with name propertyPlaceholderConfigurer defined in Classpath","body":"<p>Check your Spring libraries. If they are with mixed/mismatched version then remove the old version jars and replace with new version jars.</p>\n"}],"owner":{"account_id":645403,"reputation":11,"user_id":433111,"display_name":"VIJAy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9723,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698692510,"creation_date":1282924627,"question_id":3585990,"body_markdown":"*Hi Experts*\r\n\r\nWe are loading the beans with xml files in class path using the ClassPathXmlApplicationContext. **It finds and loads the xml files from classpath** ,but in one of xml files which has propertyPlaceholderConfigurer  **bean referring the property file from classpath**. It throws the null pointer exception with unable to create the propertyPlaceholderConfigurer bean.\r\n\r\n**Not sure whether it reads the property file even though it is classpath as it can read other xml files?**\r\nAny chance of property file having corrupted data?\r\nAny clues on what could be the issue ?\r\n\r\n\r\n\r\n\r\n    Error creating bean with name &#39;propertyPlaceholderConfigurer&#39; defined in class path resource [ws.xml]: Initialization of bean failed; nested exception is java.lang.NullPointerException\r\n    \tat com.ibm.ejs.container.StatelessBeanO.initialize(StatelessBeanO.java:375)\r\n    \tat com.ibm.ejs.container.BMStatelessBeanOFactory.create(BMStatelessBeanOFactory.java:45)\r\n    \tat com.ibm.ejs.container.EJSHome.createBeanO(EJSHome.java:1031)\r\n    \tat com.ibm.ejs.container.EJSHome.createBeanO(EJSHome.java:1141)\r\n    \tat com.ibm.ejs.container.activator.UncachedActivationStrategy.atActivate(UncachedActivationStrategy.java:84)\r\n    \tat com.ibm.ejs.container.activator.Activator.activateBean(Activator.java:599)\r\n    \tat com.ibm.ejs.container.EJSContainer.preInvokeActivate(EJSContainer.java:3964)\r\n    \tat com.ibm.ejs.container.EJSContainer.preInvoke(EJSContainer.java:3269)\r\n    \tat com.ibm.websphere.scheduler.EJSRemoteStatelessMeFBatchHandler_fb00fe87.process(EJSRemoteStatelessMeFBatchHandler_fb00fe87.java:27)\r\n    \tat com.ibm.websphere.scheduler._TaskHandler_Stub.process(_TaskHandler_Stub.java:269)\r\n    \tat com.ibm.ws.scheduler.tasks.BeanTaskInfoWork.doWork(BeanTaskInfoWork.java:126)\r\n    \tat com.ibm.ws.scheduler.AlarmListener.executeTaskWithNotification(AlarmListener.java:796)\r\n    \tat com.ibm.ws.scheduler.AlarmListener.access$700(AlarmListener.java:121)\r\n    \tat com.ibm.ws.scheduler.AlarmListener$TaskWork.doWork(AlarmListener.java:427)\r\n    \tat com.ibm.ws.scheduler.AlarmListener$TaskWork.run(AlarmListener.java:213)\r\n    \tat com.ibm.ws.asynchbeans.J2EEContext.run(J2EEContext.java:782)\r\n    \tat com.ibm.ws.asynchbeans.ExecutionContextImpl.go(ExecutionContextImpl.java:86)\r\n    \tat com.ibm.ws.scheduler.AlarmListener.fireTask(AlarmListener.java:1401)\r\n    \tat com.ibm.ws.scheduler.AlarmListener.fired(AlarmListener.java:1319)\r\n    \tat com.ibm.ws.asynchbeans.AlarmImpl.callListenerMethod(AlarmImpl.java:340)\r\n    \tat com.ibm.ws.asynchbeans.timer.GenericTimer.run(GenericTimer.java:216)\r\n    \tat com.ibm.ws.asynchbeans.J2EEContext.run(J2EEContext.java:1150)\r\n    \tat com.ibm.ws.asynchbeans.AlarmImpl.runListenerAsCJWork(AlarmImpl.java:175)\r\n    \tat com.ibm.ws.asynchbeans.am._Alarm.fireAlarm(_Alarm.java:333)\r\n    \tat com.ibm.ws.asynchbeans.am._Alarm.run(_Alarm.java:230)\r\n    \tat com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1550)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;propertyPlaceholderConfigurer&#39; defined in class path resource [ws.xml]: Initialization of bean failed; nested exception is java.lang.NullPointerException\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:478)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)\r\n    \tat java.security.AccessController.doPrivileged(AccessController.java:224)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:217)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:516)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:363)\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139)\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:93)","title":"Spring Error in creating bean with name propertyPlaceholderConfigurer defined in Classpath","body":"<p><em>Hi Experts</em></p>\n\n<p>We are loading the beans with xml files in class path using the ClassPathXmlApplicationContext. <strong>It finds and loads the xml files from classpath</strong> ,but in one of xml files which has propertyPlaceholderConfigurer  <strong>bean referring the property file from classpath</strong>. It throws the null pointer exception with unable to create the propertyPlaceholderConfigurer bean.</p>\n\n<p><strong>Not sure whether it reads the property file even though it is classpath as it can read other xml files?</strong>\nAny chance of property file having corrupted data?\nAny clues on what could be the issue ?</p>\n\n<pre><code>Error creating bean with name 'propertyPlaceholderConfigurer' defined in class path resource [ws.xml]: Initialization of bean failed; nested exception is java.lang.NullPointerException\n    at com.ibm.ejs.container.StatelessBeanO.initialize(StatelessBeanO.java:375)\n    at com.ibm.ejs.container.BMStatelessBeanOFactory.create(BMStatelessBeanOFactory.java:45)\n    at com.ibm.ejs.container.EJSHome.createBeanO(EJSHome.java:1031)\n    at com.ibm.ejs.container.EJSHome.createBeanO(EJSHome.java:1141)\n    at com.ibm.ejs.container.activator.UncachedActivationStrategy.atActivate(UncachedActivationStrategy.java:84)\n    at com.ibm.ejs.container.activator.Activator.activateBean(Activator.java:599)\n    at com.ibm.ejs.container.EJSContainer.preInvokeActivate(EJSContainer.java:3964)\n    at com.ibm.ejs.container.EJSContainer.preInvoke(EJSContainer.java:3269)\n    at com.ibm.websphere.scheduler.EJSRemoteStatelessMeFBatchHandler_fb00fe87.process(EJSRemoteStatelessMeFBatchHandler_fb00fe87.java:27)\n    at com.ibm.websphere.scheduler._TaskHandler_Stub.process(_TaskHandler_Stub.java:269)\n    at com.ibm.ws.scheduler.tasks.BeanTaskInfoWork.doWork(BeanTaskInfoWork.java:126)\n    at com.ibm.ws.scheduler.AlarmListener.executeTaskWithNotification(AlarmListener.java:796)\n    at com.ibm.ws.scheduler.AlarmListener.access$700(AlarmListener.java:121)\n    at com.ibm.ws.scheduler.AlarmListener$TaskWork.doWork(AlarmListener.java:427)\n    at com.ibm.ws.scheduler.AlarmListener$TaskWork.run(AlarmListener.java:213)\n    at com.ibm.ws.asynchbeans.J2EEContext.run(J2EEContext.java:782)\n    at com.ibm.ws.asynchbeans.ExecutionContextImpl.go(ExecutionContextImpl.java:86)\n    at com.ibm.ws.scheduler.AlarmListener.fireTask(AlarmListener.java:1401)\n    at com.ibm.ws.scheduler.AlarmListener.fired(AlarmListener.java:1319)\n    at com.ibm.ws.asynchbeans.AlarmImpl.callListenerMethod(AlarmImpl.java:340)\n    at com.ibm.ws.asynchbeans.timer.GenericTimer.run(GenericTimer.java:216)\n    at com.ibm.ws.asynchbeans.J2EEContext.run(J2EEContext.java:1150)\n    at com.ibm.ws.asynchbeans.AlarmImpl.runListenerAsCJWork(AlarmImpl.java:175)\n    at com.ibm.ws.asynchbeans.am._Alarm.fireAlarm(_Alarm.java:333)\n    at com.ibm.ws.asynchbeans.am._Alarm.run(_Alarm.java:230)\n    at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1550)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'propertyPlaceholderConfigurer' defined in class path resource [ws.xml]: Initialization of bean failed; nested exception is java.lang.NullPointerException\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:478)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)\n    at java.security.AccessController.doPrivileged(AccessController.java:224)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:217)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:516)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:363)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:93)\n</code></pre>\n"},{"tags":["java","kotlin","intellij-idea","log4j","log4j2"],"comments":[{"owner":{"account_id":13848741,"reputation":10825,"user_id":9997212,"display_name":"enzo"},"score":1,"creation_date":1698693508,"post_id":77391205,"comment_id":136435303,"body_markdown":"That&#39;s a Kotlin bug, as you can see [here](https://youtrack.jetbrains.com/issue/KT-22119). Currently Kotlin can&#39;t distinguish lambda parameters that differ only by the return type. Unfortunately, you have to add more code.","body":"That&#39;s a Kotlin bug, as you can see <a href=\"https://youtrack.jetbrains.com/issue/KT-22119\" rel=\"nofollow noreferrer\">here</a>. Currently Kotlin can&#39;t distinguish lambda parameters that differ only by the return type. Unfortunately, you have to add more code."}],"owner":{"account_id":24651177,"reputation":21,"user_id":18548279,"display_name":"nathlrowe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1698692134,"creation_date":1698692134,"question_id":77391205,"body_markdown":"My code is the following:\r\n\r\n```kotlin\r\nval logger = LogManager.getLogger()\r\nlogger.info { &quot;some message&quot; }\r\n```\r\n\r\nhowever, IntelliJ is reporting the following error:\r\n\r\n```\r\nType Mismatch.\r\nRequired: Message!\r\nFound: String\r\n```\r\n\r\n\r\nThe `Logger` interface has the following two methods:\r\n\r\n1. `fun Logger.info(messageSupplier: MessageSupplier)`\r\n2. `fun Logger.info(messageSupplier: Supplier&lt;?&gt;)`\r\n\r\n`MessageSupplier` is effectively a lambda of the form `() -&gt; Message`, while `Supplier&lt;?&gt;` is effectively `() -&gt; Any?`. The code `logger.info { &quot;some message&quot; }` should invoke method #2, however IntelliJ is checking it against method #1, which I don&#39;t want. Is there any way to make my exact code work? Even adding a custom extension function like below doesn&#39;t work:\r\n\r\n```kotlin\r\nfun Logger.info(messageSupplier: () -&gt; Any?) {\r\n    if (isEnabled(Level.INFO)) {\r\n        logger.info(messageSupplier())\r\n    }\r\n}\r\n```\r\n\r\nI want to be able to use lambdas here to improve my application&#39;s performance, but as-is it doesn&#39;t seem like that is possible to do without adding code. I want to be able to simply call `logger.info { ... }` and have the result from my lambda be logged normally. Is the only way to create my own custom `Logger` interface?\r\n\r\nI am using log4j version 2.21.1. It seems like these supplier objects were released in version 2.4, so I could downgrade to 2.3 to remove them, however that and all prior versions have vulnerabilities according to Maven. It also seems like these supplier objects are supposed to be deprecated in version 3.0, however 3.0.0-alpha1 does not have them removed. Does this mean that I&#39;m basically SOL until they release version 3.0?","title":"Log4j &amp; Kotlin - &quot;Type Mismatch. Required: Message!, Found: String&quot;","body":"<p>My code is the following:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val logger = LogManager.getLogger()\nlogger.info { &quot;some message&quot; }\n</code></pre>\n<p>however, IntelliJ is reporting the following error:</p>\n<pre><code>Type Mismatch.\nRequired: Message!\nFound: String\n</code></pre>\n<p>The <code>Logger</code> interface has the following two methods:</p>\n<ol>\n<li><code>fun Logger.info(messageSupplier: MessageSupplier)</code></li>\n<li><code>fun Logger.info(messageSupplier: Supplier&lt;?&gt;)</code></li>\n</ol>\n<p><code>MessageSupplier</code> is effectively a lambda of the form <code>() -&gt; Message</code>, while <code>Supplier&lt;?&gt;</code> is effectively <code>() -&gt; Any?</code>. The code <code>logger.info { &quot;some message&quot; }</code> should invoke method #2, however IntelliJ is checking it against method #1, which I don't want. Is there any way to make my exact code work? Even adding a custom extension function like below doesn't work:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun Logger.info(messageSupplier: () -&gt; Any?) {\n    if (isEnabled(Level.INFO)) {\n        logger.info(messageSupplier())\n    }\n}\n</code></pre>\n<p>I want to be able to use lambdas here to improve my application's performance, but as-is it doesn't seem like that is possible to do without adding code. I want to be able to simply call <code>logger.info { ... }</code> and have the result from my lambda be logged normally. Is the only way to create my own custom <code>Logger</code> interface?</p>\n<p>I am using log4j version 2.21.1. It seems like these supplier objects were released in version 2.4, so I could downgrade to 2.3 to remove them, however that and all prior versions have vulnerabilities according to Maven. It also seems like these supplier objects are supposed to be deprecated in version 3.0, however 3.0.0-alpha1 does not have them removed. Does this mean that I'm basically SOL until they release version 3.0?</p>\n"},{"tags":["java","spring-boot","couchbase","logback","trace"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":4,"creation_date":1698069712,"post_id":77345348,"comment_id":136354979,"body_markdown":"Excellent use of ChatGPT to properly format your question (I think), but you didn&#39;t have to copy the first line of its response.","body":"Excellent use of ChatGPT to properly format your question (I think), but you didn&#39;t have to copy the first line of its response."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1698093112,"post_id":77345348,"comment_id":136359203,"body_markdown":"That&#39;s a DEBUG level log, so you see it when your log level is TRACE, but not when it&#39;s INFO (levels are TRACE, DEBUG, INFO, WARN, ERROR, FATAL)","body":"That&#39;s a DEBUG level log, so you see it when your log level is TRACE, but not when it&#39;s INFO (levels are TRACE, DEBUG, INFO, WARN, ERROR, FATAL)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1698093158,"post_id":77345348,"comment_id":136359213,"body_markdown":"Does your program behave differently other than the log output?","body":"Does your program behave differently other than the log output?"},{"owner":{"account_id":16424424,"reputation":51,"user_id":11864852,"display_name":"kemal"},"score":0,"creation_date":1698131082,"post_id":77345348,"comment_id":136362797,"body_markdown":"We have an integration test that generates an error. The error goes into an infinite loop, which I have to terminate via the Task Manager when I set the root level to &#39;Trace.&#39; However, if I set my root level to, for example, &#39;Info,&#39; a regular error message is displayed, and the application terminates normally without entering an infinite loop.\n\nThe integration test has been fixed, so the infinite loop no longer occurs. However, my logback should not create an infinite loop that renders the software non-operational when such an error is encountered.","body":"We have an integration test that generates an error. The error goes into an infinite loop, which I have to terminate via the Task Manager when I set the root level to &#39;Trace.&#39; However, if I set my root level to, for example, &#39;Info,&#39; a regular error message is displayed, and the application terminates normally without entering an infinite loop.  The integration test has been fixed, so the infinite loop no longer occurs. However, my logback should not create an infinite loop that renders the software non-operational when such an error is encountered."},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1698151893,"post_id":77345348,"comment_id":136366473,"body_markdown":"Can you take two or thread thread dumps during the infinite loop and share them? They should help to identify the cause.","body":"Can you take two or thread thread dumps during the infinite loop and share them? They should help to identify the cause."}],"answers":[{"tags":[],"owner":{"account_id":19444711,"reputation":399,"user_id":14222513,"display_name":"Michael Reiche"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698691841,"creation_date":1698691841,"answer_id":77391183,"question_id":77345348,"body_markdown":"As pointed out, the message is not logged at INFO. Only DEBUG and TRACE.\r\n\r\nThe couchbase cluster tries to connect until it is shutdown, so it&#39;s not quite infinite.  The issue appears to be that in your environment, the couchbase SDK cannot connect to the server. The waitUntilReady method in the SDK gives more information as to why the SDK cannot connect.","title":"Root Level TRACE Causes Endless Loop and Error, But INFO Level Doesn&#39;t in Logback","body":"<p>As pointed out, the message is not logged at INFO. Only DEBUG and TRACE.</p>\n<p>The couchbase cluster tries to connect until it is shutdown, so it's not quite infinite.  The issue appears to be that in your environment, the couchbase SDK cannot connect to the server. The waitUntilReady method in the SDK gives more information as to why the SDK cannot connect.</p>\n"}],"owner":{"account_id":16424424,"reputation":51,"user_id":11864852,"display_name":"kemal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698691841,"creation_date":1698065317,"question_id":77345348,"body_markdown":"\r\n\r\nI&#39;m facing an issue with Logback where setting the root level to TRACE appears to cause an endless loop and results in the following error:\r\n\r\n```log\r\n2023-10-23 14:27:54.673+02:00 [DEBUG] Service ID: [] RequestIDs: [] com.couchbase.config - [com.couchbase.config][BucketOpenRetriedEvent][1000us] Failed to open bucket [&quot;bucketName&quot;] {&quot;coreId&quot;:&quot;0x349ec42600000001&quot;}\r\ncom.couchbase.client.core.error.ConfigException: Seed Node NodeIdentifier{address=couchbase, managerPort=8091} is disconnected, bailing out.\r\n\tat com.couchbase.client.core.config.loader.BaseBucketLoader.lambda$ensureServiceConnected$6(BaseBucketLoader.java:136)\r\n\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)\r\n\tat reactor.core.publisher.FluxReplay$SizeBoundReplayBuffer.replayNormal(FluxReplay.java:877)\r\n\tat reactor.core.publisher.FluxReplay$SizeBoundReplayBuffer.replay(FluxReplay.java:965)\r\n\tat reactor.core.publisher.SinkManyReplayProcessor$ReplayInner.request(SinkManyReplayProcessor.java:576)\r\n\t...\r\n\t2023-10-23 14:27:54.673+02:00 [DEBUG] Service ID: [] RequestIDs: [] com.couchbase.config - ---&gt; Repeat\r\n```\r\n\r\nHowever, when I set the root level to INFO, I don&#39;t encounter this issue. Could someone help me understand why setting the root level to TRACE triggers this behavior?\r\n\r\nHere&#39;s my Logback configuration:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n\r\n    &lt;!-- Define log properties --&gt;\r\n    &lt;property name=&quot;SERVICE_NAME&quot; value=&quot;Service&quot; /&gt;\r\n    &lt;property name=&quot;LOG_DIR&quot; value=&quot;logs/&quot; /&gt;\r\n    &lt;property name=&quot;MAX_FILE_SIZE&quot; value=&quot;10MB&quot; /&gt;\r\n    &lt;property name=&quot;MAX_HISTORY&quot; value=&quot;7&quot; /&gt;\r\n    &lt;property name=&quot;LOG_PATTERN&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss.SSSXXX} [%-5level] ${SERVICE_NAME} id: [%X{id}] RequestIDs: [%X{requestIDs}] %logger - %msg%n&quot; /&gt;\r\n\r\n    &lt;!-- Console Appender --&gt;\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;${LOG_PATTERN}&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;!-- Error Log File Appender --&gt;\r\n    &lt;appender name=&quot;ERROR_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;${LOG_DIR}/${SERVICE_NAME}_error.log&lt;/file&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;${LOG_PATTERN}&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n            &lt;level&gt;ERROR&lt;/level&gt;\r\n        &lt;/filter&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;${LOG_DIR}/${SERVICE_NAME}_error.log.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\r\n            &lt;maxFileSize&gt;${MAX_FILE_SIZE}&lt;/maxFileSize&gt;\r\n            &lt;maxHistory&gt;${MAX_HISTORY}&lt;/maxHistory&gt;\r\n        &lt;/rollingPolicy&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;!-- Warn Log File Appender --&gt;\r\n    &lt;appender name=&quot;WARN_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;${LOG_DIR}/${SERVICE_NAME}_warn.log&lt;/file&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;${LOG_PATTERN}&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n            &lt;level&gt;WARN&lt;/level&gt;\r\n        &lt;/filter&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;${LOG_DIR}/${SERVICE_NAME}_warn.log.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\r\n            &lt;maxFileSize&gt;${MAX_FILE_SIZE}&lt;/maxFileSize&gt;\r\n            &lt;maxHistory&gt;${MAX_HISTORY}&lt;/maxHistory&gt;\r\n        &lt;/rollingPolicy&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;!-- Debug Log File Appender --&gt;\r\n    &lt;appender name=&quot;DEBUG_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;${LOG_DIR}/${SERVICE_NAME}_debug.log&lt;/file&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;${LOG_PATTERN}&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n            &lt;level&gt;DEBUG&lt;/level&gt;\r\n        &lt;/filter&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;${LOG_DIR}/${SERVICE_NAME}_debug.log.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\r\n            &lt;maxFileSize&gt;${MAX_FILE_SIZE}&lt;/maxFileSize&gt;\r\n            &lt;maxHistory&gt;${MAX_HISTORY}&lt;/maxHistory&gt;\r\n        &lt;/rollingPolicy&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;!-- Info Log File Appender --&gt;\r\n    &lt;appender name=&quot;INFO_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;${LOG_DIR}/${SERVICE_NAME}_info.log&lt;/file&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;${LOG_PATTERN}&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n            &lt;level&gt;INFO&lt;/level&gt;\r\n        &lt;/filter&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;${LOG_DIR}/${SERVICE_NAME}_info.log.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\r\n            &lt;maxFileSize&gt;${MAX_FILE_SIZE}&lt;/maxFileSize&gt;\r\n            &lt;maxHistory&gt;${MAX_HISTORY}&lt;/maxHistory&gt;\r\n        &lt;/rollingPolicy&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;!-- Fatal Log File Appender --&gt;\r\n    &lt;appender name=&quot;FATAL_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;${LOG_DIR}/${SERVICE_NAME}_fatal.log&lt;/file&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;${LOG_PATTERN}&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n            &lt;level&gt;FATAL&lt;/level&gt;\r\n        &lt;/filter&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;${LOG_DIR}/${SERVICE_NAME}_fatal.log.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\r\n            &lt;maxFileSize&gt;${MAX_FILE_SIZE}&lt;/maxFileSize&gt;\r\n            &lt;maxHistory&gt;${MAX_HISTORY}&lt;/maxHistory&gt;\r\n        &lt;/rollingPolicy&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;!-- Trace Log File Appender --&gt;\r\n    &lt;appender name=&quot;TRACE_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;${LOG_DIR}/${SERVICE_NAME}_trace.log&lt;/file&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;${LOG_PATTERN}&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n            &lt;level&gt;TRACE&lt;/level&gt;\r\n        &lt;/filter&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;${\r\n\r\nLOG_DIR}/${SERVICE_NAME}_trace.log.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\r\n            &lt;maxFileSize&gt;${MAX_FILE_SIZE}&lt;/maxFileSize&gt;\r\n            &lt;maxHistory&gt;${MAX_HISTORY}&lt;/maxHistory&gt;\r\n        &lt;/rollingPolicy&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;!-- Root Logger Configuration --&gt;\r\n    &lt;root level=&quot;trace&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;ERROR_FILE&quot; level=&quot;error&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;WARN_FILE&quot; level=&quot;warn&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;DEBUG_FILE&quot; level=&quot;debug&quot; /&gt; \r\n        &lt;appender-ref ref=&quot;INFO_FILE&quot; level=&quot;info&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;FATAL_FILE&quot; level=&quot;error&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;TRACE_FILE&quot; level=&quot;trace&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nIt would be great if someone could shed some light on why changing the root level has this effect. Is there something specific to the TRACE level that might be causing this behavior?\r\n\r\nWe have an integration test that generates an error. The error goes into an infinite loop, which I have to terminate via the Task Manager when I set the root level to &#39;Trace.&#39; However, if I set my root level to, for example, &#39;Info,&#39; a regular error message is displayed, and the application terminates normally without entering an infinite loop. The integration test has been fixed, so the infinite loop no longer occurs. However, my logback should not create an infinite loop that renders the software non-operational when such an error is encountered.\r\n\r\nThank you in advance!\r\n","title":"Root Level TRACE Causes Endless Loop and Error, But INFO Level Doesn&#39;t in Logback","body":"<p>I'm facing an issue with Logback where setting the root level to TRACE appears to cause an endless loop and results in the following error:</p>\n<pre><code>2023-10-23 14:27:54.673+02:00 [DEBUG] Service ID: [] RequestIDs: [] com.couchbase.config - [com.couchbase.config][BucketOpenRetriedEvent][1000us] Failed to open bucket [&quot;bucketName&quot;] {&quot;coreId&quot;:&quot;0x349ec42600000001&quot;}\ncom.couchbase.client.core.error.ConfigException: Seed Node NodeIdentifier{address=couchbase, managerPort=8091} is disconnected, bailing out.\n    at com.couchbase.client.core.config.loader.BaseBucketLoader.lambda$ensureServiceConnected$6(BaseBucketLoader.java:136)\n    at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)\n    at reactor.core.publisher.FluxReplay$SizeBoundReplayBuffer.replayNormal(FluxReplay.java:877)\n    at reactor.core.publisher.FluxReplay$SizeBoundReplayBuffer.replay(FluxReplay.java:965)\n    at reactor.core.publisher.SinkManyReplayProcessor$ReplayInner.request(SinkManyReplayProcessor.java:576)\n    ...\n    2023-10-23 14:27:54.673+02:00 [DEBUG] Service ID: [] RequestIDs: [] com.couchbase.config - ---&gt; Repeat\n</code></pre>\n<p>However, when I set the root level to INFO, I don't encounter this issue. Could someone help me understand why setting the root level to TRACE triggers this behavior?</p>\n<p>Here's my Logback configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n\n    &lt;!-- Define log properties --&gt;\n    &lt;property name=&quot;SERVICE_NAME&quot; value=&quot;Service&quot; /&gt;\n    &lt;property name=&quot;LOG_DIR&quot; value=&quot;logs/&quot; /&gt;\n    &lt;property name=&quot;MAX_FILE_SIZE&quot; value=&quot;10MB&quot; /&gt;\n    &lt;property name=&quot;MAX_HISTORY&quot; value=&quot;7&quot; /&gt;\n    &lt;property name=&quot;LOG_PATTERN&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss.SSSXXX} [%-5level] ${SERVICE_NAME} id: [%X{id}] RequestIDs: [%X{requestIDs}] %logger - %msg%n&quot; /&gt;\n\n    &lt;!-- Console Appender --&gt;\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;${LOG_PATTERN}&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;!-- Error Log File Appender --&gt;\n    &lt;appender name=&quot;ERROR_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;file&gt;${LOG_DIR}/${SERVICE_NAME}_error.log&lt;/file&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;${LOG_PATTERN}&lt;/pattern&gt;\n        &lt;/encoder&gt;\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n            &lt;level&gt;ERROR&lt;/level&gt;\n        &lt;/filter&gt;\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n            &lt;fileNamePattern&gt;${LOG_DIR}/${SERVICE_NAME}_error.log.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n            &lt;maxFileSize&gt;${MAX_FILE_SIZE}&lt;/maxFileSize&gt;\n            &lt;maxHistory&gt;${MAX_HISTORY}&lt;/maxHistory&gt;\n        &lt;/rollingPolicy&gt;\n    &lt;/appender&gt;\n\n    &lt;!-- Warn Log File Appender --&gt;\n    &lt;appender name=&quot;WARN_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;file&gt;${LOG_DIR}/${SERVICE_NAME}_warn.log&lt;/file&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;${LOG_PATTERN}&lt;/pattern&gt;\n        &lt;/encoder&gt;\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n            &lt;level&gt;WARN&lt;/level&gt;\n        &lt;/filter&gt;\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n            &lt;fileNamePattern&gt;${LOG_DIR}/${SERVICE_NAME}_warn.log.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n            &lt;maxFileSize&gt;${MAX_FILE_SIZE}&lt;/maxFileSize&gt;\n            &lt;maxHistory&gt;${MAX_HISTORY}&lt;/maxHistory&gt;\n        &lt;/rollingPolicy&gt;\n    &lt;/appender&gt;\n\n    &lt;!-- Debug Log File Appender --&gt;\n    &lt;appender name=&quot;DEBUG_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;file&gt;${LOG_DIR}/${SERVICE_NAME}_debug.log&lt;/file&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;${LOG_PATTERN}&lt;/pattern&gt;\n        &lt;/encoder&gt;\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n            &lt;level&gt;DEBUG&lt;/level&gt;\n        &lt;/filter&gt;\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n            &lt;fileNamePattern&gt;${LOG_DIR}/${SERVICE_NAME}_debug.log.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n            &lt;maxFileSize&gt;${MAX_FILE_SIZE}&lt;/maxFileSize&gt;\n            &lt;maxHistory&gt;${MAX_HISTORY}&lt;/maxHistory&gt;\n        &lt;/rollingPolicy&gt;\n    &lt;/appender&gt;\n\n    &lt;!-- Info Log File Appender --&gt;\n    &lt;appender name=&quot;INFO_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;file&gt;${LOG_DIR}/${SERVICE_NAME}_info.log&lt;/file&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;${LOG_PATTERN}&lt;/pattern&gt;\n        &lt;/encoder&gt;\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n            &lt;level&gt;INFO&lt;/level&gt;\n        &lt;/filter&gt;\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n            &lt;fileNamePattern&gt;${LOG_DIR}/${SERVICE_NAME}_info.log.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n            &lt;maxFileSize&gt;${MAX_FILE_SIZE}&lt;/maxFileSize&gt;\n            &lt;maxHistory&gt;${MAX_HISTORY}&lt;/maxHistory&gt;\n        &lt;/rollingPolicy&gt;\n    &lt;/appender&gt;\n\n    &lt;!-- Fatal Log File Appender --&gt;\n    &lt;appender name=&quot;FATAL_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;file&gt;${LOG_DIR}/${SERVICE_NAME}_fatal.log&lt;/file&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;${LOG_PATTERN}&lt;/pattern&gt;\n        &lt;/encoder&gt;\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n            &lt;level&gt;FATAL&lt;/level&gt;\n        &lt;/filter&gt;\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n            &lt;fileNamePattern&gt;${LOG_DIR}/${SERVICE_NAME}_fatal.log.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n            &lt;maxFileSize&gt;${MAX_FILE_SIZE}&lt;/maxFileSize&gt;\n            &lt;maxHistory&gt;${MAX_HISTORY}&lt;/maxHistory&gt;\n        &lt;/rollingPolicy&gt;\n    &lt;/appender&gt;\n\n    &lt;!-- Trace Log File Appender --&gt;\n    &lt;appender name=&quot;TRACE_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;file&gt;${LOG_DIR}/${SERVICE_NAME}_trace.log&lt;/file&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;${LOG_PATTERN}&lt;/pattern&gt;\n        &lt;/encoder&gt;\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n            &lt;level&gt;TRACE&lt;/level&gt;\n        &lt;/filter&gt;\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n            &lt;fileNamePattern&gt;${\n\nLOG_DIR}/${SERVICE_NAME}_trace.log.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n            &lt;maxFileSize&gt;${MAX_FILE_SIZE}&lt;/maxFileSize&gt;\n            &lt;maxHistory&gt;${MAX_HISTORY}&lt;/maxHistory&gt;\n        &lt;/rollingPolicy&gt;\n    &lt;/appender&gt;\n\n    &lt;!-- Root Logger Configuration --&gt;\n    &lt;root level=&quot;trace&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n        &lt;appender-ref ref=&quot;ERROR_FILE&quot; level=&quot;error&quot; /&gt;\n        &lt;appender-ref ref=&quot;WARN_FILE&quot; level=&quot;warn&quot; /&gt;\n        &lt;appender-ref ref=&quot;DEBUG_FILE&quot; level=&quot;debug&quot; /&gt; \n        &lt;appender-ref ref=&quot;INFO_FILE&quot; level=&quot;info&quot; /&gt;\n        &lt;appender-ref ref=&quot;FATAL_FILE&quot; level=&quot;error&quot; /&gt;\n        &lt;appender-ref ref=&quot;TRACE_FILE&quot; level=&quot;trace&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>It would be great if someone could shed some light on why changing the root level has this effect. Is there something specific to the TRACE level that might be causing this behavior?</p>\n<p>We have an integration test that generates an error. The error goes into an infinite loop, which I have to terminate via the Task Manager when I set the root level to 'Trace.' However, if I set my root level to, for example, 'Info,' a regular error message is displayed, and the application terminates normally without entering an infinite loop. The integration test has been fixed, so the infinite loop no longer occurs. However, my logback should not create an infinite loop that renders the software non-operational when such an error is encountered.</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","kubernetes","google-kubernetes-engine","fabric8","kubernetes-jobs"],"answers":[{"tags":[],"owner":{"account_id":17348847,"reputation":79,"user_id":12567771,"display_name":"Shekhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698691524,"creation_date":1698691524,"answer_id":77391159,"question_id":77390582,"body_markdown":"Found it\r\n\r\n    client.batch().v1().jobs().inNamespace(namespace).resource(job).delete();","title":"How to delete Kubernetes Job object in Java via io.fabric8","body":"<p>Found it</p>\n<pre><code>client.batch().v1().jobs().inNamespace(namespace).resource(job).delete();\n</code></pre>\n"}],"owner":{"account_id":17348847,"reputation":79,"user_id":12567771,"display_name":"Shekhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698691524,"creation_date":1698685546,"question_id":77390582,"body_markdown":"I am using kubernetes io.fabric8 client to manage my Kubernetes Jobs.\r\n\r\nUsing batch v1 apis kubernetesClient.batch().v1().jobs().inNamespace(namespace)\r\n\r\nI am not able to find a way to delete the Job by its name.","title":"How to delete Kubernetes Job object in Java via io.fabric8","body":"<p>I am using kubernetes io.fabric8 client to manage my Kubernetes Jobs.</p>\n<p>Using batch v1 apis kubernetesClient.batch().v1().jobs().inNamespace(namespace)</p>\n<p>I am not able to find a way to delete the Job by its name.</p>\n"},{"tags":["java","cloud-foundry","buildpack"],"answers":[{"tags":[],"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1496842441,"creation_date":1496842441,"answer_id":44414220,"question_id":44396432,"body_markdown":"This depends on the version of the Java build pack that you&#39;re using.  \r\n\r\n### Version 3.x\r\n\r\nFor versions 3.x, you would set an env variable to configure the memory calculator.  Like here.\r\n\r\nhttps://github.com/cloudfoundry/java-buildpack/tree/3.x#configuration-and-extension\r\n\r\nEx:\r\n\r\n    cf set-env my-application JBP_CONFIG_OPEN_JDK_JRE &#39;{ memory_calculator: { memory_heuristics: { heap: 85, stack: 10 } } }&#39;\r\n\r\nThis will then override the memory heuristics configuration that defaults in the build pack, specifically the heap and stack weights.  \r\n\r\nA few notes:\r\n\r\n - Understanding what the different memory configuration options do is another matter.  You can read about those [here][1].\r\n - This is only for OpenJDK, if you&#39;re using a different JDK then the configuration options are slightly different. Ex: `JBP_CONFIG_ORACLE_JRE` for Oracle.  The name mirrors the [config file path &amp; name][2].\r\n - It doesn&#39;t matter how you set the env variable for your app.  You can use `cf set-env` like above or you can set the env variable in your manifest.yml file.  Both work just fine.\r\n\r\n### Version 4.x\r\n\r\nIn version 4.x, the configuration of the JVM&#39;s memory settings has gotten a lot simpler.  \r\n\r\n&gt;however if you believe that your application doesn’t need these JVM defaults, you can now configure those memory regions directly with JVM options. \r\n\r\nhttps://www.cloudfoundry.org/just-released-java-buildpack-4-0/\r\n\r\nWhat this means is you still configure the JVM settings through an env variable, but you only need to set `JAVA_OPTS` and you use the standard JVM configuration options.  \r\n\r\nFor example:\r\n\r\n    cf set-env my-app JAVA_OPTS &#39;-XX:ReservedCodeCacheSize=100M&#39;\r\n\r\nYou can set `JAVA_OPTS` in your manifest.yml, if you prefer doing that instead of running `cf set-env`.\r\n\r\nHope that helps!\r\n\r\n  [1]: https://github.com/cloudfoundry/java-buildpack/blob/3.x/docs/jre-open_jdk_jre.md#configuration\r\n  [2]: https://github.com/cloudfoundry/java-buildpack/blob/3.x/config/oracle_jre.yml","title":"cloudfoundry java buildpack memory changes not reflecting","body":"<p>This depends on the version of the Java build pack that you're using.  </p>\n\n<h3>Version 3.x</h3>\n\n<p>For versions 3.x, you would set an env variable to configure the memory calculator.  Like here.</p>\n\n<p><a href=\"https://github.com/cloudfoundry/java-buildpack/tree/3.x#configuration-and-extension\" rel=\"nofollow noreferrer\">https://github.com/cloudfoundry/java-buildpack/tree/3.x#configuration-and-extension</a></p>\n\n<p>Ex:</p>\n\n<pre><code>cf set-env my-application JBP_CONFIG_OPEN_JDK_JRE '{ memory_calculator: { memory_heuristics: { heap: 85, stack: 10 } } }'\n</code></pre>\n\n<p>This will then override the memory heuristics configuration that defaults in the build pack, specifically the heap and stack weights.  </p>\n\n<p>A few notes:</p>\n\n<ul>\n<li>Understanding what the different memory configuration options do is another matter.  You can read about those <a href=\"https://github.com/cloudfoundry/java-buildpack/blob/3.x/docs/jre-open_jdk_jre.md#configuration\" rel=\"nofollow noreferrer\">here</a>.</li>\n<li>This is only for OpenJDK, if you're using a different JDK then the configuration options are slightly different. Ex: <code>JBP_CONFIG_ORACLE_JRE</code> for Oracle.  The name mirrors the <a href=\"https://github.com/cloudfoundry/java-buildpack/blob/3.x/config/oracle_jre.yml\" rel=\"nofollow noreferrer\">config file path &amp; name</a>.</li>\n<li>It doesn't matter how you set the env variable for your app.  You can use <code>cf set-env</code> like above or you can set the env variable in your manifest.yml file.  Both work just fine.</li>\n</ul>\n\n<h3>Version 4.x</h3>\n\n<p>In version 4.x, the configuration of the JVM's memory settings has gotten a lot simpler.  </p>\n\n<blockquote>\n  <p>however if you believe that your application doesn’t need these JVM defaults, you can now configure those memory regions directly with JVM options. </p>\n</blockquote>\n\n<p><a href=\"https://www.cloudfoundry.org/just-released-java-buildpack-4-0/\" rel=\"nofollow noreferrer\">https://www.cloudfoundry.org/just-released-java-buildpack-4-0/</a></p>\n\n<p>What this means is you still configure the JVM settings through an env variable, but you only need to set <code>JAVA_OPTS</code> and you use the standard JVM configuration options.  </p>\n\n<p>For example:</p>\n\n<pre><code>cf set-env my-app JAVA_OPTS '-XX:ReservedCodeCacheSize=100M'\n</code></pre>\n\n<p>You can set <code>JAVA_OPTS</code> in your manifest.yml, if you prefer doing that instead of running <code>cf set-env</code>.</p>\n\n<p>Hope that helps!</p>\n"},{"tags":[],"owner":{"account_id":13013343,"reputation":113,"user_id":9405542,"display_name":"Diarmuid Leonard"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595544746,"creation_date":1595544746,"answer_id":63064245,"question_id":44396432,"body_markdown":"I had a similar issue - the setting for stackThreads was being ignored.  I was unclear about \r\n\r\n - whether JavaBuildPack-4 supported a configuration like\r\n   &#39;{memory_calculator: {stack_threads: 202 } }&#39;\r\n - whether it was only supported in JBP-3 and JBP-4 didn&#39;t have an option to configure threads\r\n - whether, as advised by\r\n   https://docs.cloudfoundry.org/buildpacks/java/java-tips.html and\r\n   https://github.com/cloudfoundry/java-buildpack/issues/416 to use\r\n   right angle brackets JBP_CONFIG_OPEN_JDK_JRE: &#39;[memory_calculator:\r\n   {memory_sizes: {native: 150m}}]&#39;\r\n - whether to use single quotes as advised [here][1] when only double quotes were accepted on the command line cf set-env ...\r\n\r\nI eventually downloaded the [source code for JBP-4][1] and saw that it does indeed still support JBP_CONFIG_OPEN_JDK_JRE (just not all the memory settings that were supposed in JBP-3).  Daniel Mikusa supplied the most valuable tip in [44396432][2]\r\n ... when using an Oracle JRE, use JBP_CONFIG_ORACLE_JRE.  \r\nAnd of all the permutations of &quot;,&#39;,[,{ this is what worked;\r\n\r\n    cf set-env APP_NAME JBP_CONFIG_ORACLE_JRE &quot;{memory_calculator: {stack_threads: 202 } }&quot;\r\n\r\n\r\n  [1]: https://github.com/cloudfoundry/java-buildpack/tree/v4.17.2\r\n  [2]: https://stackoverflow.com/questions/44396432/cloudfoundry-java-buildpack-memory-changes-not-reflecting?rq=1","title":"cloudfoundry java buildpack memory changes not reflecting","body":"<p>I had a similar issue - the setting for stackThreads was being ignored.  I was unclear about</p>\n<ul>\n<li>whether JavaBuildPack-4 supported a configuration like\n'{memory_calculator: {stack_threads: 202 } }'</li>\n<li>whether it was only supported in JBP-3 and JBP-4 didn't have an option to configure threads</li>\n<li>whether, as advised by\n<a href=\"https://docs.cloudfoundry.org/buildpacks/java/java-tips.html\" rel=\"nofollow noreferrer\">https://docs.cloudfoundry.org/buildpacks/java/java-tips.html</a> and\n<a href=\"https://github.com/cloudfoundry/java-buildpack/issues/416\" rel=\"nofollow noreferrer\">https://github.com/cloudfoundry/java-buildpack/issues/416</a> to use\nright angle brackets JBP_CONFIG_OPEN_JDK_JRE: '[memory_calculator:\n{memory_sizes: {native: 150m}}]'</li>\n<li>whether to use single quotes as advised <a href=\"https://github.com/cloudfoundry/java-buildpack/tree/v4.17.2\" rel=\"nofollow noreferrer\">here</a> when only double quotes were accepted on the command line cf set-env ...</li>\n</ul>\n<p>I eventually downloaded the <a href=\"https://github.com/cloudfoundry/java-buildpack/tree/v4.17.2\" rel=\"nofollow noreferrer\">source code for JBP-4</a> and saw that it does indeed still support JBP_CONFIG_OPEN_JDK_JRE (just not all the memory settings that were supposed in JBP-3).  Daniel Mikusa supplied the most valuable tip in <a href=\"https://stackoverflow.com/questions/44396432/cloudfoundry-java-buildpack-memory-changes-not-reflecting?rq=1\">44396432</a>\n... when using an Oracle JRE, use JBP_CONFIG_ORACLE_JRE.<br />\nAnd of all the permutations of &quot;,',[,{ this is what worked;</p>\n<pre><code>cf set-env APP_NAME JBP_CONFIG_ORACLE_JRE &quot;{memory_calculator: {stack_threads: 202 } }&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"score":0,"creation_date":1698918250,"post_id":77391133,"comment_id":136466186,"body_markdown":"If you have a new question, please ask it by clicking the [Ask Question](https://stackoverflow.com/questions/ask) button. Include a link to this question if it helps provide context. - [From Review](/review/late-answers/35201669)","body":"If you have a new question, please ask it by clicking the <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a> button. Include a link to this question if it helps provide context. - <a href=\"/review/late-answers/35201669\">From Review</a>"}],"tags":[],"owner":{"account_id":25275229,"reputation":1,"user_id":19103983,"display_name":"Srijith M"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698691341,"creation_date":1698691341,"answer_id":77391133,"question_id":44396432,"body_markdown":"JAVA_OPTS not reflecting after adding Manifest file --  \r\n env:\r\n    JAVA_OPTS: &quot;&#39;-Xss1M&#39;&quot;\r\n\r\ntried all types of syntax --\r\nJAVA_OPTS: &#39;-Xss1M&#39;\r\n\r\nThe memory values in app Logs comes without -Xss value as shown below\r\nJVM Memory Configuration: -Xmx343421K -XX:ReservedCodeCacheSize=240M -XX:MaxDirectMemorySize=10M -XX:MaxMetaspaceSize=193154K","title":"cloudfoundry java buildpack memory changes not reflecting","body":"<p>JAVA_OPTS not reflecting after adding Manifest file --<br />\nenv:\nJAVA_OPTS: &quot;'-Xss1M'&quot;</p>\n<p>tried all types of syntax --\nJAVA_OPTS: '-Xss1M'</p>\n<p>The memory values in app Logs comes without -Xss value as shown below\nJVM Memory Configuration: -Xmx343421K -XX:ReservedCodeCacheSize=240M -XX:MaxDirectMemorySize=10M -XX:MaxMetaspaceSize=193154K</p>\n"}],"owner":{"account_id":6248390,"reputation":1064,"user_id":4859404,"accept_rate":50,"display_name":"humblebee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2647,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44414220,"answer_count":3,"score":1,"last_activity_date":1698691341,"creation_date":1496770695,"question_id":44396432,"body_markdown":"I want to make changes in memory settings for my java apps in cloudfoundry java-buildpack. I have tried these two ways:\r\n\r\n 1. Using JBP_CONFIG_OPEN_JDK_JRE paramter in my manifest.yml. As\r\n    suggested in\r\n    https://github.com/cloudfoundry/java-buildpack-memory-calculator\r\n 2. Making this change in config\\open_jdk_jre.yml:\r\n\r\n&gt; memory_calculator:   \r\nversion: 3.8.0_RELEASE   \r\nrepository_root:\r\n&gt; &quot;{default.repository.root}/memory-calculator/{platform}/{architecture}&quot;\r\n&gt;stack_threads: 300   \r\n memory_sizes:   \r\nstack: 2M   \r\nmetaspace: 160M  \r\n&gt; heap: 900M\r\n\r\nHowever, none of this is getting reflected while deployment of my apps. I am using latest java-buildpack.\r\n","title":"cloudfoundry java buildpack memory changes not reflecting","body":"<p>I want to make changes in memory settings for my java apps in cloudfoundry java-buildpack. I have tried these two ways:</p>\n\n<ol>\n<li>Using JBP_CONFIG_OPEN_JDK_JRE paramter in my manifest.yml. As\nsuggested in\n<a href=\"https://github.com/cloudfoundry/java-buildpack-memory-calculator\" rel=\"nofollow noreferrer\">https://github.com/cloudfoundry/java-buildpack-memory-calculator</a></li>\n<li>Making this change in config\\open_jdk_jre.yml:</li>\n</ol>\n\n<blockquote>\n  <p>memory_calculator:<br>\n  version: 3.8.0_RELEASE<br>\n  repository_root:\n  \"{default.repository.root}/memory-calculator/{platform}/{architecture}\"\n  stack_threads: 300<br>\n   memory_sizes:<br>\n  stack: 2M<br>\n  metaspace: 160M<br>\n  heap: 900M</p>\n</blockquote>\n\n<p>However, none of this is getting reflected while deployment of my apps. I am using latest java-buildpack.</p>\n"},{"tags":["java","visual-studio-code","vscode-debugger"],"comments":[{"owner":{"account_id":3675707,"reputation":5532,"user_id":3061857,"accept_rate":65,"display_name":"nbokmans"},"score":0,"creation_date":1595516517,"post_id":63057245,"comment_id":111508349,"body_markdown":"Environment variables, more specifically the `PATH` variable.","body":"Environment variables, more specifically the <code>PATH</code> variable."},{"owner":{"account_id":18128307,"reputation":116,"user_id":13183666,"display_name":"Ravikiran Talawar"},"score":0,"creation_date":1595517281,"post_id":63057245,"comment_id":111508777,"body_markdown":"@nbokmans yes I&#39;ve changed it there, \nHere&#39;s output from cmd\nC:\\Users\\Lenovo&gt;echo %PATH%\n...C:\\Program Files\\Java\\jdk-14.0.2\\bin;e:\\anconda;e:\\anconda\\Library\\mingw-w64\\bin;e:\\anconda\\Library\\usr\\bin;e:\\anconda\\Library\\bin;e:\\anconda\\Scripts;C:\\Users\\Lenovo\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Lenovo\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Lenovo\\AppData\\Roaming\\npm;F:\\PyCharm Community Edition 2019.3.1\\bin;","body":"@nbokmans yes I&#39;ve changed it there,  Here&#39;s output from cmd C:\\Users\\Lenovo&gt;echo %PATH% ...C:\\Program Files\\Java\\jdk-14.0.2\\bin;e:\\anconda;e:\\anconda\\Library\\ming&zwnj;&#8203;w-w64\\bin;e:\\anconda&zwnj;&#8203;\\Library\\usr\\bin;e:\\&zwnj;&#8203;anconda\\Library\\bin;&zwnj;&#8203;e:\\anconda\\Scripts;C&zwnj;&#8203;:\\Users\\Lenovo\\AppDa&zwnj;&#8203;ta\\Local\\Microsoft\\W&zwnj;&#8203;indowsApps;C:\\Users\\&zwnj;&#8203;Lenovo\\AppData\\Local&zwnj;&#8203;\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Lenovo\\AppData\\Roaming\\npm;F:\\PyCharm Community Edition 2019.3.1\\bin;"}],"answers":[{"comments":[{"owner":{"account_id":13318956,"reputation":540,"user_id":9614342,"display_name":"Farhad"},"score":1,"creation_date":1642987812,"post_id":63069623,"comment_id":125212960,"body_markdown":"it says it&#39;s deprecated, any update on the new way ?","body":"it says it&#39;s deprecated, any update on the new way ?"},{"owner":{"account_id":25182214,"reputation":293,"user_id":19023597,"display_name":"MouseNag"},"score":0,"creation_date":1663327435,"post_id":63069623,"comment_id":130218823,"body_markdown":"the java.home setting in VS Code settings (workspace then user settings) where can I find this file?","body":"the java.home setting in VS Code settings (workspace then user settings) where can I find this file?"}],"tags":[],"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1595578632,"creation_date":1595578632,"answer_id":63069623,"question_id":63057245,"body_markdown":"The path to the Java Development Kit is searched in the [following order][1]:\r\n\r\n 1. the java.home setting in VS Code settings (workspace then user\r\n    settings)\r\n 2. the JDK_HOME environment variable\r\n 3. the JAVA_HOME environment variable\r\n 4. on the current system path\r\n\r\nThe &#39;java.home&#39; has the highest priority, and &#39;java.home&#39; is different from the system environment variable. Open settings and search &#39;java.home&#39;, you can get the example:\r\n\r\n    &quot;java.home&quot;:&quot;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_161&quot;\r\n\r\nIt points to &#39;jdk&#39; folder instead of &#39;jdkFolder\\bin&#39;.\r\n\r\n  [1]: https://github.com/redhat-developer/vscode-java#setting-the-jdk","title":"Changing the java.home path in VS code","body":"<p>The path to the Java Development Kit is searched in the <a href=\"https://github.com/redhat-developer/vscode-java#setting-the-jdk\" rel=\"noreferrer\">following order</a>:</p>\n<ol>\n<li>the java.home setting in VS Code settings (workspace then user\nsettings)</li>\n<li>the JDK_HOME environment variable</li>\n<li>the JAVA_HOME environment variable</li>\n<li>on the current system path</li>\n</ol>\n<p>The 'java.home' has the highest priority, and 'java.home' is different from the system environment variable. Open settings and search 'java.home', you can get the example:</p>\n<pre><code>&quot;java.home&quot;:&quot;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_161&quot;\n</code></pre>\n<p>It points to 'jdk' folder instead of 'jdkFolder\\bin'.</p>\n"},{"comments":[{"owner":{"account_id":17414653,"reputation":542,"user_id":16638833,"display_name":"TDiblik"},"score":1,"creation_date":1646173606,"post_id":70959446,"comment_id":126057280,"body_markdown":"Hi, thanks for info, however I was unable to find a reason for this change. Could you please provide more info?","body":"Hi, thanks for info, however I was unable to find a reason for this change. Could you please provide more info?"},{"owner":{"account_id":25182214,"reputation":293,"user_id":19023597,"display_name":"MouseNag"},"score":0,"creation_date":1663327510,"post_id":70959446,"comment_id":130218848,"body_markdown":"&quot;settings.json file&quot; : where can I find this file?","body":"&quot;settings.json file&quot; : where can I find this file?"},{"owner":{"account_id":6357992,"reputation":539,"user_id":4934549,"display_name":"Arshad Yusuf"},"score":1,"creation_date":1664815745,"post_id":70959446,"comment_id":130552518,"body_markdown":"@MouseNag When you go to File -&gt; Preferences -&gt; Settings, there is an icon on the top right corner which says &quot;Open Settings (JSON)&quot; when you hover over it.","body":"@MouseNag When you go to File -&gt; Preferences -&gt; Settings, there is an icon on the top right corner which says &quot;Open Settings (JSON)&quot; when you hover over it."},{"owner":{"account_id":2409442,"reputation":2169,"user_id":2104933,"accept_rate":60,"display_name":"lilbiscuit"},"score":0,"creation_date":1674312537,"post_id":70959446,"comment_id":132690046,"body_markdown":"Reason:  `&quot;java.home&quot;` is deprecated.","body":"Reason:  <code>&quot;java.home&quot;</code> is deprecated."}],"tags":[],"owner":{"account_id":19498498,"reputation":433,"user_id":14265147,"display_name":"Filip"},"comment_count":4,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1643820182,"creation_date":1643820182,"answer_id":70959446,"question_id":63057245,"body_markdown":"For those coming now, in VSCode settings change &quot;java.home&quot; to &quot;java.jdt.ls.java.home&quot;\r\n\r\nFrom\r\n\r\n    &quot;java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-17.0.2&quot;\r\n\r\nTo\r\n\r\n    &quot;java.jdt.ls.java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-17.0.2&quot;,\r\n\r\n","title":"Changing the java.home path in VS code","body":"<p>For those coming now, in VSCode settings change &quot;java.home&quot; to &quot;java.jdt.ls.java.home&quot;</p>\n<p>From</p>\n<pre><code>&quot;java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-17.0.2&quot;\n</code></pre>\n<p>To</p>\n<pre><code>&quot;java.jdt.ls.java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-17.0.2&quot;,\n</code></pre>\n"}],"owner":{"account_id":18128307,"reputation":116,"user_id":13183666,"display_name":"Ravikiran Talawar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80368,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1698691157,"creation_date":1595516363,"question_id":63057245,"body_markdown":"I just installed java 11 coz VS code was prompting me to update it to java 11 or newer version. After installing java 14, I&#39;m not getting how to change the path to new folder that has java 14.\r\nIn settings.json file the path can be seen when cursor hovered over java.home variable. \r\n[![Image attached][1]][1] [![image attached 1][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yeLf8.jpg\r\n  [2]: https://i.stack.imgur.com/KLDnq.jpg","title":"Changing the java.home path in VS code","body":"<p>I just installed java 11 coz VS code was prompting me to update it to java 11 or newer version. After installing java 14, I'm not getting how to change the path to new folder that has java 14.\nIn settings.json file the path can be seen when cursor hovered over java.home variable.\n<a href=\"https://i.stack.imgur.com/yeLf8.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yeLf8.jpg\" alt=\"Image attached\" /></a> <a href=\"https://i.stack.imgur.com/KLDnq.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KLDnq.jpg\" alt=\"image attached 1\" /></a></p>\n"},{"tags":["java","android","colors","bottomnavigationview"],"comments":[{"owner":{"account_id":18207542,"reputation":661,"user_id":13250694,"display_name":"Hamed Goharshad"},"score":0,"creation_date":1658680527,"post_id":73100046,"comment_id":129105826,"body_markdown":"Does this answer your question? [How to change the specific item background color in bottom navigation in android?](https://stackoverflow.com/questions/58713182/how-to-change-the-specific-item-background-color-in-bottom-navigation-in-android)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/58713182/how-to-change-the-specific-item-background-color-in-bottom-navigation-in-android\">How to change the specific item background color in bottom navigation in android?</a>"},{"owner":{"account_id":10592921,"reputation":101,"user_id":7802802,"display_name":"Piyush Kumar"},"score":0,"creation_date":1696570568,"post_id":73100046,"comment_id":136172594,"body_markdown":"My query was how to remove selected item background(https://ibb.co/MfLMG98) and your question solved my problem. LOL. I added app:itemActiveIndicatorStyle=&quot;@color/black&quot;","body":"My query was how to remove selected item background(<a href=\"https://ibb.co/MfLMG98\" rel=\"nofollow noreferrer\">ibb.co/MfLMG98</a>) and your question solved my problem. LOL. I added app:itemActiveIndicatorStyle=&quot;@color/black&quot;"}],"answers":[{"comments":[{"owner":{"account_id":21454099,"reputation":61,"user_id":15805988,"display_name":"IamNotMe_"},"score":0,"creation_date":1658684444,"post_id":73100309,"comment_id":129106788,"body_markdown":"this  isn&#39;t working with me.","body":"this  isn&#39;t working with me."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1658684724,"post_id":73100309,"comment_id":129106860,"body_markdown":"If you don&#39;t implement it correctly obviosly it will not work. Share the code that shows how you implement it in your code.","body":"If you don&#39;t implement it correctly obviosly it will not work. Share the code that shows how you implement it in your code."}],"tags":[],"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658681318,"creation_date":1658681318,"answer_id":73100309,"question_id":73100046,"body_markdown":"If your project uses `style.xml` file to theme the project add this code to that file. Note that your app&#39;s theme must extend from the `MaterialComponents` theme in order the coloring to work.\r\n```lang-xml\r\n&lt;style name=&quot;Theme.App&quot; parent=&quot;Theme.MaterialComponents.*&quot;&gt;\r\n    ...\r\n    &lt;item name=&quot;bottomNavigationStyle&quot;&gt;@style/Widget.MaterialComponents.BottomNavigationView.Colored&lt;/item&gt;\r\n    &lt;item name=&quot;colorPrimary&quot;&gt;COLOR_FOR_ICONS_AND_SURFACES&lt;/item&gt;\r\n    &lt;item name=&quot;colorOnPrimary&quot;&gt;COLOR_FOR_ON_ICONS_OR_ON_SURFACES&lt;/item&gt;\r\n&lt;/style&gt;\r\n```\r\nThis will change the colors system-wide. If you want to apply it to only specific components then in your `style.xml` again, you must define the color attributes as an overlay.\r\n```lang-xml\r\n&lt;style name=&quot;Theme.App&quot; parent=&quot;Theme.MaterialComponents.*&quot;&gt;\r\n    ...\r\n    &lt;item name=&quot;bottomNavigationStyle&quot;&gt;@style/Widget.App.BottomNavigationView&lt;/item&gt;\r\n&lt;/style&gt;\r\n\r\n&lt;style name=&quot;Widget.App.BottomNavigationView&quot; parent=&quot;Widget.MaterialComponents.BottomNavigationView.Colored&quot;&gt;\r\n    &lt;item name=&quot;materialThemeOverlay&quot;&gt;@style/ThemeOverlay.App.BottomNavigationView&lt;/item&gt;\r\n&lt;/style&gt;\r\n\r\n&lt;style name=&quot;ThemeOverlay.App.BottomNavigationView&quot; parent=&quot;&quot;&gt;\r\n    &lt;item name=&quot;colorPrimary&quot;&gt;COLOR_FOR_ICONS_AND_SURFACES&lt;/item&gt;\r\n    &lt;item name=&quot;colorOnPrimary&quot;&gt;COLOR_FOR_ON_ICONS_OR_ON_SURFACES&lt;/item&gt;\r\n&lt;/style&gt;\r\n```\r\n\r\nThe `bottomNavigationStyle` defined in the `Theme.App` will color all bottom navigation views by default. If you don&#39;t want this then you can apply the style to only particular `BottomNavigationView` by defining the `style` attribute of it. This will override the default style that was defined in the app theme.\r\n```lang-xml\r\n&lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n    ...\r\n    style=&quot;@style/Widget.App.BottomNavigationView&quot;\r\n/&gt;\r\n```","title":"Bottomnavigation selected item background color change","body":"<p>If your project uses <code>style.xml</code> file to theme the project add this code to that file. Note that your app's theme must extend from the <code>MaterialComponents</code> theme in order the coloring to work.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;style name=&quot;Theme.App&quot; parent=&quot;Theme.MaterialComponents.*&quot;&gt;\n    ...\n    &lt;item name=&quot;bottomNavigationStyle&quot;&gt;@style/Widget.MaterialComponents.BottomNavigationView.Colored&lt;/item&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;COLOR_FOR_ICONS_AND_SURFACES&lt;/item&gt;\n    &lt;item name=&quot;colorOnPrimary&quot;&gt;COLOR_FOR_ON_ICONS_OR_ON_SURFACES&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>This will change the colors system-wide. If you want to apply it to only specific components then in your <code>style.xml</code> again, you must define the color attributes as an overlay.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;style name=&quot;Theme.App&quot; parent=&quot;Theme.MaterialComponents.*&quot;&gt;\n    ...\n    &lt;item name=&quot;bottomNavigationStyle&quot;&gt;@style/Widget.App.BottomNavigationView&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;Widget.App.BottomNavigationView&quot; parent=&quot;Widget.MaterialComponents.BottomNavigationView.Colored&quot;&gt;\n    &lt;item name=&quot;materialThemeOverlay&quot;&gt;@style/ThemeOverlay.App.BottomNavigationView&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;ThemeOverlay.App.BottomNavigationView&quot; parent=&quot;&quot;&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;COLOR_FOR_ICONS_AND_SURFACES&lt;/item&gt;\n    &lt;item name=&quot;colorOnPrimary&quot;&gt;COLOR_FOR_ON_ICONS_OR_ON_SURFACES&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>The <code>bottomNavigationStyle</code> defined in the <code>Theme.App</code> will color all bottom navigation views by default. If you don't want this then you can apply the style to only particular <code>BottomNavigationView</code> by defining the <code>style</code> attribute of it. This will override the default style that was defined in the app theme.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n    ...\n    style=&quot;@style/Widget.App.BottomNavigationView&quot;\n/&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21454099,"reputation":61,"user_id":15805988,"display_name":"IamNotMe_"},"score":0,"creation_date":1658765827,"post_id":73107304,"comment_id":129127687,"body_markdown":"This method isn&#39;t working and isn&#39;t related to what i need.","body":"This method isn&#39;t working and isn&#39;t related to what i need."}],"tags":[],"owner":{"account_id":25688940,"reputation":162,"user_id":19525299,"display_name":"Harshil"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658742979,"creation_date":1658742979,"answer_id":73107304,"question_id":73100046,"body_markdown":"Something like this should work:\r\n\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:drawable=&quot;@color/blue&quot; android:state_checked=&quot;true&quot;/&gt;\r\n        &lt;item android:drawable=&quot;@color/gray&quot;/&gt;\r\n    &lt;/selector&gt;","title":"Bottomnavigation selected item background color change","body":"<p>Something like this should work:</p>\n<pre><code>&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:drawable=&quot;@color/blue&quot; android:state_checked=&quot;true&quot;/&gt;\n    &lt;item android:drawable=&quot;@color/gray&quot;/&gt;\n&lt;/selector&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1355103,"reputation":327,"user_id":1293668,"accept_rate":83,"display_name":"Bender"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664893287,"creation_date":1664893287,"answer_id":73949383,"question_id":73100046,"body_markdown":"I&#39;ve got this style by default:\r\n\r\n    api &quot;com.google.android.material:material:1.6.1&quot;\r\n\r\nand used style: `&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.Material3.Light.NoActionBar&quot;&gt;`","title":"Bottomnavigation selected item background color change","body":"<p>I've got this style by default:</p>\n<pre><code>api &quot;com.google.android.material:material:1.6.1&quot;\n</code></pre>\n<p>and used style: <code>&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.Material3.Light.NoActionBar&quot;&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":1136496,"reputation":1069,"user_id":1121473,"accept_rate":40,"display_name":"Xelz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680644739,"creation_date":1680644739,"answer_id":75934078,"question_id":73100046,"body_markdown":"I achieved to change the color with the next style:\r\n\r\n    &lt;style name=&quot;Widget.BottomNavigationView.ActiveIndicator&quot; parent=&quot;Widget.Material3.BottomNavigationView.ActiveIndicator&quot;&gt;\r\n        &lt;item name=&quot;shapeAppearance&quot;&gt;\r\n            @style/ShapeAppearance.M3.Comp.NavigationBar.ActiveIndicator.Shape\r\n        &lt;/item&gt;\r\n        &lt;item name=&quot;android:color&quot;&gt;@color/white&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nAnd in the BottomNavigationView:\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/bottom_navigation&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        style=&quot;@style/Widget.App.BottomNavigationView&quot;\r\n        app:labelVisibilityMode=&quot;labeled&quot; /&gt;","title":"Bottomnavigation selected item background color change","body":"<p>I achieved to change the color with the next style:</p>\n<pre><code>&lt;style name=&quot;Widget.BottomNavigationView.ActiveIndicator&quot; parent=&quot;Widget.Material3.BottomNavigationView.ActiveIndicator&quot;&gt;\n    &lt;item name=&quot;shapeAppearance&quot;&gt;\n        @style/ShapeAppearance.M3.Comp.NavigationBar.ActiveIndicator.Shape\n    &lt;/item&gt;\n    &lt;item name=&quot;android:color&quot;&gt;@color/white&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>And in the BottomNavigationView:</p>\n<pre><code>&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n    android:id=&quot;@+id/bottom_navigation&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentBottom=&quot;true&quot;\n    style=&quot;@style/Widget.App.BottomNavigationView&quot;\n    app:labelVisibilityMode=&quot;labeled&quot; /&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17224141,"reputation":449,"user_id":12470236,"display_name":"ahmed"},"score":1,"creation_date":1700962802,"post_id":76175087,"comment_id":136716148,"body_markdown":"This works in removing it / Making it transparent. but it does not work for applying a different color","body":"This works in removing it / Making it transparent. but it does not work for applying a different color"}],"tags":[],"owner":{"account_id":7078279,"reputation":1041,"user_id":5417531,"accept_rate":35,"display_name":"bhaskar"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683215698,"creation_date":1683215698,"answer_id":76175087,"question_id":73100046,"body_markdown":"Try the below attribute. It worked for me.\r\n\r\n            app:itemActiveIndicatorStyle=&quot;@android:color/transparent&quot;\r\n","title":"Bottomnavigation selected item background color change","body":"<p>Try the below attribute. It worked for me.</p>\n<pre><code>        app:itemActiveIndicatorStyle=&quot;@android:color/transparent&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3370081,"reputation":5959,"user_id":2829516,"accept_rate":60,"display_name":"kelvincer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694394122,"creation_date":1694394122,"answer_id":77078408,"question_id":73100046,"body_markdown":"Try this:\r\n\r\n    &lt;style name=&quot;Base.Theme.Challenge&quot; parent=&quot;Theme.Material3.DayNight.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;#F7C500&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryContainer&quot;&gt;#FFFFED&lt;/item&gt;   &lt;--- This is the color\r\n    &lt;/style&gt;\r\n\r\n\r\nFor more information visit this [page][1]\r\n\r\n\r\n  [1]: https://github.com/material-components/material-components-android/blob/master/docs/components/BottomNavigation.md","title":"Bottomnavigation selected item background color change","body":"<p>Try this:</p>\n<pre><code>&lt;style name=&quot;Base.Theme.Challenge&quot; parent=&quot;Theme.Material3.DayNight.NoActionBar&quot;&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;#F7C500&lt;/item&gt;\n    &lt;item name=&quot;colorSecondaryContainer&quot;&gt;#FFFFED&lt;/item&gt;   &lt;--- This is the color\n&lt;/style&gt;\n</code></pre>\n<p>For more information visit this <a href=\"https://github.com/material-components/material-components-android/blob/master/docs/components/BottomNavigation.md\" rel=\"nofollow noreferrer\">page</a></p>\n"},{"comments":[{"owner":{"account_id":5579147,"reputation":2129,"user_id":4421627,"accept_rate":89,"display_name":"Flummox - don&#39;t be evil SE"},"score":0,"creation_date":1701441451,"post_id":77391104,"comment_id":136779440,"body_markdown":"This one actually worked! Thank you.","body":"This one actually worked! Thank you."}],"tags":[],"owner":{"account_id":12955853,"reputation":157,"user_id":9366761,"display_name":"Muhammad Yousuf"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698691021,"creation_date":1698691021,"answer_id":77391104,"question_id":73100046,"body_markdown":"Try this out\r\n\r\nStep 1: define a Style for your Active Indicator\r\n\r\n    &lt;style name=&quot;Theme.BottomNavigationView.ActiveIndicator&quot; parent=&quot;Widget.Material3.BottomNavigationView.ActiveIndicator&quot;&gt;\r\n        &lt;item name=&quot;android:color&quot;&gt;@color/white&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nStep 2: Use that style (Theme.BottomNavigationView.ActiveIndicator) in your BottomNavigationView\r\n\r\n            &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n                android:id=&quot;@+id/bottomNavigationView&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:backgroundTint=&quot;@color/primary&quot;\r\n                app:labelVisibilityMode=&quot;selected&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:itemTextColor=&quot;@color/testing_color&quot;\r\n                app:itemActiveIndicatorStyle=&quot;@style/Theme.BottomNavigationView.ActiveIndicator&quot;\r\n                app:menu=&quot;@menu/bottom_navigation&quot; /&gt;","title":"Bottomnavigation selected item background color change","body":"<p>Try this out</p>\n<p>Step 1: define a Style for your Active Indicator</p>\n<pre><code>&lt;style name=&quot;Theme.BottomNavigationView.ActiveIndicator&quot; parent=&quot;Widget.Material3.BottomNavigationView.ActiveIndicator&quot;&gt;\n    &lt;item name=&quot;android:color&quot;&gt;@color/white&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>Step 2: Use that style (Theme.BottomNavigationView.ActiveIndicator) in your BottomNavigationView</p>\n<pre><code>        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n            android:id=&quot;@+id/bottomNavigationView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:backgroundTint=&quot;@color/primary&quot;\n            app:labelVisibilityMode=&quot;selected&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:itemTextColor=&quot;@color/testing_color&quot;\n            app:itemActiveIndicatorStyle=&quot;@style/Theme.BottomNavigationView.ActiveIndicator&quot;\n            app:menu=&quot;@menu/bottom_navigation&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":21454099,"reputation":61,"user_id":15805988,"display_name":"IamNotMe_"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2569,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":7,"score":4,"last_activity_date":1698691021,"creation_date":1658679177,"question_id":73100046,"body_markdown":"I want to change the selected item background color in bottomnavigation just like Google Play Store. I tried to solve it, but till now I haven&#39;t found a solution.\r\n\r\n![google_play_bottomnavigation][1]\r\n\r\n&gt;Update\r\n\r\nI found attribute called ```app:itemActiveIndicatorStyle``` and it should change the indicator color. But for some reason it doesn&#39;t work. Here is an picture how should this attribute work.\r\n[![bottomnavigation diagram][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hAAOt.jpg\r\n  [2]: https://i.stack.imgur.com/85tKG.png","title":"Bottomnavigation selected item background color change","body":"<p>I want to change the selected item background color in bottomnavigation just like Google Play Store. I tried to solve it, but till now I haven't found a solution.</p>\n<p><img src=\"https://i.stack.imgur.com/hAAOt.jpg\" alt=\"google_play_bottomnavigation\" /></p>\n<blockquote>\n<p>Update</p>\n</blockquote>\n<p>I found attribute called <code>app:itemActiveIndicatorStyle</code> and it should change the indicator color. But for some reason it doesn't work. Here is an picture how should this attribute work.\n<a href=\"https://i.stack.imgur.com/85tKG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/85tKG.png\" alt=\"bottomnavigation diagram\" /></a></p>\n"},{"tags":["java","maven","maven-3","maven-dependency-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1698252290,"post_id":77360885,"comment_id":136382683,"body_markdown":"There are several options here. First the import alone is not enough it could be used via DI/service SPI/ also the plugin could have a bug sure ... but without the full build setup and the code it&#39;s impossilbe to even guess...","body":"There are several options here. First the import alone is not enough it could be used via DI/service SPI/ also the plugin could have a bug sure ... but without the full build setup and the code it&#39;s impossilbe to even guess..."},{"owner":{"account_id":10523831,"reputation":37,"user_id":7755436,"display_name":"Dmitriy Ten"},"score":0,"creation_date":1698655265,"post_id":77360885,"comment_id":136428023,"body_markdown":"I&#39;ve created a mini-repo to reproduce this issue, could you shortly take a look?\nhttps://github.com/DmitryTen/SO-mvn-question\nThank you","body":"I&#39;ve created a mini-repo to reproduce this issue, could you shortly take a look? <a href=\"https://github.com/DmitryTen/SO-mvn-question\" rel=\"nofollow noreferrer\">github.com/DmitryTen/SO-mvn-question</a> Thank you"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1698689159,"post_id":77360885,"comment_id":136434541,"body_markdown":"The tag `&lt;excludeTransitive&gt;` does not exist... Second it is showing that because `AppRoleAuthentication` class has imports to `import org.springframework.web.client.*` and `org.springframework.http.*` which are part of `org.springframework:spring-web`. This change happens in maven-dependency-plugin version 3.6.0 but not before. The web dependency is used by `AppRoleAuthentication` which is used directly by your class `StandaloneVaultConfig`. I would see that as a bug in the plugin... I have created a bug for Maven Dependency Plugin https://issues.apache.org/jira/browse/MDEP-891","body":"The tag <code>&lt;excludeTransitive&gt;</code> does not exist... Second it is showing that because <code>AppRoleAuthentication</code> class has imports to <code>import org.springframework.web.client.*</code> and <code>org.springframework.http.*</code> which are part of <code>org.springframework:spring-web</code>. This change happens in maven-dependency-plugin version 3.6.0 but not before. The web dependency is used by <code>AppRoleAuthentication</code> which is used directly by your class <code>StandaloneVaultConfig</code>. I would see that as a bug in the plugin... I have created a bug for Maven Dependency Plugin <a href=\"https://issues.apache.org/jira/browse/MDEP-891\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/MDEP-891</a>"},{"owner":{"account_id":10523831,"reputation":37,"user_id":7755436,"display_name":"Dmitriy Ten"},"score":0,"creation_date":1698756799,"post_id":77360885,"comment_id":136443336,"body_markdown":"let me ask, what do you mean by &quot;The tag &lt;excludeTransitive&gt; does not exist&quot; ?\nIt&#39;s actually described in plugin.xml as &quot;&lt;name&gt;excludeTransitive&lt;/name&gt;\n&lt;description&gt;If we should exclude transitive dependencies&lt;/description&gt;&quot;\nAm i misunderstand smth?","body":"let me ask, what do you mean by &quot;The tag &lt;excludeTransitive&gt; does not exist&quot; ? It&#39;s actually described in plugin.xml as &quot;&lt;name&gt;excludeTransitive&lt;/name&gt; &lt;description&gt;If we should exclude transitive dependencies&lt;/description&gt;&quot; Am i misunderstand smth?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1698775640,"post_id":77360885,"comment_id":136447561,"body_markdown":"The docs https://maven.apache.org/plugins/maven-dependency-plugin/analyze-only-mojo.html contains nothing like this... The goal https://maven.apache.org/plugins/maven-dependency-plugin/build-classpath-mojo.html on the other has that... To &quot;exclude&quot; you have to defined as &quot;ignored&quot; via https://maven.apache.org/plugins/maven-dependency-plugin/analyze-only-mojo.html#ignoredDependencies","body":"The docs <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/analyze-only-mojo.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-dependency-plugin/&hellip;</a> contains nothing like this... The goal <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/build-classpath-mojo.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-dependency-plugin/&hellip;</a> on the other has that... To &quot;exclude&quot; you have to defined as &quot;ignored&quot; via <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/analyze-only-mojo.html#ignoredDependencies\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-dependency-plugin/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":10523831,"reputation":37,"user_id":7755436,"display_name":"Dmitriy Ten"},"score":0,"creation_date":1698754539,"post_id":77390938,"comment_id":136442945,"body_markdown":"Thank you, it does work for java-11, but unfortunately the maven-dependency-analyzer:1.13.0 doesn&#39;t support java-21, so seems i need to wait a plugin bugfix.","body":"Thank you, it does work for java-11, but unfortunately the maven-dependency-analyzer:1.13.0 doesn&#39;t support java-21, so seems i need to wait a plugin bugfix."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1698775690,"post_id":77390938,"comment_id":136447570,"body_markdown":"@DmitriyTen Can you please show the issue, because I can run it with JDK 21...exactly in the above constalation...","body":"@DmitriyTen Can you please show the issue, because I can run it with JDK 21...exactly in the above constalation..."},{"owner":{"account_id":10523831,"reputation":37,"user_id":7755436,"display_name":"Dmitriy Ten"},"score":0,"creation_date":1698792607,"post_id":77390938,"comment_id":136449967,"body_markdown":"okay, in my repo i&#39;ve added a branch: &#39;fix_attempt&#39;, where i&#39;ve edited the pom.xml according to your advices. And i&#39;ve added &#39;mvn_install.log&#39; and &#39;mvn_version.txt&#39;.\nMaybe this could help.","body":"okay, in my repo i&#39;ve added a branch: &#39;fix_attempt&#39;, where i&#39;ve edited the pom.xml according to your advices. And i&#39;ve added &#39;mvn_install.log&#39; and &#39;mvn_version.txt&#39;. Maybe this could help."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1698838199,"post_id":77390938,"comment_id":136454896,"body_markdown":"I have created a PR for your git repo.. I&#39;ve seen that you are using a lot of old plugin versions and not defined them. I strongly recommend to do that... for all plugins...","body":"I have created a PR for your git repo.. I&#39;ve seen that you are using a lot of old plugin versions and not defined them. I strongly recommend to do that... for all plugins..."},{"owner":{"account_id":10523831,"reputation":37,"user_id":7755436,"display_name":"Dmitriy Ten"},"score":0,"creation_date":1698910845,"post_id":77390938,"comment_id":136464897,"body_markdown":"i&#39;ve merged your PR, but after i set &lt;maven.compiler.release&gt; to\n21 (in your PR it&#39;s 11), it still failing on my environment, same error: 08:39:20:712 [main] [ERROR] Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:3.6.1:analyze-only (analyze-dependencies) on project test: Execution analyze-dependencies of goal org.apache.maven.plugins:maven-dependency-plugin:3.6.1:analyze-only failed: Unsupported class file major version 65 -&gt; [Help 1]","body":"i&#39;ve merged your PR, but after i set &lt;maven.compiler.release&gt; to 21 (in your PR it&#39;s 11), it still failing on my environment, same error: 08:39:20:712 [main] [ERROR] Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:3.6.1:analy&zwnj;&#8203;ze-only (analyze-dependencies) on project test: Execution analyze-dependencies of goal org.apache.maven.plugins:maven-dependency-plugin:3.6.1:analy&zwnj;&#8203;ze-only failed: Unsupported class file major version 65 -&gt; [Help 1]"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1698921655,"post_id":77390938,"comment_id":136466830,"body_markdown":"Put a full log output in the repo so I can take a look into it...","body":"Put a full log output in the repo so I can take a look into it..."},{"owner":{"account_id":10523831,"reputation":37,"user_id":7755436,"display_name":"Dmitriy Ten"},"score":0,"creation_date":1698936249,"post_id":77390938,"comment_id":136469814,"body_markdown":"pushed to main branch","body":"pushed to main branch"},{"owner":{"account_id":10523831,"reputation":37,"user_id":7755436,"display_name":"Dmitriy Ten"},"score":0,"creation_date":1699018476,"post_id":77390938,"comment_id":136481419,"body_markdown":"btw, i&#39;ve found release notes for dependency-analyzer 2.13.0. It says it only supports java 19 (which is true, with 19 it does works on my env) https://blogsarchive.apache.org/maven/entry/maven-dependency-analyzer-version-1","body":"btw, i&#39;ve found release notes for dependency-analyzer 2.13.0. It says it only supports java 19 (which is true, with 19 it does works on my env) <a href=\"https://blogsarchive.apache.org/maven/entry/maven-dependency-analyzer-version-1\" rel=\"nofollow noreferrer\">blogsarchive.apache.org/maven/entry/&hellip;</a>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1699220442,"post_id":77390938,"comment_id":136501009,"body_markdown":"Outch I should have remember that, becase I wrote that... What you can try to add a newer dependency of asm in the plugin dependencies...","body":"Outch I should have remember that, becase I wrote that... What you can try to add a newer dependency of asm in the plugin dependencies..."}],"tags":[],"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"comment_count":9,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698689240,"creation_date":1698689240,"answer_id":77390938,"question_id":77360885,"body_markdown":"You can circumvent that problem by using a different versions of the `maven-dependency-analyzer` like the following:\r\n\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.6.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;failOnWarning&gt;true&lt;/failOnWarning&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.apache.maven.shared&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-dependency-analyzer&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.13.0&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;analyze-dependencies&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;analyze-only&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n","title":"maven-dependency-plugin 3.6.+ started to find new &#39;Used undeclared dependencies found&#39; during dependency:analyze goal","body":"<p>You can circumvent that problem by using a different versions of the <code>maven-dependency-analyzer</code> like the following:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.6.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;failOnWarning&gt;true&lt;/failOnWarning&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.apache.maven.shared&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-dependency-analyzer&lt;/artifactId&gt;\n                        &lt;version&gt;1.13.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;analyze-dependencies&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;analyze-only&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":10523831,"reputation":37,"user_id":7755436,"display_name":"Dmitriy Ten"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698690862,"creation_date":1698247602,"question_id":77360885,"body_markdown":"I&#39;m trying to migrate a project from java 11 to 21, for this i need to update the dependency plugin from 3.1.2 to 3.6.+ (the lower one doesn&#39;t support 21)\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.2&lt;/version&gt; -&gt; to 3.6.1\r\n    &lt;configuration&gt;\r\n       &lt;failOnWarning&gt;true&lt;/failOnWarning&gt;\r\n       &lt;excludeTransitive&gt;true&lt;/excludeTransitive&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nBut I&#39;ve found that seems 3.6.+ work a bit differently (**even with java 11**) it started to find multiple of new &quot;Used undeclared dependencies&quot;\r\n\r\n    16:42:43:965 [main] [ERROR] Used undeclared dependencies found:\r\n    16:42:43:965 [main] [ERROR]    org.springframework:enter code herespring-web:jar:5.3.30:compile\r\n\r\nAs I know it analyzes a compiled bytecode to find the &#39;Used undeclared dependencies&#39;, but it&#39;s wrong: there are no any imports in compiled classes from those libs it found.\r\n\r\nI can&#39;t get why it happens so? Is it plugin bug? Or am I doing something wrong? Have anybody experienced something like this?\r\n\r\n[Here is a full reproducible repo](https://github.com/DmitryTen/SO-mvn-question) of this problem\r\n","title":"maven-dependency-plugin 3.6.+ started to find new &#39;Used undeclared dependencies found&#39; during dependency:analyze goal","body":"<p>I'm trying to migrate a project from java 11 to 21, for this i need to update the dependency plugin from 3.1.2 to 3.6.+ (the lower one doesn't support 21)</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2&lt;/version&gt; -&gt; to 3.6.1\n    &lt;configuration&gt;\n       &lt;failOnWarning&gt;true&lt;/failOnWarning&gt;\n       &lt;excludeTransitive&gt;true&lt;/excludeTransitive&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>But I've found that seems 3.6.+ work a bit differently (<strong>even with java 11</strong>) it started to find multiple of new &quot;Used undeclared dependencies&quot;</p>\n<pre><code>16:42:43:965 [main] [ERROR] Used undeclared dependencies found:\n16:42:43:965 [main] [ERROR]    org.springframework:enter code herespring-web:jar:5.3.30:compile\n</code></pre>\n<p>As I know it analyzes a compiled bytecode to find the 'Used undeclared dependencies', but it's wrong: there are no any imports in compiled classes from those libs it found.</p>\n<p>I can't get why it happens so? Is it plugin bug? Or am I doing something wrong? Have anybody experienced something like this?</p>\n<p><a href=\"https://github.com/DmitryTen/SO-mvn-question\" rel=\"nofollow noreferrer\">Here is a full reproducible repo</a> of this problem</p>\n"},{"tags":["java","java-2d"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1697998506,"post_id":77339852,"comment_id":136346681,"body_markdown":"You have to vary X and Y independently.  Use a nested `for` loop, varying X in the outer loop and varying Y in the inner loop.","body":"You have to vary X and Y independently.  Use a nested <code>for</code> loop, varying X in the outer loop and varying Y in the inner loop."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1698011125,"post_id":77339852,"comment_id":136347889,"body_markdown":"There is the _[Graphics#drawPolygon](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics.html#drawPolygon(int[],int[],int))_ method.","body":"There is the <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics.html#drawPolygon(int%5B%5D,int%5B%5D,int)\" rel=\"nofollow noreferrer\">Graphics#drawPolygon</a></i> method."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1698058761,"post_id":77339852,"comment_id":136352721,"body_markdown":"It’s a weird requirement, as the two loops are comprehensible and easy to read and that’s the most important aspect of program code. However, you can do it in a single loop, e.g. `int startX = 25, startY = 25, endX = startX + 160, endY = startY + 160; for (int i = 0; i &lt;= 17; i++) { int h = i &amp; 1, v = h ^ 1, x = startX + v * (i&gt;&gt;1) * 20, y = startY + h * (i&gt;&gt;1) * 20; g2d.drawLine(x, y, x * v + endX * h, y * h + endY * v); }` As said, I’d stick to the two loops. And well, to me, this grid doesn’t look like a backgammon board, not even remotely.","body":"It’s a weird requirement, as the two loops are comprehensible and easy to read and that’s the most important aspect of program code. However, you can do it in a single loop, e.g. <code>int startX = 25, startY = 25, endX = startX + 160, endY = startY + 160; for (int i = 0; i &lt;= 17; i++) { int h = i &amp; 1, v = h ^ 1, x = startX + v * (i&gt;&gt;1) * 20, y = startY + h * (i&gt;&gt;1) * 20; g2d.drawLine(x, y, x * v + endX * h, y * h + endY * v); }</code> As said, I’d stick to the two loops. And well, to me, this grid doesn’t look like a backgammon board, not even remotely."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1698684453,"post_id":77339852,"comment_id":136433692,"body_markdown":"Thanks for the flowers, however, for any practical purpose, a two loops solutions stays preferable, as the single loop solution serves no other purpose than “being awesome” and solving the artificial requirement.","body":"Thanks for the flowers, however, for any practical purpose, a two loops solutions stays preferable, as the single loop solution serves no other purpose than “being awesome” and solving the artificial requirement."}],"answers":[{"tags":[],"owner":{"account_id":25750749,"reputation":1,"user_id":19503341,"display_name":"Muhammed Argun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698690695,"creation_date":1698690557,"answer_id":77391053,"question_id":77339852,"body_markdown":"Holger Sama&#39;s Answer (one for):\r\n\r\n        int startX = 25,\r\n        startY = 25,\r\n        endX = startX + 160,\r\n        endY = startY + 160;\r\n    for (int i = 0; i &lt;= 17; i++) {\r\n        int h = i &amp; 1,\r\n            v = h ^ 1,\r\n            x = startX + v * (i &gt;&gt; 1) * 20,\r\n            y = startY + h * (i &gt;&gt; 1) * 20;\r\n        g2d.drawLine(x, y, x * v + endX * h, y * h + endY * v);\r\n    }\r\n\r\nMy Answer (nested for):\r\n\r\n        int endy = 0, endx = 160, xIncreaser  = 0, x = 25;\r\n    for (int i = 0; i &lt;= 9; i++){\r\n        int y = 25;\r\n        x+=xIncreaser;\r\n        if (i == 1)\r\n            x-=20;\r\n        for (int j = 0; j &lt;= 8; j++){\r\n            if (y+endy&gt;185)\r\n                break;\r\n            g2d.drawLine(x,y, x+endx, y+endy);\r\n            y+=20;\r\n        }\r\n        xIncreaser  = 20;\r\n        endy = 160;\r\n        endx = 0;\r\n\r\n\r\n","title":"Java 2D graphics backgammon table (algorithm question)","body":"<p>Holger Sama's Answer (one for):</p>\n<pre><code>    int startX = 25,\n    startY = 25,\n    endX = startX + 160,\n    endY = startY + 160;\nfor (int i = 0; i &lt;= 17; i++) {\n    int h = i &amp; 1,\n        v = h ^ 1,\n        x = startX + v * (i &gt;&gt; 1) * 20,\n        y = startY + h * (i &gt;&gt; 1) * 20;\n    g2d.drawLine(x, y, x * v + endX * h, y * h + endY * v);\n}\n</code></pre>\n<p>My Answer (nested for):</p>\n<pre><code>    int endy = 0, endx = 160, xIncreaser  = 0, x = 25;\nfor (int i = 0; i &lt;= 9; i++){\n    int y = 25;\n    x+=xIncreaser;\n    if (i == 1)\n        x-=20;\n    for (int j = 0; j &lt;= 8; j++){\n        if (y+endy&gt;185)\n            break;\n        g2d.drawLine(x,y, x+endx, y+endy);\n        y+=20;\n    }\n    xIncreaser  = 20;\n    endy = 160;\n    endx = 0;\n</code></pre>\n"}],"owner":{"account_id":25750749,"reputation":1,"user_id":19503341,"display_name":"Muhammed Argun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77391053,"answer_count":1,"score":0,"last_activity_date":1698690695,"creation_date":1697975816,"question_id":77339852,"body_markdown":"My problem is I need to use only one drawLine. I couldn&#39;t figure out how am I supposed to make changes at the same time in x and y while not messing with one and another. I can&#39;t use a rectangle.\r\n\r\n```java\r\nint x = 25;\r\nint y = 25;\r\n\r\nfor (int i = 0; i &lt;=8; i++) {\r\n    g2d.drawLine(x, y, x+160, y);\r\n    y+=20;\r\n}\r\n\r\nx = 25;\r\ny = 25;\r\n\r\nfor (int i = 0; i &lt;=8; i++) {\r\n    g2d.drawLine(x, y, x, y+160);\r\n    x+=20;\r\n}\r\n```\r\n\r\n[This is what I expected](https://i.stack.imgur.com/imFFp.png)","title":"Java 2D graphics backgammon table (algorithm question)","body":"<p>My problem is I need to use only one drawLine. I couldn't figure out how am I supposed to make changes at the same time in x and y while not messing with one and another. I can't use a rectangle.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int x = 25;\nint y = 25;\n\nfor (int i = 0; i &lt;=8; i++) {\n    g2d.drawLine(x, y, x+160, y);\n    y+=20;\n}\n\nx = 25;\ny = 25;\n\nfor (int i = 0; i &lt;=8; i++) {\n    g2d.drawLine(x, y, x, y+160);\n    x+=20;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/imFFp.png\" rel=\"nofollow noreferrer\">This is what I expected</a></p>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":3353,"reputation":38420,"user_id":4834,"accept_rate":85,"display_name":"quamrana"},"score":3,"creation_date":1373183045,"post_id":17510152,"comment_id":25457289,"body_markdown":"Interesting question!  This very case *is* allowed in C++.","body":"Interesting question!  This very case <i>is</i> allowed in C++."},{"owner":{"account_id":2931163,"reputation":487,"user_id":2511350,"accept_rate":57,"display_name":"Niju"},"score":1,"creation_date":1373183840,"post_id":17510152,"comment_id":25457441,"body_markdown":"&quot;I have a class which has a method whose access specifier by default is public&quot;. Actually the default access specifier is not public. If you did&#39;t mentioned any specific access specifier then it is &#39;default&#39; :).","body":"&quot;I have a class which has a method whose access specifier by default is public&quot;. Actually the default access specifier is not public. If you did&#39;t mentioned any specific access specifier then it is &#39;default&#39; :)."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1373184371,"post_id":17510152,"comment_id":25457535,"body_markdown":"@quamrana And what happens in C++ when you acces an object through a superclass-typed variable? The compiler surely lets it through... does it error out at runtime?","body":"@quamrana And what happens in C++ when you acces an object through a superclass-typed variable? The compiler surely lets it through... does it error out at runtime?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1373184620,"post_id":17510152,"comment_id":25457585,"body_markdown":"@StephenC +1 I was trying to tease out that statement from quamrana :)","body":"@StephenC +1 I was trying to tease out that statement from quamrana :)"},{"owner":{"account_id":3353,"reputation":38420,"user_id":4834,"accept_rate":85,"display_name":"quamrana"},"score":1,"creation_date":1373203815,"post_id":17510152,"comment_id":25461427,"body_markdown":"In the case of C++ and the example above (lets say public in the base class, private in the derived class) access only depends on the pointer you have at hand.  There are no runtime errors, only compile-time errors (accessing private method from outside the class).","body":"In the case of C++ and the example above (lets say public in the base class, private in the derived class) access only depends on the pointer you have at hand.  There are no runtime errors, only compile-time errors (accessing private method from outside the class)."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1458785506,"creation_date":1373182759,"answer_id":17510171,"question_id":17510152,"body_markdown":"The short answer is that it is not allowed because it would break type substitutability; see also the [Liskov Substititution Principle (LSP)][1].\r\n\r\nThe point is that polymorphism in Java (and other programming languages) relies on you being able to treat an instance of a subclass *as if* it was an instance of the superclass.  But if the method is restricted in the subclass, you find that the compiler cannot figure out whether the access rules allow a method to be called ...\r\n\r\nFor instance, lets assume that your example code was legal:\r\n\r\n    // Assume this code is in some other class ...\r\n\r\n    SuperClass s1 = new SuperClass();\r\n\r\n    s1.foo();                          // OK!\r\n\r\n    SuperClass s2 = new Subclass();\r\n\r\n    s2.foo();                          // What happens now?\r\n\r\n    SuperClass s3 = OtherClass.someMethod();\r\n\r\n    s3.foo();                          // What happens now?\r\n\r\nIf you base the decision on whether `s2.foo()` is allowed on the declared type of `s2`, then you allow a call to a `private` method from outside the abstraction boundary of `Subclass`.  \r\n\r\n\r\nIf you base the decision on the actual type of the object that `s2` refers to, you cannot do the access check statically.  The `s3` case makes this even clearer.  The compiler has absolutely no way of knowing what the actual type of the object returned by `someMethod` will be.\r\n\r\nAccess checks that could result in runtime exceptions would be a major source of bugs in Java application.  The language restriction under discussion here avoids this nasty problem.\r\n    \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Liskov_substitution_principle","title":"why can&#39;t we assign weaker privilege in subclass","body":"<p>The short answer is that it is not allowed because it would break type substitutability; see also the <a href=\"http://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"noreferrer\">Liskov Substititution Principle (LSP)</a>.</p>\n\n<p>The point is that polymorphism in Java (and other programming languages) relies on you being able to treat an instance of a subclass <em>as if</em> it was an instance of the superclass.  But if the method is restricted in the subclass, you find that the compiler cannot figure out whether the access rules allow a method to be called ...</p>\n\n<p>For instance, lets assume that your example code was legal:</p>\n\n<pre><code>// Assume this code is in some other class ...\n\nSuperClass s1 = new SuperClass();\n\ns1.foo();                          // OK!\n\nSuperClass s2 = new Subclass();\n\ns2.foo();                          // What happens now?\n\nSuperClass s3 = OtherClass.someMethod();\n\ns3.foo();                          // What happens now?\n</code></pre>\n\n<p>If you base the decision on whether <code>s2.foo()</code> is allowed on the declared type of <code>s2</code>, then you allow a call to a <code>private</code> method from outside the abstraction boundary of <code>Subclass</code>.  </p>\n\n<p>If you base the decision on the actual type of the object that <code>s2</code> refers to, you cannot do the access check statically.  The <code>s3</code> case makes this even clearer.  The compiler has absolutely no way of knowing what the actual type of the object returned by <code>someMethod</code> will be.</p>\n\n<p>Access checks that could result in runtime exceptions would be a major source of bugs in Java application.  The language restriction under discussion here avoids this nasty problem.</p>\n"},{"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":4,"creation_date":1373182971,"post_id":17510177,"comment_id":25457277,"body_markdown":"Yes, but why must that be (is what he&#39;s asking)?","body":"Yes, but why must that be (is what he&#39;s asking)?"}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1373183636,"creation_date":1373182794,"answer_id":17510177,"question_id":17510152,"body_markdown":"You can&#39;t restrict access because you have already allowed more access in the super class. e.g.\r\n\r\n    SuperClass sc = new SubClass();\r\n    sc.foo(); // is package local, not private.\r\n\r\nThe access of `sc` is determined by the type of the reference `sc` not what it references because it is impossible for the compiler to know in all cases what type the object is at run time.  For this to be a safe assumption the sub-class must honour the contract given by the parent or it fails to be a valid subclass.  This is no different to the parent saying a method is implemented but the sub class saying it is not (or not accessible)\r\n\r\nYou could work around this by saying you can only access the sub-class method via the parent, not directly.  The problem with this is you don&#39;t know when a parent might add a method and when you make a method `private` you do this because you want it to be private, and not accessible another way.  \r\n\r\nBTW You can still access a private method via reflection which has the side effect that it cause all sort of problems for the JVM. e.g. it has to keep private methods even though it might determine there is no way it can be called normally.\r\n\r\nIn short, you want code which means what it says, and not have a split personality.  It is either package local or it is private not something sort of in between but not really either.  This is not such a problem the other way. i.e. if the sub class is public.  It just means the sub-class can be used in more places than the parent, just like it can implement more methods.","title":"why can&#39;t we assign weaker privilege in subclass","body":"<p>You can't restrict access because you have already allowed more access in the super class. e.g.</p>\n\n<pre><code>SuperClass sc = new SubClass();\nsc.foo(); // is package local, not private.\n</code></pre>\n\n<p>The access of <code>sc</code> is determined by the type of the reference <code>sc</code> not what it references because it is impossible for the compiler to know in all cases what type the object is at run time.  For this to be a safe assumption the sub-class must honour the contract given by the parent or it fails to be a valid subclass.  This is no different to the parent saying a method is implemented but the sub class saying it is not (or not accessible)</p>\n\n<p>You could work around this by saying you can only access the sub-class method via the parent, not directly.  The problem with this is you don't know when a parent might add a method and when you make a method <code>private</code> you do this because you want it to be private, and not accessible another way.  </p>\n\n<p>BTW You can still access a private method via reflection which has the side effect that it cause all sort of problems for the JVM. e.g. it has to keep private methods even though it might determine there is no way it can be called normally.</p>\n\n<p>In short, you want code which means what it says, and not have a split personality.  It is either package local or it is private not something sort of in between but not really either.  This is not such a problem the other way. i.e. if the sub class is public.  It just means the sub-class can be used in more places than the parent, just like it can implement more methods.</p>\n"},{"tags":[],"owner":{"account_id":471365,"reputation":6432,"user_id":879114,"accept_rate":89,"display_name":"Zavior"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373182816,"creation_date":1373182816,"answer_id":17510179,"question_id":17510152,"body_markdown":"Apart from the obvious problems with using such a constructions(as pointed out by Peter Lawrey in his answer), read about the theory behind it as well: [LSP][1], which means you must be able to substitute the main type with its subclass.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Liskov_substitution_principle","title":"why can&#39;t we assign weaker privilege in subclass","body":"<p>Apart from the obvious problems with using such a constructions(as pointed out by Peter Lawrey in his answer), read about the theory behind it as well: <a href=\"http://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow\">LSP</a>, which means you must be able to substitute the main type with its subclass.</p>\n"},{"tags":[],"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1373183235,"creation_date":1373182874,"answer_id":17510184,"question_id":17510152,"body_markdown":"Constricting the access modifier of a super class method is an invalid override because it&#39;s breaking the super-class contract and invalidates the substitution principle i.e. a *sub-class object IS-A super-class object* as well.\r\n\r\n    public void doSomething(SuperClass sc) {\r\n      sc.publicMethodInSuperClass();\r\n    }\r\n\r\n    doSomething(new SubClass()); // would break\r\n\r\nIf this was allowed, the above client code would break because your *SubClass* doesn&#39;t have that method *public*.\r\n\r\n*Reference:*&lt;br /&gt;\r\n[Liskov substitution principle](http://en.wikipedia.org/wiki/Liskov_substitution_principle)","title":"why can&#39;t we assign weaker privilege in subclass","body":"<p>Constricting the access modifier of a super class method is an invalid override because it's breaking the super-class contract and invalidates the substitution principle i.e. a <em>sub-class object IS-A super-class object</em> as well.</p>\n\n<pre><code>public void doSomething(SuperClass sc) {\n  sc.publicMethodInSuperClass();\n}\n\ndoSomething(new SubClass()); // would break\n</code></pre>\n\n<p>If this was allowed, the above client code would break because your <em>SubClass</em> doesn't have that method <em>public</em>.</p>\n\n<p><em>Reference:</em><br />\n<a href=\"http://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow\">Liskov substitution principle</a></p>\n"},{"tags":[],"owner":{"account_id":1666974,"reputation":3176,"user_id":1534183,"accept_rate":85,"display_name":"Vikas V"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1373183826,"creation_date":1373183265,"answer_id":17510225,"question_id":17510152,"body_markdown":"If this were allowed, there would be a backdoor through which you could call methods that should not be accessible. \r\n\r\nLets say that this is allowed\r\n\r\n    class Super {  \r\n        public void method() {  \r\n            System.out.println(&quot;Super&quot;);  \r\n        }  \r\n    }\r\n\r\n\r\n    class Sub extends Super {  \r\n        // This is not allowed, but suppose it was allowed  \r\n        protected void method() {  \r\n            System.out.println(&quot;Sub&quot;);  \r\n        }  \r\n    }\r\n\r\n    // In another class, in another package:  \r\n    Super obj = new Sub();  \r\n    obj.method();\r\n\r\n`obj.method`  would be possible, because `method()` is `public` in class Super. But it should not be allowed,\r\n because obj is really referring to an instance of Sub, and in that class, the method is protected!\r\n\r\nTo restrict a call to a  method in class Sub that should not be accessible from the outside, this restriction is put. \r\n\r\n","title":"why can&#39;t we assign weaker privilege in subclass","body":"<p>If this were allowed, there would be a backdoor through which you could call methods that should not be accessible. </p>\n\n<p>Lets say that this is allowed</p>\n\n<pre><code>class Super {  \n    public void method() {  \n        System.out.println(\"Super\");  \n    }  \n}\n\n\nclass Sub extends Super {  \n    // This is not allowed, but suppose it was allowed  \n    protected void method() {  \n        System.out.println(\"Sub\");  \n    }  \n}\n\n// In another class, in another package:  \nSuper obj = new Sub();  \nobj.method();\n</code></pre>\n\n<p><code>obj.method</code>  would be possible, because <code>method()</code> is <code>public</code> in class Super. But it should not be allowed,\n because obj is really referring to an instance of Sub, and in that class, the method is protected!</p>\n\n<p>To restrict a call to a  method in class Sub that should not be accessible from the outside, this restriction is put. </p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1508197572,"post_id":17512744,"comment_id":80507120,"body_markdown":"*&quot;The only reason I can think of to have this restriction is that when a subclass derives from an interface, as a client programmer, you expect to be able to call all the accessible methods of the interface from a reference to the derived class.&quot;* - That&#39;s basically LSP.  Because, if the client programmer cannot do that, then the subclass cannot be substituted for the parent class!","body":"<i>&quot;The only reason I can think of to have this restriction is that when a subclass derives from an interface, as a client programmer, you expect to be able to call all the accessible methods of the interface from a reference to the derived class.&quot;</i> - That&#39;s basically LSP.  Because, if the client programmer cannot do that, then the subclass cannot be substituted for the parent class!"},{"owner":{"account_id":3353,"reputation":38420,"user_id":4834,"accept_rate":85,"display_name":"quamrana"},"score":0,"creation_date":1508227076,"post_id":17512744,"comment_id":80516676,"body_markdown":"No its not. LSP refers to the client&#39;s perspective where they only know about the base class and expect the base class to work a certain way. When you supply a derived class to the client because your language allows it, then the derived class should behave the same way, such that the client function still works.","body":"No its not. LSP refers to the client&#39;s perspective where they only know about the base class and expect the base class to work a certain way. When you supply a derived class to the client because your language allows it, then the derived class should behave the same way, such that the client function still works."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1508237669,"post_id":17512744,"comment_id":80522945,"body_markdown":"I think you are construing the LSP too narrowly.  The Liskov &amp; Wing definition is this: *&quot;Subtype Requirement: Let ϕ ( x ) be a property provable about objects x of type T. Then ϕ ( y ) should be true for objects y of type S where S is a subtype of T.&quot;*.  In this case, ϕ is having an accessible method `foo`.  This is a property of `SuperClass` that clients depend on, and therefore also needs to be a property of `SubClass` ... or else an instance of the latter is not substitutable for an instance of the former.  See https://en.wikipedia.org/wiki/Liskov_substitution_principle","body":"I think you are construing the LSP too narrowly.  The Liskov &amp; Wing definition is this: <i>&quot;Subtype Requirement: Let ϕ ( x ) be a property provable about objects x of type T. Then ϕ ( y ) should be true for objects y of type S where S is a subtype of T.&quot;</i>.  In this case, ϕ is having an accessible method <code>foo</code>.  This is a property of <code>SuperClass</code> that clients depend on, and therefore also needs to be a property of <code>SubClass</code> ... or else an instance of the latter is not substitutable for an instance of the former.  See <a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Liskov_substitution_principle</a>"}],"tags":[],"owner":{"account_id":3353,"reputation":38420,"user_id":4834,"accept_rate":85,"display_name":"quamrana"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373205076,"creation_date":1373205076,"answer_id":17512744,"question_id":17510152,"body_markdown":"I think the short answer is that the compiler writers have set the rules to work this way.  LSP has nothing to do with the problem at hand.\r\n\r\nThe only reason I can think of to have this restriction is that when a subclass derives from an interface, as a client programmer, you expect to be able to call all the accessible methods of the interface from a reference to the derived class.\r\n\r\nJust suppose that you could write the code that the OP has shown.  If you have a reference to the derived class you should be able to call any public members of the derived class (though there are none in this case).  However, pass the reference as a parameter to a method which takes a reference to the base class and the method will expect to call any public or package method, which is `foo`.  This is the LSP that other contributors are looking for!\r\n\r\nC++ example:\r\n\r\n    class Superclass{\r\n    public:\r\n    virtual void foo(){ cout &lt;&lt; &quot;Superclass.foo&quot; &lt;&lt; endl; }\r\n    };\r\n    \r\n    class Subclass: public Superclass{\r\n    virtual void foo(){ cout &lt;&lt; &quot;Subclass.foo&quot; &lt;&lt; endl; }\r\n    };\r\n    \r\n    int main(){\r\n    Superclass s1;\r\n    s1.foo() // Prints Superclass.foo\r\n    \r\n    Subclass s2;\r\n    // s2.foo();  // Error, would not compile\r\n    \r\n    Superclass&amp; s1a=s2; // Reference to Superclass &#39;pointing&#39; to Subclass\r\n    \r\n    s1a.foo(); // Compiles OK, Prints Subclass.foo()\r\n    }\r\n\r\n","title":"why can&#39;t we assign weaker privilege in subclass","body":"<p>I think the short answer is that the compiler writers have set the rules to work this way.  LSP has nothing to do with the problem at hand.</p>\n\n<p>The only reason I can think of to have this restriction is that when a subclass derives from an interface, as a client programmer, you expect to be able to call all the accessible methods of the interface from a reference to the derived class.</p>\n\n<p>Just suppose that you could write the code that the OP has shown.  If you have a reference to the derived class you should be able to call any public members of the derived class (though there are none in this case).  However, pass the reference as a parameter to a method which takes a reference to the base class and the method will expect to call any public or package method, which is <code>foo</code>.  This is the LSP that other contributors are looking for!</p>\n\n<p>C++ example:</p>\n\n<pre><code>class Superclass{\npublic:\nvirtual void foo(){ cout &lt;&lt; \"Superclass.foo\" &lt;&lt; endl; }\n};\n\nclass Subclass: public Superclass{\nvirtual void foo(){ cout &lt;&lt; \"Subclass.foo\" &lt;&lt; endl; }\n};\n\nint main(){\nSuperclass s1;\ns1.foo() // Prints Superclass.foo\n\nSubclass s2;\n// s2.foo();  // Error, would not compile\n\nSuperclass&amp; s1a=s2; // Reference to Superclass 'pointing' to Subclass\n\ns1a.foo(); // Compiles OK, Prints Subclass.foo()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2503231,"reputation":617,"user_id":2177734,"accept_rate":50,"display_name":"mihir S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1377785092,"creation_date":1377784051,"answer_id":18512780,"question_id":17510152,"body_markdown":"In dynamic method dispatch, call to overridden method is resolved at runtime rather than compile time. It based on the object being referred to at the time of the call...\r\n\r\nNow suppose weaker access privilege was allowed and we write the following statement in your code some other class:\r\n\r\n    Superclass ref=new Subclass();\r\n    ref.foo()\r\n\r\nNow during runtime, when java comes across the statement `ref.foo()`, it will have to call `foo()` of `Subclass`...but `foo()` method of subclass is declared as private in your code and private cant be called outside its own class..so now there is a conflict and it would result in runtime exception...","title":"why can&#39;t we assign weaker privilege in subclass","body":"<p>In dynamic method dispatch, call to overridden method is resolved at runtime rather than compile time. It based on the object being referred to at the time of the call...</p>\n\n<p>Now suppose weaker access privilege was allowed and we write the following statement in your code some other class:</p>\n\n<pre><code>Superclass ref=new Subclass();\nref.foo()\n</code></pre>\n\n<p>Now during runtime, when java comes across the statement <code>ref.foo()</code>, it will have to call <code>foo()</code> of <code>Subclass</code>...but <code>foo()</code> method of subclass is declared as private in your code and private cant be called outside its own class..so now there is a conflict and it would result in runtime exception...</p>\n"},{"comments":[{"owner":{"account_id":8597860,"reputation":2575,"user_id":6440372,"display_name":"Ashish Kamble"},"score":0,"creation_date":1568958925,"post_id":58022466,"comment_id":102447724,"body_markdown":"You can add some example code to support explain more","body":"You can add some example code to support explain more"}],"tags":[],"owner":{"account_id":14441234,"reputation":9,"user_id":10431787,"display_name":"Aakash Chaudhary"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1569145682,"creation_date":1568958531,"answer_id":58022466,"question_id":17510152,"body_markdown":"Because you alter the order of access privileges , so you got error\r\n\r\ncorrect order is:==&gt; private to default to protected to public \r\n\r\n*in your case you goes default ==&gt; private \r\n whenever you goes in wrong order ,it result is error\r\n\r\nRight order of access privilege  is--\r\n\r\n    `class SuperClass{\r\n              void foo(){\r\n        System.out.print(&quot;SuperClass&quot;);\r\n         }\r\n       class SubClass extends{\r\n\r\n      //--default to default--//\r\n             void foo(){\r\n      System.out.print(&quot;SubClass&quot;);\r\n       }\r\n     //--default to protected--//\r\n\r\n      protected void foo(){\r\n      System.out.print(&quot;SubClass&quot;);\r\n \r\n     //--default to public //\r\n\r\n     public void foo(){\r\n     System.out.print(&quot;SubClass&quot;);\r\n     }` \r\n\r\n        **you make sure to preserve correct order while overriding **\r\n","title":"why can&#39;t we assign weaker privilege in subclass","body":"<p>Because you alter the order of access privileges , so you got error</p>\n\n<p>correct order is:==> private to default to protected to public </p>\n\n<p>*in your case you goes default ==> private \n whenever you goes in wrong order ,it result is error</p>\n\n<p>Right order of access privilege  is--</p>\n\n<pre><code>`class SuperClass{\n          void foo(){\n    System.out.print(\"SuperClass\");\n     }\n   class SubClass extends{\n\n  //--default to default--//\n         void foo(){\n  System.out.print(\"SubClass\");\n   }\n //--default to protected--//\n\n  protected void foo(){\n  System.out.print(\"SubClass\");\n\n //--default to public //\n\n public void foo(){\n System.out.print(\"SubClass\");\n }` \n\n    **you make sure to preserve correct order while overriding **\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5318745,"reputation":721,"user_id":4242765,"accept_rate":30,"display_name":"Ram Kowsu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653886923,"creation_date":1653886923,"answer_id":72429348,"question_id":17510152,"body_markdown":"**private:**\r\n\r\n    applies on field, method, inner class level\r\n    subclass level, we cannot inherit private methods, as scope bounded to within the class\r\n\r\n**default:**\r\n\r\n    applies on class, field, method level\r\n    subclass level, we can increase the scope to protected, public\r\n                     we cannot decrease the scope to private as it is breaking implementation inter-changeable rule;\r\n\r\n**protected:**\r\n\r\n    applies on field, method level\r\n    subclass level, we can increase the scope to public\r\n                      we cannot decrease the scope to default or private as it is breaking implementation inter-changeable rule;\r\n\r\n**public:**\r\n\r\n    applies on class, field, method level\r\n    subclass level, \r\n               we cannot decrease the scope in sub-class level to\r\n               protected, default or private as it is breaking implementation inter-changeable rule;\r\n","title":"why can&#39;t we assign weaker privilege in subclass","body":"<p><strong>private:</strong></p>\n<pre><code>applies on field, method, inner class level\nsubclass level, we cannot inherit private methods, as scope bounded to within the class\n</code></pre>\n<p><strong>default:</strong></p>\n<pre><code>applies on class, field, method level\nsubclass level, we can increase the scope to protected, public\n                 we cannot decrease the scope to private as it is breaking implementation inter-changeable rule;\n</code></pre>\n<p><strong>protected:</strong></p>\n<pre><code>applies on field, method level\nsubclass level, we can increase the scope to public\n                  we cannot decrease the scope to default or private as it is breaking implementation inter-changeable rule;\n</code></pre>\n<p><strong>public:</strong></p>\n<pre><code>applies on class, field, method level\nsubclass level, \n           we cannot decrease the scope in sub-class level to\n           protected, default or private as it is breaking implementation inter-changeable rule;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9219120,"reputation":1,"user_id":6849216,"display_name":"Zia Hashmi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698690199,"creation_date":1698690199,"answer_id":77391023,"question_id":17510152,"body_markdown":"I agree with Stephen C. He has got it right. I would like to make it a little less complex for beginners to understand. \r\nYour Example extended to show overriding :\r\n\r\n    class Superclass \r\n    {\r\n        void foo() \r\n        {\r\n            System.out.println(&quot;Superclass.foo&quot;);\r\n        }\r\n    }\r\n    \r\n    class Subclass extends Superclass \r\n    {\r\n        private void foo() \r\n        {\r\n            System.out.println(&quot;Subclass.foo&quot;);\r\n        }\r\n    }\r\n    \r\n    class Main\r\n    {\r\n       public static void main(String[] args)\r\n       {\r\n          Superclass superClassVariable = new Subclass();\r\n          superClassVariable.foo();\r\n       }\r\n    }\r\n    \r\nLet&#39;s assume compiler allows the subclass method to be weaker access privileges.\r\n\r\nBelow is how **main** method will be checked at compilation :\r\n1. Access Modifiers are checked at compile time. (check statically).\r\n2. In main method compiler will see superClassVariable is of type Superclass.\r\n3. Compiler **can&#39;t** determine the object type (Subclass) during compilation.\r\n4. So Compiler will check Superclass foo() method for access modifier.\r\n5. Method foo in Superclass is having default access modifier so it can be accessed \r\n   in Main class. The Compiler will allow this Main class code.\r\n\r\nBut as we know it is Voilation of access privileges. \r\nfoo() method for Subclass is private.\r\nWe created Subclass object in Main class.\r\nCalled private foo() method of Subclass object from Main class.\r\n\r\nSo to avoid issues/bug during **overriding**, and ensure that access privileges are not violated compiler forces to assign stronger or same access privileges to overriding method","title":"why can&#39;t we assign weaker privilege in subclass","body":"<p>I agree with Stephen C. He has got it right. I would like to make it a little less complex for beginners to understand.\nYour Example extended to show overriding :</p>\n<pre><code>class Superclass \n{\n    void foo() \n    {\n        System.out.println(&quot;Superclass.foo&quot;);\n    }\n}\n\nclass Subclass extends Superclass \n{\n    private void foo() \n    {\n        System.out.println(&quot;Subclass.foo&quot;);\n    }\n}\n\nclass Main\n{\n   public static void main(String[] args)\n   {\n      Superclass superClassVariable = new Subclass();\n      superClassVariable.foo();\n   }\n}\n</code></pre>\n<p>Let's assume compiler allows the subclass method to be weaker access privileges.</p>\n<p>Below is how <strong>main</strong> method will be checked at compilation :</p>\n<ol>\n<li>Access Modifiers are checked at compile time. (check statically).</li>\n<li>In main method compiler will see superClassVariable is of type Superclass.</li>\n<li>Compiler <strong>can't</strong> determine the object type (Subclass) during compilation.</li>\n<li>So Compiler will check Superclass foo() method for access modifier.</li>\n<li>Method foo in Superclass is having default access modifier so it can be accessed\nin Main class. The Compiler will allow this Main class code.</li>\n</ol>\n<p>But as we know it is Voilation of access privileges.\nfoo() method for Subclass is private.\nWe created Subclass object in Main class.\nCalled private foo() method of Subclass object from Main class.</p>\n<p>So to avoid issues/bug during <strong>overriding</strong>, and ensure that access privileges are not violated compiler forces to assign stronger or same access privileges to overriding method</p>\n"}],"owner":{"account_id":2529914,"reputation":267,"user_id":2198419,"accept_rate":0,"display_name":"syam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14417,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"answer_count":10,"score":17,"last_activity_date":1698690199,"creation_date":1373182570,"question_id":17510152,"body_markdown":"I have a class which has a method whose access specifier by default is public. Now, I would like to extend this class in a subclass and I want to override this method to have access specifier &quot;private&quot;. When compiling this code, I am getting a compilation error:\r\n\r\n&gt; &quot;attempting to assign weaker access privileges&quot;.\r\n\r\nCould somebody please explain to me what is wrong with assigning weaker privileges in a subclass?\r\n\r\nHere is the code that caused the compilation error:\r\n\r\n\tclass Superclass \r\n\t{\r\n\t\tvoid foo() \r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Superclass.foo&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tclass Subclass extends Superclass \r\n\t{\r\n\t\tprivate void foo() \r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Subclass.foo&quot;);\r\n\t\t}\r\n\t}\r\n\r\n","title":"why can&#39;t we assign weaker privilege in subclass","body":"<p>I have a class which has a method whose access specifier by default is public. Now, I would like to extend this class in a subclass and I want to override this method to have access specifier \"private\". When compiling this code, I am getting a compilation error:</p>\n\n<blockquote>\n  <p>\"attempting to assign weaker access privileges\".</p>\n</blockquote>\n\n<p>Could somebody please explain to me what is wrong with assigning weaker privileges in a subclass?</p>\n\n<p>Here is the code that caused the compilation error:</p>\n\n<pre><code>class Superclass \n{\n    void foo() \n    {\n        System.out.println(\"Superclass.foo\");\n    }\n}\n\nclass Subclass extends Superclass \n{\n    private void foo() \n    {\n        System.out.println(\"Subclass.foo\");\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","cucumber","reporting"],"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698690156,"creation_date":1698690156,"question_id":77391021,"body_markdown":"After update to selenium 4.14.1 from selenium 4.13.0 cucumber reporting masterthought maven-cucumber-reporting stopped generating reports with a use of maven command: mvn verify -Dcucumber.filter.tags=@desktop. On selenium 4.13.0 everything was fine.\r\n\r\nIn target folder /jsonReport both files are empty:\r\n\r\n    cucumber-report.html\r\n    cucumber-report.json\r\n\r\nThis is test runner class\r\n\r\n    import io.cucumber.junit.Cucumber;\r\n    import io.cucumber.junit.CucumberOptions;\r\n    import org.junit.runner.RunWith;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(features=&quot;src/test/java/features&quot;,\r\n            plugin = {&quot;pretty&quot;, &quot;json:target/jsonReports/cucumber-report.json&quot;,\r\n                    &quot;html:target/jsonReports/cucumber-report.html&quot;},\r\n            glue= {&quot;stepDefs&quot;},\r\n            stepNotifications = true,\r\n            monochrome = true\r\n            )\r\n    public class TestRunner {\r\n    }\r\n\r\nI am using in POM\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\r\n        &lt;version&gt;5.7.6&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Java selenium - Maven cucumber reporting library stopped working on update from Selenium 4.13.0 to Selenium 4.14.1","body":"<p>After update to selenium 4.14.1 from selenium 4.13.0 cucumber reporting masterthought maven-cucumber-reporting stopped generating reports with a use of maven command: mvn verify -Dcucumber.filter.tags=@desktop. On selenium 4.13.0 everything was fine.</p>\n<p>In target folder /jsonReport both files are empty:</p>\n<pre><code>cucumber-report.html\ncucumber-report.json\n</code></pre>\n<p>This is test runner class</p>\n<pre><code>import io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\nimport org.junit.runner.RunWith;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(features=&quot;src/test/java/features&quot;,\n        plugin = {&quot;pretty&quot;, &quot;json:target/jsonReports/cucumber-report.json&quot;,\n                &quot;html:target/jsonReports/cucumber-report.html&quot;},\n        glue= {&quot;stepDefs&quot;},\n        stepNotifications = true,\n        monochrome = true\n        )\npublic class TestRunner {\n}\n</code></pre>\n<p>I am using in POM</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\n    &lt;version&gt;5.7.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","string","character"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1588034573,"post_id":61470669,"comment_id":108739369,"body_markdown":"Not directly to your question, but I would `IntStream.range(0, 26).mapToObj(i -&gt; Character.toString((char) (&#39;a&#39; + i))).forEach(x -&gt; assertTrue(MyClass.MyFunction(testSubject, x)));`","body":"Not directly to your question, but I would <code>IntStream.range(0, 26).mapToObj(i -&gt; Character.toString((char) (&#39;a&#39; + i))).forEach(x -&gt; assertTrue(MyClass.MyFunction(testSubject, x)));</code>"},{"owner":{"account_id":5863021,"reputation":1186,"user_id":5318121,"display_name":"PhilipRoman"},"score":4,"creation_date":1588067029,"post_id":61470669,"comment_id":108750341,"body_markdown":"@ElliottFrisch but why? Streams are unnecessary here, but even if you insist on using streams for every loop, why not at least use `IntStream.rangeClosed(&#39;a&#39;, &#39;z&#39;)`?","body":"@ElliottFrisch but why? Streams are unnecessary here, but even if you insist on using streams for every loop, why not at least use <code>IntStream.rangeClosed(&#39;a&#39;, &#39;z&#39;)</code>?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1588069053,"post_id":61470669,"comment_id":108751490,"body_markdown":"There is no single &#39;correct&#39; way. There are probably at least five ways to do this: which you choose depends on fashion as much as scientific fact. Most of the time it simply doesn&#39;t matter, and a test program is certainly one of those cases.","body":"There is no single &#39;correct&#39; way. There are probably at least five ways to do this: which you choose depends on fashion as much as scientific fact. Most of the time it simply doesn&#39;t matter, and a test program is certainly one of those cases."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1588100128,"post_id":61470669,"comment_id":108769411,"body_markdown":"@PhilipRoman Because it is there (Edmund Hillary). Because I can. Because we want to (Billie Piper, I think). That&#39;s a cool approach too.","body":"@PhilipRoman Because it is there (Edmund Hillary). Because I can. Because we want to (Billie Piper, I think). That&#39;s a cool approach too."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1588401704,"post_id":61470669,"comment_id":108885219,"body_markdown":"_I would have thought this was permissible_ You thought it was permissible to invoke a `String` constructor that doesn&#39;t exist? Correct me if I&#39;m wrong, but as far as I am aware, there is not constructor in class [`String`](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/String.html) that takes a single `char` argument. Note that `char` is not the same as `char[]`.","body":"<i>I would have thought this was permissible</i> You thought it was permissible to invoke a <code>String</code> constructor that doesn&#39;t exist? Correct me if I&#39;m wrong, but as far as I am aware, there is not constructor in class <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>String</code></a> that takes a single <code>char</code> argument. Note that <code>char</code> is not the same as <code>char[]</code>."}],"answers":[{"comments":[{"owner":{"account_id":61276,"reputation":54834,"user_id":182705,"display_name":"Neil"},"score":8,"creation_date":1588082419,"post_id":61470687,"comment_id":108758922,"body_markdown":"Last time I looked, Sun&#39;s `javac` compiler automatically transforms `String s = &quot;&quot; + c;` into `String s = String.valueOf(c);`, so the performance would be the same.","body":"Last time I looked, Sun&#39;s <code>javac</code> compiler automatically transforms <code>String s = &quot;&quot; + c;</code> into <code>String s = String.valueOf(c);</code>, so the performance would be the same."},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":4,"creation_date":1588086492,"post_id":61470687,"comment_id":108761647,"body_markdown":"@Neil Whew! I was beginning to think that the type of person I wrote that footnote for no longer existed on Stack Overflow :)","body":"@Neil Whew! I was beginning to think that the type of person I wrote that footnote for no longer existed on Stack Overflow :)"},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1589194267,"post_id":61470687,"comment_id":109186259,"body_markdown":"@Neil: Weird! For me both javac 1.8.0_101 and Eclipse compiler emits code for creating the `StringBuilder` and calling `append`. Javac 10.0.1 emits an invoke-dynamic instruction. Maybe they trusted the JIT more in later years, instead of making compile time optimizations.","body":"@Neil: Weird! For me both javac 1.8.0_101 and Eclipse compiler emits code for creating the <code>StringBuilder</code> and calling <code>append</code>. Javac 10.0.1 emits an invoke-dynamic instruction. Maybe they trusted the JIT more in later years, instead of making compile time optimizations."}],"tags":[],"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"comment_count":3,"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1588034554,"creation_date":1588033458,"answer_id":61470687,"question_id":61470669,"body_markdown":"The shortest solution:\r\n\r\n    char c = &#39;a&#39;;\r\n    String s = &quot;&quot; + c;\r\n\r\nThe cleanest (and probably most efficient&lt;sup&gt;1&lt;/sup&gt;) solutions:\r\n\r\n    char c = &#39;a&#39;;\r\n\r\n    String s1 = String.valueOf(c);\r\n    // or\r\n    String s2 = Character.toString(c);\r\n\r\nCompared to your approach, the above prevents the overhead of having to box the primitive into a `Character` object.\r\n\r\n\r\n----------\r\n\r\n&lt;sup&gt;&lt;sup&gt;1&lt;/sup&gt; The slight inefficiency of the string concatenation in the first approach might be optimized away by the compiler or runtime, so one (if one were so inclined) would really have to run a micro-benchmark to determine actual performance. Micro-optimizations like this are rarely worth the effort, and relying on concatenation to force string conversion just doesn&#39;t look very nice.&lt;/sup&gt; ","title":"Is this the preferred way to convert a char to a String in Java?","body":"<p>The shortest solution:</p>\n\n<pre><code>char c = 'a';\nString s = \"\" + c;\n</code></pre>\n\n<p>The cleanest (and probably most efficient<sup>1</sup>) solutions:</p>\n\n<pre><code>char c = 'a';\n\nString s1 = String.valueOf(c);\n// or\nString s2 = Character.toString(c);\n</code></pre>\n\n<p>Compared to your approach, the above prevents the overhead of having to box the primitive into a <code>Character</code> object.</p>\n\n<hr>\n\n<p><sup><sup>1</sup> The slight inefficiency of the string concatenation in the first approach might be optimized away by the compiler or runtime, so one (if one were so inclined) would really have to run a micro-benchmark to determine actual performance. Micro-optimizations like this are rarely worth the effort, and relying on concatenation to force string conversion just doesn't look very nice.</sup> </p>\n"}],"owner":{"account_id":1975576,"reputation":20799,"user_id":1773434,"accept_rate":100,"display_name":"Govind Parmar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1410,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"closed_date":1588535939,"accepted_answer_id":61470687,"answer_count":1,"score":25,"last_activity_date":1698689658,"creation_date":1588033278,"question_id":61470669,"body_markdown":"While writing unit tests for a function returning `boolean` that takes two `String`s, and I needed to test every character of the alphabet (`&#39;a&#39;`-`&#39;z&#39;`) in sequence as one of the parameters, one-by-one, so I wrote this to do that:\r\n\r\n    for(char c = &#39;a&#39;; c &lt;= &#39;z&#39;; c++)\r\n    {\r\n        assertTrue(MyClass.MyFunction(testSubject, new String(c));\r\n    } \r\n\r\nI would have thought this was permissible, but it wasn&#39;t, so I just did it like this instead:\r\n\r\n    for(char c = &#39;a&#39;; c &lt;= &#39;z&#39;; c++)\r\n    {\r\n        assertTrue(MyClass.MyFunction(testSubject, ((Character) c).toString());\r\n    } \r\n\r\nIs this a reliable method to convert a `char` to a `String` in Java? Is it the preferred way? I don&#39;t know a whole lot about Java so would like some clarification on this.","title":"Is this the preferred way to convert a char to a String in Java?","body":"<p>While writing unit tests for a function returning <code>boolean</code> that takes two <code>String</code>s, and I needed to test every character of the alphabet (<code>'a'</code>-<code>'z'</code>) in sequence as one of the parameters, one-by-one, so I wrote this to do that:</p>\n\n<pre><code>for(char c = 'a'; c &lt;= 'z'; c++)\n{\n    assertTrue(MyClass.MyFunction(testSubject, new String(c));\n} \n</code></pre>\n\n<p>I would have thought this was permissible, but it wasn't, so I just did it like this instead:</p>\n\n<pre><code>for(char c = 'a'; c &lt;= 'z'; c++)\n{\n    assertTrue(MyClass.MyFunction(testSubject, ((Character) c).toString());\n} \n</code></pre>\n\n<p>Is this a reliable method to convert a <code>char</code> to a <code>String</code> in Java? Is it the preferred way? I don't know a whole lot about Java so would like some clarification on this.</p>\n"},{"tags":["java","spring","spring-boot","servlets","kannel"],"owner":{"account_id":16464401,"reputation":101,"user_id":11894776,"display_name":"Naresh V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698689636,"creation_date":1698689636,"question_id":77390968,"body_markdown":"I am new to kannel, I am able to send sms  successfully by calling kannel sendSms get url.I want to get delivery report, as suggested  to use callback  dlr-ulr, i have included in url.But not able to decide whether spring boot application or servlet application i need to develop. Finally how i will extract value from callback url.\r\n\r\n```\r\n`CloseableHttpClient httpclient = HttpClients.createDefault();\r\n\t\tHttpGet httpGet = null;\r\n\t\tCloseableHttpResponse response = null;\r\n\t\tHttpEntity entity = null;\r\n\r\n\t\ttry {\r\n\t\t\tString callbacjUrl=&quot;http://localhost:8080/hello?&amp;smc_id=%F&amp;dlr=%d&quot;;\r\n\t\t\t// Create GET URL\r\n\t\t\tURI uri = new URIBuilder().setScheme(&quot;http&quot;).setHost(&quot;10.0.0.190:15015&quot;).setPath(&quot;/cgi-bin/sendsms&quot;)\r\n\t\t\t\t//\tURI uri = new URIBuilder().setScheme(&quot;http&quot;).setHost(&quot;localhost:15001&quot;).setPath(&quot;/cgi-bin/sendsms&quot;)\r\n\t\t\t\t//\tURI uri = new URIBuilder().setScheme(&quot;http&quot;).setHost(&quot;localhost:15015&quot;).setPath(&quot;/cgi-bin/sendsms&quot;)\r\n\t\t\t\t\t.setParameter(&quot;username&quot;, &quot;user&quot;) // kannel username\r\n\t\t\t\t\t.setParameter(&quot;password&quot;, &quot;pass&quot;) // kannel password\r\n\t\t\t\t\t//.setParameter(&quot;smsc&quot;, &quot;cell3&quot;) // smsc name\r\n\t\t\t\t\t.setParameter(&quot;from&quot;, &quot;840&quot;) // sender of message (can be any string\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// or number)\r\n\t\t\t\t\t.setParameter(&quot;to&quot;, &quot;658123657&quot;) // destination (must be a mobile number)\r\n\t\t\t\t\t.setParameter(&quot;text&quot;, &quot;hello sending test message&quot;) // message to send\r\n\t\t\t\t\t.setParameter(&quot;dlr-url&quot;, callbacjUrl)\r\n\t\t\t\t\t.build();\r\n\t\t\t\r\n\r\n\t\t\t  System.out.println(&quot;uis is is&quot;+uri.toString());\r\n\t\t\t//.setParameter(&quot;dlr-mask&quot;, &quot;31&quot;).setParameter(&quot;from&quot;, &quot;Test&quot;) \r\n\t\t\thttpGet = new HttpGet(uri);\r\n\r\n\t\t\t// LOG.info(httpGet.getURI());\r\n\t\t\thttpGet.setHeader(&quot;content-type&quot;, &quot;text/plain&quot;);\r\n            System.out.println(&quot;hello before excute&quot;);\r\n\t\t\tresponse = httpclient.execute(httpGet);\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;hello after excute&quot;+response.getParams().toString());\r\n\r\n\t\t\t// LOG.info(response.getStatusLine());\r\n\t\t\tentity = response.getEntity();\r\n\t\r\n\t\tURL\turl = new URL(callbacjUrl);\r\n\t\t\turl.getQuery();\r\n\t\t\tSystem.out.println(getQueryMap(url.getQuery()));\r\n\t\t\t String result = new BufferedReader(new InputStreamReader(entity.getContent()))\r\n\t\t\t\t\t   .lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n\t\t\t System.out.println(&quot;result --&quot;+result);\r\n\t\t\tSystem.out.println(&quot;entity.getContent()&quot;+entity.getContent().toString());\r\n\r\n\t\t\tEntityUtils.consume(entity);\r\n\t\t\tSystem.out.println(&quot;EntityUtils.consume() ended&quot;);\r\n\r\n\t\t} catch (Exception e) {\r\n\r\n\t\t\t System.out.println(&quot;e&quot;+e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tresponse.close();\r\n\t\t\t} catch (IOException e) {\r\n\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}`\r\n```\r\n","title":"kannel sms delivery receipt url how to consume in java","body":"<p>I am new to kannel, I am able to send sms  successfully by calling kannel sendSms get url.I want to get delivery report, as suggested  to use callback  dlr-ulr, i have included in url.But not able to decide whether spring boot application or servlet application i need to develop. Finally how i will extract value from callback url.</p>\n<pre><code>`CloseableHttpClient httpclient = HttpClients.createDefault();\n        HttpGet httpGet = null;\n        CloseableHttpResponse response = null;\n        HttpEntity entity = null;\n\n        try {\n            String callbacjUrl=&quot;http://localhost:8080/hello?&amp;smc_id=%F&amp;dlr=%d&quot;;\n            // Create GET URL\n            URI uri = new URIBuilder().setScheme(&quot;http&quot;).setHost(&quot;10.0.0.190:15015&quot;).setPath(&quot;/cgi-bin/sendsms&quot;)\n                //  URI uri = new URIBuilder().setScheme(&quot;http&quot;).setHost(&quot;localhost:15001&quot;).setPath(&quot;/cgi-bin/sendsms&quot;)\n                //  URI uri = new URIBuilder().setScheme(&quot;http&quot;).setHost(&quot;localhost:15015&quot;).setPath(&quot;/cgi-bin/sendsms&quot;)\n                    .setParameter(&quot;username&quot;, &quot;user&quot;) // kannel username\n                    .setParameter(&quot;password&quot;, &quot;pass&quot;) // kannel password\n                    //.setParameter(&quot;smsc&quot;, &quot;cell3&quot;) // smsc name\n                    .setParameter(&quot;from&quot;, &quot;840&quot;) // sender of message (can be any string\n                                                                                    // or number)\n                    .setParameter(&quot;to&quot;, &quot;658123657&quot;) // destination (must be a mobile number)\n                    .setParameter(&quot;text&quot;, &quot;hello sending test message&quot;) // message to send\n                    .setParameter(&quot;dlr-url&quot;, callbacjUrl)\n                    .build();\n            \n\n              System.out.println(&quot;uis is is&quot;+uri.toString());\n            //.setParameter(&quot;dlr-mask&quot;, &quot;31&quot;).setParameter(&quot;from&quot;, &quot;Test&quot;) \n            httpGet = new HttpGet(uri);\n\n            // LOG.info(httpGet.getURI());\n            httpGet.setHeader(&quot;content-type&quot;, &quot;text/plain&quot;);\n            System.out.println(&quot;hello before excute&quot;);\n            response = httpclient.execute(httpGet);\n            \n            System.out.println(&quot;hello after excute&quot;+response.getParams().toString());\n\n            // LOG.info(response.getStatusLine());\n            entity = response.getEntity();\n    \n        URL url = new URL(callbacjUrl);\n            url.getQuery();\n            System.out.println(getQueryMap(url.getQuery()));\n             String result = new BufferedReader(new InputStreamReader(entity.getContent()))\n                       .lines().collect(Collectors.joining(&quot;\\n&quot;));\n             System.out.println(&quot;result --&quot;+result);\n            System.out.println(&quot;entity.getContent()&quot;+entity.getContent().toString());\n\n            EntityUtils.consume(entity);\n            System.out.println(&quot;EntityUtils.consume() ended&quot;);\n\n        } catch (Exception e) {\n\n             System.out.println(&quot;e&quot;+e.getMessage());\n            e.printStackTrace();\n        } finally {\n            try {\n                response.close();\n            } catch (IOException e) {\n\n                e.printStackTrace();\n            }\n        }`\n</code></pre>\n"},{"tags":["java","android","kotlin","android-jetpack","androidx"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1698244112,"post_id":77359402,"comment_id":136380901,"body_markdown":"You shouldn&#39;t ever be manually calling `onBackPressed` anyways. If you have an Up button in your UI, etc. it should be talking directly to the state it wants to change. Can you explain your use case for calling it in the first place?","body":"You shouldn&#39;t ever be manually calling <code>onBackPressed</code> anyways. If you have an Up button in your UI, etc. it should be talking directly to the state it wants to change. Can you explain your use case for calling it in the first place?"},{"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"score":0,"creation_date":1698250862,"post_id":77359402,"comment_id":136382339,"body_markdown":"I am calling it in OnBackPressedCallback::handleOnBackPressed() to perfrom the default back on some condition. Before the call I set isEnabled = false.","body":"I am calling it in OnBackPressedCallback::handleOnBackPressed() to perfrom the default back on some condition. Before the call I set isEnabled = false."},{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1698251021,"post_id":77359402,"comment_id":136382374,"body_markdown":"That&#39;s entirely the wrong thing to do and exactly what breaks the [Predictive Back Gesture](https://developer.android.com/guide/navigation/custom-back/predictive-back-gesture). I&#39;d suggest asking another question with your code asking how you should instead write it to avoid doing that. Feel free to include a link here.","body":"That&#39;s entirely the wrong thing to do and exactly what breaks the <a href=\"https://developer.android.com/guide/navigation/custom-back/predictive-back-gesture\" rel=\"nofollow noreferrer\">Predictive Back Gesture</a>. I&#39;d suggest asking another question with your code asking how you should instead write it to avoid doing that. Feel free to include a link here."},{"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"score":0,"creation_date":1698251572,"post_id":77359402,"comment_id":136382526,"body_markdown":"There are many questions about it already and I did not see any other suggestion. For example https://stackoverflow.com/questions/55074497/how-to-add-onbackpressedcallback-to-fragment?rq=4 \nhttps://stackoverflow.com/questions/73212710/android-custom-onbackpressed-to-onbackpressedcallback","body":"There are many questions about it already and I did not see any other suggestion. For example <a href=\"https://stackoverflow.com/questions/55074497/how-to-add-onbackpressedcallback-to-fragment?rq=4\" title=\"how to add onbackpressedcallback to fragment\">stackoverflow.com/questions/55074497/&hellip;</a>  <a href=\"https://stackoverflow.com/questions/73212710/android-custom-onbackpressed-to-onbackpressedcallback\" title=\"android custom onbackpressed to onbackpressedcallback\">stackoverflow.com/questions/73212710/&hellip;</a>"},{"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"score":0,"creation_date":1698251832,"post_id":77359402,"comment_id":136382580,"body_markdown":"In my code the decision if to do the default or not depends on some elapsed time along with other conditions about whether some things were done or not.","body":"In my code the decision if to do the default or not depends on some elapsed time along with other conditions about whether some things were done or not."},{"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"score":0,"creation_date":1698439771,"post_id":77359402,"comment_id":136410758,"body_markdown":"@ianhanniballake I thought you would give an answer there. I appreciate your answers so far, however, I am just left with the statement that &quot;That&#39;s entirely the wrong thing to do&quot;. I think Google should have added a function to OnBackPressedCallback like &quot;isExpectedToHandleBack()&quot; and call it whenever the system needs to know the momentary answer. But I guess Google had some other idea, which I currently do not know what it is despite reading the docs and watching the videos.","body":"@ianhanniballake I thought you would give an answer there. I appreciate your answers so far, however, I am just left with the statement that &quot;That&#39;s entirely the wrong thing to do&quot;. I think Google should have added a function to OnBackPressedCallback like &quot;isExpectedToHandleBack()&quot; and call it whenever the system needs to know the momentary answer. But I guess Google had some other idea, which I currently do not know what it is despite reading the docs and watching the videos."},{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1698448864,"post_id":77359402,"comment_id":136411666,"body_markdown":"The whole point of the ahead of time model for handling system back, if you had really watched the [video linked in the guide](https://youtu.be/Elpqr5xpLxQ), is to enable and disable your callback whenever your state changes so that you only get a callback when you can handle back - you never do any conditional checking just in time.","body":"The whole point of the ahead of time model for handling system back, if you had really watched the <a href=\"https://youtu.be/Elpqr5xpLxQ\" rel=\"nofollow noreferrer\">video linked in the guide</a>, is to enable and disable your callback whenever your state changes so that you only get a callback when you can handle back - you never do any conditional checking just in time."},{"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"score":0,"creation_date":1698588083,"post_id":77359402,"comment_id":136421844,"body_markdown":"@ianhanniballake I did watch it earlier. What I do not understand is what Google expects from the software design. Letting the details that are spread around the app to know they should call some function to update the enable state of the back callback? That is bug prone, breaks encapsulation, messy, and against any reasonable software design. I still hope Google does have some idea of what the code design should look like. Currently from what I see there should have been a &quot;isExpectedToHandleBack()&quot; as I mentioned, to override by the app and be called by the system.","body":"@ianhanniballake I did watch it earlier. What I do not understand is what Google expects from the software design. Letting the details that are spread around the app to know they should call some function to update the enable state of the back callback? That is bug prone, breaks encapsulation, messy, and against any reasonable software design. I still hope Google does have some idea of what the code design should look like. Currently from what I see there should have been a &quot;isExpectedToHandleBack()&quot; as I mentioned, to override by the app and be called by the system."}],"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1698448714,"answer_count":0,"score":1,"last_activity_date":1698689595,"creation_date":1698236271,"question_id":77359402,"body_markdown":"I am using `onBackPressedDispatcher.addCallback()` to handle back press.\r\nI am not using override of `onBackPressed()` to handle back press.\r\nHowever, I do call `onBackPressed()` when following the back press I want it to conditionally do the default back.\r\n\r\nWhat worries me is a statement in [Androd&#39;s documentation][1] saying the following:&lt;br&gt;\r\n*`In Android 12 (API level 32) and lower, onBackPressed is always called, regardless of any registered instances of OnBackPressedCallback.`*\r\n\r\nI wonder if I should do anything different for API 32 and less.\r\n\r\nI did not observe any different behavior when running on API 32 vs API 33 by testing and by debugging. On both I see in `ComponentActivity`\r\n\r\n    public void onBackPressed() {\r\n            getOnBackPressedDispatcher().onBackPressed();\r\n      }\r\n\r\nand in `OnBackPressedDispatcher`\r\n\r\n    public void onBackPressed() {\r\n            Iterator&lt;OnBackPressedCallback&gt; iterator =\r\n                    mOnBackPressedCallbacks.descendingIterator();\r\n            while (iterator.hasNext()) {\r\n                OnBackPressedCallback callback = iterator.next();\r\n                if (callback.isEnabled()) {\r\n                    callback.handleOnBackPressed();\r\n                    return;\r\n                }\r\n            }\r\n            if (mFallbackOnBackPressed != null) {\r\n                mFallbackOnBackPressed.run();\r\n            }\r\n        }\r\n\r\n(and it does not look like debugger showing wrong source).\r\n\r\nSo I do not understand what they meant by this comment. I think maybe it is related to the compilation SDK, not to the running Android version. Or maybe this was a mistake relating the comment to the android SDK, instead of `androidx.appcompat:appcompat` library version.\r\n\r\nI am aware also of the deprecation of `onBackPressed` in `ComponentActivity` and the possibility to call the one of `OnBackPressedDispatcher` directly. But this does not help me with understating the situation.\r\n\r\n  [1]: https://developer.android.com/guide/navigation/navigation-custom-back#onbackpressed","title":"Should calls to onBackPressed() be treated differently from API 33?","body":"<p>I am using <code>onBackPressedDispatcher.addCallback()</code> to handle back press.\nI am not using override of <code>onBackPressed()</code> to handle back press.\nHowever, I do call <code>onBackPressed()</code> when following the back press I want it to conditionally do the default back.</p>\n<p>What worries me is a statement in <a href=\"https://developer.android.com/guide/navigation/navigation-custom-back#onbackpressed\" rel=\"nofollow noreferrer\">Androd's documentation</a> saying the following:<br>\n<em><code>In Android 12 (API level 32) and lower, onBackPressed is always called, regardless of any registered instances of OnBackPressedCallback.</code></em></p>\n<p>I wonder if I should do anything different for API 32 and less.</p>\n<p>I did not observe any different behavior when running on API 32 vs API 33 by testing and by debugging. On both I see in <code>ComponentActivity</code></p>\n<pre><code>public void onBackPressed() {\n        getOnBackPressedDispatcher().onBackPressed();\n  }\n</code></pre>\n<p>and in <code>OnBackPressedDispatcher</code></p>\n<pre><code>public void onBackPressed() {\n        Iterator&lt;OnBackPressedCallback&gt; iterator =\n                mOnBackPressedCallbacks.descendingIterator();\n        while (iterator.hasNext()) {\n            OnBackPressedCallback callback = iterator.next();\n            if (callback.isEnabled()) {\n                callback.handleOnBackPressed();\n                return;\n            }\n        }\n        if (mFallbackOnBackPressed != null) {\n            mFallbackOnBackPressed.run();\n        }\n    }\n</code></pre>\n<p>(and it does not look like debugger showing wrong source).</p>\n<p>So I do not understand what they meant by this comment. I think maybe it is related to the compilation SDK, not to the running Android version. Or maybe this was a mistake relating the comment to the android SDK, instead of <code>androidx.appcompat:appcompat</code> library version.</p>\n<p>I am aware also of the deprecation of <code>onBackPressed</code> in <code>ComponentActivity</code> and the possibility to call the one of <code>OnBackPressedDispatcher</code> directly. But this does not help me with understating the situation.</p>\n"},{"tags":["java","events","lambda","reflection"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698689490,"creation_date":1698689490,"answer_id":77390957,"question_id":77378221,"body_markdown":"If your problem is that you get an exception like `LambdaConversionException: Invalid caller: …`, the problem is in this line:\r\n\r\n```java\r\nMethodHandles.Lookup lookup = MethodHandles.lookup().in(implType);\r\n```\r\n\r\nYou just have to change it to\r\n\r\n```java\r\nMethodHandles.Lookup lookup = MethodHandles.lookup();\r\n```\r\n\r\nThis performs the operation in the context of the `ConsumerFactory` and requires that `ConsumerFactory` is allowed to access the target method. But if your current code succeeded in performing `findVirtual` on the lookup object and proceeded to end up at the exception above, it implies that the accessibility is given.\r\n\r\nBut note that the code is unnecessarily complicated. The `getAllMethods` iterates over the superclass hierarchy despite the `getMethods()` call on a `Class` does already return all `public` methods, including the methods inherited from super interfaces while `getSuperclass()` will return `null` for an interface anyway.\r\n\r\nFurther, as explained in https://stackoverflow.com/q/322715/2711488 there’s rarely a need for a `LinkedList` and this use case is no exception.\r\n\r\nThen, `isAbstract` precludes `isDefault`, so this test is redundant. On the other hand, methods matching a `public` method of `java.lang.Object` must be skipped. Failing to do so makes it fail for, e.g. `Comparator`. The question is whether you want to fix `findLambdaMethod` to cover all cases or drop it completely as you’re only interested in `Consumer` for which we know that the method is `void accept(Object)`.\r\n\r\nAlso, the conversion of a `Method` to a `MethodHandle` doesn’t need to be done by hand. Considering all simplifications, we end up with\r\n\r\n```java\r\npublic class ConsumerFactory {\r\n    private final Map&lt;Method, Consumer&lt;?&gt;&gt; methodCache = new HashMap&lt;&gt;();\r\n\r\n    public ConsumerFactory() {}\r\n\r\n    public &lt;T, L&gt; Consumer&lt;T&gt; createConsumer(L instance, Method implMethod) throws Throwable {\r\n        Consumer&lt;T&gt; cached = (Consumer&lt;T&gt;) methodCache.get(implMethod);\r\n        if(cached==null) {\r\n            // avoid cryptic errors by checking this explicitly\r\n            if(implMethod.getParameterCount() != 1 || Modifier.isStatic(implMethod.getModifiers()))\r\n                throw new IllegalArgumentException(&quot;not suitable for Consumer: &quot; + implMethod);\r\n\r\n            MethodHandles.Lookup lookup = MethodHandles.lookup();\r\n            MethodHandle implMethodHandle = lookup.unreflect(implMethod);\r\n            MethodType implMethodType = MethodType.methodType(void.class, implMethodHandle.type().parameterType(1));\r\n            MethodType invokedMethodType = MethodType.methodType(Consumer.class, implMethod.getDeclaringClass());\r\n\r\n            CallSite metaFactory = LambdaMetafactory.metafactory(\r\n                    lookup, &quot;accept&quot;, invokedMethodType,\r\n                    MethodType.methodType(void.class, Object.class),\r\n                    implMethodHandle, implMethodType);\r\n\r\n            Consumer&lt;T&gt; consumer = (Consumer&lt;T&gt;) metaFactory.getTarget().invoke(instance);\r\n            methodCache.put(implMethod, consumer);\r\n            return consumer;\r\n        }\r\n        return cached;\r\n    }\r\n}\r\n```\r\n\r\nBut keep in mind that you can also create a `Consumer` calling `invoke` on a `Method`, even via lambda expression. So the code above is not strictly needed. Calling `invoke` on a `Method` may also serve as a fallback if the `LambdaMetafactory` approach fails.\r\n\r\nIf you want to keep the method for finding the method to implement for a functional interface, here’s a revised version:\r\n\r\n```java\r\nprivate Method findLambdaMethod(Class&lt;?&gt; type) {\r\n    if(!type.isInterface()) {\r\n        throw new IllegalArgumentException(&quot;This must be interface: &quot; + type);\r\n    }\r\n    Method targetMethod = null;\r\n    for(Method method: type.getMethods()) {\r\n        if(isCandidate(method)) {\r\n            if(targetMethod != null) {\r\n                throw new IllegalArgumentException(&quot;This isn&#39;t functional interface: &quot; + type.getName());\r\n            }\r\n            targetMethod = method;\r\n        }\r\n    }\r\n    if(targetMethod == null) {\r\n        throw new IllegalArgumentException(&quot;This isn&#39;t functional interface: &quot; + type.getName());\r\n    }\r\n    return targetMethod;\r\n}\r\nprivate boolean isCandidate(Method method) {\r\n    if(!Modifier.isAbstract(method.getModifiers()))\r\n        return false;\r\n\r\n    // check for redeclarations of public java.lang.Object methods\r\n    if(method.getParameterCount() == 0) {\r\n        String name = method.getName();\r\n        return !name.equals(&quot;hashCode&quot;) &amp;&amp; !name.equals(&quot;toString&quot;);\r\n    }\r\n    if(method.getParameterCount() == 1)\r\n        return !method.getName().equals(&quot;equals&quot;) || method.getParameterTypes()[0] != Object.class;\r\n\r\n    return true;\r\n}\r\n```","title":"MethodHandle Lookup Issues","body":"<p>If your problem is that you get an exception like <code>LambdaConversionException: Invalid caller: …</code>, the problem is in this line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MethodHandles.Lookup lookup = MethodHandles.lookup().in(implType);\n</code></pre>\n<p>You just have to change it to</p>\n<pre class=\"lang-java prettyprint-override\"><code>MethodHandles.Lookup lookup = MethodHandles.lookup();\n</code></pre>\n<p>This performs the operation in the context of the <code>ConsumerFactory</code> and requires that <code>ConsumerFactory</code> is allowed to access the target method. But if your current code succeeded in performing <code>findVirtual</code> on the lookup object and proceeded to end up at the exception above, it implies that the accessibility is given.</p>\n<p>But note that the code is unnecessarily complicated. The <code>getAllMethods</code> iterates over the superclass hierarchy despite the <code>getMethods()</code> call on a <code>Class</code> does already return all <code>public</code> methods, including the methods inherited from super interfaces while <code>getSuperclass()</code> will return <code>null</code> for an interface anyway.</p>\n<p>Further, as explained in <a href=\"https://stackoverflow.com/q/322715/2711488\">When to use LinkedList over ArrayList in Java?</a> there’s rarely a need for a <code>LinkedList</code> and this use case is no exception.</p>\n<p>Then, <code>isAbstract</code> precludes <code>isDefault</code>, so this test is redundant. On the other hand, methods matching a <code>public</code> method of <code>java.lang.Object</code> must be skipped. Failing to do so makes it fail for, e.g. <code>Comparator</code>. The question is whether you want to fix <code>findLambdaMethod</code> to cover all cases or drop it completely as you’re only interested in <code>Consumer</code> for which we know that the method is <code>void accept(Object)</code>.</p>\n<p>Also, the conversion of a <code>Method</code> to a <code>MethodHandle</code> doesn’t need to be done by hand. Considering all simplifications, we end up with</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ConsumerFactory {\n    private final Map&lt;Method, Consumer&lt;?&gt;&gt; methodCache = new HashMap&lt;&gt;();\n\n    public ConsumerFactory() {}\n\n    public &lt;T, L&gt; Consumer&lt;T&gt; createConsumer(L instance, Method implMethod) throws Throwable {\n        Consumer&lt;T&gt; cached = (Consumer&lt;T&gt;) methodCache.get(implMethod);\n        if(cached==null) {\n            // avoid cryptic errors by checking this explicitly\n            if(implMethod.getParameterCount() != 1 || Modifier.isStatic(implMethod.getModifiers()))\n                throw new IllegalArgumentException(&quot;not suitable for Consumer: &quot; + implMethod);\n\n            MethodHandles.Lookup lookup = MethodHandles.lookup();\n            MethodHandle implMethodHandle = lookup.unreflect(implMethod);\n            MethodType implMethodType = MethodType.methodType(void.class, implMethodHandle.type().parameterType(1));\n            MethodType invokedMethodType = MethodType.methodType(Consumer.class, implMethod.getDeclaringClass());\n\n            CallSite metaFactory = LambdaMetafactory.metafactory(\n                    lookup, &quot;accept&quot;, invokedMethodType,\n                    MethodType.methodType(void.class, Object.class),\n                    implMethodHandle, implMethodType);\n\n            Consumer&lt;T&gt; consumer = (Consumer&lt;T&gt;) metaFactory.getTarget().invoke(instance);\n            methodCache.put(implMethod, consumer);\n            return consumer;\n        }\n        return cached;\n    }\n}\n</code></pre>\n<p>But keep in mind that you can also create a <code>Consumer</code> calling <code>invoke</code> on a <code>Method</code>, even via lambda expression. So the code above is not strictly needed. Calling <code>invoke</code> on a <code>Method</code> may also serve as a fallback if the <code>LambdaMetafactory</code> approach fails.</p>\n<p>If you want to keep the method for finding the method to implement for a functional interface, here’s a revised version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Method findLambdaMethod(Class&lt;?&gt; type) {\n    if(!type.isInterface()) {\n        throw new IllegalArgumentException(&quot;This must be interface: &quot; + type);\n    }\n    Method targetMethod = null;\n    for(Method method: type.getMethods()) {\n        if(isCandidate(method)) {\n            if(targetMethod != null) {\n                throw new IllegalArgumentException(&quot;This isn't functional interface: &quot; + type.getName());\n            }\n            targetMethod = method;\n        }\n    }\n    if(targetMethod == null) {\n        throw new IllegalArgumentException(&quot;This isn't functional interface: &quot; + type.getName());\n    }\n    return targetMethod;\n}\nprivate boolean isCandidate(Method method) {\n    if(!Modifier.isAbstract(method.getModifiers()))\n        return false;\n\n    // check for redeclarations of public java.lang.Object methods\n    if(method.getParameterCount() == 0) {\n        String name = method.getName();\n        return !name.equals(&quot;hashCode&quot;) &amp;&amp; !name.equals(&quot;toString&quot;);\n    }\n    if(method.getParameterCount() == 1)\n        return !method.getName().equals(&quot;equals&quot;) || method.getParameterTypes()[0] != Object.class;\n\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":23876405,"reputation":61,"user_id":17877535,"display_name":"SwordOfSouls"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77390957,"answer_count":1,"score":0,"last_activity_date":1698689490,"creation_date":1698472887,"question_id":77378221,"body_markdown":"I&#39;ve recently needed to make a relatively simple events system. (Id -&gt; Consumer&lt;Event&gt;) This would be able to subscribe a `Method` based off annotation. Then I remembered that Java isn&#39;t C# and attempted to look for a way to accomplish this. After many similar threads, I came across this [GitHub Gist][1], and attempted to implement it. I did so successfully, however did not realize early enough that the `MethodHandles.lookup()` method is location specific and only applies to the class that calls it. \r\n\r\n*ConsumerFactory*\r\n```\r\npublic class ConsumerFactory {\r\n    private final Method consumerMethod;\r\n    private final MethodType consumerMethodType;\r\n\r\n    private final Map&lt;Method, Consumer&lt;?&gt;&gt; methodCache = new HashMap&lt;&gt;();\r\n\r\n    public ConsumerFactory() {\r\n        consumerMethod = findLambdaMethod(Consumer.class);\r\n        consumerMethodType = MethodType.methodType(consumerMethod.getReturnType(), consumerMethod.getParameterTypes());\r\n    }\r\n\r\n    public &lt;T, L&gt; Consumer&lt;T&gt; createConsumer(L instance, Method implMethod) throws Throwable {\r\n        Consumer&lt;T&gt; cached = (Consumer&lt;T&gt;) methodCache.get(implMethod);\r\n        if(cached==null) {\r\n            Class&lt;?&gt; implType = implMethod.getDeclaringClass();\r\n\r\n            MethodHandles.Lookup lookup = MethodHandles.lookup().in(implType);\r\n            MethodType implMethodType = MethodType.methodType(implMethod.getReturnType(), implMethod.getParameterTypes());\r\n            MethodHandle implMethodHandle = lookup.findVirtual(implType, implMethod.getName(), implMethodType);\r\n\r\n            MethodType invokedMethodType = MethodType.methodType(Consumer.class, implType);\r\n\r\n            CallSite metaFactory = LambdaMetafactory.metafactory(\r\n                    lookup,\r\n                    consumerMethod.getName(), invokedMethodType, consumerMethodType,\r\n                    implMethodHandle, implMethodType);\r\n\r\n            MethodHandle factory = metaFactory.getTarget();\r\n            Consumer&lt;T&gt; consumer = (Consumer&lt;T&gt;) factory.invoke(instance);\r\n            methodCache.put(implMethod, consumer);\r\n            return consumer;\r\n        }\r\n        return cached;\r\n    }\r\n\r\n    private Method findLambdaMethod(Class&lt;?&gt; type) {\r\n        if (!type.isInterface()) {\r\n            throw new IllegalArgumentException(&quot;This must be interface: &quot; + type);\r\n        }\r\n        Method[] methods = getAllMethods(type);\r\n        if (methods.length == 0) {\r\n            throw new IllegalArgumentException(&quot;No methods in: &quot; + type.getName());\r\n        }\r\n        Method targetMethod = null;\r\n        for (Method method : methods) {\r\n            if (isInterfaceMethod(method)) {\r\n                if (targetMethod != null) {\r\n                    throw new IllegalArgumentException(&quot;This isn&#39;t functional interface: &quot; + type.getName());\r\n                }\r\n                targetMethod = method;\r\n            }\r\n        }\r\n        if (targetMethod == null) {\r\n            throw new IllegalArgumentException(&quot;No method in: &quot; + type.getName());\r\n        }\r\n        return targetMethod;\r\n    }\r\n    private Method[] getAllMethods(Class&lt;?&gt; type) {\r\n        LinkedList&lt;Method&gt; result = new LinkedList&lt;&gt;();\r\n        Class&lt;?&gt; current = type;\r\n        do {\r\n            result.addAll(Arrays.asList(current.getMethods()));\r\n        } while ((current = current.getSuperclass()) != null);\r\n        return result.toArray(new Method[0]);\r\n    }\r\n    private boolean isInterfaceMethod(Method method) {\r\n        return !method.isDefault() &amp;&amp; Modifier.isAbstract(method.getModifiers());\r\n    }\r\n}\r\n```\r\n\r\nIs their anything I could do to still have this sort of idea function? Ideally end up as something like `Map&lt;String, Consumer&lt;Event&gt;&gt;`. I was considering forcefully creating a `Lookup` class, but I&#39;m not sure if that would be the best idea.\r\n\r\nThank you all for the help!\r\n\r\n\r\n\r\n  [1]: https://gist.github.com/alexengrig/df1797d4d07c9f5d521d8c33c2a56563","title":"MethodHandle Lookup Issues","body":"<p>I've recently needed to make a relatively simple events system. (Id -&gt; Consumer) This would be able to subscribe a <code>Method</code> based off annotation. Then I remembered that Java isn't C# and attempted to look for a way to accomplish this. After many similar threads, I came across this <a href=\"https://gist.github.com/alexengrig/df1797d4d07c9f5d521d8c33c2a56563\" rel=\"nofollow noreferrer\">GitHub Gist</a>, and attempted to implement it. I did so successfully, however did not realize early enough that the <code>MethodHandles.lookup()</code> method is location specific and only applies to the class that calls it.</p>\n<p><em>ConsumerFactory</em></p>\n<pre><code>public class ConsumerFactory {\n    private final Method consumerMethod;\n    private final MethodType consumerMethodType;\n\n    private final Map&lt;Method, Consumer&lt;?&gt;&gt; methodCache = new HashMap&lt;&gt;();\n\n    public ConsumerFactory() {\n        consumerMethod = findLambdaMethod(Consumer.class);\n        consumerMethodType = MethodType.methodType(consumerMethod.getReturnType(), consumerMethod.getParameterTypes());\n    }\n\n    public &lt;T, L&gt; Consumer&lt;T&gt; createConsumer(L instance, Method implMethod) throws Throwable {\n        Consumer&lt;T&gt; cached = (Consumer&lt;T&gt;) methodCache.get(implMethod);\n        if(cached==null) {\n            Class&lt;?&gt; implType = implMethod.getDeclaringClass();\n\n            MethodHandles.Lookup lookup = MethodHandles.lookup().in(implType);\n            MethodType implMethodType = MethodType.methodType(implMethod.getReturnType(), implMethod.getParameterTypes());\n            MethodHandle implMethodHandle = lookup.findVirtual(implType, implMethod.getName(), implMethodType);\n\n            MethodType invokedMethodType = MethodType.methodType(Consumer.class, implType);\n\n            CallSite metaFactory = LambdaMetafactory.metafactory(\n                    lookup,\n                    consumerMethod.getName(), invokedMethodType, consumerMethodType,\n                    implMethodHandle, implMethodType);\n\n            MethodHandle factory = metaFactory.getTarget();\n            Consumer&lt;T&gt; consumer = (Consumer&lt;T&gt;) factory.invoke(instance);\n            methodCache.put(implMethod, consumer);\n            return consumer;\n        }\n        return cached;\n    }\n\n    private Method findLambdaMethod(Class&lt;?&gt; type) {\n        if (!type.isInterface()) {\n            throw new IllegalArgumentException(&quot;This must be interface: &quot; + type);\n        }\n        Method[] methods = getAllMethods(type);\n        if (methods.length == 0) {\n            throw new IllegalArgumentException(&quot;No methods in: &quot; + type.getName());\n        }\n        Method targetMethod = null;\n        for (Method method : methods) {\n            if (isInterfaceMethod(method)) {\n                if (targetMethod != null) {\n                    throw new IllegalArgumentException(&quot;This isn't functional interface: &quot; + type.getName());\n                }\n                targetMethod = method;\n            }\n        }\n        if (targetMethod == null) {\n            throw new IllegalArgumentException(&quot;No method in: &quot; + type.getName());\n        }\n        return targetMethod;\n    }\n    private Method[] getAllMethods(Class&lt;?&gt; type) {\n        LinkedList&lt;Method&gt; result = new LinkedList&lt;&gt;();\n        Class&lt;?&gt; current = type;\n        do {\n            result.addAll(Arrays.asList(current.getMethods()));\n        } while ((current = current.getSuperclass()) != null);\n        return result.toArray(new Method[0]);\n    }\n    private boolean isInterfaceMethod(Method method) {\n        return !method.isDefault() &amp;&amp; Modifier.isAbstract(method.getModifiers());\n    }\n}\n</code></pre>\n<p>Is their anything I could do to still have this sort of idea function? Ideally end up as something like <code>Map&lt;String, Consumer&lt;Event&gt;&gt;</code>. I was considering forcefully creating a <code>Lookup</code> class, but I'm not sure if that would be the best idea.</p>\n<p>Thank you all for the help!</p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1698629424,"post_id":77385801,"comment_id":136425790,"body_markdown":"`boolean entryOK = false; while ( ! entryOK) { entryOK = true; input = scanner.next(); switch (input) { case &quot;Meat&quot;: case &quot;meat&quot;: ... break; case &quot;fish&quot;: case &quot;Fish:&quot;: ... break; default: entryOK = false; break; }}`  This question is a duplicate of others, but my search ability is lacking at the moment.","body":"<code>boolean entryOK = false; while ( ! entryOK) { entryOK = true; input = scanner.next(); switch (input) { case &quot;Meat&quot;: case &quot;meat&quot;: ... break; case &quot;fish&quot;: case &quot;Fish:&quot;: ... break; default: entryOK = false; break; }}</code>  This question is a duplicate of others, but my search ability is lacking at the moment."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1698629581,"post_id":77385801,"comment_id":136425795,"body_markdown":"Does this question and its answers help? https://stackoverflow.com/questions/16706716/using-two-values-for-one-switch-case-statement","body":"Does this question and its answers help? <a href=\"https://stackoverflow.com/questions/16706716/using-two-values-for-one-switch-case-statement\" title=\"using two values for one switch case statement\">stackoverflow.com/questions/16706716/&hellip;</a>"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1698631473,"post_id":77385801,"comment_id":136425895,"body_markdown":"And please stop capitalizing every word in a sentence.","body":"And please stop capitalizing every word in a sentence."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1698662528,"post_id":77385801,"comment_id":136429374,"body_markdown":"BTW be aware that using `==` or `!=` to compare strings is almost always an error - use the `equals()` method instead","body":"BTW be aware that using <code>==</code> or <code>!=</code> to compare strings is almost always an error - use the <code>equals()</code> method instead"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698689159,"creation_date":1698630296,"answer_id":77385854,"question_id":77385801,"body_markdown":"Here&#39;s a contrived version.  You will need to figure out how to apply it to your requirements. Once it find&#39;s `&quot;C&quot;` it will not repeat.  It works by using the default to reset the `tryAgain`  flag to `true`. Once the `do/while` loop restarts, the flag is immediately set to false assuming a match will be found.  Using `toUpperCase` negates the need for multiple strings for the same type.\r\n```\r\nboolean tryAgain;\r\nString[] vals = {&quot;a&quot;,&quot;B&quot;,&quot;c&quot;,&quot;D&quot;};\r\nint i = 0;\r\nString result;\r\ndo {\r\n    tryAgain = false;\r\n    result = switch (vals[i++].toUpperCase()) {\r\n        case &quot;C&quot; -&gt; &quot;Found C&quot;;\r\n        case &quot;D&quot; -&gt; &quot;Found D&quot;;\r\n\r\n        default -&gt; {\r\n            tryAgain = true;\r\n            yield &quot;&quot;;\r\n        }\r\n    };\r\n\r\n} while (tryAgain);\r\nSystem.out.println(result);\r\n```\r\nprints\r\n```\r\nFound C\r\n```\r\nThe above could also be done as follows.  No default required here. \r\n```\r\nString result = &quot;&quot;;\r\nouter:\r\nfor (String val : vals) {\r\n     switch(val.toUpperCase()) {\r\n        case &quot;C&quot; -&gt; {\r\n                       result =&quot;Found C&quot;;\r\n                       break outer;\r\n        }\r\n        \r\n        case &quot;D&quot; -&gt; { \r\n                      result = &quot;Found D&quot;;\r\n                      break outer;\r\n        }\r\n    };\r\n}\r\nSystem.out.println(result);\r\n```\r\nAnd lastly another using `continue` as the default to skip over the latter print and break statements when nothing is found.\r\n```\r\n\r\nString result = &quot;&quot;;\r\n\r\nfor (String val : vals) {\r\n    switch(val.toUpperCase()) {\r\n        case &quot;C&quot; -&gt; result = &quot;Found C&quot;;\r\n\r\n        case &quot;D&quot; -&gt; result = &quot;Found D&quot;;\r\n\r\n        default -&gt; {\r\n            continue;\r\n        }\r\n    }\r\n    System.out.println(result);\r\n    break;\r\n}\r\n```\r\n","title":"Is There A Way To Restart The Switch-Statement If The User Didn&#39;t Select Something From The Case Options?","body":"<p>Here's a contrived version.  You will need to figure out how to apply it to your requirements. Once it find's <code>&quot;C&quot;</code> it will not repeat.  It works by using the default to reset the <code>tryAgain</code>  flag to <code>true</code>. Once the <code>do/while</code> loop restarts, the flag is immediately set to false assuming a match will be found.  Using <code>toUpperCase</code> negates the need for multiple strings for the same type.</p>\n<pre><code>boolean tryAgain;\nString[] vals = {&quot;a&quot;,&quot;B&quot;,&quot;c&quot;,&quot;D&quot;};\nint i = 0;\nString result;\ndo {\n    tryAgain = false;\n    result = switch (vals[i++].toUpperCase()) {\n        case &quot;C&quot; -&gt; &quot;Found C&quot;;\n        case &quot;D&quot; -&gt; &quot;Found D&quot;;\n\n        default -&gt; {\n            tryAgain = true;\n            yield &quot;&quot;;\n        }\n    };\n\n} while (tryAgain);\nSystem.out.println(result);\n</code></pre>\n<p>prints</p>\n<pre><code>Found C\n</code></pre>\n<p>The above could also be done as follows.  No default required here.</p>\n<pre><code>String result = &quot;&quot;;\nouter:\nfor (String val : vals) {\n     switch(val.toUpperCase()) {\n        case &quot;C&quot; -&gt; {\n                       result =&quot;Found C&quot;;\n                       break outer;\n        }\n        \n        case &quot;D&quot; -&gt; { \n                      result = &quot;Found D&quot;;\n                      break outer;\n        }\n    };\n}\nSystem.out.println(result);\n</code></pre>\n<p>And lastly another using <code>continue</code> as the default to skip over the latter print and break statements when nothing is found.</p>\n<pre><code>\nString result = &quot;&quot;;\n\nfor (String val : vals) {\n    switch(val.toUpperCase()) {\n        case &quot;C&quot; -&gt; result = &quot;Found C&quot;;\n\n        case &quot;D&quot; -&gt; result = &quot;Found D&quot;;\n\n        default -&gt; {\n            continue;\n        }\n    }\n    System.out.println(result);\n    break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698662032,"creation_date":1698662032,"answer_id":77387914,"question_id":77385801,"body_markdown":"Yes, there is a way:\r\n\r\n```\r\nboolean validChoice = false;\r\nint[] choices = {2, 3, 5, 7, 11, 13, 17};\r\nint index = -1;\r\nwhile ((!validChoice) &amp;&amp; (++index &lt; choices.length)) {\r\n    validChoice = true; //we will override this if needed\r\n    switch (choices[index]) {\r\n        case 4: {\r\n            //do something\r\n        } break;\r\n        case 6: {\r\n            //do something\r\n        } break;\r\n        case 13: {\r\n            //do something\r\n        } break;\r\n        default: {\r\n            validChoice = false;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWe are repeatedly getting a new choice `while` we lack a valid one or we do not get too many invalid choices. I simulate the behavior with an array of integers, you can replace the array and index with your actual way of getting the input.","title":"Is There A Way To Restart The Switch-Statement If The User Didn&#39;t Select Something From The Case Options?","body":"<p>Yes, there is a way:</p>\n<pre><code>boolean validChoice = false;\nint[] choices = {2, 3, 5, 7, 11, 13, 17};\nint index = -1;\nwhile ((!validChoice) &amp;&amp; (++index &lt; choices.length)) {\n    validChoice = true; //we will override this if needed\n    switch (choices[index]) {\n        case 4: {\n            //do something\n        } break;\n        case 6: {\n            //do something\n        } break;\n        case 13: {\n            //do something\n        } break;\n        default: {\n            validChoice = false;\n        }\n    }\n}\n</code></pre>\n<p>We are repeatedly getting a new choice <code>while</code> we lack a valid one or we do not get too many invalid choices. I simulate the behavior with an array of integers, you can replace the array and index with your actual way of getting the input.</p>\n"}],"owner":{"account_id":29782583,"reputation":11,"user_id":22824710,"display_name":"SmoKy1278"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698689159,"creation_date":1698628813,"question_id":77385801,"body_markdown":"Basically The Title Question It&#39;s In Java And I&#39;m Using NetBeans If It&#39;s Any Usefull\r\n\r\n Tried Some Tuto&#39;s On Yt But Didn&#39;t Get What I Was Expecting\r\n\r\nIm Basically Left With The default: break; Thing Since I Don&#39;t want to forget to change it later \r\nThe Cases Are Only Strings So It Looks Something Like This\r\n\r\n```\r\ncase &quot;Meat&quot;,&quot;meat&quot;\r\ncase &quot;Fish&quot;,&quot;fish&quot; \r\n```\r\nEtc....\r\nI Tried\r\n```\r\ndefault;\r\nwhile(com!=&quot;Carne&quot;);\r\n```\r\nBut It Seems To Give Some Kind Of Warning","title":"Is There A Way To Restart The Switch-Statement If The User Didn&#39;t Select Something From The Case Options?","body":"<p>Basically The Title Question It's In Java And I'm Using NetBeans If It's Any Usefull</p>\n<p>Tried Some Tuto's On Yt But Didn't Get What I Was Expecting</p>\n<p>Im Basically Left With The default: break; Thing Since I Don't want to forget to change it later\nThe Cases Are Only Strings So It Looks Something Like This</p>\n<pre><code>case &quot;Meat&quot;,&quot;meat&quot;\ncase &quot;Fish&quot;,&quot;fish&quot; \n</code></pre>\n<p>Etc....\nI Tried</p>\n<pre><code>default;\nwhile(com!=&quot;Carne&quot;);\n</code></pre>\n<p>But It Seems To Give Some Kind Of Warning</p>\n"},{"tags":["java","ant","ivy"],"owner":{"account_id":3089365,"reputation":798,"user_id":2615836,"accept_rate":66,"display_name":"Codes with Hammer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698688764,"creation_date":1698688764,"question_id":77390899,"body_markdown":"I&#39;m converting a project from Java 8 to Java 11 (a future conversion to Java 17 or later is deep in the backlog).  Some components depend on `jaxb` and `jaxws`, which I have learned were removed.\r\n\r\nThanks to quite a few other articles I have learned to add the `jaxb` and `jaxws` dependencies explicitly.  Now I have come across an odd case.\r\n\r\nI have one module that uses package `javax.jws` and class `javax.jws.WebService`.  My development environment has `jaxws-ri.zip` version 2.3.6.  This contains `jaxws-rt.jar`.  Our repo also has `jaxws-rt` version 2.1.7, which I am already including in the dependency list.\r\n\r\nI have the following snippets in the module&#39;s `ivy.xml` file:\r\n\r\n    &lt;dependency org=&quot;com.sun.xml.ws&quot; name=&quot;jaxws-rt&quot; rev=&quot;2.1.7&quot; transitive=&quot;false&quot; /&gt;\r\n    &lt;dependency org=&quot;com.sun.xml.ws&quot; name=&quot;jaxws-ri&quot; rev=&quot;2.3.6&quot;&gt;\r\n      &lt;artifact name=&quot;jaxws-ri&quot; type=&quot;zip&quot; /&gt;\r\n    &lt;/dependency&gt;\r\n\r\n`jaxws-ri.zip` extracts at compile time into the module subdirectory `dependency/java/jaxws-ri/jaxws-ri`.  The `lib` directory then contains `jaxws-rt.jar`.  I was able to use this version of the jar to pre-compile generated Java classes.  Now I need to use this version **from the zip archive** instead of the repository to compile the module.\r\n\r\nSo.  How do I build this module using **this** version of `jaxws-rt.jar` (or if needed other jars from the zip archive) instead of the repo&#39;s version?","title":"How to create an Ivy dependency for a jar inside a zip archive?","body":"<p>I'm converting a project from Java 8 to Java 11 (a future conversion to Java 17 or later is deep in the backlog).  Some components depend on <code>jaxb</code> and <code>jaxws</code>, which I have learned were removed.</p>\n<p>Thanks to quite a few other articles I have learned to add the <code>jaxb</code> and <code>jaxws</code> dependencies explicitly.  Now I have come across an odd case.</p>\n<p>I have one module that uses package <code>javax.jws</code> and class <code>javax.jws.WebService</code>.  My development environment has <code>jaxws-ri.zip</code> version 2.3.6.  This contains <code>jaxws-rt.jar</code>.  Our repo also has <code>jaxws-rt</code> version 2.1.7, which I am already including in the dependency list.</p>\n<p>I have the following snippets in the module's <code>ivy.xml</code> file:</p>\n<pre><code>&lt;dependency org=&quot;com.sun.xml.ws&quot; name=&quot;jaxws-rt&quot; rev=&quot;2.1.7&quot; transitive=&quot;false&quot; /&gt;\n&lt;dependency org=&quot;com.sun.xml.ws&quot; name=&quot;jaxws-ri&quot; rev=&quot;2.3.6&quot;&gt;\n  &lt;artifact name=&quot;jaxws-ri&quot; type=&quot;zip&quot; /&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><code>jaxws-ri.zip</code> extracts at compile time into the module subdirectory <code>dependency/java/jaxws-ri/jaxws-ri</code>.  The <code>lib</code> directory then contains <code>jaxws-rt.jar</code>.  I was able to use this version of the jar to pre-compile generated Java classes.  Now I need to use this version <strong>from the zip archive</strong> instead of the repository to compile the module.</p>\n<p>So.  How do I build this module using <strong>this</strong> version of <code>jaxws-rt.jar</code> (or if needed other jars from the zip archive) instead of the repo's version?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1698691840,"post_id":77390871,"comment_id":136435013,"body_markdown":"`CardType` (aka `Suit`) could be an enum, and use a [converter](https://www.baeldung.com/jpa-persisting-enums-in-jpa#converter) for persistence.","body":"<code>CardType</code> (aka <code>Suit</code>) could be an enum, and use a <a href=\"https://www.baeldung.com/jpa-persisting-enums-in-jpa#converter\" rel=\"nofollow noreferrer\">converter</a> for persistence."},{"owner":{"account_id":19283000,"reputation":45,"user_id":14094644,"display_name":"PaulerLeOne"},"score":0,"creation_date":1698699398,"post_id":77390871,"comment_id":136436160,"body_markdown":"Thanks, your comment helped me a lot!","body":"Thanks, your comment helped me a lot!"}],"owner":{"account_id":19283000,"reputation":45,"user_id":14094644,"display_name":"PaulerLeOne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698688505,"creation_date":1698688505,"question_id":77390871,"body_markdown":"I wanted to make an entity class with an attribute that references one of many predefined instances of a class. \r\n\r\nIn this example I want Card objects to have an attribute that references one of four predifined CardTypes (club, diamond, spade, heart).\r\n```\r\n@Entity\r\npublic class Card{\r\n    @Id\r\n    @GeneratedValue\r\n    protected int id;\r\n    private int type;\r\n\r\n    public CardType getType(){\r\n        return CardType.idToInstance(type);\r\n    }\r\n\r\n    public void setType(CardType cardType){\r\n        type = CardType.instanceToId(cardType);\r\n    }\r\n\r\n    public static class CardType {\r\n        String picture;\r\n        String color;\r\n        \r\n        public static final CardType ClubCard = new CardType(&quot;club&quot;,&quot;black&quot;);\r\n        public static final CardType DiamondCard = new CardType(&quot;diamond&quot;,&quot;red&quot;);\r\n        public static final CardType SpadeCard = new CardType(&quot;spade&quot;,&quot;black&quot;);\r\n        public static final CardType HeartCard = new CardType(&quot;heart&quot;,&quot;red&quot;);\r\n\r\n        private CardType(String picture, String color) {\r\n            this.picture = picture;\r\n            this.color = color;\r\n        }\r\n\r\n        public static CardType idToInstance(int type){\r\n\r\n        }\r\n\r\n        public static int instanceToId(CardType cardType){\r\n            \r\n        }\r\n    }\r\n```\r\nHow could I implement this?","title":"How do I map an attribute that references a static instance using JPA?","body":"<p>I wanted to make an entity class with an attribute that references one of many predefined instances of a class.</p>\n<p>In this example I want Card objects to have an attribute that references one of four predifined CardTypes (club, diamond, spade, heart).</p>\n<pre><code>@Entity\npublic class Card{\n    @Id\n    @GeneratedValue\n    protected int id;\n    private int type;\n\n    public CardType getType(){\n        return CardType.idToInstance(type);\n    }\n\n    public void setType(CardType cardType){\n        type = CardType.instanceToId(cardType);\n    }\n\n    public static class CardType {\n        String picture;\n        String color;\n        \n        public static final CardType ClubCard = new CardType(&quot;club&quot;,&quot;black&quot;);\n        public static final CardType DiamondCard = new CardType(&quot;diamond&quot;,&quot;red&quot;);\n        public static final CardType SpadeCard = new CardType(&quot;spade&quot;,&quot;black&quot;);\n        public static final CardType HeartCard = new CardType(&quot;heart&quot;,&quot;red&quot;);\n\n        private CardType(String picture, String color) {\n            this.picture = picture;\n            this.color = color;\n        }\n\n        public static CardType idToInstance(int type){\n\n        }\n\n        public static int instanceToId(CardType cardType){\n            \n        }\n    }\n</code></pre>\n<p>How could I implement this?</p>\n"},{"tags":["java","reflection","java-bytecode-asm","bytecode-manipulation"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1698693944,"post_id":77390795,"comment_id":136435393,"body_markdown":"How is that class &quot;restricted from being transformed by ASM&quot;? ASM just parses and writes java bytecode.","body":"How is that class &quot;restricted from being transformed by ASM&quot;? ASM just parses and writes java bytecode."},{"owner":{"account_id":13450037,"reputation":67,"user_id":9705087,"display_name":"ABadHaiku"},"score":0,"creation_date":1698707652,"post_id":77390795,"comment_id":136437035,"body_markdown":"@JohannesKuhn Certain classes, like transformers and other classes that create transformers, are not allowed to be transformer targets themselves in this ecosystem.","body":"@JohannesKuhn Certain classes, like transformers and other classes that create transformers, are not allowed to be transformer targets themselves in this ecosystem."},{"owner":{"account_id":6629323,"reputation":2067,"user_id":5118465,"accept_rate":75,"display_name":"Henning Luther"},"score":0,"creation_date":1698719050,"post_id":77390795,"comment_id":136438028,"body_markdown":"you might override a class with a classloader when you have the source of the orignial you can override that one in your project, or mix the new and old code by just adding  the method","body":"you might override a class with a classloader when you have the source of the orignial you can override that one in your project, or mix the new and old code by just adding  the method"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1698746518,"post_id":77390795,"comment_id":136441489,"body_markdown":"If, as your comment implies, the ecosystem forbids *any* transformation there is no sense in asking for doing it “without ASM”, as whether you use ASM or not is not relevant to the restriction. Besides that, it’s not clear why it should matter whether Reflection is used or not. Changing a method in this way breaks *all* callers.","body":"If, as your comment implies, the ecosystem forbids <i>any</i> transformation there is no sense in asking for doing it “without ASM”, as whether you use ASM or not is not relevant to the restriction. Besides that, it’s not clear why it should matter whether Reflection is used or not. Changing a method in this way breaks <i>all</i> callers."},{"owner":{"account_id":13450037,"reputation":67,"user_id":9705087,"display_name":"ABadHaiku"},"score":0,"creation_date":1698789968,"post_id":77390795,"comment_id":136449687,"body_markdown":"@Holger It only forbids it from being targeted by an ASM class transformer; it doesn&#39;t stop it from potentially being changed through other less-intuitive ways such as declaring a method on a Groovy metaclass or another way that I am not currently aware of.  I&#39;ve heard someone mention in a thread off-hand that there was a way to do what I need but with the side effect of the injected method only being accessible by reflection.  Since the only callers of this method are using reflection anyway, that wouldn&#39;t pose a problem.","body":"@Holger It only forbids it from being targeted by an ASM class transformer; it doesn&#39;t stop it from potentially being changed through other less-intuitive ways such as declaring a method on a Groovy metaclass or another way that I am not currently aware of.  I&#39;ve heard someone mention in a thread off-hand that there was a way to do what I need but with the side effect of the injected method only being accessible by reflection.  Since the only callers of this method are using reflection anyway, that wouldn&#39;t pose a problem."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1698827899,"post_id":77390795,"comment_id":136453252,"body_markdown":"How does it even know whether it has been transformed using ASM or “through other less-intuitive ways”?","body":"How does it even know whether it has been transformed using ASM or “through other less-intuitive ways”?"},{"owner":{"account_id":13450037,"reputation":67,"user_id":9705087,"display_name":"ABadHaiku"},"score":0,"creation_date":1698872554,"post_id":77390795,"comment_id":136461387,"body_markdown":"Custom ClassLoader implementation that places modules onto the classpath at runtime. Useful for an ecosystem built off of transforming another source, like for game modding.  Only classes that aren&#39;t restricted from being ASM-transformed get passed to the group of ASM class transformers; normally, you&#39;d restrict your class transformer from being transformed to prevent weird stuff from happening like the transformer trying to transform itself or something, but this library disallowed all of its files from being targeted by ASM transformers.  It doesn&#39;t stop any non-ASM methods, though.","body":"Custom ClassLoader implementation that places modules onto the classpath at runtime. Useful for an ecosystem built off of transforming another source, like for game modding.  Only classes that aren&#39;t restricted from being ASM-transformed get passed to the group of ASM class transformers; normally, you&#39;d restrict your class transformer from being transformed to prevent weird stuff from happening like the transformer trying to transform itself or something, but this library disallowed all of its files from being targeted by ASM transformers.  It doesn&#39;t stop any non-ASM methods, though."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1698918784,"post_id":77390795,"comment_id":136466279,"body_markdown":"“that places modules onto the classpath at runtime” contains two contradictions at once. Modules are never placed on the classpath. Further, loading classes through a custom class loader does not place them on the classpath. But the main problem with your explanation is this mythical entity “the group of ASM class transformers”. A class using the ASM library does not become member of some “group of ASM class transformers”. Did you know that even the JDK itself uses the ASM library under the hood?","body":"“that places modules onto the classpath at runtime” contains two contradictions at once. Modules are never placed on the classpath. Further, loading classes through a custom class loader does not place them on the classpath. But the main problem with your explanation is this mythical entity “the group of ASM class transformers”. A class using the ASM library does not become member of some “group of ASM class transformers”. Did you know that even the JDK itself uses the ASM library under the hood?"},{"owner":{"account_id":13450037,"reputation":67,"user_id":9705087,"display_name":"ABadHaiku"},"score":0,"creation_date":1699007375,"post_id":77390795,"comment_id":136479362,"body_markdown":"@Holger Dude, I&#39;m using Minecraft Forge. In your coremod, you tell it where your `IClassTransformer` implementations are and it calls their `transform` methods with each class as they&#39;re loaded. While being loaded, if a class has been marked as an ASM-exclusion, the method won&#39;t be called on it. All mod and coremod jars are also searched for and added to the classloader at runtime. I may be getting your specific terms wrong, but I know what I&#39;m talking about. Now can you please stop looking for a &quot;gotcha&quot; and actually help? I know the JVM supports this, I just don&#39;t know the way to do it.","body":"@Holger Dude, I&#39;m using Minecraft Forge. In your coremod, you tell it where your <code>IClassTransformer</code> implementations are and it calls their <code>transform</code> methods with each class as they&#39;re loaded. While being loaded, if a class has been marked as an ASM-exclusion, the method won&#39;t be called on it. All mod and coremod jars are also searched for and added to the classloader at runtime. I may be getting your specific terms wrong, but I know what I&#39;m talking about. Now can you please stop looking for a &quot;gotcha&quot; and actually help? I know the JVM supports this, I just don&#39;t know the way to do it."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699007970,"post_id":77390795,"comment_id":136479465,"body_markdown":"Don’t blame others for your inability to ask a meaningful question. If you want to know how to do class transformation without using Minecraft’s framework, ask how to do class transformation without using Minecraft’s framework. How is anyone supposed to know that you have a Minecraft specific problem when you keep talking about the entirely unrelated ASM library? Now that you managed to tell about your actual problem, after only five days, [edit] your question so that readers don’t have to search the comments to find the only useful information.","body":"Don’t blame others for your inability to ask a meaningful question. If you want to know how to do class transformation without using Minecraft’s framework, ask how to do class transformation without using Minecraft’s framework. How is anyone supposed to know that you have a Minecraft specific problem when you keep talking about the entirely unrelated ASM library? Now that you managed to tell about your actual problem, after only five days, <a href=\"https://stackoverflow.com/posts/77390795/edit\">edit</a> your question so that readers don’t have to search the comments to find the only useful information."},{"owner":{"account_id":13450037,"reputation":67,"user_id":9705087,"display_name":"ABadHaiku"},"score":0,"creation_date":1699010704,"post_id":77390795,"comment_id":136479904,"body_markdown":"@Holger Because it&#39;s not a Minecraft-specific question. The only things that matter are that I a) want to inject a method into a class and b) can&#39;t use ASM, two things that I already detailed in the question. You&#39;re the one who&#39;s spent the last five days pushing for information that didn&#39;t matter.","body":"@Holger Because it&#39;s not a Minecraft-specific question. The only things that matter are that I a) want to inject a method into a class and b) can&#39;t use ASM, two things that I already detailed in the question. You&#39;re the one who&#39;s spent the last five days pushing for information that didn&#39;t matter."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1699011326,"post_id":77390795,"comment_id":136480031,"body_markdown":"You problem is that an `IClassTransformer` will not be called for the code of another `IClassTransformer`. That’s regardless of whether the `IClassTransformer` uses ASM or not. If, on the other hand, you implement the class transformation without that framework, e.g. using the `ClassFileTransformer` of the Instrumentation API, you don’t have the problem but still can use the ASM library. As said, the JDK itself uses the ASM library as well and is not stopped, as it does not depend on `IClassTransformer`. Stop confusing Minecraft’s `IClassTransformer` with ASM and you’re halfway to a solution.","body":"You problem is that an <code>IClassTransformer</code> will not be called for the code of another <code>IClassTransformer</code>. That’s regardless of whether the <code>IClassTransformer</code> uses ASM or not. If, on the other hand, you implement the class transformation without that framework, e.g. using the <code>ClassFileTransformer</code> of the Instrumentation API, you don’t have the problem but still can use the ASM library. As said, the JDK itself uses the ASM library as well and is not stopped, as it does not depend on <code>IClassTransformer</code>. Stop confusing Minecraft’s <code>IClassTransformer</code> with ASM and you’re halfway to a solution."},{"owner":{"account_id":13450037,"reputation":67,"user_id":9705087,"display_name":"ABadHaiku"},"score":0,"creation_date":1699011477,"post_id":77390795,"comment_id":136480052,"body_markdown":"Ok, thank you for giving me a solution that uses ASM. Using a non-API ASM transformer implementation is not an option. Do you have any solutions that don&#39;t require ASM?","body":"Ok, thank you for giving me a solution that uses ASM. Using a non-API ASM transformer implementation is not an option. Do you have any solutions that don&#39;t require ASM?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699886269,"post_id":77390795,"comment_id":136583612,"body_markdown":"What is “non-API ASM transformer implementation” supposed to mean? You can use ASM, BCEL, Javassist, some other library, or create the necessary byte array by hand, it all doesn’t matter. The only thing that matters, is how you turn the processed byte array into a modification of the class. There are only two options, either you use the API that does not allow you to do what you want to do, or you use a different API, like the Instrumentation API.","body":"What is “non-API ASM transformer implementation” supposed to mean? You can use ASM, BCEL, Javassist, some other library, or create the necessary byte array by hand, it all doesn’t matter. The only thing that matters, is how you turn the processed byte array into a modification of the class. There are only two options, either you use the API that does not allow you to do what you want to do, or you use a different API, like the Instrumentation API."},{"owner":{"account_id":13450037,"reputation":67,"user_id":9705087,"display_name":"ABadHaiku"},"score":0,"creation_date":1699974493,"post_id":77390795,"comment_id":136596217,"body_markdown":"@Holger Those other methods sound like great ideas! That&#39;s the kind of thing I was asking for!  I don&#39;t want to implement my own different version of one of ASM&#39;s class transformers since there&#39;s already an API for that in that environment, but something else that DOESN&#39;T directly use ASM would have less of a chance of conflicting with the API.  However, I&#39;d prefer some way of directly injecting the method declaration into the Class object&#39;s declared methods if that&#39;s at all possible. I&#39;ll edit the question to be clearer about that.","body":"@Holger Those other methods sound like great ideas! That&#39;s the kind of thing I was asking for!  I don&#39;t want to implement my own different version of one of ASM&#39;s class transformers since there&#39;s already an API for that in that environment, but something else that DOESN&#39;T directly use ASM would have less of a chance of conflicting with the API.  However, I&#39;d prefer some way of directly injecting the method declaration into the Class object&#39;s declared methods if that&#39;s at all possible. I&#39;ll edit the question to be clearer about that."}],"owner":{"account_id":13450037,"reputation":67,"user_id":9705087,"display_name":"ABadHaiku"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698687795,"creation_date":1698687795,"question_id":77390795,"body_markdown":"In past versions of the bytecode manipulation framework Mixin, there was a method called `prepareConfigs(MixinEnvironment)`.  A nonstandard, but *very* commonly-used, way to bootstrap Mixins at a certain phase of the lifecycle was to access and call that method using Reflection.\r\n\r\nIn later versions of the framework, that method&#39;s signature has been changed to `prepareConfigs(MixinEnvironment, Extensions)`, causing the Reflection-based usages to break.\r\n\r\nThe owner of the library has made it clear that breaking this was intentional and will not allow a fix.  However, even though it was bad practice to use that strategy, the usage was common enough that end-users are unable to use many apps that relied on the framework.  \r\n\r\nI would like to make a compatibility patch that adds the old method back to the class to stop the crashes.  Problem is, this requires injecting a method into a class that is *restricted from being transformed by ASM*.\r\n\r\nThe *only* requirement is that the method does not throw a `NoSuchMethodException` when accessed via reflection, since I&#39;m easily able to implement their intended behavior somewhere else.  It doesn&#39;t actually need to do anything, it just needs to stop the exception from being thrown.\r\n\r\nI&#39;ve heard people offhand-mention a way to declare class members that can only be accessed by Reflection, but I couldn&#39;t find any details on it.\r\n\r\nIs there a way to do what I need without ASM?","title":"How to inject a method into a class at runtime without ASM?","body":"<p>In past versions of the bytecode manipulation framework Mixin, there was a method called <code>prepareConfigs(MixinEnvironment)</code>.  A nonstandard, but <em>very</em> commonly-used, way to bootstrap Mixins at a certain phase of the lifecycle was to access and call that method using Reflection.</p>\n<p>In later versions of the framework, that method's signature has been changed to <code>prepareConfigs(MixinEnvironment, Extensions)</code>, causing the Reflection-based usages to break.</p>\n<p>The owner of the library has made it clear that breaking this was intentional and will not allow a fix.  However, even though it was bad practice to use that strategy, the usage was common enough that end-users are unable to use many apps that relied on the framework.</p>\n<p>I would like to make a compatibility patch that adds the old method back to the class to stop the crashes.  Problem is, this requires injecting a method into a class that is <em>restricted from being transformed by ASM</em>.</p>\n<p>The <em>only</em> requirement is that the method does not throw a <code>NoSuchMethodException</code> when accessed via reflection, since I'm easily able to implement their intended behavior somewhere else.  It doesn't actually need to do anything, it just needs to stop the exception from being thrown.</p>\n<p>I've heard people offhand-mention a way to declare class members that can only be accessed by Reflection, but I couldn't find any details on it.</p>\n<p>Is there a way to do what I need without ASM?</p>\n"},{"tags":["java","apache-poi","ms-office","digital-signature","hardware-security-module"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1695582101,"post_id":77168095,"comment_id":136040310,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":29523556,"reputation":41,"user_id":22625743,"display_name":"Dat Nguyen"},"score":0,"creation_date":1696779717,"post_id":77168095,"comment_id":136194128,"body_markdown":"Can anyone help me. plz","body":"Can anyone help me. plz"},{"owner":{"account_id":144111,"reputation":996,"user_id":352920,"accept_rate":50,"display_name":"rip..."},"score":0,"creation_date":1697577838,"post_id":77168095,"comment_id":136296782,"body_markdown":"How are you connecting to the HSM, via Sun.PKCS11, or via the Utimaco JCE provider?  Regardless of which technique, please put the operational parts of the config file(s) into your post so I can see what you are trying.","body":"How are you connecting to the HSM, via Sun.PKCS11, or via the Utimaco JCE provider?  Regardless of which technique, please put the operational parts of the config file(s) into your post so I can see what you are trying."},{"owner":{"account_id":144111,"reputation":996,"user_id":352920,"accept_rate":50,"display_name":"rip..."},"score":0,"creation_date":1697578099,"post_id":77168095,"comment_id":136296817,"body_markdown":"The proper use case for signing is for the application to send the data to the HSM (or a digest of the data, or similar), with a key handle or encrypted blob.  The HSM prepares the key, signs the artifact, and returns the signature.  It sounds like Poi wants to extract the key and then do the signing itself (which is how P12/pfx files are treated).  Poi appears to be available on Github, so I&#39;ll look through it to see if there is anything relevant, that will tell me what it&#39;s doing.","body":"The proper use case for signing is for the application to send the data to the HSM (or a digest of the data, or similar), with a key handle or encrypted blob.  The HSM prepares the key, signs the artifact, and returns the signature.  It sounds like Poi wants to extract the key and then do the signing itself (which is how P12/pfx files are treated).  Poi appears to be available on Github, so I&#39;ll look through it to see if there is anything relevant, that will tell me what it&#39;s doing."},{"owner":{"account_id":144111,"reputation":996,"user_id":352920,"accept_rate":50,"display_name":"rip..."},"score":0,"creation_date":1697578713,"post_id":77168095,"comment_id":136296911,"body_markdown":"And, there are several versions of Poi, would be helpful to include which version you are using.  This is true for any question you create on the StOve, more info is better.","body":"And, there are several versions of Poi, would be helpful to include which version you are using.  This is true for any question you create on the StOve, more info is better."},{"owner":{"account_id":144111,"reputation":996,"user_id":352920,"accept_rate":50,"display_name":"rip..."},"score":0,"creation_date":1697579841,"post_id":77168095,"comment_id":136297067,"body_markdown":"right.  https://poi.apache.org/encryption.html - &quot;Signing a file&quot; Line 12, &#39;...extracting private key...&quot;.  so the example code doesn&#39;t help.  So, need to know what you are doing, how you have it set up, and what code you are running.","body":"right.  <a href=\"https://poi.apache.org/encryption.html\" rel=\"nofollow noreferrer\">poi.apache.org/encryption.html</a> - &quot;Signing a file&quot; Line 12, &#39;...extracting private key...&quot;.  so the example code doesn&#39;t help.  So, need to know what you are doing, how you have it set up, and what code you are running."},{"owner":{"account_id":29523556,"reputation":41,"user_id":22625743,"display_name":"Dat Nguyen"},"score":0,"creation_date":1698479823,"post_id":77168095,"comment_id":136413374,"body_markdown":"Hi rip... . I post my code below. Can you help me where do I need to change?","body":"Hi rip... . I post my code below. Can you help me where do I need to change?"}],"answers":[{"tags":[],"owner":{"account_id":29523556,"reputation":41,"user_id":22625743,"display_name":"Dat Nguyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698687519,"creation_date":1698479668,"answer_id":77378550,"question_id":77168095,"body_markdown":"This is my method to connect HSM by IAIK. I use sample sign document of POI in github. \r\n\r\n    public IAIKPkcs11 initProvider() throws KMSException {\r\n\t\tProperties pkcs11ProviderConfig = new Properties();\r\n\t\tpkcs11ProviderConfig.setProperty(Constants.PKCS11_NATIVE_MODULE, pkcs11Module);\r\n\t\tModule pkcs11Module = IAIKPkcs11.getModule(pkcs11ProviderConfig);\r\n\t\ttry {\r\n\t\t\tlog.info(&quot; ********** Connect HSM **********&quot;);\r\n\t\t\tlog.info(&quot; **/  PKCS#11 Module: &quot; + pkcs11Module + &quot;  /**&quot;);\r\n\t\t\tlog.info(&quot; **/  Slot Label: &quot; + slotLabel + &quot;  /**&quot;);\r\n\t\t\tlog.info(&quot; **/  Slot Pin: &quot; + StringCommon.hidePinCode(slotPin) + &quot;  /**&quot;);\r\n\t\t\tSlot[] slotList = pkcs11Module.getSlotList(Module.SlotRequirement.ALL_SLOTS);\r\n\t\t\tInteger slotIndex = null;\r\n\t\t\tString slotID = &quot;&quot;;\r\n\t\t\tfor (int i = 0; i &lt; slotList.length; i++) {\r\n\t\t\t\tif (!StringUtils.isBlank(slotList[i].getToken().getTokenInfo().getLabel())\r\n\t\t\t\t\t\t&amp;&amp; slotLabel.trim().equals(slotList[i].getToken().getTokenInfo().getLabel().trim())) {\r\n\t\t\t\t\tslotIndex = i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tslotID = &quot;[&quot; + String.valueOf(slotIndex) + &quot;]&quot;;\r\n\t\t\tpkcs11ProviderConfig.setProperty(Constants.SLOT_ID, slotID);\r\n\t\t\tpkcs11ProviderConfig.setProperty(Constants.USER_PIN, slotPin);\r\n\t\t\tIAIKPkcs11 pkcs11Provider = new IAIKPkcs11(pkcs11ProviderConfig);\r\n\t\t\tSecurity.addProvider(pkcs11Provider);\r\n\t\t\tlog.info(&quot; **/  Provider Info: &quot; + pkcs11Provider + &quot;  /**&quot;);\r\n\t\t\tlog.info(&quot; ********** Connect HSM **********&quot;);\r\n\t\t\treturn pkcs11Provider;\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\tSentry.captureException(e);\r\n\t\t\tlog.error(e.getMessage());\r\n\t\t\tthrow new KMSException(ErrorCode.ERROR_CONNECT_HSM, e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n\r\nAnd this is sign method:\r\n\r\n    OPCPackage pkg = null;\r\n                            try {\r\n                                pkg = OPCPackage.open(tempDoc);\r\n                            } catch (InvalidFormatException ex) {\r\n                                ex.printStackTrace();\r\n                            }\r\n                            Provider provider = null;\r\n                            if (StringUtils.equalsIgnoreCase(env.getProperty(&quot;hsm.test&quot;), Constant.TRUE)) {\r\n                                provider = new BouncyCastleProvider();\r\n                                Security.addProvider(provider);\r\n                            } else {\r\n                                ProviderConfig providerConfig = new ProviderConfig(cryptoSource.getModule(), cryptoSource.getSlot(),\r\n                                        cryptoSource.getPin());\r\n                                provider = providerConfig.getProvider();\r\n                                Security.addProvider(provider);\r\n                            }\r\n                            SignatureConfig sic = new SignatureConfig();\r\n                            sic.setKey(keyAndCert.getPrivateKey());\r\n                           sic.setSigningCertificateChain(Collections.singletonList(keyAndCert.getCertificate()));\r\n                            sic.setIncludeEntireCertificateChain(false);\r\n                            sic.setSignatureDescription(&quot;Th&#237;ch&quot;);\r\n                            sic.setExecutionTime(new Date());\r\n\r\n                            SignatureInfo si = new SignatureInfo();\r\n                            si.setSignatureConfig(sic);\r\n                            si.setOpcPackage(pkg);\r\n                            si.confirmSignature();\r\n\r\n                           boolean b = si.verifySignature();\r\n                           assert (b);\r\n                            pkg.close();\r\n                            byte[] bFile = FileUtils.readFileToByteArray(new File(tempDoc));\r\n                            if (StringUtils.equalsIgnoreCase(env.getProperty(&quot;hsm.test&quot;), Constant.TRUE)) {\r\n\r\n                                String DEST = &quot;F://&quot; + UUID.randomUUID() + &quot;.doc&quot;;\r\n                                File f = new File(DEST);\r\n                                FileOutputStream outputStream = new FileOutputStream(f);\r\n                                outputStream.write(bFile);\r\n                                outputStream.flush();\r\n                                outputStream.close();\r\n                            }","title":"Digital Sign A Document with Apache Poi by HSM","body":"<p>This is my method to connect HSM by IAIK. I use sample sign document of POI in github.</p>\n<pre><code>public IAIKPkcs11 initProvider() throws KMSException {\n    Properties pkcs11ProviderConfig = new Properties();\n    pkcs11ProviderConfig.setProperty(Constants.PKCS11_NATIVE_MODULE, pkcs11Module);\n    Module pkcs11Module = IAIKPkcs11.getModule(pkcs11ProviderConfig);\n    try {\n        log.info(&quot; ********** Connect HSM **********&quot;);\n        log.info(&quot; **/  PKCS#11 Module: &quot; + pkcs11Module + &quot;  /**&quot;);\n        log.info(&quot; **/  Slot Label: &quot; + slotLabel + &quot;  /**&quot;);\n        log.info(&quot; **/  Slot Pin: &quot; + StringCommon.hidePinCode(slotPin) + &quot;  /**&quot;);\n        Slot[] slotList = pkcs11Module.getSlotList(Module.SlotRequirement.ALL_SLOTS);\n        Integer slotIndex = null;\n        String slotID = &quot;&quot;;\n        for (int i = 0; i &lt; slotList.length; i++) {\n            if (!StringUtils.isBlank(slotList[i].getToken().getTokenInfo().getLabel())\n                    &amp;&amp; slotLabel.trim().equals(slotList[i].getToken().getTokenInfo().getLabel().trim())) {\n                slotIndex = i;\n                break;\n            }\n        }\n        slotID = &quot;[&quot; + String.valueOf(slotIndex) + &quot;]&quot;;\n        pkcs11ProviderConfig.setProperty(Constants.SLOT_ID, slotID);\n        pkcs11ProviderConfig.setProperty(Constants.USER_PIN, slotPin);\n        IAIKPkcs11 pkcs11Provider = new IAIKPkcs11(pkcs11ProviderConfig);\n        Security.addProvider(pkcs11Provider);\n        log.info(&quot; **/  Provider Info: &quot; + pkcs11Provider + &quot;  /**&quot;);\n        log.info(&quot; ********** Connect HSM **********&quot;);\n        return pkcs11Provider;\n    } catch (Exception e) {\n        // TODO: handle exception\n        Sentry.captureException(e);\n        log.error(e.getMessage());\n        throw new KMSException(ErrorCode.ERROR_CONNECT_HSM, e.getMessage());\n    }\n}\n</code></pre>\n<p>And this is sign method:</p>\n<pre><code>OPCPackage pkg = null;\n                        try {\n                            pkg = OPCPackage.open(tempDoc);\n                        } catch (InvalidFormatException ex) {\n                            ex.printStackTrace();\n                        }\n                        Provider provider = null;\n                        if (StringUtils.equalsIgnoreCase(env.getProperty(&quot;hsm.test&quot;), Constant.TRUE)) {\n                            provider = new BouncyCastleProvider();\n                            Security.addProvider(provider);\n                        } else {\n                            ProviderConfig providerConfig = new ProviderConfig(cryptoSource.getModule(), cryptoSource.getSlot(),\n                                    cryptoSource.getPin());\n                            provider = providerConfig.getProvider();\n                            Security.addProvider(provider);\n                        }\n                        SignatureConfig sic = new SignatureConfig();\n                        sic.setKey(keyAndCert.getPrivateKey());\n                       sic.setSigningCertificateChain(Collections.singletonList(keyAndCert.getCertificate()));\n                        sic.setIncludeEntireCertificateChain(false);\n                        sic.setSignatureDescription(&quot;Thích&quot;);\n                        sic.setExecutionTime(new Date());\n\n                        SignatureInfo si = new SignatureInfo();\n                        si.setSignatureConfig(sic);\n                        si.setOpcPackage(pkg);\n                        si.confirmSignature();\n\n                       boolean b = si.verifySignature();\n                       assert (b);\n                        pkg.close();\n                        byte[] bFile = FileUtils.readFileToByteArray(new File(tempDoc));\n                        if (StringUtils.equalsIgnoreCase(env.getProperty(&quot;hsm.test&quot;), Constant.TRUE)) {\n\n                            String DEST = &quot;F://&quot; + UUID.randomUUID() + &quot;.doc&quot;;\n                            File f = new File(DEST);\n                            FileOutputStream outputStream = new FileOutputStream(f);\n                            outputStream.write(bFile);\n                            outputStream.flush();\n                            outputStream.close();\n                        }\n</code></pre>\n"}],"owner":{"account_id":29523556,"reputation":41,"user_id":22625743,"display_name":"Dat Nguyen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698687519,"creation_date":1695574918,"question_id":77168095,"body_markdown":"I try to sign a Office Document with HSM in java.\r\nWhen I use  p12 or pfx file. Sign success and no problem. But when I try to use HSM (Utimaco) to do that, I have a Exeption: java.lang.UnsupportedOperationException: Private Exponent value is sensitive.\r\nMay be in Apache Poi, load private key from HSM is not allowed.\r\nI can sign pdf( with itext) ỏ sign XML with HSM =&gt; no problem\r\n\r\nWhat should I do in this case?\r\n\r\nI hope someone have solution for my case and help me.\r\nThank so much!","title":"Digital Sign A Document with Apache Poi by HSM","body":"<p>I try to sign a Office Document with HSM in java.\nWhen I use  p12 or pfx file. Sign success and no problem. But when I try to use HSM (Utimaco) to do that, I have a Exeption: java.lang.UnsupportedOperationException: Private Exponent value is sensitive.\nMay be in Apache Poi, load private key from HSM is not allowed.\nI can sign pdf( with itext) ỏ sign XML with HSM =&gt; no problem</p>\n<p>What should I do in this case?</p>\n<p>I hope someone have solution for my case and help me.\nThank so much!</p>\n"},{"tags":["java","methods","compiler-errors","computer-science"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1698641443,"post_id":77386082,"comment_id":136426541,"body_markdown":"By the way, if the main purpose of your class is to transparently communicate immutable data, make the class a [record](https://openjdk.org/jeps/395): `record PlayingCard ( int value ,  String suit ) {}`  The compiler implicitly creates the constructor, getters, `hashCode` &amp; `equals`, and `toString`.","body":"By the way, if the main purpose of your class is to transparently communicate immutable data, make the class a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a>: <code>record PlayingCard ( int value ,  String suit ) {}</code>  The compiler implicitly creates the constructor, getters, <code>hashCode</code> &amp; <code>equals</code>, and <code>toString</code>."}],"answers":[{"comments":[{"owner":{"account_id":29645253,"reputation":15,"user_id":22720404,"display_name":"Sheebs"},"score":0,"creation_date":1698911586,"post_id":77386106,"comment_id":136465008,"body_markdown":"Thank you for your help! I tried doing what you said, and it ended up fixing my problems with my code.","body":"Thank you for your help! I tried doing what you said, and it ended up fixing my problems with my code."}],"tags":[],"owner":{"account_id":28902273,"reputation":46,"user_id":22136949,"display_name":"QuagmireFromFamGuy"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1698641081,"creation_date":1698637205,"answer_id":77386106,"question_id":77386082,"body_markdown":"## `void` \r\n\r\nI&#39;m pretty new programmer too so bear with me, I don&#39;t think your setter methods should return anything. Usually they&#39;re void and look something like:\r\n\r\n```java\r\npublic void setSuit(String assignedSuit){\r\n    suit = assignedSuit;\r\n}\r\n```\r\n\r\nThis code means whenever you call upon your setSuit method with the a string parameter assignedSuit it can change the suit variable of your card object.\r\n\r\nI think your getter methods are fine though. Hope this helps.","title":"How would I write the getter and setter methods for my class?","body":"<h2><code>void</code></h2>\n<p>I'm pretty new programmer too so bear with me, I don't think your setter methods should return anything. Usually they're void and look something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setSuit(String assignedSuit){\n    suit = assignedSuit;\n}\n</code></pre>\n<p>This code means whenever you call upon your setSuit method with the a string parameter assignedSuit it can change the suit variable of your card object.</p>\n<p>I think your getter methods are fine though. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":29646400,"reputation":21,"user_id":22721305,"display_name":"kunli"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698687491,"creation_date":1698642077,"answer_id":77386293,"question_id":77386082,"body_markdown":"set() methods should not have a return. void type should be used.\r\n\r\n    class PlayingCard\r\n    {\r\n        int value;\r\n        String suit;\r\n    \r\n        public int getValue() {\r\n            return value;\r\n        }\r\n    \r\n        public void setValue(int value) {\r\n            this.value = value;\r\n        }\r\n    \r\n        public String getSuit() {\r\n            return suit;\r\n        }\r\n       \r\n        public void setSuit(String suit) {\r\n            this.suit = suit;\r\n        }\r\n    }","title":"How would I write the getter and setter methods for my class?","body":"<p>set() methods should not have a return. void type should be used.</p>\n<pre><code>class PlayingCard\n{\n    int value;\n    String suit;\n\n    public int getValue() {\n        return value;\n    }\n\n    public void setValue(int value) {\n        this.value = value;\n    }\n\n    public String getSuit() {\n        return suit;\n    }\n   \n    public void setSuit(String suit) {\n        this.suit = suit;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26998458,"reputation":36,"user_id":20560140,"display_name":"JeslynTan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1698662436,"creation_date":1698662436,"answer_id":77387960,"question_id":77386082,"body_markdown":"An alternative to that will be\r\n\r\nAdding these: \r\n\r\n    @Getter\r\n    @Setter\r\n\r\nbefore starting your &quot;public class&quot;\r\n\r\nFor example\r\n\r\n    @Getter\r\n    @Setter\r\n    public class PlayingCard\r\n     {\r\n          private int value;\r\n          private String suit;\r\n     }\r\n\r\nthen you will not required to add in get set method one by one\r\n\r\nBy importing the lombok\r\n\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n\r\nP.S. can try to add in &quot;private&quot; before initializing your variable","title":"How would I write the getter and setter methods for my class?","body":"<p>An alternative to that will be</p>\n<p>Adding these:</p>\n<pre><code>@Getter\n@Setter\n</code></pre>\n<p>before starting your &quot;public class&quot;</p>\n<p>For example</p>\n<pre><code>@Getter\n@Setter\npublic class PlayingCard\n {\n      private int value;\n      private String suit;\n }\n</code></pre>\n<p>then you will not required to add in get set method one by one</p>\n<p>By importing the lombok</p>\n<pre><code>import lombok.Getter;\nimport lombok.Setter;\n</code></pre>\n<p>P.S. can try to add in &quot;private&quot; before initializing your variable</p>\n"},{"comments":[{"owner":{"account_id":29645253,"reputation":15,"user_id":22720404,"display_name":"Sheebs"},"score":0,"creation_date":1698911710,"post_id":77388001,"comment_id":136465027,"body_markdown":"If I were to remove my private variables, what would playingCard.value do? Does this do the same as this.value?","body":"If I were to remove my private variables, what would playingCard.value do? Does this do the same as this.value?"}],"tags":[],"owner":{"account_id":28671301,"reputation":11,"user_id":21954316,"display_name":"AdrianSt"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698662830,"creation_date":1698662830,"answer_id":77388001,"question_id":77386082,"body_markdown":"Getter and setter methods in Java are used to control how other classes access and modify an object&#39;s data. They involve making class fields private and providing public methods to retrieve (get) and update (set) these fields. If you don&#39;t care about having private variable then there is no reason to have getter and setter. Then you can just access the variables by writer: `PlayingCard.value`\r\n\r\n\r\n    class PlayingCard {\r\n\r\n    private int value;\r\n    private String suit;\r\n\r\n    public PlayingCard(int value, String suit) {\r\n        this.value = value;\r\n        this.suit = suit;\r\n    }\r\n\r\n    public int getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(int value) {\r\n        this.value = value;\r\n    }\r\n\r\n    public String getSuit() {\r\n        return suit;\r\n    }\r\n\r\n    public void setSuit(String suit) {\r\n        this.suit = suit;\r\n    }\r\n}\r\n    ","title":"How would I write the getter and setter methods for my class?","body":"<p>Getter and setter methods in Java are used to control how other classes access and modify an object's data. They involve making class fields private and providing public methods to retrieve (get) and update (set) these fields. If you don't care about having private variable then there is no reason to have getter and setter. Then you can just access the variables by writer: <code>PlayingCard.value</code></p>\n<pre><code>class PlayingCard {\n\nprivate int value;\nprivate String suit;\n\npublic PlayingCard(int value, String suit) {\n    this.value = value;\n    this.suit = suit;\n}\n\npublic int getValue() {\n    return value;\n}\n\npublic void setValue(int value) {\n    this.value = value;\n}\n\npublic String getSuit() {\n    return suit;\n}\n\npublic void setSuit(String suit) {\n    this.suit = suit;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":29645253,"reputation":15,"user_id":22720404,"display_name":"Sheebs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77386106,"answer_count":4,"score":0,"last_activity_date":1698687491,"creation_date":1698636276,"question_id":77386082,"body_markdown":"I&#39;m a beginner with java and I need to write the get() and set() methods for my PlayingCard class and I need someone to explain why I keep getting an error saying &quot;actual and formal argument lists differ in length&quot;.\r\n\r\nThis is the code that I was given to work with:\r\n\r\n     class PlayingCard\r\n     {\r\n          int value;\r\n          String suit;\r\n     }\r\n\r\nand I have to write these methods:\r\n\r\n- getValue\r\n- getSuit\r\n- setValue\r\n- setSuit\r\n\r\nThis is the last rendition of the code that I tried, but I don&#39;t know why I keep getting the error.\r\n\r\n     public int getValue() {\r\n         return value;\r\n     }\r\n     \r\n     public String getSuit() {\r\n         return suit;\r\n     }\r\n     \r\n     public int setValue() {\r\n         return value;\r\n     }\r\n     \r\n     public String setSuit() {\r\n         return suit;\r\n     }\r\n\r\nI tried to follow the lecture slides that we were given, but nothing seems to be working. As I said before, I&#39;m a newbie at working with java, so I don&#39;t have the eyes to understand what is wrong just yet.\r\n","title":"How would I write the getter and setter methods for my class?","body":"<p>I'm a beginner with java and I need to write the get() and set() methods for my PlayingCard class and I need someone to explain why I keep getting an error saying &quot;actual and formal argument lists differ in length&quot;.</p>\n<p>This is the code that I was given to work with:</p>\n<pre><code> class PlayingCard\n {\n      int value;\n      String suit;\n }\n</code></pre>\n<p>and I have to write these methods:</p>\n<ul>\n<li>getValue</li>\n<li>getSuit</li>\n<li>setValue</li>\n<li>setSuit</li>\n</ul>\n<p>This is the last rendition of the code that I tried, but I don't know why I keep getting the error.</p>\n<pre><code> public int getValue() {\n     return value;\n }\n \n public String getSuit() {\n     return suit;\n }\n \n public int setValue() {\n     return value;\n }\n \n public String setSuit() {\n     return suit;\n }\n</code></pre>\n<p>I tried to follow the lecture slides that we were given, but nothing seems to be working. As I said before, I'm a newbie at working with java, so I don't have the eyes to understand what is wrong just yet.</p>\n"},{"tags":["java","android","sql","logging","ormlite"],"answers":[{"comments":[{"owner":{"account_id":1562580,"reputation":343,"user_id":1452121,"display_name":"Rich Morey"},"score":0,"creation_date":1698347313,"post_id":77362050,"comment_id":136397423,"body_markdown":"I did not try turning on logging via ADB but it doesn&#39;t seem like an idea approach when debugging code on multiple tablets because of OS version, form factor, etc.","body":"I did not try turning on logging via ADB but it doesn&#39;t seem like an idea approach when debugging code on multiple tablets because of OS version, form factor, etc."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1698686981,"post_id":77362050,"comment_id":136434166,"body_markdown":"Your post didn&#39;t mention it but are you talking about programmatic enabling of the logs?  I&#39;ve updated my answer if that is the case.  If not, please edit your question to explain more what you are looking for.","body":"Your post didn&#39;t mention it but are you talking about programmatic enabling of the logs?  I&#39;ve updated my answer if that is the case.  If not, please edit your question to explain more what you are looking for."},{"owner":{"account_id":1562580,"reputation":343,"user_id":1452121,"display_name":"Rich Morey"},"score":0,"creation_date":1698775623,"post_id":77362050,"comment_id":136447557,"body_markdown":"Yes - I would like to turn on logging programmatically so when I am running my app in debug mode the SQL tracing is in the log by default.","body":"Yes - I would like to turn on logging programmatically so when I am running my app in debug mode the SQL tracing is in the log by default."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1700516768,"post_id":77362050,"comment_id":136662127,"body_markdown":"I&#39;ve added more details to my answer @RichMorey.  Let me know if that helps.","body":"I&#39;ve added more details to my answer @RichMorey.  Let me know if that helps."}],"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698686941,"creation_date":1698258270,"answer_id":77362050,"question_id":77332990,"body_markdown":"&gt; I can not for the life of me figure out how to turn on SQL logging.\r\n\r\nAlthough I am the author of ORMLite, I&#39;m not an Android programmer.  There is a section in the [manual about Android logging][1].  Was it not helpful?  I also found this page after a quick Google on [enabling internal logging on Android][2].  It wasn&#39;t helpful.\r\n\r\nHappy to work with you to figure this out if you contact me via my contact page which is clickable off of the [ORMLite homepage][3].\r\n\r\n**Edit:**\r\n\r\nAh I see.  You want to enable the logs programmatically I gather?  The links that I posted give some queues on how to enable the logging:\r\n\r\n    LoggerFactory.setLogBackendFactory(LogBackendType.ANDROID);\r\n\r\nThe general [ORMlite logging docs][4] also talk about programmatic setting of levels, etc..\r\n\r\n    // filter out TRACE messages only\r\n    Logger.setGlobalLogLevel(Level.DEBUG);\r\n\r\n  [1]: https://ormlite.com/docs/android-logging\r\n  [2]: https://blog.log4think.com/how-to-enable-ormlite-internal-log-on-android\r\n  [3]: https://ormlite.com/\r\n  [4]: https://ormlite.com/javadoc/ormlite-core/doc-files/ormlite.html#Logging","title":"ENABLE OrmLite Logging / Android / Java","body":"<blockquote>\n<p>I can not for the life of me figure out how to turn on SQL logging.</p>\n</blockquote>\n<p>Although I am the author of ORMLite, I'm not an Android programmer.  There is a section in the <a href=\"https://ormlite.com/docs/android-logging\" rel=\"nofollow noreferrer\">manual about Android logging</a>.  Was it not helpful?  I also found this page after a quick Google on <a href=\"https://blog.log4think.com/how-to-enable-ormlite-internal-log-on-android\" rel=\"nofollow noreferrer\">enabling internal logging on Android</a>.  It wasn't helpful.</p>\n<p>Happy to work with you to figure this out if you contact me via my contact page which is clickable off of the <a href=\"https://ormlite.com/\" rel=\"nofollow noreferrer\">ORMLite homepage</a>.</p>\n<p><strong>Edit:</strong></p>\n<p>Ah I see.  You want to enable the logs programmatically I gather?  The links that I posted give some queues on how to enable the logging:</p>\n<pre><code>LoggerFactory.setLogBackendFactory(LogBackendType.ANDROID);\n</code></pre>\n<p>The general <a href=\"https://ormlite.com/javadoc/ormlite-core/doc-files/ormlite.html#Logging\" rel=\"nofollow noreferrer\">ORMlite logging docs</a> also talk about programmatic setting of levels, etc..</p>\n<pre><code>// filter out TRACE messages only\nLogger.setGlobalLogLevel(Level.DEBUG);\n</code></pre>\n"}],"owner":{"account_id":1562580,"reputation":343,"user_id":1452121,"display_name":"Rich Morey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698686996,"creation_date":1697825464,"question_id":77332990,"body_markdown":"I have taken over a project where the original developer used OrmLite as the DB library. I can not for the life of me figure out how to turn on SQL logging. I see a lot of posts asking how to turn it OFF but I&#39;m not seeing any logging and I very much would like to. The project is using v6.1 of the library which I believe is the latest. Can someone help me turn on logging for my Java/Android project?\r\n","title":"ENABLE OrmLite Logging / Android / Java","body":"<p>I have taken over a project where the original developer used OrmLite as the DB library. I can not for the life of me figure out how to turn on SQL logging. I see a lot of posts asking how to turn it OFF but I'm not seeing any logging and I very much would like to. The project is using v6.1 of the library which I believe is the latest. Can someone help me turn on logging for my Java/Android project?</p>\n"},{"tags":["java","javafx","gson"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1698657665,"post_id":77387196,"comment_id":136428444,"body_markdown":"It&#39;s possible to solve this with `--add-opens`, but the more appropriate fix is to change your design so you _do not_ try to serialize GUI objects.","body":"It&#39;s possible to solve this with <code>--add-opens</code>, but the more appropriate fix is to change your design so you <i>do not</i> try to serialize GUI objects."},{"owner":{"account_id":29205279,"reputation":1,"user_id":22374507,"display_name":"pedro"},"score":2,"creation_date":1698658940,"post_id":77387196,"comment_id":136428665,"body_markdown":"thanks, I change my design now it works","body":"thanks, I change my design now it works"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1698686728,"post_id":77387196,"comment_id":136434110,"body_markdown":"It is good you got your answer.  For next time, provide a [mcve] and also follow [naming conventions for method names](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html).","body":"It is good you got your answer.  For next time, provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and also follow <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">naming conventions for method names</a>."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1699171627,"post_id":77387196,"comment_id":136495999,"body_markdown":"Maybe you want to take a look at non modular JavaFX applications because you don&#39;t have to bother again with something like this.","body":"Maybe you want to take a look at non modular JavaFX applications because you don&#39;t have to bother again with something like this."}],"owner":{"account_id":29205279,"reputation":1,"user_id":22374507,"display_name":"pedro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698686830,"creation_date":1698654931,"question_id":77387196,"body_markdown":"    java.lang.reflect.InaccessibleObjectException: \r\n    Unable to make field private javafx.beans.property.DoubleProperty javafx.scene.layout.GridPane.hgap accessible: \r\n    module javafx.graphics does not &quot;opens javafx.scene.layout&quot; to unnamed module @5cd04ad4.\r\n\r\nI&#39;m using a Gson library and when I want to serialized My class &#39;Bot&#39; this error occured, I read something on internet about module and VM argument but nothing help me. Someone could help me?\r\n\r\nthis is my code:\r\nclass ControllerCreaPartita.java\r\n\r\n```\r\npackage basic;\r\n\r\nimport java.io.*;\r\nimport java.util.*;\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.stream.JsonReader;\r\nimport com.google.gson.stream.JsonToken;\r\nimport com.google.gson.stream.JsonWriter;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ComboBox;\r\nimport javafx.scene.control.ListCell;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Alert.AlertType;\r\n\r\npublic class ControllerCreaPartita {\r\n\t//variabili di controllo\r\n\tint numeroCarteAGiocatore;\r\n    final int lungCodicePartita=10;\r\n    final int nViteDefault=5;\r\n    Partita prt;\r\n    Mazzo mazzo = new Mazzo();\r\n    ArrayList&lt;Giocatore&gt; giocatoriPrt = new ArrayList&lt;Giocatore&gt;();\r\n    String pathRetroCarta = &quot;/basic/IMGcarte/retro.jpg&quot;;\r\n    int countTurnoGiocatore=0;\r\n    boolean dichiaraPrese=true;\r\n    boolean primoTurno=true;\r\n    String pathStatus = &quot;src/Status.txt&quot;;\r\n    String pathGiocatoriRegistrati = &quot;src/GiocatoriRegistrati.txt&quot;;\r\n    \r\n    @FXML ListView&lt;String&gt; lstGiocatoriRegistrati;\r\n\r\n    //aggiungo alla partita un nuovo utente  \r\n    @FXML ListView&lt;String&gt; listUtentiPartita;\r\n    @FXML Button btnAggiungiUtente;\r\n    @FXML TextField txtNomeUtente; \r\n    @FXML public void AggiungiUtente(ActionEvent actionEvent) {\r\n    \tString nome = txtNomeUtente.getText();\r\n    \t//controllo che non vengano inseriti giocatori con lo stesso nome all&#39;interno della listview listUtentiPartita\r\n    \tif(!nome.trim().equals(&quot;&quot;) &amp;&amp; !listUtentiPartita.getItems().contains(nome) &amp;&amp; !lstGiocatoriRegistrati.getItems().contains(nome)) {\r\n    \t\ttxtNomeUtente.clear();\r\n    \t\tlistUtentiPartita.getItems().add(nome);\r\n    \t\tlstGiocatoriRegistrati.getItems().add(nome);\r\n    \t\tgiocatoriPrt.add(new Giocatore(nome));\r\n    \t\t\r\n    \t\ttry{\r\n\r\n    \t\t\tFileWriter fw = new FileWriter(pathGiocatoriRegistrati, true);\r\n    \t\t\tfw.write(nome + &#39;\\n&#39;);\r\n    \t\t\tfw.close();\r\n    \t\t\t\r\n\t    \t\t} catch (FileNotFoundException FNFe) {\r\n\t    \t\t\t// TODO Auto-generated catch block\r\n\t    \t\t\tFNFe.printStackTrace();\r\n\t    \t\t} catch (IOException IOe) {\r\n\t    \t\t\t// TODO Auto-generated catch block\r\n\t    \t\t\tIOe.printStackTrace();\r\n\t    \t\t}\r\n    \t}else {\r\n    \t\ttxtNomeUtente.clear();\r\n    \t\t\r\n    \t\tAlert alert = new Alert(AlertType.ERROR);\r\n            alert.setTitle(&quot;Errore&quot;);\r\n            alert.setHeaderText(null);\r\n            alert.setContentText(&quot;Il Nickname inserito &#232; gi&#224; stato selezionato da un altro giocatore, riprova con un altro Nickname&quot;);\r\n\r\n            alert.showAndWait();\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    //aggiungo alla partita un utente gi&#224; registrato\r\n    @FXML public void selezionaGiocatore(MouseEvent mouseEvent) {\r\n    \t\r\n        String nome = lstGiocatoriRegistrati.getSelectionModel().getSelectedItem();   \r\n        \r\n        if(!listUtentiPartita.getItems().contains(nome) &amp;&amp; nome != null)\r\n        {\r\n    \t\tlistUtentiPartita.getItems().add(nome);\r\n    \t\tgiocatoriPrt.add(new Giocatore(nome));\t\r\n    \t}\r\n    }\r\n    \r\n\r\n    //aggiungo alla partita un utente robot \r\n    @FXML Button btnAggiungiUtenteRobot;\r\n    @FXML TextField txtNomeUtenteRobot; \r\n    @FXML public void AggiungiUtenteRobot(ActionEvent actionEvent) {\r\n    \tString nome = txtNomeUtenteRobot.getText();\r\n    \t//controllo che non vengano inseriti giocatori con lo stesso nome all&#39;interno della listview listUtentiPartita\r\n    \tif(!nome.trim().equals(&quot;&quot;) &amp;&amp; !listUtentiPartita.getItems().contains(nome) &amp;&amp; !lstGiocatoriRegistrati.getItems().contains(nome)) {\r\n    \t\ttxtNomeUtenteRobot.clear();\r\n    \t\tlistUtentiPartita.getItems().add(nome);\r\n    \t\tgiocatoriPrt.add(new Bot(nome));\r\n    \t}else {\r\n    \t\ttxtNomeUtenteRobot.clear();\r\n    \t}\r\n    }\r\n    \r\n    //Genero il codice per una nuova partita\r\n    @FXML Button btnGeneraCodice;\r\n    @FXML TextField txtCodice;\r\n    @FXML ComboBox&lt;String&gt; comboNVite;\r\n    @FXML public void GeneraCodice(ActionEvent actionEvent) {\r\n    \tif(listUtentiPartita.getItems().size()&lt;=8) {\r\n    \tif(listUtentiPartita.getItems().size()&gt;1) {\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tUUID uniqueID = UUID.randomUUID();\r\n    \t        String uniqueCode = uniqueID.toString().replaceAll(&quot;-&quot;, &quot;&quot;).substring(0, 8);\r\n    \t\t\tFile file = new File(pathStatus);\r\n\r\n    \t\t\t\r\n    \t\t\t/**\r\n    \t\t\tFile file = new File(pathStatus);\r\n    \t\t\tScanner scan = new Scanner(file);//controlla errori legati alla lettura e scrittura del file\r\n    \t\t\tString codPartita = scan.nextLine().split(&quot; , &quot;)[1];\r\n    \t\t\tscan.close();\r\n\r\n    \t\t\t//controllare univocita\r\n    \t\t\tcodPartita = Integer.toString(Integer.parseInt(codPartita)+1);\r\n\r\n    \t\t\t//aggiungo al codice gli 0 non rilevanti\r\n    \t\t\tint nCifre = codPartita.length();\r\n    \t\t\tfor(int i=0; i&lt;lungCodicePartita-nCifre; i++) {\r\n    \t\t\t\tcodPartita=&quot;0&quot;+codPartita;\r\n    \t\t\t}**/\r\n\r\n    \t        //lblCodice.setStyle(&quot;-fx-control-inner-background: grey;&quot;);\r\n    \t\t\ttxtCodice.setText(uniqueCode);\r\n\r\n    \t\t\tbtnGeneraCodice.setDisable(true);\r\n\r\n    \t\t\t//salvo il codice corrente nel file di status\r\n    \t\t\tFileWriter fw = new FileWriter(file);\r\n    \t\t\tfw.write(&quot;codicePartita , &quot;+uniqueCode);\r\n    \t\t\tfw.close();\r\n\r\n    \t\t\t//do le vite e le carte ai giocatori\r\n    \t\t\tString nVite = comboNVite.getSelectionModel().getSelectedItem();\r\n    \t\t\tif(nVite!=null) {\r\n    \t\t\t\tfor(Giocatore i : giocatoriPrt) {\r\n    \t\t\t\t\ti.setVite(Integer.parseInt(nVite));\r\n    \t\t\t\t}\r\n    \t\t\t}else {\r\n    \t\t\t\tfor(Giocatore i : giocatoriPrt) {\r\n    \t\t\t\t\ti.setVite(nViteDefault);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n\t\t\t\t\r\n    \t\t\t//imposto i dati di una nuova partita\r\n    \t\t\tthis.prt=new Partita(uniqueCode, giocatoriPrt);\r\n    \t\t\t\r\n\t\t\t\t//do le carte a ogni giocatore\r\n\t\t\t\tmazzo.mescola();\r\n\t\t\t\tnumeroCarteAGiocatore=quanteCarteAGiocatore(prt.getElencoGiocatori().size());\r\n\t\t\t\tfor(Giocatore g : this.prt.getElencoGiocatori()) {\r\n\t\t\t\t\tg.setCarteMano(mazzo.pescaCarte(numeroCarteAGiocatore));\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//salvo la partita su file.json\r\n\t\t\t\tSalvaPartita(this.prt);\r\n    \t\t}catch(FileNotFoundException e) {\r\n    \t\t\tSystem.out.println(e);\r\n    \t\t}catch(IOException eIO) {\r\n    \t\t\tSystem.out.println(eIO);    \t\t\r\n    \t\t}\r\n    \t}else {\r\n    \t\ttxtCodice.setStyle(&quot;-fx-text-fill: red;&quot;);\r\n    \t\ttxtCodice.setText(&quot;Aggiungi almeno 2 giocatori&quot;);\r\n    \t}\r\n    \t}else {\r\n    \t\ttxtCodice.setStyle(&quot;-fx-text-fill: red;&quot;);\r\n    \t\ttxtCodice.setText(&quot;Puoi aggiungere al massimo 8 giocatori&quot;);\r\n\r\n    \t}\r\n    }\r\n\r\n    \r\n    @FXML Button btnTornaAllaHome;\r\n    //torno alla Schermata di login\r\n    @FXML public void TornaAllaHome(ActionEvent actionEvent) {\r\n    \t//chiudo la finestra di di creazione della partita e torno alla finestra di login\r\n    \tStage stage = (Stage)btnTornaAllaHome.getScene().getWindow();\r\n    \tstage.close();\r\n    \t\r\n    \t//riapro la finestra di login\r\n\t\ttry {\r\n\t\t\tFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Home.fxml&quot;));\r\n\t\t\tParent root = loader.load();\r\n\t\t\t\r\n\t\t\tControllerHome controller = loader.getController();\t\t\t\r\n\t\t\tstage.setTitle(&quot;HOME&quot;);\r\n\t\t\tScene interfacciaHome = new Scene(root);\r\n\t\t\t//copio le informazioni relative alla partita in corso e carico le informazioni della classifica\r\n\t\t\tcontroller.copiaInformazioniPartita(this.prt);\r\n\t\t\tcontroller.populateListView();\r\n\r\n\t\t\tstage.setScene(interfacciaHome);\r\n\t\t    stage.setMinHeight(400);\r\n\t\t    stage.setMinWidth(600);\r\n\t\t    stage.show();\r\n\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\t\r\n    }   \r\n\r\n    public void populateListView() {\r\n    \t\r\n\t\ttry {\r\n\t\t\tFile file = new File(pathGiocatoriRegistrati);\r\n\t\t\tScanner scan = new Scanner(file);\t\t\t\r\n\t\t\twhile(scan.hasNext()) {\r\n\t\t\t\tString line = scan.nextLine();\r\n\t\t\t\tlstGiocatoriRegistrati.getItems().add(line.trim());\t\r\n\t\t\t}\r\n\t\t\tscan.close();\r\n\t\t} catch (FileNotFoundException fnfe) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\tfnfe.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\t//metto il contenuto della listview in grassetto\r\n\t\tlstGiocatoriRegistrati.setStyle(&quot;-fx-font-weight: bold;&quot;);\r\n\t\t\r\n\t\t//centro le scritte all&#39;interno della listview\r\n\t\tlstGiocatoriRegistrati.setCellFactory(param -&gt; new ListCell&lt;String&gt;() {\r\n\t\t    @Override\r\n\t\t    protected void updateItem(String item, boolean empty) {\r\n\t\t        super.updateItem(item, empty);\r\n\t\t        if (empty || item == null) {\r\n\t\t            setText(null);\r\n\t\t            setGraphic(null);\r\n\t\t        } else {\r\n\t\t            setText(item);\r\n\t\t            setAlignment(javafx.geometry.Pos.CENTER);\r\n\t\t        }\r\n\t\t    }\r\n\t\t});\r\n    }\r\n    \r\n    private int quanteCarteAGiocatore(int numeroGiocatori) {\r\n    \tif(numeroGiocatori&gt;4) {\r\n    \t\treturn 5;\r\n    \t}else if(numeroGiocatori == 2){\r\n    \t\treturn 1;\r\n    \t}else {\r\n    \t\treturn numeroGiocatori;\r\n    \t}\r\n    }\r\n    \r\n    private void SalvaPartita(Partita partita) {\r\n\t\ttry {\r\n\t\t\tGson gson = new Gson();\r\n\t\t\tArrayList&lt;Partita&gt; elencoPartite = new ArrayList&lt;Partita&gt;();\r\n\t\t\tString path=&quot;src/SalvataggioPartite.json&quot;;\r\n\t\t\tFileReader fr = new FileReader(path);\r\n\t\t\tJsonReader jsnReader=new JsonReader(fr);\r\n\r\n\t\t\tif(jsnReader.peek() != JsonToken.NULL){\r\n\t\t\t\tjsnReader.beginArray();\r\n\t\t\t\t//carico il contenuto del file\r\n\t\t\t\twhile(jsnReader.hasNext()) {\r\n\t\t\t\t\tPartita p = gson.fromJson(jsnReader, Partita.class);\r\n\t\t\t\t\telencoPartite.add(p);\r\n\t\t\t\t}\r\n\t\t\t\tjsnReader.endArray();\r\n\t\t\t\tjsnReader.close();\r\n\t\t\t\t\r\n\t\t\t\t//tentativo di trasformare i bot in giocatori();\r\n\t\t\t\tArrayList&lt;Giocatore&gt; elencoGiocatori = new ArrayList&lt;Giocatore&gt;();\r\n\t\t\t\telencoGiocatori = partita.getElencoGiocatori();\r\n\t\t\t\tfor(Giocatore g : elencoGiocatori) {\r\n\t\t\t\t\tif(g instanceof Bot) {\r\n\t\t\t\t\t\t((Bot) g).setInterfaccia(null);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor (Partita p : elencoPartite) {\r\n\t\t\t\t\tgson.toJson(p, Partita.class, jsnWriter);//error\r\n\t\t\t\t\tfw.write(&#39;\\n&#39;);\r\n\t\t\t\t}\r\n\t\t\t\tjsnWriter.endArray();\r\n\t\t\t\tjsnWriter.close();\r\n\t\t\t}\r\n\t\t} catch (FileNotFoundException fnfe) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\tfnfe.printStackTrace();\r\n\t\t} catch (IOException ioe) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\tioe.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nclass Bot.java\r\n\r\n```\r\npackage basic;\r\n\r\nimport javafx.scene.control.TextField;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.ArrayList;\r\nimport java.util.Iterator;\r\nimport java.util.Random;\r\nimport javafx.scene.layout.GridPane;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.concurrent.Task;\r\n\r\npublic class Bot extends Giocatore implements Runnable,Serializable{\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tGridPane interfaccia;\r\n\tPartita prt;\r\n    final int delay = 3;//in secondi \r\n\r\n    public Bot(String nome, String password, int nVite, ArrayList&lt;Carta&gt; carte, long punteggio) {\r\n\t\tsuper(nome, nVite, carte, punteggio);\r\n\t}\r\n\r\n\tpublic Bot(String nome) {\r\n\t\tsuper(nome);\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tgiocaTurno();\r\n\t}\r\n\r\n\tpublic void giocaTurno(BorderPane root, Partita prt) {\r\n\t\tthis.interfaccia = (GridPane)root.getCenter();\r\n\t\tthis.prt=prt;\r\n\t}\r\n\r\n\tprivate void giocaTurno() {//metodo principale che permette di far giocare il bot e di conseguenza avanzare la partita\r\n\t\t//controllo se devo giocare una carta o dichiarare le prese()\r\n\t\tString idNodoLabel =&quot;lblPrese&quot;;\r\n\t\tString idNodoBtnNuovoRound =&quot;btnIniziaNuovoRound&quot;;\r\n\t\tString idNodoBtnNuovaMano =&quot;btnIniziaNuovaMano&quot;;\t\t\r\n\t\tIterator&lt;Node&gt; i = interfaccia.getChildren().iterator();\r\n\r\n\t\t//cerco il bottone associato all&#39;id \r\n\t\twhile(i.hasNext()) {\r\n\t\t\tObject o = i.next();\r\n\t\t\tif(o instanceof Button) {\r\n\t\t\t\tButton b = (Button)o;\r\n\t\t\t\tif(b.getId().equals(idNodoBtnNuovoRound)&amp;&amp;b.isVisible()) {\r\n\t\t\t\t\tTask&lt;Void&gt; t2 = taskDelay(delay);\r\n\t\t\t\t\tnew Thread(t2).start();//avvio il task per il delay\r\n\t\t\t\t\tt2.setOnSucceeded(event2 -&gt; {//finito il delay procedo con le operazioni\r\n\t\t\t\t\t\tiniziaNuovoRound(b);\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}else if(b.getId().equals(idNodoBtnNuovaMano)&amp;&amp;b.isVisible()) {\r\n\t\t\t\t\tTask&lt;Void&gt; t2 = taskDelay(delay);\r\n\t\t\t\t\tnew Thread(t2).start();//avvio il task per il delay\r\n\t\t\t\t\tt2.setOnSucceeded(event2 -&gt; {//finito il delay procedo con le operazioni\r\n\t\t\t\t\t\tiniziaNuovaMano(b);\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} \r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//reset iteratore\r\n\t\ti=interfaccia.getChildren().iterator();\r\n\t\t\r\n\t\t//cerco la label associato all&#39;id e ne controllo alcuni parametri se il ciclo prima non ha fatto return e quindi btnIniziaNuovaMano e btnIniziaNuovoRound sono visibili\r\n\t\twhile(i.hasNext()) {\r\n\t\t\tObject o = i.next();\r\n\t\t\tif(o instanceof Label) {\r\n\t\t\t\tLabel l = (Label)o;\r\n\t\t\t\tif(l.getId().equals(idNodoLabel)) {\r\n\t\t\t\t\tTask&lt;Void&gt; t = taskDelay(delay);\r\n\t\t\t\t\tnew Thread(t).start();//avvio il task per il delay\r\n\t\t\t\t\tt.setOnSucceeded(event -&gt;{//finito il delay procedo con le operazioni\r\n\t\t\t\t\t\tiniziaTurno();\r\n\r\n\t\t\t\t\t\tTask&lt;Void&gt; t1 = taskDelay(delay);\r\n\t\t\t\t\t\tnew Thread(t1).start();//avvio il task per il delay\r\n\t\t\t\t\t\tt1.setOnSucceeded(event1 -&gt; {//finito il delay procedo con le operazioni\r\n\t\t\t\t\t\t\t//controllo se devo dichiarare le prese o giocare una carta\r\n\t\t\t\t\t\t\tif(l.isVisible()) {\r\n\t\t\t\t\t\t\t\tdichiaraPrese();\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\tgiocaCarta();\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tTask&lt;Void&gt; t2 = taskDelay(delay);\r\n\t\t\t\t\t\t\tnew Thread(t2).start();//avvio il task per il delay\r\n\t\t\t\t\t\t\tt2.setOnSucceeded(event2 -&gt; {//finito il delay procedo con le operazioni\r\n\t\t\t\t\t\t\t\tfinisciTurno();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void dichiaraPrese() {\r\n\t\tString idNodoFinale =&quot;txtNumeroPrese&quot;;\r\n\t\tString idNodoIntermedio =&quot;gridPaneNumeroPrese&quot;;\r\n\r\n\t\tIterator&lt;Node&gt; i = interfaccia.getChildren().iterator();\r\n\r\n\t\t//cerco il nodo associato all&#39;id e inserisco il numero di prese\r\n\t\twhile(i.hasNext()) {\r\n\t\t\tObject o = i.next();\r\n\t\t\tif(o instanceof GridPane) {\r\n\t\t\t\tGridPane gp = (GridPane)o;\r\n\t\t\t\tif(gp.getId().equals(idNodoIntermedio)) {\r\n\t\t\t\t\tIterator&lt;Node&gt; y = gp.getChildren().iterator();\r\n\t\t\t\t\twhile(y.hasNext()) {\r\n\t\t\t\t\t\to=y.next();\r\n\t\t\t\t\t\tif(o instanceof TextField) {\r\n\t\t\t\t\t\t\tTextField tf = (TextField)o;\r\n\t\t\t\t\t\t\tif(tf.getId().equals(idNodoFinale)) {\r\n\t\t\t\t\t\t\t\t//controlla giustizia numero inserito\r\n\t\t\t\t\t\t\t\tRandom rand = new Random();\r\n\r\n\t\t\t\t\t\t\t\t//controllo che il numero di prese dichiarate sia appropriato\r\n\t\t\t\t\t\t\t\tint nPrese=0;\r\n\t\t\t\t\t\t\t\tfor(Giocatore gio : this.prt.getElencoGiocatori()) {\r\n\t\t\t\t\t\t\t\t\tif(gio.getPreseDichiarate()&gt;=0) {//controllo che prese dichiarate non abbia il valores di default\r\n\t\t\t\t\t\t\t\t\t\tnPrese+=gio.getPreseDichiarate();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tint n = rand.nextInt(this.carte.size()+1);\r\n\t\t\t\t\t\t\t\tnPrese+=n;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t//controllo che il numero generato non vada in conflitto \r\n\t\t\t\t\t\t\t\tif(nPrese==this.carte.size()) {\r\n\t\t\t\t\t\t\t\t\ttf.setText(&quot;&quot;+(n+1));\r\n\t\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\t\ttf.setText(&quot;&quot;+n);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate void giocaCarta() {\r\n\t\tString idNodo =&quot;imgCartaMano&quot;;\r\n\t\tString idNodoIntermedio = &quot;gridPaneCarteMano&quot;;\r\n\t\tIterator&lt;Node&gt; i = interfaccia.getChildren().iterator();\r\n\r\n\t\t//cerco il nodo associato all&#39;id e ne scateno l&#39;evento\r\n\t\twhile(i.hasNext()) {\r\n\t\t\tObject o = i.next();\r\n\t\t\tif(o instanceof GridPane) {\r\n\t\t\t\tGridPane gp=(GridPane)o;\r\n\t\t\t\tif(gp.getId().equals(idNodoIntermedio)) {\r\n\t\t\t\t\tIterator&lt;Node&gt; y = gp.getChildren().iterator();\r\n\t\t\t\t\tRandom rand = new Random();\r\n\t\t\t\t\tint n = rand.nextInt(this.carte.size())+1;\r\n\t\t\t\t\twhile(y.hasNext()) {\r\n\t\t\t\t\t\to = y.next();\r\n\t\t\t\t\t\tif(o instanceof ImageView) {\r\n\t\t\t\t\t\t\tImageView iv = (ImageView)o;\r\n\t\t\t\t\t\t\tif(iv.getId().equals(idNodo+n)) {\r\n\t\t\t\t\t\t\t\tMouseEvent mouseEvent = new MouseEvent(MouseEvent.MOUSE_CLICKED,\r\n\t\t\t\t\t\t\t\t\t\tiv.getScaleX(), iv.getScaleY(),  // Le coordinate x e y dell&#39;evento\r\n\t\t\t\t\t\t\t\t\t\t0, 0, \r\n\t\t\t\t\t\t\t\t\t\tnull, 0, false, false, false, false, true, false, false, false, false, false, false, false, null\r\n\t\t\t\t\t\t\t\t\t\t);\t\r\n\t\t\t\t\t\t\t\tiv.fireEvent(mouseEvent);\r\n\t\t\t\t\t\t\t\treturn;//evito che il ciclo vada a richiamare un nuovo random generando un errore dovuto a this.carte.size()=0\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate void iniziaTurno() {\r\n\t\tString idNodo =&quot;btnInizioTurnoGiocatore&quot;;\r\n\t\tscatenaNodoInterfaccia (idNodo);\r\n\t}\r\n\t\r\n\tprivate void finisciTurno() {\r\n\t\tString idNodo =&quot;btnFineTurnoGiocatore&quot;;\r\n\t\tscatenaNodoInterfaccia(idNodo);\r\n\r\n\t}\r\n\t\r\n\tprivate void iniziaNuovoRound(Button b) {\r\n\t\tb.fire();\r\n\t}\r\n\t\r\n\tprivate void iniziaNuovaMano(Button b) {\r\n\t\tb.fire();\r\n\t}\r\n\t\r\n\tprivate void scatenaNodoInterfaccia(String idNodo) {\r\n\t\tIterator&lt;Node&gt; i = interfaccia.getChildren().iterator();\r\n\r\n\t\t//cerco il bottone associato all&#39;id e ne scateno l&#39;evento\r\n\t\twhile(i.hasNext()) {\r\n\t\t\tObject o = i.next();\r\n\t\t\tif(o instanceof Button) {\r\n\t\t\t\tButton b = (Button)o;\r\n\t\t\t\tif(b.getId().equals(idNodo)) {\t\r\n\t\t\t\t\tb.fire();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n    private Task&lt;Void&gt; taskDelay(int secondi){\r\n        Task&lt;Void&gt; slowTask = new Task&lt;Void&gt;() {\r\n            @Override\r\n            protected Void call() throws Exception {\r\n                // Simuliamo un&#39;operazione lenta\r\n                for (int i = 0; i &lt; secondi; i++) {\r\n                    Thread.sleep(1000); // Rallenta per 3 secondi in totale\r\n                }\r\n                return null;\r\n            }\r\n        };\r\n    \t\r\n    \treturn slowTask;\r\n    }\r\n    \r\n    public Giocatore getGiocatore(){\r\n    \treturn new Giocatore(this.nome, this.nVite, this.carte, this.punteggio);\r\n    }\r\n\r\n\tpublic GridPane getInterfaccia() {\r\n\t\treturn interfaccia;\r\n\t}\r\n\r\n\tpublic void setInterfaccia(GridPane interfaccia) {\r\n\t\tthis.interfaccia = interfaccia;\r\n\t}\r\n\r\n\tpublic Partita getPrt() {\r\n\t\treturn prt;\r\n\t}\r\n\r\n\tpublic void setPrt(Partita prt) {\r\n\t\tthis.prt = prt;\r\n\t}\r\n}\r\n```\r\n\r\nto solve it I tried to change the VM arguments but maybe I did something wrong because the same error occured:\r\n[enter image description here][1]\r\n\r\nI just want that my jsonReader works, could someone help me?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LH9qB.png","title":"java.lang.reflect.InaccessibleObjectException:Unable to make field private javafx.beans.property.DoubleProperty javafx.scene.layout.GridPane.hgap","body":"<pre><code>java.lang.reflect.InaccessibleObjectException: \nUnable to make field private javafx.beans.property.DoubleProperty javafx.scene.layout.GridPane.hgap accessible: \nmodule javafx.graphics does not &quot;opens javafx.scene.layout&quot; to unnamed module @5cd04ad4.\n</code></pre>\n<p>I'm using a Gson library and when I want to serialized My class 'Bot' this error occured, I read something on internet about module and VM argument but nothing help me. Someone could help me?</p>\n<p>this is my code:\nclass ControllerCreaPartita.java</p>\n<pre><code>package basic;\n\nimport java.io.*;\nimport java.util.*;\nimport com.google.gson.Gson;\nimport com.google.gson.stream.JsonReader;\nimport com.google.gson.stream.JsonToken;\nimport com.google.gson.stream.JsonWriter;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ComboBox;\nimport javafx.scene.control.ListCell;\nimport javafx.scene.control.ListView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.input.MouseEvent;\nimport javafx.stage.Stage;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Alert.AlertType;\n\npublic class ControllerCreaPartita {\n    //variabili di controllo\n    int numeroCarteAGiocatore;\n    final int lungCodicePartita=10;\n    final int nViteDefault=5;\n    Partita prt;\n    Mazzo mazzo = new Mazzo();\n    ArrayList&lt;Giocatore&gt; giocatoriPrt = new ArrayList&lt;Giocatore&gt;();\n    String pathRetroCarta = &quot;/basic/IMGcarte/retro.jpg&quot;;\n    int countTurnoGiocatore=0;\n    boolean dichiaraPrese=true;\n    boolean primoTurno=true;\n    String pathStatus = &quot;src/Status.txt&quot;;\n    String pathGiocatoriRegistrati = &quot;src/GiocatoriRegistrati.txt&quot;;\n    \n    @FXML ListView&lt;String&gt; lstGiocatoriRegistrati;\n\n    //aggiungo alla partita un nuovo utente  \n    @FXML ListView&lt;String&gt; listUtentiPartita;\n    @FXML Button btnAggiungiUtente;\n    @FXML TextField txtNomeUtente; \n    @FXML public void AggiungiUtente(ActionEvent actionEvent) {\n        String nome = txtNomeUtente.getText();\n        //controllo che non vengano inseriti giocatori con lo stesso nome all'interno della listview listUtentiPartita\n        if(!nome.trim().equals(&quot;&quot;) &amp;&amp; !listUtentiPartita.getItems().contains(nome) &amp;&amp; !lstGiocatoriRegistrati.getItems().contains(nome)) {\n            txtNomeUtente.clear();\n            listUtentiPartita.getItems().add(nome);\n            lstGiocatoriRegistrati.getItems().add(nome);\n            giocatoriPrt.add(new Giocatore(nome));\n            \n            try{\n\n                FileWriter fw = new FileWriter(pathGiocatoriRegistrati, true);\n                fw.write(nome + '\\n');\n                fw.close();\n                \n                } catch (FileNotFoundException FNFe) {\n                    // TODO Auto-generated catch block\n                    FNFe.printStackTrace();\n                } catch (IOException IOe) {\n                    // TODO Auto-generated catch block\n                    IOe.printStackTrace();\n                }\n        }else {\n            txtNomeUtente.clear();\n            \n            Alert alert = new Alert(AlertType.ERROR);\n            alert.setTitle(&quot;Errore&quot;);\n            alert.setHeaderText(null);\n            alert.setContentText(&quot;Il Nickname inserito è già stato selezionato da un altro giocatore, riprova con un altro Nickname&quot;);\n\n            alert.showAndWait();\n        }\n        \n    }\n    \n    //aggiungo alla partita un utente già registrato\n    @FXML public void selezionaGiocatore(MouseEvent mouseEvent) {\n        \n        String nome = lstGiocatoriRegistrati.getSelectionModel().getSelectedItem();   \n        \n        if(!listUtentiPartita.getItems().contains(nome) &amp;&amp; nome != null)\n        {\n            listUtentiPartita.getItems().add(nome);\n            giocatoriPrt.add(new Giocatore(nome));  \n        }\n    }\n    \n\n    //aggiungo alla partita un utente robot \n    @FXML Button btnAggiungiUtenteRobot;\n    @FXML TextField txtNomeUtenteRobot; \n    @FXML public void AggiungiUtenteRobot(ActionEvent actionEvent) {\n        String nome = txtNomeUtenteRobot.getText();\n        //controllo che non vengano inseriti giocatori con lo stesso nome all'interno della listview listUtentiPartita\n        if(!nome.trim().equals(&quot;&quot;) &amp;&amp; !listUtentiPartita.getItems().contains(nome) &amp;&amp; !lstGiocatoriRegistrati.getItems().contains(nome)) {\n            txtNomeUtenteRobot.clear();\n            listUtentiPartita.getItems().add(nome);\n            giocatoriPrt.add(new Bot(nome));\n        }else {\n            txtNomeUtenteRobot.clear();\n        }\n    }\n    \n    //Genero il codice per una nuova partita\n    @FXML Button btnGeneraCodice;\n    @FXML TextField txtCodice;\n    @FXML ComboBox&lt;String&gt; comboNVite;\n    @FXML public void GeneraCodice(ActionEvent actionEvent) {\n        if(listUtentiPartita.getItems().size()&lt;=8) {\n        if(listUtentiPartita.getItems().size()&gt;1) {\n            try {\n                \n                UUID uniqueID = UUID.randomUUID();\n                String uniqueCode = uniqueID.toString().replaceAll(&quot;-&quot;, &quot;&quot;).substring(0, 8);\n                File file = new File(pathStatus);\n\n                \n                /**\n                File file = new File(pathStatus);\n                Scanner scan = new Scanner(file);//controlla errori legati alla lettura e scrittura del file\n                String codPartita = scan.nextLine().split(&quot; , &quot;)[1];\n                scan.close();\n\n                //controllare univocita\n                codPartita = Integer.toString(Integer.parseInt(codPartita)+1);\n\n                //aggiungo al codice gli 0 non rilevanti\n                int nCifre = codPartita.length();\n                for(int i=0; i&lt;lungCodicePartita-nCifre; i++) {\n                    codPartita=&quot;0&quot;+codPartita;\n                }**/\n\n                //lblCodice.setStyle(&quot;-fx-control-inner-background: grey;&quot;);\n                txtCodice.setText(uniqueCode);\n\n                btnGeneraCodice.setDisable(true);\n\n                //salvo il codice corrente nel file di status\n                FileWriter fw = new FileWriter(file);\n                fw.write(&quot;codicePartita , &quot;+uniqueCode);\n                fw.close();\n\n                //do le vite e le carte ai giocatori\n                String nVite = comboNVite.getSelectionModel().getSelectedItem();\n                if(nVite!=null) {\n                    for(Giocatore i : giocatoriPrt) {\n                        i.setVite(Integer.parseInt(nVite));\n                    }\n                }else {\n                    for(Giocatore i : giocatoriPrt) {\n                        i.setVite(nViteDefault);\n                    }\n                }\n                \n                //imposto i dati di una nuova partita\n                this.prt=new Partita(uniqueCode, giocatoriPrt);\n                \n                //do le carte a ogni giocatore\n                mazzo.mescola();\n                numeroCarteAGiocatore=quanteCarteAGiocatore(prt.getElencoGiocatori().size());\n                for(Giocatore g : this.prt.getElencoGiocatori()) {\n                    g.setCarteMano(mazzo.pescaCarte(numeroCarteAGiocatore));\n                }\n                \n                //salvo la partita su file.json\n                SalvaPartita(this.prt);\n            }catch(FileNotFoundException e) {\n                System.out.println(e);\n            }catch(IOException eIO) {\n                System.out.println(eIO);            \n            }\n        }else {\n            txtCodice.setStyle(&quot;-fx-text-fill: red;&quot;);\n            txtCodice.setText(&quot;Aggiungi almeno 2 giocatori&quot;);\n        }\n        }else {\n            txtCodice.setStyle(&quot;-fx-text-fill: red;&quot;);\n            txtCodice.setText(&quot;Puoi aggiungere al massimo 8 giocatori&quot;);\n\n        }\n    }\n\n    \n    @FXML Button btnTornaAllaHome;\n    //torno alla Schermata di login\n    @FXML public void TornaAllaHome(ActionEvent actionEvent) {\n        //chiudo la finestra di di creazione della partita e torno alla finestra di login\n        Stage stage = (Stage)btnTornaAllaHome.getScene().getWindow();\n        stage.close();\n        \n        //riapro la finestra di login\n        try {\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Home.fxml&quot;));\n            Parent root = loader.load();\n            \n            ControllerHome controller = loader.getController();         \n            stage.setTitle(&quot;HOME&quot;);\n            Scene interfacciaHome = new Scene(root);\n            //copio le informazioni relative alla partita in corso e carico le informazioni della classifica\n            controller.copiaInformazioniPartita(this.prt);\n            controller.populateListView();\n\n            stage.setScene(interfacciaHome);\n            stage.setMinHeight(400);\n            stage.setMinWidth(600);\n            stage.show();\n            \n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }   \n    }   \n\n    public void populateListView() {\n        \n        try {\n            File file = new File(pathGiocatoriRegistrati);\n            Scanner scan = new Scanner(file);           \n            while(scan.hasNext()) {\n                String line = scan.nextLine();\n                lstGiocatoriRegistrati.getItems().add(line.trim()); \n            }\n            scan.close();\n        } catch (FileNotFoundException fnfe) {\n            // TODO Auto-generated catch block\n            fnfe.printStackTrace();\n        }\n        \n        //metto il contenuto della listview in grassetto\n        lstGiocatoriRegistrati.setStyle(&quot;-fx-font-weight: bold;&quot;);\n        \n        //centro le scritte all'interno della listview\n        lstGiocatoriRegistrati.setCellFactory(param -&gt; new ListCell&lt;String&gt;() {\n            @Override\n            protected void updateItem(String item, boolean empty) {\n                super.updateItem(item, empty);\n                if (empty || item == null) {\n                    setText(null);\n                    setGraphic(null);\n                } else {\n                    setText(item);\n                    setAlignment(javafx.geometry.Pos.CENTER);\n                }\n            }\n        });\n    }\n    \n    private int quanteCarteAGiocatore(int numeroGiocatori) {\n        if(numeroGiocatori&gt;4) {\n            return 5;\n        }else if(numeroGiocatori == 2){\n            return 1;\n        }else {\n            return numeroGiocatori;\n        }\n    }\n    \n    private void SalvaPartita(Partita partita) {\n        try {\n            Gson gson = new Gson();\n            ArrayList&lt;Partita&gt; elencoPartite = new ArrayList&lt;Partita&gt;();\n            String path=&quot;src/SalvataggioPartite.json&quot;;\n            FileReader fr = new FileReader(path);\n            JsonReader jsnReader=new JsonReader(fr);\n\n            if(jsnReader.peek() != JsonToken.NULL){\n                jsnReader.beginArray();\n                //carico il contenuto del file\n                while(jsnReader.hasNext()) {\n                    Partita p = gson.fromJson(jsnReader, Partita.class);\n                    elencoPartite.add(p);\n                }\n                jsnReader.endArray();\n                jsnReader.close();\n                \n                //tentativo di trasformare i bot in giocatori();\n                ArrayList&lt;Giocatore&gt; elencoGiocatori = new ArrayList&lt;Giocatore&gt;();\n                elencoGiocatori = partita.getElencoGiocatori();\n                for(Giocatore g : elencoGiocatori) {\n                    if(g instanceof Bot) {\n                        ((Bot) g).setInterfaccia(null);\n                    }\n                }\n                \n                for (Partita p : elencoPartite) {\n                    gson.toJson(p, Partita.class, jsnWriter);//error\n                    fw.write('\\n');\n                }\n                jsnWriter.endArray();\n                jsnWriter.close();\n            }\n        } catch (FileNotFoundException fnfe) {\n            // TODO Auto-generated catch block\n            fnfe.printStackTrace();\n        } catch (IOException ioe) {\n            // TODO Auto-generated catch block\n            ioe.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p>class Bot.java</p>\n<pre><code>package basic;\n\nimport javafx.scene.control.TextField;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.Random;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.Node;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.control.Label;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.input.MouseEvent;\nimport javafx.concurrent.Task;\n\npublic class Bot extends Giocatore implements Runnable,Serializable{\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n    GridPane interfaccia;\n    Partita prt;\n    final int delay = 3;//in secondi \n\n    public Bot(String nome, String password, int nVite, ArrayList&lt;Carta&gt; carte, long punteggio) {\n        super(nome, nVite, carte, punteggio);\n    }\n\n    public Bot(String nome) {\n        super(nome);\n    }\n    \n    @Override\n    public void run() {\n        giocaTurno();\n    }\n\n    public void giocaTurno(BorderPane root, Partita prt) {\n        this.interfaccia = (GridPane)root.getCenter();\n        this.prt=prt;\n    }\n\n    private void giocaTurno() {//metodo principale che permette di far giocare il bot e di conseguenza avanzare la partita\n        //controllo se devo giocare una carta o dichiarare le prese()\n        String idNodoLabel =&quot;lblPrese&quot;;\n        String idNodoBtnNuovoRound =&quot;btnIniziaNuovoRound&quot;;\n        String idNodoBtnNuovaMano =&quot;btnIniziaNuovaMano&quot;;        \n        Iterator&lt;Node&gt; i = interfaccia.getChildren().iterator();\n\n        //cerco il bottone associato all'id \n        while(i.hasNext()) {\n            Object o = i.next();\n            if(o instanceof Button) {\n                Button b = (Button)o;\n                if(b.getId().equals(idNodoBtnNuovoRound)&amp;&amp;b.isVisible()) {\n                    Task&lt;Void&gt; t2 = taskDelay(delay);\n                    new Thread(t2).start();//avvio il task per il delay\n                    t2.setOnSucceeded(event2 -&gt; {//finito il delay procedo con le operazioni\n                        iniziaNuovoRound(b);\n                    });\n                    return;\n                }else if(b.getId().equals(idNodoBtnNuovaMano)&amp;&amp;b.isVisible()) {\n                    Task&lt;Void&gt; t2 = taskDelay(delay);\n                    new Thread(t2).start();//avvio il task per il delay\n                    t2.setOnSucceeded(event2 -&gt; {//finito il delay procedo con le operazioni\n                        iniziaNuovaMano(b);\n                    });\n                    return;\n                } \n            }\n        }\n        \n        //reset iteratore\n        i=interfaccia.getChildren().iterator();\n        \n        //cerco la label associato all'id e ne controllo alcuni parametri se il ciclo prima non ha fatto return e quindi btnIniziaNuovaMano e btnIniziaNuovoRound sono visibili\n        while(i.hasNext()) {\n            Object o = i.next();\n            if(o instanceof Label) {\n                Label l = (Label)o;\n                if(l.getId().equals(idNodoLabel)) {\n                    Task&lt;Void&gt; t = taskDelay(delay);\n                    new Thread(t).start();//avvio il task per il delay\n                    t.setOnSucceeded(event -&gt;{//finito il delay procedo con le operazioni\n                        iniziaTurno();\n\n                        Task&lt;Void&gt; t1 = taskDelay(delay);\n                        new Thread(t1).start();//avvio il task per il delay\n                        t1.setOnSucceeded(event1 -&gt; {//finito il delay procedo con le operazioni\n                            //controllo se devo dichiarare le prese o giocare una carta\n                            if(l.isVisible()) {\n                                dichiaraPrese();\n                            }else {\n                                giocaCarta();\n                            }\n\n                            Task&lt;Void&gt; t2 = taskDelay(delay);\n                            new Thread(t2).start();//avvio il task per il delay\n                            t2.setOnSucceeded(event2 -&gt; {//finito il delay procedo con le operazioni\n                                finisciTurno();\n                            });\n                        });\n                    });\n                    return;\n                }\n            }\n        }\n    }\n\n    private void dichiaraPrese() {\n        String idNodoFinale =&quot;txtNumeroPrese&quot;;\n        String idNodoIntermedio =&quot;gridPaneNumeroPrese&quot;;\n\n        Iterator&lt;Node&gt; i = interfaccia.getChildren().iterator();\n\n        //cerco il nodo associato all'id e inserisco il numero di prese\n        while(i.hasNext()) {\n            Object o = i.next();\n            if(o instanceof GridPane) {\n                GridPane gp = (GridPane)o;\n                if(gp.getId().equals(idNodoIntermedio)) {\n                    Iterator&lt;Node&gt; y = gp.getChildren().iterator();\n                    while(y.hasNext()) {\n                        o=y.next();\n                        if(o instanceof TextField) {\n                            TextField tf = (TextField)o;\n                            if(tf.getId().equals(idNodoFinale)) {\n                                //controlla giustizia numero inserito\n                                Random rand = new Random();\n\n                                //controllo che il numero di prese dichiarate sia appropriato\n                                int nPrese=0;\n                                for(Giocatore gio : this.prt.getElencoGiocatori()) {\n                                    if(gio.getPreseDichiarate()&gt;=0) {//controllo che prese dichiarate non abbia il valores di default\n                                        nPrese+=gio.getPreseDichiarate();\n                                    }\n                                }\n\n                                int n = rand.nextInt(this.carte.size()+1);\n                                nPrese+=n;\n                                \n                                //controllo che il numero generato non vada in conflitto \n                                if(nPrese==this.carte.size()) {\n                                    tf.setText(&quot;&quot;+(n+1));\n                                }else {\n                                    tf.setText(&quot;&quot;+n);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    \n    private void giocaCarta() {\n        String idNodo =&quot;imgCartaMano&quot;;\n        String idNodoIntermedio = &quot;gridPaneCarteMano&quot;;\n        Iterator&lt;Node&gt; i = interfaccia.getChildren().iterator();\n\n        //cerco il nodo associato all'id e ne scateno l'evento\n        while(i.hasNext()) {\n            Object o = i.next();\n            if(o instanceof GridPane) {\n                GridPane gp=(GridPane)o;\n                if(gp.getId().equals(idNodoIntermedio)) {\n                    Iterator&lt;Node&gt; y = gp.getChildren().iterator();\n                    Random rand = new Random();\n                    int n = rand.nextInt(this.carte.size())+1;\n                    while(y.hasNext()) {\n                        o = y.next();\n                        if(o instanceof ImageView) {\n                            ImageView iv = (ImageView)o;\n                            if(iv.getId().equals(idNodo+n)) {\n                                MouseEvent mouseEvent = new MouseEvent(MouseEvent.MOUSE_CLICKED,\n                                        iv.getScaleX(), iv.getScaleY(),  // Le coordinate x e y dell'evento\n                                        0, 0, \n                                        null, 0, false, false, false, false, true, false, false, false, false, false, false, false, null\n                                        );  \n                                iv.fireEvent(mouseEvent);\n                                return;//evito che il ciclo vada a richiamare un nuovo random generando un errore dovuto a this.carte.size()=0\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n    }\n\n    private void iniziaTurno() {\n        String idNodo =&quot;btnInizioTurnoGiocatore&quot;;\n        scatenaNodoInterfaccia (idNodo);\n    }\n    \n    private void finisciTurno() {\n        String idNodo =&quot;btnFineTurnoGiocatore&quot;;\n        scatenaNodoInterfaccia(idNodo);\n\n    }\n    \n    private void iniziaNuovoRound(Button b) {\n        b.fire();\n    }\n    \n    private void iniziaNuovaMano(Button b) {\n        b.fire();\n    }\n    \n    private void scatenaNodoInterfaccia(String idNodo) {\n        Iterator&lt;Node&gt; i = interfaccia.getChildren().iterator();\n\n        //cerco il bottone associato all'id e ne scateno l'evento\n        while(i.hasNext()) {\n            Object o = i.next();\n            if(o instanceof Button) {\n                Button b = (Button)o;\n                if(b.getId().equals(idNodo)) {  \n                    b.fire();\n                }\n            }\n        }\n    }\n    \n    private Task&lt;Void&gt; taskDelay(int secondi){\n        Task&lt;Void&gt; slowTask = new Task&lt;Void&gt;() {\n            @Override\n            protected Void call() throws Exception {\n                // Simuliamo un'operazione lenta\n                for (int i = 0; i &lt; secondi; i++) {\n                    Thread.sleep(1000); // Rallenta per 3 secondi in totale\n                }\n                return null;\n            }\n        };\n        \n        return slowTask;\n    }\n    \n    public Giocatore getGiocatore(){\n        return new Giocatore(this.nome, this.nVite, this.carte, this.punteggio);\n    }\n\n    public GridPane getInterfaccia() {\n        return interfaccia;\n    }\n\n    public void setInterfaccia(GridPane interfaccia) {\n        this.interfaccia = interfaccia;\n    }\n\n    public Partita getPrt() {\n        return prt;\n    }\n\n    public void setPrt(Partita prt) {\n        this.prt = prt;\n    }\n}\n</code></pre>\n<p>to solve it I tried to change the VM arguments but maybe I did something wrong because the same error occured:\n<a href=\"https://i.stack.imgur.com/LH9qB.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I just want that my jsonReader works, could someone help me?</p>\n"},{"tags":["java","ssl","grpc","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698685478,"creation_date":1698685478,"answer_id":77390571,"question_id":77381227,"body_markdown":"&gt; unable to find valid certification path to requested target\r\n\r\nThe server&#39;s certificate is not trusted. You should get a CA to issue a certificate for the server. If it is already a valid cert, make sure to provide the &quot;certificate chain&quot; when configuring the server, not just the bare server certificate.\r\n\r\nIf you didn&#39;t intend to use a typical &quot;browser-trusted CA,&quot; you can sign the certificate with your own CA and use that CA&#39;s certificate as a trust source:\r\n\r\n```java\r\nChannelCredentials certs = TlsChannelCredentials.newBuilder()\r\n    // Could also be a server&#39;s self-signed cert\r\n    .trustManager(new File(&quot;path/to/ca.pem&quot;))\r\n    .build();\r\nNettyChannelBuilder.forTarget(&quot;host:443&quot;, certs)\r\n    .keepAliveTime(30, TimeUnit.SECONDS)\r\n    .keepAliveTimeout(5, TimeUnit.SECONDS)\r\n    .build();\r\n```\r\n\r\nThere are many sites and scripts that describe how to make your own CA and sign server certificates, if that is what you end up wanting. For reference, [this is the process for gRPC&#39;s tests](https://github.com/grpc/grpc-java/blob/master/testing/src/main/resources/certs/README).","title":"gRPC client failing to connect with server with SSL/TLS","body":"<blockquote>\n<p>unable to find valid certification path to requested target</p>\n</blockquote>\n<p>The server's certificate is not trusted. You should get a CA to issue a certificate for the server. If it is already a valid cert, make sure to provide the &quot;certificate chain&quot; when configuring the server, not just the bare server certificate.</p>\n<p>If you didn't intend to use a typical &quot;browser-trusted CA,&quot; you can sign the certificate with your own CA and use that CA's certificate as a trust source:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ChannelCredentials certs = TlsChannelCredentials.newBuilder()\n    // Could also be a server's self-signed cert\n    .trustManager(new File(&quot;path/to/ca.pem&quot;))\n    .build();\nNettyChannelBuilder.forTarget(&quot;host:443&quot;, certs)\n    .keepAliveTime(30, TimeUnit.SECONDS)\n    .keepAliveTimeout(5, TimeUnit.SECONDS)\n    .build();\n</code></pre>\n<p>There are many sites and scripts that describe how to make your own CA and sign server certificates, if that is what you end up wanting. For reference, <a href=\"https://github.com/grpc/grpc-java/blob/master/testing/src/main/resources/certs/README\" rel=\"nofollow noreferrer\">this is the process for gRPC's tests</a>.</p>\n"}],"owner":{"account_id":1409165,"reputation":1155,"user_id":1336134,"accept_rate":62,"display_name":"sandy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77390571,"answer_count":1,"score":0,"last_activity_date":1698685478,"creation_date":1698527075,"question_id":77381227,"body_markdown":"I am trying to connect to gRPC server which has TLS enabled but doesn&#39;t require a client certificate.\r\nI have used many combinations using NettyChannelBuilder and ManagedChannelBuilder.\r\n\r\n    NettyChannelBuilder.forTarget(&quot;host:443&quot;)\r\n                        .useTransportSecurity()\r\n                        .keepAliveTime(30, TimeUnit.SECONDS)\r\n                        .keepAliveTimeout(5, TimeUnit.SECONDS)\r\n                        .negotiationType(NegotiationType.TLS)\r\n                        .enableRetry()\r\n                        .build();\r\n\r\nError is \r\n\r\n    io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\n\r\nUnderlying exception is \r\n\r\n    Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nWhat am I doing wrong?\r\n\r\n","title":"gRPC client failing to connect with server with SSL/TLS","body":"<p>I am trying to connect to gRPC server which has TLS enabled but doesn't require a client certificate.\nI have used many combinations using NettyChannelBuilder and ManagedChannelBuilder.</p>\n<pre><code>NettyChannelBuilder.forTarget(&quot;host:443&quot;)\n                    .useTransportSecurity()\n                    .keepAliveTime(30, TimeUnit.SECONDS)\n                    .keepAliveTimeout(5, TimeUnit.SECONDS)\n                    .negotiationType(NegotiationType.TLS)\n                    .enableRetry()\n                    .build();\n</code></pre>\n<p>Error is</p>\n<pre><code>io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\n</code></pre>\n<p>Underlying exception is</p>\n<pre><code>Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","algorithm","sorting"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":5,"creation_date":1539058463,"post_id":52713266,"comment_id":92352181,"body_markdown":"[Find the largest three elements in an array](https://www.geeksforgeeks.org/find-the-largest-three-elements-in-an-array/)","body":"<a href=\"https://www.geeksforgeeks.org/find-the-largest-three-elements-in-an-array/\" rel=\"nofollow noreferrer\">Find the largest three elements in an array</a>"},{"owner":{"account_id":8632249,"reputation":1153,"user_id":6463525,"accept_rate":100,"display_name":"kvk30"},"score":0,"creation_date":1539058510,"post_id":52713266,"comment_id":92352193,"body_markdown":"https://www.geeksforgeeks.org/find-the-largest-three-elements-in-an-array/","body":"<a href=\"https://www.geeksforgeeks.org/find-the-largest-three-elements-in-an-array/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/find-the-largest-three-elements-in-an-arra&zwnj;&#8203;y</a>"},{"owner":{"account_id":24216,"reputation":23448,"user_id":61479,"accept_rate":81,"display_name":"Ridcully"},"score":8,"creation_date":1539058551,"post_id":52713266,"comment_id":92352206,"body_markdown":"Although this is an interesting question, Stackoverflow is not here to solve it for you. You need to show what you have already tried and where exactly you need help.","body":"Although this is an interesting question, Stackoverflow is not here to solve it for you. You need to show what you have already tried and where exactly you need help."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1539058611,"post_id":52713266,"comment_id":92352222,"body_markdown":"[Find top N elements in an Array](https://stackoverflow.com/questions/4084495/find-top-n-elements-in-an-array)","body":"<a href=\"https://stackoverflow.com/questions/4084495/find-top-n-elements-in-an-array\">Find top N elements in an Array</a>"},{"owner":{"display_name":"user3477273"},"score":1,"creation_date":1539059718,"post_id":52713266,"comment_id":92352475,"body_markdown":"save any 3 elemnts element of your array into a 3-elemnts array so that your 3 elements are kept sorted and scan your original array and compare every element to the smallest of the 3 elemnts, if your current element is larger than it replace the smallest with it and re-sort the 3 elemnts","body":"save any 3 elemnts element of your array into a 3-elemnts array so that your 3 elements are kept sorted and scan your original array and compare every element to the smallest of the 3 elemnts, if your current element is larger than it replace the smallest with it and re-sort the 3 elemnts"},{"owner":{"account_id":9048519,"reputation":103,"user_id":6739710,"accept_rate":33,"display_name":"sharang gupta"},"score":0,"creation_date":1539060225,"post_id":52713266,"comment_id":92352599,"body_markdown":"Thank you @blade, I think this is the approach. If you write an answer I&#39;ll upvote that.","body":"Thank you @blade, I think this is the approach. If you write an answer I&#39;ll upvote that."},{"owner":{"account_id":4688180,"reputation":2484,"user_id":3795043,"accept_rate":90,"display_name":"findusl"},"score":1,"creation_date":1539074879,"post_id":52713266,"comment_id":92359178,"body_markdown":"This reminds me of the 3 fastest horses problem. This can help to understand and solve the problem: http://puzzles.nigelcoldwell.co.uk/fiftynine.htm","body":"This reminds me of the 3 fastest horses problem. This can help to understand and solve the problem: <a href=\"http://puzzles.nigelcoldwell.co.uk/fiftynine.htm\" rel=\"nofollow noreferrer\">puzzles.nigelcoldwell.co.uk/fiftynine.htm</a>"}],"answers":[{"comments":[{"owner":{"account_id":966533,"reputation":944,"user_id":989875,"display_name":"Charles"},"score":0,"creation_date":1539060626,"post_id":52713548,"comment_id":92352723,"body_markdown":"That is the answer I am leaning towards as well... but is it the most efficient?","body":"That is the answer I am leaning towards as well... but is it the most efficient?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1539060767,"post_id":52713548,"comment_id":92352755,"body_markdown":"No, it isn’t really the most efficient (I assume you are talking about run time). For the most efficient use the links I posted in comments, they will perform slightly better. But they don’t use your built-in method. This is O(n), however, which is the best big-O complexity you can hope for.","body":"No, it isn’t really the most efficient (I assume you are talking about run time). For the most efficient use the links I posted in comments, they will perform slightly better. But they don’t use your built-in method. This is O(n), however, which is the best big-O complexity you can hope for."}],"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1539071918,"creation_date":1539060456,"answer_id":52713548,"question_id":52713266,"body_markdown":"Since you have the built-in method to sort five elements I suggest: Sort the first five elements from the array. Repeatedly discard the two smallest of the five and replace with two more elements from the array (two elements that have not yet been considered), then sort the five again. In the end take the largest three of the five.\r\n\r\nIt will be possible to do a bit better than what I have sketched. Say you have 25 elements. For each group of 5 find the three largest. Then among the nos. 1 from each group find the three largest. The same for the nos. 2 from each group and the nos. 3. Now we can deduce that the three largest overall will be among the three largest nos. 1, the two largest nos. 2 and the single largest no. 3, that is six elements instead of 9. So we can find the three largest in just two more calls to your built-in method instead of three more calls. Generalizing the idea to any size of the original array will be complicated, though.","title":"Most efficient way to get the largest 3 elements of an array using no comparisons but a procedure for ordering 5 elements descendantly","body":"<p>Since you have the built-in method to sort five elements I suggest: Sort the first five elements from the array. Repeatedly discard the two smallest of the five and replace with two more elements from the array (two elements that have not yet been considered), then sort the five again. In the end take the largest three of the five.</p>\n\n<p>It will be possible to do a bit better than what I have sketched. Say you have 25 elements. For each group of 5 find the three largest. Then among the nos. 1 from each group find the three largest. The same for the nos. 2 from each group and the nos. 3. Now we can deduce that the three largest overall will be among the three largest nos. 1, the two largest nos. 2 and the single largest no. 3, that is six elements instead of 9. So we can find the three largest in just two more calls to your built-in method instead of three more calls. Generalizing the idea to any size of the original array will be complicated, though.</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1539061171,"post_id":52713617,"comment_id":92352838,"body_markdown":"As far as I can tell it will be as efficient as my suggestion, no more, no less. I would consider it more complicated.","body":"As far as I can tell it will be as efficient as my suggestion, no more, no less. I would consider it more complicated."},{"owner":{"account_id":1316676,"reputation":422,"user_id":1263347,"display_name":"Rans"},"score":0,"creation_date":1539061706,"post_id":52713617,"comment_id":92352971,"body_markdown":"That I agree too. Noticed your comment later.","body":"That I agree too. Noticed your comment later."},{"owner":{"account_id":966533,"reputation":944,"user_id":989875,"display_name":"Charles"},"score":0,"creation_date":1539065663,"post_id":52713617,"comment_id":92354363,"body_markdown":"@OleV.V. I disagree with you. your alg would require n/2 calls to complete.  This one should be in some form of log(n). nice.","body":"@OleV.V. I disagree with you. your alg would require n/2 calls to complete.  This one should be in some form of log(n). nice."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1539065776,"post_id":52713617,"comment_id":92354410,"body_markdown":"@Charles You will have to inspect all `n` elements in order to determine the three largest. This solution makes `n / 5` groups of 5, that alone takes O(n). More precisely both this suggestion and mine make `(n - 3) / 2` calls to the built-in method.","body":"@Charles You will have to inspect all <code>n</code> elements in order to determine the three largest. This solution makes <code>n &#47; 5</code> groups of 5, that alone takes O(n). More precisely both this suggestion and mine make <code>(n - 3) &#47; 2</code> calls to the built-in method."},{"owner":{"account_id":966533,"reputation":944,"user_id":989875,"display_name":"Charles"},"score":0,"creation_date":1539088703,"post_id":52713617,"comment_id":92367599,"body_markdown":"The n here isn&#39;t exactly the number of elements.  try it with an example with 10 elements. his alg can do it with 4 compares for the worst case.  you would need 8 compares no matter what.  This difference grows with larger sets.  Another way to thin about it is instead of 5 elements you can sort 6 at a time.  Then it starts to look like a binary tree traversal.3 lower numbers become your left node and 3 larger becomes the right.","body":"The n here isn&#39;t exactly the number of elements.  try it with an example with 10 elements. his alg can do it with 4 compares for the worst case.  you would need 8 compares no matter what.  This difference grows with larger sets.  Another way to thin about it is instead of 5 elements you can sort 6 at a time.  Then it starts to look like a binary tree traversal.3 lower numbers become your left node and 3 larger becomes the right."}],"tags":[],"owner":{"account_id":1316676,"reputation":422,"user_id":1263347,"display_name":"Rans"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539061050,"creation_date":1539061050,"answer_id":52713617,"question_id":52713266,"body_markdown":"How about this method. \r\n\r\n 1. Divide the array into groups of 5\r\n 2. Apply the provided sort method for each group of 5 elements  \r\n 3. Get the first 3 elements from each array \r\n 4. Then merge the identified 3 elements in each group to one single array \r\n 5. Now repeat from step 1 to 4, until the final array size is less than or equal to 5\r\n 6. Get the first 3 elements from the final array ","title":"Most efficient way to get the largest 3 elements of an array using no comparisons but a procedure for ordering 5 elements descendantly","body":"<p>How about this method. </p>\n\n<ol>\n<li>Divide the array into groups of 5</li>\n<li>Apply the provided sort method for each group of 5 elements  </li>\n<li>Get the first 3 elements from each array </li>\n<li>Then merge the identified 3 elements in each group to one single array </li>\n<li>Now repeat from step 1 to 4, until the final array size is less than or equal to 5</li>\n<li>Get the first 3 elements from the final array </li>\n</ol>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1539066155,"post_id":52713667,"comment_id":92354555,"body_markdown":"There seems to be a slight bug in your code. When I use `int arr[] = { 2, 5, 5, 5 };`, I would expect 5, 5, 5, but I get 2, 5, 5. Your basic idea is valid.","body":"There seems to be a slight bug in your code. When I use <code>int arr[] = { 2, 5, 5, 5 };</code>, I would expect 5, 5, 5, but I get 2, 5, 5. Your basic idea is valid."},{"owner":{"display_name":"user3477273"},"score":1,"creation_date":1539066892,"post_id":52713667,"comment_id":92354860,"body_markdown":"let the asker fix it :P","body":"let the asker fix it :P"},{"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"score":1,"creation_date":1539068761,"post_id":52713667,"comment_id":92355700,"body_markdown":"The question is tagged with `java` - your code seems to be `C`","body":"The question is tagged with <code>java</code> - your code seems to be <code>C</code>"},{"owner":{"display_name":"user3477273"},"score":0,"creation_date":1539068938,"post_id":52713667,"comment_id":92355792,"body_markdown":"it is an easy conversion. I stated that in the answer. Just use the console print function of java, put in a class, change the way of declaring the array and you&#39;re done.","body":"it is an easy conversion. I stated that in the answer. Just use the console print function of java, put in a class, change the way of declaring the array and you&#39;re done."},{"owner":{"display_name":"user3477273"},"score":0,"creation_date":1539069004,"post_id":52713667,"comment_id":92355834,"body_markdown":"fixed it, i had to eliminate the lsearch since i stated it was assuming no repetition","body":"fixed it, i had to eliminate the lsearch since i stated it was assuming no repetition"},{"owner":{"account_id":9599750,"reputation":2970,"user_id":7208029,"display_name":"Chai T. Rex"},"score":1,"creation_date":1539070270,"post_id":52713667,"comment_id":92356532,"body_markdown":"This doesn&#39;t fulfill the question&#39;s criterion &quot;I have been given an array of elements and an inbuilt function which can sort 5 elements at a time. How do I use **only this function**…&quot;.","body":"This doesn&#39;t fulfill the question&#39;s criterion &quot;I have been given an array of elements and an inbuilt function which can sort 5 elements at a time. How do I use <b>only this function</b>…&quot;."}],"tags":[],"owner":{"display_name":"user3477273"},"comment_count":6,"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1698681843,"creation_date":1539061358,"answer_id":52713667,"question_id":52713266,"body_markdown":"    #include &lt;iostream&gt;\r\n\r\n\r\n    void sortThree(int res[3]) {\r\n       for(int j = 0; j &lt; 2; j++) {\r\n          if(res[j] &gt; res[j+1])\r\n             std::swap(res[j], res[j+1]);\r\n       }\r\n       if(res[0] &gt; res[1]) std::swap(res[0], res[1]); // second pass\r\n    }\r\n\r\n    bool lsearch(int src[], int n, int k) {\r\n      for(int i = 0; i &lt; n; i++) {\r\n        if(src[i] == k) return true;\r\n      }\r\n      return false;\r\n    }\r\n\r\n    void getThreeLargest(int arr[], int n, int res[3]) {\r\n      res[0] = arr[0];\r\n      res[1] = arr[1];\r\n      res[2] = arr[2];\r\n      sortThree(res);\r\n      for(int i = 3; i &lt; n; i++) {\r\n        // if no repetition wanted\r\n        // if(arr[i] &gt; res[0] &amp;&amp; !lsearch(res, 3, arr[i])) {\r\n        if(arr[i] &gt; res[0]) {\r\n          res[0] = arr[i];\r\n          sortThree(res);\r\n        }\r\n      }\r\n    }\r\n\r\n    int main(int argc, char *argv[])\r\n    {\r\n      int arr[] = {91,21,3,-4,5,2,1,90,9,11};\r\n      int res[3];\r\n      getThreeLargest(arr, 10, res);\r\n      for(int i = 0; i &lt; 3; i++)\r\n        std::cout &lt;&lt; res[i] &lt;&lt; &#39;\\n&#39;;\r\n      return 0;\r\n    }\r\n\r\nVery simple solution here in a c-way to do it. You can easily convert it to Java. Scanning the array is O(n). Since the little array to be sorted and searched has only 3 elements we can easily use linear search to avoid repetition and sorting takes only 2 comparisons. It&#39;s still O(n).","title":"Most efficient way to get the largest 3 elements of an array using no comparisons but a procedure for ordering 5 elements descendantly","body":"<pre><code>#include &lt;iostream&gt;\n\n\nvoid sortThree(int res[3]) {\n   for(int j = 0; j &lt; 2; j++) {\n      if(res[j] &gt; res[j+1])\n         std::swap(res[j], res[j+1]);\n   }\n   if(res[0] &gt; res[1]) std::swap(res[0], res[1]); // second pass\n}\n\nbool lsearch(int src[], int n, int k) {\n  for(int i = 0; i &lt; n; i++) {\n    if(src[i] == k) return true;\n  }\n  return false;\n}\n\nvoid getThreeLargest(int arr[], int n, int res[3]) {\n  res[0] = arr[0];\n  res[1] = arr[1];\n  res[2] = arr[2];\n  sortThree(res);\n  for(int i = 3; i &lt; n; i++) {\n    // if no repetition wanted\n    // if(arr[i] &gt; res[0] &amp;&amp; !lsearch(res, 3, arr[i])) {\n    if(arr[i] &gt; res[0]) {\n      res[0] = arr[i];\n      sortThree(res);\n    }\n  }\n}\n\nint main(int argc, char *argv[])\n{\n  int arr[] = {91,21,3,-4,5,2,1,90,9,11};\n  int res[3];\n  getThreeLargest(arr, 10, res);\n  for(int i = 0; i &lt; 3; i++)\n    std::cout &lt;&lt; res[i] &lt;&lt; '\\n';\n  return 0;\n}\n</code></pre>\n<p>Very simple solution here in a c-way to do it. You can easily convert it to Java. Scanning the array is O(n). Since the little array to be sorted and searched has only 3 elements we can easily use linear search to avoid repetition and sorting takes only 2 comparisons. It's still O(n).</p>\n"},{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1561875472,"post_id":56822595,"comment_id":100198324,"body_markdown":"You have *not* been given an array of integers. You don&#39;t know how to compare elements. You only know how to sort five elements at a time.","body":"You have <i>not</i> been given an array of integers. You don&#39;t know how to compare elements. You only know how to sort five elements at a time."}],"tags":[],"owner":{"account_id":8573716,"reputation":31,"user_id":6423664,"display_name":"Shadab Eqbal"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1561872153,"creation_date":1561872153,"answer_id":56822595,"question_id":52713266,"body_markdown":"    #include&lt;stdio.h&gt;\r\n    #include&lt;limits.h&gt;\r\n\r\n    int retmax(int *a,int n,int exc){\r\n\r\n        int max = INT_MIN;\r\n        for(int i=0;i&lt;n;i++){\r\n            if(a[i] &gt; max &amp;&amp; a[i] &lt; exc)\r\n               max = a[i];\r\n        }\r\n        \r\n        return max;\r\n    }\r\n    \r\n    int main(){\r\n\r\n        int a[]={32,54,12,43,98,45,87};\r\n        int size = sizeof(a)/sizeof(a[0]);\r\n        \r\n        int x = retmax(a,size,INT_MAX);\r\n        int y = retmax(a,size,x);\r\n        int z = retmax(a,size,y);\r\n\r\n        printf(&quot;%d %d %d&quot;,x,y,z);\r\n    }\r\n\r\nA simple O(n) solution.\r\n","title":"Most efficient way to get the largest 3 elements of an array using no comparisons but a procedure for ordering 5 elements descendantly","body":"<pre><code>#include&lt;stdio.h&gt;\n#include&lt;limits.h&gt;\n\nint retmax(int *a,int n,int exc){\n\n    int max = INT_MIN;\n    for(int i=0;i&lt;n;i++){\n        if(a[i] &gt; max &amp;&amp; a[i] &lt; exc)\n           max = a[i];\n    }\n\n    return max;\n}\n\nint main(){\n\n    int a[]={32,54,12,43,98,45,87};\n    int size = sizeof(a)/sizeof(a[0]);\n\n    int x = retmax(a,size,INT_MAX);\n    int y = retmax(a,size,x);\n    int z = retmax(a,size,y);\n\n    printf(\"%d %d %d\",x,y,z);\n}\n</code></pre>\n\n<p>A simple O(n) solution.</p>\n"},{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1698682981,"post_id":77389522,"comment_id":136433363,"body_markdown":"You have _not_ been given an array of integers. You _don&#39;t know_ how to compare elements. You only know how to sort five elements at a time.","body":"You have <i>not</i> been given an array of integers. You <i>don&#39;t know</i> how to compare elements. You only know how to sort five elements at a time."}],"tags":[],"owner":{"account_id":24144518,"reputation":1,"user_id":18110330,"display_name":"Yuvraj Sharma"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1698683205,"creation_date":1698676371,"answer_id":77389522,"question_id":52713266,"body_markdown":"~~~\r\n public class Solution {\r\n   public static void main(String[] args) throws Exception{\r\n\t int[] arr={7,18,92,72,29,57};\t \r\n\t int first,second,third;\r\n\t \r\n\t first=second=third=Integer.MIN_VALUE;\r\n\t \r\n\t for(int i=0;i&lt;arr.length;i++){\r\n\t   if(arr[i]&gt;first){\r\n\t     third=second;\r\n\t     second=first;\r\n\t     first=arr[i];\r\n\t   }else if(arr[i]&gt;second){\r\n\t     third=second;\r\n\t     second=arr[i];\r\n\t   }else{\r\n\t     third=arr[i];\r\n\t   }\r\n\t }\r\n\t System.out.println(&quot;&quot;+first+&quot;\\t&quot;+second+&quot;\\t&quot;+third);\r\n   }\r\n }\r\n~~~","title":"Most efficient way to get the largest 3 elements of an array using no comparisons but a procedure for ordering 5 elements descendantly","body":"<pre><code> public class Solution {\n   public static void main(String[] args) throws Exception{\n     int[] arr={7,18,92,72,29,57};   \n     int first,second,third;\n     \n     first=second=third=Integer.MIN_VALUE;\n     \n     for(int i=0;i&lt;arr.length;i++){\n       if(arr[i]&gt;first){\n         third=second;\n         second=first;\n         first=arr[i];\n       }else if(arr[i]&gt;second){\n         third=second;\n         second=arr[i];\n       }else{\n         third=arr[i];\n       }\n     }\n     System.out.println(&quot;&quot;+first+&quot;\\t&quot;+second+&quot;\\t&quot;+third);\n   }\n }\n</code></pre>\n"}],"owner":{"account_id":9048519,"reputation":103,"user_id":6739710,"accept_rate":33,"display_name":"sharang gupta"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1958,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":52713667,"answer_count":5,"score":0,"last_activity_date":1698685068,"creation_date":1539058311,"question_id":52713266,"body_markdown":"I have been given an array of elements and a &lt;!--n inbuilt --&gt; function which can sort 5 elements at a time.  \r\nHow do I use only this function to obtain the largest 3 elements of the array with the least number of calls to this function? \r\n\r\nThe approach I have tried is dividing the array in groups of 5 each, applying the function on each group, and applying the function on the maximums obtained from each group.\r\n\r\nThis approach fails when the highest and second highest happen to be present in the same group.  \r\nIs there a better approach to do this?","title":"Most efficient way to get the largest 3 elements of an array using no comparisons but a procedure for ordering 5 elements descendantly","body":"<p>I have been given an array of elements and a  function which can sort 5 elements at a time.<br />\nHow do I use only this function to obtain the largest 3 elements of the array with the least number of calls to this function?</p>\n<p>The approach I have tried is dividing the array in groups of 5 each, applying the function on each group, and applying the function on the maximums obtained from each group.</p>\n<p>This approach fails when the highest and second highest happen to be present in the same group.<br />\nIs there a better approach to do this?</p>\n"},{"tags":["java","jasper-reports"],"comments":[{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1532196658,"post_id":51451447,"comment_id":89886998,"body_markdown":"The warning message signaled that you should put right version of iText (you can check version at pom.xml) to the classpath","body":"The warning message signaled that you should put right version of iText (you can check version at pom.xml) to the classpath"}],"answers":[{"comments":[{"owner":{"account_id":3788477,"reputation":1022,"user_id":3145679,"accept_rate":67,"display_name":"code4fun"},"score":0,"creation_date":1545135215,"post_id":51957724,"comment_id":94513699,"body_markdown":"Hi, I&#39;m sorry: I use jasper report 6.7.0. In the maven dependency I see they use iText 2.1.7.js6. Now With maven I have declared as dependency iText version 2.1.7. But I got always the WARN: n.s.j.engine.export.PdfGlyphRenderer     : Unpatched iText found, cannot use glyph rendering. I didn&#39;t understand how I can avoid them.....What I&#39;m doing wrong?","body":"Hi, I&#39;m sorry: I use jasper report 6.7.0. In the maven dependency I see they use iText 2.1.7.js6. Now With maven I have declared as dependency iText version 2.1.7. But I got always the WARN: n.s.j.engine.export.PdfGlyphRenderer     : Unpatched iText found, cannot use glyph rendering. I didn&#39;t understand how I can avoid them.....What I&#39;m doing wrong?"},{"owner":{"account_id":8049391,"reputation":79,"user_id":8442153,"display_name":"dalmo.santos"},"score":0,"creation_date":1581525072,"post_id":51957724,"comment_id":106466110,"body_markdown":"Hi. I found this link: (http://jaspersoft.jfrog.io/jaspersoft/third-party-ce-artifacts/com/lowagie/itext/2.1.7.js6/) Maybe it helps","body":"Hi. I found this link: (<a href=\"http://jaspersoft.jfrog.io/jaspersoft/third-party-ce-artifacts/com/lowagie/itext/2.1.7.js6/\" rel=\"nofollow noreferrer\">jaspersoft.jfrog.io/jaspersoft/third-party-ce-artifacts/com&zwnj;&#8203;/&hellip;</a>) Maybe it helps"},{"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"score":0,"creation_date":1678779045,"post_id":51957724,"comment_id":133594778,"body_markdown":"how did you resolve this, I&#39;m getting the same warning and my report is not getting generated.","body":"how did you resolve this, I&#39;m getting the same warning and my report is not getting generated."},{"owner":{"account_id":3391681,"reputation":828,"user_id":2848067,"display_name":"kkk"},"score":0,"creation_date":1678874939,"post_id":51957724,"comment_id":133616307,"body_markdown":"@Ruch i solved by using the specific version of iText i linked above. Beware that iText 2.1.7.js4 is not the same as iText 2.1.7. It is in fact a **js4** version made for *jasper studio*","body":"@Ruch i solved by using the specific version of iText i linked above. Beware that iText 2.1.7.js4 is not the same as iText 2.1.7. It is in fact a <b>js4</b> version made for <i>jasper studio</i>"},{"owner":{"account_id":3391681,"reputation":828,"user_id":2848067,"display_name":"kkk"},"score":0,"creation_date":1678875474,"post_id":51957724,"comment_id":133616465,"body_markdown":"btw new version of iText for *jasper studio* are available \n\nhttps://jaspersoft.jfrog.io/ui/native/third-party-ce-artifacts/com/lowagie/itext/","body":"btw new version of iText for <i>jasper studio</i> are available   <a href=\"https://jaspersoft.jfrog.io/ui/native/third-party-ce-artifacts/com/lowagie/itext/\" rel=\"nofollow noreferrer\">jaspersoft.jfrog.io/ui/native/third-party-ce-artifacts/com/&hellip;</a>"}],"tags":[],"owner":{"account_id":3391681,"reputation":828,"user_id":2848067,"display_name":"kkk"},"comment_count":5,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1534891868,"creation_date":1534891868,"answer_id":51957724,"question_id":51451447,"body_markdown":"Jasper uses a special version of iText: **2.1.7.js4**\r\n\r\nCorrect version can be downloaded [here][1]\r\n\r\n  [1]: http://jasperreports.sourceforge.net/maven2/com/lowagie/itext/2.1.7.js4/\r\n","title":"Unpatched iText found, cannot use glyph rendering","body":"<p>Jasper uses a special version of iText: <strong>2.1.7.js4</strong></p>\n\n<p>Correct version can be downloaded <a href=\"http://jasperreports.sourceforge.net/maven2/com/lowagie/itext/2.1.7.js4/\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":13065194,"reputation":73,"user_id":9440826,"display_name":"Gaur 97"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663073002,"creation_date":1663073002,"answer_id":73703272,"question_id":51451447,"body_markdown":"In my case, I am not passing the right parameter to Jesper to generate JesperPrint. Error is not giving correctly in console when data is not printing on output Jesper PDF. \r\nNow after giving right parameter it is also showing this massage but my data is printing correcly.\r\n\r\nI have used these dependencies:\r\n \r\n    &lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;6.4.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;jasperreports-fonts&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;6.0.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.lowagie&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;itext&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.1.7&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"Unpatched iText found, cannot use glyph rendering","body":"<p>In my case, I am not passing the right parameter to Jesper to generate JesperPrint. Error is not giving correctly in console when data is not printing on output Jesper PDF.\nNow after giving right parameter it is also showing this massage but my data is printing correcly.</p>\n<p>I have used these dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n    &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n    &lt;version&gt;6.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n    &lt;artifactId&gt;jasperreports-fonts&lt;/artifactId&gt;\n    &lt;version&gt;6.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\n    &lt;artifactId&gt;itext&lt;/artifactId&gt;\n    &lt;version&gt;2.1.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":10772096,"reputation":143,"user_id":7925294,"display_name":"Felipe Bed&#234;"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21898,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1698684906,"creation_date":1532128515,"question_id":51451447,"body_markdown":"I&#39;m using SpringBoot, and I&#39;m trying to generate a report using Jasper Report 6.4.3, but keep getting this warning on console:\r\n\r\n&gt; WARN 25847 --- [tp1694467519-34] n.s.j.engine.export.PdfGlyphRenderer     : Unpatched iText found, cannot use glyph rendering\r\n\r\nAnd I can&#39;t get the report generated.\r\n\r\n","title":"Unpatched iText found, cannot use glyph rendering","body":"<p>I'm using SpringBoot, and I'm trying to generate a report using Jasper Report 6.4.3, but keep getting this warning on console:</p>\n<blockquote>\n<p>WARN 25847 --- [tp1694467519-34] n.s.j.engine.export.PdfGlyphRenderer     : Unpatched iText found, cannot use glyph rendering</p>\n</blockquote>\n<p>And I can't get the report generated.</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":1090437,"reputation":6796,"user_id":1085186,"accept_rate":100,"display_name":"StackFlowed"},"score":1,"creation_date":1698683264,"post_id":77390348,"comment_id":136433427,"body_markdown":"Add a check in saveandflush is user is set if not then throw an error or don&#39;t update it. depneding on your use case","body":"Add a check in saveandflush is user is set if not then throw an error or don&#39;t update it. depneding on your use case"},{"owner":{"account_id":3035565,"reputation":632,"user_id":2573750,"accept_rate":88,"display_name":"David_Garcia"},"score":0,"creation_date":1698684731,"post_id":77390348,"comment_id":136433742,"body_markdown":"The thing is that when jpa do the update I want always to put user (even if it is the same one as before)","body":"The thing is that when jpa do the update I want always to put user (even if it is the same one as before)"},{"owner":{"account_id":1090437,"reputation":6796,"user_id":1085186,"accept_rate":100,"display_name":"StackFlowed"},"score":1,"creation_date":1698685545,"post_id":77390348,"comment_id":136433888,"body_markdown":"are you clearing the user somewhere  ?? if not then it should be in memory from the first saveAndFlush.","body":"are you clearing the user somewhere  ?? if not then it should be in memory from the first saveAndFlush."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1698694566,"post_id":77390348,"comment_id":136435483,"body_markdown":"Sounds like an opportunity to contribute to hibernate.  Possibly add an optional attribute to `@DynamicUpdate` to always include the designated entity field(s) in the general SQL.  Or maybe  create a new annotation, something like `@AlwaysUpdate` applied to an entity field, to modify the default behavior of `@DynamicUpdate`.  But what if no other field value actually changed?","body":"Sounds like an opportunity to contribute to hibernate.  Possibly add an optional attribute to <code>@DynamicUpdate</code> to always include the designated entity field(s) in the general SQL.  Or maybe  create a new annotation, something like <code>@AlwaysUpdate</code> applied to an entity field, to modify the default behavior of <code>@DynamicUpdate</code>.  But what if no other field value actually changed?"},{"owner":{"account_id":3035565,"reputation":632,"user_id":2573750,"accept_rate":88,"display_name":"David_Garcia"},"score":0,"creation_date":1698736713,"post_id":77390348,"comment_id":136439729,"body_markdown":"@StackFlowed, no necesarially need to be clearing the user. There is 2 updates with the same user.","body":"@StackFlowed, no necesarially need to be clearing the user. There is 2 updates with the same user."},{"owner":{"account_id":3035565,"reputation":632,"user_id":2573750,"accept_rate":88,"display_name":"David_Garcia"},"score":0,"creation_date":1698736718,"post_id":77390348,"comment_id":136439731,"body_markdown":"@AndrewS I will contact the hibernate to see how we can do it. And for your question, if only the user change, for my understand is the row has to change ( the owner sell the car and now other person has it).","body":"@AndrewS I will contact the hibernate to see how we can do it. And for your question, if only the user change, for my understand is the row has to change ( the owner sell the car and now other person has it)."},{"owner":{"account_id":1090437,"reputation":6796,"user_id":1085186,"accept_rate":100,"display_name":"StackFlowed"},"score":0,"creation_date":1698760142,"post_id":77390348,"comment_id":136444043,"body_markdown":"@David_Garcia instead of clearing after saveAndFlush check before if there is no user then dont clear it if there is a user passed then clear the old value.","body":"@David_Garcia instead of clearing after saveAndFlush check before if there is no user then dont clear it if there is a user passed then clear the old value."}],"owner":{"account_id":3035565,"reputation":632,"user_id":2573750,"accept_rate":88,"display_name":"David_Garcia"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698684845,"creation_date":1698683125,"question_id":77390348,"body_markdown":"I have a requirement to always update a field of a entity when this entity is updating. My entity is like:\r\n```@Entity\r\n@Table(name = &quot;Car&quot;)\r\n@Data\r\n@DynamicUpdate\r\npublic class CarEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;UUID&quot;)\r\n    @GenericGenerator(\r\n            name = &quot;UUID&quot;,\r\n            strategy = &quot;uuid2&quot;\r\n    )\r\n    @Column(name = &quot;Id&quot;, nullable = false)\r\n    private String id;\r\n\r\n    @Column(name = &quot;Client_Id&quot;)\r\n    private String clientId;\r\n\r\n    @Column(name = &quot;Color&quot;, length = 45)\r\n    private String color;\r\n\t\r\n\t@Column(name = &quot;Brand&quot;)\r\n\tprivate String brand;\r\n}\r\n\r\npublic interface CarRepository extends JpaRepository&lt;CarEntity, String&gt;{\r\n}\r\n\r\n```\r\nClientid has always to be force to update when any other field is updating like brand or color. The reason of this is that in my db I have to have a register that the update need to be log with the user. But when JPA does it because the DynamicUpdate, only build the update with the fields that are different from before but I want to build it always with the user on it.\r\n\r\nI didn&#39;t find any tip of what I can do, when I do \r\n```\r\n// things before\r\ncar.setColor(&quot;red&quot;);\r\ncar.setUser(&quot;me&quot;);\r\ncar.saveAndFlush(car)\r\n\r\n// do more things\r\ncar.setColor(&quot;blue&quot;);\r\ncar.saveAndFlush(car)\r\n```\r\n\r\nSo when I go with this code to the db I see:\r\n```\r\nupdate color, user\r\nupdate color\r\n```\r\n\r\nAny idea of what I can do to always pass the user?\r\nThanks!","title":"Force to update a field even if didnt change in a entity that use dynamicupdate","body":"<p>I have a requirement to always update a field of a entity when this entity is updating. My entity is like:</p>\n<pre><code>@Table(name = &quot;Car&quot;)\n@Data\n@DynamicUpdate\npublic class CarEntity {\n\n    @Id\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(\n            name = &quot;UUID&quot;,\n            strategy = &quot;uuid2&quot;\n    )\n    @Column(name = &quot;Id&quot;, nullable = false)\n    private String id;\n\n    @Column(name = &quot;Client_Id&quot;)\n    private String clientId;\n\n    @Column(name = &quot;Color&quot;, length = 45)\n    private String color;\n    \n    @Column(name = &quot;Brand&quot;)\n    private String brand;\n}\n\npublic interface CarRepository extends JpaRepository&lt;CarEntity, String&gt;{\n}\n\n</code></pre>\n<p>Clientid has always to be force to update when any other field is updating like brand or color. The reason of this is that in my db I have to have a register that the update need to be log with the user. But when JPA does it because the DynamicUpdate, only build the update with the fields that are different from before but I want to build it always with the user on it.</p>\n<p>I didn't find any tip of what I can do, when I do</p>\n<pre><code>// things before\ncar.setColor(&quot;red&quot;);\ncar.setUser(&quot;me&quot;);\ncar.saveAndFlush(car)\n\n// do more things\ncar.setColor(&quot;blue&quot;);\ncar.saveAndFlush(car)\n</code></pre>\n<p>So when I go with this code to the db I see:</p>\n<pre><code>update color, user\nupdate color\n</code></pre>\n<p>Any idea of what I can do to always pass the user?\nThanks!</p>\n"},{"tags":["java","android","mathjax"],"answers":[{"tags":[],"owner":{"account_id":235490,"reputation":11471,"user_id":502334,"display_name":"Davide Cervone"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698684258,"creation_date":1698684258,"answer_id":77390465,"question_id":77345501,"body_markdown":"You appear to be loading MathJax version 3 (`file:///android_asset/es5/tex-mml-chtml.js`), but are using version 2 calls (`MathJax.Hub`).  The two versions use very different APIs.  See the [documentation](https://docs.mathjax.org/en/latest/upgrading/v2.html) for help in upgrading to version 3.\r\n\r\nInstead of `MathJax.Hub.Queue([&#39;Typeset&#39;, MathJax.Hub, &#39;output&#39;]);`, try\r\n\r\n``` js\r\nMathJax.typesetPromise([&#39;#output&#39;]);\r\n```\r\n\r\ninstead.","title":"MathJax Rendering is not working properly in Android","body":"<p>You appear to be loading MathJax version 3 (<code>file:///android_asset/es5/tex-mml-chtml.js</code>), but are using version 2 calls (<code>MathJax.Hub</code>).  The two versions use very different APIs.  See the <a href=\"https://docs.mathjax.org/en/latest/upgrading/v2.html\" rel=\"nofollow noreferrer\">documentation</a> for help in upgrading to version 3.</p>\n<p>Instead of <code>MathJax.Hub.Queue(['Typeset', MathJax.Hub, 'output']);</code>, try</p>\n<pre class=\"lang-js prettyprint-override\"><code>MathJax.typesetPromise(['#output']);\n</code></pre>\n<p>instead.</p>\n"}],"owner":{"account_id":8994806,"reputation":284,"user_id":7037351,"display_name":"baponkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77390465,"answer_count":1,"score":0,"last_activity_date":1698684258,"creation_date":1698066654,"question_id":77345501,"body_markdown":"I want to render some MathJax code by using MathJax-3.2.2 in WebView. So I have written some code for that :\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_latex);\r\n\r\n        webView = findViewById(R.id.webView);\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.setWebViewClient(new android.webkit.WebViewClient());\r\n        //webView.loadUrl(&quot;https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML&quot;);\r\n\r\n        //initial loading the page\r\n        webView.loadUrl(&quot;file:///android_asset/latex_page.html&quot;);\r\n\r\n        btn = findViewById(R.id.btn);\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String latex = &quot;$$(-b+sqrt(-b^2-4ac)) / (2a)$$&quot;;\r\n                String escapedExpression = escapeLatex(latex);\r\n                String javascript = &quot;javascript:MathJax.Hub.Queue([&#39;Typeset&#39;, MathJax.Hub, &#39;output&#39;]);&quot; +\r\n                        &quot;document.getElementById(&#39;output&#39;).innerHTML = &#39;\\\\(&quot; + escapedExpression + &quot;\\\\)&#39;;&quot;;\r\n                webView.loadUrl(javascript);\r\n\r\n\r\n            }\r\n        });\r\n\r\n    }\r\nwhere when Button will press a new MathJax code should be shown by the end but unfortunately the initial rendering is good but when I am trying to update WebView it is showing nothing.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCan anyone help to change the **onClick()** method so that it will render properly.\r\n\r\nlatex_page.html is like\r\n\r\n    &lt;html&gt;\r\n\r\n    &lt;head&gt;\r\n        &lt;script type=&quot;text/javascript&quot; src=&quot;file:///android_asset/es5/tex-mml-chtml.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script type=&quot;text/x-mathjax-config&quot;&gt;\r\n            MathJax.Hub.Config({\r\n                jax: [&quot;input/TeX&quot;, &quot;output/CommonHTML&quot;],\r\n                tex2jax: {\r\n                    inlineMath: [[&#39;$&#39;, &#39;$&#39;], [&#39;\\\\(&#39;, &#39;\\\\)&#39;]],\r\n                    displayMath: [[&#39;$$&#39;, &#39;$$&#39;], [&#39;\\\\[&#39;, &#39;\\\\]&#39;]],\r\n                    processEscapes: true\r\n                },\r\n                CommonHTML: { linebreaks: { automatic: true } },\r\n                displayAlign: &#39;center&#39;,\r\n                displayIndent: &#39;0&#39;\r\n            });\r\n        &lt;/script&gt;\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n        &lt;p&gt; This LaTex cod load during create activity $$ax^2+bx+c=0$$&lt;/p&gt;\r\n        &lt;p&gt;New LaTex render should show below:&lt;/p&gt;\r\n        &lt;div id=&quot;output&quot;&gt;&lt;/div&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\nAn Error : \r\n\r\n&gt; I/chromium: [INFO:CONSOLE(1)] &quot;Uncaught TypeError: Cannot read property &#39;Queue&#39; of undefined&quot;, source: file:///android_asset/latex_page.html (1)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JDoDz.gif\r\n  [2]: https://i.stack.imgur.com/8j03f.png","title":"MathJax Rendering is not working properly in Android","body":"<p>I want to render some MathJax code by using MathJax-3.2.2 in WebView. So I have written some code for that :</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_latex);\n\n    webView = findViewById(R.id.webView);\n    webView.getSettings().setJavaScriptEnabled(true);\n    webView.setWebViewClient(new android.webkit.WebViewClient());\n    //webView.loadUrl(&quot;https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML&quot;);\n\n    //initial loading the page\n    webView.loadUrl(&quot;file:///android_asset/latex_page.html&quot;);\n\n    btn = findViewById(R.id.btn);\n    btn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            String latex = &quot;$$(-b+sqrt(-b^2-4ac)) / (2a)$$&quot;;\n            String escapedExpression = escapeLatex(latex);\n            String javascript = &quot;javascript:MathJax.Hub.Queue(['Typeset', MathJax.Hub, 'output']);&quot; +\n                    &quot;document.getElementById('output').innerHTML = '\\\\(&quot; + escapedExpression + &quot;\\\\)';&quot;;\n            webView.loadUrl(javascript);\n\n\n        }\n    });\n\n}\n</code></pre>\n<p>where when Button will press a new MathJax code should be shown by the end but unfortunately the initial rendering is good but when I am trying to update WebView it is showing nothing.</p>\n<p><a href=\"https://i.stack.imgur.com/JDoDz.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JDoDz.gif\" alt=\"enter image description here\" /></a></p>\n<p>Can anyone help to change the <strong>onClick()</strong> method so that it will render properly.</p>\n<p>latex_page.html is like</p>\n<pre><code>&lt;html&gt;\n\n&lt;head&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;file:///android_asset/es5/tex-mml-chtml.js&quot;&gt;&lt;/script&gt;\n    &lt;script type=&quot;text/x-mathjax-config&quot;&gt;\n        MathJax.Hub.Config({\n            jax: [&quot;input/TeX&quot;, &quot;output/CommonHTML&quot;],\n            tex2jax: {\n                inlineMath: [['$', '$'], ['\\\\(', '\\\\)']],\n                displayMath: [['$$', '$$'], ['\\\\[', '\\\\]']],\n                processEscapes: true\n            },\n            CommonHTML: { linebreaks: { automatic: true } },\n            displayAlign: 'center',\n            displayIndent: '0'\n        });\n    &lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;p&gt; This LaTex cod load during create activity $$ax^2+bx+c=0$$&lt;/p&gt;\n    &lt;p&gt;New LaTex render should show below:&lt;/p&gt;\n    &lt;div id=&quot;output&quot;&gt;&lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>An Error :</p>\n<blockquote>\n<p>I/chromium: [INFO:CONSOLE(1)] &quot;Uncaught TypeError: Cannot read property 'Queue' of undefined&quot;, source: file:///android_asset/latex_page.html (1)</p>\n</blockquote>\n"},{"tags":["java","jersey","gson"],"comments":[{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":0,"creation_date":1698684385,"post_id":77390415,"comment_id":136433672,"body_markdown":"Did you use `@Consumes(MediaType.APPLICATION_JSON)` on the handler, too?","body":"Did you use <code>@Consumes(MediaType.APPLICATION_JSON)</code> on the handler, too?"},{"owner":{"account_id":3474721,"reputation":21,"user_id":3512508,"display_name":"Ricardo Almeida"},"score":0,"creation_date":1698687803,"post_id":77390415,"comment_id":136434324,"body_markdown":"@jan.supol no... but had just tried it locally and it&#39;s the same result :(","body":"@jan.supol no... but had just tried it locally and it&#39;s the same result :("},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1698693428,"post_id":77390415,"comment_id":136435287,"body_markdown":"Check your `isReadable()` implementation. It should return true for User and String. If it is, then you might need to add a `@Priority` to the provider class","body":"Check your <code>isReadable()</code> implementation. It should return true for User and String. If it is, then you might need to add a <code>@Priority</code> to the provider class"},{"owner":{"account_id":3474721,"reputation":21,"user_id":3512508,"display_name":"Ricardo Almeida"},"score":0,"creation_date":1698710573,"post_id":77390415,"comment_id":136437292,"body_markdown":"@PaulSamsotha ```isReadable()``` [always return true](https://github.com/i23098/jerseyGsonHandler/blob/7f71aa3664dbd81478e36ca11f421742bd02a02e/src/main/java/com/github/i23098/jerseyGsonHandler/config/GsonMessageBodyHandler.java#L28)\n\nNot sure where you mean to add the annotation, I tried adding ```@Priority(1)``` to ```GsonMessageBodyHandler``` and still got the same result.","body":"@PaulSamsotha <code>isReadable()</code> <a href=\"https://github.com/i23098/jerseyGsonHandler/blob/7f71aa3664dbd81478e36ca11f421742bd02a02e/src/main/java/com/github/i23098/jerseyGsonHandler/config/GsonMessageBodyHandler.java#L28\" rel=\"nofollow noreferrer\">always return true</a>  Not sure where you mean to add the annotation, I tried adding <code>@Priority(1)</code> to <code>GsonMessageBodyHandler</code> and still got the same result."},{"owner":{"account_id":3474721,"reputation":21,"user_id":3512508,"display_name":"Ricardo Almeida"},"score":0,"creation_date":1698711286,"post_id":77390415,"comment_id":136437367,"body_markdown":"I manage to get it to work on the receiving part of the parameter. By defining the param as Object, it seems Jersey will now parse it instead of putting the exact String with the double-quotes (i.e. ```public Response helloStr(Object name) {```).\n\nFor the Response, it seems that even casting to Object doesn&#39;t make a change, if entity is a String, jersey responds exactly the content of the String instead of using the toJson.","body":"I manage to get it to work on the receiving part of the parameter. By defining the param as Object, it seems Jersey will now parse it instead of putting the exact String with the double-quotes (i.e. <code>public Response helloStr(Object name) {</code>).  For the Response, it seems that even casting to Object doesn&#39;t make a change, if entity is a String, jersey responds exactly the content of the String instead of using the toJson."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1698800854,"post_id":77390415,"comment_id":136450748,"body_markdown":"Try to set the Accept header to application/json too in the request. And add the @Produces to to the handler as well as Consumes","body":"Try to set the Accept header to application/json too in the request. And add the @Produces to to the handler as well as Consumes"},{"owner":{"account_id":3474721,"reputation":21,"user_id":3512508,"display_name":"Ricardo Almeida"},"score":0,"creation_date":1698923404,"post_id":77390415,"comment_id":136467130,"body_markdown":"@PaulSamsotha it doesn&#39;t make a difference, same result :( It seems that Jersey doesn&#39;t call the GSON Handler for String, always using the default - https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest3x/message-body-workers.html - for input, it treats it same as text/plain basically.\n\nCan&#39;t find a way to tell Jersey to treat String as all other objects (i.e. go through the gson handler) :( Knowing this, I could just use make those calls use text/plain. But that requires special case handling instead of just always using json.","body":"@PaulSamsotha it doesn&#39;t make a difference, same result :( It seems that Jersey doesn&#39;t call the GSON Handler for String, always using the default - <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest3x/message-body-workers.html\" rel=\"nofollow noreferrer\">eclipse-ee4j.github.io/jersey.github.io/documentation/latest&zwnj;&#8203;3x/&hellip;</a> - for input, it treats it same as text/plain basically.  Can&#39;t find a way to tell Jersey to treat String as all other objects (i.e. go through the gson handler) :( Knowing this, I could just use make those calls use text/plain. But that requires special case handling instead of just always using json."}],"owner":{"account_id":3474721,"reputation":21,"user_id":3512508,"display_name":"Ricardo Almeida"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698683750,"creation_date":1698683750,"question_id":77390415,"body_markdown":"I created a simple project to test jersey + GSON, available at https://github.com/i23098/jerseyGsonHandler\r\n\r\nI created ```GsonMessageBodyHandler implements MessageBodyReader&lt;Object&gt;, MessageBodyWriter&lt;Object&gt;``` that does ```System.out.println``` on ```readFrom``` and ```writeTo``` so that I could check if it is being invoked.\r\n\r\n```java\r\n    @Override\r\n    public Object readFrom(Class&lt;Object&gt; type, Type genericType, Annotation[] annotations, MediaType mediaType, MultivaluedMap&lt;String, String&gt; httpHeaders, InputStream entityStream) throws IOException, WebApplicationException {\r\n        Type jsonType = Collection.class.isAssignableFrom(type) ? genericType : type;\r\n        Object o;\r\n        try (Reader jsonReader = new InputStreamReader(entityStream, StandardCharsets.UTF_8)) {\r\n            o = gson.fromJson(jsonReader, jsonType);\r\n        }\r\n\r\n        System.out.println(&quot;GsonMessageBodyHandler.readFrom() -= &quot; + o + &quot; =-&quot;);\r\n\r\n        return o;\r\n    }\r\n\r\n    @Override\r\n    public void writeTo(Object o, Class&lt;?&gt; type, Type genericType, Annotation[] annotations, MediaType mediaType, MultivaluedMap&lt;String, Object&gt; httpHeaders, OutputStream entityStream) throws IOException, WebApplicationException {\r\n        Type jsonType = Collection.class.isAssignableFrom(type) ? genericType : type;\r\n        try (OutputStreamWriter writer = new OutputStreamWriter(entityStream, StandardCharsets.UTF_8)) {\r\n            gson.toJson(o, jsonType, writer);\r\n        }\r\n\r\n        System.out.println(&quot;GsonMessageBodyHandler.writeTo() -= &quot; + o + &quot; =-  &quot; + gson.toJson(o, jsonType));\r\n    }\r\n```\r\n\r\nI have a resource with 2 entry-points, one using string for input/response and another using object for input/response.\r\n\r\n```java\r\n@Path(&quot;/hello&quot;)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\n@Produces(MediaType.APPLICATION_JSON)\r\npublic class HelloResource {\r\n\r\n    @Path(&quot;/str&quot;)\r\n    @POST\r\n    public Response helloStr(String name) {\r\n        System.out.println(&quot;Got hello string request [&quot; + name + &quot;]&quot;);\r\n\r\n        String msg = &quot;Hello &quot; + name + &quot;!&quot;;\r\n        return Response.ok().entity(msg).build();\r\n    }\r\n\r\n    @Path(&quot;/obj&quot;)\r\n    @POST\r\n    public Response helloStr(User user) {\r\n        System.out.println(&quot;Got hello object request [&quot; + user + &quot;]&quot;);\r\n\r\n        Message msg = new Message(&quot;Hello &quot; + user.name() + &quot;!&quot;);\r\n        return Response.ok().entity(msg).build();\r\n    }\r\n}\r\n```\r\n\r\nI did a webpage with a simple form (just an input box and 2 buttons) to test the resources with the following javascript:\r\n\r\n```javascript\r\n        function doIt(isSendString) {\r\n            const name = document.getElementById(&#39;name&#39;).value;\r\n\r\n            const opts = {\r\n                method: &#39;POST&#39;,\r\n                headers: {\r\n                    &#39;Content-Type&#39;: &#39;application/json&#39;\r\n                },\r\n                body: JSON.stringify(isSendString ? name : {name: name})\r\n            }\r\n\r\n            fetch(&#39;ws/hello/&#39; + (isSendString ? &#39;str&#39; : &#39;obj&#39;), opts).then(response =&gt; {\r\n                if (response.ok) {\r\n                    response.json().then(rs =&gt; {\r\n                        const msg = isSendString ? rs : rs.message;\r\n                        alert(&#39;Got: &#39; + msg);\r\n                    }).catch(e =&gt; {\r\n                        console.log(response, e);\r\n                        alert(&#39;Error parsing data&#39;);\r\n                    });\r\n                } else {\r\n                    console.log(response);\r\n                    alert(&#39;Error fetching data&#39;);\r\n                }\r\n            });\r\n\r\n            return false;\r\n        }\r\n```\r\n\r\nUsing the ```/str``` entry point, it doesn&#39;t work as intended...\r\n\r\n* In the network tab it can be seen that the request is ```&quot;Ricardo Almeida&quot;``` and the response is ```Hello &quot;Ricardo Almeida&quot;!``` instead of ```&quot;Hello Ricardo Almeida!&quot;``` or, at most, ```&#39;Hello Ricardo Almeida!&#39;```.\r\n\r\n* On the server, it shows the message from the resource but not from the GSON handler. The string includes double-quotes!!!\r\n\r\n```\r\nGot hello string request [&quot;Ricardo Almeida&quot;]\r\n```\r\n\r\nUsing the ```/obj``` entry point, it works fine.\r\n\r\n* In the network tab it can be seen that the request is ```{&quot;name&quot;:&quot;Ricardo Almeida&quot;}``` and the response is ```{&quot;message&quot;: &quot;Hello Ricardo Almeida!&quot;}```.\r\n* On the server, it shows the 3 messages as expected (read from GSON handler, resource and write from GSON handler).\r\n\r\n```\r\nGsonMessageBodyHandler.readFrom() -= User[name=Ricardo Almeida] =-\r\nGot hello object request [User[name=Ricardo Almeida]]\r\nGsonMessageBodyHandler.writeTo() -= Message[message=Hello Ricardo Almeida!] =-  {&quot;message&quot;:&quot;Hello Ricardo Almeida!&quot;}\r\n```\r\n\r\nHow can I make Jersey use GSON Handler for String (and properly process it)?","title":"Jersey not invoking GSON Handler for String","body":"<p>I created a simple project to test jersey + GSON, available at <a href=\"https://github.com/i23098/jerseyGsonHandler\" rel=\"nofollow noreferrer\">https://github.com/i23098/jerseyGsonHandler</a></p>\n<p>I created <code>GsonMessageBodyHandler implements MessageBodyReader&lt;Object&gt;, MessageBodyWriter&lt;Object&gt;</code> that does <code>System.out.println</code> on <code>readFrom</code> and <code>writeTo</code> so that I could check if it is being invoked.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public Object readFrom(Class&lt;Object&gt; type, Type genericType, Annotation[] annotations, MediaType mediaType, MultivaluedMap&lt;String, String&gt; httpHeaders, InputStream entityStream) throws IOException, WebApplicationException {\n        Type jsonType = Collection.class.isAssignableFrom(type) ? genericType : type;\n        Object o;\n        try (Reader jsonReader = new InputStreamReader(entityStream, StandardCharsets.UTF_8)) {\n            o = gson.fromJson(jsonReader, jsonType);\n        }\n\n        System.out.println(&quot;GsonMessageBodyHandler.readFrom() -= &quot; + o + &quot; =-&quot;);\n\n        return o;\n    }\n\n    @Override\n    public void writeTo(Object o, Class&lt;?&gt; type, Type genericType, Annotation[] annotations, MediaType mediaType, MultivaluedMap&lt;String, Object&gt; httpHeaders, OutputStream entityStream) throws IOException, WebApplicationException {\n        Type jsonType = Collection.class.isAssignableFrom(type) ? genericType : type;\n        try (OutputStreamWriter writer = new OutputStreamWriter(entityStream, StandardCharsets.UTF_8)) {\n            gson.toJson(o, jsonType, writer);\n        }\n\n        System.out.println(&quot;GsonMessageBodyHandler.writeTo() -= &quot; + o + &quot; =-  &quot; + gson.toJson(o, jsonType));\n    }\n</code></pre>\n<p>I have a resource with 2 entry-points, one using string for input/response and another using object for input/response.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/hello&quot;)\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\npublic class HelloResource {\n\n    @Path(&quot;/str&quot;)\n    @POST\n    public Response helloStr(String name) {\n        System.out.println(&quot;Got hello string request [&quot; + name + &quot;]&quot;);\n\n        String msg = &quot;Hello &quot; + name + &quot;!&quot;;\n        return Response.ok().entity(msg).build();\n    }\n\n    @Path(&quot;/obj&quot;)\n    @POST\n    public Response helloStr(User user) {\n        System.out.println(&quot;Got hello object request [&quot; + user + &quot;]&quot;);\n\n        Message msg = new Message(&quot;Hello &quot; + user.name() + &quot;!&quot;);\n        return Response.ok().entity(msg).build();\n    }\n}\n</code></pre>\n<p>I did a webpage with a simple form (just an input box and 2 buttons) to test the resources with the following javascript:</p>\n<pre class=\"lang-js prettyprint-override\"><code>        function doIt(isSendString) {\n            const name = document.getElementById('name').value;\n\n            const opts = {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(isSendString ? name : {name: name})\n            }\n\n            fetch('ws/hello/' + (isSendString ? 'str' : 'obj'), opts).then(response =&gt; {\n                if (response.ok) {\n                    response.json().then(rs =&gt; {\n                        const msg = isSendString ? rs : rs.message;\n                        alert('Got: ' + msg);\n                    }).catch(e =&gt; {\n                        console.log(response, e);\n                        alert('Error parsing data');\n                    });\n                } else {\n                    console.log(response);\n                    alert('Error fetching data');\n                }\n            });\n\n            return false;\n        }\n</code></pre>\n<p>Using the <code>/str</code> entry point, it doesn't work as intended...</p>\n<ul>\n<li><p>In the network tab it can be seen that the request is <code>&quot;Ricardo Almeida&quot;</code> and the response is <code>Hello &quot;Ricardo Almeida&quot;!</code> instead of <code>&quot;Hello Ricardo Almeida!&quot;</code> or, at most, <code>'Hello Ricardo Almeida!'</code>.</p>\n</li>\n<li><p>On the server, it shows the message from the resource but not from the GSON handler. The string includes double-quotes!!!</p>\n</li>\n</ul>\n<pre><code>Got hello string request [&quot;Ricardo Almeida&quot;]\n</code></pre>\n<p>Using the <code>/obj</code> entry point, it works fine.</p>\n<ul>\n<li>In the network tab it can be seen that the request is <code>{&quot;name&quot;:&quot;Ricardo Almeida&quot;}</code> and the response is <code>{&quot;message&quot;: &quot;Hello Ricardo Almeida!&quot;}</code>.</li>\n<li>On the server, it shows the 3 messages as expected (read from GSON handler, resource and write from GSON handler).</li>\n</ul>\n<pre><code>GsonMessageBodyHandler.readFrom() -= User[name=Ricardo Almeida] =-\nGot hello object request [User[name=Ricardo Almeida]]\nGsonMessageBodyHandler.writeTo() -= Message[message=Hello Ricardo Almeida!] =-  {&quot;message&quot;:&quot;Hello Ricardo Almeida!&quot;}\n</code></pre>\n<p>How can I make Jersey use GSON Handler for String (and properly process it)?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"score":0,"creation_date":1548273294,"post_id":54334684,"comment_id":95486871,"body_markdown":"[Java generics tutorial](https://docs.oracle.com/javase/tutorial/java/generics/types.html).","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\">Java generics tutorial</a>."}],"answers":[{"tags":[],"owner":{"account_id":9635091,"reputation":12808,"user_id":7151494,"display_name":"Fureeish"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1548274980,"creation_date":1548273298,"answer_id":54334721,"question_id":54334684,"body_markdown":"Java does allow generic fields. You are looking for: \r\n\r\n    class Signal &lt;T&gt; { // notice the generic introduction here: &lt;T&gt;\r\n    \r\n    \tString ref;\r\n    \tT payload; // now we can use T to represent any generic type\r\n    \r\n    \tpublic Signal(String ref, T payload) { // same here\r\n    \t\tthis.ref = ref;\r\n    \t\tthis.payload = payload;\r\n    \t}\r\n    }\r\n\r\nNote that `T` can be any viable name (similar to naming rules for references).\r\n\r\nUsage:\r\n\r\n    Signal&lt;Double&gt; first = new Signal&lt;&gt;(&quot;foo&quot;, 2.0);\r\n    Signal&lt;String&gt; second = new Signal&lt;&gt;(&quot;foo&quot;, &quot;bar&quot;);","title":"How to use generic parameters","body":"<p>Java does allow generic fields. You are looking for: </p>\n\n<pre><code>class Signal &lt;T&gt; { // notice the generic introduction here: &lt;T&gt;\n\n    String ref;\n    T payload; // now we can use T to represent any generic type\n\n    public Signal(String ref, T payload) { // same here\n        this.ref = ref;\n        this.payload = payload;\n    }\n}\n</code></pre>\n\n<p>Note that <code>T</code> can be any viable name (similar to naming rules for references).</p>\n\n<p>Usage:</p>\n\n<pre><code>Signal&lt;Double&gt; first = new Signal&lt;&gt;(\"foo\", 2.0);\nSignal&lt;String&gt; second = new Signal&lt;&gt;(\"foo\", \"bar\");\n</code></pre>\n"}],"owner":{"account_id":10518798,"reputation":135,"user_id":7752063,"accept_rate":75,"display_name":"swyveu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54334721,"answer_count":1,"score":0,"last_activity_date":1698682444,"creation_date":1548273171,"question_id":54334684,"body_markdown":"I&#39;m coming from a Javascript background and I&#39;m having trouble coping with Java being strongly typed, especially when trying to create generic classes.\r\n\r\nSay I have a class named Signal that takes a reference and a payload as parameters. The reference will always be of type String, but the type of the payload can vary.\r\n\r\nI would like to keep the type of the payload generic, as to be able to pass various classes to it. But, if I understand it correctly, Java does not allow me to declare generic fields!?\r\n\r\nSo how would I go about it then? \r\n\r\nBelow is a simple example of what I have in mind. \r\nMy custom &#39;&lt;#&gt;&#39; symbol is where I&#39;m having trouble. \r\nHow can I replace it with some proper generic syntax? \r\n\r\n\r\n    class Signal {\r\n    \r\n        String ref;\r\n        &lt;#&gt; payload;\r\n    \r\n        public Signal(String ref, &lt;#&gt; payload) {\r\n            this.ref = ref;\r\n            this.payload = payload;\r\n        }\r\n    }\r\n\r\n\r\nOr am I going about this the wrong way?\r\n \r\nAre there betters ways of dealing with parameters of which the type is not known in advance? \r\n\r\nAll info appreciated!\r\n\r\n","title":"How to use generic parameters","body":"<p>I'm coming from a Javascript background and I'm having trouble coping with Java being strongly typed, especially when trying to create generic classes.</p>\n\n<p>Say I have a class named Signal that takes a reference and a payload as parameters. The reference will always be of type String, but the type of the payload can vary.</p>\n\n<p>I would like to keep the type of the payload generic, as to be able to pass various classes to it. But, if I understand it correctly, Java does not allow me to declare generic fields!?</p>\n\n<p>So how would I go about it then? </p>\n\n<p>Below is a simple example of what I have in mind. \nMy custom '&lt;#>' symbol is where I'm having trouble. \nHow can I replace it with some proper generic syntax? </p>\n\n<pre><code>class Signal {\n\n    String ref;\n    &lt;#&gt; payload;\n\n    public Signal(String ref, &lt;#&gt; payload) {\n        this.ref = ref;\n        this.payload = payload;\n    }\n}\n</code></pre>\n\n<p>Or am I going about this the wrong way?</p>\n\n<p>Are there betters ways of dealing with parameters of which the type is not known in advance? </p>\n\n<p>All info appreciated!</p>\n"},{"tags":["java","java-8","java-stream","chunking"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":2,"creation_date":1419119230,"post_id":27583623,"comment_id":43595372,"body_markdown":"For a similar use case I did this: https://bitbucket.org/assylias/bigblue-utils/src/3f56d19777a0ebc5dc3b53d3c2ec8dc64fd2b28e/src/main/java/com/assylias/bigblue/utils/SplitProcessing.java?at=master - not exactly what you are asking for though.","body":"For a similar use case I did this: <a href=\"https://bitbucket.org/assylias/bigblue-utils/src/3f56d19777a0ebc5dc3b53d3c2ec8dc64fd2b28e/src/main/java/com/assylias/bigblue/utils/SplitProcessing.java?at=master\" rel=\"nofollow noreferrer\">bitbucket.org/assylias/bigblue-utils/src/&hellip;</a> - not exactly what you are asking for though."}],"answers":[{"comments":[{"owner":{"account_id":1609777,"reputation":1063,"user_id":1489121,"display_name":"Krzysztof Tomaszewski"},"score":1,"creation_date":1569491206,"post_id":27595803,"comment_id":102617533,"body_markdown":"Nice spliterator solution! The variant with collect/groupingBy is terminating the stream and this is not a good option for large streams.","body":"Nice spliterator solution! The variant with collect/groupingBy is terminating the stream and this is not a good option for large streams."}],"tags":[],"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"comment_count":1,"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1469467970,"creation_date":1419214517,"answer_id":27595803,"question_id":27583623,"body_markdown":"Elegance is in the eye of the beholder.  If you don&#39;t mind using a stateful function in `groupingBy`, you can do this:\r\n\r\n    AtomicInteger counter = new AtomicInteger();\r\n    \r\n    stream.collect(groupingBy(x-&gt;counter.getAndIncrement()/chunkSize))\r\n        .values()\r\n        .forEach(database::flushChunk);\r\n\r\nThis doesn&#39;t win any performance or memory usage points over your original solution because it will still materialize the entire stream before doing anything.\r\n\r\nIf you want to avoid materializing the list, stream API will not help you.  You will have to get the stream&#39;s iterator or spliterator and do something like this:\r\n\r\n\tSpliterator&lt;Integer&gt; split = stream.spliterator();\r\n\tint chunkSize = 1000;\r\n\t\r\n\twhile(true) {\r\n\t\tList&lt;Integer&gt; chunk = new ArrayList&lt;&gt;(size);\r\n\t\tfor (int i = 0; i &lt; chunkSize &amp;&amp; split.tryAdvance(chunk::add); i++){};\r\n\t\tif (chunk.isEmpty()) break;\r\n\t\tdatabase.flushChunk(chunk);\r\n\t}","title":"Is there an elegant way to process a stream in chunks?","body":"<p>Elegance is in the eye of the beholder.  If you don't mind using a stateful function in <code>groupingBy</code>, you can do this:</p>\n\n<pre><code>AtomicInteger counter = new AtomicInteger();\n\nstream.collect(groupingBy(x-&gt;counter.getAndIncrement()/chunkSize))\n    .values()\n    .forEach(database::flushChunk);\n</code></pre>\n\n<p>This doesn't win any performance or memory usage points over your original solution because it will still materialize the entire stream before doing anything.</p>\n\n<p>If you want to avoid materializing the list, stream API will not help you.  You will have to get the stream's iterator or spliterator and do something like this:</p>\n\n<pre><code>Spliterator&lt;Integer&gt; split = stream.spliterator();\nint chunkSize = 1000;\n\nwhile(true) {\n    List&lt;Integer&gt; chunk = new ArrayList&lt;&gt;(size);\n    for (int i = 0; i &lt; chunkSize &amp;&amp; split.tryAdvance(chunk::add); i++){};\n    if (chunk.isEmpty()) break;\n    database.flushChunk(chunk);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1329278,"reputation":2885,"user_id":1273497,"accept_rate":91,"display_name":"wild_nothing"},"score":0,"creation_date":1501856278,"post_id":38574499,"comment_id":77979310,"body_markdown":"This doesn&#39;t work for a single record. For example, an integer stream of simply [1] would fail.","body":"This doesn&#39;t work for a single record. For example, an integer stream of simply [1] would fail."},{"owner":{"account_id":63211,"reputation":4292,"user_id":187261,"display_name":"Nazarii Bardiuk"},"score":0,"creation_date":1501857735,"post_id":38574499,"comment_id":77980333,"body_markdown":"Stream of single item does work for me. What kind of error do you see? Could you post code that you tried?","body":"Stream of single item does work for me. What kind of error do you see? Could you post code that you tried?"},{"owner":{"account_id":1329278,"reputation":2885,"user_id":1273497,"accept_rate":91,"display_name":"wild_nothing"},"score":0,"creation_date":1501975741,"post_id":38574499,"comment_id":78014699,"body_markdown":"The counter returns an incorrect value in the case there is one record.","body":"The counter returns an incorrect value in the case there is one record."},{"owner":{"account_id":1329278,"reputation":2885,"user_id":1273497,"accept_rate":91,"display_name":"wild_nothing"},"score":0,"creation_date":1502493936,"post_id":38574499,"comment_id":78249328,"body_markdown":"I believe in the case of one record the groupRuns() is never called as it expects two entries. Is there a solution if the stream only returns one result? The incrementAndGet on the counter in your example is never hit and returns 0 if the chunk size is 1.","body":"I believe in the case of one record the groupRuns() is never called as it expects two entries. Is there a solution if the stream only returns one result? The incrementAndGet on the counter in your example is never hit and returns 0 if the chunk size is 1."},{"owner":{"account_id":63211,"reputation":4292,"user_id":187261,"display_name":"Nazarii Bardiuk"},"score":0,"creation_date":1502494306,"post_id":38574499,"comment_id":78249397,"body_markdown":"Grouping with chunk size 1 produces stream of lists of size 1. I believe it is expected behavior. Can you explain what do you try to achieve and what problem do you have? Probably with new stack overflow question - it is hard to share code in comments","body":"Grouping with chunk size 1 produces stream of lists of size 1. I believe it is expected behavior. Can you explain what do you try to achieve and what problem do you have? Probably with new stack overflow question - it is hard to share code in comments"},{"owner":{"account_id":1329278,"reputation":2885,"user_id":1273497,"accept_rate":91,"display_name":"wild_nothing"},"score":0,"creation_date":1502539102,"post_id":38574499,"comment_id":78258431,"body_markdown":"Raised: https://stackoverflow.com/questions/45649990/streamex-grouping-into-lists-returns-an-incorrect-number-of-records","body":"Raised: <a href=\"https://stackoverflow.com/questions/45649990/streamex-grouping-into-lists-returns-an-incorrect-number-of-records\" title=\"streamex grouping into lists returns an incorrect number of records\">stackoverflow.com/questions/45649990/&hellip;</a>"},{"owner":{"account_id":251709,"reputation":2827,"user_id":529286,"accept_rate":84,"display_name":"zakmck"},"score":0,"creation_date":1574466727,"post_id":38574499,"comment_id":104256689,"body_markdown":"This is nice, but only if the original stream is sequential, which I guess is the need of the original OP. Unfortunately, in my case I have a parallel stream source and nothing works, % chunkSize != 0 creates chunkSize chunks of average size total/chunkSize.","body":"This is nice, but only if the original stream is sequential, which I guess is the need of the original OP. Unfortunately, in my case I have a parallel stream source and nothing works, % chunkSize != 0 creates chunkSize chunks of average size total/chunkSize."}],"tags":[],"owner":{"account_id":63211,"reputation":4292,"user_id":187261,"display_name":"Nazarii Bardiuk"},"comment_count":7,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1469469493,"creation_date":1469469493,"answer_id":38574499,"question_id":27583623,"body_markdown":"Using library [StreamEx][1] solution would look like\r\n\r\n    Stream&lt;Integer&gt; stream = IntStream.iterate(0, i -&gt; i + 1).boxed().limit(15);\r\n    AtomicInteger counter = new AtomicInteger(0);\r\n    int chunkSize = 4;\r\n\r\n    StreamEx.of(stream)\r\n            .groupRuns((prev, next) -&gt; counter.incrementAndGet() % chunkSize != 0)\r\n            .forEach(chunk -&gt; System.out.println(chunk));\r\n\r\nOutput:\r\n\r\n    [0, 1, 2, 3]\r\n    [4, 5, 6, 7]\r\n    [8, 9, 10, 11]\r\n    [12, 13, 14]\r\n\r\n[`groupRuns`][2] accepts predicate that decides whether 2 elements should be in the same group.\r\n\r\nIt produces a group as soon as it finds first element that does not belong to it.\r\n\r\n  [1]: https://github.com/amaembo/streamex\r\n  [2]: http://amaembo.github.io/streamex/javadoc/one/util/streamex/StreamEx.html#groupRuns-java.util.function.BiPredicate-","title":"Is there an elegant way to process a stream in chunks?","body":"<p>Using library <a href=\"https://github.com/amaembo/streamex\" rel=\"noreferrer\">StreamEx</a> solution would look like</p>\n\n<pre><code>Stream&lt;Integer&gt; stream = IntStream.iterate(0, i -&gt; i + 1).boxed().limit(15);\nAtomicInteger counter = new AtomicInteger(0);\nint chunkSize = 4;\n\nStreamEx.of(stream)\n        .groupRuns((prev, next) -&gt; counter.incrementAndGet() % chunkSize != 0)\n        .forEach(chunk -&gt; System.out.println(chunk));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[0, 1, 2, 3]\n[4, 5, 6, 7]\n[8, 9, 10, 11]\n[12, 13, 14]\n</code></pre>\n\n<p><a href=\"http://amaembo.github.io/streamex/javadoc/one/util/streamex/StreamEx.html#groupRuns-java.util.function.BiPredicate-\" rel=\"noreferrer\"><code>groupRuns</code></a> accepts predicate that decides whether 2 elements should be in the same group.</p>\n\n<p>It produces a group as soon as it finds first element that does not belong to it.</p>\n"},{"comments":[{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":5,"creation_date":1543422717,"post_id":50367718,"comment_id":93916978,"body_markdown":"This solution splits a list and not a stream. Useful but not what @Bohemian asked.","body":"This solution splits a list and not a stream. Useful but not what @Bohemian asked."},{"owner":{"account_id":9936193,"reputation":527,"user_id":7354469,"accept_rate":75,"display_name":"mgcation"},"score":0,"creation_date":1619071220,"post_id":50367718,"comment_id":118794626,"body_markdown":"@AlikElzin-kilaka but you can make a stream with iterable (https://www.baeldung.com/java-iterable-to-stream).","body":"@AlikElzin-kilaka but you can make a stream with iterable (<a href=\"https://www.baeldung.com/java-iterable-to-stream\" rel=\"nofollow noreferrer\">baeldung.com/java-iterable-to-stream</a>)."},{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":0,"creation_date":1663412110,"post_id":50367718,"comment_id":130236597,"body_markdown":"Seems that this would be more appropriate to use https://guava.dev/releases/17.0/api/docs/com/google/common/collect/Iterators.html#partition(java.util.Iterator,%20int) `Iterators.partition(stream.iterator(), size)`. This is non-consuming till the resulting `Iteartor` is consumed and could be converted back to a `Stream` if needed.","body":"Seems that this would be more appropriate to use <a href=\"https://guava.dev/releases/17.0/api/docs/com/google/common/collect/Iterators.html#partition(java.util.Iterator,%20int)\" rel=\"nofollow noreferrer\">guava.dev/releases/17.0/api/docs/com/google/common/collect/&hellip;</a> <code>Iterators.partition(stream.iterator(), size)</code>. This is non-consuming till the resulting <code>Iteartor</code> is consumed and could be converted back to a <code>Stream</code> if needed."}],"tags":[],"owner":{"account_id":3350487,"reputation":421,"user_id":2814648,"display_name":"user2814648"},"comment_count":3,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1663413623,"creation_date":1526464517,"answer_id":50367718,"question_id":27583623,"body_markdown":"If you have guava dependency on your project you could do this:\r\n\r\n    StreamSupport.stream(Iterables.partition(simpleList, 1000).spliterator(), false).forEach(...);\r\n\r\nSee https://google.github.io/guava/releases/23.0/api/docs/com/google/common/collect/Lists.html#partition-java.util.List-int-\r\n\r\nUpdate to use `Iterators` on `Stream.iterator()`. This will terminate but NOT consume the `Stream` in creating the grouping `Iterator`. This could be converted back to a `Stream` if needed. \r\n\r\n\r\n    Iterator&lt;List&lt;T&gt;&gt; listIterator = Iterators.partition(stream.iterator(), desiredSize);\r\n    Stream&lt;List&lt;T&gt;&gt; listStream = StreamSupport.stream(\r\n      Spliterators.spliteratorUnknownSize(listIterator, \r\n      Spliterator.ORDERED), false);\r\n\r\nhttps://guava.dev/releases/17.0/api/docs/com/google/common/collect/Iterators.html#partition(java.util.Iterator,%20int)\r\n\r\n","title":"Is there an elegant way to process a stream in chunks?","body":"<p>If you have guava dependency on your project you could do this:</p>\n<pre><code>StreamSupport.stream(Iterables.partition(simpleList, 1000).spliterator(), false).forEach(...);\n</code></pre>\n<p>See <a href=\"https://google.github.io/guava/releases/23.0/api/docs/com/google/common/collect/Lists.html#partition-java.util.List-int-\" rel=\"nofollow noreferrer\">https://google.github.io/guava/releases/23.0/api/docs/com/google/common/collect/Lists.html#partition-java.util.List-int-</a></p>\n<p>Update to use <code>Iterators</code> on <code>Stream.iterator()</code>. This will terminate but NOT consume the <code>Stream</code> in creating the grouping <code>Iterator</code>. This could be converted back to a <code>Stream</code> if needed.</p>\n<pre><code>Iterator&lt;List&lt;T&gt;&gt; listIterator = Iterators.partition(stream.iterator(), desiredSize);\nStream&lt;List&lt;T&gt;&gt; listStream = StreamSupport.stream(\n  Spliterators.spliteratorUnknownSize(listIterator, \n  Spliterator.ORDERED), false);\n</code></pre>\n<p><a href=\"https://guava.dev/releases/17.0/api/docs/com/google/common/collect/Iterators.html#partition(java.util.Iterator,%20int)\" rel=\"nofollow noreferrer\">https://guava.dev/releases/17.0/api/docs/com/google/common/collect/Iterators.html#partition(java.util.Iterator,%20int)</a></p>\n"},{"comments":[{"owner":{"account_id":1889592,"reputation":1805,"user_id":1708042,"display_name":"user1708042"},"score":1,"creation_date":1605778438,"post_id":50385938,"comment_id":114758202,"body_markdown":"Thanks, I used your solution. I removed the sort not needed in my case.","body":"Thanks, I used your solution. I removed the sort not needed in my case."},{"owner":{"account_id":6810811,"reputation":97,"user_id":5241079,"display_name":"Kingshuk Mukherjee"},"score":1,"creation_date":1613597606,"post_id":50385938,"comment_id":117127665,"body_markdown":"Very nice solution","body":"Very nice solution"},{"owner":{"account_id":5164377,"reputation":410,"user_id":4134934,"accept_rate":83,"display_name":"Markus Rohlof"},"score":12,"creation_date":1621776636,"post_id":50385938,"comment_id":119592253,"body_markdown":"This solution will read the complete stream into a map before processing the chunks, rather than producing chunks &quot;mid-stream&quot;. This might not be what you&#39;d want/expect, especially for large streams which are probably the biggest use case for chunked processing.","body":"This solution will read the complete stream into a map before processing the chunks, rather than producing chunks &quot;mid-stream&quot;. This might not be what you&#39;d want/expect, especially for large streams which are probably the biggest use case for chunked processing."},{"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"score":1,"creation_date":1621810381,"post_id":50385938,"comment_id":119601189,"body_markdown":"@MarkusRohlof yes, you&#39;re absolutely right. I just tried to come up with a solution for larger (and potentially infinite) streams, only to find out it looks precisely the same as the one suggested by *dmitryvim*, so I really can recommend his solution.","body":"@MarkusRohlof yes, you&#39;re absolutely right. I just tried to come up with a solution for larger (and potentially infinite) streams, only to find out it looks precisely the same as the one suggested by <i>dmitryvim</i>, so I really can recommend his solution."}],"tags":[],"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"comment_count":4,"down_vote_count":4,"up_vote_count":21,"is_accepted":false,"score":17,"last_activity_date":1559829532,"creation_date":1526542928,"answer_id":50385938,"question_id":27583623,"body_markdown":"You can create a **stream of chunks** (`List&lt;T&gt;`) of a **stream of items** and a given **chunk size** by\r\n\r\n - grouping the items by the chunk index (element index / chunk size)\r\n - ordering the chunks by their index\r\n - reducing the map to their ordered elements only\r\n\r\nCode:\r\n\r\n    public static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; chunked(Stream&lt;T&gt; stream, int chunkSize) {\r\n        AtomicInteger index = new AtomicInteger(0);\r\n    \r\n        return stream.collect(Collectors.groupingBy(x -&gt; index.getAndIncrement() / chunkSize))\r\n                .entrySet().stream()\r\n                .sorted(Map.Entry.comparingByKey()).map(Map.Entry::getValue);\r\n    }\r\n\r\nExample usage:\r\n\r\n    Stream&lt;Integer&gt; stream = IntStream.range(0, 100).mapToObj(Integer::valueOf);\r\n    Stream&lt;List&lt;Integer&gt;&gt; chunked = chunked(stream, 8);\r\n    chunked.forEach(chunk -&gt; System.out.println(&quot;Chunk: &quot; + chunk));\r\n\r\nOutput:\r\n```\r\nChunk: [0, 1, 2, 3, 4, 5, 6, 7]\r\nChunk: [8, 9, 10, 11, 12, 13, 14, 15]\r\nChunk: [16, 17, 18, 19, 20, 21, 22, 23]\r\nChunk: [24, 25, 26, 27, 28, 29, 30, 31]\r\nChunk: [32, 33, 34, 35, 36, 37, 38, 39]\r\nChunk: [40, 41, 42, 43, 44, 45, 46, 47]\r\nChunk: [48, 49, 50, 51, 52, 53, 54, 55]\r\nChunk: [56, 57, 58, 59, 60, 61, 62, 63]\r\nChunk: [64, 65, 66, 67, 68, 69, 70, 71]\r\nChunk: [72, 73, 74, 75, 76, 77, 78, 79]\r\nChunk: [80, 81, 82, 83, 84, 85, 86, 87]\r\nChunk: [88, 89, 90, 91, 92, 93, 94, 95]\r\nChunk: [96, 97, 98, 99]\r\n```\r\n","title":"Is there an elegant way to process a stream in chunks?","body":"<p>You can create a <strong>stream of chunks</strong> (<code>List&lt;T&gt;</code>) of a <strong>stream of items</strong> and a given <strong>chunk size</strong> by</p>\n\n<ul>\n<li>grouping the items by the chunk index (element index / chunk size)</li>\n<li>ordering the chunks by their index</li>\n<li>reducing the map to their ordered elements only</li>\n</ul>\n\n<p>Code:</p>\n\n<pre><code>public static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; chunked(Stream&lt;T&gt; stream, int chunkSize) {\n    AtomicInteger index = new AtomicInteger(0);\n\n    return stream.collect(Collectors.groupingBy(x -&gt; index.getAndIncrement() / chunkSize))\n            .entrySet().stream()\n            .sorted(Map.Entry.comparingByKey()).map(Map.Entry::getValue);\n}\n</code></pre>\n\n<p>Example usage:</p>\n\n<pre><code>Stream&lt;Integer&gt; stream = IntStream.range(0, 100).mapToObj(Integer::valueOf);\nStream&lt;List&lt;Integer&gt;&gt; chunked = chunked(stream, 8);\nchunked.forEach(chunk -&gt; System.out.println(\"Chunk: \" + chunk));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Chunk: [0, 1, 2, 3, 4, 5, 6, 7]\nChunk: [8, 9, 10, 11, 12, 13, 14, 15]\nChunk: [16, 17, 18, 19, 20, 21, 22, 23]\nChunk: [24, 25, 26, 27, 28, 29, 30, 31]\nChunk: [32, 33, 34, 35, 36, 37, 38, 39]\nChunk: [40, 41, 42, 43, 44, 45, 46, 47]\nChunk: [48, 49, 50, 51, 52, 53, 54, 55]\nChunk: [56, 57, 58, 59, 60, 61, 62, 63]\nChunk: [64, 65, 66, 67, 68, 69, 70, 71]\nChunk: [72, 73, 74, 75, 76, 77, 78, 79]\nChunk: [80, 81, 82, 83, 84, 85, 86, 87]\nChunk: [88, 89, 90, 91, 92, 93, 94, 95]\nChunk: [96, 97, 98, 99]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":79777,"reputation":368,"user_id":225986,"display_name":"Iouri Goussev"},"score":0,"creation_date":1616106959,"post_id":50386337,"comment_id":117907240,"body_markdown":"You can also make it AutoCloseable and then do \n\ntry (BufferedDatabaseWriter bdw = new BufferedDatabaseWriter()) {\n   stream.forEach(o -&gt; writer.write(o));\n}","body":"You can also make it AutoCloseable and then do   try (BufferedDatabaseWriter bdw = new BufferedDatabaseWriter()) {    stream.forEach(o -&gt; writer.write(o)); }"}],"tags":[],"owner":{"account_id":4688180,"reputation":2484,"user_id":3795043,"accept_rate":90,"display_name":"findusl"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526545039,"creation_date":1526544292,"answer_id":50386337,"question_id":27583623,"body_markdown":"As Misha rightfully said, Elegance is in the eye of the beholder. I personally think an elegant solution would be to let the class that inserts to the database do this task. Similar to a `BufferedWriter`. This way it does not depend on your original data structure and can be used even with multiple streams after one and another. I am not sure if this is exactly what you mean by having the code in the accumulator which you thought is wrong. I don&#39;t think it is wrong, since the existing classes like `BufferedWriter` work this way. You have some flush control from the caller this way by calling `flush()` on the writer at any point.\r\n\r\nSomething like the following code.\r\n\r\n    class BufferedDatabaseWriter implements Flushable {\r\n        List&lt;DomObject&gt; buffer = new LinkedList&lt;DomObject&gt;();\r\n        public void write(DomObject o) {\r\n            buffer.add(o);\r\n            if(buffer.length &gt; 1000)\r\n                flush();\r\n        }\r\n        public void flush() {\r\n            //write buffer to database and clear it\r\n        }\r\n    }\r\n\r\nNow your stream gets processed like this:\r\n\r\n    BufferedDatabaseWriter writer = new BufferedDatabaseWriter();\r\n    stream.forEach(o -&gt; writer.write(o));\r\n    //if you have more streams stream2.forEach(o -&gt; writer.write(o));\r\n    writer.flush();\r\n\r\nIf you want to work multithreaded, you could run the flush asynchronous. The taking from the stream can&#39;t go in parallel but I don&#39;t think there is a way to count 1000 elements from a stream in parallel anyway.\r\n\r\nYou can also extend the writer to allow setting of the buffer size in constructor or you can make it implement `AutoCloseable` and run it in a try with ressources and more. The nice things you have from a `BufferedWriter`.","title":"Is there an elegant way to process a stream in chunks?","body":"<p>As Misha rightfully said, Elegance is in the eye of the beholder. I personally think an elegant solution would be to let the class that inserts to the database do this task. Similar to a <code>BufferedWriter</code>. This way it does not depend on your original data structure and can be used even with multiple streams after one and another. I am not sure if this is exactly what you mean by having the code in the accumulator which you thought is wrong. I don't think it is wrong, since the existing classes like <code>BufferedWriter</code> work this way. You have some flush control from the caller this way by calling <code>flush()</code> on the writer at any point.</p>\n\n<p>Something like the following code.</p>\n\n<pre><code>class BufferedDatabaseWriter implements Flushable {\n    List&lt;DomObject&gt; buffer = new LinkedList&lt;DomObject&gt;();\n    public void write(DomObject o) {\n        buffer.add(o);\n        if(buffer.length &gt; 1000)\n            flush();\n    }\n    public void flush() {\n        //write buffer to database and clear it\n    }\n}\n</code></pre>\n\n<p>Now your stream gets processed like this:</p>\n\n<pre><code>BufferedDatabaseWriter writer = new BufferedDatabaseWriter();\nstream.forEach(o -&gt; writer.write(o));\n//if you have more streams stream2.forEach(o -&gt; writer.write(o));\nwriter.flush();\n</code></pre>\n\n<p>If you want to work multithreaded, you could run the flush asynchronous. The taking from the stream can't go in parallel but I don't think there is a way to count 1000 elements from a stream in parallel anyway.</p>\n\n<p>You can also extend the writer to allow setting of the buffer size in constructor or you can make it implement <code>AutoCloseable</code> and run it in a try with ressources and more. The nice things you have from a <code>BufferedWriter</code>.</p>\n"},{"tags":[],"owner":{"account_id":1502661,"reputation":1753,"user_id":1406807,"display_name":"Yura"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1567005803,"creation_date":1567005803,"answer_id":57695681,"question_id":27583623,"body_markdown":"Look&#39;s like no, cause creating chunks means reducing stream, and reduce means termination. If you need to maintain stream nature and process chunks without collecting all data before here is my code (does not work for parallel streams):\r\n\r\n    private static &lt;T&gt; BinaryOperator&lt;List&lt;T&gt;&gt; processChunks(Consumer&lt;List&lt;T&gt;&gt; consumer, int chunkSize) {\r\n\t\treturn (data, element) -&gt; {\r\n\t\t\tif (data.size() &lt; chunkSize) {\r\n\t\t\t\tdata.addAll(element);\r\n\t\t\t\treturn data;\r\n\t\t\t} else {\r\n\t\t\t\tconsumer.accept(data);\r\n\t\t\t\treturn element; // in fact it&#39;s new data list\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tprivate static &lt;T&gt; Function&lt;T, List&lt;T&gt;&gt; createList(int chunkSize) {\r\n\t\tAtomicInteger limiter = new AtomicInteger(0);\r\n\t\treturn element -&gt; {\r\n\t\t\tlimiter.incrementAndGet();\r\n\t\t\tif (limiter.get() == 1) {\r\n\t\t\t\tArrayList&lt;T&gt; list = new ArrayList&lt;&gt;(chunkSize);\r\n\t\t\t\tlist.add(element);\r\n\t\t\t\treturn list;\r\n\t\t\t} else if (limiter.get() == chunkSize) {\r\n\t\t\t\tlimiter.set(0);\r\n\t\t\t}\r\n\t\t\treturn Collections.singletonList(element);\r\n\t\t};\r\n\t}\r\n\r\nand how to use\r\n\r\n    Consumer&lt;List&lt;Integer&gt;&gt; chunkProcessor = (list) -&gt; list.forEach(System.out::println);\r\n\r\n\t\tint chunkSize = 3;\r\n\r\n\t\tStream.generate(StrTokenizer::getInt).limit(13)\r\n\t\t\t\t.map(createList(chunkSize))\r\n\t\t\t\t.reduce(processChunks(chunkProcessor, chunkSize))\r\n\t\t\t\t.ifPresent(chunkProcessor);\r\n\r\n    static Integer i = 0;\r\n\r\n\tstatic Integer getInt()\r\n\t{\r\n\t\tSystem.out.println(&quot;next&quot;);\r\n\t\treturn i++;\r\n\t}\r\n\r\nit will print\r\n\r\n&gt; next\r\nnext\r\nnext\r\nnext\r\n0\r\n1\r\n2\r\nnext\r\nnext\r\nnext\r\n3\r\n4\r\n5\r\nnext\r\nnext\r\nnext\r\n6\r\n7\r\n8\r\nnext\r\nnext\r\nnext\r\n9\r\n10\r\n11\r\n12\r\n\r\nthe idea behind is to create lists in a map operation with &#39;pattern&#39;\r\n\r\n&gt; [1,,],[2],[3],[4,,]...\r\n\r\nand merge (+process) that with reduce.\r\n\r\n&gt; [1,2,3],[4,5,6],...\r\n\r\nand don&#39;t forget to process the last &#39;trimmed&#39; chunk with \r\n\r\n    .ifPresent(chunkProcessor);","title":"Is there an elegant way to process a stream in chunks?","body":"<p>Look's like no, cause creating chunks means reducing stream, and reduce means termination. If you need to maintain stream nature and process chunks without collecting all data before here is my code (does not work for parallel streams):</p>\n\n<pre><code>private static &lt;T&gt; BinaryOperator&lt;List&lt;T&gt;&gt; processChunks(Consumer&lt;List&lt;T&gt;&gt; consumer, int chunkSize) {\n    return (data, element) -&gt; {\n        if (data.size() &lt; chunkSize) {\n            data.addAll(element);\n            return data;\n        } else {\n            consumer.accept(data);\n            return element; // in fact it's new data list\n        }\n    };\n}\n\nprivate static &lt;T&gt; Function&lt;T, List&lt;T&gt;&gt; createList(int chunkSize) {\n    AtomicInteger limiter = new AtomicInteger(0);\n    return element -&gt; {\n        limiter.incrementAndGet();\n        if (limiter.get() == 1) {\n            ArrayList&lt;T&gt; list = new ArrayList&lt;&gt;(chunkSize);\n            list.add(element);\n            return list;\n        } else if (limiter.get() == chunkSize) {\n            limiter.set(0);\n        }\n        return Collections.singletonList(element);\n    };\n}\n</code></pre>\n\n<p>and how to use</p>\n\n<pre><code>Consumer&lt;List&lt;Integer&gt;&gt; chunkProcessor = (list) -&gt; list.forEach(System.out::println);\n\n    int chunkSize = 3;\n\n    Stream.generate(StrTokenizer::getInt).limit(13)\n            .map(createList(chunkSize))\n            .reduce(processChunks(chunkProcessor, chunkSize))\n            .ifPresent(chunkProcessor);\n\nstatic Integer i = 0;\n\nstatic Integer getInt()\n{\n    System.out.println(\"next\");\n    return i++;\n}\n</code></pre>\n\n<p>it will print</p>\n\n<blockquote>\n  <p>next\n  next\n  next\n  next\n  0\n  1\n  2\n  next\n  next\n  next\n  3\n  4\n  5\n  next\n  next\n  next\n  6\n  7\n  8\n  next\n  next\n  next\n  9\n  10\n  11\n  12</p>\n</blockquote>\n\n<p>the idea behind is to create lists in a map operation with 'pattern'</p>\n\n<blockquote>\n  <p>[1,,],[2],[3],[4,,]...</p>\n</blockquote>\n\n<p>and merge (+process) that with reduce.</p>\n\n<blockquote>\n  <p>[1,2,3],[4,5,6],...</p>\n</blockquote>\n\n<p>and don't forget to process the last 'trimmed' chunk with </p>\n\n<pre><code>.ifPresent(chunkProcessor);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"score":4,"creation_date":1621810922,"post_id":59164175,"comment_id":119601284,"body_markdown":"Very nice solution, +1.\nJust one improvement: you might want to return the stream as `return StreamSupport.stream(Spliterators.spliteratorUnknownSize(listIterator, Spliterator.ORDERED), false);`.","body":"Very nice solution, +1. Just one improvement: you might want to return the stream as <code>return StreamSupport.stream(Spliterators.spliteratorUnknownSize(lis&zwnj;&#8203;tIterator, Spliterator.ORDERED), false);</code>."},{"owner":{"account_id":3590209,"reputation":1021,"user_id":2996452,"accept_rate":62,"display_name":"Jokkeri"},"score":0,"creation_date":1635319025,"post_id":59164175,"comment_id":123262137,"body_markdown":"@PeterWalser would you mind to elaborate what does your suggestion do? Something to do with maintaining the chunked parts in order?","body":"@PeterWalser would you mind to elaborate what does your suggestion do? Something to do with maintaining the chunked parts in order?"},{"owner":{"account_id":17661004,"reputation":55,"user_id":12819467,"display_name":"David Gallego"},"score":0,"creation_date":1699545104,"post_id":59164175,"comment_id":136548170,"body_markdown":"a bit late, but i think he is avoiding the cast of the supplier iterator, with Spliterators you can just pass the iterator without the need to do a cast","body":"a bit late, but i think he is avoiding the cast of the supplier iterator, with Spliterators you can just pass the iterator without the need to do a cast"}],"tags":[],"owner":{"account_id":8168457,"reputation":1993,"user_id":6149866,"accept_rate":38,"display_name":"dmitryvim"},"comment_count":3,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1575401649,"creation_date":1575401649,"answer_id":59164175,"question_id":27583623,"body_markdown":"Most of answers above do not use stream benefits like saving your memory. You can try to use iterator to resolve the problem\r\n```\r\nStream&lt;List&lt;T&gt;&gt; chunk(Stream&lt;T&gt; stream, int size) {\r\n  Iterator&lt;T&gt; iterator = stream.iterator();\r\n  Iterator&lt;List&lt;T&gt;&gt; listIterator = new Iterator&lt;&gt;() {\r\n\r\n    public boolean hasNext() {\r\n      return iterator.hasNext();\r\n    }\r\n\r\n    public List&lt;T&gt; next() {\r\n      List&lt;T&gt; result = new ArrayList&lt;&gt;(size);\r\n      for (int i = 0; i &lt; size &amp;&amp; iterator.hasNext(); i++) {\r\n        result.add(iterator.next());\r\n      }\r\n      return result;\r\n    }\r\n  };\r\n  return StreamSupport.stream(((Iterable&lt;List&lt;T&gt;&gt;) () -&gt; listIterator).spliterator(), false);\r\n}\r\n```","title":"Is there an elegant way to process a stream in chunks?","body":"<p>Most of answers above do not use stream benefits like saving your memory. You can try to use iterator to resolve the problem</p>\n\n<pre><code>Stream&lt;List&lt;T&gt;&gt; chunk(Stream&lt;T&gt; stream, int size) {\n  Iterator&lt;T&gt; iterator = stream.iterator();\n  Iterator&lt;List&lt;T&gt;&gt; listIterator = new Iterator&lt;&gt;() {\n\n    public boolean hasNext() {\n      return iterator.hasNext();\n    }\n\n    public List&lt;T&gt; next() {\n      List&lt;T&gt; result = new ArrayList&lt;&gt;(size);\n      for (int i = 0; i &lt; size &amp;&amp; iterator.hasNext(); i++) {\n        result.add(iterator.next());\n      }\n      return result;\n    }\n  };\n  return StreamSupport.stream(((Iterable&lt;List&lt;T&gt;&gt;) () -&gt; listIterator).spliterator(), false);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":178358,"reputation":25369,"user_id":410289,"accept_rate":0,"display_name":"Jackie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615968039,"creation_date":1615968039,"answer_id":66669037,"question_id":27583623,"body_markdown":"You can use this class, https://github.com/1wpro2/jdk-patch/blob/main/FixedSizeSpliterator.java.\r\n\r\nPass in the chunk size as the `THRESHOLD`\r\n\r\n`new FixedSizeSpliterator(T[] values, int threshold)`","title":"Is there an elegant way to process a stream in chunks?","body":"<p>You can use this class, <a href=\"https://github.com/1wpro2/jdk-patch/blob/main/FixedSizeSpliterator.java\" rel=\"nofollow noreferrer\">https://github.com/1wpro2/jdk-patch/blob/main/FixedSizeSpliterator.java</a>.</p>\n<p>Pass in the chunk size as the <code>THRESHOLD</code></p>\n<p><code>new FixedSizeSpliterator(T[] values, int threshold)</code></p>\n"},{"comments":[{"owner":{"account_id":6552130,"reputation":896,"user_id":5066169,"accept_rate":80,"display_name":"Dharmvir Tiwari"},"score":0,"creation_date":1633974238,"post_id":68913656,"comment_id":122897365,"body_markdown":"Is there a reason tou went with estimateSize() -&gt; (srcSize-1)/batchSize+1 , instead of maintaining a sequenceCounter and have (srcSize/batchSize)-sequenceCounter ?","body":"Is there a reason tou went with estimateSize() -&gt; (srcSize-1)/batchSize+1 , instead of maintaining a sequenceCounter and have (srcSize/batchSize)-sequenceCounter ?"},{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":1,"creation_date":1633983098,"post_id":68913656,"comment_id":122900261,"body_markdown":"Using any internal sequence counter might be bad idea, because accuracy of this spliterator&#39;s `estimateSize` depends on accuracy of the delegate and that *might* vary while it is being consumed. The delegate&#39;s implementation might return less accurate results at its start and more accurate closer to end. As `estimateSize` should reflect most accurate *current* state it&#39;s better to rely on delegate&#39;s size every time.","body":"Using any internal sequence counter might be bad idea, because accuracy of this spliterator&#39;s <code>estimateSize</code> depends on accuracy of the delegate and that <i>might</i> vary while it is being consumed. The delegate&#39;s implementation might return less accurate results at its start and more accurate closer to end. As <code>estimateSize</code> should reflect most accurate <i>current</i> state it&#39;s better to rely on delegate&#39;s size every time."},{"owner":{"account_id":6552130,"reputation":896,"user_id":5066169,"accept_rate":80,"display_name":"Dharmvir Tiwari"},"score":0,"creation_date":1633986565,"post_id":68913656,"comment_id":122901321,"body_markdown":"But (srcSize-1)/batchSize+1 would always give you inaccurate value. batchSize of 5, srcSize of 100. For first invocation of forEachRemaining() it should give you 20 but with the above calculation it would give you 16. With internal seq counter , i only see an issue if we parallelise the stream but that can be mitigated with shared seq counter.","body":"But (srcSize-1)/batchSize+1 would always give you inaccurate value. batchSize of 5, srcSize of 100. For first invocation of forEachRemaining() it should give you 20 but with the above calculation it would give you 16. With internal seq counter , i only see an issue if we parallelise the stream but that can be mitigated with shared seq counter."},{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":1,"creation_date":1633986741,"post_id":68913656,"comment_id":122901365,"body_markdown":"(100 - 1) / 5 + 1 = 99 / 5 + 1 = 19 + 1 = 20. What&#39;s wrong?","body":"(100 - 1) / 5 + 1 = 99 / 5 + 1 = 19 + 1 = 20. What&#39;s wrong?"},{"owner":{"account_id":39203,"reputation":63049,"user_id":112955,"accept_rate":67,"display_name":"sakra"},"score":0,"creation_date":1645816038,"post_id":68913656,"comment_id":125979089,"body_markdown":"This should be the accepted answer.","body":"This should be the accepted answer."}],"tags":[],"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"comment_count":5,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1629836489,"creation_date":1629836489,"answer_id":68913656,"question_id":27583623,"body_markdown":"Here is simple wrapping spliterator implementation that groups source elements into chunks:\r\n\r\n```\r\npublic class ChunkedSpliterator&lt;T&gt; implements Spliterator&lt;List&lt;T&gt;&gt; {\r\n    private static final int PROMOTED_CHARACTERISTICS = Spliterator.ORDERED | Spliterator.DISTINCT | Spliterator.SIZED | Spliterator.IMMUTABLE | Spliterator.CONCURRENT;\r\n    private static final int SELF_CHARACTERISTICS = Spliterator.NONNULL;\r\n\r\n    private final Spliterator&lt;T&gt; src;\r\n    private final int chunkSize;\r\n\r\n    public ChunkedSpliterator(Spliterator&lt;T&gt; src, int chunkSize) {\r\n        if (chunkSize &lt; 1)\r\n            throw new IllegalArgumentException(&quot;chunkSize must be at least 1&quot;);\r\n        this.src = src;\r\n        this.chunkSize = chunkSize;\r\n    }\r\n\r\n    public static &lt;E&gt; Stream&lt;List&lt;E&gt;&gt; chunkify(Stream&lt;E&gt; src, int chunkSize) {\r\n        ChunkedSpliterator&lt;E&gt; wrap = new ChunkedSpliterator&lt;&gt;(src.spliterator(), chunkSize);\r\n        return StreamSupport.stream(wrap, src.isParallel());\r\n    }\r\n\r\n    @Override\r\n    public boolean tryAdvance(Consumer&lt;? super List&lt;T&gt;&gt; action) {\r\n        List&lt;T&gt; result = new ArrayList&lt;&gt;((int) Math.min(src.estimateSize(), chunkSize));\r\n        for (int i = 0; i &lt; chunkSize; ++i) {\r\n            if (!src.tryAdvance(result::add))\r\n                break;\r\n        }\r\n        if (result.isEmpty())\r\n            return false;\r\n        action.accept(result);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public Spliterator&lt;List&lt;T&gt;&gt; trySplit() {\r\n        Spliterator&lt;T&gt; srcSplit = src.trySplit();\r\n        return srcSplit == null ? null : new ChunkedSpliterator&lt;&gt;(srcSplit, chunkSize);\r\n    }\r\n\r\n    @Override\r\n    public long estimateSize() {\r\n        long srcSize = src.estimateSize();\r\n        if (srcSize &lt;= 0L) return 0L;\r\n        if (srcSize == Long.MAX_VALUE) return Long.MAX_VALUE;\r\n        return (srcSize - 1) / chunkSize + 1;\r\n    }\r\n\r\n    @Override\r\n    public int characteristics() {\r\n        return (src.characteristics() &amp; PROMOTED_CHARACTERISTICS) | SELF_CHARACTERISTICS;\r\n    }\r\n}\r\n```\r\n\r\nThere is handy `chunkify` shortcut method to make things easier:\r\n\r\n```\r\n    Stream&lt;T&gt; input = ...;\r\n    Stream&lt;List&lt;T&gt;&gt; chunked = ChunkedSpliterator.chunkify(input, 1000);\r\n```\r\n\r\nDespite the call `Stream.spliterator()` is terminal operation it actually does not forcibly exhaust the stream&#39;s source. So, it can be processed via its spliterator gradually, without fetching all the data in memory - only per chunk.\r\n\r\nThis spliterator preserves most of input&#39;s characteristics. However, it&#39;s not sub-sized (chunks may be split in middle), not sorted (not obvious how to sort chunks even if elements are sortable) and produce only non-null chunks (albeit chunks still may have null elements). I&#39;m not 100% sure about concurrent/immutable, but it seems it should inherit these with no problem. Also, produced chunks may be not strictly of requested size, but never exceed it.\r\n\r\nIn fact, I&#39;m very surprised such a popular question had no answer introducing custom spliterator for almost *7 (!) years*.","title":"Is there an elegant way to process a stream in chunks?","body":"<p>Here is simple wrapping spliterator implementation that groups source elements into chunks:</p>\n<pre><code>public class ChunkedSpliterator&lt;T&gt; implements Spliterator&lt;List&lt;T&gt;&gt; {\n    private static final int PROMOTED_CHARACTERISTICS = Spliterator.ORDERED | Spliterator.DISTINCT | Spliterator.SIZED | Spliterator.IMMUTABLE | Spliterator.CONCURRENT;\n    private static final int SELF_CHARACTERISTICS = Spliterator.NONNULL;\n\n    private final Spliterator&lt;T&gt; src;\n    private final int chunkSize;\n\n    public ChunkedSpliterator(Spliterator&lt;T&gt; src, int chunkSize) {\n        if (chunkSize &lt; 1)\n            throw new IllegalArgumentException(&quot;chunkSize must be at least 1&quot;);\n        this.src = src;\n        this.chunkSize = chunkSize;\n    }\n\n    public static &lt;E&gt; Stream&lt;List&lt;E&gt;&gt; chunkify(Stream&lt;E&gt; src, int chunkSize) {\n        ChunkedSpliterator&lt;E&gt; wrap = new ChunkedSpliterator&lt;&gt;(src.spliterator(), chunkSize);\n        return StreamSupport.stream(wrap, src.isParallel());\n    }\n\n    @Override\n    public boolean tryAdvance(Consumer&lt;? super List&lt;T&gt;&gt; action) {\n        List&lt;T&gt; result = new ArrayList&lt;&gt;((int) Math.min(src.estimateSize(), chunkSize));\n        for (int i = 0; i &lt; chunkSize; ++i) {\n            if (!src.tryAdvance(result::add))\n                break;\n        }\n        if (result.isEmpty())\n            return false;\n        action.accept(result);\n        return true;\n    }\n\n    @Override\n    public Spliterator&lt;List&lt;T&gt;&gt; trySplit() {\n        Spliterator&lt;T&gt; srcSplit = src.trySplit();\n        return srcSplit == null ? null : new ChunkedSpliterator&lt;&gt;(srcSplit, chunkSize);\n    }\n\n    @Override\n    public long estimateSize() {\n        long srcSize = src.estimateSize();\n        if (srcSize &lt;= 0L) return 0L;\n        if (srcSize == Long.MAX_VALUE) return Long.MAX_VALUE;\n        return (srcSize - 1) / chunkSize + 1;\n    }\n\n    @Override\n    public int characteristics() {\n        return (src.characteristics() &amp; PROMOTED_CHARACTERISTICS) | SELF_CHARACTERISTICS;\n    }\n}\n</code></pre>\n<p>There is handy <code>chunkify</code> shortcut method to make things easier:</p>\n<pre><code>    Stream&lt;T&gt; input = ...;\n    Stream&lt;List&lt;T&gt;&gt; chunked = ChunkedSpliterator.chunkify(input, 1000);\n</code></pre>\n<p>Despite the call <code>Stream.spliterator()</code> is terminal operation it actually does not forcibly exhaust the stream's source. So, it can be processed via its spliterator gradually, without fetching all the data in memory - only per chunk.</p>\n<p>This spliterator preserves most of input's characteristics. However, it's not sub-sized (chunks may be split in middle), not sorted (not obvious how to sort chunks even if elements are sortable) and produce only non-null chunks (albeit chunks still may have null elements). I'm not 100% sure about concurrent/immutable, but it seems it should inherit these with no problem. Also, produced chunks may be not strictly of requested size, but never exceed it.</p>\n<p>In fact, I'm very surprised such a popular question had no answer introducing custom spliterator for almost <em>7 (!) years</em>.</p>\n"},{"comments":[{"owner":{"account_id":3065469,"reputation":1555,"user_id":2597267,"display_name":"Borislav Markov"},"score":0,"creation_date":1664367683,"post_id":73881323,"comment_id":130454786,"body_markdown":"I just wonder how Oracle team don&#39;t do some utilities, while other languages have tons of utilities integrated in syntax or core language libraries. Java suffers from good utils.","body":"I just wonder how Oracle team don&#39;t do some utilities, while other languages have tons of utilities integrated in syntax or core language libraries. Java suffers from good utils."}],"tags":[],"owner":{"account_id":3065469,"reputation":1555,"user_id":2597267,"display_name":"Borislav Markov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664367626,"creation_date":1664367626,"answer_id":73881323,"question_id":27583623,"body_markdown":"In case you need very simple solution:\r\n\r\n    import java.util.List;\r\n    \r\n    class Scratch {\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt; list = List.of(1, 2, 3, 4, 5, 6, 7, 8);\r\n            int chunkSize = 3;\r\n            for (int i = 0; i &lt; list.size() / chunkSize + Math.min(1, list.size() % chunkSize); i++) {\r\n                List&lt;Integer&gt; subList = list.subList(i * chunkSize, Math.min(i * chunkSize + chunkSize, list.size()));\r\n                System.out.println(&quot;subList = &quot; + subList);\r\n            }\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    subList = [1, 2, 3]\r\n    subList = [4, 5, 6]\r\n    subList = [7, 8]","title":"Is there an elegant way to process a stream in chunks?","body":"<p>In case you need very simple solution:</p>\n<pre><code>import java.util.List;\n\nclass Scratch {\n\n    public static void main(String[] args) {\n        List&lt;Integer&gt; list = List.of(1, 2, 3, 4, 5, 6, 7, 8);\n        int chunkSize = 3;\n        for (int i = 0; i &lt; list.size() / chunkSize + Math.min(1, list.size() % chunkSize); i++) {\n            List&lt;Integer&gt; subList = list.subList(i * chunkSize, Math.min(i * chunkSize + chunkSize, list.size()));\n            System.out.println(&quot;subList = &quot; + subList);\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>subList = [1, 2, 3]\nsubList = [4, 5, 6]\nsubList = [7, 8]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28728504,"reputation":1,"user_id":22000910,"display_name":"Mischael Schill"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685723208,"creation_date":1685694151,"answer_id":76388404,"question_id":27583623,"body_markdown":"I wanted a solution which wasn&#39;t relying on a mutable state, and came up with this:\r\n\r\n```java\r\nvar idents = IntStream.range(0, 1000).boxed().toList();\r\nint max = 10;\r\nvar result =\r\n    idents.stream()\r\n        .collect(() -&gt; new ArrayList&lt;Set&lt;Integer&gt;&gt;(),\r\n            (ret, id) -&gt; {\r\n                if (ret.isEmpty() || ret.get(ret.size() - 1).size() == max) {\r\n                    ret.add(new HashSet&lt;&gt;());\r\n                }\r\n                ret.get(ret.size() - 1).add(id);\r\n            },\r\n            ArrayList::addAll);\r\n```\r\n\r\nIt even works with a parallel stream but, in this case, there might be more than one chunk with less than maximum entries.","title":"Is there an elegant way to process a stream in chunks?","body":"<p>I wanted a solution which wasn't relying on a mutable state, and came up with this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var idents = IntStream.range(0, 1000).boxed().toList();\nint max = 10;\nvar result =\n    idents.stream()\n        .collect(() -&gt; new ArrayList&lt;Set&lt;Integer&gt;&gt;(),\n            (ret, id) -&gt; {\n                if (ret.isEmpty() || ret.get(ret.size() - 1).size() == max) {\n                    ret.add(new HashSet&lt;&gt;());\n                }\n                ret.get(ret.size() - 1).add(id);\n            },\n            ArrayList::addAll);\n</code></pre>\n<p>It even works with a parallel stream but, in this case, there might be more than one chunk with less than maximum entries.</p>\n"},{"tags":[],"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698681720,"creation_date":1698680958,"answer_id":77390105,"question_id":27583623,"body_markdown":"There&#39;s no built-in stream operation for this, and no really good way to build it on top of the built-in stream operations. But there are not-so-good ways.\r\n\r\nOne such way is to abuse flatMap with a mutable function which accumulates elements, and then emits batches when they are complete. The problem with this is that you need to emit one final batch when the stream ends, and stream operations don&#39;t get any kind of signal when that happens (as an aside, unlike transducers in Clojure, where this is easy). You can overcome that by appending a sentinel value to the stream, and emitting your last batch when you see it. Like this:\r\n\r\n    public static &lt;E&gt; Stream&lt;List&lt;E&gt;&gt; batch(Stream&lt;E&gt; stream, E sentinel, int batchSize) {\r\n        return Stream.concat(stream, Stream.of(sentinel))\r\n                     .flatMap(new Function&lt;&gt;() {\r\n                         List&lt;E&gt; batch = null;\r\n\r\n                         @Override\r\n                         public Stream&lt;List&lt;E&gt;&gt; apply(E element) {\r\n                             boolean emit;\r\n                             if (element != sentinel) {\r\n                                 if (batch == null) batch = new ArrayList&lt;&gt;();\r\n                                 batch.add(element);\r\n                                 emit = batch.size() == batchSize;\r\n                             } else {\r\n                                 emit = batch != null;\r\n                             }\r\n\r\n                             if (emit) {\r\n                                 List&lt;E&gt; batchToEmit = batch;\r\n                                 batch = null;\r\n                                 return Stream.of(batchToEmit);\r\n                             } else {\r\n                                 return Stream.empty();\r\n                             }\r\n                         }\r\n                     });\r\n    }\r\n\r\nThis is a bit more cumbersome than [dmitryvim&#39;s answer](https://stackoverflow.com/a/59164175/116639). It is some sense cleaner, because it doesn&#39;t introduce an additional terminal operation into what is a single logical stream pipeline. But i don&#39;t think there are any actual practical problems that stem from doing that.\r\n\r\nSo here&#39;s a more concise way to do it, using dmitryvim&#39;s approach of going via an iterator, but using amusing nested Stream.generate calls instead of an iterator:\r\n\r\n    public static &lt;E&gt; Stream&lt;List&lt;E&gt;&gt; batch(Stream&lt;E&gt; stream, int batchSize) {\r\n        Iterator&lt;E&gt; iterator = stream.iterator();\r\n        return Stream.generate(() -&gt; {\r\n                         if (!iterator.hasNext()) return null;\r\n                         return Stream.generate(() -&gt; iterator.hasNext() ? iterator.next() : null)\r\n                                      .takeWhile(Objects::nonNull)\r\n                                      .limit(batchSize)\r\n                                      .toList();\r\n                     })\r\n                     .takeWhile(Objects::nonNull);\r\n    }\r\n","title":"Is there an elegant way to process a stream in chunks?","body":"<p>There's no built-in stream operation for this, and no really good way to build it on top of the built-in stream operations. But there are not-so-good ways.</p>\n<p>One such way is to abuse flatMap with a mutable function which accumulates elements, and then emits batches when they are complete. The problem with this is that you need to emit one final batch when the stream ends, and stream operations don't get any kind of signal when that happens (as an aside, unlike transducers in Clojure, where this is easy). You can overcome that by appending a sentinel value to the stream, and emitting your last batch when you see it. Like this:</p>\n<pre><code>public static &lt;E&gt; Stream&lt;List&lt;E&gt;&gt; batch(Stream&lt;E&gt; stream, E sentinel, int batchSize) {\n    return Stream.concat(stream, Stream.of(sentinel))\n                 .flatMap(new Function&lt;&gt;() {\n                     List&lt;E&gt; batch = null;\n\n                     @Override\n                     public Stream&lt;List&lt;E&gt;&gt; apply(E element) {\n                         boolean emit;\n                         if (element != sentinel) {\n                             if (batch == null) batch = new ArrayList&lt;&gt;();\n                             batch.add(element);\n                             emit = batch.size() == batchSize;\n                         } else {\n                             emit = batch != null;\n                         }\n\n                         if (emit) {\n                             List&lt;E&gt; batchToEmit = batch;\n                             batch = null;\n                             return Stream.of(batchToEmit);\n                         } else {\n                             return Stream.empty();\n                         }\n                     }\n                 });\n}\n</code></pre>\n<p>This is a bit more cumbersome than <a href=\"https://stackoverflow.com/a/59164175/116639\">dmitryvim's answer</a>. It is some sense cleaner, because it doesn't introduce an additional terminal operation into what is a single logical stream pipeline. But i don't think there are any actual practical problems that stem from doing that.</p>\n<p>So here's a more concise way to do it, using dmitryvim's approach of going via an iterator, but using amusing nested Stream.generate calls instead of an iterator:</p>\n<pre><code>public static &lt;E&gt; Stream&lt;List&lt;E&gt;&gt; batch(Stream&lt;E&gt; stream, int batchSize) {\n    Iterator&lt;E&gt; iterator = stream.iterator();\n    return Stream.generate(() -&gt; {\n                     if (!iterator.hasNext()) return null;\n                     return Stream.generate(() -&gt; iterator.hasNext() ? iterator.next() : null)\n                                  .takeWhile(Objects::nonNull)\n                                  .limit(batchSize)\n                                  .toList();\n                 })\n                 .takeWhile(Objects::nonNull);\n}\n</code></pre>\n"}],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52401,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"answer_count":12,"score":85,"last_activity_date":1698681720,"creation_date":1419103988,"question_id":27583623,"body_markdown":"My exact scenario is inserting data to database in batches, so I want to accumulate DOM objects then every 1000, flush them.\r\n\r\nI implemented it by putting code in the accumulator to detect fullness then flush, but that seems wrong - the flush control should come from the caller.\r\n\r\nI could convert the stream to a List then use subList in an iterative fashion, but that too seems clunky.\r\n\r\nIt there a neat way to take action every n elements then continue with the stream while only processing the stream once?\r\n ","title":"Is there an elegant way to process a stream in chunks?","body":"<p>My exact scenario is inserting data to database in batches, so I want to accumulate DOM objects then every 1000, flush them.</p>\n\n<p>I implemented it by putting code in the accumulator to detect fullness then flush, but that seems wrong - the flush control should come from the caller.</p>\n\n<p>I could convert the stream to a List then use subList in an iterative fashion, but that too seems clunky.</p>\n\n<p>It there a neat way to take action every n elements then continue with the stream while only processing the stream once?</p>\n"},{"tags":["java","swagger-ui"],"comments":[{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1698674963,"post_id":77388278,"comment_id":136431656,"body_markdown":"Welcome to Stack Overflow! Thank you for your question. However it seems like you are not familiar with the guide of Stack Overflow to [How To: Ask a good question](https://stackoverflow.com/help/how-to-ask). Please read it and adjust your question accordingly by using the [Edit](https://stackoverflow.com/posts/77068047/edit) option. Happy coding!","body":"Welcome to Stack Overflow! Thank you for your question. However it seems like you are not familiar with the guide of Stack Overflow to <a href=\"https://stackoverflow.com/help/how-to-ask\">How To: Ask a good question</a>. Please read it and adjust your question accordingly by using the <a href=\"https://stackoverflow.com/posts/77068047/edit\">Edit</a> option. Happy coding!"},{"owner":{"account_id":21638035,"reputation":96,"user_id":15960699,"display_name":"12kadir12"},"score":0,"creation_date":1698750416,"post_id":77388278,"comment_id":136442227,"body_markdown":"I&#39;ve edited my question. Can you have a look again @AztecCodes","body":"I&#39;ve edited my question. Can you have a look again @AztecCodes"}],"owner":{"account_id":21638035,"reputation":96,"user_id":15960699,"display_name":"12kadir12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698681671,"creation_date":1698665371,"question_id":77388278,"body_markdown":"I&#39;m currently working on generating API documentation using Swagger for my Java Spring Boot project. However, I&#39;m encountering an issue where the request body fields are mapped to a different DTO (Data Transfer Object) class than expected.\r\n\r\nThe correct DTO for the request body is `ADTO.Request.Create`, but Swagger is incorrectly referring to `BDTO.Request.Create`. I want to keep the original class names and fix this problem by adjusting my Swagger configuration. Currently, I am using `swagger-ui-react v4.16.1` and I don&#39;t have any specific configuration.\r\n\r\nHere are my DTO classes:\r\n\r\n```java\r\npublic interface ADTO {\r\n    public interface Request {\r\n        public class Create {\r\n            private Long id;\r\n            private String name;\r\n            private String telephone;\r\n            private String mobile;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic interface BDTO {\r\n    public interface Request {\r\n        public class Create {\r\n            private Long id;\r\n            private Long companyId;\r\n            private Long userId;\r\n            private Long contractLength;       \r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Swagger request body is generated incorrectly","body":"<p>I'm currently working on generating API documentation using Swagger for my Java Spring Boot project. However, I'm encountering an issue where the request body fields are mapped to a different DTO (Data Transfer Object) class than expected.</p>\n<p>The correct DTO for the request body is <code>ADTO.Request.Create</code>, but Swagger is incorrectly referring to <code>BDTO.Request.Create</code>. I want to keep the original class names and fix this problem by adjusting my Swagger configuration. Currently, I am using <code>swagger-ui-react v4.16.1</code> and I don't have any specific configuration.</p>\n<p>Here are my DTO classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ADTO {\n    public interface Request {\n        public class Create {\n            private Long id;\n            private String name;\n            private String telephone;\n            private String mobile;\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface BDTO {\n    public interface Request {\n        public class Create {\n            private Long id;\n            private Long companyId;\n            private Long userId;\n            private Long contractLength;       \n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":5239926,"reputation":2061,"user_id":4187323,"display_name":"gregdim"},"score":0,"creation_date":1418749403,"post_id":27508521,"comment_id":43450054,"body_markdown":"Do you use maven for the build?","body":"Do you use maven for the build?"},{"owner":{"account_id":3916939,"reputation":267,"user_id":3240544,"accept_rate":19,"display_name":"user3240544"},"score":0,"creation_date":1418749460,"post_id":27508521,"comment_id":43450098,"body_markdown":"YEs, i&#39;m using maven","body":"YEs, i&#39;m using maven"}],"answers":[{"comments":[{"owner":{"account_id":3916939,"reputation":267,"user_id":3240544,"accept_rate":19,"display_name":"user3240544"},"score":0,"creation_date":1418747514,"post_id":27508942,"comment_id":43448735,"body_markdown":"Well, I don&#39;t I only have one src folder and my packages are in it. I have resources folder but it is under web","body":"Well, I don&#39;t I only have one src folder and my packages are in it. I have resources folder but it is under web"}],"tags":[],"owner":{"account_id":378949,"reputation":1413,"user_id":731998,"accept_rate":86,"display_name":"happymeal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418746158,"creation_date":1418746158,"answer_id":27508942,"question_id":27508521,"body_markdown":"you should have a file in your project as such:\r\n\r\n    src\\main\\resources\\com\\test\\messages.properties","title":"Spring ResourceBundle not found for base name","body":"<p>you should have a file in your project as such:</p>\n\n<pre><code>src\\main\\resources\\com\\test\\messages.properties\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3916939,"reputation":267,"user_id":3240544,"accept_rate":19,"display_name":"user3240544"},"score":0,"creation_date":1418750849,"post_id":27510240,"comment_id":43450982,"body_markdown":"I do not have resources or main folder under src. I&#39;ve used eclipse and I know that there is like that:\nsrc/main/java\nsrc/main/resources\n\nHowever, in idea under src i have only my packages.","body":"I do not have resources or main folder under src. I&#39;ve used eclipse and I know that there is like that: src/main/java src/main/resources  However, in idea under src i have only my packages."},{"owner":{"account_id":5239926,"reputation":2061,"user_id":4187323,"display_name":"gregdim"},"score":0,"creation_date":1418751176,"post_id":27510240,"comment_id":43451174,"body_markdown":"if you use maven you should, otherwise you have to override the maven configuration to tailor it according to your needs. Maven works in a convention-over-configuration fashion so some things like directory structure are pre-configured","body":"if you use maven you should, otherwise you have to override the maven configuration to tailor it according to your needs. Maven works in a convention-over-configuration fashion so some things like directory structure are pre-configured"}],"tags":[],"owner":{"account_id":5239926,"reputation":2061,"user_id":4187323,"display_name":"gregdim"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418750219,"creation_date":1418750219,"answer_id":27510240,"question_id":27508521,"body_markdown":"Although I am not IDEA expert, I know that resources such as .property files placed in the source code hierarchy are copied to the classpath when using the IDE alone.  However, if you use maven, then it takes over the build and whatever is in the java path is not copied by default. You have to place all your classpath resources in `src\\main\\resources` and under whatever hierarchy mirrors the package name to have the same result.  So in your case :\r\n\r\n    src\\main\\resources\\com\\test\\messages\\messages.properties \r\n\r\nand maven will copy it properly","title":"Spring ResourceBundle not found for base name","body":"<p>Although I am not IDEA expert, I know that resources such as .property files placed in the source code hierarchy are copied to the classpath when using the IDE alone.  However, if you use maven, then it takes over the build and whatever is in the java path is not copied by default. You have to place all your classpath resources in <code>src\\main\\resources</code> and under whatever hierarchy mirrors the package name to have the same result.  So in your case :</p>\n\n<pre><code>src\\main\\resources\\com\\test\\messages\\messages.properties \n</code></pre>\n\n<p>and maven will copy it properly</p>\n"},{"comments":[{"owner":{"account_id":1320579,"reputation":1799,"user_id":1266500,"accept_rate":60,"display_name":"Azee"},"score":0,"creation_date":1418754543,"post_id":27511446,"comment_id":43453039,"body_markdown":"Idea or Eclipes - you&#39;d should be able to create a resource directory.","body":"Idea or Eclipes - you&#39;d should be able to create a resource directory."}],"tags":[],"owner":{"account_id":1320579,"reputation":1799,"user_id":1266500,"accept_rate":60,"display_name":"Azee"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418754420,"creation_date":1418754420,"answer_id":27511446,"question_id":27508521,"body_markdown":"Do not keep properties in packages.\r\nResources directory is a standart place to keep internal properties.\r\n\r\n    /src/main/resources\r\nor\r\n\r\n    /src/test/resources\r\n\r\nIf you want to keep properties separated from the project - use something this kind of spring configuration:\r\n\r\n    &lt;bean id=&quot;props&quot; class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot; &gt;\r\n        &lt;property name=&quot;ignoreResourceNotFound&quot; value=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;localOverride&quot; value=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;locations&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;value&gt;classpath*:messages.properties&lt;/value&gt;\r\n                &lt;value&gt;file:messages.properties&lt;/value&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nSo you&#39;d be able to override internal properties with external (don&#39;t forget to add the to a classpath using -cp).\r\n\r\nAnyway the declaration of the been will look like this:\r\n \r\n    &lt;bean id=&quot;messageSource&quot; class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&gt;\r\n        &lt;property name=&quot;basename&quot; value=&quot;${property.name}&quot;/&gt;\r\n    &lt;/bean&gt;","title":"Spring ResourceBundle not found for base name","body":"<p>Do not keep properties in packages.\nResources directory is a standart place to keep internal properties.</p>\n\n<pre><code>/src/main/resources\n</code></pre>\n\n<p>or</p>\n\n<pre><code>/src/test/resources\n</code></pre>\n\n<p>If you want to keep properties separated from the project - use something this kind of spring configuration:</p>\n\n<pre><code>&lt;bean id=\"props\" class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\" &gt;\n    &lt;property name=\"ignoreResourceNotFound\" value=\"true\"/&gt;\n    &lt;property name=\"localOverride\" value=\"true\"/&gt;\n    &lt;property name=\"locations\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;classpath*:messages.properties&lt;/value&gt;\n            &lt;value&gt;file:messages.properties&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>So you'd be able to override internal properties with external (don't forget to add the to a classpath using -cp).</p>\n\n<p>Anyway the declaration of the been will look like this:</p>\n\n<pre><code>&lt;bean id=\"messageSource\" class=\"org.springframework.context.support.ResourceBundleMessageSource\"&gt;\n    &lt;property name=\"basename\" value=\"${property.name}\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3961498,"reputation":2173,"user_id":3268354,"display_name":"Mizuki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622313532,"creation_date":1622303734,"answer_id":67753345,"question_id":27508521,"body_markdown":"I know this is old question, but let me drop my solution :)\r\n\r\nSource folder (`resources` is not package):\r\n\r\n    /src/main/java/\r\n                  somepackage/abc.java\r\n    /src/main/resources/\r\n                  messages.properties\r\n\r\nEclipse default output java build path:\r\n\r\n    myProject/build/classes\r\n\r\nEclipse default deploy path:\r\n \r\n\r\n    WEB-INF/classes\r\n\r\nMy project&#39;s spring context XML file path:\r\n\r\n    /src/main/webapp/WEB-INF/context.xml\r\nInject resource bundles,  \r\n\r\n    &lt;bean id=&quot;messageSource&quot; class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&gt;\r\n       &lt;property name=&quot;basenames&quot; value=&quot;messages&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nAs Azee said keeping properties in package is not encourage. In case, `messages.properties` is in `resources` package as below:\r\n\r\n    /src/resources/messages.properties\r\n\r\ncontext.xml should be like:\r\n\r\n     &lt;property name=&quot;basenames&quot; value=&quot;resources/messages&quot;/&gt;","title":"Spring ResourceBundle not found for base name","body":"<p>I know this is old question, but let me drop my solution :)</p>\n<p>Source folder (<code>resources</code> is not package):</p>\n<pre><code>/src/main/java/\n              somepackage/abc.java\n/src/main/resources/\n              messages.properties\n</code></pre>\n<p>Eclipse default output java build path:</p>\n<pre><code>myProject/build/classes\n</code></pre>\n<p>Eclipse default deploy path:</p>\n<pre><code>WEB-INF/classes\n</code></pre>\n<p>My project's spring context XML file path:</p>\n<pre><code>/src/main/webapp/WEB-INF/context.xml\n</code></pre>\n<p>Inject resource bundles,</p>\n<pre><code>&lt;bean id=&quot;messageSource&quot; class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&gt;\n   &lt;property name=&quot;basenames&quot; value=&quot;messages&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>As Azee said keeping properties in package is not encourage. In case, <code>messages.properties</code> is in <code>resources</code> package as below:</p>\n<pre><code>/src/resources/messages.properties\n</code></pre>\n<p>context.xml should be like:</p>\n<pre><code> &lt;property name=&quot;basenames&quot; value=&quot;resources/messages&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24849627,"reputation":1,"user_id":18726724,"display_name":"Richy971"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698681634,"creation_date":1698681262,"answer_id":77390140,"question_id":27508521,"body_markdown":"I solved this error like this:\r\n\r\nAppConfig.java:\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n\r\n    @Bean\r\n    public ResourceBundleMessageSource messageSource() {\r\n\r\n        var source = new ResourceBundleMessageSource();\r\n        source.setBasenames(&quot;i18n/messages&quot;);\r\n        source.setUseCodeAsDefaultMessage(true);\r\n\r\n        return source;\r\n       }\r\n    }\r\n\r\npom.xml:\r\n\r\n    &lt;resources&gt;\r\n    &lt;resource&gt;\r\n        &lt;directory&gt;${basedir}/src/main/resources&lt;/directory&gt;\r\n        &lt;filtering&gt;true&lt;/filtering&gt;\r\n        &lt;includes&gt;\r\n            &lt;include&gt;**/application*.yml&lt;/include&gt;\r\n            &lt;include&gt;**/messages*.properties&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n    &lt;/resource&gt;\r\n&lt;/resources&gt;\r\n\r\nServiceExtController.java:\r\n\r\n    private String getLibelleService(TypeService typeService) {\r\n    return messageSource.getMessage(&quot;service.name.&quot; + typeService.toString().toLowerCase(), null, Locale.FRENCH);\r\n}\r\n\r\nsrc/main/resources:\r\n\r\n--&gt; i18n/message.properties","title":"Spring ResourceBundle not found for base name","body":"<p>I solved this error like this:</p>\n<p>AppConfig.java:</p>\n<pre><code>@Configuration\npublic class AppConfig {\n\n@Bean\npublic ResourceBundleMessageSource messageSource() {\n\n    var source = new ResourceBundleMessageSource();\n    source.setBasenames(&quot;i18n/messages&quot;);\n    source.setUseCodeAsDefaultMessage(true);\n\n    return source;\n   }\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;resources&gt;\n&lt;resource&gt;\n    &lt;directory&gt;${basedir}/src/main/resources&lt;/directory&gt;\n    &lt;filtering&gt;true&lt;/filtering&gt;\n    &lt;includes&gt;\n        &lt;include&gt;**/application*.yml&lt;/include&gt;\n        &lt;include&gt;**/messages*.properties&lt;/include&gt;\n    &lt;/includes&gt;\n&lt;/resource&gt;\n</code></pre>\n\n<p>ServiceExtController.java:</p>\n<pre><code>private String getLibelleService(TypeService typeService) {\nreturn messageSource.getMessage(&quot;service.name.&quot; + typeService.toString().toLowerCase(), null, Locale.FRENCH);\n</code></pre>\n<p>}</p>\n<p>src/main/resources:</p>\n<p>--&gt; i18n/message.properties</p>\n"}],"owner":{"account_id":3916939,"reputation":267,"user_id":3240544,"accept_rate":19,"display_name":"user3240544"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1698681634,"creation_date":1418745032,"question_id":27508521,"body_markdown":"I&#39;m having problems taking the message values to a properties file.\r\n\r\nI&#39;m using intelliJ IDEA and i have a package \r\n\r\n    com.test.messages \r\n    \r\nand inside I have the messages.properties file.\r\n\r\nHere is my xml\r\n\r\n       &lt;bean id=&quot;messageSource&quot; class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&gt;\r\n            &lt;property name=&quot;basename&quot; value=&quot;com.test.messages.messages&quot;/&gt;\r\n        &lt;/bean&gt;\r\n\r\nWhen I restart the server this is the WARNING i get \r\n\r\n    WARNING: ResourceBundle [com.test.messages.messages] not found for MessageSource: Can&#39;t find bundle for base name com.test.messages.messages, locale en_US\r\n\r\nAny ideas? \r\n\r\n","title":"Spring ResourceBundle not found for base name","body":"<p>I'm having problems taking the message values to a properties file.</p>\n\n<p>I'm using intelliJ IDEA and i have a package </p>\n\n<pre><code>com.test.messages \n</code></pre>\n\n<p>and inside I have the messages.properties file.</p>\n\n<p>Here is my xml</p>\n\n<pre><code>   &lt;bean id=\"messageSource\" class=\"org.springframework.context.support.ResourceBundleMessageSource\"&gt;\n        &lt;property name=\"basename\" value=\"com.test.messages.messages\"/&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>When I restart the server this is the WARNING i get </p>\n\n<pre><code>WARNING: ResourceBundle [com.test.messages.messages] not found for MessageSource: Can't find bundle for base name com.test.messages.messages, locale en_US\n</code></pre>\n\n<p>Any ideas? </p>\n"},{"tags":["java","lombok"],"answers":[{"comments":[{"owner":{"account_id":10891141,"reputation":1976,"user_id":8006882,"accept_rate":79,"display_name":"Anna Klein"},"score":2,"creation_date":1533652519,"post_id":38572814,"comment_id":90419443,"body_markdown":"This should be the accpeted answer since I don&#39;t think the suggestion of Roel should be done &quot;lombok.equalsAndHashCode.callSuper = call&quot; instead a decision for each class should be made.","body":"This should be the accpeted answer since I don&#39;t think the suggestion of Roel should be done &quot;lombok.equalsAndHashCode.callSuper = call&quot; instead a decision for each class should be made."},{"owner":{"account_id":6087813,"reputation":15135,"user_id":4751165,"accept_rate":96,"display_name":"Pau"},"score":9,"creation_date":1536331242,"post_id":38572814,"comment_id":91398734,"body_markdown":"@AnnaKlein I don&#39;t think so. In fact this answer should be a comment, there&#39;s no new information here, you can find that in my question. I did know `@EqualsAndHashCode` resolves the warning.","body":"@AnnaKlein I don&#39;t think so. In fact this answer should be a comment, there&#39;s no new information here, you can find that in my question. I did know <code>@EqualsAndHashCode</code> resolves the warning."},{"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"score":0,"creation_date":1555341906,"post_id":38572814,"comment_id":98067727,"body_markdown":"Actually per the accepted answer (and my answer below) you should choose between &#39;callSuper=true&#39; or &#39;callSuper=false&#39; in the annotation.","body":"Actually per the accepted answer (and my answer below) you should choose between &#39;callSuper=true&#39; or &#39;callSuper=false&#39; in the annotation."}],"tags":[],"owner":{"account_id":245542,"reputation":3314,"user_id":1989695,"accept_rate":100,"display_name":"noscreenname"},"comment_count":3,"down_vote_count":2,"up_vote_count":68,"is_accepted":false,"score":66,"last_activity_date":1469463453,"creation_date":1469463453,"answer_id":38572814,"question_id":38572566,"body_markdown":"`@EqualsAndHashCode(callSuper=true)` should resolve the warning. ","title":"Warning equals/hashCode on Lombok&#39;s @Data annotation with inheritance","body":"<p><code>@EqualsAndHashCode(callSuper=true)</code> should resolve the warning. </p>\n"},{"comments":[{"owner":{"account_id":281433,"reputation":1014,"user_id":577736,"display_name":"Alok P"},"score":0,"creation_date":1521638350,"post_id":38589373,"comment_id":85815888,"body_markdown":"Worked for me.  But just keep in mind that for the delombok plugin to pick this config file up it should be placed in the java source root directory, not in the resources directory, i.e. in src/main/java and not in src/main/resources","body":"Worked for me.  But just keep in mind that for the delombok plugin to pick this config file up it should be placed in the java source root directory, not in the resources directory, i.e. in src/main/java and not in src/main/resources"},{"owner":{"account_id":901097,"reputation":4548,"user_id":937230,"display_name":"David Siegal"},"score":3,"creation_date":1523909998,"post_id":38589373,"comment_id":86746530,"body_markdown":"@Roel I&#39;m wondering why the default is false. I would&#39;ve expected the opposite. Also, is there an equivalent way to get toString() to call super by default? I see I can do &quot;@ToString(callSuper=true)&quot;, but not seeing any such configuration setting. Thanks.","body":"@Roel I&#39;m wondering why the default is false. I would&#39;ve expected the opposite. Also, is there an equivalent way to get toString() to call super by default? I see I can do &quot;@ToString(callSuper=true)&quot;, but not seeing any such configuration setting. Thanks."},{"owner":{"account_id":10891141,"reputation":1976,"user_id":8006882,"accept_rate":79,"display_name":"Anna Klein"},"score":1,"creation_date":1533652629,"post_id":38589373,"comment_id":90419517,"body_markdown":"Does it matter if I add @EqualsAndHashCode(callSuper=true) before or after @Data ?","body":"Does it matter if I add @EqualsAndHashCode(callSuper=true) before or after @Data ?"},{"owner":{"account_id":354343,"reputation":4204,"user_id":692626,"accept_rate":14,"display_name":"dan carter"},"score":1,"creation_date":1568586833,"post_id":38589373,"comment_id":102310208,"body_markdown":"@AnnaKlein the order doesn&#39;t matter","body":"@AnnaKlein the order doesn&#39;t matter"}],"tags":[],"owner":{"account_id":7297,"reputation":32778,"user_id":12634,"accept_rate":75,"display_name":"Roel Spilker"},"comment_count":4,"down_vote_count":1,"up_vote_count":166,"is_accepted":true,"score":165,"last_activity_date":1539799496,"creation_date":1469534573,"answer_id":38589373,"question_id":38572566,"body_markdown":"The [default value](https://projectlombok.org/api/lombok/EqualsAndHashCode.html#callSuper--) is `false`. That is the one you get if you don&#39;t specify it and ignore the warning.\r\n\r\nYes, it is recommended to add an `@EqualsAndHashCode` annotation on the `@Data` annotated classes that extend something else than Object. I cannot tell you if you need `true` or `false`, that depends on your class hierarchy, and will need to be examined on a case-by-case basis.\r\n\r\nHowever, for a project or package, you can configure in `lombok.config` to call the super methods if it is not a direct subclass of Object.\r\n\r\n    lombok.equalsAndHashCode.callSuper = call\r\n\r\nSee the [configuration system documentation](https://projectlombok.org/features/configuration.html) on how this works, and the [`@EqualsEndHashCode` documentation](https://projectlombok.org/features/EqualsAndHashCode.html) for the supported configuration keys.\r\n\r\nDisclosure: I am a lombok developer.","title":"Warning equals/hashCode on Lombok&#39;s @Data annotation with inheritance","body":"<p>The <a href=\"https://projectlombok.org/api/lombok/EqualsAndHashCode.html#callSuper--\" rel=\"noreferrer\">default value</a> is <code>false</code>. That is the one you get if you don't specify it and ignore the warning.</p>\n\n<p>Yes, it is recommended to add an <code>@EqualsAndHashCode</code> annotation on the <code>@Data</code> annotated classes that extend something else than Object. I cannot tell you if you need <code>true</code> or <code>false</code>, that depends on your class hierarchy, and will need to be examined on a case-by-case basis.</p>\n\n<p>However, for a project or package, you can configure in <code>lombok.config</code> to call the super methods if it is not a direct subclass of Object.</p>\n\n<pre><code>lombok.equalsAndHashCode.callSuper = call\n</code></pre>\n\n<p>See the <a href=\"https://projectlombok.org/features/configuration.html\" rel=\"noreferrer\">configuration system documentation</a> on how this works, and the <a href=\"https://projectlombok.org/features/EqualsAndHashCode.html\" rel=\"noreferrer\"><code>@EqualsEndHashCode</code> documentation</a> for the supported configuration keys.</p>\n\n<p>Disclosure: I am a lombok developer.</p>\n"},{"comments":[{"owner":{"account_id":1010812,"reputation":7229,"user_id":1023421,"accept_rate":62,"display_name":"prageeth"},"score":4,"creation_date":1587306992,"post_id":54314291,"comment_id":108453924,"body_markdown":"I think this is the answer which well explains how to chose between callSuper = false and callSuper = true.","body":"I think this is the answer which well explains how to chose between callSuper = false and callSuper = true."},{"owner":{"account_id":12296207,"reputation":1838,"user_id":8971773,"accept_rate":25,"display_name":"Kira Resari"},"score":1,"creation_date":1608535563,"post_id":54314291,"comment_id":115603774,"body_markdown":"I agree. This explanation is really helpful.","body":"I agree. This explanation is really helpful."}],"tags":[],"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"comment_count":2,"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1548181160,"creation_date":1548181160,"answer_id":54314291,"question_id":38572566,"body_markdown":"The main original question is:\r\n\r\n&gt; Is it advisable to add annotation @EqualsAndHashCode (callSuper =\r\n&gt; true) or @EqualsAndHashCode (callSuper = false)?\r\n\r\nThe accepted answer is basically just: \r\n\r\n&gt; ...that depends...\r\n\r\nTo expand on that, the documentation on [@EqualsAndHashCode][1] has some solid guidance on which to choose. Especially this, IMHO:\r\n\r\n&gt; By setting callSuper to true, you can include the equals and hashCode\r\n&gt; methods of your superclass in the generated methods. For hashCode, the\r\n&gt; result of super.hashCode() is included in the hash algorithm, and\r\n&gt; forequals, the generated method will return false if the super\r\n&gt; implementation thinks it is not equal to the passed in object. Be\r\n&gt; aware that not all equals implementations handle this situation\r\n&gt; properly. However, lombok-generated equals implementations do handle\r\n&gt; this situation properly, so you can safely call your superclass equals\r\n&gt; if it, too, has a lombok-generated equals method.\r\n\r\nTo distill this down a bit:\r\nChose &#39;callSuper=true&#39; if you are inheriting from a superclass that either has no state information, or itself is using the @Data annotation, or has implementations of equals/hash that &quot;handle the situation properly&quot; - which I interpret to mean returning a proper hash of the state values. \r\n\r\n\r\n  [1]: https://projectlombok.org/features/EqualsAndHashCode","title":"Warning equals/hashCode on Lombok&#39;s @Data annotation with inheritance","body":"<p>The main original question is:</p>\n\n<blockquote>\n  <p>Is it advisable to add annotation @EqualsAndHashCode (callSuper =\n  true) or @EqualsAndHashCode (callSuper = false)?</p>\n</blockquote>\n\n<p>The accepted answer is basically just: </p>\n\n<blockquote>\n  <p>...that depends...</p>\n</blockquote>\n\n<p>To expand on that, the documentation on <a href=\"https://projectlombok.org/features/EqualsAndHashCode\" rel=\"noreferrer\">@EqualsAndHashCode</a> has some solid guidance on which to choose. Especially this, IMHO:</p>\n\n<blockquote>\n  <p>By setting callSuper to true, you can include the equals and hashCode\n  methods of your superclass in the generated methods. For hashCode, the\n  result of super.hashCode() is included in the hash algorithm, and\n  forequals, the generated method will return false if the super\n  implementation thinks it is not equal to the passed in object. Be\n  aware that not all equals implementations handle this situation\n  properly. However, lombok-generated equals implementations do handle\n  this situation properly, so you can safely call your superclass equals\n  if it, too, has a lombok-generated equals method.</p>\n</blockquote>\n\n<p>To distill this down a bit:\nChose 'callSuper=true' if you are inheriting from a superclass that either has no state information, or itself is using the @Data annotation, or has implementations of equals/hash that \"handle the situation properly\" - which I interpret to mean returning a proper hash of the state values. </p>\n"},{"tags":[],"owner":{"account_id":7981473,"reputation":441,"user_id":6325662,"display_name":"EvR2f"},"comment_count":0,"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1574686466,"creation_date":1574686148,"answer_id":59032230,"question_id":38572566,"body_markdown":"If you want to compare the members of the superclass as well, then use `@EqualsAndHashCode(callSuper=true)`. If, however, you only want to compare fields in the current class you can use `@EqualsAndHashCode(callSuper=false)` which is the **default** option.\r\n\r\nIf you use the *Delombok*-feature you can see that the difference is that when set to `true` this line is added to the generated *equals* method `if (!super.equals(o)) return false;`. If you have members in the superclass that should be taken into account when comparing two objects, then it has to be set to true to compare correctly. ","title":"Warning equals/hashCode on Lombok&#39;s @Data annotation with inheritance","body":"<p>If you want to compare the members of the superclass as well, then use <code>@EqualsAndHashCode(callSuper=true)</code>. If, however, you only want to compare fields in the current class you can use <code>@EqualsAndHashCode(callSuper=false)</code> which is the <strong>default</strong> option.</p>\n\n<p>If you use the <em>Delombok</em>-feature you can see that the difference is that when set to <code>true</code> this line is added to the generated <em>equals</em> method <code>if (!super.equals(o)) return false;</code>. If you have members in the superclass that should be taken into account when comparing two objects, then it has to be set to true to compare correctly. </p>\n"}],"owner":{"account_id":6087813,"reputation":15135,"user_id":4751165,"accept_rate":96,"display_name":"Pau"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112031,"favorite_count":0,"down_vote_count":1,"up_vote_count":152,"accepted_answer_id":38589373,"answer_count":4,"score":151,"last_activity_date":1698681456,"creation_date":1469462682,"question_id":38572566,"body_markdown":"I have a entity which inherits from other. On other hand, I&#39;m using Lombok project to reduce boilerplate code, so I put `@Data` annotation. The annotation `@Data` with inheritance produces the next warning:\r\n\r\n&gt;Generating equals/hashCode implementation but without a call to superclass, even though this class does not extend java.lang.Object. If this is intentional, add `@EqualsAndHashCode(callSuper=false)` to your type.\r\n\r\nI have the following questions:\r\n - Is it advisable to add annotation `@EqualsAndHashCode(callSuper = true)` or `@EqualsAndHashCode(callSuper = false)`?\r\n - If it is not added, which one is it: **`callSuper=false`** or\r\n   **`callSuper=true`**?","title":"Warning equals/hashCode on Lombok&#39;s @Data annotation with inheritance","body":"<p>I have a entity which inherits from other. On other hand, I'm using Lombok project to reduce boilerplate code, so I put <code>@Data</code> annotation. The annotation <code>@Data</code> with inheritance produces the next warning:</p>\n<blockquote>\n<p>Generating equals/hashCode implementation but without a call to superclass, even though this class does not extend java.lang.Object. If this is intentional, add <code>@EqualsAndHashCode(callSuper=false)</code> to your type.</p>\n</blockquote>\n<p>I have the following questions:</p>\n<ul>\n<li>Is it advisable to add annotation <code>@EqualsAndHashCode(callSuper = true)</code> or <code>@EqualsAndHashCode(callSuper = false)</code>?</li>\n<li>If it is not added, which one is it: <strong><code>callSuper=false</code></strong> or\n<strong><code>callSuper=true</code></strong>?</li>\n</ul>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":1,"creation_date":1698681066,"post_id":77389952,"comment_id":136432938,"body_markdown":"Just out of curiosity, why are you writing a program to create a backup? Just use your favourite task scheduler to run mysqldump (or any other backup tool). You seem to be overcomplicating this task.","body":"Just out of curiosity, why are you writing a program to create a backup? Just use your favourite task scheduler to run mysqldump (or any other backup tool). You seem to be overcomplicating this task."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1698681531,"post_id":77389952,"comment_id":136433045,"body_markdown":"Agree with @Shadow here, unless there is a specific reason you need an entire webserver to do this you should stick with the basics. You can use PowerShell, MSDos Terminal and Windows Scheduler (you shared an Windows OS path). Besides that, assuming you do have a reason other than I wanna try this way, the first thing that comes to mind is timeout but it is weird that it is generating the file after you stop the server.","body":"Agree with @Shadow here, unless there is a specific reason you need an entire webserver to do this you should stick with the basics. You can use PowerShell, MSDos Terminal and Windows Scheduler (you shared an Windows OS path). Besides that, assuming you do have a reason other than I wanna try this way, the first thing that comes to mind is timeout but it is weird that it is generating the file after you stop the server."},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1698683922,"post_id":77389952,"comment_id":136433565,"body_markdown":"@JorgeCampos my guess is that the code runs mysqldump in a completely separate process, which is not terminated when Tomcat stops the http response thread.","body":"@JorgeCampos my guess is that the code runs mysqldump in a completely separate process, which is not terminated when Tomcat stops the http response thread."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1698684136,"post_id":77389952,"comment_id":136433619,"body_markdown":"@Shadow yeah that seems feasible for a Windows OS. On *nix the process would die with its parent (tomcat). Though it doesn&#39;t explain why it hangs the process **until** it is killed","body":"@Shadow yeah that seems feasible for a Windows OS. On *nix the process would die with its parent (tomcat). Though it doesn&#39;t explain why it hangs the process <b>until</b> it is killed"},{"owner":{"account_id":29785832,"reputation":1,"user_id":22827209,"display_name":"Santosh Kumar"},"score":0,"creation_date":1698685078,"post_id":77389952,"comment_id":136433815,"body_markdown":"Actually I am working for client application he is using my app, Client does not have the accesss of mysql server or database, He just take backup from application and save it system, But if the size of backup is increased, I needt stop the server then works fine,","body":"Actually I am working for client application he is using my app, Client does not have the accesss of mysql server or database, He just take backup from application and save it system, But if the size of backup is increased, I needt stop the server then works fine,"}],"owner":{"account_id":29785832,"reputation":1,"user_id":22827209,"display_name":"Santosh Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698681031,"creation_date":1698679822,"question_id":77389952,"body_markdown":"    // Specify the full path to mysqldump\r\n    //String mysqldumpPath = &quot;C:\\\\Program Files\\\\MySQL\\\\MySQL Server 5.7\\\\bin\\\\mysqldump.exe&quot;;\r\n\r\n    // Specify the command and its arguments\r\n    ProcessBuilder processBuilder = new ProcessBuilder(\r\n        mysqldumpPath,\r\n        &quot;--user=&quot; + dbUserName,\r\n        &quot;--password=&quot; + dbPassword,\r\n        dbName,\r\n        &quot;--result-file=&quot; + backupDirectoryPath + backupFileName\r\n    );\r\n\r\n    // Redirect standard error to standard output\r\n    processBuilder.redirectErrorStream(true);\r\n\r\n    Process process = processBuilder.start();\r\n    int exitCode = process.waitFor();\r\n\r\n    if (exitCode == 0) {\r\n        MyPrint.print(&quot;Backup successful.&quot;);\r\n    } else {\r\n        MyPrint.print(&quot;Backup failed.&quot;);\r\n    } \r\n\r\nBut I am facing a issue, the code give me correct dump of db with size 2, 3gb without stopping the server, but larger size like 3 or 4 GB it loads for infinite time and I need to stop server. When I stop the server it creates the dump correctly... What can be the issue\r\n\r\nSo any solutions for this problem or another way to create dump for larger size....???\r\n\r\n","title":"I am creating mysql database dump using mysqldump and java with below code on Apache Tomcat","body":"<pre><code>// Specify the full path to mysqldump\n//String mysqldumpPath = &quot;C:\\\\Program Files\\\\MySQL\\\\MySQL Server 5.7\\\\bin\\\\mysqldump.exe&quot;;\n\n// Specify the command and its arguments\nProcessBuilder processBuilder = new ProcessBuilder(\n    mysqldumpPath,\n    &quot;--user=&quot; + dbUserName,\n    &quot;--password=&quot; + dbPassword,\n    dbName,\n    &quot;--result-file=&quot; + backupDirectoryPath + backupFileName\n);\n\n// Redirect standard error to standard output\nprocessBuilder.redirectErrorStream(true);\n\nProcess process = processBuilder.start();\nint exitCode = process.waitFor();\n\nif (exitCode == 0) {\n    MyPrint.print(&quot;Backup successful.&quot;);\n} else {\n    MyPrint.print(&quot;Backup failed.&quot;);\n} \n</code></pre>\n<p>But I am facing a issue, the code give me correct dump of db with size 2, 3gb without stopping the server, but larger size like 3 or 4 GB it loads for infinite time and I need to stop server. When I stop the server it creates the dump correctly... What can be the issue</p>\n<p>So any solutions for this problem or another way to create dump for larger size....???</p>\n"},{"tags":["java","static-methods"],"answers":[{"tags":[],"owner":{"account_id":95424,"reputation":37497,"user_id":259900,"accept_rate":96,"display_name":"Kevin Sylvestre"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1271718506,"creation_date":1271718506,"answer_id":2671513,"question_id":2671496,"body_markdown":"Static methods in java belong to the class (not an instance of it). They use no instance variables and will usually take input from the parameters, perform actions on it, then return some result. Instances methods are associated with objects and, as the name implies, can use instance variables.\r\n  ","title":"When to use static methods","body":"<p>Static methods in java belong to the class (not an instance of it). They use no instance variables and will usually take input from the parameters, perform actions on it, then return some result. Instances methods are associated with objects and, as the name implies, can use instance variables.</p>\n"},{"comments":[{"owner":{"account_id":1011566,"reputation":1150,"user_id":1028135,"accept_rate":75,"display_name":"MastAvalons"},"score":1,"creation_date":1560767764,"post_id":2671515,"comment_id":99830925,"body_markdown":"You should use static methods if don&#39;t need object&#39;s state manipulations.","body":"You should use static methods if don&#39;t need object&#39;s state manipulations."}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1271718512,"creation_date":1271718512,"answer_id":2671515,"question_id":2671496,"body_markdown":"No, static methods aren&#39;t associated with an instance; they belong to the class.  Static methods are your second example; instance methods are the first.\r\n","title":"When to use static methods","body":"<p>No, static methods aren't associated with an instance; they belong to the class.  Static methods are your second example; instance methods are the first.</p>\n"},{"comments":[{"owner":{"account_id":400584,"reputation":2150,"user_id":766640,"accept_rate":100,"display_name":"adamjmarkham"},"score":34,"creation_date":1325445620,"post_id":2671517,"comment_id":10815753,"body_markdown":"This does not give any rationale for the design of a program.","body":"This does not give any rationale for the design of a program."},{"owner":{"account_id":2824595,"reputation":858,"user_id":2427498,"accept_rate":49,"display_name":"Wang&#39;l Pakhrin"},"score":0,"creation_date":1683899603,"post_id":2671517,"comment_id":134441720,"body_markdown":"yes give a proper example to back your answer.","body":"yes give a proper example to back your answer."}],"tags":[],"owner":{"account_id":2661,"reputation":5051,"user_id":3734,"accept_rate":100,"display_name":"jamz"},"comment_count":2,"down_vote_count":10,"up_vote_count":15,"is_accepted":false,"score":5,"last_activity_date":1271718526,"creation_date":1271718526,"answer_id":2671517,"question_id":2671496,"body_markdown":"Use a static method when you want to be able to access the method without an instance of the class.","title":"When to use static methods","body":"<p>Use a static method when you want to be able to access the method without an instance of the class.</p>\n"},{"tags":[],"owner":{"account_id":106062,"reputation":31478,"user_id":282706,"accept_rate":80,"display_name":"Finbarr"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1271718652,"creation_date":1271718652,"answer_id":2671529,"question_id":2671496,"body_markdown":"Static:\r\n`Obj.someMethod`\r\n\r\nUse `static` when you want to provide class level access to a method, i.e. where the method should be callable without an instance of the class.","title":"When to use static methods","body":"<p>Static:\n<code>Obj.someMethod</code></p>\n\n<p>Use <code>static</code> when you want to provide class level access to a method, i.e. where the method should be callable without an instance of the class.</p>\n"},{"comments":[{"owner":{"account_id":4752630,"reputation":2153,"user_id":3842263,"display_name":"Yosidroid"},"score":1,"creation_date":1549820785,"post_id":2671539,"comment_id":96031258,"body_markdown":"Clear, short and simple answer.","body":"Clear, short and simple answer."}],"tags":[],"owner":{"account_id":61330,"reputation":4234,"user_id":182837,"accept_rate":62,"display_name":"Carsten"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1271718723,"creation_date":1271718723,"answer_id":2671539,"question_id":2671496,"body_markdown":"Static methods are not associated with an instance, so they can not access any non-static fields in the class. \r\n\r\nYou would use a static method if the method does not use any fields (or only static fields) of a class. \r\n\r\nIf any non-static fields of a class are used you must use a non-static method.","title":"When to use static methods","body":"<p>Static methods are not associated with an instance, so they can not access any non-static fields in the class. </p>\n\n<p>You would use a static method if the method does not use any fields (or only static fields) of a class. </p>\n\n<p>If any non-static fields of a class are used you must use a non-static method.</p>\n"},{"comments":[{"owner":{"account_id":1296261,"reputation":622,"user_id":1247236,"accept_rate":100,"display_name":"Zack Jannsen"},"score":382,"creation_date":1344855872,"post_id":2671636,"comment_id":15893279,"body_markdown":"A few good examples here.  I would add, however, that &quot;static&quot; is often valuable when you know something is not going to change across instances.  If this is the case, I would really consider the &quot;Single Responsability Principle&quot;, which implies a class should have one responsability and thus only one reason to change.  I feel one should consider moving the &quot;ConvertMpgToKpl(double mpg)&quot; function, and similar methods, to their own class. The purpose of a car object is to allow instantiation of cars, not provide a comparison between them.  Those should be external to the class.","body":"A few good examples here.  I would add, however, that &quot;static&quot; is often valuable when you know something is not going to change across instances.  If this is the case, I would really consider the &quot;Single Responsability Principle&quot;, which implies a class should have one responsability and thus only one reason to change.  I feel one should consider moving the &quot;ConvertMpgToKpl(double mpg)&quot; function, and similar methods, to their own class. The purpose of a car object is to allow instantiation of cars, not provide a comparison between them.  Those should be external to the class."},{"owner":{"account_id":1781636,"reputation":7670,"user_id":1624202,"accept_rate":61,"display_name":"Cruncher"},"score":37,"creation_date":1389103388,"post_id":2671636,"comment_id":31509543,"body_markdown":"I think I would rather the method `Car#isMoreEfficientThan(Car)`. It has the advantage that which car you return in a tie isn&#39;t arbitrary. It&#39;s obvious by the title of the method what is returned in a tie.","body":"I think I would rather the method <code>Car#isMoreEfficientThan(Car)</code>. It has the advantage that which car you return in a tie isn&#39;t arbitrary. It&#39;s obvious by the title of the method what is returned in a tie."},{"owner":{"account_id":89355,"reputation":618,"user_id":246588,"accept_rate":100,"display_name":"Seth M."},"score":11,"creation_date":1396878630,"post_id":2671636,"comment_id":34973664,"body_markdown":"I would also be careful about creating a static method that is using some external resource (filesystem, database, etc) this type of static can make it horrendous to test the consuming methods.\n\nI personally try to keep statics in the realm of &quot;utility.&quot;","body":"I would also be careful about creating a static method that is using some external resource (filesystem, database, etc) this type of static can make it horrendous to test the consuming methods.  I personally try to keep statics in the realm of &quot;utility.&quot;"},{"owner":{"account_id":37396,"reputation":15832,"user_id":106906,"accept_rate":78,"display_name":"Dogweather"},"score":10,"creation_date":1423006587,"post_id":2671636,"comment_id":44972530,"body_markdown":"In fact, it should be implemented as a [Comparator](http://www.tutorialspoint.com/java/java_using_comparator.htm).","body":"In fact, it should be implemented as a <a href=\"http://www.tutorialspoint.com/java/java_using_comparator.htm\" rel=\"nofollow noreferrer\">Comparator</a>."},{"owner":{"account_id":2804738,"reputation":147,"user_id":2412200,"accept_rate":67,"display_name":"shivi"},"score":0,"creation_date":1429685919,"post_id":2671636,"comment_id":47708906,"body_markdown":"just to simply add ,when you don&#39;t have any data/code dependency go for static else if data comes into picture its simply private(preferably)/public","body":"just to simply add ,when you don&#39;t have any data/code dependency go for static else if data comes into picture its simply private(preferably)/public"},{"owner":{"account_id":1206090,"reputation":8868,"user_id":1175714,"accept_rate":93,"display_name":"Braden Best"},"score":0,"creation_date":1452803225,"post_id":2671636,"comment_id":57341288,"body_markdown":"@Cruncher shouldn&#39;t `isMoreEfficientThan(...)` return a `boolean`? (`true` if more efficient, `false` if as or less efficient)","body":"@Cruncher shouldn&#39;t <code>isMoreEfficientThan(...)</code> return a <code>boolean</code>? (<code>true</code> if more efficient, <code>false</code> if as or less efficient)"},{"owner":{"account_id":1781636,"reputation":7670,"user_id":1624202,"accept_rate":61,"display_name":"Cruncher"},"score":3,"creation_date":1452803322,"post_id":2671636,"comment_id":57341349,"body_markdown":"@B1KMusic Of course. What I mean by &quot;which car is returned in a tie&quot; is &quot;true maps to the called on car, and false maps to the passed car&quot;. It&#39;s without ambiguity.","body":"@B1KMusic Of course. What I mean by &quot;which car is returned in a tie&quot; is &quot;true maps to the called on car, and false maps to the passed car&quot;. It&#39;s without ambiguity."},{"owner":{"account_id":1470699,"reputation":307,"user_id":1382352,"accept_rate":80,"display_name":"Kenny Steegmans"},"score":0,"creation_date":1470161288,"post_id":2671636,"comment_id":64831063,"body_markdown":"Am I save to assume that any basic linear script running as a JAR on a linux machine should be static? For example a java program which processes a bunch of files by filtering (Blacklist/whitelist), packaging and deposits them in a archive directory. Basically all your classes are Utility classes which the main calls directly. Is this correct?","body":"Am I save to assume that any basic linear script running as a JAR on a linux machine should be static? For example a java program which processes a bunch of files by filtering (Blacklist/whitelist), packaging and deposits them in a archive directory. Basically all your classes are Utility classes which the main calls directly. Is this correct?"},{"owner":{"account_id":125208,"reputation":17733,"user_id":320830,"display_name":"not-just-yeti"},"score":0,"creation_date":1470802275,"post_id":2671636,"comment_id":65091332,"body_markdown":"@KennySteegmans  No, I think it&#39;s unrelated.  For example, I could envision a &#39;class FileList&#39;, perhaps even with sub-classes &#39;ImageFileList&#39; and &#39;AppFileList&#39; etc., and so you might use an OO system.  Admittedly, that&#39;s *probably* overkill in the situation you describe, and a bunch of well-designed static methods would probably suffice.  (And of course, you would launch your program running by calling a static method (`main`).)","body":"@KennySteegmans  No, I think it&#39;s unrelated.  For example, I could envision a &#39;class FileList&#39;, perhaps even with sub-classes &#39;ImageFileList&#39; and &#39;AppFileList&#39; etc., and so you might use an OO system.  Admittedly, that&#39;s <i>probably</i> overkill in the situation you describe, and a bunch of well-designed static methods would probably suffice.  (And of course, you would launch your program running by calling a static method (<code>main</code>).)"},{"owner":{"account_id":1585313,"reputation":1529,"user_id":1469828,"accept_rate":68,"display_name":"typeof programmer"},"score":0,"creation_date":1496431416,"post_id":2671636,"comment_id":75676003,"body_markdown":"Thanks for your excellent answer. I now know java static method is shared by all instances of a certain class, dose it mean each instance has its own non-static method like non-static variable? Thanks.","body":"Thanks for your excellent answer. I now know java static method is shared by all instances of a certain class, dose it mean each instance has its own non-static method like non-static variable? Thanks."},{"owner":{"account_id":4006687,"reputation":1708,"user_id":3301188,"accept_rate":67,"display_name":"philx_x"},"score":0,"creation_date":1508495390,"post_id":2671636,"comment_id":80641793,"body_markdown":"is there a general statement regarding state/sideeffects of static methods?","body":"is there a general statement regarding state/sideeffects of static methods?"},{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":2,"creation_date":1510726445,"post_id":2671636,"comment_id":81551992,"body_markdown":"-1 The example methods `double convertMpgToKpl(double mpg)` and `Car theMoreEfficientOf( Car c1, Car c2 )` are clearly not the methods of Car class. And today, in 2017, in the age of DI and loose coupling, these methods should not be static at all even in another class.","body":"-1 The example methods <code>double convertMpgToKpl(double mpg)</code> and <code>Car theMoreEfficientOf( Car c1, Car c2 )</code> are clearly not the methods of Car class. And today, in 2017, in the age of DI and loose coupling, these methods should not be static at all even in another class."},{"owner":{"account_id":6000756,"reputation":185,"user_id":4714106,"accept_rate":100,"display_name":"jamesc1101"},"score":3,"creation_date":1512408189,"post_id":2671636,"comment_id":82235612,"body_markdown":"Contrary to some of the comments, I actually appreciate the second example. Even though it may not be the best method in practical use, it helped me understand the answer to the question better.","body":"Contrary to some of the comments, I actually appreciate the second example. Even though it may not be the best method in practical use, it helped me understand the answer to the question better."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":1,"creation_date":1520973556,"post_id":2671636,"comment_id":85534326,"body_markdown":"@TomBrito No performance considerations as there&#39;s no performance difference after the code gets JIT compiled. Virtual method calls are expensive, but they obviously don&#39;t apply when the method can be static. Method is classes without ancestors get special treatment and so do non-overridden methods (whether `final` or not).","body":"@TomBrito No performance considerations as there&#39;s no performance difference after the code gets JIT compiled. Virtual method calls are expensive, but they obviously don&#39;t apply when the method can be static. Method is classes without ancestors get special treatment and so do non-overridden methods (whether <code>final</code> or not)."}],"tags":[],"owner":{"account_id":125208,"reputation":17733,"user_id":320830,"display_name":"not-just-yeti"},"comment_count":14,"down_vote_count":7,"up_vote_count":1651,"is_accepted":true,"score":1644,"last_activity_date":1604572623,"creation_date":1271720533,"answer_id":2671636,"question_id":2671496,"body_markdown":"One rule-of-thumb: ask yourself &quot;Does it make sense to call this method, even if no object has been constructed yet?&quot;  If so, it should definitely be static.\r\n\r\nSo in a class `Car` you might have a method:\r\n\r\n    double convertMpgToKpl(double mpg)\r\n\r\n...which would be static, because one might want to know what 35mpg converts to, even if nobody has ever built a `Car`.  But this method (which sets the efficiency of one particular `Car`):\r\n\r\n    void setMileage(double mpg)\r\n\r\n...can&#39;t be static since it&#39;s inconceivable to call the method before any `Car` has been constructed.\r\n\r\n(By the way, the converse isn&#39;t always true: you might sometimes have a method which involves two `Car` objects, and still want it to be static.  E.g.: \r\n\r\n    Car theMoreEfficientOf(Car c1, Car c2)\r\n\r\nAlthough this could be converted to a non-static version, some would argue that since there isn&#39;t a &quot;privileged&quot; choice of which `Car` is more important, you shouldn&#39;t force a caller to choose one `Car` as the object you&#39;ll invoke the method on.  This situation accounts for a fairly small fraction of all static methods, though.\r\n","title":"When to use static methods","body":"<p>One rule-of-thumb: ask yourself &quot;Does it make sense to call this method, even if no object has been constructed yet?&quot;  If so, it should definitely be static.</p>\n<p>So in a class <code>Car</code> you might have a method:</p>\n<pre><code>double convertMpgToKpl(double mpg)\n</code></pre>\n<p>...which would be static, because one might want to know what 35mpg converts to, even if nobody has ever built a <code>Car</code>.  But this method (which sets the efficiency of one particular <code>Car</code>):</p>\n<pre><code>void setMileage(double mpg)\n</code></pre>\n<p>...can't be static since it's inconceivable to call the method before any <code>Car</code> has been constructed.</p>\n<p>(By the way, the converse isn't always true: you might sometimes have a method which involves two <code>Car</code> objects, and still want it to be static.  E.g.:</p>\n<pre><code>Car theMoreEfficientOf(Car c1, Car c2)\n</code></pre>\n<p>Although this could be converted to a non-static version, some would argue that since there isn't a &quot;privileged&quot; choice of which <code>Car</code> is more important, you shouldn't force a caller to choose one <code>Car</code> as the object you'll invoke the method on.  This situation accounts for a fairly small fraction of all static methods, though.</p>\n"},{"comments":[{"owner":{"account_id":252532,"reputation":11548,"user_id":530634,"accept_rate":74,"display_name":"tjb"},"score":22,"creation_date":1332355250,"post_id":2671938,"comment_id":12496044,"body_markdown":"I don&#39;t understand the part about not being able to unit-test procedural code. Don&#39;t you just set up test cases that map correct input to correct output using the static method together with the class as your &quot;unit&quot;?","body":"I don&#39;t understand the part about not being able to unit-test procedural code. Don&#39;t you just set up test cases that map correct input to correct output using the static method together with the class as your &quot;unit&quot;?"},{"owner":{"account_id":6986,"reputation":61140,"user_id":11926,"accept_rate":96,"display_name":"Alfred"},"score":3,"creation_date":1332370860,"post_id":2671938,"comment_id":12501452,"body_markdown":"You could do that to test those functions. But when using these static methods in other classes you want to test, I believe you can&#39;t fake them(mocks/friendlies) or anything, because you can not instantiate a class.","body":"You could do that to test those functions. But when using these static methods in other classes you want to test, I believe you can&#39;t fake them(mocks/friendlies) or anything, because you can not instantiate a class."},{"owner":{"account_id":252532,"reputation":11548,"user_id":530634,"accept_rate":74,"display_name":"tjb"},"score":0,"creation_date":1332402934,"post_id":2671938,"comment_id":12507648,"body_markdown":"But can&#39;t static methods only access static members?, If my understanding of this is correct then how could instantiation of the class make a difference?","body":"But can&#39;t static methods only access static members?, If my understanding of this is correct then how could instantiation of the class make a difference?"},{"owner":{"account_id":6986,"reputation":61140,"user_id":11926,"accept_rate":96,"display_name":"Alfred"},"score":0,"creation_date":1332413714,"post_id":2671938,"comment_id":12511023,"body_markdown":"Have you read the complete article =&gt; http://misko.hevery.com/2008/12/15/static-methods-are-death-to-testability/? You should try to understand the 3rd paragraph about seams/isolation. Especially the last line of the 3rd paragraph =&gt; &quot; Yes, static methods are easy to call, but if the static method calls another static method there is no way to overrider the called method dependency.&quot;","body":"Have you read the complete article =&gt; <a href=\"http://misko.hevery.com/2008/12/15/static-methods-are-death-to-testability/\" rel=\"nofollow noreferrer\">misko.hevery.com/2008/12/15/&hellip;</a>? You should try to understand the 3rd paragraph about seams/isolation. Especially the last line of the 3rd paragraph =&gt; &quot; Yes, static methods are easy to call, but if the static method calls another static method there is no way to overrider the called method dependency.&quot;"},{"owner":{"account_id":252532,"reputation":11548,"user_id":530634,"accept_rate":74,"display_name":"tjb"},"score":0,"creation_date":1332416536,"post_id":2671938,"comment_id":12511966,"body_markdown":"Thanks for pointing to that paragraph, after reading all three articles I think I&#39;m beginning to understand.","body":"Thanks for pointing to that paragraph, after reading all three articles I think I&#39;m beginning to understand."},{"owner":{"account_id":6986,"reputation":61140,"user_id":11926,"accept_rate":96,"display_name":"Alfred"},"score":0,"creation_date":1332421076,"post_id":2671938,"comment_id":12513595,"body_markdown":"I hope so. You could also watch a video from misko explaining testing a bit =&gt; http://www.youtube.com/watch?v=wEhu57pih5w. There are even more video&#39;s available at youtube.","body":"I hope so. You could also watch a video from misko explaining testing a bit =&gt; <a href=\"http://www.youtube.com/watch?v=wEhu57pih5w\" rel=\"nofollow noreferrer\">youtube.com/watch?v=wEhu57pih5w</a>. There are even more video&#39;s available at youtube."},{"owner":{"account_id":559008,"reputation":2029,"user_id":921383,"accept_rate":75,"display_name":"Carles Sala"},"score":4,"creation_date":1369067617,"post_id":2671938,"comment_id":23956087,"body_markdown":"@Alfred: Please have a look at [PowerMock](http://code.google.com/p/powermock/) which has the ability to mock static methods. Using PowerMock there are few scenarios, if any, where you find method dependencies which cannot be mocked.","body":"@Alfred: Please have a look at <a href=\"http://code.google.com/p/powermock/\" rel=\"nofollow noreferrer\">PowerMock</a> which has the ability to mock static methods. Using PowerMock there are few scenarios, if any, where you find method dependencies which cannot be mocked."},{"owner":{"account_id":2273307,"reputation":2281,"user_id":2000185,"accept_rate":67,"display_name":"luke1985"},"score":0,"creation_date":1381238321,"post_id":2671938,"comment_id":28493305,"body_markdown":"&quot;Are You stupid or from Google?&quot;\n\nPlease go away with that guy. Programming is not just all about unit testing.\n\nAnd if You are a bad programmer - then unit testing is the only way You can write working software.","body":"&quot;Are You stupid or from Google?&quot;  Please go away with that guy. Programming is not just all about unit testing.  And if You are a bad programmer - then unit testing is the only way You can write working software."},{"owner":{"account_id":1002135,"reputation":2965,"user_id":1016765,"accept_rate":80,"display_name":"user1016765"},"score":7,"creation_date":1401127926,"post_id":2671938,"comment_id":36751896,"body_markdown":"You can unit test statics using PowerMock, however you&#39;ll soon find you run out of Permgen space (done that, got the T-shirt), and its still nasty. Unless you KNOW (based on at least a decade of your own experience in true OO languages, not migrating from C) then DON&#39;T DO IT. Seriously, the worst code I&#39;ve ever seen came from an embedded developer&#39;s use of statics and in most cases we were stuck with it, forever, and adding more code just locked us into the unmodifiable monolith even more tightly. Loose coupling: no, testable: barely, modifiable: NEVER.  Avoid!","body":"You can unit test statics using PowerMock, however you&#39;ll soon find you run out of Permgen space (done that, got the T-shirt), and its still nasty. Unless you KNOW (based on at least a decade of your own experience in true OO languages, not migrating from C) then DON&#39;T DO IT. Seriously, the worst code I&#39;ve ever seen came from an embedded developer&#39;s use of statics and in most cases we were stuck with it, forever, and adding more code just locked us into the unmodifiable monolith even more tightly. Loose coupling: no, testable: barely, modifiable: NEVER.  Avoid!"},{"owner":{"account_id":68665,"reputation":8103,"user_id":200224,"accept_rate":64,"display_name":"Andy"},"score":16,"creation_date":1431116669,"post_id":2671938,"comment_id":48374517,"body_markdown":"I can understand the difficulty of testing static methods that depend on static state.  But when you&#39;re testing *stateless* static methods like `Math.abs()` or `Arrays.sort()`, even methods you can *pass all dependencies into*, I don&#39;t see how that would ever impede unit testing.  I would say a simple rule of thumb is: if you&#39;d ever have any reason to mock out the procedural logic, then don&#39;t put it in a static method.  I&#39;ve never had a reason to mock out `Arrays.sort()` or `Math.abs()`.","body":"I can understand the difficulty of testing static methods that depend on static state.  But when you&#39;re testing <i>stateless</i> static methods like <code>Math.abs()</code> or <code>Arrays.sort()</code>, even methods you can <i>pass all dependencies into</i>, I don&#39;t see how that would ever impede unit testing.  I would say a simple rule of thumb is: if you&#39;d ever have any reason to mock out the procedural logic, then don&#39;t put it in a static method.  I&#39;ve never had a reason to mock out <code>Arrays.sort()</code> or <code>Math.abs()</code>."},{"owner":{"account_id":1394832,"reputation":10696,"user_id":1324816,"accept_rate":56,"display_name":"user6123723"},"score":0,"creation_date":1582827246,"post_id":2671938,"comment_id":106920213,"body_markdown":"@Andy If you are pulling in all the dependencies, then you are not &quot;Unit testing&quot; the Static method anymore. You are indirectly testing the dependencies of the static method. It&#39;s a not unit test anymore.","body":"@Andy If you are pulling in all the dependencies, then you are not &quot;Unit testing&quot; the Static method anymore. You are indirectly testing the dependencies of the static method. It&#39;s a not unit test anymore."},{"owner":{"account_id":68665,"reputation":8103,"user_id":200224,"accept_rate":64,"display_name":"Andy"},"score":0,"creation_date":1582840099,"post_id":2671938,"comment_id":106925633,"body_markdown":"@user6123723 I was talking about passing mocks of the dependencies into the method being tested","body":"@user6123723 I was talking about passing mocks of the dependencies into the method being tested"},{"owner":{"account_id":1394832,"reputation":10696,"user_id":1324816,"accept_rate":56,"display_name":"user6123723"},"score":0,"creation_date":1582845374,"post_id":2671938,"comment_id":106927300,"body_markdown":"@Andy Fair enough!","body":"@Andy Fair enough!"},{"owner":{"account_id":132327,"reputation":485,"user_id":332940,"accept_rate":64,"display_name":"starflyer"},"score":0,"creation_date":1653015284,"post_id":2671938,"comment_id":127752737,"body_markdown":"It&#39;s 2022, and +1 to Andy&#39;s comment.","body":"It&#39;s 2022, and +1 to Andy&#39;s comment."}],"tags":[],"owner":{"account_id":6986,"reputation":61140,"user_id":11926,"accept_rate":96,"display_name":"Alfred"},"comment_count":14,"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1271726085,"creation_date":1271726085,"answer_id":2671938,"question_id":2671496,"body_markdown":"After reading Misko&#39;s articles I believe that [static methods][1] are bad from a testing point of view. You should have [factories][2] instead(maybe using a dependency injection tool like [Guice][3]).\r\n\r\nhow do I ensure that I only have one of something\r\n----------------------\r\n\r\n&gt; only have one of something\r\n&gt; The problem of “how do I ensure that I\r\n&gt; only have one of something” is nicely\r\n&gt; sidestepped. You instantiate only a\r\n&gt; single ApplicationFactory in your\r\n&gt; main, and as a result, you only\r\n&gt; instantiate a single instance of all\r\n&gt; of your singletons.\r\n\r\nThe basic issue with static methods is they are procedural code\r\n----------------------------------------\r\n\r\n&gt; The basic issue with static methods is\r\n&gt; they are procedural code. I have no\r\n&gt; idea how to unit-test procedural code.\r\n&gt; Unit-testing assumes that I can\r\n&gt; instantiate a piece of my application\r\n&gt; in isolation. During the instantiation\r\n&gt; I wire the dependencies with\r\n&gt; mocks/friendlies which replace the\r\n&gt; real dependencies. With procedural\r\n&gt; programing there is nothing to &quot;wire&quot;\r\n&gt; since there are no objects, the code\r\n&gt; and data are separate.\r\n\r\n\r\n  [1]: http://googletesting.blogspot.com/2008/12/static-methods-are-death-to-testability.html\r\n  [2]: http://misko.hevery.com/2008/08/21/where-have-all-the-singletons-gone\r\n  [3]: http://code.google.com/p/google-guice/","title":"When to use static methods","body":"<p>After reading Misko's articles I believe that <a href=\"http://googletesting.blogspot.com/2008/12/static-methods-are-death-to-testability.html\" rel=\"noreferrer\">static methods</a> are bad from a testing point of view. You should have <a href=\"http://misko.hevery.com/2008/08/21/where-have-all-the-singletons-gone\" rel=\"noreferrer\">factories</a> instead(maybe using a dependency injection tool like <a href=\"http://code.google.com/p/google-guice/\" rel=\"noreferrer\">Guice</a>).</p>\n\n<h2>how do I ensure that I only have one of something</h2>\n\n<blockquote>\n  <p>only have one of something\n  The problem of “how do I ensure that I\n  only have one of something” is nicely\n  sidestepped. You instantiate only a\n  single ApplicationFactory in your\n  main, and as a result, you only\n  instantiate a single instance of all\n  of your singletons.</p>\n</blockquote>\n\n<h2>The basic issue with static methods is they are procedural code</h2>\n\n<blockquote>\n  <p>The basic issue with static methods is\n  they are procedural code. I have no\n  idea how to unit-test procedural code.\n  Unit-testing assumes that I can\n  instantiate a piece of my application\n  in isolation. During the instantiation\n  I wire the dependencies with\n  mocks/friendlies which replace the\n  real dependencies. With procedural\n  programing there is nothing to \"wire\"\n  since there are no objects, the code\n  and data are separate.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":416896,"reputation":4898,"user_id":792575,"display_name":"Deepak"},"score":1,"creation_date":1446714435,"post_id":2672731,"comment_id":54861392,"body_markdown":"Yay! Look where I came while googling Java noobie questions!  It&#39;s a small world :-)","body":"Yay! Look where I came while googling Java noobie questions!  It&#39;s a small world :-)"},{"owner":{"account_id":87132,"reputation":5775,"user_id":241821,"accept_rate":81,"display_name":"Vaishak Suresh"},"score":1,"creation_date":1447102181,"post_id":2672731,"comment_id":55010406,"body_markdown":"@Deepak small world indeed :)","body":"@Deepak small world indeed :)"}],"tags":[],"owner":{"account_id":87132,"reputation":5775,"user_id":241821,"accept_rate":81,"display_name":"Vaishak Suresh"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1271740880,"creation_date":1271740880,"answer_id":2672731,"question_id":2671496,"body_markdown":"Static methods don&#39;t need to be invoked on the object and that is when you use it. Example: your Main()  is a static and you don&#39;t create an object to call it. ","title":"When to use static methods","body":"<p>Static methods don't need to be invoked on the object and that is when you use it. Example: your Main()  is a static and you don't create an object to call it. </p>\n"},{"comments":[{"owner":{"account_id":59115,"reputation":10766,"user_id":176897,"display_name":"tetsuo"},"score":60,"creation_date":1386771458,"post_id":5313383,"comment_id":30680111,"body_markdown":"good points, but they are requirements if you *want* to make a method static, not reasons to make one.","body":"good points, but they are requirements if you <i>want</i> to make a method static, not reasons to make one."},{"owner":{"account_id":3193645,"reputation":764,"user_id":2697348,"display_name":"PixelPlex"},"score":4,"creation_date":1441022591,"post_id":5313383,"comment_id":52496572,"body_markdown":"@Mohd about requirement 5:\nWhen can you be 100% sure a method will never be changed or overridden? Aren&#39;t there always unknown factors you can&#39;t take in account at the moment you write your static method?","body":"@Mohd about requirement 5: When can you be 100% sure a method will never be changed or overridden? Aren&#39;t there always unknown factors you can&#39;t take in account at the moment you write your static method?"},{"owner":{"account_id":1682228,"reputation":3337,"user_id":2011421,"accept_rate":88,"display_name":"Sergio"},"score":11,"creation_date":1465977625,"post_id":5313383,"comment_id":63120942,"body_markdown":"&quot;Utility-Classes&quot; are very difficult to reason about, the bad thing is that sooner or later everything starts &#39;looking like&#39; an utility (yeah I&#39;m referring to that &quot;util&quot; package that is bloated, untouchable and poorly tested), and your test cases will need more work (to mock static utils is HARD). Prefer objects first.","body":"&quot;Utility-Classes&quot; are very difficult to reason about, the bad thing is that sooner or later everything starts &#39;looking like&#39; an utility (yeah I&#39;m referring to that &quot;util&quot; package that is bloated, untouchable and poorly tested), and your test cases will need more work (to mock static utils is HARD). Prefer objects first."},{"owner":{"account_id":4322888,"reputation":3672,"user_id":4408364,"accept_rate":42,"display_name":"Prakash P"},"score":2,"creation_date":1481995455,"post_id":5313383,"comment_id":69601484,"body_markdown":"@Mohd this answer is exactly what I am looking for. I faced a lot of problems using static methods in multithreading. Can you please elaborate points 2, 3 more (with example 100 thumbs up for you)","body":"@Mohd this answer is exactly what I am looking for. I faced a lot of problems using static methods in multithreading. Can you please elaborate points 2, 3 more (with example 100 thumbs up for you)"},{"owner":{"account_id":2009968,"reputation":10226,"user_id":1798677,"accept_rate":77,"display_name":"Robert"},"score":0,"creation_date":1519654107,"post_id":5313383,"comment_id":84985340,"body_markdown":"I think a &quot;static class&quot; should be invented if you are going to use static variables and methods.","body":"I think a &quot;static class&quot; should be invented if you are going to use static variables and methods."},{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1526988164,"post_id":5313383,"comment_id":87945943,"body_markdown":"Shouldnt 4 be an instance method? No need to make it static no?","body":"Shouldnt 4 be an instance method? No need to make it static no?"}],"tags":[],"owner":{"account_id":722633,"reputation":6059,"user_id":660774,"display_name":"Mohd"},"comment_count":6,"down_vote_count":1,"up_vote_count":606,"is_accepted":false,"score":605,"last_activity_date":1362166592,"creation_date":1300200011,"answer_id":5313383,"question_id":2671496,"body_markdown":"Define static methods in the following scenarios only:\r\n\r\n 1. If you are writing utility classes and they are not supposed to be changed.\r\n 2. If the method is not using any instance variable.\r\n 3. If any operation is not dependent on instance creation. \r\n 4. If there is some code that can easily be shared by all the instance methods, extract that code into a static method.\r\n 5. If you are sure that the definition of the method will never be changed or overridden. As static methods can not be overridden.\r\n\r\n\r\n\r\n","title":"When to use static methods","body":"<p>Define static methods in the following scenarios only:</p>\n\n<ol>\n<li>If you are writing utility classes and they are not supposed to be changed.</li>\n<li>If the method is not using any instance variable.</li>\n<li>If any operation is not dependent on instance creation. </li>\n<li>If there is some code that can easily be shared by all the instance methods, extract that code into a static method.</li>\n<li>If you are sure that the definition of the method will never be changed or overridden. As static methods can not be overridden.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":946683,"reputation":41,"user_id":973806,"display_name":"Manju Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1352564569,"creation_date":1317414501,"answer_id":7615740,"question_id":2671496,"body_markdown":"Static methods and variables are controlled version of &#39;Global&#39; functions and variables in Java. In which methods can be accessed as `classname.methodName()` or `classInstanceName.methodName()`, i.e. static methods and variables can be accessed using class name as well as instances of the class.\r\n\r\nClass can&#39;t be declared as static(because it makes no sense. if a class is declared public, it can be accessed from anywhere), inner classes can be declared static.","title":"When to use static methods","body":"<p>Static methods and variables are controlled version of 'Global' functions and variables in Java. In which methods can be accessed as <code>classname.methodName()</code> or <code>classInstanceName.methodName()</code>, i.e. static methods and variables can be accessed using class name as well as instances of the class.</p>\n\n<p>Class can't be declared as static(because it makes no sense. if a class is declared public, it can be accessed from anywhere), inner classes can be declared static.</p>\n"},{"comments":[{"owner":{"account_id":5196680,"reputation":656,"user_id":4157713,"display_name":"Vladimir Demirev"},"score":0,"creation_date":1573146746,"post_id":15331446,"comment_id":103795552,"body_markdown":"Keeping state in static variables is a bad thing to do for many reasons - like multi-threading safety, debugging, data-encapsulation..etc etc\nStatic methods are OK if they are pure functions (work with params only, without changing them).\nGood example would be an utility class, for say math calculations.","body":"Keeping state in static variables is a bad thing to do for many reasons - like multi-threading safety, debugging, data-encapsulation..etc etc Static methods are OK if they are pure functions (work with params only, without changing them). Good example would be an utility class, for say math calculations."}],"tags":[],"owner":{"account_id":2426480,"reputation":161,"user_id":2126090,"display_name":"Sagar"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1362977812,"creation_date":1362977812,"answer_id":15331446,"question_id":2671496,"body_markdown":"Actually, we use static properties and methods in a class, when we want to use some part of our program should exists there until our program is running. And we know that, to manipulate static properties, we need static methods as they are not a part of instance variable. And without static methods, to manipulate static properties is time consuming.","title":"When to use static methods","body":"<p>Actually, we use static properties and methods in a class, when we want to use some part of our program should exists there until our program is running. And we know that, to manipulate static properties, we need static methods as they are not a part of instance variable. And without static methods, to manipulate static properties is time consuming.</p>\n"},{"comments":[{"owner":{"account_id":236361,"reputation":14191,"user_id":503804,"accept_rate":70,"display_name":"nilesh"},"score":2,"creation_date":1469398111,"post_id":20522548,"comment_id":64505639,"body_markdown":"A lot of good reasons listed here on when static can be useful. One more I can think of is that writing unit tests for such methods is just plain simple","body":"A lot of good reasons listed here on when static can be useful. One more I can think of is that writing unit tests for such methods is just plain simple"},{"owner":{"account_id":4547683,"reputation":3756,"user_id":3693726,"accept_rate":92,"display_name":"Deniss M."},"score":1,"creation_date":1494316133,"post_id":20522548,"comment_id":74763261,"body_markdown":"@tetsuo Thanks! Your explanation is very clear and the reasons provided are very logical and make a lot of sense.","body":"@tetsuo Thanks! Your explanation is very clear and the reasons provided are very logical and make a lot of sense."},{"owner":{"account_id":6115694,"reputation":3228,"user_id":4770813,"accept_rate":53,"display_name":"Scaramouche"},"score":5,"creation_date":1520441678,"post_id":20522548,"comment_id":85319334,"body_markdown":"*And we programmers never do unneeded things just because they are cool, right?* +1","body":"<i>And we programmers never do unneeded things just because they are cool, right?</i> +1"},{"owner":{"display_name":"user2188550"},"score":1,"creation_date":1531439583,"post_id":20522548,"comment_id":89608234,"body_markdown":"That said a static method becomes a full named function https://stackoverflow.com/questions/155609/whats-the-difference-between-a-method-and-a-function","body":"That said a static method becomes a full named function <a href=\"https://stackoverflow.com/questions/155609/whats-the-difference-between-a-method-and-a-function\" title=\"whats the difference between a method and a function\">stackoverflow.com/questions/155609/&hellip;</a>"},{"owner":{"account_id":1536969,"reputation":1409,"user_id":1432734,"display_name":"Adam Gawne-Cain"},"score":1,"creation_date":1567796511,"post_id":20522548,"comment_id":102084831,"body_markdown":"I agree with Performance and Practicality, but not Purity.   The static method can modify static members of the class (which may be private).  This can be useful.  For example, you could have a method like &quot;static synchronized int allocateID() {return idNext++;}&quot;.  In fact, a static method can be just as pure or impure as a non-static method in terms of side effects.","body":"I agree with Performance and Practicality, but not Purity.   The static method can modify static members of the class (which may be private).  This can be useful.  For example, you could have a method like &quot;static synchronized int allocateID() {return idNext++;}&quot;.  In fact, a static method can be just as pure or impure as a non-static method in terms of side effects."},{"owner":{"account_id":59115,"reputation":10766,"user_id":176897,"display_name":"tetsuo"},"score":0,"creation_date":1568036385,"post_id":20522548,"comment_id":102136625,"body_markdown":"@AdamGawne-Cain Fair enough, Java is not a functional language, and has no real support for pure functions.\n\nI guess my thought process when I wrote this was, since with static methods you give up many features - such as polymorphism, dynamic binding, inheritance and instance scopes - it would be easier to keep methods pure, since you only have to worry about not using any class state, and only calling other pure methods.\n\nBut yes, you&#39;re right, it still shares many concerns about side effects with instance methods.","body":"@AdamGawne-Cain Fair enough, Java is not a functional language, and has no real support for pure functions.  I guess my thought process when I wrote this was, since with static methods you give up many features - such as polymorphism, dynamic binding, inheritance and instance scopes - it would be easier to keep methods pure, since you only have to worry about not using any class state, and only calling other pure methods.  But yes, you&#39;re right, it still shares many concerns about side effects with instance methods."}],"tags":[],"owner":{"account_id":59115,"reputation":10766,"user_id":176897,"display_name":"tetsuo"},"comment_count":6,"down_vote_count":1,"up_vote_count":220,"is_accepted":false,"score":219,"last_activity_date":1494335952,"creation_date":1386774216,"answer_id":20522548,"question_id":2671496,"body_markdown":"There are some valid reasons to use static methods:\r\n\r\n- **Performance**: if you want some code to be run, and don&#39;t want to instantiate an extra object to do so, shove it into a static method. The JVM also can optimize static methods a lot (I think I&#39;ve once read James Gosling declaring that you don&#39;t need custom instructions in the JVM, since static methods will be just as fast, but couldn&#39;t find the source - thus it could be completely false). Yes, it is micro-optimization, and probably unneeded. And we programmers never do unneeded things just because they are cool, right?\r\n\r\n- **Practicality**: instead of calling `new Util().method(arg)`, call `Util.method(arg)`, or `method(arg)` with static imports. Easier, shorter.\r\n\r\n- **Adding methods**: you really wanted the class String to have a `removeSpecialChars()` instance method, but it&#39;s not there (and it shouldn&#39;t, since your project&#39;s special characters may be different from the other project&#39;s), and you can&#39;t add it (since Java is somewhat sane), so you create an utility class, and call `removeSpecialChars(s)` instead of `s.removeSpecialChars()`. Sweet.\r\n\r\n- **Purity**: taking some precautions, your static method will be a [pure function](http://en.wikipedia.org/wiki/Pure_function), that is, the only thing it depends on is its parameters. Data in, data out. This is easier to read and debug, since you don&#39;t have inheritance quirks to worry about. You can do it with instance methods too, but the compiler will help you a little more with static methods (by not allowing references to instance attributes, overriding methods, etc.).\r\n\r\nYou&#39;ll also have to create a static method if you want to make a singleton, but... don&#39;t. I mean, think twice.\r\n\r\nNow, more importantly, *why you wouldn&#39;t want* to create a static method? Basically, **polymorphism goes out of the window**. You&#39;ll not be able to override the method, &lt;strike&gt;nor declare it in an interface&lt;/strike&gt; *(pre-Java 8)*. It takes a lot of flexibility out from your design. Also, if you need **state**, you&#39;ll end up with lots of **concurrency bugs** and/or bottlenecks if you are not careful.","title":"When to use static methods","body":"<p>There are some valid reasons to use static methods:</p>\n\n<ul>\n<li><p><strong>Performance</strong>: if you want some code to be run, and don't want to instantiate an extra object to do so, shove it into a static method. The JVM also can optimize static methods a lot (I think I've once read James Gosling declaring that you don't need custom instructions in the JVM, since static methods will be just as fast, but couldn't find the source - thus it could be completely false). Yes, it is micro-optimization, and probably unneeded. And we programmers never do unneeded things just because they are cool, right?</p></li>\n<li><p><strong>Practicality</strong>: instead of calling <code>new Util().method(arg)</code>, call <code>Util.method(arg)</code>, or <code>method(arg)</code> with static imports. Easier, shorter.</p></li>\n<li><p><strong>Adding methods</strong>: you really wanted the class String to have a <code>removeSpecialChars()</code> instance method, but it's not there (and it shouldn't, since your project's special characters may be different from the other project's), and you can't add it (since Java is somewhat sane), so you create an utility class, and call <code>removeSpecialChars(s)</code> instead of <code>s.removeSpecialChars()</code>. Sweet.</p></li>\n<li><p><strong>Purity</strong>: taking some precautions, your static method will be a <a href=\"http://en.wikipedia.org/wiki/Pure_function\" rel=\"noreferrer\">pure function</a>, that is, the only thing it depends on is its parameters. Data in, data out. This is easier to read and debug, since you don't have inheritance quirks to worry about. You can do it with instance methods too, but the compiler will help you a little more with static methods (by not allowing references to instance attributes, overriding methods, etc.).</p></li>\n</ul>\n\n<p>You'll also have to create a static method if you want to make a singleton, but... don't. I mean, think twice.</p>\n\n<p>Now, more importantly, <em>why you wouldn't want</em> to create a static method? Basically, <strong>polymorphism goes out of the window</strong>. You'll not be able to override the method, <strike>nor declare it in an interface</strike> <em>(pre-Java 8)</em>. It takes a lot of flexibility out from your design. Also, if you need <strong>state</strong>, you'll end up with lots of <strong>concurrency bugs</strong> and/or bottlenecks if you are not careful.</p>\n"},{"comments":[{"owner":{"account_id":7710805,"reputation":13604,"user_id":6365112,"accept_rate":100,"display_name":"Yahya"},"score":0,"creation_date":1474142973,"post_id":24138098,"comment_id":66414165,"body_markdown":"best answer actually","body":"best answer actually"}],"tags":[],"owner":{"account_id":2756295,"reputation":613,"user_id":2382531,"accept_rate":33,"display_name":"Zishan"},"comment_count":1,"down_vote_count":2,"up_vote_count":40,"is_accepted":false,"score":38,"last_activity_date":1480368029,"creation_date":1402394399,"answer_id":24138098,"question_id":2671496,"body_markdown":"A `static` method is one type of method which doesn&#39;t need any object to be initialized for it to be called. Have you noticed `static` is used in the `main` function in Java? Program execution begins from there without an object being created.\r\n\r\nConsider the following example:\r\n\r\n     class Languages \r\n     {\r\n         public static void main(String[] args) \r\n         {\r\n             display();\r\n         }\r\n \r\n         static void display() \r\n         {\r\n             System.out.println(&quot;Java is my favorite programming language.&quot;);\r\n         }\r\n      }\r\n","title":"When to use static methods","body":"<p>A <code>static</code> method is one type of method which doesn't need any object to be initialized for it to be called. Have you noticed <code>static</code> is used in the <code>main</code> function in Java? Program execution begins from there without an object being created.</p>\n\n<p>Consider the following example:</p>\n\n<pre><code> class Languages \n {\n     public static void main(String[] args) \n     {\n         display();\n     }\n\n     static void display() \n     {\n         System.out.println(\"Java is my favorite programming language.\");\n     }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4503696,"reputation":480,"user_id":3661632,"accept_rate":20,"display_name":"IndianProgrammer1234"},"comment_count":0,"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1549851092,"creation_date":1434211809,"answer_id":30820767,"question_id":2671496,"body_markdown":"If you apply static keyword with any method, it is known as static method.\r\n\r\n1. A static method belongs to the class rather than object of a class.\r\n2. A static method invoked without the need for creating an instance of a class.\r\n3. static method can access static data member and can change the value of it.\r\n4. A static method can be accessed just using the name of a class dot static name  . . . example : Student9.change();\r\n5. If you want to use non-static fields of a class, you must use a non-static method.\r\n\r\n//Program of changing the common property of all objects(static field).  \r\n  \r\n    class Student9{  \r\n     int rollno;  \r\n     String name;  \r\n     static String college = &quot;ITS&quot;;  \r\n       \r\n     static void change(){  \r\n     college = &quot;BBDIT&quot;;  \r\n     }  \r\n  \r\n     Student9(int r, String n){  \r\n     rollno = r;  \r\n     name = n;  \r\n     }  \r\n  \r\n     void display (){System.out.println(rollno+&quot; &quot;+name+&quot; &quot;+college);}  \r\n  \r\n    public static void main(String args[]){  \r\n    Student9.change();  \r\n  \r\n    Student9 s1 = new Student9 (111,&quot;Indian&quot;);  \r\n    Student9 s2 = new Student9 (222,&quot;American&quot;);  \r\n    Student9 s3 = new Student9 (333,&quot;China&quot;);  \r\n  \r\n    s1.display();  \r\n    s2.display();  \r\n    s3.display();  \r\n    }  }\r\n\r\nO/P:   111 Indian BBDIT\r\n       222 American BBDIT\r\n       333 China BBDIT","title":"When to use static methods","body":"<p>If you apply static keyword with any method, it is known as static method.</p>\n\n<ol>\n<li>A static method belongs to the class rather than object of a class.</li>\n<li>A static method invoked without the need for creating an instance of a class.</li>\n<li>static method can access static data member and can change the value of it.</li>\n<li>A static method can be accessed just using the name of a class dot static name  . . . example : Student9.change();</li>\n<li>If you want to use non-static fields of a class, you must use a non-static method.</li>\n</ol>\n\n<p>//Program of changing the common property of all objects(static field).  </p>\n\n<pre><code>class Student9{  \n int rollno;  \n String name;  \n static String college = \"ITS\";  \n\n static void change(){  \n college = \"BBDIT\";  \n }  \n\n Student9(int r, String n){  \n rollno = r;  \n name = n;  \n }  \n\n void display (){System.out.println(rollno+\" \"+name+\" \"+college);}  \n\npublic static void main(String args[]){  \nStudent9.change();  \n\nStudent9 s1 = new Student9 (111,\"Indian\");  \nStudent9 s2 = new Student9 (222,\"American\");  \nStudent9 s3 = new Student9 (333,\"China\");  \n\ns1.display();  \ns2.display();  \ns3.display();  \n}  }\n</code></pre>\n\n<p>O/P:   111 Indian BBDIT\n       222 American BBDIT\n       333 China BBDIT</p>\n"},{"tags":[],"owner":{"account_id":6699975,"reputation":5536,"user_id":5166818,"display_name":"Amit Kaneria"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1471966657,"creation_date":1471965730,"answer_id":39105101,"question_id":2671496,"body_markdown":"Static methods can be used if\r\n\r\n - One does not want to perform an action on an instance (utility methods)\r\n \r\n &gt; As mentioned in few of above answers in this post, converting miles to kilometers, or calculating temperature from Fahrenheit to Celsius and vice-versa. With these examples using static method, it does not need to instantiate whole new object in heap memory. Consider below\r\n    \r\n        1. new ABCClass(double farenheit).convertFarenheitToCelcium() \r\n        2. ABCClass.convertFarenheitToCelcium(double farenheit)\r\n\r\n &gt; the former creates a new class footprint for every method invoke, ***Performance, Practical***. Examples are Math and Apache-Commons library StringUtils class below:\r\n \t\r\n        Math.random()\r\n        Math.sqrt(double)\r\n        Math.min(int, int)\r\n        StringUtils.isEmpty(String)\r\n        StringUtils.isBlank(String)\r\n\r\n - One wants to use as a simple function. Inputs are explictly passed, and getting the result data as return value. Inheritence, object instanciation does not come into picture. ***Concise, Readable***.\r\n \r\n**NOTE**: \r\nFew folks argue against testability of static methods, but static methods can be tested too! With jMockit, one can mock static methods. ***Testability***. Example below:\r\n\r\n    new MockUp&lt;ClassName&gt;() {\r\n        @Mock\r\n        public int doSomething(Input input1, Input input2){\r\n            return returnValue;\r\n        }\r\n    };","title":"When to use static methods","body":"<p>Static methods can be used if</p>\n\n<ul>\n<li><p>One does not want to perform an action on an instance (utility methods)</p>\n\n<blockquote>\n  <p>As mentioned in few of above answers in this post, converting miles to kilometers, or calculating temperature from Fahrenheit to Celsius and vice-versa. With these examples using static method, it does not need to instantiate whole new object in heap memory. Consider below</p>\n</blockquote>\n\n<pre><code>1. new ABCClass(double farenheit).convertFarenheitToCelcium() \n2. ABCClass.convertFarenheitToCelcium(double farenheit)\n</code></pre>\n\n<blockquote>\n  <p>the former creates a new class footprint for every method invoke, <strong><em>Performance, Practical</em></strong>. Examples are Math and Apache-Commons library StringUtils class below:</p>\n</blockquote>\n\n<pre><code>Math.random()\nMath.sqrt(double)\nMath.min(int, int)\nStringUtils.isEmpty(String)\nStringUtils.isBlank(String)\n</code></pre></li>\n<li><p>One wants to use as a simple function. Inputs are explictly passed, and getting the result data as return value. Inheritence, object instanciation does not come into picture. <strong><em>Concise, Readable</em></strong>.</p></li>\n</ul>\n\n<p><strong>NOTE</strong>: \nFew folks argue against testability of static methods, but static methods can be tested too! With jMockit, one can mock static methods. <strong><em>Testability</em></strong>. Example below:</p>\n\n<pre><code>new MockUp&lt;ClassName&gt;() {\n    @Mock\n    public int doSomething(Input input1, Input input2){\n        return returnValue;\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":227916,"reputation":2970,"user_id":489872,"accept_rate":86,"display_name":"ave4496"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488796343,"creation_date":1488796343,"answer_id":42623282,"question_id":2671496,"body_markdown":"In eclipse you can enable a warning which helps you detect potential static methods. (Above the highlighted line is another one I forgot to highlight)\r\n\r\n[![eclipse setting][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aQPg0.png","title":"When to use static methods","body":"<p>In eclipse you can enable a warning which helps you detect potential static methods. (Above the highlighted line is another one I forgot to highlight)</p>\n\n<p><a href=\"https://i.stack.imgur.com/aQPg0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aQPg0.png\" alt=\"eclipse setting\"></a></p>\n"},{"tags":[],"owner":{"account_id":9008999,"reputation":3612,"user_id":6714430,"display_name":"rashedcs"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1495961838,"creation_date":1495961838,"answer_id":44225477,"question_id":2671496,"body_markdown":"Static methods are the methods in Java that can be called without creating an object of class.  It is belong to the class.\r\n\r\nWe use static method when we no need to be invoked method using instance. ","title":"When to use static methods","body":"<p>Static methods are the methods in Java that can be called without creating an object of class.  It is belong to the class.</p>\n\n<p>We use static method when we no need to be invoked method using instance. </p>\n"},{"comments":[{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1562659131,"post_id":45286358,"comment_id":100434990,"body_markdown":"Can&#39;t we access static fields through regular methods? Then this `A common use for static methods is to access static fields.` is not an argument.","body":"Can&#39;t we access static fields through regular methods? Then this <code>A common use for static methods is to access static fields.</code> is not an argument."}],"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1500916349,"creation_date":1500916349,"answer_id":45286358,"question_id":2671496,"body_markdown":"&gt;I am wondering when to use static methods? \r\n\r\n1. A common use for `static` methods is to access `static` fields. \r\n2. But you can have `static` methods, without referencing `static` variables. Helper methods without referring `static` variable can be found in some java classes like [java.lang.Math][1]\r\n\r\n        public static int min(int a, int b) {\r\n            return (a &lt;= b) ? a : b;\r\n        }\r\n\r\n3. The other use case, I can think of these methods combined with `synchronized` method is implementation of class level locking in multi threaded environment. \r\n\r\n&gt; Say if I have a class with a few getters and setters, a method or two, and I want those methods only to be invokable on an instance object of the class. Does this mean I should use a static method?\r\n\r\nIf you need to access method on an instance object of the class, your method should should be non static.\r\n\r\nOracle documentation [page][2] provides more details. \r\n\r\nNot all combinations of instance and class variables and methods are allowed:\r\n\r\n\r\n1. Instance methods can access instance variables and instance methods directly.\r\n2. Instance methods can access class variables and class methods directly.\r\n3. Class methods can access class variables and class methods directly.\r\n4. Class methods cannot access instance variables or instance methods directly—they must use an object reference. Also, class methods cannot use the this keyword as there is no instance for this to refer to.\r\n\r\n\r\n  [1]: http://grepcode.com/file_/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Math.java/?v=source\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html","title":"When to use static methods","body":"<blockquote>\n  <p>I am wondering when to use static methods? </p>\n</blockquote>\n\n<ol>\n<li>A common use for <code>static</code> methods is to access <code>static</code> fields. </li>\n<li><p>But you can have <code>static</code> methods, without referencing <code>static</code> variables. Helper methods without referring <code>static</code> variable can be found in some java classes like <a href=\"http://grepcode.com/file_/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Math.java/?v=source\" rel=\"nofollow noreferrer\">java.lang.Math</a></p>\n\n<pre><code>public static int min(int a, int b) {\n    return (a &lt;= b) ? a : b;\n}\n</code></pre></li>\n<li><p>The other use case, I can think of these methods combined with <code>synchronized</code> method is implementation of class level locking in multi threaded environment. </p></li>\n</ol>\n\n<blockquote>\n  <p>Say if I have a class with a few getters and setters, a method or two, and I want those methods only to be invokable on an instance object of the class. Does this mean I should use a static method?</p>\n</blockquote>\n\n<p>If you need to access method on an instance object of the class, your method should should be non static.</p>\n\n<p>Oracle documentation <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">page</a> provides more details. </p>\n\n<p>Not all combinations of instance and class variables and methods are allowed:</p>\n\n<ol>\n<li>Instance methods can access instance variables and instance methods directly.</li>\n<li>Instance methods can access class variables and class methods directly.</li>\n<li>Class methods can access class variables and class methods directly.</li>\n<li>Class methods cannot access instance variables or instance methods directly—they must use an object reference. Also, class methods cannot use the this keyword as there is no instance for this to refer to.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6754500,"reputation":1960,"user_id":5203451,"accept_rate":0,"display_name":"hemanto"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1517816543,"creation_date":1517816543,"answer_id":48617827,"question_id":2671496,"body_markdown":"A static method has two main purposes:\r\n\r\n 1. For utility or helper methods that don&#39;t require any object state.\r\n    Since there is no need to access instance variables, having static\r\n    methods eliminates the need for the caller to instantiate the object\r\n    just to call the method. \r\n 1. For the state that is shared by all\r\n    instances of the class, like a counter. All instance must share the\r\n    same state. Methods that merely use that state should be static as\r\n    well.","title":"When to use static methods","body":"<p>A static method has two main purposes:</p>\n\n<ol>\n<li>For utility or helper methods that don't require any object state.\nSince there is no need to access instance variables, having static\nmethods eliminates the need for the caller to instantiate the object\njust to call the method. </li>\n<li>For the state that is shared by all\ninstances of the class, like a counter. All instance must share the\nsame state. Methods that merely use that state should be static as\nwell.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":325558,"reputation":4429,"user_id":646818,"accept_rate":56,"display_name":"Charlie S"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1524666480,"creation_date":1524666480,"answer_id":50024842,"question_id":2671496,"body_markdown":"Static methods should be called on the Class, Instance methods should be called on the Instances of the Class.  But what does that mean in reality?  Here is a useful example:\r\n\r\nA car class might have an instance method called Accelerate().  You can only Accelerate a car, if the car actually exists (has been constructed) and therefore this would be an instance method.\r\n\r\nA car class might also have a count method called GetCarCount().  This would return the total number of cars created (or constructed).  If no cars have been constructed, this method would return 0, but it should still be able to be called, and therefore it would have to be a static method. \r\n","title":"When to use static methods","body":"<p>Static methods should be called on the Class, Instance methods should be called on the Instances of the Class.  But what does that mean in reality?  Here is a useful example:</p>\n\n<p>A car class might have an instance method called Accelerate().  You can only Accelerate a car, if the car actually exists (has been constructed) and therefore this would be an instance method.</p>\n\n<p>A car class might also have a count method called GetCarCount().  This would return the total number of cars created (or constructed).  If no cars have been constructed, this method would return 0, but it should still be able to be called, and therefore it would have to be a static method. </p>\n"},{"tags":[],"owner":{"account_id":9232139,"reputation":135,"user_id":6857889,"display_name":"Amrit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589700693,"creation_date":1589656230,"answer_id":61842215,"question_id":2671496,"body_markdown":"Whenever you do not want to create an object to call a method in your code just declare that method as static. Since the static method does not need an instance to be called with but the catch here is not all static methods are called by JVM automatically. This privilege is enjoyed only by the main() &quot;public static void main[String... args]&quot; method in java because at Runtime this is the method Signature public &quot;static&quot; void main[] sought by JVM as an entry point to start execution of the code.\r\n\r\nExample:\r\n\r\n    public class Demo\r\n    {\r\n       public static void main(String... args) \r\n       {\r\n          Demo d = new Demo();\r\n    \r\n          System.out.println(&quot;This static method is executed by JVM&quot;);\r\n    \r\n         //Now to call the static method Displ() you can use the below methods:\r\n               Displ(); //By method name itself    \r\n          Demo.Displ(); //By using class name//Recommended\r\n             d.Displ(); //By using instance //Not recommended\r\n       }\r\n    \r\n       public static void Displ()\r\n       {\r\n          System.out.println(&quot;This static method needs to be called explicitly&quot;);\r\n       }\r\n    } \r\n\r\nOutput:-\r\nThis static method is executed by JVM\r\nThis static method needs to be called explicitly\r\nThis static method needs to be called explicitly\r\nThis static method needs to be called explicitly","title":"When to use static methods","body":"<p>Whenever you do not want to create an object to call a method in your code just declare that method as static. Since the static method does not need an instance to be called with but the catch here is not all static methods are called by JVM automatically. This privilege is enjoyed only by the main() \"public static void main[String... args]\" method in java because at Runtime this is the method Signature public \"static\" void main[] sought by JVM as an entry point to start execution of the code.</p>\n\n<p>Example:</p>\n\n<pre><code>public class Demo\n{\n   public static void main(String... args) \n   {\n      Demo d = new Demo();\n\n      System.out.println(\"This static method is executed by JVM\");\n\n     //Now to call the static method Displ() you can use the below methods:\n           Displ(); //By method name itself    \n      Demo.Displ(); //By using class name//Recommended\n         d.Displ(); //By using instance //Not recommended\n   }\n\n   public static void Displ()\n   {\n      System.out.println(\"This static method needs to be called explicitly\");\n   }\n} \n</code></pre>\n\n<p>Output:-\nThis static method is executed by JVM\nThis static method needs to be called explicitly\nThis static method needs to be called explicitly\nThis static method needs to be called explicitly</p>\n"},{"tags":[],"owner":{"account_id":11807716,"reputation":59,"user_id":8639824,"display_name":"Jake N"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1611753628,"creation_date":1611753628,"answer_id":65920039,"question_id":2671496,"body_markdown":"I found a nice description, when to use static methods:\r\n\r\nThere is no hard and fast, well written rules, to decide when to make a method static or not, But there are few observations based upon experience, which not only help to make a method static but also teaches when to use static method in Java. You should consider making a method static in Java :\r\n\r\n1) If a method doesn&#39;t modify state of object, or not using any instance variables.\r\n\r\n2) You want to call method without creating instance of that class.\r\n\r\n3) A method is good candidate of being static, if it only work on arguments provided to it e.g. public int factorial(int number){}, this method only operate on number provided as argument.\r\n\r\n4) Utility methods are also good candidate of being static e.g. StringUtils.isEmpty(String text), this a utility method to check if a String is empty or not.\r\n\r\n5) If function of method will remain static across class hierarchy e.g. equals() method is not a good candidate of making static because every Class can redefine equality.\r\n\r\n\r\nSource is [here][1]\r\n\r\n\r\n  [1]: https://javarevisited.blogspot.com/2013/07/when-to-make-method-static-in-java.html#axzz6kkmIGI21","title":"When to use static methods","body":"<p>I found a nice description, when to use static methods:</p>\n<p>There is no hard and fast, well written rules, to decide when to make a method static or not, But there are few observations based upon experience, which not only help to make a method static but also teaches when to use static method in Java. You should consider making a method static in Java :</p>\n<ol>\n<li><p>If a method doesn't modify state of object, or not using any instance variables.</p>\n</li>\n<li><p>You want to call method without creating instance of that class.</p>\n</li>\n<li><p>A method is good candidate of being static, if it only work on arguments provided to it e.g. public int factorial(int number){}, this method only operate on number provided as argument.</p>\n</li>\n<li><p>Utility methods are also good candidate of being static e.g. StringUtils.isEmpty(String text), this a utility method to check if a String is empty or not.</p>\n</li>\n<li><p>If function of method will remain static across class hierarchy e.g. equals() method is not a good candidate of making static because every Class can redefine equality.</p>\n</li>\n</ol>\n<p>Source is <a href=\"https://javarevisited.blogspot.com/2013/07/when-to-make-method-static-in-java.html#axzz6kkmIGI21\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":3259623,"reputation":14747,"user_id":2745436,"display_name":"Amitesh Bharti"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652534234,"creation_date":1652534234,"answer_id":72240584,"question_id":2671496,"body_markdown":"You should use static methods whenever,\r\n\r\n 1. The code in the method is not dependent on instance creation and is\r\n    not using any instance variable.\r\n 2. A particular piece of code is to be shared by all the instance methods.\r\n 3. The definition of the method should not be changed or overridden.\r\n 4. you are writing utility classes that should not be changed.\r\n\r\nhttps://www.tutorialspoint.com/When-to-use-static-methods-in-Java","title":"When to use static methods","body":"<p>You should use static methods whenever,</p>\n<ol>\n<li>The code in the method is not dependent on instance creation and is\nnot using any instance variable.</li>\n<li>A particular piece of code is to be shared by all the instance methods.</li>\n<li>The definition of the method should not be changed or overridden.</li>\n<li>you are writing utility classes that should not be changed.</li>\n</ol>\n<p><a href=\"https://www.tutorialspoint.com/When-to-use-static-methods-in-Java\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/When-to-use-static-methods-in-Java</a></p>\n"},{"comments":[{"owner":{"account_id":5919781,"reputation":29352,"user_id":4657412,"display_name":"DavidW"},"score":0,"creation_date":1670958152,"post_id":74789158,"comment_id":131992081,"body_markdown":"No they are very different from global variables. The problem with a global variable is that it&#39;s very hard to track where they are being modified from. A static method can&#39;t be modified so doesn&#39;t have that problem. They are fine","body":"No they are very different from global variables. The problem with a global variable is that it&#39;s very hard to track where they are being modified from. A static method can&#39;t be modified so doesn&#39;t have that problem. They are fine"},{"owner":{"account_id":4185076,"reputation":2839,"user_id":3429015,"display_name":"Danon"},"score":0,"creation_date":1671016015,"post_id":74789158,"comment_id":132004448,"body_markdown":"@DavidW I never said anything about global variables. I suggest you read the answers more carefully next time.","body":"@DavidW I never said anything about global variables. I suggest you read the answers more carefully next time."},{"owner":{"account_id":5919781,"reputation":29352,"user_id":4657412,"display_name":"DavidW"},"score":0,"creation_date":1671017693,"post_id":74789158,"comment_id":132005032,"body_markdown":"Sorry you&#39;re quite right you didn&#39;t say anything about global variables. I still disagree though - there&#39;s nothing wrong with a global function either.","body":"Sorry you&#39;re quite right you didn&#39;t say anything about global variables. I still disagree though - there&#39;s nothing wrong with a global function either."},{"owner":{"account_id":5919781,"reputation":29352,"user_id":4657412,"display_name":"DavidW"},"score":0,"creation_date":1671018107,"post_id":74789158,"comment_id":132005173,"body_markdown":"For example `Math.sin`. There&#39;s no state associated with it. It takes a number in and returns a number out. So it may as well be static or global. There&#39;s no need to instantiate a pointless empty class for it.","body":"For example <code>Math.sin</code>. There&#39;s no state associated with it. It takes a number in and returns a number out. So it may as well be static or global. There&#39;s no need to instantiate a pointless empty class for it."},{"owner":{"account_id":4185076,"reputation":2839,"user_id":3429015,"display_name":"Danon"},"score":0,"creation_date":1671112861,"post_id":74789158,"comment_id":132031484,"body_markdown":"@DavidW `Math` functions is a rare exception to this, and I agree, `Math.sin()` and `cos()` can be static. But that&#39;s it.","body":"@DavidW <code>Math</code> functions is a rare exception to this, and I agree, <code>Math.sin()</code> and <code>cos()</code> can be static. But that&#39;s it."},{"owner":{"account_id":4185076,"reputation":2839,"user_id":3429015,"display_name":"Danon"},"score":0,"creation_date":1671113406,"post_id":74789158,"comment_id":132031699,"body_markdown":"But for regular logic in your application (persistence, view, domain, business) static methods shouldn&#39;t be used.","body":"But for regular logic in your application (persistence, view, domain, business) static methods shouldn&#39;t be used."},{"owner":{"account_id":5919781,"reputation":29352,"user_id":4657412,"display_name":"DavidW"},"score":0,"creation_date":1671114171,"post_id":74789158,"comment_id":132031989,"body_markdown":"You can effectively consider a constructor a static method (it doesn&#39;t depend on having an instance of a class), and factory functions are also static methods. Are you proposing to ban those?","body":"You can effectively consider a constructor a static method (it doesn&#39;t depend on having an instance of a class), and factory functions are also static methods. Are you proposing to ban those?"},{"owner":{"account_id":4185076,"reputation":2839,"user_id":3429015,"display_name":"Danon"},"score":0,"creation_date":1671119820,"post_id":74789158,"comment_id":132034312,"body_markdown":"@DavidW Please don&#39;t try to take my argument out of propotions to have me say we should ban constructors. I&#39;m not trying to come up with some absolute ban. What I&#39;m saying, is that in normal situations regular methods and constructors are perfectly valid choice for virtually all projects, and `static` methods should never be used, with the limited exception of maybe `Math`. If you&#39;re creating services, repositories, views, utitlities or other classes and declare them `static`, you&#39;re making it harder for yourself.","body":"@DavidW Please don&#39;t try to take my argument out of propotions to have me say we should ban constructors. I&#39;m not trying to come up with some absolute ban. What I&#39;m saying, is that in normal situations regular methods and constructors are perfectly valid choice for virtually all projects, and <code>static</code> methods should never be used, with the limited exception of maybe <code>Math</code>. If you&#39;re creating services, repositories, views, utitlities or other classes and declare them <code>static</code>, you&#39;re making it harder for yourself."}],"tags":[],"owner":{"account_id":4185076,"reputation":2839,"user_id":3429015,"display_name":"Danon"},"comment_count":8,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672824864,"creation_date":1670954588,"answer_id":74789158,"question_id":2671496,"body_markdown":"The only reasonable place to use static methods are probably `Math` functions, and of course `main()` must be `static`, and maybe small factory-methods. But logic should not be kept in static methods.","title":"When to use static methods","body":"<p>The only reasonable place to use static methods are probably <code>Math</code> functions, and of course <code>main()</code> must be <code>static</code>, and maybe small factory-methods. But logic should not be kept in static methods.</p>\n"},{"tags":[],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698681002,"creation_date":1698681002,"answer_id":77390113,"question_id":2671496,"body_markdown":"In Java, static methods are methods that belong to a class rather than an instance of the class. They are called on the class itself, rather than on an object created from that class. Static methods have several common use cases:\r\n\r\nUtility Methods: Static methods are often used for creating utility functions that don&#39;t depend on the state of any particular instance but provide general functionality. These methods are typically placed in utility classes or helper classes.\r\n\r\n    public class MathUtils {\r\n        public static int add(int a, int b) {\r\n            return a + b;\r\n        }\r\n    \r\n        public static double squareRoot(double value) {\r\n            return Math.sqrt(value);\r\n        }\r\n    }\r\n    \r\n    // Usage\r\n    int sum = MathUtils.add(5, 3);\r\n    double sqrt = MathUtils.squareRoot(16.0);\r\n\r\nFactory Methods: Static methods can be used to create and return instances of a class. For example, the getInstance() method in the Singleton pattern.\r\n\r\n    public class Singleton {\r\n        private static Singleton instance;\r\n    \r\n        private Singleton() {\r\n            // Private constructor to prevent direct instantiation\r\n        }\r\n    \r\n        public static Singleton getInstance() {\r\n            if (instance == null) {\r\n                instance = new Singleton();\r\n            }\r\n            return instance;\r\n        }\r\n    }\r\n    \r\n    // Usage\r\n    Singleton singleton = Singleton.getInstance();\r\n\r\n\r\nI&#39;ll create a Car class with a static method to calculate the average miles per gallon (MPG) for a group of cars.\r\n\r\n    public class Car {\r\n        private String make;\r\n        private String model;\r\n        private double fuelEfficiency; // Miles per gallon (MPG)\r\n    \r\n        public Car(String make, String model, double fuelEfficiency) {\r\n            this.make = make;\r\n            this.model = model;\r\n            this.fuelEfficiency = fuelEfficiency;\r\n        }\r\n    \r\n        public String getMake() {\r\n            return make;\r\n        }\r\n    \r\n        public String getModel() {\r\n            return model;\r\n        }\r\n    \r\n        public double getFuelEfficiency() {\r\n            return fuelEfficiency;\r\n        }\r\n    \r\n        public double calculateMilesPerGallon(double gallons) {\r\n            return gallons * fuelEfficiency;\r\n        }\r\n    \r\n        // Static method to calculate the average MPG for a group of cars\r\n        public static double calculateAverageMPG(Car[] cars) {\r\n            if (cars.length == 0) {\r\n                return 0.0;\r\n            }\r\n    \r\n            double totalMPG = 0;\r\n            for (Car car : cars) {\r\n                totalMPG += car.getFuelEfficiency();\r\n            }\r\n    \r\n            return totalMPG / cars.length;\r\n        }\r\n    }\r\n\r\nIn this Car class, we have a static method called calculateAverageMPG that takes an array of Car objects as a parameter and calculates the average MPG of all the cars in the array. This static method does not depend on any particular instance of the Car class and can be called using the class name, like this:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Car car1 = new Car(&quot;Toyota&quot;, &quot;Camry&quot;, 30.0);\r\n            Car car2 = new Car(&quot;Honda&quot;, &quot;Civic&quot;, 35.0);\r\n            Car car3 = new Car(&quot;Ford&quot;, &quot;Focus&quot;, 28.0);\r\n    \r\n            Car[] cars = {car1, car2, car3};\r\n    \r\n            double averageMPG = Car.calculateAverageMPG(cars);\r\n            System.out.println(&quot;Average MPG for the group of cars: &quot; + averageMPG);\r\n        }\r\n    }\r\n\r\n\r\nIn this example, we create three Car objects and calculate the average MPG for the group of cars using the static calculateAverageMPG method.\r\n","title":"When to use static methods","body":"<p>In Java, static methods are methods that belong to a class rather than an instance of the class. They are called on the class itself, rather than on an object created from that class. Static methods have several common use cases:</p>\n<p>Utility Methods: Static methods are often used for creating utility functions that don't depend on the state of any particular instance but provide general functionality. These methods are typically placed in utility classes or helper classes.</p>\n<pre><code>public class MathUtils {\n    public static int add(int a, int b) {\n        return a + b;\n    }\n\n    public static double squareRoot(double value) {\n        return Math.sqrt(value);\n    }\n}\n\n// Usage\nint sum = MathUtils.add(5, 3);\ndouble sqrt = MathUtils.squareRoot(16.0);\n</code></pre>\n<p>Factory Methods: Static methods can be used to create and return instances of a class. For example, the getInstance() method in the Singleton pattern.</p>\n<pre><code>public class Singleton {\n    private static Singleton instance;\n\n    private Singleton() {\n        // Private constructor to prevent direct instantiation\n    }\n\n    public static Singleton getInstance() {\n        if (instance == null) {\n            instance = new Singleton();\n        }\n        return instance;\n    }\n}\n\n// Usage\nSingleton singleton = Singleton.getInstance();\n</code></pre>\n<p>I'll create a Car class with a static method to calculate the average miles per gallon (MPG) for a group of cars.</p>\n<pre><code>public class Car {\n    private String make;\n    private String model;\n    private double fuelEfficiency; // Miles per gallon (MPG)\n\n    public Car(String make, String model, double fuelEfficiency) {\n        this.make = make;\n        this.model = model;\n        this.fuelEfficiency = fuelEfficiency;\n    }\n\n    public String getMake() {\n        return make;\n    }\n\n    public String getModel() {\n        return model;\n    }\n\n    public double getFuelEfficiency() {\n        return fuelEfficiency;\n    }\n\n    public double calculateMilesPerGallon(double gallons) {\n        return gallons * fuelEfficiency;\n    }\n\n    // Static method to calculate the average MPG for a group of cars\n    public static double calculateAverageMPG(Car[] cars) {\n        if (cars.length == 0) {\n            return 0.0;\n        }\n\n        double totalMPG = 0;\n        for (Car car : cars) {\n            totalMPG += car.getFuelEfficiency();\n        }\n\n        return totalMPG / cars.length;\n    }\n}\n</code></pre>\n<p>In this Car class, we have a static method called calculateAverageMPG that takes an array of Car objects as a parameter and calculates the average MPG of all the cars in the array. This static method does not depend on any particular instance of the Car class and can be called using the class name, like this:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Car car1 = new Car(&quot;Toyota&quot;, &quot;Camry&quot;, 30.0);\n        Car car2 = new Car(&quot;Honda&quot;, &quot;Civic&quot;, 35.0);\n        Car car3 = new Car(&quot;Ford&quot;, &quot;Focus&quot;, 28.0);\n\n        Car[] cars = {car1, car2, car3};\n\n        double averageMPG = Car.calculateAverageMPG(cars);\n        System.out.println(&quot;Average MPG for the group of cars: &quot; + averageMPG);\n    }\n}\n</code></pre>\n<p>In this example, we create three Car objects and calculate the average MPG for the group of cars using the static calculateAverageMPG method.</p>\n"}],"owner":{"account_id":33632,"reputation":13345,"user_id":94279,"accept_rate":96,"display_name":"KP65"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1297243,"favorite_count":0,"down_vote_count":3,"up_vote_count":1071,"accepted_answer_id":2671636,"answer_count":25,"score":1068,"last_activity_date":1698681002,"creation_date":1271718333,"question_id":2671496,"body_markdown":"I am wondering when to use static methods? Say if I have a class with a few getters and setters, a method or two, and I want those methods only to be invokable on an instance object of the class. Does this mean I should use a static method?\r\n\r\nExample:\r\n\r\n    Obj x = new Obj();\r\n    x.someMethod();\r\n\r\n...or:\r\n\r\n    Obj.someMethod(); // Is this the static way?\r\n\r\nI&#39;m rather confused!\r\n\r\n","title":"When to use static methods","body":"<p>I am wondering when to use static methods? Say if I have a class with a few getters and setters, a method or two, and I want those methods only to be invokable on an instance object of the class. Does this mean I should use a static method?</p>\n<p>Example:</p>\n<pre><code>Obj x = new Obj();\nx.someMethod();\n</code></pre>\n<p>...or:</p>\n<pre><code>Obj.someMethod(); // Is this the static way?\n</code></pre>\n<p>I'm rather confused!</p>\n"},{"tags":["java","hibernate"],"answers":[{"comments":[{"owner":{"account_id":215485,"reputation":273,"user_id":470158,"accept_rate":54,"display_name":"Pawan"},"score":0,"creation_date":1286795385,"post_id":3905550,"comment_id":4162220,"body_markdown":"Even , how can print those sql  statements with question marks into our predefined logs?","body":"Even , how can print those sql  statements with question marks into our predefined logs?"}],"tags":[],"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1286794600,"creation_date":1286794600,"answer_id":3905550,"question_id":3905368,"body_markdown":"&gt; In my case i need to print the complete sql query with parameter values which was executed by hibernate into logs, but i am not using log4j API for logging to configure the debug level for `org.hibernate.SQL` and `org.hibernate.type`\r\n\r\nWhether you&#39;re using a logging framework or not, Hibernate will output question marks when logging prepared statements.\r\n\r\nIf you want to print the &quot;real query&quot; with the bound values, you&#39;ll have to use a JDBC Proxy driver like [P6Spy][1] (doesn&#39;t move anymore) or [log4jdbc][2].\r\n\r\n\r\n  [1]: http://www.p6spy.com/\r\n  [2]: http://code.google.com/p/log4jdbc/","title":"print hibernate sql query string with parameters into logs","body":"<blockquote>\n  <p>In my case i need to print the complete sql query with parameter values which was executed by hibernate into logs, but i am not using log4j API for logging to configure the debug level for <code>org.hibernate.SQL</code> and <code>org.hibernate.type</code></p>\n</blockquote>\n\n<p>Whether you're using a logging framework or not, Hibernate will output question marks when logging prepared statements.</p>\n\n<p>If you want to print the \"real query\" with the bound values, you'll have to use a JDBC Proxy driver like <a href=\"http://www.p6spy.com/\" rel=\"nofollow\">P6Spy</a> (doesn't move anymore) or <a href=\"http://code.google.com/p/log4jdbc/\" rel=\"nofollow\">log4jdbc</a>.</p>\n"},{"tags":[],"owner":{"account_id":1099811,"reputation":470,"user_id":1092497,"display_name":"Rahul Wagh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476096623,"creation_date":1476096623,"answer_id":39956577,"question_id":3905368,"body_markdown":"As you have asked &quot;To print the sql query with parameters values which was executed by hibernate into logs&quot;\r\n\r\nyou can set the following parameters into the log4j.properties file\r\n\r\n    #following parameters will be used to log the sql parameters\r\n    log4j.logger.org.hibernate.SQL=debug\r\n    log4j.logger.org.hibernate.type.descriptor.sql=trace\r\n\r\nIt will print the query along with sql parameters along with the datatype .\r\n\r\n    Hibernate: insert into employee (employee_address, employee_name, id) values (?, ?, ?)\r\n    11:50:40, 209 TRACE [org.hibernate.type.descriptor.sql.BasicBinder] - binding parameter [1] as [VARCHAR] - [Address 0]\r\n    11:50:40, 209 TRACE [org.hibernate.type.descriptor.sql.BasicBinder] - binding parameter [2] as [VARCHAR] - [Employee 0]\r\n    11:50:40, 209 TRACE [org.hibernate.type.descriptor.sql.BasicBinder] - binding parameter [3] as [BIGINT] - [7008]\r\n    11:50:40, 210 DEBUG [org.hibernate.SQL] - insert into employee (employee_address, employee_name, id) values (?, ?, ?)\r\n\r\nPlease visit this post for more details about code : - http://techpost360.blogspot.in/2016/10/hibernate-show-sql-with-parameter-values.html","title":"print hibernate sql query string with parameters into logs","body":"<p>As you have asked \"To print the sql query with parameters values which was executed by hibernate into logs\"</p>\n\n<p>you can set the following parameters into the log4j.properties file</p>\n\n<pre><code>#following parameters will be used to log the sql parameters\nlog4j.logger.org.hibernate.SQL=debug\nlog4j.logger.org.hibernate.type.descriptor.sql=trace\n</code></pre>\n\n<p>It will print the query along with sql parameters along with the datatype .</p>\n\n<pre><code>Hibernate: insert into employee (employee_address, employee_name, id) values (?, ?, ?)\n11:50:40, 209 TRACE [org.hibernate.type.descriptor.sql.BasicBinder] - binding parameter [1] as [VARCHAR] - [Address 0]\n11:50:40, 209 TRACE [org.hibernate.type.descriptor.sql.BasicBinder] - binding parameter [2] as [VARCHAR] - [Employee 0]\n11:50:40, 209 TRACE [org.hibernate.type.descriptor.sql.BasicBinder] - binding parameter [3] as [BIGINT] - [7008]\n11:50:40, 210 DEBUG [org.hibernate.SQL] - insert into employee (employee_address, employee_name, id) values (?, ?, ?)\n</code></pre>\n\n<p>Please visit this post for more details about code : - <a href=\"http://techpost360.blogspot.in/2016/10/hibernate-show-sql-with-parameter-values.html\" rel=\"nofollow\">http://techpost360.blogspot.in/2016/10/hibernate-show-sql-with-parameter-values.html</a></p>\n"},{"comments":[{"owner":{"account_id":11599586,"reputation":151,"user_id":8497191,"display_name":"ekene"},"score":0,"creation_date":1698487954,"post_id":77061818,"comment_id":136414046,"body_markdown":"which file exactly?","body":"which file exactly?"},{"owner":{"account_id":7648377,"reputation":471,"user_id":5798141,"display_name":"flags"},"score":0,"creation_date":1698680905,"post_id":77061818,"comment_id":136432906,"body_markdown":"In the library with Maven coordinates `org.hibernate.orm:hibernate-core:6.1.6.Final`.","body":"In the library with Maven coordinates <code>org.hibernate.orm:hibernate-core:6.1.6.Final</code>."}],"tags":[],"owner":{"account_id":7648377,"reputation":471,"user_id":5798141,"display_name":"flags"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698680615,"creation_date":1694108801,"answer_id":77061818,"question_id":3905368,"body_markdown":"The accepted answer was given almost 13 years ago. It&#39;s been a long time since then and things have changed.\r\nIn hibernate `6.1.6.Final`, to get this to work, you must use something like:\r\n\r\n    org.hibernate.SQL: trace\r\n    org.hibernate.orm.jdbc.bind: trace\r\n\r\nThe FQN of the `BasicBinder` class is now `org.hibernate.type.descriptor.jdbc.BasicBinder`","title":"print hibernate sql query string with parameters into logs","body":"<p>The accepted answer was given almost 13 years ago. It's been a long time since then and things have changed.\nIn hibernate <code>6.1.6.Final</code>, to get this to work, you must use something like:</p>\n<pre><code>org.hibernate.SQL: trace\norg.hibernate.orm.jdbc.bind: trace\n</code></pre>\n<p>The FQN of the <code>BasicBinder</code> class is now <code>org.hibernate.type.descriptor.jdbc.BasicBinder</code></p>\n"}],"owner":{"account_id":215485,"reputation":273,"user_id":470158,"accept_rate":54,"display_name":"Pawan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9899,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":3905550,"answer_count":3,"score":1,"last_activity_date":1698680615,"creation_date":1286793119,"question_id":3905368,"body_markdown":"In my hibernate config show_sql property is &#39;true&#39; and since i am not using log4j API of logging, by default hibernate was showing queries with &#39;?&#39; marks in the tomcat console.\r\n\r\nIn my case i need to print the complete sql query with parameter values which was executed by hibernate into logs, but i am not using log4j API for logging to configure the debug level for `org.hibernate.SQL` and `org.hibernate.type`.\r\n\r\nFor logging we are manually writing the content into the file, so in this situation can anybody tell me how can i get the hibernate queries into logs.","title":"print hibernate sql query string with parameters into logs","body":"<p>In my hibernate config show_sql property is 'true' and since i am not using log4j API of logging, by default hibernate was showing queries with '?' marks in the tomcat console.</p>\n\n<p>In my case i need to print the complete sql query with parameter values which was executed by hibernate into logs, but i am not using log4j API for logging to configure the debug level for <code>org.hibernate.SQL</code> and <code>org.hibernate.type</code>.</p>\n\n<p>For logging we are manually writing the content into the file, so in this situation can anybody tell me how can i get the hibernate queries into logs.</p>\n"},{"tags":["java","spring","testing"],"comments":[{"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"score":0,"creation_date":1663941473,"post_id":73828590,"comment_id":130364512,"body_markdown":"The error means that there is no service listening on localhost:8080. Does the test start the application on port 8080?","body":"The error means that there is no service listening on localhost:8080. Does the test start the application on port 8080?"},{"owner":{"account_id":26205614,"reputation":1,"user_id":19885248,"display_name":"Kaytus"},"score":0,"creation_date":1664178732,"post_id":73828590,"comment_id":130403291,"body_markdown":"Application starts with testcontainer for test use","body":"Application starts with testcontainer for test use"},{"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"score":0,"creation_date":1664180311,"post_id":73828590,"comment_id":130403747,"body_markdown":"May be `@SpringBootTest` is starting the app on a random port. Do you use `@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)` ?","body":"May be <code>@SpringBootTest</code> is starting the app on a random port. Do you use <code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)</code> ?"},{"owner":{"account_id":26205614,"reputation":1,"user_id":19885248,"display_name":"Kaytus"},"score":0,"creation_date":1664188759,"post_id":73828590,"comment_id":130406387,"body_markdown":"Yeah, WebEnviroment.DEFINED_PORT fianlly helped, thanks !","body":"Yeah, WebEnviroment.DEFINED_PORT fianlly helped, thanks !"},{"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"score":0,"creation_date":1664194565,"post_id":73828590,"comment_id":130408225,"body_markdown":"Glad to help. I transformed the comment to a answer. It may help others.","body":"Glad to help. I transformed the comment to a answer. It may help others."}],"answers":[{"tags":[],"owner":{"account_id":420244,"reputation":435,"user_id":797857,"display_name":"icrovett"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663941426,"creation_date":1663941426,"answer_id":73828882,"question_id":73828590,"body_markdown":"This exception (Connection refused) means that there is no service listening on the localhost port 8080.\r\n\r\nreview this:\r\n* Check IP and port.\r\n* Server is up and running.\r\n","title":"I/O error on GET in TestRestTemplate getForEntity method","body":"<p>This exception (Connection refused) means that there is no service listening on the localhost port 8080.</p>\n<p>review this:</p>\n<ul>\n<li>Check IP and port.</li>\n<li>Server is up and running.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664194482,"creation_date":1664194482,"answer_id":73854003,"question_id":73828590,"body_markdown":"Check if `@SpringBootTest` is configured to use a random port. If it is the case spring-boot will start the app in a random port other than 8080.\r\n\r\nRemove the random port config `@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)` then the app will start on port 8080 (or the port configured by `server.port`) ","title":"I/O error on GET in TestRestTemplate getForEntity method","body":"<p>Check if <code>@SpringBootTest</code> is configured to use a random port. If it is the case spring-boot will start the app in a random port other than 8080.</p>\n<p>Remove the random port config <code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)</code> then the app will start on port 8080 (or the port configured by <code>server.port</code>)</p>\n"}],"owner":{"account_id":26205614,"reputation":1,"user_id":19885248,"display_name":"Kaytus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698680427,"creation_date":1663940221,"question_id":73828590,"body_markdown":"```\r\nvar restTemplate = new TestRestTemplate();\r\nvar actual = restTemplate.getForEntity(new URI(&quot;http://localhost:8080/foo&quot;), FooDto.class);\r\n```\r\n\r\nWhen I try to use this method an Exception occurs\r\n\r\n&gt; org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://localhost:8080/foo&quot;: Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect\r\n","title":"I/O error on GET in TestRestTemplate getForEntity method","body":"<pre><code>var restTemplate = new TestRestTemplate();\nvar actual = restTemplate.getForEntity(new URI(&quot;http://localhost:8080/foo&quot;), FooDto.class);\n</code></pre>\n<p>When I try to use this method an Exception occurs</p>\n<blockquote>\n<p>org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://localhost:8080/foo&quot;: Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect</p>\n</blockquote>\n"},{"tags":["java","android","dependency-injection","dagger-2","dagger"],"answers":[{"comments":[{"owner":{"account_id":10576336,"reputation":485,"user_id":7791553,"display_name":"hanchen ke"},"score":0,"creation_date":1490875778,"post_id":43117280,"comment_id":73314023,"body_markdown":"thanks, I want to know why this，I hope you can give me some idea 。thank you","body":"thanks, I want to know why this，I hope you can give me some idea 。thank you"},{"owner":{"account_id":10576336,"reputation":485,"user_id":7791553,"display_name":"hanchen ke"},"score":0,"creation_date":1490927671,"post_id":43117280,"comment_id":73341058,"body_markdown":"grateful for your answer patiently.Do you have a good materials for learning dagger2 ?  Can you give me under reference ?","body":"grateful for your answer patiently.Do you have a good materials for learning dagger2 ?  Can you give me under reference ?"},{"owner":{"account_id":2023658,"reputation":4128,"user_id":1809268,"accept_rate":22,"display_name":"Ajith M A"},"score":0,"creation_date":1552390677,"post_id":43117280,"comment_id":96982573,"body_markdown":"https://android.jlelse.eu/practical-guide-to-dagger-76398948a2ea\nSo far the best explanation i have come across for Dagger 2","body":"<a href=\"https://android.jlelse.eu/practical-guide-to-dagger-76398948a2ea\" rel=\"nofollow noreferrer\">android.jlelse.eu/practical-guide-to-dagger-76398948a2ea</a> So far the best explanation i have come across for Dagger 2"},{"owner":{"account_id":2863618,"reputation":391,"user_id":2458337,"accept_rate":20,"display_name":"Antroid"},"score":0,"creation_date":1556425607,"post_id":43117280,"comment_id":98431683,"body_markdown":"i had similar problem, but i had a different return type of my provider method in my module and expecting a context  back in component class","body":"i had similar problem, but i had a different return type of my provider method in my module and expecting a context  back in component class"},{"owner":{"account_id":15746768,"reputation":272,"user_id":11362457,"display_name":"Jorn"},"score":0,"creation_date":1573126933,"post_id":43117280,"comment_id":103784418,"body_markdown":"@azizbekian If you have time, maybe you can help me with [this question](https://stackoverflow.com/questions/58747371/how-to-inject-the-creation-of-a-broadcastreceiver-object-in-fragment-using-dagge). Thanks","body":"@azizbekian If you have time, maybe you can help me with <a href=\"https://stackoverflow.com/questions/58747371/how-to-inject-the-creation-of-a-broadcastreceiver-object-in-fragment-using-dagge\">this question</a>. Thanks"}],"tags":[],"owner":{"account_id":1088874,"reputation":61123,"user_id":1083957,"accept_rate":93,"display_name":"azizbekian"},"comment_count":5,"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1490875977,"creation_date":1490875220,"answer_id":43117280,"question_id":43116825,"body_markdown":"Your `CoffeeMachine` needs `CoffeeMaker`. And you have declared that Dagger will take care of providing that dependency to the `CoffeeMachine` by annotating the constructor with `@Inject`. But Dagger says:\r\n\r\n&gt; CoffeeMaker cannot be provided without an @Provides-annotated method\r\n\r\nBecause you haven&#39;t specified anywhere how `CoffeeMaker` object should be created. `@Inject`ing `SimpleMaker` is not enough, because `SimpleMaker` != `CoffeeMaker`. So, you have to specify explicitly, that when Dagger wants `CoffeeMaker` then provide him `SimpleMaker`.\r\n\r\nChange your module to this:\r\n\r\n\t@Module\r\n\tpublic class SimpleModule {\r\n\r\n\t    @Provides\r\n\t    Cooker providerCooker() {\r\n\t        return new Cooker(&quot;tom&quot;, &quot;natie&quot;);\r\n\t    }\r\n\r\n\t    @Provides\r\n\t    CoffeeMaker provideCoffeeMaker(Cooker cooker) {\r\n\t    \treturn new SimpleMaker(cooker);\r\n\t    }\r\n\t    \r\n\t}","title":"Dagger 2: Cannot be provided without an @Provides-annotated method","body":"<p>Your <code>CoffeeMachine</code> needs <code>CoffeeMaker</code>. And you have declared that Dagger will take care of providing that dependency to the <code>CoffeeMachine</code> by annotating the constructor with <code>@Inject</code>. But Dagger says:</p>\n\n<blockquote>\n  <p>CoffeeMaker cannot be provided without an @Provides-annotated method</p>\n</blockquote>\n\n<p>Because you haven't specified anywhere how <code>CoffeeMaker</code> object should be created. <code>@Inject</code>ing <code>SimpleMaker</code> is not enough, because <code>SimpleMaker</code> != <code>CoffeeMaker</code>. So, you have to specify explicitly, that when Dagger wants <code>CoffeeMaker</code> then provide him <code>SimpleMaker</code>.</p>\n\n<p>Change your module to this:</p>\n\n<pre><code>@Module\npublic class SimpleModule {\n\n    @Provides\n    Cooker providerCooker() {\n        return new Cooker(\"tom\", \"natie\");\n    }\n\n    @Provides\n    CoffeeMaker provideCoffeeMaker(Cooker cooker) {\n        return new SimpleMaker(cooker);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1653922908,"creation_date":1653922908,"answer_id":72436382,"question_id":43116825,"body_markdown":"In my case I missed one module in `@Component` (in multi-module app). Thanks to @azizbekian.\r\n\r\n    @Component(\r\n        modules = [\r\n            ApiModule::class,\r\n            SettingsModule::class,\r\n            CoroutinesModule::class // &lt;- I forgot one of these modules\r\n        ],\r\n        dependencies = [Api::class, NetworkProvider::class]\r\n    )\r\n    interface YourComponent {","title":"Dagger 2: Cannot be provided without an @Provides-annotated method","body":"<p>In my case I missed one module in <code>@Component</code> (in multi-module app). Thanks to @azizbekian.</p>\n<pre><code>@Component(\n    modules = [\n        ApiModule::class,\n        SettingsModule::class,\n        CoroutinesModule::class // &lt;- I forgot one of these modules\n    ],\n    dependencies = [Api::class, NetworkProvider::class]\n)\ninterface YourComponent {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6689040,"reputation":593,"user_id":5159093,"display_name":"ItSNeverLate"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662591909,"creation_date":1662591909,"answer_id":73642225,"question_id":43116825,"body_markdown":"Have a closer look at imports\r\n\r\nReplace \r\n\r\n   \r\n    import com.google.android.datatransport.runtime.dagger.Provides\r\n    import com.google.android.datatransport.runtime.dagger.Module\r\nWith\r\n\r\n    import dagger.Module\r\n    import dagger.Provides","title":"Dagger 2: Cannot be provided without an @Provides-annotated method","body":"<p>Have a closer look at imports</p>\n<p>Replace</p>\n<pre><code>import com.google.android.datatransport.runtime.dagger.Provides\nimport com.google.android.datatransport.runtime.dagger.Module\n</code></pre>\n<p>With</p>\n<pre><code>import dagger.Module\nimport dagger.Provides\n</code></pre>\n"},{"tags":[],"owner":{"account_id":237170,"reputation":18509,"user_id":505152,"accept_rate":72,"display_name":"htafoya"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668401980,"creation_date":1668401980,"answer_id":74427108,"question_id":43116825,"body_markdown":"If you have this problem when everything seems correct it may be because you did some refactoring, clean the project and compile again.","title":"Dagger 2: Cannot be provided without an @Provides-annotated method","body":"<p>If you have this problem when everything seems correct it may be because you did some refactoring, clean the project and compile again.</p>\n"},{"tags":[],"owner":{"account_id":16580176,"reputation":76,"user_id":11980977,"display_name":"Ruslan Zhuravlov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684750513,"creation_date":1684748293,"answer_id":76304831,"question_id":43116825,"body_markdown":"In a multi-module project this error may occur when a new module is added. To fix this you need to add new module to build.gradle(:app) dependencies:\r\n\r\n    dependencies {\r\n        implementation project(&#39;:new_module&#39;)\r\n    }","title":"Dagger 2: Cannot be provided without an @Provides-annotated method","body":"<p>In a multi-module project this error may occur when a new module is added. To fix this you need to add new module to build.gradle(:app) dependencies:</p>\n<pre><code>dependencies {\n    implementation project(':new_module')\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1146772,"reputation":31458,"user_id":1129332,"accept_rate":61,"display_name":"Ilya Gazman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698680339,"creation_date":1698680339,"answer_id":77390029,"question_id":43116825,"body_markdown":"Had another case. I used lazy and didn&#39;t provide the import, so it took Kotlin `Lazy` instead of `dagger.Lazy`. \r\n\r\nOnce I added the dagger import the problem was solved.","title":"Dagger 2: Cannot be provided without an @Provides-annotated method","body":"<p>Had another case. I used lazy and didn't provide the import, so it took Kotlin <code>Lazy</code> instead of <code>dagger.Lazy</code>.</p>\n<p>Once I added the dagger import the problem was solved.</p>\n"}],"owner":{"account_id":10576336,"reputation":485,"user_id":7791553,"display_name":"hanchen ke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93429,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":43117280,"answer_count":6,"score":43,"last_activity_date":1698680339,"creation_date":1490873932,"question_id":43116825,"body_markdown":"I just started learning dagger2 and faced a strange issue that looks like a bug to me. Here&#39;s the module:\r\n\r\n\r\n    @Module\r\n    public class SimpleModule {\r\n    \r\n        @Provides\r\n        Cooker providerCooker() {\r\n    \r\n            return new Cooker(&quot;tom&quot;, &quot;natie&quot;);\r\n        }\r\n    }\r\n\r\n Component:\r\n\r\n    @Component(modules = SimpleModule.class)\r\n    public interface SimpleComponent {\r\n\r\n        void inject(DaggerTestActivity activity);\r\n    \r\n    }\r\n\r\n Interface:\r\n\r\n    public interface CoffeeMaker {\r\n    \r\n        String makeCoffee();\r\n    }\r\n\r\nImplementation:\r\n\r\n      public class SimpleMaker implements CoffeeMaker {\r\n        \r\n            Cooker mCooker;\r\n          \r\n            @Inject\r\n            public SimpleMaker(Cooker cooker) {\r\n        \r\n                this.mCooker = cooker;\r\n        \r\n            }\r\n        \r\n            @Override\r\n            public String makeCoffee() {\r\n        \r\n                return mCooker.makeCoffee();\r\n            }\r\n        }\r\n\r\nCooker :\r\n\r\n    public class Cooker {\r\n    \r\n        String name; \r\n        String coffeeKind;\r\n    \r\n    \r\n        public Cooker(String name, String coffeeKind) {\r\n            this.name = name;\r\n            this.coffeeKind = coffeeKind;\r\n        }\r\n        \r\n       public  String  makeCoffee() {\r\n      \r\n            return name + &quot;make&quot; + coffeeKind; \r\n        }\r\n    \r\n    }\r\n\r\nCoffee machine:\r\n\r\n    public class CoffeeMachine {\r\n    \r\n        CoffeeMaker mMaker;\r\n    \r\n        @Inject\r\n        public CoffeeMachine(CoffeeMaker coffeeMaker) {\r\n    \r\n            this.mMaker = coffeeMaker;\r\n        }\r\n    \r\n        public String makeCoffee() {\r\n    \r\n            return mMaker.makeCoffee();\r\n        }\r\n    }\r\n\r\nJust it. I use it in the activity. Faced strange issue here:\r\n\r\n        @Inject\r\n        CoffeeMachine mCoffeeMachine;\r\n\r\nThe error I&#39;m getting from the Dagger 2 compiler is the following:\r\n\r\n    Error:(14, 10) com.wyyc.daggertest.CoffeeMaker cannot be provided without an @Provides-annotated method.\r\n    com.wyyc.zqqworkproject.DaggerTestActivity.mCoffeeMachine\r\n    [injected field of type: com.wyyc.daggertest.CoffeeMachine mCoffeeMachine]\r\n    com.wyyc.daggertest.CoffeeMachine.&lt;init&gt;(com.wyyc.daggertest.CoffeeMaker coffeeMaker)\r\n\r\nAll this situation looks very strange, and I&#39;d like to hear some input from more experienced Dagger 2 users.","title":"Dagger 2: Cannot be provided without an @Provides-annotated method","body":"<p>I just started learning dagger2 and faced a strange issue that looks like a bug to me. Here's the module:</p>\n<pre><code>@Module\npublic class SimpleModule {\n\n    @Provides\n    Cooker providerCooker() {\n\n        return new Cooker(&quot;tom&quot;, &quot;natie&quot;);\n    }\n}\n</code></pre>\n<p>Component:</p>\n<pre><code>@Component(modules = SimpleModule.class)\npublic interface SimpleComponent {\n\n    void inject(DaggerTestActivity activity);\n\n}\n</code></pre>\n<p>Interface:</p>\n<pre><code>public interface CoffeeMaker {\n\n    String makeCoffee();\n}\n</code></pre>\n<p>Implementation:</p>\n<pre><code>  public class SimpleMaker implements CoffeeMaker {\n    \n        Cooker mCooker;\n      \n        @Inject\n        public SimpleMaker(Cooker cooker) {\n    \n            this.mCooker = cooker;\n    \n        }\n    \n        @Override\n        public String makeCoffee() {\n    \n            return mCooker.makeCoffee();\n        }\n    }\n</code></pre>\n<p>Cooker :</p>\n<pre><code>public class Cooker {\n\n    String name; \n    String coffeeKind;\n\n\n    public Cooker(String name, String coffeeKind) {\n        this.name = name;\n        this.coffeeKind = coffeeKind;\n    }\n    \n   public  String  makeCoffee() {\n  \n        return name + &quot;make&quot; + coffeeKind; \n    }\n\n}\n</code></pre>\n<p>Coffee machine:</p>\n<pre><code>public class CoffeeMachine {\n\n    CoffeeMaker mMaker;\n\n    @Inject\n    public CoffeeMachine(CoffeeMaker coffeeMaker) {\n\n        this.mMaker = coffeeMaker;\n    }\n\n    public String makeCoffee() {\n\n        return mMaker.makeCoffee();\n    }\n}\n</code></pre>\n<p>Just it. I use it in the activity. Faced strange issue here:</p>\n<pre><code>    @Inject\n    CoffeeMachine mCoffeeMachine;\n</code></pre>\n<p>The error I'm getting from the Dagger 2 compiler is the following:</p>\n<pre><code>Error:(14, 10) com.wyyc.daggertest.CoffeeMaker cannot be provided without an @Provides-annotated method.\ncom.wyyc.zqqworkproject.DaggerTestActivity.mCoffeeMachine\n[injected field of type: com.wyyc.daggertest.CoffeeMachine mCoffeeMachine]\ncom.wyyc.daggertest.CoffeeMachine.&lt;init&gt;(com.wyyc.daggertest.CoffeeMaker coffeeMaker)\n</code></pre>\n<p>All this situation looks very strange, and I'd like to hear some input from more experienced Dagger 2 users.</p>\n"},{"tags":["java","android","google-maps","google-api","autocomplete"],"owner":{"account_id":29772154,"reputation":51,"user_id":22817079,"display_name":"Chichi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698679424,"creation_date":1698679424,"question_id":77389909,"body_markdown":"I am using the Places autocomplete API and followed the documentation to successfully implement autocomplete in my app code. It is working perfectly fine.\r\n\r\nHowever, I am trying to add a search history feature for the autocomplete. The autocomplete uses an AutocompleteFragment which I believe prevents directly manipulating its UI.\r\n\r\nI have tried a few different approaches to implement the search history but have been unsuccessful.\r\n\r\nIs it possible to programmatically manipulate the UI of the AutocompleteFragment to show a search history? Or is there another way I can implement the search history without directly modifying the fragment UI?\r\n\r\nI am implementing this in Java.\r\n\r\nI will provide the code that I am using for the autocomplete implementation as a reference.\r\n\r\nAny suggestions or comments would be greatly appreciated! I&#39;ve searched around but haven&#39;t found a good solution yet for adding search history with the AutocompleteFragment.\r\n\r\nXML \r\n\r\n```\r\n\r\n &lt;fragment\r\n        android:id=&quot;@+id/map&quot;\r\n        android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/cardView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;45dp&quot;\r\n        android:layout_marginStart=&quot;60dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginEnd=&quot;10dp&quot;\r\n        app:cardCornerRadius=&quot;30dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        &gt;\r\n\r\n        &lt;androidx.fragment.app.FragmentContainerView\r\n            android:id=&quot;@+id/autocomplete_fragment&quot;\r\n            android:name=&quot;com.google.android.libraries.places.widget.AutocompleteSupportFragment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n```\r\n\r\nAutocomplete Fragment\r\n\r\n```\r\n\r\n        autocompleteFragment.setPlaceFields(Arrays.asList(Place.Field.ID, Place.Field.NAME, Place.Field.LAT_LNG));\r\n\r\n        autocompleteFragment.setOnPlaceSelectedListener(new PlaceSelectionListener() {\r\n            @Override\r\n            public void onPlaceSelected(@NonNull Place place) {\r\n}\r\n           \r\n\r\n            @Override\r\n            public void onError(@NonNull Status status) {\r\n                // TODO: Handle the error.\r\n                Log.i(TAG, &quot;An error occurred: &quot; + status);\r\n            }\r\n```","title":"Implementing search history for Places autocomplete without manipulating autocomplete fragment UI","body":"<p>I am using the Places autocomplete API and followed the documentation to successfully implement autocomplete in my app code. It is working perfectly fine.</p>\n<p>However, I am trying to add a search history feature for the autocomplete. The autocomplete uses an AutocompleteFragment which I believe prevents directly manipulating its UI.</p>\n<p>I have tried a few different approaches to implement the search history but have been unsuccessful.</p>\n<p>Is it possible to programmatically manipulate the UI of the AutocompleteFragment to show a search history? Or is there another way I can implement the search history without directly modifying the fragment UI?</p>\n<p>I am implementing this in Java.</p>\n<p>I will provide the code that I am using for the autocomplete implementation as a reference.</p>\n<p>Any suggestions or comments would be greatly appreciated! I've searched around but haven't found a good solution yet for adding search history with the AutocompleteFragment.</p>\n<p>XML</p>\n<pre><code>\n &lt;fragment\n        android:id=&quot;@+id/map&quot;\n        android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;45dp&quot;\n        android:layout_marginStart=&quot;60dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_marginEnd=&quot;10dp&quot;\n        app:cardCornerRadius=&quot;30dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        &gt;\n\n        &lt;androidx.fragment.app.FragmentContainerView\n            android:id=&quot;@+id/autocomplete_fragment&quot;\n            android:name=&quot;com.google.android.libraries.places.widget.AutocompleteSupportFragment&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot; /&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n    \n</code></pre>\n<p>Autocomplete Fragment</p>\n<pre><code>\n        autocompleteFragment.setPlaceFields(Arrays.asList(Place.Field.ID, Place.Field.NAME, Place.Field.LAT_LNG));\n\n        autocompleteFragment.setOnPlaceSelectedListener(new PlaceSelectionListener() {\n            @Override\n            public void onPlaceSelected(@NonNull Place place) {\n}\n           \n\n            @Override\n            public void onError(@NonNull Status status) {\n                // TODO: Handle the error.\n                Log.i(TAG, &quot;An error occurred: &quot; + status);\n            }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":10379834,"reputation":3224,"user_id":12478830,"display_name":"MMG"},"score":1,"creation_date":1586625738,"post_id":61160798,"comment_id":108198250,"body_markdown":"file-&gt;invalidate caches/restart","body":"file-&gt;invalidate caches/restart"},{"owner":{"account_id":95417,"reputation":4933,"user_id":259889,"accept_rate":76,"display_name":"Sid"},"score":0,"creation_date":1586626868,"post_id":61160798,"comment_id":108198731,"body_markdown":"Can you also reformat the question and add details?","body":"Can you also reformat the question and add details?"}],"answers":[{"tags":[],"owner":{"account_id":1400374,"reputation":161,"user_id":8870351,"display_name":"SebVay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698679090,"creation_date":1698678671,"answer_id":77389805,"question_id":61160798,"body_markdown":"I stumbled across the same issue: Your `android-xx` directory is surely corrupted even though the SDK Manager saw it downloaded.\r\n\r\nThe fix is to delete your installation via the SDK Manager and to download it again.\r\n\r\nDelete &amp; re-download those one:\r\n\r\n[![Remove and download][1]][1]\r\n\r\nAlso what the corrupted installation looked like (in this case `android-34`) :\r\n\r\n[![Corrupted dir][2]][2]\r\n\r\n[Related Topic][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uh7eL.png\r\n  [2]: https://i.stack.imgur.com/YCnB6.png\r\n  [3]: https://stackoverflow.com/questions/53648319/could-not-resolve-all-files-for-configuration-appandroidapis","title":"Problem ouccuring in sync in android studio : Not able to build any new project","body":"<p>I stumbled across the same issue: Your <code>android-xx</code> directory is surely corrupted even though the SDK Manager saw it downloaded.</p>\n<p>The fix is to delete your installation via the SDK Manager and to download it again.</p>\n<p>Delete &amp; re-download those one:</p>\n<p><a href=\"https://i.stack.imgur.com/uh7eL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uh7eL.png\" alt=\"Remove and download\" /></a></p>\n<p>Also what the corrupted installation looked like (in this case <code>android-34</code>) :</p>\n<p><a href=\"https://i.stack.imgur.com/YCnB6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YCnB6.png\" alt=\"Corrupted dir\" /></a></p>\n<p><a href=\"https://stackoverflow.com/questions/53648319/could-not-resolve-all-files-for-configuration-appandroidapis\">Related Topic</a></p>\n"}],"owner":{"account_id":18254140,"reputation":1,"user_id":13288485,"display_name":"Shikha Thakur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698679090,"creation_date":1586625585,"question_id":61160798,"body_markdown":"Error 1: Caused by: org.gradle.api.internal.artifacts.transform.TransformException: Failed to transform file &#39;android.jar&#39; to match attributes {artifactType=android-mockable-jar, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime, returnDefaultValues=false}\r\n\r\nError 2 : Caused by: java.lang.RuntimeException: Cannot create mockable android.jar\r\n\r\n\r\n\r\n","title":"Problem ouccuring in sync in android studio : Not able to build any new project","body":"<p>Error 1: Caused by: org.gradle.api.internal.artifacts.transform.TransformException: Failed to transform file 'android.jar' to match attributes {artifactType=android-mockable-jar, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime, returnDefaultValues=false}</p>\n\n<p>Error 2 : Caused by: java.lang.RuntimeException: Cannot create mockable android.jar</p>\n"},{"tags":["java","codenameone"],"answers":[{"comments":[{"owner":{"account_id":8345300,"reputation":3313,"user_id":6269247,"accept_rate":49,"display_name":"rainer"},"score":0,"creation_date":1698842609,"post_id":77386134,"comment_id":136455692,"body_markdown":"perfect solution, many thanks","body":"perfect solution, many thanks"}],"tags":[],"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698637806,"creation_date":1698637806,"answer_id":77386134,"question_id":77384949,"body_markdown":"What you are doing is nested scrolling which is only supported for different axis. On desktop apps you can put a scrollbar anywhere but Codename One doesn&#39;t support that. \r\n\r\nOn touch devices you can swipe any component in the hierarchy to scroll in a specific direction. If you have two scrollable Y containers one within the other we have no way of knowing which one to scroll. It also makes size calculations impossible due to the way scrolling works.\r\n\r\nSince the parent form is scrollable on the Y axis by default, you don&#39;t need to make the child containers scrollable. They will scroll implicitly. Notice that a `BorderLayout` implicitly disables scrolling on a `Form` and using that will workaround the issue.\r\n\r\nAlso removing `containerBase.setScrollableY(true);` will work too.","title":"Codename One Container in Y-Layout not scrolling when using UIID","body":"<p>What you are doing is nested scrolling which is only supported for different axis. On desktop apps you can put a scrollbar anywhere but Codename One doesn't support that.</p>\n<p>On touch devices you can swipe any component in the hierarchy to scroll in a specific direction. If you have two scrollable Y containers one within the other we have no way of knowing which one to scroll. It also makes size calculations impossible due to the way scrolling works.</p>\n<p>Since the parent form is scrollable on the Y axis by default, you don't need to make the child containers scrollable. They will scroll implicitly. Notice that a <code>BorderLayout</code> implicitly disables scrolling on a <code>Form</code> and using that will workaround the issue.</p>\n<p>Also removing <code>containerBase.setScrollableY(true);</code> will work too.</p>\n"}],"owner":{"account_id":8345300,"reputation":3313,"user_id":6269247,"accept_rate":49,"display_name":"rainer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1698678964,"creation_date":1698608808,"question_id":77384949,"body_markdown":"I am preparing an Android app that is using a container in Boxlayout.y. \r\n\r\nWhen using the code example from [here][1] , scrolling the container content in x-direction works beautifully. \r\n\r\nBut when I change the code to use a y-layout, the container loses its ability to scroll and scrolls only when I tap on the  form and outside the container or not on any components inside. \r\n\r\nInterestingly, the problem with y-scroll only surges when I add a UIID to the container.\r\n\r\n\r\n    Container containerBase = new Container(new BoxLayout(BoxLayout.Y_AXIS));\r\n\tForm formSelect = new Form(new BoxLayout(BoxLayout.Y_AXIS));\r\n    int[] colors = { 0xffff0000, 0xff00ff00, 0xff0000ff, 0xff000000 };\r\n\t    \r\n\tcontainerBase.setScrollableY(true);\r\n\r\n\tcontainerBase.setUIID(&quot;ContainerBase&quot;);  `culprit seems to be here`  \r\n\r\n\tfor(int iter = 0 ; iter &lt; 100 ; iter++) {\r\n\t    \t\r\n\t    containerBase.add(new Button(Image.createImage(100, 50, colors[iter % colors.length]), &quot;test&quot;));\r\n\r\n\t} \r\n\r\n I am missing something? \r\n\r\nI am on Arch, using Eclipse and Maven. \r\n\r\n  [1]: https://stackoverflow.com/questions/34056010/codename-one-boxlayout-scroll","title":"Codename One Container in Y-Layout not scrolling when using UIID","body":"<p>I am preparing an Android app that is using a container in Boxlayout.y.</p>\n<p>When using the code example from <a href=\"https://stackoverflow.com/questions/34056010/codename-one-boxlayout-scroll\">here</a> , scrolling the container content in x-direction works beautifully.</p>\n<p>But when I change the code to use a y-layout, the container loses its ability to scroll and scrolls only when I tap on the  form and outside the container or not on any components inside.</p>\n<p>Interestingly, the problem with y-scroll only surges when I add a UIID to the container.</p>\n<pre><code>Container containerBase = new Container(new BoxLayout(BoxLayout.Y_AXIS));\nForm formSelect = new Form(new BoxLayout(BoxLayout.Y_AXIS));\nint[] colors = { 0xffff0000, 0xff00ff00, 0xff0000ff, 0xff000000 };\n    \ncontainerBase.setScrollableY(true);\n\ncontainerBase.setUIID(&quot;ContainerBase&quot;);  `culprit seems to be here`  \n\nfor(int iter = 0 ; iter &lt; 100 ; iter++) {\n        \n    containerBase.add(new Button(Image.createImage(100, 50, colors[iter % colors.length]), &quot;test&quot;));\n\n} \n</code></pre>\n<p>I am missing something?</p>\n<p>I am on Arch, using Eclipse and Maven.</p>\n"},{"tags":["java","android","webkit","android-webview"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1359658756,"post_id":7610790,"comment_id":20440420,"body_markdown":"@MediumOne: This isn&#39;t a bug as much it is a feature that you consider to be missing. I am not aware of anything in the HTTP specification that says subsequent HTTP requests must mirror arbitrary headers from previous HTTP requests.","body":"@MediumOne: This isn&#39;t a bug as much it is a feature that you consider to be missing. I am not aware of anything in the HTTP specification that says subsequent HTTP requests must mirror arbitrary headers from previous HTTP requests."},{"owner":{"account_id":93543,"reputation":804,"user_id":255872,"accept_rate":47,"display_name":"MediumOne"},"score":1,"creation_date":1359684796,"post_id":7610790,"comment_id":20450375,"body_markdown":"@CommonsWare: The word &quot;subsequent&quot; is misleading here. When I type &quot;http://www.facebook.com&quot; on any browser to load the facebook.com homepage, there are several supporting &quot;resource requests&quot; to load the CSS, js and img files. You can check this in Chrome using the F12 feature (Network tab). For these requests, the webview does not add headers. I tried adding custom headers to FireFox requests using the https://addons.mozilla.org/en-us/firefox/addon/modify-headers/ plug-in. This plugin was able to add headers to all such suppporting &quot;resource requests&quot;. I think WebView should do the same.","body":"@CommonsWare: The word &quot;subsequent&quot; is misleading here. When I type &quot;<a href=\"http://www.facebook.com\" rel=\"nofollow noreferrer\">facebook.com</a>&quot; on any browser to load the facebook.com homepage, there are several supporting &quot;resource requests&quot; to load the CSS, js and img files. You can check this in Chrome using the F12 feature (Network tab). For these requests, the webview does not add headers. I tried adding custom headers to FireFox requests using the <a href=\"https://addons.mozilla.org/en-us/firefox/addon/modify-headers/\" rel=\"nofollow noreferrer\">addons.mozilla.org/en-us/firefox/addon/modify-headers</a> plug-in. This plugin was able to add headers to all such suppporting &quot;resource requests&quot;. I think WebView should do the same."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1359729584,"post_id":7610790,"comment_id":20467325,"body_markdown":"@MediumOne: &quot;I think WebView should do the same&quot; -- which is a feature that you consider to be missing. Note that you had to resort to a plugin to make Firefox do this. I am not saying that your proposed feature is a bad idea. I am saying that characterizing it as a bug is unlikely to help your cause to get this proposed feature added to Android.","body":"@MediumOne: &quot;I think WebView should do the same&quot; -- which is a feature that you consider to be missing. Note that you had to resort to a plugin to make Firefox do this. I am not saying that your proposed feature is a bad idea. I am saying that characterizing it as a bug is unlikely to help your cause to get this proposed feature added to Android."},{"owner":{"account_id":93543,"reputation":804,"user_id":255872,"accept_rate":47,"display_name":"MediumOne"},"score":0,"creation_date":1359820759,"post_id":7610790,"comment_id":20494261,"body_markdown":"@CommonsWare: No. I still think it is a bug. Let me explain. WebView already provides the feature to add custom headers. I have just found that it is not doing it properly. When I try to load a URL (say facebook.com), the webview is responsible for loading all the requests needed to display the page. When I add custom headers for leading this URL, webview only adds for the initial request. Firefox doesn&#39;t support adding headers at all. We need a plug in to do this. And this plug-in makes sure that all the resource requests get the custom headers as well.","body":"@CommonsWare: No. I still think it is a bug. Let me explain. WebView already provides the feature to add custom headers. I have just found that it is not doing it properly. When I try to load a URL (say facebook.com), the webview is responsible for loading all the requests needed to display the page. When I add custom headers for leading this URL, webview only adds for the initial request. Firefox doesn&#39;t support adding headers at all. We need a plug in to do this. And this plug-in makes sure that all the resource requests get the custom headers as well."},{"owner":{"account_id":93543,"reputation":804,"user_id":255872,"accept_rate":47,"display_name":"MediumOne"},"score":1,"creation_date":1359821510,"post_id":7610790,"comment_id":20494465,"body_markdown":"@CommonsWare: Suppose that I am using a WebView to build a browser that can be configured to work with a custom HTTP proxy. This proxy uses custom authentication where are requests to it should have a custom header. Now, webview provides an API to set custom headers, but internally, it is not setting the header to all the resource requests it generates. There aren&#39;t any additional APIs to set headers for these requests as well. So, any feature which relies on adding custom headers to WebView requests fails.","body":"@CommonsWare: Suppose that I am using a WebView to build a browser that can be configured to work with a custom HTTP proxy. This proxy uses custom authentication where are requests to it should have a custom header. Now, webview provides an API to set custom headers, but internally, it is not setting the header to all the resource requests it generates. There aren&#39;t any additional APIs to set headers for these requests as well. So, any feature which relies on adding custom headers to WebView requests fails."},{"owner":{"account_id":356552,"reputation":22716,"user_id":696134,"accept_rate":87,"display_name":"Janak Nirmal"},"score":0,"creation_date":1365230592,"post_id":7610790,"comment_id":22552286,"body_markdown":"@Ray did you get any solution to this problem I am stuck with this too and was not able to find solution?","body":"@Ray did you get any solution to this problem I am stuck with this too and was not able to find solution?"},{"owner":{"account_id":93543,"reputation":804,"user_id":255872,"accept_rate":47,"display_name":"MediumOne"},"score":1,"creation_date":1496600213,"post_id":7610790,"comment_id":75716674,"body_markdown":"@CommonsWare - I am revisiting this conversation after 4 years. I agree now - this should not be a bug. There&#39;s nothing in the HTTP specification that says subsequent requests should send the same headers. :)","body":"@CommonsWare - I am revisiting this conversation after 4 years. I agree now - this should not be a bug. There&#39;s nothing in the HTTP specification that says subsequent requests should send the same headers. :)"},{"owner":{"account_id":1186511,"reputation":4312,"user_id":1160360,"accept_rate":74,"display_name":"Fran Marzoa"},"score":0,"creation_date":1695896831,"post_id":7610790,"comment_id":136086315,"body_markdown":"@MediumOne actually the opposite would be a bug, at least if it&#39;s the default behaviour, as it poses a security issue in case the header you are sending contains sensitive information (e.g. an authorization token), because many pages load resources from third parties like fonts, icons, css, js, etc. and definitely you don&#39;t want to send sensitive information to third party websites.","body":"@MediumOne actually the opposite would be a bug, at least if it&#39;s the default behaviour, as it poses a security issue in case the header you are sending contains sensitive information (e.g. an authorization token), because many pages load resources from third parties like fonts, icons, css, js, etc. and definitely you don&#39;t want to send sensitive information to third party websites."}],"answers":[{"comments":[{"owner":{"account_id":465380,"reputation":1433,"user_id":869415,"display_name":"Ray"},"score":12,"creation_date":1322240504,"post_id":8209272,"comment_id":10183596,"body_markdown":"Sorry, but this does not work.  It only applies the headers too the initial requests.  Headers are NOT added to the resource requests.  Other ideas?  Thanks.","body":"Sorry, but this does not work.  It only applies the headers too the initial requests.  Headers are NOT added to the resource requests.  Other ideas?  Thanks."},{"owner":{"account_id":289517,"reputation":17358,"user_id":590531,"accept_rate":91,"display_name":"peceps"},"score":21,"creation_date":1322478030,"post_id":8209272,"comment_id":10217422,"body_markdown":"Yes, override WebClient.shouldOverrideUrlLoading like this:\npublic boolean shouldOverrideUrlLoading(WebView view, String url) {\nview.loadUrl(url, extraHeaders);\nreturn true;\n}","body":"Yes, override WebClient.shouldOverrideUrlLoading like this: public boolean shouldOverrideUrlLoading(WebView view, String url) { view.loadUrl(url, extraHeaders); return true; }"},{"owner":{"account_id":93543,"reputation":804,"user_id":255872,"accept_rate":47,"display_name":"MediumOne"},"score":6,"creation_date":1358932581,"post_id":8209272,"comment_id":20167688,"body_markdown":"@peceps - the callback &#39;shouldOverrideUrlLoading&#39; is not called during resource loading. For example, when we try `view.loadUrl(&quot;http://www.facebook.com&quot;, extraHeaders)`, there are multiple resource requests like `&#39;http://static.fb.com/images/logo.png&#39;` etc that are sent from the webiew. For these requests, the extra headers are not added. And shouldOverrideUrlLoading is not called during such resource requests. The callback &#39;OnLoadResource&#39; is called, but there is no way to set headers at this point.","body":"@peceps - the callback &#39;shouldOverrideUrlLoading&#39; is not called during resource loading. For example, when we try <code>view.loadUrl(&quot;http:&#47;&#47;www.facebook.com&quot;, extraHeaders)</code>, there are multiple resource requests like <code>&#39;http:&#47;&#47;static.fb.com&#47;images&#47;logo.png&#39;</code> etc that are sent from the webiew. For these requests, the extra headers are not added. And shouldOverrideUrlLoading is not called during such resource requests. The callback &#39;OnLoadResource&#39; is called, but there is no way to set headers at this point."},{"owner":{"account_id":468095,"reputation":40996,"user_id":873875,"display_name":"yorkw"},"score":2,"creation_date":1359688916,"post_id":8209272,"comment_id":20451405,"body_markdown":"@MediumOne, for resource loading, override `WebViewClient.shouldInterceptRequest(android.webkit.WebView view, java.lang.String url)` Check out [API](http://developer.android.com/reference/android/webkit/WebViewClient.html) for more.","body":"@MediumOne, for resource loading, override <code>WebViewClient.shouldInterceptRequest(android.webkit.WebView view, java.lang.String url)</code> Check out <a href=\"http://developer.android.com/reference/android/webkit/WebViewClient.html\" rel=\"nofollow noreferrer\">API</a> for more."},{"owner":{"account_id":93543,"reputation":804,"user_id":255872,"accept_rate":47,"display_name":"MediumOne"},"score":4,"creation_date":1359700890,"post_id":8209272,"comment_id":20454541,"body_markdown":"@yorkw: This method does capture all resource request urls. But there is no way to add headers to these requests. My goal is to add custom HTTP headers to all requests. If this can be achieved using the `shouldInterceptRequest` method, can you please explain how?","body":"@yorkw: This method does capture all resource request urls. But there is no way to add headers to these requests. My goal is to add custom HTTP headers to all requests. If this can be achieved using the <code>shouldInterceptRequest</code> method, can you please explain how?"},{"owner":{"account_id":103388,"reputation":58275,"user_id":276949,"accept_rate":87,"display_name":"Martin Konecny"},"score":0,"creation_date":1429730689,"post_id":8209272,"comment_id":47741993,"body_markdown":"As of API Level 21, you should be able to add headers to the `WebResourceRequest` [object passed in](http://developer.android.com/reference/android/webkit/WebViewClient.html)","body":"As of API Level 21, you should be able to add headers to the <code>WebResourceRequest</code> <a href=\"http://developer.android.com/reference/android/webkit/WebViewClient.html\" rel=\"nofollow noreferrer\">object passed in</a>"},{"owner":{"account_id":288964,"reputation":6537,"user_id":589667,"accept_rate":48,"display_name":"b.lyte"},"score":0,"creation_date":1442616406,"post_id":8209272,"comment_id":53170567,"body_markdown":"Hi @MartinKonecny have you found any workarounds to make this work on previous versions of Android?","body":"Hi @MartinKonecny have you found any workarounds to make this work on previous versions of Android?"},{"owner":{"account_id":168381,"reputation":5234,"user_id":393809,"accept_rate":57,"display_name":"narancs"},"score":0,"creation_date":1496323983,"post_id":8209272,"comment_id":75623222,"body_markdown":"@MediumOne have you found anything related to this? I have the same issue now and really need some help!","body":"@MediumOne have you found anything related to this? I have the same issue now and really need some help!"}],"tags":[],"owner":{"account_id":289517,"reputation":17358,"user_id":590531,"accept_rate":91,"display_name":"peceps"},"comment_count":8,"down_vote_count":11,"up_vote_count":105,"is_accepted":false,"score":94,"last_activity_date":1512042362,"creation_date":1321865459,"answer_id":8209272,"question_id":7610790,"body_markdown":"Try \r\n\r\n    loadUrl(String url, Map&lt;String, String&gt; extraHeaders)\r\n\r\nFor adding headers to resources loading requests, make custom WebViewClient and override:\r\n\r\n    API 24+:\r\n    WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request)\r\n    or\r\n    WebResourceResponse shouldInterceptRequest(WebView view, String url)","title":"Add custom headers to WebView resource requests - android","body":"<p>Try </p>\n\n<pre><code>loadUrl(String url, Map&lt;String, String&gt; extraHeaders)\n</code></pre>\n\n<p>For adding headers to resources loading requests, make custom WebViewClient and override:</p>\n\n<pre><code>API 24+:\nWebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request)\nor\nWebResourceResponse shouldInterceptRequest(WebView view, String url)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":235903,"reputation":2285,"user_id":822837,"accept_rate":93,"display_name":"younes0"},"score":14,"creation_date":1391529456,"post_id":13636011,"comment_id":32556871,"body_markdown":"this doesn&#39;t answer the question","body":"this doesn&#39;t answer the question"},{"owner":{"account_id":6867226,"reputation":8143,"user_id":5279156,"display_name":"Vlad"},"score":0,"creation_date":1581663098,"post_id":13636011,"comment_id":106519213,"body_markdown":"this is not the same as authorization header","body":"this is not the same as authorization header"}],"tags":[],"owner":{"account_id":2095949,"reputation":19,"user_id":1864719,"display_name":"Satish"},"comment_count":2,"down_vote_count":26,"up_vote_count":7,"is_accepted":false,"score":-19,"last_activity_date":1354229657,"creation_date":1354228441,"answer_id":13636011,"question_id":7610790,"body_markdown":"Use this:\r\n\r\n    webView.getSettings().setUserAgentString(&quot;User-Agent&quot;);","title":"Add custom headers to WebView resource requests - android","body":"<p>Use this:</p>\n\n<pre><code>webView.getSettings().setUserAgentString(\"User-Agent\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1199651,"reputation":2334,"user_id":1479735,"accept_rate":82,"display_name":"Hirdesh Vishwdewa"},"score":5,"creation_date":1444051347,"post_id":21728069,"comment_id":53724137,"body_markdown":"Do you have any reference to what you say in your answer.. it will be helpful for others if you give implementation references with your answers.","body":"Do you have any reference to what you say in your answer.. it will be helpful for others if you give implementation references with your answers."}],"tags":[],"owner":{"account_id":2237255,"reputation":983,"user_id":1973263,"display_name":"R Earle Harris"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1403270176,"creation_date":1392208362,"answer_id":21728069,"question_id":7610790,"body_markdown":"You should be able to control all your headers by skipping loadUrl and writing your own loadPage using Java&#39;s HttpURLConnection. Then use the webview&#39;s loadData to display the response.\r\n\r\nThere is no access to the headers which Google provides. They are in a JNI call, deep in the WebView source.","title":"Add custom headers to WebView resource requests - android","body":"<p>You should be able to control all your headers by skipping loadUrl and writing your own loadPage using Java's HttpURLConnection. Then use the webview's loadData to display the response.</p>\n\n<p>There is no access to the headers which Google provides. They are in a JNI call, deep in the WebView source.</p>\n"},{"comments":[{"owner":{"account_id":3188595,"reputation":481,"user_id":2693506,"display_name":"leeroya"},"score":0,"creation_date":1454360167,"post_id":25795889,"comment_id":58000613,"body_markdown":"I will have to address this again as when it was written and posted it functioned with the Kit-Kat. I have not tried with Lolly Pop.","body":"I will have to address this again as when it was written and posted it functioned with the Kit-Kat. I have not tried with Lolly Pop."},{"owner":{"account_id":2319230,"reputation":365,"user_id":2035490,"accept_rate":91,"display_name":"Erik Verboom"},"score":0,"creation_date":1455028337,"post_id":25795889,"comment_id":58298899,"body_markdown":"Not working for me on Jelly bean or Marshmallow... doesn&#39;t change anything in the headers","body":"Not working for me on Jelly bean or Marshmallow... doesn&#39;t change anything in the headers"},{"owner":{"account_id":276099,"reputation":2391,"user_id":569346,"accept_rate":68,"display_name":"NinjaCoder"},"score":11,"creation_date":1503351143,"post_id":25795889,"comment_id":78569513,"body_markdown":"This doesn&#39;t do what OP is asking. He wants to add headers to all requests made by the webview. This adds custom header to first request only","body":"This doesn&#39;t do what OP is asking. He wants to add headers to all requests made by the webview. This adds custom header to first request only"},{"owner":{"account_id":110909,"reputation":45713,"user_id":293280,"accept_rate":77,"display_name":"Joshua Pinter"},"score":0,"creation_date":1551447307,"post_id":25795889,"comment_id":96654297,"body_markdown":"I know this doesn&#39;t answer what OP was looking for but this was exactly what I wanted, i.e. adding an extra header to a WebViewIntent URL. Thanks, regardless!","body":"I know this doesn&#39;t answer what OP was looking for but this was exactly what I wanted, i.e. adding an extra header to a WebViewIntent URL. Thanks, regardless!"}],"tags":[],"owner":{"account_id":3188595,"reputation":481,"user_id":2693506,"display_name":"leeroya"},"comment_count":4,"down_vote_count":9,"up_vote_count":32,"is_accepted":false,"score":23,"last_activity_date":1410465328,"creation_date":1410465328,"answer_id":25795889,"question_id":7610790,"body_markdown":"As mentioned before, you can do this:\r\n\r\n\r\n     WebView  host = (WebView)this.findViewById(R.id.webView);\r\n     String url = &quot;&lt;yoururladdress&gt;&quot;;\r\n     \r\n     Map &lt;String, String&gt; extraHeaders = new HashMap&lt;String, String&gt;();\r\n     extraHeaders.put(&quot;Authorization&quot;,&quot;Bearer&quot;); \r\n     host.loadUrl(url,extraHeaders);\r\n\r\nI tested this and on with a MVC Controller that I extended the Authorize Attribute to inspect the header and the header is there.  ","title":"Add custom headers to WebView resource requests - android","body":"<p>As mentioned before, you can do this:</p>\n\n<pre><code> WebView  host = (WebView)this.findViewById(R.id.webView);\n String url = \"&lt;yoururladdress&gt;\";\n\n Map &lt;String, String&gt; extraHeaders = new HashMap&lt;String, String&gt;();\n extraHeaders.put(\"Authorization\",\"Bearer\"); \n host.loadUrl(url,extraHeaders);\n</code></pre>\n\n<p>I tested this and on with a MVC Controller that I extended the Authorize Attribute to inspect the header and the header is there.  </p>\n"},{"comments":[{"owner":{"account_id":1338719,"reputation":315,"user_id":1280871,"display_name":"James Chen"},"score":2,"creation_date":1436844128,"post_id":29811280,"comment_id":50769765,"body_markdown":"Just in case someone encounters same situation I have while using this trick. (This is a good one anyway.) Here is a note for you.\n\nSince http content-type header, which can contain optional parameter such as charset, is not fully compatible to MIME type, the requirement of first parameter of WebResourceResponse constructor, so that we should extract the MIME type part from content-type by any mean you can think of, such as RegExp, to make it work for most cases.","body":"Just in case someone encounters same situation I have while using this trick. (This is a good one anyway.) Here is a note for you.  Since http content-type header, which can contain optional parameter such as charset, is not fully compatible to MIME type, the requirement of first parameter of WebResourceResponse constructor, so that we should extract the MIME type part from content-type by any mean you can think of, such as RegExp, to make it work for most cases."},{"owner":{"account_id":1199651,"reputation":2334,"user_id":1479735,"accept_rate":82,"display_name":"Hirdesh Vishwdewa"},"score":2,"creation_date":1444131152,"post_id":29811280,"comment_id":53762310,"body_markdown":"This event is deprecated.. use `public WebResourceResponse shouldInterceptRequest (WebView view, WebResourceRequest request)` instead find more [here](http://bit.ly/1KXFgAb)","body":"This event is deprecated.. use <code>public WebResourceResponse shouldInterceptRequest (WebView view, WebResourceRequest request)</code> instead find more <a href=\"http://bit.ly/1KXFgAb\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":245918,"reputation":27339,"user_id":519718,"accept_rate":92,"display_name":"AAnkit"},"score":0,"creation_date":1446249957,"post_id":29811280,"comment_id":54681361,"body_markdown":"Hey @HirdeshVishwdewa , could you able to achieve this?","body":"Hey @HirdeshVishwdewa , could you able to achieve this?"},{"owner":{"account_id":103388,"reputation":58275,"user_id":276949,"accept_rate":87,"display_name":"Martin Konecny"},"score":7,"creation_date":1446250007,"post_id":29811280,"comment_id":54681377,"body_markdown":"@HirdeshVishwdewa - look at the last sentence.","body":"@HirdeshVishwdewa - look at the last sentence."},{"owner":{"account_id":202891,"reputation":4599,"user_id":450222,"accept_rate":90,"display_name":"Erik  Reppen"},"score":2,"creation_date":1465584101,"post_id":29811280,"comment_id":62979776,"body_markdown":"You can skip doing your own load by returning the results of the superclass&#39;s shouldInterceptRequest method with your webview and modified request as parameters. This is particularly handy in scenarios where you&#39;re triggering based on the URL, aren&#39;t changing it on the reload and would run into  an infinite loop. Much thanks for the new request example though. Java ways of handling things are highly counterintuitive to me.","body":"You can skip doing your own load by returning the results of the superclass&#39;s shouldInterceptRequest method with your webview and modified request as parameters. This is particularly handy in scenarios where you&#39;re triggering based on the URL, aren&#39;t changing it on the reload and would run into  an infinite loop. Much thanks for the new request example though. Java ways of handling things are highly counterintuitive to me."},{"owner":{"account_id":2966674,"reputation":1811,"user_id":2519687,"accept_rate":83,"display_name":"Silviu St"},"score":0,"creation_date":1467888355,"post_id":29811280,"comment_id":63907878,"body_markdown":"For me it did not work without setting user agent in header :-s","body":"For me it did not work without setting user agent in header :-s"},{"owner":{"account_id":5106506,"reputation":496,"user_id":4094435,"display_name":"Tam&#225;s Kozm&#233;r"},"score":6,"creation_date":1481550808,"post_id":29811280,"comment_id":69408895,"body_markdown":"HttpClient can&#39;t be used with compileSdk 23 and above,","body":"HttpClient can&#39;t be used with compileSdk 23 and above,"},{"owner":{"account_id":164674,"reputation":5419,"user_id":387576,"accept_rate":63,"display_name":"Jeff Lockhart"},"score":2,"creation_date":1549384610,"post_id":29811280,"comment_id":95879306,"body_markdown":"Unfortunately calling `super.shouldInterceptRequest()` after adding headers to the request object does _not_ make the modified request as @ErikReppen described. It would be very nice if it did, but that&#39;s not the way the API works. The super call just returns null without making the request. Returning null tells the web client not to intercept the request and the request is made without the modified headers.","body":"Unfortunately calling <code>super.shouldInterceptRequest()</code> after adding headers to the request object does <i>not</i> make the modified request as @ErikReppen described. It would be very nice if it did, but that&#39;s not the way the API works. The super call just returns null without making the request. Returning null tells the web client not to intercept the request and the request is made without the modified headers."},{"owner":{"account_id":6383729,"reputation":5792,"user_id":5437621,"accept_rate":33,"display_name":"mrid"},"score":0,"creation_date":1602268536,"post_id":29811280,"comment_id":113677517,"body_markdown":"but this only works for get requests. what about post ?","body":"but this only works for get requests. what about post ?"}],"tags":[],"owner":{"account_id":103388,"reputation":58275,"user_id":276949,"accept_rate":87,"display_name":"Martin Konecny"},"comment_count":9,"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1450106813,"creation_date":1429747982,"answer_id":29811280,"question_id":7610790,"body_markdown":"You will need to intercept each request using [WebViewClient.shouldInterceptRequest][1]\r\n\r\nWith each interception, you will need to take the url, make this request yourself, and return the content stream:\r\n\r\n\r\n    WebViewClient wvc = new WebViewClient() {\r\n        @Override\r\n        public WebResourceResponse shouldInterceptRequest(WebView view, String url) {\r\n\r\n            try {\r\n                DefaultHttpClient client = new DefaultHttpClient();\r\n                HttpGet httpGet = new HttpGet(url);\r\n                httpGet.setHeader(&quot;MY-CUSTOM-HEADER&quot;, &quot;header value&quot;);\r\n                httpGet.setHeader(HttpHeaders.USER_AGENT, &quot;custom user-agent&quot;);\r\n                HttpResponse httpReponse = client.execute(httpGet);\r\n\r\n                Header contentType = httpReponse.getEntity().getContentType();\r\n                Header encoding = httpReponse.getEntity().getContentEncoding();\r\n                InputStream responseInputStream = httpReponse.getEntity().getContent();\r\n\r\n                String contentTypeValue = null;\r\n                String encodingValue = null;\r\n                if (contentType != null) {\r\n                    contentTypeValue = contentType.getValue();\r\n                }\r\n                if (encoding != null) {\r\n                    encodingValue = encoding.getValue();\r\n                }\r\n                return new WebResourceResponse(contentTypeValue, encodingValue, responseInputStream);\r\n            } catch (ClientProtocolException e) {\r\n                //return null to tell WebView we failed to fetch it WebView should try again.\r\n                return null;\r\n            } catch (IOException e) {\r\n                 //return null to tell WebView we failed to fetch it WebView should try again.\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\n    Webview wv = new WebView(this);\r\n    wv.setWebViewClient(wvc);\r\n\r\n**If your minimum API target is level 21**, you can use the new [shouldInterceptRequest][2] which gives you additional request information (such as headers) instead of just the URL.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/webkit/WebViewClient.html#shouldInterceptRequest(android.webkit.WebView,%20java.lang.String)\r\n  [2]: http://developer.android.com/reference/android/webkit/WebViewClient.html#shouldInterceptRequest(android.webkit.WebView,%20android.webkit.WebResourceRequest)","title":"Add custom headers to WebView resource requests - android","body":"<p>You will need to intercept each request using <a href=\"http://developer.android.com/reference/android/webkit/WebViewClient.html#shouldInterceptRequest(android.webkit.WebView,%20java.lang.String)\">WebViewClient.shouldInterceptRequest</a></p>\n\n<p>With each interception, you will need to take the url, make this request yourself, and return the content stream:</p>\n\n<pre><code>WebViewClient wvc = new WebViewClient() {\n    @Override\n    public WebResourceResponse shouldInterceptRequest(WebView view, String url) {\n\n        try {\n            DefaultHttpClient client = new DefaultHttpClient();\n            HttpGet httpGet = new HttpGet(url);\n            httpGet.setHeader(\"MY-CUSTOM-HEADER\", \"header value\");\n            httpGet.setHeader(HttpHeaders.USER_AGENT, \"custom user-agent\");\n            HttpResponse httpReponse = client.execute(httpGet);\n\n            Header contentType = httpReponse.getEntity().getContentType();\n            Header encoding = httpReponse.getEntity().getContentEncoding();\n            InputStream responseInputStream = httpReponse.getEntity().getContent();\n\n            String contentTypeValue = null;\n            String encodingValue = null;\n            if (contentType != null) {\n                contentTypeValue = contentType.getValue();\n            }\n            if (encoding != null) {\n                encodingValue = encoding.getValue();\n            }\n            return new WebResourceResponse(contentTypeValue, encodingValue, responseInputStream);\n        } catch (ClientProtocolException e) {\n            //return null to tell WebView we failed to fetch it WebView should try again.\n            return null;\n        } catch (IOException e) {\n             //return null to tell WebView we failed to fetch it WebView should try again.\n            return null;\n        }\n    }\n}\n\nWebview wv = new WebView(this);\nwv.setWebViewClient(wvc);\n</code></pre>\n\n<p><strong>If your minimum API target is level 21</strong>, you can use the new <a href=\"http://developer.android.com/reference/android/webkit/WebViewClient.html#shouldInterceptRequest(android.webkit.WebView,%20android.webkit.WebResourceRequest)\">shouldInterceptRequest</a> which gives you additional request information (such as headers) instead of just the URL.</p>\n"},{"comments":[{"owner":{"account_id":508815,"reputation":2213,"user_id":1372195,"accept_rate":83,"display_name":"Carlo Moretti"},"score":3,"creation_date":1453371068,"post_id":34355777,"comment_id":57575417,"body_markdown":"This just keeps reloading the url, doesn&#39;t it?","body":"This just keeps reloading the url, doesn&#39;t it?"},{"owner":{"account_id":1186511,"reputation":4312,"user_id":1160360,"accept_rate":74,"display_name":"Fran Marzoa"},"score":0,"creation_date":1695897088,"post_id":34355777,"comment_id":136086354,"body_markdown":"@CarloMoretti no, it doesn&#39;t. But it does not address OP question anyway.","body":"@CarloMoretti no, it doesn&#39;t. But it does not address OP question anyway."}],"tags":[],"owner":{"account_id":3095485,"reputation":701,"user_id":2620766,"display_name":"demir"},"comment_count":2,"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1450442689,"creation_date":1450441848,"answer_id":34355777,"question_id":7610790,"body_markdown":"You can use this: \r\n\r\n    @Override\r\n               \r\n     public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n    \r\n                    // Here put your code\r\n                    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n                    map.put(&quot;Content-Type&quot;,&quot;application/json&quot;);\r\n                    view.loadUrl(url, map);\r\n                    return false;\r\n    \r\n                }","title":"Add custom headers to WebView resource requests - android","body":"<p>You can use this: </p>\n\n<pre><code>@Override\n\n public boolean shouldOverrideUrlLoading(WebView view, String url) {\n\n                // Here put your code\n                Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n                map.put(\"Content-Type\",\"application/json\");\n                view.loadUrl(url, map);\n                return false;\n\n            }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":168381,"reputation":5234,"user_id":393809,"accept_rate":57,"display_name":"narancs"},"score":0,"creation_date":1496340207,"post_id":36681863,"comment_id":75634094,"body_markdown":"for me it works: .post(reqbody) where   RequestBody reqbody = RequestBody.create(null, &quot;&quot;);","body":"for me it works: .post(reqbody) where   RequestBody reqbody = RequestBody.create(null, &quot;&quot;);"}],"tags":[],"owner":{"account_id":8268605,"reputation":29,"user_id":6217150,"display_name":"Shekar"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1460925001,"creation_date":1460925001,"answer_id":36681863,"question_id":7610790,"body_markdown":"This worked for me. Create WebViewClient like this below and set the webclient to your webview. I had to use webview.loadDataWithBaseURL as my urls (in my content) did not have the baseurl but only relative urls. You will get the url correctly only when there is a baseurl set using loadDataWithBaseURL.\r\n\r\n    public WebViewClient getWebViewClientWithCustomHeader(){\r\n        return new WebViewClient() {\r\n            @Override\r\n            public WebResourceResponse shouldInterceptRequest(WebView view, String url) {\r\n                try {\r\n                    OkHttpClient httpClient = new OkHttpClient();\r\n                    com.squareup.okhttp.Request request = new com.squareup.okhttp.Request.Builder()\r\n                            .url(url.trim())\r\n                            .addHeader(&quot;&lt;your-custom-header-name&gt;&quot;, &quot;&lt;your-custom-header-value&gt;&quot;)\r\n                            .build();\r\n                    com.squareup.okhttp.Response response = httpClient.newCall(request).execute();\r\n\r\n                    return new WebResourceResponse(\r\n                            response.header(&quot;content-type&quot;, response.body().contentType().type()), // You can set something other as default content-type\r\n                            response.header(&quot;content-encoding&quot;, &quot;utf-8&quot;),  // Again, you can set another encoding as default\r\n                            response.body().byteStream()\r\n                    );\r\n                } catch (ClientProtocolException e) {\r\n                    //return null to tell WebView we failed to fetch it WebView should try again.\r\n                    return null;\r\n                } catch (IOException e) {\r\n                    //return null to tell WebView we failed to fetch it WebView should try again.\r\n                    return null;\r\n                }\r\n            }\r\n        };\r\n\r\n    }","title":"Add custom headers to WebView resource requests - android","body":"<p>This worked for me. Create WebViewClient like this below and set the webclient to your webview. I had to use webview.loadDataWithBaseURL as my urls (in my content) did not have the baseurl but only relative urls. You will get the url correctly only when there is a baseurl set using loadDataWithBaseURL.</p>\n\n<pre><code>public WebViewClient getWebViewClientWithCustomHeader(){\n    return new WebViewClient() {\n        @Override\n        public WebResourceResponse shouldInterceptRequest(WebView view, String url) {\n            try {\n                OkHttpClient httpClient = new OkHttpClient();\n                com.squareup.okhttp.Request request = new com.squareup.okhttp.Request.Builder()\n                        .url(url.trim())\n                        .addHeader(\"&lt;your-custom-header-name&gt;\", \"&lt;your-custom-header-value&gt;\")\n                        .build();\n                com.squareup.okhttp.Response response = httpClient.newCall(request).execute();\n\n                return new WebResourceResponse(\n                        response.header(\"content-type\", response.body().contentType().type()), // You can set something other as default content-type\n                        response.header(\"content-encoding\", \"utf-8\"),  // Again, you can set another encoding as default\n                        response.body().byteStream()\n                );\n            } catch (ClientProtocolException e) {\n                //return null to tell WebView we failed to fetch it WebView should try again.\n                return null;\n            } catch (IOException e) {\n                //return null to tell WebView we failed to fetch it WebView should try again.\n                return null;\n            }\n        }\n    };\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1089120,"reputation":2188,"user_id":1084165,"accept_rate":73,"display_name":"Ivo Renkema"},"score":1,"creation_date":1487366149,"post_id":41842452,"comment_id":71769949,"body_markdown":"Looks good, but does this *add* a header, or does this *replace* the headers?","body":"Looks good, but does this <i>add</i> a header, or does this <i>replace</i> the headers?"},{"owner":{"account_id":1797509,"reputation":2459,"user_id":1636610,"accept_rate":20,"display_name":"AbhinayMe"},"score":1,"creation_date":1590639682,"post_id":41842452,"comment_id":109756914,"body_markdown":"@IvoRenkema `loadUrl(String url, Map&lt;String, String&gt; additionalHttpHeaders)`\n\nmeans add additions headers","body":"@IvoRenkema <code>loadUrl(String url, Map&lt;String, String&gt; additionalHttpHeaders)</code>  means add additions headers"},{"owner":{"account_id":1186511,"reputation":4312,"user_id":1160360,"accept_rate":74,"display_name":"Fran Marzoa"},"score":0,"creation_date":1695805256,"post_id":41842452,"comment_id":136071981,"body_markdown":"Apparently this won&#39;t work for resources inside the page (for example, images), so this does not address the OP question.","body":"Apparently this won&#39;t work for resources inside the page (for example, images), so this does not address the OP question."}],"tags":[],"owner":{"account_id":6097611,"reputation":373,"user_id":4757934,"display_name":"eltray"},"comment_count":3,"down_vote_count":4,"up_vote_count":21,"is_accepted":false,"score":17,"last_activity_date":1485311899,"creation_date":1485311543,"answer_id":41842452,"question_id":7610790,"body_markdown":"This works for me:\r\n\r\n1. First you need to create method, which will be returns your\r\n    headers you want to add to request:\r\n\r\n        private Map&lt;String, String&gt; getCustomHeaders()\r\n        {\r\n            Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n            headers.put(&quot;YOURHEADER&quot;, &quot;VALUE&quot;);\r\n            return headers;\r\n        }\r\n\r\n2. Second you need to create WebViewClient:\r\n\r\n        private WebViewClient getWebViewClient()\r\n        {\r\n\r\n            return new WebViewClient()\r\n            {\r\n\r\n            @Override\r\n            @TargetApi(Build.VERSION_CODES.LOLLIPOP)\r\n            public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request)\r\n            {\r\n                view.loadUrl(request.getUrl().toString(), getCustomHeaders());\r\n                return true;\r\n            }\r\n\r\n            @Override\r\n            public boolean shouldOverrideUrlLoading(WebView view, String url)\r\n            {\r\n                view.loadUrl(url, getCustomHeaders());\r\n                return true;\r\n            }\r\n        };\r\n        }\r\n\r\n3. Add WebViewClient to your WebView:\r\n\r\n        webView.setWebViewClient(getWebViewClient());\r\n\r\nHope this helps.","title":"Add custom headers to WebView resource requests - android","body":"<p>This works for me:</p>\n\n<ol>\n<li><p>First you need to create method, which will be returns your\nheaders you want to add to request:</p>\n\n<pre><code>private Map&lt;String, String&gt; getCustomHeaders()\n{\n    Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n    headers.put(\"YOURHEADER\", \"VALUE\");\n    return headers;\n}\n</code></pre></li>\n<li><p>Second you need to create WebViewClient:</p>\n\n<pre><code>private WebViewClient getWebViewClient()\n{\n\n    return new WebViewClient()\n    {\n\n    @Override\n    @TargetApi(Build.VERSION_CODES.LOLLIPOP)\n    public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request)\n    {\n        view.loadUrl(request.getUrl().toString(), getCustomHeaders());\n        return true;\n    }\n\n    @Override\n    public boolean shouldOverrideUrlLoading(WebView view, String url)\n    {\n        view.loadUrl(url, getCustomHeaders());\n        return true;\n    }\n};\n}\n</code></pre></li>\n<li><p>Add WebViewClient to your WebView:</p>\n\n<pre><code>webView.setWebViewClient(getWebViewClient());\n</code></pre></li>\n</ol>\n\n<p>Hope this helps.</p>\n"},{"comments":[{"owner":{"account_id":5895914,"reputation":4514,"user_id":4641073,"accept_rate":55,"display_name":"Giacomo M"},"score":2,"creation_date":1570702344,"post_id":43319643,"comment_id":103000066,"body_markdown":"Sorry to answer to this old post, but with this code my app tries to download the file (and it fails) instead of loading the page.","body":"Sorry to answer to this old post, but with this code my app tries to download the file (and it fails) instead of loading the page."},{"owner":{"account_id":6383729,"reputation":5792,"user_id":5437621,"accept_rate":33,"display_name":"mrid"},"score":0,"creation_date":1602268391,"post_id":43319643,"comment_id":113677472,"body_markdown":"can this be used for post requests ?","body":"can this be used for post requests ?"}],"tags":[],"owner":{"account_id":9040754,"reputation":633,"user_id":6735110,"display_name":"Sergey Bondarenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1491817194,"creation_date":1491816893,"answer_id":43319643,"question_id":7610790,"body_markdown":"Maybe my response quite late, but it covers API **below** and **above** 21 level.\r\n\r\nTo add headers we should *intercept every request* and *create new one* with required headers.\r\n\r\nSo we need to override *shouldInterceptRequest* method called in both cases:\r\n1. for API until level 21; \r\n2. for API level 21+\r\n\r\n        webView.setWebViewClient(new WebViewClient() {\r\n    \r\n            // Handle API until level 21\r\n            @SuppressWarnings(&quot;deprecation&quot;)\r\n            @Override\r\n            public WebResourceResponse shouldInterceptRequest(WebView view, String url) {\r\n    \r\n                return getNewResponse(url);\r\n            }\r\n    \r\n            // Handle API 21+\r\n            @TargetApi(Build.VERSION_CODES.LOLLIPOP)\r\n            @Override\r\n            public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\r\n    \r\n                String url = request.getUrl().toString();\r\n    \r\n                return getNewResponse(url);\r\n            }\r\n    \r\n            private WebResourceResponse getNewResponse(String url) {\r\n    \r\n                try {\r\n                    OkHttpClient httpClient = new OkHttpClient();\r\n    \r\n                    Request request = new Request.Builder()\r\n                            .url(url.trim())\r\n                            .addHeader(&quot;Authorization&quot;, &quot;YOU_AUTH_KEY&quot;) // Example header\r\n                            .addHeader(&quot;api-key&quot;, &quot;YOUR_API_KEY&quot;) // Example header\r\n                            .build();\r\n    \r\n                    Response response = httpClient.newCall(request).execute();\r\n    \r\n                    return new WebResourceResponse(\r\n                            null,\r\n                            response.header(&quot;content-encoding&quot;, &quot;utf-8&quot;),\r\n                            response.body().byteStream()\r\n                    );\r\n    \r\n                } catch (Exception e) {\r\n                    return null;\r\n                }\r\n    \r\n            }\r\n       });\r\n\r\nIf response type should be processed you could change\r\n\r\n            return new WebResourceResponse(\r\n                    null, // &lt;- Change here\r\n                    response.header(&quot;content-encoding&quot;, &quot;utf-8&quot;),\r\n                    response.body().byteStream()\r\n            );\r\n\r\nto\r\n\r\n            return new WebResourceResponse(\r\n                    getMimeType(url), // &lt;- Change here\r\n                    response.header(&quot;content-encoding&quot;, &quot;utf-8&quot;),\r\n                    response.body().byteStream()\r\n            );\r\n\r\nand add method\r\n\r\n            private String getMimeType(String url) {\r\n                String type = null;\r\n                String extension = MimeTypeMap.getFileExtensionFromUrl(url);\r\n\r\n                if (extension != null) {\r\n                    \r\n                    switch (extension) {\r\n                        case &quot;js&quot;:\r\n                            return &quot;text/javascript&quot;;\r\n                        case &quot;woff&quot;:\r\n                            return &quot;application/font-woff&quot;;\r\n                        case &quot;woff2&quot;:\r\n                            return &quot;application/font-woff2&quot;;\r\n                        case &quot;ttf&quot;:\r\n                            return &quot;application/x-font-ttf&quot;;\r\n                        case &quot;eot&quot;:\r\n                            return &quot;application/vnd.ms-fontobject&quot;;\r\n                        case &quot;svg&quot;:\r\n                            return &quot;image/svg+xml&quot;;\r\n                    }\r\n                    \r\n                    type = MimeTypeMap.getSingleton().getMimeTypeFromExtension(extension);\r\n                }\r\n                \r\n                return type;\r\n            }","title":"Add custom headers to WebView resource requests - android","body":"<p>Maybe my response quite late, but it covers API <strong>below</strong> and <strong>above</strong> 21 level.</p>\n\n<p>To add headers we should <em>intercept every request</em> and <em>create new one</em> with required headers.</p>\n\n<p>So we need to override <em>shouldInterceptRequest</em> method called in both cases:\n1. for API until level 21; \n2. for API level 21+</p>\n\n<pre><code>    webView.setWebViewClient(new WebViewClient() {\n\n        // Handle API until level 21\n        @SuppressWarnings(\"deprecation\")\n        @Override\n        public WebResourceResponse shouldInterceptRequest(WebView view, String url) {\n\n            return getNewResponse(url);\n        }\n\n        // Handle API 21+\n        @TargetApi(Build.VERSION_CODES.LOLLIPOP)\n        @Override\n        public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\n\n            String url = request.getUrl().toString();\n\n            return getNewResponse(url);\n        }\n\n        private WebResourceResponse getNewResponse(String url) {\n\n            try {\n                OkHttpClient httpClient = new OkHttpClient();\n\n                Request request = new Request.Builder()\n                        .url(url.trim())\n                        .addHeader(\"Authorization\", \"YOU_AUTH_KEY\") // Example header\n                        .addHeader(\"api-key\", \"YOUR_API_KEY\") // Example header\n                        .build();\n\n                Response response = httpClient.newCall(request).execute();\n\n                return new WebResourceResponse(\n                        null,\n                        response.header(\"content-encoding\", \"utf-8\"),\n                        response.body().byteStream()\n                );\n\n            } catch (Exception e) {\n                return null;\n            }\n\n        }\n   });\n</code></pre>\n\n<p>If response type should be processed you could change</p>\n\n<pre><code>        return new WebResourceResponse(\n                null, // &lt;- Change here\n                response.header(\"content-encoding\", \"utf-8\"),\n                response.body().byteStream()\n        );\n</code></pre>\n\n<p>to</p>\n\n<pre><code>        return new WebResourceResponse(\n                getMimeType(url), // &lt;- Change here\n                response.header(\"content-encoding\", \"utf-8\"),\n                response.body().byteStream()\n        );\n</code></pre>\n\n<p>and add method</p>\n\n<pre><code>        private String getMimeType(String url) {\n            String type = null;\n            String extension = MimeTypeMap.getFileExtensionFromUrl(url);\n\n            if (extension != null) {\n\n                switch (extension) {\n                    case \"js\":\n                        return \"text/javascript\";\n                    case \"woff\":\n                        return \"application/font-woff\";\n                    case \"woff2\":\n                        return \"application/font-woff2\";\n                    case \"ttf\":\n                        return \"application/x-font-ttf\";\n                    case \"eot\":\n                        return \"application/vnd.ms-fontobject\";\n                    case \"svg\":\n                        return \"image/svg+xml\";\n                }\n\n                type = MimeTypeMap.getSingleton().getMimeTypeFromExtension(extension);\n            }\n\n            return type;\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2041749,"reputation":722,"user_id":1822723,"accept_rate":50,"display_name":"willcwf"},"score":0,"creation_date":1541554074,"post_id":48832446,"comment_id":93255059,"body_markdown":"Calling view.loadUrl from this method seems to crash the app","body":"Calling view.loadUrl from this method seems to crash the app"},{"owner":{"account_id":225211,"reputation":4884,"user_id":485568,"accept_rate":42,"display_name":"Francesco"},"score":0,"creation_date":1541587095,"post_id":48832446,"comment_id":93264809,"body_markdown":"@willcwf do you have an example of this crashing?","body":"@willcwf do you have an example of this crashing?"},{"owner":{"account_id":5895914,"reputation":4514,"user_id":4641073,"accept_rate":55,"display_name":"Giacomo M"},"score":0,"creation_date":1570702903,"post_id":48832446,"comment_id":103000384,"body_markdown":"@Francesco my app also crashes","body":"@Francesco my app also crashes"},{"owner":{"account_id":225211,"reputation":4884,"user_id":485568,"accept_rate":42,"display_name":"Francesco"},"score":1,"creation_date":1588690992,"post_id":48832446,"comment_id":108992379,"body_markdown":"Too all is downvoting this, saying that it crash is not helping. Please be more specific, write some error information.","body":"Too all is downvoting this, saying that it crash is not helping. Please be more specific, write some error information."}],"tags":[],"owner":{"account_id":225211,"reputation":4884,"user_id":485568,"accept_rate":42,"display_name":"Francesco"},"comment_count":4,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1519038274,"creation_date":1518803893,"answer_id":48832446,"question_id":7610790,"body_markdown":"I came accross the same problem and solved.\r\n\r\nAs said before you need to create your custom WebViewClient and override the shouldInterceptRequest method. \r\n\r\n    WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request)\r\n\r\nThat method should issue a webView.loadUrl while returning an &quot;empty&quot; WebResourceResponse.\r\n\t\r\nSomething like this:\r\n\r\n    @Override\r\n    public boolean shouldInterceptRequest(WebView view, WebResourceRequest request) {\r\n    \t\r\n    \t// Check for &quot;recursive request&quot; (are yor header set?)\r\n    \tif (request.getRequestHeaders().containsKey(&quot;Your Header&quot;))\r\n    \t\treturn null;\r\n    \t\t\r\n    \t// Add here your headers (could be good to import original request header here!!!)\r\n    \tMap&lt;String, String&gt; customHeaders = new HashMap&lt;String, String&gt;();\r\n    \tcustomHeaders.put(&quot;Your Header&quot;,&quot;Your Header Value&quot;);\r\n    \tview.loadUrl(url, customHeaders);\r\n    \t\r\n    \treturn new WebResourceResponse(&quot;&quot;, &quot;&quot;, null);\r\n    }\r\n\r\n","title":"Add custom headers to WebView resource requests - android","body":"<p>I came accross the same problem and solved.</p>\n\n<p>As said before you need to create your custom WebViewClient and override the shouldInterceptRequest method. </p>\n\n<pre><code>WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request)\n</code></pre>\n\n<p>That method should issue a webView.loadUrl while returning an \"empty\" WebResourceResponse.</p>\n\n<p>Something like this:</p>\n\n<pre><code>@Override\npublic boolean shouldInterceptRequest(WebView view, WebResourceRequest request) {\n\n    // Check for \"recursive request\" (are yor header set?)\n    if (request.getRequestHeaders().containsKey(\"Your Header\"))\n        return null;\n\n    // Add here your headers (could be good to import original request header here!!!)\n    Map&lt;String, String&gt; customHeaders = new HashMap&lt;String, String&gt;();\n    customHeaders.put(\"Your Header\",\"Your Header Value\");\n    view.loadUrl(url, customHeaders);\n\n    return new WebResourceResponse(\"\", \"\", null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":195068,"reputation":3936,"user_id":2380518,"display_name":"Miloš Černilovsk&#253;"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1539768259,"creation_date":1539698688,"answer_id":52837372,"question_id":7610790,"body_markdown":"Here is an implementation using HttpUrlConnection:\r\n\r\n    class CustomWebviewClient : WebViewClient() {\r\n        private val charsetPattern = Pattern.compile(&quot;.*?charset=(.*?)(;.*)?$&quot;)\r\n        \r\n        override fun shouldInterceptRequest(view: WebView, request: WebResourceRequest): WebResourceResponse? {\r\n            try {\r\n                val connection: HttpURLConnection = URL(request.url.toString()).openConnection() as HttpURLConnection\r\n                connection.requestMethod = request.method\r\n                for ((key, value) in request.requestHeaders) {\r\n                    connection.addRequestProperty(key, value)\r\n                }\r\n                \r\n                connection.addRequestProperty(&quot;custom header key&quot;, &quot;custom header value&quot;)\r\n                \r\n                var contentType: String? = connection.contentType\r\n                var charset: String? = null\r\n                if (contentType != null) {\r\n                    // some content types may include charset =&gt; strip; e. g. &quot;application/json; charset=utf-8&quot;\r\n                    val contentTypeTokenizer = StringTokenizer(contentType, &quot;;&quot;)\r\n                    val tokenizedContentType = contentTypeTokenizer.nextToken()\r\n    \r\n                    var capturedCharset: String? = connection.contentEncoding\r\n                    if (capturedCharset == null) {\r\n                        val charsetMatcher = charsetPattern.matcher(contentType)\r\n                        if (charsetMatcher.find() &amp;&amp; charsetMatcher.groupCount() &gt; 0) {\r\n                            capturedCharset = charsetMatcher.group(1)\r\n                        }\r\n                    }\r\n                    if (capturedCharset != null &amp;&amp; !capturedCharset.isEmpty()) {\r\n                        charset = capturedCharset\r\n                    }\r\n    \r\n                    contentType = tokenizedContentType\r\n                }\r\n    \r\n                val status = connection.responseCode\r\n                var inputStream = if (status == HttpURLConnection.HTTP_OK) {\r\n                    connection.inputStream\r\n                } else {\r\n                    // error stream can sometimes be null even if status is different from HTTP_OK\r\n                    // (e. g. in case of 404)\r\n                    connection.errorStream ?: connection.inputStream\r\n                }\r\n                val headers = connection.headerFields\r\n                val contentEncodings = headers.get(&quot;Content-Encoding&quot;)\r\n                if (contentEncodings != null) {\r\n                    for (header in contentEncodings) {\r\n                        if (header.equals(&quot;gzip&quot;, true)) {\r\n                            inputStream = GZIPInputStream(inputStream)\r\n                            break\r\n                        }\r\n                    }\r\n                }\r\n                return WebResourceResponse(contentType, charset, status, connection.responseMessage, convertConnectionResponseToSingleValueMap(connection.headerFields), inputStream)\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n            }\r\n            return super.shouldInterceptRequest(view, request)\r\n        }\r\n    \r\n        private fun convertConnectionResponseToSingleValueMap(headerFields: Map&lt;String, List&lt;String&gt;&gt;): Map&lt;String, String&gt; {\r\n            val headers = HashMap&lt;String, String&gt;()\r\n            for ((key, value) in headerFields) {\r\n                when {\r\n                    value.size == 1 -&gt; headers[key] = value[0]\r\n                    value.isEmpty() -&gt; headers[key] = &quot;&quot;\r\n                    else -&gt; {\r\n                        val builder = StringBuilder(value[0])\r\n                        val separator = &quot;; &quot;\r\n                        for (i in 1 until value.size) {\r\n                            builder.append(separator)\r\n                            builder.append(value[i])\r\n                        }\r\n                        headers[key] = builder.toString()\r\n                    }\r\n                }\r\n            }\r\n            return headers\r\n        }\r\n    }\r\n\r\nNote that this does not work for POST requests because WebResourceRequest doesn&#39;t provide POST data. There is a [Request Data - WebViewClient library][1] which uses a JavaScript injection workaround for intercepting POST data.\r\n\r\n\r\n  [1]: https://github.com/KonstantinSchubert/request_data_webviewclient","title":"Add custom headers to WebView resource requests - android","body":"<p>Here is an implementation using HttpUrlConnection:</p>\n\n<pre><code>class CustomWebviewClient : WebViewClient() {\n    private val charsetPattern = Pattern.compile(\".*?charset=(.*?)(;.*)?$\")\n\n    override fun shouldInterceptRequest(view: WebView, request: WebResourceRequest): WebResourceResponse? {\n        try {\n            val connection: HttpURLConnection = URL(request.url.toString()).openConnection() as HttpURLConnection\n            connection.requestMethod = request.method\n            for ((key, value) in request.requestHeaders) {\n                connection.addRequestProperty(key, value)\n            }\n\n            connection.addRequestProperty(\"custom header key\", \"custom header value\")\n\n            var contentType: String? = connection.contentType\n            var charset: String? = null\n            if (contentType != null) {\n                // some content types may include charset =&gt; strip; e. g. \"application/json; charset=utf-8\"\n                val contentTypeTokenizer = StringTokenizer(contentType, \";\")\n                val tokenizedContentType = contentTypeTokenizer.nextToken()\n\n                var capturedCharset: String? = connection.contentEncoding\n                if (capturedCharset == null) {\n                    val charsetMatcher = charsetPattern.matcher(contentType)\n                    if (charsetMatcher.find() &amp;&amp; charsetMatcher.groupCount() &gt; 0) {\n                        capturedCharset = charsetMatcher.group(1)\n                    }\n                }\n                if (capturedCharset != null &amp;&amp; !capturedCharset.isEmpty()) {\n                    charset = capturedCharset\n                }\n\n                contentType = tokenizedContentType\n            }\n\n            val status = connection.responseCode\n            var inputStream = if (status == HttpURLConnection.HTTP_OK) {\n                connection.inputStream\n            } else {\n                // error stream can sometimes be null even if status is different from HTTP_OK\n                // (e. g. in case of 404)\n                connection.errorStream ?: connection.inputStream\n            }\n            val headers = connection.headerFields\n            val contentEncodings = headers.get(\"Content-Encoding\")\n            if (contentEncodings != null) {\n                for (header in contentEncodings) {\n                    if (header.equals(\"gzip\", true)) {\n                        inputStream = GZIPInputStream(inputStream)\n                        break\n                    }\n                }\n            }\n            return WebResourceResponse(contentType, charset, status, connection.responseMessage, convertConnectionResponseToSingleValueMap(connection.headerFields), inputStream)\n        } catch (e: Exception) {\n            e.printStackTrace()\n        }\n        return super.shouldInterceptRequest(view, request)\n    }\n\n    private fun convertConnectionResponseToSingleValueMap(headerFields: Map&lt;String, List&lt;String&gt;&gt;): Map&lt;String, String&gt; {\n        val headers = HashMap&lt;String, String&gt;()\n        for ((key, value) in headerFields) {\n            when {\n                value.size == 1 -&gt; headers[key] = value[0]\n                value.isEmpty() -&gt; headers[key] = \"\"\n                else -&gt; {\n                    val builder = StringBuilder(value[0])\n                    val separator = \"; \"\n                    for (i in 1 until value.size) {\n                        builder.append(separator)\n                        builder.append(value[i])\n                    }\n                    headers[key] = builder.toString()\n                }\n            }\n        }\n        return headers\n    }\n}\n</code></pre>\n\n<p>Note that this does not work for POST requests because WebResourceRequest doesn't provide POST data. There is a <a href=\"https://github.com/KonstantinSchubert/request_data_webviewclient\" rel=\"nofollow noreferrer\">Request Data - WebViewClient library</a> which uses a JavaScript injection workaround for intercepting POST data.</p>\n"},{"tags":[],"owner":{"account_id":2342098,"reputation":196,"user_id":2053153,"display_name":"user2053153"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678247827,"creation_date":1678247827,"answer_id":75669333,"question_id":7610790,"body_markdown":"`shouldInterceptRequest` could not intercept `request.body`.\r\nI recommend you reset userAgent before `werview.loadUrl`.\r\n\r\nlike:\r\n`webview.settings.userAgentString += &quot; key1/value1 key2/value2&quot;`","title":"Add custom headers to WebView resource requests - android","body":"<p><code>shouldInterceptRequest</code> could not intercept <code>request.body</code>.\nI recommend you reset userAgent before <code>werview.loadUrl</code>.</p>\n<p>like:\n<code>webview.settings.userAgentString += &quot; key1/value1 key2/value2&quot;</code></p>\n"},{"tags":[],"owner":{"account_id":3029738,"reputation":103,"user_id":2569014,"display_name":"Ridje"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698678901,"creation_date":1698678901,"answer_id":77389832,"question_id":7610790,"body_markdown":"You can try my solution for the issue, and while I acknowledge that it may not be universally applicable, it has proven effective in meeting my specific requirements, particularly when dealing with a significant number of JavaScript fetch calls that do not trigger WebViewClient callbacks.\r\n\r\n# Long story short:\r\nTo add custom headers into every WebView HTTP request, you can inject java script code that overrides **window.fetch** behavior in your own **WebViewClient**. \r\n\r\n# The following is a detailed implementation\r\n\r\n\r\n### 1. Create your custom WebViewClient\r\n``` kotlin \r\nclass CustomHeaderWebViewClient(headerValue: String) : WebViewClient() { }\r\n```\r\nIn this custom WebViewClient, you can pass the headerValue that you want to inject into HTTP headers.\r\n\r\n### 2. Define JS-injection code\r\n\r\nCreate a property that stores your JavaScript injection code. This code will modify the window.fetch method to include the custom header:\r\n``` kotlin \r\nprivate val authHeaderInjection = &quot;&quot;&quot;\r\n            (function() {\r\n                const originalFetch = window.fetch;\r\n                window.fetch = function(input, init) {\r\n                    init = init || {};\r\n                    init.headers = init.headers || {};\r\n                    init.headers[&#39;My-Header&#39;] = &#39;$headerValue&#39;;\r\n                    return originalFetch.apply(this, arguments);\r\n                };\r\n            })();\r\n        &quot;&quot;&quot;.trimIndent()\r\n```\r\n### 3. Override onPageStarted Method\r\n\r\nYou need to override the onPageStarted method to execute the JavaScript injection on each navigation:\r\n``` kotlin\r\noverride fun onPageStarted(view: WebView?, url: String?, favicon: Bitmap?) {\r\n    view?.evaluateJavascript(authHeaderInjection) { Timber.d(it) }\r\n    super.onPageStarted(view, url, favicon)\r\n}\r\n```\r\n**Note**: Depending on the implementation of the WebView&#39;s content, you can choose different callbacks.\r\n\r\n### 4. Finally, don&#39;t forget to set your custom WebViewClient for your WebView.\r\n\r\n**Note**: Please note that you may still need to manually add other custom headers when using `webview.loadUrl(url, yourHeaders)` as per your requirements.\r\n\r\n### Final code:\r\n``` kotlin\r\nimport android.graphics.Bitmap\r\nimport android.webkit.WebView\r\nimport android.webkit.WebViewClient\r\nimport timber.log.Timber\r\n\r\nclass CustomHeaderWebViewClient(headerValue: String) : WebViewClient() {\r\n    private val authHeaderInjection = &quot;&quot;&quot;\r\n            (function() {\r\n                const originalFetch = window.fetch;\r\n                window.fetch = function(input, init) {\r\n                    init = init || {};\r\n                    init.headers = init.headers || {};\r\n                    init.headers[&#39;My-Header&#39;] = &#39;${headerValue}&#39;;\r\n                    return originalFetch.apply(this, arguments);\r\n                };\r\n            })();\r\n        &quot;&quot;&quot;.trimIndent()\r\n\r\n    override fun onPageStarted(view: WebView?, url: String?, favicon: Bitmap?) {\r\n        view?.evaluateJavascript(authHeaderInjection) { Timber.d(it) }\r\n        super.onPageStarted(view, url, favicon)\r\n    }\r\n}\r\n```","title":"Add custom headers to WebView resource requests - android","body":"<p>You can try my solution for the issue, and while I acknowledge that it may not be universally applicable, it has proven effective in meeting my specific requirements, particularly when dealing with a significant number of JavaScript fetch calls that do not trigger WebViewClient callbacks.</p>\n<h1>Long story short:</h1>\n<p>To add custom headers into every WebView HTTP request, you can inject java script code that overrides <strong>window.fetch</strong> behavior in your own <strong>WebViewClient</strong>.</p>\n<h1>The following is a detailed implementation</h1>\n<h3>1. Create your custom WebViewClient</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class CustomHeaderWebViewClient(headerValue: String) : WebViewClient() { }\n</code></pre>\n<p>In this custom WebViewClient, you can pass the headerValue that you want to inject into HTTP headers.</p>\n<h3>2. Define JS-injection code</h3>\n<p>Create a property that stores your JavaScript injection code. This code will modify the window.fetch method to include the custom header:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private val authHeaderInjection = &quot;&quot;&quot;\n            (function() {\n                const originalFetch = window.fetch;\n                window.fetch = function(input, init) {\n                    init = init || {};\n                    init.headers = init.headers || {};\n                    init.headers['My-Header'] = '$headerValue';\n                    return originalFetch.apply(this, arguments);\n                };\n            })();\n        &quot;&quot;&quot;.trimIndent()\n</code></pre>\n<h3>3. Override onPageStarted Method</h3>\n<p>You need to override the onPageStarted method to execute the JavaScript injection on each navigation:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun onPageStarted(view: WebView?, url: String?, favicon: Bitmap?) {\n    view?.evaluateJavascript(authHeaderInjection) { Timber.d(it) }\n    super.onPageStarted(view, url, favicon)\n}\n</code></pre>\n<p><strong>Note</strong>: Depending on the implementation of the WebView's content, you can choose different callbacks.</p>\n<h3>4. Finally, don't forget to set your custom WebViewClient for your WebView.</h3>\n<p><strong>Note</strong>: Please note that you may still need to manually add other custom headers when using <code>webview.loadUrl(url, yourHeaders)</code> as per your requirements.</p>\n<h3>Final code:</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import android.graphics.Bitmap\nimport android.webkit.WebView\nimport android.webkit.WebViewClient\nimport timber.log.Timber\n\nclass CustomHeaderWebViewClient(headerValue: String) : WebViewClient() {\n    private val authHeaderInjection = &quot;&quot;&quot;\n            (function() {\n                const originalFetch = window.fetch;\n                window.fetch = function(input, init) {\n                    init = init || {};\n                    init.headers = init.headers || {};\n                    init.headers['My-Header'] = '${headerValue}';\n                    return originalFetch.apply(this, arguments);\n                };\n            })();\n        &quot;&quot;&quot;.trimIndent()\n\n    override fun onPageStarted(view: WebView?, url: String?, favicon: Bitmap?) {\n        view?.evaluateJavascript(authHeaderInjection) { Timber.d(it) }\n        super.onPageStarted(view, url, favicon)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":465380,"reputation":1433,"user_id":869415,"display_name":"Ray"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175535,"favorite_count":0,"down_vote_count":0,"up_vote_count":129,"answer_count":13,"score":129,"last_activity_date":1698678901,"creation_date":1317387960,"question_id":7610790,"body_markdown":"I need to add custom headers to EVERY request coming from the WebView.  I know `loadURL` has the parameter for `extraHeaders`, but those are only applied to the initial request.  All subsequent requests do not contain the headers.  I have looked at all overrides in `WebViewClient`, but nothing allows for adding headers to resource requests - `onLoadResource(WebView view, String url)`.   Any help would be wonderful.\r\n\r\nThanks,\r\nRay  ","title":"Add custom headers to WebView resource requests - android","body":"<p>I need to add custom headers to EVERY request coming from the WebView.  I know <code>loadURL</code> has the parameter for <code>extraHeaders</code>, but those are only applied to the initial request.  All subsequent requests do not contain the headers.  I have looked at all overrides in <code>WebViewClient</code>, but nothing allows for adding headers to resource requests - <code>onLoadResource(WebView view, String url)</code>.   Any help would be wonderful.</p>\n\n<p>Thanks,\nRay  </p>\n"},{"tags":["java","object","static"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1691312043,"post_id":76845080,"comment_id":135472464,"body_markdown":"It sounds as though you may be running three different programs. Changes to static (or any other) variables are not persisted between invocations of the JVM. Please update your question with the sequence of commands you run and the output they produce.","body":"It sounds as though you may be running three different programs. Changes to static (or any other) variables are not persisted between invocations of the JVM. Please update your question with the sequence of commands you run and the output they produce."},{"owner":{"account_id":29169938,"reputation":13,"user_id":22346558,"display_name":"Gunjan"},"score":0,"creation_date":1691314113,"post_id":76845080,"comment_id":135472605,"body_markdown":"yes i was running the classes individually because i couldn&#39;t find the option in eclipse to run all of them together. But now I created a static method in other two classes to print value of static variable and accessed that method in Dairy class. I got the desired out. thanks.  But still if you can tell me how to run these classes as single project in Eclipse..","body":"yes i was running the classes individually because i couldn&#39;t find the option in eclipse to run all of them together. But now I created a static method in other two classes to print value of static variable and accessed that method in Dairy class. I got the desired out. thanks.  But still if you can tell me how to run these classes as single project in Eclipse.."}],"answers":[{"comments":[{"owner":{"account_id":29169938,"reputation":13,"user_id":22346558,"display_name":"Gunjan"},"score":0,"creation_date":1691317374,"post_id":76845276,"comment_id":135472838,"body_markdown":"got it now. Informative article  thanks for sharing","body":"got it now. Informative article  thanks for sharing"},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1691426259,"post_id":76845276,"comment_id":135486917,"body_markdown":"@Gunjan Do you have any questions? Can you accept my answer?","body":"@Gunjan Do you have any questions? Can you accept my answer?"}],"tags":[],"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691315031,"creation_date":1691315031,"answer_id":76845276,"question_id":76845080,"body_markdown":"Actually you have 3 endpoints in your program that cannot execute together. In fact, these are 3 separate programs. If you want to change `Dairy.brandname` you can try something like this:\r\n\r\n    package drinks;\r\n\r\n    public class Dairy {\r\n        public static String brandname = &quot;  oompaa..lumpaa..Drinks&quot;;\r\n    }\r\n\r\n    public class Chocolateee {\r\n        public static void changeDairyBrandname() {\r\n            Dairy.brandname = &quot;..Yum Drinks&quot;;\r\n        }    \r\n    }\r\n\r\n    public class UnderstandStaticKeyword {\r\n\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;The brand name now is &quot; + Dairy.brandname);\r\n            Chocolateee.changeDairyBrandname()\r\n            System.out.println(&quot;The brand name now is &quot; + Dairy.brandname);\r\n        }\r\n    }\r\n\r\nTo understand better, you can read [this article][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-static","title":"Static variable Java","body":"<p>Actually you have 3 endpoints in your program that cannot execute together. In fact, these are 3 separate programs. If you want to change <code>Dairy.brandname</code> you can try something like this:</p>\n<pre><code>package drinks;\n\npublic class Dairy {\n    public static String brandname = &quot;  oompaa..lumpaa..Drinks&quot;;\n}\n\npublic class Chocolateee {\n    public static void changeDairyBrandname() {\n        Dairy.brandname = &quot;..Yum Drinks&quot;;\n    }    \n}\n\npublic class UnderstandStaticKeyword {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;The brand name now is &quot; + Dairy.brandname);\n        Chocolateee.changeDairyBrandname()\n        System.out.println(&quot;The brand name now is &quot; + Dairy.brandname);\n    }\n}\n</code></pre>\n<p>To understand better, you can read <a href=\"https://www.baeldung.com/java-static\" rel=\"nofollow noreferrer\">this article</a></p>\n"}],"owner":{"account_id":29169938,"reputation":13,"user_id":22346558,"display_name":"Gunjan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76845276,"answer_count":1,"score":0,"last_activity_date":1698678890,"creation_date":1691311865,"question_id":76845080,"body_markdown":"    package drinks;\r\n    public class Dairy {\r\n\t  public static Dairy dairyclssobj = null;\r\n\t  private Dairy(){}\r\n\r\n\tpublic static Dairy getDairy() {\r\n\t\tif (dairyclssobj==null) {\r\n\t\t\t dairyclssobj = new Dairy();\r\n\t\t\t return dairyclssobj;\r\n\t\t}\r\n\t\treturn dairyclssobj;\t\r\n\t}\r\n\r\n\tstatic String brandname = &quot;  oompaa..lumpaa..Drinks&quot;;\r\n\r\n    public static void main(String[] args) {\r\n\r\n\t    System.out.println(brandname);\r\n\t}\r\n    }\r\n    class Chocolateee {\r\n\t  public static void main(String[] args) {\r\n\t\t\r\n     \t Dairy.brandname = &quot;..Yum Drinks&quot;;\r\n\t     System.out.println(&quot;The brand name now is &quot; + Dairy.brandname);\r\n\t   }\t\r\n    }\r\n    class Chocolate1  {\r\n\t  static String bnameString = Dairy.brandname;\r\n\t  public static void main(String[] args) {\r\n\t     System.out.println(&quot;The brand name now is &quot; + bnameString);\r\n\t  }\r\n    }\r\n\r\nI am new to Java, trying to understand the `static` keyword.\r\n\r\nThis is in the project I created in Eclipse. Package is dairy and the\r\nproblem is that the static string brandname value in Dairy class is not changing for Chocolate1 class even when I changed it in the Chocolateee class. It was supposed to be &quot;Yum Drinks&quot; but still the output is &quot;oompaa.lumpaa.Drinks&quot;. Even when I made the whole class into a singleton it still produces the same output.\r\n\r\n  Sequence of execution: First I executed Dairy, 2nd Chocolateee, and 3rd Chocolate1.\r\n\r\n  Output is for Dairy &quot;oompaa.lumpaa.Drinks&quot;, for Chocolatee &quot;Yum Drinks&quot; and for Chocolate1 &quot;oompaa.lumpaa.Drinks&quot;.\r\n\r\nAm I running the classes in wrong way? Isn&#39;t a static variable shared between objects and valued is changed for all if one class changes it... Why am I getting this output?","title":"Static variable Java","body":"<pre><code>package drinks;\npublic class Dairy {\n  public static Dairy dairyclssobj = null;\n  private Dairy(){}\n\npublic static Dairy getDairy() {\n    if (dairyclssobj==null) {\n         dairyclssobj = new Dairy();\n         return dairyclssobj;\n    }\n    return dairyclssobj;    \n}\n\nstatic String brandname = &quot;  oompaa..lumpaa..Drinks&quot;;\n\npublic static void main(String[] args) {\n\n    System.out.println(brandname);\n}\n}\nclass Chocolateee {\n  public static void main(String[] args) {\n    \n     Dairy.brandname = &quot;..Yum Drinks&quot;;\n     System.out.println(&quot;The brand name now is &quot; + Dairy.brandname);\n   }    \n}\nclass Chocolate1  {\n  static String bnameString = Dairy.brandname;\n  public static void main(String[] args) {\n     System.out.println(&quot;The brand name now is &quot; + bnameString);\n  }\n}\n</code></pre>\n<p>I am new to Java, trying to understand the <code>static</code> keyword.</p>\n<p>This is in the project I created in Eclipse. Package is dairy and the\nproblem is that the static string brandname value in Dairy class is not changing for Chocolate1 class even when I changed it in the Chocolateee class. It was supposed to be &quot;Yum Drinks&quot; but still the output is &quot;oompaa.lumpaa.Drinks&quot;. Even when I made the whole class into a singleton it still produces the same output.</p>\n<p>Sequence of execution: First I executed Dairy, 2nd Chocolateee, and 3rd Chocolate1.</p>\n<p>Output is for Dairy &quot;oompaa.lumpaa.Drinks&quot;, for Chocolatee &quot;Yum Drinks&quot; and for Chocolate1 &quot;oompaa.lumpaa.Drinks&quot;.</p>\n<p>Am I running the classes in wrong way? Isn't a static variable shared between objects and valued is changed for all if one class changes it... Why am I getting this output?</p>\n"},{"tags":["java","java-io","ioexception","javax.imageio"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641754326,"creation_date":1641753962,"answer_id":70644403,"question_id":70644296,"body_markdown":"It looks like your `render()` method may be running when closing the app. As your resources aren&#39;t changing between `render()` calls, move this block to the start of the `Main()` constructor so that `img[]` is set up once, and throws an exception if resources are not found:\r\n\r\n    try {\r\n        img[0] = ImageIO.read(getClass().getResource(&quot;/rsc/urBoard.png&quot;));\r\n        img[1] = ImageIO.read(getClass().getResource(&quot;/rsc/urBackground.jpg&quot;));\r\n    } catch (IOException e) {\r\n        throw new RuntimeException(&quot;Could not find resources&quot;);\r\n    }\r\n\r\nThe field `running` is used in different threads so it should be marked `volatile` in order that each thread reads consistent values:\r\n\r\n    public volatile boolean running; \r\n","title":"Getting java.io.IOException: closed whenever I close my program","body":"<p>It looks like your <code>render()</code> method may be running when closing the app. As your resources aren't changing between <code>render()</code> calls, move this block to the start of the <code>Main()</code> constructor so that <code>img[]</code> is set up once, and throws an exception if resources are not found:</p>\n<pre><code>try {\n    img[0] = ImageIO.read(getClass().getResource(&quot;/rsc/urBoard.png&quot;));\n    img[1] = ImageIO.read(getClass().getResource(&quot;/rsc/urBackground.jpg&quot;));\n} catch (IOException e) {\n    throw new RuntimeException(&quot;Could not find resources&quot;);\n}\n</code></pre>\n<p>The field <code>running</code> is used in different threads so it should be marked <code>volatile</code> in order that each thread reads consistent values:</p>\n<pre><code>public volatile boolean running; \n</code></pre>\n"}],"owner":{"account_id":12574179,"reputation":1,"user_id":9297293,"display_name":"Jake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70644403,"answer_count":1,"score":0,"last_activity_date":1698678635,"creation_date":1641753170,"question_id":70644296,"body_markdown":"Every time I run my program it runs fine. But when I close it after running the program for a few seconds, then I get the java.io.IOException: closed error. I&#39;ve tried looking around and couldn&#39;t find a solution. The only fix I could find was just not using the *e.printstacktrace* in the *try-catch* block, but that obviously doesn&#39;t fix the issue. Here is the code:\r\n\r\n```package main;\r\nimport java.awt.Canvas;\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport java.awt.Graphics;\r\nimport java.awt.image.BufferStrategy;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\n\r\nimport javax.imageio.ImageIO;\r\n\r\npublic class Main extends Canvas implements Runnable\r\n{\r\n    private static final long serialVersionUID = -661485289446387445L;\r\n    private Thread thread;\r\n    public int blackPos;\r\n    public int whitePos;\r\n    public boolean isWhiteTurn; // In single player this determines board orientation, in multiplayer it doesn&#39;t\r\n    public boolean running;\r\n    public final int HEIGHT = 800;\r\n    public final int WIDTH = 1200;\r\n    //public File[] imgSrc = {new File(&quot;/images/urBoard.png&quot;), new File(&quot;/rsc/urBackground.jpg&quot;)};\r\n    public BufferedImage[] img = new BufferedImage[2];\r\n    public Board board;\r\n\r\n    public Main()\r\n    {\r\n        new Window(WIDTH, HEIGHT, this);\r\n        board = new Board(this);\r\n    }\r\n\r\n    public void run()\r\n    {\r\n        requestFocus();\r\n        long lastTime = System.nanoTime();\r\n        double amountOfTicks = 60.0D;\r\n        double ns = 1.0E9D / amountOfTicks;\r\n        double delta = 0.0D;\r\n        long timer = System.currentTimeMillis();\r\n        int frames = 0;\r\n        while (this.running)\r\n        {\r\n            long now = System.nanoTime();\r\n            delta += (now - lastTime) / ns;\r\n            lastTime = now;\r\n            while (delta &gt;= 1.0D)\r\n            {\r\n                tick();\r\n                delta -= 1.0D;\r\n            }\r\n            if (this.running) {\r\n                render();\r\n            }\r\n            frames++;\r\n            if (System.currentTimeMillis() - timer &gt; 1000L)\r\n            {\r\n                timer += 1000L;\r\n                System.out.println(&quot;FPS: &quot; + frames);\r\n                frames = frames;\r\n                frames = 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    public synchronized void start()\r\n    {\r\n        thread = new Thread(this);\r\n        thread.start();\r\n        running = true;\r\n    }\r\n\r\n    public synchronized void stop()\r\n    {\r\n        try\r\n        {\r\n            this.thread.join();\r\n            this.running = false;\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void tick()\r\n    {\r\n        board.tick();\r\n    }\r\n\r\n    public void render()\r\n    {\r\n        BufferStrategy bs = getBufferStrategy();\r\n        if(bs == null)\r\n        {\r\n            createBufferStrategy(3);\r\n            return;\r\n        }\r\n\r\n        try\r\n        {\r\n            img[0] = ImageIO.read(getClass().getResource(&quot;/rsc/urBoard.png&quot;));\r\n            img[1] = ImageIO.read(getClass().getResource(&quot;/rsc/urBackground.jpg&quot;));\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        Graphics g = bs.getDrawGraphics();\r\n\r\n        g.drawImage(img[1], 0, 0, WIDTH, HEIGHT, null);\r\n        g.setColor(Color.GREEN);\r\n        g.drawLine(200, 0, 200, 800);\r\n        g.setFont(new Font(&quot;times new roman&quot;, Font.BOLD, 30));\r\n        g.drawString(&quot;END PIECES&quot;, 10, 30);\r\n\r\n        board.render(g);\r\n\r\n        g.dispose();\r\n        bs.show();\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        new Main();\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd here is the error that I get whenever I close the GUI after it has ran for a couple of seconds:\r\n\r\n```lang-none\r\njava.io.IOException: closed\r\n    at javax.imageio.stream.ImageInputStreamImpl.checkClosed(ImageInputStreamImpl.java:110)\r\n    at javax.imageio.stream.ImageInputStreamImpl.close(ImageInputStreamImpl.java:857)\r\n    at javax.imageio.stream.FileCacheImageInputStream.close(FileCacheImageInputStream.java:250)\r\n    at javax.imageio.ImageIO.read(ImageIO.java:1451)\r\n    at javax.imageio.ImageIO.read(ImageIO.java:1400)\r\n    at main.Main.render(Main.java:99)\r\n    at main.Main.run(Main.java:54)\r\n    at java.lang.Thread.run(Thread.java:745)\r\n```\r\n\r\nI&#39;ve noticed that if I close the window right after I start the program the error doesn&#39;t come. It only comes when I&#39;ve run the program for about 3-4 seconds, and then I close the window. What would cause this to happen, and what would be the fix?\r\n\r\n\r\n","title":"Getting java.io.IOException: closed whenever I close my program","body":"<p>Every time I run my program it runs fine. But when I close it after running the program for a few seconds, then I get the java.io.IOException: closed error. I've tried looking around and couldn't find a solution. The only fix I could find was just not using the <em>e.printstacktrace</em> in the <em>try-catch</em> block, but that obviously doesn't fix the issue. Here is the code:</p>\n<pre><code>import java.awt.Canvas;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.image.BufferStrategy;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\n\npublic class Main extends Canvas implements Runnable\n{\n    private static final long serialVersionUID = -661485289446387445L;\n    private Thread thread;\n    public int blackPos;\n    public int whitePos;\n    public boolean isWhiteTurn; // In single player this determines board orientation, in multiplayer it doesn't\n    public boolean running;\n    public final int HEIGHT = 800;\n    public final int WIDTH = 1200;\n    //public File[] imgSrc = {new File(&quot;/images/urBoard.png&quot;), new File(&quot;/rsc/urBackground.jpg&quot;)};\n    public BufferedImage[] img = new BufferedImage[2];\n    public Board board;\n\n    public Main()\n    {\n        new Window(WIDTH, HEIGHT, this);\n        board = new Board(this);\n    }\n\n    public void run()\n    {\n        requestFocus();\n        long lastTime = System.nanoTime();\n        double amountOfTicks = 60.0D;\n        double ns = 1.0E9D / amountOfTicks;\n        double delta = 0.0D;\n        long timer = System.currentTimeMillis();\n        int frames = 0;\n        while (this.running)\n        {\n            long now = System.nanoTime();\n            delta += (now - lastTime) / ns;\n            lastTime = now;\n            while (delta &gt;= 1.0D)\n            {\n                tick();\n                delta -= 1.0D;\n            }\n            if (this.running) {\n                render();\n            }\n            frames++;\n            if (System.currentTimeMillis() - timer &gt; 1000L)\n            {\n                timer += 1000L;\n                System.out.println(&quot;FPS: &quot; + frames);\n                frames = frames;\n                frames = 0;\n            }\n        }\n    }\n\n    public synchronized void start()\n    {\n        thread = new Thread(this);\n        thread.start();\n        running = true;\n    }\n\n    public synchronized void stop()\n    {\n        try\n        {\n            this.thread.join();\n            this.running = false;\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n\n    public void tick()\n    {\n        board.tick();\n    }\n\n    public void render()\n    {\n        BufferStrategy bs = getBufferStrategy();\n        if(bs == null)\n        {\n            createBufferStrategy(3);\n            return;\n        }\n\n        try\n        {\n            img[0] = ImageIO.read(getClass().getResource(&quot;/rsc/urBoard.png&quot;));\n            img[1] = ImageIO.read(getClass().getResource(&quot;/rsc/urBackground.jpg&quot;));\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        Graphics g = bs.getDrawGraphics();\n\n        g.drawImage(img[1], 0, 0, WIDTH, HEIGHT, null);\n        g.setColor(Color.GREEN);\n        g.drawLine(200, 0, 200, 800);\n        g.setFont(new Font(&quot;times new roman&quot;, Font.BOLD, 30));\n        g.drawString(&quot;END PIECES&quot;, 10, 30);\n\n        board.render(g);\n\n        g.dispose();\n        bs.show();\n    }\n\n    public static void main(String[] args)\n    {\n        new Main();\n    }\n\n}\n</code></pre>\n<p>And here is the error that I get whenever I close the GUI after it has ran for a couple of seconds:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.io.IOException: closed\n    at javax.imageio.stream.ImageInputStreamImpl.checkClosed(ImageInputStreamImpl.java:110)\n    at javax.imageio.stream.ImageInputStreamImpl.close(ImageInputStreamImpl.java:857)\n    at javax.imageio.stream.FileCacheImageInputStream.close(FileCacheImageInputStream.java:250)\n    at javax.imageio.ImageIO.read(ImageIO.java:1451)\n    at javax.imageio.ImageIO.read(ImageIO.java:1400)\n    at main.Main.render(Main.java:99)\n    at main.Main.run(Main.java:54)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n<p>I've noticed that if I close the window right after I start the program the error doesn't come. It only comes when I've run the program for about 3-4 seconds, and then I close the window. What would cause this to happen, and what would be the fix?</p>\n"},{"tags":["java","lotus-domino","ls2j"],"answers":[{"comments":[{"owner":{"account_id":2358279,"reputation":30910,"user_id":2065611,"display_name":"Knut Herrmann"},"score":1,"creation_date":1403853031,"post_id":24432893,"comment_id":37827344,"body_markdown":"I added a working example for your case. Go from there and adapt it to your solution.","body":"I added a working example for your case. Go from there and adapt it to your solution."}],"tags":[],"owner":{"account_id":2358279,"reputation":30910,"user_id":2065611,"display_name":"Knut Herrmann"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1403853309,"creation_date":1403792101,"answer_id":24432893,"question_id":24432443,"body_markdown":"`objectJava.setLog(logDTO)` - logDTO has to be a Java object generated by LS2J. It won&#39;t work with a LotusScript class object.\r\n\r\nAdd a method getJavaObject() to your LotusScript class LogWSDTO which returns the LS2J Java object `objectJava`. Use it this way then:\r\n\r\n    objectJava.setLog(logDTO.getJavaObject())\r\n\r\n*This is a working example:*\r\n\r\nLotusScript agent:\r\n\r\n&lt;!-- language: lang-vb --&gt;\r\n\r\n    Option Declare\r\n    UseLSX &quot;*javacon&quot;\r\n    Use &quot;AandB&quot;\r\n    \r\n    Class LogWSDTO\r\n    \tsessionJava As JAVASESSION      \r\n    \tclassJava As JAVACLASS\r\n    \tobjectJava As JAVAOBJECT        \r\n    \r\n    \tPublic Sub New()\r\n    \t\tSet sessionJava = New JAVASESSION\r\n    \t\tSet classJava = sessionJava.GetClass(&quot;de.leonso.test/B&quot;)\r\n    \t\tSet objectJava = classJava.CreateObject     \r\n    \tEnd Sub\r\n    \r\n    \tPublic Function getJavaObject()\r\n    \t\tSet getJavaObject = objectJava      \r\n    \tEnd Function\r\n    End Class\r\n    \r\n    Sub Initialize\r\n    \tDim sessionJava As JAVASESSION      \r\n    \tDim classJavaA As JAVACLASS\r\n    \tDim objectJavaA As JAVAOBJECT        \r\n    \tDim lsB As LogWSDTO\r\n    \r\n    \tSet sessionJava = New JAVASESSION\r\n    \tSet classJavaA = sessionJava.GetClass(&quot;de.leonso.test/A&quot;)\r\n    \tSet objectJavaA = classJavaA.CreateObject     \r\n    \tSet lsB = New LogWSDTO()\r\n    \r\n    \tprint objectJavaA.a(lsB.getJavaObject())\r\n    \t\r\n    End Sub\r\n\r\nJava classes in Java ScriptLibrary &quot;AandB&quot;:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package de.leonso.test;\r\n    \r\n    public class A {\r\n    \tpublic String a(B b) {\r\n    \t\treturn b.b();\r\n    \t}\r\n    }\r\n\r\n    package de.leonso.test;\r\n    \r\n    public class B {\r\n    \tpublic String b() {\r\n    \t\t return (&quot;hallo&quot;);\r\n    \t}\r\n    }","title":"How pass an object in parameter of another class in LS2J?","body":"<p><code>objectJava.setLog(logDTO)</code> - logDTO has to be a Java object generated by LS2J. It won't work with a LotusScript class object.</p>\n\n<p>Add a method getJavaObject() to your LotusScript class LogWSDTO which returns the LS2J Java object <code>objectJava</code>. Use it this way then:</p>\n\n<pre><code>objectJava.setLog(logDTO.getJavaObject())\n</code></pre>\n\n<p><em>This is a working example:</em></p>\n\n<p>LotusScript agent:</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Option Declare\nUseLSX \"*javacon\"\nUse \"AandB\"\n\nClass LogWSDTO\n    sessionJava As JAVASESSION      \n    classJava As JAVACLASS\n    objectJava As JAVAOBJECT        \n\n    Public Sub New()\n        Set sessionJava = New JAVASESSION\n        Set classJava = sessionJava.GetClass(\"de.leonso.test/B\")\n        Set objectJava = classJava.CreateObject     \n    End Sub\n\n    Public Function getJavaObject()\n        Set getJavaObject = objectJava      \n    End Function\nEnd Class\n\nSub Initialize\n    Dim sessionJava As JAVASESSION      \n    Dim classJavaA As JAVACLASS\n    Dim objectJavaA As JAVAOBJECT        \n    Dim lsB As LogWSDTO\n\n    Set sessionJava = New JAVASESSION\n    Set classJavaA = sessionJava.GetClass(\"de.leonso.test/A\")\n    Set objectJavaA = classJavaA.CreateObject     \n    Set lsB = New LogWSDTO()\n\n    print objectJavaA.a(lsB.getJavaObject())\n\nEnd Sub\n</code></pre>\n\n<p>Java classes in Java ScriptLibrary \"AandB\":</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.leonso.test;\n\npublic class A {\n    public String a(B b) {\n        return b.b();\n    }\n}\n\npackage de.leonso.test;\n\npublic class B {\n    public String b() {\n         return (\"hallo\");\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4137235,"reputation":135,"user_id":3393610,"accept_rate":70,"display_name":"sissi49"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":24432893,"answer_count":1,"score":2,"last_activity_date":1698678490,"creation_date":1403790787,"question_id":24432443,"body_markdown":"I am trying to pass an object of a java class (a bean) to another class with LS2J.\r\n\r\nThe problem is that an error is returned : \r\n\r\n&gt; LS2J Error: Threw java.lang.ClassNotFoundException:\r\n&gt; com.pasquier.DTO.WS.LogWSDTO\r\n\r\nI don&#39;t know why ?\r\n\r\nI have a class bean normally with getter and setter.\r\nI want to pass an instance of this class in another.\r\n\r\nMy class in Lotus LS2J : \r\n\r\n    Class LogWebService\r\n        sessionJava As JAVASESSION\t\t\r\n        classJava As JAVACLASS\r\n        objectJava As JAVAOBJECT\t\t\r\n        methodJava As JAVAMETHOD\r\n\t\r\n        Public Sub New()\r\n            Set sessionJava = New JAVASESSION\r\n            Set classJava = sessionJava.GetClass(&quot;com.pasquier.launcher/LogWebService&quot;)\r\n            Set objectJava = classJava.CreateObject\t\t\r\n        End Sub\t\r\n\t\r\n        Public Sub setLog(logDTO As LogWSDTO)\r\n            Set methodJava = classJava.GetMethod(&quot;setLog&quot;,&quot;(Lcom/pasquier/DTO/WS/LogWSDTO;)V&quot;)\t\t\r\n                 objectJava.setLog(logDTO)\t\t\r\n        End Sub\t\r\n\t\r\n    End Class\r\n\r\n\r\n\r\nIt is the method setLog which crashes\r\n\r\nI call it in the code : \r\n\r\n    Class LogGetAllDocumentsDAO\r\n\t\r\n        Private ilog As LogWebService \r\n        Private logDTO As LogWSDTO\r\n        Private docDTO As LogGetAllDocumentsDTO\r\n\t\r\n        Public Sub New(logWSparam As LogWSDTO, docDTOparam As LogGetAllDocumentsDTO)\r\n            Set Me.logDTO = logWSparam\r\n            Set Me.docDTO = docDTOparam\t\t\r\n        End Sub\t\r\n\t\r\n\t\r\n        Public Sub appelLog()\t\t\t\r\n            Set ilog = New LogWebService()\r\n\t\t\r\n            &#39; error: LS2J Error: Threw java.lang.ClassNotFoundException: com.pasquier.DTO.WS.LogWSDTO\r\n            Call ilog.setLog(logDTO)\r\n\t\t\r\n\r\n        End Sub\t\r\n\r\n\r\n----------\r\nan idea ?\r\n\r\ni have a class LogDTO in the same library than LogWebService.\r\n\r\n    Class LogWSDTO\r\n\tsessionJava As JAVASESSION\t\t\r\n\tclassJava As JAVACLASS\r\n\tobjectJava As JAVAOBJECT\t\t\r\n\tmethodJava As JAVAMETHOD\r\n\t\r\n\t\r\n\tPublic Sub New()\r\n\t\tSet sessionJava = New JAVASESSION\r\n\t\tSet classJava = sessionJava.GetClass(&quot;com.pasquier.DTO.WS/LogWSDTO&quot;)\r\n\t\tSet objectJava = classJava.CreateObject\t\t\r\n\tEnd Sub\r\n\t\r\n\r\n\r\n----------\r\nif i understand i can&#39;t pass logDTO with :\r\n\r\n    Set Me.logDTO = logWSparam\r\n\r\nis it that ? But how i do then ??\r\n\r\n\r\n----------\r\n\r\nwell i try but it doesn&#39;t work.\r\n\r\nI add a getObjet method in LS2J (not in java only on lotus)\r\n\r\n    Class LogWSDTO\r\n\tsessionJava As JAVASESSION\t\t\r\n\tclassJava As JAVACLASS\r\n\tobjectJava As JAVAOBJECT\t\t\r\n\tmethodJava As JAVAMETHOD\r\n\t\r\n\t\r\n\tPublic Sub New()\r\n\t\tSet sessionJava = New JAVASESSION\r\n\t\tSet classJava = sessionJava.GetClass(&quot;com.pasquier.DTO.WS/LogWSDTO&quot;)\r\n\t\tSet objectJava = classJava.CreateObject\t\t\r\n\tEnd Sub\r\n\t\r\n\t\r\n\tPublic Function getJavaObject()\r\n\t\tSet getJavaObject = objectJava\t\t\r\n\tEnd Function\r\n\r\n\r\n----------\r\n\r\ni try to call this in my prog : \r\n\r\n    Class LogGetAllDocumentsDAO\r\n\t\r\n\tPrivate ilog As LogWebService \r\n\tPrivate logDTO As LogWSDTO\r\n\tPrivate docDTO As LogGetAllDocumentsDTO\r\n\t\r\n\tPublic Sub New(logWSparam As LogWSDTO, docDTOparam As LogGetAllDocumentsDTO)\t\t\r\n\t\tSet Me.logDTO = logWSparam\r\n\t\tSet Me.docDTO = docDTOparam\t\t\r\n\tEnd Sub\t\r\n\t\r\n\t\r\n\tPublic Sub appelLog()\t\t\t\r\n\t\tCall ajouterParam()\t\t\t\r\n\t\tSet ilog = New LogWebService()\t\t\r\n\t\t\r\n\t\tCall ilog.setLog(logDTO.getJavaObject())\r\n\tEnd Sub\t\r\n\r\n\r\ni can&#39;t save this change : it returns : \r\n\r\n    &quot;type mismatch on : GETJAVAOBJECT&quot;\r\n\r\n\r\n----------\r\n\r\n\r\n----------\r\n\r\n\r\nso i try to add the method in LogWebService&#39; s java class.\r\nand i try in LS2J : \r\n\r\n    Public Function getJavaObject()\t\t\t\r\n\t\tSet methodJava = classJava.GetMethod(&quot;getJavaObject&quot;,&quot;()Lcom/pasquier/DTO/WS/LogWSDTO;&quot;)\t\t\r\n\t\tgetJavaObject = objectJava.getJavaObject()\t\r\n\tEnd Function\r\n\r\n\r\n----------\r\ni call with : \r\n\r\n    Public Sub appelLog()\t\t\t\r\n\t\tSet ilog = New LogWebService()\t\t\t\r\n\t\tSet logDTO = logDTO.getJavaObject\r\n\t\tCall ilog.setLog(logDTO)\r\n\t\t\r\n\r\nand it doesn&#39;t works, same message, i cry !!!","title":"How pass an object in parameter of another class in LS2J?","body":"<p>I am trying to pass an object of a java class (a bean) to another class with LS2J.</p>\n\n<p>The problem is that an error is returned : </p>\n\n<blockquote>\n  <p>LS2J Error: Threw java.lang.ClassNotFoundException:\n  com.pasquier.DTO.WS.LogWSDTO</p>\n</blockquote>\n\n<p>I don't know why ?</p>\n\n<p>I have a class bean normally with getter and setter.\nI want to pass an instance of this class in another.</p>\n\n<p>My class in Lotus LS2J : </p>\n\n<pre><code>Class LogWebService\n    sessionJava As JAVASESSION      \n    classJava As JAVACLASS\n    objectJava As JAVAOBJECT        \n    methodJava As JAVAMETHOD\n\n    Public Sub New()\n        Set sessionJava = New JAVASESSION\n        Set classJava = sessionJava.GetClass(\"com.pasquier.launcher/LogWebService\")\n        Set objectJava = classJava.CreateObject     \n    End Sub \n\n    Public Sub setLog(logDTO As LogWSDTO)\n        Set methodJava = classJava.GetMethod(\"setLog\",\"(Lcom/pasquier/DTO/WS/LogWSDTO;)V\")      \n             objectJava.setLog(logDTO)      \n    End Sub \n\nEnd Class\n</code></pre>\n\n<p>It is the method setLog which crashes</p>\n\n<p>I call it in the code : </p>\n\n<pre><code>Class LogGetAllDocumentsDAO\n\n    Private ilog As LogWebService \n    Private logDTO As LogWSDTO\n    Private docDTO As LogGetAllDocumentsDTO\n\n    Public Sub New(logWSparam As LogWSDTO, docDTOparam As LogGetAllDocumentsDTO)\n        Set Me.logDTO = logWSparam\n        Set Me.docDTO = docDTOparam     \n    End Sub \n\n\n    Public Sub appelLog()           \n        Set ilog = New LogWebService()\n\n        ' error: LS2J Error: Threw java.lang.ClassNotFoundException: com.pasquier.DTO.WS.LogWSDTO\n        Call ilog.setLog(logDTO)\n\n\n    End Sub \n</code></pre>\n\n<hr>\n\n<p>an idea ?</p>\n\n<p>i have a class LogDTO in the same library than LogWebService.</p>\n\n<pre><code>Class LogWSDTO\nsessionJava As JAVASESSION      \nclassJava As JAVACLASS\nobjectJava As JAVAOBJECT        \nmethodJava As JAVAMETHOD\n\n\nPublic Sub New()\n    Set sessionJava = New JAVASESSION\n    Set classJava = sessionJava.GetClass(\"com.pasquier.DTO.WS/LogWSDTO\")\n    Set objectJava = classJava.CreateObject     \nEnd Sub\n</code></pre>\n\n<hr>\n\n<p>if i understand i can't pass logDTO with :</p>\n\n<pre><code>Set Me.logDTO = logWSparam\n</code></pre>\n\n<p>is it that ? But how i do then ??</p>\n\n<hr>\n\n<p>well i try but it doesn't work.</p>\n\n<p>I add a getObjet method in LS2J (not in java only on lotus)</p>\n\n<pre><code>Class LogWSDTO\nsessionJava As JAVASESSION      \nclassJava As JAVACLASS\nobjectJava As JAVAOBJECT        \nmethodJava As JAVAMETHOD\n\n\nPublic Sub New()\n    Set sessionJava = New JAVASESSION\n    Set classJava = sessionJava.GetClass(\"com.pasquier.DTO.WS/LogWSDTO\")\n    Set objectJava = classJava.CreateObject     \nEnd Sub\n\n\nPublic Function getJavaObject()\n    Set getJavaObject = objectJava      \nEnd Function\n</code></pre>\n\n<hr>\n\n<p>i try to call this in my prog : </p>\n\n<pre><code>Class LogGetAllDocumentsDAO\n\nPrivate ilog As LogWebService \nPrivate logDTO As LogWSDTO\nPrivate docDTO As LogGetAllDocumentsDTO\n\nPublic Sub New(logWSparam As LogWSDTO, docDTOparam As LogGetAllDocumentsDTO)        \n    Set Me.logDTO = logWSparam\n    Set Me.docDTO = docDTOparam     \nEnd Sub \n\n\nPublic Sub appelLog()           \n    Call ajouterParam()         \n    Set ilog = New LogWebService()      \n\n    Call ilog.setLog(logDTO.getJavaObject())\nEnd Sub \n</code></pre>\n\n<p>i can't save this change : it returns : </p>\n\n<pre><code>\"type mismatch on : GETJAVAOBJECT\"\n</code></pre>\n\n<hr>\n\n<hr>\n\n<p>so i try to add the method in LogWebService' s java class.\nand i try in LS2J : </p>\n\n<pre><code>Public Function getJavaObject()         \n    Set methodJava = classJava.GetMethod(\"getJavaObject\",\"()Lcom/pasquier/DTO/WS/LogWSDTO;\")        \n    getJavaObject = objectJava.getJavaObject()  \nEnd Function\n</code></pre>\n\n<hr>\n\n<p>i call with : </p>\n\n<pre><code>Public Sub appelLog()           \n    Set ilog = New LogWebService()          \n    Set logDTO = logDTO.getJavaObject\n    Call ilog.setLog(logDTO)\n</code></pre>\n\n<p>and it doesn't works, same message, i cry !!!</p>\n"},{"tags":["java","spring","tomcat10"],"owner":{"account_id":3454996,"reputation":5649,"user_id":2893693,"accept_rate":83,"display_name":"J-J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698678365,"creation_date":1698678365,"question_id":77389766,"body_markdown":"I am upgrading a Spring 5.x app to Spring.6 and trying to deploy to Tomcat 10(apache-tomcat-10.1.15) (Older app was getting deployed to apache-tomcat-9.0.62)\r\n\r\nI did the following changes as part of the Spring 6 upgrade.\r\n\r\n - Updated all the spring versions to 6.0.11\r\n - Changed all the javax.* dependencies to jakarta.*\r\n - Updated Hibernate to latest version.\r\n - Did everything mentioned here https://docs.spring.io/spring-security/reference/servlet/configuration/java.html\r\n \r\nI am getting below error while deploying to Tomcat 10.\r\n\r\n    30-Oct-2023 14:47:39.081 WARNING [main] org.springframework.web.context.support.AnnotationConfigWebApplicationContext.refresh Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0: Error creating bean with name &#39;filterChain&#39; defined in MyWebSecurityConfig: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: Section 4.4 of the Servlet 3.0 specification does not permit this method to be called from a ServletContextListener that was not defined in web.xml, a web-fragment.xml file nor annotated with @WebListener\r\n    30-Oct-2023 14:47:39.085 SEVERE [main] org.springframework.web.context.ContextLoader.initWebApplicationContext Context initialization failed\r\n      org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0: Error creating bean with name &#39;filterChain&#39; defined in MyWebSecurityConfig: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: Section 4.4 of the Servlet 3.0 specification does not permit this method to be called from a ServletContextListener that was not defined in web.xml, a web-fragment.xml file nor annotated with @WebListener\r\n       at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:825)\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:778)\r\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:483)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\r\n        at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:394)\r\n        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:274)\r\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:102)\r\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4420)\r\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4860)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)\r\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\r\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\r\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:712)\r\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:975)\r\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1952)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\r\n        at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:776)\r\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:426)\r\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1659)\r\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309)\r\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:114)\r\n        at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:402)\r\n        at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:345)\r\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:893)\r\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)\r\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)\r\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)\r\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)\r\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:795)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\r\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\r\n      Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;filterChain&#39; defined in MyWebSecurityConfig: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: Section 4.4 of the Servlet 3.0 specification does not permit this method to be called from a ServletContextListener that was not defined in web.xml, a web-fragment.xml file nor annotated with @WebListener\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1633)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1597)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1488)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1375)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:817)\r\n        ... 57 more\r\n      Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: Section 4.4 of the Servlet 3.0 specification does not permit this method to be called from a ServletContextListener that was not defined in web.xml, a web-fragment.xml file nor annotated with @WebListener\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)\r\n        ... 73 more\r\n      Caused by: java.lang.UnsupportedOperationException: Section 4.4 of the Servlet 3.0 specification does not permit this method to be called from a ServletContextListener that was not defined in web.xml, a web-fragment.xml file nor annotated with @WebListener\r\n        at org.apache.catalina.core.StandardContext$NoPluggabilityServletContext.getServletRegistrations(StandardContext.java:6197)\r\n        at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.mappableServletRegistrations(AbstractRequestMatcherRegistry.java:215)\r\n        at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:199)\r\n        at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:276)\r\n        MyWebSecurityConfig.lambda$filterChain$1(WebSecurityConfig.java:64)\r\n        at org.springframework.security.config.annotation.web.builders.HttpSecurity.authorizeHttpRequests(HttpSecurity.java:1466)\r\n        MyWebSecurityConfig.filterChain(WebSecurityConfig.java:64)\r\n        MyWebSecurityConfig$$SpringCGLIB$$0.CGLIB$filterChain$7(&lt;generated&gt;)\r\n        MyWebSecurityConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;)\r\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\r\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n        MyWebSecurityConfig$$SpringCGLIB$$0.filterChain(&lt;generated&gt;)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\r\n\r\n","title":"Spring App is not getting deployed after upgrading to Spring6 and Tomcat10","body":"<p>I am upgrading a Spring 5.x app to Spring.6 and trying to deploy to Tomcat 10(apache-tomcat-10.1.15) (Older app was getting deployed to apache-tomcat-9.0.62)</p>\n<p>I did the following changes as part of the Spring 6 upgrade.</p>\n<ul>\n<li>Updated all the spring versions to 6.0.11</li>\n<li>Changed all the javax.* dependencies to jakarta.*</li>\n<li>Updated Hibernate to latest version.</li>\n<li>Did everything mentioned here <a href=\"https://docs.spring.io/spring-security/reference/servlet/configuration/java.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/configuration/java.html</a></li>\n</ul>\n<p>I am getting below error while deploying to Tomcat 10.</p>\n<pre><code>30-Oct-2023 14:47:39.081 WARNING [main] org.springframework.web.context.support.AnnotationConfigWebApplicationContext.refresh Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'filterChain' defined in MyWebSecurityConfig: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Section 4.4 of the Servlet 3.0 specification does not permit this method to be called from a ServletContextListener that was not defined in web.xml, a web-fragment.xml file nor annotated with @WebListener\n30-Oct-2023 14:47:39.085 SEVERE [main] org.springframework.web.context.ContextLoader.initWebApplicationContext Context initialization failed\n  org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'filterChain' defined in MyWebSecurityConfig: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Section 4.4 of the Servlet 3.0 specification does not permit this method to be called from a ServletContextListener that was not defined in web.xml, a web-fragment.xml file nor annotated with @WebListener\n   at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:825)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:778)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:483)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:394)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:274)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:102)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4420)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4860)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:712)\n    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:975)\n    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1952)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\n    at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:776)\n    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:426)\n    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1659)\n    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:114)\n    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:402)\n    at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:345)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:893)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:795)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\n  Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filterChain' defined in MyWebSecurityConfig: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Section 4.4 of the Servlet 3.0 specification does not permit this method to be called from a ServletContextListener that was not defined in web.xml, a web-fragment.xml file nor annotated with @WebListener\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1633)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1597)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1488)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1375)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:817)\n    ... 57 more\n  Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Section 4.4 of the Servlet 3.0 specification does not permit this method to be called from a ServletContextListener that was not defined in web.xml, a web-fragment.xml file nor annotated with @WebListener\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)\n    ... 73 more\n  Caused by: java.lang.UnsupportedOperationException: Section 4.4 of the Servlet 3.0 specification does not permit this method to be called from a ServletContextListener that was not defined in web.xml, a web-fragment.xml file nor annotated with @WebListener\n    at org.apache.catalina.core.StandardContext$NoPluggabilityServletContext.getServletRegistrations(StandardContext.java:6197)\n    at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.mappableServletRegistrations(AbstractRequestMatcherRegistry.java:215)\n    at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:199)\n    at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:276)\n    MyWebSecurityConfig.lambda$filterChain$1(WebSecurityConfig.java:64)\n    at org.springframework.security.config.annotation.web.builders.HttpSecurity.authorizeHttpRequests(HttpSecurity.java:1466)\n    MyWebSecurityConfig.filterChain(WebSecurityConfig.java:64)\n    MyWebSecurityConfig$$SpringCGLIB$$0.CGLIB$filterChain$7(&lt;generated&gt;)\n    MyWebSecurityConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    MyWebSecurityConfig$$SpringCGLIB$$0.filterChain(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\n</code></pre>\n"},{"tags":["java","sonarqube","lombok"],"comments":[{"owner":{"account_id":9450466,"reputation":574,"user_id":7290888,"display_name":"mkst"},"score":0,"creation_date":1570705607,"post_id":58319017,"comment_id":103001755,"body_markdown":"discovered that the code smells are gone when running `mvn sonar:sonar`, not sure why.. but am going to do this rather than using sonar-scanner cli","body":"discovered that the code smells are gone when running <code>mvn sonar:sonar</code>, not sure why.. but am going to do this rather than using sonar-scanner cli"}],"answers":[{"comments":[{"owner":{"account_id":9450466,"reputation":574,"user_id":7290888,"display_name":"mkst"},"score":0,"creation_date":1570705390,"post_id":58320608,"comment_id":103001655,"body_markdown":"It&#39;s not Code Coverage (that is calculated correctly), it&#39;s Code Smells that I&#39;m seeing issues with. I have a number of classes (and projects) that use this format, so don&#39;t really want to go down the route of excluding directories","body":"It&#39;s not Code Coverage (that is calculated correctly), it&#39;s Code Smells that I&#39;m seeing issues with. I have a number of classes (and projects) that use this format, so don&#39;t really want to go down the route of excluding directories"},{"owner":{"account_id":15925013,"reputation":1027,"user_id":11490808,"display_name":"Hưng Chu"},"score":0,"creation_date":1570705671,"post_id":58320608,"comment_id":103001789,"body_markdown":"If so, i think you can ignore that code smell by add sonar.issue.ignore property to your pom just for those classes.","body":"If so, i think you can ignore that code smell by add sonar.issue.ignore property to your pom just for those classes."}],"tags":[],"owner":{"account_id":15925013,"reputation":1027,"user_id":11490808,"display_name":"Hưng Chu"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570702560,"creation_date":1570702560,"answer_id":58320608,"question_id":58319017,"body_markdown":"I have faced same issue with you a few months ago. My jacoco version is 0.8.2 and lombok is v1.16.16. I remember the problem was gone after I add lombok.config under root directory of the project.\r\nJust notice if you define your own constructors for a class that already marked as Data, then the coverage will be calculated by how many constructors your tests were called.\r\n\r\nAnd if this didn&#39;t help. You can find a workaround by excluding them in either Jacoco config / SonarQube config\r\n\r\nExample for excluding in jacoco:\r\n\r\n    &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.8.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;**/your_class_path/**&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;!-- attached to Maven test phase --&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;report&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\nAnd for SonarQube, you can use -Dsonar.inclusions parameter for inclusion and -Dsonar.exclusions parameter when calling mvn sonar:sonar","title":"Sonarqube - Remove this unused private field Code Smell using Lombok @data","body":"<p>I have faced same issue with you a few months ago. My jacoco version is 0.8.2 and lombok is v1.16.16. I remember the problem was gone after I add lombok.config under root directory of the project.\nJust notice if you define your own constructors for a class that already marked as Data, then the coverage will be calculated by how many constructors your tests were called.</p>\n\n<p>And if this didn't help. You can find a workaround by excluding them in either Jacoco config / SonarQube config</p>\n\n<p>Example for excluding in jacoco:</p>\n\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.8.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/your_class_path/**&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;!-- attached to Maven test phase --&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;report&lt;/id&gt;\n                    &lt;phase&gt;test&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;report&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>And for SonarQube, you can use -Dsonar.inclusions parameter for inclusion and -Dsonar.exclusions parameter when calling mvn sonar:sonar</p>\n"}],"owner":{"account_id":9450466,"reputation":574,"user_id":7290888,"display_name":"mkst"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10130,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1698678260,"creation_date":1570697685,"question_id":58319017,"body_markdown":"I&#39;ve got a bunch of Code Smells in my Java project around bits of code like this:\r\n\r\n```\r\n@Data\r\npublic class Foobar extends Foo { \r\n    private String baz;\r\n}\r\n```\r\n\r\nMy `lombok.config` sits alongside the `pom.xml` and looks like:\r\n```\r\nconfig.stopBubbling = true\r\nlombok.addLombokGeneratedAnnotation = true\r\n```\r\nThis brought up the code coverage numbers, not has not cleared the Code Smells.\r\n\r\nSeems I&#39;m not the [only](https://medium.com/@seesala.kiran/hi-the-above-solution-worked-for-me-well-wrt-code-coverage-c1df5e9ea571) person encountering this problem.\r\n\r\nIn terms of versions:\r\n\r\n - Lombok 1.18.8 (also tried with 1.18.10)\r\n - Jacoco 0.8.4\r\n - SonarQube 7.9.1.27448\r\n - SonarQube Scanner 4.0.0.1744\r\n\r\nI&#39;ve seen a few similar questions on this, but they are all ~5 years old, so I dont believe the answers are still valid.","title":"Sonarqube - Remove this unused private field Code Smell using Lombok @data","body":"<p>I've got a bunch of Code Smells in my Java project around bits of code like this:</p>\n\n<pre><code>@Data\npublic class Foobar extends Foo { \n    private String baz;\n}\n</code></pre>\n\n<p>My <code>lombok.config</code> sits alongside the <code>pom.xml</code> and looks like:</p>\n\n<pre><code>config.stopBubbling = true\nlombok.addLombokGeneratedAnnotation = true\n</code></pre>\n\n<p>This brought up the code coverage numbers, not has not cleared the Code Smells.</p>\n\n<p>Seems I'm not the <a href=\"https://medium.com/@seesala.kiran/hi-the-above-solution-worked-for-me-well-wrt-code-coverage-c1df5e9ea571\" rel=\"nofollow noreferrer\">only</a> person encountering this problem.</p>\n\n<p>In terms of versions:</p>\n\n<ul>\n<li>Lombok 1.18.8 (also tried with 1.18.10)</li>\n<li>Jacoco 0.8.4</li>\n<li>SonarQube 7.9.1.27448</li>\n<li>SonarQube Scanner 4.0.0.1744</li>\n</ul>\n\n<p>I've seen a few similar questions on this, but they are all ~5 years old, so I dont believe the answers are still valid.</p>\n"},{"tags":["java","string","buffer"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1698635861,"post_id":77386033,"comment_id":136426163,"body_markdown":"`String`s don&#39;t have a fixed size, so a buffer wouldn&#39;t know where one string &quot;starts&quot; and where another &quot;ends&quot;. Are you looking for `CharBuffer` perhaps? Or maybe this is an [XY Problem](http://xyproblem.info/)?","body":"<code>String</code>s don&#39;t have a fixed size, so a buffer wouldn&#39;t know where one string &quot;starts&quot; and where another &quot;ends&quot;. Are you looking for <code>CharBuffer</code> perhaps? Or maybe this is an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1698638280,"post_id":77386033,"comment_id":136426318,"body_markdown":"The behavior you want from `get()` and `hasNext()` is very similar to an `Iterator`. So, you could just have a `List&lt;String&gt;`, even a fixed-size one wrapping a `String[]` via `Collections#asList(T[])`, and then get an `Iterator&lt;String&gt;` from it (or a `ListIterator&lt;String&gt;` if you want to go backwards as well as forwards). Or you could easily create your own class wrapping a `String[]` that does what you want (though I don&#39;t believe it would make sense for it to extend `java.nio.Buffer`). That said, if you want a buffer of _characters_ use `StringBuilder`, `StringBuffer`, or `CharBuffer`.","body":"The behavior you want from <code>get()</code> and <code>hasNext()</code> is very similar to an <code>Iterator</code>. So, you could just have a <code>List&lt;String&gt;</code>, even a fixed-size one wrapping a <code>String[]</code> via <code>Collections#asList(T[])</code>, and then get an <code>Iterator&lt;String&gt;</code> from it (or a <code>ListIterator&lt;String&gt;</code> if you want to go backwards as well as forwards). Or you could easily create your own class wrapping a <code>String[]</code> that does what you want (though I don&#39;t believe it would make sense for it to extend <code>java.nio.Buffer</code>). That said, if you want a buffer of <i>characters</i> use <code>StringBuilder</code>, <code>StringBuffer</code>, or <code>CharBuffer</code>."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1698644305,"post_id":77386033,"comment_id":136426720,"body_markdown":"@Slaw you probably mean `java.util.Arrays#asList(T[])` (there is no `Collections#asList()`)","body":"@Slaw you probably mean <code>java.util.Arrays#asList(T[])</code> (there is no <code>Collections#asList()</code>)"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1698644500,"post_id":77386033,"comment_id":136426739,"body_markdown":"@ThomasKl&#228;ger Oops. That&#39;s exactly what I meant.","body":"@ThomasKl&#228;ger Oops. That&#39;s exactly what I meant."}],"answers":[{"tags":[],"owner":{"account_id":29771757,"reputation":11,"user_id":22816789,"display_name":"addminztrator"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698635724,"creation_date":1698635724,"answer_id":77386047,"question_id":77386033,"body_markdown":"Java has `StringBuffer` and `StringBuilder` which might be what you&#39;re looking for. A string object in Java is immutable which means that each time you modify it, it generates a new string and this puts a lot of strain on the garbage collector. For concatenation or string operations in a multithreaded environment, use `StringBuilder`. Otherwise, `StringBuffer` should work just fine.\r\n\r\nRead more here:\r\nhttps://www.digitalocean.com/community/tutorials/string-vs-stringbuffer-vs-stringbuilder","title":"Buffer for String like IntBuffer","body":"<p>Java has <code>StringBuffer</code> and <code>StringBuilder</code> which might be what you're looking for. A string object in Java is immutable which means that each time you modify it, it generates a new string and this puts a lot of strain on the garbage collector. For concatenation or string operations in a multithreaded environment, use <code>StringBuilder</code>. Otherwise, <code>StringBuffer</code> should work just fine.</p>\n<p>Read more here:\n<a href=\"https://www.digitalocean.com/community/tutorials/string-vs-stringbuffer-vs-stringbuilder\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/string-vs-stringbuffer-vs-stringbuilder</a></p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698678192,"creation_date":1698678192,"answer_id":77389748,"question_id":77386033,"body_markdown":"As Slaw pointed out, [Iterator](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Iterator.html) does what you want:\r\n\r\n    String[] array = {&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot;};\r\n    Iterator&lt;String&gt; iterator = Arrays.asList(array).iterator();\r\n\r\n    while (iterator.hasNext()) {\r\n        String element = iterator.next();\r\n        System.out.println(element);\r\n    }\r\n\r\nIf you want to keep track of the current index in the list/array, or if you want to be able to navigate both forwards and backwards, you can use a [ListIterator](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ListIterator.html):\r\n\r\n    String[] array = {&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot;};\r\n    Iterator&lt;String&gt; iterator = Arrays.asList(array).listIterator();\r\n\r\n    while (iterator.hasNext()) {\r\n        String element = iterator.next();\r\n        System.out.println(element);\r\n    }\r\n\r\n(This code is identical to the first code block, except for calling `listIterator()` instead of `iterator()`.)\r\n\r\nThe Iterator, ListIterator, and Arrays classes are all in the java.util package.","title":"Buffer for String like IntBuffer","body":"<p>As Slaw pointed out, <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Iterator.html\" rel=\"nofollow noreferrer\">Iterator</a> does what you want:</p>\n<pre><code>String[] array = {&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot;};\nIterator&lt;String&gt; iterator = Arrays.asList(array).iterator();\n\nwhile (iterator.hasNext()) {\n    String element = iterator.next();\n    System.out.println(element);\n}\n</code></pre>\n<p>If you want to keep track of the current index in the list/array, or if you want to be able to navigate both forwards and backwards, you can use a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ListIterator.html\" rel=\"nofollow noreferrer\">ListIterator</a>:</p>\n<pre><code>String[] array = {&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot;};\nIterator&lt;String&gt; iterator = Arrays.asList(array).listIterator();\n\nwhile (iterator.hasNext()) {\n    String element = iterator.next();\n    System.out.println(element);\n}\n</code></pre>\n<p>(This code is identical to the first code block, except for calling <code>listIterator()</code> instead of <code>iterator()</code>.)</p>\n<p>The Iterator, ListIterator, and Arrays classes are all in the java.util package.</p>\n"}],"owner":{"account_id":6885553,"reputation":50,"user_id":5290751,"display_name":"Hans GD"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77389748,"answer_count":2,"score":0,"last_activity_date":1698678192,"creation_date":1698635290,"question_id":77386033,"body_markdown":"Is there a class in Java ( 8+ ) that has similar functionalities as `IntBuffer` or other classes inheriting fom `java.nio.Buffer` but for `String` items? Implementing my own version would be simple for my need is very simple (only mark a position in the middle of the array), but I&#39;d like to know if there is already a class for that. \r\n\r\nThanks.\r\n\r\n**Update**: I&#39;m sorry if the problem wasn&#39;t understood clearly, but what I need is to mark a position in the array of strings, i. e. to save the last used index so I know when all the array has been used. Like:\r\n\r\n    String[] array = new String(){&quot;str1&quot;, &quot;str2&quot;, ...};\r\n    int mark = 0;\r\n    String get() throws Exception{\r\n       // Throw exception if out of bound\r\n       return array[mark++];\r\n    }\r\n    boolean hasNext(){\r\n       return mark&lt;array.length();\r\n    }\r\n\r\nwhich is what `IntBuffer` does with `int` items, I think. \r\n\r\nThanks.\r\n","title":"Buffer for String like IntBuffer","body":"<p>Is there a class in Java ( 8+ ) that has similar functionalities as <code>IntBuffer</code> or other classes inheriting fom <code>java.nio.Buffer</code> but for <code>String</code> items? Implementing my own version would be simple for my need is very simple (only mark a position in the middle of the array), but I'd like to know if there is already a class for that.</p>\n<p>Thanks.</p>\n<p><strong>Update</strong>: I'm sorry if the problem wasn't understood clearly, but what I need is to mark a position in the array of strings, i. e. to save the last used index so I know when all the array has been used. Like:</p>\n<pre><code>String[] array = new String(){&quot;str1&quot;, &quot;str2&quot;, ...};\nint mark = 0;\nString get() throws Exception{\n   // Throw exception if out of bound\n   return array[mark++];\n}\nboolean hasNext(){\n   return mark&lt;array.length();\n}\n</code></pre>\n<p>which is what <code>IntBuffer</code> does with <code>int</code> items, I think.</p>\n<p>Thanks.</p>\n"},{"tags":["java","eclipse","servlets","tomcat9"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1598613946,"post_id":63632743,"comment_id":112523313,"body_markdown":"How did you add &quot;Java EE&quot; to your Eclipse, because it looks as though you have not?","body":"How did you add &quot;Java EE&quot; to your Eclipse, because it looks as though you have not?"},{"owner":{"account_id":17541225,"reputation":1,"user_id":12723365,"display_name":"MOHD MUSAB"},"score":0,"creation_date":1598614484,"post_id":63632743,"comment_id":112523551,"body_markdown":"I went to &#39;Install New Software&#39; and I typed the url &#39;&#39;http://download.eclipse.org/releases&#39;&#39;. Then I select the option Java EE , XML etc. and Now I can switch to Java EE","body":"I went to &#39;Install New Software&#39; and I typed the url &#39;&#39;<a href=\"http://download.eclipse.org/releases\" rel=\"nofollow noreferrer\">download.eclipse.org/releases</a>&#39;&#39;. Then I select the option Java EE , XML etc. and Now I can switch to Java EE"},{"owner":{"account_id":17541225,"reputation":1,"user_id":12723365,"display_name":"MOHD MUSAB"},"score":0,"creation_date":1598614616,"post_id":63632743,"comment_id":112523617,"body_markdown":"Actually i was able to see the option &quot;Dynamic Web Project&quot; in beginning after installation but now i am not able to see it and I can&#39;t also see the Servers.","body":"Actually i was able to see the option &quot;Dynamic Web Project&quot; in beginning after installation but now i am not able to see it and I can&#39;t also see the Servers."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1598614684,"post_id":63632743,"comment_id":112523641,"body_markdown":"Were you starting with the year old 2019-03 release? What version of Java is being used to run Eclipse?","body":"Were you starting with the year old 2019-03 release? What version of Java is being used to run Eclipse?"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598619994,"creation_date":1598619994,"answer_id":63634384,"question_id":63632743,"body_markdown":"Discard whatever type/version of Eclipse you have installed and download the following one:\r\n\r\n\r\nhttps://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/2020-06/R/eclipse-jee-2020-06-R-win32-x86_64.zip\r\n\r\nNote that [Eclipse comes for various programming/modelling langauges][1] and it looks like either you have selected a wrong type or an outdated version.\r\n\r\n\r\n  [1]: https://www.eclipse.org/downloads/packages/","title":"Added Java EE after installing new software but Dynamic Web project is not available yet","body":"<p>Discard whatever type/version of Eclipse you have installed and download the following one:</p>\n<p><a href=\"https://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/2020-06/R/eclipse-jee-2020-06-R-win32-x86_64.zip\" rel=\"nofollow noreferrer\">https://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/2020-06/R/eclipse-jee-2020-06-R-win32-x86_64.zip</a></p>\n<p>Note that <a href=\"https://www.eclipse.org/downloads/packages/\" rel=\"nofollow noreferrer\">Eclipse comes for various programming/modelling langauges</a> and it looks like either you have selected a wrong type or an outdated version.</p>\n"}],"owner":{"account_id":17541225,"reputation":1,"user_id":12723365,"display_name":"MOHD MUSAB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1698677866,"creation_date":1598613425,"question_id":63632743,"body_markdown":"I am continue trying to solve the error\r\nI added Java EE on my eclipse after that I Can&#39;t see the option **&#39;Dynamic Web Project&#39;**.And I can&#39;t also see the option **Server**.\r\n[here i am just watching red box mark on server tab][1]\r\n\r\n\r\n[Red Box icon is showing here before Java EE. I am not understanding what the mess it is][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SrEyM.png\r\n  \r\n  [2]: https://i.stack.imgur.com/7di93.png\r\n \r\n  I tried all the methods for this subject but didn&#39;t get the output.\r\n","title":"Added Java EE after installing new software but Dynamic Web project is not available yet","body":"<p>I am continue trying to solve the error\nI added Java EE on my eclipse after that I Can't see the option <strong>'Dynamic Web Project'</strong>.And I can't also see the option <strong>Server</strong>.\n<a href=\"https://i.stack.imgur.com/SrEyM.png\" rel=\"nofollow noreferrer\">here i am just watching red box mark on server tab</a></p>\n<p><a href=\"https://i.stack.imgur.com/7di93.png\" rel=\"nofollow noreferrer\">Red Box icon is showing here before Java EE. I am not understanding what the mess it is</a></p>\n<p>I tried all the methods for this subject but didn't get the output.</p>\n"},{"tags":["java","ssl","jks"],"answers":[{"comments":[{"owner":{"account_id":1792804,"reputation":83,"user_id":1632848,"display_name":"drdeath"},"score":0,"creation_date":1620508743,"post_id":67438809,"comment_id":119223271,"body_markdown":"Puh, that&#39;s some intense stuff, I&#39;ll need a bit to parse that, see how to best integrate it with the existing code... But at least it seems possible, thanks for the input!","body":"Puh, that&#39;s some intense stuff, I&#39;ll need a bit to parse that, see how to best integrate it with the existing code... But at least it seems possible, thanks for the input!"}],"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656108786,"creation_date":1620405886,"answer_id":67438809,"question_id":67434145,"body_markdown":"It is possible but not supported out of the box. I had the same challenge for one of my projects. I resolved it by wrapping the KeyManager and TrustManager instance into a delegating one and I added an additional method to set the internal KeyManager and TrustManager whenever I want to replace to old one. So you have two option in my opinion see below for the details:\r\n\r\n**Option 1**\r\n\r\nUse only plain java code and copy the below KeyManager and TrustManager.\r\n\r\n- [HotSwappableX509ExtendedKeyManager](https://github.com/Hakky54/sslcontext-kickstart/blob/master/sslcontext-kickstart/src/main/java/nl/altindag/ssl/keymanager/HotSwappableX509ExtendedKeyManager.java)\r\n```java\r\nimport javax.net.ssl.SSLEngine;\r\nimport javax.net.ssl.X509ExtendedKeyManager;\r\nimport java.net.Socket;\r\nimport java.security.Principal;\r\nimport java.security.PrivateKey;\r\nimport java.security.cert.X509Certificate;\r\nimport java.util.Objects;\r\n\r\npublic final class HotSwappableX509ExtendedKeyManager extends X509ExtendedKeyManager {\r\n\r\n    private X509ExtendedKeyManager keyManager;\r\n\r\n    public HotSwappableX509ExtendedKeyManager(X509ExtendedKeyManager keyManager) {\r\n        this.keyManager = keyManager;\r\n    }\r\n\r\n    @Override\r\n    public String chooseClientAlias(String[] keyType, Principal[] issuers, Socket socket) {\r\n        return keyManager.chooseClientAlias(keyType, issuers, socket);\r\n    }\r\n\r\n    @Override\r\n    public String[] getClientAliases(String keyType, Principal[] issuers) {\r\n        return keyManager.getClientAliases(keyType, issuers);\r\n    }\r\n\r\n    @Override\r\n    public String chooseEngineClientAlias(String[] keyTypes, Principal[] issuers, SSLEngine sslEngine) {\r\n        return keyManager.chooseEngineClientAlias(keyTypes, issuers, sslEngine);\r\n    }\r\n\r\n    @Override\r\n    public String chooseServerAlias(String keyType, Principal[] issuers, Socket socket) {\r\n        return keyManager.chooseServerAlias(keyType, issuers, socket);\r\n    }\r\n\r\n    @Override\r\n    public String[] getServerAliases(String keyType, Principal[] issuers) {\r\n        return keyManager.getServerAliases(keyType, issuers);\r\n    }\r\n\r\n    @Override\r\n    public String chooseEngineServerAlias(String keyType, Principal[] issuers, SSLEngine sslEngine) {\r\n        return keyManager.chooseEngineServerAlias(keyType, issuers, sslEngine);\r\n    }\r\n\r\n    @Override\r\n    public PrivateKey getPrivateKey(String alias) {\r\n        return keyManager.getPrivateKey(alias);\r\n    }\r\n\r\n    @Override\r\n    public X509Certificate[] getCertificateChain(String alias) {\r\n        return keyManager.getCertificateChain(alias);\r\n    }\r\n\r\n    public void setKeyManager(X509ExtendedKeyManager keyManager) {\r\n        this.keyManager = Objects.requireNonNull(keyManager);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n- [HotSwappableX509ExtendedTrustManager](https://github.com/Hakky54/sslcontext-kickstart/blob/master/sslcontext-kickstart/src/main/java/nl/altindag/ssl/trustmanager/HotSwappableX509ExtendedTrustManager.java)\r\n\r\n```java\r\nimport javax.net.ssl.SSLEngine;\r\nimport javax.net.ssl.X509ExtendedTrustManager;\r\nimport java.net.Socket;\r\nimport java.security.cert.CertificateException;\r\nimport java.security.cert.X509Certificate;\r\nimport java.util.Arrays;\r\nimport java.util.Objects;\r\n\r\npublic class HotSwappableX509ExtendedTrustManager extends X509ExtendedTrustManager {\r\n\r\n    private X509ExtendedTrustManager trustManager;\r\n\r\n    public HotSwappableX509ExtendedTrustManager(X509ExtendedTrustManager trustManager) {\r\n        this.trustManager = trustManager;\r\n    }\r\n\r\n    @Override\r\n    public void checkClientTrusted(X509Certificate[] chain, String authType, Socket socket) throws CertificateException {\r\n        trustManager.checkClientTrusted(chain, authType, socket);\r\n    }\r\n\r\n    @Override\r\n    public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n        trustManager.checkClientTrusted(chain, authType);\r\n    }\r\n\r\n    @Override\r\n    public void checkClientTrusted(X509Certificate[] chain, String authType, SSLEngine sslEngine) throws CertificateException {\r\n        trustManager.checkClientTrusted(chain, authType, sslEngine);\r\n    }\r\n\r\n    @Override\r\n    public void checkServerTrusted(X509Certificate[] chain, String authType, Socket socket) throws CertificateException {\r\n        trustManager.checkServerTrusted(chain, authType, socket);\r\n    }\r\n\r\n    @Override\r\n    public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n        trustManager.checkServerTrusted(chain, authType);\r\n    }\r\n\r\n    @Override\r\n    public void checkServerTrusted(X509Certificate[] chain, String authType, SSLEngine sslEngine) throws CertificateException {\r\n        trustManager.checkServerTrusted(chain, authType, sslEngine);\r\n    }\r\n\r\n    @Override\r\n    public X509Certificate[] getAcceptedIssuers() {\r\n        X509Certificate[] acceptedIssuers = trustManager.getAcceptedIssuers();\r\n        return Arrays.copyOf(acceptedIssuers, acceptedIssuers.length);\r\n    }\r\n\r\n    public void setTrustManager(X509ExtendedTrustManager trustManager) {\r\n        this.trustManager = Objects.requireNonNull(trustManager);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd use the above wrappers like the below snippet:\r\n```java\r\nimport javax.net.ssl.KeyManager;\r\nimport javax.net.ssl.KeyManagerFactory;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.SSLSession;\r\nimport javax.net.ssl.SSLSessionContext;\r\nimport javax.net.ssl.SSLServerSocketFactory;\r\nimport javax.net.ssl.TrustManager;\r\nimport javax.net.ssl.TrustManagerFactory;\r\nimport javax.net.ssl.X509ExtendedKeyManager;\r\nimport javax.net.ssl.X509ExtendedTrustManager;\r\nimport java.io.InputStream;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.nio.file.StandardOpenOption;\r\nimport java.util.Collections;\r\nimport java.util.Objects;\r\nimport java.security.KeyStore;\r\n\r\npublic class App {\r\n    \r\n    public static void main(String[] args) throws Exception {\r\n        Path keyStorePath = Paths.get(&quot;/path/to/keystore.jks&quot;);\r\n        InputStream keyStoreInputStream = Files.newInputStream(keyStorePath, StandardOpenOption.READ);\r\n        KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n        keyStore.load(keyStoreInputStream, &quot;secret&quot;.toCharArray());\r\n\r\n        KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n        keyManagerFactory.init(keyStore, &quot;secret&quot;.toCharArray());\r\n        KeyManager[] keyManagers = keyManagerFactory.getKeyManagers();\r\n\r\n        Path trustStorePath = Paths.get(&quot;/path/to/truststore.jks&quot;);\r\n        InputStream trustStoreInputStream = Files.newInputStream(trustStorePath, StandardOpenOption.READ);\r\n        KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n        trustStore.load(trustStoreInputStream, &quot;secret&quot;.toCharArray());\r\n\r\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n        trustManagerFactory.init(keyStore);\r\n        TrustManager[] trustManagers = trustManagerFactory.getTrustManagers();\r\n\r\n        HotSwappableX509ExtendedKeyManager hotSwappableX509ExtendedKeyManager = new HotSwappableX509ExtendedKeyManager((X509ExtendedKeyManager) keyManagers[0]);\r\n        HotSwappableX509ExtendedTrustManager hotSwappableX509ExtendedTrustManager = new HotSwappableX509ExtendedTrustManager((X509ExtendedTrustManager) trustManagers[0]);\r\n\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n        sslContext.init(new KeyManager[]{hotSwappableX509ExtendedKeyManager}, new TrustManager[]{hotSwappableX509ExtendedTrustManager}, null);\r\n        SSLServerSocketFactory sslServerSocketFactory = sslContext.getServerSocketFactory();\r\n\r\n        // use the sslServerSocketFactory\r\n        // after some time update the key and trust material with the following snippet\r\n        X509ExtendedKeyManager myNewKeyManager = ...;\r\n        X509ExtendedTrustManager myNewTrustManager = ...;\r\n        hotSwappableX509ExtendedKeyManager.setKeyManager(myNewKeyManager);\r\n        hotSwappableX509ExtendedTrustManager.setTrustManager(myNewTrustManager);\r\n        SSLSessionContext sslSessionContext = sslContext.getServerSessionContext()\r\n        Collections.list(sslSessionContext.getIds()).stream()\r\n                .map(sslSessionContext::getSession)\r\n                .filter(Objects::nonNull)\r\n                .forEach(SSLSession::invalidate);\r\n    }\r\n    \r\n}\r\n```\r\n\r\n**Option 2**\r\n\r\nI have made option 1 already available within my own library, see here for the details: [GitHub - SSLContext Kickstart](https://github.com/Hakky54/sslcontext-kickstart#support-for-swapping-keymanager-and-trustmanager-at-runtime).\r\n\r\nAdd the following dependency to your project:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sslcontext-kickstart&lt;/artifactId&gt;\r\n    &lt;version&gt;7.4.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAnd use the following snippet:\r\n```java\r\nimport nl.altindag.ssl.SSLFactory;\r\nimport nl.altindag.ssl.util.SSLFactoryUtils;\r\n\r\nimport javax.net.ssl.SSLServerSocketFactory;\r\nimport java.nio.file.Paths;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        SSLFactory baseSslFactory = SSLFactory.builder()\r\n                .withDummyIdentityMaterial()\r\n                .withDummyTrustMaterial()\r\n                .withSwappableIdentityMaterial()\r\n                .withSwappableTrustMaterial()\r\n                .build();\r\n\r\n        SSLServerSocketFactory sslServerSocketFactory = baseSslFactory.getSslServerSocketFactory();\r\n\r\n        Runnable sslUpdater = () -&gt; {\r\n            SSLFactory updatedSslFactory = SSLFactory.builder()\r\n                    .withIdentityMaterial(Paths.get(&quot;/path/to/your/identity.jks&quot;), &quot;password&quot;.toCharArray())\r\n                    .withTrustMaterial(Paths.get(&quot;/path/to/your/truststore.jks&quot;), &quot;password&quot;.toCharArray())\r\n                    .build();\r\n\r\n            SSLFactoryUtils.reload(baseSslFactory, updatedSslFactory);\r\n        };\r\n\r\n        // initial update of ssl material to replace the dummies\r\n        sslUpdater.run();\r\n\r\n        // update ssl material every hour    \r\n        Executors.newSingleThreadScheduledExecutor().scheduleAtFixedRate(sslUpdater, 1, 1, TimeUnit.HOURS);\r\n    }\r\n}\r\n```","title":"Replace certificates in a running java application","body":"<p>It is possible but not supported out of the box. I had the same challenge for one of my projects. I resolved it by wrapping the KeyManager and TrustManager instance into a delegating one and I added an additional method to set the internal KeyManager and TrustManager whenever I want to replace to old one. So you have two option in my opinion see below for the details:</p>\n<p><strong>Option 1</strong></p>\n<p>Use only plain java code and copy the below KeyManager and TrustManager.</p>\n<ul>\n<li><a href=\"https://github.com/Hakky54/sslcontext-kickstart/blob/master/sslcontext-kickstart/src/main/java/nl/altindag/ssl/keymanager/HotSwappableX509ExtendedKeyManager.java\" rel=\"nofollow noreferrer\">HotSwappableX509ExtendedKeyManager</a></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.net.ssl.SSLEngine;\nimport javax.net.ssl.X509ExtendedKeyManager;\nimport java.net.Socket;\nimport java.security.Principal;\nimport java.security.PrivateKey;\nimport java.security.cert.X509Certificate;\nimport java.util.Objects;\n\npublic final class HotSwappableX509ExtendedKeyManager extends X509ExtendedKeyManager {\n\n    private X509ExtendedKeyManager keyManager;\n\n    public HotSwappableX509ExtendedKeyManager(X509ExtendedKeyManager keyManager) {\n        this.keyManager = keyManager;\n    }\n\n    @Override\n    public String chooseClientAlias(String[] keyType, Principal[] issuers, Socket socket) {\n        return keyManager.chooseClientAlias(keyType, issuers, socket);\n    }\n\n    @Override\n    public String[] getClientAliases(String keyType, Principal[] issuers) {\n        return keyManager.getClientAliases(keyType, issuers);\n    }\n\n    @Override\n    public String chooseEngineClientAlias(String[] keyTypes, Principal[] issuers, SSLEngine sslEngine) {\n        return keyManager.chooseEngineClientAlias(keyTypes, issuers, sslEngine);\n    }\n\n    @Override\n    public String chooseServerAlias(String keyType, Principal[] issuers, Socket socket) {\n        return keyManager.chooseServerAlias(keyType, issuers, socket);\n    }\n\n    @Override\n    public String[] getServerAliases(String keyType, Principal[] issuers) {\n        return keyManager.getServerAliases(keyType, issuers);\n    }\n\n    @Override\n    public String chooseEngineServerAlias(String keyType, Principal[] issuers, SSLEngine sslEngine) {\n        return keyManager.chooseEngineServerAlias(keyType, issuers, sslEngine);\n    }\n\n    @Override\n    public PrivateKey getPrivateKey(String alias) {\n        return keyManager.getPrivateKey(alias);\n    }\n\n    @Override\n    public X509Certificate[] getCertificateChain(String alias) {\n        return keyManager.getCertificateChain(alias);\n    }\n\n    public void setKeyManager(X509ExtendedKeyManager keyManager) {\n        this.keyManager = Objects.requireNonNull(keyManager);\n    }\n\n}\n\n</code></pre>\n<ul>\n<li><a href=\"https://github.com/Hakky54/sslcontext-kickstart/blob/master/sslcontext-kickstart/src/main/java/nl/altindag/ssl/trustmanager/HotSwappableX509ExtendedTrustManager.java\" rel=\"nofollow noreferrer\">HotSwappableX509ExtendedTrustManager</a></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.net.ssl.SSLEngine;\nimport javax.net.ssl.X509ExtendedTrustManager;\nimport java.net.Socket;\nimport java.security.cert.CertificateException;\nimport java.security.cert.X509Certificate;\nimport java.util.Arrays;\nimport java.util.Objects;\n\npublic class HotSwappableX509ExtendedTrustManager extends X509ExtendedTrustManager {\n\n    private X509ExtendedTrustManager trustManager;\n\n    public HotSwappableX509ExtendedTrustManager(X509ExtendedTrustManager trustManager) {\n        this.trustManager = trustManager;\n    }\n\n    @Override\n    public void checkClientTrusted(X509Certificate[] chain, String authType, Socket socket) throws CertificateException {\n        trustManager.checkClientTrusted(chain, authType, socket);\n    }\n\n    @Override\n    public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n        trustManager.checkClientTrusted(chain, authType);\n    }\n\n    @Override\n    public void checkClientTrusted(X509Certificate[] chain, String authType, SSLEngine sslEngine) throws CertificateException {\n        trustManager.checkClientTrusted(chain, authType, sslEngine);\n    }\n\n    @Override\n    public void checkServerTrusted(X509Certificate[] chain, String authType, Socket socket) throws CertificateException {\n        trustManager.checkServerTrusted(chain, authType, socket);\n    }\n\n    @Override\n    public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n        trustManager.checkServerTrusted(chain, authType);\n    }\n\n    @Override\n    public void checkServerTrusted(X509Certificate[] chain, String authType, SSLEngine sslEngine) throws CertificateException {\n        trustManager.checkServerTrusted(chain, authType, sslEngine);\n    }\n\n    @Override\n    public X509Certificate[] getAcceptedIssuers() {\n        X509Certificate[] acceptedIssuers = trustManager.getAcceptedIssuers();\n        return Arrays.copyOf(acceptedIssuers, acceptedIssuers.length);\n    }\n\n    public void setTrustManager(X509ExtendedTrustManager trustManager) {\n        this.trustManager = Objects.requireNonNull(trustManager);\n    }\n\n}\n</code></pre>\n<p>And use the above wrappers like the below snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.net.ssl.KeyManager;\nimport javax.net.ssl.KeyManagerFactory;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLSession;\nimport javax.net.ssl.SSLSessionContext;\nimport javax.net.ssl.SSLServerSocketFactory;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.TrustManagerFactory;\nimport javax.net.ssl.X509ExtendedKeyManager;\nimport javax.net.ssl.X509ExtendedTrustManager;\nimport java.io.InputStream;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.StandardOpenOption;\nimport java.util.Collections;\nimport java.util.Objects;\nimport java.security.KeyStore;\n\npublic class App {\n    \n    public static void main(String[] args) throws Exception {\n        Path keyStorePath = Paths.get(&quot;/path/to/keystore.jks&quot;);\n        InputStream keyStoreInputStream = Files.newInputStream(keyStorePath, StandardOpenOption.READ);\n        KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\n        keyStore.load(keyStoreInputStream, &quot;secret&quot;.toCharArray());\n\n        KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n        keyManagerFactory.init(keyStore, &quot;secret&quot;.toCharArray());\n        KeyManager[] keyManagers = keyManagerFactory.getKeyManagers();\n\n        Path trustStorePath = Paths.get(&quot;/path/to/truststore.jks&quot;);\n        InputStream trustStoreInputStream = Files.newInputStream(trustStorePath, StandardOpenOption.READ);\n        KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\n        trustStore.load(trustStoreInputStream, &quot;secret&quot;.toCharArray());\n\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        trustManagerFactory.init(keyStore);\n        TrustManager[] trustManagers = trustManagerFactory.getTrustManagers();\n\n        HotSwappableX509ExtendedKeyManager hotSwappableX509ExtendedKeyManager = new HotSwappableX509ExtendedKeyManager((X509ExtendedKeyManager) keyManagers[0]);\n        HotSwappableX509ExtendedTrustManager hotSwappableX509ExtendedTrustManager = new HotSwappableX509ExtendedTrustManager((X509ExtendedTrustManager) trustManagers[0]);\n\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(new KeyManager[]{hotSwappableX509ExtendedKeyManager}, new TrustManager[]{hotSwappableX509ExtendedTrustManager}, null);\n        SSLServerSocketFactory sslServerSocketFactory = sslContext.getServerSocketFactory();\n\n        // use the sslServerSocketFactory\n        // after some time update the key and trust material with the following snippet\n        X509ExtendedKeyManager myNewKeyManager = ...;\n        X509ExtendedTrustManager myNewTrustManager = ...;\n        hotSwappableX509ExtendedKeyManager.setKeyManager(myNewKeyManager);\n        hotSwappableX509ExtendedTrustManager.setTrustManager(myNewTrustManager);\n        SSLSessionContext sslSessionContext = sslContext.getServerSessionContext()\n        Collections.list(sslSessionContext.getIds()).stream()\n                .map(sslSessionContext::getSession)\n                .filter(Objects::nonNull)\n                .forEach(SSLSession::invalidate);\n    }\n    \n}\n</code></pre>\n<p><strong>Option 2</strong></p>\n<p>I have made option 1 already available within my own library, see here for the details: <a href=\"https://github.com/Hakky54/sslcontext-kickstart#support-for-swapping-keymanager-and-trustmanager-at-runtime\" rel=\"nofollow noreferrer\">GitHub - SSLContext Kickstart</a>.</p>\n<p>Add the following dependency to your project:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n    &lt;artifactId&gt;sslcontext-kickstart&lt;/artifactId&gt;\n    &lt;version&gt;7.4.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And use the following snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import nl.altindag.ssl.SSLFactory;\nimport nl.altindag.ssl.util.SSLFactoryUtils;\n\nimport javax.net.ssl.SSLServerSocketFactory;\nimport java.nio.file.Paths;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeUnit;\n\npublic class App {\n\n    public static void main(String[] args) throws Exception {\n        SSLFactory baseSslFactory = SSLFactory.builder()\n                .withDummyIdentityMaterial()\n                .withDummyTrustMaterial()\n                .withSwappableIdentityMaterial()\n                .withSwappableTrustMaterial()\n                .build();\n\n        SSLServerSocketFactory sslServerSocketFactory = baseSslFactory.getSslServerSocketFactory();\n\n        Runnable sslUpdater = () -&gt; {\n            SSLFactory updatedSslFactory = SSLFactory.builder()\n                    .withIdentityMaterial(Paths.get(&quot;/path/to/your/identity.jks&quot;), &quot;password&quot;.toCharArray())\n                    .withTrustMaterial(Paths.get(&quot;/path/to/your/truststore.jks&quot;), &quot;password&quot;.toCharArray())\n                    .build();\n\n            SSLFactoryUtils.reload(baseSslFactory, updatedSslFactory);\n        };\n\n        // initial update of ssl material to replace the dummies\n        sslUpdater.run();\n\n        // update ssl material every hour    \n        Executors.newSingleThreadScheduledExecutor().scheduleAtFixedRate(sslUpdater, 1, 1, TimeUnit.HOURS);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9867471,"reputation":1,"user_id":22631007,"display_name":"Gene Gleyzer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698677213,"creation_date":1698677213,"answer_id":77389628,"question_id":67434145,"body_markdown":"I think another solution would be to provide a custom X509ExtendedKeyManager and implement &quot;chooseEngineServerAlias&quot; method, for example:\r\n\r\n    SSLSession session = engine.getHandshakeSession();\r\n    if (session instanceof ExtendedSSLSession sessionEx)\r\n        {\r\n        List&lt;SNIServerName&gt; listNames = sessionEx.getRequestedServerNames();\r\n        if (listNames.size() &gt; 0)\r\n            {\r\n            String sHost = ((SNIHostName) listNames.get(0)).getAsciiName();\r\n            // get a certificate for the host\r\n            }\r\n        }\r\n    return f_sServerAlias;\r\n    }\r\n\r\n","title":"Replace certificates in a running java application","body":"<p>I think another solution would be to provide a custom X509ExtendedKeyManager and implement &quot;chooseEngineServerAlias&quot; method, for example:</p>\n<pre><code>SSLSession session = engine.getHandshakeSession();\nif (session instanceof ExtendedSSLSession sessionEx)\n    {\n    List&lt;SNIServerName&gt; listNames = sessionEx.getRequestedServerNames();\n    if (listNames.size() &gt; 0)\n        {\n        String sHost = ((SNIHostName) listNames.get(0)).getAsciiName();\n        // get a certificate for the host\n        }\n    }\nreturn f_sServerAlias;\n}\n</code></pre>\n"}],"owner":{"account_id":1792804,"reputation":83,"user_id":1632848,"display_name":"drdeath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":768,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67438809,"answer_count":2,"score":1,"last_activity_date":1698677213,"creation_date":1620386905,"question_id":67434145,"body_markdown":"I have a java application that opens a SSLServerSocket. To create that SSLServerSocket, it uses a KeyStore which it loads from the DB. Every so often we will roll over the certificates in the DB.\r\n\r\nThe way the application is set up right now, it keeps the SSLServerSocket forever and will never start using the new certificates unless it it manually restarted.\r\n\r\nDoes java have a way to hot replace the certificate an SSLServerSocket uses? If not, what is the accepted best practice in this situation?","title":"Replace certificates in a running java application","body":"<p>I have a java application that opens a SSLServerSocket. To create that SSLServerSocket, it uses a KeyStore which it loads from the DB. Every so often we will roll over the certificates in the DB.</p>\n<p>The way the application is set up right now, it keeps the SSLServerSocket forever and will never start using the new certificates unless it it manually restarted.</p>\n<p>Does java have a way to hot replace the certificate an SSLServerSocket uses? If not, what is the accepted best practice in this situation?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":18806936,"reputation":1,"user_id":13716050,"display_name":"SpaceBurrito"},"score":0,"creation_date":1698663641,"post_id":77387975,"comment_id":136429584,"body_markdown":"I changed my request to the following:\n    \n    {\n        &quot;user&quot;:{\n        &quot;name&quot;: &quot;Max&quot;,\n         ....\n        },\n        &quot;address&quot;:{\n        &quot;street&quot;: &quot;testStreet&quot;,\n        .....\n        }\n    }\nNo Im getting the error message that my model is missing:\nResolved [org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public org.springframework.http.ResponseEntity&lt;com.example.EatMe.model.User&gt; com.example.EatMe.controller.UserController.addUser(com.example.EatMe.model.User,com.example.EatMe.model.Address)]","body":"I changed my request to the following:          {         &quot;user&quot;:{         &quot;name&quot;: &quot;Max&quot;,          ....         },         &quot;address&quot;:{         &quot;street&quot;: &quot;testStreet&quot;,         .....         }     } No Im getting the error message that my model is missing: Resolved [org.springframework.http.converter.HttpMessageNotReadableEx&zwnj;&#8203;ception: Required request body is missing: public org.springframework.http.ResponseEntity&lt;com.example.EatMe.mo&zwnj;&#8203;del.User&gt; com.example.EatMe.controller.UserController.addUser(com.exam&zwnj;&#8203;ple.EatMe.model.User&zwnj;&#8203;,com.example.EatMe.m&zwnj;&#8203;odel.Address)]"},{"owner":{"account_id":18806936,"reputation":1,"user_id":13716050,"display_name":"SpaceBurrito"},"score":0,"creation_date":1698663933,"post_id":77387975,"comment_id":136429655,"body_markdown":"I tried to reach my newUser and print it out and changed my function to the following:\n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;User&gt; addUser(@RequestBody User newUser,@RequestBody Address newAddress){\n        System.out.println(newUser);\n\n//        addressService.addAddress(newAddress);\n          return userService.addUser(newUser);\n        }","body":"I tried to reach my newUser and print it out and changed my function to the following:     @PostMapping(&quot;/add&quot;)     public ResponseEntity&lt;User&gt; addUser(@RequestBody User newUser,@RequestBody Address newAddress){         System.out.println(newUser);  //        addressService.addAddress(newAddress);           return userService.addUser(newUser);         }"},{"owner":{"account_id":26036230,"reputation":260,"user_id":19741639,"display_name":"viking"},"score":0,"creation_date":1698664475,"post_id":77387975,"comment_id":136429736,"body_markdown":"Read again, you should create new type which wrapping your request `public ResponseEntity&lt;User&gt; addUser(@RequestBody AddressAndUserReqest request)`","body":"Read again, you should create new type which wrapping your request <code>public ResponseEntity&lt;User&gt; addUser(@RequestBody AddressAndUserReqest request)</code>"},{"owner":{"account_id":18806936,"reputation":1,"user_id":13716050,"display_name":"SpaceBurrito"},"score":0,"creation_date":1698740643,"post_id":77387975,"comment_id":136440370,"body_markdown":"Thanks for your answer @viking. I think a DTO would be that what I need to achieve my goal.","body":"Thanks for your answer @viking. I think a DTO would be that what I need to achieve my goal."}],"tags":[],"owner":{"account_id":26036230,"reputation":260,"user_id":19741639,"display_name":"viking"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698662568,"creation_date":1698662568,"answer_id":77387975,"question_id":77387729,"body_markdown":"@RequestBody annotated parameter is expected to hold the entire body of the request and bind to one object.\r\n\r\nYou have to wrap this request to one object\r\n\r\n    {\r\n        &quot;address&quot;:{},\r\n        &quot;user&quot;:{}\r\n    }\r\n\r\nYou actually tried to pass an array of different objects\r\n\r\n\r\n\r\n","title":"Creating multiple entries with dependency","body":"<p>@RequestBody annotated parameter is expected to hold the entire body of the request and bind to one object.</p>\n<p>You have to wrap this request to one object</p>\n<pre><code>{\n    &quot;address&quot;:{},\n    &quot;user&quot;:{}\n}\n</code></pre>\n<p>You actually tried to pass an array of different objects</p>\n"}],"owner":{"account_id":18806936,"reputation":1,"user_id":13716050,"display_name":"SpaceBurrito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698675719,"creation_date":1698660391,"question_id":77387729,"body_markdown":"I want to build an build an eat delivery application with java spring boot. Therefore I created a new project with controllers, repositories and services for a user and address model. I could already save successfully my new created user and my new created address separately. Now I connected my User and Address with a OneToOne connection and tried to save both entries with only one post request. Unfortunately I&#39;m pretty clueless how to save two entries with only one post request. I already tried by my own and getting the following error message:\r\n\r\n&gt;&quot; Resolved \\[org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `com.example.EatMe.model.Address` from Array value (token`JsonToken.START_ARRAY`)\\]&quot;\r\n\r\nI already tried to google for this problem, but I was unable to find a solution due to the lack of my missing wording to this problem.\r\nCould maybe some one explain to me what&#39;s the correct way to do multiple transactions in one request.\r\n\r\nI created the following user model.\r\n\r\n    package com.example.EatMe.model;\r\n\r\n\timport jakarta.persistence.*;\r\n\t\t\r\n\timport java.util.Set;\r\n\r\n\t@Entity\r\n\tpublic class User {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\t@Column(nullable = false)\r\n\tprivate String name;\r\n\t@Column(nullable = false)\r\n\tprivate String surname;\r\n\t@Column(unique = true, nullable = false)\r\n\tprivate String mail;\r\n\t@Column(nullable = false)\r\n\tprivate String userType;\r\n\r\n\t\t@OneToMany\r\n\t\t@JoinColumn(name = &quot;userId&quot;)\r\n\t\tprivate Set&lt;Address&gt; addresses;\r\n\t\t\r\n\t\tpublic Set&lt;Address&gt; getAddresses() {\r\n\t\t\treturn addresses;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setAddresses(Set&lt;Address&gt; addresses) {\r\n\t\t\tthis.addresses = addresses;\r\n\t\t}\r\n\t\t\r\n\t\tpublic Integer getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setId(Integer id) {\r\n\t\t\t\tthis.id = id;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tpublic String getName() {\r\n\t\t\t\treturn name;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tpublic void setName(String name) {\r\n\t\t\t\tthis.name = name;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tpublic String getSurname() {\r\n\t\t\t\treturn surname;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tpublic void setSurname(String surname) {\r\n\t\t\t\tthis.surname = surname;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tpublic String getMail() {\r\n\t\t\t\treturn mail;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tpublic void setMail(String mail) {\r\n\t\t\t\tthis.mail = mail;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tpublic String getUserType() {\r\n\t\t\t\treturn userType;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tpublic void setUserType(String userType) {\r\n\t\t\t\tthis.userType = userType;\r\n\t\t\t}\r\n\t\t\r\n\t\t}\r\n\r\n\r\nThis is my user Controller and the UserSerivce.\r\n\r\n    package com.example.EatMe.controller;\r\n\r\n\timport com.example.EatMe.model.User;\r\n\timport com.example.EatMe.service.AddressService;\r\n\timport com.example.EatMe.service.UserService;\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.http.ResponseEntity;\r\n\timport org.springframework.web.bind.annotation.\\*;\r\n\r\n\t@RestController()\r\n\t@RequestMapping(&quot;/api/user&quot;)\r\n\tpublic class UserController {\r\n\r\n\t\t@Autowired\r\n\t\tprivate UserService userService;\r\n\t\t@Autowired\r\n\t\tprivate AddressService addressService;\r\n\t\t\r\n\t\t@PostMapping(&quot;/add&quot;)\r\n\t\tpublic ResponseEntity&lt;User&gt; addUser(@RequestBody User newUser){\r\n\t\t\treturn userService.addUser(newUser);\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\t@PatchMapping(&quot;/editMail&quot;)\r\n\t\tpublic ResponseEntity&lt;User&gt; editMail(@RequestParam(value = &quot;id&quot;) int id,@RequestParam(value = &quot;mail&quot;) String mail){\r\n\t\t\treturn userService.setEmail(id, mail);\r\n\t\t}\r\n\t\t\r\n\t\t@DeleteMapping(&quot;/deleteUser&quot;)\r\n\t\tpublic ResponseEntity&lt;User&gt; deleteUser(@RequestParam(value = &quot;id&quot;) int id){\r\n\t\t\treturn userService.deleteUser(id);\r\n\t\t}\r\n\r\n\t}\r\n \r\n    package com.example.EatMe.service;\r\n\r\n\timport com.example.EatMe.model.User;\r\n\timport com.example.EatMe.repository.UserRepository;\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.http.HttpStatus;\r\n\timport org.springframework.http.ResponseEntity;\r\n\timport org.springframework.stereotype.Service;\r\n\timport org.springframework.web.bind.annotation.RequestBody;\r\n\timport org.springframework.web.bind.annotation.RequestParam;\r\n\r\n\timport java.util.Optional;\r\n\r\n\t@Service\r\n\tpublic class UserService {\r\n\t@Autowired\r\n\tprivate UserRepository userRepository;\r\n\r\n\t\tpublic ResponseEntity&lt;User&gt; addUser(@RequestBody User newUser){\r\n\t\t\tvar userInDB = userRepository.findByMail(newUser.getMail());\r\n\t\t\tif(userInDB.isPresent()){\r\n\t\t\t\treturn new ResponseEntity(&quot;Email is already used.&quot;, HttpStatus.BAD_REQUEST);\r\n\t\t\t}else{\r\n\t\t\t\tuserRepository.save(newUser);\r\n\t\t\t\treturn new ResponseEntity(&quot;New user added.&quot;, HttpStatus.OK);\r\n\t\t\t}\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic ResponseEntity&lt;User&gt; setEmail(@RequestParam(value = &quot;id&quot;) int id,@RequestParam(value = &quot;mail&quot;) String mail){\r\n\t\t\tOptional&lt;User&gt; userToEdit = userRepository.findById(id);\r\n\t\t\t\tif(userToEdit.isPresent()){\r\n\t\t\t\t\tuserToEdit.get().setMail(mail);\r\n\t\t\t\t\tUser userToSave = userRepository.save(userToEdit.get());\r\n\t\t\t\t\treturn new ResponseEntity(&quot;Email was edited to &quot; + userToSave.getMail(), HttpStatus.OK);\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn new ResponseEntity(&quot;User not found&quot;, HttpStatus.NOT_FOUND);\r\n\t\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tpublic ResponseEntity&lt;User&gt; deleteUser(@RequestParam(value = &quot;id&quot;) int id){\r\n\t\t\tOptional&lt;User&gt; userToDelete = userRepository.findById(id);\r\n\t\t\tif(userToDelete.isPresent()){\r\n\t\t\t\tuserRepository.deleteById(id);\r\n\t\t\t\treturn new ResponseEntity(&quot;User deleted&quot; , HttpStatus.OK);\r\n\t\t\t}else {\r\n\t\t\t\treturn new ResponseEntity(&quot;User not found&quot;, HttpStatus.NOT_FOUND);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\tuserRepository.deleteById(id);\r\n\r\n\r\nI also created the address model, controller and service\r\n\r\n    package com.example.EatMe.model;\r\n\r\n\timport jakarta.persistence.*;\r\n\r\n\t@Entity\r\n\tpublic class Address {\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\tprivate Integer id;\r\n\t\t@Column(nullable = false)\r\n\t\tprivate String street;\r\n\t\t@Column(nullable = false)\r\n\t\tprivate Integer streetNumber;\r\n\t\t@Column(nullable = false)\r\n\t\tprivate Integer postcode;\r\n\r\n\t\tprivate Integer userId;\r\n\r\n\t\tpublic Integer getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\r\n\t\tpublic void setId(Integer id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\r\n\t\tpublic String getStreet() {\r\n\t\t\treturn street;\r\n\t\t}\r\n\r\n\t\tpublic void setStreet(String street) {\r\n\t\t\tthis.street = street;\r\n\t\t}\r\n\r\n\t\tpublic Integer getStreetNumber() {\r\n\t\t\treturn streetNumber;\r\n\t\t}\r\n\r\n\t\tpublic void setStreetNumber(Integer streetNumber) {\r\n\t\t\tthis.streetNumber = streetNumber;\r\n\t\t}\r\n\r\n\t\tpublic Integer getPostcode() {\r\n\t\t\treturn postcode;\r\n\t\t}\r\n\r\n\t\tpublic void setPostcode(Integer postcode) {\r\n\t\t\tthis.postcode = postcode;\r\n\t\t}\r\n\r\n\t\tpublic Integer getUserId() {\r\n\t\t\treturn userId;\r\n\t\t}\r\n\r\n\t\tpublic void setUserId(Integer userId) {\r\n\t\t\tthis.userId = userId;\r\n\t\t}\r\n\t}\r\n\r\n    package com.example.EatMe.controller;\r\n\r\n\timport com.example.EatMe.model.Address;\r\n\timport com.example.EatMe.service.AddressService;\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.http.ResponseEntity;\r\n\timport org.springframework.web.bind.annotation.PostMapping;\r\n\timport org.springframework.web.bind.annotation.RequestBody;\r\n\timport org.springframework.web.bind.annotation.RequestMapping;\r\n\timport org.springframework.web.bind.annotation.RestController;\r\n\r\n\t@RestController\r\n\t@RequestMapping(&quot;/api/address&quot;)\r\n\tpublic class AddressController {\r\n\t@Autowired\r\n\tprivate AddressService addressService;\r\n\r\n\t\t@PostMapping(&quot;/add&quot;)\r\n\t\tpublic ResponseEntity&lt;Address&gt; addUser(@RequestBody Address newAddress){\r\n\t\t\treturn addressService.addAddress(newAddress);\r\n\t\t\r\n\t\t}\r\n\r\n\t}\r\n \r\n\r\n    package com.example.EatMe.service;\r\n\r\n\timport com.example.EatMe.model.Address;\r\n\timport com.example.EatMe.repository.AddressRepository;\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.http.HttpStatus;\r\n\timport org.springframework.http.ResponseEntity;\r\n\timport org.springframework.stereotype.Service;\r\n\timport org.springframework.web.bind.annotation.RequestBody;\r\n\r\n\t@Service\r\n\tpublic class AddressService {\r\n\r\n\t\t@Autowired\r\n\t\tprivate AddressRepository addressRepository;\r\n\t\t\r\n\t\tpublic ResponseEntity&lt;Address&gt; addAddress(@RequestBody Address address){\r\n\t\t\t\taddressRepository.save(address);\r\n\t\t\t\treturn new ResponseEntity(&quot;New address created.&quot;, HttpStatus.OK);\r\n\t\t\t}\r\n\r\n\t}\r\n\r\n\r\nNow I tried to combine the service call in my UserController to take both Requestbodies and save them at once. But like I implemented it the Address model needs the UserId which is not created at the time I&#39;m trying to save my address\r\n\r\n\tpackage com.example.EatMe.controller;\r\n\r\n\timport com.example.EatMe.model.Address;\r\n\timport com.example.EatMe.model.User;\r\n\timport com.example.EatMe.service.AddressService;\r\n\timport com.example.EatMe.service.UserService;\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.http.ResponseEntity;\r\n\timport org.springframework.web.bind.annotation.\\*;\r\n\r\n\t@RestController()\r\n\t@RequestMapping(&quot;/api/user&quot;)\r\n\tpublic class UserController {\r\n\r\n\t\t@Autowired\r\n\t\tprivate UserService userService;\r\n\t\t@Autowired\r\n\t\tprivate AddressService addressService;\r\n\t\t\r\n\t\t@PostMapping(&quot;/add&quot;)\r\n\t\tpublic ResponseEntity&lt;User&gt; addUser(@RequestBody Address newAddress, @RequestBody User newUser){\r\n\t\t\taddressService.addAddress(newAddress);\r\n\t\t\treturn userService.addUser(newUser);\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\t@PatchMapping(&quot;/editMail&quot;)\r\n\t\tpublic ResponseEntity&lt;User&gt; editMail(@RequestParam(value = &quot;id&quot;) int id,@RequestParam(value = &quot;mail&quot;) String mail){\r\n\t\t\treturn userService.setEmail(id, mail);\r\n\t\t}\r\n\t\t\r\n\t\t@DeleteMapping(&quot;/deleteUser&quot;)\r\n\t\tpublic ResponseEntity&lt;User&gt; deleteUser(@RequestParam(value = &quot;id&quot;) int id){\r\n\t\t\treturn userService.deleteUser(id);\r\n\t\t}\r\n\r\n\t}\r\n \r\n\r\nThe following is the request I&#39;m sending with postman to the application\r\n\r\n    [{\r\n\t&quot;street&quot;: &quot;testStreet&quot;,\r\n\t&quot;streetNumber&quot; : 1,\r\n\t&quot;postcode&quot; : 1234\r\n\r\n\t},{\r\n\t&quot;name&quot;: &quot;Max&quot;,\r\n\t&quot;surname&quot;:&quot;Muster&quot;,\r\n\t&quot;mail&quot;:&quot;test@mail.de&quot;,\r\n\t&quot;userType&quot;:&quot;none&quot;\r\n\t}]\r\n\r\nIf someone needs any further information just tell me I excluded my repositories at this point due to the fact that I only implemented a findByMail method, nothing much.","title":"Creating multiple entries with dependency","body":"<p>I want to build an build an eat delivery application with java spring boot. Therefore I created a new project with controllers, repositories and services for a user and address model. I could already save successfully my new created user and my new created address separately. Now I connected my User and Address with a OneToOne connection and tried to save both entries with only one post request. Unfortunately I'm pretty clueless how to save two entries with only one post request. I already tried by my own and getting the following error message:</p>\n<blockquote>\n<p>&quot; Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type <code>com.example.EatMe.model.Address</code> from Array value (token<code>JsonToken.START_ARRAY</code>)]&quot;</p>\n</blockquote>\n<p>I already tried to google for this problem, but I was unable to find a solution due to the lack of my missing wording to this problem.\nCould maybe some one explain to me what's the correct way to do multiple transactions in one request.</p>\n<p>I created the following user model.</p>\n<pre><code>package com.example.EatMe.model;\n\nimport jakarta.persistence.*;\n    \nimport java.util.Set;\n\n@Entity\npublic class User {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer id;\n@Column(nullable = false)\nprivate String name;\n@Column(nullable = false)\nprivate String surname;\n@Column(unique = true, nullable = false)\nprivate String mail;\n@Column(nullable = false)\nprivate String userType;\n\n    @OneToMany\n    @JoinColumn(name = &quot;userId&quot;)\n    private Set&lt;Address&gt; addresses;\n    \n    public Set&lt;Address&gt; getAddresses() {\n        return addresses;\n    }\n    \n    public void setAddresses(Set&lt;Address&gt; addresses) {\n        this.addresses = addresses;\n    }\n    \n    public Integer getId() {\n        return id;\n    }\n    \n    public void setId(Integer id) {\n            this.id = id;\n        }\n    \n        public String getName() {\n            return name;\n        }\n    \n        public void setName(String name) {\n            this.name = name;\n        }\n    \n        public String getSurname() {\n            return surname;\n        }\n    \n        public void setSurname(String surname) {\n            this.surname = surname;\n        }\n    \n        public String getMail() {\n            return mail;\n        }\n    \n        public void setMail(String mail) {\n            this.mail = mail;\n        }\n    \n        public String getUserType() {\n            return userType;\n        }\n    \n        public void setUserType(String userType) {\n            this.userType = userType;\n        }\n    \n    }\n</code></pre>\n<p>This is my user Controller and the UserSerivce.</p>\n<pre><code>package com.example.EatMe.controller;\n\nimport com.example.EatMe.model.User;\nimport com.example.EatMe.service.AddressService;\nimport com.example.EatMe.service.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.\\*;\n\n@RestController()\n@RequestMapping(&quot;/api/user&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n    @Autowired\n    private AddressService addressService;\n    \n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;User&gt; addUser(@RequestBody User newUser){\n        return userService.addUser(newUser);\n    \n    }\n    \n    @PatchMapping(&quot;/editMail&quot;)\n    public ResponseEntity&lt;User&gt; editMail(@RequestParam(value = &quot;id&quot;) int id,@RequestParam(value = &quot;mail&quot;) String mail){\n        return userService.setEmail(id, mail);\n    }\n    \n    @DeleteMapping(&quot;/deleteUser&quot;)\n    public ResponseEntity&lt;User&gt; deleteUser(@RequestParam(value = &quot;id&quot;) int id){\n        return userService.deleteUser(id);\n    }\n\n}\n\npackage com.example.EatMe.service;\n\nimport com.example.EatMe.model.User;\nimport com.example.EatMe.repository.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestParam;\n\nimport java.util.Optional;\n\n@Service\npublic class UserService {\n@Autowired\nprivate UserRepository userRepository;\n\n    public ResponseEntity&lt;User&gt; addUser(@RequestBody User newUser){\n        var userInDB = userRepository.findByMail(newUser.getMail());\n        if(userInDB.isPresent()){\n            return new ResponseEntity(&quot;Email is already used.&quot;, HttpStatus.BAD_REQUEST);\n        }else{\n            userRepository.save(newUser);\n            return new ResponseEntity(&quot;New user added.&quot;, HttpStatus.OK);\n        }\n    \n    }\n    \n    public ResponseEntity&lt;User&gt; setEmail(@RequestParam(value = &quot;id&quot;) int id,@RequestParam(value = &quot;mail&quot;) String mail){\n        Optional&lt;User&gt; userToEdit = userRepository.findById(id);\n            if(userToEdit.isPresent()){\n                userToEdit.get().setMail(mail);\n                User userToSave = userRepository.save(userToEdit.get());\n                return new ResponseEntity(&quot;Email was edited to &quot; + userToSave.getMail(), HttpStatus.OK);\n            }else{\n                return new ResponseEntity(&quot;User not found&quot;, HttpStatus.NOT_FOUND);\n            }\n    }\n    \n    public ResponseEntity&lt;User&gt; deleteUser(@RequestParam(value = &quot;id&quot;) int id){\n        Optional&lt;User&gt; userToDelete = userRepository.findById(id);\n        if(userToDelete.isPresent()){\n            userRepository.deleteById(id);\n            return new ResponseEntity(&quot;User deleted&quot; , HttpStatus.OK);\n        }else {\n            return new ResponseEntity(&quot;User not found&quot;, HttpStatus.NOT_FOUND);\n        }\n    }\n\n}\nuserRepository.deleteById(id);\n</code></pre>\n<p>I also created the address model, controller and service</p>\n<pre><code>package com.example.EatMe.model;\n\nimport jakarta.persistence.*;\n\n@Entity\npublic class Address {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    @Column(nullable = false)\n    private String street;\n    @Column(nullable = false)\n    private Integer streetNumber;\n    @Column(nullable = false)\n    private Integer postcode;\n\n    private Integer userId;\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getStreet() {\n        return street;\n    }\n\n    public void setStreet(String street) {\n        this.street = street;\n    }\n\n    public Integer getStreetNumber() {\n        return streetNumber;\n    }\n\n    public void setStreetNumber(Integer streetNumber) {\n        this.streetNumber = streetNumber;\n    }\n\n    public Integer getPostcode() {\n        return postcode;\n    }\n\n    public void setPostcode(Integer postcode) {\n        this.postcode = postcode;\n    }\n\n    public Integer getUserId() {\n        return userId;\n    }\n\n    public void setUserId(Integer userId) {\n        this.userId = userId;\n    }\n}\n\npackage com.example.EatMe.controller;\n\nimport com.example.EatMe.model.Address;\nimport com.example.EatMe.service.AddressService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/api/address&quot;)\npublic class AddressController {\n@Autowired\nprivate AddressService addressService;\n\n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;Address&gt; addUser(@RequestBody Address newAddress){\n        return addressService.addAddress(newAddress);\n    \n    }\n\n}\n\n\npackage com.example.EatMe.service;\n\nimport com.example.EatMe.model.Address;\nimport com.example.EatMe.repository.AddressRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.bind.annotation.RequestBody;\n\n@Service\npublic class AddressService {\n\n    @Autowired\n    private AddressRepository addressRepository;\n    \n    public ResponseEntity&lt;Address&gt; addAddress(@RequestBody Address address){\n            addressRepository.save(address);\n            return new ResponseEntity(&quot;New address created.&quot;, HttpStatus.OK);\n        }\n\n}\n</code></pre>\n<p>Now I tried to combine the service call in my UserController to take both Requestbodies and save them at once. But like I implemented it the Address model needs the UserId which is not created at the time I'm trying to save my address</p>\n<pre><code>package com.example.EatMe.controller;\n\nimport com.example.EatMe.model.Address;\nimport com.example.EatMe.model.User;\nimport com.example.EatMe.service.AddressService;\nimport com.example.EatMe.service.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.\\*;\n\n@RestController()\n@RequestMapping(&quot;/api/user&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n    @Autowired\n    private AddressService addressService;\n    \n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;User&gt; addUser(@RequestBody Address newAddress, @RequestBody User newUser){\n        addressService.addAddress(newAddress);\n        return userService.addUser(newUser);\n    \n    }\n    \n    @PatchMapping(&quot;/editMail&quot;)\n    public ResponseEntity&lt;User&gt; editMail(@RequestParam(value = &quot;id&quot;) int id,@RequestParam(value = &quot;mail&quot;) String mail){\n        return userService.setEmail(id, mail);\n    }\n    \n    @DeleteMapping(&quot;/deleteUser&quot;)\n    public ResponseEntity&lt;User&gt; deleteUser(@RequestParam(value = &quot;id&quot;) int id){\n        return userService.deleteUser(id);\n    }\n\n}\n</code></pre>\n<p>The following is the request I'm sending with postman to the application</p>\n<pre><code>[{\n&quot;street&quot;: &quot;testStreet&quot;,\n&quot;streetNumber&quot; : 1,\n&quot;postcode&quot; : 1234\n\n},{\n&quot;name&quot;: &quot;Max&quot;,\n&quot;surname&quot;:&quot;Muster&quot;,\n&quot;mail&quot;:&quot;test@mail.de&quot;,\n&quot;userType&quot;:&quot;none&quot;\n}]\n</code></pre>\n<p>If someone needs any further information just tell me I excluded my repositories at this point due to the fact that I only implemented a findByMail method, nothing much.</p>\n"},{"tags":["java","httpclient"],"answers":[{"tags":[],"owner":{"account_id":15894648,"reputation":59,"user_id":11468710,"display_name":"Punit Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698675619,"creation_date":1574873692,"answer_id":59075042,"question_id":59056267,"body_markdown":"After going through lots of articles I have found a solution to the problem. This is caused by:\r\n\r\n - most usually, writing to a connection when the other end has already closed it;\r\n - less usually, the peer closing the connection without reading all the data that is already pending at his end.\r\n\r\n**I found one useful article here:**\r\nhttps://blog.stackpath.com/glossary-keep-alive/\r\n\r\nIt is working only by just adding in header below line:\r\n```java\r\nheaders.add(new&#160;BasicHeader(HttpHeaders.CONNECTION,&#160;&quot;close&quot;));\r\n```","title":"java.net.SocketException: Broken pipe (Write failed) while posting json payload to rest api","body":"<p>After going through lots of articles I have found a solution to the problem. This is caused by:</p>\n<ul>\n<li>most usually, writing to a connection when the other end has already closed it;</li>\n<li>less usually, the peer closing the connection without reading all the data that is already pending at his end.</li>\n</ul>\n<p><strong>I found one useful article here:</strong>\n<a href=\"https://blog.stackpath.com/glossary-keep-alive/\" rel=\"nofollow noreferrer\">https://blog.stackpath.com/glossary-keep-alive/</a></p>\n<p>It is working only by just adding in header below line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>headers.add(new BasicHeader(HttpHeaders.CONNECTION, &quot;close&quot;));\n</code></pre>\n"}],"owner":{"account_id":15894648,"reputation":59,"user_id":11468710,"display_name":"Punit Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9569,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1698675619,"creation_date":1574788833,"question_id":59056267,"body_markdown":"Getting java.net.SocketException: Broken pipe (Write failed) while sending json payload arround size of 3.2 mb in size but its intermittent. However for small size it&#39;s working. The code is running on jetty server.\r\n\r\nI thought there may be memory issue after upgrading server memory with heap size arround 7GB and verified while running this job memory and cpu utilization was normal but still it is failing.\r\n\r\nAlso we try with modifying below sysctl setting on jetty server but still no luck sometimes get processed successfully but from few days it continously failing.\r\n\r\n\t   sysctl -w net.core.rmem_max=16777216 &#160;sysctl -w\r\n\t   net.core.wmem_max=16777216 &#160;sysctl -w net.ipv4.tcp_rmem=&quot;4096 87380\r\n\t   16777216&quot; &#160;sysctl -w net.ipv4.tcp_wmem=&quot;4096 16384 16777216&quot;  &#160;sysctl\r\n\t   -w net.core.somaxconn=4096  &#160;sysctl -w net.core.netdev_max_backlog=16384 &#160;sysctl -w net.ipv4.tcp_max_syn_backlog=8192 \r\n\r\nBelow is code that we are using to call rest api:\r\n\r\n       RestClient restTemplate = null;\r\n\t   HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(payload, headers);\r\n\t   ResponseEntity&lt;String&gt; responseEntity = null;try\r\n\t\t{\r\n\t\t\trestTemplate = new RestClient(null, null, accessKey, secretKey);\r\n\t\t\tresponseEntity = restTemplate.exchange(url, method, entity, String.class);\r\n\t\t\treturn responseEntity;\r\n\t\t}catch(\r\n\t\tException ex)\r\n\t\t{\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t// contructor setting\r\n\t\tpublic RestClient(final String proxyHost, final String proxyPort, final String username, final String password) {\r\n\t\t\tCredentialsProvider credsProvider = new BasicCredentialsProvider();\r\n\t\t\tcredsProvider.setCredentials(new AuthScope(null, -1), new UsernamePasswordCredentials(username, password));\r\n\t\t\tHttpClient httpClient = HttpClients.custom().setDefaultCredentialsProvider(credsProvider).build();\r\n\t\t\tsetRequestFactory(new HttpComponentsClientHttpRequestFactory(httpClient));\r\n\t\t}\r\n\t\r\nAny idea how i can fix this issue, i am struggling past more than 20 days. Please let me know if you need any more input.\r\n","title":"java.net.SocketException: Broken pipe (Write failed) while posting json payload to rest api","body":"<p>Getting java.net.SocketException: Broken pipe (Write failed) while sending json payload arround size of 3.2 mb in size but its intermittent. However for small size it's working. The code is running on jetty server.</p>\n\n<p>I thought there may be memory issue after upgrading server memory with heap size arround 7GB and verified while running this job memory and cpu utilization was normal but still it is failing.</p>\n\n<p>Also we try with modifying below sysctl setting on jetty server but still no luck sometimes get processed successfully but from few days it continously failing.</p>\n\n<pre><code>   sysctl -w net.core.rmem_max=16777216  sysctl -w\n   net.core.wmem_max=16777216  sysctl -w net.ipv4.tcp_rmem=\"4096 87380\n   16777216\"  sysctl -w net.ipv4.tcp_wmem=\"4096 16384 16777216\"   sysctl\n   -w net.core.somaxconn=4096   sysctl -w net.core.netdev_max_backlog=16384  sysctl -w net.ipv4.tcp_max_syn_backlog=8192 \n</code></pre>\n\n<p>Below is code that we are using to call rest api:</p>\n\n<pre><code>   RestClient restTemplate = null;\n   HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(payload, headers);\n   ResponseEntity&lt;String&gt; responseEntity = null;try\n    {\n        restTemplate = new RestClient(null, null, accessKey, secretKey);\n        responseEntity = restTemplate.exchange(url, method, entity, String.class);\n        return responseEntity;\n    }catch(\n    Exception ex)\n    {\n\n    }\n\n    // contructor setting\n    public RestClient(final String proxyHost, final String proxyPort, final String username, final String password) {\n        CredentialsProvider credsProvider = new BasicCredentialsProvider();\n        credsProvider.setCredentials(new AuthScope(null, -1), new UsernamePasswordCredentials(username, password));\n        HttpClient httpClient = HttpClients.custom().setDefaultCredentialsProvider(credsProvider).build();\n        setRequestFactory(new HttpComponentsClientHttpRequestFactory(httpClient));\n    }\n</code></pre>\n\n<p>Any idea how i can fix this issue, i am struggling past more than 20 days. Please let me know if you need any more input.</p>\n"},{"tags":["java","ldap","opendj","forgerock","opends"],"owner":{"account_id":21297231,"reputation":35,"user_id":15673603,"display_name":"NiceBoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698675465,"creation_date":1698675042,"question_id":77389362,"body_markdown":"I am upgrading OpenDJ 4.5.4 to OpenDS 6.5.6, Referring to the official documentation.\r\n\r\nAfter executing upgrade command,  \r\nIn Post-Upgrade task I am getting this error\r\n\r\n```\r\n&gt;&gt;&gt;&gt; Performing post upgrade tasks\r\n\r\n  Rebuilding index(es) &#39;[.caseIgnoreJsonQueryMatch,\r\n  .caseExactJsonQueryMatch,\r\n  ds-sync-hist.changeSequenceNumberOrderingMatch]&#39; for base dn(s)\r\n  &#39;[dc=example,dc=com]&#39;...............................................   FAIL\r\n  Rebuilding index(es) &#39;[.caseIgnoreJsonQueryMatch,\r\n  .caseExactJsonQueryMatch,\r\n  ds-sync-hist.changeSequenceNumberOrderingMatch]&#39; for base dn(s)\r\n  &#39;[dc=example,dc=com]&#39;...............................................   FAIL\r\n  [!] An error occurred during post upgrade task. Process aborted. Please\r\n  check log for further details\r\n```\r\n\r\nIn upgrade.log, I am getting this error:\r\n\r\n```\r\n[30/10/2023:19:20:40 +0530] category=TOOLS seq=125 severity=SEVERE msg=An error occurred while attempting to perform index rebuild:  The database environment could not be opened: com.sleepycat.je.VersionMismatchException: (JE 7.5.11) C:\\Softwares\\opendj\\db\\userRoot Expected log version 15 or earlier but found 17 VERSION_MISMATCH: The existing log was written with a version of JE that is later than the running version of JE, the log cannot be read. Environment is invalid and must be closed. Couldn&#39;t open file C:\\Softwares\\opendj\\db\\userRoot\\00000001.jdb\r\nRebuild index aborted: an error has occurred while rebuilding indexes for base DN &#39;dc=example,dc=com&#39;.\r\n[30/10/2023:19:20:40 +0530] category=TOOLS seq=126 severity=WARNING msg=An error occurred during post upgrade task. Process aborted. Please check log for further details\r\n```\r\n\r\nIn entire OpenDJ folder, I am not able to see any file where LOG_VERSION is set to 17.\r\n\r\nAfter executing start-ds command also I am getting same version_mismatch error. Even though Server is started, Data from OpenDJ 4.5.4 is not migrated as &quot;Base DN&quot; is not created.","title":"OpenDJ upgradation: com.sleepycat.je.VersionMismatchException: Expected log version 15 or earlier but found 17 VERSION_MISMATCH","body":"<p>I am upgrading OpenDJ 4.5.4 to OpenDS 6.5.6, Referring to the official documentation.</p>\n<p>After executing upgrade command,<br />\nIn Post-Upgrade task I am getting this error</p>\n<pre><code>&gt;&gt;&gt;&gt; Performing post upgrade tasks\n\n  Rebuilding index(es) '[.caseIgnoreJsonQueryMatch,\n  .caseExactJsonQueryMatch,\n  ds-sync-hist.changeSequenceNumberOrderingMatch]' for base dn(s)\n  '[dc=example,dc=com]'...............................................   FAIL\n  Rebuilding index(es) '[.caseIgnoreJsonQueryMatch,\n  .caseExactJsonQueryMatch,\n  ds-sync-hist.changeSequenceNumberOrderingMatch]' for base dn(s)\n  '[dc=example,dc=com]'...............................................   FAIL\n  [!] An error occurred during post upgrade task. Process aborted. Please\n  check log for further details\n</code></pre>\n<p>In upgrade.log, I am getting this error:</p>\n<pre><code>[30/10/2023:19:20:40 +0530] category=TOOLS seq=125 severity=SEVERE msg=An error occurred while attempting to perform index rebuild:  The database environment could not be opened: com.sleepycat.je.VersionMismatchException: (JE 7.5.11) C:\\Softwares\\opendj\\db\\userRoot Expected log version 15 or earlier but found 17 VERSION_MISMATCH: The existing log was written with a version of JE that is later than the running version of JE, the log cannot be read. Environment is invalid and must be closed. Couldn't open file C:\\Softwares\\opendj\\db\\userRoot\\00000001.jdb\nRebuild index aborted: an error has occurred while rebuilding indexes for base DN 'dc=example,dc=com'.\n[30/10/2023:19:20:40 +0530] category=TOOLS seq=126 severity=WARNING msg=An error occurred during post upgrade task. Process aborted. Please check log for further details\n</code></pre>\n<p>In entire OpenDJ folder, I am not able to see any file where LOG_VERSION is set to 17.</p>\n<p>After executing start-ds command also I am getting same version_mismatch error. Even though Server is started, Data from OpenDJ 4.5.4 is not migrated as &quot;Base DN&quot; is not created.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"comments":[{"owner":{"account_id":29760610,"reputation":29,"user_id":22808304,"display_name":"kimzero"},"score":1,"creation_date":1698661241,"post_id":77387443,"comment_id":136429105,"body_markdown":"You&#39;re the one who answered the last question, too!\nThank you very much for your detailed reply. Thank you so much. I solved it again this time.\nI wish you all the best in your future!","body":"You&#39;re the one who answered the last question, too! Thank you very much for your detailed reply. Thank you so much. I solved it again this time. I wish you all the best in your future!"}],"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698675447,"creation_date":1698657713,"answer_id":77387443,"question_id":77387053,"body_markdown":"Please go through below contents to understand the layout designing using `RelativeLayout`.\r\n\r\n1. The attributes with `tools:` namespace will not be rendered on the emulator or device. They are only for preview screen. So, when you use `tools:layout_editor_absoluteX=&quot;10dp&quot;` it only affects the view position on preview screen and gets ignored on emulator or physical device. Avoid using `tools:` namespace attributes for defining position of the views.\r\n\r\n2. To arrange views relative to the parent, we have following attributes for `RelativeLayout`.\r\n\r\n```\r\nandroid:layout_alignParentStart=&quot;true&quot;\r\nandroid:layout_alignParentTop=&quot;true&quot;\r\nandroid:layout_alignParentEnd=&quot;true&quot;\r\nandroid:layout_alignParentBottom=&quot;true&quot;\r\n\r\nandroid:layout_centerHorizontal=&quot;true&quot;\r\nandroid:layout_centerVertical=&quot;true&quot;\r\nandroid:layout_centerInParent=&quot;true&quot;\r\n```\r\nAs the names clearly suggest, they align your view w.r.t to the parent at Start, Top, End or Bottom respectively. Next attributes are for arranging the view in center w.r.t the parent horizontally, vertically or both, respectively.\r\n\r\n3. To arrange a view relative to other view, use following attributes with the `id` of the view you want them relative to.\r\n```\r\nandroid:layout_below=&quot;@id/view&quot;\r\nandroid:layout_above=&quot;@id/view&quot;\r\nandroid:layout_alignEnd=&quot;@id/view&quot;\r\nandroid:layout_alignStart=&quot;@id/view&quot;\r\n```\r\n\r\nThe first two are for aligning vertically and next two are for aligning horizontally. The names are self-explanatory.\r\n\r\n4. To give spacing you can use margins. You can define them for each direction or all at once.\r\n```\r\nandroid:layout_margin=&quot;10dp&quot;\r\nandroid:layout_marginStart=&quot;10dp&quot;\r\nandroid:layout_marginEnd=&quot;10dp&quot;\r\nandroid:layout_marginTop=&quot;10dp&quot;\r\nandroid:layout_marginBottom=&quot;10dp&quot;\r\n```\r\n\r\n**Design Process** : The basic process includes designing from top-left direction. Arrange a view relative to parent and then arrange the other views relative to the previous view forming a chain. You can additionally, arrange relative to parent if required like putting a view at bottom.\r\n\r\nThis is final xml layout using the above information.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/btn_loginView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;160dp&quot;\r\n        android:text=&quot;로그인&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;40dp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        tools:layout_editor_absoluteX=&quot;10dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;130dp&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/EmView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/btn_loginView&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:text=&quot;이메일&quot;\r\n        android:textSize=&quot;20dp&quot; /&gt;\r\n\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/EtEmail&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/EmView&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;이메일을 입력해주세요&quot;\r\n        android:inputType=&quot;textEmailAddress&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/pwView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/EtEmail&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;32dp&quot;\r\n        android:text=&quot;비밀번호&quot;\r\n        android:textSize=&quot;20dp&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/EtPwd&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/pwView&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;비밀번호를 입력해주세요&quot;\r\n        android:inputType=&quot;textPassword&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/Btn_Login&quot;\r\n        android:layout_width=&quot;195dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_above=&quot;@id/Btn_Register&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginBottom=&quot;16dp&quot;\r\n        android:background=&quot;@color/purple&quot;\r\n        android:text=&quot;로그인&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;20dp&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/Btn_Register&quot;\r\n        style=&quot;?android:borderlessButtonStyle&quot;\r\n        android:layout_width=&quot;142dp&quot;\r\n        android:layout_height=&quot;39dp&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginBottom=&quot;32dp&quot;\r\n        android:text=&quot;회원가입 하기&quot;\r\n        android:textColor=&quot;#8A8A8A&quot;\r\n        android:textSize=&quot;15sp&quot; /&gt;\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nSample Output:\r\n[![Sample Output][1]][1]\r\n\r\n\r\nBelow are the things that were done wrong in your code.\r\n1. Using `tools:` namespace to define absolute position. I already mentioned above what&#39;s the use to this namespace. If you are manually dragging the view to position, it might be causing this so don&#39;t manually position views, instead use code.\r\n\r\n2. Using improper margin `android:layout_marginTop=&quot;592dp&quot;`, you aligned the register button to the top of your parent and then you are moving it below using margin. Instead align it to parent bottom and using margin to define spacing between the bottom of your screen.\r\n\r\n3. Use relative attributes as mentioned above to align views, instead of finding a combination of margin.\r\n\r\n*Hope this helps!! Keep building apps! All the best for your journey!*\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yB9oO.png","title":"Android Studio button overlap error (Java)","body":"<p>Please go through below contents to understand the layout designing using <code>RelativeLayout</code>.</p>\n<ol>\n<li><p>The attributes with <code>tools:</code> namespace will not be rendered on the emulator or device. They are only for preview screen. So, when you use <code>tools:layout_editor_absoluteX=&quot;10dp&quot;</code> it only affects the view position on preview screen and gets ignored on emulator or physical device. Avoid using <code>tools:</code> namespace attributes for defining position of the views.</p>\n</li>\n<li><p>To arrange views relative to the parent, we have following attributes for <code>RelativeLayout</code>.</p>\n</li>\n</ol>\n<pre><code>android:layout_alignParentStart=&quot;true&quot;\nandroid:layout_alignParentTop=&quot;true&quot;\nandroid:layout_alignParentEnd=&quot;true&quot;\nandroid:layout_alignParentBottom=&quot;true&quot;\n\nandroid:layout_centerHorizontal=&quot;true&quot;\nandroid:layout_centerVertical=&quot;true&quot;\nandroid:layout_centerInParent=&quot;true&quot;\n</code></pre>\n<p>As the names clearly suggest, they align your view w.r.t to the parent at Start, Top, End or Bottom respectively. Next attributes are for arranging the view in center w.r.t the parent horizontally, vertically or both, respectively.</p>\n<ol start=\"3\">\n<li>To arrange a view relative to other view, use following attributes with the <code>id</code> of the view you want them relative to.</li>\n</ol>\n<pre><code>android:layout_below=&quot;@id/view&quot;\nandroid:layout_above=&quot;@id/view&quot;\nandroid:layout_alignEnd=&quot;@id/view&quot;\nandroid:layout_alignStart=&quot;@id/view&quot;\n</code></pre>\n<p>The first two are for aligning vertically and next two are for aligning horizontally. The names are self-explanatory.</p>\n<ol start=\"4\">\n<li>To give spacing you can use margins. You can define them for each direction or all at once.</li>\n</ol>\n<pre><code>android:layout_margin=&quot;10dp&quot;\nandroid:layout_marginStart=&quot;10dp&quot;\nandroid:layout_marginEnd=&quot;10dp&quot;\nandroid:layout_marginTop=&quot;10dp&quot;\nandroid:layout_marginBottom=&quot;10dp&quot;\n</code></pre>\n<p><strong>Design Process</strong> : The basic process includes designing from top-left direction. Arrange a view relative to parent and then arrange the other views relative to the previous view forming a chain. You can additionally, arrange relative to parent if required like putting a view at bottom.</p>\n<p>This is final xml layout using the above information.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/btn_loginView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;160dp&quot;\n        android:text=&quot;로그인&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;40dp&quot;\n        android:textStyle=&quot;bold&quot;\n        tools:layout_editor_absoluteX=&quot;10dp&quot;\n        tools:layout_editor_absoluteY=&quot;130dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/EmView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/btn_loginView&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:text=&quot;이메일&quot;\n        android:textSize=&quot;20dp&quot; /&gt;\n\n\n    &lt;EditText\n        android:id=&quot;@+id/EtEmail&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/EmView&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;이메일을 입력해주세요&quot;\n        android:inputType=&quot;textEmailAddress&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/pwView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/EtEmail&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;32dp&quot;\n        android:text=&quot;비밀번호&quot;\n        android:textSize=&quot;20dp&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/EtPwd&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/pwView&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;비밀번호를 입력해주세요&quot;\n        android:inputType=&quot;textPassword&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/Btn_Login&quot;\n        android:layout_width=&quot;195dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_above=&quot;@id/Btn_Register&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginBottom=&quot;16dp&quot;\n        android:background=&quot;@color/purple&quot;\n        android:text=&quot;로그인&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;20dp&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/Btn_Register&quot;\n        style=&quot;?android:borderlessButtonStyle&quot;\n        android:layout_width=&quot;142dp&quot;\n        android:layout_height=&quot;39dp&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginBottom=&quot;32dp&quot;\n        android:text=&quot;회원가입 하기&quot;\n        android:textColor=&quot;#8A8A8A&quot;\n        android:textSize=&quot;15sp&quot; /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>Sample Output:\n<a href=\"https://i.stack.imgur.com/yB9oO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yB9oO.png\" alt=\"Sample Output\" /></a></p>\n<p>Below are the things that were done wrong in your code.</p>\n<ol>\n<li><p>Using <code>tools:</code> namespace to define absolute position. I already mentioned above what's the use to this namespace. If you are manually dragging the view to position, it might be causing this so don't manually position views, instead use code.</p>\n</li>\n<li><p>Using improper margin <code>android:layout_marginTop=&quot;592dp&quot;</code>, you aligned the register button to the top of your parent and then you are moving it below using margin. Instead align it to parent bottom and using margin to define spacing between the bottom of your screen.</p>\n</li>\n<li><p>Use relative attributes as mentioned above to align views, instead of finding a combination of margin.</p>\n</li>\n</ol>\n<p><em>Hope this helps!! Keep building apps! All the best for your journey!</em></p>\n"}],"owner":{"account_id":29760610,"reputation":29,"user_id":22808304,"display_name":"kimzero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77387443,"answer_count":1,"score":0,"last_activity_date":1698675447,"creation_date":1698653179,"question_id":77387053,"body_markdown":"I created a login screen with RelativeLayout, and when I run the emulator as shown in the picture, the buttons look overlapping. Should I change the layout? How do I solve this?\r\nPlease help me. I&#39;d appreciate your help.\r\n\r\nThe corresponding login xml source code:\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/btn_loginView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_marginStart=&quot;9dp&quot;\r\n        android:layout_marginTop=&quot;160dp&quot;\r\n        android:text=&quot;로그인&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;40dp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        tools:layout_editor_absoluteX=&quot;10dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;130dp&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/EtPwd&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_centerVertical=&quot;true&quot;\r\n        android:layout_marginTop=&quot;391dp&quot;\r\n        android:layout_marginEnd=&quot;88dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;비밀번호를 입력해주세요&quot;\r\n        android:inputType=&quot;textPassword&quot;\r\n        tools:layout_editor_absoluteX=&quot;101dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;315dp&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/EmView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_marginStart=&quot;9dp&quot;\r\n        android:layout_marginTop=&quot;319dp&quot;\r\n        android:text=&quot;이메일&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        tools:layout_editor_absoluteX=&quot;15dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;238dp&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/EtEmail&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_marginEnd=&quot;86dp&quot;\r\n        android:layout_marginBottom=&quot;495dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;이메일을 입력해주세요&quot;\r\n        android:inputType=&quot;textEmailAddress&quot;\r\n        tools:layout_editor_absoluteX=&quot;101dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;229dp&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/pwView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_centerVertical=&quot;true&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:layout_marginTop=&quot;402dp&quot;\r\n        android:text=&quot;비밀번호&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        tools:layout_editor_absoluteY=&quot;323dp&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/Btn_Login&quot;\r\n        android:layout_width=&quot;195dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginEnd=&quot;104dp&quot;\r\n        android:layout_marginBottom=&quot;294dp&quot;\r\n        android:background=&quot;@color/Gray&quot;\r\n        android:text=&quot;로그인&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        tools:layout_editor_absoluteY=&quot;493dp&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/Btn_Register&quot;\r\n        style=&quot;?android:borderlessButtonStyle&quot;\r\n        android:layout_width=&quot;142dp&quot;\r\n        android:layout_height=&quot;39dp&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;592dp&quot;\r\n        android:layout_marginEnd=&quot;132dp&quot;\r\n        android:text=&quot;회원가입 하기&quot;\r\n        android:textColor=&quot;#8A8A8A&quot;\r\n        android:textSize=&quot;15sp&quot;\r\n        tools:layout_editor_absoluteX=&quot;286dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;398dp&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n[enter image description here](https://i.stack.imgur.com/OqxhT.png)\r\n\r\nI attached the emulator execution photo as above.\r\nI&#39;d really appreciate your help.","title":"Android Studio button overlap error (Java)","body":"<p>I created a login screen with RelativeLayout, and when I run the emulator as shown in the picture, the buttons look overlapping. Should I change the layout? How do I solve this?\nPlease help me. I'd appreciate your help.</p>\n<p>The corresponding login xml source code:</p>\n<pre><code>&lt;TextView\n    android:id=&quot;@+id/btn_loginView&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentStart=&quot;true&quot;\n    android:layout_alignParentTop=&quot;true&quot;\n    android:layout_marginStart=&quot;9dp&quot;\n    android:layout_marginTop=&quot;160dp&quot;\n    android:text=&quot;로그인&quot;\n    android:textColor=&quot;@color/black&quot;\n    android:textSize=&quot;40dp&quot;\n    android:textStyle=&quot;bold&quot;\n    tools:layout_editor_absoluteX=&quot;10dp&quot;\n    tools:layout_editor_absoluteY=&quot;130dp&quot; /&gt;\n\n&lt;EditText\n    android:id=&quot;@+id/EtPwd&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentTop=&quot;true&quot;\n    android:layout_alignParentEnd=&quot;true&quot;\n    android:layout_centerVertical=&quot;true&quot;\n    android:layout_marginTop=&quot;391dp&quot;\n    android:layout_marginEnd=&quot;88dp&quot;\n    android:ems=&quot;10&quot;\n    android:hint=&quot;비밀번호를 입력해주세요&quot;\n    android:inputType=&quot;textPassword&quot;\n    tools:layout_editor_absoluteX=&quot;101dp&quot;\n    tools:layout_editor_absoluteY=&quot;315dp&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/EmView&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentStart=&quot;true&quot;\n    android:layout_alignParentTop=&quot;true&quot;\n    android:layout_marginStart=&quot;9dp&quot;\n    android:layout_marginTop=&quot;319dp&quot;\n    android:text=&quot;이메일&quot;\n    android:textSize=&quot;20dp&quot;\n    tools:layout_editor_absoluteX=&quot;15dp&quot;\n    tools:layout_editor_absoluteY=&quot;238dp&quot; /&gt;\n\n&lt;EditText\n    android:id=&quot;@+id/EtEmail&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentEnd=&quot;true&quot;\n    android:layout_alignParentBottom=&quot;true&quot;\n    android:layout_marginEnd=&quot;86dp&quot;\n    android:layout_marginBottom=&quot;495dp&quot;\n    android:ems=&quot;10&quot;\n    android:hint=&quot;이메일을 입력해주세요&quot;\n    android:inputType=&quot;textEmailAddress&quot;\n    tools:layout_editor_absoluteX=&quot;101dp&quot;\n    tools:layout_editor_absoluteY=&quot;229dp&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/pwView&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentStart=&quot;true&quot;\n    android:layout_alignParentTop=&quot;true&quot;\n    android:layout_centerVertical=&quot;true&quot;\n    android:layout_marginStart=&quot;8dp&quot;\n    android:layout_marginTop=&quot;402dp&quot;\n    android:text=&quot;비밀번호&quot;\n    android:textSize=&quot;20dp&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    tools:layout_editor_absoluteY=&quot;323dp&quot; /&gt;\n\n&lt;Button\n    android:id=&quot;@+id/Btn_Login&quot;\n    android:layout_width=&quot;195dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentEnd=&quot;true&quot;\n    android:layout_alignParentBottom=&quot;true&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    android:layout_marginEnd=&quot;104dp&quot;\n    android:layout_marginBottom=&quot;294dp&quot;\n    android:background=&quot;@color/Gray&quot;\n    android:text=&quot;로그인&quot;\n    android:textColor=&quot;@color/black&quot;\n    android:textSize=&quot;20dp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    tools:layout_editor_absoluteY=&quot;493dp&quot; /&gt;\n\n&lt;Button\n    android:id=&quot;@+id/Btn_Register&quot;\n    style=&quot;?android:borderlessButtonStyle&quot;\n    android:layout_width=&quot;142dp&quot;\n    android:layout_height=&quot;39dp&quot;\n    android:layout_alignParentTop=&quot;true&quot;\n    android:layout_alignParentEnd=&quot;true&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    android:layout_marginTop=&quot;592dp&quot;\n    android:layout_marginEnd=&quot;132dp&quot;\n    android:text=&quot;회원가입 하기&quot;\n    android:textColor=&quot;#8A8A8A&quot;\n    android:textSize=&quot;15sp&quot;\n    tools:layout_editor_absoluteX=&quot;286dp&quot;\n    tools:layout_editor_absoluteY=&quot;398dp&quot; /&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/OqxhT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I attached the emulator execution photo as above.\nI'd really appreciate your help.</p>\n"},{"tags":["java","spring-boot","database-migration","flyway"],"owner":{"account_id":4227103,"reputation":1688,"user_id":3460387,"accept_rate":75,"display_name":"KiKo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698674762,"creation_date":1698671796,"question_id":77388963,"body_markdown":"Previously I was using flyway version 7.15.0 and I created MigrationResolver like this\r\n\r\n    public class ApplicationContextAwareMigrationResolver implements MigrationResolver {\r\n\r\n      @Override\r\n      public Collection&lt;ResolvedMigration&gt; resolveMigrations(Context context) {\r\n        List&lt;ResolvedMigration&gt; migrations = new ArrayList&lt;&gt;();\r\n    \r\n        Map&lt;String, JavaMigration&gt; migrationBeans =\r\n            this.applicationContext.getBeansOfType(JavaMigration.class);\r\n    \r\n        for (JavaMigration javaMigration : migrationBeans.values()) {\r\n          ResolvedMigrationImpl resolvedMigration = new ResolvedJavaMigration(javaMigration);\r\n          migrations.add(resolvedMigration);\r\n        }\r\n    \r\n        migrations.sort(new ResolvedMigrationComparator());\r\n        return migrations;\r\n      }\r\n    }\r\n\r\nAfter upgrading to version 9.22.3 ResolvedJavaMigration does not exist in import org.flywaydb.core.internal.resolver.java.ResolvedJavaMigration;\r\n\r\nFrom the documentation: &#39;getResolvedMigration&#39; method on Java Migrations interface now takes a StatementInterceptor\r\n\r\nI could not find a solution to how I can create ResolvedMigrationImpl in version 9.22.3.\r\n\r\nI tried like this:\r\n\r\n    ResolvedMigration resolvedMigration = javaMigration.getResolvedMigration(new ClassicConfiguration(), StatementInterceptor)\r\n\r\nI don&#39;t know how to create StatementInterceptor\r\n","title":"Flyway custom MigrationResolver","body":"<p>Previously I was using flyway version 7.15.0 and I created MigrationResolver like this</p>\n<pre><code>public class ApplicationContextAwareMigrationResolver implements MigrationResolver {\n\n  @Override\n  public Collection&lt;ResolvedMigration&gt; resolveMigrations(Context context) {\n    List&lt;ResolvedMigration&gt; migrations = new ArrayList&lt;&gt;();\n\n    Map&lt;String, JavaMigration&gt; migrationBeans =\n        this.applicationContext.getBeansOfType(JavaMigration.class);\n\n    for (JavaMigration javaMigration : migrationBeans.values()) {\n      ResolvedMigrationImpl resolvedMigration = new ResolvedJavaMigration(javaMigration);\n      migrations.add(resolvedMigration);\n    }\n\n    migrations.sort(new ResolvedMigrationComparator());\n    return migrations;\n  }\n}\n</code></pre>\n<p>After upgrading to version 9.22.3 ResolvedJavaMigration does not exist in import org.flywaydb.core.internal.resolver.java.ResolvedJavaMigration;</p>\n<p>From the documentation: 'getResolvedMigration' method on Java Migrations interface now takes a StatementInterceptor</p>\n<p>I could not find a solution to how I can create ResolvedMigrationImpl in version 9.22.3.</p>\n<p>I tried like this:</p>\n<pre><code>ResolvedMigration resolvedMigration = javaMigration.getResolvedMigration(new ClassicConfiguration(), StatementInterceptor)\n</code></pre>\n<p>I don't know how to create StatementInterceptor</p>\n"},{"tags":["java","spring-cloud","spring-cloud-gateway"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1698675032,"post_id":77389252,"comment_id":136431673,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1698676585,"post_id":77389252,"comment_id":136431977,"body_markdown":"Looks at the read body predicate","body":"Looks at the read body predicate"},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1698687171,"post_id":77389252,"comment_id":136434203,"body_markdown":"@Community what details do I need to provide?","body":"@Community what details do I need to provide?"}],"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698674145,"creation_date":1698674097,"question_id":77389252,"body_markdown":"Suppose I want to forward only those requests whose bodies have valid schemas (JSON attributes match those that a service expects). How do I do it? What GPT suggests is suspiciously clumsy so I was wondering whether there&#39;s a better way\r\n```java\r\n// some routing function inside Spring Cloud Gateway code\r\n        return spec -&gt; spec\r\n                .predicate(serverWebExchange -&gt; serverWebExchange.getRequest()\r\n                                                                  .getBody()\r\n                                                                  // what&#39;s next?\r\n                )\r\n                .and()\r\n                .path(&quot;/api/example&quot;)\r\n                .uri(&quot;http://SOME_SERVICE&quot;);\r\n```\r\nHow do I do it?","title":"How do I check a request body against a provided schema in Spring Cloud Gateway?","body":"<p>Suppose I want to forward only those requests whose bodies have valid schemas (JSON attributes match those that a service expects). How do I do it? What GPT suggests is suspiciously clumsy so I was wondering whether there's a better way</p>\n<pre class=\"lang-java prettyprint-override\"><code>// some routing function inside Spring Cloud Gateway code\n        return spec -&gt; spec\n                .predicate(serverWebExchange -&gt; serverWebExchange.getRequest()\n                                                                  .getBody()\n                                                                  // what's next?\n                )\n                .and()\n                .path(&quot;/api/example&quot;)\n                .uri(&quot;http://SOME_SERVICE&quot;);\n</code></pre>\n<p>How do I do it?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1697989415,"post_id":77340205,"comment_id":136345645,"body_markdown":"I believe cut/copy/paste is handled by the TransferHandler. You are are replacing the TransferHandler so you lose the default implementaton. Check out the Swing tutorial on [Drag and Drop and Data Transfer](https://docs.oracle.com/javase/tutorial/uiswing/dnd/index.html),","body":"I believe cut/copy/paste is handled by the TransferHandler. You are are replacing the TransferHandler so you lose the default implementaton. Check out the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/dnd/index.html\" rel=\"nofollow noreferrer\">Drag and Drop and Data Transfer</a>,"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1698008650,"post_id":77340205,"comment_id":136347660,"body_markdown":"All subclasses of JTextComponent, including JTextArea, install their own [subclass of TransferHandler](https://github.com/openjdk/jdk/blob/master/src/java.desktop/share/classes/javax/swing/text/JTextComponent.java#L4034).  Your subclass will probably need to delegate all methods which you otherwise wouldn’t override to that default TransferHandler.","body":"All subclasses of JTextComponent, including JTextArea, install their own <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.desktop/share/classes/javax/swing/text/JTextComponent.java#L4034\" rel=\"nofollow noreferrer\">subclass of TransferHandler</a>.  Your subclass will probably need to delegate all methods which you otherwise wouldn’t override to that default TransferHandler."}],"answers":[{"tags":[],"owner":{"account_id":3092822,"reputation":3094,"user_id":2618609,"accept_rate":100,"display_name":"Evil Toad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698674141,"creation_date":1698674141,"answer_id":77389261,"question_id":77340205,"body_markdown":"The right thing to do here is not to implement a `TransferHandler` but rather to subclass `DropTarget` and replace that. Redefine only the method(s) that you want to customize. Drag and drop gestures with text still work as before.\r\n\r\n    requestTextArea.setDropTarget(new DropTarget(){\r\n    \t@Override\r\n    \tpublic synchronized void drop(DropTargetDropEvent dtde) {\r\n    \t\ttry {\r\n    \t\t\tif(!dtde.getCurrentDataFlavorsAsList().isEmpty() &amp;&amp;\r\n    \t\t\t\t\tdtde.getCurrentDataFlavorsAsList().get(0).getHumanPresentableName().equals(&quot;application/x-java-file-list&quot;)) {\r\n    \t\t\t\tdtde.acceptDrop(DnDConstants.ACTION_COPY_OR_MOVE);\r\n    \t\t\t\tList&lt;File&gt; files = (List&lt;File&gt;) dtde.getTransferable().getTransferData(DataFlavor.javaFileListFlavor);\r\n                    \r\n                    // use files...\r\n    \t\t\t\t\r\n    \t\t\t\tdtde.dropComplete(true);\r\n    \r\n    \t\t\t\tvalidate();\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t\tsuper.drop(dtde);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\tshowError(e);\r\n    \t\t\tdtde.dropComplete(false);\r\n    \t\t}\r\n    \t}\r\n    });","title":"Replacing TransferHandler implementation in JTextArea breaks Ctrl+C - WHY?","body":"<p>The right thing to do here is not to implement a <code>TransferHandler</code> but rather to subclass <code>DropTarget</code> and replace that. Redefine only the method(s) that you want to customize. Drag and drop gestures with text still work as before.</p>\n<pre><code>requestTextArea.setDropTarget(new DropTarget(){\n    @Override\n    public synchronized void drop(DropTargetDropEvent dtde) {\n        try {\n            if(!dtde.getCurrentDataFlavorsAsList().isEmpty() &amp;&amp;\n                    dtde.getCurrentDataFlavorsAsList().get(0).getHumanPresentableName().equals(&quot;application/x-java-file-list&quot;)) {\n                dtde.acceptDrop(DnDConstants.ACTION_COPY_OR_MOVE);\n                List&lt;File&gt; files = (List&lt;File&gt;) dtde.getTransferable().getTransferData(DataFlavor.javaFileListFlavor);\n                \n                // use files...\n                \n                dtde.dropComplete(true);\n\n                validate();\n            }\n            else\n                super.drop(dtde);\n        } catch (Exception e) {\n            e.printStackTrace();\n            showError(e);\n            dtde.dropComplete(false);\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":3092822,"reputation":3094,"user_id":2618609,"accept_rate":100,"display_name":"Evil Toad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77389261,"answer_count":1,"score":1,"last_activity_date":1698674141,"creation_date":1697982503,"question_id":77340205,"body_markdown":"In order to manage the &quot;drop&quot; of a file into a `JTextArea`, in the constructor of a `JPanel` I do this:\r\n\r\n    TransferHandler transferHandler = new DecoderTransferHandler();\r\n    requestTextArea.setTransferHandler(transferHandler);\r\n\r\n`DecoderTransferHandler` is an inner class of the `JPanel`\r\n\r\n    class DecoderTransferHandler extends TransferHandler {\r\n    \r\n        @Override\r\n        public boolean canImport(TransferSupport support) {\r\n            if(support.isDataFlavorSupported(DataFlavor.javaFileListFlavor))\r\n                    return true;\r\n            return super.canImport(support);\r\n        }\r\n    \r\n        @Override\r\n        public boolean importData(TransferSupport support) {\r\n            try {\r\n                if(!canImport(support))\r\n                    return false;\r\n    \r\n                List&lt;File&gt; files = (List&lt;File&gt;) support.getTransferable().getTransferData(DataFlavor.javaFileListFlavor);\r\n                if (files.isEmpty())\r\n                    return super.importData(support);\r\n\r\n                // etc...\r\n    \r\n                validate();\r\n                return true;\r\n            } catch (Exception e) {\r\n                showError(e);\r\n                return false;\r\n            }\r\n        }\r\n    }\r\nIt works like a charm except Ctrl+C does not work anymore for this particular JTextArea (`requestTextArea`)... WHY?","title":"Replacing TransferHandler implementation in JTextArea breaks Ctrl+C - WHY?","body":"<p>In order to manage the &quot;drop&quot; of a file into a <code>JTextArea</code>, in the constructor of a <code>JPanel</code> I do this:</p>\n<pre><code>TransferHandler transferHandler = new DecoderTransferHandler();\nrequestTextArea.setTransferHandler(transferHandler);\n</code></pre>\n<p><code>DecoderTransferHandler</code> is an inner class of the <code>JPanel</code></p>\n<pre><code>class DecoderTransferHandler extends TransferHandler {\n\n    @Override\n    public boolean canImport(TransferSupport support) {\n        if(support.isDataFlavorSupported(DataFlavor.javaFileListFlavor))\n                return true;\n        return super.canImport(support);\n    }\n\n    @Override\n    public boolean importData(TransferSupport support) {\n        try {\n            if(!canImport(support))\n                return false;\n\n            List&lt;File&gt; files = (List&lt;File&gt;) support.getTransferable().getTransferData(DataFlavor.javaFileListFlavor);\n            if (files.isEmpty())\n                return super.importData(support);\n\n            // etc...\n\n            validate();\n            return true;\n        } catch (Exception e) {\n            showError(e);\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>It works like a charm except Ctrl+C does not work anymore for this particular JTextArea (<code>requestTextArea</code>)... WHY?</p>\n"},{"tags":["java","android","date","time","date-conversion"],"comments":[{"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1591465663,"post_id":62235600,"comment_id":110068897,"body_markdown":"Your date string doesn&#39;t have time. Where is the time part in start time and end time coming from?","body":"Your date string doesn&#39;t have time. Where is the time part in start time and end time coming from?"},{"owner":{"account_id":17762259,"reputation":23,"user_id":12897994,"display_name":"CoderDev"},"score":0,"creation_date":1591466876,"post_id":62235600,"comment_id":110069353,"body_markdown":"As I&#39;ve said I want to convert a date as start time of the day (12:00:00AM) and end time of the day (11:59:59PM)","body":"As I&#39;ve said I want to convert a date as start time of the day (12:00:00AM) and end time of the day (11:59:59PM)"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1681889654,"post_id":62235600,"comment_id":134127969,"body_markdown":"Your answer link does not work as I had expected. Please delete it. If you wanted to post your own answer (which is a fine thing to do), please do so in the Answer section below. Thank you.","body":"Your answer link does not work as I had expected. Please delete it. If you wanted to post your own answer (which is a fine thing to do), please do so in the Answer section below. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1591519177,"creation_date":1591467843,"answer_id":62236157,"question_id":62235600,"body_markdown":"## java.time and ThreeTenABP\r\n\r\nI suggest using java.time, the modern Java date and time API, for such date and time math.\r\n\r\n\t\tZoneId zone = ZoneId.of(&quot;America/Chicago&quot;);\r\n\t\t\r\n\t\tString dateString = &quot;2020-06-08&quot;;\r\n\t\tLocalDate date = LocalDate.parse(dateString);\r\n\t\tInstant startOfDay = date.atStartOfDay(zone).toInstant();\r\n\t\tInstant endOfDay = date.plusDays(1).atStartOfDay(zone).toInstant();\r\n\t\t\r\n\t\tSystem.out.println(&quot;The day is from &quot; + startOfDay + &quot; (inclusive) to &quot; + endOfDay + &quot; (exclusive)&quot;);\r\n\r\nOutput is:\r\n\r\n&gt; The day is from 2020-06-08T05:00:00Z (inclusive) to\r\n&gt; 2020-06-09T05:00:00Z (exclusive)\r\n\r\nIn order not to exclude the last millisecond of the day we need to count the day as lasting up to the first moment of the next day exclusive. If you do insist on subtracting a millisecond or just a nanosecond, it’s up to you to do so, of course. For example:\r\n\r\n\t\tInstant endOfDay = date.plusDays(1).atStartOfDay(zone).minusNanos(1).toInstant();\r\n\r\n&gt; The day is from 2020-06-08T05:00:00Z (inclusive) to\r\n&gt; 2020-06-09T04:59:59.999999999Z (inclusive and 1 nano more)\r\n\r\n**Edit:** How to get milliseconds printed in the output? You most probably don’t need that. The format you are asking for is ISO 8601 (see the link at the bottom), the international standard. In ISO 8601 the fraction of second is optional, and leaving it out implies 0. So any API requiring ISO 8601 should accept the above. Only if not, the correct solution is to use a formatter. In this case we need to convert the time to UTC explicitly:\r\n\r\n\t\tZoneId zone = ZoneId.of(&quot;America/Chicago&quot;);\r\n\t\tDateTimeFormatter formatterWithMillis = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;);\r\n\t\t\r\n\t\tString dateString = &quot;2020-06-08&quot;;\r\n\t\tLocalDate date = LocalDate.parse(dateString);\r\n\t\tOffsetDateTime startOfDay = date.atStartOfDay(zone)\r\n\t\t\t\t.toOffsetDateTime()\r\n\t\t\t\t.withOffsetSameInstant(ZoneOffset.UTC);\r\n\t\tOffsetDateTime endOfDay = date.plusDays(1)\r\n\t\t\t\t.atStartOfDay(zone)\r\n\t\t\t\t.toOffsetDateTime()\r\n\t\t\t\t.withOffsetSameInstant(ZoneOffset.UTC);\r\n\t\t\r\n\t\tString startString = startOfDay.format(formatterWithMillis);\r\n\t\tString endString = endOfDay.format(formatterWithMillis);\r\n\t\tSystem.out.println(&quot;The day is from &quot; + startString + &quot; (inclusive) to &quot; + endString + &quot; (exclusive)&quot;);\r\n\r\n&gt; The day is from 2020-06-08T05:00:00.000Z (inclusive) to\r\n&gt; 2020-06-09T05:00:00.000Z (exclusive)\r\n\r\nOr after subtracting a nanosecond from the end time as before:\r\n\r\n\t\tOffsetDateTime endOfDay = date.plusDays(1)\r\n\t\t\t\t.atStartOfDay(zone)\r\n\t\t\t\t.minusNanos(1)\r\n\t\t\t\t.toOffsetDateTime()\r\n\t\t\t\t.withOffsetSameInstant(ZoneOffset.UTC);\r\n\r\n&gt; The day is from 2020-06-08T05:00:00.000Z (inclusive) to\r\n&gt; 2020-06-09T04:59:59.999Z (inclusive and 1 nano more)\r\n\r\n(Since the time is truncated to whole milliseconds the `1 nano more` doesn’t really make sense, but I don’t think that’s the point here.)\r\n\r\n## Question: Doesn’t java.time require Android API level 26?\r\n\r\njava.time works nicely on both older and newer Android devices. It just requires at least **Java 6**.\r\n\r\n - In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.\r\n - In non-Android Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).\r\n - On (older) Android use the Android edition of ThreeTen Backport. It’s called ThreeTenABP. And make sure you import the date and time classes from `org.threeten.bp` with subpackages.\r\n\r\n&gt; But don&#39;t we have any other option apart from switching to ThreeTenBP\r\n&gt; Library?\r\n\r\nIf you insisted, I suppose that a way through using `Calendar`, `Date` and `SimpleDateFormat` could be found. Those classes are poorly designed and long outdated, so with what I know and don’t know I would prefer ThreeTenABP.\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - [Java Specification Request (JSR) 310](https://jcp.org/en/jsr/detail?id=310), where `java.time` was first described.\r\n - [ThreeTen Backport project](http://www.threeten.org/threetenbp/), the backport of `java.time` to Java 6 and 7 (ThreeTen for JSR-310).\r\n - [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP), Android edition of ThreeTen Backport\r\n - [Question: How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project), with a very thorough explanation.\r\n - [Wikipedia article: ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)\r\n","title":"How to get start time and end time of a day in another timezone in Android","body":"<h2>java.time and ThreeTenABP</h2>\n\n<p>I suggest using java.time, the modern Java date and time API, for such date and time math.</p>\n\n<pre><code>    ZoneId zone = ZoneId.of(\"America/Chicago\");\n\n    String dateString = \"2020-06-08\";\n    LocalDate date = LocalDate.parse(dateString);\n    Instant startOfDay = date.atStartOfDay(zone).toInstant();\n    Instant endOfDay = date.plusDays(1).atStartOfDay(zone).toInstant();\n\n    System.out.println(\"The day is from \" + startOfDay + \" (inclusive) to \" + endOfDay + \" (exclusive)\");\n</code></pre>\n\n<p>Output is:</p>\n\n<blockquote>\n  <p>The day is from 2020-06-08T05:00:00Z (inclusive) to\n  2020-06-09T05:00:00Z (exclusive)</p>\n</blockquote>\n\n<p>In order not to exclude the last millisecond of the day we need to count the day as lasting up to the first moment of the next day exclusive. If you do insist on subtracting a millisecond or just a nanosecond, it’s up to you to do so, of course. For example:</p>\n\n<pre><code>    Instant endOfDay = date.plusDays(1).atStartOfDay(zone).minusNanos(1).toInstant();\n</code></pre>\n\n<blockquote>\n  <p>The day is from 2020-06-08T05:00:00Z (inclusive) to\n  2020-06-09T04:59:59.999999999Z (inclusive and 1 nano more)</p>\n</blockquote>\n\n<p><strong>Edit:</strong> How to get milliseconds printed in the output? You most probably don’t need that. The format you are asking for is ISO 8601 (see the link at the bottom), the international standard. In ISO 8601 the fraction of second is optional, and leaving it out implies 0. So any API requiring ISO 8601 should accept the above. Only if not, the correct solution is to use a formatter. In this case we need to convert the time to UTC explicitly:</p>\n\n<pre><code>    ZoneId zone = ZoneId.of(\"America/Chicago\");\n    DateTimeFormatter formatterWithMillis = DateTimeFormatter.ofPattern(\"uuuu-MM-dd'T'HH:mm:ss.SSSX\");\n\n    String dateString = \"2020-06-08\";\n    LocalDate date = LocalDate.parse(dateString);\n    OffsetDateTime startOfDay = date.atStartOfDay(zone)\n            .toOffsetDateTime()\n            .withOffsetSameInstant(ZoneOffset.UTC);\n    OffsetDateTime endOfDay = date.plusDays(1)\n            .atStartOfDay(zone)\n            .toOffsetDateTime()\n            .withOffsetSameInstant(ZoneOffset.UTC);\n\n    String startString = startOfDay.format(formatterWithMillis);\n    String endString = endOfDay.format(formatterWithMillis);\n    System.out.println(\"The day is from \" + startString + \" (inclusive) to \" + endString + \" (exclusive)\");\n</code></pre>\n\n<blockquote>\n  <p>The day is from 2020-06-08T05:00:00.000Z (inclusive) to\n  2020-06-09T05:00:00.000Z (exclusive)</p>\n</blockquote>\n\n<p>Or after subtracting a nanosecond from the end time as before:</p>\n\n<pre><code>    OffsetDateTime endOfDay = date.plusDays(1)\n            .atStartOfDay(zone)\n            .minusNanos(1)\n            .toOffsetDateTime()\n            .withOffsetSameInstant(ZoneOffset.UTC);\n</code></pre>\n\n<blockquote>\n  <p>The day is from 2020-06-08T05:00:00.000Z (inclusive) to\n  2020-06-09T04:59:59.999Z (inclusive and 1 nano more)</p>\n</blockquote>\n\n<p>(Since the time is truncated to whole milliseconds the <code>1 nano more</code> doesn’t really make sense, but I don’t think that’s the point here.)</p>\n\n<h2>Question: Doesn’t java.time require Android API level 26?</h2>\n\n<p>java.time works nicely on both older and newer Android devices. It just requires at least <strong>Java 6</strong>.</p>\n\n<ul>\n<li>In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.</li>\n<li>In non-Android Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).</li>\n<li>On (older) Android use the Android edition of ThreeTen Backport. It’s called ThreeTenABP. And make sure you import the date and time classes from <code>org.threeten.bp</code> with subpackages.</li>\n</ul>\n\n<blockquote>\n  <p>But don't we have any other option apart from switching to ThreeTenBP\n  Library?</p>\n</blockquote>\n\n<p>If you insisted, I suppose that a way through using <code>Calendar</code>, <code>Date</code> and <code>SimpleDateFormat</code> could be found. Those classes are poorly designed and long outdated, so with what I know and don’t know I would prefer ThreeTenABP.</p>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">Java Specification Request (JSR) 310</a>, where <code>java.time</code> was first described.</li>\n<li><a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport project</a>, the backport of <code>java.time</code> to Java 6 and 7 (ThreeTen for JSR-310).</li>\n<li><a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>, Android edition of ThreeTen Backport</li>\n<li><a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">Question: How to use ThreeTenABP in Android Project</a>, with a very thorough explanation.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">Wikipedia article: ISO 8601</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":17762259,"reputation":23,"user_id":12897994,"display_name":"CoderDev"},"score":0,"creation_date":1591492185,"post_id":62236307,"comment_id":110076401,"body_markdown":"Thanks Sunil, Can we have the output in this format: &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;","body":"Thanks Sunil, Can we have the output in this format: &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;"},{"owner":{"account_id":17762259,"reputation":23,"user_id":12897994,"display_name":"CoderDev"},"score":0,"creation_date":1591494322,"post_id":62236307,"comment_id":110076728,"body_markdown":"Yeah, actually the last part of the string required in SSS&#39;Z while in your output string start date don&#39;t have it(while required 000Z) and end date is having it like 999999999Z(while required 999Z)","body":"Yeah, actually the last part of the string required in SSS&#39;Z while in your output string start date don&#39;t have it(while required 000Z) and end date is having it like 999999999Z(while required 999Z)"},{"owner":{"account_id":6196386,"reputation":652,"user_id":4827548,"accept_rate":0,"display_name":"codeogeek"},"score":0,"creation_date":1591499759,"post_id":62236307,"comment_id":110077477,"body_markdown":"if this has resolved your query, please accept it as an answer","body":"if this has resolved your query, please accept it as an answer"},{"owner":{"account_id":17762259,"reputation":23,"user_id":12897994,"display_name":"CoderDev"},"score":0,"creation_date":1591506522,"post_id":62236307,"comment_id":110078533,"body_markdown":"@sunil, After running the code the output is not what I&#39;ve expected:\n\nI&#39;ve write down the code like this: http://m.uploadedit.com/bltc/159150652274.TXT","body":"@sunil, After running the code the output is not what I&#39;ve expected:  I&#39;ve write down the code like this: <a href=\"http://m.uploadedit.com/bltc/159150652274.TXT\" rel=\"nofollow noreferrer\">m.uploadedit.com/bltc/159150652274.TXT</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1591510702,"post_id":62236307,"comment_id":110079257,"body_markdown":"@CoderDev Hardcoding `Z` as a literal in the string is incorrect. It’s an offset of zero from UTC, so format the offset to get it correct.","body":"@CoderDev Hardcoding <code>Z</code> as a literal in the string is incorrect. It’s an offset of zero from UTC, so format the offset to get it correct."},{"owner":{"account_id":17762259,"reputation":23,"user_id":12897994,"display_name":"CoderDev"},"score":0,"creation_date":1591512565,"post_id":62236307,"comment_id":110079635,"body_markdown":"But don&#39;t we have any other option apart from switching to ThreeTenBP Library?","body":"But don&#39;t we have any other option apart from switching to ThreeTenBP Library?"},{"owner":{"account_id":6196386,"reputation":652,"user_id":4827548,"accept_rate":0,"display_name":"codeogeek"},"score":0,"creation_date":1591524164,"post_id":62236307,"comment_id":110082997,"body_markdown":"@CoderDev I updated my answer. Did u get the correct answer after OleV.V.&#39;s solution?","body":"@CoderDev I updated my answer. Did u get the correct answer after OleV.V.&#39;s solution?"}],"tags":[],"owner":{"account_id":6196386,"reputation":652,"user_id":4827548,"accept_rate":0,"display_name":"codeogeek"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591512778,"creation_date":1591468499,"answer_id":62236307,"question_id":62235600,"body_markdown":"Updated:\r\n\r\n        ZoneId zoneId = ZoneId.of(&quot;America/Chicago&quot;);\r\n\t\tLocalDate localDate = LocalDate.parse(&quot;2020-06-08&quot;);\r\n\t\tDateTimeFormatter newPattern = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;).withZone(zoneId);\r\n\t\tInstant startOfDay = localDate.atStartOfDay(zoneId).toInstant();\r\n\t\tInstant endOfDay = LocalDateTime.of(localDate, LocalTime.MAX).atZone(zoneId).toInstant().truncatedTo(ChronoUnit.MILLIS);\r\n\t\tSystem.out.println(startOfDay);\r\n\t\tSystem.out.println(endOfDay);\r\n\r\nWith what I have gone through, the fraction 000 will not come in this but yes one can be sure that if there are no fraction of milliseconds then it is 000. I was not able to figure out how to bring this while formatting.\r\nIn case you find something then please add else, you can do it this by converting startDate to String and then appending the 000 to it.\r\n\r\nResults\r\n\r\n        2020-06-08T05:00:00Z\r\n        2020-06-09T04:59:59.999Z","title":"How to get start time and end time of a day in another timezone in Android","body":"<p>Updated:</p>\n\n<pre><code>    ZoneId zoneId = ZoneId.of(\"America/Chicago\");\n    LocalDate localDate = LocalDate.parse(\"2020-06-08\");\n    DateTimeFormatter newPattern = DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\").withZone(zoneId);\n    Instant startOfDay = localDate.atStartOfDay(zoneId).toInstant();\n    Instant endOfDay = LocalDateTime.of(localDate, LocalTime.MAX).atZone(zoneId).toInstant().truncatedTo(ChronoUnit.MILLIS);\n    System.out.println(startOfDay);\n    System.out.println(endOfDay);\n</code></pre>\n\n<p>With what I have gone through, the fraction 000 will not come in this but yes one can be sure that if there are no fraction of milliseconds then it is 000. I was not able to figure out how to bring this while formatting.\nIn case you find something then please add else, you can do it this by converting startDate to String and then appending the 000 to it.</p>\n\n<p>Results</p>\n\n<pre><code>    2020-06-08T05:00:00Z\n    2020-06-09T04:59:59.999Z\n</code></pre>\n"}],"owner":{"account_id":17762259,"reputation":23,"user_id":12897994,"display_name":"CoderDev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62236157,"answer_count":2,"score":1,"last_activity_date":1698673820,"creation_date":1591465305,"question_id":62235600,"body_markdown":"I&#39;ve the date in format: YYYY-MM-DD\r\n\r\nOutput format required is: \r\n**&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;**\r\n\r\nAnd I want to get the date in ISO format as Start time of the day(starts from 12:00AM) and end time of the day(ends on 11:59PM) in **America/Chicago** timezone.\r\n\r\nFor eg. For the date: 2020-06-08 (June 8) the converted final output is like: \r\n\r\n**Start time of the day as Date: 2020-06-08T05:00:00.000Z**\r\n\r\n**End time of the day as Date: 2020-06-09T04:59:59.999Z**\r\n\r\nPlease help me here if anybody has any clue for the same.\r\n\r\n","title":"How to get start time and end time of a day in another timezone in Android","body":"<p>I've the date in format: YYYY-MM-DD</p>\n<p>Output format required is:\n<strong>&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;</strong></p>\n<p>And I want to get the date in ISO format as Start time of the day(starts from 12:00AM) and end time of the day(ends on 11:59PM) in <strong>America/Chicago</strong> timezone.</p>\n<p>For eg. For the date: 2020-06-08 (June 8) the converted final output is like:</p>\n<p><strong>Start time of the day as Date: 2020-06-08T05:00:00.000Z</strong></p>\n<p><strong>End time of the day as Date: 2020-06-09T04:59:59.999Z</strong></p>\n<p>Please help me here if anybody has any clue for the same.</p>\n"},{"tags":["java","spring","spring-boot","logback","slf4j"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1698624303,"post_id":77385557,"comment_id":136425463,"body_markdown":"Did you read the error message and the web page it points you to?","body":"Did you read the error message and the web page it points you to?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1698677694,"post_id":77385557,"comment_id":136432238,"body_markdown":"Remove the `logback-classic` dependencies as well as the excludes for `spring-boot-starter-logging`. Spring Boot by default uses Logback, so why exclude it and then re-include it? Doesn&#39;t make sense. Also `lombok` version is also managed by Spring BOot, you want to remove the version, the same applies to the spring boot starter, you shouldn&#39;t have a versioni n there (assuming `spring-boot-starter-parent` is your actual parent).","body":"Remove the <code>logback-classic</code> dependencies as well as the excludes for <code>spring-boot-starter-logging</code>. Spring Boot by default uses Logback, so why exclude it and then re-include it? Doesn&#39;t make sense. Also <code>lombok</code> version is also managed by Spring BOot, you want to remove the version, the same applies to the spring boot starter, you shouldn&#39;t have a versioni n there (assuming <code>spring-boot-starter-parent</code> is your actual parent)."}],"answers":[{"comments":[{"owner":{"account_id":17149274,"reputation":17,"user_id":12411563,"display_name":"Pier Zegarra Reymundo"},"score":0,"creation_date":1698694439,"post_id":77389167,"comment_id":136435469,"body_markdown":"Thank you, I&#39;ve included slf4j-api 2.0.9, and slf4j-simple 2.0.9 and It works well.","body":"Thank you, I&#39;ve included slf4j-api 2.0.9, and slf4j-simple 2.0.9 and It works well."}],"tags":[],"owner":{"account_id":15647173,"reputation":135,"user_id":11289119,"display_name":"Stefano Riffaldi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698673463,"creation_date":1698673463,"answer_id":77389167,"question_id":77385557,"body_markdown":"&#39;couse slf4j-api is refered in spring-boot-starter-logging and not in logback-classic, so if you remove entire spring-boot-starter-logging dependency tree, you have to manually import all you need, slf4j included.\r\n\r\nbut, i don&#39;t understand why you want remove logback to add it again ... if you want to use latest dependencies, just use &#39;logback.version&#39; property like this:\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;so-slf4j2&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;logback.version&gt;1.2.7&lt;/logback.version&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\n","title":"SLF4J: No SLF4J providers were found. I can&#39; see the logs on spinnaker","body":"<p>'couse slf4j-api is refered in spring-boot-starter-logging and not in logback-classic, so if you remove entire spring-boot-starter-logging dependency tree, you have to manually import all you need, slf4j included.</p>\n<p>but, i don't understand why you want remove logback to add it again ... if you want to use latest dependencies, just use 'logback.version' property like this:</p>\n<pre><code>&lt;groupId&gt;org.example&lt;/groupId&gt;\n&lt;artifactId&gt;so-slf4j2&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;logback.version&gt;1.2.7&lt;/logback.version&gt;\n    &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n"}],"owner":{"account_id":17149274,"reputation":17,"user_id":12411563,"display_name":"Pier Zegarra Reymundo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77389167,"answer_count":1,"score":0,"last_activity_date":1698673463,"creation_date":1698622502,"question_id":77385557,"body_markdown":"I&#39;m working with Spring Boot 2.3.1.RELEASE and Java 11, I can see the logs in my local but when I deploy in Spinnaker, I only can see that: \r\n```\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\nSLF4J: Class path contains SLF4J bindings targeting slf4j-api versions 1.7.x or earlier.\r\nSLF4J: Ignoring binding found at [jar:file:/Users/name/.m2/repository/ch/qos/logback/logback-classic/1.2.7/logback-classic-1.2.7.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See https://www.slf4j.org/codes.html#ignoredBindings for an explanation.\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.3.1.RELEASE)\r\n\r\nOct 29, 2023 10:04:12 PM org.apache.catalina.core.StandardService startInternal\r\nINFO: Starting service [Tomcat]\r\nOct 29, 2023 10:04:12 PM org.apache.catalina.core.StandardEngine startInternal\r\nINFO: Starting Servlet engine: [Apache Tomcat/9.0.36]\r\nOct 29, 2023 10:04:12 PM org.apache.catalina.core.ApplicationContext log\r\nINFO: Initializing Spring embedded WebApplicationContext\r\n```\r\nNot the rest of the log that I see in my local:\r\n\r\nThese are the dependencies:\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;        \r\n\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.22&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nI would like to know how to fix this error: SLF4J: No SLF4J providers were found, and about spinnaker\r\nCould you give any insight to solve it?","title":"SLF4J: No SLF4J providers were found. I can&#39; see the logs on spinnaker","body":"<p>I'm working with Spring Boot 2.3.1.RELEASE and Java 11, I can see the logs in my local but when I deploy in Spinnaker, I only can see that:</p>\n<pre><code>SLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nSLF4J: Class path contains SLF4J bindings targeting slf4j-api versions 1.7.x or earlier.\nSLF4J: Ignoring binding found at [jar:file:/Users/name/.m2/repository/ch/qos/logback/logback-classic/1.2.7/logback-classic-1.2.7.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See https://www.slf4j.org/codes.html#ignoredBindings for an explanation.\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.3.1.RELEASE)\n\nOct 29, 2023 10:04:12 PM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service [Tomcat]\nOct 29, 2023 10:04:12 PM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet engine: [Apache Tomcat/9.0.36]\nOct 29, 2023 10:04:12 PM org.apache.catalina.core.ApplicationContext log\nINFO: Initializing Spring embedded WebApplicationContext\n</code></pre>\n<p>Not the rest of the log that I see in my local:</p>\n<p>These are the dependencies:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;        \n    &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.22&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n       &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.2.7&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I would like to know how to fix this error: SLF4J: No SLF4J providers were found, and about spinnaker\nCould you give any insight to solve it?</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698674806,"post_id":77388291,"comment_id":136431615,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698672112,"creation_date":1698672112,"answer_id":77389011,"question_id":77388291,"body_markdown":"When you execute a query against the Firebase Database, there will potentially be multiple results. So the snapshot contains a list of those results. Even if there is only a single result, the snapshot will contain a list of one result.\r\n\r\nYour code fails to handle that list, which you can do as shown in the documentation on [listening for a list of results](https://firebase.google.com/docs/database/android/lists-of-data#listen_for_value_events). In your case that&#39;d be something like:\r\n```\r\nquery.addListenerForSingleValueEvent (new ValueEventListener () {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) { // &#128072;\r\n        if (dataSnapshot.exists()) {\r\n            for (DataSnapshot snapshot: dataSnapshot.getChildren()) { // &#128072;\r\n                Email.setError(null);\r\n                String userPasswordFromDB = snapshot.child(&quot;password&quot;).getValue(String.class);\r\n                if (!Objects.equals(userPassword, userPasswordFromDB)) {\r\n                    ...\r\n```","title":"Realtime database login not working using DatabaseReference - Android Studio","body":"<p>When you execute a query against the Firebase Database, there will potentially be multiple results. So the snapshot contains a list of those results. Even if there is only a single result, the snapshot will contain a list of one result.</p>\n<p>Your code fails to handle that list, which you can do as shown in the documentation on <a href=\"https://firebase.google.com/docs/database/android/lists-of-data#listen_for_value_events\" rel=\"nofollow noreferrer\">listening for a list of results</a>. In your case that'd be something like:</p>\n<pre><code>query.addListenerForSingleValueEvent (new ValueEventListener () {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) { // 👈\n        if (dataSnapshot.exists()) {\n            for (DataSnapshot snapshot: dataSnapshot.getChildren()) { // 👈\n                Email.setError(null);\n                String userPasswordFromDB = snapshot.child(&quot;password&quot;).getValue(String.class);\n                if (!Objects.equals(userPassword, userPasswordFromDB)) {\n                    ...\n</code></pre>\n"}],"owner":{"account_id":29785718,"reputation":3,"user_id":22827124,"display_name":"AdirMor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77389011,"answer_count":1,"score":0,"last_activity_date":1698672112,"creation_date":1698665499,"question_id":77388291,"body_markdown":"![this is the Firebase store](https://i.stack.imgur.com/2iOkn.png)\r\n```\r\npublic void checkUserFromDB(){\r\n    String email = String.valueOf (Email.getText ()).trim ();\r\n    String userPassword = String.valueOf (Password.getText ()).trim ();\r\n\r\n    Query query = databaseReference.orderByChild (&quot;email&quot;).equalTo (email);\r\n    query.addListenerForSingleValueEvent (new ValueEventListener () {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n            if (snapshot.exists()) {\r\n                Email.setError(null);\r\n                String userPasswordFromDB = snapshot.child(&quot;password&quot;).getValue(String.class);\r\n                if (!Objects.equals(userPassword, userPasswordFromDB)) {\r\n                    // Password matches\r\n                    Password.setError(null);\r\n                    startActivity(new Intent(getApplicationContext(), Tasks.class));\r\n                    finish();\r\n                } else {\r\n                    // Password doesn&#39;t match\r\n                    Password.setError(&quot;Password does not match.&quot;);\r\n                    Password.requestFocus();\r\n                }\r\n            } else {\r\n                Email.setError(&quot;Username aren&#39;t exists, please open a new account.&quot;);\r\n                Email.requestFocus();\r\n            }\r\n        }\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nWhen I insert the email that exists and password that not, it goes to the `Tasks.class` - and when when I insert then right it takes me too to the `Tasks.class`. I tried everything nothing worked.","title":"Realtime database login not working using DatabaseReference - Android Studio","body":"<p><img src=\"https://i.stack.imgur.com/2iOkn.png\" alt=\"this is the Firebase store\" /></p>\n<pre><code>public void checkUserFromDB(){\n    String email = String.valueOf (Email.getText ()).trim ();\n    String userPassword = String.valueOf (Password.getText ()).trim ();\n\n    Query query = databaseReference.orderByChild (&quot;email&quot;).equalTo (email);\n    query.addListenerForSingleValueEvent (new ValueEventListener () {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            if (snapshot.exists()) {\n                Email.setError(null);\n                String userPasswordFromDB = snapshot.child(&quot;password&quot;).getValue(String.class);\n                if (!Objects.equals(userPassword, userPasswordFromDB)) {\n                    // Password matches\n                    Password.setError(null);\n                    startActivity(new Intent(getApplicationContext(), Tasks.class));\n                    finish();\n                } else {\n                    // Password doesn't match\n                    Password.setError(&quot;Password does not match.&quot;);\n                    Password.requestFocus();\n                }\n            } else {\n                Email.setError(&quot;Username aren't exists, please open a new account.&quot;);\n                Email.requestFocus();\n            }\n        }\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n}\n</code></pre>\n<p>When I insert the email that exists and password that not, it goes to the <code>Tasks.class</code> - and when when I insert then right it takes me too to the <code>Tasks.class</code>. I tried everything nothing worked.</p>\n"},{"tags":["java","performance","garbage-collection","classloader"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1698414184,"post_id":77374518,"comment_id":136406286,"body_markdown":"Don&#39;t worry about it. I can&#39;t imagine that a few setup-only classes could ever be a problem. And you don&#39;t need to imagine it either. You need to measure. Take a memory snapshot of an application that has been running for some time, and analyze it. I bet those classes will take less than 1% of the whole. Probably significantly less. Is that worth the added code complexity?","body":"Don&#39;t worry about it. I can&#39;t imagine that a few setup-only classes could ever be a problem. And you don&#39;t need to imagine it either. You need to measure. Take a memory snapshot of an application that has been running for some time, and analyze it. I bet those classes will take less than 1% of the whole. Probably significantly less. Is that worth the added code complexity?"},{"owner":{"account_id":1010291,"reputation":393,"user_id":1023009,"accept_rate":50,"display_name":"squarewav"},"score":0,"creation_date":1698418757,"post_id":77374518,"comment_id":136407426,"body_markdown":"The setup classes contain a lot of tables of text and code that goes with the menu options. The size of the class files is comparable to all of the other classes. If it&#39;s not used 99.99% of the time, I would think they should be released. Unless this method just simply doesn&#39;t work as theorized or has a negative effect I&#39;m not seeing.","body":"The setup classes contain a lot of tables of text and code that goes with the menu options. The size of the class files is comparable to all of the other classes. If it&#39;s not used 99.99% of the time, I would think they should be released. Unless this method just simply doesn&#39;t work as theorized or has a negative effect I&#39;m not seeing."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1698431599,"post_id":77374518,"comment_id":136409583,"body_markdown":"&quot;I would think they should be released&quot; &gt; Well, like I said: you should probably *test* that assumption before spending effort implementing a fix that won&#39;t gain much if anything.","body":"&quot;I would think they should be released&quot; &gt; Well, like I said: you should probably <i>test</i> that assumption before spending effort implementing a fix that won&#39;t gain much if anything."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1698447148,"post_id":77374518,"comment_id":136411534,"body_markdown":"If you want it to be released, set the object references to `null`. If it is referenced, it won&#39;t be GC&#39;d, the `ClassLoader` doesn&#39;t change that.","body":"If you want it to be released, set the object references to <code>null</code>. If it is referenced, it won&#39;t be GC&#39;d, the <code>ClassLoader</code> doesn&#39;t change that."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1698467871,"post_id":77374518,"comment_id":136412600,"body_markdown":"There are a number of problems with this question that make it hard to understand what you are saying.  1) You are using &quot;dereference&quot; in a strange way.  The real meaning of &quot;dereference&quot; is to follow a pointer (reference) to the thing that it points to.  That doesn&#39;t make sense in this context.  2) Is &quot;com.example.Setup&quot; this `Setup` class or a different one?  3) What is the significance of `loadMenu`?  What calls it?  When?  4)  What does `com.example.Setup` do?  We need to see its code. That will determine whether there will be a memory leak involving the classloader.","body":"There are a number of problems with this question that make it hard to understand what you are saying.  1) You are using &quot;dereference&quot; in a strange way.  The real meaning of &quot;dereference&quot; is to follow a pointer (reference) to the thing that it points to.  That doesn&#39;t make sense in this context.  2) Is &quot;com.example.Setup&quot; this <code>Setup</code> class or a different one?  3) What is the significance of <code>loadMenu</code>?  What calls it?  When?  4)  What does <code>com.example.Setup</code> do?  We need to see its code. That will determine whether there will be a memory leak involving the classloader."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1698468456,"post_id":77374518,"comment_id":136412629,"body_markdown":"Overall, I think this is a bad idea.  Generally speaking, setup code doesn&#39;t occupy much space ... unless it is effectively representing the data structures that you are setting up in the code itself.  And if *that* is what you are doing, you probably should be *loading* that initial data from a file or resource.","body":"Overall, I think this is a bad idea.  Generally speaking, setup code doesn&#39;t occupy much space ... unless it is effectively representing the data structures that you are setting up in the code itself.  And if <i>that</i> is what you are doing, you probably should be <i>loading</i> that initial data from a file or resource."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1698468687,"post_id":77374518,"comment_id":136412638,"body_markdown":"If you are not willing to show us (in effect) a minimal reproducible example to analyze, the best I can say is that it *might* work.   Whether it *does* work will depend on details that you haven&#39;t shown us.  And the best thing would be for you to just try it for yourself and see.   (And **measure** how much memory you saved ... so that you can decide whether it was *actually* worth the effort.)","body":"If you are not willing to show us (in effect) a minimal reproducible example to analyze, the best I can say is that it <i>might</i> work.   Whether it <i>does</i> work will depend on details that you haven&#39;t shown us.  And the best thing would be for you to just try it for yourself and see.   (And <b>measure</b> how much memory you saved ... so that you can decide whether it was <i>actually</i> worth the effort.)"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1698519063,"post_id":77374518,"comment_id":136417124,"body_markdown":"Noting that it most likely won’t be—the runtime will clear the memory it can if it needs to.","body":"Noting that it most likely won’t be—the runtime will clear the memory it can if it needs to."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698671619,"creation_date":1698671167,"answer_id":77388893,"question_id":77374518,"body_markdown":"The first thing you have to understand, is that runtime classes defined by different class loaders are different classes. [JVMS, &#167;5.3. Creation and Loading]:\r\n\r\n&gt; After creation, a class or interface is determined not by its name alone, but by a pair: its binary name ([&#167;4.2.1]) and its defining loader.\r\n\r\nBut it’s possible to recognize that there’s something odd with the following code, even without the specification:\r\n\r\n&gt; ```java\r\n&gt; public static Setup getInstance() throws Exception\r\n&gt; {   \r\n&gt;     SetupClassLoader scl = new SetupClassLoader();\r\n&gt;     Class sc = scl.loadClass(&quot;com.example.Setup&quot;);\r\n&gt;     return (Setup)sc.newInstance();\r\n&gt; }\r\n&gt; ```\r\n\r\nThis method has two reference to the class `Setup`, a type cast and the return type. If casting to `Setup` and returning the object as `Setup` works, the object’s type must be compatible with the `Setup` type referenced by this method, in other words, it can’t be a type defined by your custom class loader that could get garbage collected while this method (and presumably the caller too) have references to it.\r\n\r\nThe reason why this code does not fail, is that your class loader makes no attempt to define a `Setup` class at all. It simply follows the [standard delegation model]\r\n\r\n&gt; The `ClassLoader` class uses a delegation model to search for classes and resources. Each instance of `ClassLoader` has an associated parent class loader. When requested to find a class or resource, a `ClassLoader` instance will usually delegate the search for the class or resource to its parent class loader before attempting to find the class or resource itself.\r\n\r\nThe `SetupClassLoader`’s parent loader is `Setup.class.getClassLoader()`, so obviously it has no problem finding the class when requested and this class defined by the parent loader is the class referenced by the calling code, so everything works fine. Except that this class can’t be unloaded and given the way the calling code uses the class, there is no way to change that without breaking the code.\r\n\r\nIn other words, the `SetupClassLoader` has no effect here, except complicating the code and consuming some memory.\r\n\r\n---\r\n\r\nTruly dynamically loaded code must not be referenced by the static code and to avoid such errors, the dynamic classes should not be accessible by the static code in the first place. But then, you’re trading the setup code for the code to implement the dynamic class loading which has to stay in memory.\r\n\r\nSo its rather unlikely to have a benefit, even if implemented correctly. Further, keep in mind that class unloading is an optional feature, so it might not even happen at all in a particular environment.\r\n\r\nIf you really have a large and complex user interface, you may instead consider the option to describe menus and UI layout etc. via XML or JSON files or similar description languages. Then, the code to parse the files and build the UI does not depend on the UI size. Text to be shown in the UI should be placed in resource files anyway, rather than the setup code, e.g. to allow translation or fixing mistakes without the need to rebuild the application.\r\n\r\n[JVMS, &#167;5.3. Creation and Loading]: https://docs.oracle.com/javase/specs/jvms/se21/html/jvms-5.html#jvms-5.3\r\n[&#167;4.2.1]: https://docs.oracle.com/javase/specs/jvms/se21/html/jvms-4.html#jvms-4.2.1\r\n[standard delegation model]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ClassLoader.html#:~:text=The%20ClassLoader%20class,or%20resource%20itself.","title":"Separate ClassLoader to Help Garbage Collection","body":"<p>The first thing you have to understand, is that runtime classes defined by different class loaders are different classes. <a href=\"https://docs.oracle.com/javase/specs/jvms/se21/html/jvms-5.html#jvms-5.3\" rel=\"nofollow noreferrer\">JVMS, §5.3. Creation and Loading</a>:</p>\n<blockquote>\n<p>After creation, a class or interface is determined not by its name alone, but by a pair: its binary name (<a href=\"https://docs.oracle.com/javase/specs/jvms/se21/html/jvms-4.html#jvms-4.2.1\" rel=\"nofollow noreferrer\">§4.2.1</a>) and its defining loader.</p>\n</blockquote>\n<p>But it’s possible to recognize that there’s something odd with the following code, even without the specification:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public static Setup getInstance() throws Exception\n{   \n    SetupClassLoader scl = new SetupClassLoader();\n    Class sc = scl.loadClass(&quot;com.example.Setup&quot;);\n    return (Setup)sc.newInstance();\n}\n</code></pre>\n</blockquote>\n<p>This method has two reference to the class <code>Setup</code>, a type cast and the return type. If casting to <code>Setup</code> and returning the object as <code>Setup</code> works, the object’s type must be compatible with the <code>Setup</code> type referenced by this method, in other words, it can’t be a type defined by your custom class loader that could get garbage collected while this method (and presumably the caller too) have references to it.</p>\n<p>The reason why this code does not fail, is that your class loader makes no attempt to define a <code>Setup</code> class at all. It simply follows the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ClassLoader.html#:%7E:text=The%20ClassLoader%20class,or%20resource%20itself.\" rel=\"nofollow noreferrer\">standard delegation model</a></p>\n<blockquote>\n<p>The <code>ClassLoader</code> class uses a delegation model to search for classes and resources. Each instance of <code>ClassLoader</code> has an associated parent class loader. When requested to find a class or resource, a <code>ClassLoader</code> instance will usually delegate the search for the class or resource to its parent class loader before attempting to find the class or resource itself.</p>\n</blockquote>\n<p>The <code>SetupClassLoader</code>’s parent loader is <code>Setup.class.getClassLoader()</code>, so obviously it has no problem finding the class when requested and this class defined by the parent loader is the class referenced by the calling code, so everything works fine. Except that this class can’t be unloaded and given the way the calling code uses the class, there is no way to change that without breaking the code.</p>\n<p>In other words, the <code>SetupClassLoader</code> has no effect here, except complicating the code and consuming some memory.</p>\n<hr />\n<p>Truly dynamically loaded code must not be referenced by the static code and to avoid such errors, the dynamic classes should not be accessible by the static code in the first place. But then, you’re trading the setup code for the code to implement the dynamic class loading which has to stay in memory.</p>\n<p>So its rather unlikely to have a benefit, even if implemented correctly. Further, keep in mind that class unloading is an optional feature, so it might not even happen at all in a particular environment.</p>\n<p>If you really have a large and complex user interface, you may instead consider the option to describe menus and UI layout etc. via XML or JSON files or similar description languages. Then, the code to parse the files and build the UI does not depend on the UI size. Text to be shown in the UI should be placed in resource files anyway, rather than the setup code, e.g. to allow translation or fixing mistakes without the need to rebuild the application.</p>\n"}],"owner":{"account_id":1010291,"reputation":393,"user_id":1023009,"accept_rate":50,"display_name":"squarewav"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77388893,"answer_count":1,"score":0,"last_activity_date":1698671619,"creation_date":1698412993,"question_id":77374518,"body_markdown":"Consider a java library consisting of &quot;setup code&quot; as opposed to run-time code.\r\nThe setup code can contain many classes defining menus with tables of options.\r\nDuring the run-time of the application, the setup code would be invoked infrequently to perform tasks like changing a configuration property.\r\n\r\nAre there merits to using code like the following?\r\n```\r\npublic class Setup\r\n{\r\n    private static final class SetupClassLoader extends ClassLoader\r\n    {   \r\n        SetupClassLoader()\r\n        {   \r\n            super(Setup.class.getClassLoader());\r\n        }   \r\n    }   \r\n    public static Setup getInstance() throws Exception\r\n    {   \r\n        SetupClassLoader scl = new SetupClassLoader();\r\n        Class sc = scl.loadClass(&quot;com.example.Setup&quot;);\r\n        return (Setup)sc.newInstance();\r\n    }\r\n    private ObjectWithLargeTablesOfData createObjectWithLargeTablesOfData()\r\n    {\r\n        ...\r\n```\r\nThe idea is that when a Setup instance is no longer referenced, the garbage collector could more effectively release everything loaded by it because the ClassLoader itself could be collected.\r\n\r\nIf this method was not used, could setup code related class definitions linger in memory?","title":"Separate ClassLoader to Help Garbage Collection","body":"<p>Consider a java library consisting of &quot;setup code&quot; as opposed to run-time code.\nThe setup code can contain many classes defining menus with tables of options.\nDuring the run-time of the application, the setup code would be invoked infrequently to perform tasks like changing a configuration property.</p>\n<p>Are there merits to using code like the following?</p>\n<pre><code>public class Setup\n{\n    private static final class SetupClassLoader extends ClassLoader\n    {   \n        SetupClassLoader()\n        {   \n            super(Setup.class.getClassLoader());\n        }   \n    }   \n    public static Setup getInstance() throws Exception\n    {   \n        SetupClassLoader scl = new SetupClassLoader();\n        Class sc = scl.loadClass(&quot;com.example.Setup&quot;);\n        return (Setup)sc.newInstance();\n    }\n    private ObjectWithLargeTablesOfData createObjectWithLargeTablesOfData()\n    {\n        ...\n</code></pre>\n<p>The idea is that when a Setup instance is no longer referenced, the garbage collector could more effectively release everything loaded by it because the ClassLoader itself could be collected.</p>\n<p>If this method was not used, could setup code related class definitions linger in memory?</p>\n"},{"tags":["java","linked-list","polynomials"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1698669159,"post_id":77388641,"comment_id":136430481,"body_markdown":"Please explain the reasoning behind your inner `while` loop, and how that compares to how you see it *actually* work when you use a debugger.","body":"Please explain the reasoning behind your inner <code>while</code> loop, and how that compares to how you see it <i>actually</i> work when you use a debugger."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1698671008,"post_id":77388641,"comment_id":136430797,"body_markdown":"code is calling `add()` way too often - once for every `System.out.println(PolynList.add(link1, link2). ...` - every call it is changing `link1`, so `link2` get added again and again. Do call `add()` only once, before printing; and then print the result stored in `link1` or use another variable to store the result from `add()` || `return link1.next;` is kind of inconsistent - input both stat with an *empty* node, returned list will not","body":"code is calling <code>add()</code> way too often - once for every <code>System.out.println(PolynList.add(link1, link2). ...</code> - every call it is changing <code>link1</code>, so <code>link2</code> get added again and again. Do call <code>add()</code> only once, before printing; and then print the result stored in <code>link1</code> or use another variable to store the result from <code>add()</code> || <code>return link1.next;</code> is kind of inconsistent - input both stat with an <i>empty</i> node, returned list will not"}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698671541,"creation_date":1698671541,"answer_id":77388939,"question_id":77388641,"body_markdown":"I see are several issues with your code: method `add` modifies the polynomials given in input, so you cannot reuse them after the call, you should have nested loops, Your polynomials have an extra node at the beginning.\r\n\r\nTry something like this:\r\n\r\n    public static Node add(Node link1, Node link2) {\r\n        Node first = null;\r\n        Node last = null;\r\n        while (link1 != null &amp;&amp; link2 != null) {\r\n            Node newNode;\r\n            if (link1.exp == link2.exp) {\r\n                newNode = new Node(link1.coef + link2.coef, link1.exp);\r\n                link1 = link1.next;\r\n                link2 = link2.next;\r\n            } else if (link1.exp &lt; link2.exp) {\r\n                newNode = new Node(link1.coef, link1.exp);\r\n                link1 = link1.next;\r\n            } else {\r\n                newNode = new Node(link2.coef, link2.exp);\r\n                link2 = link2.next;\r\n            }\r\n            if (last == null) {\r\n                first = last = newNode;\r\n            } else {\r\n                last.next = newNode;\r\n                last = newNode;\r\n            }\r\n        }\r\n        while (link1 != null) {\r\n            Node newNode = new Node(link1.coef, link1.exp);\r\n            link1 = link1.next;\r\n            if (last == null) {\r\n                first = last = newNode;\r\n            } else {\r\n                last.next = newNode;\r\n                last = newNode;\r\n            }\r\n        }\r\n        while (link2 != null) {\r\n            Node newNode = new Node(link2.coef, link2.exp);\r\n            link2 = link2.next;\r\n            if (last == null) {\r\n                first = last = newNode;\r\n            } else {\r\n                last.next = newNode;\r\n                last = newNode;\r\n            }\r\n        }\r\n        return first;\r\n    }\r\n\r\nand then:\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Node a1 = new Node(2, 1);\r\n        Node a2 = new Node(3, 3);\r\n        Node a3 = new Node(1, 4);\r\n        Node link1 = a1;\r\n        a1.next = a2;\r\n        a2.next = a3;\r\n        a3.next = null;\r\n\r\n        Node b1 = new Node(5, 2);\r\n        Node b2 = new Node(2, 4);\r\n        Node b3 = new Node(1, 5);\r\n        Node b4 = new Node(3, 6);\r\n        Node link2 = b1;\r\n        b1.next = b2;\r\n        b2.next = b3;\r\n        b3.next = b4;\r\n        b4.next = null;\r\n\r\n        Node sum = PolynList.add(link1, link2);\r\n        System.out.println(sum.coef);\r\n        System.out.println(sum.exp);\r\n        System.out.println(sum.next.coef);\r\n        System.out.println(sum.next.exp);\r\n        System.out.println(sum.next.next.coef);\r\n        System.out.println(sum.next.next.exp);\r\n        System.out.println(sum.next.next.next.coef);\r\n        System.out.println(sum.next.next.next.exp);\r\n        System.out.println(sum.next.next.next.next.coef);\r\n        System.out.println(sum.next.next.next.next.exp);\r\n        System.out.println(add(link1, link2).next.next.next.next.next.coef);\r\n        System.out.println(add(link1, link2).next.next.next.next.next.exp);\r\n    }\r\n","title":"What&#39;s wrong with the coefficients in this linked list implementation of polynomial addition?","body":"<p>I see are several issues with your code: method <code>add</code> modifies the polynomials given in input, so you cannot reuse them after the call, you should have nested loops, Your polynomials have an extra node at the beginning.</p>\n<p>Try something like this:</p>\n<pre><code>public static Node add(Node link1, Node link2) {\n    Node first = null;\n    Node last = null;\n    while (link1 != null &amp;&amp; link2 != null) {\n        Node newNode;\n        if (link1.exp == link2.exp) {\n            newNode = new Node(link1.coef + link2.coef, link1.exp);\n            link1 = link1.next;\n            link2 = link2.next;\n        } else if (link1.exp &lt; link2.exp) {\n            newNode = new Node(link1.coef, link1.exp);\n            link1 = link1.next;\n        } else {\n            newNode = new Node(link2.coef, link2.exp);\n            link2 = link2.next;\n        }\n        if (last == null) {\n            first = last = newNode;\n        } else {\n            last.next = newNode;\n            last = newNode;\n        }\n    }\n    while (link1 != null) {\n        Node newNode = new Node(link1.coef, link1.exp);\n        link1 = link1.next;\n        if (last == null) {\n            first = last = newNode;\n        } else {\n            last.next = newNode;\n            last = newNode;\n        }\n    }\n    while (link2 != null) {\n        Node newNode = new Node(link2.coef, link2.exp);\n        link2 = link2.next;\n        if (last == null) {\n            first = last = newNode;\n        } else {\n            last.next = newNode;\n            last = newNode;\n        }\n    }\n    return first;\n}\n</code></pre>\n<p>and then:</p>\n<pre><code>public static void main(String[] args) {\n    Node a1 = new Node(2, 1);\n    Node a2 = new Node(3, 3);\n    Node a3 = new Node(1, 4);\n    Node link1 = a1;\n    a1.next = a2;\n    a2.next = a3;\n    a3.next = null;\n\n    Node b1 = new Node(5, 2);\n    Node b2 = new Node(2, 4);\n    Node b3 = new Node(1, 5);\n    Node b4 = new Node(3, 6);\n    Node link2 = b1;\n    b1.next = b2;\n    b2.next = b3;\n    b3.next = b4;\n    b4.next = null;\n\n    Node sum = PolynList.add(link1, link2);\n    System.out.println(sum.coef);\n    System.out.println(sum.exp);\n    System.out.println(sum.next.coef);\n    System.out.println(sum.next.exp);\n    System.out.println(sum.next.next.coef);\n    System.out.println(sum.next.next.exp);\n    System.out.println(sum.next.next.next.coef);\n    System.out.println(sum.next.next.next.exp);\n    System.out.println(sum.next.next.next.next.coef);\n    System.out.println(sum.next.next.next.next.exp);\n    System.out.println(add(link1, link2).next.next.next.next.next.coef);\n    System.out.println(add(link1, link2).next.next.next.next.next.exp);\n}\n</code></pre>\n"}],"owner":{"account_id":28585480,"reputation":1,"user_id":21885798,"display_name":"DL32"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698671541,"creation_date":1698668832,"question_id":77388641,"body_markdown":"I use linked list to implement polynomial in Java, every node in the linked list contains two int values(coefficient and exponent) and a pointer next. \r\n\r\n```\r\npublic class Node {\r\n    public int coef;  \r\n    public int exp;  \r\n    public Node next = null;  \r\n\r\n    public Node() {\r\n        coef = 0;\r\n        exp = 0;\r\n    }\r\n\r\n    public Node(int coef, int exp) {\r\n        this.coef = coef;\r\n        this.exp = exp;\r\n    } \r\n}\r\n\r\n```\r\nThe following polynomial addition method takes two head nodes and returns the head node of the result linked list. \r\n\r\n```\r\npublic class PolynList {\r\n    public static Node add(Node link1, Node link2) {\r\n        Node itr1 = link1;\r\n        Node itr2 = link2;\r\n        while (itr2.next != null) {\r\n            Node newNode = new Node(itr2.next.coef, itr2.next.exp);\r\n            itr2 = itr2.next;\r\n//            System.out.println(newNode.coef);\r\n\r\n            while (itr1.next != null) {\r\n                if (itr1.next.exp &lt; itr2.exp) {\r\n                    itr1 = itr1.next;\r\n                } else {\r\n                    if (itr1.next.exp == itr2.exp) {\r\n                        itr1.next.coef += itr2.coef;\r\n                    } else {\r\n                        newNode.next = itr1.next;\r\n                        itr1.next = newNode;\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (itr1.next == null) {\r\n                itr1.next = itr2;\r\n            }\r\n        }\r\n        return link1.next;\r\n    }\r\n}\r\n```\r\nResult shows the coefficients of the result polynomial are not correct. In addition, I found &quot;System.out.println(newNode.coef);&quot; has been executed many times, way more than the expected while loop iterations. I do not understand what happens here.\r\n\r\nI tried this:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Node link1 = new Node();\r\n        Node a1 = new Node(2, 1);\r\n        Node a2 = new Node(3, 3);\r\n        Node a3 = new Node(1, 4);\r\n        link1.next = a1;\r\n        a1.next = a2;\r\n        a2.next = a3;\r\n        a3.next = null;\r\n\r\n        Node link2 = new Node();\r\n        Node b1 = new Node(5, 2);\r\n        Node b2 = new Node(2, 4);\r\n        Node b3 = new Node(1, 5);\r\n        Node b4 = new Node(3, 6);\r\n        link2.next = b1;\r\n        b1.next = b2;\r\n        b2.next = b3;\r\n        b3.next = b4;\r\n        b4.next = null;\r\n\r\n        System.out.println(PolynList.add(link1, link2).coef);\r\n        System.out.println(PolynList.add(link1, link2).exp);\r\n        System.out.println(PolynList.add(link1, link2).next.coef);\r\n        System.out.println(PolynList.add(link1, link2).next.exp);\r\n        System.out.println(PolynList.add(link1, link2).next.next.coef);\r\n        System.out.println(PolynList.add(link1, link2).next.next.exp);\r\n        System.out.println(PolynList.add(link1, link2).next.next.next.coef);\r\n        System.out.println(PolynList.add(link1, link2).next.next.next.exp);\r\n        System.out.println(PolynList.add(link1, link2).next.next.next.next.coef);\r\n        System.out.println(PolynList.add(link1, link2).next.next.next.next.exp);\r\n        System.out.println(PolynList.add(link1, link2).next.next.next.next.next.coef);\r\n        System.out.println(PolynList.add(link1, link2).next.next.next.next.next.exp);\r\n    }\r\n}\r\n\r\n```\r\nThe result is here:\r\n```\r\n2\r\n1\r\n15\r\n2\r\n3\r\n3\r\n15\r\n4\r\n256\r\n5\r\n6144\r\n6\r\n```\r\nThis is what I expected:\r\n```\r\n2\r\n1\r\n5\r\n2\r\n3\r\n3\r\n3\r\n4\r\n1\r\n5\r\n3\r\n6\r\n```","title":"What&#39;s wrong with the coefficients in this linked list implementation of polynomial addition?","body":"<p>I use linked list to implement polynomial in Java, every node in the linked list contains two int values(coefficient and exponent) and a pointer next.</p>\n<pre><code>public class Node {\n    public int coef;  \n    public int exp;  \n    public Node next = null;  \n\n    public Node() {\n        coef = 0;\n        exp = 0;\n    }\n\n    public Node(int coef, int exp) {\n        this.coef = coef;\n        this.exp = exp;\n    } \n}\n\n</code></pre>\n<p>The following polynomial addition method takes two head nodes and returns the head node of the result linked list.</p>\n<pre><code>public class PolynList {\n    public static Node add(Node link1, Node link2) {\n        Node itr1 = link1;\n        Node itr2 = link2;\n        while (itr2.next != null) {\n            Node newNode = new Node(itr2.next.coef, itr2.next.exp);\n            itr2 = itr2.next;\n//            System.out.println(newNode.coef);\n\n            while (itr1.next != null) {\n                if (itr1.next.exp &lt; itr2.exp) {\n                    itr1 = itr1.next;\n                } else {\n                    if (itr1.next.exp == itr2.exp) {\n                        itr1.next.coef += itr2.coef;\n                    } else {\n                        newNode.next = itr1.next;\n                        itr1.next = newNode;\n                    }\n                    break;\n                }\n            }\n\n            if (itr1.next == null) {\n                itr1.next = itr2;\n            }\n        }\n        return link1.next;\n    }\n}\n</code></pre>\n<p>Result shows the coefficients of the result polynomial are not correct. In addition, I found &quot;System.out.println(newNode.coef);&quot; has been executed many times, way more than the expected while loop iterations. I do not understand what happens here.</p>\n<p>I tried this:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Node link1 = new Node();\n        Node a1 = new Node(2, 1);\n        Node a2 = new Node(3, 3);\n        Node a3 = new Node(1, 4);\n        link1.next = a1;\n        a1.next = a2;\n        a2.next = a3;\n        a3.next = null;\n\n        Node link2 = new Node();\n        Node b1 = new Node(5, 2);\n        Node b2 = new Node(2, 4);\n        Node b3 = new Node(1, 5);\n        Node b4 = new Node(3, 6);\n        link2.next = b1;\n        b1.next = b2;\n        b2.next = b3;\n        b3.next = b4;\n        b4.next = null;\n\n        System.out.println(PolynList.add(link1, link2).coef);\n        System.out.println(PolynList.add(link1, link2).exp);\n        System.out.println(PolynList.add(link1, link2).next.coef);\n        System.out.println(PolynList.add(link1, link2).next.exp);\n        System.out.println(PolynList.add(link1, link2).next.next.coef);\n        System.out.println(PolynList.add(link1, link2).next.next.exp);\n        System.out.println(PolynList.add(link1, link2).next.next.next.coef);\n        System.out.println(PolynList.add(link1, link2).next.next.next.exp);\n        System.out.println(PolynList.add(link1, link2).next.next.next.next.coef);\n        System.out.println(PolynList.add(link1, link2).next.next.next.next.exp);\n        System.out.println(PolynList.add(link1, link2).next.next.next.next.next.coef);\n        System.out.println(PolynList.add(link1, link2).next.next.next.next.next.exp);\n    }\n}\n\n</code></pre>\n<p>The result is here:</p>\n<pre><code>2\n1\n15\n2\n3\n3\n15\n4\n256\n5\n6144\n6\n</code></pre>\n<p>This is what I expected:</p>\n<pre><code>2\n1\n5\n2\n3\n3\n3\n4\n1\n5\n3\n6\n</code></pre>\n"},{"tags":["java","asynchronous","quarkus","mutiny"],"answers":[{"tags":[],"owner":{"account_id":4776333,"reputation":735,"user_id":3859317,"accept_rate":100,"display_name":"Pendula"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698667301,"creation_date":1698667301,"answer_id":77388492,"question_id":77388417,"body_markdown":"Although Quarkus supports async programming it is based on event loop threading model where there are few I/O threads that carry the tasks/events. Because of this one of most important things is not to block I/O threads. This is exactly what you did in your code with `Thread.sleep()`\r\n\r\nYou can find more details and explanations here:\r\n\r\n[https://quarkus.io/guides/quarkus-reactive-architecture][1]\r\n\r\n[https://quarkus.io/guides/mutiny-primer][2]\r\n\r\n\r\n  [1]: https://quarkus.io/guides/quarkus-reactive-architecture\r\n  [2]: https://quarkus.io/guides/mutiny-primer","title":"Cannot execute job asynchronously","body":"<p>Although Quarkus supports async programming it is based on event loop threading model where there are few I/O threads that carry the tasks/events. Because of this one of most important things is not to block I/O threads. This is exactly what you did in your code with <code>Thread.sleep()</code></p>\n<p>You can find more details and explanations here:</p>\n<p><a href=\"https://quarkus.io/guides/quarkus-reactive-architecture\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/quarkus-reactive-architecture</a></p>\n<p><a href=\"https://quarkus.io/guides/mutiny-primer\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/mutiny-primer</a></p>\n"},{"tags":[],"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1698671404,"creation_date":1698671404,"answer_id":77388930,"question_id":77388417,"body_markdown":"You don&#39;t want these tasks to be executed _asynchronously_. You want them to be executed _concurrently_. In Quarkus, there are 2 ways how to run multiple tasks concurrently:\r\n\r\n- use non-blocking programming, where multiple tasks execute concurrently on a single thread, because they interleave\r\n- use threads, where each task runs on its own thread\r\n\r\nYou clearly don&#39;t use non-blocking programming, because you&#39;re blocking (`Thread.sleep()`).\r\n\r\nYou also don&#39;t use multiple threads. You may expect Mutiny to create one thread for each task, but that&#39;s not how reactive programming libraries work. You&#39;d have to ask for that explicitly.","title":"Cannot execute job asynchronously","body":"<p>You don't want these tasks to be executed <em>asynchronously</em>. You want them to be executed <em>concurrently</em>. In Quarkus, there are 2 ways how to run multiple tasks concurrently:</p>\n<ul>\n<li>use non-blocking programming, where multiple tasks execute concurrently on a single thread, because they interleave</li>\n<li>use threads, where each task runs on its own thread</li>\n</ul>\n<p>You clearly don't use non-blocking programming, because you're blocking (<code>Thread.sleep()</code>).</p>\n<p>You also don't use multiple threads. You may expect Mutiny to create one thread for each task, but that's not how reactive programming libraries work. You'd have to ask for that explicitly.</p>\n"}],"owner":{"account_id":13244072,"reputation":65,"user_id":9942602,"display_name":"Hzt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77388930,"answer_count":2,"score":0,"last_activity_date":1698671404,"creation_date":1698666615,"question_id":77388417,"body_markdown":"I have a very confusing issue. I&#39;m combining several `Uni&lt;Integer&gt;` which takes 4, 6, and 8 seconds respectively. I was expecting them to be executed asynchronously, which means it should only take 8 seconds (the longest) in total. However, when I run the code its taking 18 (4 + 6 + 8) seconds to finish.\r\n\r\nWhere did I go wrong?\r\n\r\nMy code:\r\n\r\n```java\r\npublic Uni&lt;Integer&gt; asyncTask(int idx, int delay) {\r\n    return Uni.createFrom().item(Unchecked.supplier(() -&gt; {\r\n        // Perform your asynchronous operation here\r\n        // Simulate a delay\r\n        try {\r\n            Thread.sleep(delay);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        System.out.println(new Date() + &quot; &quot; + delay);\r\n        return idx; // Example result\r\n    }));\r\n}\r\n\r\npublic void executeAsyncTasks() {\r\n    Date startTime = new Date();\r\n    Uni.combine().all()\r\n            .unis(asyncTask(1, 4000), asyncTask(2, 6000), asyncTask(3, 8000))\r\n            .asTuple()\r\n\r\n            // Subscribe (which will trigger the calls)\r\n            .subscribe().with(tuple -&gt; {\r\n                System.out.println(&quot;item 1: &quot; + tuple.getItem1());\r\n                System.out.println(&quot;item 2: &quot; + tuple.getItem2());\r\n                System.out.println(&quot;item 3: &quot; + tuple.getItem3());\r\n                Date finishTime = new Date();\r\n                System.out.println(finishTime.getTime() - startTime.getTime());\r\n            });\r\n}\r\n```\r\n","title":"Cannot execute job asynchronously","body":"<p>I have a very confusing issue. I'm combining several <code>Uni&lt;Integer&gt;</code> which takes 4, 6, and 8 seconds respectively. I was expecting them to be executed asynchronously, which means it should only take 8 seconds (the longest) in total. However, when I run the code its taking 18 (4 + 6 + 8) seconds to finish.</p>\n<p>Where did I go wrong?</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Uni&lt;Integer&gt; asyncTask(int idx, int delay) {\n    return Uni.createFrom().item(Unchecked.supplier(() -&gt; {\n        // Perform your asynchronous operation here\n        // Simulate a delay\n        try {\n            Thread.sleep(delay);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        System.out.println(new Date() + &quot; &quot; + delay);\n        return idx; // Example result\n    }));\n}\n\npublic void executeAsyncTasks() {\n    Date startTime = new Date();\n    Uni.combine().all()\n            .unis(asyncTask(1, 4000), asyncTask(2, 6000), asyncTask(3, 8000))\n            .asTuple()\n\n            // Subscribe (which will trigger the calls)\n            .subscribe().with(tuple -&gt; {\n                System.out.println(&quot;item 1: &quot; + tuple.getItem1());\n                System.out.println(&quot;item 2: &quot; + tuple.getItem2());\n                System.out.println(&quot;item 3: &quot; + tuple.getItem3());\n                Date finishTime = new Date();\n                System.out.println(finishTime.getTime() - startTime.getTime());\n            });\n}\n</code></pre>\n"},{"tags":["java","inheritance","types","polymorphism"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1698431119,"post_id":77375515,"comment_id":136409524,"body_markdown":"It looks like you need `List&lt;? extends OnboardingStep&lt;? extends T&gt;&gt;`.","body":"It looks like you need <code>List&lt;? extends OnboardingStep&lt;? extends T&gt;&gt;</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1698438524,"post_id":77375515,"comment_id":136410589,"body_markdown":"@LouisWasserman It’s actually `List&lt;? extends OnboardingStep&lt;? super T&gt;&gt;`.  The `super` is needed to make sure the `perform` method of every instance in the list is capable of accepting T and won’t require a subtype of T.","body":"@LouisWasserman It’s actually <code>List&lt;? extends OnboardingStep&lt;? super T&gt;&gt;</code>.  The <code>super</code> is needed to make sure the <code>perform</code> method of every instance in the list is capable of accepting T and won’t require a subtype of T."},{"owner":{"account_id":4436420,"reputation":1834,"user_id":4743630,"accept_rate":77,"display_name":"Elias Strehle"},"score":0,"creation_date":1698483028,"post_id":77375515,"comment_id":136413613,"body_markdown":"@VGR Yes, `List&lt;OnboardingStep&lt;? super T&gt;&gt;` did the trick. Thank you very much! If you write an answer, I&#39;ll accept it.","body":"@VGR Yes, <code>List&lt;OnboardingStep&lt;? super T&gt;&gt;</code> did the trick. Thank you very much! If you write an answer, I&#39;ll accept it."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698671240,"creation_date":1698535085,"answer_id":77381544,"question_id":77375515,"body_markdown":"What you might want is this (but see below):\r\n\r\n    private final List&lt;OnboardingStep&lt;? super T&gt;&gt; onboardingSteps;\r\n\r\n    protected OnboardingProcess(List&lt;OnboardingStep&lt;? super T&gt;&gt; onboardingSteps) {\r\n        this.onboardingSteps = onboardingSteps;\r\n    }\r\n\r\n`? super T` means that each list element’s `perform` method is guaranteed to accept a T instance, since it will be restricting the constructor argument to steps whose type is T or a superclass of T.  So, for DeveloperOnboardingProcess, the constructor can take list elements which are an `OnboardingStep&lt;Developer&gt;` or an OnboardStep whose generic type is any superclass of Developer, including Employee itself.\r\n\r\nHowever, one thing you cannot do is pass a `List&lt;DeveloperOnboardingStep&gt;`.  `List&lt;DeveloperOnboardingStep&gt;` is *not* equivalent to `List&lt;OnboardingStep&lt;Developer&gt;&gt;` or `List&lt;OnboardingStep&lt;Employee&gt;&gt;`, because the latter has an `add` (and addAll, etc.) method which allows an OnboardingStep, or a DeveloperOnboardingStep, or any other future subclass of OnboardingStep, whereas a `List&lt;DeveloperOnboardingStep&gt;` has an `add` method which will accept only a DeveloperOnboardingStep argument.\r\n\r\nTo allow, say, a `List&lt;DeveloperOnboardingStep&gt;` argument, use this:\r\n\r\n    private final List&lt;? extends OnboardingStep&lt;? super T&gt;&gt; onboardingSteps;\r\n\r\n    protected OnboardingProcess(List&lt;? extends OnboardingStep&lt;? super T&gt;&gt; onboardingSteps) {\r\n        this.onboardingSteps = onboardingSteps;\r\n    }\r\n","title":"Java type which accepts a class AND its interfaces (contravariance)","body":"<p>What you might want is this (but see below):</p>\n<pre><code>private final List&lt;OnboardingStep&lt;? super T&gt;&gt; onboardingSteps;\n\nprotected OnboardingProcess(List&lt;OnboardingStep&lt;? super T&gt;&gt; onboardingSteps) {\n    this.onboardingSteps = onboardingSteps;\n}\n</code></pre>\n<p><code>? super T</code> means that each list element’s <code>perform</code> method is guaranteed to accept a T instance, since it will be restricting the constructor argument to steps whose type is T or a superclass of T.  So, for DeveloperOnboardingProcess, the constructor can take list elements which are an <code>OnboardingStep&lt;Developer&gt;</code> or an OnboardStep whose generic type is any superclass of Developer, including Employee itself.</p>\n<p>However, one thing you cannot do is pass a <code>List&lt;DeveloperOnboardingStep&gt;</code>.  <code>List&lt;DeveloperOnboardingStep&gt;</code> is <em>not</em> equivalent to <code>List&lt;OnboardingStep&lt;Developer&gt;&gt;</code> or <code>List&lt;OnboardingStep&lt;Employee&gt;&gt;</code>, because the latter has an <code>add</code> (and addAll, etc.) method which allows an OnboardingStep, or a DeveloperOnboardingStep, or any other future subclass of OnboardingStep, whereas a <code>List&lt;DeveloperOnboardingStep&gt;</code> has an <code>add</code> method which will accept only a DeveloperOnboardingStep argument.</p>\n<p>To allow, say, a <code>List&lt;DeveloperOnboardingStep&gt;</code> argument, use this:</p>\n<pre><code>private final List&lt;? extends OnboardingStep&lt;? super T&gt;&gt; onboardingSteps;\n\nprotected OnboardingProcess(List&lt;? extends OnboardingStep&lt;? super T&gt;&gt; onboardingSteps) {\n    this.onboardingSteps = onboardingSteps;\n}\n</code></pre>\n"}],"owner":{"account_id":4436420,"reputation":1834,"user_id":4743630,"accept_rate":77,"display_name":"Elias Strehle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77381544,"answer_count":1,"score":2,"last_activity_date":1698671240,"creation_date":1698421974,"question_id":77375515,"body_markdown":"I have a class and an interface like this:\r\n```java\r\ninterface Employee {...}\r\n\r\nclass Developer implements Employee {...}\r\n```\r\n\r\nThen I have classes which implement steps in the onboarding process:\r\n```java\r\ninterface OnboardingStep&lt;T extends Employee&gt; {\r\n  void perform(T newEmployee);\r\n}\r\n\r\nclass GeneralOnboardingStep implements OnboardingStep&lt;Employee&gt; {\r\n  GeneralOnboardingStep() {}\r\n\r\n  @Override\r\n  void perform(Employee newEmployee) {...}\r\n}\r\n\r\nclass DeveloperOnboardingStep implements OnboardingStep&lt;Developer&gt; {\r\n  DeveloperOnboardingStep() {}\r\n\r\n  @Override\r\n  void perform(Developer newDeveloper) {...}\r\n}\r\n```\r\n\r\nThe full onboarding process consists of the general onboarding plus the specific onboarding for developers.\r\n\r\nSo what I would like to do is this:\r\n```java\r\nabstract class OnboardingProcess&lt;T extends Employee&gt; {\r\n\r\n  // This is where I need help, see below\r\n  private final List&lt;OnboardingStep&lt;T&gt;&gt; onboardingSteps;\r\n\r\n  protected OnboardingProcess(List&lt;OnboardingStep&lt;T&gt;&gt; onboardingSteps) {\r\n    this.onboardingSteps = onboardingSteps;\r\n  }\r\n\r\n  public void perform(T newEmployee) {\r\n    for (var onboardingStep: onboardingSteps) {\r\n      onboardingStep.perform(newEmployee);\r\n  }\r\n}\r\n\r\nclass DeveloperOnboardingProcess extends OnboardingProcess&lt;Developer&gt; {\r\n\r\n  DeveloperOnboardingProcess() {\r\n    // This does not work\r\n    super(List.of(\r\n      new GeneralOnboardingStep(),\r\n      new DeveloperOnboardingStep()\r\n    ));\r\n  }\r\n}\r\n```\r\n\r\nThis does not work, because the List in `DeveloperOnboardingProcess` may only contain `OnboardingStep&lt;Developer&gt;` and not `OnboardingStep&lt;Employee&gt;`.\r\n\r\nBut it should work because `Developer` implements `Employee`. (By &quot;should work&quot; I mean: &quot;I wish it worked&quot;).\r\n\r\nHow can I adapt the list type in the abstract class to also accept onboarding steps for the interface?","title":"Java type which accepts a class AND its interfaces (contravariance)","body":"<p>I have a class and an interface like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Employee {...}\n\nclass Developer implements Employee {...}\n</code></pre>\n<p>Then I have classes which implement steps in the onboarding process:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface OnboardingStep&lt;T extends Employee&gt; {\n  void perform(T newEmployee);\n}\n\nclass GeneralOnboardingStep implements OnboardingStep&lt;Employee&gt; {\n  GeneralOnboardingStep() {}\n\n  @Override\n  void perform(Employee newEmployee) {...}\n}\n\nclass DeveloperOnboardingStep implements OnboardingStep&lt;Developer&gt; {\n  DeveloperOnboardingStep() {}\n\n  @Override\n  void perform(Developer newDeveloper) {...}\n}\n</code></pre>\n<p>The full onboarding process consists of the general onboarding plus the specific onboarding for developers.</p>\n<p>So what I would like to do is this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class OnboardingProcess&lt;T extends Employee&gt; {\n\n  // This is where I need help, see below\n  private final List&lt;OnboardingStep&lt;T&gt;&gt; onboardingSteps;\n\n  protected OnboardingProcess(List&lt;OnboardingStep&lt;T&gt;&gt; onboardingSteps) {\n    this.onboardingSteps = onboardingSteps;\n  }\n\n  public void perform(T newEmployee) {\n    for (var onboardingStep: onboardingSteps) {\n      onboardingStep.perform(newEmployee);\n  }\n}\n\nclass DeveloperOnboardingProcess extends OnboardingProcess&lt;Developer&gt; {\n\n  DeveloperOnboardingProcess() {\n    // This does not work\n    super(List.of(\n      new GeneralOnboardingStep(),\n      new DeveloperOnboardingStep()\n    ));\n  }\n}\n</code></pre>\n<p>This does not work, because the List in <code>DeveloperOnboardingProcess</code> may only contain <code>OnboardingStep&lt;Developer&gt;</code> and not <code>OnboardingStep&lt;Employee&gt;</code>.</p>\n<p>But it should work because <code>Developer</code> implements <code>Employee</code>. (By &quot;should work&quot; I mean: &quot;I wish it worked&quot;).</p>\n<p>How can I adapt the list type in the abstract class to also accept onboarding steps for the interface?</p>\n"},{"tags":["java","linux-kernel","ignite","alpine-linux","file-locking"],"answers":[{"comments":[{"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"score":0,"creation_date":1678373419,"post_id":75678133,"comment_id":133523056,"body_markdown":"There are only two pods in this name space, and currently the only one that is up is the Ignite server pod.  I also looked at the deployments and didn&#39;t see any shared volumes.  I removed the lock file and also cleaned up the .lck files from the log directory.  But when I scale down and then back up the ignite server I see nothing in the pod logs.  It looks like the server is not rebooting as I would expect.  There are only more lines with `[/ignite/work/db], reason: No locks available`","body":"There are only two pods in this name space, and currently the only one that is up is the Ignite server pod.  I also looked at the deployments and didn&#39;t see any shared volumes.  I removed the lock file and also cleaned up the .lck files from the log directory.  But when I scale down and then back up the ignite server I see nothing in the pod logs.  It looks like the server is not rebooting as I would expect.  There are only more lines with <code>[&#47;ignite&#47;work&#47;db], reason: No locks available</code>"}],"tags":[],"owner":{"account_id":3690305,"reputation":1896,"user_id":3073027,"accept_rate":25,"display_name":"solveMe"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678349320,"creation_date":1678308931,"answer_id":75678133,"question_id":75676076,"body_markdown":"First of all according to your logs this node was started in **server** mode:\r\n\r\n    clientMode=false\r\n\r\n\r\nSo it looks like following messages:\r\n\r\n    Unable to acquire lock to file ...\r\n\r\nAnd ignite-xxx.0.log.lck files are different things.\r\n\r\nAccording to very first message\r\n\r\n    [22:01:05,356][INFO][main][PdsFoldersResolver] Unable to acquire lock to file \r\n    [/ignite/work/db/node00-2fc48c4c-2bf8-44e2-a4c3-ca22a0001fa2], \r\n    reason: No locks available\r\n\r\nIgnite tried to acquire an exclusive lock to /ignite/work/db/node00-2fc48c4c-2bf8-44e2-a4c3-ca22a0001fa2, because current instance was started in server mode, but failed to do so. \r\n\r\nMost likely this pds folder is already used by different instance. Do you share same persistence volume between different pods?\r\n\r\nSo first of all try to identify whether this volume is shared or not. If yes, try to find another instance that might locked this directory. You should find `lock` file in `/$IGNITE_WORK/db/$NODE_CONSISTENT_ID` folder with content like:\r\n\r\n    [d55a32ec-6929-4a60-a9d0-2de33afd7007][]\r\n\r\nIf you find this file but there is no other running node that have this id, you possibly could try to remove this file and try to restart problematic node.","title":"Ignite Server pod unable to acquire lock to file","body":"<p>First of all according to your logs this node was started in <strong>server</strong> mode:</p>\n<pre><code>clientMode=false\n</code></pre>\n<p>So it looks like following messages:</p>\n<pre><code>Unable to acquire lock to file ...\n</code></pre>\n<p>And ignite-xxx.0.log.lck files are different things.</p>\n<p>According to very first message</p>\n<pre><code>[22:01:05,356][INFO][main][PdsFoldersResolver] Unable to acquire lock to file \n[/ignite/work/db/node00-2fc48c4c-2bf8-44e2-a4c3-ca22a0001fa2], \nreason: No locks available\n</code></pre>\n<p>Ignite tried to acquire an exclusive lock to /ignite/work/db/node00-2fc48c4c-2bf8-44e2-a4c3-ca22a0001fa2, because current instance was started in server mode, but failed to do so.</p>\n<p>Most likely this pds folder is already used by different instance. Do you share same persistence volume between different pods?</p>\n<p>So first of all try to identify whether this volume is shared or not. If yes, try to find another instance that might locked this directory. You should find <code>lock</code> file in <code>/$IGNITE_WORK/db/$NODE_CONSISTENT_ID</code> folder with content like:</p>\n<pre><code>[d55a32ec-6929-4a60-a9d0-2de33afd7007][]\n</code></pre>\n<p>If you find this file but there is no other running node that have this id, you possibly could try to remove this file and try to restart problematic node.</p>\n"},{"tags":[],"owner":{"account_id":29786441,"reputation":11,"user_id":22827693,"display_name":"Gary Henderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698671132,"creation_date":1698671132,"answer_id":77388887,"question_id":75676076,"body_markdown":"If the filesystem that Ignite is trying to create the lock file on is an NFS v3 mount on Unix/Linux, then it might be an operating system level issue causing the problem. NFS v3 requires statd and lockd processes to be up and running to support file locks.\r\n\r\nWe had this exact same problem recently - after a machine reboot, some other process had grabbed statd&#39;s port and it hadn&#39;t started correctly and Ignite was unable to lock a file at start up and refused to start.\r\n\r\nAsk the SAs to fix the statd / lockd processes or switch to NFS v4 which doesn&#39;t require these processes to be running.","title":"Ignite Server pod unable to acquire lock to file","body":"<p>If the filesystem that Ignite is trying to create the lock file on is an NFS v3 mount on Unix/Linux, then it might be an operating system level issue causing the problem. NFS v3 requires statd and lockd processes to be up and running to support file locks.</p>\n<p>We had this exact same problem recently - after a machine reboot, some other process had grabbed statd's port and it hadn't started correctly and Ignite was unable to lock a file at start up and refused to start.</p>\n<p>Ask the SAs to fix the statd / lockd processes or switch to NFS v4 which doesn't require these processes to be running.</p>\n"}],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698671132,"creation_date":1678295094,"question_id":75676076,"body_markdown":"I am debugging an issue with one of our Ignite servers which was running in Kubernetes for some months without issue.  \r\n\r\nClient nodes started failing to come up as as they were failing a readiness probe for the Ignite server.  When I went to the Ignite server I saw the logs were full of `[PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available`.  The start of these messages seem to coincide with when client nodes started failing.\r\n\r\nI tried scaling down the Ignite server and then scaling it back up however this did not resolve the issue. Logs from the restart below.\r\n\r\nFurther when I looked at the contents of the /ignite/work/log directory it has a large number of locks for the log files.  Normally I only see a lock for the current log, not previous.  \r\n\r\nMy questions are:\r\n\r\n 1. Why are locks for older logs continuing to persist and how can I stop this from happening?\r\n 2. How can I clean up the Ignite server? Scaling down the pods does not help.  Would manually deleting the lock files fix the issue? \r\n\r\n```\r\n# ls -l /ignite/work/log/*.lck | wc -l\r\n3846\r\n```\r\n\r\nEdit: \r\nI have also noticed that the number of lock file if far greater than the number of locks:\r\n\r\n```\r\n# ls -l ./*.log |wc -l\r\n35\r\n```\r\n\r\nExample lock:\r\n\r\n`-rw-r--r--    1 root     root             0 Nov 17 10:32 ignite-f543b237.0.log.lck`\r\n\r\n```\r\n&gt;&gt;&gt;    __________  ________________\r\n&gt;&gt;&gt;   /  _/ ___/ |/ /  _/_  __/ __/\r\n&gt;&gt;&gt;  _/ // (7 7    // /  / / / _/\r\n&gt;&gt;&gt; /___/\\___/_/|_/___/ /_/ /___/\r\n&gt;&gt;&gt;\r\n&gt;&gt;&gt; ver. 2.11.1#20211220-sha1:eae1147d\r\n&gt;&gt;&gt; 2021 Copyright(C) Apache Software Foundation\r\n&gt;&gt;&gt;\r\n&gt;&gt;&gt; Ignite documentation: http://ignite.apache.org\r\n\r\n[21:20:08,116][INFO][main][IgniteKernal] Config URL: file:/ignite/config/ignite_server_config.xml\r\n[21:20:08,140][INFO][main][IgniteKernal] IgniteConfiguration [igniteInstanceName=null, pubPoolSize=8, svcPoolSize=8, callbackPoolSize=8, stripedPoolSize=8, sysPoolSize=8, mgmtPoolSize=4, dataStreamerPoolSize=8, utilityCachePoolSize=8, utilityCacheKeepAliveTime=60000, p2pPoolSize=2, qryPoolSize=8, buildIdxPoolSize=1, ign\r\niteHome=/opt/ignite/apache-ignite, igniteWorkDir=/ignite/work, mbeanSrv=com.sun.jmx.mbeanserver.JmxMBeanServer@6e38921c, nodeId=165f2068-01fd-4356-ae65-f199e33bf7cd, marsh=BinaryMarshaller [], marshLocJobs=false, daemon=false, p2pEnabled=false, netTimeout=5000, netCompressionLevel=1, sndRetryDelay=1000, sndRetryCnt=3, m\r\netricsHistSize=10000, metricsUpdateFreq=2000, metricsExpTime=9223372036854775807, discoSpi=TcpDiscoverySpi [addrRslvr=null, addressFilter=null, sockTimeout=0, ackTimeout=0, marsh=null, reconCnt=10, reconDelay=2000, maxAckTimeout=600000, soLinger=0, forceSrvMode=false, clientReconnectDisabled=false, internalLsnr=null, sk\r\nipAddrsRandomization=false], segPlc=STOP, segResolveAttempts=2, waitForSegOnStart=true, allResolversPassReq=true, segChkFreq=10000, commSpi=TcpCommunicationSpi [connectGate=org.apache.ignite.spi.communication.tcp.internal.ConnectGateway@6ad82709, ctxInitLatch=java.util.concurrent.CountDownLatch@510f3d34[Count = 1], stop\r\nping=false, clientPool=null, nioSrvWrapper=null, stateProvider=null], evtSpi=org.apache.ignite.spi.eventstorage.NoopEventStorageSpi@7817fd62, colSpi=NoopCollisionSpi [], deploySpi=LocalDeploymentSpi [], indexingSpi=org.apache.ignite.spi.indexing.noop.NoopIndexingSpi@24313fcc, addrRslvr=null, encryptionSpi=org.apache.ign\r\nite.spi.encryption.noop.NoopEncryptionSpi@7d20d0b, tracingSpi=org.apache.ignite.spi.tracing.NoopTracingSpi@77f1baf5, clientMode=false, rebalanceThreadPoolSize=1, rebalanceTimeout=10000, rebalanceBatchesPrefetchCnt=3, rebalanceThrottle=0, rebalanceBatchSize=524288, txCfg=TransactionConfiguration [txSerEnabled=false, dflt\r\nIsolation=REPEATABLE_READ, dfltConcurrency=PESSIMISTIC, dfltTxTimeout=0, txTimeoutOnPartitionMapExchange=0, deadlockTimeout=10000, pessimisticTxLogSize=0, pessimisticTxLogLinger=10000, tmLookupClsName=null, txManagerFactory=null, useJtaSync=false], cacheSanityCheckEnabled=true, discoStartupDelay=60000, deployMode=SHARED\r\n, p2pMissedCacheSize=100, locHost=null, timeSrvPortBase=31100, timeSrvPortRange=100, failureDetectionTimeout=10000, sysWorkerBlockedTimeout=null, clientFailureDetectionTimeout=30000, metricsLogFreq=60000, connectorCfg=ConnectorConfiguration [jettyPath=null, host=null, port=11211, noDelay=true, directBuf=false, sndBufSiz\r\ne=32768, rcvBufSize=32768, idleQryCurTimeout=600000, idleQryCurCheckFreq=60000, sndQueueLimit=0, selectorCnt=1, idleTimeout=7000, sslEnabled=false, sslClientAuth=false, sslCtxFactory=null, sslFactory=null, portRange=100, threadPoolSize=8, msgInterceptor=null], odbcCfg=null, warmupClos=null, atomicCfg=AtomicConfiguration\r\n [seqReserveSize=1000, cacheMode=PARTITIONED, backups=1, aff=null, grpName=null], classLdr=null, sslCtxFactory=null, platformCfg=null, binaryCfg=null, memCfg=null, pstCfg=null, dsCfg=DataStorageConfiguration [sysRegionInitSize=41943040, sysRegionMaxSize=104857600, pageSize=0, concLvl=0, dfltDataRegConf=DataRegionConfigu\r\nration [name=default, maxSize=54081806336, initSize=268435456, swapPath=null, pageEvictionMode=DISABLED, pageReplacementMode=CLOCK, evictionThreshold=0.9, emptyPagesPoolSize=100, metricsEnabled=false, metricsSubIntervalCount=5, metricsRateTimeInterval=60000, persistenceEnabled=true, checkpointPageBufSize=0, lazyMemoryAl\r\nlocation=true, warmUpCfg=null], dataRegions=null, storagePath=null, checkpointFreq=180000, lockWaitTime=10000, checkpointThreads=4, checkpointWriteOrder=SEQUENTIAL, walHistSize=20, maxWalArchiveSize=1073741824, walSegments=10, walSegmentSize=67108864, walPath=/ignite/wal, walArchivePath=/ignite/walarchive, metricsEnable\r\nd=false, walMode=LOG_ONLY, walTlbSize=131072, walBuffSize=0, walFlushFreq=2000, walFsyncDelay=1000, walRecordIterBuffSize=67108864, alwaysWriteFullPages=false, fileIOFactory=org.apache.ignite.internal.processors.cache.persistence.file.AsyncFileIOFactory@66d18979, metricsSubIntervalCnt=5, metricsRateTimeInterval=60000, w\r\nalAutoArchiveAfterInactivity=-1, writeThrottlingEnabled=false, walCompactionEnabled=false, walCompactionLevel=1, checkpointReadLockTimeout=null, walPageCompression=DISABLED, walPageCompressionLevel=null, dfltWarmUpCfg=null, encCfg=org.apache.ignite.configuration.EncryptionConfiguration@609cd4d8, defragmentationThreadPoo\r\nlSize=4], snapshotPath=snapshots, activeOnStart=true, activeOnStartPropSetFlag=false, autoActivation=true, autoActivationPropSetFlag=false, clusterStateOnStart=null, sqlConnCfg=null, cliConnCfg=ClientConnectorConfiguration [host=null, port=10800, portRange=100, sockSndBufSize=0, sockRcvBufSize=0, tcpNoDelay=true, maxOpe\r\nnCursorsPerConn=128, threadPoolSize=8, selectorCnt=4, idleTimeout=0, handshakeTimeout=10000, jdbcEnabled=true, odbcEnabled=true, thinCliEnabled=true, sslEnabled=false, useIgniteSslCtxFactory=true, sslClientAuth=false, sslCtxFactory=null, thinCliCfg=ThinClientConfiguration [maxActiveTxPerConn=100, maxActiveComputeTasksPe\r\nrConn=0]], mvccVacuumThreadCnt=2, mvccVacuumFreq=5000, authEnabled=false, failureHnd=null, commFailureRslvr=null, sqlCfg=SqlConfiguration [longQryWarnTimeout=3000, dfltQryTimeout=0, sqlQryHistSize=1000, validationEnabled=false], asyncContinuationExecutor=null]\r\n[21:20:08,141][INFO][main][IgniteKernal] Daemon mode: off\r\n[21:20:08,141][INFO][main][IgniteKernal] OS: Linux 5.15.0-58-generic amd64\r\n[21:20:08,141][INFO][main][IgniteKernal] OS user: root\r\n[21:20:08,144][INFO][main][IgniteKernal] PID: 1\r\n[21:20:08,144][INFO][main][IgniteKernal] Language runtime: Java Platform API Specification ver. 1.8\r\n[21:20:08,144][INFO][main][IgniteKernal] VM information: OpenJDK Runtime Environment 1.8.0_212-b04 IcedTea OpenJDK 64-Bit Server VM 25.212-b04\r\n[21:20:08,147][INFO][main][IgniteKernal] VM total memory: 4.0GB\r\n[21:20:08,148][INFO][main][IgniteKernal] Remote Management [restart: off, REST: on, JMX (remote: off)]\r\n[21:20:08,148][INFO][main][IgniteKernal] Logger: JavaLogger [quiet=true, config=null]\r\n[21:20:08,148][INFO][main][IgniteKernal] IGNITE_HOME=/opt/ignite/apache-ignite\r\n[21:20:08,148][INFO][main][IgniteKernal] VM arguments: [-XX:+AggressiveOpts, -DIGNITE_WAL_MMAP=false, -DIGNITE_UPDATE_NOTIFIER=false, -XX:+UseG1GC, -Xmx4g, -XX:+DisableExplicitGC, -Xms4g, -XX:+AlwaysPreTouch, -XX:+ScavengeBeforeFullGC, -DIGNITE_HOME=/opt/ignite/apache-ignite]\r\n[21:20:08,149][INFO][main][IgniteKernal] System cache&#39;s DataRegion size is configured to 40 MB. Use DataStorageConfiguration.systemRegionInitialSize property to change the setting.\r\n[21:20:08,149][INFO][main][IgniteKernal] Configured caches [in &#39;sysMemPlc&#39; dataRegion: [&#39;ignite-sys-cache&#39;]]\r\n[21:20:08,149][WARNING][main][IgniteKernal] Please set system property &#39;-Djava.net.preferIPv4Stack=true&#39; to avoid possible problems in mixed environments.\r\n[21:20:08,153][INFO][main][IgniteKernal] 3-rd party licenses can be found at: /opt/ignite/apache-ignite/libs/licenses\r\n[21:20:08,315][INFO][main][IgnitePluginProcessor] Configured plugins:\r\n[21:20:08,315][INFO][main][IgnitePluginProcessor]   ^-- None\r\n[21:20:08,315][INFO][main][IgnitePluginProcessor]\r\n[21:20:08,324][INFO][main][FailureProcessor] Configured failure handler: [hnd=StopNodeOrHaltFailureHandler [tryStop=false, timeout=0, super=AbstractFailureHandler [ignoredFailureTypes=UnmodifiableSet [SYSTEM_WORKER_BLOCKED, SYSTEM_CRITICAL_OPERATION_TIMEOUT]]]]\r\n[21:20:08,770][INFO][main][TcpCommunicationSpi] Successfully bound communication NIO server to TCP port [port=47100, locHost=0.0.0.0/0.0.0.0, selectorsCnt=4, selectorSpins=0, pairedConn=false]\r\n[21:20:08,770][WARNING][main][TcpCommunicationSpi] Message queue limit is set to 0 which may lead to potential OOMEs when running cache operations in FULL_ASYNC or PRIMARY_SYNC modes due to message queues growth on sender and receiver sides.\r\n[21:20:08,785][WARNING][main][NoopCheckpointSpi] Checkpoints are disabled (to enable configure any GridCheckpointSpi implementation)\r\n[21:20:08,832][WARNING][main][GridCollisionManager] Collision resolution is disabled (all jobs will be activated upon arrival).\r\n[21:20:08,833][INFO][main][IgniteKernal] Security status [authentication=off, sandbox=off, tls/ssl=off]\r\n[21:20:08,908][INFO][main][TcpDiscoverySpi] Successfully bound to TCP port [port=47500, localHost=0.0.0.0/0.0.0.0, locNodeId=165f2068-01fd-4356-ae65-f199e33bf7cd]\r\n[22:01:05,356][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db/node00-2fc48c4c-2bf8-44e2-a4c3-ca22a0001fa2], reason: No locks available\r\n[00:10:06,798][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\r\n[00:34:41,360][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\r\n[03:01:07,293][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\r\n[03:25:41,852][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\r\n[05:52:07,788][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\r\n[06:16:42,348][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\r\n[08:43:08,270][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\r\n[09:07:42,832][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\r\n[11:34:08,764][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\r\n[11:58:43,329][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\r\n[14:25:09,266][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\r\n[14:49:43,829][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\r\n```\r\n\r\nEdit:\r\n\r\nDespite scaling up and down the number of Ignite servers I stopped seeing logs indicating that the server was starting up, just more logs that it was unable to acquire a lock.  \r\n\r\nI tried manually launching a server on the pod but it just stalls out on start up and does not progress:\r\n\r\n```\r\n./ignite.sh ../config/nkw-ignite.xml -v\r\nIgnite Command Line Startup, ver. 2.11.1#20211220-sha1:eae1147d\r\n2021 Copyright(C) Apache Software Foundation\r\n```\r\n","title":"Ignite Server pod unable to acquire lock to file","body":"<p>I am debugging an issue with one of our Ignite servers which was running in Kubernetes for some months without issue.</p>\n<p>Client nodes started failing to come up as as they were failing a readiness probe for the Ignite server.  When I went to the Ignite server I saw the logs were full of <code>[PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available</code>.  The start of these messages seem to coincide with when client nodes started failing.</p>\n<p>I tried scaling down the Ignite server and then scaling it back up however this did not resolve the issue. Logs from the restart below.</p>\n<p>Further when I looked at the contents of the /ignite/work/log directory it has a large number of locks for the log files.  Normally I only see a lock for the current log, not previous.</p>\n<p>My questions are:</p>\n<ol>\n<li>Why are locks for older logs continuing to persist and how can I stop this from happening?</li>\n<li>How can I clean up the Ignite server? Scaling down the pods does not help.  Would manually deleting the lock files fix the issue?</li>\n</ol>\n<pre><code># ls -l /ignite/work/log/*.lck | wc -l\n3846\n</code></pre>\n<p>Edit:\nI have also noticed that the number of lock file if far greater than the number of locks:</p>\n<pre><code># ls -l ./*.log |wc -l\n35\n</code></pre>\n<p>Example lock:</p>\n<p><code>-rw-r--r--    1 root     root             0 Nov 17 10:32 ignite-f543b237.0.log.lck</code></p>\n<pre><code>&gt;&gt;&gt;    __________  ________________\n&gt;&gt;&gt;   /  _/ ___/ |/ /  _/_  __/ __/\n&gt;&gt;&gt;  _/ // (7 7    // /  / / / _/\n&gt;&gt;&gt; /___/\\___/_/|_/___/ /_/ /___/\n&gt;&gt;&gt;\n&gt;&gt;&gt; ver. 2.11.1#20211220-sha1:eae1147d\n&gt;&gt;&gt; 2021 Copyright(C) Apache Software Foundation\n&gt;&gt;&gt;\n&gt;&gt;&gt; Ignite documentation: http://ignite.apache.org\n\n[21:20:08,116][INFO][main][IgniteKernal] Config URL: file:/ignite/config/ignite_server_config.xml\n[21:20:08,140][INFO][main][IgniteKernal] IgniteConfiguration [igniteInstanceName=null, pubPoolSize=8, svcPoolSize=8, callbackPoolSize=8, stripedPoolSize=8, sysPoolSize=8, mgmtPoolSize=4, dataStreamerPoolSize=8, utilityCachePoolSize=8, utilityCacheKeepAliveTime=60000, p2pPoolSize=2, qryPoolSize=8, buildIdxPoolSize=1, ign\niteHome=/opt/ignite/apache-ignite, igniteWorkDir=/ignite/work, mbeanSrv=com.sun.jmx.mbeanserver.JmxMBeanServer@6e38921c, nodeId=165f2068-01fd-4356-ae65-f199e33bf7cd, marsh=BinaryMarshaller [], marshLocJobs=false, daemon=false, p2pEnabled=false, netTimeout=5000, netCompressionLevel=1, sndRetryDelay=1000, sndRetryCnt=3, m\netricsHistSize=10000, metricsUpdateFreq=2000, metricsExpTime=9223372036854775807, discoSpi=TcpDiscoverySpi [addrRslvr=null, addressFilter=null, sockTimeout=0, ackTimeout=0, marsh=null, reconCnt=10, reconDelay=2000, maxAckTimeout=600000, soLinger=0, forceSrvMode=false, clientReconnectDisabled=false, internalLsnr=null, sk\nipAddrsRandomization=false], segPlc=STOP, segResolveAttempts=2, waitForSegOnStart=true, allResolversPassReq=true, segChkFreq=10000, commSpi=TcpCommunicationSpi [connectGate=org.apache.ignite.spi.communication.tcp.internal.ConnectGateway@6ad82709, ctxInitLatch=java.util.concurrent.CountDownLatch@510f3d34[Count = 1], stop\nping=false, clientPool=null, nioSrvWrapper=null, stateProvider=null], evtSpi=org.apache.ignite.spi.eventstorage.NoopEventStorageSpi@7817fd62, colSpi=NoopCollisionSpi [], deploySpi=LocalDeploymentSpi [], indexingSpi=org.apache.ignite.spi.indexing.noop.NoopIndexingSpi@24313fcc, addrRslvr=null, encryptionSpi=org.apache.ign\nite.spi.encryption.noop.NoopEncryptionSpi@7d20d0b, tracingSpi=org.apache.ignite.spi.tracing.NoopTracingSpi@77f1baf5, clientMode=false, rebalanceThreadPoolSize=1, rebalanceTimeout=10000, rebalanceBatchesPrefetchCnt=3, rebalanceThrottle=0, rebalanceBatchSize=524288, txCfg=TransactionConfiguration [txSerEnabled=false, dflt\nIsolation=REPEATABLE_READ, dfltConcurrency=PESSIMISTIC, dfltTxTimeout=0, txTimeoutOnPartitionMapExchange=0, deadlockTimeout=10000, pessimisticTxLogSize=0, pessimisticTxLogLinger=10000, tmLookupClsName=null, txManagerFactory=null, useJtaSync=false], cacheSanityCheckEnabled=true, discoStartupDelay=60000, deployMode=SHARED\n, p2pMissedCacheSize=100, locHost=null, timeSrvPortBase=31100, timeSrvPortRange=100, failureDetectionTimeout=10000, sysWorkerBlockedTimeout=null, clientFailureDetectionTimeout=30000, metricsLogFreq=60000, connectorCfg=ConnectorConfiguration [jettyPath=null, host=null, port=11211, noDelay=true, directBuf=false, sndBufSiz\ne=32768, rcvBufSize=32768, idleQryCurTimeout=600000, idleQryCurCheckFreq=60000, sndQueueLimit=0, selectorCnt=1, idleTimeout=7000, sslEnabled=false, sslClientAuth=false, sslCtxFactory=null, sslFactory=null, portRange=100, threadPoolSize=8, msgInterceptor=null], odbcCfg=null, warmupClos=null, atomicCfg=AtomicConfiguration\n [seqReserveSize=1000, cacheMode=PARTITIONED, backups=1, aff=null, grpName=null], classLdr=null, sslCtxFactory=null, platformCfg=null, binaryCfg=null, memCfg=null, pstCfg=null, dsCfg=DataStorageConfiguration [sysRegionInitSize=41943040, sysRegionMaxSize=104857600, pageSize=0, concLvl=0, dfltDataRegConf=DataRegionConfigu\nration [name=default, maxSize=54081806336, initSize=268435456, swapPath=null, pageEvictionMode=DISABLED, pageReplacementMode=CLOCK, evictionThreshold=0.9, emptyPagesPoolSize=100, metricsEnabled=false, metricsSubIntervalCount=5, metricsRateTimeInterval=60000, persistenceEnabled=true, checkpointPageBufSize=0, lazyMemoryAl\nlocation=true, warmUpCfg=null], dataRegions=null, storagePath=null, checkpointFreq=180000, lockWaitTime=10000, checkpointThreads=4, checkpointWriteOrder=SEQUENTIAL, walHistSize=20, maxWalArchiveSize=1073741824, walSegments=10, walSegmentSize=67108864, walPath=/ignite/wal, walArchivePath=/ignite/walarchive, metricsEnable\nd=false, walMode=LOG_ONLY, walTlbSize=131072, walBuffSize=0, walFlushFreq=2000, walFsyncDelay=1000, walRecordIterBuffSize=67108864, alwaysWriteFullPages=false, fileIOFactory=org.apache.ignite.internal.processors.cache.persistence.file.AsyncFileIOFactory@66d18979, metricsSubIntervalCnt=5, metricsRateTimeInterval=60000, w\nalAutoArchiveAfterInactivity=-1, writeThrottlingEnabled=false, walCompactionEnabled=false, walCompactionLevel=1, checkpointReadLockTimeout=null, walPageCompression=DISABLED, walPageCompressionLevel=null, dfltWarmUpCfg=null, encCfg=org.apache.ignite.configuration.EncryptionConfiguration@609cd4d8, defragmentationThreadPoo\nlSize=4], snapshotPath=snapshots, activeOnStart=true, activeOnStartPropSetFlag=false, autoActivation=true, autoActivationPropSetFlag=false, clusterStateOnStart=null, sqlConnCfg=null, cliConnCfg=ClientConnectorConfiguration [host=null, port=10800, portRange=100, sockSndBufSize=0, sockRcvBufSize=0, tcpNoDelay=true, maxOpe\nnCursorsPerConn=128, threadPoolSize=8, selectorCnt=4, idleTimeout=0, handshakeTimeout=10000, jdbcEnabled=true, odbcEnabled=true, thinCliEnabled=true, sslEnabled=false, useIgniteSslCtxFactory=true, sslClientAuth=false, sslCtxFactory=null, thinCliCfg=ThinClientConfiguration [maxActiveTxPerConn=100, maxActiveComputeTasksPe\nrConn=0]], mvccVacuumThreadCnt=2, mvccVacuumFreq=5000, authEnabled=false, failureHnd=null, commFailureRslvr=null, sqlCfg=SqlConfiguration [longQryWarnTimeout=3000, dfltQryTimeout=0, sqlQryHistSize=1000, validationEnabled=false], asyncContinuationExecutor=null]\n[21:20:08,141][INFO][main][IgniteKernal] Daemon mode: off\n[21:20:08,141][INFO][main][IgniteKernal] OS: Linux 5.15.0-58-generic amd64\n[21:20:08,141][INFO][main][IgniteKernal] OS user: root\n[21:20:08,144][INFO][main][IgniteKernal] PID: 1\n[21:20:08,144][INFO][main][IgniteKernal] Language runtime: Java Platform API Specification ver. 1.8\n[21:20:08,144][INFO][main][IgniteKernal] VM information: OpenJDK Runtime Environment 1.8.0_212-b04 IcedTea OpenJDK 64-Bit Server VM 25.212-b04\n[21:20:08,147][INFO][main][IgniteKernal] VM total memory: 4.0GB\n[21:20:08,148][INFO][main][IgniteKernal] Remote Management [restart: off, REST: on, JMX (remote: off)]\n[21:20:08,148][INFO][main][IgniteKernal] Logger: JavaLogger [quiet=true, config=null]\n[21:20:08,148][INFO][main][IgniteKernal] IGNITE_HOME=/opt/ignite/apache-ignite\n[21:20:08,148][INFO][main][IgniteKernal] VM arguments: [-XX:+AggressiveOpts, -DIGNITE_WAL_MMAP=false, -DIGNITE_UPDATE_NOTIFIER=false, -XX:+UseG1GC, -Xmx4g, -XX:+DisableExplicitGC, -Xms4g, -XX:+AlwaysPreTouch, -XX:+ScavengeBeforeFullGC, -DIGNITE_HOME=/opt/ignite/apache-ignite]\n[21:20:08,149][INFO][main][IgniteKernal] System cache's DataRegion size is configured to 40 MB. Use DataStorageConfiguration.systemRegionInitialSize property to change the setting.\n[21:20:08,149][INFO][main][IgniteKernal] Configured caches [in 'sysMemPlc' dataRegion: ['ignite-sys-cache']]\n[21:20:08,149][WARNING][main][IgniteKernal] Please set system property '-Djava.net.preferIPv4Stack=true' to avoid possible problems in mixed environments.\n[21:20:08,153][INFO][main][IgniteKernal] 3-rd party licenses can be found at: /opt/ignite/apache-ignite/libs/licenses\n[21:20:08,315][INFO][main][IgnitePluginProcessor] Configured plugins:\n[21:20:08,315][INFO][main][IgnitePluginProcessor]   ^-- None\n[21:20:08,315][INFO][main][IgnitePluginProcessor]\n[21:20:08,324][INFO][main][FailureProcessor] Configured failure handler: [hnd=StopNodeOrHaltFailureHandler [tryStop=false, timeout=0, super=AbstractFailureHandler [ignoredFailureTypes=UnmodifiableSet [SYSTEM_WORKER_BLOCKED, SYSTEM_CRITICAL_OPERATION_TIMEOUT]]]]\n[21:20:08,770][INFO][main][TcpCommunicationSpi] Successfully bound communication NIO server to TCP port [port=47100, locHost=0.0.0.0/0.0.0.0, selectorsCnt=4, selectorSpins=0, pairedConn=false]\n[21:20:08,770][WARNING][main][TcpCommunicationSpi] Message queue limit is set to 0 which may lead to potential OOMEs when running cache operations in FULL_ASYNC or PRIMARY_SYNC modes due to message queues growth on sender and receiver sides.\n[21:20:08,785][WARNING][main][NoopCheckpointSpi] Checkpoints are disabled (to enable configure any GridCheckpointSpi implementation)\n[21:20:08,832][WARNING][main][GridCollisionManager] Collision resolution is disabled (all jobs will be activated upon arrival).\n[21:20:08,833][INFO][main][IgniteKernal] Security status [authentication=off, sandbox=off, tls/ssl=off]\n[21:20:08,908][INFO][main][TcpDiscoverySpi] Successfully bound to TCP port [port=47500, localHost=0.0.0.0/0.0.0.0, locNodeId=165f2068-01fd-4356-ae65-f199e33bf7cd]\n[22:01:05,356][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db/node00-2fc48c4c-2bf8-44e2-a4c3-ca22a0001fa2], reason: No locks available\n[00:10:06,798][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\n[00:34:41,360][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\n[03:01:07,293][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\n[03:25:41,852][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\n[05:52:07,788][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\n[06:16:42,348][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\n[08:43:08,270][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\n[09:07:42,832][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\n[11:34:08,764][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\n[11:58:43,329][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\n[14:25:09,266][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\n[14:49:43,829][INFO][main][PdsFoldersResolver] Unable to acquire lock to file [/ignite/work/db], reason: No locks available\n</code></pre>\n<p>Edit:</p>\n<p>Despite scaling up and down the number of Ignite servers I stopped seeing logs indicating that the server was starting up, just more logs that it was unable to acquire a lock.</p>\n<p>I tried manually launching a server on the pod but it just stalls out on start up and does not progress:</p>\n<pre><code>./ignite.sh ../config/nkw-ignite.xml -v\nIgnite Command Line Startup, ver. 2.11.1#20211220-sha1:eae1147d\n2021 Copyright(C) Apache Software Foundation\n</code></pre>\n"},{"tags":["java","pattern-matching","text-parsing"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1698146541,"post_id":77351623,"comment_id":136365538,"body_markdown":"Because you&#39;re giving it an empty string and that&#39;s not parseable to an integer.","body":"Because you&#39;re giving it an empty string and that&#39;s not parseable to an integer."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1698148334,"post_id":77351623,"comment_id":136365865,"body_markdown":"Note a better pattern might be `&quot;(\\\\+|-)?[0-9]+&quot;`, as `Integer#parseInt(int)` allows the leading character to be a `+` or `-` (if none, it assumes a positive number, i.e., `+`). The answer below explains why you should use `[0-9]+` instead of `[0-9]*`.","body":"Note a better pattern might be <code>&quot;(\\\\+|-)?[0-9]+&quot;</code>, as <code>Integer#parseInt(int)</code> allows the leading character to be a <code>+</code> or <code>-</code> (if none, it assumes a positive number, i.e., <code>+</code>). The answer below explains why you should use <code>[0-9]+</code> instead of <code>[0-9]*</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1698150363,"post_id":77351623,"comment_id":136366188,"body_markdown":"Adding `System.out.println(str);` would have answered your question.","body":"Adding <code>System.out.println(str);</code> would have answered your question."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698146595,"creation_date":1698146595,"answer_id":77351648,"question_id":77351623,"body_markdown":"Because your pattern uses `*`, after your single digit there is another match - an empty string. Use `+` instead, and that empty string won&#39;t match.","title":"Why does Integer.parseInt produce Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;","body":"<p>Because your pattern uses <code>*</code>, after your single digit there is another match - an empty string. Use <code>+</code> instead, and that empty string won't match.</p>\n"}],"owner":{"account_id":22266266,"reputation":33,"user_id":16497016,"display_name":"Th333w1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1698670750,"creation_date":1698146418,"question_id":77351623,"body_markdown":"Why does `Integer.parseInt` produce this error?\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    String input = &quot;6&quot;;\r\n    Pattern pattern = Pattern.compile(&quot;[0-9]*&quot;);\r\n    Matcher matcher = pattern.matcher(input);\r\n    while (matcher.find()) {\r\n        String str = matcher.group();\r\n        System.out.println(Integer.parseInt(str));\r\n    }\r\n}\r\n```\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;\r\n\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:675)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:781)\r\n\r\n","title":"Why does Integer.parseInt produce Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;","body":"<p>Why does <code>Integer.parseInt</code> produce this error?</p>\n<pre><code>public static void main(String[] args) {\n    String input = &quot;6&quot;;\n    Pattern pattern = Pattern.compile(&quot;[0-9]*&quot;);\n    Matcher matcher = pattern.matcher(input);\n    while (matcher.find()) {\n        String str = matcher.group();\n        System.out.println(Integer.parseInt(str));\n    }\n}\n</code></pre>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;\nat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\nat java.base/java.lang.Integer.parseInt(Integer.java:675)\nat java.base/java.lang.Integer.parseInt(Integer.java:781)</p>\n</blockquote>\n"},{"tags":["java","image","image-processing","bufferedimage","image-scaling"],"comments":[{"owner":{"account_id":2052314,"reputation":352,"user_id":1831027,"accept_rate":83,"display_name":"Marcus Becker"},"score":1,"creation_date":1422538924,"post_id":4216123,"comment_id":44795663,"body_markdown":"An excelent tutorial: http://www.glyphic.com/transform/applet/1intro.html","body":"An excelent tutorial: <a href=\"http://www.glyphic.com/transform/applet/1intro.html\" rel=\"nofollow noreferrer\">glyphic.com/transform/applet/1intro.html</a>"},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1506570319,"post_id":4216123,"comment_id":79876213,"body_markdown":"As of this writing, the most popular answer is the wrong answer. It scales the image up, but it return an image of the same size, with 3/4 of the image missing. It&#39;s the answer given by trashgod. It&#39;s close, but it has a small bug.","body":"As of this writing, the most popular answer is the wrong answer. It scales the image up, but it return an image of the same size, with 3/4 of the image missing. It&#39;s the answer given by trashgod. It&#39;s close, but it has a small bug."},{"owner":{"account_id":21684,"reputation":3041,"user_id":52924,"accept_rate":100,"display_name":"Thiago Diniz"},"score":0,"creation_date":1557526166,"post_id":4216123,"comment_id":98808917,"body_markdown":"Thanks, @MiguelMunoz. As we have more feedback I can change the answer.","body":"Thanks, @MiguelMunoz. As we have more feedback I can change the answer."}],"answers":[{"comments":[{"owner":{"account_id":21684,"reputation":3041,"user_id":52924,"accept_rate":100,"display_name":"Thiago Diniz"},"score":0,"creation_date":1290128255,"post_id":4216155,"comment_id":4567446,"body_markdown":"I tried this way, but getScaledInstance returns ToolkitImage, and for my purpose  it doesn&#39;t fit to me. thanks","body":"I tried this way, but getScaledInstance returns ToolkitImage, and for my purpose  it doesn&#39;t fit to me. thanks"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":2,"creation_date":1290128678,"post_id":4216155,"comment_id":4567493,"body_markdown":"you can convert it to a BufferedImage by copying its raster to a new BufferedImage. Serach for &#39;convert image to bufferedimage&#39;","body":"you can convert it to a BufferedImage by copying its raster to a new BufferedImage. Serach for &#39;convert image to bufferedimage&#39;"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1290092565,"creation_date":1290092565,"answer_id":4216155,"question_id":4216123,"body_markdown":"`scale(..)` works a bit differently. You can use `bufferedImage.getScaledInstance(..)`","title":"How to scale a BufferedImage","body":"<p><code>scale(..)</code> works a bit differently. You can use <code>bufferedImage.getScaledInstance(..)</code></p>\n"},{"comments":[{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":1,"creation_date":1506573375,"post_id":4216211,"comment_id":79876970,"body_markdown":"I tried this code, but I didn&#39;t get the result shown. The result I got was much more heavily aliased. If you zoom in on the first image in your browser, till you get one about the same size as the second one, you&#39;ll get a better idea of what this code produces. (I tried putting the resulting image in this comment, but it didn&#39;t work. I guess images aren&#39;t allowed in comments.)","body":"I tried this code, but I didn&#39;t get the result shown. The result I got was much more heavily aliased. If you zoom in on the first image in your browser, till you get one about the same size as the second one, you&#39;ll get a better idea of what this code produces. (I tried putting the resulting image in this comment, but it didn&#39;t work. I guess images aren&#39;t allowed in comments.)"},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1506576128,"post_id":4216211,"comment_id":79877715,"body_markdown":"Could you try `grph.setRenderingHint(RenderingHints.KEY_INTERPOLATION, interpolation);` where `interpolation` is `RenderingHints.VALUE_INTERPOLATION_...` for example `VALUE_INTERPOLATION_BICUBIC`?","body":"Could you try <code>grph.setRenderingHint(RenderingHints.KEY_INTERPOLATION, interpolation);</code> where <code>interpolation</code> is <code>RenderingHints.VALUE_INTERPOLATION_...</code> for example <code>VALUE_INTERPOLATION_BICUBIC</code>?"}],"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":2,"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1436866813,"creation_date":1290092838,"answer_id":4216211,"question_id":4216123,"body_markdown":"As @Bozho says, you probably want to use `getScaledInstance`.\r\n\r\nTo understand how `grph.scale(2.0, 2.0)` works however, you could have a look at this code:\r\n\r\n\r\n    import java.awt.*;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.*;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n    \r\n    \r\n    class Main {\r\n        public static void main(String[] args) throws IOException {\r\n            \r\n            final int SCALE = 2;\r\n            \r\n            Image img = new ImageIcon(&quot;duke.png&quot;).getImage();\r\n            \r\n            BufferedImage bi = new BufferedImage(SCALE * img.getWidth(null),\r\n                                                 SCALE * img.getHeight(null),\r\n                                                 BufferedImage.TYPE_INT_ARGB);\r\n            \r\n            Graphics2D grph = (Graphics2D) bi.getGraphics();\r\n            grph.scale(SCALE, SCALE);\r\n            \r\n            // everything drawn with grph from now on will get scaled.\r\n            \r\n            grph.drawImage(img, 0, 0, null);\r\n            grph.dispose();\r\n            \r\n            ImageIO.write(bi, &quot;png&quot;, new File(&quot;duke_double_size.png&quot;));\r\n        }\r\n    }\r\n\r\n\r\nGiven **duke.png**:&lt;br/&gt;![enter image description here][1]\r\n\r\nit produces **duke_double_size.png**:&lt;br/&gt;![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/po6x5.png\r\n  [2]: http://i.stack.imgur.com/5AKxa.png","title":"How to scale a BufferedImage","body":"<p>As @Bozho says, you probably want to use <code>getScaledInstance</code>.</p>\n\n<p>To understand how <code>grph.scale(2.0, 2.0)</code> works however, you could have a look at this code:</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.io.*;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\n\n\nclass Main {\n    public static void main(String[] args) throws IOException {\n\n        final int SCALE = 2;\n\n        Image img = new ImageIcon(\"duke.png\").getImage();\n\n        BufferedImage bi = new BufferedImage(SCALE * img.getWidth(null),\n                                             SCALE * img.getHeight(null),\n                                             BufferedImage.TYPE_INT_ARGB);\n\n        Graphics2D grph = (Graphics2D) bi.getGraphics();\n        grph.scale(SCALE, SCALE);\n\n        // everything drawn with grph from now on will get scaled.\n\n        grph.drawImage(img, 0, 0, null);\n        grph.dispose();\n\n        ImageIO.write(bi, \"png\", new File(\"duke_double_size.png\"));\n    }\n}\n</code></pre>\n\n<p>Given <strong>duke.png</strong>:<br/><img src=\"https://i.stack.imgur.com/po6x5.png\" alt=\"enter image description here\"></p>\n\n<p>it produces <strong>duke_double_size.png</strong>:<br/><img src=\"https://i.stack.imgur.com/5AKxa.png\" alt=\"enter image description here\"></p>\n"},{"comments":[{"owner":{"account_id":1448716,"reputation":6182,"user_id":1366353,"accept_rate":81,"display_name":"ceklock"},"score":1,"creation_date":1393192282,"post_id":4216315,"comment_id":33299128,"body_markdown":"I think getScaledInstance() is faster nowadays, at least if you have a decent graphics card, thanks to the optimized Java2D rendering pipeline.","body":"I think getScaledInstance() is faster nowadays, at least if you have a decent graphics card, thanks to the optimized Java2D rendering pipeline."},{"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"score":1,"creation_date":1415012140,"post_id":4216315,"comment_id":42016340,"body_markdown":"FYI see **[here](http://docs.oracle.com/javase/tutorial/2d/advanced/quality.html)** other possible values for `RenderingHints.KEY_INTERPOLATION`","body":"FYI see <b><a href=\"http://docs.oracle.com/javase/tutorial/2d/advanced/quality.html\" rel=\"nofollow noreferrer\">here</a></b> other possible values for <code>RenderingHints.KEY_INTERPOLATION</code>"},{"owner":{"account_id":1785341,"reputation":71,"user_id":1626912,"display_name":"Maia"},"score":0,"creation_date":1616758505,"post_id":4216315,"comment_id":118109419,"body_markdown":"This helped me a lot without changing the library","body":"This helped me a lot without changing the library"},{"owner":{"account_id":10087195,"reputation":347,"user_id":7467189,"display_name":"Joel Aelwyn"},"score":0,"creation_date":1663183819,"post_id":4216315,"comment_id":130182183,"body_markdown":"One significant problem with this approach: it doesn&#39;t work if original.getType() == TYPE_CUSTOM, since you cannot construct a BufferedImage using that value.","body":"One significant problem with this approach: it doesn&#39;t work if original.getType() == TYPE_CUSTOM, since you cannot construct a BufferedImage using that value."}],"tags":[],"owner":{"account_id":80870,"reputation":1732,"user_id":228373,"display_name":"charisis"},"comment_count":4,"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1498503760,"creation_date":1290093331,"answer_id":4216315,"question_id":4216123,"body_markdown":"Unfortunately the performance of getScaledInstance() is very poor if not problematic.\r\n\r\nThe alternative approach is to create a new BufferedImage and and draw a scaled version of the original on the new one.\r\n\r\n    BufferedImage resized = new BufferedImage(newWidth, newHeight, original.getType());\r\n   \tGraphics2D g = resized.createGraphics();\r\n   \tg.setRenderingHint(RenderingHints.KEY_INTERPOLATION,\r\n   \t   \tRenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n   \tg.drawImage(original, 0, 0, newWidth, newHeight, 0, 0, original.getWidth(),\r\n   \t   \toriginal.getHeight(), null);\r\n   \tg.dispose();\r\n\r\nnewWidth,newHeight indicate the new BufferedImage size and have to be properly calculated.\r\nIn case of factor scaling:\r\n\r\n    int newWidth = new Double(original.getWidth() * widthFactor).intValue();\r\n    int newHeight = new Double(original.getHeight() * heightFactor).intValue();\r\n\r\n\r\n\r\n**EDIT**: Found the article illustrating the performance issue: [The Perils of Image.getScaledInstance()][1]\r\n\r\n\r\n  [1]: https://community.oracle.com/docs/DOC-983611","title":"How to scale a BufferedImage","body":"<p>Unfortunately the performance of getScaledInstance() is very poor if not problematic.</p>\n\n<p>The alternative approach is to create a new BufferedImage and and draw a scaled version of the original on the new one.</p>\n\n<pre><code>BufferedImage resized = new BufferedImage(newWidth, newHeight, original.getType());\nGraphics2D g = resized.createGraphics();\ng.setRenderingHint(RenderingHints.KEY_INTERPOLATION,\n    RenderingHints.VALUE_INTERPOLATION_BILINEAR);\ng.drawImage(original, 0, 0, newWidth, newHeight, 0, 0, original.getWidth(),\n    original.getHeight(), null);\ng.dispose();\n</code></pre>\n\n<p>newWidth,newHeight indicate the new BufferedImage size and have to be properly calculated.\nIn case of factor scaling:</p>\n\n<pre><code>int newWidth = new Double(original.getWidth() * widthFactor).intValue();\nint newHeight = new Double(original.getHeight() * heightFactor).intValue();\n</code></pre>\n\n<p><strong>EDIT</strong>: Found the article illustrating the performance issue: <a href=\"https://community.oracle.com/docs/DOC-983611\" rel=\"noreferrer\">The Perils of Image.getScaledInstance()</a></p>\n"},{"comments":[{"owner":{"account_id":51914,"reputation":67911,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"score":2,"creation_date":1310941328,"post_id":4216635,"comment_id":7968963,"body_markdown":"Is it really needed to allocate all the memory for `after`, when you have a statement like: `after = ...`?","body":"Is it really needed to allocate all the memory for <code>after</code>, when you have a statement like: <code>after = ...</code>?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":3,"creation_date":1310942198,"post_id":4216635,"comment_id":7969092,"body_markdown":"@Martijn: It depends on which `ColorModel` you want in [`filter()`](http://download.oracle.com/javase/6/docs/api/java/awt/image/AffineTransformOp.html#filter%28java.awt.image.BufferedImage,%20java.awt.image.BufferedImage%29). It&#39;s returning a reference, so there&#39;s no extra memory.","body":"@Martijn: It depends on which <code>ColorModel</code> you want in <a href=\"http://download.oracle.com/javase/6/docs/api/java/awt/image/AffineTransformOp.html#filter%28java.awt.image.BufferedImage,%20java.awt.image.BufferedImage%29\" rel=\"nofollow noreferrer\"><code>filter()</code></a>. It&#39;s returning a reference, so there&#39;s no extra memory."},{"owner":{"account_id":1118272,"reputation":5252,"user_id":1107110,"accept_rate":90,"display_name":"Drazen Bjelovuk"},"score":0,"creation_date":1380211943,"post_id":4216635,"comment_id":28125347,"body_markdown":"Is there any way to do this with a desired width and height instead of scale factor?","body":"Is there any way to do this with a desired width and height instead of scale factor?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1380223861,"post_id":4216635,"comment_id":28131840,"body_markdown":"Yes, the scale parameters are just the ratios of new to old for _x_ and _y_, respectively; keep them equal to preserve the aspect ratio.","body":"Yes, the scale parameters are just the ratios of new to old for <i>x</i> and <i>y</i>, respectively; keep them equal to preserve the aspect ratio."},{"owner":{"account_id":300331,"reputation":50767,"user_id":607407,"accept_rate":71,"display_name":"Tom&#225;š Zato"},"score":0,"creation_date":1422328772,"post_id":4216635,"comment_id":44696400,"body_markdown":"How fast is this? I need some fast calculations for computer vision.","body":"How fast is this? I need some fast calculations for computer vision."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1422350712,"post_id":4216635,"comment_id":44704079,"body_markdown":"@Tom&#225;šZato: You may need to [profile](http://stackoverflow.com/q/2064427/230513) a representative sample.","body":"@Tom&#225;šZato: You may need to <a href=\"http://stackoverflow.com/q/2064427/230513\">profile</a> a representative sample."},{"owner":{"account_id":245879,"reputation":5305,"user_id":519654,"accept_rate":36,"display_name":"xtempore"},"score":1,"creation_date":1448588340,"post_id":4216635,"comment_id":55657239,"body_markdown":"A tiny tweak, because 1 line is better than 2...\n  AffineTransform at = AffineTransform.getScaleInstance(2.0, 2.0);","body":"A tiny tweak, because 1 line is better than 2...   AffineTransform at = AffineTransform.getScaleInstance(2.0, 2.0);"},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":1,"creation_date":1505092382,"post_id":4216635,"comment_id":79255811,"body_markdown":"I haven&#39;t tried this code, but I&#39;m not sure if it will work. You&#39;re creating a BufferedImage called &quot;after&quot; that has the same dimensions as the original. You may need to scale the dimensions for the new image. But, again, I&#39;m not sure about this. scaleOp.filter() may take care of that for you.","body":"I haven&#39;t tried this code, but I&#39;m not sure if it will work. You&#39;re creating a BufferedImage called &quot;after&quot; that has the same dimensions as the original. You may need to scale the dimensions for the new image. But, again, I&#39;m not sure about this. scaleOp.filter() may take care of that for you."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":9,"creation_date":1505368394,"post_id":4216635,"comment_id":79385871,"body_markdown":"I just tested it. As I suspected, `after` is the same size, and it&#39;s just the top left quarter of the original. The fix is to multiply w and h by the scale when creating `after`.","body":"I just tested it. As I suspected, <code>after</code> is the same size, and it&#39;s just the top left quarter of the original. The fix is to multiply w and h by the scale when creating <code>after</code>."},{"owner":{"account_id":21684,"reputation":3041,"user_id":52924,"accept_rate":100,"display_name":"Thiago Diniz"},"score":0,"creation_date":1557526096,"post_id":4216635,"comment_id":98808896,"body_markdown":"@MiguelMunoz  this code is pretty old, I haven&#39;t tested your answer, let me get more feedback then I can change the answer.","body":"@MiguelMunoz  this code is pretty old, I haven&#39;t tested your answer, let me get more feedback then I can change the answer."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1557530091,"post_id":4216635,"comment_id":98809737,"body_markdown":"@ThiagoDiniz: The fragment is minimal, but correct; this related [answer](https://stackoverflow.com/a/46211880/230513) illustrates resampling the result to optimize cropping.","body":"@ThiagoDiniz: The fragment is minimal, but correct; this related <a href=\"https://stackoverflow.com/a/46211880/230513\">answer</a> illustrates resampling the result to optimize cropping."},{"owner":{"account_id":24497293,"reputation":538,"user_id":18413363,"display_name":"Gregor Hartl Watters"},"score":0,"creation_date":1660325140,"post_id":4216635,"comment_id":129514503,"body_markdown":"This is gold!!!","body":"This is gold!!!"}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":12,"down_vote_count":2,"up_vote_count":82,"is_accepted":true,"score":80,"last_activity_date":1523818979,"creation_date":1290095006,"answer_id":4216635,"question_id":4216123,"body_markdown":"[`AffineTransformOp`][1] offers the additional flexibility of choosing the interpolation type.\r\n\r\n    BufferedImage before = getBufferedImage(encoded);\r\n    int w = before.getWidth();\r\n    int h = before.getHeight();\r\n    BufferedImage after = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\r\n    AffineTransform at = new AffineTransform();\r\n    at.scale(2.0, 2.0);\r\n    AffineTransformOp scaleOp = \r\n       new AffineTransformOp(at, AffineTransformOp.TYPE_BILINEAR);\r\n    after = scaleOp.filter(before, after);\r\n\r\nThe fragment shown illustrates [_resampling_][2], not [_cropping_][3]; this related [answer][4] addresses the [issue][5]; some related examples are examined [here][6].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/awt/image/AffineTransformOp.html\r\n  [2]: https://en.wikipedia.org/wiki/Image_scaling\r\n  [3]: https://en.wikipedia.org/wiki/Cropping_(image)\r\n  [4]: https://stackoverflow.com/a/46211880/230513\r\n  [5]: https://stackoverflow.com/questions/4216123/how-to-scale-a-bufferedimage/46211880#comment79385871_4216635\r\n  [6]: https://stackoverflow.com/search?tab=votes&amp;q=AffineTransformOp","title":"How to scale a BufferedImage","body":"<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/awt/image/AffineTransformOp.html\" rel=\"noreferrer\"><code>AffineTransformOp</code></a> offers the additional flexibility of choosing the interpolation type.</p>\n\n<pre><code>BufferedImage before = getBufferedImage(encoded);\nint w = before.getWidth();\nint h = before.getHeight();\nBufferedImage after = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\nAffineTransform at = new AffineTransform();\nat.scale(2.0, 2.0);\nAffineTransformOp scaleOp = \n   new AffineTransformOp(at, AffineTransformOp.TYPE_BILINEAR);\nafter = scaleOp.filter(before, after);\n</code></pre>\n\n<p>The fragment shown illustrates <a href=\"https://en.wikipedia.org/wiki/Image_scaling\" rel=\"noreferrer\"><em>resampling</em></a>, not <a href=\"https://en.wikipedia.org/wiki/Cropping_(image)\" rel=\"noreferrer\"><em>cropping</em></a>; this related <a href=\"https://stackoverflow.com/a/46211880/230513\">answer</a> addresses the <a href=\"https://stackoverflow.com/questions/4216123/how-to-scale-a-bufferedimage/46211880#comment79385871_4216635\">issue</a>; some related examples are examined <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=AffineTransformOp\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":2426061,"reputation":1619,"user_id":2117960,"accept_rate":100,"display_name":"zyamys"},"score":1,"creation_date":1393746314,"post_id":21975099,"comment_id":33567888,"body_markdown":"Agreed, this is the best solution and avoids all the problems with transparency, wrong translations, wrong colors, etc when using affinetransform and the various other methods.","body":"Agreed, this is the best solution and avoids all the problems with transparency, wrong translations, wrong colors, etc when using affinetransform and the various other methods."},{"owner":{"account_id":1446471,"reputation":1326,"user_id":1364759,"accept_rate":78,"display_name":"Shadoninja"},"score":1,"creation_date":1459619761,"post_id":21975099,"comment_id":60371218,"body_markdown":"Awesome! First solution I have seen on this thread that got me what I needed.","body":"Awesome! First solution I have seen on this thread that got me what I needed."},{"owner":{"account_id":8892590,"reputation":75,"user_id":6638656,"display_name":"Ali Farooq"},"score":1,"creation_date":1656857851,"post_id":21975099,"comment_id":128668713,"body_markdown":"this solution worked for me. didn&#39;t even bother with the other ones.","body":"this solution worked for me. didn&#39;t even bother with the other ones."}],"tags":[],"owner":{"account_id":1448716,"reputation":6182,"user_id":1366353,"accept_rate":81,"display_name":"ceklock"},"comment_count":3,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1656996032,"creation_date":1393192334,"answer_id":21975099,"question_id":4216123,"body_markdown":"Using imgscalr – Java Image Scaling Library:\r\n\r\n    BufferedImage image =\r\n         Scalr.resize(originalImage, Scalr.Method.BALANCED, newWidth, newHeight);\r\n\r\nhttps://github.com/rkalla/imgscalr","title":"How to scale a BufferedImage","body":"<p>Using imgscalr – Java Image Scaling Library:</p>\n<pre><code>BufferedImage image =\n     Scalr.resize(originalImage, Scalr.Method.BALANCED, newWidth, newHeight);\n</code></pre>\n<p><a href=\"https://github.com/rkalla/imgscalr\" rel=\"nofollow noreferrer\">https://github.com/rkalla/imgscalr</a></p>\n"},{"comments":[{"owner":{"account_id":32450,"reputation":7305,"user_id":90096,"accept_rate":88,"display_name":"Artem"},"score":1,"creation_date":1454829598,"post_id":26955997,"comment_id":58214634,"body_markdown":"This is an Excellent library! Thumbnails are just amazing compare to Graphics2D","body":"This is an Excellent library! Thumbnails are just amazing compare to Graphics2D"},{"owner":{"account_id":2337701,"reputation":840,"user_id":2049647,"display_name":"ATutorMe"},"score":1,"creation_date":1601526392,"post_id":26955997,"comment_id":113436930,"body_markdown":"Great library! Fits in nicely with Kotlin as well. Also seems more up-to-date than some of the other options.","body":"Great library! Fits in nicely with Kotlin as well. Also seems more up-to-date than some of the other options."}],"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1416134105,"creation_date":1416134105,"answer_id":26955997,"question_id":4216123,"body_markdown":"If you do not mind using an external library, [Thumbnailator][1] can perform scaling of [`BufferedImage`][2]s.\r\n\r\nThumbnailator will take care of handling the [Java 2D][3] processing (such as using [`Graphics2D`][4] and setting appropriate [rendering hints][5]) so that a simple fluent API call can be used to resize images:\r\n\r\n    BufferedImage image = Thumbnails.of(originalImage).scale(2.0).asBufferedImage();\r\n\r\nAlthough Thumbnailator, as its name implies, is geared toward shrinking images, it will do a decent job enlarging images as well, using bilinear interpolation in its default resizer implementation.\r\n\r\n---\r\n\r\n*Disclaimer: I am the maintainer of the [Thumbnailator][1] library.*\r\n\r\n\r\n  [1]: http://code.google.com/p/thumbnailator/\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/awt/image/BufferedImage.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/2d/\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/awt/Graphics2D.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/awt/Graphics2D.html#setRenderingHint-java.awt.RenderingHints.Key-java.lang.Object-","title":"How to scale a BufferedImage","body":"<p>If you do not mind using an external library, <a href=\"http://code.google.com/p/thumbnailator/\" rel=\"noreferrer\">Thumbnailator</a> can perform scaling of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/image/BufferedImage.html\" rel=\"noreferrer\"><code>BufferedImage</code></a>s.</p>\n\n<p>Thumbnailator will take care of handling the <a href=\"https://docs.oracle.com/javase/tutorial/2d/\" rel=\"noreferrer\">Java 2D</a> processing (such as using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Graphics2D.html\" rel=\"noreferrer\"><code>Graphics2D</code></a> and setting appropriate <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Graphics2D.html#setRenderingHint-java.awt.RenderingHints.Key-java.lang.Object-\" rel=\"noreferrer\">rendering hints</a>) so that a simple fluent API call can be used to resize images:</p>\n\n<pre><code>BufferedImage image = Thumbnails.of(originalImage).scale(2.0).asBufferedImage();\n</code></pre>\n\n<p>Although Thumbnailator, as its name implies, is geared toward shrinking images, it will do a decent job enlarging images as well, using bilinear interpolation in its default resizer implementation.</p>\n\n<hr>\n\n<p><em>Disclaimer: I am the maintainer of the <a href=\"http://code.google.com/p/thumbnailator/\" rel=\"noreferrer\">Thumbnailator</a> library.</em></p>\n"},{"comments":[{"owner":{"account_id":2996877,"reputation":2143,"user_id":2543253,"display_name":"user2543253"},"score":0,"creation_date":1575562155,"post_id":46211880,"comment_id":104616079,"body_markdown":"Can you also recommend something that gives smooth results when scaling *down*? `getScaledInstance` with `Image.SCALE_SMOOTH` does but is incredibibly slow as everyone knows. Everything else I tried (including `AffineTransformOp` and drawing with a transformation applied with any combination of RenderingHints) gives me jagged edges.","body":"Can you also recommend something that gives smooth results when scaling <i>down</i>? <code>getScaledInstance</code> with <code>Image.SCALE_SMOOTH</code> does but is incredibibly slow as everyone knows. Everything else I tried (including <code>AffineTransformOp</code> and drawing with a transformation applied with any combination of RenderingHints) gives me jagged edges."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1575659988,"post_id":46211880,"comment_id":104653786,"body_markdown":"Okay, I&#39;m going to suggest something, but I have no idea if it will work well, or if it will be any faster. Try doing a two-stage scaling, where the first stage is an integral scale. So, if you need to scale by a factor of 1/3.4, take the reciprocal (3.4) and truncate it to an integer. This gives us 3. So scale down by a factor of 3 in the first stage. Then go the rest of the way in the second stage. (This is just an educated guess, but it&#39;s the first thing I would try.) You might also look for some 3rd-party library that has good scaling methods. (Some have been mentioned on this page.)","body":"Okay, I&#39;m going to suggest something, but I have no idea if it will work well, or if it will be any faster. Try doing a two-stage scaling, where the first stage is an integral scale. So, if you need to scale by a factor of 1/3.4, take the reciprocal (3.4) and truncate it to an integer. This gives us 3. So scale down by a factor of 3 in the first stage. Then go the rest of the way in the second stage. (This is just an educated guess, but it&#39;s the first thing I would try.) You might also look for some 3rd-party library that has good scaling methods. (Some have been mentioned on this page.)"}],"tags":[],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1523751929,"creation_date":1505369962,"answer_id":46211880,"question_id":4216123,"body_markdown":"To scale an image, you need to create a new image and draw into it. One way is to use the `filter()` method of an `AffineTransferOp`, as suggested [here][1]. This allows you to choose the interpolation technique. \r\n\r\n\tprivate static BufferedImage scale1(BufferedImage before, double scale) {\r\n\t\tint w = before.getWidth();\r\n\t\tint h = before.getHeight();\r\n\t\t// Create a new image of the proper size\r\n\t\tint w2 = (int) (w * scale);\r\n\t\tint h2 = (int) (h * scale);\r\n\t\tBufferedImage after = new BufferedImage(w2, h2, BufferedImage.TYPE_INT_ARGB);\r\n\t\tAffineTransform scaleInstance = AffineTransform.getScaleInstance(scale, scale);\r\n\t\tAffineTransformOp scaleOp \r\n\t\t\t= new AffineTransformOp(scaleInstance, AffineTransformOp.TYPE_BILINEAR);\r\n\t\t\r\n\t\tscaleOp.filter(before, after);\r\n\t\treturn after;\r\n\t}\r\n\r\nAnother way is to simply draw the original image into the new image, using a scaling operation to do the scaling. This method is very similar, but it also illustrates how you can draw anything you want in the final image. (I put in a blank line where the two methods start to differ.)\r\n\r\n\tprivate static BufferedImage scale2(BufferedImage before, double scale) {\r\n\t\tint w = before.getWidth();\r\n\t\tint h = before.getHeight();\r\n\t\t// Create a new image of the proper size\r\n\t\tint w2 = (int) (w * scale);\r\n\t\tint h2 = (int) (h * scale);\r\n\t\tBufferedImage after = new BufferedImage(w2, h2, BufferedImage.TYPE_INT_ARGB);\r\n\t\tAffineTransform scaleInstance = AffineTransform.getScaleInstance(scale, scale);\r\n\t\tAffineTransformOp scaleOp \r\n\t\t\t= new AffineTransformOp(scaleInstance, AffineTransformOp.TYPE_BILINEAR);\r\n\t\t\r\n\t\tGraphics2D g2 = (Graphics2D) after.getGraphics();\r\n\t\t// Here, you may draw anything you want into the new image, but we&#39;re\r\n\t\t// drawing a scaled version of the original image.\r\n\t\tg2.drawImage(before, scaleOp, 0, 0);\r\n\t\tg2.dispose();\r\n\t\treturn after;\r\n\t}\r\n\r\n**Addendum: Results**  \r\n\r\nTo illustrate the differences, I compared the results of the five methods below. Here is what the results look like, scaled both up and down, along with performance data. (Performance varies from one run to the next, so take these numbers only as rough guidelines.) The top image is the original. I scale it double-size and half-size. \r\n\r\nAs you can see, `AffineTransformOp.filter()`, used in `scaleBilinear()`, is faster than the standard drawing method of `Graphics2D.drawImage()` in `scale2()`. Also BiCubic interpolation is the slowest, but gives the best results when expanding the image. (For performance, it should only be compared with `scaleBilinear()` and `scaleNearest().`) Bilinear seems to be better for shrinking the image, although it&#39;s a tough call. And NearestNeighbor is the fastest, with the worst results. Bilinear seems to be the best compromise between speed and quality. The `Image.getScaledInstance()`, called in the `questionable()` method, performed very poorly, and returned the same low quality as NearestNeighbor. (Performance numbers are only given for expanding the image.)\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\tpublic static BufferedImage scaleBilinear(BufferedImage before, double scale) {\r\n\t\tfinal int interpolation = AffineTransformOp.TYPE_BILINEAR;\r\n\t\treturn scale(before, scale, interpolation);\r\n\t}\r\n\r\n\tpublic static BufferedImage scaleBicubic(BufferedImage before, double scale) {\r\n\t\tfinal int interpolation = AffineTransformOp.TYPE_BICUBIC;\r\n\t\treturn scale(before, scale, interpolation);\r\n\t}\r\n\r\n\tpublic static BufferedImage scaleNearest(BufferedImage before, double scale) {\r\n\t\tfinal int interpolation = AffineTransformOp.TYPE_NEAREST_NEIGHBOR;\r\n\t\treturn scale(before, scale, interpolation);\r\n\t}\r\n\r\n\t@NotNull\r\n\tprivate static \r\n\tBufferedImage scale(final BufferedImage before, final double scale, final int type) {\r\n\t\tint w = before.getWidth();\r\n\t\tint h = before.getHeight();\r\n\t\tint w2 = (int) (w * scale);\r\n\t\tint h2 = (int) (h * scale);\r\n\t\tBufferedImage after = new BufferedImage(w2, h2, before.getType());\r\n\t\tAffineTransform scaleInstance = AffineTransform.getScaleInstance(scale, scale);\r\n\t\tAffineTransformOp scaleOp = new AffineTransformOp(scaleInstance, type);\r\n\t\tscaleOp.filter(before, after);\r\n\t\treturn after;\r\n\t}\r\n\r\n\t/**\r\n\t * This is a more generic solution. It produces the same result, but it shows how you \r\n\t * can draw anything you want into the newly created image. It&#39;s slower \r\n\t * than scaleBilinear().\r\n\t * @param before The original image\r\n\t * @param scale The scale factor\r\n\t * @return A scaled version of the original image\r\n\t */\r\n\tprivate static BufferedImage scale2(BufferedImage before, double scale) {\r\n\t\tint w = before.getWidth();\r\n\t\tint h = before.getHeight();\r\n\t\t// Create a new image of the proper size\r\n\t\tint w2 = (int) (w * scale);\r\n\t\tint h2 = (int) (h * scale);\r\n\t\tBufferedImage after = new BufferedImage(w2, h2, before.getType());\r\n\t\tAffineTransform scaleInstance = AffineTransform.getScaleInstance(scale, scale);\r\n\t\tAffineTransformOp scaleOp\r\n\t\t\t\t= new AffineTransformOp(scaleInstance, AffineTransformOp.TYPE_BILINEAR);\r\n\r\n\t\tGraphics2D g2 = (Graphics2D) after.getGraphics();\r\n\t\t// Here, you may draw anything you want into the new image, but we&#39;re just drawing\r\n\t\t// a scaled version of the original image. This is slower than \r\n\t\t// calling scaleOp.filter().\r\n\t\tg2.drawImage(before, scaleOp, 0, 0);\r\n\t\tg2.dispose();\r\n\t\treturn after;\r\n\t}\r\n\r\n\t/**\r\n\t * I call this one &quot;questionable&quot; because it uses the questionable getScaledImage() \r\n\t * method. This method is no longer favored because it&#39;s slow, as my tests confirm.\r\n\t * @param before The original image\r\n\t * @param scale The scale factor\r\n\t * @return The scaled image.\r\n\t */\r\n\tprivate static Image questionable(final BufferedImage before, double scale) {\r\n\t\tint w2 = (int) (before.getWidth() * scale);\r\n\t\tint h2 = (int) (before.getHeight() * scale);\r\n\t\treturn before.getScaledInstance(w2, h2, Image.SCALE_FAST);\r\n\t}\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4216635/230513\r\n  [2]: https://i.stack.imgur.com/Rg5m4.png","title":"How to scale a BufferedImage","body":"<p>To scale an image, you need to create a new image and draw into it. One way is to use the <code>filter()</code> method of an <code>AffineTransferOp</code>, as suggested <a href=\"https://stackoverflow.com/a/4216635/230513\">here</a>. This allows you to choose the interpolation technique. </p>\n\n<pre><code>private static BufferedImage scale1(BufferedImage before, double scale) {\n    int w = before.getWidth();\n    int h = before.getHeight();\n    // Create a new image of the proper size\n    int w2 = (int) (w * scale);\n    int h2 = (int) (h * scale);\n    BufferedImage after = new BufferedImage(w2, h2, BufferedImage.TYPE_INT_ARGB);\n    AffineTransform scaleInstance = AffineTransform.getScaleInstance(scale, scale);\n    AffineTransformOp scaleOp \n        = new AffineTransformOp(scaleInstance, AffineTransformOp.TYPE_BILINEAR);\n\n    scaleOp.filter(before, after);\n    return after;\n}\n</code></pre>\n\n<p>Another way is to simply draw the original image into the new image, using a scaling operation to do the scaling. This method is very similar, but it also illustrates how you can draw anything you want in the final image. (I put in a blank line where the two methods start to differ.)</p>\n\n<pre><code>private static BufferedImage scale2(BufferedImage before, double scale) {\n    int w = before.getWidth();\n    int h = before.getHeight();\n    // Create a new image of the proper size\n    int w2 = (int) (w * scale);\n    int h2 = (int) (h * scale);\n    BufferedImage after = new BufferedImage(w2, h2, BufferedImage.TYPE_INT_ARGB);\n    AffineTransform scaleInstance = AffineTransform.getScaleInstance(scale, scale);\n    AffineTransformOp scaleOp \n        = new AffineTransformOp(scaleInstance, AffineTransformOp.TYPE_BILINEAR);\n\n    Graphics2D g2 = (Graphics2D) after.getGraphics();\n    // Here, you may draw anything you want into the new image, but we're\n    // drawing a scaled version of the original image.\n    g2.drawImage(before, scaleOp, 0, 0);\n    g2.dispose();\n    return after;\n}\n</code></pre>\n\n<p><strong>Addendum: Results</strong>  </p>\n\n<p>To illustrate the differences, I compared the results of the five methods below. Here is what the results look like, scaled both up and down, along with performance data. (Performance varies from one run to the next, so take these numbers only as rough guidelines.) The top image is the original. I scale it double-size and half-size. </p>\n\n<p>As you can see, <code>AffineTransformOp.filter()</code>, used in <code>scaleBilinear()</code>, is faster than the standard drawing method of <code>Graphics2D.drawImage()</code> in <code>scale2()</code>. Also BiCubic interpolation is the slowest, but gives the best results when expanding the image. (For performance, it should only be compared with <code>scaleBilinear()</code> and <code>scaleNearest().</code>) Bilinear seems to be better for shrinking the image, although it's a tough call. And NearestNeighbor is the fastest, with the worst results. Bilinear seems to be the best compromise between speed and quality. The <code>Image.getScaledInstance()</code>, called in the <code>questionable()</code> method, performed very poorly, and returned the same low quality as NearestNeighbor. (Performance numbers are only given for expanding the image.)</p>\n\n<p><a href=\"https://i.stack.imgur.com/Rg5m4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Rg5m4.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>public static BufferedImage scaleBilinear(BufferedImage before, double scale) {\n    final int interpolation = AffineTransformOp.TYPE_BILINEAR;\n    return scale(before, scale, interpolation);\n}\n\npublic static BufferedImage scaleBicubic(BufferedImage before, double scale) {\n    final int interpolation = AffineTransformOp.TYPE_BICUBIC;\n    return scale(before, scale, interpolation);\n}\n\npublic static BufferedImage scaleNearest(BufferedImage before, double scale) {\n    final int interpolation = AffineTransformOp.TYPE_NEAREST_NEIGHBOR;\n    return scale(before, scale, interpolation);\n}\n\n@NotNull\nprivate static \nBufferedImage scale(final BufferedImage before, final double scale, final int type) {\n    int w = before.getWidth();\n    int h = before.getHeight();\n    int w2 = (int) (w * scale);\n    int h2 = (int) (h * scale);\n    BufferedImage after = new BufferedImage(w2, h2, before.getType());\n    AffineTransform scaleInstance = AffineTransform.getScaleInstance(scale, scale);\n    AffineTransformOp scaleOp = new AffineTransformOp(scaleInstance, type);\n    scaleOp.filter(before, after);\n    return after;\n}\n\n/**\n * This is a more generic solution. It produces the same result, but it shows how you \n * can draw anything you want into the newly created image. It's slower \n * than scaleBilinear().\n * @param before The original image\n * @param scale The scale factor\n * @return A scaled version of the original image\n */\nprivate static BufferedImage scale2(BufferedImage before, double scale) {\n    int w = before.getWidth();\n    int h = before.getHeight();\n    // Create a new image of the proper size\n    int w2 = (int) (w * scale);\n    int h2 = (int) (h * scale);\n    BufferedImage after = new BufferedImage(w2, h2, before.getType());\n    AffineTransform scaleInstance = AffineTransform.getScaleInstance(scale, scale);\n    AffineTransformOp scaleOp\n            = new AffineTransformOp(scaleInstance, AffineTransformOp.TYPE_BILINEAR);\n\n    Graphics2D g2 = (Graphics2D) after.getGraphics();\n    // Here, you may draw anything you want into the new image, but we're just drawing\n    // a scaled version of the original image. This is slower than \n    // calling scaleOp.filter().\n    g2.drawImage(before, scaleOp, 0, 0);\n    g2.dispose();\n    return after;\n}\n\n/**\n * I call this one \"questionable\" because it uses the questionable getScaledImage() \n * method. This method is no longer favored because it's slow, as my tests confirm.\n * @param before The original image\n * @param scale The scale factor\n * @return The scaled image.\n */\nprivate static Image questionable(final BufferedImage before, double scale) {\n    int w2 = (int) (before.getWidth() * scale);\n    int h2 = (int) (before.getHeight() * scale);\n    return before.getScaledInstance(w2, h2, Image.SCALE_FAST);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8734849,"reputation":31,"user_id":6533825,"display_name":"Ronald Bieber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698670286,"creation_date":1698670286,"answer_id":77388802,"question_id":4216123,"body_markdown":"The top-rated answer by trashgod has some minor problems, so I&#39;ll post an improved version (due to insufficient reputation points I can&#39;t do this as a comment to his solution).\r\n\r\n    BufferedImage before = getBufferedImage(encoded);\r\n    int w = before.getWidth();\r\n    int h = before.getHeight();\r\n    double scaleFactor = 2.0;\r\n    BufferedImage after = new BufferedImage((int)(w * scaleFactor), (int)(h * scaleFactor), before.getType());\r\n    AffineTransform at = new AffineTransform();\r\n    at.scale(scaleFactor, scaleFactor);\r\n    AffineTransformOp scaleOp = \r\n        new AffineTransformOp(at, AffineTransformOp.TYPE_BILINEAR);\r\n    after = scaleOp.filter(before, after);\r\n\r\nImprovements:\r\n\r\n - The `after` image has the right dimensions to hold the scaled image\r\n - The `after` image has the same image type as the encoded image (the transformation will fail otherwise)","title":"How to scale a BufferedImage","body":"<p>The top-rated answer by trashgod has some minor problems, so I'll post an improved version (due to insufficient reputation points I can't do this as a comment to his solution).</p>\n<pre><code>BufferedImage before = getBufferedImage(encoded);\nint w = before.getWidth();\nint h = before.getHeight();\ndouble scaleFactor = 2.0;\nBufferedImage after = new BufferedImage((int)(w * scaleFactor), (int)(h * scaleFactor), before.getType());\nAffineTransform at = new AffineTransform();\nat.scale(scaleFactor, scaleFactor);\nAffineTransformOp scaleOp = \n    new AffineTransformOp(at, AffineTransformOp.TYPE_BILINEAR);\nafter = scaleOp.filter(before, after);\n</code></pre>\n<p>Improvements:</p>\n<ul>\n<li>The <code>after</code> image has the right dimensions to hold the scaled image</li>\n<li>The <code>after</code> image has the same image type as the encoded image (the transformation will fail otherwise)</li>\n</ul>\n"}],"owner":{"account_id":21684,"reputation":3041,"user_id":52924,"accept_rate":100,"display_name":"Thiago Diniz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126928,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":4216635,"answer_count":8,"score":58,"last_activity_date":1698670286,"creation_date":1290092399,"question_id":4216123,"body_markdown":"Following the javadocs, I have tried to scale a `BufferedImage` without success here is my code:\r\n\r\n    BufferedImage image = MatrixToImageWriter.getBufferedImage(encoded);\r\n    Graphics2D grph = image.createGraphics();\r\n    grph.scale(2.0, 2.0);\r\n    grph.dispose();\r\n\r\nI can&#39;t understand why it is not working, any help?","title":"How to scale a BufferedImage","body":"<p>Following the javadocs, I have tried to scale a <code>BufferedImage</code> without success here is my code:</p>\n\n<pre><code>BufferedImage image = MatrixToImageWriter.getBufferedImage(encoded);\nGraphics2D grph = image.createGraphics();\ngrph.scale(2.0, 2.0);\ngrph.dispose();\n</code></pre>\n\n<p>I can't understand why it is not working, any help?</p>\n"},{"tags":["java","android","xml","android-studio","android-layout"],"comments":[{"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"score":0,"creation_date":1698676316,"post_id":77388767,"comment_id":136431918,"body_markdown":"Did you consider using a RecyclerView or a ListView(for smaller list size)? It is built to handle such use cases.","body":"Did you consider using a RecyclerView or a ListView(for smaller list size)? It is built to handle such use cases."},{"owner":{"account_id":6979173,"reputation":942,"user_id":6576302,"display_name":"C.F.G"},"score":0,"creation_date":1699074322,"post_id":77388767,"comment_id":136488691,"body_markdown":"Is there any good reason that why you don&#39;t do that in xml file?","body":"Is there any good reason that why you don&#39;t do that in xml file?"}],"owner":{"account_id":20308388,"reputation":69,"user_id":14896068,"display_name":"thejj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698669961,"creation_date":1698669961,"question_id":77388767,"body_markdown":"I am trying to dynamically add linearLayout views based on a certain layout to the parent linearLayout &quot;cardContainer&quot; located in a scrollView. While the views are added and their content is fine, for some reason every card other than the first one is a bit smaller in width.\r\n\r\nThe parent linearLayout in its&#39; parent scrollView\r\n\r\n     &lt;ScrollView\r\n        android:id=&quot;@+id/svLibrary&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/etSearch&quot;\r\n        android:fillViewport=&quot;true&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/cardContainer&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;&lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;\r\n\r\nThe layout I am trying to add as a view\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;fill_parent&quot;\r\n    android:layout_height=&quot;60dp&quot;\r\n    android:layout_marginTop=&quot;5dp&quot;\r\n    android:layout_marginBottom=&quot;5dp&quot;\r\n    android:gravity=&quot;center&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/card_tvIndex&quot;\r\n        style=&quot;@style/TextAppearance.AppCompat.Index&quot;\r\n        android:layout_width=&quot;10dp&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;3&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:text=&quot;14&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;7&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/card_tvTitle&quot;\r\n            style=&quot;@style/TextAppearance.AppCompat.CardTitle&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;2&quot;\r\n            android:paddingTop=&quot;5dp&quot;\r\n            android:text=&quot;Title of a song&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/card_tvArtist&quot;\r\n            style=&quot;@style/TextAppearance.AppCompat.CardArtist&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:text=&quot;Artist Name&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/card_tvDuration&quot;\r\n        style=&quot;@style/TextAppearance.AppCompat.Duration&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:text=&quot;3:21&quot;\r\n        android:textAlignment=&quot;center&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nThe Java code\r\n\r\n    void addInfoToCard() {\r\n        TextView index = layout.findViewById(R.id.card_tvIndex);\r\n        TextView title = layout.findViewById(R.id.card_tvTitle);\r\n        TextView artist = layout.findViewById(R.id.card_tvArtist);\r\n        TextView duration = layout.findViewById(R.id.card_tvDuration);\r\n        index.setText(&quot;&quot; + (this.index+1));\r\n        title.setText(this.name);\r\n        artist.setText(this.artist);\r\n        duration.setText(AudioFile.formatDuration(this.length));\r\n    }\r\n    void displayCards(String filter) {\r\n        if (filter.isEmpty()) {\r\n            for (AudioCard card : list) {\r\n                if(card.layout==null) return;\r\n                cardContainer.addView(card.layout);\r\n            }\r\n        }\r\n    }\r\n    for (AudioCard card : list) {\r\n            card.layout = LayoutInflater.from(getApplicationContext()).inflate(R.layout.audiocard, null);\r\n            card.addInfoToCard();\r\n        }\r\n        displayCards(&quot;&quot;);","title":"Adding Views dynamically to a horizontal linearLayout inside a scrollView makes them smaller","body":"<p>I am trying to dynamically add linearLayout views based on a certain layout to the parent linearLayout &quot;cardContainer&quot; located in a scrollView. While the views are added and their content is fine, for some reason every card other than the first one is a bit smaller in width.</p>\n<p>The parent linearLayout in its' parent scrollView</p>\n<pre><code> &lt;ScrollView\n    android:id=&quot;@+id/svLibrary&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;20dp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/etSearch&quot;\n    android:fillViewport=&quot;true&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/cardContainer&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;&gt;&lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n<p>The layout I am trying to add as a view</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;fill_parent&quot;\nandroid:layout_height=&quot;60dp&quot;\nandroid:layout_marginTop=&quot;5dp&quot;\nandroid:layout_marginBottom=&quot;5dp&quot;\nandroid:gravity=&quot;center&quot;&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/card_tvIndex&quot;\n    style=&quot;@style/TextAppearance.AppCompat.Index&quot;\n    android:layout_width=&quot;10dp&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_weight=&quot;3&quot;\n    android:gravity=&quot;center&quot;\n    android:text=&quot;14&quot; /&gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_weight=&quot;7&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/card_tvTitle&quot;\n        style=&quot;@style/TextAppearance.AppCompat.CardTitle&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;2&quot;\n        android:paddingTop=&quot;5dp&quot;\n        android:text=&quot;Title of a song&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/card_tvArtist&quot;\n        style=&quot;@style/TextAppearance.AppCompat.CardArtist&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;1&quot;\n        android:text=&quot;Artist Name&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/card_tvDuration&quot;\n    style=&quot;@style/TextAppearance.AppCompat.Duration&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_weight=&quot;1&quot;\n    android:gravity=&quot;center&quot;\n    android:text=&quot;3:21&quot;\n    android:textAlignment=&quot;center&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>The Java code</p>\n<pre><code>void addInfoToCard() {\n    TextView index = layout.findViewById(R.id.card_tvIndex);\n    TextView title = layout.findViewById(R.id.card_tvTitle);\n    TextView artist = layout.findViewById(R.id.card_tvArtist);\n    TextView duration = layout.findViewById(R.id.card_tvDuration);\n    index.setText(&quot;&quot; + (this.index+1));\n    title.setText(this.name);\n    artist.setText(this.artist);\n    duration.setText(AudioFile.formatDuration(this.length));\n}\nvoid displayCards(String filter) {\n    if (filter.isEmpty()) {\n        for (AudioCard card : list) {\n            if(card.layout==null) return;\n            cardContainer.addView(card.layout);\n        }\n    }\n}\nfor (AudioCard card : list) {\n        card.layout = LayoutInflater.from(getApplicationContext()).inflate(R.layout.audiocard, null);\n        card.addInfoToCard();\n    }\n    displayCards(&quot;&quot;);\n</code></pre>\n"},{"tags":["java","reactjs","vaadin"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":1,"creation_date":1698686654,"post_id":77388647,"comment_id":136434092,"body_markdown":"StackOverflow is not the right forum for question like this, go Vaadin Discord chat instead -&gt; https://discord.com/channels/732335336448852018/1009205986646560909","body":"StackOverflow is not the right forum for question like this, go Vaadin Discord chat instead -&gt; <a href=\"https://discord.com/channels/732335336448852018/1009205986646560909\" rel=\"nofollow noreferrer\">discord.com/channels/732335336448852018/1009205986646560909</a>"}],"owner":{"account_id":16854213,"reputation":173,"user_id":12186398,"display_name":"Mari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698668880,"creation_date":1698668880,"question_id":77388647,"body_markdown":"We have a Vaadin app written in Java only. Our architecture principles changed and we plan to write a new module of this app using React. This module will have its separate route.\r\n\r\nWe want to write frontend in React and then communicate via REST API with backend. Is this achievable in an app like we have now (a vaadin monolith)?\r\n\r\nCan we fully separate backend from frontend just for this new module?\r\n\r\nHow can we handle app build with the new React module? Is this still going to be a monolith?\r\n\r\n","title":"How to integrate Vaadin 14 (application written in java only) with a new React module?","body":"<p>We have a Vaadin app written in Java only. Our architecture principles changed and we plan to write a new module of this app using React. This module will have its separate route.</p>\n<p>We want to write frontend in React and then communicate via REST API with backend. Is this achievable in an app like we have now (a vaadin monolith)?</p>\n<p>Can we fully separate backend from frontend just for this new module?</p>\n<p>How can we handle app build with the new React module? Is this still going to be a monolith?</p>\n"},{"tags":["java","json","spring","spring-mvc","jackson"],"comments":[{"owner":{"account_id":6960255,"reputation":1625,"user_id":5339966,"display_name":"mszymborski"},"score":0,"creation_date":1471283214,"post_id":38960117,"comment_id":65274771,"body_markdown":"What about if you flatten that json: `{&quot;firstname&quot;:&quot;xyz&quot;,&quot;lastname&quot;:&quot;XYZ&quot;}`","body":"What about if you flatten that json: <code>{&quot;firstname&quot;:&quot;xyz&quot;,&quot;lastname&quot;:&quot;XYZ&quot;}</code>"},{"owner":{"account_id":8678855,"reputation":527,"user_id":6495449,"display_name":"Y. Chen"},"score":0,"creation_date":1471283325,"post_id":38960117,"comment_id":65274821,"body_markdown":"Hi @mszymborski, I&#39;ve tried that but didn&#39;t work either. The default constructor was used.","body":"Hi @mszymborski, I&#39;ve tried that but didn&#39;t work either. The default constructor was used."},{"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"score":0,"creation_date":1471283462,"post_id":38960117,"comment_id":65274886,"body_markdown":"Instead of using `headers` try using `consumes` attribute in the `@RequestMapping`.","body":"Instead of using <code>headers</code> try using <code>consumes</code> attribute in the <code>@RequestMapping</code>."},{"owner":{"account_id":6960255,"reputation":1625,"user_id":5339966,"display_name":"mszymborski"},"score":0,"creation_date":1471283656,"post_id":38960117,"comment_id":65274978,"body_markdown":"The problem lies outside of Jackson, then - raw ObjectMapper works just fine with the flattened version.","body":"The problem lies outside of Jackson, then - raw ObjectMapper works just fine with the flattened version."},{"owner":{"account_id":8678855,"reputation":527,"user_id":6495449,"display_name":"Y. Chen"},"score":0,"creation_date":1471283784,"post_id":38960117,"comment_id":65275040,"body_markdown":"Hi @11thdimension, Tried that too. Didn&#39;t help.","body":"Hi @11thdimension, Tried that too. Didn&#39;t help."},{"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"score":0,"creation_date":1471283865,"post_id":38960117,"comment_id":65275084,"body_markdown":"What happens when you remove both the constructors ?","body":"What happens when you remove both the constructors ?"},{"owner":{"account_id":6960255,"reputation":1625,"user_id":5339966,"display_name":"mszymborski"},"score":0,"creation_date":1471284359,"post_id":38960117,"comment_id":65275359,"body_markdown":"@Y.Chen: something&#39;s wrong with your setter - it&#39;s called `getLastname` - does anything change if you fix it?","body":"@Y.Chen: something&#39;s wrong with your setter - it&#39;s called <code>getLastname</code> - does anything change if you fix it?"},{"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"score":0,"creation_date":1471284786,"post_id":38960117,"comment_id":65275608,"body_markdown":"@mszymborski strangely enough Jackson is able to deserialize correct values even with the incorrect/absent setter.","body":"@mszymborski strangely enough Jackson is able to deserialize correct values even with the incorrect/absent setter."},{"owner":{"account_id":6960255,"reputation":1625,"user_id":5339966,"display_name":"mszymborski"},"score":0,"creation_date":1471284879,"post_id":38960117,"comment_id":65275646,"body_markdown":"@11thdimension: I&#39;ve noticed, isn&#39;t that strange, though? I&#39;d prefer a fail-fast behaviour in that case.","body":"@11thdimension: I&#39;ve noticed, isn&#39;t that strange, though? I&#39;d prefer a fail-fast behaviour in that case."},{"owner":{"account_id":6960255,"reputation":1625,"user_id":5339966,"display_name":"mszymborski"},"score":0,"creation_date":1471285255,"post_id":38960117,"comment_id":65275845,"body_markdown":"@Y.Chen: I&#39;ve created a simple Spring boot app which has a rest controller like yours, I&#39;m not able to reproduce the behaviour you&#39;ve described. It could be boot&#39;s magic in play, or there&#39;s something more than what&#39;s included in the question.","body":"@Y.Chen: I&#39;ve created a simple Spring boot app which has a rest controller like yours, I&#39;m not able to reproduce the behaviour you&#39;ve described. It could be boot&#39;s magic in play, or there&#39;s something more than what&#39;s included in the question."},{"owner":{"account_id":8678855,"reputation":527,"user_id":6495449,"display_name":"Y. Chen"},"score":0,"creation_date":1471287180,"post_id":38960117,"comment_id":65276867,"body_markdown":"@mszymborski I agree that the problem could be with my Spring configuration. Am I supposed to create a bean for CustomerInfo class?","body":"@mszymborski I agree that the problem could be with my Spring configuration. Am I supposed to create a bean for CustomerInfo class?"},{"owner":{"account_id":8678855,"reputation":527,"user_id":6495449,"display_name":"Y. Chen"},"score":0,"creation_date":1471287240,"post_id":38960117,"comment_id":65276911,"body_markdown":"@11thdimension The program would complain about &quot;no default constructor found&quot;...","body":"@11thdimension The program would complain about &quot;no default constructor found&quot;..."},{"owner":{"account_id":6960255,"reputation":1625,"user_id":5339966,"display_name":"mszymborski"},"score":0,"creation_date":1471287407,"post_id":38960117,"comment_id":65276999,"body_markdown":"@Y.Chen: nope, it should work right off the bat. I have just the default boot config + your controller (which returns a string with these two values in plaintext) + the class itself (copied byte to byte). It&#39;s really strange.","body":"@Y.Chen: nope, it should work right off the bat. I have just the default boot config + your controller (which returns a string with these two values in plaintext) + the class itself (copied byte to byte). It&#39;s really strange."},{"owner":{"account_id":8678855,"reputation":527,"user_id":6495449,"display_name":"Y. Chen"},"score":0,"creation_date":1471288045,"post_id":38960117,"comment_id":65277333,"body_markdown":"@mszymborski I appreciate your help! Would you please share your servlet.xml file and the dependency files, if you happen to use maven or gradle? I would like to compare those with mine.","body":"@mszymborski I appreciate your help! Would you please share your servlet.xml file and the dependency files, if you happen to use maven or gradle? I would like to compare those with mine."},{"owner":{"account_id":6960255,"reputation":1625,"user_id":5339966,"display_name":"mszymborski"},"score":0,"creation_date":1471288476,"post_id":38960117,"comment_id":65277533,"body_markdown":"@Y.Chen: the problem with spring boot is that it configures these things using some defaults, and unfortunately currently I don&#39;t have access to my personal bare Spring projects to test the explicit configuration.","body":"@Y.Chen: the problem with spring boot is that it configures these things using some defaults, and unfortunately currently I don&#39;t have access to my personal bare Spring projects to test the explicit configuration."},{"owner":{"account_id":8678855,"reputation":527,"user_id":6495449,"display_name":"Y. Chen"},"score":0,"creation_date":1471303998,"post_id":38960117,"comment_id":65283863,"body_markdown":"thanks @mszymborski for all your comments. I got the correct results once I added @ RequestBody annotation to my method implementation as well as the interface.","body":"thanks @mszymborski for all your comments. I got the correct results once I added @ RequestBody annotation to my method implementation as well as the interface."},{"owner":{"account_id":6960255,"reputation":1625,"user_id":5339966,"display_name":"mszymborski"},"score":0,"creation_date":1471305815,"post_id":38960117,"comment_id":65284239,"body_markdown":"@Y.Chen: ah, that was a tricky one. Make sure to post it as an answer!","body":"@Y.Chen: ah, that was a tricky one. Make sure to post it as an answer!"},{"owner":{"account_id":3668880,"reputation":1609,"user_id":3056514,"accept_rate":42,"display_name":"Vinayak Dornala"},"score":0,"creation_date":1550019432,"post_id":38960117,"comment_id":96113147,"body_markdown":"Thanks, wasted almost 3 hr to figure out the root cause, Finally google helped me to find your answer.","body":"Thanks, wasted almost 3 hr to figure out the root cause, Finally google helped me to find your answer."}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471284059,"creation_date":1471284059,"answer_id":38960392,"question_id":38960117,"body_markdown":"The formatting on this is terrible, but this should work for jackson configuration.\r\n\r\n    &lt;!-- Use Jackson for JSON conversion (POJO to JSON outbound). --&gt;\r\n    &lt;bean id=&quot;jsonMessageConverter&quot;\r\n    \t\t\tclass=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;/&gt; \r\n\r\n    &lt;!-- Use JSON conversion for messages --&gt;\r\n    &lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot;&gt;\r\n    \t&lt;property name=&quot;messageConverters&quot;&gt;\r\n    \t\t&lt;list&gt;\r\n    \t\t\t&lt;ref bean=&quot;jsonMessageConverter&quot;/&gt;\r\n    \t\t&lt;/list&gt;\r\n    \t&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nALso, as mentioned in a comment, your JSON is wrong for your object.\r\n\r\n    {&quot;firstname&quot;:&quot;xyz&quot;,‌​&quot;lastname&quot;:&quot;XYZ&quot;}\r\n\r\ndoes appear to be the correct JSON for your object.","title":"Spring JSON request body not mapped to Java POJO","body":"<p>The formatting on this is terrible, but this should work for jackson configuration.</p>\n\n<pre><code>&lt;!-- Use Jackson for JSON conversion (POJO to JSON outbound). --&gt;\n&lt;bean id=\"jsonMessageConverter\"\n            class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\"/&gt; \n\n&lt;!-- Use JSON conversion for messages --&gt;\n&lt;bean class=\"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter\"&gt;\n    &lt;property name=\"messageConverters\"&gt;\n        &lt;list&gt;\n            &lt;ref bean=\"jsonMessageConverter\"/&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>ALso, as mentioned in a comment, your JSON is wrong for your object.</p>\n\n<pre><code>{\"firstname\":\"xyz\",‌​\"lastname\":\"XYZ\"}\n</code></pre>\n\n<p>does appear to be the correct JSON for your object.</p>\n"},{"comments":[{"owner":{"account_id":8678855,"reputation":527,"user_id":6495449,"display_name":"Y. Chen"},"score":0,"creation_date":1471303722,"post_id":38961616,"comment_id":65283795,"body_markdown":"Thank you so much for the very detailed answer. All the ways you suggested will do the conversion trick. Although they are not the solutions to my problem, I&#39;m still glad to learn all those.","body":"Thank you so much for the very detailed answer. All the ways you suggested will do the conversion trick. Although they are not the solutions to my problem, I&#39;m still glad to learn all those."},{"owner":{"account_id":1043442,"reputation":149,"user_id":1048931,"display_name":"user1048931"},"score":0,"creation_date":1515437340,"post_id":38961616,"comment_id":83291611,"body_markdown":"Is there a way to bind it simply to the method parameter name instead of introducing a new java class or mapping it arbitrarily to a map of key-value pairs?","body":"Is there a way to bind it simply to the method parameter name instead of introducing a new java class or mapping it arbitrarily to a map of key-value pairs?"}],"tags":[],"owner":{"account_id":4573108,"reputation":1479,"user_id":3712298,"display_name":"sanjeevjha"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1471292095,"creation_date":1471288907,"answer_id":38961616,"question_id":38960117,"body_markdown":"You can do it in many ways, Here i am going to do it in below different ways-\r\n\r\n`NOTE:` request data shuld be  {&quot;customerInfo&quot;:{&quot;firstname&quot;:&quot;xyz&quot;,&quot;lastname&quot;:&quot;XYZ&quot;}}\r\n\r\n`1st way` We can bind above data to the map as below\r\n\r\n    @RequestMapping(value = &quot;/send&quot;, headers = &quot;Accept=application/json&quot;, method = RequestMethod.POST)\r\n    public void sendEmails(@RequestBody HashMap&lt;String, HashMap&lt;String, String&gt;&gt; requestData) {\r\n    \r\n        HashMap&lt;String, String&gt; customerInfo = requestData.get(&quot;customerInfo&quot;);\r\n        String firstname = customerInfo.get(&quot;firstname&quot;);\r\n        String lastname = customerInfo.get(&quot;lastname&quot;);\r\n        //TODO now do whatever you want to do.\r\n    }\r\n\r\n\r\n\r\n\r\n`2nd way` we can bind it directly to pojo \r\n\r\n\r\n`step 1` create dto class `UserInfo.java`\r\n\r\n    public class UserInfo {\r\n        private CustomerInfo customerInfo1;\r\n    \r\n        public CustomerInfo getCustomerInfo1() {\r\n            return customerInfo1;\r\n        }\r\n    \r\n        public void setCustomerInfo1(CustomerInfo customerInfo1) {\r\n            this.customerInfo1 = customerInfo1;\r\n        }\r\n    }\r\n\r\n`step 1.` create another dto class`CustomerInfo.java`  \r\n \r\n\r\n    class CustomerInfo {\r\n            private String firstname;\r\n            private String lastname;\r\n        \r\n            public String getFirstname() {\r\n                return firstname;\r\n            }\r\n        \r\n            public void setFirstname(String firstname) {\r\n                this.firstname = firstname;\r\n            }\r\n        \r\n            public String getLastname() {\r\n                return lastname;\r\n            }\r\n        \r\n            public void setLastname(String lastname) {\r\n                this.lastname = lastname;\r\n            }\r\n        }\r\n\r\n`step 3` bind request body data to pojo \r\n\r\n     @RequestMapping(value = &quot;/send&quot;, headers = &quot;Accept=application/json&quot;, method = RequestMethod.POST)\r\n        public void sendEmails(@RequestBody UserInfo userInfo) {\r\n            \r\n            //TODO now do whatever want to do with dto object\r\n        }\r\n\r\n \r\n\r\nI hope it will be help you out. Thanks","title":"Spring JSON request body not mapped to Java POJO","body":"<p>You can do it in many ways, Here i am going to do it in below different ways-</p>\n\n<p><code>NOTE:</code> request data shuld be  {\"customerInfo\":{\"firstname\":\"xyz\",\"lastname\":\"XYZ\"}}</p>\n\n<p><code>1st way</code> We can bind above data to the map as below</p>\n\n<pre><code>@RequestMapping(value = \"/send\", headers = \"Accept=application/json\", method = RequestMethod.POST)\npublic void sendEmails(@RequestBody HashMap&lt;String, HashMap&lt;String, String&gt;&gt; requestData) {\n\n    HashMap&lt;String, String&gt; customerInfo = requestData.get(\"customerInfo\");\n    String firstname = customerInfo.get(\"firstname\");\n    String lastname = customerInfo.get(\"lastname\");\n    //TODO now do whatever you want to do.\n}\n</code></pre>\n\n<p><code>2nd way</code> we can bind it directly to pojo </p>\n\n<p><code>step 1</code> create dto class <code>UserInfo.java</code></p>\n\n<pre><code>public class UserInfo {\n    private CustomerInfo customerInfo1;\n\n    public CustomerInfo getCustomerInfo1() {\n        return customerInfo1;\n    }\n\n    public void setCustomerInfo1(CustomerInfo customerInfo1) {\n        this.customerInfo1 = customerInfo1;\n    }\n}\n</code></pre>\n\n<p><code>step 1.</code> create another dto class<code>CustomerInfo.java</code>  </p>\n\n<pre><code>class CustomerInfo {\n        private String firstname;\n        private String lastname;\n\n        public String getFirstname() {\n            return firstname;\n        }\n\n        public void setFirstname(String firstname) {\n            this.firstname = firstname;\n        }\n\n        public String getLastname() {\n            return lastname;\n        }\n\n        public void setLastname(String lastname) {\n            this.lastname = lastname;\n        }\n    }\n</code></pre>\n\n<p><code>step 3</code> bind request body data to pojo </p>\n\n<pre><code> @RequestMapping(value = \"/send\", headers = \"Accept=application/json\", method = RequestMethod.POST)\n    public void sendEmails(@RequestBody UserInfo userInfo) {\n\n        //TODO now do whatever want to do with dto object\n    }\n</code></pre>\n\n<p>I hope it will be help you out. Thanks</p>\n"},{"tags":[],"owner":{"account_id":7012459,"reputation":191,"user_id":5374828,"accept_rate":25,"display_name":"Anil"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1471349651,"creation_date":1471349651,"answer_id":38974707,"question_id":38960117,"body_markdown":"remove those two statements from default constructor and try","title":"Spring JSON request body not mapped to Java POJO","body":"<p>remove those two statements from default constructor and try</p>\n"},{"tags":[],"owner":{"account_id":8678855,"reputation":527,"user_id":6495449,"display_name":"Y. Chen"},"comment_count":0,"down_vote_count":2,"up_vote_count":22,"is_accepted":true,"score":20,"last_activity_date":1471360638,"creation_date":1471360638,"answer_id":38978616,"question_id":38960117,"body_markdown":"So it turned out that, the value of request body is not passed in because I need to have the @RequestBody annotation not only in my interface, but in the actual method implementation. Once I have that, the problem is solved.","title":"Spring JSON request body not mapped to Java POJO","body":"<p>So it turned out that, the value of request body is not passed in because I need to have the @RequestBody annotation not only in my interface, but in the actual method implementation. Once I have that, the problem is solved.</p>\n"},{"tags":[],"owner":{"account_id":9527128,"reputation":837,"user_id":7080033,"display_name":"Devendra  Singraul"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1531317231,"creation_date":1531312356,"answer_id":51285570,"question_id":38960117,"body_markdown":"Sample Data :\r\n    \r\n    [  \r\n    {  \r\n      &quot;targetObj&quot;:{  \r\n         &quot;userId&quot;:1,\r\n         &quot;userName&quot;:&quot;Devendra&quot;\r\n      }\r\n    },\r\n    {  \r\n      &quot;targetObj&quot;:{  \r\n         &quot;userId&quot;:2,\r\n         &quot;userName&quot;:&quot;Ibrahim&quot;\r\n      }\r\n    },\r\n    {  \r\n      &quot;targetObj&quot;:{  \r\n         &quot;userId&quot;:3,\r\n         &quot;userName&quot;:&quot;Suraj&quot;\r\n      }\r\n    }\r\n    ]\r\n\r\n\r\nFor above data this pring controller method working for me:\r\n\r\n\r\n    @RequestMapping(value=&quot;/saveWorkflowUser&quot;, method = RequestMethod.POST)\r\n\tpublic void saveWorkflowUser (@RequestBody List&lt;HashMap&lt;String ,HashMap&lt;String , \r\n      String&gt;&gt;&gt; userList )  {\r\n\t\tSystem.out.println(&quot; in saveWorkflowUser : &quot;+userList);\r\n     //TODO now do whatever you want to do.\r\n\t}","title":"Spring JSON request body not mapped to Java POJO","body":"<p>Sample Data :</p>\n\n<pre><code>[  \n{  \n  \"targetObj\":{  \n     \"userId\":1,\n     \"userName\":\"Devendra\"\n  }\n},\n{  \n  \"targetObj\":{  \n     \"userId\":2,\n     \"userName\":\"Ibrahim\"\n  }\n},\n{  \n  \"targetObj\":{  \n     \"userId\":3,\n     \"userName\":\"Suraj\"\n  }\n}\n]\n</code></pre>\n\n<p>For above data this pring controller method working for me:</p>\n\n<pre><code>@RequestMapping(value=\"/saveWorkflowUser\", method = RequestMethod.POST)\npublic void saveWorkflowUser (@RequestBody List&lt;HashMap&lt;String ,HashMap&lt;String , \n  String&gt;&gt;&gt; userList )  {\n    System.out.println(\" in saveWorkflowUser : \"+userList);\n //TODO now do whatever you want to do.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13984046,"reputation":163,"user_id":10099578,"display_name":"Inod Umayanga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698668739,"creation_date":1698668739,"answer_id":77388636,"question_id":38960117,"body_markdown":"I had a similar issue and the issue was not adding @JsonProperty in the DTO to the field.\r\n\r\n    @JsonProperty(&quot;UnitId&quot;)\r\n    private String UnitId;\r\n    \r\n    @JsonProperty(&quot;ComponentId&quot;)\r\n    private String ComponentId;","title":"Spring JSON request body not mapped to Java POJO","body":"<p>I had a similar issue and the issue was not adding @JsonProperty in the DTO to the field.</p>\n<pre><code>@JsonProperty(&quot;UnitId&quot;)\nprivate String UnitId;\n\n@JsonProperty(&quot;ComponentId&quot;)\nprivate String ComponentId;\n</code></pre>\n"}],"owner":{"account_id":8678855,"reputation":527,"user_id":6495449,"display_name":"Y. Chen"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75407,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":38978616,"answer_count":6,"score":31,"last_activity_date":1698668739,"creation_date":1471282971,"question_id":38960117,"body_markdown":"I&#39;m using Spring to implement a RESTful web service. One of the endpoints takes in a JSON string as request body and I wish to map it to a POJO. However, it seems right now that the passed-in JSON string is not property mapped to the POJO.\r\n\r\nhere&#39;s the @RestController interface\r\n\r\n    @RequestMapping(value=&quot;/send&quot;, headers=&quot;Accept=application/json&quot;, method=RequestMethod.POST)\r\n\tpublic void sendEmails(@RequestBody CustomerInfo customerInfo);\r\n\r\nthe data model\r\n\r\n\tpublic class CustomerInfo {\r\n\t    private String firstname;\r\n\t    private String lastname; \r\n        public CustomerInfo() {\r\n\t\t    this.firstname = &quot;first&quot;;\r\n\t\t    this.lastname = &quot;last&quot;;\r\n\t    }\r\n\t\r\n\t    public CustomerInfo(String firstname, String lastname)\r\n    \t{\r\n\t    \tthis.firstname = firstname;\r\n\t    \tthis.lastname = lastname;\r\n\t    }\r\n\t\r\n    \tpublic String getFirstname(){\r\n\t    \treturn firstname;\r\n\t    }\r\n\t\r\n\t    public void setFirstname(String firstname){\r\n\t    \tthis.firstname = firstname;\r\n\t    }\r\n\t\r\n    \tpublic String getLastname(){\r\n\t    \treturn lastname;\r\n\t    }\r\n\t\r\n\t    public void getLastname(String lastname){\r\n\t\t    this.lastname = lastname;\r\n\t    }\r\n    }\r\n\r\nAnd finally my POST request:\r\n\r\n    {&quot;CustomerInfo&quot;:{&quot;firstname&quot;:&quot;xyz&quot;,&quot;lastname&quot;:&quot;XYZ&quot;}}\r\nwith Content-Type specified to be application/json\r\n\r\nHowever, when I print out the object value, the default value(&quot;first&quot; and &quot;last&quot;) got printed out instead of the value I passed in(&quot;xyz&quot; and &quot;XYZ&quot;)\r\n\r\nDoes anyone know why I am not getting the result I expected?\r\n\r\n\r\n**FIX**   \r\n\r\nSo it turned out that, the value of request body is not passed in because I need to have the @RequestBody annotation not only in my interface, but in the actual method implementation. Once I have that, the problem is solved.","title":"Spring JSON request body not mapped to Java POJO","body":"<p>I'm using Spring to implement a RESTful web service. One of the endpoints takes in a JSON string as request body and I wish to map it to a POJO. However, it seems right now that the passed-in JSON string is not property mapped to the POJO.</p>\n\n<p>here's the @RestController interface</p>\n\n<pre><code>@RequestMapping(value=\"/send\", headers=\"Accept=application/json\", method=RequestMethod.POST)\npublic void sendEmails(@RequestBody CustomerInfo customerInfo);\n</code></pre>\n\n<p>the data model</p>\n\n<pre><code>public class CustomerInfo {\n    private String firstname;\n    private String lastname; \n    public CustomerInfo() {\n        this.firstname = \"first\";\n        this.lastname = \"last\";\n    }\n\n    public CustomerInfo(String firstname, String lastname)\n    {\n        this.firstname = firstname;\n        this.lastname = lastname;\n    }\n\n    public String getFirstname(){\n        return firstname;\n    }\n\n    public void setFirstname(String firstname){\n        this.firstname = firstname;\n    }\n\n    public String getLastname(){\n        return lastname;\n    }\n\n    public void getLastname(String lastname){\n        this.lastname = lastname;\n    }\n}\n</code></pre>\n\n<p>And finally my POST request:</p>\n\n<pre><code>{\"CustomerInfo\":{\"firstname\":\"xyz\",\"lastname\":\"XYZ\"}}\n</code></pre>\n\n<p>with Content-Type specified to be application/json</p>\n\n<p>However, when I print out the object value, the default value(\"first\" and \"last\") got printed out instead of the value I passed in(\"xyz\" and \"XYZ\")</p>\n\n<p>Does anyone know why I am not getting the result I expected?</p>\n\n<p><strong>FIX</strong>   </p>\n\n<p>So it turned out that, the value of request body is not passed in because I need to have the @RequestBody annotation not only in my interface, but in the actual method implementation. Once I have that, the problem is solved.</p>\n"},{"tags":["java","spring","spring-boot","spring-test"],"answers":[{"tags":[],"owner":{"account_id":25024672,"reputation":1,"user_id":18883010,"display_name":"Bartosz Kr&#243;l"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698668122,"creation_date":1698668122,"answer_id":77388580,"question_id":76930447,"body_markdown":"    NoClassDefFoundError: org/springframework/beans/factory/config/InstantiationAwareBeanPostProcessorAdapter\r\n    \r\nI had similar problem. Error above would appear before Groovy unit tests starts.\r\nFor me it was upgrade spock-spring dependency in pom.xml file.\r\n\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.spockframework&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spock-spring&lt;/artifactId&gt;\r\n       &lt;version&gt;2.4-M1-groovy-3.0&lt;/version&gt;\r\n       &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Spring integration fails on startup: InstantiationAwareBeanPostProcessorAdapter","body":"<pre><code>NoClassDefFoundError: org/springframework/beans/factory/config/InstantiationAwareBeanPostProcessorAdapter\n</code></pre>\n<p>I had similar problem. Error above would appear before Groovy unit tests starts.\nFor me it was upgrade spock-spring dependency in pom.xml file.</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.spockframework&lt;/groupId&gt;\n   &lt;artifactId&gt;spock-spring&lt;/artifactId&gt;\n   &lt;version&gt;2.4-M1-groovy-3.0&lt;/version&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":11700002,"reputation":157,"user_id":8565454,"display_name":"Jakob Herk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698668122,"creation_date":1692370564,"question_id":76930447,"body_markdown":"i recently forked [this repo][1]. Now I want to run integration tests, but i get a very weird exception. I have never seen this exception and I cannot find much information about it.\r\n\r\n&gt; org.springframework.beans.factory.config.InstantiationAwareBeanPostProcessorAdapter\r\njava.lang.ClassNotFoundException: org.springframework.beans.factory.config.InstantiationAwareBeanPostProcessorAdapter\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:79)\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:54)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n\r\nMy testclass for the integration test is the following:\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.junit.runners.Suite;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.boot.test.web.client.TestRestTemplate;\r\n\r\n\r\n    @RunWith(Suite.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    public class Spring3jwtdemoApplicationTests {\r\n\r\n      @Autowired\r\n      private TestRestTemplate restTemplate;\r\n\r\n    //  @LocalServerPort\r\n    //  private int randomServerPort;\r\n\r\n      @Test\r\n      public void contextLoads() {\r\n        System.out.println(&quot;This should work&quot;);\r\n      }\r\n\r\n    }\r\n\r\nDo you have any ideas why this does not work? Help is very much appreciated. You can have a detailed look at the code [here][2].\r\n\r\nAlso, if you are an expert you might want to look at the SecurityConfiguration class, there are some compile errors :D\r\n\r\nThank you in advance!\r\n\r\n\r\n  [1]: https://github.com/ali-bouali/spring-boot-3-jwt-security\r\n  [2]: https://github.com/JakobHerk/Spring3jwtdemoApplication","title":"Spring integration fails on startup: InstantiationAwareBeanPostProcessorAdapter","body":"<p>i recently forked <a href=\"https://github.com/ali-bouali/spring-boot-3-jwt-security\" rel=\"nofollow noreferrer\">this repo</a>. Now I want to run integration tests, but i get a very weird exception. I have never seen this exception and I cannot find much information about it.</p>\n<blockquote>\n<p>org.springframework.beans.factory.config.InstantiationAwareBeanPostProcessorAdapter\njava.lang.ClassNotFoundException: org.springframework.beans.factory.config.InstantiationAwareBeanPostProcessorAdapter\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\nat java.base/java.lang.ClassLoader.defineClass1(Native Method)\nat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\nat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\nat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\nat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\nat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:79)\nat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:54)\nat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\nat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\nat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\nat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\nat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\nat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\nat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\nat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\nat java.base/java.util.Optional.orElseGet(Optional.java:364)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\nat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\nat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\nat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)\nat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)\nat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)\nat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\nat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\nat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\nat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\nat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\nat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\nat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\nat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\nat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\nat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\nat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\nat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\nat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\nat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)</p>\n</blockquote>\n<p>My testclass for the integration test is the following:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.runner.RunWith;\nimport org.junit.runners.Suite;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.test.web.client.TestRestTemplate;\n\n\n@RunWith(Suite.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class Spring3jwtdemoApplicationTests {\n\n  @Autowired\n  private TestRestTemplate restTemplate;\n\n//  @LocalServerPort\n//  private int randomServerPort;\n\n  @Test\n  public void contextLoads() {\n    System.out.println(&quot;This should work&quot;);\n  }\n\n}\n</code></pre>\n<p>Do you have any ideas why this does not work? Help is very much appreciated. You can have a detailed look at the code <a href=\"https://github.com/JakobHerk/Spring3jwtdemoApplication\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Also, if you are an expert you might want to look at the SecurityConfiguration class, there are some compile errors :D</p>\n<p>Thank you in advance!</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9824,"page":93,"page_size":100}
