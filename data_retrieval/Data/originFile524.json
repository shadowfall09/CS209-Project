{"items":[{"tags":["java","sql-server-2012","prepared-statement","sql-injection","jtds"],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1477661852,"post_id":40301857,"comment_id":67869708,"body_markdown":"@robyp7 Note that all caps is usually interpreted as shouting, don&#39;t do that; but no, I don&#39;t know such a library.","body":"@robyp7 Note that all caps is usually interpreted as shouting, don&#39;t do that; but no, I don&#39;t know such a library."}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1477646172,"creation_date":1477646172,"answer_id":40301857,"question_id":40301768,"body_markdown":"Your query does not contain any parameters, a `&#39;?&#39;` is just a literal string with a question mark in it, it is not a parameter. \r\n\r\nYou also can&#39;t parameterize object names like column names and clauses (like a `TOP 20`), so even if you&#39;d change it to - for example - `order by ?, ...` it wouldn&#39;t work, as you&#39;d be sorting by the string value (which would be the same for all rows, so effectively you wouldn&#39;t be sorting at all).\r\n\r\nTo do what you want to do you will need to concatenate the column names (and other clauses) into the query string. This also means that you might open yourself up to SQL injection: be sure to check the values carefully (for example against a whitelist of allowed values).","title":"SQLException: Invalid parameter index 1 only with PreparedStatement","body":"<p>Your query does not contain any parameters, a <code>'?'</code> is just a literal string with a question mark in it, it is not a parameter. </p>\n\n<p>You also can't parameterize object names like column names and clauses (like a <code>TOP 20</code>), so even if you'd change it to - for example - <code>order by ?, ...</code> it wouldn't work, as you'd be sorting by the string value (which would be the same for all rows, so effectively you wouldn't be sorting at all).</p>\n\n<p>To do what you want to do you will need to concatenate the column names (and other clauses) into the query string. This also means that you might open yourself up to SQL injection: be sure to check the values carefully (for example against a whitelist of allowed values).</p>\n"},{"tags":[],"owner":{"account_id":16484644,"reputation":149,"user_id":11910379,"display_name":"AJAY KACHHIYAPATEL"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680686059,"creation_date":1680686059,"answer_id":75937670,"question_id":40301768,"body_markdown":"Your query does not contain ( ? ) in parameterized query or else you have used (:) [NamedParameterJdbcTemplate] that&#39;s why having this issue.\r\nPlease use ? in parameters query.","title":"SQLException: Invalid parameter index 1 only with PreparedStatement","body":"<p>Your query does not contain ( ? ) in parameterized query or else you have used (:) [NamedParameterJdbcTemplate] that's why having this issue.\nPlease use ? in parameters query.</p>\n"}],"owner":{"account_id":5851066,"reputation":479,"user_id":4609725,"accept_rate":43,"display_name":"robyp7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17927,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":40301857,"answer_count":2,"score":5,"last_activity_date":1680686059,"creation_date":1477645850,"question_id":40301768,"body_markdown":"I have got a webapp(JSP/Servlet) with Tomcat8  + SQL Server2012\r\nJDBC Driver Type 4: JTDS old version 1.2.5 (http://jtds.sourceforge.net/)\r\n\r\nI change this kind of query, adding Prepared Statement (server pagining)\r\n\r\n        Sting DDXsql = &quot;SELECT &#39;?&#39; *, ( DDX_RECORD_COUNT / &#39;?&#39; + 1 ) AS DDX_PAGE_COUNT \r\n    FROM \r\n    ( SELECT &#39;?&#39; * \r\n    FROM ( SELECT &#39;?&#39; *, \r\n                 (SELECT COUNT(*) &quot; + &quot;FROM &quot; \r\n              + session.getAttribute(&quot;DatabaseName&quot;) + &quot;.G1_grid &quot; \r\n              + sqlFrom \r\n              + sqlWhere + &quot; &quot;    \r\n                + &quot; )  AS DDX_RECORD_COUNT &quot; \r\n            + &quot;FROM &quot; + session.getAttribute(&quot;DatabaseName&quot;) + &quot;.G1_grid &quot; \r\n            + sqlFrom \r\n            + sqlWhere + &quot; &quot; \r\n            +    &quot; ORDER BY &#39;?&#39; &#39;?&#39; , &#39;?&#39; &#39;?&#39; ) AS TMP1 ORDER \r\n              BY &#39;?&#39; &#39;?&#39;, &#39;?&#39; &#39;?&#39;) AS r ORDER BY &#39;?&#39; &#39;?&#39;, &#39;?&#39;  &#39;?&#39;&quot;;\r\nParameters:\r\n\r\n    String top1 = DBManager.getTOP(request, &quot;TOP &quot; + Integer.valueOf((String)ResourceManager.findData(&quot;pageSize&quot;, request)));\r\n    \t\t\t\tInteger pagesizeInt = Integer.valueOf((String)ResourceManager.findData(&quot;pageSize&quot;, request));\r\n    \t\t\t\tString top2 = DBManager.getTOP(request, &quot;TOP &quot; + Integer.valueOf((String)ResourceManager.findData(&quot;ddxrecordcount&quot;, request)));\t\r\n    \t\t\t\tString top3= DBManager.getTOP(request, &quot;TOP &quot; + Integer.valueOf((String)ResourceManager.findData(&quot;toRange&quot;, request)));\r\n    \t\t\t\tString notSortStr = (String)ResourceManager.findData(&quot;notSort&quot;, request);\r\n    \t\t\t\tObject[] values = new Object[] {\r\n    \t\t\t\ttop1, \t\t\t\t\r\n    \t\t\t\tpagesizeInt,\r\n    \t\t\t\ttop2,\t\t\t\r\n    \t\t\t\ttop3,\r\n    \t\t\t\tSortKey,\r\n    \t\t\t\tSort,\r\n    \t\t\t\tTotalSortKey,\r\n    \t\t\t\tSort,\r\n    \t\t\t\tSortKey,\r\n    \t\t\t\tnotSortStr,\r\n    \t\t\t\tTotalSortKey ,\t\t\t\r\n    \t\t\t\tnotSortStr,\t\t\r\n    \t\t\t\tSortKey,\r\n    \t\t\t\tSort,\r\n    \t\t\t\tTotalSortKey,\r\n    \t\t\t\tSort\r\n    \t\t\t\t};\r\n\r\nBefore, I didint use PreparedStatement I have this kind of query (replace &quot;?&quot; with the Object array values, without StringEscapeUtils):\r\n\r\n        String DDXsql = &quot;SELECT &quot; + \r\n    DBManager.getTOP(request, &quot;TOP &quot; \r\n    + Integer.valueOf(StringEscapeUtils.escapeSql((String)ResourceManager.findData(&quot;pageSize&quot;, request)))) + &quot; *, \r\n    ( DDX_RECORD_COUNT / &quot; + Integer.valueOf(StringEscapeUtils.escapeSql((String)ResourceManager.findData(&quot;pageSize&quot;, request))) + &quot; + 1 ) AS DDX_PAGE_COUNT FROM \r\n    ( SELECT &quot; \r\n    + DBManager.getTOP(request, &quot;TOP &quot;\r\n     + Integer.valueOf(StringEscapeUtils.escapeSql((String)ResourceManager.findData(&quot;ddxrecordcount&quot;, request)))) \r\n    + &quot; * FROM ( SELECT &quot; + DBManager.getTOP(request, &quot;TOP &quot; + Integer.valueOf(StringEscapeUtils.escapeSql((String)ResourceManager.findData(&quot;toRange&quot;, request)))) \r\n    + &quot; *, (SELECT COUNT(*) &quot; \r\n    + &quot;FROM &quot; + session.getAttribute(&quot;DatabaseName&quot;) + &quot;.G1_grid &quot; + sqlFrom + sqlWhere + &quot; &quot; + &quot; )  AS DDX_RECORD_COUNT &quot; \r\n    + &quot;FROM &quot; + session.getAttribute(&quot;DatabaseName&quot;) \r\n    + &quot;.G1_grid &quot; + sqlFrom + sqlWhere + &quot; &quot; + &quot; ORDER BY &quot;\r\n     + StringEscapeUtils.escapeSql(SortKey) + &quot; &quot; + StringEscapeUtils.escapeSql(Sort) + &quot;, &quot; \r\n    + StringEscapeUtils.escapeSql(TotalSortKey) + &quot; &quot; \r\n    + StringEscapeUtils.escapeSql(Sort) + &quot;) AS TMP1 ORDER BY &quot;\r\n     + StringEscapeUtils.escapeSql(SortKey) + &quot; &quot; \r\n    + StringEscapeUtils.escapeSql((String)ResourceManager.findData(&quot;notSort&quot;, request)) \r\n    + &quot;, &quot; + StringEscapeUtils.escapeSql(TotalSortKey) + &quot; &quot; \r\n    + StringEscapeUtils.escapeSql((String)ResourceManager.findData(&quot;notSort&quot;, request)) + &quot; ) AS r ORDER BY &quot; \r\n    + StringEscapeUtils.escapeSql(SortKey) + &quot; &quot; \r\n    + StringEscapeUtils.escapeSql(Sort) + &quot;, &quot; \r\n    + StringEscapeUtils.escapeSql(TotalSortKey) \r\n    + &quot; &quot; + StringEscapeUtils.escapeSql(Sort) + &quot; &quot;;\r\n\r\nThe last query runs without error, System.out of this query give this for example:\r\n\r\n    SELECT TOP 20 *, ( DDX_RECORD_COUNT / 20 + 1 ) AS DDX_PAGE_COUNT \r\n    FROM \r\n    ( SELECT TOP 20 * FROM \r\n                   ( SELECT TOP 20 *, \r\n                       (SELECT COUNT(*) \r\n                         FROM SuiteMA_DIP.dbo.G1_grid  \r\n                      WHERE 1 = 1   )  AS DDX_RECORD_COUNT \r\n                    FROM SuiteMA_DIP.dbo.G1_grid  WHERE 1 = 0   ORDER BY DATA_ISCRIZIONE_ORDER DESC, SOGGETTO_RILEVANTE_PAID DESC) AS TMP1 ORDER BY DATA_ISCRIZIONE_ORDER ASC, SOGGETTO_RILEVANTE_PAID ASC ) AS r ORDER BY DATA_ISCRIZIONE_ORDER DESC, SOGGETTO_RILEVANTE_PAID DESC \r\n\r\n\r\nBut when i run sql with preparedStatement:\r\n\r\n    java.sql.SQLException: Invalid parameter index 1.\r\n    \tat net.sourceforge.jtds.jdbc.JtdsPreparedStatement.getParameter(JtdsPreparedStatement.java:340)\r\n    \tat net.sourceforge.jtds.jdbc.JtdsPreparedStatement.setParameter(JtdsPreparedStatement.java:409)\r\n    \tat net.sourceforge.jtds.jdbc.JtdsPreparedStatement.setObjectBase(JtdsPreparedStatement.java:395)\r\n    \tat net.sourceforge.jtds.jdbc.JtdsPreparedStatement.setObject(JtdsPreparedStatement.java:667)\r\n    \tat org.apache.tomcat.dbcp.dbcp2.DelegatingPreparedStatement.setObject(DelegatingPreparedStatement.java:188)\r\n    \tat org.apache.tomcat.dbcp.dbcp2.DelegatingPreparedStatement.setObject(DelegatingPreparedStatement.java:188)\r\n    \tat it.netbureau.jfx.db.SQLDBManager.execSQL(SQLDBManager.java:57)\r\n    \tat it.netbureau.jfx.db.SQLDBManager.execSQL(SQLDBManager.java:78)\r\n    \tat org.apache.jsp.G1.select_jsp._jspService(select_jsp.java:691)\r\n\r\nThe java method execute the query :\r\n\r\nclass jfx.db.SQLDBManager.execSQL:\r\n\r\n    public Object execSQL(PreparedStatement stmt, Object values[], String xmlId)\r\n            throws SQLException\r\n        {\r\n            Object result = null;\r\n            if(stmt == null)\r\n                return null;\r\n            try\r\n            {\r\n                for(int i = 0; i &lt; values.length; i++)\r\n                    if(values[i] == null)\r\n                        stmt.setNull(i + 1, 4);\r\n                    else\r\n                        stmt.setObject(i + 1, values[i]); &lt;--this give exception!\r\n    \r\n                if(stmt.execute())                  result = transform(stmt.getResultSet(), xmlId);\r\n            }\r\n            catch(SQLException ex)\r\n            {\r\n                rollback();\r\n                throw ex;\r\n            }\r\n            return result;\r\n        }\r\n\r\nWhat&#39;s wrong?\r\n\r\nThank you very much\r\n\r\nroby\r\n\r\n\r\n","title":"SQLException: Invalid parameter index 1 only with PreparedStatement","body":"<p>I have got a webapp(JSP/Servlet) with Tomcat8  + SQL Server2012\nJDBC Driver Type 4: JTDS old version 1.2.5 (<a href=\"http://jtds.sourceforge.net/\" rel=\"noreferrer\">http://jtds.sourceforge.net/</a>)</p>\n\n<p>I change this kind of query, adding Prepared Statement (server pagining)</p>\n\n<pre><code>    Sting DDXsql = \"SELECT '?' *, ( DDX_RECORD_COUNT / '?' + 1 ) AS DDX_PAGE_COUNT \nFROM \n( SELECT '?' * \nFROM ( SELECT '?' *, \n             (SELECT COUNT(*) \" + \"FROM \" \n          + session.getAttribute(\"DatabaseName\") + \".G1_grid \" \n          + sqlFrom \n          + sqlWhere + \" \"    \n            + \" )  AS DDX_RECORD_COUNT \" \n        + \"FROM \" + session.getAttribute(\"DatabaseName\") + \".G1_grid \" \n        + sqlFrom \n        + sqlWhere + \" \" \n        +    \" ORDER BY '?' '?' , '?' '?' ) AS TMP1 ORDER \n          BY '?' '?', '?' '?') AS r ORDER BY '?' '?', '?'  '?'\";\n</code></pre>\n\n<p>Parameters:</p>\n\n<pre><code>String top1 = DBManager.getTOP(request, \"TOP \" + Integer.valueOf((String)ResourceManager.findData(\"pageSize\", request)));\n                Integer pagesizeInt = Integer.valueOf((String)ResourceManager.findData(\"pageSize\", request));\n                String top2 = DBManager.getTOP(request, \"TOP \" + Integer.valueOf((String)ResourceManager.findData(\"ddxrecordcount\", request))); \n                String top3= DBManager.getTOP(request, \"TOP \" + Integer.valueOf((String)ResourceManager.findData(\"toRange\", request)));\n                String notSortStr = (String)ResourceManager.findData(\"notSort\", request);\n                Object[] values = new Object[] {\n                top1,               \n                pagesizeInt,\n                top2,           \n                top3,\n                SortKey,\n                Sort,\n                TotalSortKey,\n                Sort,\n                SortKey,\n                notSortStr,\n                TotalSortKey ,          \n                notSortStr,     \n                SortKey,\n                Sort,\n                TotalSortKey,\n                Sort\n                };\n</code></pre>\n\n<p>Before, I didint use PreparedStatement I have this kind of query (replace \"?\" with the Object array values, without StringEscapeUtils):</p>\n\n<pre><code>    String DDXsql = \"SELECT \" + \nDBManager.getTOP(request, \"TOP \" \n+ Integer.valueOf(StringEscapeUtils.escapeSql((String)ResourceManager.findData(\"pageSize\", request)))) + \" *, \n( DDX_RECORD_COUNT / \" + Integer.valueOf(StringEscapeUtils.escapeSql((String)ResourceManager.findData(\"pageSize\", request))) + \" + 1 ) AS DDX_PAGE_COUNT FROM \n( SELECT \" \n+ DBManager.getTOP(request, \"TOP \"\n + Integer.valueOf(StringEscapeUtils.escapeSql((String)ResourceManager.findData(\"ddxrecordcount\", request)))) \n+ \" * FROM ( SELECT \" + DBManager.getTOP(request, \"TOP \" + Integer.valueOf(StringEscapeUtils.escapeSql((String)ResourceManager.findData(\"toRange\", request)))) \n+ \" *, (SELECT COUNT(*) \" \n+ \"FROM \" + session.getAttribute(\"DatabaseName\") + \".G1_grid \" + sqlFrom + sqlWhere + \" \" + \" )  AS DDX_RECORD_COUNT \" \n+ \"FROM \" + session.getAttribute(\"DatabaseName\") \n+ \".G1_grid \" + sqlFrom + sqlWhere + \" \" + \" ORDER BY \"\n + StringEscapeUtils.escapeSql(SortKey) + \" \" + StringEscapeUtils.escapeSql(Sort) + \", \" \n+ StringEscapeUtils.escapeSql(TotalSortKey) + \" \" \n+ StringEscapeUtils.escapeSql(Sort) + \") AS TMP1 ORDER BY \"\n + StringEscapeUtils.escapeSql(SortKey) + \" \" \n+ StringEscapeUtils.escapeSql((String)ResourceManager.findData(\"notSort\", request)) \n+ \", \" + StringEscapeUtils.escapeSql(TotalSortKey) + \" \" \n+ StringEscapeUtils.escapeSql((String)ResourceManager.findData(\"notSort\", request)) + \" ) AS r ORDER BY \" \n+ StringEscapeUtils.escapeSql(SortKey) + \" \" \n+ StringEscapeUtils.escapeSql(Sort) + \", \" \n+ StringEscapeUtils.escapeSql(TotalSortKey) \n+ \" \" + StringEscapeUtils.escapeSql(Sort) + \" \";\n</code></pre>\n\n<p>The last query runs without error, System.out of this query give this for example:</p>\n\n<pre><code>SELECT TOP 20 *, ( DDX_RECORD_COUNT / 20 + 1 ) AS DDX_PAGE_COUNT \nFROM \n( SELECT TOP 20 * FROM \n               ( SELECT TOP 20 *, \n                   (SELECT COUNT(*) \n                     FROM SuiteMA_DIP.dbo.G1_grid  \n                  WHERE 1 = 1   )  AS DDX_RECORD_COUNT \n                FROM SuiteMA_DIP.dbo.G1_grid  WHERE 1 = 0   ORDER BY DATA_ISCRIZIONE_ORDER DESC, SOGGETTO_RILEVANTE_PAID DESC) AS TMP1 ORDER BY DATA_ISCRIZIONE_ORDER ASC, SOGGETTO_RILEVANTE_PAID ASC ) AS r ORDER BY DATA_ISCRIZIONE_ORDER DESC, SOGGETTO_RILEVANTE_PAID DESC \n</code></pre>\n\n<p>But when i run sql with preparedStatement:</p>\n\n<pre><code>java.sql.SQLException: Invalid parameter index 1.\n    at net.sourceforge.jtds.jdbc.JtdsPreparedStatement.getParameter(JtdsPreparedStatement.java:340)\n    at net.sourceforge.jtds.jdbc.JtdsPreparedStatement.setParameter(JtdsPreparedStatement.java:409)\n    at net.sourceforge.jtds.jdbc.JtdsPreparedStatement.setObjectBase(JtdsPreparedStatement.java:395)\n    at net.sourceforge.jtds.jdbc.JtdsPreparedStatement.setObject(JtdsPreparedStatement.java:667)\n    at org.apache.tomcat.dbcp.dbcp2.DelegatingPreparedStatement.setObject(DelegatingPreparedStatement.java:188)\n    at org.apache.tomcat.dbcp.dbcp2.DelegatingPreparedStatement.setObject(DelegatingPreparedStatement.java:188)\n    at it.netbureau.jfx.db.SQLDBManager.execSQL(SQLDBManager.java:57)\n    at it.netbureau.jfx.db.SQLDBManager.execSQL(SQLDBManager.java:78)\n    at org.apache.jsp.G1.select_jsp._jspService(select_jsp.java:691)\n</code></pre>\n\n<p>The java method execute the query :</p>\n\n<p>class jfx.db.SQLDBManager.execSQL:</p>\n\n<pre><code>public Object execSQL(PreparedStatement stmt, Object values[], String xmlId)\n        throws SQLException\n    {\n        Object result = null;\n        if(stmt == null)\n            return null;\n        try\n        {\n            for(int i = 0; i &lt; values.length; i++)\n                if(values[i] == null)\n                    stmt.setNull(i + 1, 4);\n                else\n                    stmt.setObject(i + 1, values[i]); &lt;--this give exception!\n\n            if(stmt.execute())                  result = transform(stmt.getResultSet(), xmlId);\n        }\n        catch(SQLException ex)\n        {\n            rollback();\n            throw ex;\n        }\n        return result;\n    }\n</code></pre>\n\n<p>What's wrong?</p>\n\n<p>Thank you very much</p>\n\n<p>roby</p>\n"},{"tags":["java","unit-testing","guava"],"answers":[{"tags":[],"owner":{"account_id":364193,"reputation":27495,"user_id":708434,"accept_rate":70,"display_name":"Grzegorz Ro≈ºniecki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680685444,"creation_date":1680685444,"answer_id":75937559,"question_id":75925080,"body_markdown":"Do you want to test if both objects are referring to the same reference, or do you want to check if they&#39;re equal? \r\n\r\nSee [`assertSame`][1] and [`assertEqual`][2] but most importantly read about [`Object#equals(Object)][3]` and difference with `==`.\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/5.1.0/api/org/junit/jupiter/api/Assertions.html#assertSame-java.lang.Object-java.lang.Object-\r\n  [2]: https://junit.org/junit5/docs/5.1.0/api/org/junit/jupiter/api/Assertions.html#assertEquals-java.lang.Object-java.lang.Object-\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)","title":"Using AssertSame to validate instance of client from CacheBuilder","body":"<p>Do you want to test if both objects are referring to the same reference, or do you want to check if they're equal?</p>\n<p>See <a href=\"https://junit.org/junit5/docs/5.1.0/api/org/junit/jupiter/api/Assertions.html#assertSame-java.lang.Object-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>assertSame</code></a> and <a href=\"https://junit.org/junit5/docs/5.1.0/api/org/junit/jupiter/api/Assertions.html#assertEquals-java.lang.Object-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>assertEqual</code></a> but most importantly read about [<code>Object#equals(Object)][3]</code> and difference with <code>==</code>.</p>\n"}],"owner":{"account_id":5407761,"reputation":33,"user_id":4305669,"display_name":"pandabearit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680685444,"creation_date":1680575350,"question_id":75925080,"body_markdown":"Question on CacheBuilder maybe someone can help with:\r\n\r\nI have a Cache defined as such:\r\n```\r\n    private final Cache&lt;String, ServiceClient&gt; SERVICE_CLIENT_CACHE = CacheBuilder.newBuilder()\r\n            .maximumSize(1000)\r\n            .build();\r\n\r\n```\r\nAccessor logic within the `newRetryingClient` class called from the test\r\n```\r\n        try {\r\n            return SERVICE_CLIENT_CACHE.get(clientConfigQualifier,\r\n                    () -&gt; newClient(clientConfigQualifier));\r\n        } catch (final ExecutionException ignored) {\r\n            throw new RuntimeException(ignored);\r\n        }\r\n    }\r\n```\r\n\r\nAttempting to validate the cache is working with a test results in a failure because of different objects... \r\n```\r\n    @Test\r\n    public void newRetryingClientWithMaterials() {\r\n        final clientFactory clientFactory = new clientFactory(authClient, mock(Identity.class));\r\n        final Client client1 = clientFactory.newRetryingClient(QUALIFIER);\r\n        final Client client2 = clientFactory.newRetryingClient(QUALIFIER);\r\n        assertSame(client1, client2);\r\n    }\r\n```\r\nTest Result\r\n```\r\norg.opentest4j.AssertionFailedError: \r\nExpected :com.place.thing.client.clientImpl@49d5c751\r\nActual   :com.place.thing.client.clienttImpl@40e90634\r\n```\r\n\r\nany idea if there is an issue with the implementation or I am expecting the wrong behaviors from assertSame?\r\n","title":"Using AssertSame to validate instance of client from CacheBuilder","body":"<p>Question on CacheBuilder maybe someone can help with:</p>\n<p>I have a Cache defined as such:</p>\n<pre><code>    private final Cache&lt;String, ServiceClient&gt; SERVICE_CLIENT_CACHE = CacheBuilder.newBuilder()\n            .maximumSize(1000)\n            .build();\n\n</code></pre>\n<p>Accessor logic within the <code>newRetryingClient</code> class called from the test</p>\n<pre><code>        try {\n            return SERVICE_CLIENT_CACHE.get(clientConfigQualifier,\n                    () -&gt; newClient(clientConfigQualifier));\n        } catch (final ExecutionException ignored) {\n            throw new RuntimeException(ignored);\n        }\n    }\n</code></pre>\n<p>Attempting to validate the cache is working with a test results in a failure because of different objects...</p>\n<pre><code>    @Test\n    public void newRetryingClientWithMaterials() {\n        final clientFactory clientFactory = new clientFactory(authClient, mock(Identity.class));\n        final Client client1 = clientFactory.newRetryingClient(QUALIFIER);\n        final Client client2 = clientFactory.newRetryingClient(QUALIFIER);\n        assertSame(client1, client2);\n    }\n</code></pre>\n<p>Test Result</p>\n<pre><code>org.opentest4j.AssertionFailedError: \nExpected :com.place.thing.client.clientImpl@49d5c751\nActual   :com.place.thing.client.clienttImpl@40e90634\n</code></pre>\n<p>any idea if there is an issue with the implementation or I am expecting the wrong behaviors from assertSame?</p>\n"},{"tags":["java","spring-boot","docker","docker-compose","dockerfile"],"comments":[{"owner":{"account_id":2969131,"reputation":340,"user_id":2521628,"display_name":"Jan Cizmar"},"score":0,"creation_date":1682327069,"post_id":75937531,"comment_id":134191819,"body_markdown":"I have similar issue after updating to Spring Boot 2.7.9.","body":"I have similar issue after updating to Spring Boot 2.7.9."},{"owner":{"account_id":3331179,"reputation":2145,"user_id":2800089,"accept_rate":44,"display_name":"user2800089"},"score":0,"creation_date":1682593687,"post_id":75937531,"comment_id":134241997,"body_markdown":"@JanCizmar Seems like this issue is related to less size of RAM of your machine","body":"@JanCizmar Seems like this issue is related to less size of RAM of your machine"},{"owner":{"account_id":2969131,"reputation":340,"user_id":2521628,"display_name":"Jan Cizmar"},"score":0,"creation_date":1682683687,"post_id":75937531,"comment_id":134258156,"body_markdown":"Well, do you think reducing the heap size would help?","body":"Well, do you think reducing the heap size would help?"}],"owner":{"account_id":3331179,"reputation":2145,"user_id":2800089,"accept_rate":44,"display_name":"user2800089"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680685312,"creation_date":1680685312,"question_id":75937531,"body_markdown":"I have a spring boot application as &#39;users&#39; and when I am trying to bring up the application via docker, it&#39;s failing with segmentation fault and exit with code 139 as below: Please advise.\r\n\r\n    Starting docker compose\r\n    Container users-user-db-1  Creating\r\n    Container users-solace-1  Creating\r\n    Container users-solace-1  Created\r\n    Container users-user-db-1  Created\r\n    Container users-users-1  Creating\r\n    Container users-users-1  Created\r\n    Attaching to users-users-1, users-solace-1, users-user-db-1\r\n    users-user-db-1  | The files belonging to this database system will be owned by user &quot;postgres&quot;.\r\n    users-user-db-1  | This user must also own the server process.\r\n    users-user-db-1  |\r\n    users-user-db-1  | The database cluster will be initialized with locale &quot;en_US.utf8&quot;.\r\n    users-user-db-1  | The default database encoding has accordingly been set to &quot;UTF8&quot;.\r\n    users-user-db-1  | The default text search configuration will be set to &quot;english&quot;.\r\n    users-user-db-1  |\r\n    users-user-db-1  | Data page checksums are disabled.\r\n    users-user-db-1  |\r\n    users-user-db-1  | fixing permissions on existing directory /var/lib/postgresql/data ... ok\r\n    users-user-db-1  | creating subdirectories ... ok\r\n    users-user-db-1  | selecting dynamic shared memory implementation ... posix\r\n    users-user-db-1  | selecting default max_connections ... 100\r\n    users-solace-1              | Host Boot ID: \r\n    users-solace-1              | Starting VMR Docker Container: Wed Apr 5 08:21:32 UTC 2023\r\n    users-solace-1              | Setting umask to 077\r\n    users-solace-1              | SolOS Version: soltr_9.9.0.34\r\n    users-user-db-1  | selecting default shared_buffers ... 128MB\r\n    users-user-db-1  | selecting default time zone ... Etc/UTC\r\n    users-user-db-1  | creating configuration files ... ok\r\n    users-user-db-1  | running bootstrap script ... ok\r\n    users-users-1          | Segmentation fault\r\n    users-users-1 exited with code 0\r\n\r\n\r\n\r\n\r\ndocker-compose.sh looks like below:\r\n\r\n    #!/bin/bash\r\n    \r\n    docker container rm -f $(docker container ls -aq)\r\n    \r\n    mvn clean install -DskipTests=true -Dmaven.javadoc.skip=true\r\n    \r\n    docker build --no-cache -f Dockerfile.local -t users:latest .\r\n    \r\n    docker-compose -f docker-compose.yml up --build\r\n\r\ndockerfile.local looks like below:\r\n\r\n    FROM &lt;url&gt;/openjdk:11-jdk\r\n    MAINTAINER users\r\n    \r\n    ARG JAR_FILE=target/*.jar\r\n    \r\n    COPY ${JAR_FILE} app.jar\r\n    \r\n    CMD java -jar /app.jar\r\n    \r\n    EXPOSE 8080\r\n\r\n\r\ndocker-compose.yml looks like below :\r\n\r\n    version: &#39;3&#39;\r\n    services:\r\n      users:\r\n        image: users:latest\r\n        restart: on-failure\r\n        networks:\r\n          default:\r\n            aliases:\r\n              - users.svc\r\n        links:\r\n          - user-db\r\n          - solace\r\n        ports:\r\n          - &quot;8094:8080&quot;\r\n        depends_on:\r\n          - user-db\r\n          - solace\r\n        environment:\r\n          WAIT_HOSTS: solace.svc:8080, user-db.svc:5432\r\n          USERS_DB_JDBC_URL: jdbc:postgresql://user-db.svc:5432/users\r\n          USERS_DB_APP_USER_NAME: USERS_rwuser\r\n          USERS_DB_APP_USER_PASSWORD: mysecretpassword\r\n          USERS_DB_MIGRATION_USER_NAME: USERS_rwuser\r\n          USERS_DB_MIGRATION_USER_PASSWORD: mysecretpassword\r\n          USERS_DB_READ_WRITE_USER_ROLE: USERS_rwuser\r\n          USERS_DB_READ_ONLY_USER_ROLE: USERS_rwuser\r\n          SOLACE_HOST_URL: tcp://solace.svc:55555\r\n          SOLACE_MSG_VPN: default\r\n          USERS_SOLACE_USERNAME: admin\r\n          USERS_SOLACE_PASSWORD: admin\r\n        command: &gt;\r\n              java -jar /app.jar&quot;\r\n    \r\n      user-db:\r\n        image: &lt;URL&gt;/postgres:12.4\r\n        restart: always\r\n        networks:\r\n          default:\r\n            aliases:\r\n              - user-db.svc\r\n        ports:\r\n          - 5432:5432\r\n        environment:\r\n          POSTGRES_USER: USERS_rwuser\r\n          POSTGRES_PASSWORD: mysecretpassword\r\n          POSTGRES_DB: users\r\n    \r\n      solace:\r\n        image: &lt;URL&gt;/solace/solace-pubsub-standard:9.9.0.34\r\n        restart: always\r\n        networks:\r\n          default:\r\n            aliases:\r\n              - solace.svc\r\n        shm_size: 1g\r\n        ulimits:\r\n          core: 1\r\n          nofile:\r\n            soft: 2448\r\n            hard: 38048\r\n        environment:\r\n          - system_scaling_maxconnectioncount=100\r\n\r\n","title":"Segmentation fault on running spring boot application via docker desktop","body":"<p>I have a spring boot application as 'users' and when I am trying to bring up the application via docker, it's failing with segmentation fault and exit with code 139 as below: Please advise.</p>\n<pre><code>Starting docker compose\nContainer users-user-db-1  Creating\nContainer users-solace-1  Creating\nContainer users-solace-1  Created\nContainer users-user-db-1  Created\nContainer users-users-1  Creating\nContainer users-users-1  Created\nAttaching to users-users-1, users-solace-1, users-user-db-1\nusers-user-db-1  | The files belonging to this database system will be owned by user &quot;postgres&quot;.\nusers-user-db-1  | This user must also own the server process.\nusers-user-db-1  |\nusers-user-db-1  | The database cluster will be initialized with locale &quot;en_US.utf8&quot;.\nusers-user-db-1  | The default database encoding has accordingly been set to &quot;UTF8&quot;.\nusers-user-db-1  | The default text search configuration will be set to &quot;english&quot;.\nusers-user-db-1  |\nusers-user-db-1  | Data page checksums are disabled.\nusers-user-db-1  |\nusers-user-db-1  | fixing permissions on existing directory /var/lib/postgresql/data ... ok\nusers-user-db-1  | creating subdirectories ... ok\nusers-user-db-1  | selecting dynamic shared memory implementation ... posix\nusers-user-db-1  | selecting default max_connections ... 100\nusers-solace-1              | Host Boot ID: \nusers-solace-1              | Starting VMR Docker Container: Wed Apr 5 08:21:32 UTC 2023\nusers-solace-1              | Setting umask to 077\nusers-solace-1              | SolOS Version: soltr_9.9.0.34\nusers-user-db-1  | selecting default shared_buffers ... 128MB\nusers-user-db-1  | selecting default time zone ... Etc/UTC\nusers-user-db-1  | creating configuration files ... ok\nusers-user-db-1  | running bootstrap script ... ok\nusers-users-1          | Segmentation fault\nusers-users-1 exited with code 0\n</code></pre>\n<p>docker-compose.sh looks like below:</p>\n<pre><code>#!/bin/bash\n\ndocker container rm -f $(docker container ls -aq)\n\nmvn clean install -DskipTests=true -Dmaven.javadoc.skip=true\n\ndocker build --no-cache -f Dockerfile.local -t users:latest .\n\ndocker-compose -f docker-compose.yml up --build\n</code></pre>\n<p>dockerfile.local looks like below:</p>\n<pre><code>FROM &lt;url&gt;/openjdk:11-jdk\nMAINTAINER users\n\nARG JAR_FILE=target/*.jar\n\nCOPY ${JAR_FILE} app.jar\n\nCMD java -jar /app.jar\n\nEXPOSE 8080\n</code></pre>\n<p>docker-compose.yml looks like below :</p>\n<pre><code>version: '3'\nservices:\n  users:\n    image: users:latest\n    restart: on-failure\n    networks:\n      default:\n        aliases:\n          - users.svc\n    links:\n      - user-db\n      - solace\n    ports:\n      - &quot;8094:8080&quot;\n    depends_on:\n      - user-db\n      - solace\n    environment:\n      WAIT_HOSTS: solace.svc:8080, user-db.svc:5432\n      USERS_DB_JDBC_URL: jdbc:postgresql://user-db.svc:5432/users\n      USERS_DB_APP_USER_NAME: USERS_rwuser\n      USERS_DB_APP_USER_PASSWORD: mysecretpassword\n      USERS_DB_MIGRATION_USER_NAME: USERS_rwuser\n      USERS_DB_MIGRATION_USER_PASSWORD: mysecretpassword\n      USERS_DB_READ_WRITE_USER_ROLE: USERS_rwuser\n      USERS_DB_READ_ONLY_USER_ROLE: USERS_rwuser\n      SOLACE_HOST_URL: tcp://solace.svc:55555\n      SOLACE_MSG_VPN: default\n      USERS_SOLACE_USERNAME: admin\n      USERS_SOLACE_PASSWORD: admin\n    command: &gt;\n          java -jar /app.jar&quot;\n\n  user-db:\n    image: &lt;URL&gt;/postgres:12.4\n    restart: always\n    networks:\n      default:\n        aliases:\n          - user-db.svc\n    ports:\n      - 5432:5432\n    environment:\n      POSTGRES_USER: USERS_rwuser\n      POSTGRES_PASSWORD: mysecretpassword\n      POSTGRES_DB: users\n\n  solace:\n    image: &lt;URL&gt;/solace/solace-pubsub-standard:9.9.0.34\n    restart: always\n    networks:\n      default:\n        aliases:\n          - solace.svc\n    shm_size: 1g\n    ulimits:\n      core: 1\n      nofile:\n        soft: 2448\n        hard: 38048\n    environment:\n      - system_scaling_maxconnectioncount=100\n</code></pre>\n"},{"tags":["java","android","background","android-videoview"],"answers":[{"comments":[{"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"score":0,"creation_date":1680627039,"post_id":75920850,"comment_id":133928765,"body_markdown":"Thank You so much. It worked! And I kinda understand what&#39;s going on here. Thanks again for the assist.","body":"Thank You so much. It worked! And I kinda understand what&#39;s going on here. Thanks again for the assist."}],"tags":[],"owner":{"account_id":7031093,"reputation":517,"user_id":8772085,"display_name":"Dreamer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680685119,"creation_date":1680533767,"answer_id":75920850,"question_id":75920608,"body_markdown":"You can try this \r\n\r\n \r\n\r\n      public class HomeActivity extends AppCompatActivity {\r\n        VideoView simpleVideoView;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_home);\r\n            videoBackground();\r\n    \r\n        }\r\n    \r\n        public void videoBackground(){\r\n            simpleVideoView = (VideoView) findViewById(R.id.videoView);\r\n            simpleVideoView.setVideoURI(Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.bg_video));\r\n            simpleVideoView.start();\r\n            simpleVideoView.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\r\n                @Override\r\n                public void onPrepared(MediaPlayer mp) {\r\n                    mp.setLooping(true); \r\n                }\r\n            });\r\n        }\r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n            simpleVideoView.start();\r\n        }\r\n        @Override\r\n        protected void onPause() {\r\n            super.onPause();\r\n            simpleVideoView.stopPlayback();\r\n        }\r\n    }","title":"How to replay a video after going back and how to loop the video in background","body":"<p>You can try this</p>\n<pre><code>  public class HomeActivity extends AppCompatActivity {\n    VideoView simpleVideoView;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_home);\n        videoBackground();\n\n    }\n\n    public void videoBackground(){\n        simpleVideoView = (VideoView) findViewById(R.id.videoView);\n        simpleVideoView.setVideoURI(Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.bg_video));\n        simpleVideoView.start();\n        simpleVideoView.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\n            @Override\n            public void onPrepared(MediaPlayer mp) {\n                mp.setLooping(true); \n            }\n        });\n    }\n    @Override\n    protected void onResume() {\n        super.onResume();\n        simpleVideoView.start();\n    }\n    @Override\n    protected void onPause() {\n        super.onPause();\n        simpleVideoView.stopPlayback();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75920850,"answer_count":1,"score":0,"last_activity_date":1680685119,"creation_date":1680532229,"question_id":75920608,"body_markdown":"**First Problem**\r\nI am making a guessing android game using java and I was wondering how can I use a video as the background of the home screen rather than having an image or simple colors? I got the answer of this question from another question here, but I have this new problem now-\r\nThe video is playing in background nicely, but whenever I open another activity and go back to the home screen (where the video was playing) the screen showing black screen. Also when the android goes to sleep mode, I start the phone and same problem again!\r\n\r\n**Second Problem**\r\nHow to loop a video in background, my video is about a minute long, so after a minute the video is getting paused. So, how to loop it?\r\n\r\nMy code is below-\r\n\r\n```\r\npublic class HomeActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home);\r\n        setTitle(&quot;&quot;);\r\n        videoBackground();\r\n    }\r\n\r\n    public void videoBackground(){\r\n        VideoView simpleVideoView = (VideoView) findViewById(R.id.videoView);\r\n        simpleVideoView.setVideoURI(Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.bg_video));\r\n        simpleVideoView.start();\r\n    }\r\npublic void exitGame(View v){\r\n        finish();\r\n        System.exit(0);\r\n    }\r\n\r\n    public void newGame(View v){\r\n        Intent new_game = new Intent(this,ModesActivity.class);\r\n        startActivity(new_game);\r\n    }\r\n\r\n    public void howToPlay(View v){\r\n\r\n    }\r\n```\r\n\r\n\r\nNow I know what&#39;s the problem here but I don&#39;t know the solution. The thing is someone actually answered this question in stack overflow, I am copying the answer here-\r\n\r\nNatureDevil answer and video is great but 2 things are missing first if you click on a button and open a new activity like sing-up and decided to click on back arrow on the device, the home screen will give black screen because the video will not restart so you need to add this\r\n\r\n```\r\n@Override\r\nprotected void onResume() {\r\n    super.onResume();\r\n    // to restart the video after coming from other activity like Sing up\r\n    mVideoView.start();\r\n}\r\n```\r\n\r\nSo, I didn&#39;t understand where to put this specific method. I didn&#39;t understand any of it at all. Due to low reputation, I couldn&#39;t add a comment there. Can you all help me with this?\r\n\r\nThank you for listening.","title":"How to replay a video after going back and how to loop the video in background","body":"<p><strong>First Problem</strong>\nI am making a guessing android game using java and I was wondering how can I use a video as the background of the home screen rather than having an image or simple colors? I got the answer of this question from another question here, but I have this new problem now-\nThe video is playing in background nicely, but whenever I open another activity and go back to the home screen (where the video was playing) the screen showing black screen. Also when the android goes to sleep mode, I start the phone and same problem again!</p>\n<p><strong>Second Problem</strong>\nHow to loop a video in background, my video is about a minute long, so after a minute the video is getting paused. So, how to loop it?</p>\n<p>My code is below-</p>\n<pre><code>public class HomeActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_home);\n        setTitle(&quot;&quot;);\n        videoBackground();\n    }\n\n    public void videoBackground(){\n        VideoView simpleVideoView = (VideoView) findViewById(R.id.videoView);\n        simpleVideoView.setVideoURI(Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.bg_video));\n        simpleVideoView.start();\n    }\npublic void exitGame(View v){\n        finish();\n        System.exit(0);\n    }\n\n    public void newGame(View v){\n        Intent new_game = new Intent(this,ModesActivity.class);\n        startActivity(new_game);\n    }\n\n    public void howToPlay(View v){\n\n    }\n</code></pre>\n<p>Now I know what's the problem here but I don't know the solution. The thing is someone actually answered this question in stack overflow, I am copying the answer here-</p>\n<p>NatureDevil answer and video is great but 2 things are missing first if you click on a button and open a new activity like sing-up and decided to click on back arrow on the device, the home screen will give black screen because the video will not restart so you need to add this</p>\n<pre><code>@Override\nprotected void onResume() {\n    super.onResume();\n    // to restart the video after coming from other activity like Sing up\n    mVideoView.start();\n}\n</code></pre>\n<p>So, I didn't understand where to put this specific method. I didn't understand any of it at all. Due to low reputation, I couldn't add a comment there. Can you all help me with this?</p>\n<p>Thank you for listening.</p>\n"},{"tags":["java","jsp","encryption","zip","archive"],"answers":[{"comments":[{"owner":{"account_id":72682,"reputation":10774,"user_id":209744,"accept_rate":60,"display_name":"PP."},"score":0,"creation_date":1258131516,"post_id":1730313,"comment_id":1610016,"body_markdown":"What software would the client use to decrypt the scrambled ZIP file?","body":"What software would the client use to decrypt the scrambled ZIP file?"},{"owner":{"account_id":13299,"reputation":30181,"user_id":26620,"accept_rate":83,"display_name":"Kevin"},"score":0,"creation_date":1258132198,"post_id":1730313,"comment_id":1610103,"body_markdown":"@PP Don&#39;t think it would be possible to do that with this solution as the file is just an encrypted blob.  The OP indicated that he wanted to control the decryption/unpacking himself, not a 3rd party","body":"@PP Don&#39;t think it would be possible to do that with this solution as the file is just an encrypted blob.  The OP indicated that he wanted to control the decryption/unpacking himself, not a 3rd party"}],"tags":[],"owner":{"account_id":13299,"reputation":30181,"user_id":26620,"accept_rate":83,"display_name":"Kevin"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1258130918,"creation_date":1258129741,"answer_id":1730313,"question_id":1730237,"body_markdown":"If you know how to create a zip file using the [java.util.zip][1] package, you can create a PBE [Cipher][2] and pass that to a CipherOutputStream or a CipherInputStream (depending on if you&#39;re reading or writing).  \r\n\r\nThe following should get you started:\r\n\r\n    public class ZipTest {\r\n        \r\n        public static void main(String [] args) throws Exception {\r\n            String password = &quot;password&quot;;\r\n            write(password);\r\n            read(password);\r\n        }\r\n        \r\n        private static void write(String password) throws Exception {\r\n            OutputStream target = new FileOutputStream(&quot;out.zip&quot;);\r\n            target = new CipherOutputStream(target, createCipher(Cipher.ENCRYPT_MODE, password));\r\n            ZipOutputStream output = new ZipOutputStream(target);\r\n            \r\n            ZipEntry e = new ZipEntry(&quot;filename&quot;);\r\n            output.putNextEntry(e);\r\n            output.write(&quot;helloWorld&quot;.getBytes());\r\n            output.closeEntry();\r\n            \r\n            e = new ZipEntry(&quot;filename1&quot;);\r\n            output.putNextEntry(e);\r\n            output.write(&quot;helloWorld1&quot;.getBytes());\r\n            output.closeEntry();\r\n            \r\n            output.finish();\r\n            output.flush();\r\n        }\r\n        \r\n        private static Cipher createCipher(int mode, String password) throws Exception {\r\n            String alg = &quot;PBEWithSHA1AndDESede&quot;; //BouncyCastle has better algorithms\r\n            PBEKeySpec keySpec = new PBEKeySpec(password.toCharArray());\r\n            SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(alg);\r\n            SecretKey secretKey = keyFactory.generateSecret(keySpec);\r\n            \r\n            Cipher cipher = Cipher.getInstance(&quot;PBEWithSHA1AndDESede&quot;);\r\n            cipher.init(mode, secretKey, new PBEParameterSpec(&quot;saltsalt&quot;.getBytes(), 2000));\r\n            \r\n            return cipher;\r\n        }\r\n        \r\n        private static void read(String password) throws Exception {\r\n            InputStream target = new FileInputStream(&quot;out.zip&quot;);\r\n            target = new CipherInputStream(target, createCipher(Cipher.DECRYPT_MODE, password));\r\n            ZipInputStream input = new ZipInputStream(target);\r\n            ZipEntry entry = input.getNextEntry();\r\n            while (entry != null) {\r\n                System.out.println(&quot;Entry: &quot;+entry.getName());\r\n                System.out.println(&quot;Contents: &quot;+toString(input));\r\n                input.closeEntry();\r\n                entry = input.getNextEntry();\r\n            }\r\n        }\r\n        \r\n        private static String toString(InputStream input) throws Exception {\r\n            byte [] data = new byte[1024];\r\n            StringBuilder result = new StringBuilder();\r\n            \r\n            int bytesRead = input.read(data);\r\n            while (bytesRead != -1) {\r\n                result.append(new String(data, 0, bytesRead));\r\n                bytesRead = input.read(data);\r\n            }\r\n            \r\n            return result.toString();\r\n        } \r\n    }\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/zip/package-summary.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/javax/crypto/Cipher.html","title":"How to Pack/Encrypt/Unpack/Decrypt a bunch of files in Java?","body":"<p>If you know how to create a zip file using the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/zip/package-summary.html\" rel=\"noreferrer\">java.util.zip</a> package, you can create a PBE <a href=\"http://java.sun.com/javase/6/docs/api/javax/crypto/Cipher.html\" rel=\"noreferrer\">Cipher</a> and pass that to a CipherOutputStream or a CipherInputStream (depending on if you're reading or writing).  </p>\n\n<p>The following should get you started:</p>\n\n<pre><code>public class ZipTest {\n\n    public static void main(String [] args) throws Exception {\n        String password = \"password\";\n        write(password);\n        read(password);\n    }\n\n    private static void write(String password) throws Exception {\n        OutputStream target = new FileOutputStream(\"out.zip\");\n        target = new CipherOutputStream(target, createCipher(Cipher.ENCRYPT_MODE, password));\n        ZipOutputStream output = new ZipOutputStream(target);\n\n        ZipEntry e = new ZipEntry(\"filename\");\n        output.putNextEntry(e);\n        output.write(\"helloWorld\".getBytes());\n        output.closeEntry();\n\n        e = new ZipEntry(\"filename1\");\n        output.putNextEntry(e);\n        output.write(\"helloWorld1\".getBytes());\n        output.closeEntry();\n\n        output.finish();\n        output.flush();\n    }\n\n    private static Cipher createCipher(int mode, String password) throws Exception {\n        String alg = \"PBEWithSHA1AndDESede\"; //BouncyCastle has better algorithms\n        PBEKeySpec keySpec = new PBEKeySpec(password.toCharArray());\n        SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(alg);\n        SecretKey secretKey = keyFactory.generateSecret(keySpec);\n\n        Cipher cipher = Cipher.getInstance(\"PBEWithSHA1AndDESede\");\n        cipher.init(mode, secretKey, new PBEParameterSpec(\"saltsalt\".getBytes(), 2000));\n\n        return cipher;\n    }\n\n    private static void read(String password) throws Exception {\n        InputStream target = new FileInputStream(\"out.zip\");\n        target = new CipherInputStream(target, createCipher(Cipher.DECRYPT_MODE, password));\n        ZipInputStream input = new ZipInputStream(target);\n        ZipEntry entry = input.getNextEntry();\n        while (entry != null) {\n            System.out.println(\"Entry: \"+entry.getName());\n            System.out.println(\"Contents: \"+toString(input));\n            input.closeEntry();\n            entry = input.getNextEntry();\n        }\n    }\n\n    private static String toString(InputStream input) throws Exception {\n        byte [] data = new byte[1024];\n        StringBuilder result = new StringBuilder();\n\n        int bytesRead = input.read(data);\n        while (bytesRead != -1) {\n            result.append(new String(data, 0, bytesRead));\n            bytesRead = input.read(data);\n        }\n\n        return result.toString();\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1258130297,"creation_date":1258130297,"answer_id":1730388,"question_id":1730237,"body_markdown":"The answer is already given (use a cipher as Kevin pointed out), so I am only doing a suggestion about an important matter which seems to be missing in your topicstart: ensure that you&#39;re using `HTTPS` instead of `HTTP`. Otherwise one with a network sniffer would be able to get the user-supplied password from the packets. How to do it depends on the appserver in question. Best is to refer its documentation. If it is for example Apache Tomcat, then you can find everything in the [Tomcat SSL HOW-TO][1]. \r\n\r\nHope this helps.\r\n\r\n  [1]: http://tomcat.apache.org/tomcat-6.0-doc/ssl-howto.html","title":"How to Pack/Encrypt/Unpack/Decrypt a bunch of files in Java?","body":"<p>The answer is already given (use a cipher as Kevin pointed out), so I am only doing a suggestion about an important matter which seems to be missing in your topicstart: ensure that you're using <code>HTTPS</code> instead of <code>HTTP</code>. Otherwise one with a network sniffer would be able to get the user-supplied password from the packets. How to do it depends on the appserver in question. Best is to refer its documentation. If it is for example Apache Tomcat, then you can find everything in the <a href=\"http://tomcat.apache.org/tomcat-6.0-doc/ssl-howto.html\" rel=\"nofollow noreferrer\">Tomcat SSL HOW-TO</a>. </p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":72682,"reputation":10774,"user_id":209744,"accept_rate":60,"display_name":"PP."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1258131423,"creation_date":1258131423,"answer_id":1730540,"question_id":1730237,"body_markdown":"Though it may not be specific to your query I wonder if [truecrypt](http://www.truecrypt.org/) could be of use. Your webserver could create an encrypted container into which the zip file would be copied. The encrypted container could then be downloaded. Potentially a little messy however the encryption should be strong and the downloaded image could be mounted on a variety of operating systems.","title":"How to Pack/Encrypt/Unpack/Decrypt a bunch of files in Java?","body":"<p>Though it may not be specific to your query I wonder if <a href=\"http://www.truecrypt.org/\" rel=\"nofollow noreferrer\">truecrypt</a> could be of use. Your webserver could create an encrypted container into which the zip file would be copied. The encrypted container could then be downloaded. Potentially a little messy however the encryption should be strong and the downloaded image could be mounted on a variety of operating systems.</p>\n"},{"comments":[{"owner":{"account_id":13299,"reputation":30181,"user_id":26620,"accept_rate":83,"display_name":"Kevin"},"score":0,"creation_date":1258132534,"post_id":1730641,"comment_id":1610144,"body_markdown":"That is not necessarily true.  If you can provide a pass phrase that gives you 256 or even 192 bits of entropy, you can feed that in to any appropriate block cipher","body":"That is not necessarily true.  If you can provide a pass phrase that gives you 256 or even 192 bits of entropy, you can feed that in to any appropriate block cipher"},{"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"score":0,"creation_date":1258135339,"post_id":1730641,"comment_id":1610435,"body_markdown":"Exactly, &quot;if you can ...&quot; and in most real situations that&#39;s not practical. Estimates on the entropy of English (as a natural language) are as low as 0.6 bits/character, meaning that you&#39;ll need a 430 character long pass phrase for 256 bits of entropy and that&#39;s a little bit more than what I would normally understand as a password.","body":"Exactly, &quot;if you can ...&quot; and in most real situations that&#39;s not practical. Estimates on the entropy of English (as a natural language) are as low as 0.6 bits/character, meaning that you&#39;ll need a 430 character long pass phrase for 256 bits of entropy and that&#39;s a little bit more than what I would normally understand as a password."},{"owner":{"account_id":20025,"reputation":7047,"user_id":47450,"accept_rate":91,"display_name":"DanM"},"score":0,"creation_date":1258550080,"post_id":1730641,"comment_id":1638607,"body_markdown":"Well, sure, if you let people use English words as passwords.  Just put some simple restrictions -- e.g. require at least one capital letter and one special character -- and you gain a lot of entropy.","body":"Well, sure, if you let people use English words as passwords.  Just put some simple restrictions -- e.g. require at least one capital letter and one special character -- and you gain a lot of entropy."}],"tags":[],"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1258132242,"creation_date":1258132242,"answer_id":1730641,"question_id":1730237,"body_markdown":"There are surely a few suggestions here on how to solve your problem, but I&#39;m missing a very big BUT in the responses. You cannot fulfill both &quot;password based&quot; and &quot;strong encryption&quot; for any reasonable definition of &quot;strong encryption&quot;. ","title":"How to Pack/Encrypt/Unpack/Decrypt a bunch of files in Java?","body":"<p>There are surely a few suggestions here on how to solve your problem, but I'm missing a very big BUT in the responses. You cannot fulfill both \"password based\" and \"strong encryption\" for any reasonable definition of \"strong encryption\". </p>\n"}],"owner":{"account_id":20025,"reputation":7047,"user_id":47450,"accept_rate":91,"display_name":"DanM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5685,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":1730313,"answer_count":4,"score":3,"last_activity_date":1680684969,"creation_date":1258128917,"question_id":1730237,"body_markdown":"I&#39;m essentially trying to do the following on a Java/JSP-driven web site:\r\n\r\n- User supplies a password\r\n- Password is used to build a strongly-encrypted archive file (zip, or anything else) containing a text file as well as a number of binary files that are stored on the server.  It&#39;s essentially a backup of the user&#39;s files and settings.\r\n- Later, the user can upload the file, provide the original password, and the site will decrypt and unpack the archive, save the extracted binary files to the appropriate folder on the server, and then read the text file so the site can restore the user&#39;s old settings and metadata about the binary files.\r\n\r\nIt&#39;s the building/encrypting the archive and then extracting its contents that I&#39;m trying to figure out how to do.  I really don&#39;t care about the archive format, other than that it is very secure.\r\n\r\nThe ideal solution to my problem will be very easy to implement, and will require only tried-and-tested libraries with free and nonrestrictive licenses (e.g. apache, berkeley, lgpl).\r\n\r\nI&#39;m aware of the TrueZIP and WinZipAES libraries; the former seems like massive overkill and I can&#39;t tell how stable the latter is... Are there other solutions out there that would work well?","title":"How to Pack/Encrypt/Unpack/Decrypt a bunch of files in Java?","body":"<p>I'm essentially trying to do the following on a Java/JSP-driven web site:</p>\n\n<ul>\n<li>User supplies a password</li>\n<li>Password is used to build a strongly-encrypted archive file (zip, or anything else) containing a text file as well as a number of binary files that are stored on the server.  It's essentially a backup of the user's files and settings.</li>\n<li>Later, the user can upload the file, provide the original password, and the site will decrypt and unpack the archive, save the extracted binary files to the appropriate folder on the server, and then read the text file so the site can restore the user's old settings and metadata about the binary files.</li>\n</ul>\n\n<p>It's the building/encrypting the archive and then extracting its contents that I'm trying to figure out how to do.  I really don't care about the archive format, other than that it is very secure.</p>\n\n<p>The ideal solution to my problem will be very easy to implement, and will require only tried-and-tested libraries with free and nonrestrictive licenses (e.g. apache, berkeley, lgpl).</p>\n\n<p>I'm aware of the TrueZIP and WinZipAES libraries; the former seems like massive overkill and I can't tell how stable the latter is... Are there other solutions out there that would work well?</p>\n"},{"tags":["javascript","java","spring","spring-mvc","jsp"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":1,"creation_date":1680683524,"post_id":75937096,"comment_id":133937952,"body_markdown":"When asking for help, it is good if you provide all information about what the problem is - eg. What error message (and on which line) are you seeing ????   I‚Äôm guessing you are facing a similar issue to this : https://stackoverflow.com/a/23601089/681444","body":"When asking for help, it is good if you provide all information about what the problem is - eg. What error message (and on which line) are you seeing ????   I‚Äôm guessing you are facing a similar issue to this : <a href=\"https://stackoverflow.com/a/23601089/681444\">stackoverflow.com/a/23601089/681444</a>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1680683570,"post_id":75937096,"comment_id":133937964,"body_markdown":"How is `++data` meant to work with a variable of type `String`?","body":"How is <code>++data</code> meant to work with a variable of type <code>String</code>?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1680683623,"post_id":75937096,"comment_id":133937978,"body_markdown":"Also note that there is no Javascript in your snippet at all, so that tag seems to be superfluous.","body":"Also note that there is no Javascript in your snippet at all, so that tag seems to be superfluous."}],"answers":[{"comments":[{"owner":{"account_id":28019375,"reputation":1,"user_id":21400477,"display_name":"Venkatesh Bvr"},"score":0,"creation_date":1680686410,"post_id":75937464,"comment_id":133938634,"body_markdown":"Hi,Thank you for reply . I want to use  &#39;data&#39; variable value in some other logic.based on &#39;data&#39; variable value i have written some other. Can you let me know how to get element.CpReferralDtlsId value in data varible .","body":"Hi,Thank you for reply . I want to use  &#39;data&#39; variable value in some other logic.based on &#39;data&#39; variable value i have written some other. Can you let me know how to get element.CpReferralDtlsId value in data varible ."},{"owner":{"account_id":28220767,"reputation":1,"user_id":21571531,"display_name":"fenzy"},"score":0,"creation_date":1680698846,"post_id":75937464,"comment_id":133941851,"body_markdown":"&lt;%\n String someOtherValue = &quot;&quot;;\n if(data.equals(&quot;123&quot;)) {\n   someOtherValue = &quot;ABC&quot;;\n } else {\n   someOtherValue = &quot;DEF&quot;;\n }\n%&gt;","body":"&lt;%  String someOtherValue = &quot;&quot;;  if(data.equals(&quot;123&quot;)) {    someOtherValue = &quot;ABC&quot;;  } else {    someOtherValue = &quot;DEF&quot;;  } %&gt;"}],"tags":[],"owner":{"account_id":28220767,"reputation":1,"user_id":21571531,"display_name":"fenzy"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680684859,"creation_date":1680684859,"answer_id":75937464,"question_id":75937096,"body_markdown":"    &lt;c:forEach items=&quot;${indentIssueData}&quot; var=&quot;element&quot;&gt;  \r\n    &lt;tr&gt;                          \r\n    &lt;%\r\n     String data = element.getCpReferralDtlsId();\r\n    %&gt;\r\n    &lt;td&gt;&lt;%=++data %&gt;&lt;/td&gt;   \r\n    &lt;/tr&gt;\r\n    &lt;/c:forEach&gt;\r\n\r\nNote that the ${} syntax is used in JSP expressions to evaluate and insert the result of a Java expression into the generated HTML. However, in this case, since we are already inside a scriptlet (&lt;% %&gt;) block, we don&#39;t need to use ${} to reference the element object. We can simply use the variable name directly.\r\n\r\n","title":"how to use jsp ForEach loop element in Scriptlets","body":"<pre><code>&lt;c:forEach items=&quot;${indentIssueData}&quot; var=&quot;element&quot;&gt;  \n&lt;tr&gt;                          \n&lt;%\n String data = element.getCpReferralDtlsId();\n%&gt;\n&lt;td&gt;&lt;%=++data %&gt;&lt;/td&gt;   \n&lt;/tr&gt;\n&lt;/c:forEach&gt;\n</code></pre>\n<p>Note that the ${} syntax is used in JSP expressions to evaluate and insert the result of a Java expression into the generated HTML. However, in this case, since we are already inside a scriptlet (&lt;% %&gt;) block, we don't need to use ${} to reference the element object. We can simply use the variable name directly.</p>\n"}],"owner":{"account_id":28019375,"reputation":1,"user_id":21400477,"display_name":"Venkatesh Bvr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1680707327,"answer_count":1,"score":-1,"last_activity_date":1680684859,"creation_date":1680682308,"question_id":75937096,"body_markdown":"\r\nI want to assign ${element.cpReferralDtlsId} data variable.\r\n\r\n```\r\n\r\n&lt;c:forEach items=&quot;${indentIssueData}&quot; var=&quot;element&quot;&gt;  \r\n&lt;tr&gt;\t\t\t\t\t\t  \r\n&lt;%\r\n String data =  ${element.cpReferralDtlsId};\r\n%&gt;\r\n&lt;td&gt;&lt;%=++data %&gt;&lt;/td&gt;\t\r\n&lt;/tr&gt;\r\n&lt;/c:forEach&gt;`\r\n```","title":"how to use jsp ForEach loop element in Scriptlets","body":"<p>I want to assign ${element.cpReferralDtlsId} data variable.</p>\n<pre><code>\n&lt;c:forEach items=&quot;${indentIssueData}&quot; var=&quot;element&quot;&gt;  \n&lt;tr&gt;                          \n&lt;%\n String data =  ${element.cpReferralDtlsId};\n%&gt;\n&lt;td&gt;&lt;%=++data %&gt;&lt;/td&gt;   \n&lt;/tr&gt;\n&lt;/c:forEach&gt;`\n</code></pre>\n"},{"tags":["java","postgresql","azure-aks","thingsboard"],"owner":{"account_id":21779014,"reputation":41,"user_id":16080960,"display_name":"mianuar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680684851,"creation_date":1680684851,"question_id":75937459,"body_markdown":"I run the script from Azure VM, trying to install with azure/microservices file but keep failing.\r\n\r\n```\r\n  SPRING_JPA_DATABASE_PLATFORM: org.hibernate.dialect.PostgreSQLDialect\r\n  SPRING_DRIVER_CLASS_NAME: org.postgresql.Driver\r\n  SPRING_DATASOURCE_URL: jdbc:postgresql://my-app-postgresql.postgres.database.azure.com:5432/myapp?user=myappusername&amp;password=mypass?sslmode=require\r\n  SPRING_DATASOURCE_USERNAME: myappusername\r\n  SPRING_DATASOURCE_PASSWORD:  mypass\r\n```\r\n\r\nThen I run ./k8s-install-tb.sh, this error pop up:\r\n\r\n&gt;Installing DataBase schema for entities...\r\n\r\n&gt;Installing SQL DataBase schema part: schema-entities.sql\r\n\r\n&gt;Unexpected error during ThingsBoard installation!\r\n\r\n&gt;org.postgresql.util.PSQLException: The connection attempt failed.org.thingsboard.server.service.install.SqlAbstractDatabaseSchemaService.executeQueryFromFil\r\n\r\n&gt;Caused by: java.net.SocketTimeoutException: connect timed out\r\n\r\nHope someone can help me out with this. Thank you in advance!!","title":"Error when installing Thingsboard on Azure AKS - PSQLException: The connection attempt fail","body":"<p>I run the script from Azure VM, trying to install with azure/microservices file but keep failing.</p>\n<pre><code>  SPRING_JPA_DATABASE_PLATFORM: org.hibernate.dialect.PostgreSQLDialect\n  SPRING_DRIVER_CLASS_NAME: org.postgresql.Driver\n  SPRING_DATASOURCE_URL: jdbc:postgresql://my-app-postgresql.postgres.database.azure.com:5432/myapp?user=myappusername&amp;password=mypass?sslmode=require\n  SPRING_DATASOURCE_USERNAME: myappusername\n  SPRING_DATASOURCE_PASSWORD:  mypass\n</code></pre>\n<p>Then I run ./k8s-install-tb.sh, this error pop up:</p>\n<blockquote>\n<p>Installing DataBase schema for entities...</p>\n</blockquote>\n<blockquote>\n<p>Installing SQL DataBase schema part: schema-entities.sql</p>\n</blockquote>\n<blockquote>\n<p>Unexpected error during ThingsBoard installation!</p>\n</blockquote>\n<blockquote>\n<p>org.postgresql.util.PSQLException: The connection attempt failed.org.thingsboard.server.service.install.SqlAbstractDatabaseSchemaService.executeQueryFromFil</p>\n</blockquote>\n<blockquote>\n<p>Caused by: java.net.SocketTimeoutException: connect timed out</p>\n</blockquote>\n<p>Hope someone can help me out with this. Thank you in advance!!</p>\n"},{"tags":["java","android","android-livedata","android-viewmodel","android-fusedlocation"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1591551852,"post_id":62249270,"comment_id":110093296,"body_markdown":"&quot;And a class which extends ViewModel to allow the main activity to reach the LocationLiveData&quot; -- I would not expect that to compile, as [there is no `getApplicationContext()` method in `ViewModel`](https://developer.android.com/reference/androidx/lifecycle/ViewModel). Is `LocationViewModel` perhaps declared as an inner class of something else, like an activity, that does have a `getApplicationContext()` method?","body":"&quot;And a class which extends ViewModel to allow the main activity to reach the LocationLiveData&quot; -- I would not expect that to compile, as <a href=\"https://developer.android.com/reference/androidx/lifecycle/ViewModel\" rel=\"nofollow noreferrer\">there is no <code>getApplicationContext()</code> method in <code>ViewModel</code></a>. Is <code>LocationViewModel</code> perhaps declared as an inner class of something else, like an activity, that does have a <code>getApplicationContext()</code> method?"},{"owner":{"account_id":9652333,"reputation":423,"user_id":7163062,"display_name":"Jaber"},"score":0,"creation_date":1591552791,"post_id":62249270,"comment_id":110093672,"body_markdown":"Thanks @CommonsWare. I&#39;ve edited the post with a more simple test code that doesn&#39;t involve that getApplicationContext() line and I get the same error.\n\nRe: the getApplicationContext, my original approach was to pass a context into the LocationViewModel instead, but I took this out to get a zero-argument constructor. I don&#39;t have any classes other than those stated, and this is my only activity so far!","body":"Thanks @CommonsWare. I&#39;ve edited the post with a more simple test code that doesn&#39;t involve that getApplicationContext() line and I get the same error.  Re: the getApplicationContext, my original approach was to pass a context into the LocationViewModel instead, but I took this out to get a zero-argument constructor. I don&#39;t have any classes other than those stated, and this is my only activity so far!"},{"owner":{"account_id":9652333,"reputation":423,"user_id":7163062,"display_name":"Jaber"},"score":0,"creation_date":1591964141,"post_id":62249270,"comment_id":110260909,"body_markdown":"@CommonsWare - wondering if you could offer one more piece of advice. I&#39;m looking to alter the frequency of location updates based on how close the user is to a given point (dynamically set in the UI). In onMapReady I am observing the LocationLiveData. I thought I could either have a locationRequest LiveData object which is updated by my oberver and is itself observed within LocationLiveData; or my observer could invoke a locationViewModel method which invokes a LocationLiveData method to restart updates with some new parameters. Any idea which (if either) is more robust?","body":"@CommonsWare - wondering if you could offer one more piece of advice. I&#39;m looking to alter the frequency of location updates based on how close the user is to a given point (dynamically set in the UI). In onMapReady I am observing the LocationLiveData. I thought I could either have a locationRequest LiveData object which is updated by my oberver and is itself observed within LocationLiveData; or my observer could invoke a locationViewModel method which invokes a LocationLiveData method to restart updates with some new parameters. Any idea which (if either) is more robust?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1591964676,"post_id":62249270,"comment_id":110261185,"body_markdown":"Sorry, but I guess I do not understand your situation. I recommend that you ask a separate Stack Overflow question, where you can provide more details.","body":"Sorry, but I guess I do not understand your situation. I recommend that you ask a separate Stack Overflow question, where you can provide more details."}],"answers":[{"comments":[{"owner":{"account_id":9652333,"reputation":423,"user_id":7163062,"display_name":"Jaber"},"score":0,"creation_date":1591574697,"post_id":62249578,"comment_id":110100061,"body_markdown":"Thanks so much, this was indeed the issue! Worked for the toy example, and then after a couple of adjustments the real code worked too. As you said, getApplicationContext() didn&#39;t work once I made LocationViewModel a static class, so I gave the LocationViewModel a method called setContext, where in the main code I could just pass it the application context (in case this is useful to anyone).","body":"Thanks so much, this was indeed the issue! Worked for the toy example, and then after a couple of adjustments the real code worked too. As you said, getApplicationContext() didn&#39;t work once I made LocationViewModel a static class, so I gave the LocationViewModel a method called setContext, where in the main code I could just pass it the application context (in case this is useful to anyone)."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1591575099,"post_id":62249578,"comment_id":110100137,"body_markdown":"You could also switch back to `AndroidViewModel`, which handles the case where you need a `Context`. In particular, it forces you to use the `Application` as the `Context`, preventing you from accidentally using the `Activity` as the `Context` and causing a memory leak. But, regardless, I&#39;m glad that it is working for you!","body":"You could also switch back to <code>AndroidViewModel</code>, which handles the case where you need a <code>Context</code>. In particular, it forces you to use the <code>Application</code> as the <code>Context</code>, preventing you from accidentally using the <code>Activity</code> as the <code>Context</code> and causing a memory leak. But, regardless, I&#39;m glad that it is working for you!"}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1591552976,"creation_date":1591552976,"answer_id":62249578,"question_id":62249270,"body_markdown":"Either:\r\n\r\n- Move `MyViewModel` to a separate Java file, or\r\n\r\n- Make `MyViewModel` be a `static class`\r\n\r\nRight now, you have defined `MyViewModel` as an inner class of `MainActivity`. That will not work, as only an instance of `MainActivity` can create an instance of `MyViewModel`. In particular, `ViewModelProvider` cannot create an instance of `MyViewModel`.\r\n","title":"ViewModel has no zero argument constructor error - even when it has a zero argument constructor","body":"<p>Either:</p>\n\n<ul>\n<li><p>Move <code>MyViewModel</code> to a separate Java file, or</p></li>\n<li><p>Make <code>MyViewModel</code> be a <code>static class</code></p></li>\n</ul>\n\n<p>Right now, you have defined <code>MyViewModel</code> as an inner class of <code>MainActivity</code>. That will not work, as only an instance of <code>MainActivity</code> can create an instance of <code>MyViewModel</code>. In particular, <code>ViewModelProvider</code> cannot create an instance of <code>MyViewModel</code>.</p>\n"},{"comments":[{"owner":{"account_id":9652333,"reputation":423,"user_id":7163062,"display_name":"Jaber"},"score":0,"creation_date":1591574837,"post_id":62249588,"comment_id":110100085,"body_markdown":"Thanks, making MyViewModel a static class fixed the issue. I didn&#39;t really know what the static keyword meant so thanks for the explanation!","body":"Thanks, making MyViewModel a static class fixed the issue. I didn&#39;t really know what the static keyword meant so thanks for the explanation!"}],"tags":[],"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1591553002,"creation_date":1591553002,"answer_id":62249588,"question_id":62249270,"body_markdown":"When you write\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n        public class MyViewModel extends ViewModel {\r\n           public int scoreTeamA = 0;\r\n        }\r\n    }\r\n\r\nThis makes `MyViewModel` an inner class of `MainActivity`, meaning it has an implicit reference to the outer class (as per the [Java documentation][1]) and cannot be constructed separately from `MainActivity`. This effectively means that in bytecode, its constructor always takes an instance of `MainActivity` - even if you don&#39;t write out that constructor.\r\n\r\nYou can make your inner class a static nested class by adding the `static` keyword. This removes the implicit reference to the outer class and makes it similar to any other top level class:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n        public static class MyViewModel extends ViewModel {\r\n           public int scoreTeamA = 0;\r\n        }\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html","title":"ViewModel has no zero argument constructor error - even when it has a zero argument constructor","body":"<p>When you write</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    public class MyViewModel extends ViewModel {\n       public int scoreTeamA = 0;\n    }\n}\n</code></pre>\n\n<p>This makes <code>MyViewModel</code> an inner class of <code>MainActivity</code>, meaning it has an implicit reference to the outer class (as per the <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"nofollow noreferrer\">Java documentation</a>) and cannot be constructed separately from <code>MainActivity</code>. This effectively means that in bytecode, its constructor always takes an instance of <code>MainActivity</code> - even if you don't write out that constructor.</p>\n\n<p>You can make your inner class a static nested class by adding the <code>static</code> keyword. This removes the implicit reference to the outer class and makes it similar to any other top level class:</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    public static class MyViewModel extends ViewModel {\n       public int scoreTeamA = 0;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4275999,"reputation":34098,"user_id":3496570,"accept_rate":39,"display_name":"Zar E Ahmer"},"comment_count":0,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1598736805,"creation_date":1598736805,"answer_id":63651986,"question_id":62249270,"body_markdown":"&gt;**while using hilt I am facing the same issue when I forgot to add** \r\n\r\n    @AndroidEntryPoint\r\n\r\nabove the **activity declaration**","title":"ViewModel has no zero argument constructor error - even when it has a zero argument constructor","body":"<blockquote>\n<p><strong>while using hilt I am facing the same issue when I forgot to add</strong></p>\n</blockquote>\n<pre><code>@AndroidEntryPoint\n</code></pre>\n<p>above the <strong>activity declaration</strong></p>\n"},{"tags":[],"owner":{"account_id":9809771,"reputation":6806,"user_id":10699119,"display_name":"Sana Ebadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605979014,"creation_date":1605979014,"answer_id":64945879,"question_id":62249270,"body_markdown":"in my case did forget to add \r\n`HasSupportFragmentInjector` to my `Activity` !!!\r\n\r\n    public class MainActivity extends AppComaptActivity\r\n            implements HasSupportFragmentInjector{\r\n\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        AndroidInjection.inject(this);\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    \r\n        @Inject\r\n        DispatchingAndroidInjector&lt;Fragment&gt; fragmentDispatchingAndroidInjector;\r\n    \r\n    \r\n        @Override\r\n        public AndroidInjector&lt;Fragment&gt; supportFragmentInjector() {\r\n            return fragmentDispatchingAndroidInjector;\r\n        }\r\n    }\r\n\r\n","title":"ViewModel has no zero argument constructor error - even when it has a zero argument constructor","body":"<p>in my case did forget to add\n<code>HasSupportFragmentInjector</code> to my <code>Activity</code> !!!</p>\n<pre><code>public class MainActivity extends AppComaptActivity\n        implements HasSupportFragmentInjector{\n\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    AndroidInjection.inject(this);\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    @Inject\n    DispatchingAndroidInjector&lt;Fragment&gt; fragmentDispatchingAndroidInjector;\n\n\n    @Override\n    public AndroidInjector&lt;Fragment&gt; supportFragmentInjector() {\n        return fragmentDispatchingAndroidInjector;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14542256,"reputation":348,"user_id":10503567,"display_name":"Maruf Alam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680684729,"creation_date":1680684729,"answer_id":75937442,"question_id":62249270,"body_markdown":"if you using hilt. You seem to have forgotten to mention the annotation &quot;@AndroidEntryPoint&quot; in the class. This mistake happened in my case too.\r\n\r\n  \r\n\r\n     @AndroidEntryPoint\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JUHtO.png","title":"ViewModel has no zero argument constructor error - even when it has a zero argument constructor","body":"<p>if you using hilt. You seem to have forgotten to mention the annotation &quot;@AndroidEntryPoint&quot; in the class. This mistake happened in my case too.</p>\n<pre><code> @AndroidEntryPoint\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JUHtO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JUHtO.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":9652333,"reputation":423,"user_id":7163062,"display_name":"Jaber"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7762,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62249578,"answer_count":5,"score":4,"last_activity_date":1680684729,"creation_date":1591551601,"question_id":62249270,"body_markdown":"I&#39;m new to Android and Java and am trying to make a location-based app.\r\n\r\n**EDIT**\r\n\r\nI&#39;ve made a much, much simpler test code and get the same error. Here&#39;s the java:\r\n\r\n    package com.example.viewmodeltest;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.lifecycle.ViewModel;\r\n    import androidx.lifecycle.ViewModelProvider;\r\n    \r\n    import android.os.Bundle;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        public class MyViewModel extends ViewModel {\r\n            public int scoreTeamA = 0;\r\n        }\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            MyViewModel locationViewModel = new ViewModelProvider(this).get(MyViewModel.class);\r\n        }\r\n    }\r\nI get the same error. Here are the dependencies in my app-level build.gradle:\r\n\r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n    \r\n        //dependencies for ViewModel, LiveData, etc.\r\n        def lifecycle_version = &quot;2.2.0&quot;\r\n        def arch_version = &quot;2.1.0&quot;\r\n    \r\n        // ViewModel\r\n        implementation &quot;androidx.lifecycle:lifecycle-viewmodel:$lifecycle_version&quot;\r\n        // LiveData\r\n        implementation &quot;androidx.lifecycle:lifecycle-livedata:$lifecycle_version&quot;\r\n        // Lifecycles only (without ViewModel or LiveData)\r\n        implementation &quot;androidx.lifecycle:lifecycle-runtime:$lifecycle_version&quot;\r\n        // Saved state module for ViewModel\r\n        implementation &quot;androidx.lifecycle:lifecycle-viewmodel-savedstate:$lifecycle_version&quot;\r\n        // Annotation processor\r\n        annotationProcessor &quot;androidx.lifecycle:lifecycle-compiler:$lifecycle_version&quot;\r\n    }\r\n\r\n\r\n\r\n**ORIGINAL POST**\r\n\r\nI&#39;m attempting to use ViewModel and LiveData to update the user location as I understand that&#39;s the best way to be lifecycle-aware. I have a default maps activity...\r\n\r\n    public class MapsActivity extends AppCompatActivity implements OnMapReadyCallback {...}\r\n\r\nA class which extends LiveData to store the user location...\r\n\r\n    public class LocationLiveData extends LiveData&lt;Location&gt; {\r\n            private final Context context;\r\n            private FusedLocationProviderClient fusedLocationClient;\r\n            private LocationRequest locationRequest;\r\n    \r\n            public LocationLiveData(Context context) {\r\n                this.context = context;\r\n                this.fusedLocationClient = LocationServices.getFusedLocationProviderClient(context);\r\n            }\r\n    \r\n            private void setLocationData(Location location) {\r\n                Location value = new Location(&quot;SetInternal&quot;);\r\n                value.setLatitude(location.getLatitude());\r\n                value.setLongitude(location.getLongitude());\r\n                setValue(value);\r\n            }\r\n    \r\n            protected void createLocationRequest() {\r\n                LocationRequest locationRequest = LocationRequest.create();\r\n                locationRequest.setInterval(1000);\r\n                locationRequest.setFastestInterval(500);\r\n                locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n            }\r\n    \r\n            private LocationCallback locationCallback = new LocationCallback() {\r\n                @Override\r\n                public void onLocationResult(LocationResult locationResult) {\r\n                    if (locationResult == null) {\r\n                        return;\r\n                    }\r\n                    for (Location location : locationResult.getLocations()) {\r\n                        setLocationData(location);\r\n                    }\r\n                }\r\n            };\r\n    \r\n            private void startLocationUpdates() {\r\n                createLocationRequest();\r\n                fusedLocationClient.requestLocationUpdates(locationRequest,\r\n                        locationCallback,\r\n                        Looper.getMainLooper());\r\n            }\r\n    \r\n            @Override\r\n            protected void onInactive() {\r\n                super.onInactive();\r\n                fusedLocationClient.removeLocationUpdates(locationCallback);\r\n            }\r\n    \r\n            @Override\r\n            protected void onActive() {\r\n                super.onActive();\r\n                fusedLocationClient.getLastLocation()\r\n                        .addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\r\n                            @Override\r\n                            public void onSuccess(Location location) {\r\n                                if (location != null)\r\n                                    setValue(location);\r\n                            }\r\n                        });\r\n                startLocationUpdates();\r\n            }\r\n        }\r\n\r\nAnd a class which extends ViewModel to allow the main activity to reach the LocationLiveData.\r\n   \r\n\r\n     public class LocationViewModel extends ViewModel {\r\n            private LocationLiveData locationLiveData;\r\n    \r\n            public LocationViewModel () {\r\n                locationLiveData = new LocationLiveData(getApplicationContext());\r\n            }\r\n    \r\n            public LocationLiveData getLocationLiveData() {\r\n                return locationLiveData;\r\n            }\r\n        }\r\n\r\nThen when I attempt to make an instance of locationViewModel in the onMapReady method:\r\n\r\n    LocationViewModel locationViewModel = new ViewModelProvider(this).get(LocationViewModel.class);\r\n\r\nI get an error on that line:\r\n&gt; Cannot create an instance of class com.example.MapsActivity$LocationViewModel\r\n\r\n&gt; Caused by: java.lang.InstantiationException: java.lang.Class&lt;com.fluff.streetpuzzle.MapsActivity$LocationViewModel&gt; has no zero argument constructor\r\n\r\nI get this error even if I take out the constructor entirely in locationViewModel, and also if I attempt to extend AndroidViewModel instead.\r\n\r\nAny ideas? I&#39;ve seen other similar queries but the answer has always been to take arguments out of the constructor - which I&#39;ve already done!\r\n\r\nThanks a lot for any  help\r\n","title":"ViewModel has no zero argument constructor error - even when it has a zero argument constructor","body":"<p>I'm new to Android and Java and am trying to make a location-based app.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I've made a much, much simpler test code and get the same error. Here's the java:</p>\n\n<pre><code>package com.example.viewmodeltest;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.lifecycle.ViewModel;\nimport androidx.lifecycle.ViewModelProvider;\n\nimport android.os.Bundle;\n\npublic class MainActivity extends AppCompatActivity {\n\n    public class MyViewModel extends ViewModel {\n        public int scoreTeamA = 0;\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        MyViewModel locationViewModel = new ViewModelProvider(this).get(MyViewModel.class);\n    }\n}\n</code></pre>\n\n<p>I get the same error. Here are the dependencies in my app-level build.gradle:</p>\n\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n\n    //dependencies for ViewModel, LiveData, etc.\n    def lifecycle_version = \"2.2.0\"\n    def arch_version = \"2.1.0\"\n\n    // ViewModel\n    implementation \"androidx.lifecycle:lifecycle-viewmodel:$lifecycle_version\"\n    // LiveData\n    implementation \"androidx.lifecycle:lifecycle-livedata:$lifecycle_version\"\n    // Lifecycles only (without ViewModel or LiveData)\n    implementation \"androidx.lifecycle:lifecycle-runtime:$lifecycle_version\"\n    // Saved state module for ViewModel\n    implementation \"androidx.lifecycle:lifecycle-viewmodel-savedstate:$lifecycle_version\"\n    // Annotation processor\n    annotationProcessor \"androidx.lifecycle:lifecycle-compiler:$lifecycle_version\"\n}\n</code></pre>\n\n<p><strong>ORIGINAL POST</strong></p>\n\n<p>I'm attempting to use ViewModel and LiveData to update the user location as I understand that's the best way to be lifecycle-aware. I have a default maps activity...</p>\n\n<pre><code>public class MapsActivity extends AppCompatActivity implements OnMapReadyCallback {...}\n</code></pre>\n\n<p>A class which extends LiveData to store the user location...</p>\n\n<pre><code>public class LocationLiveData extends LiveData&lt;Location&gt; {\n        private final Context context;\n        private FusedLocationProviderClient fusedLocationClient;\n        private LocationRequest locationRequest;\n\n        public LocationLiveData(Context context) {\n            this.context = context;\n            this.fusedLocationClient = LocationServices.getFusedLocationProviderClient(context);\n        }\n\n        private void setLocationData(Location location) {\n            Location value = new Location(\"SetInternal\");\n            value.setLatitude(location.getLatitude());\n            value.setLongitude(location.getLongitude());\n            setValue(value);\n        }\n\n        protected void createLocationRequest() {\n            LocationRequest locationRequest = LocationRequest.create();\n            locationRequest.setInterval(1000);\n            locationRequest.setFastestInterval(500);\n            locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n        }\n\n        private LocationCallback locationCallback = new LocationCallback() {\n            @Override\n            public void onLocationResult(LocationResult locationResult) {\n                if (locationResult == null) {\n                    return;\n                }\n                for (Location location : locationResult.getLocations()) {\n                    setLocationData(location);\n                }\n            }\n        };\n\n        private void startLocationUpdates() {\n            createLocationRequest();\n            fusedLocationClient.requestLocationUpdates(locationRequest,\n                    locationCallback,\n                    Looper.getMainLooper());\n        }\n\n        @Override\n        protected void onInactive() {\n            super.onInactive();\n            fusedLocationClient.removeLocationUpdates(locationCallback);\n        }\n\n        @Override\n        protected void onActive() {\n            super.onActive();\n            fusedLocationClient.getLastLocation()\n                    .addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\n                        @Override\n                        public void onSuccess(Location location) {\n                            if (location != null)\n                                setValue(location);\n                        }\n                    });\n            startLocationUpdates();\n        }\n    }\n</code></pre>\n\n<p>And a class which extends ViewModel to allow the main activity to reach the LocationLiveData.</p>\n\n<pre><code> public class LocationViewModel extends ViewModel {\n        private LocationLiveData locationLiveData;\n\n        public LocationViewModel () {\n            locationLiveData = new LocationLiveData(getApplicationContext());\n        }\n\n        public LocationLiveData getLocationLiveData() {\n            return locationLiveData;\n        }\n    }\n</code></pre>\n\n<p>Then when I attempt to make an instance of locationViewModel in the onMapReady method:</p>\n\n<pre><code>LocationViewModel locationViewModel = new ViewModelProvider(this).get(LocationViewModel.class);\n</code></pre>\n\n<p>I get an error on that line:</p>\n\n<blockquote>\n  <p>Cannot create an instance of class com.example.MapsActivity$LocationViewModel</p>\n  \n  <p>Caused by: java.lang.InstantiationException: java.lang.Class has no zero argument constructor</p>\n</blockquote>\n\n<p>I get this error even if I take out the constructor entirely in locationViewModel, and also if I attempt to extend AndroidViewModel instead.</p>\n\n<p>Any ideas? I've seen other similar queries but the answer has always been to take arguments out of the constructor - which I've already done!</p>\n\n<p>Thanks a lot for any  help</p>\n"},{"tags":["java","spring-boot","tomcat","tls1.2","tls1.3"],"comments":[{"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"score":0,"creation_date":1612095131,"post_id":64182147,"comment_id":116653944,"body_markdown":"Can you specify the version of Java and Spring Boot you use?","body":"Can you specify the version of Java and Spring Boot you use?"},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1612104018,"post_id":64182147,"comment_id":116656386,"body_markdown":"Java 11 and SpringBoot 2.4.2","body":"Java 11 and SpringBoot 2.4.2"}],"answers":[{"comments":[{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":1,"creation_date":1612215420,"post_id":65979678,"comment_id":116692597,"body_markdown":"Very clear answer, upvoted. Its just on my side, maybe I don&#39;t understand it fully. You are correct, if I set the server with  server.ssl.client-auth=NEED + server.ssl.enabled-protocols=TLSv1.3, the error disappears! (upvote). However, the requirement I got from my teams is to leave one way TLS server.ssl.client-auth=WANT + server.ssl.enabled-protocols=TLSv1.3, in which the message still stays. But I am reading thought the documentations linked","body":"Very clear answer, upvoted. Its just on my side, maybe I don&#39;t understand it fully. You are correct, if I set the server with  server.ssl.client-auth=NEED + server.ssl.enabled-protocols=TLSv1.3, the error disappears! (upvote). However, the requirement I got from my teams is to leave one way TLS server.ssl.client-auth=WANT + server.ssl.enabled-protocols=TLSv1.3, in which the message still stays. But I am reading thought the documentations linked"},{"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"score":0,"creation_date":1612219855,"post_id":65979678,"comment_id":116693932,"body_markdown":"Thanks. Using server.ssl.client-auth=NEED + server.ssl.enabled-protocols=TLSv1.3, is not possible with JSSE. This is the reason of the warning. If you want to fulfill your requirements you will have to choose another implementation. See my updated answer.","body":"Thanks. Using server.ssl.client-auth=NEED + server.ssl.enabled-protocols=TLSv1.3, is not possible with JSSE. This is the reason of the warning. If you want to fulfill your requirements you will have to choose another implementation. See my updated answer."}],"tags":[],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1680684459,"creation_date":1612099863,"answer_id":65979678,"question_id":64182147,"body_markdown":"Post-Handshake Client Authentication is a TLSv1.3 extension defined in [RFC8446](https://www.rfc-editor.org/rfc/rfc8446#section-4.6.2). But OpenJDK doesn&#39;t implement it and will not implement it. The [corresponding issue](https://bugs.openjdk.java.net/browse/JDK-8206923) is marked as &quot;Won&#39;t fix&quot;.\r\n\r\nThe warning is emitted by Tomcat in [SSLUtilBase.java](https://github.com/apache/tomcat/blob/681f2afccc2f22ff5fc3d80ad7e77dbeecd083b2/java/org/apache/tomcat/util/net/SSLUtilBase.java)\r\n\r\n    if (enabledProtocols.contains(Constants.SSL_PROTO_TLSv1_3) &amp;&amp;\r\n            sslHostConfig.getCertificateVerification() == CertificateVerification.OPTIONAL &amp;&amp;\r\n            !isTls13RenegAuthAvailable() &amp;&amp; warnTls13) {\r\n        log.warn(sm.getString(&quot;sslUtilBase.tls13.auth&quot;));\r\n    }\r\n\r\nThe `isTls13RenegAuthAvailable()` method is defined in [JSSEUtil.java](https://github.com/apache/tomcat/blob/681f2afccc2f22ff5fc3d80ad7e77dbeecd083b2/java/org/apache/tomcat/util/net/jsse/JSSEUtil.java)\r\n\r\n\r\n    @Override\r\n    protected boolean isTls13RenegAuthAvailable() {\r\n        // TLS 1.3 does not support authentication after the initial handshake\r\n        return false;\r\n    }\r\n\r\nTo remove this warning you can either set [CertificateVerification](https://tomcat.apache.org/tomcat-9.0-doc/config/http.html#SSL_Support_-_SSLHostConfig) in Tomcat&#39;s SSLHostConfig to `NONE` or to `REQUIRED`. You can do it through the Spring Boot property [server.ssl.client-auth](https://docs.spring.io/spring-boot/docs/2.4.2/reference/htmlsingle/#server.ssl.client-auth) which take the values `NONE`, `WANT` and `NEED`.\r\n\r\nIf you don&#39;t use client certificates, set it to `NONE`. If you use client certificates, check that each client can authenticate itself correctly with the `NEED` value. If you leave it as it, the only risk is that client that use post-handshake authentication will not be able to authenticate.\r\n\r\nIf you really need post-handshake client authentication, you will have to use another TLS implementation than [JSSE](https://docs.oracle.com/en/java/javase/11/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-93DEEE16-0B70-40E5-BBE7-55C3FD432345). You can either use a reverse proxy such as [Apache](https://httpd.apache.org/), [NGINX](https://www.nginx.com/), [Traefik](https://traefik.io/traefik/) or use [Tomcat‚Äôs native](http://tomcat.apache.org/native-doc/) bindings for [APR](https://tomcat.apache.org/tomcat-9.0-doc/apr.html)/[OpenSSL](https://www.openssl.org/). There is an interesting article you can read about this: [Tomcat Native / OpenSSL in Spring Boot 2.0](https://medium.com/@crueda/tomcat-native-openssl-in-spring-boot-2-0-a341ad07471d)\r\n\r\n== Update 5th April 2023 ==\r\n\r\nAfter a [message](https://mail.openjdk.org/pipermail/security-dev/2022-August/031568.html) on the OpenJDK security-dev mailing list, the [OpenJDK issue](https://bugs.openjdk.java.net/browse/JDK-8206923) has been reopened and the &quot;Won&#39;t fix&quot; label has been removed. But the TLS 1.3 Post-handshake authentication is still not implemented in the OpenJDK.","title":"SpringBoot MVC - Warning: org.apache.tomcat.util.net.SSLUtilBase : The JSSE TLS 1.3 implementation does not support authentication","body":"<p>Post-Handshake Client Authentication is a TLSv1.3 extension defined in <a href=\"https://www.rfc-editor.org/rfc/rfc8446#section-4.6.2\" rel=\"nofollow noreferrer\">RFC8446</a>. But OpenJDK doesn't implement it and will not implement it. The <a href=\"https://bugs.openjdk.java.net/browse/JDK-8206923\" rel=\"nofollow noreferrer\">corresponding issue</a> is marked as &quot;Won't fix&quot;.</p>\n<p>The warning is emitted by Tomcat in <a href=\"https://github.com/apache/tomcat/blob/681f2afccc2f22ff5fc3d80ad7e77dbeecd083b2/java/org/apache/tomcat/util/net/SSLUtilBase.java\" rel=\"nofollow noreferrer\">SSLUtilBase.java</a></p>\n<pre><code>if (enabledProtocols.contains(Constants.SSL_PROTO_TLSv1_3) &amp;&amp;\n        sslHostConfig.getCertificateVerification() == CertificateVerification.OPTIONAL &amp;&amp;\n        !isTls13RenegAuthAvailable() &amp;&amp; warnTls13) {\n    log.warn(sm.getString(&quot;sslUtilBase.tls13.auth&quot;));\n}\n</code></pre>\n<p>The <code>isTls13RenegAuthAvailable()</code> method is defined in <a href=\"https://github.com/apache/tomcat/blob/681f2afccc2f22ff5fc3d80ad7e77dbeecd083b2/java/org/apache/tomcat/util/net/jsse/JSSEUtil.java\" rel=\"nofollow noreferrer\">JSSEUtil.java</a></p>\n<pre><code>@Override\nprotected boolean isTls13RenegAuthAvailable() {\n    // TLS 1.3 does not support authentication after the initial handshake\n    return false;\n}\n</code></pre>\n<p>To remove this warning you can either set <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/http.html#SSL_Support_-_SSLHostConfig\" rel=\"nofollow noreferrer\">CertificateVerification</a> in Tomcat's SSLHostConfig to <code>NONE</code> or to <code>REQUIRED</code>. You can do it through the Spring Boot property <a href=\"https://docs.spring.io/spring-boot/docs/2.4.2/reference/htmlsingle/#server.ssl.client-auth\" rel=\"nofollow noreferrer\">server.ssl.client-auth</a> which take the values <code>NONE</code>, <code>WANT</code> and <code>NEED</code>.</p>\n<p>If you don't use client certificates, set it to <code>NONE</code>. If you use client certificates, check that each client can authenticate itself correctly with the <code>NEED</code> value. If you leave it as it, the only risk is that client that use post-handshake authentication will not be able to authenticate.</p>\n<p>If you really need post-handshake client authentication, you will have to use another TLS implementation than <a href=\"https://docs.oracle.com/en/java/javase/11/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-93DEEE16-0B70-40E5-BBE7-55C3FD432345\" rel=\"nofollow noreferrer\">JSSE</a>. You can either use a reverse proxy such as <a href=\"https://httpd.apache.org/\" rel=\"nofollow noreferrer\">Apache</a>, <a href=\"https://www.nginx.com/\" rel=\"nofollow noreferrer\">NGINX</a>, <a href=\"https://traefik.io/traefik/\" rel=\"nofollow noreferrer\">Traefik</a> or use <a href=\"http://tomcat.apache.org/native-doc/\" rel=\"nofollow noreferrer\">Tomcat‚Äôs native</a> bindings for <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/apr.html\" rel=\"nofollow noreferrer\">APR</a>/<a href=\"https://www.openssl.org/\" rel=\"nofollow noreferrer\">OpenSSL</a>. There is an interesting article you can read about this: <a href=\"https://medium.com/@crueda/tomcat-native-openssl-in-spring-boot-2-0-a341ad07471d\" rel=\"nofollow noreferrer\">Tomcat Native / OpenSSL in Spring Boot 2.0</a></p>\n<p>== Update 5th April 2023 ==</p>\n<p>After a <a href=\"https://mail.openjdk.org/pipermail/security-dev/2022-August/031568.html\" rel=\"nofollow noreferrer\">message</a> on the OpenJDK security-dev mailing list, the <a href=\"https://bugs.openjdk.java.net/browse/JDK-8206923\" rel=\"nofollow noreferrer\">OpenJDK issue</a> has been reopened and the &quot;Won't fix&quot; label has been removed. But the TLS 1.3 Post-handshake authentication is still not implemented in the OpenJDK.</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4034,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":65979678,"answer_count":1,"score":9,"last_activity_date":1680684459,"creation_date":1601713014,"question_id":64182147,"body_markdown":"A question about Spring Boot MVC with Tomcat and TLSv1.3\r\n\r\nI used to have a Spring Boot MVC, Tomcat based web app, with very simple business logic, over ssl HTTPS.\r\n\r\nPer security team review, I had to bump the TLS version from TLSv1.2 to TLSv1.3.\r\n\r\nThought is was very simple and could easily complete this task, I went to change my property:\r\n\r\n```\r\nserver.ssl.enabled-protocols=TLSv1.2\r\n```\r\n\r\nto\r\n\r\n```\r\nserver.ssl.enabled-protocols=TLSv1.3\r\n```\r\n\r\nHowever, since then, I am getting this on each application start up:\r\n\r\norg.apache.tomcat.util.net.SSLUtilBase   : The JSSE TLS 1.3 implementation does not support authentication after the initial handshake and is therefore incompatible with optional client authentication\r\n\r\nWhat does it mean please?\r\n\r\nIs it &quot;dangerous&quot;?\r\n\r\nHow to fix it please?\r\n\r\nThank you","title":"SpringBoot MVC - Warning: org.apache.tomcat.util.net.SSLUtilBase : The JSSE TLS 1.3 implementation does not support authentication","body":"<p>A question about Spring Boot MVC with Tomcat and TLSv1.3</p>\n<p>I used to have a Spring Boot MVC, Tomcat based web app, with very simple business logic, over ssl HTTPS.</p>\n<p>Per security team review, I had to bump the TLS version from TLSv1.2 to TLSv1.3.</p>\n<p>Thought is was very simple and could easily complete this task, I went to change my property:</p>\n<pre><code>server.ssl.enabled-protocols=TLSv1.2\n</code></pre>\n<p>to</p>\n<pre><code>server.ssl.enabled-protocols=TLSv1.3\n</code></pre>\n<p>However, since then, I am getting this on each application start up:</p>\n<p>org.apache.tomcat.util.net.SSLUtilBase   : The JSSE TLS 1.3 implementation does not support authentication after the initial handshake and is therefore incompatible with optional client authentication</p>\n<p>What does it mean please?</p>\n<p>Is it &quot;dangerous&quot;?</p>\n<p>How to fix it please?</p>\n<p>Thank you</p>\n"},{"tags":["java","spring-boot","microservices","spring-cloud","hashicorp-vault"],"comments":[{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680607597,"post_id":75928497,"comment_id":133923409,"body_markdown":"@seenukarthi  do you have an idea about the question besides formatting bullets?","body":"@seenukarthi  do you have an idea about the question besides formatting bullets?"}],"answers":[{"comments":[{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680610900,"post_id":75929222,"comment_id":133924318,"body_markdown":"Many thanks for help. Then, if we don&#39;t use k8 or OpenShift, then we should pass the tokens for Vault via environment variables **for both, dev and prod**, right?","body":"Many thanks for help. Then, if we don&#39;t use k8 or OpenShift, then we should pass the tokens for Vault via environment variables <b>for both, dev and prod</b>, right?"},{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680610951,"post_id":75929222,"comment_id":133924331,"body_markdown":"On the other hand, the link seems to be useful, but its date is old (June 24, 2016) and I am wondering if there is an updated version of this original article. Any idea?","body":"On the other hand, the link seems to be useful, but its date is old (June 24, 2016) and I am wondering if there is an updated version of this original article. Any idea?"},{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680613669,"post_id":75929222,"comment_id":133925065,"body_markdown":"by the way, cannot vote up. any vote up please for the question?","body":"by the way, cannot vote up. any vote up please for the question?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680613927,"post_id":75929222,"comment_id":133925125,"body_markdown":"Yes, different vault tokens (and probably) for each environment. Article may be old but it still works like this today in my vault, spring, k8 environments.","body":"Yes, different vault tokens (and probably) for each environment. Article may be old but it still works like this today in my vault, spring, k8 environments."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680614429,"post_id":75929222,"comment_id":133925275,"body_markdown":"*and probably URLs for each environment","body":"*and probably URLs for each environment"},{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680615010,"post_id":75929222,"comment_id":133925425,"body_markdown":"Wonderful... Voted up and marked as answer.","body":"Wonderful... Voted up and marked as answer."},{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680615012,"post_id":75929222,"comment_id":133925426,"body_markdown":"Actually I am looking for a proper example that is using Docker with proper config, but unfortunately could not find. Do you have any idea fr a proper example besides the one you shared above?","body":"Actually I am looking for a proper example that is using Docker with proper config, but unfortunately could not find. Do you have any idea fr a proper example besides the one you shared above?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680684496,"post_id":75929222,"comment_id":133938183,"body_markdown":"I have added a snippet of dc template that we use to pick up the vault token etc from secrets","body":"I have added a snippet of dc template that we use to pick up the vault token etc from secrets"},{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680684884,"post_id":75929222,"comment_id":133938280,"body_markdown":"Thanks  a lot. I am wondering how should I secure the token that is used for accessing vault. Normally I use it in an `.env` file, but when sending the app in production mode to the customer, should I make them to update the token and proceed (the token in the .env file will be used bot in Docker compose and in the app). Normally I ignore .env file, for this reason I am confused about how should I proceed?","body":"Thanks  a lot. I am wondering how should I secure the token that is used for accessing vault. Normally I use it in an <code>.env</code> file, but when sending the app in production mode to the customer, should I make them to update the token and proceed (the token in the .env file will be used bot in Docker compose and in the app). Normally I ignore .env file, for this reason I am confused about how should I proceed?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680686073,"post_id":75929222,"comment_id":133938577,"body_markdown":"Put the vault token in the cluster management (k8 or OpenShift) secrets store, never in .env. Hence valueFrom.secretKeyRef.name=global-secrets and valueFrom.secretKeyRef.key=vaulttoken","body":"Put the vault token in the cluster management (k8 or OpenShift) secrets store, never in .env. Hence valueFrom.secretKeyRef.name=global-secrets and valueFrom.secretKeyRef.key=vaulttoken"},{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680689991,"post_id":75929222,"comment_id":133939502,"body_markdown":"Ok, finally you have changed my mind to a proper way. But IU am not sure which one could be integrated more easily. So, for just a simple app to learn Spring Cloud Vault, which one should I prefer to keep vault token? k8 or OpenShift?","body":"Ok, finally you have changed my mind to a proper way. But IU am not sure which one could be integrated more easily. So, for just a simple app to learn Spring Cloud Vault, which one should I prefer to keep vault token? k8 or OpenShift?"},{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680690289,"post_id":75929222,"comment_id":133939577,"body_markdown":"I have a plan to learn k8, then is it better to use k8 for this purpose instead of OpenShift?","body":"I have a plan to learn k8, then is it better to use k8 for this purpose instead of OpenShift?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680694709,"post_id":75929222,"comment_id":133940638,"body_markdown":"k8 is more widely used. OpenShift is a thin layer on top of k8.","body":"k8 is more widely used. OpenShift is a thin layer on top of k8."},{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680700675,"post_id":75929222,"comment_id":133942451,"body_markdown":"Then I should definitely learn k8 and keep my token in it when using vault. Thanks.","body":"Then I should definitely learn k8 and keep my token in it when using vault. Thanks."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":14,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680684428,"creation_date":1680610049,"answer_id":75929222,"question_id":75928497,"body_markdown":"Vault tokens should to be injected as environment variables. If you have a platform like k8 or OpenShift the Vault token itself can be stored as a secret.\r\n\r\nSpringboot loads the secrets from [Vault at startup][1].\r\n\r\nHere is a snippet of our DeploymentConfig template file:\r\n\r\n    kind: DeploymentConfig\r\n    spec:\r\n      strategy:\r\n        spec:\r\n          containers:   \r\n            - name: {{ .Release.Name }}\r\n              env:\r\n                - name: VAULT_API\r\n                  valueFrom:\r\n                    secretKeyRef:\r\n                      name: global-secrets\r\n                      key: vaultapi\r\n                - name: VAULT_TOKEN\r\n                  valueFrom:\r\n                    secretKeyRef:\r\n                      name: global-secrets\r\n                      key: vaulttoken\r\n\r\n\r\n  [1]: https://spring.io/blog/2016/06/24/managing-secrets-with-vault\r\n","title":"Using Spring Cloud Vault to secure passwords, etc. in Spring Boot apps?","body":"<p>Vault tokens should to be injected as environment variables. If you have a platform like k8 or OpenShift the Vault token itself can be stored as a secret.</p>\n<p>Springboot loads the secrets from <a href=\"https://spring.io/blog/2016/06/24/managing-secrets-with-vault\" rel=\"nofollow noreferrer\">Vault at startup</a>.</p>\n<p>Here is a snippet of our DeploymentConfig template file:</p>\n<pre><code>kind: DeploymentConfig\nspec:\n  strategy:\n    spec:\n      containers:   \n        - name: {{ .Release.Name }}\n          env:\n            - name: VAULT_API\n              valueFrom:\n                secretKeyRef:\n                  name: global-secrets\n                  key: vaultapi\n            - name: VAULT_TOKEN\n              valueFrom:\n                secretKeyRef:\n                  name: global-secrets\n                  key: vaulttoken\n</code></pre>\n"}],"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75929222,"answer_count":1,"score":1,"last_activity_date":1680684428,"creation_date":1680605696,"question_id":75928497,"body_markdown":"I have made several searches to secure all the sensitive data in the `application.properties` and finally concluded to use Spring Cloud Vault by HashiCorp. \r\n\r\nAs far as I see, I can keep all the secrets, etc., as key-value pairs in this mechanism. However, I could not be sure and understand the following points. Could you help me pls? \r\n\r\n1) While keeping all the sensitive data in Vault, I think we need to provide a token in the Spring Boot app to access this data. So, for a production environment, suppose that I send the app to the customer, then should they provide this token via environment variables? Or are there any other alternatives that are secure also? \r\n\r\n2) How the app uses the secrets kept in Vault? Does it retrieves them whenever it needs or retrieve at the startup and then keep them in memory, etc., in the server or Docker container (based on the config)? \r\n\r\n","title":"Using Spring Cloud Vault to secure passwords, etc. in Spring Boot apps?","body":"<p>I have made several searches to secure all the sensitive data in the <code>application.properties</code> and finally concluded to use Spring Cloud Vault by HashiCorp.</p>\n<p>As far as I see, I can keep all the secrets, etc., as key-value pairs in this mechanism. However, I could not be sure and understand the following points. Could you help me pls?</p>\n<ol>\n<li><p>While keeping all the sensitive data in Vault, I think we need to provide a token in the Spring Boot app to access this data. So, for a production environment, suppose that I send the app to the customer, then should they provide this token via environment variables? Or are there any other alternatives that are secure also?</p>\n</li>\n<li><p>How the app uses the secrets kept in Vault? Does it retrieves them whenever it needs or retrieve at the startup and then keep them in memory, etc., in the server or Docker container (based on the config)?</p>\n</li>\n</ol>\n"},{"tags":["java","aspectj","aspect","aspectj-maven-plugin"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1680440840,"post_id":75909484,"comment_id":133895521,"body_markdown":"Like I already said in my [comment on your AspectJ Maven issue](https://github.com/mojohaus/aspectj-maven-plugin/issues/169#event-8896690040): Add an MCVE, i.e. a full, minimal sample project (ideally, some code directly in the question + a GitHub project to clone). Please also specify whether aspect library users use load-time weaving (LTW) or compile-time weaving (CTW) for incorporating the library aspects into their respective projects. My answer depends on this information. Do yourself a favour by giving your own question some more love and care. Then you will be better answers faster.","body":"Like I already said in my <a href=\"https://github.com/mojohaus/aspectj-maven-plugin/issues/169#event-8896690040\" rel=\"nofollow noreferrer\">comment on your AspectJ Maven issue</a>: Add an MCVE, i.e. a full, minimal sample project (ideally, some code directly in the question + a GitHub project to clone). Please also specify whether aspect library users use load-time weaving (LTW) or compile-time weaving (CTW) for incorporating the library aspects into their respective projects. My answer depends on this information. Do yourself a favour by giving your own question some more love and care. Then you will be better answers faster."},{"owner":{"account_id":19096402,"reputation":7,"user_id":13945564,"display_name":"Chuang Hou"},"score":0,"creation_date":1680609013,"post_id":75909484,"comment_id":133923778,"body_markdown":"I am sorry, sir. [log-demo](https://github.com/chuanghou/log-demo),  There is a demo project in this respository. I have written question detail in the method comment. P.S. I use CTW","body":"I am sorry, sir. <a href=\"https://github.com/chuanghou/log-demo\" rel=\"nofollow noreferrer\">log-demo</a>,  There is a demo project in this respository. I have written question detail in the method comment. P.S. I use CTW"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1680677636,"post_id":75909484,"comment_id":133936669,"body_markdown":"Well, thanks, but you did not share the link to the aspect project: https://github.com/chuanghou/milky. I had to search for it on GitHub, based on the dependency in your library consumer project.","body":"Well, thanks, but you did not share the link to the aspect project: <a href=\"https://github.com/chuanghou/milky\" rel=\"nofollow noreferrer\">github.com/chuanghou/milky</a>. I had to search for it on GitHub, based on the dependency in your library consumer project."}],"answers":[{"comments":[{"owner":{"account_id":19096402,"reputation":7,"user_id":13945564,"display_name":"Chuang Hou"},"score":0,"creation_date":1680682066,"post_id":75936607,"comment_id":133937591,"body_markdown":"Thanks so much! This question has haunted me for a very long time!","body":"Thanks so much! This question has haunted me for a very long time!"},{"owner":{"account_id":19096402,"reputation":7,"user_id":13945564,"display_name":"Chuang Hou"},"score":0,"creation_date":1680682516,"post_id":75936607,"comment_id":133937715,"body_markdown":"That&#39;s what I want, clean and simply","body":"That&#39;s what I want, clean and simply"},{"owner":{"account_id":19096402,"reputation":7,"user_id":13945564,"display_name":"Chuang Hou"},"score":0,"creation_date":1692797738,"post_id":75936607,"comment_id":135673119,"body_markdown":"Hi,   could you answer this questions? \nhttps://stackoverflow.com/questions/76889724/aspecj-maven-plugin-weaving-dependency-feature-random-load-java-class","body":"Hi,   could you answer this questions?  <a href=\"https://stackoverflow.com/questions/76889724/aspecj-maven-plugin-weaving-dependency-feature-random-load-java-class\" title=\"aspecj maven plugin weaving dependency feature random load java class\">stackoverflow.com/questions/76889724/&hellip;</a>"}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680684400,"creation_date":1680678898,"answer_id":75936607,"question_id":75909484,"body_markdown":"In Java, annotation values must be compile-time constants, so you cannot change them. This is not an AspectJ issue, but a Java limitation.\r\n\r\nSo what you do in AspectJ is to define your logging aspect as **abstract** and the package pointcut also as abstract:\r\n\r\n```java\r\n@Aspect\r\npublic abstract class AutoLogAspect {\r\n    // (...)\r\n\r\n    @Pointcut(&quot;&quot;)\r\n    public abstract void packagePC();\r\n\r\n    // (...)\r\n}\r\n```\r\n\r\nThen, in your demo project, you **override the abstract aspect, defining a concrete pointcut:**\r\n\r\n```java\r\npackage com.example.log.demo;\r\n\r\nimport com.stellariver.milky.aspectj.tool.log.AutoLogAspect;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Pointcut;\r\n\r\n@Aspect\r\npublic class MyLogAspect extends AutoLogAspect {\r\n    @Pointcut(&quot;within(com.example.log..*) &amp;&amp; execution(* *(..))&quot;)\r\n    public void packagePC() {}\r\n}\r\n```\r\n\r\nNow, you can remove the `@Log` annotation from your sample class:\r\n\r\n```java\r\npackage com.example.log.demo;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Fool fool = new Fool();\r\n        fool.testLogOfPackage(&quot;Hello World&quot;);\r\n    }\r\n\r\n    public static class Fool {\r\n        public void testLogOfPackage(String str) {\r\n            System.out.println(str);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen compiling with Maven, you willl see:\r\n\r\n```none\r\n[INFO] --- aspectj-maven-plugin:1.14.0:compile (default) @ log-demo ---\r\n[INFO] Showing AJC message detail for messages of types: [error, warning, fail]\r\n[INFO] Join point &#39;method-execution(void com.example.log.demo.Main$Fool.testLogOfPackage(java.lang.String))&#39; in Type &#39;com.example.log.demo.Main$Fool&#39; (Main.java:10) advised by around advice from &#39;com.example.log.demo.MyLogAspect&#39; (aspectj-tool-0.1.8-SNAPSHOT.jar!AutoLogAspect.class(from AutoLogAspect.java))\r\n[INFO] Join point &#39;method-execution(void com.example.log.demo.Main.main(java.lang.String[]))&#39; in Type &#39;com.example.log.demo.Main&#39; (Main.java:4) advised by around advice from &#39;com.example.log.demo.MyLogAspect&#39; (aspectj-tool-0.1.8-SNAPSHOT.jar!AutoLogAspect.class(from AutoLogAspect.java))\r\n```\r\n\r\nWhen running the sample program, the output will be:\r\n\r\n```none\r\nHello World\r\n\r\n=====msg: execution(Main.Fool.testLogOfPackage(..))\r\n==header: 09:12:00.329 [main-INFO ] com.stellariver.milky.aspectj.tool.log.AutoLogAspect:386 : [success:true] [cost:0] [result:]\r\n===milky: [class:com.stellariver.milky.aspectj.tool.log.AutoLogAspect] [method:log] [line:66]\r\n====args: [arg0:Hello World] [arg1:] [arg2:] [arg3:] [arg4:] [arg5:]\r\n\r\n=====msg: execution(Main.main(..))\r\n==header: 09:12:00.334 [main-INFO ] com.stellariver.milky.aspectj.tool.log.AutoLogAspect:386 : [success:true] [cost:7] [result:]\r\n===milky: [class:com.stellariver.milky.aspectj.tool.log.AutoLogAspect] [method:log] [line:66]\r\n====args: [arg0:[Ljava.lang.String;@4ff4357f] [arg1:] [arg2:] [arg3:] [arg4:] [arg5:]\r\n```\r\n\r\nSee? There is no need to copy &amp; paste the whole aspect. You simply make the package pointcut abstract and force consuming projects to override it. Clean and simple.\r\n\r\nP.S.: If the consuming project would use load-time weaving instead of compile-time weaving, you could define the overriding aspect in _aop.xml_ directly, no need to compile a source aspect or use AspectJ Maven Plugin at all in the consuming project. But CTW or LTW, both works nicely, the rest is up to you.","title":"How to change pointCut expression inside an aspect which has been compiled when I use this aspect in other project?","body":"<p>In Java, annotation values must be compile-time constants, so you cannot change them. This is not an AspectJ issue, but a Java limitation.</p>\n<p>So what you do in AspectJ is to define your logging aspect as <strong>abstract</strong> and the package pointcut also as abstract:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\npublic abstract class AutoLogAspect {\n    // (...)\n\n    @Pointcut(&quot;&quot;)\n    public abstract void packagePC();\n\n    // (...)\n}\n</code></pre>\n<p>Then, in your demo project, you <strong>override the abstract aspect, defining a concrete pointcut:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.log.demo;\n\nimport com.stellariver.milky.aspectj.tool.log.AutoLogAspect;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Pointcut;\n\n@Aspect\npublic class MyLogAspect extends AutoLogAspect {\n    @Pointcut(&quot;within(com.example.log..*) &amp;&amp; execution(* *(..))&quot;)\n    public void packagePC() {}\n}\n</code></pre>\n<p>Now, you can remove the <code>@Log</code> annotation from your sample class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.log.demo;\n\npublic class Main {\n    public static void main(String[] args) {\n        Fool fool = new Fool();\n        fool.testLogOfPackage(&quot;Hello World&quot;);\n    }\n\n    public static class Fool {\n        public void testLogOfPackage(String str) {\n            System.out.println(str);\n        }\n    }\n}\n</code></pre>\n<p>When compiling with Maven, you willl see:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[INFO] --- aspectj-maven-plugin:1.14.0:compile (default) @ log-demo ---\n[INFO] Showing AJC message detail for messages of types: [error, warning, fail]\n[INFO] Join point 'method-execution(void com.example.log.demo.Main$Fool.testLogOfPackage(java.lang.String))' in Type 'com.example.log.demo.Main$Fool' (Main.java:10) advised by around advice from 'com.example.log.demo.MyLogAspect' (aspectj-tool-0.1.8-SNAPSHOT.jar!AutoLogAspect.class(from AutoLogAspect.java))\n[INFO] Join point 'method-execution(void com.example.log.demo.Main.main(java.lang.String[]))' in Type 'com.example.log.demo.Main' (Main.java:4) advised by around advice from 'com.example.log.demo.MyLogAspect' (aspectj-tool-0.1.8-SNAPSHOT.jar!AutoLogAspect.class(from AutoLogAspect.java))\n</code></pre>\n<p>When running the sample program, the output will be:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Hello World\n\n=====msg: execution(Main.Fool.testLogOfPackage(..))\n==header: 09:12:00.329 [main-INFO ] com.stellariver.milky.aspectj.tool.log.AutoLogAspect:386 : [success:true] [cost:0] [result:]\n===milky: [class:com.stellariver.milky.aspectj.tool.log.AutoLogAspect] [method:log] [line:66]\n====args: [arg0:Hello World] [arg1:] [arg2:] [arg3:] [arg4:] [arg5:]\n\n=====msg: execution(Main.main(..))\n==header: 09:12:00.334 [main-INFO ] com.stellariver.milky.aspectj.tool.log.AutoLogAspect:386 : [success:true] [cost:7] [result:]\n===milky: [class:com.stellariver.milky.aspectj.tool.log.AutoLogAspect] [method:log] [line:66]\n====args: [arg0:[Ljava.lang.String;@4ff4357f] [arg1:] [arg2:] [arg3:] [arg4:] [arg5:]\n</code></pre>\n<p>See? There is no need to copy &amp; paste the whole aspect. You simply make the package pointcut abstract and force consuming projects to override it. Clean and simple.</p>\n<p>P.S.: If the consuming project would use load-time weaving instead of compile-time weaving, you could define the overriding aspect in <em>aop.xml</em> directly, no need to compile a source aspect or use AspectJ Maven Plugin at all in the consuming project. But CTW or LTW, both works nicely, the rest is up to you.</p>\n"}],"owner":{"account_id":19096402,"reputation":7,"user_id":13945564,"display_name":"Chuang Hou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75936607,"answer_count":1,"score":0,"last_activity_date":1680684400,"creation_date":1680393660,"question_id":75909484,"body_markdown":"I have a logging aspect like this, it will print args, result or any other exceptions. I use aspectj-maven-plugin to compile this aspect. Then, the compiled result will be packaged to a jar. I will offer this jar to our maven repository, so they can depend this jar in their project. If they need log any request info, they just need write an annonation @Log at the method defination. I aslo want to offer &quot;a package assign abilility&quot;: My colleage could set a package parameter when compile their project, then all the method invoke inside that package will be cut„ÄÇ\r\n\r\nIn summary, like the customPointCut in the following code, I want change the pointcut defination when I need this compiled asject in another project.\r\n\r\n```\r\n@Aspect\r\npublic class LogAspect {\r\n\r\n    static private final Logger log = Logger.getLogger(LogAspect.class);\r\n\r\n    @Pointcut(&quot;execution(@com.stellariver.milky.aspectj.tool.log.Log * *(..))&quot;)\r\n    private void annoPointCut() {}\r\n\r\n    @Pointcut(&quot;execution(* com.project.package..*.*(..))&quot;)\r\n    private void customPointCut() {}\r\n\r\n    @Around(&quot;annoPointCut() || customPointCut()&quot;)\r\n    public Object valid(ProceedingJoinPoint pjp) throws Throwable {\r\n        Object result = null;\r\n        try {\r\n            result = pjp.proceed();\r\n        } catch (Throwable throwable) {\r\n            throw throwable;\r\n        } finally {\r\n            log(xx,xx);\r\n        }\r\n        return result;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI could not find any parameterized aspect solution in aspect project or aspect-maven-plugin project","title":"How to change pointCut expression inside an aspect which has been compiled when I use this aspect in other project?","body":"<p>I have a logging aspect like this, it will print args, result or any other exceptions. I use aspectj-maven-plugin to compile this aspect. Then, the compiled result will be packaged to a jar. I will offer this jar to our maven repository, so they can depend this jar in their project. If they need log any request info, they just need write an annonation @Log at the method defination. I aslo want to offer &quot;a package assign abilility&quot;: My colleage could set a package parameter when compile their project, then all the method invoke inside that package will be cut„ÄÇ</p>\n<p>In summary, like the customPointCut in the following code, I want change the pointcut defination when I need this compiled asject in another project.</p>\n<pre><code>@Aspect\npublic class LogAspect {\n\n    static private final Logger log = Logger.getLogger(LogAspect.class);\n\n    @Pointcut(&quot;execution(@com.stellariver.milky.aspectj.tool.log.Log * *(..))&quot;)\n    private void annoPointCut() {}\n\n    @Pointcut(&quot;execution(* com.project.package..*.*(..))&quot;)\n    private void customPointCut() {}\n\n    @Around(&quot;annoPointCut() || customPointCut()&quot;)\n    public Object valid(ProceedingJoinPoint pjp) throws Throwable {\n        Object result = null;\n        try {\n            result = pjp.proceed();\n        } catch (Throwable throwable) {\n            throw throwable;\n        } finally {\n            log(xx,xx);\n        }\n        return result;\n    }\n\n}\n</code></pre>\n<p>I could not find any parameterized aspect solution in aspect project or aspect-maven-plugin project</p>\n"},{"tags":["java","spring","oauth-2.0","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":28220307,"reputation":1,"user_id":21571149,"display_name":"qwert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680684136,"creation_date":1680684136,"answer_id":75937365,"question_id":75936984,"body_markdown":"I found how to fix it, now it works.\r\n    \r\n\r\n        @Component\r\n        public class CustomAuthorizationServerTokenServices {\r\n        \r\n            @Bean\r\n            public AuthorizationServerTokenServices tokenServices() {\r\n                final DefaultTokenServices defaultTokenServices = new DefaultTokenServices();\r\n                defaultTokenServices.setAccessTokenValiditySeconds(-1);\r\n                defaultTokenServices.setTokenStore(tokenStore());\r\n                return defaultTokenServices;\r\n            }\r\n        \r\n            private TokenStore tokenStore() {\r\n                return new InMemoryTokenStore();\r\n            }\r\n        }","title":"Could not autowire. No beans of &#39;AuthorizationServerTokenServices&#39; type found. Spring OAuth2","body":"<p>I found how to fix it, now it works.</p>\n<pre><code>    @Component\n    public class CustomAuthorizationServerTokenServices {\n    \n        @Bean\n        public AuthorizationServerTokenServices tokenServices() {\n            final DefaultTokenServices defaultTokenServices = new DefaultTokenServices();\n            defaultTokenServices.setAccessTokenValiditySeconds(-1);\n            defaultTokenServices.setTokenStore(tokenStore());\n            return defaultTokenServices;\n        }\n    \n        private TokenStore tokenStore() {\n            return new InMemoryTokenStore();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":28220307,"reputation":1,"user_id":21571149,"display_name":"qwert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680684136,"creation_date":1680681635,"question_id":75936984,"body_markdown":"I want to test OAuth2 authorization and like in this answer:\r\n\r\n[https://stackoverflow.com/questions/38326028/java-spring-mvc-integration-test-create-oauth2-principal](https://stackoverflow.com)\r\n\r\nI&#39;m trying to inject AuthorizationServerTokenServices into OAuthHelper:\r\n\r\n```\r\n@Component\r\npublic class OAuthHelper {\r\n\r\n\r\n    @Autowired\r\n    private AuthorizationServerTokenServices tokenServices;\r\n\r\n    public RequestPostProcessor addBearerToken(final String username, String... authorities)\r\n    {\r\n        return mockRequest -&gt; {\r\n            OAuth2Request oauth2Request = new OAuth2Request( null, &quot;client-id&quot;,\r\n                    null, true, null, null, null, null, null );\r\n            Authentication userauth = new TestingAuthenticationToken( username, null, authorities);\r\n            OAuth2Authentication oauth2auth = new OAuth2Authentication(oauth2Request, userauth);\r\n            OAuth2AccessToken token = tokenServices.createAccessToken(oauth2auth);\r\n            mockRequest.addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token.getValue());\r\n            return mockRequest;\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nBut ItelliJ doesn&#39;t find required bean:\r\n\r\n&#39;Could not autowire. No beans of &#39;AuthorizationServerTokenServices&#39; type found.&#39;\r\n\r\nHow can I fix it?\r\n\r\nMy pom:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.8&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!\r\n    &lt;/parent&gt;\r\n    &lt;artifactId&gt;OwnerApp&lt;/artifactId&gt;\r\n    &lt;version&gt;${parent.version}&lt;/version&gt;\r\n    &lt;name&gt;OwnerApp&lt;/name&gt;\r\n    &lt;description&gt;OwnerApp&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.json-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;litvinov.al&lt;/groupId&gt;\r\n            &lt;artifactId&gt;Domain&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\n\r\nI tried to change spring version, tried to instantiate DefaultTokenServices and TokenStore but it doesn&#39;t work.","title":"Could not autowire. No beans of &#39;AuthorizationServerTokenServices&#39; type found. Spring OAuth2","body":"<p>I want to test OAuth2 authorization and like in this answer:</p>\n<p><a href=\"https://stackoverflow.com\">https://stackoverflow.com/questions/38326028/java-spring-mvc-integration-test-create-oauth2-principal</a></p>\n<p>I'm trying to inject AuthorizationServerTokenServices into OAuthHelper:</p>\n<pre><code>@Component\npublic class OAuthHelper {\n\n\n    @Autowired\n    private AuthorizationServerTokenServices tokenServices;\n\n    public RequestPostProcessor addBearerToken(final String username, String... authorities)\n    {\n        return mockRequest -&gt; {\n            OAuth2Request oauth2Request = new OAuth2Request( null, &quot;client-id&quot;,\n                    null, true, null, null, null, null, null );\n            Authentication userauth = new TestingAuthenticationToken( username, null, authorities);\n            OAuth2Authentication oauth2auth = new OAuth2Authentication(oauth2Request, userauth);\n            OAuth2AccessToken token = tokenServices.createAccessToken(oauth2auth);\n            mockRequest.addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token.getValue());\n            return mockRequest;\n        };\n    }\n}\n</code></pre>\n<p>But ItelliJ doesn't find required bean:</p>\n<p>'Could not autowire. No beans of 'AuthorizationServerTokenServices' type found.'</p>\n<p>How can I fix it?</p>\n<p>My pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!\n    &lt;/parent&gt;\n    &lt;artifactId&gt;OwnerApp&lt;/artifactId&gt;\n    &lt;version&gt;${parent.version}&lt;/version&gt;\n    &lt;name&gt;OwnerApp&lt;/name&gt;\n    &lt;description&gt;OwnerApp&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n            &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.json&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.json-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\n            &lt;version&gt;1.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;litvinov.al&lt;/groupId&gt;\n            &lt;artifactId&gt;Domain&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n</code></pre>\n<p>I tried to change spring version, tried to instantiate DefaultTokenServices and TokenStore but it doesn't work.</p>\n"},{"tags":["java","maven","visual-studio-code"],"comments":[{"owner":{"account_id":308177,"reputation":1911,"user_id":619895,"accept_rate":85,"display_name":"ggb667"},"score":0,"creation_date":1583191945,"post_id":60498063,"comment_id":107025917,"body_markdown":"https://code.visualstudio.com/docs/java/java-tutorial Install a JDK.  TLDR; Install Visual Studio.  After installing the JDK, you would need to configure your environment for Java development. The most common way is to set JAVA_HOME environment variable to the install location of the JDK while you can also use java.home setting in Visual Studio Code settings (workspace or user settings) to configure it just for the editor.","body":"<a href=\"https://code.visualstudio.com/docs/java/java-tutorial\" rel=\"nofollow noreferrer\">code.visualstudio.com/docs/java/java-tutorial</a> Install a JDK.  TLDR; Install Visual Studio.  After installing the JDK, you would need to configure your environment for Java development. The most common way is to set JAVA_HOME environment variable to the install location of the JDK while you can also use java.home setting in Visual Studio Code settings (workspace or user settings) to configure it just for the editor."},{"owner":{"account_id":17889580,"reputation":221,"user_id":12996382,"display_name":"Cody"},"score":0,"creation_date":1583192504,"post_id":60498063,"comment_id":107026036,"body_markdown":"How do I get the install location of JDK?  I already installed it but I did not write down the folder location and when I search my mac for JDK there are no results.","body":"How do I get the install location of JDK?  I already installed it but I did not write down the folder location and when I search my mac for JDK there are no results."},{"owner":{"account_id":308177,"reputation":1911,"user_id":619895,"accept_rate":85,"display_name":"ggb667"},"score":0,"creation_date":1583249584,"post_id":60498063,"comment_id":107048426,"body_markdown":"Reinstall and pay attention this time.  It should be something  like /Library/Java/JavaVirtualMachines/jdk-10. jdk/Contents/Home","body":"Reinstall and pay attention this time.  It should be something  like /Library/Java/JavaVirtualMachines/jdk-10. jdk/Contents/Home"},{"owner":{"account_id":14914321,"reputation":15846,"user_id":10768653,"display_name":"Leo Zhu"},"score":0,"creation_date":1583300733,"post_id":60498063,"comment_id":107065062,"body_markdown":"Try to find in `C:\\Program Files (x86)\\Java`,you should reinstall the jdk","body":"Try to find in <code>C:\\Program Files (x86)\\Java</code>,you should reinstall the jdk"},{"owner":{"account_id":183525,"reputation":1766,"user_id":418950,"display_name":"ScottWelker"},"score":0,"creation_date":1629759199,"post_id":60498063,"comment_id":121767074,"body_markdown":"If, unlike the original poster, you are seeing a similar error in the context of [Spring Boot][1] with the [Spring Initializer][2], be sure to select your matching `Java` (version) before generating your Spring Boot project.\n\n  [1]: https://spring.io/projects/spring-boot\n  [2]: https://start.spring.io/","body":"If, unlike the original poster, you are seeing a similar error in the context of [Spring Boot][1] with the [Spring Initializer][2], be sure to select your matching <code>Java</code> (version) before generating your Spring Boot project.    [1]: <a href=\"https://spring.io/projects/spring-boot\" rel=\"nofollow noreferrer\">spring.io/projects/spring-boot</a>   [2]: <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a>"},{"owner":{"account_id":18660502,"reputation":51,"user_id":13601827,"display_name":"William River"},"score":0,"creation_date":1676125935,"post_id":60498063,"comment_id":133076968,"body_markdown":"@Cody open Terminal and run `/usr/libexec/java_home -V` you will get the location of JDK on your Mac","body":"@Cody open Terminal and run <code>&#47;usr&#47;libexec&#47;java_home -V</code> you will get the location of JDK on your Mac"}],"answers":[{"comments":[{"owner":{"account_id":15462,"reputation":2403,"user_id":32700,"accept_rate":89,"display_name":"qxotk"},"score":0,"creation_date":1643812017,"post_id":61029248,"comment_id":125438532,"body_markdown":"Using Java 11, and this solution worked for a an IntelliJ project I opened with VS Code.","body":"Using Java 11, and this solution worked for a an IntelliJ project I opened with VS Code."},{"owner":{"account_id":60341,"reputation":1974,"user_id":180294,"accept_rate":79,"display_name":"canadiancreed"},"score":1,"creation_date":1689437481,"post_id":61029248,"comment_id":135214908,"body_markdown":"To update this, using 13 just changed the error to not able to support v13 in vscode. Changing maven compiler release to 17 resolved the issue on my end","body":"To update this, using 13 just changed the error to not able to support v13 in vscode. Changing maven compiler release to 17 resolved the issue on my end"}],"tags":[],"owner":{"account_id":14957212,"reputation":799,"user_id":10798114,"display_name":"Onyr"},"comment_count":2,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1609573162,"creation_date":1586008941,"answer_id":61029248,"question_id":60498063,"body_markdown":"To solve this problem, you have to update manually the pom.xml file. Everything you have to do is explained in the [doc, section &quot;Java 9 or later&quot;][1]. Here are the steps to follow. \r\n\r\nThe default pom.xml file provide theses informations:\r\n\r\n**Old version - pom.xml**\r\n```xml\r\n&lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.8.0&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nAs you can see, Maven uses an outdated plugin to be used with maven.compiler.source for Java 1.7. Here you want to update the plugin an specify the use of Java 13. Modify pom.xml like so:\r\n\r\n**New solution version - pom.xml**\r\n\r\n```xml\r\n&lt;properties&gt;\r\n  &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n  &lt;maven.compiler.release&gt;13&lt;/maven.compiler.release&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n&lt;/build&gt;\r\n```\r\nNow don&#39;t forget to update VSCode configutation by right-clicking on the pom.xml file then click on `Update Project Configuration` or do `Alt+Shift+U` and wait for the change to apply.\r\n\r\nNormally, the PROBLEMS section should be `No problems have been detected in the workspace so far.`\r\n\r\n  [1]: https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html#java-9-or-later","title":"VSCode Maven error `The compiler compliance specified is 1.7 but a JRE 13 is used`","body":"<p>To solve this problem, you have to update manually the pom.xml file. Everything you have to do is explained in the <a href=\"https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html#java-9-or-later\" rel=\"noreferrer\">doc, section &quot;Java 9 or later&quot;</a>. Here are the steps to follow.</p>\n<p>The default pom.xml file provide theses informations:</p>\n<p><strong>Old version - pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.8.0&lt;/version&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n<p>As you can see, Maven uses an outdated plugin to be used with maven.compiler.source for Java 1.7. Here you want to update the plugin an specify the use of Java 13. Modify pom.xml like so:</p>\n<p><strong>New solution version - pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n  &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;maven.compiler.release&gt;13&lt;/maven.compiler.release&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Now don't forget to update VSCode configutation by right-clicking on the pom.xml file then click on <code>Update Project Configuration</code> or do <code>Alt+Shift+U</code> and wait for the change to apply.</p>\n<p>Normally, the PROBLEMS section should be <code>No problems have been detected in the workspace so far.</code></p>\n"},{"tags":[],"owner":{"account_id":13964421,"reputation":173,"user_id":10084642,"display_name":"Daniel Alvarez"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1680683843,"creation_date":1597215586,"answer_id":63371441,"question_id":60498063,"body_markdown":"my problem was similar but with JDK11 and JDK14\r\n\r\nIn my case, I changed the version in the pom.xml, like @Onyr said, but the problem kept popping up. To fix it I followed these steps:\r\n\r\n 1. In VSCode, press `Crtl + Shift + P`. This will show a popup when you can write\r\n 2. Then write `&gt;Configure Java runtime` (Make sure not to delete the character `&gt;`)\r\n 3. Click the first result to open the configure window\r\n 4. In my case, I saw this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/uRs1I.png\r\n\r\nAs you can see, the current path point to JDK14, but I want to use JDK11\r\n\r\n 5. So, click in `User Setting` (Blue link in &quot;Type&quot; column)\r\n 6. Then, click in `Edit in settings.json`\r\n 7. Now, you have to search a property called `&quot;java.home&quot;` and change the path to the JDK you want to use\r\n\r\nFor example, in my case, this line changed from:\r\n\r\n    &quot;java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-14.0.2&quot;,\r\n\r\nTo:\r\n\r\n    &quot;java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-11.0.8&quot;,\r\n\r\n 8. Finally, VSCode will show a popup asking you to restart the config. Do it and the problem go","title":"VSCode Maven error `The compiler compliance specified is 1.7 but a JRE 13 is used`","body":"<p>my problem was similar but with JDK11 and JDK14</p>\n<p>In my case, I changed the version in the pom.xml, like @Onyr said, but the problem kept popping up. To fix it I followed these steps:</p>\n<ol>\n<li>In VSCode, press <code>Crtl + Shift + P</code>. This will show a popup when you can write</li>\n<li>Then write <code>&gt;Configure Java runtime</code> (Make sure not to delete the character <code>&gt;</code>)</li>\n<li>Click the first result to open the configure window</li>\n<li>In my case, I saw this:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/uRs1I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uRs1I.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, the current path point to JDK14, but I want to use JDK11</p>\n<ol start=\"5\">\n<li>So, click in <code>User Setting</code> (Blue link in &quot;Type&quot; column)</li>\n<li>Then, click in <code>Edit in settings.json</code></li>\n<li>Now, you have to search a property called <code>&quot;java.home&quot;</code> and change the path to the JDK you want to use</li>\n</ol>\n<p>For example, in my case, this line changed from:</p>\n<pre><code>&quot;java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-14.0.2&quot;,\n</code></pre>\n<p>To:</p>\n<pre><code>&quot;java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-11.0.8&quot;,\n</code></pre>\n<ol start=\"8\">\n<li>Finally, VSCode will show a popup asking you to restart the config. Do it and the problem go</li>\n</ol>\n"}],"owner":{"account_id":17889580,"reputation":221,"user_id":12996382,"display_name":"Cody"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28446,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":2,"score":22,"last_activity_date":1680683843,"creation_date":1583191706,"question_id":60498063,"body_markdown":"I created a new maven project in VSCode.  When I try to run a file, I get this error\r\n\r\n`The compiler compliance specified is 1.7 but a JRE 13 is used`\r\n\r\nbut there are no instructions on how to fix the error.  What do I do?\r\n\r\nThese are the VSC plugins I have installed:\r\n\r\n - Debugger for Java 0.25.0\r\n - Java Dependency Viewer 0.9.0\r\n - Java Extension Pack 0.8.1\r\n - Java Run 1.1.4\r\n - Java Test Runner 0.22.0","title":"VSCode Maven error `The compiler compliance specified is 1.7 but a JRE 13 is used`","body":"<p>I created a new maven project in VSCode.  When I try to run a file, I get this error</p>\n\n<p><code>The compiler compliance specified is 1.7 but a JRE 13 is used</code></p>\n\n<p>but there are no instructions on how to fix the error.  What do I do?</p>\n\n<p>These are the VSC plugins I have installed:</p>\n\n<ul>\n<li>Debugger for Java 0.25.0</li>\n<li>Java Dependency Viewer 0.9.0</li>\n<li>Java Extension Pack 0.8.1</li>\n<li>Java Run 1.1.4</li>\n<li>Java Test Runner 0.22.0</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","spock"],"comments":[{"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"score":0,"creation_date":1680698496,"post_id":75937325,"comment_id":133941735,"body_markdown":"It looks &quot;port&quot; config value &quot;0&quot; is not correctly initialized.  So it is NOT about network, It is about your configuration. You could check this thread https://stackoverflow.com/questions/50239369/spring-boot-test-failing-to-autowire-port-with-localserverport-annotation\nHope it helps.","body":"It looks &quot;port&quot; config value &quot;0&quot; is not correctly initialized.  So it is NOT about network, It is about your configuration. You could check this thread <a href=\"https://stackoverflow.com/questions/50239369/spring-boot-test-failing-to-autowire-port-with-localserverport-annotation\" title=\"spring boot test failing to autowire port with localserverport annotation\">stackoverflow.com/questions/50239369/&hellip;</a> Hope it helps."},{"owner":{"account_id":20013984,"reputation":65,"user_id":14670426,"display_name":"Jakub Ko≈Çacz"},"score":0,"creation_date":1680703180,"post_id":75937325,"comment_id":133943148,"body_markdown":"Thanks for sending me thread, I tried to implemented all suggested changes, but unfortunately none of them worked for me.","body":"Thanks for sending me thread, I tried to implemented all suggested changes, but unfortunately none of them worked for me."},{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":0,"creation_date":1680718920,"post_id":75937325,"comment_id":133947505,"body_markdown":"What version of Spring and Spock are you using?","body":"What version of Spring and Spock are you using?"},{"owner":{"account_id":20013984,"reputation":65,"user_id":14670426,"display_name":"Jakub Ko≈Çacz"},"score":0,"creation_date":1680739218,"post_id":75937325,"comment_id":133951046,"body_markdown":"Spring is 3.0.5 and spock  2.3-groovy-4.0","body":"Spring is 3.0.5 and spock  2.3-groovy-4.0"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1680770203,"post_id":75937325,"comment_id":133955386,"body_markdown":"For Spring Boot 3, you want to upgrade to [Spock 2.4-M1](https://spockframework.org/spock/docs/2.4-M1/all_in_one.html#_2_4_m1_2022_11_30).","body":"For Spring Boot 3, you want to upgrade to <a href=\"https://spockframework.org/spock/docs/2.4-M1/all_in_one.html#_2_4_m1_2022_11_30\" rel=\"nofollow noreferrer\">Spock 2.4-M1</a>."},{"owner":{"account_id":20013984,"reputation":65,"user_id":14670426,"display_name":"Jakub Ko≈Çacz"},"score":0,"creation_date":1680822149,"post_id":75937325,"comment_id":133966722,"body_markdown":"I changed spock version, and it still doesnt work","body":"I changed spock version, and it still doesnt work"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1680867095,"post_id":75937325,"comment_id":133972315,"body_markdown":"Fine, then please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you. I am sure, you will get good answers quickly then. A link to a GitHub repo would be nice.","body":"Fine, then please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you. I am sure, you will get good answers quickly then. A link to a GitHub repo would be nice."}],"owner":{"account_id":20013984,"reputation":65,"user_id":14670426,"display_name":"Jakub Ko≈Çacz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680683832,"creation_date":1680683832,"question_id":75937325,"body_markdown":"I am having problem with my integration test.\r\nI am using springboot(kotlin) + spock.\r\nWhen I run my application, it loads up normally but when I run integration test, it fails with these exceptions:\r\n\r\n```\r\nI/O error on GET request for &quot;http://localhost:0/events/1&quot;: Cannot assign requested address: connect\r\norg.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://localhost:0/events/1&quot;: Cannot assign requested address: connect\r\n\r\nand:\r\nCaused by: java.net.BindException: Cannot assign requested address: connect\r\n```\r\n\r\nThe code of integration test and application.properties\r\n\r\n```\r\n@RunWith(SpringRunner)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@ActiveProfiles(&quot;test&quot;)\r\nclass EventControllerSpec extends Specification {\r\n\r\n    TestRestTemplate restTemplate = new TestRestTemplate()\r\n\r\n    @LocalServerPort\r\n    private int port\r\n\r\n\r\n    def &#39;should return 200&#39;(){\r\n        when:\r\n        ResponseEntity&lt;Event&gt; response = restTemplate.getForEntity(&quot;http://localhost:$port/events/1&quot;, Event.class)\r\n\r\n        then:\r\n            response.getStatusCode().is2xxSuccessful()\r\n    }\r\n}\r\n```\r\n\r\n```\r\nserver.port=9000\r\nspring.profiles.active=test\r\nspring.application.name=eventplanner\r\n\r\n#and the rest of the properties connected with db\r\n```\r\n\r\nI know that these exceptions are falling due to lack of ports, but why? I have tried almost evceryting\r\n\r\nI tried tip to set `port` to preseted value, used property `webEnviroment.DefinedPort` , tried code without any params in `@springBootTest`. I even restored my firewall settings to default.\r\nWhat should I do? I know that this is problem with config, but I am out of ideas what may help.\r\nMaybe I should change something in gradle file etc?\r\n\r\n#EDIT\r\nI also checked my tcp/ip config and everything is fine, it&#39;s just problem with test","title":"Springboot test cannot assing requested address (java.net.BindException)","body":"<p>I am having problem with my integration test.\nI am using springboot(kotlin) + spock.\nWhen I run my application, it loads up normally but when I run integration test, it fails with these exceptions:</p>\n<pre><code>I/O error on GET request for &quot;http://localhost:0/events/1&quot;: Cannot assign requested address: connect\norg.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://localhost:0/events/1&quot;: Cannot assign requested address: connect\n\nand:\nCaused by: java.net.BindException: Cannot assign requested address: connect\n</code></pre>\n<p>The code of integration test and application.properties</p>\n<pre><code>@RunWith(SpringRunner)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ActiveProfiles(&quot;test&quot;)\nclass EventControllerSpec extends Specification {\n\n    TestRestTemplate restTemplate = new TestRestTemplate()\n\n    @LocalServerPort\n    private int port\n\n\n    def 'should return 200'(){\n        when:\n        ResponseEntity&lt;Event&gt; response = restTemplate.getForEntity(&quot;http://localhost:$port/events/1&quot;, Event.class)\n\n        then:\n            response.getStatusCode().is2xxSuccessful()\n    }\n}\n</code></pre>\n<pre><code>server.port=9000\nspring.profiles.active=test\nspring.application.name=eventplanner\n\n#and the rest of the properties connected with db\n</code></pre>\n<p>I know that these exceptions are falling due to lack of ports, but why? I have tried almost evceryting</p>\n<p>I tried tip to set <code>port</code> to preseted value, used property <code>webEnviroment.DefinedPort</code> , tried code without any params in <code>@springBootTest</code>. I even restored my firewall settings to default.\nWhat should I do? I know that this is problem with config, but I am out of ideas what may help.\nMaybe I should change something in gradle file etc?</p>\n<p>#EDIT\nI also checked my tcp/ip config and everything is fine, it's just problem with test</p>\n"},{"tags":["java","api","swagger","swagger-ui"],"owner":{"account_id":3174015,"reputation":380,"user_id":2682329,"accept_rate":0,"display_name":"snekk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680683397,"creation_date":1680683397,"question_id":75937254,"body_markdown":"I&#39;m trying to add an input filed to my swagger UI using Java.\r\nThis is the code:\r\n\r\n    @PostMapping(&quot;/status&quot;)\r\n    @Operation(\r\n\r\n            description = &quot;Returns the status of the User&quot;,\r\n            responses = {\r\n                    @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Successfully returned&quot;)\r\n            }\r\n    )\r\n    public UserStatusResponse getUserStatus(\r\n            @RequestBody @Valid UserIdRequest request,\r\n            @Parameter(required = false, description = &quot;aaaaa&quot;) String test\r\n            ) {\r\n        return new UserStatusResponse(userService.isUserActive(request.getUserId()));\r\n    }\r\n\r\nAnd this is the result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIs there a away that i can get this, with these fields ?\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1o3rd.png\r\n  [2]: https://i.stack.imgur.com/m9GjS.png\r\n\r\nThe swagger version is 2.1.2.","title":"How to add input fileds to swagger UI using Java","body":"<p>I'm trying to add an input filed to my swagger UI using Java.\nThis is the code:</p>\n<pre><code>@PostMapping(&quot;/status&quot;)\n@Operation(\n\n        description = &quot;Returns the status of the User&quot;,\n        responses = {\n                @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Successfully returned&quot;)\n        }\n)\npublic UserStatusResponse getUserStatus(\n        @RequestBody @Valid UserIdRequest request,\n        @Parameter(required = false, description = &quot;aaaaa&quot;) String test\n        ) {\n    return new UserStatusResponse(userService.isUserActive(request.getUserId()));\n}\n</code></pre>\n<p>And this is the result:</p>\n<p><a href=\"https://i.stack.imgur.com/1o3rd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1o3rd.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there a away that i can get this, with these fields ?\n<a href=\"https://i.stack.imgur.com/m9GjS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m9GjS.png\" alt=\"enter image description here\" /></a></p>\n<p>The swagger version is 2.1.2.</p>\n"},{"tags":["java","spring-boot","google-bigquery"],"comments":[{"owner":{"account_id":23157436,"reputation":2052,"user_id":17258510,"display_name":"kiran mathew"},"score":0,"creation_date":1680697849,"post_id":75937085,"comment_id":133941516,"body_markdown":"Can you try with the latest version of bigquery(&lt;version&gt;2.24.4&lt;/version&gt;)?","body":"Can you try with the latest version of bigquery(&lt;version&gt;2.24.4&lt;/version&gt;)?"}],"owner":{"account_id":406309,"reputation":137,"user_id":775744,"accept_rate":62,"display_name":"P P"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680683273,"creation_date":1680682245,"question_id":75937085,"body_markdown":"I see two options to fetch dataset in bigquery. \r\n```\r\nBigQuery bigQuery = BigQueryOptions.newBuilder().setCredentials(credentials).build().getService();\r\n```\r\nor \r\n\r\n```\r\nBigQuery bigquery = BigQueryOptions.getDefaultInstance().getService();\r\n```\r\n\r\nBut while trying both above approach, I am encountering no candidate/method found issue (either for &quot;getService&quot; or &quot;setCredentials&quot; method. \r\n\r\nError: Cannot resolve method &#39;getService&#39; in &#39;BigQueryOptions&#39;. No candidates found for method call BigQueryOptions.getDefaultInstance().getService(). Similarly for setCredentials.\r\n\r\nSuggestion on how to fix this considering either library is wrong / moved / outdated implementation. Still google implementation refers to same but same POM dependencies do not work. https://cloud.google.com/bigquery/docs/authentication/service-account-file\r\n\r\nMy POM\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.app&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;demo&lt;/name&gt;\r\n    &lt;description&gt;demo&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2020.0.4&lt;/spring-cloud.version&gt;\r\n        &lt;ch.qos.logback.version&gt;1.2.3&lt;/ch.qos.logback.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;24.0.0&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-cloud-bigquery&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.bettercloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vault-java-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-vault-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.2.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\r\n            &lt;version&gt;1.13.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${ch.qos.logback.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;${ch.qos.logback.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-access&lt;/artifactId&gt;\r\n            &lt;version&gt;${ch.qos.logback.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n","title":"What is latest approach on creation of BigQuery using ServiceAccount?","body":"<p>I see two options to fetch dataset in bigquery.</p>\n<pre><code>BigQuery bigQuery = BigQueryOptions.newBuilder().setCredentials(credentials).build().getService();\n</code></pre>\n<p>or</p>\n<pre><code>BigQuery bigquery = BigQueryOptions.getDefaultInstance().getService();\n</code></pre>\n<p>But while trying both above approach, I am encountering no candidate/method found issue (either for &quot;getService&quot; or &quot;setCredentials&quot; method.</p>\n<p>Error: Cannot resolve method 'getService' in 'BigQueryOptions'. No candidates found for method call BigQueryOptions.getDefaultInstance().getService(). Similarly for setCredentials.</p>\n<p>Suggestion on how to fix this considering either library is wrong / moved / outdated implementation. Still google implementation refers to same but same POM dependencies do not work. <a href=\"https://cloud.google.com/bigquery/docs/authentication/service-account-file\" rel=\"nofollow noreferrer\">https://cloud.google.com/bigquery/docs/authentication/service-account-file</a></p>\n<p>My POM</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.app&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;demo&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2020.0.4&lt;/spring-cloud.version&gt;\n        &lt;ch.qos.logback.version&gt;1.2.3&lt;/ch.qos.logback.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n                &lt;version&gt;24.0.0&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;google-cloud-bigquery&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.bettercloud&lt;/groupId&gt;\n            &lt;artifactId&gt;vault-java-driver&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-vault-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n            &lt;version&gt;2.4.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n            &lt;version&gt;5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\n            &lt;version&gt;1.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n            &lt;version&gt;${ch.qos.logback.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;${ch.qos.logback.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-access&lt;/artifactId&gt;\n            &lt;version&gt;${ch.qos.logback.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","testing","junit"],"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":1,"creation_date":1680683765,"post_id":75937179,"comment_id":133938010,"body_markdown":"How about refactoring the whole task execution part to a separate component, doing your prep and then executing this separate component in your integration test? Then you&#39;d have better control on what is executed when.","body":"How about refactoring the whole task execution part to a separate component, doing your prep and then executing this separate component in your integration test? Then you&#39;d have better control on what is executed when."},{"owner":{"account_id":7509953,"reputation":22160,"user_id":5705247,"accept_rate":27,"display_name":"Tuomas Toivonen"},"score":0,"creation_date":1680683936,"post_id":75937179,"comment_id":133938049,"body_markdown":"Yes, that&#39;s what I actually ended up doing","body":"Yes, that&#39;s what I actually ended up doing"},{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":0,"creation_date":1680706596,"post_id":75937179,"comment_id":133944201,"body_markdown":"Post your test class, too","body":"Post your test class, too"}],"owner":{"account_id":7509953,"reputation":22160,"user_id":5705247,"accept_rate":27,"display_name":"Tuomas Toivonen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680682784,"creation_date":1680682784,"question_id":75937179,"body_markdown":"I start worker threads in `CommandLineRunner` component\r\n\r\n```\r\n@Override\r\npublic void run(String... args) throws Exception {\r\n    range(0, count).forEach(i -&gt; taskExecutor.execute(() -&gt; {\r\n        while (true) {\r\n            doWork();\r\n        }\r\n    }));\r\n}\r\n```\r\n\r\nI want to test the correct functionality of workers in Spring integration test, but before that I need to insert some test data and prepare the scenario. Problem is the runner starts too soon. How do I defer the execution of `CommandLineRunner` in Spring integration test?","title":"How to defer CommandLineRunner execution in Spring Boot test","body":"<p>I start worker threads in <code>CommandLineRunner</code> component</p>\n<pre><code>@Override\npublic void run(String... args) throws Exception {\n    range(0, count).forEach(i -&gt; taskExecutor.execute(() -&gt; {\n        while (true) {\n            doWork();\n        }\n    }));\n}\n</code></pre>\n<p>I want to test the correct functionality of workers in Spring integration test, but before that I need to insert some test data and prepare the scenario. Problem is the runner starts too soon. How do I defer the execution of <code>CommandLineRunner</code> in Spring integration test?</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam","avro"],"comments":[{"owner":{"account_id":21381582,"reputation":1706,"user_id":15747414,"display_name":"Prajna Rai T"},"score":1,"creation_date":1680770589,"post_id":75937086,"comment_id":133955458,"body_markdown":"Could you elaborate more on the use case of your pipeline and provide the sample code you have tried?\nDoes this [link](https://stackoverflow.com/questions/51459902/avro-genericrecords-bigquery-and-beam) help you?","body":"Could you elaborate more on the use case of your pipeline and provide the sample code you have tried? Does this <a href=\"https://stackoverflow.com/questions/51459902/avro-genericrecords-bigquery-and-beam\">link</a> help you?"}],"owner":{"account_id":4306523,"reputation":7811,"user_id":3518757,"accept_rate":73,"display_name":"oikonomiyaki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680682252,"creation_date":1680682252,"question_id":75937086,"body_markdown":"We are processing Avro files and we use the GenericRecord type (in Beam/Dataflow). I want to create a new GenericRecord based on select subset of columns. Is there a simpler way of doing this without tinkering with the Schema part (like I don&#39;t have to create/define a new Schema with subset of columns from the original Schema)?","title":"Getting a new GenericRecord from a subset of columns","body":"<p>We are processing Avro files and we use the GenericRecord type (in Beam/Dataflow). I want to create a new GenericRecord based on select subset of columns. Is there a simpler way of doing this without tinkering with the Schema part (like I don't have to create/define a new Schema with subset of columns from the original Schema)?</p>\n"},{"tags":["java","apache-spark","hadoop","parquet"],"answers":[{"comments":[{"owner":{"account_id":904959,"reputation":992,"user_id":940037,"display_name":"java_dev"},"score":3,"creation_date":1568295870,"post_id":55272361,"comment_id":102236042,"body_markdown":"What if I would like to insert a null value for a particular field in row group ?","body":"What if I would like to insert a null value for a particular field in row group ?"}],"tags":[],"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1553130550,"creation_date":1553130550,"answer_id":55272361,"question_id":55247724,"body_markdown":"The solution turns out to be quite simple, just don&#39;t write a value:\r\n\r\n```\r\n// create row 1 with defined values\r\nGroup group1 = f.newGroup();\r\nInteger int1 = 100;\r\nDouble double1 = 0.5;\r\nString string1 = &quot;string-value&quot;;\r\ngroup1.add(0, int1);\r\ngroup1.add(1, double1);\r\ngroup1.add(2, string1);\r\nwriter.write(group1);\r\n\r\n// create row 2 with NULL values -- does not work!\r\nGroup group2 = f.newGroup();\r\n// do nothing !\r\nwriter.write(group2);\r\n\r\n// Now, parquet file will have 2 rows, one with values, one with null values\r\n```","title":"How can I write NULL value to parquet using org.apache.parquet.hadoop.ParquetWriter?","body":"<p>The solution turns out to be quite simple, just don't write a value:</p>\n\n<pre><code>// create row 1 with defined values\nGroup group1 = f.newGroup();\nInteger int1 = 100;\nDouble double1 = 0.5;\nString string1 = \"string-value\";\ngroup1.add(0, int1);\ngroup1.add(1, double1);\ngroup1.add(2, string1);\nwriter.write(group1);\n\n// create row 2 with NULL values -- does not work!\nGroup group2 = f.newGroup();\n// do nothing !\nwriter.write(group2);\n\n// Now, parquet file will have 2 rows, one with values, one with null values\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28220413,"reputation":1,"user_id":21571240,"display_name":"Jan Kolanowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680682066,"creation_date":1680681435,"answer_id":75936950,"question_id":55247724,"body_markdown":"I believe you can use\r\n\r\n    .withSchema(ReflectData.AllowNull.get()\r\n                        .getSchema(classThatYouAreWritingToParquet.class)\r\n\r\nThis helped in my case.\r\n\r\n","title":"How can I write NULL value to parquet using org.apache.parquet.hadoop.ParquetWriter?","body":"<p>I believe you can use</p>\n<pre><code>.withSchema(ReflectData.AllowNull.get()\n                    .getSchema(classThatYouAreWritingToParquet.class)\n</code></pre>\n<p>This helped in my case.</p>\n"}],"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5510,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":55272361,"answer_count":2,"score":3,"last_activity_date":1680682066,"creation_date":1553019910,"question_id":55247724,"body_markdown":"I have a tool that uses a [org.apache.parquet.hadoop.ParquetWriter][1] to convert CSV data files to parquet data files.\r\n\r\nI can write basic primitive types just fine (INT32, DOUBLE, BINARY string).\r\n\r\nI need to write NULL values, but I do not know how. I&#39;ve tried simply writing `null` with ParquetWriter, and it throws an exception.\r\n\r\n**How can I write NULL using [org.apache.parquet.hadoop.ParquetWriter][1]? Is there a nullable type?**\r\n\r\nThe code I believe is self explanatory:\r\n```\r\n    ArrayList&lt;Type&gt; fields = new ArrayList&lt;&gt;();\r\n    fields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.INT32, &quot;int32_col&quot;, null));\r\n    fields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.DOUBLE, &quot;double_col&quot;, null));\r\n    fields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.BINARY, &quot;string_col&quot;, null));\r\n    MessageType schema = new MessageType(&quot;input&quot;, fields);\r\n\r\n    Configuration configuration = new Configuration();\r\n    configuration.setQuietMode(true);\r\n    GroupWriteSupport.setSchema(schema, configuration);\r\n    SimpleGroupFactory f = new SimpleGroupFactory(schema);\r\n    ParquetWriter&lt;Group&gt; writer = new ParquetWriter&lt;Group&gt;(\r\n      new Path(&quot;output.parquet&quot;),\r\n      new GroupWriteSupport(),\r\n      CompressionCodecName.SNAPPY,\r\n      ParquetWriter.DEFAULT_BLOCK_SIZE,\r\n      ParquetWriter.DEFAULT_PAGE_SIZE,\r\n      1048576,\r\n      true,\r\n      false,\r\n      ParquetProperties.WriterVersion.PARQUET_1_0,\r\n      configuration\r\n    );\r\n\r\n    // create row 1 with defined values\r\n    Group group1 = f.newGroup();\r\n    Integer int1 = 100;\r\n    Double double1 = 0.5;\r\n    String string1 = &quot;string-value&quot;;\r\n    group1.add(0, int1);\r\n    group1.add(1, double1);\r\n    group1.add(2, string1);\r\n    writer.write(group1);\r\n\r\n    // create row 2 with NULL values -- does not work!\r\n    Group group2 = f.newGroup();\r\n    Integer int2 = null;\r\n    Double double2 = null;\r\n    String string2 = null;\r\n    group2.add(0, int2); // &lt;-- throws NullPointerException\r\n    group2.add(1, double2); // &lt;-- throws NullPointerException\r\n    group2.add(2, string2); // &lt;-- throws NullPointerException\r\n    writer.write(group2);\r\n\r\n    writer.close();\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/apache/parquet-mr/blob/master/parquet-hadoop/src/main/java/org/apache/parquet/hadoop/ParquetWriter.java","title":"How can I write NULL value to parquet using org.apache.parquet.hadoop.ParquetWriter?","body":"<p>I have a tool that uses a <a href=\"https://github.com/apache/parquet-mr/blob/master/parquet-hadoop/src/main/java/org/apache/parquet/hadoop/ParquetWriter.java\" rel=\"nofollow noreferrer\">org.apache.parquet.hadoop.ParquetWriter</a> to convert CSV data files to parquet data files.</p>\n\n<p>I can write basic primitive types just fine (INT32, DOUBLE, BINARY string).</p>\n\n<p>I need to write NULL values, but I do not know how. I've tried simply writing <code>null</code> with ParquetWriter, and it throws an exception.</p>\n\n<p><strong>How can I write NULL using <a href=\"https://github.com/apache/parquet-mr/blob/master/parquet-hadoop/src/main/java/org/apache/parquet/hadoop/ParquetWriter.java\" rel=\"nofollow noreferrer\">org.apache.parquet.hadoop.ParquetWriter</a>? Is there a nullable type?</strong></p>\n\n<p>The code I believe is self explanatory:</p>\n\n<pre><code>    ArrayList&lt;Type&gt; fields = new ArrayList&lt;&gt;();\n    fields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.INT32, \"int32_col\", null));\n    fields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.DOUBLE, \"double_col\", null));\n    fields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.BINARY, \"string_col\", null));\n    MessageType schema = new MessageType(\"input\", fields);\n\n    Configuration configuration = new Configuration();\n    configuration.setQuietMode(true);\n    GroupWriteSupport.setSchema(schema, configuration);\n    SimpleGroupFactory f = new SimpleGroupFactory(schema);\n    ParquetWriter&lt;Group&gt; writer = new ParquetWriter&lt;Group&gt;(\n      new Path(\"output.parquet\"),\n      new GroupWriteSupport(),\n      CompressionCodecName.SNAPPY,\n      ParquetWriter.DEFAULT_BLOCK_SIZE,\n      ParquetWriter.DEFAULT_PAGE_SIZE,\n      1048576,\n      true,\n      false,\n      ParquetProperties.WriterVersion.PARQUET_1_0,\n      configuration\n    );\n\n    // create row 1 with defined values\n    Group group1 = f.newGroup();\n    Integer int1 = 100;\n    Double double1 = 0.5;\n    String string1 = \"string-value\";\n    group1.add(0, int1);\n    group1.add(1, double1);\n    group1.add(2, string1);\n    writer.write(group1);\n\n    // create row 2 with NULL values -- does not work!\n    Group group2 = f.newGroup();\n    Integer int2 = null;\n    Double double2 = null;\n    String string2 = null;\n    group2.add(0, int2); // &lt;-- throws NullPointerException\n    group2.add(1, double2); // &lt;-- throws NullPointerException\n    group2.add(2, string2); // &lt;-- throws NullPointerException\n    writer.write(group2);\n\n    writer.close();\n</code></pre>\n"},{"tags":["java","spring-boot","kotlin","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":6596539,"reputation":1350,"user_id":5096142,"display_name":"Carlos"},"score":0,"creation_date":1680529902,"post_id":75919856,"comment_id":133909307,"body_markdown":"is there something blocking you from using @MappedSuperclass ? https://vladmihalcea.com/how-to-inherit-properties-from-a-base-class-entity-using-mappedsuperclass-with-jpa-and-hibernate/","body":"is there something blocking you from using @MappedSuperclass ? <a href=\"https://vladmihalcea.com/how-to-inherit-properties-from-a-base-class-entity-using-mappedsuperclass-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"},{"owner":{"account_id":6596539,"reputation":1350,"user_id":5096142,"display_name":"Carlos"},"score":0,"creation_date":1680530023,"post_id":75919856,"comment_id":133909348,"body_markdown":"i would use it in your case and avoid the unnecesary &quot;working_model&quot; table in your schema","body":"i would use it in your case and avoid the unnecesary &quot;working_model&quot; table in your schema"}],"owner":{"account_id":23492579,"reputation":5,"user_id":17543425,"display_name":"flotz100"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680681721,"creation_date":1680527506,"question_id":75919856,"body_markdown":"I am building a web application with Spring Boot. This application contains the Employees and I am trying to filter them with the JPA Criteria API.\r\n\r\nThe problems:\r\n\r\n - `Employee` contains a field `var workingModel: WorkingModel` which is a super class. I want to filter for the child class `PartTime`. How do I cast to this child class with the API?\r\n- The child class `PartTime` contains a list of `PartTimePeriod`. I want to check whether there is a `PartTimePeriod` that matches the criteria. How do I do this?\r\n- I want to relax the constraints of the filter criteria of `PartTimePeriod` so that if for example only `startTime` matches and `endTime` is off by 1 or 2 hours it also returns the `Employee`.\r\n\r\nHere is the Code: \r\n\r\n```java\r\n@Entity(name = &quot;Employee&quot;)\r\nclass Employee {\r\n    ...\r\n\r\n    @OneToOne(fetch = FetchType.LAZY, cascade = [CascadeType.ALL])\r\n    @Fetch(value = FetchMode.SELECT)\r\n    var workingModel: WorkingModel\r\n\r\n    ...\r\n}\r\n\r\n```\r\n\r\n```java\r\n@Entity(name = &quot;working_model&quot;)\r\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\nopen class WorkingModel (\r\n    @JsonIgnore\r\n    @OneToOne(fetch = FetchType.LAZY, cascade = [CascadeType.ALL])\r\n    var employee: Employee? = null,\r\n\r\n    @Id @GeneratedValue(strategy = GenerationType.TABLE)\r\n    @Column(name = &quot;working_model_id&quot;, nullable = false)\r\n    private var id: Long = 0\r\n)\r\n```\r\n\r\n```java\r\n@Entity(name = &quot;part_time&quot;)\r\nclass PartTime(\r\n    @ManyToMany(fetch = FetchType.LAZY, cascade = [CascadeType.ALL])\r\n    @Fetch(value = FetchMode.SELECT)\r\n    var partTimePeriods: MutableList&lt;PartTimePeriod&gt; = ArrayList()\r\n) : WorkingModel()\r\n```\r\n\r\n\r\n**UPDATE:** \r\n\r\nI have a somewhat complex query, where I want to filter the Employees by some fields and rank them accorinding to the best fit.\r\n\r\nTo filter for `PartTime` i wanted to make a subquery which looks like this:\r\n\r\n```java\r\n    private fun subQueryForPartTimePeriod(root: Root&lt;Employee?&gt;, builder: CriteriaBuilder, query: CriteriaQuery&lt;*&gt;, criteria: SearchCriteria): Predicate {\r\n        val subquery: Subquery&lt;PartTimePeriod&gt; = query.subquery(PartTimePeriod::class.java)\r\n\r\n\r\n        val workingModel = root.join&lt;Employee, WorkingModel&gt;(&quot;workingModel&quot;)\r\n        val partTime = builder.treat(workingModel, PartTime::class.java)\r\n        val partTimePeriods = partTime.join&lt;PartTime, PartTimePeriod&gt;(&quot;partTimePeriods&quot;)\r\n\r\n        subquery.select(partTimePeriods)\r\n        subquery.where(builder.equal(partTimePeriods.get&lt;String&gt;(&quot;day&quot;), (criteria.value as PartTimePeriod).day),\r\n            builder.equal(partTimePeriods.get&lt;LocalTime&gt;(&quot;startTime&quot;), (criteria.value).startTime),\r\n            builder.equal(partTimePeriods.get&lt;LocalTime&gt;(&quot;endTime&quot;), (criteria.value).endTime))\r\n       return builder.exists(subquery)\r\n    }\r\n```\r\n\r\nThis gives me the following error when trying to filter by `PartTime`:\r\n\r\n```\r\nunexpected token: where near line 1, column 782 [select distinct generatedAlias0 from com.jobstop.backend.model.employee.Employee as generatedAlias0 inner join generatedAlias0.jobInterestRegions as generatedAlias1 inner join generatedAlias0.workingModel as generatedAlias2 inner join generatedAlias0.workingModel as generatedAlias3 inner join generatedAlias3.partTimePeriods as generatedAlias4 inner join generatedAlias0.professions as generatedAlias5 where ( ( generatedAlias1.jobInterestRegion=:param0 ) or ( function(&#39;ST_Distance_Sphere&#39;, function(&#39;point&#39;, generatedAlias0.latitude, generatedAlias0.longitude), function(&#39;point&#39;, 46.70961D, 14.50697D))&lt;generatedAlias1.distance ) ) and ( :param1 = true ) order by (case when generatedAlias5.umbrellaTerm=:param2 then 2 else 0 end+(case when exists (select generatedAlias4 from  where ( generatedAlias4.day=:param3 ) and ( generatedAlias4.startTime=:param4 ) and ( generatedAlias4.endTime=:param5 )) then 10 else 0 end+0)) desc]\r\n```","title":"JPA Criteria API - query childclass and filter for object within the childclass","body":"<p>I am building a web application with Spring Boot. This application contains the Employees and I am trying to filter them with the JPA Criteria API.</p>\n<p>The problems:</p>\n<ul>\n<li><code>Employee</code> contains a field <code>var workingModel: WorkingModel</code> which is a super class. I want to filter for the child class <code>PartTime</code>. How do I cast to this child class with the API?</li>\n<li>The child class <code>PartTime</code> contains a list of <code>PartTimePeriod</code>. I want to check whether there is a <code>PartTimePeriod</code> that matches the criteria. How do I do this?</li>\n<li>I want to relax the constraints of the filter criteria of <code>PartTimePeriod</code> so that if for example only <code>startTime</code> matches and <code>endTime</code> is off by 1 or 2 hours it also returns the <code>Employee</code>.</li>\n</ul>\n<p>Here is the Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;Employee&quot;)\nclass Employee {\n    ...\n\n    @OneToOne(fetch = FetchType.LAZY, cascade = [CascadeType.ALL])\n    @Fetch(value = FetchMode.SELECT)\n    var workingModel: WorkingModel\n\n    ...\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;working_model&quot;)\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\nopen class WorkingModel (\n    @JsonIgnore\n    @OneToOne(fetch = FetchType.LAZY, cascade = [CascadeType.ALL])\n    var employee: Employee? = null,\n\n    @Id @GeneratedValue(strategy = GenerationType.TABLE)\n    @Column(name = &quot;working_model_id&quot;, nullable = false)\n    private var id: Long = 0\n)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;part_time&quot;)\nclass PartTime(\n    @ManyToMany(fetch = FetchType.LAZY, cascade = [CascadeType.ALL])\n    @Fetch(value = FetchMode.SELECT)\n    var partTimePeriods: MutableList&lt;PartTimePeriod&gt; = ArrayList()\n) : WorkingModel()\n</code></pre>\n<p><strong>UPDATE:</strong></p>\n<p>I have a somewhat complex query, where I want to filter the Employees by some fields and rank them accorinding to the best fit.</p>\n<p>To filter for <code>PartTime</code> i wanted to make a subquery which looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private fun subQueryForPartTimePeriod(root: Root&lt;Employee?&gt;, builder: CriteriaBuilder, query: CriteriaQuery&lt;*&gt;, criteria: SearchCriteria): Predicate {\n        val subquery: Subquery&lt;PartTimePeriod&gt; = query.subquery(PartTimePeriod::class.java)\n\n\n        val workingModel = root.join&lt;Employee, WorkingModel&gt;(&quot;workingModel&quot;)\n        val partTime = builder.treat(workingModel, PartTime::class.java)\n        val partTimePeriods = partTime.join&lt;PartTime, PartTimePeriod&gt;(&quot;partTimePeriods&quot;)\n\n        subquery.select(partTimePeriods)\n        subquery.where(builder.equal(partTimePeriods.get&lt;String&gt;(&quot;day&quot;), (criteria.value as PartTimePeriod).day),\n            builder.equal(partTimePeriods.get&lt;LocalTime&gt;(&quot;startTime&quot;), (criteria.value).startTime),\n            builder.equal(partTimePeriods.get&lt;LocalTime&gt;(&quot;endTime&quot;), (criteria.value).endTime))\n       return builder.exists(subquery)\n    }\n</code></pre>\n<p>This gives me the following error when trying to filter by <code>PartTime</code>:</p>\n<pre><code>unexpected token: where near line 1, column 782 [select distinct generatedAlias0 from com.jobstop.backend.model.employee.Employee as generatedAlias0 inner join generatedAlias0.jobInterestRegions as generatedAlias1 inner join generatedAlias0.workingModel as generatedAlias2 inner join generatedAlias0.workingModel as generatedAlias3 inner join generatedAlias3.partTimePeriods as generatedAlias4 inner join generatedAlias0.professions as generatedAlias5 where ( ( generatedAlias1.jobInterestRegion=:param0 ) or ( function('ST_Distance_Sphere', function('point', generatedAlias0.latitude, generatedAlias0.longitude), function('point', 46.70961D, 14.50697D))&lt;generatedAlias1.distance ) ) and ( :param1 = true ) order by (case when generatedAlias5.umbrellaTerm=:param2 then 2 else 0 end+(case when exists (select generatedAlias4 from  where ( generatedAlias4.day=:param3 ) and ( generatedAlias4.startTime=:param4 ) and ( generatedAlias4.endTime=:param5 )) then 10 else 0 end+0)) desc]\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":1287981,"reputation":463,"user_id":1240678,"display_name":"Tyreal"},"score":0,"creation_date":1686742242,"post_id":75907541,"comment_id":134840178,"body_markdown":"For us the update to v4.8.3 is even breaking a working setup of v4.8.0. We are using a standalone selenium node on a remote server.","body":"For us the update to v4.8.3 is even breaking a working setup of v4.8.0. We are using a standalone selenium node on a remote server."}],"answers":[{"tags":[],"owner":{"account_id":28220368,"reputation":1,"user_id":21571205,"display_name":"David Unsaved"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680681713,"creation_date":1680681713,"answer_id":75936995,"question_id":75907541,"body_markdown":"You have to add &quot;options.addArguments(&quot;--remote-allow-origins=*&quot;);&quot; to your ChromeDriver and it should work fine. If not, then check if your Firewall prevents the chromedriver.exe file to run.\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n        driver = new ChromeDriver(options);","title":"Selenium project stops working after updating to 4.8.3","body":"<p>You have to add &quot;options.addArguments(&quot;--remote-allow-origins=*&quot;);&quot; to your ChromeDriver and it should work fine. If not, then check if your Firewall prevents the chromedriver.exe file to run.</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\n    options.addArguments(&quot;--remote-allow-origins=*&quot;);\n    driver = new ChromeDriver(options);\n</code></pre>\n"}],"owner":{"account_id":20114539,"reputation":21,"user_id":20843765,"display_name":"Orca37"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1019,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680681713,"creation_date":1680367574,"question_id":75907541,"body_markdown":"My selenium Java project was working fine on Selenium version 4.7.0 till I updated Google Chrome to version 111.\r\n\r\nAccording to this thread, updating Selenium to version 4.8.3 should fix the incompatibilities:\r\nhttps://stackoverflow.com/questions/75674124/can-i-set-remote-allow-origins-without-using-a-wildcard-in-selenium\r\n\r\nSo I updated the selenium project and got chromedriver version 111 to work with Google Chrome 111.\r\nBut now the Java program won&#39;t start either due to the following errors:\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\nHost info: host: &#39;host.name&#39;, ip: &#39;123.123.123.123&#39;\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:561)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:52)\r\n\tat AutoChrome.Main.init(Main.java:41)\r\n\tat AutoChrome.Main.main(Main.java:22)\r\nCaused by: org.openqa.selenium.WebDriverException: Timed out waiting for driver process to start.\r\nBuild info: version: &#39;4.8.3&#39;, revision: &#39;e5e76298c3&#39;\r\nSystem info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;4.19.0&#39;, java.version: &#39;11.0.18&#39;\r\nDriver info: driver.version: ChromeDriver\r\n\tat org.openqa.selenium.remote.service.DriverService.start(DriverService.java:208)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:114)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n\t... 8 more\r\n```\r\n\r\nCode line 41, which throws the error:\r\n\r\n&gt; driver = new ChromeDriver();\r\n\r\n\r\n\r\nThe chromedriver file is executable. Version 112 of chromedriver won&#39;t work either.\r\n\r\nWhat could be the reason and solution?","title":"Selenium project stops working after updating to 4.8.3","body":"<p>My selenium Java project was working fine on Selenium version 4.7.0 till I updated Google Chrome to version 111.</p>\n<p>According to this thread, updating Selenium to version 4.8.3 should fix the incompatibilities:\n<a href=\"https://stackoverflow.com/questions/75674124/can-i-set-remote-allow-origins-without-using-a-wildcard-in-selenium\">Can I set remote-allow-origins without using a wildcard in Selenium?</a></p>\n<p>So I updated the selenium project and got chromedriver version 111 to work with Google Chrome 111.\nBut now the Java program won't start either due to the following errors:</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \nHost info: host: 'host.name', ip: '123.123.123.123'\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:561)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:52)\n    at AutoChrome.Main.init(Main.java:41)\n    at AutoChrome.Main.main(Main.java:22)\nCaused by: org.openqa.selenium.WebDriverException: Timed out waiting for driver process to start.\nBuild info: version: '4.8.3', revision: 'e5e76298c3'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '4.19.0', java.version: '11.0.18'\nDriver info: driver.version: ChromeDriver\n    at org.openqa.selenium.remote.service.DriverService.start(DriverService.java:208)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:114)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    ... 8 more\n</code></pre>\n<p>Code line 41, which throws the error:</p>\n<blockquote>\n<p>driver = new ChromeDriver();</p>\n</blockquote>\n<p>The chromedriver file is executable. Version 112 of chromedriver won't work either.</p>\n<p>What could be the reason and solution?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1680609969,"post_id":75928169,"comment_id":133924043,"body_markdown":"Java is not .Net.  Java convention is that generic types are each a single uppercase letter.  Of course, you can write your code however you want, but if you want people to understand your code faster, especially people with Java experience, it is to your benefit to stick to Java conventions.  All of that aside, there is no way to make a generic type optional, but you can always use java.lang.Void as an instance‚Äôs generic type argument, since it is not possible for any code to create a Void instance.","body":"Java is not .Net.  Java convention is that generic types are each a single uppercase letter.  Of course, you can write your code however you want, but if you want people to understand your code faster, especially people with Java experience, it is to your benefit to stick to Java conventions.  All of that aside, there is no way to make a generic type optional, but you can always use java.lang.Void as an instance‚Äôs generic type argument, since it is not possible for any code to create a Void instance."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1680681684,"post_id":75928169,"comment_id":133937513,"body_markdown":"I understand your logic @VGR but I disagree. I have posted a response explaining in better detail.","body":"I understand your logic @VGR but I disagree. I have posted a response explaining in better detail."}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680681619,"creation_date":1680681619,"answer_id":75936982,"question_id":75928169,"body_markdown":"I think the separate interface is a good idea. By having a separate interface, you remove the haziness over what the return type should be.\r\n\r\nI would also go further and strongly recommend that you do not follow the advice of @VGR. Using java.lang.Void needlessly complicates the design when really, all you want to say is that there is no return type. Using this form of indirection is a great way to introduce hard to find bugs.\r\n\r\nVoid makes sense when you are stuck with an API convention and have no way to change it. But since you are actively creating the endpoint now, there is no good reason to introduce it when you have the option to be even more clear.","title":"Can I set a generic argument as nullable or should I create two interfaces?","body":"<p>I think the separate interface is a good idea. By having a separate interface, you remove the haziness over what the return type should be.</p>\n<p>I would also go further and strongly recommend that you do not follow the advice of @VGR. Using java.lang.Void needlessly complicates the design when really, all you want to say is that there is no return type. Using this form of indirection is a great way to introduce hard to find bugs.</p>\n<p>Void makes sense when you are stuck with an API convention and have no way to change it. But since you are actively creating the endpoint now, there is no good reason to introduce it when you have the option to be even more clear.</p>\n"}],"owner":{"account_id":7148272,"reputation":237,"user_id":5463254,"accept_rate":50,"display_name":"Morgoth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75936982,"answer_count":1,"score":1,"last_activity_date":1680681619,"creation_date":1680603386,"question_id":75928169,"body_markdown":"I&#39;m kinda new to generics in Java. I created an interface serving as a contract for all request handlers between my web layer and my domain layer (I&#39;m trying to have one handler per use case instead of giant services). Here is the code of the interface:\r\n\r\n    public interface RequestHandler&lt;TResponse, TRequest&gt; {\r\n\tResponse&lt;TResponse&gt; Handle(TRequest request);\r\n    }\r\nthe &quot;Response&quot; type is a wrapper type that handles the state of any response from my domain (hasFailed, errorMessage,etc.).\r\nSo my issue is that sometimes I&#39;ll have requests that might be empty (for instance a &quot;GetAll&quot;). Is it possible in java to have a sort of constraint that will allow implementations to not have a TRequest or should I declare an other interface for that ?\r\n\r\nThanks !\r\n","title":"Can I set a generic argument as nullable or should I create two interfaces?","body":"<p>I'm kinda new to generics in Java. I created an interface serving as a contract for all request handlers between my web layer and my domain layer (I'm trying to have one handler per use case instead of giant services). Here is the code of the interface:</p>\n<pre><code>public interface RequestHandler&lt;TResponse, TRequest&gt; {\nResponse&lt;TResponse&gt; Handle(TRequest request);\n}\n</code></pre>\n<p>the &quot;Response&quot; type is a wrapper type that handles the state of any response from my domain (hasFailed, errorMessage,etc.).\nSo my issue is that sometimes I'll have requests that might be empty (for instance a &quot;GetAll&quot;). Is it possible in java to have a sort of constraint that will allow implementations to not have a TRequest or should I declare an other interface for that ?</p>\n<p>Thanks !</p>\n"},{"tags":["java","asynchronous","completable-future"],"answers":[{"tags":[],"owner":{"account_id":7480007,"reputation":11,"user_id":5685043,"display_name":"Himanshu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680197071,"creation_date":1680197071,"answer_id":75891250,"question_id":75891111,"body_markdown":"You might get a performance gain which may be very negligible since you are removing the processing of thenApply(), But if all 3 methods needs to be run sequentially in any case, then why to even consider the first approach and instead create a new method which will call other 3 and use the new one. \r\n\r\n    service.processAsync(context, id)\r\n            .thenApply(this::callerMethod)\r\n            .exceptionally(this::handleError);\r\n\r\n```\r\ncallerMethod() {\r\ndoSimpleStuff();\r\ndoAnotherExtraStuff();\r\ndoFinalStuff();\r\n}\r\n```","title":"Overhead of using extra thenApply methods in CompletableFutures?","body":"<p>You might get a performance gain which may be very negligible since you are removing the processing of thenApply(), But if all 3 methods needs to be run sequentially in any case, then why to even consider the first approach and instead create a new method which will call other 3 and use the new one.</p>\n<pre><code>service.processAsync(context, id)\n        .thenApply(this::callerMethod)\n        .exceptionally(this::handleError);\n</code></pre>\n<pre><code>callerMethod() {\ndoSimpleStuff();\ndoAnotherExtraStuff();\ndoFinalStuff();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680681090,"creation_date":1680681090,"answer_id":75936904,"question_id":75891111,"body_markdown":"As @Himanshu mentioned, the performance benefit gained will be negligible, so much so that you should not depend on it as justification unless you are doing something ***really*** performance intensive (in which case, there are much higher priority things to fix before trying to stick all of the functions in one methond).\r\n\r\nBut to contrast the answer that @Himanshu gave, I would encourage you to keep the functions separate. It allows you to swap out a function for another should an implementation detail need to change in the future, and it lets you keep your code base free of ad-hoc simplification functions all over the place. Those tend to be a place where bugs hide.\r\n\r\nBut truthfully, it&#39;s not much loss either direction, so do what makes sense for your situation.","title":"Overhead of using extra thenApply methods in CompletableFutures?","body":"<p>As @Himanshu mentioned, the performance benefit gained will be negligible, so much so that you should not depend on it as justification unless you are doing something <em><strong>really</strong></em> performance intensive (in which case, there are much higher priority things to fix before trying to stick all of the functions in one methond).</p>\n<p>But to contrast the answer that @Himanshu gave, I would encourage you to keep the functions separate. It allows you to swap out a function for another should an implementation detail need to change in the future, and it lets you keep your code base free of ad-hoc simplification functions all over the place. Those tend to be a place where bugs hide.</p>\n<p>But truthfully, it's not much loss either direction, so do what makes sense for your situation.</p>\n"}],"owner":{"account_id":17491509,"reputation":133,"user_id":12683575,"display_name":"Stranger95"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1680681090,"creation_date":1680196100,"question_id":75891111,"body_markdown":"I&#39;m using java 11.\r\n\r\nLet&#39;s say I have this code snippet where we&#39;re handling the completable future response:\r\n\r\n    service.processAsync(context)\r\n                .thenApply(this::doSimpleStuff)\r\n                .thenApply(this::doAnotherExtraStuff)\r\n                .thenApply(this::doFinalStuff)\r\n                .exceptionally(this::handleError);\r\n\r\nIf I fold all my `doSimpleStuff`, `doAnotherExtraStuff` and `doFinalStuff` into one function would it make a difference performance-wise?\r\n\r\nWill this code run faster or will this be just less readable?\r\n\r\n    service.processAsync(context)\r\n                .thenApply(this::doEverythingInOneFunction)\r\n                .exceptionally(this::handleError);","title":"Overhead of using extra thenApply methods in CompletableFutures?","body":"<p>I'm using java 11.</p>\n<p>Let's say I have this code snippet where we're handling the completable future response:</p>\n<pre><code>service.processAsync(context)\n            .thenApply(this::doSimpleStuff)\n            .thenApply(this::doAnotherExtraStuff)\n            .thenApply(this::doFinalStuff)\n            .exceptionally(this::handleError);\n</code></pre>\n<p>If I fold all my <code>doSimpleStuff</code>, <code>doAnotherExtraStuff</code> and <code>doFinalStuff</code> into one function would it make a difference performance-wise?</p>\n<p>Will this code run faster or will this be just less readable?</p>\n<pre><code>service.processAsync(context)\n            .thenApply(this::doEverythingInOneFunction)\n            .exceptionally(this::handleError);\n</code></pre>\n"},{"tags":["java","android","admob"],"answers":[{"comments":[{"owner":{"account_id":3306015,"reputation":668,"user_id":2780808,"accept_rate":79,"display_name":"Ercksen"},"score":0,"creation_date":1404133101,"post_id":24479885,"comment_id":37910967,"body_markdown":"No, this is not the problem. Also explicitly calling those methods (onResume() in this case) does not work.","body":"No, this is not the problem. Also explicitly calling those methods (onResume() in this case) does not work."}],"tags":[],"owner":{"account_id":3249016,"reputation":180,"user_id":2739814,"accept_rate":88,"display_name":"Angelo Cassano"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404073018,"creation_date":1404073018,"answer_id":24479885,"question_id":24479377,"body_markdown":"Maybe you forgot implementing these important methods\r\n\r\n    public void onPause() {\r\n\t\tsuper.onPause();\r\n\t\tthis.adView.pause();\r\n\t}\r\n\r\n\tpublic void onResume() {\r\n\t\tsuper.onResume();\r\n\t\tthis.adView.resume();\r\n\t}","title":"Android AdView not visible - but clickable","body":"<p>Maybe you forgot implementing these important methods</p>\n\n<pre><code>public void onPause() {\n    super.onPause();\n    this.adView.pause();\n}\n\npublic void onResume() {\n    super.onResume();\n    this.adView.resume();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3306015,"reputation":668,"user_id":2780808,"accept_rate":79,"display_name":"Ercksen"},"score":0,"creation_date":1404133635,"post_id":24486981,"comment_id":37911314,"body_markdown":"Basically this works. In my case, the RenderSurfaceView&#39;s width got smaller, but I am sure you could fix this.\n\nTaken from another question here, I have found this solution: Call any method that updates the ad.\n\nThis works good for me:\n\n`adView.setBackgroundColor(Color.BLACK);`\n\nBut actually, your solution is working.","body":"Basically this works. In my case, the RenderSurfaceView&#39;s width got smaller, but I am sure you could fix this.  Taken from another question here, I have found this solution: Call any method that updates the ad.  This works good for me:  <code>adView.setBackgroundColor(Color.BLACK);</code>  But actually, your solution is working."},{"owner":{"account_id":230213,"reputation":20200,"user_id":493682,"accept_rate":82,"display_name":"William"},"score":0,"creation_date":1404194212,"post_id":24486981,"comment_id":37934308,"body_markdown":"You are better off not forcing a touch of the UI. Configure it correctly to begin with. The code above should have have affected the width of your RenderView in any way, that smells of something else wrong with your code.","body":"You are better off not forcing a touch of the UI. Configure it correctly to begin with. The code above should have have affected the width of your RenderView in any way, that smells of something else wrong with your code."}],"tags":[],"owner":{"account_id":230213,"reputation":20200,"user_id":493682,"accept_rate":82,"display_name":"William"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1404194126,"creation_date":1404120676,"answer_id":24486981,"question_id":24479377,"body_markdown":"Your problem is that you have told you RenderSurfaceView to matchParent forits height. THis means that it will consume all of the space of its parent leaving none for the AdView.\r\n\r\nTry this instead:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:ads=&quot;http://schemas.android.com/apk/lib/com.google.android.gms.ads&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#000000&quot;\r\n    android:orientation=&quot;vertical&quot; &gt;\r\n    \r\n    &lt;org.andengine.opengl.view.RenderSurfaceView\r\n        android:id=&quot;@+id/SurfaceViewId&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:gravity=&quot;center&quot; /&gt;\r\n    \r\n    &lt;com.google.android.gms.ads.AdView xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/adViewId&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        ads:adUnitId=&quot;XXX&quot;\r\n        ads:adSize=&quot;BANNER&quot; /&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nThis uses layout_weight with LinearLayout to have your RenderSurfaceView expand to fill all unused vertical space.","title":"Android AdView not visible - but clickable","body":"<p>Your problem is that you have told you RenderSurfaceView to matchParent forits height. THis means that it will consume all of the space of its parent leaving none for the AdView.</p>\n\n<p>Try this instead:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:ads=\"http://schemas.android.com/apk/lib/com.google.android.gms.ads\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"#000000\"\nandroid:orientation=\"vertical\" &gt;\n\n&lt;org.andengine.opengl.view.RenderSurfaceView\n    android:id=\"@+id/SurfaceViewId\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_weight=\"1\"\n    android:gravity=\"center\" /&gt;\n\n&lt;com.google.android.gms.ads.AdView xmlns:ads=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/adViewId\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    ads:adUnitId=\"XXX\"\n    ads:adSize=\"BANNER\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>This uses layout_weight with LinearLayout to have your RenderSurfaceView expand to fill all unused vertical space.</p>\n"},{"tags":[],"owner":{"account_id":14335976,"reputation":103,"user_id":10355442,"display_name":"Saket Milan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680680906,"creation_date":1680680906,"answer_id":75936880,"question_id":24479377,"body_markdown":"Check if there is any foreground set to your parent layout in which you are loading adview. In my case there was a foreground color set and on fast scrolling of recyclerview, foreground color was being set over AdView.\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/ll_strip_ad&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:foreground=&quot;?attr/window_background_attr&quot; //on commenting this line issue resolved.\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;com.google.android.gms.ads.AdView\r\n            android:id=&quot;@+id/adViewId&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            ads:adUnitId=&quot;XXX&quot;\r\n            ads:adSize=&quot;BANNER&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;","title":"Android AdView not visible - but clickable","body":"<p>Check if there is any foreground set to your parent layout in which you are loading adview. In my case there was a foreground color set and on fast scrolling of recyclerview, foreground color was being set over AdView.</p>\n<pre><code>&lt;LinearLayout\n    android:id=&quot;@+id/ll_strip_ad&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:clickable=&quot;true&quot;\n    android:orientation=&quot;vertical&quot;\n    android:foreground=&quot;?attr/window_background_attr&quot; //on commenting this line issue resolved.\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;&gt;\n\n    &lt;com.google.android.gms.ads.AdView\n        android:id=&quot;@+id/adViewId&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        ads:adUnitId=&quot;XXX&quot;\n        ads:adSize=&quot;BANNER&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":3306015,"reputation":668,"user_id":2780808,"accept_rate":79,"display_name":"Ercksen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24486981,"answer_count":3,"score":1,"last_activity_date":1680680906,"creation_date":1404069483,"question_id":24479377,"body_markdown":"I have created an Android app with the new ads sdk, but it is invisible. I got it working in a previous app, it works good there. Now, in my new app, I have done the same. But:\r\n\r\nThe AdView is not visible, but clickable. If you go back to your home screen (just minimize, dont stop!), and re-open it, the ad will be shown.\r\n\r\nMy XML file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:ads=&quot;http://schemas.android.com/apk/lib/com.google.android.gms.ads&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#000000&quot;\r\n    android:orientation=&quot;vertical&quot; &gt;\r\n \r\n    &lt;org.andengine.opengl.view.RenderSurfaceView\r\n        android:id=&quot;@+id/SurfaceViewId&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:gravity=&quot;center&quot; /&gt;\r\n \r\n    &lt;com.google.android.gms.ads.AdView xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/adViewId&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        ads:adUnitId=&quot;XXX&quot;\r\n        ads:adSize=&quot;BANNER&quot; /&gt;\r\n     \r\n    &lt;/RelativeLayout&gt;\r\n\r\nAnd my onCreate method:\r\n\r\n    @Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\t\r\n\t    adView = (AdView) findViewById(R.id.adViewId);\r\n\t    \r\n\t\tAdRequest adRequest = new AdRequest.Builder().build();\r\n\t\t\r\n\t\tadView.loadAd(adRequest);\r\n\t\t\r\n\t\tv = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\r\n\t}\r\n\r\n**EDIT:** After 60 sec., the view becomes visible.","title":"Android AdView not visible - but clickable","body":"<p>I have created an Android app with the new ads sdk, but it is invisible. I got it working in a previous app, it works good there. Now, in my new app, I have done the same. But:</p>\n\n<p>The AdView is not visible, but clickable. If you go back to your home screen (just minimize, dont stop!), and re-open it, the ad will be shown.</p>\n\n<p>My XML file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:ads=\"http://schemas.android.com/apk/lib/com.google.android.gms.ads\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"#000000\"\nandroid:orientation=\"vertical\" &gt;\n\n&lt;org.andengine.opengl.view.RenderSurfaceView\n    android:id=\"@+id/SurfaceViewId\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_alignParentTop=\"true\"\n    android:gravity=\"center\" /&gt;\n\n&lt;com.google.android.gms.ads.AdView xmlns:ads=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/adViewId\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentBottom=\"true\"\n    ads:adUnitId=\"XXX\"\n    ads:adSize=\"BANNER\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>And my onCreate method:</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    adView = (AdView) findViewById(R.id.adViewId);\n\n    AdRequest adRequest = new AdRequest.Builder().build();\n\n    adView.loadAd(adRequest);\n\n    v = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\n}\n</code></pre>\n\n<p><strong>EDIT:</strong> After 60 sec., the view becomes visible.</p>\n"},{"tags":["java","class","java-record","java-16"],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1616406435,"post_id":66735621,"comment_id":117982405,"body_markdown":"4. You can get problems with compilers/build tools or IDEs when they don‚Äôt know where to search for a particular class when the class whose name determined the file name has not been referenced","body":"4. You can get problems with compilers/build tools or IDEs when they don‚Äôt know where to search for a particular class when the class whose name determined the file name has not been referenced"}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1616348886,"creation_date":1616348886,"answer_id":66735621,"question_id":66734638,"body_markdown":"The facts that have not changed are:\r\n\r\n 1. You can not have more than one `public` class in a single `.java` file. However, you can have as many non-`public` classes in the same `.java` file as you wish.\r\n 2. The name of the `.java` file must be the same as the `public` class in it.\r\n 3. If none of the classes in a `.java` file is `public`, it can have any name.\r\n\r\n**Note:** Since you have mentioned another answer in your question, I have included those classes as well in my demo just in case they can be helpful to join the dots.\r\n\r\n***Attribute.java:***\r\n\r\n    import java.util.List;\r\n    \r\n    public record Attribute(String name, String value) { }\r\n    record Employee(String name, Integer age, List&lt;Attribute&gt; attributes){ }\r\n    record Employees(List&lt;Employee&gt; employees) { }\r\n***Bar.java:***\r\n\r\n    public class Bar {\r\n    \t\r\n    }\r\n    class Baz {\r\n    \tpublic void hello(){\r\n    \t\tSystem.out.println(&quot;Hello&quot;);\r\n    \t}\r\n    }\r\n\r\n ***Foo.java:***\r\n\r\n    import java.util.List;\r\n    \r\n    public class Foo {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tAttribute attr1 = new Attribute(&quot;A&quot;, &quot;X&quot;);\r\n    \t\tAttribute attr2 = new Attribute(&quot;B&quot;, &quot;Y&quot;);\r\n    \t\tSystem.out.println(attr1);\r\n    \r\n    \t\tEmployee e1 = new Employee(&quot;James&quot;, 23, List.of(attr1, attr2));\r\n    \t\tSystem.out.println(e1);\r\n    \t\tEmployee e2 = new Employee(&quot;Boug&quot;, 21, List.of(attr2));\r\n    \r\n    \t\tEmployees emps = new Employees(List.of(e1, e2));\r\n    \t\tSystem.out.println(emps);\r\n    \r\n    \t\tBaz baz = new Baz();\r\n    \t\tbaz.hello();\r\n    \t}\r\n    }\r\n***Terminal commands:***\r\n\r\n    [~/Desktop/Record]: javac Bar.java\r\n    [~/Desktop/Record]: javac Attribute.java \r\n    [~/Desktop/Record]: javac Foo.java \r\n    [~/Desktop/Record]: java Foo\r\n    Attribute[name=A, value=X]\r\n    Employee[name=James, age=23, attributes=[Attribute[name=A, value=X], Attribute[name=B, value=Y]]]\r\n    Employees[employees=[Employee[name=James, age=23, attributes=[Attribute[name=A, value=X], Attribute[name=B, value=Y]]], Employee[name=Boug, age=21, attributes=[Attribute[name=B, value=Y]]]]]\r\n    Hello","title":"Multiple records inside the same .java file","body":"<p>The facts that have not changed are:</p>\n<ol>\n<li>You can not have more than one <code>public</code> class in a single <code>.java</code> file. However, you can have as many non-<code>public</code> classes in the same <code>.java</code> file as you wish.</li>\n<li>The name of the <code>.java</code> file must be the same as the <code>public</code> class in it.</li>\n<li>If none of the classes in a <code>.java</code> file is <code>public</code>, it can have any name.</li>\n</ol>\n<p><strong>Note:</strong> Since you have mentioned another answer in your question, I have included those classes as well in my demo just in case they can be helpful to join the dots.</p>\n<p><em><strong>Attribute.java:</strong></em></p>\n<pre><code>import java.util.List;\n\npublic record Attribute(String name, String value) { }\nrecord Employee(String name, Integer age, List&lt;Attribute&gt; attributes){ }\nrecord Employees(List&lt;Employee&gt; employees) { }\n</code></pre>\n<p><em><strong>Bar.java:</strong></em></p>\n<pre><code>public class Bar {\n    \n}\nclass Baz {\n    public void hello(){\n        System.out.println(&quot;Hello&quot;);\n    }\n}\n</code></pre>\n<p><em><strong>Foo.java:</strong></em></p>\n<pre><code>import java.util.List;\n\npublic class Foo {\n    public static void main(String[] args) {\n        Attribute attr1 = new Attribute(&quot;A&quot;, &quot;X&quot;);\n        Attribute attr2 = new Attribute(&quot;B&quot;, &quot;Y&quot;);\n        System.out.println(attr1);\n\n        Employee e1 = new Employee(&quot;James&quot;, 23, List.of(attr1, attr2));\n        System.out.println(e1);\n        Employee e2 = new Employee(&quot;Boug&quot;, 21, List.of(attr2));\n\n        Employees emps = new Employees(List.of(e1, e2));\n        System.out.println(emps);\n\n        Baz baz = new Baz();\n        baz.hello();\n    }\n}\n</code></pre>\n<p><em><strong>Terminal commands:</strong></em></p>\n<pre><code>[~/Desktop/Record]: javac Bar.java\n[~/Desktop/Record]: javac Attribute.java \n[~/Desktop/Record]: javac Foo.java \n[~/Desktop/Record]: java Foo\nAttribute[name=A, value=X]\nEmployee[name=James, age=23, attributes=[Attribute[name=A, value=X], Attribute[name=B, value=Y]]]\nEmployees[employees=[Employee[name=James, age=23, attributes=[Attribute[name=A, value=X], Attribute[name=B, value=Y]]], Employee[name=Boug, age=21, attributes=[Attribute[name=B, value=Y]]]]]\nHello\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5321859,"reputation":381,"user_id":4245091,"display_name":"Hamdi"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1634423067,"creation_date":1634423067,"answer_id":69599957,"question_id":66734638,"body_markdown":"Right now there is no official way to do it.  \r\nAs a workaround you could create an empty interface and put all your records inside, for example if your controller is CompanyController, I would create an interface called CompanyPort with all dto records inside\r\n\r\n**CompanyPort.java**:\r\n\r\n    public interface CompanyPort {\r\n          record Employees(List&lt;Employee&gt; employees) { } \r\n          record Employee(String name, Integer age, List&lt;Attribute&gt; attributes){ }\r\n          record Attribute(String name, String value) { }\r\n    }\r\n\r\n\r\n\r\n  \r\nHope that would help","title":"Multiple records inside the same .java file","body":"<p>Right now there is no official way to do it.<br />\nAs a workaround you could create an empty interface and put all your records inside, for example if your controller is CompanyController, I would create an interface called CompanyPort with all dto records inside</p>\n<p><strong>CompanyPort.java</strong>:</p>\n<pre><code>public interface CompanyPort {\n      record Employees(List&lt;Employee&gt; employees) { } \n      record Employee(String name, Integer age, List&lt;Attribute&gt; attributes){ }\n      record Attribute(String name, String value) { }\n}\n</code></pre>\n<p>Hope that would help</p>\n"},{"tags":[],"owner":{"account_id":6634642,"reputation":896,"user_id":5122135,"display_name":"Milad"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680680872,"creation_date":1680680872,"answer_id":75936873,"question_id":66734638,"body_markdown":"In this case, since the records are related, you can do the equivalent thing to having static inner classes in a standard class - i.e.:\r\n\r\n    public record Employees(List&lt;Employee&gt; employees) {\r\n        public record Employee(String name, Integer age, List&lt;Attribute&gt; attributes) {}\r\n        public record Attribute(String name, String value) {}\r\n    }\r\n\r\nThe consumer will, as they did before records, access the sub-records as\r\n\r\n    Employees.Employee employee;\r\n    Employees.Attribute attribute;\r\n    ","title":"Multiple records inside the same .java file","body":"<p>In this case, since the records are related, you can do the equivalent thing to having static inner classes in a standard class - i.e.:</p>\n<pre><code>public record Employees(List&lt;Employee&gt; employees) {\n    public record Employee(String name, Integer age, List&lt;Attribute&gt; attributes) {}\n    public record Attribute(String name, String value) {}\n}\n</code></pre>\n<p>The consumer will, as they did before records, access the sub-records as</p>\n<pre><code>Employees.Employee employee;\nEmployees.Attribute attribute;\n</code></pre>\n"}],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6482,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":69599957,"answer_count":3,"score":8,"last_activity_date":1680680872,"creation_date":1616343099,"question_id":66734638,"body_markdown":"We can always have multiple classes inside a .java file. Considering encapsulation and that each class consists of multiple lines of code it always made sense to have 1 class (don&#39;t talk about nested classes) inside 1 .java file.\r\n\r\nNow that records come into play and they can be as little as 1 line of code. Does it make sense to encapsulate multiple records inside the same .java class? \r\n\r\nFor example we could have\r\n\r\n**DTO.java** file which would contain\r\n\r\n    record Employees(List&lt;Employee&gt; employees) { }  //This is just a wrapper class that we normally need in order to return a list of objects in rest web services\r\n    record Employee(String name, Integer age, List&lt;Attribute&gt; attributes){ }\r\n    record Attribute(String name, String value) { }\r\n\r\nIf no record has the public access modifier then we are allowed to contain all of them in a file with the name **DTO.java**\r\n\r\nAs I view it, it does not seem very good to have 3 .java files with only 1 line of code inside each one.\r\n\r\nHowever we can still face issues like these described here [multiple classes inside same java file][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2336762/7237884","title":"Multiple records inside the same .java file","body":"<p>We can always have multiple classes inside a .java file. Considering encapsulation and that each class consists of multiple lines of code it always made sense to have 1 class (don't talk about nested classes) inside 1 .java file.</p>\n<p>Now that records come into play and they can be as little as 1 line of code. Does it make sense to encapsulate multiple records inside the same .java class?</p>\n<p>For example we could have</p>\n<p><strong>DTO.java</strong> file which would contain</p>\n<pre><code>record Employees(List&lt;Employee&gt; employees) { }  //This is just a wrapper class that we normally need in order to return a list of objects in rest web services\nrecord Employee(String name, Integer age, List&lt;Attribute&gt; attributes){ }\nrecord Attribute(String name, String value) { }\n</code></pre>\n<p>If no record has the public access modifier then we are allowed to contain all of them in a file with the name <strong>DTO.java</strong></p>\n<p>As I view it, it does not seem very good to have 3 .java files with only 1 line of code inside each one.</p>\n<p>However we can still face issues like these described here <a href=\"https://stackoverflow.com/a/2336762/7237884\">multiple classes inside same java file</a></p>\n"},{"tags":["java","caching"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1680680812,"post_id":75936833,"comment_id":133937328,"body_markdown":"That probably depends on the JVM implementation but you&#39;d normally not need to bother. If such optimizations are really relevant, Java might be the wrong language for your purpose.","body":"That probably depends on the JVM implementation but you&#39;d normally not need to bother. If such optimizations are really relevant, Java might be the wrong language for your purpose."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1680680949,"post_id":75936833,"comment_id":133937356,"body_markdown":"Perhaps there is something useful [here](https://stackoverflow.com/q/44468639/3788176) (not a direct dupe).","body":"Perhaps there is something useful <a href=\"https://stackoverflow.com/q/44468639/3788176\">here</a> (not a direct dupe)."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1680720622,"post_id":75936833,"comment_id":133947900,"body_markdown":"The alignment and field layout is JVM dependent (the layout changed in openjdk15). A good resource is shipilev&#39;s [Objects Inside Out](https://shipilev.net/jvm/objects-inside-out) and his [Java Object Layout](https://github.com/openjdk/jol) library. The exact details cannot be influenced by the developer, but one can optimize algorithms such as using blocked bloom filters to be cache line friendly (e.g. Caffeine&#39;s [FrequencySketch](https://github.com/ben-manes/caffeine/blob/00f58622af2c68d86102b7488a5cfa02c65e5461/caffeine/src/main/java/com/github/benmanes/caffeine/cache/FrequencySketch.java)).","body":"The alignment and field layout is JVM dependent (the layout changed in openjdk15). A good resource is shipilev&#39;s <a href=\"https://shipilev.net/jvm/objects-inside-out\" rel=\"nofollow noreferrer\">Objects Inside Out</a> and his <a href=\"https://github.com/openjdk/jol\" rel=\"nofollow noreferrer\">Java Object Layout</a> library. The exact details cannot be influenced by the developer, but one can optimize algorithms such as using blocked bloom filters to be cache line friendly (e.g. Caffeine&#39;s <a href=\"https://github.com/ben-manes/caffeine/blob/00f58622af2c68d86102b7488a5cfa02c65e5461/caffeine/src/main/java/com/github/benmanes/caffeine/cache/FrequencySketch.java\" rel=\"nofollow noreferrer\">FrequencySketch</a>)."}],"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680680668,"creation_date":1680680668,"question_id":75936833,"body_markdown":"There could be a situation when an object of size 16 bytes occupies two cache lines, i.e., it starts on one cache line and ends in the next cache line. Fetching such an object requires two cache line reads, which could be avoided would the object be aligned properly. In C++11 we can use the alignas keyword, but I‚Äôm wondering how java manages to do it, if at all?","title":"Can Java align data at cache line boundary","body":"<p>There could be a situation when an object of size 16 bytes occupies two cache lines, i.e., it starts on one cache line and ends in the next cache line. Fetching such an object requires two cache line reads, which could be avoided would the object be aligned properly. In C++11 we can use the alignas keyword, but I‚Äôm wondering how java manages to do it, if at all?</p>\n"},{"tags":["java","spring-boot","tomcat"],"answers":[{"comments":[{"owner":{"account_id":7556248,"reputation":301,"user_id":5735743,"accept_rate":62,"display_name":"J John"},"score":0,"creation_date":1680672692,"post_id":75935807,"comment_id":133935757,"body_markdown":"Is there any solution without encoding url ?","body":"Is there any solution without encoding url ?"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1680675897,"post_id":75935807,"comment_id":133936336,"body_markdown":"I doubt it. The URL you have contains illegal characters (see https://en.wikipedia.org/wiki/URL_encoding). And any framework handling with URLs that has a minimum handling of security will reject this.","body":"I doubt it. The URL you have contains illegal characters (see <a href=\"https://en.wikipedia.org/wiki/URL_encoding\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/URL_encoding</a>). And any framework handling with URLs that has a minimum handling of security will reject this."},{"owner":{"account_id":7384360,"reputation":1070,"user_id":5619827,"accept_rate":80,"display_name":"Horsing"},"score":0,"creation_date":1680681262,"post_id":75935807,"comment_id":133937418,"body_markdown":"@JJohn The key issue is the json part in you path not in query. Since the json string in path, it must not contains illegal characters without encoded. This issue might be useful: https://stackoverflow.com/questions/4669692/valid-characters-for-directory-part-of-a-url-for-short-links .","body":"@JJohn The key issue is the json part in you path not in query. Since the json string in path, it must not contains illegal characters without encoded. This issue might be useful: <a href=\"https://stackoverflow.com/questions/4669692/valid-characters-for-directory-part-of-a-url-for-short-links\" title=\"valid characters for directory part of a url for short links\">stackoverflow.com/questions/4669692/&hellip;</a> ."}],"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680671065,"creation_date":1680671065,"answer_id":75935807,"question_id":75935099,"body_markdown":"tThis is not a problem on the server side, the caller needs to encode the URL to http://localhost:8940/authorize/abc/getCode/%7B%22client_id%22%3A%2248e09e3-87b8395f7c5f%22%2C%22redirect_uri%22%3A%22https%3A%2F%2Ftestvei.cn%2Fvestomer%2FGjViQ%3FcardBag%3D1%22%2C%22state%22%3A%22GWeiQ%22%2C%22scope%22%3A%22phonginfo%2Copenid%22%2C%22response_type%22%3A%22code%22%7D\r\n\r\n","title":"Question mark in url cause request error Under springboot2.x","body":"<p>tThis is not a problem on the server side, the caller needs to encode the URL to http://localhost:8940/authorize/abc/getCode/%7B%22client_id%22%3A%2248e09e3-87b8395f7c5f%22%2C%22redirect_uri%22%3A%22https%3A%2F%2Ftestvei.cn%2Fvestomer%2FGjViQ%3FcardBag%3D1%22%2C%22state%22%3A%22GWeiQ%22%2C%22scope%22%3A%22phonginfo%2Copenid%22%2C%22response_type%22%3A%22code%22%7D</p>\n"}],"owner":{"account_id":7556248,"reputation":301,"user_id":5735743,"accept_rate":62,"display_name":"J John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680680528,"creation_date":1680659665,"question_id":75935099,"body_markdown":"Under spingboot 2.x, I have a url http://localhost:8940/authorize/abc/getCode/{&quot;client_id&quot;:&quot;48e09e3-87b8395f7c5f&quot;,&quot;redirect_uri&quot;:&quot;https://testvei.cn/vestomer/GjViQ?cardBag=1&quot;,&quot;state&quot;:&quot;GWeiQ&quot;,&quot;scope&quot;:&quot;phonginfo,openid&quot;,&quot;response_type&quot;:&quot;code&quot;} \r\n\r\nAnd my controller method \r\n\r\n      @RequestMapping(&quot;/abc/getCode/**&quot;)\r\n    public void abcAuthorizeGetCode() {\r\n        Object path = request.getAttribute(HandlerMapping.BEST_MATCHING_PATTERN_ATTRIBUTE);\r\n        Object pathVariable = request.getAttribute(HandlerMapping.PATH_WITHIN_HANDLER_MAPPING_ATTRIBUTE);\r\n        String pathParamJson = pathMatcher.extractPathWithinPattern((String) path, (String) pathVariable);\r\n        JSONObject params = JSON.parseObject(URLDecoder.decode(pathParamJson, &quot;UTF-8&quot;));\r\n        String redirectUri = params.getString(&quot;redirect_uri&quot;);\r\n    }\r\nwhen sending request by that url ,I got a 400 error,says &quot;Invalid character found in the request target&quot;. By removing &quot;?&quot; (the new Url  http://localhost:8940/authorize/abc/getCode/{&quot;client_id&quot;:&quot;48e09e3-87b8395f7c5f&quot;,&quot;redirect_uri&quot;:&quot;https://testvei.cn/vestomer/GjViQcardBag=1&quot;,&quot;state&quot;:&quot;GWeiQ&quot;,&quot;scope&quot;:&quot;phonginfo,openid&quot;,&quot;response_type&quot;:&quot;code&quot;}) it gots normal again, I&#39;ve got confused .\r\n\r\nAnd another question,why browers will auto encode illeagl characters in the path however character after the &quot;?&quot; will not ?\r\n\r\nFor example\r\n\r\n&gt; http:// localhost:8940/d/{\r\n\r\n   \r\nwill encode to  \r\n\r\n&gt; http:// localhost:8940/d/%7B\r\n\r\nhowever\r\n\r\n&gt; http:// localhost:8940/d?param={\r\n\r\n   will cause 400 error\r\n\r\n","title":"Question mark in url cause request error Under springboot2.x","body":"<p>Under spingboot 2.x, I have a url http://localhost:8940/authorize/abc/getCode/{&quot;client_id&quot;:&quot;48e09e3-87b8395f7c5f&quot;,&quot;redirect_uri&quot;:&quot;https://testvei.cn/vestomer/GjViQ?cardBag=1&quot;,&quot;state&quot;:&quot;GWeiQ&quot;,&quot;scope&quot;:&quot;phonginfo,openid&quot;,&quot;response_type&quot;:&quot;code&quot;}</p>\n<p>And my controller method</p>\n<pre><code>  @RequestMapping(&quot;/abc/getCode/**&quot;)\npublic void abcAuthorizeGetCode() {\n    Object path = request.getAttribute(HandlerMapping.BEST_MATCHING_PATTERN_ATTRIBUTE);\n    Object pathVariable = request.getAttribute(HandlerMapping.PATH_WITHIN_HANDLER_MAPPING_ATTRIBUTE);\n    String pathParamJson = pathMatcher.extractPathWithinPattern((String) path, (String) pathVariable);\n    JSONObject params = JSON.parseObject(URLDecoder.decode(pathParamJson, &quot;UTF-8&quot;));\n    String redirectUri = params.getString(&quot;redirect_uri&quot;);\n}\n</code></pre>\n<p>when sending request by that url ,I got a 400 error,says &quot;Invalid character found in the request target&quot;. By removing &quot;?&quot; (the new Url  http://localhost:8940/authorize/abc/getCode/{&quot;client_id&quot;:&quot;48e09e3-87b8395f7c5f&quot;,&quot;redirect_uri&quot;:&quot;https://testvei.cn/vestomer/GjViQcardBag=1&quot;,&quot;state&quot;:&quot;GWeiQ&quot;,&quot;scope&quot;:&quot;phonginfo,openid&quot;,&quot;response_type&quot;:&quot;code&quot;}) it gots normal again, I've got confused .</p>\n<p>And another question,why browers will auto encode illeagl characters in the path however character after the &quot;?&quot; will not ?</p>\n<p>For example</p>\n<blockquote>\n<p>http:// localhost:8940/d/{</p>\n</blockquote>\n<p>will encode to</p>\n<blockquote>\n<p>http:// localhost:8940/d/%7B</p>\n</blockquote>\n<p>however</p>\n<blockquote>\n<p>http:// localhost:8940/d?param={</p>\n</blockquote>\n<p>will cause 400 error</p>\n"},{"tags":["java","parallel-processing","testng"],"answers":[{"comments":[{"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"score":0,"creation_date":1681111620,"post_id":75936794,"comment_id":133999857,"body_markdown":"Thanks Krishnan. I tried putting the property in suite with `&lt;parameter name=&quot;dp.parallel.mode&quot; value=&quot;true&quot; /&gt;` inside suite tag and also inside `suite &gt; test` tag, but its reading `null` value only.","body":"Thanks Krishnan. I tried putting the property in suite with <code>&lt;parameter name=&quot;dp.parallel.mode&quot; value=&quot;true&quot; &#47;&gt;</code> inside suite tag and also inside <code>suite &gt; test</code> tag, but its reading <code>null</code> value only."},{"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"score":0,"creation_date":1681116033,"post_id":75936794,"comment_id":134000498,"body_markdown":"I am able to get it now. Btw, what is the limitation of passing parallel = true? Can it lead to out of memory error or any other jvm error, or the parallelism is controlled inside the testng framework?","body":"I am able to get it now. Btw, what is the limitation of passing parallel = true? Can it lead to out of memory error or any other jvm error, or the parallelism is controlled inside the testng framework?"},{"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"score":0,"creation_date":1681205033,"post_id":75936794,"comment_id":134014922,"body_markdown":"Not sure I quite understood the question. The suite xml parsing is done only after the annotation parsing from the classes is done and the parallel mode would have been read already by then.","body":"Not sure I quite understood the question. The suite xml parsing is done only after the annotation parsing from the classes is done and the parallel mode would have been read already by then."},{"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"score":0,"creation_date":1681206891,"post_id":75936794,"comment_id":134015379,"body_markdown":"Hi Krishnan. My question is say I have N objects in data provider, does it means N tests will be executed parallelly?","body":"Hi Krishnan. My question is say I have N objects in data provider, does it means N tests will be executed parallelly?"},{"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"score":1,"creation_date":1681284705,"post_id":75936794,"comment_id":134029888,"body_markdown":"Yes. If you don&#39;t specify the data provider thread pool size, it defaults to 10. This means that `10` test methods can run in parallel","body":"Yes. If you don&#39;t specify the data provider thread pool size, it defaults to 10. This means that <code>10</code> test methods can run in parallel"},{"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"score":0,"creation_date":1681285894,"post_id":75936794,"comment_id":134030195,"body_markdown":"Thank you. Was looking for that value.","body":"Thank you. Was looking for that value."}],"tags":[],"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680680370,"creation_date":1680680370,"answer_id":75936794,"question_id":75929332,"body_markdown":"Currently TestNG does not have this support that you ask for (i.e., be able to read the parallel mode from the `&lt;suite&gt;` and then apply the parallel execution strategy for the data provider).\r\n\r\nBut we can still do this using TestNG as listed below:\r\n\r\n - Ensure that you are using the latest released version of TestNG (as of today it is `7.7.1`)\r\n - Create an implementation of `IAnnotationTransfromer` as shown below\r\n - Add this listener to your suite file using the `&lt;listener&gt;` tag or using the service loader mechanism as explained in the [official TestNG documentation][1] \r\n - Now run your suite with the JVM argument `-Ddp.parallel.mode`\r\n\r\nThe reason why TestNG does not support reading the suite file parameters and apply it to the `IAnnotationTransformer` is because the `IAnnotationTransformer` gets invoked first so as to help TestNG collect all the methods to be executed and ONLY later does any other suite listener get invoked. Currently we can read the suite parameters ONLY via any of the suite listener.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.lang.reflect.Method;\r\n    import org.testng.IAnnotationTransformer;\r\n    import org.testng.annotations.IDataProviderAnnotation;\r\n    \r\n    public class DataProviderAlteringListener implements IAnnotationTransformer {\r\n    \r\n      @Override\r\n      public void transform(IDataProviderAnnotation annotation, Method method) {\r\n        boolean runInParallel = Boolean.getBoolean(&quot;dp.parallel.mode&quot;);\r\n        if (runInParallel) {\r\n          annotation.setParallel(true);\r\n        }\r\n      }\r\n    }\r\n\r\nQuoting the documentation for the service loader part (for the sake of completeness of this answer)\r\n\r\n&gt; create a file at the location\r\n&gt; META-INF/services/org.testng.ITestNGListener, which will name the\r\n&gt; implementation(s)\r\n\r\nHere the implementation would basically be the fully qualified class name of `DataProviderAlteringListener`\r\n\r\n  [1]: https://testng.org/doc/documentation-main.html#listeners-service-loader","title":"Provider &quot;parallel&quot; value to data provider from test suite","body":"<p>Currently TestNG does not have this support that you ask for (i.e., be able to read the parallel mode from the <code>&lt;suite&gt;</code> and then apply the parallel execution strategy for the data provider).</p>\n<p>But we can still do this using TestNG as listed below:</p>\n<ul>\n<li>Ensure that you are using the latest released version of TestNG (as of today it is <code>7.7.1</code>)</li>\n<li>Create an implementation of <code>IAnnotationTransfromer</code> as shown below</li>\n<li>Add this listener to your suite file using the <code>&lt;listener&gt;</code> tag or using the service loader mechanism as explained in the <a href=\"https://testng.org/doc/documentation-main.html#listeners-service-loader\" rel=\"nofollow noreferrer\">official TestNG documentation</a></li>\n<li>Now run your suite with the JVM argument <code>-Ddp.parallel.mode</code></li>\n</ul>\n<p>The reason why TestNG does not support reading the suite file parameters and apply it to the <code>IAnnotationTransformer</code> is because the <code>IAnnotationTransformer</code> gets invoked first so as to help TestNG collect all the methods to be executed and ONLY later does any other suite listener get invoked. Currently we can read the suite parameters ONLY via any of the suite listener.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.reflect.Method;\nimport org.testng.IAnnotationTransformer;\nimport org.testng.annotations.IDataProviderAnnotation;\n\npublic class DataProviderAlteringListener implements IAnnotationTransformer {\n\n  @Override\n  public void transform(IDataProviderAnnotation annotation, Method method) {\n    boolean runInParallel = Boolean.getBoolean(&quot;dp.parallel.mode&quot;);\n    if (runInParallel) {\n      annotation.setParallel(true);\n    }\n  }\n}\n</code></pre>\n<p>Quoting the documentation for the service loader part (for the sake of completeness of this answer)</p>\n<blockquote>\n<p>create a file at the location\nMETA-INF/services/org.testng.ITestNGListener, which will name the\nimplementation(s)</p>\n</blockquote>\n<p>Here the implementation would basically be the fully qualified class name of <code>DataProviderAlteringListener</code></p>\n"}],"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75936794,"answer_count":1,"score":0,"last_activity_date":1680680370,"creation_date":1680610770,"question_id":75929332,"body_markdown":"    @DataProvider(name=&quot;testData&quot;, parallel = true}\r\n    Object[][] data() {\r\n        return new Object[][]{{&quot;one&quot;}, {&quot;two&quot;}}; // test data e.g., but its actually read in a @BeforeTest method and returned here.\r\n    }\r\n\r\nThats how we all write data providers. But I am facing a problem when I want to decide when to make it parallel or not based on a parameter which is defined in the test suite whose value I can only read during runtime, but the annotations need a constant.\r\n\r\nAs I am modifying an existing test library where users only need to add a test suite and test data file (array of request and response), I am trying to enable the parallel runs of their test cases (using parallel in data provider with value read from test suite). \r\n\r\nSo, test suite will have information like\r\n\r\n    &lt;hostName&gt;google.com&lt;/hostName&gt;\r\n    &lt;port&gt;8443&lt;/port&gt;\r\n    &lt;protocol&gt;https&lt;/protocol&gt;\r\n\r\nSimilarly, will add \r\n\r\n    &lt;runInParallel&gt;true&lt;/runInParallel&gt;\r\n\r\nAnd test-data file will be like below which basically is a set of test cases and served via data provider in the library:\r\n\r\n    [\r\n        {\r\n            &quot;test_id&quot;: 1,\r\n            &quot;request&quot;: &quot;some-json&quot;,\r\n            &quot;response&quot;: &quot;some-json&quot;\r\n        },\r\n        {\r\n            &quot;test_id&quot;: 2,\r\n            &quot;request&quot;: &quot;some-json&quot;,\r\n            &quot;response&quot;: &quot;some-json&quot;\r\n        }\r\n    ]\r\n\r\nCan you suggest me how to achieve this without a nasty hack (no harm to learn that too)?","title":"Provider &quot;parallel&quot; value to data provider from test suite","body":"<pre><code>@DataProvider(name=&quot;testData&quot;, parallel = true}\nObject[][] data() {\n    return new Object[][]{{&quot;one&quot;}, {&quot;two&quot;}}; // test data e.g., but its actually read in a @BeforeTest method and returned here.\n}\n</code></pre>\n<p>Thats how we all write data providers. But I am facing a problem when I want to decide when to make it parallel or not based on a parameter which is defined in the test suite whose value I can only read during runtime, but the annotations need a constant.</p>\n<p>As I am modifying an existing test library where users only need to add a test suite and test data file (array of request and response), I am trying to enable the parallel runs of their test cases (using parallel in data provider with value read from test suite).</p>\n<p>So, test suite will have information like</p>\n<pre><code>&lt;hostName&gt;google.com&lt;/hostName&gt;\n&lt;port&gt;8443&lt;/port&gt;\n&lt;protocol&gt;https&lt;/protocol&gt;\n</code></pre>\n<p>Similarly, will add</p>\n<pre><code>&lt;runInParallel&gt;true&lt;/runInParallel&gt;\n</code></pre>\n<p>And test-data file will be like below which basically is a set of test cases and served via data provider in the library:</p>\n<pre><code>[\n    {\n        &quot;test_id&quot;: 1,\n        &quot;request&quot;: &quot;some-json&quot;,\n        &quot;response&quot;: &quot;some-json&quot;\n    },\n    {\n        &quot;test_id&quot;: 2,\n        &quot;request&quot;: &quot;some-json&quot;,\n        &quot;response&quot;: &quot;some-json&quot;\n    }\n]\n</code></pre>\n<p>Can you suggest me how to achieve this without a nasty hack (no harm to learn that too)?</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"score":0,"creation_date":1631638238,"post_id":69160184,"comment_id":122274961,"body_markdown":"Hm... The edited question hav nothing to do with the original one.","body":"Hm... The edited question hav nothing to do with the original one."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1631718014,"post_id":69160184,"comment_id":122299209,"body_markdown":"Don&#39;t edit your post to completely change what you&#39;re asking, invalidating existing answers. If you have a new question, create a new post.","body":"Don&#39;t edit your post to completely change what you&#39;re asking, invalidating existing answers. If you have a new question, create a new post."}],"answers":[{"comments":[{"owner":{"account_id":22057653,"reputation":19,"user_id":16320860,"display_name":"wipesax360"},"score":0,"creation_date":1631527646,"post_id":69160245,"comment_id":122237199,"body_markdown":"how can i get the result without blocking then?","body":"how can i get the result without blocking then?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1631529180,"post_id":69160245,"comment_id":122237762,"body_markdown":"Dont use join, you will get the result as some point in the future and consumer callback will be applied to the result (methods you are passing to thenApplyAsync)","body":"Dont use join, you will get the result as some point in the future and consumer callback will be applied to the result (methods you are passing to thenApplyAsync)"},{"owner":{"account_id":22057653,"reputation":19,"user_id":16320860,"display_name":"wipesax360"},"score":0,"creation_date":1631532674,"post_id":69160245,"comment_id":122239018,"body_markdown":"what should i do?","body":"what should i do?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1631533259,"post_id":69160245,"comment_id":122239239,"body_markdown":"Nothing, use callbacks to consume the result ins asynchronous fashion.","body":"Nothing, use callbacks to consume the result ins asynchronous fashion."}],"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631524823,"creation_date":1631524823,"answer_id":69160245,"question_id":69160184,"body_markdown":"Because this is what join is supposed to do - to wait for the completion.","title":"CompletableFuture is blocking thread","body":"<p>Because this is what join is supposed to do - to wait for the completion.</p>\n"},{"comments":[{"owner":{"account_id":22057653,"reputation":19,"user_id":16320860,"display_name":"wipesax360"},"score":0,"creation_date":1631527643,"post_id":69160249,"comment_id":122237196,"body_markdown":"how can i get the result without blocking then? i want sysout to print then result comes. in","body":"how can i get the result without blocking then? i want sysout to print then result comes. in"},{"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"score":0,"creation_date":1631532137,"post_id":69160249,"comment_id":122238789,"body_markdown":"`.thenRun(() -&gt; sysout(&quot;test));`","body":"<code>.thenRun(() -&gt; sysout(&quot;test));</code>"},{"owner":{"account_id":22057653,"reputation":19,"user_id":16320860,"display_name":"wipesax360"},"score":0,"creation_date":1631532691,"post_id":69160249,"comment_id":122239021,"body_markdown":"i thikn , code block will not continue executing in async call, because lots of thinks to run","body":"i thikn , code block will not continue executing in async call, because lots of thinks to run"},{"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"score":0,"creation_date":1631533358,"post_id":69160249,"comment_id":122239270,"body_markdown":"Don&#39;t get confused with `thenRun` and `thenRunAsync`. Most of methods of `CompletableFuture` run asynchronously from the caller point of view. When `CompletableFuture#complete` is called,  then `thenXxxAsync` executed  in a different thread than `complete` is called. That&#39;s why all `xxxAsync` methods have a version to explicitly specify which thread pools to use.","body":"Don&#39;t get confused with <code>thenRun</code> and <code>thenRunAsync</code>. Most of methods of <code>CompletableFuture</code> run asynchronously from the caller point of view. When <code>CompletableFuture#complete</code> is called,  then <code>thenXxxAsync</code> executed  in a different thread than <code>complete</code> is called. That&#39;s why all <code>xxxAsync</code> methods have a version to explicitly specify which thread pools to use."}],"tags":[],"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680680369,"creation_date":1631524844,"answer_id":69160249,"question_id":69160184,"body_markdown":"while `join` is a blocking call and waits until completableFuture completes. IOW, by calling `join` you turn the async code into a synchronous code.","title":"CompletableFuture is blocking thread","body":"<p>while <code>join</code> is a blocking call and waits until completableFuture completes. IOW, by calling <code>join</code> you turn the async code into a synchronous code.</p>\n"}],"owner":{"account_id":22057653,"reputation":19,"user_id":16320860,"display_name":"wipesax360"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1539,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1680680369,"creation_date":1631524560,"question_id":69160184,"body_markdown":"     CompletableFuture&lt;HttpResponse&lt;String&gt;&gt; completableFuture =\r\n            client.sendAsync(request, HttpResponse.BodyHandlers.ofString());\r\n        completableFuture\r\n            .thenApplyAsync(HttpResponse::headers)\r\n            .thenAcceptAsync(System.out::println);\r\n        HttpResponse&lt;String&gt; response = completableFuture.join();\r\n    \r\n    sysout(&quot;test&quot;);\r\n\r\nthere is no print out after join() call, join waits to finish the request.\r\nwhy?","title":"CompletableFuture is blocking thread","body":"<pre><code> CompletableFuture&lt;HttpResponse&lt;String&gt;&gt; completableFuture =\n        client.sendAsync(request, HttpResponse.BodyHandlers.ofString());\n    completableFuture\n        .thenApplyAsync(HttpResponse::headers)\n        .thenAcceptAsync(System.out::println);\n    HttpResponse&lt;String&gt; response = completableFuture.join();\n\nsysout(&quot;test&quot;);\n</code></pre>\n<p>there is no print out after join() call, join waits to finish the request.\nwhy?</p>\n"},{"tags":["java","javafx","tableview"],"answers":[{"comments":[{"owner":{"account_id":1761760,"reputation":745,"user_id":1608682,"accept_rate":20,"display_name":"I.Tyger"},"score":1,"creation_date":1551247674,"post_id":29090956,"comment_id":96566025,"body_markdown":"Awesome saved me.","body":"Awesome saved me."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1426570445,"creation_date":1426563930,"answer_id":29090956,"question_id":29090583,"body_markdown":"Assuming you know something is selected, you can do\r\n\r\n    TablePosition pos = table.getSelectionModel().getSelectedCells().get(0);\r\n    int row = pos.getRow();\r\n    \r\n    // Item here is the table view type:\r\n    Item item = table.getItems().get(row);\r\n    \r\n    TableColumn col = pos.getTableColumn();\r\n    \r\n    // this gives the value in the selected cell:\r\n    String data = (String) col.getCellObservableValue(item).getValue();","title":"JavaFX TableView how to get cell&#39;s data?","body":"<p>Assuming you know something is selected, you can do</p>\n\n<pre><code>TablePosition pos = table.getSelectionModel().getSelectedCells().get(0);\nint row = pos.getRow();\n\n// Item here is the table view type:\nItem item = table.getItems().get(row);\n\nTableColumn col = pos.getTableColumn();\n\n// this gives the value in the selected cell:\nString data = (String) col.getCellObservableValue(item).getValue();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4508077,"reputation":6019,"user_id":3664960,"accept_rate":70,"display_name":"davejal"},"score":0,"creation_date":1451851009,"post_id":34580846,"comment_id":56906944,"body_markdown":"the not only post code, try to explain what was wrong and how this solves the problem","body":"the not only post code, try to explain what was wrong and how this solves the problem"}],"tags":[],"owner":{"account_id":7565340,"reputation":1,"user_id":5741164,"display_name":"Rabie Khoualdia"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451852916,"creation_date":1451850200,"answer_id":34580846,"question_id":29090583,"body_markdown":"    table.getSelectionModel().selectedItemProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                if (newValue == null) {\r\n                    selected.setText(&quot;&quot;);\r\n                    return;\r\n                }\r\n                           System.out.println(newValue.getId());\r\n            });\r\n\r\n\r\nNB: &quot;getId&quot; is your &quot;get&quot; Column and &quot;table&quot; is the name of your tabelview ","title":"JavaFX TableView how to get cell&#39;s data?","body":"<pre><code>table.getSelectionModel().selectedItemProperty().addListener((observable, oldValue, newValue) -&gt; {\n            if (newValue == null) {\n                selected.setText(\"\");\n                return;\n            }\n                       System.out.println(newValue.getId());\n        });\n</code></pre>\n\n<p>NB: \"getId\" is your \"get\" Column and \"table\" is the name of your tabelview </p>\n"},{"tags":[],"owner":{"account_id":5977510,"reputation":1,"user_id":7662070,"display_name":"Nicolas Angelico"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491079433,"creation_date":1491079433,"answer_id":43161828,"question_id":29090583,"body_markdown":"I solved it. I get the string, for example, &quot;[1, proveedor1, calzado1, Rojo, 39, 600, 2, 1200]&quot;, and get the frist cell (id) whit substring. saludos\r\n\r\n    TablePosition pos = (TablePosition) tableVenta.getSelectionModel().getSelectedCells().get(0);\r\n    int index = pos.getRow();\r\n    String selected = tableVenta.getItems().get(index).toString();\r\n    selected = selected.substring(1, selected.indexOf(&quot;,&quot;));\r\n    System.out.println(selected);","title":"JavaFX TableView how to get cell&#39;s data?","body":"<p>I solved it. I get the string, for example, \"[1, proveedor1, calzado1, Rojo, 39, 600, 2, 1200]\", and get the frist cell (id) whit substring. saludos</p>\n\n<pre><code>TablePosition pos = (TablePosition) tableVenta.getSelectionModel().getSelectedCells().get(0);\nint index = pos.getRow();\nString selected = tableVenta.getItems().get(index).toString();\nselected = selected.substring(1, selected.indexOf(\",\"));\nSystem.out.println(selected);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11115807,"reputation":73,"user_id":8160181,"display_name":"Reuben Frimpong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537807967,"creation_date":1537806812,"answer_id":52483743,"question_id":29090583,"body_markdown":"If you are using scene builder, add a method to On Edit Commit for the particular column and add the logic in the controller class. Use `event.getNewValue()` to get the new value entered by the user. Eg.\r\n\r\n    @FXML\r\n    private void UpdateName(TableColumn.CellEditEvent&lt;ModelClass, String&gt; event) {\r\n        ModelClass mc = Table.getSelectionModel().getSelectedItem();\r\n        mc.setName(event.getNewValue());\r\n        System.err.println(&quot;new value &quot;+event.getNewValue());\r\n    }\r\n\r\nUse this when you allow editable columns","title":"JavaFX TableView how to get cell&#39;s data?","body":"<p>If you are using scene builder, add a method to On Edit Commit for the particular column and add the logic in the controller class. Use <code>event.getNewValue()</code> to get the new value entered by the user. Eg.</p>\n\n<pre><code>@FXML\nprivate void UpdateName(TableColumn.CellEditEvent&lt;ModelClass, String&gt; event) {\n    ModelClass mc = Table.getSelectionModel().getSelectedItem();\n    mc.setName(event.getNewValue());\n    System.err.println(\"new value \"+event.getNewValue());\n}\n</code></pre>\n\n<p>Use this when you allow editable columns</p>\n"},{"tags":[],"owner":{"account_id":3669306,"reputation":421,"user_id":3056868,"display_name":"Howard J"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1546020354,"creation_date":1546020354,"answer_id":53962584,"question_id":29090583,"body_markdown":"Assuming you haven&#39;t selected any row but know where and what you want....\r\n\r\n    // Item here is the table view type:\r\n        Unpaid item = userTable.getItems().get(0);\r\n    \r\n        TableColumn col = userTable.getColumns().get(3);\r\n    \r\n        // this gives the value in the selected cell:\r\n        String data = (String) col.getCellObservableValue(item).getValue();\r\n        JOptionPane.showMessageDialog(null, data);","title":"JavaFX TableView how to get cell&#39;s data?","body":"<p>Assuming you haven't selected any row but know where and what you want....</p>\n\n<pre><code>// Item here is the table view type:\n    Unpaid item = userTable.getItems().get(0);\n\n    TableColumn col = userTable.getColumns().get(3);\n\n    // this gives the value in the selected cell:\n    String data = (String) col.getCellObservableValue(item).getValue();\n    JOptionPane.showMessageDialog(null, data);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4182358,"reputation":136,"user_id":3426988,"accept_rate":71,"display_name":"Samer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567880497,"creation_date":1567880497,"answer_id":57836387,"question_id":29090583,"body_markdown":"you can use this code i think it&#39;s working \r\n\r\n    String a=personTable.getColumns().get(0).getCellObservableValue(0).getValue().toString(); \r\n    System.out.println(&quot;value&quot;+a);","title":"JavaFX TableView how to get cell&#39;s data?","body":"<p>you can use this code i think it's working </p>\n\n<pre><code>String a=personTable.getColumns().get(0).getCellObservableValue(0).getValue().toString(); \nSystem.out.println(\"value\"+a);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28175457,"reputation":21,"user_id":21533296,"display_name":"Seco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680679892,"creation_date":1680679892,"answer_id":75936738,"question_id":29090583,"body_markdown":"I&#39;m using something like this to add data to table:\r\n\r\n    ObservableList&lt;Artikl&gt; data = FXCollections.observableArrayList();\r\n    data.add(new Artikl(&quot;Some String data&quot;));\r\n\r\n\r\nArtikl is class of setters and getters.\r\n\r\n    public class Artikl {\r\n    private String KAT;\r\n    public Artikl(String kb)\r\n    {\r\n       this.KAT=kb;\r\n    }\r\n    \r\n    public String getKAT()\r\n    {\r\n        return KAT;\r\n    }\r\n    public void setKAT(String kb)\r\n    {\r\n        KAT=kb;\r\n    }\r\n    }\r\n\r\nAnd to get it back I&#39;m using:\r\n\r\n    ObservableList&lt;Artikl&gt; data = tableName.getItems();\r\n    for(int i=0;i&lt;data.size();i++)\r\n    {\r\n    System.out.println(data.get(i).getKAT());\r\n    }\r\n\r\nThis prints it all. To get selected item:\r\n\r\n    System.out.println(data.get(tableName.getSelectionModel().getSelectedIndex()).getKAT());","title":"JavaFX TableView how to get cell&#39;s data?","body":"<p>I'm using something like this to add data to table:</p>\n<pre><code>ObservableList&lt;Artikl&gt; data = FXCollections.observableArrayList();\ndata.add(new Artikl(&quot;Some String data&quot;));\n</code></pre>\n<p>Artikl is class of setters and getters.</p>\n<pre><code>public class Artikl {\nprivate String KAT;\npublic Artikl(String kb)\n{\n   this.KAT=kb;\n}\n\npublic String getKAT()\n{\n    return KAT;\n}\npublic void setKAT(String kb)\n{\n    KAT=kb;\n}\n}\n</code></pre>\n<p>And to get it back I'm using:</p>\n<pre><code>ObservableList&lt;Artikl&gt; data = tableName.getItems();\nfor(int i=0;i&lt;data.size();i++)\n{\nSystem.out.println(data.get(i).getKAT());\n}\n</code></pre>\n<p>This prints it all. To get selected item:</p>\n<pre><code>System.out.println(data.get(tableName.getSelectionModel().getSelectedIndex()).getKAT());\n</code></pre>\n"}],"owner":{"account_id":5511336,"reputation":2718,"user_id":4377521,"accept_rate":90,"display_name":"sashaaero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45367,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":29090956,"answer_count":7,"score":12,"last_activity_date":1680679892,"creation_date":1426561161,"question_id":29090583,"body_markdown":"I&#39;m using that method to get whole object.&lt;br&gt;\r\n\r\n    tableView.getSelectionModel().getSelectedItem()\r\n\r\nHow can I get data from single cell?\r\n![enter image description here][1]\r\n&lt;br&gt;I mean like get **S20BJ9DZ300266** as String?\r\n\r\n  [1]: http://i.stack.imgur.com/D171n.png","title":"JavaFX TableView how to get cell&#39;s data?","body":"<p>I'm using that method to get whole object.<br></p>\n\n<pre><code>tableView.getSelectionModel().getSelectedItem()\n</code></pre>\n\n<p>How can I get data from single cell?\n<img src=\"https://i.stack.imgur.com/D171n.png\" alt=\"enter image description here\">\n<br>I mean like get <strong>S20BJ9DZ300266</strong> as String?</p>\n"},{"tags":["java","activemq","spring-jms"],"answers":[{"comments":[{"owner":{"account_id":3172455,"reputation":21,"user_id":2681048,"display_name":"Hieu"},"score":0,"creation_date":1379587210,"post_id":18892022,"comment_id":27885144,"body_markdown":"I have just checked on ActiveMQ 5.7. It&#39;s fine. on ActiveMQ 5.8 still this error. There is a difference in ActiveMQ&#39;s version. Someone give a solution that i should input username &amp; password in brokerURL but still error. What is format of brokerURL with username &amp; password ?","body":"I have just checked on ActiveMQ 5.7. It&#39;s fine. on ActiveMQ 5.8 still this error. There is a difference in ActiveMQ&#39;s version. Someone give a solution that i should input username &amp; password in brokerURL but still error. What is format of brokerURL with username &amp; password ?"},{"owner":{"account_id":3172455,"reputation":21,"user_id":2681048,"display_name":"Hieu"},"score":0,"creation_date":1379644712,"post_id":18892022,"comment_id":27912623,"body_markdown":"I tested with brokerURL: 1. tcp://localhost:61616?jms.blobTransferPolicy.defaultUploadUrl=http://localhost:8161/fileserver/?admin:admin ( error: Invalid connect parameters: {username=admin:password=admin}) 2. tcp://localhost:61616?jms.blobTransferPolicy.defaultUploadUrl=http://localhost:8161/fileserver/?username=admin:password=admin (Invalid connect parameters: {username=admin:password=admin}&gt;) . What is the format for brokerURL ?","body":"I tested with brokerURL: 1. tcp://localhost:61616?jms.blobTransferPolicy.defaultUploadUr&zwnj;&#8203;l=<a href=\"http://localhost:8161/fileserver/?admin:admin\" rel=\"nofollow noreferrer\">localhost:8161/fil&zwnj;&#8203;eserver/?admin:admin</a> ( error: Invalid connect parameters: {username=admin:password=admin}) 2. tcp://localhost:61616?jms.blobTransferPolicy.defaultUploadUr&zwnj;&#8203;l=<a href=\"http://localhost:8161/fileserver/?username=admin:password=admin\" rel=\"nofollow noreferrer\">localhost:8161/fil&zwnj;&#8203;eserver/?username=ad&zwnj;&#8203;min:password=admin</a> (Invalid connect parameters: {username=admin:password=admin}&gt;) . What is the format for brokerURL ?"},{"owner":{"account_id":388967,"reputation":27,"user_id":748189,"display_name":"Sistemlegend"},"score":0,"creation_date":1379674366,"post_id":18892022,"comment_id":27924007,"body_markdown":"tcp://localhost:61616?jms.blobTransferPolicy.uploadUrl=ftp://ftpuser:password@localhost/","body":"tcp://localhost:61616?jms.blobTransferPolicy.uploadUrl=<a href=\"ftp://ftpuser:password@localhost/\" rel=\"nofollow noreferrer\">ftpus&zwnj;&#8203;er:password@localhos&zwnj;&#8203;t</a>"},{"owner":{"account_id":388967,"reputation":27,"user_id":748189,"display_name":"Sistemlegend"},"score":0,"creation_date":1379674432,"post_id":18892022,"comment_id":27924038,"body_markdown":"In my case,this works. with / at the end. Don&#39;t know why gets erased","body":"In my case,this works. with / at the end. Don&#39;t know why gets erased"}],"tags":[],"owner":{"account_id":388967,"reputation":27,"user_id":748189,"display_name":"Sistemlegend"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379585878,"creation_date":1379585878,"answer_id":18892022,"question_id":18891720,"body_markdown":"I&#39;d try connecting with the http server with a http/ftp client and verify you have write permissions... ","title":"BlobMesage 401 Unauthorized on ActiveMQ","body":"<p>I'd try connecting with the http server with a http/ftp client and verify you have write permissions... </p>\n"},{"tags":[],"owner":{"account_id":2520686,"reputation":763,"user_id":2191131,"accept_rate":73,"display_name":"Markus"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1680679593,"creation_date":1384250099,"answer_id":19925966,"question_id":18891720,"body_markdown":"I think you need to add an HTTP transport connector:\r\n\r\n    &lt;transportConnector name=&quot;http&quot; uri=&quot;http://0.0.0.0:8080&quot;/&gt;\r\n\r\nThe URI as [http://localhost:8080](www.dummy.com) did &lt;b&gt;not&lt;/b&gt; work in my case.\r\nI am also under the impression that the default connectors are not secured and username and password are obsolete (at least for a first try).\r\n\r\n&lt;b&gt;Final solution&lt;/b&gt;\r\n\r\nActiveMQ config (activemq.xml)\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n        &lt;transportConnectors&gt;\r\n           &lt;transportConnector name=&quot;http&quot; uri=&quot;http://0.0.0.0:8080&quot;/&gt;\r\n        &lt;/transportConnectors&gt;\r\n\r\nJava Client (producer only)\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n        try {\r\n        ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&quot;http://localhost:8080&quot;);\r\n        Connection connection = connectionFactory.createConnection();\r\n        connection.start();\r\n\r\n        // Create a Session\r\n        Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n\r\n        // Create the best Queue ever\r\n        Destination destination = session.createQueue(&quot;STACKOVERFLOW.SUPPORT&quot;);\r\n\r\n        // Create a MessageProducer from the Session to the Topic or Queue\r\n        MessageProducer producer = session.createProducer(destination);\r\n        producer.setDeliveryMode(DeliveryMode.NON_PERSISTENT);\r\n\r\n        // Create a messages\r\n        TextMessage message = session.createTextMessage(&quot;I hope, this snippets helps you :D | Thread: &quot; + Thread.currentThread().getName());\r\n\r\n        producer.send(message);\r\n\r\n        //clean up\r\n        session.close();\r\n        connection.close();\r\n        } catch(JMSException e) {\r\n           e.printStackTrace();\r\n        }","title":"BlobMesage 401 Unauthorized on ActiveMQ","body":"<p>I think you need to add an HTTP transport connector:</p>\n<pre><code>&lt;transportConnector name=&quot;http&quot; uri=&quot;http://0.0.0.0:8080&quot;/&gt;\n</code></pre>\n<p>The URI as http://localhost:8080 did <b>not</b> work in my case.\nI am also under the impression that the default connectors are not secured and username and password are obsolete (at least for a first try).</p>\n<p><b>Final solution</b></p>\n<p>ActiveMQ config (activemq.xml)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;transportConnectors&gt;\n       &lt;transportConnector name=&quot;http&quot; uri=&quot;http://0.0.0.0:8080&quot;/&gt;\n    &lt;/transportConnectors&gt;\n</code></pre>\n<p>Java Client (producer only)</p>\n<pre class=\"lang-java prettyprint-override\"><code>    try {\n    ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&quot;http://localhost:8080&quot;);\n    Connection connection = connectionFactory.createConnection();\n    connection.start();\n\n    // Create a Session\n    Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n\n    // Create the best Queue ever\n    Destination destination = session.createQueue(&quot;STACKOVERFLOW.SUPPORT&quot;);\n\n    // Create a MessageProducer from the Session to the Topic or Queue\n    MessageProducer producer = session.createProducer(destination);\n    producer.setDeliveryMode(DeliveryMode.NON_PERSISTENT);\n\n    // Create a messages\n    TextMessage message = session.createTextMessage(&quot;I hope, this snippets helps you :D | Thread: &quot; + Thread.currentThread().getName());\n\n    producer.send(message);\n\n    //clean up\n    session.close();\n    connection.close();\n    } catch(JMSException e) {\n       e.printStackTrace();\n    }\n</code></pre>\n"}],"owner":{"account_id":3172455,"reputation":21,"user_id":2681048,"display_name":"Hieu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2932,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680679593,"creation_date":1379584890,"question_id":18891720,"body_markdown":"I have a problem when creating a blob message to transfer file on ActiveMQ. \r\nError: javax.jms.JMSException: PUT was not successful: 401 Unauthorized\r\nHere my brokerURL: \r\n\r\n        &lt;bean id=&quot;connectionFactory&quot; class=&quot;org.apache.activemq.ActiveMQConnectionFactory&quot;&gt;\r\n    &lt;property name=&quot;brokerURL&quot;&gt;&lt;value&gt;tcp://localhost:61616?jms.blobTransferPolicy.defaultUploadUrl=http://localhost:8161/fileserver/&lt;/value&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;userName&quot; value=&quot;admin&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;admin&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n\r\nAny issues here ? I spent some hours for searching but not find correct solution. Please share to me\r\n","title":"BlobMesage 401 Unauthorized on ActiveMQ","body":"<p>I have a problem when creating a blob message to transfer file on ActiveMQ. \nError: javax.jms.JMSException: PUT was not successful: 401 Unauthorized\nHere my brokerURL: </p>\n\n<pre><code>    &lt;bean id=\"connectionFactory\" class=\"org.apache.activemq.ActiveMQConnectionFactory\"&gt;\n&lt;property name=\"brokerURL\"&gt;&lt;value&gt;tcp://localhost:61616?jms.blobTransferPolicy.defaultUploadUrl=http://localhost:8161/fileserver/&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=\"userName\" value=\"admin\" /&gt;\n        &lt;property name=\"password\" value=\"admin\" /&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>Any issues here ? I spent some hours for searching but not find correct solution. Please share to me</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":4,"creation_date":1680630005,"post_id":75932312,"comment_id":133929584,"body_markdown":"Yes, this is fine. Since you want to call a non-static method, you need an instance. Simply creating it using `new` is not a problem at all, especially for smaller programs (the opposite would be factory methods or dependency injection etc).","body":"Yes, this is fine. Since you want to call a non-static method, you need an instance. Simply creating it using <code>new</code> is not a problem at all, especially for smaller programs (the opposite would be factory methods or dependency injection etc)."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":5,"creation_date":1680630152,"post_id":75932312,"comment_id":133929618,"body_markdown":"You just compiled and run your code without problems which shows it is *allowed* in Java. But that is probably not what you want to ask about. So could you [edit] your question and clarify what do you mean by &quot;valid&quot;?","body":"You just compiled and run your code without problems which shows it is <i>allowed</i> in Java. But that is probably not what you want to ask about. So could you <a href=\"https://stackoverflow.com/posts/75932312/edit\">edit</a> your question and clarify what do you mean by &quot;valid&quot;?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":2,"creation_date":1680630586,"post_id":75932312,"comment_id":133929726,"body_markdown":"Yes, perfectly fine. Necessary.","body":"Yes, perfectly fine. Necessary."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680631396,"post_id":75932312,"comment_id":133929929,"body_markdown":"I voted as opinion based. It can be done, but not necessary unless trying to use non-static class state. `static void something()` would also work here, then you don&#39;t need `new Main()` at all, and just call `something()`","body":"I voted as opinion based. It can be done, but not necessary unless trying to use non-static class state. <code>static void something()</code> would also work here, then you don&#39;t need <code>new Main()</code> at all, and just call <code>something()</code>"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1680632844,"post_id":75932312,"comment_id":133930270,"body_markdown":"Q: Is it valid to create object of class in which main method is present?  A: Yes, definitely.  In fact, having a &quot;`public static void main(String[] args)`&quot; used to be *ENCOURAGED* for *EVERY* class, to facilitate &quot;unit testing&quot; (a practice which has since fallen out of favor).  STRONG SUGGESTION: Please don&#39;t name your class &quot;Main&quot;.  Please give it a name that tells something about what the class is *intended for*.","body":"Q: Is it valid to create object of class in which main method is present?  A: Yes, definitely.  In fact, having a &quot;<code>public static void main(String[] args)</code>&quot; used to be <i>ENCOURAGED</i> for <i>EVERY</i> class, to facilitate &quot;unit testing&quot; (a practice which has since fallen out of favor).  STRONG SUGGESTION: Please don&#39;t name your class &quot;Main&quot;.  Please give it a name that tells something about what the class is <i>intended for</i>."}],"answers":[{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680631475,"post_id":75932488,"comment_id":133929947,"body_markdown":"&quot;Must be placed in _some_ **public** class&quot;?","body":"&quot;Must be placed in <i>some</i> <b>public</b> class&quot;?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680631592,"post_id":75932488,"comment_id":133929977,"body_markdown":"@OneCricketeer The nitty-gritty details of scope and access is not really the point here.","body":"@OneCricketeer The nitty-gritty details of scope and access is not really the point here."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680633326,"creation_date":1680631263,"answer_id":75932488,"question_id":75932312,"body_markdown":"Every Java app needs a `main` method. The `main` method is the [entry point][1] for launching a Java app.\r\n\r\nThat `public static void main` method must be placed in *some* class. That class may serve other purposes, or that class may serve that one single purpose of providing a entry point for launching the app‚Äôs lifecycle. \r\n\r\n&gt;is this way of creating object inside main() method is valid?\r\n\r\nYes, valid. \r\n\r\n&#128073; The choice is yours whether you want to instantiate objects of the class holding the `public static void main` method.\r\n\r\nAs [commented by paulsm4][2], in the olden days before the advent of formal [unit testing][3] accompanied by sophisticated [tooling for testing][4], programmers sometimes wrote a `public static void main` into most every class. Each of those `main` methods would test functionality coming primarily from that class. Only one of these many `main` methods would act as the entry point for formally launching the app for the end-user. All the other `main` methods were just a way to quickly run some tests of their containing class. These testing `main` methods would instantiate objects of their containing class in order to test the instance methods.\r\n\r\nKeep in mind that any use of `static`, including for `main`, is *not* [object-oriented][5]. But we have a [chicken-or-egg][6] problem. Object-oriented programming (OOP) assumes an ideal world of objects floating around in memory sending messages to each other. But that ideal world does not exist until *after* we launch our app. So a `static` main method is the trick, the hack if you will, to solving our chicken-or-egg dilemma, to get our ideal OOP world up and running. In other words, when I see `public static void main`, I personally think of that code as being outside my ‚Äúreal‚Äù app, and mentally set it aside.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Entry_point\r\n  [2]: https://stackoverflow.com/questions/75932312/is-it-valid-to-create-object-of-class-in-which-main-method-is-present/75932488#comment133930270_75932312\r\n  [3]: https://en.wikipedia.org/wiki/Unit_testing\r\n  [4]: https://en.wikipedia.org/wiki/JUnit\r\n  [5]: https://en.wikipedia.org/wiki/Object-oriented_programming\r\n  [6]: https://en.wikipedia.org/wiki/Chicken_or_the_egg","title":"Is it valid to create object of class in which main method is present?","body":"<p>Every Java app needs a <code>main</code> method. The <code>main</code> method is the <a href=\"https://en.wikipedia.org/wiki/Entry_point\" rel=\"nofollow noreferrer\">entry point</a> for launching a Java app.</p>\n<p>That <code>public static void main</code> method must be placed in <em>some</em> class. That class may serve other purposes, or that class may serve that one single purpose of providing a entry point for launching the app‚Äôs lifecycle.</p>\n<blockquote>\n<p>is this way of creating object inside main() method is valid?</p>\n</blockquote>\n<p>Yes, valid.</p>\n<p>üëâ The choice is yours whether you want to instantiate objects of the class holding the <code>public static void main</code> method.</p>\n<p>As <a href=\"https://stackoverflow.com/questions/75932312/is-it-valid-to-create-object-of-class-in-which-main-method-is-present/75932488#comment133930270_75932312\">commented by paulsm4</a>, in the olden days before the advent of formal <a href=\"https://en.wikipedia.org/wiki/Unit_testing\" rel=\"nofollow noreferrer\">unit testing</a> accompanied by sophisticated <a href=\"https://en.wikipedia.org/wiki/JUnit\" rel=\"nofollow noreferrer\">tooling for testing</a>, programmers sometimes wrote a <code>public static void main</code> into most every class. Each of those <code>main</code> methods would test functionality coming primarily from that class. Only one of these many <code>main</code> methods would act as the entry point for formally launching the app for the end-user. All the other <code>main</code> methods were just a way to quickly run some tests of their containing class. These testing <code>main</code> methods would instantiate objects of their containing class in order to test the instance methods.</p>\n<p>Keep in mind that any use of <code>static</code>, including for <code>main</code>, is <em>not</em> <a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow noreferrer\">object-oriented</a>. But we have a <a href=\"https://en.wikipedia.org/wiki/Chicken_or_the_egg\" rel=\"nofollow noreferrer\">chicken-or-egg</a> problem. Object-oriented programming (OOP) assumes an ideal world of objects floating around in memory sending messages to each other. But that ideal world does not exist until <em>after</em> we launch our app. So a <code>static</code> main method is the trick, the hack if you will, to solving our chicken-or-egg dilemma, to get our ideal OOP world up and running. In other words, when I see <code>public static void main</code>, I personally think of that code as being outside my ‚Äúreal‚Äù app, and mentally set it aside.</p>\n"}],"owner":{"account_id":26360293,"reputation":19,"user_id":20016594,"display_name":"Prats"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":1,"score":-1,"last_activity_date":1680679538,"creation_date":1680629908,"question_id":75932312,"body_markdown":"```java\r\npublic class Main {\r\n\r\n    void something() {\r\n        System.out.println(&quot;Works?&quot;);\r\n    }\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tMain m = new Main();\r\n\t\tm.something();\r\n\t}\r\n}\r\n```\r\nIn the program above, I simply created an object of class `Main` inside method `main()`. Later I used that object to call `something()` method. The code works fine but, is this way of creating an object inside method `main()` valid?\r\n","title":"Is it valid to create object of class in which main method is present?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    void something() {\n        System.out.println(&quot;Works?&quot;);\n    }\n\n    public static void main(String[] args) {\n        Main m = new Main();\n        m.something();\n    }\n}\n</code></pre>\n<p>In the program above, I simply created an object of class <code>Main</code> inside method <code>main()</code>. Later I used that object to call <code>something()</code> method. The code works fine but, is this way of creating an object inside method <code>main()</code> valid?</p>\n"},{"tags":["java","spring-boot","circuit-breaker","resilience4j","resilience4j-retry"],"answers":[{"comments":[{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1681325616,"post_id":75936688,"comment_id":134039939,"body_markdown":"in that case I can add the exceptions classes under ```ignoreExceptions``` properties in which i don&#39;t want to do a retry, like ```CallNotPermittedException```","body":"in that case I can add the exceptions classes under <code>ignoreExceptions</code> properties in which i don&#39;t want to do a retry, like <code>CallNotPermittedException</code>"}],"tags":[],"owner":{"account_id":2012119,"reputation":485,"user_id":1800319,"display_name":"Raghvendra Garg"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680679449,"creation_date":1680679449,"answer_id":75936688,"question_id":75921880,"body_markdown":"you could either define exceptions on which you want to retry using `retryExceptions` or define exceptions you wish to ignore using `ignoreExceptions` If either of the solutions does not work for you then you can have a predicate `retryOnResultPredicate` which evaluates if a result should be retried. The Predicate must return true if the result should be retried, otherwise, it must return false. \r\n\r\nlike below.\r\n\r\n    import org.springframework.web.client.HttpClientErrorException;\r\n    import java.util.function.Predicate;\r\n\r\n    public class IgnoreErrorExceptionPredicate implements Predicate&lt;Throwable&gt; {\r\n\r\n\t  @Override\r\n\t  public boolean test(Throwable e) {\r\n\t\treturn e instanceof HttpClientErrorException || e.getCause() instanceof HttpClientErrorException;\r\n\t  }\r\n\r\n    }\r\n\r\nand configure this predicate in retry properties as \r\n\r\n    resilience4j.retry:\r\n        configs:\r\n            default:\r\n                maxAttempts: 3\r\n                waitDuration: 100\r\n                retryExceptions:\r\n                    - org.springframework.web.client.HttpServerErrorException\r\n                    - java.util.concurrent.TimeoutException\r\n                    - java.io.IOException\r\n                ignoreExceptions:\r\n                    - io.github.robwin.exception.BusinessException\r\n                retryOnResultPredicate:\r\n                    - your.predicate.package.IgnoreErrorExceptionPredicate\r\n","title":"Order of execution for Resilience4j annotations?","body":"<p>you could either define exceptions on which you want to retry using <code>retryExceptions</code> or define exceptions you wish to ignore using <code>ignoreExceptions</code> If either of the solutions does not work for you then you can have a predicate <code>retryOnResultPredicate</code> which evaluates if a result should be retried. The Predicate must return true if the result should be retried, otherwise, it must return false.</p>\n<p>like below.</p>\n<pre><code>import org.springframework.web.client.HttpClientErrorException;\nimport java.util.function.Predicate;\n\npublic class IgnoreErrorExceptionPredicate implements Predicate&lt;Throwable&gt; {\n\n  @Override\n  public boolean test(Throwable e) {\n    return e instanceof HttpClientErrorException || e.getCause() instanceof HttpClientErrorException;\n  }\n\n}\n</code></pre>\n<p>and configure this predicate in retry properties as</p>\n<pre><code>resilience4j.retry:\n    configs:\n        default:\n            maxAttempts: 3\n            waitDuration: 100\n            retryExceptions:\n                - org.springframework.web.client.HttpServerErrorException\n                - java.util.concurrent.TimeoutException\n                - java.io.IOException\n            ignoreExceptions:\n                - io.github.robwin.exception.BusinessException\n            retryOnResultPredicate:\n                - your.predicate.package.IgnoreErrorExceptionPredicate\n</code></pre>\n"}],"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680679449,"creation_date":1680540498,"question_id":75921880,"body_markdown":"We are calling few downstreams from our service, and we need to provide the **circuit breaker**, **retry**, **timelimiter** and **bulkhead** feature to all the downstream services call.\r\n\r\n**Current code-base**: \r\n\r\n    @Override\r\n    @Bulkhead(name = &quot;downstream1&quot;, type = Type.THREADPOOL, fallbackMethod = &quot;downstream1Fallback&quot;)\r\n    @TimeLimiter(name = &quot;downstream1&quot;, fallbackMethod = &quot;downstream1Fallback&quot;)\r\n    @CircuitBreaker(name = &quot;downstream1&quot;, fallbackMethod = &quot;downstream1Fallback&quot;)\r\n    @Retry(name = &quot;downstream1&quot;, fallbackMethod = &quot;downstream1Fallback&quot;)\r\n    public CompletableFuture&lt;String&gt; downstream1(String a) {\r\n        return CompletableFuture.completedFuture(process(a)));\r\n    }\r\n\r\n    public CompletableFuture&lt;String&gt; downstream1Fallback(String a,\r\n            Exception e) {\r\n        return CompletableFuture.completedFuture(&quot;&quot;); // empty string.\r\n    }\r\n\r\n**app.properties** :\r\n\r\n    # timeouts\r\n    resilience4j.timelimiter.instances. downstream1.timeout-duration=30 #30 ms\r\n    \r\n    # retry\r\n    resilience4j.retry.instances.downstream1.max-attempts=1\r\n    \r\n    # bulkhead\r\n    resilience4j.thread-pool-bulkhead.instances.downstream1.core-thread-pool-size=30\r\n    resilience4j.thread-pool-bulkhead.instances.downstream1.max-thread-pool-size=50\r\n    resilience4j.thread-pool-bulkhead.instances.downstream1.queue-capacity=10\r\n\r\n**Use-case** :\r\n\r\nIf the thread-pool by Bulkhead is full OR there&#39;s a timeout from downstream OR circuit-is-open, I don&#39;t want to do the retrying in all of these scenarios, and retry in every other scenario. \r\n\r\nRetry should only happen if there&#39;s an **server exception** from the downstream.\r\n\r\nAs per the official docs : https://resilience4j.readme.io/docs/getting-started-3#aspect-order. This is the order.\r\n\r\n&gt; Retry ( CircuitBreaker ( RateLimiter ( TimeLimiter ( Bulkhead (\r\n&gt; Function\r\n\r\n**My understanding from docs :** \r\n\r\n    case 1: If thread-pool is full, fallback will be called with \r\n    exception type BulkheadFullException.class - no retry\r\n         : else new thread will be spawned to call downstream.\r\n\r\n    case 3: If spawned thread takes more time than what&#39;s set on \r\n    &quot;resilience4j.timelimiter&quot;, fallback will be called with \r\n    exception type TimeoutException.class - no retry\r\n\r\n    case 4: If circuit is open, fallback will be called with \r\n    exception type CallNotPermittedException.class - no retry.\r\n\r\n    case 5: If thread-pool is not full and no timeout and circuit is \r\n    closed as well, and we got some other exception than \r\n    the above mentioned exceptions, than only retry to downstream \r\n    call will trigger using config values set on &quot;resilience4j.retry&quot;.\r\n\r\n\r\n&gt; Is this flow understanding correct, about how resilience4j would work\r\n&gt; OR do I need to change/add any config in the **app.properties** file, to serve the use-case described above.\r\n\r\n\r\n\r\n","title":"Order of execution for Resilience4j annotations?","body":"<p>We are calling few downstreams from our service, and we need to provide the <strong>circuit breaker</strong>, <strong>retry</strong>, <strong>timelimiter</strong> and <strong>bulkhead</strong> feature to all the downstream services call.</p>\n<p><strong>Current code-base</strong>:</p>\n<pre><code>@Override\n@Bulkhead(name = &quot;downstream1&quot;, type = Type.THREADPOOL, fallbackMethod = &quot;downstream1Fallback&quot;)\n@TimeLimiter(name = &quot;downstream1&quot;, fallbackMethod = &quot;downstream1Fallback&quot;)\n@CircuitBreaker(name = &quot;downstream1&quot;, fallbackMethod = &quot;downstream1Fallback&quot;)\n@Retry(name = &quot;downstream1&quot;, fallbackMethod = &quot;downstream1Fallback&quot;)\npublic CompletableFuture&lt;String&gt; downstream1(String a) {\n    return CompletableFuture.completedFuture(process(a)));\n}\n\npublic CompletableFuture&lt;String&gt; downstream1Fallback(String a,\n        Exception e) {\n    return CompletableFuture.completedFuture(&quot;&quot;); // empty string.\n}\n</code></pre>\n<p><strong>app.properties</strong> :</p>\n<pre><code># timeouts\nresilience4j.timelimiter.instances. downstream1.timeout-duration=30 #30 ms\n\n# retry\nresilience4j.retry.instances.downstream1.max-attempts=1\n\n# bulkhead\nresilience4j.thread-pool-bulkhead.instances.downstream1.core-thread-pool-size=30\nresilience4j.thread-pool-bulkhead.instances.downstream1.max-thread-pool-size=50\nresilience4j.thread-pool-bulkhead.instances.downstream1.queue-capacity=10\n</code></pre>\n<p><strong>Use-case</strong> :</p>\n<p>If the thread-pool by Bulkhead is full OR there's a timeout from downstream OR circuit-is-open, I don't want to do the retrying in all of these scenarios, and retry in every other scenario.</p>\n<p>Retry should only happen if there's an <strong>server exception</strong> from the downstream.</p>\n<p>As per the official docs : <a href=\"https://resilience4j.readme.io/docs/getting-started-3#aspect-order\" rel=\"nofollow noreferrer\">https://resilience4j.readme.io/docs/getting-started-3#aspect-order</a>. This is the order.</p>\n<blockquote>\n<p>Retry ( CircuitBreaker ( RateLimiter ( TimeLimiter ( Bulkhead (\nFunction</p>\n</blockquote>\n<p><strong>My understanding from docs :</strong></p>\n<pre><code>case 1: If thread-pool is full, fallback will be called with \nexception type BulkheadFullException.class - no retry\n     : else new thread will be spawned to call downstream.\n\ncase 3: If spawned thread takes more time than what's set on \n&quot;resilience4j.timelimiter&quot;, fallback will be called with \nexception type TimeoutException.class - no retry\n\ncase 4: If circuit is open, fallback will be called with \nexception type CallNotPermittedException.class - no retry.\n\ncase 5: If thread-pool is not full and no timeout and circuit is \nclosed as well, and we got some other exception than \nthe above mentioned exceptions, than only retry to downstream \ncall will trigger using config values set on &quot;resilience4j.retry&quot;.\n</code></pre>\n<blockquote>\n<p>Is this flow understanding correct, about how resilience4j would work\nOR do I need to change/add any config in the <strong>app.properties</strong> file, to serve the use-case described above.</p>\n</blockquote>\n"},{"tags":["java","jackson","jersey","wildfly","apache-tomee"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1680708779,"post_id":75935521,"comment_id":133944919,"body_markdown":"FWIW WildFly 27 implements Jakarta EE 10 and you can enable Jackson support for REST.","body":"FWIW WildFly 27 implements Jakarta EE 10 and you can enable Jackson support for REST."}],"answers":[{"comments":[{"owner":{"account_id":1442958,"reputation":1329,"user_id":1362485,"accept_rate":91,"display_name":"ps0604"},"score":0,"creation_date":1680699532,"post_id":75936451,"comment_id":133942080,"body_markdown":"My application is large and complex, and uses Jackson extensively, what I put in the question is just an example, there&#39;s no way to use Jackson with Jakarta EE?","body":"My application is large and complex, and uses Jackson extensively, what I put in the question is just an example, there&#39;s no way to use Jackson with Jakarta EE?"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1680703385,"post_id":75936451,"comment_id":133943236,"body_markdown":"I think you will need to change them if you want to use JakartaEE.  You can also take a look at https://github.com/FasterXML/jackson-jakarta-rs-providers and see if it can help in anyway?","body":"I think you will need to change them if you want to use JakartaEE.  You can also take a look at <a href=\"https://github.com/FasterXML/jackson-jakarta-rs-providers\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-jakarta-rs-providers</a> and see if it can help in anyway?"},{"owner":{"account_id":1442958,"reputation":1329,"user_id":1362485,"accept_rate":91,"display_name":"ps0604"},"score":0,"creation_date":1680708505,"post_id":75936451,"comment_id":133944806,"body_markdown":"I didn&#39;t find a way to keep the code unchanged, thanks for the direction","body":"I didn&#39;t find a way to keep the code unchanged, thanks for the direction"}],"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680679284,"creation_date":1680677573,"answer_id":75936451,"question_id":75935521,"body_markdown":"According to the Jakarta Documentation,\r\n\r\nhttps://jakarta.ee/specifications/jsonb/2.0/jakarta-jsonb-spec-2.0.html#customizing-property-names\r\n\r\n&gt; There are two standard ways how to customize serialization of field\r\n&gt; (or JavaBean property) to JSON document. The same applies to\r\n&gt; deserialization. The first way is to annotate field (or JavaBean\r\n&gt; property) with jakarta.json.bind.annotation.JsonbProperty annotation.\r\n&gt; The second option is to set\r\n&gt; jakarta.json.bind.config.PropertyNamingStrategy.\r\n\r\n\r\nYou need to use the `@JsonBProperty` annotation, instead of JsonProperty that you are using.\r\n\r\n    import jakarta.json.bind.annotation.JsonbProperty;\r\n\r\n\r\n\r\n","title":"Migrating Jackson JSON from Wildfly to Tomee","body":"<p>According to the Jakarta Documentation,</p>\n<p><a href=\"https://jakarta.ee/specifications/jsonb/2.0/jakarta-jsonb-spec-2.0.html#customizing-property-names\" rel=\"nofollow noreferrer\">https://jakarta.ee/specifications/jsonb/2.0/jakarta-jsonb-spec-2.0.html#customizing-property-names</a></p>\n<blockquote>\n<p>There are two standard ways how to customize serialization of field\n(or JavaBean property) to JSON document. The same applies to\ndeserialization. The first way is to annotate field (or JavaBean\nproperty) with jakarta.json.bind.annotation.JsonbProperty annotation.\nThe second option is to set\njakarta.json.bind.config.PropertyNamingStrategy.</p>\n</blockquote>\n<p>You need to use the <code>@JsonBProperty</code> annotation, instead of JsonProperty that you are using.</p>\n<pre><code>import jakarta.json.bind.annotation.JsonbProperty;\n</code></pre>\n"}],"owner":{"account_id":1442958,"reputation":1329,"user_id":1362485,"accept_rate":91,"display_name":"ps0604"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75936451,"answer_count":1,"score":0,"last_activity_date":1680679284,"creation_date":1680666943,"question_id":75935521,"body_markdown":"Given this class annotated with Jackson:\r\n\r\n    public class ResponseMsg implements Serializable{\r\n        \r\n        public ResponseMsg(String ret, String msg){\r\n            this.returnCode = ret;\r\n            this.errorMsg = msg;\r\n        }\r\n    \t\r\n    \t@JsonProperty(&quot;ret&quot;)\r\n    \tprivate int returnCode;\r\n    \t\r\n    \t@JsonProperty(&quot;msg&quot;)\r\n    \tprivate String errorMessage;\r\n\r\n        // .... getters and setters\r\n    }\r\n\r\nI have this class working _fine_ in Wildfly 26, it returns a JSON response with the annotated attributes of ResponseMsg:\r\n\r\n    @Path(&quot;/test&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response processMessage() {\r\n\r\n\t    @POST\r\n\t    @Path(&quot;/proc&quot;)\r\n        public Response process() {\r\n\t\t    ResponseMsg er = new ResponseMsg(&quot;abc&quot;,&quot;some message&quot;);\r\n\t\t    return Response.ok(er).build();\r\n        }\r\n\r\n     }\r\n\r\n\r\nSince it&#39;s annotated with the JsonProperty, I&#39;m getting in the browser as expected:\r\n\r\n    { &quot;ret&quot;: &quot;abc&quot;, &quot;msg&quot;: &quot;some message&quot; }\r\n\r\n\r\nNow, I&#39;m migrating to Tomee with Jakarta EE 9.1, and the same code returns the ResponseMsg but _without_ the annotated properties, the JSON looks like this:\r\n\r\n    { &quot;returnCode&quot;: &quot;abc&quot;, &quot;errorMessage&quot;: &quot;some message&quot; }\r\n\r\n\r\nSomething is missing in Tomee&#39;s configuration, what is it?\r\n","title":"Migrating Jackson JSON from Wildfly to Tomee","body":"<p>Given this class annotated with Jackson:</p>\n<pre><code>public class ResponseMsg implements Serializable{\n    \n    public ResponseMsg(String ret, String msg){\n        this.returnCode = ret;\n        this.errorMsg = msg;\n    }\n    \n    @JsonProperty(&quot;ret&quot;)\n    private int returnCode;\n    \n    @JsonProperty(&quot;msg&quot;)\n    private String errorMessage;\n\n    // .... getters and setters\n}\n</code></pre>\n<p>I have this class working <em>fine</em> in Wildfly 26, it returns a JSON response with the annotated attributes of ResponseMsg:</p>\n<pre><code>@Path(&quot;/test&quot;)\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\npublic Response processMessage() {\n\n    @POST\n    @Path(&quot;/proc&quot;)\n    public Response process() {\n        ResponseMsg er = new ResponseMsg(&quot;abc&quot;,&quot;some message&quot;);\n        return Response.ok(er).build();\n    }\n\n }\n</code></pre>\n<p>Since it's annotated with the JsonProperty, I'm getting in the browser as expected:</p>\n<pre><code>{ &quot;ret&quot;: &quot;abc&quot;, &quot;msg&quot;: &quot;some message&quot; }\n</code></pre>\n<p>Now, I'm migrating to Tomee with Jakarta EE 9.1, and the same code returns the ResponseMsg but <em>without</em> the annotated properties, the JSON looks like this:</p>\n<pre><code>{ &quot;returnCode&quot;: &quot;abc&quot;, &quot;errorMessage&quot;: &quot;some message&quot; }\n</code></pre>\n<p>Something is missing in Tomee's configuration, what is it?</p>\n"},{"tags":["java","xml","xslt","apache-fop"],"comments":[{"owner":{"account_id":3034356,"reputation":215,"user_id":2767759,"display_name":"Patrick Dezecache"},"score":0,"creation_date":1554150357,"post_id":55460740,"comment_id":97638412,"body_markdown":"it runs... : ``java -cp &quot;%LOCALCLASSPATH%&quot; org.apache.xalan.xslt.Process  -IN  test_fop.xml -XSL  test_fop.xsl -OUT test_fop.fo`` , then ``fop -fo test_fop.fo -pdf test_fop.pdf``","body":"it runs... : <code>java -cp &quot;%LOCALCLASSPATH%&quot; org.apache.xalan.xslt.Process  -IN  test_fop.xml -XSL  test_fop.xsl -OUT test_fop.fo</code> , then <code>fop -fo test_fop.fo -pdf test_fop.pdf</code>"},{"owner":{"account_id":3034356,"reputation":215,"user_id":2767759,"display_name":"Patrick Dezecache"},"score":0,"creation_date":1554150742,"post_id":55460740,"comment_id":97638581,"body_markdown":"opening the PDF file in a browser has nothing to do with fop, i think. Check for browser add-on to be able to open pdf....","body":"opening the PDF file in a browser has nothing to do with fop, i think. Check for browser add-on to be able to open pdf...."},{"owner":{"account_id":15653142,"reputation":11,"user_id":11294139,"display_name":"Rebekah Davies"},"score":0,"creation_date":1554152469,"post_id":55460740,"comment_id":97639287,"body_markdown":"Thanks! After not being able to open the file in a pdf viewer, i inspected the files and found I had missed the &#39;.pdf&#39; off the file name and so it was only saving as a file.","body":"Thanks! After not being able to open the file in a pdf viewer, i inspected the files and found I had missed the &#39;.pdf&#39; off the file name and so it was only saving as a file."}],"answers":[{"tags":[],"owner":{"account_id":25552542,"reputation":1,"user_id":19336694,"display_name":"Oleksandr Verner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680679174,"creation_date":1680679081,"answer_id":75936635,"question_id":55460740,"body_markdown":"If you use IntelliJ then you can try add a schema. \r\n*File-&gt;Settings-&gt;Languages &amp; Frameworks-&gt; Schemas and DTDs*\r\nthen in &quot;External schemas and DTDs:&quot; click &quot;+&quot; and type &quot;fo.xsd&quot;. click &quot;OK&quot; -&gt; Apply -&gt; ok","title":"How to fix &#39;cannot resolve symbol &#39;fo:root&#39; &#39; in .xsl file","body":"<p>If you use IntelliJ then you can try add a schema.\n<em>File-&gt;Settings-&gt;Languages &amp; Frameworks-&gt; Schemas and DTDs</em>\nthen in &quot;External schemas and DTDs:&quot; click &quot;+&quot; and type &quot;fo.xsd&quot;. click &quot;OK&quot; -&gt; Apply -&gt; ok</p>\n"}],"owner":{"account_id":15653142,"reputation":11,"user_id":11294139,"display_name":"Rebekah Davies"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":724,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680679174,"creation_date":1554140351,"question_id":55460740,"body_markdown":"Ok so I am new to xsl and am creating a template that will be used to create a PDF file from an XML file using Apache FOP and am currently getting a cannot resolve symbol error for every &#39;fo:&#39; tag\r\n\r\n\r\n````\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n                xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot;&gt;\r\n    &lt;xsl:template match=&quot;/&quot;&gt;\r\n        &lt;fo:root&gt;\r\n            &lt;fo:layout-master-set&gt;\r\n                &lt;fo:simple-page-master master-name=&quot;simpleA4&quot;\r\n                                       page-height=&quot;29.7cm&quot; page-width=&quot;21.0cm&quot; margin=&quot;2cm&quot;&gt;\r\n                    &lt;fo:region-body/&gt;\r\n                &lt;/fo:simple-page-master&gt;\r\n            &lt;/fo:layout-master-set&gt;\r\n            &lt;fo:page-sequence master-reference=&quot;simpleA4&quot;&gt;\r\n                &lt;fo:flow flow-name=&quot;xsl-region-body&quot;&gt;\r\n                    &lt;fo:block font-family=&quot;Helvetica&quot; color=&quot;red&quot; font-size=&quot;16pt&quot; font-weight=&quot;bold&quot;&gt;\r\n                        Hello, &lt;xsl:value-of select=&quot;patient/patientDetails/firstName&quot;/&gt;!\r\n                    &lt;/fo:block&gt;\r\n                &lt;/fo:flow&gt;\r\n            &lt;/fo:page-sequence&gt;\r\n        &lt;/fo:root&gt;\r\n    &lt;/xsl:template&gt;\r\n&lt;/xsl:stylesheet&gt;\r\n````\r\n\r\nPreviously, everything was working fine and created a basic hello file, I tried making changes and found that it still creates a file when the application is run, however every time I try and open the PDF file, for example in a browser, it acts as though I am downloading it eg. bringing up a dialogue box asking if I want to save or open. If i press open with (any browser) it just brings up the dialogue box again in a new tab. \r\n\r\nI reverted back to the basic hello file, but am now getting the cannot resolve symbol &#39;fo:&#39; for every fo: tag, and still the same problem with the looping dialogue box when attempting to open the PDF file in a browser.","title":"How to fix &#39;cannot resolve symbol &#39;fo:root&#39; &#39; in .xsl file","body":"<p>Ok so I am new to xsl and am creating a template that will be used to create a PDF file from an XML file using Apache FOP and am currently getting a cannot resolve symbol error for every 'fo:' tag</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\n                xmlns:fo=\"http://www.w3.org/1999/XSL/Format\"&gt;\n    &lt;xsl:template match=\"/\"&gt;\n        &lt;fo:root&gt;\n            &lt;fo:layout-master-set&gt;\n                &lt;fo:simple-page-master master-name=\"simpleA4\"\n                                       page-height=\"29.7cm\" page-width=\"21.0cm\" margin=\"2cm\"&gt;\n                    &lt;fo:region-body/&gt;\n                &lt;/fo:simple-page-master&gt;\n            &lt;/fo:layout-master-set&gt;\n            &lt;fo:page-sequence master-reference=\"simpleA4\"&gt;\n                &lt;fo:flow flow-name=\"xsl-region-body\"&gt;\n                    &lt;fo:block font-family=\"Helvetica\" color=\"red\" font-size=\"16pt\" font-weight=\"bold\"&gt;\n                        Hello, &lt;xsl:value-of select=\"patient/patientDetails/firstName\"/&gt;!\n                    &lt;/fo:block&gt;\n                &lt;/fo:flow&gt;\n            &lt;/fo:page-sequence&gt;\n        &lt;/fo:root&gt;\n    &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n\n<p>Previously, everything was working fine and created a basic hello file, I tried making changes and found that it still creates a file when the application is run, however every time I try and open the PDF file, for example in a browser, it acts as though I am downloading it eg. bringing up a dialogue box asking if I want to save or open. If i press open with (any browser) it just brings up the dialogue box again in a new tab. </p>\n\n<p>I reverted back to the basic hello file, but am now getting the cannot resolve symbol 'fo:' for every fo: tag, and still the same problem with the looping dialogue box when attempting to open the PDF file in a browser.</p>\n"},{"tags":["java","arrays","reference","addition"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1680587851,"post_id":75925828,"comment_id":133919040,"body_markdown":"have you ever considered `arr[i] = arr[i]+arr[i+z]`","body":"have you ever considered <code>arr[i] = arr[i]+arr[i+z]</code>"}],"answers":[{"tags":[],"owner":{"account_id":3439344,"reputation":569,"user_id":2881646,"accept_rate":100,"display_name":"mdsimmo"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1680679082,"creation_date":1680588307,"answer_id":75925970,"question_id":75925828,"body_markdown":"In Java arrays are passed by reference. Thus, you can just modify it directly.\r\n\r\n```java\r\npublic class Arraym {\r\n    static void print (int[] arr) {\r\n        for (int i = 0; i &lt; arr.length/2; i++) {\r\n            int z = arr[arr.length/2];\r\n            int sum1=arr[i]+arr[i+z];\r\n            System.out.print(sum1);\r\n            // Write to each element of the array\r\n            arr[i] = sum1;\r\n        }\r\n        \r\n        for (int i = arr.length/2; i&lt;arr.length; i++) {\r\n              int sum2=arr[i];\r\n              System.out.print(sum2);\r\n              // No need to write to array, since it already contains the correct value.\r\n        }\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        int[] arr = {1,2,3,4,5};\r\n        print(arr);\r\n        \r\n        System.out.println();\r\n        for (int i : arr) {\r\n            System.out.print(i); // prints 57345\r\n        }\r\n    }   \r\n}\r\n```\r\n\r\n\r\nNote: I&#39;ve made a couple of extra edits to the program:\r\n1. In java, prefer `int[] variable` over `int variable[]`. They are the same, but the first is preferable as it better describes the type.\r\n2. There is no need to declare all variables at the start of the function. Variables can be declared anywhere in a function and will only be visible within the declared block.\r\n3. Always indent/format your code before posting.","title":"Print array with specific conditions as below in java","body":"<p>In Java arrays are passed by reference. Thus, you can just modify it directly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Arraym {\n    static void print (int[] arr) {\n        for (int i = 0; i &lt; arr.length/2; i++) {\n            int z = arr[arr.length/2];\n            int sum1=arr[i]+arr[i+z];\n            System.out.print(sum1);\n            // Write to each element of the array\n            arr[i] = sum1;\n        }\n        \n        for (int i = arr.length/2; i&lt;arr.length; i++) {\n              int sum2=arr[i];\n              System.out.print(sum2);\n              // No need to write to array, since it already contains the correct value.\n        }\n    }\n    \n    public static void main(String[] args) {\n        int[] arr = {1,2,3,4,5};\n        print(arr);\n        \n        System.out.println();\n        for (int i : arr) {\n            System.out.print(i); // prints 57345\n        }\n    }   \n}\n</code></pre>\n<p>Note: I've made a couple of extra edits to the program:</p>\n<ol>\n<li>In java, prefer <code>int[] variable</code> over <code>int variable[]</code>. They are the same, but the first is preferable as it better describes the type.</li>\n<li>There is no need to declare all variables at the start of the function. Variables can be declared anywhere in a function and will only be visible within the declared block.</li>\n<li>Always indent/format your code before posting.</li>\n</ol>\n"}],"owner":{"account_id":27663288,"reputation":23,"user_id":21115611,"display_name":"Siddhiraj Ranaware"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75925970,"answer_count":1,"score":0,"last_activity_date":1680679082,"creation_date":1680586819,"question_id":75925828,"body_markdown":"Array Question - `int[] arr={1,2,3,4,5}`\r\n\r\nFirst find out middle element of array\r\n\r\nAddition 1st element of array to right side closest element of middle element i.e arr[0] + arr[3] = 1 + 4 = 5\r\n\r\nAgain add 2nd element of array to next right side element of middle element i.e. arr[1] + arr[4] = 2 + 5 = 7\r\n\r\nPrint this sums up to middle element after middle element array should print elements as a original array and get output as [5,7,3,4,5]\r\n\r\nNote: get output elements and modify them as a original array elements so if we print original array i.e.\r\n\r\n```\r\nfor (int i=0; i &lt; arr.length; i++) {\r\n    System.out.println(arr[i]); \r\n}\r\n```\r\n\r\nthen output must be &#39;5 7 3 4 5&#39;\r\n\r\nI tried this and I got output but how can I convert output in array elements and fill it to an empty array and refer to original array\r\n\r\n```java\r\npackage javap;\r\n\r\n\r\npublic class Arraym {\r\n    static void print (int arr[]) {\r\n        int z = arr[arr.length / 2];\r\n\r\n     \tint sum1 = 0;\r\n    \tint sum2 = 0;\r\n       \r\n        for (int i = 0; i &lt; arr.length/2; i++) {\r\n     \t    System.out.print(sum1= arr[i]+arr[i+z]) ;\r\n        }\r\n        for (int i = arr.length/2; i&lt;arr.length; i++) {\r\n            System.out.print(sum2=arr[i]);\r\n        }\r\n    } \r\n\r\n    public static void main(String[] args) {\r\n    \tint arr[]= {1,2,3,4,5};\r\n\t    print(arr);\r\n    }\r\n}\r\n```\r\n","title":"Print array with specific conditions as below in java","body":"<p>Array Question - <code>int[] arr={1,2,3,4,5}</code></p>\n<p>First find out middle element of array</p>\n<p>Addition 1st element of array to right side closest element of middle element i.e arr[0] + arr[3] = 1 + 4 = 5</p>\n<p>Again add 2nd element of array to next right side element of middle element i.e. arr[1] + arr[4] = 2 + 5 = 7</p>\n<p>Print this sums up to middle element after middle element array should print elements as a original array and get output as [5,7,3,4,5]</p>\n<p>Note: get output elements and modify them as a original array elements so if we print original array i.e.</p>\n<pre><code>for (int i=0; i &lt; arr.length; i++) {\n    System.out.println(arr[i]); \n}\n</code></pre>\n<p>then output must be '5 7 3 4 5'</p>\n<p>I tried this and I got output but how can I convert output in array elements and fill it to an empty array and refer to original array</p>\n<pre class=\"lang-java prettyprint-override\"><code>package javap;\n\n\npublic class Arraym {\n    static void print (int arr[]) {\n        int z = arr[arr.length / 2];\n\n        int sum1 = 0;\n        int sum2 = 0;\n       \n        for (int i = 0; i &lt; arr.length/2; i++) {\n            System.out.print(sum1= arr[i]+arr[i+z]) ;\n        }\n        for (int i = arr.length/2; i&lt;arr.length; i++) {\n            System.out.print(sum2=arr[i]);\n        }\n    } \n\n    public static void main(String[] args) {\n        int arr[]= {1,2,3,4,5};\n        print(arr);\n    }\n}\n</code></pre>\n"},{"tags":["java","resilience4j","spring-cloud-circuitbreaker"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1680679094,"post_id":75936532,"comment_id":133936971,"body_markdown":"I&#39;d guess (without seeing more code or data) that your timeout service trips the circuit breaker and thus immediately returns. Your setup seems to use a central circuit breaker &quot;serviceTimeout&quot; for all services that are called via `getServices.handle(request)` so if any of those fails or times out it will impact the others.","body":"I&#39;d guess (without seeing more code or data) that your timeout service trips the circuit breaker and thus immediately returns. Your setup seems to use a central circuit breaker &quot;serviceTimeout&quot; for all services that are called via <code>getServices.handle(request)</code> so if any of those fails or times out it will impact the others."}],"owner":{"account_id":14572634,"reputation":3,"user_id":10525492,"display_name":"Taavi Raudkivi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680678248,"creation_date":1680678248,"question_id":75936532,"body_markdown":"  I am usin Spring Cloud Circuit Breaker Timelimiter with Spring 2.7.10 and Java 8. Problem is that fallback is called (or `No fallback available`) instantly and `circuitbreaker.run` never goes to the called method. What could be the problem? \r\nSorry for not providing the full code, it is restricted!\r\n\r\n**Timelimiter configuration**\r\n\r\n    @Configuration\r\n      public class TimeoutConfig {\r\n\r\n    @Bean\r\n    public Customizer&lt;Resilience4JCircuitBreakerFactory&gt; specificCustomConfiguration1() {\r\n        TimeLimiterConfig timeLimiterConfig = TimeLimiterConfig.custom()\r\n                .timeoutDuration(Duration.ofSeconds(5))\r\n                .build();\r\n\r\n        return factory -&gt; factory.configure(builder -&gt; builder\r\n                .timeLimiterConfig(timeLimiterConfig).build(),&quot;serviceTimeout&quot;);\r\n    }\r\n}\r\n\r\n**A Timelimiter service**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @Service\r\n    public class TimeoutService {\r\n\r\n        @Autowired\r\n        ErrorMapper errorMapper;\r\n        @Autowired GetServices getServices;\r\n        @Autowired\r\n        private CircuitBreakerFactory circuitBreakerFactory;\r\n\r\n\r\n        public GetServicesResponse runTimeout(GetServicesRequest request) {\r\n                CircuitBreaker circuitBreaker = circuitBreakerFactory.create(&quot;serviceTimeout&quot;);\r\n                return circuitBreaker.run(()-&gt;getServices.handle(request));\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n**Controller method, where Timelimiter is called**\r\n\r\n\t@Override\r\n\tpublic GetServicesResponse getServices(GetServicesRequest request) {\r\n\t\ttry {\r\n\t\t\treturn timeoutService.runTimeout(request);\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn errorMapper.exceptionToResponse(request, e, GetServicesResponse.class);\r\n\t\t}\r\n\t}","title":"Spring Cloud Circuit Breaker TimeLimiter goes always to fallback","body":"<p>I am usin Spring Cloud Circuit Breaker Timelimiter with Spring 2.7.10 and Java 8. Problem is that fallback is called (or <code>No fallback available</code>) instantly and <code>circuitbreaker.run</code> never goes to the called method. What could be the problem?\nSorry for not providing the full code, it is restricted!</p>\n<p><strong>Timelimiter configuration</strong></p>\n<pre><code>@Configuration\n  public class TimeoutConfig {\n\n@Bean\npublic Customizer&lt;Resilience4JCircuitBreakerFactory&gt; specificCustomConfiguration1() {\n    TimeLimiterConfig timeLimiterConfig = TimeLimiterConfig.custom()\n            .timeoutDuration(Duration.ofSeconds(5))\n            .build();\n\n    return factory -&gt; factory.configure(builder -&gt; builder\n            .timeLimiterConfig(timeLimiterConfig).build(),&quot;serviceTimeout&quot;);\n}\n</code></pre>\n<p>}</p>\n<p><strong>A Timelimiter service</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Service\npublic class TimeoutService {\n\n    @Autowired\n    ErrorMapper errorMapper;\n    @Autowired GetServices getServices;\n    @Autowired\n    private CircuitBreakerFactory circuitBreakerFactory;\n\n\n    public GetServicesResponse runTimeout(GetServicesRequest request) {\n            CircuitBreaker circuitBreaker = circuitBreakerFactory.create(\"serviceTimeout\");\n            return circuitBreaker.run(()-&gt;getServices.handle(request));\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>Controller method, where Timelimiter is called</strong></p>\n<pre><code>@Override\npublic GetServicesResponse getServices(GetServicesRequest request) {\n    try {\n        return timeoutService.runTimeout(request);\n    } catch (Exception e) {\n        return errorMapper.exceptionToResponse(request, e, GetServicesResponse.class);\n    }\n}\n</code></pre>\n"},{"tags":["java","drools"],"answers":[{"comments":[{"owner":{"account_id":2611141,"reputation":11,"user_id":2261220,"display_name":"boomboom"},"score":0,"creation_date":1680691308,"post_id":75936485,"comment_id":133939803,"body_markdown":"Thank you for your response @tarilabs. The test returns the rules but not the one in the agenda. However, this helps me dig deeper.","body":"Thank you for your response @tarilabs. The test returns the rules but not the one in the agenda. However, this helps me dig deeper."},{"owner":{"account_id":480643,"reputation":2233,"user_id":893991,"display_name":"tarilabs"},"score":0,"creation_date":1680715100,"post_id":75936485,"comment_id":133946607,"body_markdown":"it return packages -&gt; rule and for each rule in each package, the agenda of the rule. With that, you can construct the inverse relationship of a given agenda, which rules are part of said agenda.","body":"it return packages -&gt; rule and for each rule in each package, the agenda of the rule. With that, you can construct the inverse relationship of a given agenda, which rules are part of said agenda."},{"owner":{"account_id":2611141,"reputation":11,"user_id":2261220,"display_name":"boomboom"},"score":0,"creation_date":1680865953,"post_id":75936485,"comment_id":133972105,"body_markdown":"I am unable to see how I can get from packages -&gt; package -&gt; rules -&gt; rule -&gt; agenda!","body":"I am unable to see how I can get from packages -&gt; package -&gt; rules -&gt; rule -&gt; agenda!"},{"owner":{"account_id":480643,"reputation":2233,"user_id":893991,"display_name":"tarilabs"},"score":0,"creation_date":1680871913,"post_id":75936485,"comment_id":133973133,"body_markdown":"You original question was: `Retrieve Rules from Agenda`. So given a specific agenda, you can filter using this snippet provided in answer for the rules in that agenda. This snippet of code list for each package the rules which are contained, and for each rule the associated agenda. You just need to filter for your given agenda.","body":"You original question was: <code>Retrieve Rules from Agenda</code>. So given a specific agenda, you can filter using this snippet provided in answer for the rules in that agenda. This snippet of code list for each package the rules which are contained, and for each rule the associated agenda. You just need to filter for your given agenda."}],"tags":[],"owner":{"account_id":480643,"reputation":2233,"user_id":893991,"display_name":"tarilabs"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680677839,"creation_date":1680677839,"answer_id":75936485,"question_id":75934570,"body_markdown":"There is no public API available to introspect this programmatically, but you can use internal model API (by casting Rule model objects to `org.drools.core.definitions.rule.impl.RuleImpl`).\r\n\r\nFor example, given a rule such as:\r\n\r\n```\r\nrule &quot;will execute per each Measurement having ID color&quot;\r\nagenda-group &quot;agroup1&quot;\r\nwhen\r\n\tMeasurement( id == &quot;color&quot;, $colorVal : val )\r\nthen\r\n\tcontrolSet.add($colorVal);\r\nend\r\n```\r\n\r\nthe following code snippet:\r\n\r\n```java\r\nLOG.info(&quot;There should be rules: &quot;);\r\nfor ( KiePackage kp : kieBase.getKiePackages() ) {\r\n    for (Rule rule : kp.getRules()) {\r\n        LOG.info(&quot;package &#39;{}&#39; rule named &#39;{}&#39; belongs in agenda group: {}&quot;,\r\n                kp.getName(),\r\n                rule.getName(),\r\n                ((RuleImpl) rule).getAgendaGroup());\r\n    }\r\n}\r\n```\r\n\r\nwould print out:\r\n\r\n&gt; 2023-04-05 08:50:07,215 [main] INFO  package &#39;org.drools.demo&#39; rule\r\n&gt; named &#39;will execute per each Measurement having ID color&#39; belongs in\r\n&gt; agenda group: agroup1\r\n\r\ntested with: https://github.com/tarilabs/demo20230405-so75934570/blob/1d70e459e05aaf319e8171ef11f649d1027c0a56/src/test/java/org/drools/demo/RuleTest.java#L37","title":"Retrieve Rules from Agenda in Drools 8","body":"<p>There is no public API available to introspect this programmatically, but you can use internal model API (by casting Rule model objects to <code>org.drools.core.definitions.rule.impl.RuleImpl</code>).</p>\n<p>For example, given a rule such as:</p>\n<pre><code>rule &quot;will execute per each Measurement having ID color&quot;\nagenda-group &quot;agroup1&quot;\nwhen\n    Measurement( id == &quot;color&quot;, $colorVal : val )\nthen\n    controlSet.add($colorVal);\nend\n</code></pre>\n<p>the following code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LOG.info(&quot;There should be rules: &quot;);\nfor ( KiePackage kp : kieBase.getKiePackages() ) {\n    for (Rule rule : kp.getRules()) {\n        LOG.info(&quot;package '{}' rule named '{}' belongs in agenda group: {}&quot;,\n                kp.getName(),\n                rule.getName(),\n                ((RuleImpl) rule).getAgendaGroup());\n    }\n}\n</code></pre>\n<p>would print out:</p>\n<blockquote>\n<p>2023-04-05 08:50:07,215 [main] INFO  package 'org.drools.demo' rule\nnamed 'will execute per each Measurement having ID color' belongs in\nagenda group: agroup1</p>\n</blockquote>\n<p>tested with: <a href=\"https://github.com/tarilabs/demo20230405-so75934570/blob/1d70e459e05aaf319e8171ef11f649d1027c0a56/src/test/java/org/drools/demo/RuleTest.java#L37\" rel=\"nofollow noreferrer\">https://github.com/tarilabs/demo20230405-so75934570/blob/1d70e459e05aaf319e8171ef11f649d1027c0a56/src/test/java/org/drools/demo/RuleTest.java#L37</a></p>\n"}],"owner":{"account_id":2611141,"reputation":11,"user_id":2261220,"display_name":"boomboom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680677839,"creation_date":1680650587,"question_id":75934570,"body_markdown":"I am using Drools 8 Rule Engine. I want to retrieve the Rules in the Agenda for viewing purposes. Unable to find a straightforward way of extracting the rules in the Agenda. Any tips?\r\n\r\nI have tried going through the Agenda, AgendaGroup Activations and their concrete implementations. They don&#39;t yield the rules I am expecting in the agenda.","title":"Retrieve Rules from Agenda in Drools 8","body":"<p>I am using Drools 8 Rule Engine. I want to retrieve the Rules in the Agenda for viewing purposes. Unable to find a straightforward way of extracting the rules in the Agenda. Any tips?</p>\n<p>I have tried going through the Agenda, AgendaGroup Activations and their concrete implementations. They don't yield the rules I am expecting in the agenda.</p>\n"},{"tags":["java","url-rewriting","struts2","friendly-url","action-mapping"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1679064258,"post_id":75766182,"comment_id":133658959,"body_markdown":"Do you have a problem to configure this url or what? Did you initially use back slashes in url or it&#39;s a typo?","body":"Do you have a problem to configure this url or what? Did you initially use back slashes in url or it&#39;s a typo?"},{"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"score":0,"creation_date":1679087489,"post_id":75766182,"comment_id":133664657,"body_markdown":"Dear @RomanC no there is no typo in the URL. The URL which needs to be maped to an action is &#39;my.action/param1/value1&#39;  these slashes after the action makes struts not map it to action","body":"Dear @RomanC no there is no typo in the URL. The URL which needs to be maped to an action is &#39;my.action/param1/value1&#39;  these slashes after the action makes struts not map it to action"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1679143374,"post_id":75766182,"comment_id":133670578,"body_markdown":"In this question is not clear how did you map actions to the URLs.","body":"In this question is not clear how did you map actions to the URLs."},{"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"score":0,"creation_date":1679214976,"post_id":75766182,"comment_id":133678524,"body_markdown":"we are using convention-plugin, it seems that we should get the `/my.action/param1/value1` url before struts filter. change it to valid url`/my.action?param1=value1` and then let struts do the rest of jobs. But I don&#39;t know how. I tried to do this in the interceptors, but `callinf my.action/param1/value1` dose not execute any interceptor","body":"we are using convention-plugin, it seems that we should get the <code>&#47;my.action&#47;param1&#47;value1</code> url before struts filter. change it to valid url<code>&#47;my.action?param1=value1</code> and then let struts do the rest of jobs. But I don&#39;t know how. I tried to do this in the interceptors, but <code>callinf my.action&#47;param1&#47;value1</code> dose not execute any interceptor"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1679240339,"post_id":75766182,"comment_id":133681838,"body_markdown":"That will be awful. You&#39;ll likely need a catch-all action that does the mapping and transformation manually, although you could build an interceptor that does this and puts the fake params into the params.","body":"That will be awful. You&#39;ll likely need a catch-all action that does the mapping and transformation manually, although you could build an interceptor that does this and puts the fake params into the params."}],"answers":[{"comments":[{"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"score":0,"creation_date":1680672627,"post_id":75784128,"comment_id":133935744,"body_markdown":"Refer to https://stackoverflow.com/questions/75920856/urlrewrite-is-not-working-in-struts-2-and-the-actions-are-not-found/75927718#75927718 if there is a problem for config struts and url wrtie","body":"Refer to <a href=\"https://stackoverflow.com/questions/75920856/urlrewrite-is-not-working-in-struts-2-and-the-actions-are-not-found/75927718#75927718\" title=\"urlrewrite is not working in struts 2 and the actions are not found\">stackoverflow.com/questions/75920856/&hellip;</a> if there is a problem for config struts and url wrtie"}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679251021,"creation_date":1679250457,"answer_id":75784128,"question_id":75766182,"body_markdown":"&gt;we are using convention-plugin, it seems that we should get the `/my.action/param1/value1` url before struts filter. change it to valid `url/my.action?param1=value1` and then let struts do the rest of jobs.\r\n\r\nIt&#39;s not easy to do it yourself, fortunately there&#39;s a solution to use urlrewrite filter in front of struts filter. See [\r\nWhy URL rewriting is not working in Struts 2][2]:\r\n\r\n&gt;You can rewrite any URL if you place [Tuckey URL rewrite][1] filter before the Struts2 filter in the web application deployment descriptor. Use this guide: [Tuckey URLRewrite How-To][3].\r\n\r\n\r\n  [1]: https://tuckey.org/urlrewrite/\r\n  [2]: https://stackoverflow.com/a/48414314/573032\r\n  [3]: \r\n  https://devtidbits.com/2011/11/28/tuckey-urlrewrite-how-to/\r\n\r\n---\r\n  \r\nThen you add a rule to rewrite URL similar like this:\r\n\r\n```xml\r\n&lt;rule match-type=&quot;regex&quot;&gt;  \r\n  &lt;from&gt;/my.action/param1/(\\w+)&lt;/from&gt;\r\n  &lt;to&gt;/my.action?param1=$1&lt;/to&gt;\r\n&lt;/rule&gt;\r\n\r\n","title":"How to map a path parameters in URL to the action in Struts 2","body":"<blockquote>\n<p>we are using convention-plugin, it seems that we should get the <code>/my.action/param1/value1</code> url before struts filter. change it to valid <code>url/my.action?param1=value1</code> and then let struts do the rest of jobs.</p>\n</blockquote>\n<p>It's not easy to do it yourself, fortunately there's a solution to use urlrewrite filter in front of struts filter. See <a href=\"https://stackoverflow.com/a/48414314/573032\">\nWhy URL rewriting is not working in Struts 2</a>:</p>\n<blockquote>\n<p>You can rewrite any URL if you place <a href=\"https://tuckey.org/urlrewrite/\" rel=\"nofollow noreferrer\">Tuckey URL rewrite</a> filter before the Struts2 filter in the web application deployment descriptor. Use this guide: <a href=\"https://devtidbits.com/2011/11/28/tuckey-urlrewrite-how-to/\" rel=\"nofollow noreferrer\">Tuckey URLRewrite How-To</a>.</p>\n</blockquote>\n<hr />\n<p>Then you add a rule to rewrite URL similar like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;rule match-type=&quot;regex&quot;&gt;  \n  &lt;from&gt;/my.action/param1/(\\w+)&lt;/from&gt;\n  &lt;to&gt;/my.action?param1=$1&lt;/to&gt;\n&lt;/rule&gt;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680509120,"creation_date":1680501133,"answer_id":75916363,"question_id":75766182,"body_markdown":"I prefer the @RomanC solution as it will needs no code :) \r\n\r\nJust if you want to develop it yourself here is another solution. \r\n\r\n\r\nThe idea is to use `HttpServletRequestWrapper` and change `getRequestURI` and `getServletPath` to make url a valid struts action. Also implement `getParameterMap` to make valid query string\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @WebFilter(filterName = &quot;UrlToActionMapperFilter&quot;)\r\n    public class UrlToActionMapperFilter implements Filter {\r\n\r\n\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n\t\t\tthrows IOException, ServletException {\r\n\t\t\r\n\t\tHttpServletRequest httpRequest = (HttpServletRequest) request;\r\n\t\tChangedURIRequestWarpper warpperdRequest = new ChangedURIRequestWarpper(httpRequest);\r\n\t\tchain.doFilter(warpperdRequest, response);\r\n\r\n\t}\r\n\r\n\tpublic class ChangedURIRequestWarpper extends HttpServletRequestWrapper {\r\n\r\n\t\tprivate final Logger LOG = LoggerFactory.getLogger(ChangedURIRequestWarpper.class);\r\n\t\tprivate static final String CALLBACKURI = &quot;foo/bar.action&quot;;\r\n\t\tprivate static final String URL_PARAMETERS_REGEX = &quot;(\\\\w+\\\\/\\\\w+)&quot;;\r\n\t\tprivate final Pattern URL_PARAMETERS_PATTERN = Pattern.compile(URL_PARAMETERS_REGEX);\r\n\r\n\t\tpublic ChangedURIRequestWarpper(HttpServletRequest request) {\t\t\r\n\t\t\t// So that other request method behave just like before\r\n\t\t\tsuper(request);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * read the parameters from url which is defined as /param1/value1/param2/value2\r\n\t\t * and set them to parameter map\r\n\t\t *  \r\n\t\t */\r\n\t\t@Override\r\n\t\tpublic Map&lt;String, String[]&gt; getParameterMap() {\r\n\t\t\tLOG.debug(&quot;get the parameters from {}, and set them in parameters map&quot;, super.getRequestURI());\r\n\t\t\tMap&lt;String, String[]&gt; parameters = new HashMap&lt;&gt;();\r\n\r\n\t\t\t//The queryString is /param1/value1/param2/value2\r\n\t\t\tString queryString = StringUtils.substringAfter(super.getRequestURI(), CALLBACKURI);\r\n\r\n\t\t\tMatcher matcher = URL_PARAMETERS_PATTERN.matcher(queryString);\r\n\r\n\t\t\twhile (matcher.find()) {\r\n\t\t\t\tString[] keyValue = matcher.group(1).split(&quot;/&quot;);\r\n\t\t\t\tLOG.debug(&quot;Set {} in parameters map &quot; , (Object)keyValue);\t\t\t\r\n\t\t\t\tparameters.put( keyValue[0], new String[] {  keyValue[1] });\r\n\t\t\t}\r\n\r\n\t\t\treturn parameters;\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * struts use getRequestURI and getServletPath to determine if it should handle request ot not\r\n\t\t * As this url is fixed we can hardcode it.\r\n\t\t */\r\n\t\t@Override\r\n\t\tpublic String getRequestURI() {\r\n\t\t\treturn &quot;/&quot;+CALLBACKURI;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String getServletPath() {\r\n\t\t\treturn &quot;/&quot;+CALLBACKURI;\r\n\t\t}\r\n\r\n\r\n\t}\r\n}\r\n\r\nin `web.xml`:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;UrlToActionMapperFilter&lt;/filter-name&gt;\r\n\t\t&lt;!-- if you want to change it remember to change ChangedURIRequestWarpper  --&gt;\r\n\t\t&lt;url-pattern&gt;/foo/bar.action/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n","title":"How to map a path parameters in URL to the action in Struts 2","body":"<p>I prefer the @RomanC solution as it will needs no code :)</p>\n<p>Just if you want to develop it yourself here is another solution.</p>\n<p>The idea is to use <code>HttpServletRequestWrapper</code> and change <code>getRequestURI</code> and <code>getServletPath</code> to make url a valid struts action. Also implement <code>getParameterMap</code> to make valid query string</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebFilter(filterName = &quot;UrlToActionMapperFilter&quot;)\npublic class UrlToActionMapperFilter implements Filter {\n\npublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n        throws IOException, ServletException {\n    \n    HttpServletRequest httpRequest = (HttpServletRequest) request;\n    ChangedURIRequestWarpper warpperdRequest = new ChangedURIRequestWarpper(httpRequest);\n    chain.doFilter(warpperdRequest, response);\n\n}\n\npublic class ChangedURIRequestWarpper extends HttpServletRequestWrapper {\n\n    private final Logger LOG = LoggerFactory.getLogger(ChangedURIRequestWarpper.class);\n    private static final String CALLBACKURI = &quot;foo/bar.action&quot;;\n    private static final String URL_PARAMETERS_REGEX = &quot;(\\\\w+\\\\/\\\\w+)&quot;;\n    private final Pattern URL_PARAMETERS_PATTERN = Pattern.compile(URL_PARAMETERS_REGEX);\n\n    public ChangedURIRequestWarpper(HttpServletRequest request) {       \n        // So that other request method behave just like before\n        super(request);\n    }\n\n    /**\n     * read the parameters from url which is defined as /param1/value1/param2/value2\n     * and set them to parameter map\n     *  \n     */\n    @Override\n    public Map&lt;String, String[]&gt; getParameterMap() {\n        LOG.debug(&quot;get the parameters from {}, and set them in parameters map&quot;, super.getRequestURI());\n        Map&lt;String, String[]&gt; parameters = new HashMap&lt;&gt;();\n\n        //The queryString is /param1/value1/param2/value2\n        String queryString = StringUtils.substringAfter(super.getRequestURI(), CALLBACKURI);\n\n        Matcher matcher = URL_PARAMETERS_PATTERN.matcher(queryString);\n\n        while (matcher.find()) {\n            String[] keyValue = matcher.group(1).split(&quot;/&quot;);\n            LOG.debug(&quot;Set {} in parameters map &quot; , (Object)keyValue);          \n            parameters.put( keyValue[0], new String[] {  keyValue[1] });\n        }\n\n        return parameters;\n    }\n    \n    /**\n     * struts use getRequestURI and getServletPath to determine if it should handle request ot not\n     * As this url is fixed we can hardcode it.\n     */\n    @Override\n    public String getRequestURI() {\n        return &quot;/&quot;+CALLBACKURI;\n    }\n\n    @Override\n    public String getServletPath() {\n        return &quot;/&quot;+CALLBACKURI;\n    }\n\n\n}\n</code></pre>\n<p>}</p>\n<p>in <code>web.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter-mapping&gt;\n    &lt;filter-name&gt;UrlToActionMapperFilter&lt;/filter-name&gt;\n    &lt;!-- if you want to change it remember to change ChangedURIRequestWarpper  --&gt;\n    &lt;url-pattern&gt;/foo/bar.action/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n"}],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75784128,"answer_count":2,"score":1,"last_activity_date":1680677590,"creation_date":1679047210,"question_id":75766182,"body_markdown":"We are using Struts 6.2 on Tomcat 9, and map all `.action` extensions to actions, for example `save-user.action` maps to an action correctly.\r\n\r\nThe web application needs to handle this path parameters ( path variables) ex: `save-user.action/name/joe/age/20`. As you can see the parameters are send via URL path. The caller is not a browser.\r\n\r\nIs there any way that I can configure Struts to handle this URL and map it to correct action? ","title":"How to map a path parameters in URL to the action in Struts 2","body":"<p>We are using Struts 6.2 on Tomcat 9, and map all <code>.action</code> extensions to actions, for example <code>save-user.action</code> maps to an action correctly.</p>\n<p>The web application needs to handle this path parameters ( path variables) ex: <code>save-user.action/name/joe/age/20</code>. As you can see the parameters are send via URL path. The caller is not a browser.</p>\n<p>Is there any way that I can configure Struts to handle this URL and map it to correct action?</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":326920,"reputation":6913,"user_id":648946,"accept_rate":62,"display_name":"MPƒôkalski"},"score":2,"creation_date":1301683690,"post_id":5517525,"comment_id":6265728,"body_markdown":"I would change it in to /(&lt;br \\/?&gt;)+/.replaceAll(&quot;&lt;br /&gt;&quot;); In case some of the &lt;br&gt; were not closed with /.","body":"I would change it in to /(&lt;br \\/?&gt;)+/.replaceAll(&quot;&lt;br /&gt;&quot;); In case some of the &lt;br&gt; were not closed with /."},{"owner":{"account_id":55301,"reputation":15295,"user_id":165589,"accept_rate":99,"display_name":"Koerr"},"score":0,"creation_date":1301683751,"post_id":5517525,"comment_id":6265742,"body_markdown":"I tried `s=s.replaceAll(&quot;/(&lt;br \\\\/&gt;)+/&quot;, &quot;&lt;br /&gt;&quot;);`  and `s=s.replaceAll(&quot;/(&lt;br \\\\/?&gt;)+/&quot;, &quot;&lt;br /&gt;&quot;);` not working","body":"I tried <code>s=s.replaceAll(&quot;&#47;(&lt;br \\\\&#47;&gt;)+&#47;&quot;, &quot;&lt;br &#47;&gt;&quot;);</code>  and <code>s=s.replaceAll(&quot;&#47;(&lt;br \\\\&#47;?&gt;)+&#47;&quot;, &quot;&lt;br &#47;&gt;&quot;);</code> not working"},{"owner":{"account_id":341023,"reputation":3528,"user_id":671375,"accept_rate":80,"display_name":"tvkanters"},"score":0,"creation_date":1301683756,"post_id":5517525,"comment_id":6265744,"body_markdown":"@MPƒôkalski That sounds good. I&#39;ll add it, it needs a check to ignore possible spaces as well, though.","body":"@MPƒôkalski That sounds good. I&#39;ll add it, it needs a check to ignore possible spaces as well, though."},{"owner":{"account_id":341023,"reputation":3528,"user_id":671375,"accept_rate":80,"display_name":"tvkanters"},"score":0,"creation_date":1301683803,"post_id":5517525,"comment_id":6265754,"body_markdown":"@Zenofo With regular expressions, the regex should be at the start. I updated my post so you can use that code.","body":"@Zenofo With regular expressions, the regex should be at the start. I updated my post so you can use that code."},{"owner":{"account_id":341023,"reputation":3528,"user_id":671375,"accept_rate":80,"display_name":"tvkanters"},"score":1,"creation_date":1301683946,"post_id":5517525,"comment_id":6265789,"body_markdown":"Updated regex to: `/(&lt;br\\s*\\/?&gt;)+/` to remove the requirement of ` /` in the `br` tag.","body":"Updated regex to: <code>&#47;(&lt;br\\s*\\&#47;?&gt;)+&#47;</code> to remove the requirement of ` /` in the <code>br</code> tag."}],"tags":[],"owner":{"account_id":341023,"reputation":3528,"user_id":671375,"accept_rate":80,"display_name":"tvkanters"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1358967403,"creation_date":1301683581,"answer_id":5517525,"question_id":5517509,"body_markdown":"Use `s = s.replaceAll(/(&lt;br\\s*\\/?&gt;)+/, &quot;&lt;br /&gt;&quot;);`. This should replace any number of `&lt;br /&gt;`s by one.","title":"how can I trim &lt;br&gt; tags using regex in java?","body":"<p>Use <code>s = s.replaceAll(/(&lt;br\\s*\\/?&gt;)+/, \"&lt;br /&gt;\");</code>. This should replace any number of <code>&lt;br /&gt;</code>s by one.</p>\n"},{"tags":[],"owner":{"account_id":232525,"reputation":176052,"user_id":497418,"accept_rate":76,"display_name":"zzzzBov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1301683598,"creation_date":1301683598,"answer_id":5517527,"question_id":5517509,"body_markdown":"    /(&lt;br \\/&gt;)+&lt;br \\/&gt;/ -&gt; &quot;&lt;br /&gt;&quot;","title":"how can I trim &lt;br&gt; tags using regex in java?","body":"<pre><code>/(&lt;br \\/&gt;)+&lt;br \\/&gt;/ -&gt; \"&lt;br /&gt;\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":120028,"reputation":35744,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1301683692,"creation_date":1301683692,"answer_id":5517543,"question_id":5517509,"body_markdown":"\r\n    s = s.replaceAll (&quot;(&lt;br /&gt;)+&quot;, &quot;&lt;br /&gt;&quot;)","title":"how can I trim &lt;br&gt; tags using regex in java?","body":"<pre><code>s = s.replaceAll (\"(&lt;br /&gt;)+\", \"&lt;br /&gt;\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5973444,"reputation":145,"user_id":4695110,"display_name":"igor.js"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680677196,"creation_date":1563708255,"answer_id":57132736,"question_id":5517509,"body_markdown":"Try this:\r\n\r\n```java\r\nString healthyString = badString.replaceAll(&quot;(&lt;br(.*?\\\\/?)&gt;)+&quot;, &quot;&lt;br /&gt;&quot;);\r\n```\r\n\r\nor, according to your example...\r\n\r\n```java\r\ns = s.replaceAll(&quot;(&lt;br(.*?\\\\/?)&gt;)+&quot;, &quot;&lt;br /&gt;&quot;);\r\n```\r\n\r\nThis expression will solve the problem. It matches all line-break combinations: \r\n`&lt;br&gt;`, `&lt;br/&gt;`, and `&lt;br /&gt;`.","title":"how can I trim &lt;br&gt; tags using regex in java?","body":"<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String healthyString = badString.replaceAll(&quot;(&lt;br(.*?\\\\/?)&gt;)+&quot;, &quot;&lt;br /&gt;&quot;);\n</code></pre>\n<p>or, according to your example...</p>\n<pre class=\"lang-java prettyprint-override\"><code>s = s.replaceAll(&quot;(&lt;br(.*?\\\\/?)&gt;)+&quot;, &quot;&lt;br /&gt;&quot;);\n</code></pre>\n<p>This expression will solve the problem. It matches all line-break combinations:\n<code>&lt;br&gt;</code>, <code>&lt;br/&gt;</code>, and <code>&lt;br /&gt;</code>.</p>\n"}],"owner":{"account_id":55301,"reputation":15295,"user_id":165589,"accept_rate":99,"display_name":"Koerr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1402,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":5517543,"answer_count":4,"score":2,"last_activity_date":1680677196,"creation_date":1301683468,"question_id":5517509,"body_markdown":"\tString s=&quot;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;hello world!&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&quot;;\r\n\ts=s.replaceAll(&quot;&lt;br /&gt;&lt;br /&gt;&quot;, &quot;&lt;br /&gt;&quot;);\r\n\tSystem.out.println(s);\r\n\t//result: &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;hello world!&lt;br /&gt;&lt;br /&gt;\r\n\r\nI want to get `&lt;br /&gt;hello world!&lt;br /&gt;`\r\n\r\nhow to do? thanks :)\r\n","title":"how can I trim &lt;br&gt; tags using regex in java?","body":"<pre><code>String s=\"&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;hello world!&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;\";\ns=s.replaceAll(\"&lt;br /&gt;&lt;br /&gt;\", \"&lt;br /&gt;\");\nSystem.out.println(s);\n//result: &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;hello world!&lt;br /&gt;&lt;br /&gt;\n</code></pre>\n\n<p>I want to get <code>&lt;br /&gt;hello world!&lt;br /&gt;</code></p>\n\n<p>how to do? thanks :)</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":7672223,"reputation":31,"user_id":5814078,"display_name":"JKu"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680677137,"creation_date":1469157354,"answer_id":38517585,"question_id":37385921,"body_markdown":"I tried this [answer][1] first, but got the same problem as you.\r\n\r\nThen I found [another answer][2] and it solved my problem. Just download the dex2jar-0.0.9.15.jar it provided. You will be able to find d2j-dex2jar.sh in the extracted folder! Hope this would be helpful.\r\n\r\n  [1]: https://stackoverflow.com/questions/3593420/is-there-a-way-to-get-the-source-code-from-an-apk-file?noredirect=1&amp;lq=1\r\n  [2]: https://stackoverflow.com/questions/29744010/apk-decompile-error-d2j-dex2jar-command-not-found","title":"There is no file named d2j-dex2jar.sh in the dex2jar when i unzipped it","body":"<p>I tried this <a href=\"https://stackoverflow.com/questions/3593420/is-there-a-way-to-get-the-source-code-from-an-apk-file?noredirect=1&amp;lq=1\">answer</a> first, but got the same problem as you.</p>\n<p>Then I found <a href=\"https://stackoverflow.com/questions/29744010/apk-decompile-error-d2j-dex2jar-command-not-found\">another answer</a> and it solved my problem. Just download the dex2jar-0.0.9.15.jar it provided. You will be able to find d2j-dex2jar.sh in the extracted folder! Hope this would be helpful.</p>\n"}],"owner":{"account_id":5277665,"reputation":65,"user_id":4213987,"display_name":"Saroj Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3732,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1680677137,"creation_date":1463991419,"question_id":37385921,"body_markdown":"I am using Ubuntu 14.04 and want to extract a apk, I have downloaded dex2jar and extracted it and run the command ./d2j-dex2jar classes.dex but the terminal returns &quot;No such file or directory&quot;\r\n\r\nThis is true as there is no such file or directory to be executed.\r\n\r\nI did a through research on the matter and everywhere it was mentioned the same thing unzip dex2jar and run the above mentioned command.\r\n\r\nWhat is that I am missing that i am unable to convert .dex file to .jar file.","title":"There is no file named d2j-dex2jar.sh in the dex2jar when i unzipped it","body":"<p>I am using Ubuntu 14.04 and want to extract a apk, I have downloaded dex2jar and extracted it and run the command ./d2j-dex2jar classes.dex but the terminal returns \"No such file or directory\"</p>\n\n<p>This is true as there is no such file or directory to be executed.</p>\n\n<p>I did a through research on the matter and everywhere it was mentioned the same thing unzip dex2jar and run the above mentioned command.</p>\n\n<p>What is that I am missing that i am unable to convert .dex file to .jar file.</p>\n"},{"tags":["java","android","icalendar","rfc"],"owner":{"account_id":25478984,"reputation":1,"user_id":19275682,"display_name":"Hossein Arzani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680677109,"creation_date":1680677109,"question_id":75936400,"body_markdown":"when i add rscale in rrule of event for dynamic recurrence algorithm i get 500 error when i sync data with nextcloud servers and its providers\r\ni add rscale to event and check this from my custom calendar provider in davx5 and use dynamic algorithm for generate recurrence event with 2 calendar : jalali and gregorian\r\nmy issue is when i sync with davx5 i get 500 error\r\nshould i do another change in davx5 for example change in icalendar file?\r\nor server must change and support rscale of rrule?\r\n\r\ni expect store rscale in rrule and in save server but get 500 error","title":"add rscale in rrule of event for dynamic recurrence algorithm","body":"<p>when i add rscale in rrule of event for dynamic recurrence algorithm i get 500 error when i sync data with nextcloud servers and its providers\ni add rscale to event and check this from my custom calendar provider in davx5 and use dynamic algorithm for generate recurrence event with 2 calendar : jalali and gregorian\nmy issue is when i sync with davx5 i get 500 error\nshould i do another change in davx5 for example change in icalendar file?\nor server must change and support rscale of rrule?</p>\n<p>i expect store rscale in rrule and in save server but get 500 error</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1680603051,"post_id":75928005,"comment_id":133922368,"body_markdown":"Please link to that government document. Not all such documents have proper forms. Btw you could change your code to `if (field instanceof PDCheckBox)`  and investigate from there. Also try opening the PDF with PDFDebugger so you see more of it. (Choose &quot;internal structure&quot; in the view menu)","body":"Please link to that government document. Not all such documents have proper forms. Btw you could change your code to <code>if (field instanceof PDCheckBox)</code>  and investigate from there. Also try opening the PDF with PDFDebugger so you see more of it. (Choose &quot;internal structure&quot; in the view menu)"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1680603567,"post_id":75928005,"comment_id":133922496,"body_markdown":"`pdAcroForm.getFields()` only gives you top level fields, see the javadoc. Use `getFieldTree()` instead.","body":"<code>pdAcroForm.getFields()</code> only gives you top level fields, see the javadoc. Use <code>getFieldTree()</code> instead."},{"owner":{"account_id":28211299,"reputation":3,"user_id":21563504,"display_name":"KingWatermelon"},"score":0,"creation_date":1680615424,"post_id":75928005,"comment_id":133925559,"body_markdown":"Here is the [link](https://www.sozialversicherung.at/cdscontent/load?contentid=10008.638102&amp;version=1487847004) to the gov.document, and also by implementing your edits getOnValues() is not defined. Im rather looking for the reason why my debugger doesnt like the method. Also it seems like there is no connection between enumerating fields and then calling for possible options.","body":"Here is the <a href=\"https://www.sozialversicherung.at/cdscontent/load?contentid=10008.638102&amp;version=1487847004\" rel=\"nofollow noreferrer\">link</a> to the gov.document, and also by implementing your edits getOnValues() is not defined. Im rather looking for the reason why my debugger doesnt like the method. Also it seems like there is no connection between enumerating fields and then calling for possible options."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1680616041,"post_id":75928005,"comment_id":133925744,"body_markdown":"The fields postanweisung, Wahlkinder, Pflegekinder return [Ja] (an array). And if I do this for PDButton instead of PDCheckBox then I get even more, e.g. Geschlecht Antragsteller/in: [weiblich, m&#228;nnlich, inter/divers]","body":"The fields postanweisung, Wahlkinder, Pflegekinder return [Ja] (an array). And if I do this for PDButton instead of PDCheckBox then I get even more, e.g. Geschlecht Antragsteller/in: [weiblich, m&#228;nnlich, inter/divers]"},{"owner":{"account_id":28211299,"reputation":3,"user_id":21563504,"display_name":"KingWatermelon"},"score":0,"creation_date":1680617747,"post_id":75928005,"comment_id":133926201,"body_markdown":"yes, i also had a programm, with which i was able to check that, yet programmatically in while enumerating the fields i cannot look for options. Here is my enumaration process i [used](https://stackoverflow.com/a/46731840/21563504)","body":"yes, i also had a programm, with which i was able to check that, yet programmatically in while enumerating the fields i cannot look for options. Here is my enumaration process i <a href=\"https://stackoverflow.com/a/46731840/21563504\">used</a>"}],"answers":[{"comments":[{"owner":{"account_id":28211299,"reputation":3,"user_id":21563504,"display_name":"KingWatermelon"},"score":0,"creation_date":1680693463,"post_id":75931378,"comment_id":133940323,"body_markdown":"Thank you very much for this answer, I also thought about trying to cast the field as a button where then the Method GetOnValues() would be defined yet i wasnt sure if that would be possible. On a second note, I think it would be very pratical, if one could access GetOnValues() without having to cast a field as a PDButton. Cheers!","body":"Thank you very much for this answer, I also thought about trying to cast the field as a button where then the Method GetOnValues() would be defined yet i wasnt sure if that would be possible. On a second note, I think it would be very pratical, if one could access GetOnValues() without having to cast a field as a PDButton. Cheers!"}],"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680676968,"creation_date":1680623409,"answer_id":75931378,"question_id":75928005,"body_markdown":"This one works for me:\r\n\r\n    public static void main(String[] args) throws IOException\r\n    {\r\n        PDDocument doc = PDDocument.load(new URL(&quot;https://www.sozialversicherung.at/cdscontent/load?contentid=10008.638102&amp;version=1487847004&quot;).openStream());\r\n        PDDocumentCatalog pdCatalog = doc.getDocumentCatalog();\r\n        PDAcroForm pdAcroForm = pdCatalog.getAcroForm();\r\n\r\n        for (PDField field : pdAcroForm.getFieldTree())\r\n        {\r\n            if (field instanceof PDButton)\r\n            {\r\n                Set&lt;String&gt; onValues = ((PDButton) field).getOnValues();\r\n                System.out.println(field.getFullyQualifiedName() + &quot;: &quot; + onValues);\r\n            }\r\n        }\r\n    }\r\n\r\noutput:\r\n\r\n\tGeschlecht Antragsteller/in: [weiblich, m&#228;nnlich, inter/divers]\r\n\tpostanweisung: [Ja]\r\n\tgeschlecht 2. Elternteil: [weiblich, m&#228;nnlich, inter/divers]\r\n\tFamlienstand Antragsteller/in: [verheiratet/in eingetragener Partnerschaft lebend, Lebensgemeinschaft, alleinstehend]\r\n\tfamilienstand 2. Elternteil: [verheiratet/in eingetragener Partnerschaft lebend, Lebensgemeinschaft, alleinstehend]\r\n\tWeitere Wohnadressen Antragsteller: [ja, nein]\r\n\tweitere Wohnadressen 2. Elternteil: [ja, nein]\r\n\tkaiserschnitt: [ja, nein]\r\n\tKinder: [ehelich, unehelich]\r\n\tWahlkinder: [Ja]\r\n\tPflegekinder: [Ja]\r\n\tMehrlingsgeburt: [Auswahl1, Auswahl2, Auswahl3, Auswahl4]\r\n\tObsorge kind: [ja, Auswahl4]\r\n\tobsorge mehrlling1: [Auswahl1, Auswahl2, Auswahl3, Auswahl4, Auswahl5]\r\n\tobsorge mehrlling2: [Auswahl1, Auswahl2, Auswahl3, Auswahl4, Auswahl5]\r\n\tobsorge mehrlling3: [Auswahl1, Auswahl2, Auswahl3, Auswahl4, Auswahl5]\r\n\tSystemwahl: [Auswahl1, Auswahl2, Auswahl3]\r\n\t5a Dauer von: [ja]\r\n\t5b Variante: [Auswahl1, Auswahl2, Auswahl3]\r\n\t5b dauer von: [ja]\r\n\t5a Dauer bis: [ja]\r\n\t5b dauer bis: [Auswahl1, Auswahl2]\r\n\t5c System fr&#252;her gew&#228;hlt bis: [Auswahl1, Auswahl2]\r\n\tgemeinsamer Wohnsitz: [ja, nein]\r\n\t6 weitere angaben: [ja, Auswahl2]\r\n\tberufsgruppe: [Angestellte/r, Selbst&#228;ndige/r, Sch&#252;ler/in, Arbeitslosengeldbezieher/in, Arbeiter/in, Vertragsbedienstete/r , Bauer/B&#228;uerin, Student/in, Hausfrau/Hausmann, Beamter/Beamtin, Notstandshilfebezieher/in, Freie/r Dienstnehmer/in]\r\n\t7e ausl&#228;ndische leistung 2. Elternteil: [ja, nein]\r\n\teink&#252;nfte: [ja, nein]\r\n\teink&#252;nfte4: [ja, nein]\r\n\teink&#252;nfte1: [ja, nein]\r\n\teink&#252;nfte2: [ja, nein]\r\n\teink&#252;nfte3: [ja, nein]\r\n\teink&#252;nfte5: [ja, nein]\r\n\teink&#252;nfte6: [ja, nein]\r\n\teink&#252;nfte7: [ja, nein]\r\n\t7a unselbst&#228;ndig antragsteller: [ja, nein]\r\n\t7a unselbst&#228;ndig 2. elternteil: [ja, nein]\r\n\t7a karenz antragsteller: [ja, nein]\r\n\t7b landwirschaftliche t&#228;tigkeit antragsteller: [ja, nein]\r\n\t7b gewerbe ruhend antragsteller: [ja, nein]\r\n\t7c alv Antragsteller: [ja, nein]\r\n\t7d pension antragsteller: [ja, nein]\r\n\t7e ausl&#228;ndische leistung antragsteller: [ja, nein]\r\n\t7a karenz 2. Elternteil: [ja, nein]\r\n\t7b landwirschaftliche t&#228;tigkeit 2. elternteil: [ja, nein]\r\n\t7b gewerbe ruhend 2. Elternteil: [ja, nein]\r\n\t7c alv 2. Elternteil: [Auswahl1, Auswahl2]\r\n\t7d pension 2. Elternteil: [ja, nein]\r\n\t8 erinnerung: [ja, nein]\r\n\t8 einverstanden: [ja, nein]\r\n\r\nand I&#39;m also able to change the fields like this:\r\n\r\n    pdAcroForm.getField(&quot;Geschlecht Antragsteller/in&quot;).setValue(&quot;inter/divers&quot;);\r\n    pdAcroForm.getField(&quot;geschlecht 2. Elternteil&quot;).setValue(&quot;inter/divers&quot;);\r\n\r\nafter saving, the fields look like this in Adobe Reader:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UULpd.png","title":"Is there a way to access the possible options of a PDRadioButton or PDCheckBox in Pdfbox?","body":"<p>This one works for me:</p>\n<pre><code>public static void main(String[] args) throws IOException\n{\n    PDDocument doc = PDDocument.load(new URL(&quot;https://www.sozialversicherung.at/cdscontent/load?contentid=10008.638102&amp;version=1487847004&quot;).openStream());\n    PDDocumentCatalog pdCatalog = doc.getDocumentCatalog();\n    PDAcroForm pdAcroForm = pdCatalog.getAcroForm();\n\n    for (PDField field : pdAcroForm.getFieldTree())\n    {\n        if (field instanceof PDButton)\n        {\n            Set&lt;String&gt; onValues = ((PDButton) field).getOnValues();\n            System.out.println(field.getFullyQualifiedName() + &quot;: &quot; + onValues);\n        }\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>Geschlecht Antragsteller/in: [weiblich, m√§nnlich, inter/divers]\npostanweisung: [Ja]\ngeschlecht 2. Elternteil: [weiblich, m√§nnlich, inter/divers]\nFamlienstand Antragsteller/in: [verheiratet/in eingetragener Partnerschaft lebend, Lebensgemeinschaft, alleinstehend]\nfamilienstand 2. Elternteil: [verheiratet/in eingetragener Partnerschaft lebend, Lebensgemeinschaft, alleinstehend]\nWeitere Wohnadressen Antragsteller: [ja, nein]\nweitere Wohnadressen 2. Elternteil: [ja, nein]\nkaiserschnitt: [ja, nein]\nKinder: [ehelich, unehelich]\nWahlkinder: [Ja]\nPflegekinder: [Ja]\nMehrlingsgeburt: [Auswahl1, Auswahl2, Auswahl3, Auswahl4]\nObsorge kind: [ja, Auswahl4]\nobsorge mehrlling1: [Auswahl1, Auswahl2, Auswahl3, Auswahl4, Auswahl5]\nobsorge mehrlling2: [Auswahl1, Auswahl2, Auswahl3, Auswahl4, Auswahl5]\nobsorge mehrlling3: [Auswahl1, Auswahl2, Auswahl3, Auswahl4, Auswahl5]\nSystemwahl: [Auswahl1, Auswahl2, Auswahl3]\n5a Dauer von: [ja]\n5b Variante: [Auswahl1, Auswahl2, Auswahl3]\n5b dauer von: [ja]\n5a Dauer bis: [ja]\n5b dauer bis: [Auswahl1, Auswahl2]\n5c System fr√ºher gew√§hlt bis: [Auswahl1, Auswahl2]\ngemeinsamer Wohnsitz: [ja, nein]\n6 weitere angaben: [ja, Auswahl2]\nberufsgruppe: [Angestellte/r, Selbst√§ndige/r, Sch√ºler/in, Arbeitslosengeldbezieher/in, Arbeiter/in, Vertragsbedienstete/r , Bauer/B√§uerin, Student/in, Hausfrau/Hausmann, Beamter/Beamtin, Notstandshilfebezieher/in, Freie/r Dienstnehmer/in]\n7e ausl√§ndische leistung 2. Elternteil: [ja, nein]\neink√ºnfte: [ja, nein]\neink√ºnfte4: [ja, nein]\neink√ºnfte1: [ja, nein]\neink√ºnfte2: [ja, nein]\neink√ºnfte3: [ja, nein]\neink√ºnfte5: [ja, nein]\neink√ºnfte6: [ja, nein]\neink√ºnfte7: [ja, nein]\n7a unselbst√§ndig antragsteller: [ja, nein]\n7a unselbst√§ndig 2. elternteil: [ja, nein]\n7a karenz antragsteller: [ja, nein]\n7b landwirschaftliche t√§tigkeit antragsteller: [ja, nein]\n7b gewerbe ruhend antragsteller: [ja, nein]\n7c alv Antragsteller: [ja, nein]\n7d pension antragsteller: [ja, nein]\n7e ausl√§ndische leistung antragsteller: [ja, nein]\n7a karenz 2. Elternteil: [ja, nein]\n7b landwirschaftliche t√§tigkeit 2. elternteil: [ja, nein]\n7b gewerbe ruhend 2. Elternteil: [ja, nein]\n7c alv 2. Elternteil: [Auswahl1, Auswahl2]\n7d pension 2. Elternteil: [ja, nein]\n8 erinnerung: [ja, nein]\n8 einverstanden: [ja, nein]\n</code></pre>\n<p>and I'm also able to change the fields like this:</p>\n<pre><code>pdAcroForm.getField(&quot;Geschlecht Antragsteller/in&quot;).setValue(&quot;inter/divers&quot;);\npdAcroForm.getField(&quot;geschlecht 2. Elternteil&quot;).setValue(&quot;inter/divers&quot;);\n</code></pre>\n<p>after saving, the fields look like this in Adobe Reader:</p>\n<p><a href=\"https://i.stack.imgur.com/UULpd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UULpd.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28211299,"reputation":3,"user_id":21563504,"display_name":"KingWatermelon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75931378,"answer_count":1,"score":0,"last_activity_date":1680676968,"creation_date":1680602230,"question_id":75928005,"body_markdown":"I am currently looking into pdfbox and trying to programmaticaly determine the possible values of fields while enumerating through all the PDFields in a pdf document. In another [post](https://stackoverflow.com/questions/45504055/pdfbox-retrieve-radiobutton-from-radiobutton-group) a user recommended a solution with **acroForm.getField(&quot;Nameoffield&quot;).getOnValues()** but the method &quot;getOnValues()&quot; is not defined in the class PDField, which is called by acroForm.getField(string). Is there a way to access the actual values and therefore set a (for example) random value?\r\n\r\nMy current tries revolved around trying to access said getOnValues() method, which is defined only for [PDButton](https://pdfbox.apache.org/docs/2.0.8/javadocs/org/apache/pdfbox/pdmodel/interactive/form/PDButton.html). I tried loading a pdf file of a government document, which has many fields with respective names and values, and tried to randomly select one of the values, yet the class and methods don&#39;t seem to allow accessing the possible values of a PDButton.\r\n\r\n\r\n\r\n```\r\npublic static void main (String args[]) throws IOException {\r\n                       \r\n              // Creating PDF document object \r\n              PDDocument document = new PDDocument();\r\n                      \r\n              File file = new File(&quot;government_form.pdf&quot;);\r\n              PDDocument formular = PDDocument.load(file);\r\n              PDDocumentCatalog pdCatalog = formular.getDocumentCatalog();\r\n              PDAcroForm pdAcroForm = pdCatalog.getAcroForm();\r\n                      \r\n              // get all fields in form\r\n              List&lt;PDField&gt; fields = pdAcroForm.getFields();\r\n              System.out.println(fields.size() + &quot; top-level fields were found on the form&quot;);\r\n                      \r\n              for (PDField field : fields) {\r\n                    if (!(field instanceof PDNonTerminalField)) {\r\n                         switch (field.getClass().getName()){\r\n                         case &quot;org.apache.pdfbox.pdmodel.interactive.form.PDCheckBox&quot;:\r\n                             String fieldname = field.getPartialName();\r\n                             Set&lt;String&gt; OnValues = new HashSet&lt;String&gt;();\r\n                             (PDCheckBox)field.getOnValues();\r\n                              PDCheckBox Checkbox = new PDCheckBox(pdAcroForm);\r\n                          }\r\n                              \r\n                     }\r\n                          \r\n               }\r\n   \r\n               formular.save(&quot;C:/PdfBox_Examples/Formular_ausgef&#252;llt.pdf&quot;);\r\n               formular.close();\r\n        }\r\n```\r\n","title":"Is there a way to access the possible options of a PDRadioButton or PDCheckBox in Pdfbox?","body":"<p>I am currently looking into pdfbox and trying to programmaticaly determine the possible values of fields while enumerating through all the PDFields in a pdf document. In another <a href=\"https://stackoverflow.com/questions/45504055/pdfbox-retrieve-radiobutton-from-radiobutton-group\">post</a> a user recommended a solution with <strong>acroForm.getField(&quot;Nameoffield&quot;).getOnValues()</strong> but the method &quot;getOnValues()&quot; is not defined in the class PDField, which is called by acroForm.getField(string). Is there a way to access the actual values and therefore set a (for example) random value?</p>\n<p>My current tries revolved around trying to access said getOnValues() method, which is defined only for <a href=\"https://pdfbox.apache.org/docs/2.0.8/javadocs/org/apache/pdfbox/pdmodel/interactive/form/PDButton.html\" rel=\"nofollow noreferrer\">PDButton</a>. I tried loading a pdf file of a government document, which has many fields with respective names and values, and tried to randomly select one of the values, yet the class and methods don't seem to allow accessing the possible values of a PDButton.</p>\n<pre><code>public static void main (String args[]) throws IOException {\n                       \n              // Creating PDF document object \n              PDDocument document = new PDDocument();\n                      \n              File file = new File(&quot;government_form.pdf&quot;);\n              PDDocument formular = PDDocument.load(file);\n              PDDocumentCatalog pdCatalog = formular.getDocumentCatalog();\n              PDAcroForm pdAcroForm = pdCatalog.getAcroForm();\n                      \n              // get all fields in form\n              List&lt;PDField&gt; fields = pdAcroForm.getFields();\n              System.out.println(fields.size() + &quot; top-level fields were found on the form&quot;);\n                      \n              for (PDField field : fields) {\n                    if (!(field instanceof PDNonTerminalField)) {\n                         switch (field.getClass().getName()){\n                         case &quot;org.apache.pdfbox.pdmodel.interactive.form.PDCheckBox&quot;:\n                             String fieldname = field.getPartialName();\n                             Set&lt;String&gt; OnValues = new HashSet&lt;String&gt;();\n                             (PDCheckBox)field.getOnValues();\n                              PDCheckBox Checkbox = new PDCheckBox(pdAcroForm);\n                          }\n                              \n                     }\n                          \n               }\n   \n               formular.save(&quot;C:/PdfBox_Examples/Formular_ausgef√ºllt.pdf&quot;);\n               formular.close();\n        }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":1,"creation_date":1680675746,"post_id":75936180,"comment_id":133936309,"body_markdown":"For further refrence, learn to use a debugger or to add debug prints to your code. By writing out the elements being swapped in the loop you would have spotted the mistakte much faster than what it took to write a stackoverflow question.","body":"For further refrence, learn to use a debugger or to add debug prints to your code. By writing out the elements being swapped in the loop you would have spotted the mistakte much faster than what it took to write a stackoverflow question."}],"answers":[{"tags":[],"owner":{"account_id":20780824,"reputation":29149,"user_id":15261315,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680676112,"creation_date":1680675557,"answer_id":75936208,"question_id":75936180,"body_markdown":"If you have an array of four elements, and run swaps four times:\r\n\r\n```none\r\n1 2 3 4 // initial state\r\n4 2 3 1 // first swap\r\n4 3 2 1 // second swap &lt;- this is what we want\r\n4 2 3 1 // third swap  &lt;- but we kept going...\r\n1 2 3 4 // fourth swap &lt;- and going...\r\n```\r\n\r\nYou want to swap `arr.length / 2` times to avoid *re*-swapping back into the original order. If the length of the array is odd, this will avoid swapping the middle element, but that&#39;s okay.\r\n","title":"The array is not reversing","body":"<p>If you have an array of four elements, and run swaps four times:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 2 3 4 // initial state\n4 2 3 1 // first swap\n4 3 2 1 // second swap &lt;- this is what we want\n4 2 3 1 // third swap  &lt;- but we kept going...\n1 2 3 4 // fourth swap &lt;- and going...\n</code></pre>\n<p>You want to swap <code>arr.length / 2</code> times to avoid <em>re</em>-swapping back into the original order. If the length of the array is odd, this will avoid swapping the middle element, but that's okay.</p>\n"},{"comments":[{"owner":{"account_id":20780824,"reputation":29149,"user_id":15261315,"display_name":"Chris"},"score":0,"creation_date":1680675717,"post_id":75936224,"comment_id":133936302,"body_markdown":"What was the problem? How does this fix it? Elaboration would improve this answer.","body":"What was the problem? How does this fix it? Elaboration would improve this answer."},{"owner":{"account_id":3702936,"reputation":120,"user_id":3082137,"display_name":"Dev"},"score":0,"creation_date":1680676055,"post_id":75936224,"comment_id":133936371,"body_markdown":"Updated with problem and solution :) @Chris","body":"Updated with problem and solution :) @Chris"}],"tags":[],"owner":{"account_id":3702936,"reputation":120,"user_id":3082137,"display_name":"Dev"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1680676819,"creation_date":1680675680,"answer_id":75936224,"question_id":75936180,"body_markdown":"When swapping the elements of the array, we should only iterate through half of the array otherwise we would end up with swapping twice.\r\nSo need to swap till **i&lt;n/2;**\r\nTry this code:\r\n\r\n\r\n    public class Reversing_array {\r\n        public static void reverse_arr(int arr[]) {\r\n            int n = arr.length;\r\n            for (int i = 0; i &lt; n / 2; i++) {\r\n                int temp = arr[i];\r\n                arr[i] = arr[n - i - 1];\r\n                arr[n - i - 1] = temp;\r\n            }\r\n        }\r\n        public static void main(String[] args) {\r\n            int arr[] = { 10, 20, 30, 40, 50 };\r\n            reverse_arr(arr);\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                System.out.println(arr[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"The array is not reversing","body":"<p>When swapping the elements of the array, we should only iterate through half of the array otherwise we would end up with swapping twice.\nSo need to swap till <strong>i&lt;n/2;</strong>\nTry this code:</p>\n<pre><code>public class Reversing_array {\n    public static void reverse_arr(int arr[]) {\n        int n = arr.length;\n        for (int i = 0; i &lt; n / 2; i++) {\n            int temp = arr[i];\n            arr[i] = arr[n - i - 1];\n            arr[n - i - 1] = temp;\n        }\n    }\n    public static void main(String[] args) {\n        int arr[] = { 10, 20, 30, 40, 50 };\n        reverse_arr(arr);\n        for (int i = 0; i &lt; arr.length; i++) {\n            System.out.println(arr[i]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680675859,"creation_date":1680675761,"answer_id":75936231,"question_id":75936180,"body_markdown":"When you swap your complete array, so in first half of swap, you elements of first half array are swapped with second half.\r\n\r\nAnd in second half of swap, first half of array is again replaced with second half of array.\r\n\r\nAs the result, you get same output as input.\r\n\r\nSo here we just need to swap for half of array length.\r\n\r\n    public class Reversing_array {\r\n        public static void reverse_arr(int arr[]) {\r\n            int n = arr.length - 1;\r\n            for (int i = 0; i &lt; arr.length/2; i++) { // Here is the change\r\n                int temp = arr[i];\r\n                arr[i] = arr[n - i];\r\n                arr[n - i] = temp;\r\n            }\r\n        }\r\n        public static void main(String[] args) {\r\n            int arr[] = { 10, 20, 30, 40, 50 };\r\n            reverse_arr(arr);\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                System.out.println(arr[i]);\r\n            }\r\n        }\r\n    }","title":"The array is not reversing","body":"<p>When you swap your complete array, so in first half of swap, you elements of first half array are swapped with second half.</p>\n<p>And in second half of swap, first half of array is again replaced with second half of array.</p>\n<p>As the result, you get same output as input.</p>\n<p>So here we just need to swap for half of array length.</p>\n<pre><code>public class Reversing_array {\n    public static void reverse_arr(int arr[]) {\n        int n = arr.length - 1;\n        for (int i = 0; i &lt; arr.length/2; i++) { // Here is the change\n            int temp = arr[i];\n            arr[i] = arr[n - i];\n            arr[n - i] = temp;\n        }\n    }\n    public static void main(String[] args) {\n        int arr[] = { 10, 20, 30, 40, 50 };\n        reverse_arr(arr);\n        for (int i = 0; i &lt; arr.length; i++) {\n            System.out.println(arr[i]);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26992935,"reputation":3,"user_id":20555546,"display_name":"Akhil Agrawal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75936208,"answer_count":3,"score":0,"last_activity_date":1680676819,"creation_date":1680675334,"question_id":75936180,"body_markdown":"According to this piece of code I must get a reverse array but I&#39;m still getting the non-reversed. \r\n\r\n    public class Reversing_array {\r\n        public static void reverse_arr(int arr[]) {\r\n            int n = arr.length - 1;\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                int temp = arr[i];\r\n                arr[i] = arr[n - i];\r\n                arr[n - i] = temp;\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            int arr[] = { 10, 20, 30, 40, 50 };\r\n            reverse_arr(arr);\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                System.out.println(arr[i]);\r\n            }\r\n        }\r\n    }\r\n\r\nI performed a dry run of it, but still didn&#39;t reached to the mistake.\r\n","title":"The array is not reversing","body":"<p>According to this piece of code I must get a reverse array but I'm still getting the non-reversed.</p>\n<pre><code>public class Reversing_array {\n    public static void reverse_arr(int arr[]) {\n        int n = arr.length - 1;\n        for (int i = 0; i &lt; arr.length; i++) {\n            int temp = arr[i];\n            arr[i] = arr[n - i];\n            arr[n - i] = temp;\n        }\n    }\n\n    public static void main(String[] args) {\n        int arr[] = { 10, 20, 30, 40, 50 };\n        reverse_arr(arr);\n        for (int i = 0; i &lt; arr.length; i++) {\n            System.out.println(arr[i]);\n        }\n    }\n}\n</code></pre>\n<p>I performed a dry run of it, but still didn't reached to the mistake.</p>\n"},{"tags":["java","spring","spring-boot","javabeans"],"comments":[{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":0,"creation_date":1680662252,"post_id":75934849,"comment_id":133934695,"body_markdown":"You don&#39;t create the interface for `Service` ? I think that&#39;s the problem","body":"You don&#39;t create the interface for <code>Service</code> ? I think that&#39;s the problem"},{"owner":{"account_id":21260902,"reputation":984,"user_id":15641685,"display_name":"Huu Phuong Vu"},"score":0,"creation_date":1680675903,"post_id":75934849,"comment_id":133936340,"body_markdown":"which package do you put your main class `MicroserviceClientApplication` in?","body":"which package do you put your main class <code>MicroserviceClientApplication</code> in?"},{"owner":{"account_id":16886104,"reputation":47,"user_id":12210876,"display_name":"Ben Whitely"},"score":0,"creation_date":1680676649,"post_id":75934849,"comment_id":133936479,"body_markdown":"see edit to main post for the project structure please, formatting in the comment section is off","body":"see edit to main post for the project structure please, formatting in the comment section is off"}],"owner":{"account_id":16886104,"reputation":47,"user_id":12210876,"display_name":"Ben Whitely"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680676776,"creation_date":1680655177,"question_id":75934849,"body_markdown":"Main class:\r\n```\r\n@SpringBootApplication\r\npublic class MicroserviceClientApplication implements ApplicationRunner {\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(MicroserviceClientApplication.class);\r\n\r\n    private List&lt;Client&gt; clients = new ArrayList&lt;Client&gt;();\r\n\r\n    @Autowired\r\n    private Environment environment;\r\n    @Autowired\r\n    ApplicationContext applicationContext;\r\n\r\n    public static void main(String[] args) {\r\n        ConfigurableApplicationContext applicationContext = new SpringApplicationBuilder()\r\n                .web(WebApplicationType.NONE)\r\n                .sources(MicroserviceClientApplication.class)\r\n                .headless(true)\r\n                .build()\r\n                .run(args);\r\n    }\r\n\r\n    @Override\r\n    public void run(ApplicationArguments args) throws Exception {\r\n        populateClients();\r\n        LOGGER.info(&quot;Starting clients...&quot;);\r\n        for (Client client : clients) {\r\n            client.start();\r\n        }\r\n        runTest();\r\n    }\r\n}\r\n```\r\n\r\nService class:\r\n```\r\npackage au.com.consunet.microserviceclient.service;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class WorldEnvironmentService {\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(WorldEnvironmentService.class);\r\n    private static final double northWestCornerX = 138.4730987548828;\r\n    private static final double northWestCornerY = -34.72359848022461;\r\n    private static final double southEastCornerX = 138.70030212402344;\r\n    private static final double southEastCornerY = -35.04520034790039;\r\n    private static final int rowCount = 3574;\r\n    private static final int colCount = 2071;\r\n    private static final double colWidth = 1.0970708311956784E-4;\r\n    private static final double rowHeight = 8.998373466026336E-5;\r\n\r\n    public int normaliseLatitude(double latitudeDeg) {\r\n        double diff = northWestCornerY - latitudeDeg;\r\n        int diffCell = (int) (diff / rowHeight);\r\n        return Math.min(Math.max(diffCell, 0), rowCount - 1);\r\n    }\r\n\r\n    public int normaliseLongitude(double longitudeDeg) {\r\n        double diff = longitudeDeg - northWestCornerX;\r\n        int diffCell = (int) (diff / colWidth);\r\n        return Math.min(Math.max(diffCell, 0), colCount - 1);\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe class I&#39;m trying to use the Service in (where calling normaliseLat/Long() results in an NPE\r\n```\r\npackage au.com.consunet.microserviceclient.client;\r\n\r\nimport au.com.consunet.microserviceclient.client.request.HeightRequest;\r\nimport au.com.consunet.microserviceclient.model.Messages;\r\nimport au.com.consunet.microserviceclient.service.WorldEnvironmentService;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\nimport redis.clients.jedis.Pipeline;\r\nimport redis.clients.jedis.Response;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@Component\r\npublic class BoundingBoxRedisHashClient extends RedisHashClient {\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(BoundingBoxRedisHashClient.class);\r\n\r\n    @Autowired\r\n    private WorldEnvironmentService worldEnvironmentService;\r\n\r\n    private Map&lt;String, Response&gt; getHeightsInBoundingBox(Messages.Location location) {\r\n        double startLat = worldEnvironmentService.normaliseLatitude(Double.parseDouble(location.getLatitude()));\r\n        double startLong = worldEnvironmentService.normaliseLongitude(Double.parseDouble(location.getLongitude()));\r\n        double endLat = worldEnvironmentService.normaliseLatitude(Double.parseDouble(location.getEndLatitude()));\r\n        double endLong = worldEnvironmentService.normaliseLongitude(Double.parseDouble(location.getEndLongitude()));\r\n\r\n        Pipeline pl = jedis.pipelined();\r\n        Map&lt;String, Response&gt; responses = new HashMap&lt;&gt;();\r\n        ...\r\n        pl.sync();\r\n        return responses;\r\n    }\r\n    @Override\r\n    protected void requestHeights() {\r\n        LOGGER.info(&quot;Sending Redis Requests for RedisHash bounding box&quot;);\r\n        for(int i=0;i&lt;5;i++){\r\n            getHeightsInBoundingBox(HeightRequest.getRandomLocation());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void runTest() {\r\n        requestHeights();\r\n    }\r\n}\r\n\r\n```\r\n\r\nI&#39;ve run the debugger and the worldEnvironmentService is definitely null when at the breakpoint of calling the normalise() functions. I&#39;m not sure why this is though? It&#39;s annotated with @Service, It&#39;s @Autowired in the component class that&#39;s trying to use it?\r\n\r\nEdit: Project structure\r\n\r\nthe project is structured like:\r\n```\r\n.\r\n‚îî‚îÄ‚îÄ com.example.microserviceclient/\r\n    ‚îú‚îÄ‚îÄ client/\r\n    ‚îú‚îÄ‚îÄ model/\r\n    ‚îú‚îÄ‚îÄ service/\r\n    ‚îú‚îÄ‚îÄ world/\r\n    ‚îî‚îÄ‚îÄ MicroserviceClientApplication.java","title":"Spring Service autowiring producing NPE","body":"<p>Main class:</p>\n<pre><code>@SpringBootApplication\npublic class MicroserviceClientApplication implements ApplicationRunner {\n    private static final Logger LOGGER = LoggerFactory.getLogger(MicroserviceClientApplication.class);\n\n    private List&lt;Client&gt; clients = new ArrayList&lt;Client&gt;();\n\n    @Autowired\n    private Environment environment;\n    @Autowired\n    ApplicationContext applicationContext;\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext applicationContext = new SpringApplicationBuilder()\n                .web(WebApplicationType.NONE)\n                .sources(MicroserviceClientApplication.class)\n                .headless(true)\n                .build()\n                .run(args);\n    }\n\n    @Override\n    public void run(ApplicationArguments args) throws Exception {\n        populateClients();\n        LOGGER.info(&quot;Starting clients...&quot;);\n        for (Client client : clients) {\n            client.start();\n        }\n        runTest();\n    }\n}\n</code></pre>\n<p>Service class:</p>\n<pre><code>package au.com.consunet.microserviceclient.service;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class WorldEnvironmentService {\n    private static final Logger LOGGER = LoggerFactory.getLogger(WorldEnvironmentService.class);\n    private static final double northWestCornerX = 138.4730987548828;\n    private static final double northWestCornerY = -34.72359848022461;\n    private static final double southEastCornerX = 138.70030212402344;\n    private static final double southEastCornerY = -35.04520034790039;\n    private static final int rowCount = 3574;\n    private static final int colCount = 2071;\n    private static final double colWidth = 1.0970708311956784E-4;\n    private static final double rowHeight = 8.998373466026336E-5;\n\n    public int normaliseLatitude(double latitudeDeg) {\n        double diff = northWestCornerY - latitudeDeg;\n        int diffCell = (int) (diff / rowHeight);\n        return Math.min(Math.max(diffCell, 0), rowCount - 1);\n    }\n\n    public int normaliseLongitude(double longitudeDeg) {\n        double diff = longitudeDeg - northWestCornerX;\n        int diffCell = (int) (diff / colWidth);\n        return Math.min(Math.max(diffCell, 0), colCount - 1);\n    }\n}\n\n</code></pre>\n<p>The class I'm trying to use the Service in (where calling normaliseLat/Long() results in an NPE</p>\n<pre><code>package au.com.consunet.microserviceclient.client;\n\nimport au.com.consunet.microserviceclient.client.request.HeightRequest;\nimport au.com.consunet.microserviceclient.model.Messages;\nimport au.com.consunet.microserviceclient.service.WorldEnvironmentService;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport redis.clients.jedis.Pipeline;\nimport redis.clients.jedis.Response;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n@Component\npublic class BoundingBoxRedisHashClient extends RedisHashClient {\n    private static final Logger LOGGER = LoggerFactory.getLogger(BoundingBoxRedisHashClient.class);\n\n    @Autowired\n    private WorldEnvironmentService worldEnvironmentService;\n\n    private Map&lt;String, Response&gt; getHeightsInBoundingBox(Messages.Location location) {\n        double startLat = worldEnvironmentService.normaliseLatitude(Double.parseDouble(location.getLatitude()));\n        double startLong = worldEnvironmentService.normaliseLongitude(Double.parseDouble(location.getLongitude()));\n        double endLat = worldEnvironmentService.normaliseLatitude(Double.parseDouble(location.getEndLatitude()));\n        double endLong = worldEnvironmentService.normaliseLongitude(Double.parseDouble(location.getEndLongitude()));\n\n        Pipeline pl = jedis.pipelined();\n        Map&lt;String, Response&gt; responses = new HashMap&lt;&gt;();\n        ...\n        pl.sync();\n        return responses;\n    }\n    @Override\n    protected void requestHeights() {\n        LOGGER.info(&quot;Sending Redis Requests for RedisHash bounding box&quot;);\n        for(int i=0;i&lt;5;i++){\n            getHeightsInBoundingBox(HeightRequest.getRandomLocation());\n        }\n    }\n\n    @Override\n    public void runTest() {\n        requestHeights();\n    }\n}\n\n</code></pre>\n<p>I've run the debugger and the worldEnvironmentService is definitely null when at the breakpoint of calling the normalise() functions. I'm not sure why this is though? It's annotated with @Service, It's @Autowired in the component class that's trying to use it?</p>\n<p>Edit: Project structure</p>\n<p>the project is structured like:</p>\n<pre><code>.\n‚îî‚îÄ‚îÄ com.example.microserviceclient/\n    ‚îú‚îÄ‚îÄ client/\n    ‚îú‚îÄ‚îÄ model/\n    ‚îú‚îÄ‚îÄ service/\n    ‚îú‚îÄ‚îÄ world/\n    ‚îî‚îÄ‚îÄ MicroserviceClientApplication.java\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680675880,"post_id":75935983,"comment_id":133936334,"body_markdown":"Without significant code changes, so things changed, even the smallest change can have a huge impact. Which query hints are you using, some were renamed in either JPA or newer versions of hibernate, as you only included the constant you have defined we can only guess.","body":"Without significant code changes, so things changed, even the smallest change can have a huge impact. Which query hints are you using, some were renamed in either JPA or newer versions of hibernate, as you only included the constant you have defined we can only guess."},{"owner":{"account_id":19903832,"reputation":11,"user_id":14583299,"display_name":"Hrushikesh Mahapatro"},"score":0,"creation_date":1680677011,"post_id":75935983,"comment_id":133936545,"body_markdown":"DATA_FETCH_SIZE Constant value is 500. The @QueryHint is now imported from Jakarta instead of Javax. No code changes... few imports did change. Hints are imported from hibernate HINT_FETCH_SIZE, HINT_CACHEABLE etc","body":"DATA_FETCH_SIZE Constant value is 500. The @QueryHint is now imported from Jakarta instead of Javax. No code changes... few imports did change. Hints are imported from hibernate HINT_FETCH_SIZE, HINT_CACHEABLE etc"},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1680678503,"post_id":75935983,"comment_id":133936843,"body_markdown":"It seems there is a memory leak in your code. This method `writeOntoFile` using a previously created `EntityManager` instance. Please add those parts of code to question where is was created / opened and closed. I assume that instance is open at whole time.","body":"It seems there is a memory leak in your code. This method <code>writeOntoFile</code> using a previously created <code>EntityManager</code> instance. Please add those parts of code to question where is was created / opened and closed. I assume that instance is open at whole time."},{"owner":{"account_id":19903832,"reputation":11,"user_id":14583299,"display_name":"Hrushikesh Mahapatro"},"score":0,"creation_date":1680682413,"post_id":75935983,"comment_id":133937683,"body_markdown":"EntityManager is constructor-injected to the service class. We&#39;re using JPA, so entityManager is injected automatically. I hope this answers your question.","body":"EntityManager is constructor-injected to the service class. We&#39;re using JPA, so entityManager is injected automatically. I hope this answers your question."},{"owner":{"account_id":19903832,"reputation":11,"user_id":14583299,"display_name":"Hrushikesh Mahapatro"},"score":0,"creation_date":1681194110,"post_id":75935983,"comment_id":134012675,"body_markdown":"This issue seems to be resolved in Hibernate Version 6.2.0.Final","body":"This issue seems to be resolved in Hibernate Version 6.2.0.Final"}],"owner":{"account_id":19903832,"reputation":11,"user_id":14583299,"display_name":"Hrushikesh Mahapatro"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680676749,"creation_date":1680673287,"question_id":75935983,"body_markdown":"We have just migrated our application to Springboot 3.x, Spring Data JPA 3.1.x &amp; Hibernate 6.1.7 Final.\r\n\r\nImmediately we observed heap memory spike as we deployed same code without any significant changes.\r\n\r\nContext: We&#39;re trying to fetch a stream of objects from SQL db, and write straight onto a csv file in azure blob storage. As data volume is large 13+GB, we&#39;re setting few query hints to fetch 500 objects at a time, disable cacheing also read committed.\r\n\r\nWe&#39;re flushing/Clearing both OpenCSV writer and entity manager every 1500 records.\r\nThis was working all good, until we did this migration.\r\n\r\nFew code snippets &amp; Profiler Analysis\r\n\r\n\r\n\r\n```\r\n@Transactional(readOnly = true, isolation = Isolation.READ_COMMITTED)\r\n    public void generateFile() {\r\n        try (Stream&lt;MyEntity&gt; supplier = myRepo.getDataStream()) {\r\n            writeOntoFile(ApplicationConstants.REPORT_DIRECTORY, supplier);\r\n        } catch (IOException ex) {\r\n            log.error(&quot;Error occurred while generating file&quot;, ex);\r\n        }\r\n    }\r\n```\r\n\r\n\r\n```\r\nprivate &lt;T extends HasId&lt;?&gt;&gt; void writeOntoFile(final String reportDirectory,\r\n                                                     Stream&lt;T&gt; dataStreamSupplier) throws IOException {\r\n\r\n        final String blobName = blobName(reportDirectory);\r\n\r\n        try (ICSVWriter writer = blobStorageService.getCsvWriterBlobOutputStream(storageContainer, blobName)) {\r\n            log.info(&quot;Writing to {} using beantoCsv mapping&quot;, reportDirectory);\r\n            StatefulBeanToCsv&lt;T&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;T&gt;(writer).build();\r\n            final int[] flushCounter = new int[1];\r\n            dataStreamSupplier.forEach(dataRecord -&gt; {\r\n                writeCSV(reportDirectory, dataRecord, beanToCsv);\r\n                flushCounter[0]++;\r\n                if (flushCounter[0] % CLEAR_INTERVAL == 0) {\r\n                    entityManager.clear();\r\n                    entityManagerFactory.getCache().evict(MyEntity.class);\r\n                    try {\r\n                        writer.flush();\r\n                    } catch (IOException ioe) {\r\n                        log.error(&quot;Unable to flush the writing stream&quot;);\r\n                        throw new RuntimeException(ioe);\r\n                    }\r\n                }\r\n            });\r\n            log.info(&quot;Data written in  With Azure Blob file {}&quot;, blobName);\r\n\r\n        } catch (RuntimeException re) {\r\n            log.error(&quot;Error occurred while processing report {}&quot;, reportDirectory, re);\r\n            throw re;\r\n        }\r\n```\r\nRepository Class\r\n\r\n```\r\n @Query(&quot;select e from MyEntity e JOIN FETCH e.uuid JOIN FETCH e.sourceTable&quot;)\r\n   @QueryHints(value = {\r\n            @QueryHint(name = HINT_FETCH_SIZE, value = ApplicationConstants.DATA_FETCH_SIZE),\r\n            @QueryHint(name = HINT_CACHEABLE, value = &quot;false&quot;),\r\n            @QueryHint(name = HINT_READONLY, value = &quot;true&quot;)\r\n    })\r\n    Stream&lt;MyEntity&gt; getDataStream();\r\n```\r\n\r\nProfiler Log:\r\n![enter image description here](https://i.stack.imgur.com/vSRQL.png)\r\nI tried few things such as entityManagerFactory.getCache.evictAll() seems doesn&#39;t work.\r\n\r\n\r\nWe&#39;re looking to clear these EntityKey objects from Heap. We tried pagination but it&#39;s too slow to export such a large volume data.","title":"Hibernate 6.x org.hibernate.engine.spi.EntityKey consumes a lot of memory","body":"<p>We have just migrated our application to Springboot 3.x, Spring Data JPA 3.1.x &amp; Hibernate 6.1.7 Final.</p>\n<p>Immediately we observed heap memory spike as we deployed same code without any significant changes.</p>\n<p>Context: We're trying to fetch a stream of objects from SQL db, and write straight onto a csv file in azure blob storage. As data volume is large 13+GB, we're setting few query hints to fetch 500 objects at a time, disable cacheing also read committed.</p>\n<p>We're flushing/Clearing both OpenCSV writer and entity manager every 1500 records.\nThis was working all good, until we did this migration.</p>\n<p>Few code snippets &amp; Profiler Analysis</p>\n<pre><code>@Transactional(readOnly = true, isolation = Isolation.READ_COMMITTED)\n    public void generateFile() {\n        try (Stream&lt;MyEntity&gt; supplier = myRepo.getDataStream()) {\n            writeOntoFile(ApplicationConstants.REPORT_DIRECTORY, supplier);\n        } catch (IOException ex) {\n            log.error(&quot;Error occurred while generating file&quot;, ex);\n        }\n    }\n</code></pre>\n<pre><code>private &lt;T extends HasId&lt;?&gt;&gt; void writeOntoFile(final String reportDirectory,\n                                                     Stream&lt;T&gt; dataStreamSupplier) throws IOException {\n\n        final String blobName = blobName(reportDirectory);\n\n        try (ICSVWriter writer = blobStorageService.getCsvWriterBlobOutputStream(storageContainer, blobName)) {\n            log.info(&quot;Writing to {} using beantoCsv mapping&quot;, reportDirectory);\n            StatefulBeanToCsv&lt;T&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;T&gt;(writer).build();\n            final int[] flushCounter = new int[1];\n            dataStreamSupplier.forEach(dataRecord -&gt; {\n                writeCSV(reportDirectory, dataRecord, beanToCsv);\n                flushCounter[0]++;\n                if (flushCounter[0] % CLEAR_INTERVAL == 0) {\n                    entityManager.clear();\n                    entityManagerFactory.getCache().evict(MyEntity.class);\n                    try {\n                        writer.flush();\n                    } catch (IOException ioe) {\n                        log.error(&quot;Unable to flush the writing stream&quot;);\n                        throw new RuntimeException(ioe);\n                    }\n                }\n            });\n            log.info(&quot;Data written in  With Azure Blob file {}&quot;, blobName);\n\n        } catch (RuntimeException re) {\n            log.error(&quot;Error occurred while processing report {}&quot;, reportDirectory, re);\n            throw re;\n        }\n</code></pre>\n<p>Repository Class</p>\n<pre><code> @Query(&quot;select e from MyEntity e JOIN FETCH e.uuid JOIN FETCH e.sourceTable&quot;)\n   @QueryHints(value = {\n            @QueryHint(name = HINT_FETCH_SIZE, value = ApplicationConstants.DATA_FETCH_SIZE),\n            @QueryHint(name = HINT_CACHEABLE, value = &quot;false&quot;),\n            @QueryHint(name = HINT_READONLY, value = &quot;true&quot;)\n    })\n    Stream&lt;MyEntity&gt; getDataStream();\n</code></pre>\n<p>Profiler Log:\n<img src=\"https://i.stack.imgur.com/vSRQL.png\" alt=\"enter image description here\" />\nI tried few things such as entityManagerFactory.getCache.evictAll() seems doesn't work.</p>\n<p>We're looking to clear these EntityKey objects from Heap. We tried pagination but it's too slow to export such a large volume data.</p>\n"},{"tags":["java","scala","gatling","gatling-plugin","maven-gatling-plugin"],"comments":[{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1680669220,"post_id":75935662,"comment_id":133935341,"body_markdown":"What does *&quot;is not working as expected&quot;* mean exactly?","body":"What does <i>&quot;is not working as expected&quot;</i> mean exactly?"},{"owner":{"account_id":14123264,"reputation":101,"user_id":10203261,"display_name":"Akhil"},"score":1,"creation_date":1680669567,"post_id":75935662,"comment_id":133935381,"body_markdown":"@DmytroMitin .Oops..modified the question with details","body":"@DmytroMitin .Oops..modified the question with details"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":2,"creation_date":1680669770,"post_id":75935662,"comment_id":133935404,"body_markdown":"You added the desired behavior (the behavior in Scala). Please write what&#39;s wrong with the behavior in Java (*&quot;not working as expected&quot;*). [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask)","body":"You added the desired behavior (the behavior in Scala). Please write what&#39;s wrong with the behavior in Java (<i>&quot;not working as expected&quot;</i>). <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>"}],"answers":[{"comments":[{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1680676859,"post_id":75935913,"comment_id":133936520,"body_markdown":"Yeah, `bodyExpr(session)` in Scala is `bodyExpr.apply(session)` in Java","body":"Yeah, <code>bodyExpr(session)</code> in Scala is <code>bodyExpr.apply(session)</code> in Java"},{"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"score":1,"creation_date":1680681511,"post_id":75935913,"comment_id":133937473,"body_markdown":"Note: allocating `val bodyExpr = PebbleFileBody(&quot;body.json&quot;)` inside your function while it&#39;s actually a constant is a performance waste. You should allocate it outside of your function.","body":"Note: allocating <code>val bodyExpr = PebbleFileBody(&quot;body.json&quot;)</code> inside your function while it&#39;s actually a constant is a performance waste. You should allocate it outside of your function."}],"tags":[],"owner":{"account_id":14123264,"reputation":101,"user_id":10203261,"display_name":"Akhil"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680672379,"creation_date":1680672379,"answer_id":75935913,"question_id":75935662,"body_markdown":"\r\nAfter little more research, I solved the issue. There is a method called apply() available in gatling.The following is the code I used.\r\n\r\n    var body = PebbleFileBody(&quot;body.json&quot;);\r\n    var bodyStr = body.apply(session);\r\n    return Utils.encrypt(bodyStr);","title":"Convert Scala gatling to Java gatling","body":"<p>After little more research, I solved the issue. There is a method called apply() available in gatling.The following is the code I used.</p>\n<pre><code>var body = PebbleFileBody(&quot;body.json&quot;);\nvar bodyStr = body.apply(session);\nreturn Utils.encrypt(bodyStr);\n</code></pre>\n"}],"owner":{"account_id":14123264,"reputation":101,"user_id":10203261,"display_name":"Akhil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680676641,"creation_date":1680669148,"question_id":75935662,"body_markdown":"I have initially written the following code using Scala and gatling.Here I am picking the json post body that is rendered using pebble and applying some string manipulations and encryption on that output message(in method Utils.encrypt()) and passing the encrypted message each time to the rest endpoint.\r\n\r\n    def publishMessage() = {\r\n        repeat(1) {\r\n          exec(http(&quot;Requests...&quot;)\r\n            .post(url).body(StringBody { session =&gt;{\r\n            val bodyExpr = PebbleFileBody(&quot;body.json&quot;)\r\n            val bodyStr = bodyExpr(session).toString\r\n            Utils.encrypt(bodyStr) /*this method encrypt the rendered body after some manipulations*/\r\n    }}).asJson\r\n            .check(status.is(200)))\r\n        }\r\n      }\r\n\r\nI wanted to migrate the same code to Java ,since newer versions of gatling support the same and in my scenario which is easier to maintain .I written the following code\r\n\r\n     ChainBuilder create = repeat(1).on(feed(DataFeeder.feed)\r\n                .exec(http(&quot;Requests ...&quot;)\r\n                        .post(url).body( StringBody(session -&gt; {\r\n                            var body = PebbleFileBody(&quot;body.json&quot;);\r\n                            var bodyStr = body.toString();\r\n                            return Utils.encrypt(bodyStr));\r\n                        })).asJson().check(status().is(200))));\r\n\r\n\r\nwhich is giving the following in bodyStr variable ..\r\n\r\n&gt; Session(Create API,1,HashMap(6f2f1ce1-961e-45d7-bede-9c30b62691c2 -&gt;\r\n&gt; 0, gatling.http.cache.dns -&gt;\r\n&gt; io.gatling.http.resolver.ShufflingNameResolver@1a0e7ec5, firstName -&gt;\r\n&gt; Marketta, referenceId -&gt; 94964, gatling.http.ssl.sslContexts -&gt;\r\n&gt; io.gatling.http.util.SslContexts@10154be2, userId -&gt; 53547, name -&gt;\r\n&gt; Zieme, gatling.http.cache.baseUrl -&gt; http://localhost:8080/api,\r\n&gt; referenceType -&gt;\r\n&gt; 7),OK,List(ExitOnCompleteLoopBlock(6f2f1ce1-961e-45d7-bede-9c30b62691c2)),io.gatling.core.protocol.ProtocolComponentsRegistry$$Lambda$571/0x0000000800639840@353383dd,io.netty.channel.nio.NioEventLoop@41e1455d)\r\n&gt; bodySession(Create WebUser\r\n&gt; API,1,HashMap(6f2f1ce1-961e-45d7-bede-9c30b62691c2 -&gt; 0,\r\n&gt; gatling.http.cache.dns -&gt;\r\n&gt; io.gatling.http.resolver.ShufflingNameResolver@1a0e7ec5, firstName -&gt;\r\n&gt; Marketta, referenceId -&gt; 94964, gatling.http.ssl.sslContexts -&gt;\r\n&gt; io.gatling.http.util.SslContexts@10154be2, userId -&gt; 53547, name -&gt;\r\n&gt; Zieme, gatling.http.cache.baseUrl -&gt; http://localhost:8080/api,\r\n&gt; referenceType -&gt;\r\n&gt; 7),OK,List(ExitOnCompleteLoopBlock(6f2f1ce1-961e-45d7-bede-9c30b62691c2)),io.gatling.core.protocol.ProtocolComponentsRegistry$$Lambda$571/0x0000000800639840@353383dd,io.netty.channel.nio.NioEventLoop@41e1455d)\r\n\r\n\r\ninstead of pebble rendered message.In Scala I am getting the actual pebble rendered output message as parameter string in method  Utils.encrypt(String message).Seems like the way i need to fetch the rendered message from session in java is different.can anyone point out what is the exact way to fetch the rendered message from session using java","title":"Convert Scala gatling to Java gatling","body":"<p>I have initially written the following code using Scala and gatling.Here I am picking the json post body that is rendered using pebble and applying some string manipulations and encryption on that output message(in method Utils.encrypt()) and passing the encrypted message each time to the rest endpoint.</p>\n<pre><code>def publishMessage() = {\n    repeat(1) {\n      exec(http(&quot;Requests...&quot;)\n        .post(url).body(StringBody { session =&gt;{\n        val bodyExpr = PebbleFileBody(&quot;body.json&quot;)\n        val bodyStr = bodyExpr(session).toString\n        Utils.encrypt(bodyStr) /*this method encrypt the rendered body after some manipulations*/\n}}).asJson\n        .check(status.is(200)))\n    }\n  }\n</code></pre>\n<p>I wanted to migrate the same code to Java ,since newer versions of gatling support the same and in my scenario which is easier to maintain .I written the following code</p>\n<pre><code> ChainBuilder create = repeat(1).on(feed(DataFeeder.feed)\n            .exec(http(&quot;Requests ...&quot;)\n                    .post(url).body( StringBody(session -&gt; {\n                        var body = PebbleFileBody(&quot;body.json&quot;);\n                        var bodyStr = body.toString();\n                        return Utils.encrypt(bodyStr));\n                    })).asJson().check(status().is(200))));\n</code></pre>\n<p>which is giving the following in bodyStr variable ..</p>\n<blockquote>\n<p>Session(Create API,1,HashMap(6f2f1ce1-961e-45d7-bede-9c30b62691c2 -&gt;\n0, gatling.http.cache.dns -&gt;\nio.gatling.http.resolver.ShufflingNameResolver@1a0e7ec5, firstName -&gt;\nMarketta, referenceId -&gt; 94964, gatling.http.ssl.sslContexts -&gt;\nio.gatling.http.util.SslContexts@10154be2, userId -&gt; 53547, name -&gt;\nZieme, gatling.http.cache.baseUrl -&gt; http://localhost:8080/api,\nreferenceType -&gt;\n7),OK,List(ExitOnCompleteLoopBlock(6f2f1ce1-961e-45d7-bede-9c30b62691c2)),io.gatling.core.protocol.ProtocolComponentsRegistry$$Lambda$571/0x0000000800639840@353383dd,io.netty.channel.nio.NioEventLoop@41e1455d)\nbodySession(Create WebUser\nAPI,1,HashMap(6f2f1ce1-961e-45d7-bede-9c30b62691c2 -&gt; 0,\ngatling.http.cache.dns -&gt;\nio.gatling.http.resolver.ShufflingNameResolver@1a0e7ec5, firstName -&gt;\nMarketta, referenceId -&gt; 94964, gatling.http.ssl.sslContexts -&gt;\nio.gatling.http.util.SslContexts@10154be2, userId -&gt; 53547, name -&gt;\nZieme, gatling.http.cache.baseUrl -&gt; http://localhost:8080/api,\nreferenceType -&gt;\n7),OK,List(ExitOnCompleteLoopBlock(6f2f1ce1-961e-45d7-bede-9c30b62691c2)),io.gatling.core.protocol.ProtocolComponentsRegistry$$Lambda$571/0x0000000800639840@353383dd,io.netty.channel.nio.NioEventLoop@41e1455d)</p>\n</blockquote>\n<p>instead of pebble rendered message.In Scala I am getting the actual pebble rendered output message as parameter string in method  Utils.encrypt(String message).Seems like the way i need to fetch the rendered message from session in java is different.can anyone point out what is the exact way to fetch the rendered message from session using java</p>\n"},{"tags":["java","http","https","mule"],"comments":[{"owner":{"account_id":8587609,"reputation":1094,"user_id":6433161,"display_name":"Sandeep Jain"},"score":0,"creation_date":1680676287,"post_id":46946234,"comment_id":133936415,"body_markdown":"This is asked in the initial days of Mule API","body":"This is asked in the initial days of Mule API"}],"answers":[{"comments":[{"owner":{"account_id":8587609,"reputation":1094,"user_id":6433161,"display_name":"Sandeep Jain"},"score":0,"creation_date":1592057287,"post_id":49648124,"comment_id":110290767,"body_markdown":"&lt;http:listener-config name=&quot;httpListenerConfig&quot; host=&quot;0.0.0.0&quot; port=&quot;${http.port}&quot; doc:name=&quot;HTTP Listener Configuration&quot; protocol=&quot;HTTPS&quot;&gt;\n        &lt;tls:context&gt;\n            &lt;tls:key-store type=&quot;jks&quot; path=&quot;${keyname}&quot; keyPassword=&quot;${keypassword}&quot; password=&quot;${keypassword}&quot;/&gt;\n        &lt;/tls:context&gt;\n    &lt;/http:listener-config&gt;","body":"&lt;http:listener-config name=&quot;httpListenerConfig&quot; host=&quot;0.0.0.0&quot; port=&quot;${http.port}&quot; doc:name=&quot;HTTP Listener Configuration&quot; protocol=&quot;HTTPS&quot;&gt;         &lt;tls:context&gt;             &lt;tls:key-store type=&quot;jks&quot; path=&quot;${keyname}&quot; keyPassword=&quot;${keypassword}&quot; password=&quot;${keypassword}&quot;/&gt;         &lt;/tls:context&gt;     &lt;/http:listener-config&gt;"}],"tags":[],"owner":{"account_id":8587609,"reputation":1094,"user_id":6433161,"display_name":"Sandeep Jain"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680676321,"creation_date":1522835915,"answer_id":49648124,"question_id":46946234,"body_markdown":"    This below code will make mule api calls to HTTPs \r\n    \r\n    &lt;http:listener-config name=&quot;httpListenerConfig&quot; host=&quot;0.0.0.0&quot; port=&quot;${http.port}&quot; doc:name=&quot;HTTP Listener Configuration&quot; protocol=&quot;HTTPS&quot;&gt;\r\n            &lt;tls:context&gt;\r\n                &lt;tls:key-store type=&quot;jks&quot; path=&quot;${keyname}&quot; keyPassword=&quot;${keypassword}&quot; password=&quot;${keypassword}&quot;/&gt;\r\n            &lt;/tls:context&gt;\r\n        &lt;/http:listener-config&gt;\r\n    \r\n    where key needs to be put in resources folder and password to properties file.","title":"Mule API to move from HTTP to HTTPs","body":"<pre><code>This below code will make mule api calls to HTTPs \n\n&lt;http:listener-config name=&quot;httpListenerConfig&quot; host=&quot;0.0.0.0&quot; port=&quot;${http.port}&quot; doc:name=&quot;HTTP Listener Configuration&quot; protocol=&quot;HTTPS&quot;&gt;\n        &lt;tls:context&gt;\n            &lt;tls:key-store type=&quot;jks&quot; path=&quot;${keyname}&quot; keyPassword=&quot;${keypassword}&quot; password=&quot;${keypassword}&quot;/&gt;\n        &lt;/tls:context&gt;\n    &lt;/http:listener-config&gt;\n\nwhere key needs to be put in resources folder and password to properties file.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7095226,"reputation":439,"user_id":5429075,"display_name":"Naveen K Reddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523365071,"creation_date":1523365071,"answer_id":49754345,"question_id":46946234,"body_markdown":"We have ways to implement them. I would suggest using shared resources [domains][1].\r\n\r\n&gt; **Steps include:**\r\n\r\n 1. Create a domain project with HTTPS shared resource in your workspace.\r\n 2. associate all of your APIs to that domain. For this, you need to update mule-project.xml and select domain.\r\n 3. Go to HTTP connector in each of your API and simply select the **connector configuration** from drop down. (If the domain project is created correctly, the HTTP shared resource from domain should come in this drop down!)\r\n\r\nIn this way, you can migrate all your APIs to HTTPS.\r\n\r\n  [1]: https://docs.mulesoft.com/mule-user-guide/v/3.7/shared-resources#creating-a-new-domain","title":"Mule API to move from HTTP to HTTPs","body":"<p>We have ways to implement them. I would suggest using shared resources <a href=\"https://docs.mulesoft.com/mule-user-guide/v/3.7/shared-resources#creating-a-new-domain\" rel=\"nofollow noreferrer\">domains</a>.</p>\n\n<blockquote>\n  <p><strong>Steps include:</strong></p>\n</blockquote>\n\n<ol>\n<li>Create a domain project with HTTPS shared resource in your workspace.</li>\n<li>associate all of your APIs to that domain. For this, you need to update mule-project.xml and select domain.</li>\n<li>Go to HTTP connector in each of your API and simply select the <strong>connector configuration</strong> from drop down. (If the domain project is created correctly, the HTTP shared resource from domain should come in this drop down!)</li>\n</ol>\n\n<p>In this way, you can migrate all your APIs to HTTPS.</p>\n"}],"owner":{"account_id":8587609,"reputation":1094,"user_id":6433161,"display_name":"Sandeep Jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1680676321,"creation_date":1508994580,"question_id":46946234,"body_markdown":"Earlier we have HTTP api of Mule service. As we are moving to ssl . We need our api calls to https . So need to know the ways to the same in less time duration and without much efforts .","title":"Mule API to move from HTTP to HTTPs","body":"<p>Earlier we have HTTP api of Mule service. As we are moving to ssl . We need our api calls to https . So need to know the ways to the same in less time duration and without much efforts .</p>\n"},{"tags":["java","mysql","spring","jdbc"],"answers":[{"comments":[{"owner":{"account_id":211527,"reputation":723,"user_id":463751,"accept_rate":58,"display_name":"MGD"},"score":0,"creation_date":1346818475,"post_id":12271111,"comment_id":16460591,"body_markdown":"Thanks a ton, Exception is gone but still its returning nothing in query though the data is there in the table","body":"Thanks a ton, Exception is gone but still its returning nothing in query though the data is there in the table"}],"tags":[],"owner":{"account_id":137214,"reputation":133416,"user_id":341251,"display_name":"Joe Stefanelli"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1346791600,"creation_date":1346791600,"answer_id":12271111,"question_id":12271064,"body_markdown":"In order to use a dash in the column names, you need to escape them with back ticks.\r\n\r\n    &quot;SELECT cid, `clinician-code`, password, `first-name`, `last-name` \r\n         FROM Clinician \r\n         WHERE `clinician-code` = ?&quot;","title":"Bad Sql Grammar exception in JDBC spring","body":"<p>In order to use a dash in the column names, you need to escape them with back ticks.</p>\n\n<pre><code>\"SELECT cid, `clinician-code`, password, `first-name`, `last-name` \n     FROM Clinician \n     WHERE `clinician-code` = ?\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":126486,"reputation":4659,"user_id":323015,"accept_rate":43,"display_name":"subhashis"},"score":0,"creation_date":1462950460,"post_id":36180085,"comment_id":61847450,"body_markdown":"yes you are correct, currently i am facing the same problem and before going through this post I guess it is happening because of the mapper.","body":"yes you are correct, currently i am facing the same problem and before going through this post I guess it is happening because of the mapper."},{"owner":{"account_id":1037518,"reputation":313,"user_id":1044357,"accept_rate":67,"display_name":"Shane"},"score":0,"creation_date":1465903253,"post_id":36180085,"comment_id":63085156,"body_markdown":"This was exactly the issue I had. Thank you so much!","body":"This was exactly the issue I had. Thank you so much!"},{"owner":{"account_id":1225552,"reputation":101,"user_id":1191156,"display_name":"HammerGuy"},"score":0,"creation_date":1566928056,"post_id":36180085,"comment_id":101806452,"body_markdown":"you saved me a lot of hassle, thank you. Hard to think of the mapper when your focus is on the request.","body":"you saved me a lot of hassle, thank you. Hard to think of the mapper when your focus is on the request."},{"owner":{"account_id":2000334,"reputation":7336,"user_id":1791546,"accept_rate":68,"display_name":"Shridutt Kothari"},"score":0,"creation_date":1656323573,"post_id":36180085,"comment_id":128535100,"body_markdown":"Thanks for the answer, i hade table name wrong in my java code!!","body":"Thanks for the answer, i hade table name wrong in my java code!!"}],"tags":[],"owner":{"account_id":4895435,"reputation":308,"user_id":3945233,"accept_rate":86,"display_name":"jeffkempf"},"comment_count":4,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1458741024,"creation_date":1458741024,"answer_id":36180085,"question_id":12271064,"body_markdown":"I know this is an old thread, but hopefully anyone stumbling across this question will find this answer useful.\r\n\r\nI was getting the same exception in my spring app.  Based on the output, I thought I had a syntax issue with my query.  It turns out that I actually had a syntax error in my mapper method.  I came across this issue because I originally created my Product class with different field names than the column names.\r\n\r\n    public class ProductMapper implements RowMapper&lt;Product&gt; {\r\n    public Product mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n      Product product = new Product();\r\n      product.setProduct_id(rs.getInt(&quot;product_id&quot;));  //was id.  was causing BadSqlGrammarException\r\n      product.setProduct_name(rs.getString(&quot;product_name&quot;)); //was name.  was causing BadSqlGrammarException\r\n      product.setPrice(rs.getDouble(&quot;price&quot;));\r\n      product.setQuantity(rs.getInt(&quot;quantity&quot;));\r\n      return product;\r\n       }\r\n    }\r\n\r\nOnce I made the above changes (my fields are named product_id and product_name), my app worked correctly.  Just remember that any changes you make to column names or java fields should be made not only to your query statements, but also to your mapper method as well.  I see that the OP did this correctly, but I thought it was worth reiterating.  I hope someone finds this helpful.","title":"Bad Sql Grammar exception in JDBC spring","body":"<p>I know this is an old thread, but hopefully anyone stumbling across this question will find this answer useful.</p>\n\n<p>I was getting the same exception in my spring app.  Based on the output, I thought I had a syntax issue with my query.  It turns out that I actually had a syntax error in my mapper method.  I came across this issue because I originally created my Product class with different field names than the column names.</p>\n\n<pre><code>public class ProductMapper implements RowMapper&lt;Product&gt; {\npublic Product mapRow(ResultSet rs, int rowNum) throws SQLException {\n  Product product = new Product();\n  product.setProduct_id(rs.getInt(\"product_id\"));  //was id.  was causing BadSqlGrammarException\n  product.setProduct_name(rs.getString(\"product_name\")); //was name.  was causing BadSqlGrammarException\n  product.setPrice(rs.getDouble(\"price\"));\n  product.setQuantity(rs.getInt(\"quantity\"));\n  return product;\n   }\n}\n</code></pre>\n\n<p>Once I made the above changes (my fields are named product_id and product_name), my app worked correctly.  Just remember that any changes you make to column names or java fields should be made not only to your query statements, but also to your mapper method as well.  I see that the OP did this correctly, but I thought it was worth reiterating.  I hope someone finds this helpful.</p>\n"},{"tags":[],"owner":{"account_id":4138262,"reputation":21,"user_id":3394370,"display_name":"Ratnesh K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639094982,"creation_date":1639073347,"answer_id":70294714,"question_id":12271064,"body_markdown":"Check your query syntax properly for missing ; or extra comma (,) . &#39;Bad SQL Grammar Exception&#39; is related only to syntactical  mistake in Sql queries.  \r\nI was getting same error in following code while working on Spring JDBC:\r\n\r\n    String query= &quot;update student set name=?, city=?, where id=?&quot;; // due to extra comma after city=?,\r\n\r\nChanged code to \r\n\r\n    String query= &quot;update student set name=? city=?, where id=?&quot;; \r\n\r\nError resolved.\r\n\r\n\r\n","title":"Bad Sql Grammar exception in JDBC spring","body":"<p>Check your query syntax properly for missing ; or extra comma (,) . 'Bad SQL Grammar Exception' is related only to syntactical  mistake in Sql queries.<br />\nI was getting same error in following code while working on Spring JDBC:</p>\n<pre><code>String query= &quot;update student set name=?, city=?, where id=?&quot;; // due to extra comma after city=?,\n</code></pre>\n<p>Changed code to</p>\n<pre><code>String query= &quot;update student set name=? city=?, where id=?&quot;; \n</code></pre>\n<p>Error resolved.</p>\n"},{"tags":[],"owner":{"account_id":28175275,"reputation":1,"user_id":21533142,"display_name":"sneha somnathe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680676178,"creation_date":1680240334,"answer_id":75895122,"question_id":12271064,"body_markdown":"I changed \r\n\r\n    String query = &quot;update student set name=?, city=?, where id=?&quot;; \r\n\r\ninto\r\n\r\n    String query = &quot;update student set name=?, city=? where id=?&quot;;\r\n\r\nand it resolved\r\nI used comma after name\r\n ","title":"Bad Sql Grammar exception in JDBC spring","body":"<p>I changed</p>\n<pre><code>String query = &quot;update student set name=?, city=?, where id=?&quot;; \n</code></pre>\n<p>into</p>\n<pre><code>String query = &quot;update student set name=?, city=? where id=?&quot;;\n</code></pre>\n<p>and it resolved\nI used comma after name</p>\n"}],"owner":{"account_id":211527,"reputation":723,"user_id":463751,"accept_rate":58,"display_name":"MGD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125917,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":12271111,"answer_count":4,"score":10,"last_activity_date":1680676178,"creation_date":1346791334,"question_id":12271064,"body_markdown":"\r\nI am the getting \r\n\r\n&gt; org.springframework.jdbc.BadSqlGrammarException:\r\n&gt; PreparedStatementCallback; bad SQL grammar [select cid,\r\n&gt; clinician-code, password, first-name, last-name from Clinician where\r\n&gt; clinician-code= ?]; nested exception is\r\n&gt; com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown\r\n&gt; column &#39;clinician&#39; in &#39;field list&#39;\r\n\r\nerror on the following code, You can also see the Table in the screen shot, except for cid all other attributes are VARCHAR(45)\r\n\r\n![Clinician Table][1]\r\n\r\n\r\nRow mapper class\r\n\r\n    public class CClinicianRowMapper implements RowMapper {\r\n\r\n\t@Override\r\n\tpublic Object mapRow(ResultSet rs, int line) throws SQLException {\r\n\t\tCClinicianResultSetExtractor extractor = new CClinicianResultSetExtractor();\r\n\t\treturn extractor.extractData(rs);\r\n\t}\r\n}\r\n\r\nResult Extractor Class\r\npublic class CClinicianResultSetExtractor implements ResultSetExtractor {\r\n\r\n\t  @Override\r\n\t  public Object extractData(ResultSet rs) throws SQLException {\r\n\t    CClinician clinician = new CClinician();\r\n\t    clinician.setCid(rs.getLong(&quot;cid&quot;));\r\n\t    clinician.setClinicianCode(rs.getString(&quot;clinician-code&quot;));\r\n\t    clinician.setPassword(rs.getString(&quot;password&quot;));\r\n\t    clinician.setFirstName(rs.getString(&quot;first-name&quot;));\r\n\t    return clinician;\r\n\t  }\r\n}\r\n\r\nClass for selecting data from table\r\n\r\n\r\n    public List&lt;CClinician&gt; findClinician(CClinician _clinician) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tJdbcTemplate select = new JdbcTemplate(dataSource);\r\n\t\ttry\r\n\t\t{\r\n\t\treturn select.query(&quot;select cid, clinician-code, password, first-name, last-name from Clinician where clinician-code= ?&quot;,\r\n\t\t\t\tnew Object[] {_clinician.getClinicianCode()}, new CClinicianRowMapper());\r\n\t\r\n\t\t}\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/HAytR.png","title":"Bad Sql Grammar exception in JDBC spring","body":"<p>I am the getting </p>\n\n<blockquote>\n  <p>org.springframework.jdbc.BadSqlGrammarException:\n  PreparedStatementCallback; bad SQL grammar [select cid,\n  clinician-code, password, first-name, last-name from Clinician where\n  clinician-code= ?]; nested exception is\n  com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown\n  column 'clinician' in 'field list'</p>\n</blockquote>\n\n<p>error on the following code, You can also see the Table in the screen shot, except for cid all other attributes are VARCHAR(45)</p>\n\n<p><img src=\"https://i.stack.imgur.com/HAytR.png\" alt=\"Clinician Table\"></p>\n\n<p>Row mapper class</p>\n\n<pre><code>public class CClinicianRowMapper implements RowMapper {\n\n@Override\npublic Object mapRow(ResultSet rs, int line) throws SQLException {\n    CClinicianResultSetExtractor extractor = new CClinicianResultSetExtractor();\n    return extractor.extractData(rs);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Result Extractor Class\npublic class CClinicianResultSetExtractor implements ResultSetExtractor {</p>\n\n<pre><code>  @Override\n  public Object extractData(ResultSet rs) throws SQLException {\n    CClinician clinician = new CClinician();\n    clinician.setCid(rs.getLong(\"cid\"));\n    clinician.setClinicianCode(rs.getString(\"clinician-code\"));\n    clinician.setPassword(rs.getString(\"password\"));\n    clinician.setFirstName(rs.getString(\"first-name\"));\n    return clinician;\n  }\n</code></pre>\n\n<p>}</p>\n\n<p>Class for selecting data from table</p>\n\n<pre><code>public List&lt;CClinician&gt; findClinician(CClinician _clinician) {\n    // TODO Auto-generated method stub\n    JdbcTemplate select = new JdbcTemplate(dataSource);\n    try\n    {\n    return select.query(\"select cid, clinician-code, password, first-name, last-name from Clinician where clinician-code= ?\",\n            new Object[] {_clinician.getClinicianCode()}, new CClinicianRowMapper());\n\n    }\n    catch (Exception e)\n    {\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":["java","spring-data-jpa","sonarqube","sonarlint"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1680676141,"post_id":75936194,"comment_id":133936389,"body_markdown":"(transient makes b-/rarely sense on &quot;embeddable&quot;) -&gt; make it serializable!;)","body":"(transient makes b-/rarely sense on &quot;embeddable&quot;) -&gt; make it serializable!;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1680676281,"post_id":75936194,"comment_id":133936413,"body_markdown":"&quot;transient&quot; = &quot;won&#39;t be stored in db&quot;, &quot;serializable&quot; \n = &quot;flattable&quot;","body":"&quot;transient&quot; = &quot;won&#39;t be stored in db&quot;, &quot;serializable&quot;   = &quot;flattable&quot;"}],"owner":{"account_id":12296112,"reputation":152,"user_id":8971706,"display_name":"Istv&#225;n D"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680675617,"answer_count":0,"score":0,"last_activity_date":1680675650,"creation_date":1680675447,"question_id":75936194,"body_markdown":"My Serializable entity has an @Embedded field and i got a sonar warning: Make &quot;myEmbeddableField&quot; transient or serializable.\r\n\r\nWhat should i do?","title":"Java Embedded field should be transient or Embeddable should be Serializable","body":"<p>My Serializable entity has an @Embedded field and i got a sonar warning: Make &quot;myEmbeddableField&quot; transient or serializable.</p>\n<p>What should i do?</p>\n"},{"tags":["java","macos","sandbox","command-line-tool","jpackage"],"answers":[{"comments":[{"owner":{"account_id":2684116,"reputation":2913,"user_id":2318843,"display_name":"RadekJ"},"score":0,"creation_date":1682053992,"post_id":75932726,"comment_id":134158296,"body_markdown":"Unfortunately that was not helpful. In my case the app works just fine until it reaches the line `Runtime.getRuntime().exec(&quot;mytool ...&quot;)`, when it crashes with signal 4. At the end I decided to compile mytool to a dynamic library and call it from JVM via JNI bindings.","body":"Unfortunately that was not helpful. In my case the app works just fine until it reaches the line <code>Runtime.getRuntime().exec(&quot;mytool ...&quot;)</code>, when it crashes with signal 4. At the end I decided to compile mytool to a dynamic library and call it from JVM via JNI bindings."}],"tags":[],"owner":{"account_id":8073162,"reputation":7029,"user_id":6085193,"accept_rate":79,"display_name":"Transformer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680634220,"creation_date":1680633204,"answer_id":75932726,"question_id":75852613,"body_markdown":"Couple of suggestions, especially when building with Xcode if you are also targeting mobile apps, I see you signed the entitlements but *not* the deepsign.\r\n\r\n&gt; maybe use `-c --verbose` options to get more debug information to help you out.\r\n\r\n_______\r\n\r\n&gt; Try creating a *new* text file named java.entitlements with the following contents:\r\n\r\n    \r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;\r\n    &lt;plist version=&quot;1.0&quot;&gt;\r\n        &lt;dict&gt;\r\n            &lt;key&gt;com.apple.security.app-sandbox&lt;/key&gt;\r\n            &lt;true/&gt;\r\n            &lt;key&gt;com.apple.security.inherit&lt;/key&gt;\r\n            &lt;true/&gt;\r\n        &lt;/dict&gt;\r\n    &lt;/plist&gt;\r\n\r\n\r\n    // Now grant these entitlements to the java executable:\r\n    codesign -f -s &quot;Mac Developer: John Smith (XYZ)&quot; --entitlements &quot;java.entitlements&quot; &quot;Home/bin/java&quot;\r\n\r\n\r\nMake sure to use your own developer certificate with the correct paths appropriate to your situation.\r\n\r\nBecause this is a cryptographic operation, complete changes to the Info.plist prior to this step.\r\n\r\nNow Configure Tools / for e.g. in Xcode\r\nMake sure that your *application or framework target during build*\r\n\r\n - first step will copy \r\n - second step sign this PlugIn bundle when you build. Do this by adding a &quot;New Copy Files Phase&quot; to the target. Rename it to ‚ÄúCopy Java Runtime‚Äù), choose PlugIns as the destination, choose the Java.runtime directory, and ensure that code sign on copy is selected.\r\n\r\nSign the Java.runtime bundle\r\nSometimes code sign on copy will complain that the Java.runtime bundle is not already signed, so you may have to manually deep sign the bundle in order to have your tool or Xcode re-sign it when building your project:\r\n\r\n    codesign --deep -f -s &quot;Mac Developer: John Smith (XYZ)&quot; Java.runtime/\r\n\r\n____________\r\nUltimately I think it is in the `codesign` [look at this ref. issue on github][1] to fix it\r\nSomeone forced it to code sign to run it ...\r\n\r\n    codesign --force --deep --sign - ./Test-signed.app\r\n\r\nThis is for when a process fails to start on macos similar to yours  https://github.com/libgdx/packr/issues/161\r\n\r\n  [1]: https://github.com/airsdk/Adobe-Runtime-Support/issues/1778","title":"Embedded command line tool called via Runtime.exec in a Java sandboxed app on MacOS results in signal 4","body":"<p>Couple of suggestions, especially when building with Xcode if you are also targeting mobile apps, I see you signed the entitlements but <em>not</em> the deepsign.</p>\n<blockquote>\n<p>maybe use <code>-c --verbose</code> options to get more debug information to help you out.</p>\n</blockquote>\n<hr />\n<blockquote>\n<p>Try creating a <em>new</em> text file named java.entitlements with the following contents:</p>\n</blockquote>\n\n<pre><code>&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;\n&lt;plist version=&quot;1.0&quot;&gt;\n    &lt;dict&gt;\n        &lt;key&gt;com.apple.security.app-sandbox&lt;/key&gt;\n        &lt;true/&gt;\n        &lt;key&gt;com.apple.security.inherit&lt;/key&gt;\n        &lt;true/&gt;\n    &lt;/dict&gt;\n&lt;/plist&gt;\n\n\n// Now grant these entitlements to the java executable:\ncodesign -f -s &quot;Mac Developer: John Smith (XYZ)&quot; --entitlements &quot;java.entitlements&quot; &quot;Home/bin/java&quot;\n</code></pre>\n<p>Make sure to use your own developer certificate with the correct paths appropriate to your situation.</p>\n<p>Because this is a cryptographic operation, complete changes to the Info.plist prior to this step.</p>\n<p>Now Configure Tools / for e.g. in Xcode\nMake sure that your <em>application or framework target during build</em></p>\n<ul>\n<li>first step will copy</li>\n<li>second step sign this PlugIn bundle when you build. Do this by adding a &quot;New Copy Files Phase&quot; to the target. Rename it to ‚ÄúCopy Java Runtime‚Äù), choose PlugIns as the destination, choose the Java.runtime directory, and ensure that code sign on copy is selected.</li>\n</ul>\n<p>Sign the Java.runtime bundle\nSometimes code sign on copy will complain that the Java.runtime bundle is not already signed, so you may have to manually deep sign the bundle in order to have your tool or Xcode re-sign it when building your project:</p>\n<pre><code>codesign --deep -f -s &quot;Mac Developer: John Smith (XYZ)&quot; Java.runtime/\n</code></pre>\n<hr />\n<p>Ultimately I think it is in the <code>codesign</code> <a href=\"https://github.com/airsdk/Adobe-Runtime-Support/issues/1778\" rel=\"nofollow noreferrer\">look at this ref. issue on github</a> to fix it\nSomeone forced it to code sign to run it ...</p>\n<pre><code>codesign --force --deep --sign - ./Test-signed.app\n</code></pre>\n<p>This is for when a process fails to start on macos similar to yours  <a href=\"https://github.com/libgdx/packr/issues/161\" rel=\"nofollow noreferrer\">https://github.com/libgdx/packr/issues/161</a></p>\n"}],"owner":{"account_id":2684116,"reputation":2913,"user_id":2318843,"display_name":"RadekJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1680675481,"creation_date":1679897818,"question_id":75852613,"body_markdown":"**Objective**\r\n\r\nI want to ship my java app **myapp** to macOS appstore, the app uses a command line tool **mytool** called with:\r\n\r\n`Runtime.getRuntime().exec(arrayOf(&quot;mytool&quot;, &quot;argument&quot;)`\r\n\r\n\r\n**Tools**\r\n- Mac M1Pro with Ventura 13.1\r\n- OpenJDK 18.0.2 (x64)\r\n- Xcode 14.2\r\n\r\n\r\n**Problem**\r\n\r\nWhen I try to run it it crashes with the error:\r\n\r\n`Cannot run program &quot;/Applications/MyApp.app/Contents/app/mytool&quot;: error=0, Failed to exec spawn helper: pid 64709, signal: 4`\r\n\r\n\r\n**What I have done so far**\r\n\r\nAfter reading:\r\n- [Embedding a command-line tool in a sandboxed app](https://developer.apple.com/documentation/xcode/embedding-a-helper-tool-in-a-sandboxed-app)\r\n- [Sign the Application Package (macOS)](https://docs.oracle.com/en/java/javase/17/jpackage/support-application-features.html#GUID-8D9F0607-91F4-4070-8823-02FCAB12238D)\r\n\r\nMy understanding is that I have to:\r\n- sign my command line tool **mytool** with entitlements:\r\n\r\n```\r\n&lt;key&gt;com.apple.security.app-sandbox&lt;/key&gt;\r\n&lt;true/&gt;\r\n&lt;key&gt;com.apple.security.inherit&lt;/key&gt;\r\n&lt;true/&gt;\r\n```\r\n- place that tool inside the .app image and then sign the image\r\n\r\nTo achieve that I do:\r\n\r\n```\r\n/usr/bin/codesign --timestamp --options runtime \\\r\n-s &quot;3rd Party Mac Developer Application: Radoslaw Juszczyk (*********)&quot; \\\r\n-i com.rjuszczyk.myapp.mytool \\\r\n--entitlements mytool.plist \\\r\n-vvvv inputDir/mytool\r\n```\r\nto sign **mytool**, and then I place it in the **inputDir**\r\n\r\nThen I copy my **myapp.jar** to the same **inputDir** and execute:\r\n\r\n```\r\njpackage --name MyApp\r\n--input inputDir\r\n--mac-sign --mac-signing-key-user-name &quot;Radoslaw Juszczyk&quot;\r\n--mac-package-signing-prefix com.rjuszczyk.myapp.\r\n--mac-app-store\r\n--type pkg\r\n--mac-entitlements myapp.plist\r\n--main-jar myapp.jar\r\n```\r\n\r\nNow it creates **MyApp.pkg** successfully, which passes verification in the *Transporter.app*\r\n\r\nWhen I install it, it installs correctly, and the installed `.app` has this hierarchy:\r\n\r\n[![Contents of the .app][1]][1]\r\n\r\nWhen the execution hits `Runtime.exec` it crashes with the mentioned above error.\r\n\r\nI tried also to specify different launch mechanisms (posix_spawn, fork) in the jpackage tool :\r\n\r\n`--java-options &quot;-Djdk.lang.Process.launchMechanism=posix_spawn&quot;`\r\n\r\nbut no luck. My understanding of the problem is that somehow the process started with Runtime.exec does not start in the sandbox, and since **mytool** requires to be inside sandbox it fails to execute (I am not sure if it makes any sense).\r\n\r\n\r\n**My entitlement files for reference:**\r\n\r\nmyapp.plist:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;\r\n&lt;plist version=&quot;1.0&quot;&gt;\r\n&lt;dict&gt;\r\n    &lt;key&gt;com.apple.security.app-sandbox&lt;/key&gt;\r\n    &lt;true/&gt;\r\n    &lt;key&gt;com.apple.security.cs.allow-jit&lt;/key&gt;\r\n    &lt;true/&gt;\r\n    &lt;key&gt;com.apple.security.cs.allow-unsigned-executable-memory&lt;/key&gt;\r\n    &lt;true/&gt;\r\n    &lt;key&gt;com.apple.security.cs.disable-library-validation&lt;/key&gt;\r\n    &lt;true/&gt;\r\n    &lt;key&gt;com.apple.security.cs.allow-dyld-environment-variables&lt;/key&gt;\r\n    &lt;true/&gt;\r\n    &lt;key&gt;com.apple.security.cs.debugger&lt;/key&gt;\r\n    &lt;true/&gt;\r\n    &lt;key&gt;com.apple.security.device.audio-input&lt;/key&gt;\r\n    &lt;true/&gt;\r\n    &lt;!-- Add additional entitlements here, for example for network or hardware access. --&gt;\r\n&lt;/dict&gt;\r\n&lt;/plist&gt;\r\n```\r\nmytool.plist:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;\r\n&lt;plist version=&quot;1.0&quot;&gt;\r\n&lt;dict&gt;\r\n    &lt;key&gt;com.apple.security.app-sandbox&lt;/key&gt;\r\n    &lt;true/&gt;\r\n    &lt;key&gt;com.apple.security.inherit&lt;/key&gt;\r\n    &lt;true/&gt;\r\n&lt;/dict&gt;\r\n&lt;/plist&gt;\r\n```\r\n\r\nThis is the moment when I feel like I run out of options. The only thing which maybe is causing that (but I do not believe it matters) is the fact that I place my **mytool** under `Contents/app` instead of `Contents/MacOS` but I am not sure how make the `jpackage` tool to place it somewhere else.\r\n\r\nI hope there is someone who went through the same process and can point out what I am missing. Or point me to some docs describing how to do it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NFCbB.png","title":"Embedded command line tool called via Runtime.exec in a Java sandboxed app on MacOS results in signal 4","body":"<p><strong>Objective</strong></p>\n<p>I want to ship my java app <strong>myapp</strong> to macOS appstore, the app uses a command line tool <strong>mytool</strong> called with:</p>\n<p><code>Runtime.getRuntime().exec(arrayOf(&quot;mytool&quot;, &quot;argument&quot;)</code></p>\n<p><strong>Tools</strong></p>\n<ul>\n<li>Mac M1Pro with Ventura 13.1</li>\n<li>OpenJDK 18.0.2 (x64)</li>\n<li>Xcode 14.2</li>\n</ul>\n<p><strong>Problem</strong></p>\n<p>When I try to run it it crashes with the error:</p>\n<p><code>Cannot run program &quot;/Applications/MyApp.app/Contents/app/mytool&quot;: error=0, Failed to exec spawn helper: pid 64709, signal: 4</code></p>\n<p><strong>What I have done so far</strong></p>\n<p>After reading:</p>\n<ul>\n<li><a href=\"https://developer.apple.com/documentation/xcode/embedding-a-helper-tool-in-a-sandboxed-app\" rel=\"nofollow noreferrer\">Embedding a command-line tool in a sandboxed app</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/jpackage/support-application-features.html#GUID-8D9F0607-91F4-4070-8823-02FCAB12238D\" rel=\"nofollow noreferrer\">Sign the Application Package (macOS)</a></li>\n</ul>\n<p>My understanding is that I have to:</p>\n<ul>\n<li>sign my command line tool <strong>mytool</strong> with entitlements:</li>\n</ul>\n<pre><code>&lt;key&gt;com.apple.security.app-sandbox&lt;/key&gt;\n&lt;true/&gt;\n&lt;key&gt;com.apple.security.inherit&lt;/key&gt;\n&lt;true/&gt;\n</code></pre>\n<ul>\n<li>place that tool inside the .app image and then sign the image</li>\n</ul>\n<p>To achieve that I do:</p>\n<pre><code>/usr/bin/codesign --timestamp --options runtime \\\n-s &quot;3rd Party Mac Developer Application: Radoslaw Juszczyk (*********)&quot; \\\n-i com.rjuszczyk.myapp.mytool \\\n--entitlements mytool.plist \\\n-vvvv inputDir/mytool\n</code></pre>\n<p>to sign <strong>mytool</strong>, and then I place it in the <strong>inputDir</strong></p>\n<p>Then I copy my <strong>myapp.jar</strong> to the same <strong>inputDir</strong> and execute:</p>\n<pre><code>jpackage --name MyApp\n--input inputDir\n--mac-sign --mac-signing-key-user-name &quot;Radoslaw Juszczyk&quot;\n--mac-package-signing-prefix com.rjuszczyk.myapp.\n--mac-app-store\n--type pkg\n--mac-entitlements myapp.plist\n--main-jar myapp.jar\n</code></pre>\n<p>Now it creates <strong>MyApp.pkg</strong> successfully, which passes verification in the <em>Transporter.app</em></p>\n<p>When I install it, it installs correctly, and the installed <code>.app</code> has this hierarchy:</p>\n<p><a href=\"https://i.stack.imgur.com/NFCbB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NFCbB.png\" alt=\"Contents of the .app\" /></a></p>\n<p>When the execution hits <code>Runtime.exec</code> it crashes with the mentioned above error.</p>\n<p>I tried also to specify different launch mechanisms (posix_spawn, fork) in the jpackage tool :</p>\n<p><code>--java-options &quot;-Djdk.lang.Process.launchMechanism=posix_spawn&quot;</code></p>\n<p>but no luck. My understanding of the problem is that somehow the process started with Runtime.exec does not start in the sandbox, and since <strong>mytool</strong> requires to be inside sandbox it fails to execute (I am not sure if it makes any sense).</p>\n<p><strong>My entitlement files for reference:</strong></p>\n<p>myapp.plist:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;\n&lt;plist version=&quot;1.0&quot;&gt;\n&lt;dict&gt;\n    &lt;key&gt;com.apple.security.app-sandbox&lt;/key&gt;\n    &lt;true/&gt;\n    &lt;key&gt;com.apple.security.cs.allow-jit&lt;/key&gt;\n    &lt;true/&gt;\n    &lt;key&gt;com.apple.security.cs.allow-unsigned-executable-memory&lt;/key&gt;\n    &lt;true/&gt;\n    &lt;key&gt;com.apple.security.cs.disable-library-validation&lt;/key&gt;\n    &lt;true/&gt;\n    &lt;key&gt;com.apple.security.cs.allow-dyld-environment-variables&lt;/key&gt;\n    &lt;true/&gt;\n    &lt;key&gt;com.apple.security.cs.debugger&lt;/key&gt;\n    &lt;true/&gt;\n    &lt;key&gt;com.apple.security.device.audio-input&lt;/key&gt;\n    &lt;true/&gt;\n    &lt;!-- Add additional entitlements here, for example for network or hardware access. --&gt;\n&lt;/dict&gt;\n&lt;/plist&gt;\n</code></pre>\n<p>mytool.plist:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;\n&lt;plist version=&quot;1.0&quot;&gt;\n&lt;dict&gt;\n    &lt;key&gt;com.apple.security.app-sandbox&lt;/key&gt;\n    &lt;true/&gt;\n    &lt;key&gt;com.apple.security.inherit&lt;/key&gt;\n    &lt;true/&gt;\n&lt;/dict&gt;\n&lt;/plist&gt;\n</code></pre>\n<p>This is the moment when I feel like I run out of options. The only thing which maybe is causing that (but I do not believe it matters) is the fact that I place my <strong>mytool</strong> under <code>Contents/app</code> instead of <code>Contents/MacOS</code> but I am not sure how make the <code>jpackage</code> tool to place it somewhere else.</p>\n<p>I hope there is someone who went through the same process and can point out what I am missing. Or point me to some docs describing how to do it.</p>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":27715916,"reputation":35,"user_id":21157631,"display_name":"Destiel"},"score":0,"creation_date":1680674395,"post_id":75935988,"comment_id":133936040,"body_markdown":"Because I need it in jsonarray form where I am extracting the value","body":"Because I need it in jsonarray form where I am extracting the value"},{"owner":{"account_id":27715916,"reputation":35,"user_id":21157631,"display_name":"Destiel"},"score":0,"creation_date":1680674480,"post_id":75935988,"comment_id":133936055,"body_markdown":"@Harsh Like this JSONArray segmentsList = payloadObject.getJSONArray(&quot;segments&quot;);","body":"@Harsh Like this JSONArray segmentsList = payloadObject.getJSONArray(&quot;segments&quot;);"}],"answers":[{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680674796,"creation_date":1680674796,"answer_id":75936123,"question_id":75935988,"body_markdown":"In your code, you are overriding value of `seg`. So at second place you need to put DEMO2 in `obj`, not `seg`. Check the updated code below.\r\n\r\n \r\n\r\n    Map&lt;String, Object&gt; payload = objectMapper.convertValue(request.getPayload(), Map.class);\r\n         \r\n    JSONObject seg = new JSONObject();\r\n    seg.put(&quot;s_code&quot;, &quot;DEMO1&quot;);\r\n    seg.put(&quot;v_type&quot;, &quot;backend&quot;);\r\n          \r\n    JSONObject obj = new JSONObject();\r\n    obj.put(&quot;s_code&quot;, &quot;DEMO2&quot;); // Here is the change\r\n    obj.put(&quot;v_type&quot;, &quot;frontend&quot;); // Here is the change\r\n          \r\n    JSONArray segment = new JSONArray();\r\n    segment.add(seg);\r\n    segment.add(obj);\r\n          \r\n    payload.put(&quot;segments&quot;,segment);\r\n\r\n","title":"How to create correct JSONArray in java","body":"<p>In your code, you are overriding value of <code>seg</code>. So at second place you need to put DEMO2 in <code>obj</code>, not <code>seg</code>. Check the updated code below.</p>\n<pre><code>Map&lt;String, Object&gt; payload = objectMapper.convertValue(request.getPayload(), Map.class);\n     \nJSONObject seg = new JSONObject();\nseg.put(&quot;s_code&quot;, &quot;DEMO1&quot;);\nseg.put(&quot;v_type&quot;, &quot;backend&quot;);\n      \nJSONObject obj = new JSONObject();\nobj.put(&quot;s_code&quot;, &quot;DEMO2&quot;); // Here is the change\nobj.put(&quot;v_type&quot;, &quot;frontend&quot;); // Here is the change\n      \nJSONArray segment = new JSONArray();\nsegment.add(seg);\nsegment.add(obj);\n      \npayload.put(&quot;segments&quot;,segment);\n</code></pre>\n"}],"owner":{"account_id":27715916,"reputation":35,"user_id":21157631,"display_name":"Destiel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75936123,"answer_count":1,"score":0,"last_activity_date":1680675321,"creation_date":1680673353,"question_id":75935988,"body_markdown":"I am trying to create a JSONArray but There is only one json object in array is coming DEMO2 why DEMO1 is not getting fetched?\r\n\r\n```\r\n Map&lt;String, Object&gt; payload = objectMapper.convertValue(request.getPayload(), Map.class);\r\n\t \r\n JSONObject seg = new JSONObject();\r\n seg.put(&quot;s_code&quot;, &quot;DEMO1&quot;);\r\n seg.put(&quot;v_type&quot;, &quot;backend&quot;);\r\n      \r\n JSONObject obj = new JSONObject();\r\n seg.put(&quot;s_code&quot;, &quot;DEMO2&quot;);\r\n seg.put(&quot;v_type&quot;, &quot;frontend&quot;);\r\n      \r\n JSONArray segment = new JSONArray();\r\n segment.add(seg);\r\n segment.add(obj);\r\n      \r\n payload.put(&quot;segments&quot;,segment);\r\n\r\n```\r\n\r\nThere is only one json object in array DEMO2 why DEMO1 is not getting fetched? \r\nEdit:- Storing in jsonArray because need it that way I am extraction value like this \r\n\r\n    JSONArray segmentsList = payloadObject.getJSONArray(&quot;segments&quot;);\r\n\r\nAnd output coming like this because of empty {} brackets my code is failing\r\n```\r\n segments=[{v_type=frontend, s_code=LOC_DEMO_SEGMENT}, {}]\r\n```","title":"How to create correct JSONArray in java","body":"<p>I am trying to create a JSONArray but There is only one json object in array is coming DEMO2 why DEMO1 is not getting fetched?</p>\n<pre><code> Map&lt;String, Object&gt; payload = objectMapper.convertValue(request.getPayload(), Map.class);\n     \n JSONObject seg = new JSONObject();\n seg.put(&quot;s_code&quot;, &quot;DEMO1&quot;);\n seg.put(&quot;v_type&quot;, &quot;backend&quot;);\n      \n JSONObject obj = new JSONObject();\n seg.put(&quot;s_code&quot;, &quot;DEMO2&quot;);\n seg.put(&quot;v_type&quot;, &quot;frontend&quot;);\n      \n JSONArray segment = new JSONArray();\n segment.add(seg);\n segment.add(obj);\n      \n payload.put(&quot;segments&quot;,segment);\n\n</code></pre>\n<p>There is only one json object in array DEMO2 why DEMO1 is not getting fetched?\nEdit:- Storing in jsonArray because need it that way I am extraction value like this</p>\n<pre><code>JSONArray segmentsList = payloadObject.getJSONArray(&quot;segments&quot;);\n</code></pre>\n<p>And output coming like this because of empty {} brackets my code is failing</p>\n<pre><code> segments=[{v_type=frontend, s_code=LOC_DEMO_SEGMENT}, {}]\n</code></pre>\n"},{"tags":["java","windows","hadoop","mapreduce","word-count"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1679941679,"post_id":75858617,"comment_id":133808051,"body_markdown":"Sounds like your input file is empty... In any case, no one seriously writes MapReduce anymore... Your link is to a website about Spark, so why not use that instead?","body":"Sounds like your input file is empty... In any case, no one seriously writes MapReduce anymore... Your link is to a website about Spark, so why not use that instead?"},{"owner":{"account_id":28140326,"reputation":1,"user_id":21503489,"display_name":"Phong Nguyen"},"score":0,"creation_date":1680091418,"post_id":75858617,"comment_id":133837573,"body_markdown":"Thanks for answering my question. My input files aren&#39;t empty. I&#39;m a college student. My teacher gave me this. I&#39;m still new to this topic.","body":"Thanks for answering my question. My input files aren&#39;t empty. I&#39;m a college student. My teacher gave me this. I&#39;m still new to this topic."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680101319,"post_id":75858617,"comment_id":133840739,"body_markdown":"Then please share your input file and arguments to your main method so we can reproduce your problem","body":"Then please share your input file and arguments to your main method so we can reproduce your problem"},{"owner":{"account_id":28140326,"reputation":1,"user_id":21503489,"display_name":"Phong Nguyen"},"score":0,"creation_date":1680341484,"post_id":75858617,"comment_id":133884713,"body_markdown":"I aslo updated the problem I met before this problem. Is that exactly what you asked for?","body":"I aslo updated the problem I met before this problem. Is that exactly what you asked for?"}],"answers":[{"tags":[],"owner":{"account_id":28140326,"reputation":1,"user_id":21503489,"display_name":"Phong Nguyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680675311,"creation_date":1680533933,"answer_id":75920876,"question_id":75858617,"body_markdown":"After trying so many times\r\n\r\nThe problem is **your current user name having a space** \r\n\r\nYou can check by go to the path C:\\Users\r\n\r\nSo the solution is: \r\n1. Delete the output folder (if exist).\r\n2. Move the Eclipse&#39;s file location out of the C:\\Program Files.\r\n3. Create a new user (not having space in the user name): Start  &gt; Settings  &gt; Accounts  &gt; Family &amp; other users &gt; Add account.\r\n4. Change the new account type to administrator.\r\n5. Restart and Login with your new account.\r\n6. Retry running the MapReduce program.\r\n7. The problem will disappear.\r\n\r\nGood luck...","title":"Output of hadoop wordcount mapreduce example is empty on windows (hadoop run locally)","body":"<p>After trying so many times</p>\n<p>The problem is <strong>your current user name having a space</strong></p>\n<p>You can check by go to the path C:\\Users</p>\n<p>So the solution is:</p>\n<ol>\n<li>Delete the output folder (if exist).</li>\n<li>Move the Eclipse's file location out of the C:\\Program Files.</li>\n<li>Create a new user (not having space in the user name): Start  &gt; Settings  &gt; Accounts  &gt; Family &amp; other users &gt; Add account.</li>\n<li>Change the new account type to administrator.</li>\n<li>Restart and Login with your new account.</li>\n<li>Retry running the MapReduce program.</li>\n<li>The problem will disappear.</li>\n</ol>\n<p>Good luck...</p>\n"}],"owner":{"account_id":28140326,"reputation":1,"user_id":21503489,"display_name":"Phong Nguyen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75920876,"answer_count":1,"score":0,"last_activity_date":1680675311,"creation_date":1679937725,"question_id":75858617,"body_markdown":"Hi this is my first time ask a question on stackoverflow and my English is bad. \r\nI have google many times but still not find out the solution for my problem. \r\n\r\nMy problem is after running the mapreduce named wordcount by eclipse on windows. \r\nI have a folder: output\\wordcount but nothing in this folder\r\n(image behind): \r\n[Image of the output folder](https://i.stack.imgur.com/iApzs.png)\r\n\r\n\r\nThis is my WordCount.java \r\n```\r\npackage de.tud.stg;\r\n\r\nimport org.apache.hadoop.conf.Configuration;\r\nimport org.apache.hadoop.fs.Path;\r\nimport org.apache.hadoop.io.IntWritable;\r\nimport org.apache.hadoop.io.Text;\r\nimport org.apache.hadoop.mapreduce.Job;\r\nimport org.apache.hadoop.mapreduce.Mapper;\r\nimport org.apache.hadoop.mapreduce.Reducer;\r\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\r\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\r\nimport org.apache.log4j.BasicConfigurator;\r\n\r\nimport java.io.IOException;\r\nimport java.util.StringTokenizer;\r\n\r\npublic class WordCount {\r\n\r\n\tpublic static class WordMapper extends Mapper&lt;Object, Text, Text, IntWritable&gt; {\r\n\t\tprivate final static IntWritable one = new IntWritable(1);\r\n\t\tprivate Text word = new Text();\r\n\r\n\t\t@Override\r\n\t\tprotected void map(Object key, Text value, Context context) throws IOException, InterruptedException {\r\n\t\t\tStringTokenizer tokenizer = new StringTokenizer(value.toString());\r\n\t\t\twhile (tokenizer.hasMoreTokens()) {\r\n\t\t\t\tword.set(tokenizer.nextToken());\r\n\t\t\t\tcontext.write(word, one);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static class IntSumReducer extends Reducer&lt;Text, IntWritable, Text, IntWritable&gt; {\r\n\t\tprivate IntWritable result = new IntWritable();\r\n\r\n\t\t@Override\r\n\t\tprotected void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context context)\r\n\t\t\t\tthrows IOException, InterruptedException {\r\n\t\t\tint sum = 0;\r\n\t\t\tfor (IntWritable val : values) {\r\n\t\t\t\tsum += val.get();\r\n\t\t\t}\r\n\t\t\tresult.set(sum);\r\n\t\t\tcontext.write(key, result);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\r\n\t\tConfiguration conf = new Configuration();\r\n\t\tJob job = Job.getInstance(conf, &quot;WordCount&quot;);\r\n\t\tjob.setJarByClass(WordCount.class);\r\n\t\tjob.setMapperClass(WordMapper.class);\r\n\t\tjob.setReducerClass(IntSumReducer.class);\r\n\t\tjob.setOutputKeyClass(Text.class);\r\n\t\tjob.setOutputValueClass(IntWritable.class);\r\n\r\n\t\tFileInputFormat.addInputPath(job, new Path(args[0]));\r\n\t\tFileOutputFormat.setOutputPath(job, new Path(args[1]));\r\n\t\tSystem.exit(job.waitForCompletion(true)? 0 : 1);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThis is my pom.xml file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;de.tud.stg&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hadoop&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-mapreduce-client-common&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n\r\n*Update\r\n\r\nBefore that I have an error. I solved the problem by solution in link: \r\n[firt problem][1]\r\n[first problem solution][2]\r\n\r\nI also met another problem and solved by this:\r\n[second problem][3]\r\n[second problem solution][4]\r\n\r\nThen I have this problem.\r\nI think the problem come from:\r\njob.waitForCompletion(true) return false value\r\n\r\nI really appreciate your help\r\n\r\n*Update my input files:\r\n\r\n[file01][5]\r\n\r\n[file02][6]\r\n\r\n*Update my input, output arguments:\r\n\r\n[enter image description here][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PI2WQ.png\r\n  [2]: https://stackoverflow.com/questions/27201505/hadoop-exception-in-thread-main-java-lang-nullpointerexception\r\n  [3]: https://i.stack.imgur.com/DeDX4.png\r\n  [4]: https://stackoverflow.com/questions/41851066/exception-in-thread-main-java-lang-unsatisfiedlinkerror-org-apache-hadoop-io\r\n  [5]: https://i.stack.imgur.com/98IUf.png\r\n  [6]: https://i.stack.imgur.com/Mf0nb.png\r\n  [7]: https://i.stack.imgur.com/e61AS.png","title":"Output of hadoop wordcount mapreduce example is empty on windows (hadoop run locally)","body":"<p>Hi this is my first time ask a question on stackoverflow and my English is bad.\nI have google many times but still not find out the solution for my problem.</p>\n<p>My problem is after running the mapreduce named wordcount by eclipse on windows.\nI have a folder: output\\wordcount but nothing in this folder\n(image behind):\n<a href=\"https://i.stack.imgur.com/iApzs.png\" rel=\"nofollow noreferrer\">Image of the output folder</a></p>\n<p>This is my WordCount.java</p>\n<pre><code>package de.tud.stg;\n\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Job;\nimport org.apache.hadoop.mapreduce.Mapper;\nimport org.apache.hadoop.mapreduce.Reducer;\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\nimport org.apache.log4j.BasicConfigurator;\n\nimport java.io.IOException;\nimport java.util.StringTokenizer;\n\npublic class WordCount {\n\n    public static class WordMapper extends Mapper&lt;Object, Text, Text, IntWritable&gt; {\n        private final static IntWritable one = new IntWritable(1);\n        private Text word = new Text();\n\n        @Override\n        protected void map(Object key, Text value, Context context) throws IOException, InterruptedException {\n            StringTokenizer tokenizer = new StringTokenizer(value.toString());\n            while (tokenizer.hasMoreTokens()) {\n                word.set(tokenizer.nextToken());\n                context.write(word, one);\n            }\n        }\n    }\n\n    public static class IntSumReducer extends Reducer&lt;Text, IntWritable, Text, IntWritable&gt; {\n        private IntWritable result = new IntWritable();\n\n        @Override\n        protected void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context context)\n                throws IOException, InterruptedException {\n            int sum = 0;\n            for (IntWritable val : values) {\n                sum += val.get();\n            }\n            result.set(sum);\n            context.write(key, result);\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n\n        Configuration conf = new Configuration();\n        Job job = Job.getInstance(conf, &quot;WordCount&quot;);\n        job.setJarByClass(WordCount.class);\n        job.setMapperClass(WordMapper.class);\n        job.setReducerClass(IntSumReducer.class);\n        job.setOutputKeyClass(Text.class);\n        job.setOutputValueClass(IntWritable.class);\n\n        FileInputFormat.addInputPath(job, new Path(args[0]));\n        FileOutputFormat.setOutputPath(job, new Path(args[1]));\n        System.exit(job.waitForCompletion(true)? 0 : 1);\n    }\n}\n\n</code></pre>\n<p>This is my pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;de.tud.stg&lt;/groupId&gt;\n    &lt;artifactId&gt;hadoop&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\n            &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-mapreduce-client-common&lt;/artifactId&gt;\n            &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>*Update</p>\n<p>Before that I have an error. I solved the problem by solution in link:\n<a href=\"https://i.stack.imgur.com/PI2WQ.png\" rel=\"nofollow noreferrer\">firt problem</a>\n<a href=\"https://stackoverflow.com/questions/27201505/hadoop-exception-in-thread-main-java-lang-nullpointerexception\">first problem solution</a></p>\n<p>I also met another problem and solved by this:\n<a href=\"https://i.stack.imgur.com/DeDX4.png\" rel=\"nofollow noreferrer\">second problem</a>\n<a href=\"https://stackoverflow.com/questions/41851066/exception-in-thread-main-java-lang-unsatisfiedlinkerror-org-apache-hadoop-io\">second problem solution</a></p>\n<p>Then I have this problem.\nI think the problem come from:\njob.waitForCompletion(true) return false value</p>\n<p>I really appreciate your help</p>\n<p>*Update my input files:</p>\n<p><a href=\"https://i.stack.imgur.com/98IUf.png\" rel=\"nofollow noreferrer\">file01</a></p>\n<p><a href=\"https://i.stack.imgur.com/Mf0nb.png\" rel=\"nofollow noreferrer\">file02</a></p>\n<p>*Update my input, output arguments:</p>\n<p><a href=\"https://i.stack.imgur.com/e61AS.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","listview","android-recyclerview","slidingpanelayout"],"answers":[{"tags":[],"owner":{"account_id":1074734,"reputation":25279,"user_id":1073131,"accept_rate":67,"display_name":"Shai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680675275,"creation_date":1430918698,"answer_id":30078162,"question_id":30077852,"body_markdown":"The solution:\r\n\r\nPrevent the RecyclerView from intercepting touch events given the following condition:\r\n\r\n10% &lt; sliding pane offset &lt; 90%\r\n\r\ni.e\r\n\r\n    ViewParent parent = ...; // Should be the RecyclerView\r\n    parent.requestDisallowInterceptTouchEvent(slideOffset &gt; 0.1 &amp;&amp; slideOffset &lt; 0.9)\r\n\r\n","title":"SlidingPaneLayout items in RecyclerView","body":"<p>The solution:</p>\n<p>Prevent the RecyclerView from intercepting touch events given the following condition:</p>\n<p>10% &lt; sliding pane offset &lt; 90%</p>\n<p>i.e</p>\n<pre><code>ViewParent parent = ...; // Should be the RecyclerView\nparent.requestDisallowInterceptTouchEvent(slideOffset &gt; 0.1 &amp;&amp; slideOffset &lt; 0.9)\n</code></pre>\n"}],"owner":{"account_id":1074734,"reputation":25279,"user_id":1073131,"accept_rate":67,"display_name":"Shai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1017,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30078162,"answer_count":1,"score":1,"last_activity_date":1680675275,"creation_date":1430917985,"question_id":30077852,"body_markdown":"I&#39;m populating a `RecyclerView` with several `SlidingPaneLayout` items, as to achieve a &#39;swipe to delete&#39; functionality (basically, dragging an item to the right reveals a DELETE button)\r\n\r\nProblem:\r\nWhen I drag an item to the right, it seems like the `RecyclerView` also intercepts my touches, and if my drag is somewhat diagonal (or not too horizontal) - the `RecyclerView` starts scrolling and the `SlidingPaneLayout` cancels the closing/opening of the pane\r\n\r\nI&#39;ve tried adding a touch listener to each `SlidingPaneLayout` that prevents the RecyclerView from intercepting the touches once `ACTION_DOWN` is performed on the `SlidingPaneLayout`, but that&#39;s not good as it blocks scrolling right away\r\n\r\nideas?","title":"SlidingPaneLayout items in RecyclerView","body":"<p>I'm populating a <code>RecyclerView</code> with several <code>SlidingPaneLayout</code> items, as to achieve a 'swipe to delete' functionality (basically, dragging an item to the right reveals a DELETE button)</p>\n\n<p>Problem:\nWhen I drag an item to the right, it seems like the <code>RecyclerView</code> also intercepts my touches, and if my drag is somewhat diagonal (or not too horizontal) - the <code>RecyclerView</code> starts scrolling and the <code>SlidingPaneLayout</code> cancels the closing/opening of the pane</p>\n\n<p>I've tried adding a touch listener to each <code>SlidingPaneLayout</code> that prevents the RecyclerView from intercepting the touches once <code>ACTION_DOWN</code> is performed on the <code>SlidingPaneLayout</code>, but that's not good as it blocks scrolling right away</p>\n\n<p>ideas?</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":15769010,"reputation":59,"user_id":11378568,"display_name":"JAK"},"score":0,"creation_date":1680671616,"post_id":75935802,"comment_id":133935590,"body_markdown":"Thanks for the reply,It works..But for names less than 5 chars stars should be number of chars..For Example &lt;Name1&gt;Joe&lt;/Name1&gt; -- &gt; &lt;Name1&gt;***&lt;/Name1&gt;","body":"Thanks for the reply,It works..But for names less than 5 chars stars should be number of chars..For Example &lt;Name1&gt;Joe&lt;/Name1&gt; -- &gt; &lt;Name1&gt;***&lt;/Name1&gt;"},{"owner":{"account_id":7743874,"reputation":338,"user_id":5862485,"display_name":"Sharofiddin"},"score":0,"creation_date":1680674736,"post_id":75935802,"comment_id":133936106,"body_markdown":"I have added code according to your request. Can you check it?","body":"I have added code according to your request. Can you check it?"},{"owner":{"account_id":15769010,"reputation":59,"user_id":11378568,"display_name":"JAK"},"score":0,"creation_date":1680682826,"post_id":75935802,"comment_id":133937795,"body_markdown":"Wanted to handle in Regex itself..","body":"Wanted to handle in Regex itself.."}],"tags":[],"owner":{"account_id":7743874,"reputation":338,"user_id":5862485,"display_name":"Sharofiddin"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680674666,"creation_date":1680671052,"answer_id":75935802,"question_id":75935675,"body_markdown":"Try this:\r\n```java\r\n   System.out.println(s.replaceAll(&quot;&lt;Name1&gt;(.{1,5})(.*)&lt;/Name1&gt;&quot;, &quot;&lt;Name1&gt;*****$2&lt;/Name1&gt;&quot;));\r\n```\r\nMore explanation [here][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/BaKlFf/1\r\n**Edit**  here is code to track count of masked characters:\r\n```java\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class RegexXmlRplc {\r\n\tprivate static Pattern pattern = Pattern.compile(&quot;&lt;Name1&gt;(.{1,5})(.*)&lt;/Name1&gt;&quot;);\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString s = &quot;&lt;Name1&gt;joe&lt;/Name1&gt;&quot;;\r\n\t\tmask(s);\r\n\t\ts = &quot;&lt;Name1&gt;Edward Smith&lt;/Name1&gt;&quot;;\r\n\t\tmask(s);\r\n\r\n\t}\r\n\r\n\tprivate static void mask(String s) {\r\n\t\tMatcher matcher = pattern.matcher(s);\r\n\t\tif (matcher.find()) {\r\n\t\t\tint length = matcher.group(1).length();\r\n\t\t\tString replacement = &quot;&lt;Name1&gt;&quot; + &quot;*&quot;.repeat(length) + &quot;$2&lt;/Name1&gt;&quot;;\r\n\t\t\tSystem.out.println(matcher.replaceAll(replacement));\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;No match&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Mask xml tags value using regex","body":"<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   System.out.println(s.replaceAll(&quot;&lt;Name1&gt;(.{1,5})(.*)&lt;/Name1&gt;&quot;, &quot;&lt;Name1&gt;*****$2&lt;/Name1&gt;&quot;));\n</code></pre>\n<p>More explanation <a href=\"https://regex101.com/r/BaKlFf/1\" rel=\"nofollow noreferrer\">here</a></p>\n<p><strong>Edit</strong>  here is code to track count of masked characters:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class RegexXmlRplc {\n    private static Pattern pattern = Pattern.compile(&quot;&lt;Name1&gt;(.{1,5})(.*)&lt;/Name1&gt;&quot;);\n\n    public static void main(String[] args) {\n        String s = &quot;&lt;Name1&gt;joe&lt;/Name1&gt;&quot;;\n        mask(s);\n        s = &quot;&lt;Name1&gt;Edward Smith&lt;/Name1&gt;&quot;;\n        mask(s);\n\n    }\n\n    private static void mask(String s) {\n        Matcher matcher = pattern.matcher(s);\n        if (matcher.find()) {\n            int length = matcher.group(1).length();\n            String replacement = &quot;&lt;Name1&gt;&quot; + &quot;*&quot;.repeat(length) + &quot;$2&lt;/Name1&gt;&quot;;\n            System.out.println(matcher.replaceAll(replacement));\n        } else {\n            System.out.println(&quot;No match&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15769010,"reputation":59,"user_id":11378568,"display_name":"JAK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680674666,"creation_date":1680669355,"question_id":75935675,"body_markdown":"Input -\r\n\r\n    String s = &quot;&lt;Name1&gt;Edward Smith&lt;/Name1&gt;&quot;;\r\n\r\nTried following things to mask values within using\r\n\r\n    System.out.println(s.replaceAll(&quot;&lt;Name1&gt;(.{5})(?:.+?)&lt;/Name1&gt;&quot;, &quot;&lt;Name1&gt;*****$1&lt;/Name1&gt;&quot;));\r\n\r\nBut above code masks as following\r\n\r\n    &lt;Name1&gt;*****Edwar&lt;/Name1&gt;\r\n\r\nExpected Output:\r\n\r\n    &lt;Name1&gt;*****d Smith&lt;/Name1&gt;\r\n\r\nJust want to mask first five characters and remaining string should be as is.\r\n\r\nFor less than or equal to five chars the output should be Number of chars masked..\r\n\r\n    &lt;Name1&gt;*****&lt;/Name1&gt;\r\n\r\nAny help will be appreciated, Thanks in advance..","title":"Mask xml tags value using regex","body":"<p>Input -</p>\n<pre><code>String s = &quot;&lt;Name1&gt;Edward Smith&lt;/Name1&gt;&quot;;\n</code></pre>\n<p>Tried following things to mask values within using</p>\n<pre><code>System.out.println(s.replaceAll(&quot;&lt;Name1&gt;(.{5})(?:.+?)&lt;/Name1&gt;&quot;, &quot;&lt;Name1&gt;*****$1&lt;/Name1&gt;&quot;));\n</code></pre>\n<p>But above code masks as following</p>\n<pre><code>&lt;Name1&gt;*****Edwar&lt;/Name1&gt;\n</code></pre>\n<p>Expected Output:</p>\n<pre><code>&lt;Name1&gt;*****d Smith&lt;/Name1&gt;\n</code></pre>\n<p>Just want to mask first five characters and remaining string should be as is.</p>\n<p>For less than or equal to five chars the output should be Number of chars masked..</p>\n<pre><code>&lt;Name1&gt;*****&lt;/Name1&gt;\n</code></pre>\n<p>Any help will be appreciated, Thanks in advance..</p>\n"},{"tags":["java","c++","c","java-native-interface"],"comments":[{"owner":{"account_id":15628,"reputation":244161,"user_id":33213,"accept_rate":76,"display_name":"jalf"},"score":1,"creation_date":1243871810,"post_id":935379,"comment_id":743551,"body_markdown":"What&#39;s wrong with the above? It looks like valid C++ code to me.","body":"What&#39;s wrong with the above? It looks like valid C++ code to me."},{"owner":{"account_id":27671,"reputation":15568,"user_id":73274,"accept_rate":100,"display_name":"Paul Morie"},"score":1,"creation_date":1243891735,"post_id":935379,"comment_id":744972,"body_markdown":"Upvoted because of the well-constructed example.  Nicely put.","body":"Upvoted because of the well-constructed example.  Nicely put."},{"owner":{"account_id":277308,"reputation":2461,"user_id":571227,"accept_rate":78,"display_name":"haxpor"},"score":0,"creation_date":1539187832,"post_id":935379,"comment_id":92413587,"body_markdown":"Thank you for example on C in which I&#39;m searching for. For C++, you can take a look at this example (although in SDL2) but will convey the usage https://wiki.libsdl.org/SDL_AndroidGetActivity?highlight=%28%5CbCategoryAPI%5Cb%29%7C%28SDLFunctionTemplate%29.","body":"Thank you for example on C in which I&#39;m searching for. For C++, you can take a look at this example (although in SDL2) but will convey the usage <a href=\"https://wiki.libsdl.org/SDL_AndroidGetActivity?highlight=%28%5CbCategoryAPI%5Cb%29%7C%28SDLFunctionTemplate%29\" rel=\"nofollow noreferrer\">wiki.libsdl.org/&hellip;</a>."}],"answers":[{"comments":[{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1243874411,"post_id":935623,"comment_id":743727,"body_markdown":"I think that&#39;s probably the issue. JNI expects C code, so he&#39;s probably getting linking errors.","body":"I think that&#39;s probably the issue. JNI expects C code, so he&#39;s probably getting linking errors."},{"owner":{"account_id":8722,"reputation":10944,"user_id":15852,"accept_rate":94,"display_name":"Kieveli"},"score":0,"creation_date":1243881854,"post_id":935623,"comment_id":744235,"body_markdown":"Yarp. Names are probably getting mangled in the C++ compiler. Add the extern C { &lt;your code&gt; }.","body":"Yarp. Names are probably getting mangled in the C++ compiler. Add the extern C { &lt;your code&gt; }."},{"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"score":0,"creation_date":1618329269,"post_id":935623,"comment_id":118566657,"body_markdown":"Why would you want to wrap C++ code as C and use the ugly C syntax when you can use the more concise C++ syntax directly?","body":"Why would you want to wrap C++ code as C and use the ugly C syntax when you can use the more concise C++ syntax directly?"},{"owner":{"account_id":9777,"reputation":25608,"user_id":18192,"accept_rate":79,"display_name":"Brian"},"score":0,"creation_date":1618329925,"post_id":935623,"comment_id":118566923,"body_markdown":"@rustyx: When porting code, one can choose to do a semantic port (retain semantics, but use language specific features and constructs) or a line-by-line port (change as little code as possible, mostly line-by-line rather than holistically).  A semantic port is easier to maintain and use.  A line-by-line port is easier to do and makes it easier to leverage any existing knowledge-base associated with the original code.  Mind you, a line-by-line port may introduce weird bugs if trying to port a construct to a language that doesn&#39;t really support it.","body":"@rustyx: When porting code, one can choose to do a semantic port (retain semantics, but use language specific features and constructs) or a line-by-line port (change as little code as possible, mostly line-by-line rather than holistically).  A semantic port is easier to maintain and use.  A line-by-line port is easier to do and makes it easier to leverage any existing knowledge-base associated with the original code.  Mind you, a line-by-line port may introduce weird bugs if trying to port a construct to a language that doesn&#39;t really support it."},{"owner":{"account_id":9777,"reputation":25608,"user_id":18192,"accept_rate":79,"display_name":"Brian"},"score":0,"creation_date":1618330162,"post_id":935623,"comment_id":118567035,"body_markdown":"I&#39;ll also note that a line-by-line port, if it&#39;s obnoxiously easy (as was the case here), is a great way to offer a prototype to verify that the library being ported will be usable after it is ported.","body":"I&#39;ll also note that a line-by-line port, if it&#39;s obnoxiously easy (as was the case here), is a great way to offer a prototype to verify that the library being ported will be usable after it is ported."}],"tags":[],"owner":{"account_id":9777,"reputation":25608,"user_id":18192,"accept_rate":79,"display_name":"Brian"},"comment_count":5,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1243874171,"creation_date":1243874171,"answer_id":935623,"question_id":935379,"body_markdown":"Have you tried wrapping your C code in an `extern &quot;C&quot;`.  See &lt;a href=&quot;http://www.parashift.com/c++-faq-lite/mixing-c-and-cpp.html&quot;&gt;C++ Faq Lite&lt;/a&gt; for more information, and for other possible mechanisms to let you use your C code with C++.","title":"JNI Calls different in C vs C++?","body":"<p>Have you tried wrapping your C code in an <code>extern \"C\"</code>.  See <a href=\"http://www.parashift.com/c++-faq-lite/mixing-c-and-cpp.html\" rel=\"noreferrer\">C++ Faq Lite</a> for more information, and for other possible mechanisms to let you use your C code with C++.</p>\n"},{"comments":[{"owner":{"account_id":5807,"reputation":392471,"user_id":9530,"accept_rate":78,"display_name":"Adam Rosenfield"},"score":3,"creation_date":1243878402,"post_id":935876,"comment_id":743967,"body_markdown":"x-&gt;y is shorthand for (*x).y.  Therefore, (*env)-&gt;y is equivalent to (**env).y, which is different from (*env).y: there is an extra dereference occurring.","body":"x-&gt;y is shorthand for (*x).y.  Therefore, (*env)-&gt;y is equivalent to (**env).y, which is different from (*env).y: there is an extra dereference occurring."},{"owner":{"account_id":9624,"reputation":6826,"user_id":17867,"display_name":"michael aubert"},"score":1,"creation_date":1243881210,"post_id":935876,"comment_id":744181,"body_markdown":"The dereference syntax, I actually knew. Let me be more clear: I&#39;m just far from convinced the C++ version of JNIEnv actually requires the double dereferencing.","body":"The dereference syntax, I actually knew. Let me be more clear: I&#39;m just far from convinced the C++ version of JNIEnv actually requires the double dereferencing."},{"owner":{"account_id":5203808,"reputation":632,"user_id":4179032,"display_name":"Leponzo"},"score":0,"creation_date":1618341221,"post_id":935876,"comment_id":118571757,"body_markdown":"@michaelaubert See https://stackoverflow.com/questions/67077815/passing-env-as-first-argument-of-jni-functions?noredirect=1#comment118571626_67077815.","body":"@michaelaubert See <a href=\"https://stackoverflow.com/questions/67077815/passing-env-as-first-argument-of-jni-functions?noredirect=1#comment118571626_67077815\" title=\"passing env as first argument of jni functions\">stackoverflow.com/questions/67077815/&hellip;</a>."}],"tags":[],"owner":{"account_id":9624,"reputation":6826,"user_id":17867,"display_name":"michael aubert"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1243878100,"creation_date":1243878100,"answer_id":935876,"question_id":935379,"body_markdown":"It&#39;s been a while since I touched standard C++ but I&#39;m gonna try it anyway.\r\n\r\n&quot;&lt;code&gt;(*env)-&gt;&lt;/code&gt;&quot; looks weird to me. Shouldn&#39;t that simply be &quot;&lt;code&gt;env-&gt;&lt;/code&gt;&quot; ?\r\n\r\nMaybe I&#39;m wrong and it is supposed to work, but why make things more complicated anyways?","title":"JNI Calls different in C vs C++?","body":"<p>It's been a while since I touched standard C++ but I'm gonna try it anyway.</p>\n\n<p>\"<code>(*env)-></code>\" looks weird to me. Shouldn't that simply be \"<code>env-></code>\" ?</p>\n\n<p>Maybe I'm wrong and it is supposed to work, but why make things more complicated anyways?</p>\n"},{"comments":[{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1243881902,"post_id":936148,"comment_id":744243,"body_markdown":"So JNI can actually handle both C and C++? I didn&#39;t know that (but maybe that&#39;s not surprising, since I&#39;ve never used JNI :p).","body":"So JNI can actually handle both C and C++? I didn&#39;t know that (but maybe that&#39;s not surprising, since I&#39;ve never used JNI :p)."},{"owner":{"account_id":2699,"reputation":18897,"user_id":3788,"accept_rate":68,"display_name":"poundifdef"},"score":0,"creation_date":1243882453,"post_id":936148,"comment_id":744287,"body_markdown":"(haha, ty for fixing my markdown!)\n\nYep; the interface behaves the same way - the C vs C++ code is /basically/ isomorphic, and in practice the only difference is syntax.","body":"(haha, ty for fixing my markdown!)  Yep; the interface behaves the same way - the C vs C++ code is /basically/ isomorphic, and in practice the only difference is syntax."}],"tags":[],"owner":{"account_id":2699,"reputation":18897,"user_id":3788,"accept_rate":68,"display_name":"poundifdef"},"comment_count":2,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1680673134,"creation_date":1243881680,"answer_id":936148,"question_id":935379,"body_markdown":"I used to have the book [Essential JNI][1]. And while it is kinda dated (1998), much of it still works today.\r\n\r\nIf I recall correctly, in C, Java constructs are simply pointers. Thus, in your code, `(*env)-&gt;` is dereferencing pointers to give you access to the underlying methods.\r\n\r\nFor C++, `env` is actually an object ‚Äì a different entity than a C pointer. (And JNI can actually provide real objects for your C++ code to manipulate, since C++ actually supports objects.) So `env-&gt;` has a different meaning in C++, it means &quot;call the method that is contained in the object pointed to by `env`.\r\n\r\nThe other difference, I believe, is that many of the C-JNI functions require that one of your parameters be the `JNIEnv *env`. So in C you might have to say `(*env)-&gt;foo(env, bar)`. With C++, the second reference to `env` is not necessary, so you can instead say `env-&gt;foo(bar)`.\r\n\r\nUnfortunately, I don&#39;t have the above book in front of me, so I can&#39;t quite confirm this! But I think investigating those two things (specifically looking for them on Google or in other JNI code) will get you pretty far.\r\n\r\n  [1]: http://www.amazon.com/Essential-Jni-Java-Native-Interface/dp/0136798950","title":"JNI Calls different in C vs C++?","body":"<p>I used to have the book <a href=\"https://rads.stackoverflow.com/amzn/click/com/0136798950\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Essential JNI</a>. And while it is kinda dated (1998), much of it still works today.</p>\n<p>If I recall correctly, in C, Java constructs are simply pointers. Thus, in your code, <code>(*env)-&gt;</code> is dereferencing pointers to give you access to the underlying methods.</p>\n<p>For C++, <code>env</code> is actually an object ‚Äì a different entity than a C pointer. (And JNI can actually provide real objects for your C++ code to manipulate, since C++ actually supports objects.) So <code>env-&gt;</code> has a different meaning in C++, it means &quot;call the method that is contained in the object pointed to by <code>env</code>.</p>\n<p>The other difference, I believe, is that many of the C-JNI functions require that one of your parameters be the <code>JNIEnv *env</code>. So in C you might have to say <code>(*env)-&gt;foo(env, bar)</code>. With C++, the second reference to <code>env</code> is not necessary, so you can instead say <code>env-&gt;foo(bar)</code>.</p>\n<p>Unfortunately, I don't have the above book in front of me, so I can't quite confirm this! But I think investigating those two things (specifically looking for them on Google or in other JNI code) will get you pretty far.</p>\n"},{"tags":[],"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1328096197,"creation_date":1328096197,"answer_id":9095100,"question_id":935379,"body_markdown":"The main difference between JNI calls in C and CPP is this:\r\n\r\nC-style JNI looks like\r\n(*env)-&gt;SomeJNICall(env, param1 ...)\r\n\r\nC++ style JNI looks like\r\nenv-&gt;SomeJNICall(param1 ...)\r\n\r\n\r\nso to convert it to CPP you need to do\r\n\r\n    Java_InstanceMethodCall_nativeMethod(JNIEnv *env, jobject obj)\r\n    {\r\n        jclass cls = env-&gt;GetObjectClass(obj);\r\n        jmethodID mid = env-&gt;GetMethodID(cls, &quot;callback&quot;, &quot;()V&quot;);\r\n        if (mid == NULL) {\r\n            return; /* method not found */\r\n    }\r\n    printf(&quot;In C++\\n&quot;);\r\n    env-&gt;CallVoidMethod(obj, mid);\r\n    //rest of your code\r\n\r\n\r\nAlso, make sure that your JNI functions follow the naming convention.\r\n\r\nExample:\r\n\r\n    JNIEXPORT jint JNICALL Java_com_shark_JNITestLib_JNITestLib_startServer(JNIEnv* env, jobject o, jstring inputName, jstring streamName, jstring description) {\r\n\r\nYou can see that the convention is\r\nJava_(package name) _ (classname) _ (methodname)\r\n\r\nsince the one above was used in a class like\r\n\r\n    package com.shark.JNITestLib\r\n\r\n    import java.util.stuff;\r\n\r\n    public class JNITestLib \r\n    {\r\n        static\r\n        {\r\n\t        System.loadLibrary(&quot;myJNIlib&quot;);\r\n        }\r\n\r\n        public native synchronized int startServer(String inputName, String streamName, String description);\r\n        \r\n    //more class stuff...\r\n    }\r\n\r\nWhen working with JNI i made it a convention to name the class containing JNI calls to be the same name as the package. Thats why you see JNITestLib twice (and thats why my JNI works right off the bat because I always forget how to properly name the JNI calls)\r\n\r\nCheers, hope I helped :)","title":"JNI Calls different in C vs C++?","body":"<p>The main difference between JNI calls in C and CPP is this:</p>\n\n<p>C-style JNI looks like\n(*env)->SomeJNICall(env, param1 ...)</p>\n\n<p>C++ style JNI looks like\nenv->SomeJNICall(param1 ...)</p>\n\n<p>so to convert it to CPP you need to do</p>\n\n<pre><code>Java_InstanceMethodCall_nativeMethod(JNIEnv *env, jobject obj)\n{\n    jclass cls = env-&gt;GetObjectClass(obj);\n    jmethodID mid = env-&gt;GetMethodID(cls, \"callback\", \"()V\");\n    if (mid == NULL) {\n        return; /* method not found */\n}\nprintf(\"In C++\\n\");\nenv-&gt;CallVoidMethod(obj, mid);\n//rest of your code\n</code></pre>\n\n<p>Also, make sure that your JNI functions follow the naming convention.</p>\n\n<p>Example:</p>\n\n<pre><code>JNIEXPORT jint JNICALL Java_com_shark_JNITestLib_JNITestLib_startServer(JNIEnv* env, jobject o, jstring inputName, jstring streamName, jstring description) {\n</code></pre>\n\n<p>You can see that the convention is\nJava_(package name) _ (classname) _ (methodname)</p>\n\n<p>since the one above was used in a class like</p>\n\n<pre><code>package com.shark.JNITestLib\n\nimport java.util.stuff;\n\npublic class JNITestLib \n{\n    static\n    {\n        System.loadLibrary(\"myJNIlib\");\n    }\n\n    public native synchronized int startServer(String inputName, String streamName, String description);\n\n//more class stuff...\n}\n</code></pre>\n\n<p>When working with JNI i made it a convention to name the class containing JNI calls to be the same name as the package. Thats why you see JNITestLib twice (and thats why my JNI works right off the bat because I always forget how to properly name the JNI calls)</p>\n\n<p>Cheers, hope I helped :)</p>\n"}],"owner":{"account_id":36779,"reputation":11479,"user_id":104998,"accept_rate":91,"display_name":"Petey B"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16370,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":936148,"answer_count":4,"score":32,"last_activity_date":1680673134,"creation_date":1243870961,"question_id":935379,"body_markdown":"So i have the following code in C that utilizes Java Native Interface however i would like to convert this to C++ but am not sure how.\r\n\r\n     #include &lt;jni.h&gt;\r\n     #include &lt;stdio.h&gt;\r\n     #include &quot;InstanceMethodCall.h&quot;\r\n     \r\n     JNIEXPORT void JNICALL \r\n     Java_InstanceMethodCall_nativeMethod(JNIEnv *env, jobject obj)\r\n     {\r\n         jclass cls = (*env)-&gt;GetObjectClass(env, obj);\r\n         jmethodID mid = (*env)-&gt;GetMethodID(env, cls, &quot;callback&quot;, &quot;()V&quot;);\r\n         if (mid == NULL) {\r\n             return; /* method not found */\r\n         }\r\n         printf(&quot;In C\\n&quot;);\r\n         (*env)-&gt;CallVoidMethod(env, obj, mid);\r\n     }\r\n\r\n\r\nJava Program:\r\n\r\n     class InstanceMethodCall {\r\n         private native void nativeMethod();\r\n         private void callback() {\r\n             System.out.println(&quot;In Java&quot;);\r\n         }\r\n         public static void main(String args[]) {\r\n             InstanceMethodCall c = new InstanceMethodCall();\r\n             c.nativeMethod();\r\n         }\r\n         static {\r\n             System.loadLibrary(&quot;InstanceMethodCall&quot;);\r\n         }\r\n     }\r\n\r\nWhat are the differences in which JNI interacts with C and C++? Any help is greatly appreciated.\r\n\r\nThanks, Pete","title":"JNI Calls different in C vs C++?","body":"<p>So i have the following code in C that utilizes Java Native Interface however i would like to convert this to C++ but am not sure how.</p>\n\n<pre><code> #include &lt;jni.h&gt;\n #include &lt;stdio.h&gt;\n #include \"InstanceMethodCall.h\"\n\n JNIEXPORT void JNICALL \n Java_InstanceMethodCall_nativeMethod(JNIEnv *env, jobject obj)\n {\n     jclass cls = (*env)-&gt;GetObjectClass(env, obj);\n     jmethodID mid = (*env)-&gt;GetMethodID(env, cls, \"callback\", \"()V\");\n     if (mid == NULL) {\n         return; /* method not found */\n     }\n     printf(\"In C\\n\");\n     (*env)-&gt;CallVoidMethod(env, obj, mid);\n }\n</code></pre>\n\n<p>Java Program:</p>\n\n<pre><code> class InstanceMethodCall {\n     private native void nativeMethod();\n     private void callback() {\n         System.out.println(\"In Java\");\n     }\n     public static void main(String args[]) {\n         InstanceMethodCall c = new InstanceMethodCall();\n         c.nativeMethod();\n     }\n     static {\n         System.loadLibrary(\"InstanceMethodCall\");\n     }\n }\n</code></pre>\n\n<p>What are the differences in which JNI interacts with C and C++? Any help is greatly appreciated.</p>\n\n<p>Thanks, Pete</p>\n"},{"tags":["java","spring","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1680533305,"post_id":75920736,"comment_id":133910364,"body_markdown":"`Caused by: java.sql.SQLException: Referencing column &#39;user_id&#39; and referenced column &#39;id&#39; in foreign key constraint &#39;FKqw4c8e6nqrvy3ti1xj8w8wyc9&#39; are incompatible` - edit question to show the definitions of the tables.","body":"<code>Caused by: java.sql.SQLException: Referencing column &#39;user_id&#39; and referenced column &#39;id&#39; in foreign key constraint &#39;FKqw4c8e6nqrvy3ti1xj8w8wyc9&#39; are incompatible</code> - edit question to show the definitions of the tables."}],"answers":[{"comments":[{"owner":{"account_id":50846,"reputation":1015,"user_id":151759,"accept_rate":65,"display_name":"Bertolt"},"score":0,"creation_date":1680536966,"post_id":75921046,"comment_id":133911379,"body_markdown":"Did you enable the transaction support (&lt;tx:annotation-driven&gt; or @EnableTransactionManagement) and declare the transactionManager? And did you add &quot;@Transactional into your @Repository ? see https://stackoverflow.com/questions/26203446/spring-hibernate-could-not-obtain-transaction-synchronized-session-for-current","body":"Did you enable the transaction support (&lt;tx:annotation-driven&gt; or @EnableTransactionManagement) and declare the transactionManager? And did you add &quot;@Transactional into your @Repository ? see <a href=\"https://stackoverflow.com/questions/26203446/spring-hibernate-could-not-obtain-transaction-synchronized-session-for-current\" title=\"spring hibernate could not obtain transaction synchronized session for current\">stackoverflow.com/questions/26203446/&hellip;</a>"},{"owner":{"account_id":26765780,"reputation":1,"user_id":20362961,"display_name":"Evgeni"},"score":0,"creation_date":1680539270,"post_id":75921046,"comment_id":133911947,"body_markdown":"tried to create a new database. does not work","body":"tried to create a new database. does not work"}],"tags":[],"owner":{"account_id":50846,"reputation":1015,"user_id":151759,"accept_rate":65,"display_name":"Bertolt"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680534947,"creation_date":1680534947,"answer_id":75921046,"question_id":75920736,"body_markdown":"It seems that the columns id and user_id of your table have incompatible types for some reason. Please refer to this question for possible answers: https://stackoverflow.com/questions/21526055/mysql-cannot-create-foreign-key-constraint \r\n\r\n","title":"The problem of connecting Spring MVC To MySQL","body":"<p>It seems that the columns id and user_id of your table have incompatible types for some reason. Please refer to this question for possible answers: <a href=\"https://stackoverflow.com/questions/21526055/mysql-cannot-create-foreign-key-constraint\">MySQL cannot create foreign key constraint</a></p>\n"},{"comments":[{"owner":{"account_id":26765780,"reputation":1,"user_id":20362961,"display_name":"Evgeni"},"score":0,"creation_date":1680599984,"post_id":75921436,"comment_id":133921616,"body_markdown":"does not work(  but thanks anyway","body":"does not work(  but thanks anyway"},{"owner":{"account_id":28200974,"reputation":57,"user_id":21554764,"display_name":"Milind Vedi"},"score":0,"creation_date":1680601620,"post_id":75921436,"comment_id":133922012,"body_markdown":"Please share the error message","body":"Please share the error message"},{"owner":{"account_id":26765780,"reputation":1,"user_id":20362961,"display_name":"Evgeni"},"score":0,"creation_date":1680603363,"post_id":75921436,"comment_id":133922438,"body_markdown":"Exception in thread &quot;main&quot; org.hibernate.HibernateException: Could not obtain transaction-synchronized Session for current thread\n\tat org.springframework.orm.hibernate5.SpringSessionContext.currentSession(SpringSessionContext.java:142)","body":"Exception in thread &quot;main&quot; org.hibernate.HibernateException: Could not obtain transaction-synchronized Session for current thread \tat org.springframework.orm.hibernate5.SpringSessionContext.curr&zwnj;&#8203;entSession(SpringSes&zwnj;&#8203;sionContext.java:142&zwnj;&#8203;)"},{"owner":{"account_id":28200974,"reputation":57,"user_id":21554764,"display_name":"Milind Vedi"},"score":0,"creation_date":1680632964,"post_id":75921436,"comment_id":133930305,"body_markdown":"did you try adding @Transactional to the service class ?","body":"did you try adding @Transactional to the service class ?"}],"tags":[],"owner":{"account_id":28200974,"reputation":57,"user_id":21554764,"display_name":"Milind Vedi"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680672708,"creation_date":1680537448,"answer_id":75921436,"question_id":75920736,"body_markdown":"In your car entity\r\n```\r\n//change \r\n  @OneToOne\r\n    @JoinColumn(referencedColumnName = &quot;id&quot;)\r\n    private User user;\r\n//to\r\n@OneToOne(cascade = CascadeType.ALL)\r\nprivate User user;\r\n```\r\nAnd in users entity make the following change\r\n```\r\n@OneToOne(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n   private Car car;\r\n```\r\nIf the problem persists try deleting your database and create a new database. Then run the program.\r\n","title":"The problem of connecting Spring MVC To MySQL","body":"<p>In your car entity</p>\n<pre><code>//change \n  @OneToOne\n    @JoinColumn(referencedColumnName = &quot;id&quot;)\n    private User user;\n//to\n@OneToOne(cascade = CascadeType.ALL)\nprivate User user;\n</code></pre>\n<p>And in users entity make the following change</p>\n<pre><code>@OneToOne(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\n   private Car car;\n</code></pre>\n<p>If the problem persists try deleting your database and create a new database. Then run the program.</p>\n"}],"owner":{"account_id":26765780,"reputation":1,"user_id":20362961,"display_name":"Evgeni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1680672708,"creation_date":1680533108,"question_id":75920736,"body_markdown":"`Task:\r\n1. Create a connection to your database and a schema. Launch the application. Check that it is fully working.\r\n2. Create a Car entity with the String model and int series fields, which will be referenced by the User using a one-to-one relationship.\r\n3. Add this class to the hibernate settings.\r\n4. Create several users with machines, add them to the database, pull them back.\r\n5. Add a method to the service that will use an hql query to get a user who owns a machine by its model and series.\r\n\r\nThe problem is that the code that works for a friend of mine works for half\r\n\r\n\r\n```\r\npublic static void main(String[] args) throws SQLException {\r\n        AnnotationConfigApplicationContext context =\r\n                new AnnotationConfigApplicationContext(AppConfig.class);\r\n\r\n        UserService userService = context.getBean(UserService.class);\r\n\r\n        User user1 = new User(&quot;User1&quot;, &quot;Lastname1&quot;, &quot;user1@mail.ru&quot;);\r\n        Car cfr1 = new Car(&quot;Mersedes&quot;, 1);\r\n        user1.setCar(cfr1);\r\n        userService.add(user1);\r\n\r\n        User user11 = new User(&quot;User2&quot;, &quot;Lastname2&quot;, &quot;user22@mail.ru&quot;);\r\n        Car cfr11 = new Car(&quot;BMW&quot;, 3);\r\n        user11.setCar(cfr11);\r\n        userService.add(user11);\r\n\r\n        List&lt;User&gt; users = userService.listUsers();\r\n        for (User user : users) {\r\n            System.out.println(&quot;Id = &quot; + user.getId());\r\n            System.out.println(&quot;First Name = &quot; + user.getFirstName());\r\n            System.out.println(&quot;Last Name = &quot; + user.getLastName());\r\n            System.out.println(&quot;Email = &quot; + user.getEmail());\r\n            System.out.println(&quot;Car = &quot; + user.getCar());\r\n            System.out.println();\r\n        }\r\n        User user111 = userService.getUserByCar(&quot;BMW&quot;, 3);\r\n        System.out.println(&quot;–í–ª–∞–¥–µ–ª–µ—Ü –º–∞—à–∏–Ω—ã –ø–æ –º–æ–¥–µ–ª–∏ –∏ —Å–µ—Ä–∏–∏ - &quot; + user111);\r\n\r\n        context.close();\r\n    }\r\n```\r\n\r\nthis is main\r\n\r\n```\r\nthis is the db.properties file\r\n\r\n# MySQL properties\r\ndb.driver=com.mysql.cj.jdbc.Driver\r\ndb.url=jdbc:mysql://localhost:3306/test\r\n\r\ndb.username=root\r\ndb.password=12345\r\n\r\n# Hibernate properties\r\nhibernate.show_sql=true\r\nhibernate.hbm2ddl.auto=update\r\n```\r\n\r\nthis is an exception\r\n\r\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\r\nHibernate: alter table cars add constraint FKqw4c8e6nqrvy3ti1xj8w8wyc9 foreign key (user_id) references users (id)\r\n–∞–ø—Ä. 04, 2023 12:34:17 AM org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\r\nWARN: GenerationTarget encountered exception accepting command : Error executing DDL &quot;alter table cars add constraint FKqw4c8e6nqrvy3ti1xj8w8wyc9 foreign key (user_id) references users (id)&quot; via JDBC Statement\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table cars add constraint FKqw4c8e6nqrvy3ti1xj8w8wyc9 foreign key (user_id) references users (id)&quot; via JDBC Statement\r\n\r\nappConfig\r\n\r\n    package hiber.config;\r\n    \r\n    import hiber.model.Car;\r\n    import hiber.model.User;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.PropertySource;\r\n    import org.springframework.core.env.Environment;\r\n    import org.springframework.jdbc.datasource.DriverManagerDataSource;\r\n    import org.springframework.orm.hibernate5.HibernateTransactionManager;\r\n    import org.springframework.orm.hibernate5.LocalSessionFactoryBean;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    import javax.sql.DataSource;\r\n    import java.util.Properties;\r\n    \r\n    \r\n    @Configuration\r\n    @PropertySource(&quot;classpath:db.properties&quot;)\r\n    @EnableTransactionManagement\r\n    @ComponentScan(value = &quot;hiber&quot;)\r\n    public class AppConfig {\r\n    \r\n       @Autowired\r\n       private Environment env;\r\n    \r\n       @Bean\r\n       public DataSource getDataSource() {\r\n          DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n          dataSource.setDriverClassName(env.getProperty(&quot;db.driver&quot;));\r\n          dataSource.setUrl(env.getProperty(&quot;db.url&quot;));\r\n          dataSource.setUsername(env.getProperty(&quot;db.username&quot;));\r\n          dataSource.setPassword(env.getProperty(&quot;db.password&quot;));\r\n          return dataSource;\r\n       }\r\n    \r\n       @Bean\r\n       public LocalSessionFactoryBean getSessionFactory() {\r\n          LocalSessionFactoryBean factoryBean = new LocalSessionFactoryBean();\r\n          factoryBean.setDataSource(getDataSource());\r\n    \r\n          Properties props = new Properties();\r\n          props.put(&quot;hibernate.show_sql&quot;, env.getProperty(&quot;hibernate.show_sql&quot;));\r\n          props.put(&quot;hibernate.hbm2ddl.auto&quot;, env.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\r\n    \r\n          factoryBean.setHibernateProperties(props);\r\n          factoryBean.setAnnotatedClasses(User.class, Car.class);\r\n          return factoryBean;\r\n       }\r\n    \r\n       @Bean\r\n       public HibernateTransactionManager getTransactionManager() {\r\n          HibernateTransactionManager transactionManager = new HibernateTransactionManager();\r\n          transactionManager.setSessionFactory(getSessionFactory().getObject());\r\n          return transactionManager;\r\n       }\r\n    }\r\n\r\ncar class\r\n\r\n    package hiber.model;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;cars&quot;)\r\n    public class Car {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;model&quot;)\r\n        private String model;\r\n    \r\n        @Column(name = &quot;series&quot;)\r\n        private int series;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;user_id&quot;,referencedColumnName = &quot;id&quot;)\r\n        private User user;\r\n    \r\n        public Car(){\r\n    \r\n        }\r\n    \r\n        public Car(String model, int series) {\r\n            this.model = model;\r\n            this.series = series;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getModel() {\r\n            return model;\r\n        }\r\n    \r\n        public void setModel(String model) {\r\n            this.model = model;\r\n        }\r\n    \r\n        public int getSeries() {\r\n            return series;\r\n        }\r\n    \r\n        public void setSeries(int series) {\r\n            this.series = series;\r\n        }\r\n    \r\n        public User getUser() {\r\n            return user;\r\n        }\r\n    \r\n        public User setUser(User user) {\r\n            this.user = user;\r\n            return user;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Car {&quot; +\r\n                    &quot;id=&quot; + id +\r\n                    &quot;, model=&#39;&quot; + model + &#39;\\&#39;&#39; +\r\n                    &quot;, series=&quot; + series +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nclass user \r\n\r\n \r\n\r\n    package hiber.model;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n    \r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n       private Long id;\r\n    \r\n       @Column(name = &quot;name&quot;)\r\n       private String firstName;\r\n    \r\n       @Column(name = &quot;last_name&quot;)\r\n       private String lastName;\r\n    \r\n       @Column(name = &quot;email&quot;)\r\n       private String email;\r\n    \r\n       @OneToOne(mappedBy = &quot;user&quot;)\r\n       private Car car;\r\n    \r\n       public User() {}\r\n       \r\n       public User(String firstName, String lastName, String email) {\r\n          this.firstName = firstName;\r\n          this.lastName = lastName;\r\n          this.email = email;\r\n       }\r\n    \r\n       public Long getId() {\r\n          return id;\r\n       }\r\n    \r\n       public void setId(Long id) {\r\n          this.id = id;\r\n       }\r\n    \r\n       public String getFirstName() {\r\n          return firstName;\r\n       }\r\n    \r\n       public void setFirstName(String firstName) {\r\n          this.firstName = firstName;\r\n       }\r\n    \r\n       public String getLastName() {\r\n          return lastName;\r\n       }\r\n    \r\n       public void setLastName(String lastName) {\r\n          this.lastName = lastName;\r\n       }\r\n    \r\n       public String getEmail() {\r\n          return email;\r\n       }\r\n    \r\n       public void setEmail(String email) {\r\n          this.email = email;\r\n       }\r\n    \r\n       public Car getCar(){return car;}\r\n    \r\n       public Car setCar(Car car){\r\n          this.car =car;\r\n          return car;\r\n       }\r\n    \r\n       @Override\r\n       public String toString() {\r\n          return &quot;User{&quot; +\r\n                  &quot;id=&quot; + id +\r\n                  &quot;, firstName=&#39;&quot; + firstName + &#39;\\&#39;&#39; +\r\n                  &quot;, lastName=&#39;&quot; + lastName + &#39;\\&#39;&#39; +\r\n                  &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                  &#39;}&#39;;\r\n       }\r\n    }\r\n\r\nusing debug, I found out that the exception flies to:\r\n\r\n    User userThree = userService.getUserByCar(&quot;Mers&quot;, 2019);\r\n\r\nclass UserServiceImp:\r\n\r\n  \r\n\r\n    @Service\r\n    public class UserServiceImp implements UserService {\r\n    \r\n       @Autowired\r\n       private UserDao userDao;\r\n    \r\n       @Transactional\r\n       @Override\r\n       public void add(User user) {\r\n          userDao.add(user);\r\n       }\r\n    \r\n       @Transactional(readOnly = true)\r\n       @Override\r\n       public List&lt;User&gt; listUsers() {\r\n          return userDao.listUsers();\r\n       }\r\n    \r\n       public User getUserByCar(String model, int series){\r\n          return userDao.getUserByCar(model,series);\r\n       }\r\n    }\r\n\r\nclass UserDaoImp:\r\n\r\n    @Repository\r\n    public class UserDaoImp implements UserDao {\r\n    \r\n       @Autowired\r\n       private SessionFactory sessionFactory;\r\n    \r\n       @Override\r\n       public void add(User user) {\r\n          sessionFactory.getCurrentSession().save(user);\r\n       }\r\n    \r\n       @Override\r\n       @SuppressWarnings(&quot;unchecked&quot;)\r\n       public List&lt;User&gt; listUsers() {\r\n          TypedQuery&lt;User&gt; query = sessionFactory.getCurrentSession().createQuery(&quot;from User&quot;);\r\n          return query.getResultList();\r\n       }\r\n    \r\n       @Override\r\n       @SuppressWarnings(&quot;unchecked&quot;)\r\n       public User getUserByCar(String model, int series) {\r\n          String hql = &quot;from User user where user.car.model = :model and user.car.series = :series&quot;;\r\n          TypedQuery&lt;User&gt; query = sessionFactory.getCurrentSession().createQuery(hql);\r\n          query.setParameter(&quot;model&quot;, model).setParameter(&quot;series&quot;, series);\r\n          return query.getSingleResult();\r\n       }\r\n    }","title":"The problem of connecting Spring MVC To MySQL","body":"<p>`Task:</p>\n<ol>\n<li>Create a connection to your database and a schema. Launch the application. Check that it is fully working.</li>\n<li>Create a Car entity with the String model and int series fields, which will be referenced by the User using a one-to-one relationship.</li>\n<li>Add this class to the hibernate settings.</li>\n<li>Create several users with machines, add them to the database, pull them back.</li>\n<li>Add a method to the service that will use an hql query to get a user who owns a machine by its model and series.</li>\n</ol>\n<p>The problem is that the code that works for a friend of mine works for half</p>\n<pre><code>public static void main(String[] args) throws SQLException {\n        AnnotationConfigApplicationContext context =\n                new AnnotationConfigApplicationContext(AppConfig.class);\n\n        UserService userService = context.getBean(UserService.class);\n\n        User user1 = new User(&quot;User1&quot;, &quot;Lastname1&quot;, &quot;user1@mail.ru&quot;);\n        Car cfr1 = new Car(&quot;Mersedes&quot;, 1);\n        user1.setCar(cfr1);\n        userService.add(user1);\n\n        User user11 = new User(&quot;User2&quot;, &quot;Lastname2&quot;, &quot;user22@mail.ru&quot;);\n        Car cfr11 = new Car(&quot;BMW&quot;, 3);\n        user11.setCar(cfr11);\n        userService.add(user11);\n\n        List&lt;User&gt; users = userService.listUsers();\n        for (User user : users) {\n            System.out.println(&quot;Id = &quot; + user.getId());\n            System.out.println(&quot;First Name = &quot; + user.getFirstName());\n            System.out.println(&quot;Last Name = &quot; + user.getLastName());\n            System.out.println(&quot;Email = &quot; + user.getEmail());\n            System.out.println(&quot;Car = &quot; + user.getCar());\n            System.out.println();\n        }\n        User user111 = userService.getUserByCar(&quot;BMW&quot;, 3);\n        System.out.println(&quot;–í–ª–∞–¥–µ–ª–µ—Ü –º–∞—à–∏–Ω—ã –ø–æ –º–æ–¥–µ–ª–∏ –∏ —Å–µ—Ä–∏–∏ - &quot; + user111);\n\n        context.close();\n    }\n</code></pre>\n<p>this is main</p>\n<pre><code>this is the db.properties file\n\n# MySQL properties\ndb.driver=com.mysql.cj.jdbc.Driver\ndb.url=jdbc:mysql://localhost:3306/test\n\ndb.username=root\ndb.password=12345\n\n# Hibernate properties\nhibernate.show_sql=true\nhibernate.hbm2ddl.auto=update\n</code></pre>\n<p>this is an exception</p>\n<p>INFO: HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\nHibernate: alter table cars add constraint FKqw4c8e6nqrvy3ti1xj8w8wyc9 foreign key (user_id) references users (id)\n–∞–ø—Ä. 04, 2023 12:34:17 AM org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\nWARN: GenerationTarget encountered exception accepting command : Error executing DDL &quot;alter table cars add constraint FKqw4c8e6nqrvy3ti1xj8w8wyc9 foreign key (user_id) references users (id)&quot; via JDBC Statement\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table cars add constraint FKqw4c8e6nqrvy3ti1xj8w8wyc9 foreign key (user_id) references users (id)&quot; via JDBC Statement</p>\n<p>appConfig</p>\n<pre><code>package hiber.config;\n\nimport hiber.model.Car;\nimport hiber.model.User;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.core.env.Environment;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.orm.hibernate5.HibernateTransactionManager;\nimport org.springframework.orm.hibernate5.LocalSessionFactoryBean;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport javax.sql.DataSource;\nimport java.util.Properties;\n\n\n@Configuration\n@PropertySource(&quot;classpath:db.properties&quot;)\n@EnableTransactionManagement\n@ComponentScan(value = &quot;hiber&quot;)\npublic class AppConfig {\n\n   @Autowired\n   private Environment env;\n\n   @Bean\n   public DataSource getDataSource() {\n      DriverManagerDataSource dataSource = new DriverManagerDataSource();\n      dataSource.setDriverClassName(env.getProperty(&quot;db.driver&quot;));\n      dataSource.setUrl(env.getProperty(&quot;db.url&quot;));\n      dataSource.setUsername(env.getProperty(&quot;db.username&quot;));\n      dataSource.setPassword(env.getProperty(&quot;db.password&quot;));\n      return dataSource;\n   }\n\n   @Bean\n   public LocalSessionFactoryBean getSessionFactory() {\n      LocalSessionFactoryBean factoryBean = new LocalSessionFactoryBean();\n      factoryBean.setDataSource(getDataSource());\n\n      Properties props = new Properties();\n      props.put(&quot;hibernate.show_sql&quot;, env.getProperty(&quot;hibernate.show_sql&quot;));\n      props.put(&quot;hibernate.hbm2ddl.auto&quot;, env.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\n\n      factoryBean.setHibernateProperties(props);\n      factoryBean.setAnnotatedClasses(User.class, Car.class);\n      return factoryBean;\n   }\n\n   @Bean\n   public HibernateTransactionManager getTransactionManager() {\n      HibernateTransactionManager transactionManager = new HibernateTransactionManager();\n      transactionManager.setSessionFactory(getSessionFactory().getObject());\n      return transactionManager;\n   }\n}\n</code></pre>\n<p>car class</p>\n<pre><code>package hiber.model;\n\nimport javax.persistence.*;\n\n@Entity\n@Table(name = &quot;cars&quot;)\npublic class Car {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;model&quot;)\n    private String model;\n\n    @Column(name = &quot;series&quot;)\n    private int series;\n\n    @OneToOne\n    @JoinColumn(name = &quot;user_id&quot;,referencedColumnName = &quot;id&quot;)\n    private User user;\n\n    public Car(){\n\n    }\n\n    public Car(String model, int series) {\n        this.model = model;\n        this.series = series;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getModel() {\n        return model;\n    }\n\n    public void setModel(String model) {\n        this.model = model;\n    }\n\n    public int getSeries() {\n        return series;\n    }\n\n    public void setSeries(int series) {\n        this.series = series;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public User setUser(User user) {\n        this.user = user;\n        return user;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Car {&quot; +\n                &quot;id=&quot; + id +\n                &quot;, model='&quot; + model + '\\'' +\n                &quot;, series=&quot; + series +\n                '}';\n    }\n}\n</code></pre>\n<p>class user</p>\n<pre><code>package hiber.model;\n\nimport javax.persistence.*;\n\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private Long id;\n\n   @Column(name = &quot;name&quot;)\n   private String firstName;\n\n   @Column(name = &quot;last_name&quot;)\n   private String lastName;\n\n   @Column(name = &quot;email&quot;)\n   private String email;\n\n   @OneToOne(mappedBy = &quot;user&quot;)\n   private Car car;\n\n   public User() {}\n   \n   public User(String firstName, String lastName, String email) {\n      this.firstName = firstName;\n      this.lastName = lastName;\n      this.email = email;\n   }\n\n   public Long getId() {\n      return id;\n   }\n\n   public void setId(Long id) {\n      this.id = id;\n   }\n\n   public String getFirstName() {\n      return firstName;\n   }\n\n   public void setFirstName(String firstName) {\n      this.firstName = firstName;\n   }\n\n   public String getLastName() {\n      return lastName;\n   }\n\n   public void setLastName(String lastName) {\n      this.lastName = lastName;\n   }\n\n   public String getEmail() {\n      return email;\n   }\n\n   public void setEmail(String email) {\n      this.email = email;\n   }\n\n   public Car getCar(){return car;}\n\n   public Car setCar(Car car){\n      this.car =car;\n      return car;\n   }\n\n   @Override\n   public String toString() {\n      return &quot;User{&quot; +\n              &quot;id=&quot; + id +\n              &quot;, firstName='&quot; + firstName + '\\'' +\n              &quot;, lastName='&quot; + lastName + '\\'' +\n              &quot;, email='&quot; + email + '\\'' +\n              '}';\n   }\n}\n</code></pre>\n<p>using debug, I found out that the exception flies to:</p>\n<pre><code>User userThree = userService.getUserByCar(&quot;Mers&quot;, 2019);\n</code></pre>\n<p>class UserServiceImp:</p>\n<pre><code>@Service\npublic class UserServiceImp implements UserService {\n\n   @Autowired\n   private UserDao userDao;\n\n   @Transactional\n   @Override\n   public void add(User user) {\n      userDao.add(user);\n   }\n\n   @Transactional(readOnly = true)\n   @Override\n   public List&lt;User&gt; listUsers() {\n      return userDao.listUsers();\n   }\n\n   public User getUserByCar(String model, int series){\n      return userDao.getUserByCar(model,series);\n   }\n}\n</code></pre>\n<p>class UserDaoImp:</p>\n<pre><code>@Repository\npublic class UserDaoImp implements UserDao {\n\n   @Autowired\n   private SessionFactory sessionFactory;\n\n   @Override\n   public void add(User user) {\n      sessionFactory.getCurrentSession().save(user);\n   }\n\n   @Override\n   @SuppressWarnings(&quot;unchecked&quot;)\n   public List&lt;User&gt; listUsers() {\n      TypedQuery&lt;User&gt; query = sessionFactory.getCurrentSession().createQuery(&quot;from User&quot;);\n      return query.getResultList();\n   }\n\n   @Override\n   @SuppressWarnings(&quot;unchecked&quot;)\n   public User getUserByCar(String model, int series) {\n      String hql = &quot;from User user where user.car.model = :model and user.car.series = :series&quot;;\n      TypedQuery&lt;User&gt; query = sessionFactory.getCurrentSession().createQuery(hql);\n      query.setParameter(&quot;model&quot;, model).setParameter(&quot;series&quot;, series);\n      return query.getSingleResult();\n   }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate"],"answers":[{"comments":[{"owner":{"account_id":23934228,"reputation":3,"user_id":17928212,"display_name":"milosz000"},"score":0,"creation_date":1680554373,"post_id":75923310,"comment_id":133915289,"body_markdown":"There is not a good solution. With that I am unable to run the application","body":"There is not a good solution. With that I am unable to run the application"},{"owner":{"account_id":28200974,"reputation":57,"user_id":21554764,"display_name":"Milind Vedi"},"score":0,"creation_date":1680582455,"post_id":75923310,"comment_id":133918375,"body_markdown":"Please share the error message you are getting. Also, try deleting the database and then creating a new database. It often works.","body":"Please share the error message you are getting. Also, try deleting the database and then creating a new database. It often works."}],"tags":[],"owner":{"account_id":28200974,"reputation":57,"user_id":21554764,"display_name":"Milind Vedi"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680672655,"creation_date":1680551711,"answer_id":75923310,"question_id":75922673,"body_markdown":"In your entity class do the mapping like this:\r\n```\r\n@Entity @Table(name = &quot;medicaments_group&quot;) @Getter @Setter public class MedicamentGroup extends GenericDictionary {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    private boolean groupMain;\r\n\r\n     @ManyToMany(cascade = CascadeType.ALL)\r\n    private List&lt;MedicamentGroup&gt; childrens = new ArrayList&lt;&gt;();\r\n\r\n     @ManyToMany(cascade = CascadeType.ALL)\r\n    private List&lt;MedicamentGroup&gt; childrenOf; }\r\n```\r\nAlso, try deleting the database and then creating a new database. It often works.","title":"How to fetch data from self reference entity in Hibernate","body":"<p>In your entity class do the mapping like this:</p>\n<pre><code>@Entity @Table(name = &quot;medicaments_group&quot;) @Getter @Setter public class MedicamentGroup extends GenericDictionary {\n\n    @Id\n    private Long id;\n\n    private boolean groupMain;\n\n     @ManyToMany(cascade = CascadeType.ALL)\n    private List&lt;MedicamentGroup&gt; childrens = new ArrayList&lt;&gt;();\n\n     @ManyToMany(cascade = CascadeType.ALL)\n    private List&lt;MedicamentGroup&gt; childrenOf; }\n</code></pre>\n<p>Also, try deleting the database and then creating a new database. It often works.</p>\n"}],"owner":{"account_id":23934228,"reputation":3,"user_id":17928212,"display_name":"milosz000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680672655,"creation_date":1680546688,"question_id":75922673,"body_markdown":"I have two tables:\r\n\r\n 1. medicaments_group\r\n[enter image description here][1]\r\n 2. medicaments_group_join\r\n[enter image description here][2]\r\n\r\nThere is my Entity class:\r\n\r\n    @Entity @Table(name = &quot;medicaments_group&quot;) @Getter @Setter public class MedicamentGroup extends GenericDictionary {\r\n    \r\n        @Id\r\n        private Long id;\r\n    \r\n        private boolean groupMain;\r\n    \r\n        @ManyToMany\r\n        @JoinTable(\r\n                name = &quot;medicaments_group_join&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;medicament_group_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;medicament_join_id&quot;)\r\n        )\r\n        private List&lt;MedicamentGroup&gt; childrens = new ArrayList&lt;&gt;();\r\n    \r\n        @ManyToMany\r\n        @JoinTable(\r\n                name = &quot;medicaments_group_join&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;medicament_join_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;medicament_group_id&quot;)\r\n        )\r\n        private List&lt;MedicamentGroup&gt; childrenOf; }\r\n\r\nAnd i would like to return List of MedicamentGroup with List of its children, so i wrote query like that:\r\n\r\n&gt;     @Override\r\n&gt;     public List&lt;MedicamentGroup&gt; getGroupsAndItsChildren() {\r\n&gt;         List&lt;Tuple&gt; query = Objects.requireNonNull(getQuerydsl())\r\n&gt;                 .createQuery()\r\n&gt;                 .from(medicamentGroup)\r\n&gt;                 .select(id, shortName, childrens)\r\n&gt;                 .where(groupMain.isFalse())\r\n&gt;                 .fetch();\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt;         return query.stream().map(tuple -&gt; {\r\n&gt;             MedicamentGroup group = new MedicamentGroup();\r\n&gt;             group.setId(tuple.get(id));\r\n&gt;             group.setShortName(tuple.get(shortName));\r\n&gt;             group.setChildrens(tuple.get(childrens));\r\n&gt;             return group;\r\n&gt;         }).toList();\r\n&gt;     }\r\n\r\nAnd now, when i try to call this method from my repository layer i got an error:\r\n\r\n&gt; Hibernate: select medicament0_.id as col_0_0_, medicament0_.short_name\r\n&gt; as col_1_0_, . as col_2_0_, medicament2_.id as id1_20_,\r\n&gt; medicament2_.active as active2_20_, medicament2_.name as name3_20_,\r\n&gt; medicament2_.short_name as short_na4_20_, medicament2_.group_main as\r\n&gt; group_ma5_20_ from medicaments_group medicament0_ inner join\r\n&gt; medicaments_group_join childrens1_ on\r\n&gt; medicament0_.id=childrens1_.medicament_group_id inner join\r\n&gt; medicaments_group medicament2_ on\r\n&gt; childrens1_.medicament_join_id=medicament2_.id where\r\n&gt; medicament0_.group_main=? 2023-04-03 20:12:23.563  WARN 46674 ---\r\n&gt; [nio-8089-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL\r\n&gt; Error: 0, SQLState: 42601 2023-04-03 20:12:23.563 ERROR 46674 ---\r\n&gt; [nio-8089-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR:\r\n&gt; syntax error at or near &quot;.&quot;   Position: 74 2023-04-03 20:12:23.579\r\n&gt; ERROR 46674 --- [nio-8089-exec-3] p.k.c.w.f.ErrorResponseFactoryImpl  \r\n&gt; : Error response\r\n&gt; \r\n&gt; org.springframework.dao.InvalidDataAccessResourceUsageException: could\r\n&gt; not extract ResultSet; SQL [n/a]; nested exception is\r\n&gt; org.hibernate.exception.SQLGrammarException: could not extract\r\n&gt; ResultSet \tat\r\n&gt; org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259)\r\n&gt; ~[spring-orm-5.3.22.jar:5.3.22] \tat\r\n&gt; org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n&gt; ~[spring-orm-5.3.22.jar:5.3.22] \tat\r\n&gt; org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n&gt; ~[spring-orm-5.3.22.jar:5.3.22] \tat\r\n&gt; org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n&gt; ~[spring-tx-5.3.22.jar:5.3.22] \tat\r\n&gt; org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n&gt; ~[spring-tx-5.3.22.jar:5.3.22] \tat\r\n&gt; org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n&gt; ~[spring-tx-5.3.22.jar:5.3.22] \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n&gt; ~[spring-aop-5.3.22.jar:5.3.22] \tat\r\n&gt; org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n&gt; ~[spring-aop-5.3.22.jar:5.3.22]\r\n\r\nSo could you help me and tell me what is wrong with my code?\r\n\r\n  [1]: https://i.stack.imgur.com/N0Bnn.png\r\n  [2]: https://i.stack.imgur.com/0sCXd.png","title":"How to fetch data from self reference entity in Hibernate","body":"<p>I have two tables:</p>\n<ol>\n<li>medicaments_group\n<a href=\"https://i.stack.imgur.com/N0Bnn.png\" rel=\"nofollow noreferrer\">enter image description here</a></li>\n<li>medicaments_group_join\n<a href=\"https://i.stack.imgur.com/0sCXd.png\" rel=\"nofollow noreferrer\">enter image description here</a></li>\n</ol>\n<p>There is my Entity class:</p>\n<pre><code>@Entity @Table(name = &quot;medicaments_group&quot;) @Getter @Setter public class MedicamentGroup extends GenericDictionary {\n\n    @Id\n    private Long id;\n\n    private boolean groupMain;\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;medicaments_group_join&quot;,\n            joinColumns = @JoinColumn(name = &quot;medicament_group_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;medicament_join_id&quot;)\n    )\n    private List&lt;MedicamentGroup&gt; childrens = new ArrayList&lt;&gt;();\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;medicaments_group_join&quot;,\n            joinColumns = @JoinColumn(name = &quot;medicament_join_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;medicament_group_id&quot;)\n    )\n    private List&lt;MedicamentGroup&gt; childrenOf; }\n</code></pre>\n<p>And i would like to return List of MedicamentGroup with List of its children, so i wrote query like that:</p>\n<blockquote>\n<pre><code>@Override\npublic List&lt;MedicamentGroup&gt; getGroupsAndItsChildren() {\n    List&lt;Tuple&gt; query = Objects.requireNonNull(getQuerydsl())\n            .createQuery()\n            .from(medicamentGroup)\n            .select(id, shortName, childrens)\n            .where(groupMain.isFalse())\n            .fetch();\n\n\n\n    return query.stream().map(tuple -&gt; {\n        MedicamentGroup group = new MedicamentGroup();\n        group.setId(tuple.get(id));\n        group.setShortName(tuple.get(shortName));\n        group.setChildrens(tuple.get(childrens));\n        return group;\n    }).toList();\n}\n</code></pre>\n</blockquote>\n<p>And now, when i try to call this method from my repository layer i got an error:</p>\n<blockquote>\n<p>Hibernate: select medicament0_.id as col_0_0_, medicament0_.short_name\nas col_1_0_, . as col_2_0_, medicament2_.id as id1_20_,\nmedicament2_.active as active2_20_, medicament2_.name as name3_20_,\nmedicament2_.short_name as short_na4_20_, medicament2_.group_main as\ngroup_ma5_20_ from medicaments_group medicament0_ inner join\nmedicaments_group_join childrens1_ on\nmedicament0_.id=childrens1_.medicament_group_id inner join\nmedicaments_group medicament2_ on\nchildrens1_.medicament_join_id=medicament2_.id where\nmedicament0_.group_main=? 2023-04-03 20:12:23.563  WARN 46674 ---\n[nio-8089-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL\nError: 0, SQLState: 42601 2023-04-03 20:12:23.563 ERROR 46674 ---\n[nio-8089-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR:\nsyntax error at or near &quot;.&quot;   Position: 74 2023-04-03 20:12:23.579\nERROR 46674 --- [nio-8089-exec-3] p.k.c.w.f.ErrorResponseFactoryImpl<br />\n: Error response</p>\n<p>org.springframework.dao.InvalidDataAccessResourceUsageException: could\nnot extract ResultSet; SQL [n/a]; nested exception is\norg.hibernate.exception.SQLGrammarException: could not extract\nResultSet     at\norg.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259)\n~[spring-orm-5.3.22.jar:5.3.22]   at\norg.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n~[spring-orm-5.3.22.jar:5.3.22]   at\norg.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\n~[spring-orm-5.3.22.jar:5.3.22]   at\norg.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n~[spring-tx-5.3.22.jar:5.3.22]    at\norg.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n~[spring-tx-5.3.22.jar:5.3.22]    at\norg.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n~[spring-tx-5.3.22.jar:5.3.22]    at\norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n~[spring-aop-5.3.22.jar:5.3.22]   at\norg.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n~[spring-aop-5.3.22.jar:5.3.22]</p>\n</blockquote>\n<p>So could you help me and tell me what is wrong with my code?</p>\n"},{"tags":["java","android","fragment","spinner"],"answers":[{"tags":[],"owner":{"account_id":5755538,"reputation":105,"user_id":4543622,"display_name":"Salil Deshpande"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680672527,"creation_date":1680672527,"answer_id":75935923,"question_id":75935400,"body_markdown":"You could condense the logic by reusing the view initialization logic and the listener. First, create a separate listener class:\r\n\r\n```\r\nclass CustomSpinnerItemSelectedListener implements AdapterView.OnItemSelectedListener {\r\n\r\n   @Override\r\n   public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n      // You can customize the logic per spinner using either the view or the id\r\n   }\r\n\r\n   @Override\r\n   public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n\r\n   }\r\n}\r\n```\r\n\r\nThen inside your fragment, save your view ids in an array, iterate over the array and execute the same view initialization logic like this:\r\n```\r\npublic class PageFragment1 extends Fragment {\r\n\r\n   private static int[] VIEW_IDS = {\r\n           R.id.spinnerMarket,\r\n           R.id.spinnerEmission,\r\n           ...\r\n   };\r\n\r\n   @Nullable\r\n   @Override\r\n   public View onCreateView(LayoutInflater inflater,\r\n                             @Nullable ViewGroup container,\r\n                             @Nullable Bundle savedInstanceState) {\r\n       ViewGroup rootView = (ViewGroup) inflater.inflate(R.layout.page_1, container, false);\r\n    \r\n       CustomSpinnerItemSelectedListener listener = new CustomSpinnerItemSelectedListener();\r\n      for (int id: VIEW_IDS) {\r\n         Spinner spinner = (Spinner) rootView.findViewById(id);\r\n         ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(getActivity(), R.array.Market, android.R.layout.simple_spinner_item);\r\n         adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n         spinner.setAdapter(adapter);\r\n         spinner.setOnItemSelectedListener(listener);\r\n      }\r\n\r\n   }\r\n}\r\n```\r\n","title":"Multiple spinners and conditions inside a fragment in android, java","body":"<p>You could condense the logic by reusing the view initialization logic and the listener. First, create a separate listener class:</p>\n<pre><code>class CustomSpinnerItemSelectedListener implements AdapterView.OnItemSelectedListener {\n\n   @Override\n   public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n      // You can customize the logic per spinner using either the view or the id\n   }\n\n   @Override\n   public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n\n   }\n}\n</code></pre>\n<p>Then inside your fragment, save your view ids in an array, iterate over the array and execute the same view initialization logic like this:</p>\n<pre><code>public class PageFragment1 extends Fragment {\n\n   private static int[] VIEW_IDS = {\n           R.id.spinnerMarket,\n           R.id.spinnerEmission,\n           ...\n   };\n\n   @Nullable\n   @Override\n   public View onCreateView(LayoutInflater inflater,\n                             @Nullable ViewGroup container,\n                             @Nullable Bundle savedInstanceState) {\n       ViewGroup rootView = (ViewGroup) inflater.inflate(R.layout.page_1, container, false);\n    \n       CustomSpinnerItemSelectedListener listener = new CustomSpinnerItemSelectedListener();\n      for (int id: VIEW_IDS) {\n         Spinner spinner = (Spinner) rootView.findViewById(id);\n         ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(getActivity(), R.array.Market, android.R.layout.simple_spinner_item);\n         adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n         spinner.setAdapter(adapter);\n         spinner.setOnItemSelectedListener(listener);\n      }\n\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":28218518,"reputation":17,"user_id":21569643,"display_name":"Vyacheslav Parinov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75935923,"answer_count":1,"score":0,"last_activity_date":1680672527,"creation_date":1680664944,"question_id":75935400,"body_markdown":"I&#39;m trying to create app which has 3 fragments (pages). Inside each fragment I have several spinners (options to chose). User can chose different options and depending on combination of these options, he will see the price. \r\n\r\nI use following code in Main Activity\r\n\r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentActivity;\r\nimport androidx.viewpager.widget.PagerAdapter;\r\nimport androidx.viewpager.widget.ViewPager;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.example.myapplication.fragments.PageFragment1;\r\nimport com.example.myapplication.fragments.PageFragment2;\r\nimport com.example.myapplication.fragments.PageFragment3;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\r\n    private ViewPager pager;\r\n    private PagerAdapter pagerAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        List&lt;Fragment&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(new PageFragment1());\r\n        list.add(new PageFragment2());\r\n        list.add(new PageFragment3());\r\n\r\n        pager = findViewById(R.id.pager);\r\n        pagerAdapter = new SlidePageAdapter(getSupportFragmentManager(),list);\r\n\r\n        pager.setAdapter(pagerAdapter);\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nand following code in PageAdapter\r\n\r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentStatePagerAdapter;\r\n\r\nimport java.util.List;\r\n\r\npublic class SlidePageAdapter extends FragmentStatePagerAdapter {\r\n\r\nprivate List&lt;Fragment&gt; fragmentList;\r\n\r\npublic SlidePageAdapter(FragmentManager fm, List&lt;Fragment&gt; fragmentList) {\r\n    super(fm);\r\nthis.fragmentList = fragmentList;\r\n}\r\n\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public Fragment getItem(int position) {\r\n        return fragmentList.get(position);\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return fragmentList.size();\r\n    }\r\n}\r\n\r\n```\r\n\r\nand in PageFragment1\r\n\r\n\r\n```\r\npackage com.example.myapplication.fragments;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.CheckBox;\r\nimport android.widget.Spinner;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.viewpager.widget.PagerAdapter;\r\n\r\nimport com.example.myapplication.R;\r\nimport com.google.android.material.navigation.NavigationBarView;\r\n\r\n\r\npublic class PageFragment1 extends Fragment {\r\n\r\n   \r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater,\r\n                             @Nullable ViewGroup container,\r\n                             @Nullable Bundle savedInstanceState) {\r\n        ViewGroup rootView = (ViewGroup) inflater\r\n                .inflate(R.layout.page_1, container\r\n                        , false);\r\n\r\n\r\n        Spinner spinner1 = (Spinner) rootView.findViewById(R.id.spinnerMarket);\r\n        ArrayAdapter&lt;CharSequence&gt; adapter1 = ArrayAdapter.createFromResource(getActivity(), R.array.Market, android.R.layout.simple_spinner_item);\r\n        adapter1.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner1.setAdapter(adapter1);\r\n\r\n        Spinner spinner2 = (Spinner) rootView.findViewById(R.id.spinnerEmission);\r\n        ArrayAdapter&lt;CharSequence&gt; adapter2 = ArrayAdapter.createFromResource(getActivity(), R.array.Emissions, android.R.layout.simple_spinner_item);\r\n        adapter2.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner2.setAdapter(adapter2);\r\n\r\n        Spinner spinner3 = (Spinner) rootView.findViewById(R.id.spinnerAxles);\r\n        ArrayAdapter&lt;CharSequence&gt; adapter3 = ArrayAdapter.createFromResource(getActivity(), R.array.Axles, android.R.layout.simple_spinner_item);\r\n        adapter3.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner3.setAdapter(adapter3);\r\n\r\n        Spinner spinner4 = (Spinner) rootView.findViewById(R.id.spinnerGearbox);\r\n        ArrayAdapter&lt;CharSequence&gt; adapter4 = ArrayAdapter.createFromResource(getActivity(), R.array.Gearbox, android.R.layout.simple_spinner_item);\r\n        adapter4.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner4.setAdapter(adapter4);\r\n\r\n        Spinner spinner5 = (Spinner) rootView.findViewById(R.id.spinnerFrontSuspension);\r\n        ArrayAdapter&lt;CharSequence&gt; adapter5 = ArrayAdapter.createFromResource(getActivity(), R.array.FrontSuspension, android.R.layout.simple_spinner_item);\r\n        adapter5.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner5.setAdapter(adapter5);\r\n\r\n        Spinner spinner6 = (Spinner) rootView.findViewById(R.id.spinnerRearSuspension);\r\n        ArrayAdapter&lt;CharSequence&gt; adapter6 = ArrayAdapter.createFromResource(getActivity(), R.array.RearSuspension, android.R.layout.simple_spinner_item);\r\n        adapter6.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner6.setAdapter(adapter6);\r\n\r\n        Spinner spinner7 = (Spinner) rootView.findViewById(R.id.spinnerTrailAxle);\r\n        ArrayAdapter&lt;CharSequence&gt; adapter7 = ArrayAdapter.createFromResource(getActivity(), R.array.TrailAxle, android.R.layout.simple_spinner_item);\r\n        adapter7.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner7.setAdapter(adapter7);\r\n\r\n\r\n\r\n     spinner1.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener()\r\n        {\r\n\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view,\r\n                                       int position, long id) {\r\n\r\n //Some conditions for all spinners//\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n        return rootView;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nThe problem is that I have 7 spinners and conditions for price calculation are the same. So I have to put the same code for each spinner, so the program will adjust the price each time user chose different option.\r\nLooks a bit odd to me, because the program is getting huge. And I have two more fragments with the same structure.\r\nI was trying to put something like below instead of a code for each spinner\r\n\r\n```\r\n@Override\r\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\r\n//conditions//\r\n\r\n}\r\n```\r\n\r\nBut it doesn&#39;t work in fragment.\r\nI&#39;m absolutely new in coding, so could you please give me detailed suggestion?\r\n","title":"Multiple spinners and conditions inside a fragment in android, java","body":"<p>I'm trying to create app which has 3 fragments (pages). Inside each fragment I have several spinners (options to chose). User can chose different options and depending on combination of these options, he will see the price.</p>\n<p>I use following code in Main Activity</p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentActivity;\nimport androidx.viewpager.widget.PagerAdapter;\nimport androidx.viewpager.widget.ViewPager;\n\nimport android.os.Bundle;\n\nimport com.example.myapplication.fragments.PageFragment1;\nimport com.example.myapplication.fragments.PageFragment2;\nimport com.example.myapplication.fragments.PageFragment3;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity {\n\n\n    private ViewPager pager;\n    private PagerAdapter pagerAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        List&lt;Fragment&gt; list = new ArrayList&lt;&gt;();\n        list.add(new PageFragment1());\n        list.add(new PageFragment2());\n        list.add(new PageFragment3());\n\n        pager = findViewById(R.id.pager);\n        pagerAdapter = new SlidePageAdapter(getSupportFragmentManager(),list);\n\n        pager.setAdapter(pagerAdapter);\n\n    }\n}\n\n</code></pre>\n<p>and following code in PageAdapter</p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentStatePagerAdapter;\n\nimport java.util.List;\n\npublic class SlidePageAdapter extends FragmentStatePagerAdapter {\n\nprivate List&lt;Fragment&gt; fragmentList;\n\npublic SlidePageAdapter(FragmentManager fm, List&lt;Fragment&gt; fragmentList) {\n    super(fm);\nthis.fragmentList = fragmentList;\n}\n\n\n\n    @NonNull\n    @Override\n    public Fragment getItem(int position) {\n        return fragmentList.get(position);\n    }\n\n    @Override\n    public int getCount() {\n        return fragmentList.size();\n    }\n}\n\n</code></pre>\n<p>and in PageFragment1</p>\n<pre><code>package com.example.myapplication.fragments;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.CheckBox;\nimport android.widget.Spinner;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.Fragment;\nimport androidx.viewpager.widget.PagerAdapter;\n\nimport com.example.myapplication.R;\nimport com.google.android.material.navigation.NavigationBarView;\n\n\npublic class PageFragment1 extends Fragment {\n\n   \n\n    @Nullable\n    @Override\n    public View onCreateView(LayoutInflater inflater,\n                             @Nullable ViewGroup container,\n                             @Nullable Bundle savedInstanceState) {\n        ViewGroup rootView = (ViewGroup) inflater\n                .inflate(R.layout.page_1, container\n                        , false);\n\n\n        Spinner spinner1 = (Spinner) rootView.findViewById(R.id.spinnerMarket);\n        ArrayAdapter&lt;CharSequence&gt; adapter1 = ArrayAdapter.createFromResource(getActivity(), R.array.Market, android.R.layout.simple_spinner_item);\n        adapter1.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner1.setAdapter(adapter1);\n\n        Spinner spinner2 = (Spinner) rootView.findViewById(R.id.spinnerEmission);\n        ArrayAdapter&lt;CharSequence&gt; adapter2 = ArrayAdapter.createFromResource(getActivity(), R.array.Emissions, android.R.layout.simple_spinner_item);\n        adapter2.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner2.setAdapter(adapter2);\n\n        Spinner spinner3 = (Spinner) rootView.findViewById(R.id.spinnerAxles);\n        ArrayAdapter&lt;CharSequence&gt; adapter3 = ArrayAdapter.createFromResource(getActivity(), R.array.Axles, android.R.layout.simple_spinner_item);\n        adapter3.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner3.setAdapter(adapter3);\n\n        Spinner spinner4 = (Spinner) rootView.findViewById(R.id.spinnerGearbox);\n        ArrayAdapter&lt;CharSequence&gt; adapter4 = ArrayAdapter.createFromResource(getActivity(), R.array.Gearbox, android.R.layout.simple_spinner_item);\n        adapter4.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner4.setAdapter(adapter4);\n\n        Spinner spinner5 = (Spinner) rootView.findViewById(R.id.spinnerFrontSuspension);\n        ArrayAdapter&lt;CharSequence&gt; adapter5 = ArrayAdapter.createFromResource(getActivity(), R.array.FrontSuspension, android.R.layout.simple_spinner_item);\n        adapter5.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner5.setAdapter(adapter5);\n\n        Spinner spinner6 = (Spinner) rootView.findViewById(R.id.spinnerRearSuspension);\n        ArrayAdapter&lt;CharSequence&gt; adapter6 = ArrayAdapter.createFromResource(getActivity(), R.array.RearSuspension, android.R.layout.simple_spinner_item);\n        adapter6.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner6.setAdapter(adapter6);\n\n        Spinner spinner7 = (Spinner) rootView.findViewById(R.id.spinnerTrailAxle);\n        ArrayAdapter&lt;CharSequence&gt; adapter7 = ArrayAdapter.createFromResource(getActivity(), R.array.TrailAxle, android.R.layout.simple_spinner_item);\n        adapter7.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner7.setAdapter(adapter7);\n\n\n\n     spinner1.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener()\n        {\n\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view,\n                                       int position, long id) {\n\n //Some conditions for all spinners//\n\n            }\n\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n            }\n        });\n\n\n\n        return rootView;\n    }\n\n}\n\n</code></pre>\n<p>The problem is that I have 7 spinners and conditions for price calculation are the same. So I have to put the same code for each spinner, so the program will adjust the price each time user chose different option.\nLooks a bit odd to me, because the program is getting huge. And I have two more fragments with the same structure.\nI was trying to put something like below instead of a code for each spinner</p>\n<pre><code>@Override\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n//conditions//\n\n}\n</code></pre>\n<p>But it doesn't work in fragment.\nI'm absolutely new in coding, so could you please give me detailed suggestion?</p>\n"},{"tags":["java","epoch","timezone-offset","datetimeoffset","datetime-parsing"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1679910939,"post_id":75854163,"comment_id":133799456,"body_markdown":"&quot;in which 00Z is the offset&quot; - are you sure? That looks like a timestamp with nanosecond precision, and &quot;Z&quot; to indicate UTC. How are you parsing? What do you mean by &quot;epoch output&quot;? As Chaosfire says, a [mcve] is the way forward here - but I&#39;d also strongly encourage you to re-examine your assumption that all of &quot;00Z&quot; is the offset.","body":"&quot;in which 00Z is the offset&quot; - are you sure? That looks like a timestamp with nanosecond precision, and &quot;Z&quot; to indicate UTC. How are you parsing? What do you mean by &quot;epoch output&quot;? As Chaosfire says, a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is the way forward here - but I&#39;d also strongly encourage you to re-examine your assumption that all of &quot;00Z&quot; is the offset."},{"owner":{"account_id":27906722,"reputation":1,"user_id":21309757,"display_name":"Nagesh R Shanbhag"},"score":0,"creation_date":1679914875,"post_id":75854163,"comment_id":133800483,"body_markdown":"//The date format against which the Date will be matched\nSimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSSSS&quot;);\n//Timezone\ndf.setTimeZone(TimeZone.getTimeZone(&quot;(UTC+05:30) Asia/Kolkata&quot;));","body":"//The date format against which the Date will be matched SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSSSS&quot;); //Timezone df.setTimeZone(TimeZone.getTimeZone(&quot;(UTC+05:30) Asia/Kolkata&quot;));"},{"owner":{"account_id":27906722,"reputation":1,"user_id":21309757,"display_name":"Nagesh R Shanbhag"},"score":0,"creation_date":1679916003,"post_id":75854163,"comment_id":133800746,"body_markdown":"To add on to this I have also tried Date format as yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSSSS&#39;Z&#39;, but doesn&#39;t match with the Date-Time provided","body":"To add on to this I have also tried Date format as yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSSSS&#39;Z&#39;, but doesn&#39;t match with the Date-Time provided"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":4,"creation_date":1680595038,"post_id":75854163,"comment_id":133920475,"body_markdown":"I strongly recommend that you don‚Äôt use `SimpleDateFormat`,  `Date` and `TimeZone`. THey were all poorly designed, the first in particular notoriously troublesome. And all are long outdated. Also there never was a way that `SimpleDateFormat` could support neither 7 nor 9 decimals on the seconds, which is the reason for your incorrect value. Instead [java.time, the modenr Java date and time API,](https://docs.oracle.com/javase/tutorial/datetime/index.html) handles your string easily. `Instant.parse(&quot;2023-03-21T04:34:12.234567800Z&quot;).toEpochMilli()` yields 1 679 373 252 234.","body":"I strongly recommend that you don‚Äôt use <code>SimpleDateFormat</code>,  <code>Date</code> and <code>TimeZone</code>. THey were all poorly designed, the first in particular notoriously troublesome. And all are long outdated. Also there never was a way that <code>SimpleDateFormat</code> could support neither 7 nor 9 decimals on the seconds, which is the reason for your incorrect value. Instead <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modenr Java date and time API,</a> handles your string easily. <code>Instant.parse(&quot;2023-03-21T04:34:12.234567800Z&quot;).toEpochMilli&zwnj;&#8203;()</code> yields 1 679 373 252 234."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1680595051,"post_id":75854163,"comment_id":133920477,"body_markdown":"Other points: 1. Never swallow exceptions. An empty catch block is a dirty no-no and will give you dire trouble sooner or later. And in experimental code and code under development rather sooner than later. 2. The trailing `Z` in your string is an offset of zero from UTC and needs to be parsed as an offset (which you didn‚Äôt), 3. `UTC+05:30) Asia/Kolkata` is not a valid time zone and does not give you the time zone that you think. Use the modern `ZoneId` and it will notify you through an exception -- only, then don‚Äôt swallow the exception, as I said.","body":"Other points: 1. Never swallow exceptions. An empty catch block is a dirty no-no and will give you dire trouble sooner or later. And in experimental code and code under development rather sooner than later. 2. The trailing <code>Z</code> in your string is an offset of zero from UTC and needs to be parsed as an offset (which you didn‚Äôt), 3. <code>UTC+05:30) Asia&#47;Kolkata</code> is not a valid time zone and does not give you the time zone that you think. Use the modern <code>ZoneId</code> and it will notify you through an exception -- only, then don‚Äôt swallow the exception, as I said."},{"owner":{"account_id":27906722,"reputation":1,"user_id":21309757,"display_name":"Nagesh R Shanbhag"},"score":0,"creation_date":1680703323,"post_id":75854163,"comment_id":133943209,"body_markdown":"@OleV.V. Thank you very much for the suggestion, Will take this as a learning.","body":"@OleV.V. Thank you very much for the suggestion, Will take this as a learning."}],"owner":{"account_id":27906722,"reputation":1,"user_id":21309757,"display_name":"Nagesh R Shanbhag"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680672284,"answer_count":0,"score":0,"last_activity_date":1680672331,"creation_date":1679909794,"question_id":75854163,"body_markdown":"My epoch value is 3 days ahead of the actual time passed as input.\r\n\r\nI have a date 2023-03-21T04:34:12.234567800Z in which 00Z is the offset, but once I convert it to epoch in java, I am getting an epoch output which is 3 days ahead of the time in the actual date given above? Any idea on how we can form date format for Dates having offset 00Z. I am using this format -&gt;&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;\r\n\r\nThis is the code snippet I have worked upon\r\n```\r\npublic class date_to_epoch {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t//The date format against which the Date will be matched\r\n\t\tSimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSSSS&quot;);\r\n\t\t//Timezone\r\n\t\tdf.setTimeZone(TimeZone.getTimeZone(&quot;(UTC+05:30) Asia/Kolkata&quot;));\r\n\t\ttry {\r\n\t\t\t@SuppressWarnings(&quot;unused&quot;)\r\n\t\t\tString rtValue=&quot;2023-03-21T04:34:12.234567800Z&quot;;\r\n\t\t\tDate date = df.parse(&quot;2023-03-21T04:34:12.234567800Z&quot;);\r\n\t\t\tSimpleDateFormat utcformat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSSSS&quot;);\r\n\t\t\tutcformat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\t\t\trtValue = utcformat.format(date);\r\n\t\t\tlong epoch = date.getTime(); // timestamp value received in rt field of log to epoch\r\n\t\t\tString sDatetime = String.valueOf(epoch);\r\n\t\t\tSystem.out.println(sDatetime);\r\n\t\t\t\r\n\t\t} catch (Exception ex) {\r\n\t\t}\r\n\t    \r\n\t}\r\n}\r\n```\r\n1679607819800--&gt; This was the epoch I am getting, which corresponds to a date three days ahead, So I am not able deduce the Date format for in this.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kwL2x.png","title":"Final epoch is 3 days ahead of the actual time given as input","body":"<p>My epoch value is 3 days ahead of the actual time passed as input.</p>\n<p>I have a date 2023-03-21T04:34:12.234567800Z in which 00Z is the offset, but once I convert it to epoch in java, I am getting an epoch output which is 3 days ahead of the time in the actual date given above? Any idea on how we can form date format for Dates having offset 00Z. I am using this format -&gt;&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;</p>\n<p>This is the code snippet I have worked upon</p>\n<pre><code>public class date_to_epoch {\n\n    public static void main(String[] args) {\n        //The date format against which the Date will be matched\n        SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSSSSSSS&quot;);\n        //Timezone\n        df.setTimeZone(TimeZone.getTimeZone(&quot;(UTC+05:30) Asia/Kolkata&quot;));\n        try {\n            @SuppressWarnings(&quot;unused&quot;)\n            String rtValue=&quot;2023-03-21T04:34:12.234567800Z&quot;;\n            Date date = df.parse(&quot;2023-03-21T04:34:12.234567800Z&quot;);\n            SimpleDateFormat utcformat = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSSSSSSS&quot;);\n            utcformat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n            rtValue = utcformat.format(date);\n            long epoch = date.getTime(); // timestamp value received in rt field of log to epoch\n            String sDatetime = String.valueOf(epoch);\n            System.out.println(sDatetime);\n            \n        } catch (Exception ex) {\n        }\n        \n    }\n}\n</code></pre>\n<p>1679607819800--&gt; This was the epoch I am getting, which corresponds to a date three days ahead, So I am not able deduce the Date format for in this.\n<a href=\"https://i.stack.imgur.com/kwL2x.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5356655,"reputation":5914,"user_id":4269149,"display_name":"Sarthak Mittal"},"score":2,"creation_date":1680664671,"post_id":75935372,"comment_id":133934902,"body_markdown":"I see 2 issues, first in constructor: it should be this.shift = shift; etc. and second: your fields should be public to be accessed from outside the class","body":"I see 2 issues, first in constructor: it should be this.shift = shift; etc. and second: your fields should be public to be accessed from outside the class"},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1680664931,"post_id":75935372,"comment_id":133934920,"body_markdown":"Here see this video: https://www.youtube.com/watch?v=mLqLgLJ-Ts0&amp;ab_channel=Access2Learn it will help you understand accessors and modifiers","body":"Here see this video: <a href=\"https://www.youtube.com/watch?v=mLqLgLJ-Ts0&amp;ab_channel=Access2Learn\" rel=\"nofollow noreferrer\">youtube.com/watch?v=mLqLgLJ-Ts0&amp;ab_channel=Access2Learn</a> it will help you understand accessors and modifiers"}],"answers":[{"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1680668649,"post_id":75935570,"comment_id":133935281,"body_markdown":"@tgdavies Huh? The type of `key1` is `Key`, not `Object`. The `Encrypt()` method accepts `Object` and `key1` is an `Object`.","body":"@tgdavies Huh? The type of <code>key1</code> is <code>Key</code>, not <code>Object</code>. The <code>Encrypt()</code> method accepts <code>Object</code> and <code>key1</code> is an <code>Object</code>."},{"owner":{"account_id":28218485,"reputation":3,"user_id":21569611,"display_name":"Mitchell Barrett"},"score":0,"creation_date":1680714426,"post_id":75935570,"comment_id":133946463,"body_markdown":"Specifying the Key  key1 did the trick. Is there a point to using Object &lt;objectname&gt; like i had done?","body":"Specifying the Key  key1 did the trick. Is there a point to using Object &lt;objectname&gt; like i had done?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1680725968,"post_id":75935570,"comment_id":133949076,"body_markdown":"No point if you want to invoke a method but actually you don&#39;t need to: make the parameter `Object` so you can encrypt anything, and pass `key1.shift` instead of `key1`!","body":"No point if you want to invoke a method but actually you don&#39;t need to: make the parameter <code>Object</code> so you can encrypt anything, and pass <code>key1.shift</code> instead of <code>key1</code>!"}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680671133,"creation_date":1680667646,"answer_id":75935570,"question_id":75935372,"body_markdown":"Your constructor is assigning the fields to the parameters:\r\n\r\n    public Key(int ID, int shift) {\r\n        ID = this.ID;\r\n        shift = this.shift;\r\n    }\r\n\r\nbut you want the opposite:\r\n\r\n    public Key(int ID, int shift) {\r\n        this.ID = ID;\r\n        this.shift = shift;\r\n    }\r\n\r\n---\r\n\r\nThe `Encrypt()` method accepts `Object`, so the code in the method can only access fields/methods of the `Object` class. Change the method parameter type to `Key`:\r\n\r\n    public String Encrypt(String message, Object key1) { // &lt;-- change to Key\r\n        // other code         \r\n        sEncrypted += (char)(line.charAt(i) + key1.shift;\r\n    }\r\n\r\nLike this:\r\n\r\n    public String Encrypt(String message, Key key1) {\r\n\r\nor even better, follow java naming conventions:\r\n\r\n    public String encrypt(String message, Key key) {\r\n","title":"Issues calling the field of an object to use in a method","body":"<p>Your constructor is assigning the fields to the parameters:</p>\n<pre><code>public Key(int ID, int shift) {\n    ID = this.ID;\n    shift = this.shift;\n}\n</code></pre>\n<p>but you want the opposite:</p>\n<pre><code>public Key(int ID, int shift) {\n    this.ID = ID;\n    this.shift = shift;\n}\n</code></pre>\n<hr />\n<p>The <code>Encrypt()</code> method accepts <code>Object</code>, so the code in the method can only access fields/methods of the <code>Object</code> class. Change the method parameter type to <code>Key</code>:</p>\n<pre><code>public String Encrypt(String message, Object key1) { // &lt;-- change to Key\n    // other code         \n    sEncrypted += (char)(line.charAt(i) + key1.shift;\n}\n</code></pre>\n<p>Like this:</p>\n<pre><code>public String Encrypt(String message, Key key1) {\n</code></pre>\n<p>or even better, follow java naming conventions:</p>\n<pre><code>public String encrypt(String message, Key key) {\n</code></pre>\n"}],"owner":{"account_id":28218485,"reputation":3,"user_id":21569611,"display_name":"Mitchell Barrett"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75935570,"answer_count":1,"score":0,"last_activity_date":1680671854,"creation_date":1680664440,"question_id":75935372,"body_markdown":"I am having an issue using the value of a field and I&#39;m not exactly sure what the issue is. My goal is to use the shift field from the Key Object to add its value to a char value. However, I keep getting the error &quot;shift cannot be resolved or is not a field&quot; when I call the object&#39;s field. I appear to have created the constructor, instanced the object, and sent it over correctly.\r\n\r\n\r\n\r\n    public class Key {\r\n        private int ID;\r\n        private int shift;\r\n    \r\n        public Key(int ID, int shift) {\r\n            ID = this.ID;\r\n            shift = this.shift;\r\n            //Here is the constructor for the object\r\n        }\r\n    }\r\n\r\n\r\nInstanced in a separate class\r\n\r\n    public void composeHelper() {\r\n        Key key1 = new Key(1, 3);\r\n        ....\r\n        ....\r\n           \r\n        encryptedMessage = message1.Encrypt(message, key1);\r\n    }\r\n\r\n\r\n\r\n\r\nBut I get the error shift cannot be resolved or is not a field\r\n\r\n\r\n    public String Encrypt(String message, Object key1) {         \r\n        String Encrypted = &quot;&quot;;\r\n        Scanner scn = new Scanner(message);\r\n        while (scn.hasNextLine()){   \r\n            String line = scn.nextLine();\r\n            String sEncrypted = &quot;&quot;;         \r\n            for(int i = 0; i &lt; line.length(); i++) {\r\n                sEncrypted += (char)(line.charAt(i) + key1.shift);                         \r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Issues calling the field of an object to use in a method","body":"<p>I am having an issue using the value of a field and I'm not exactly sure what the issue is. My goal is to use the shift field from the Key Object to add its value to a char value. However, I keep getting the error &quot;shift cannot be resolved or is not a field&quot; when I call the object's field. I appear to have created the constructor, instanced the object, and sent it over correctly.</p>\n<pre><code>public class Key {\n    private int ID;\n    private int shift;\n\n    public Key(int ID, int shift) {\n        ID = this.ID;\n        shift = this.shift;\n        //Here is the constructor for the object\n    }\n}\n</code></pre>\n<p>Instanced in a separate class</p>\n<pre><code>public void composeHelper() {\n    Key key1 = new Key(1, 3);\n    ....\n    ....\n       \n    encryptedMessage = message1.Encrypt(message, key1);\n}\n</code></pre>\n<p>But I get the error shift cannot be resolved or is not a field</p>\n<pre><code>public String Encrypt(String message, Object key1) {         \n    String Encrypted = &quot;&quot;;\n    Scanner scn = new Scanner(message);\n    while (scn.hasNextLine()){   \n        String line = scn.nextLine();\n        String sEncrypted = &quot;&quot;;         \n        for(int i = 0; i &lt; line.length(); i++) {\n            sEncrypted += (char)(line.charAt(i) + key1.shift);                         \n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","asynchronous","android-asynctask"],"answers":[{"comments":[{"owner":{"account_id":1778663,"reputation":1295,"user_id":1621913,"accept_rate":85,"display_name":"JoeyL"},"score":0,"creation_date":1364383694,"post_id":15657500,"comment_id":22220742,"body_markdown":"Very nice and thorough response along with multiple alternatives. Thanks once again Raghunandan","body":"Very nice and thorough response along with multiple alternatives. Thanks once again Raghunandan"},{"owner":{"account_id":29689,"reputation":57954,"user_id":80425,"accept_rate":93,"display_name":"David Snabel-Caunt"},"score":0,"creation_date":1364385730,"post_id":15657500,"comment_id":22221687,"body_markdown":"+1 for such a comprehensive answer. I was interested to read `The AsyncTask class must be loaded on the UI thread. This is done automatically as of JELLY_BEAN.` (from the docs) - do you know what is done automatically?","body":"+1 for such a comprehensive answer. I was interested to read <code>The AsyncTask class must be loaded on the UI thread. This is done automatically as of JELLY_BEAN.</code> (from the docs) - do you know what is done automatically?"},{"owner":{"account_id":330005,"reputation":132780,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":0,"creation_date":1364387044,"post_id":15657500,"comment_id":22222397,"body_markdown":"@ David Caunt check the link http://stackoverflow.com/questions/14978924/what-is-the-difference-between-loading-and-creating-asynctask-on-the-ui-thread.","body":"@ David Caunt check the link <a href=\"http://stackoverflow.com/questions/14978924/what-is-the-difference-between-loading-and-creating-asynctask-on-the-ui-thread\" title=\"what is the difference between loading and creating asynctask on the ui thread\">stackoverflow.com/questions/14978924/&hellip;</a>."},{"owner":{"account_id":330005,"reputation":132780,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":0,"creation_date":1378001207,"post_id":15657500,"comment_id":27295527,"body_markdown":"@Nate check the threading rules http://developer.android.com/reference/android/os/AsyncTask.html. Class loading and execute(Params...) must be invoked on the UI thread. I think its the same link i have posted in the answer and i merely quoted it from docs","body":"@Nate check the threading rules <a href=\"http://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/AsyncTask.html</a>. Class loading and execute(Params...) must be invoked on the UI thread. I think its the same link i have posted in the answer and i merely quoted it from docs"},{"owner":{"account_id":330005,"reputation":132780,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":0,"creation_date":1378001520,"post_id":15657500,"comment_id":27295576,"body_markdown":"@Nate could you edit that part. i guess the phrase loading is misleading","body":"@Nate could you edit that part. i guess the phrase loading is misleading"},{"owner":{"account_id":330005,"reputation":132780,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":0,"creation_date":1378001648,"post_id":15657500,"comment_id":27295603,"body_markdown":"@Nate Thank you. You are right about class loading i deleted the comment that said Loaded means ... must be spawned.","body":"@Nate Thank you. You are right about class loading i deleted the comment that said Loaded means ... must be spawned."}],"tags":[],"owner":{"account_id":330005,"reputation":132780,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1680671539,"creation_date":1364382908,"answer_id":15657500,"question_id":15657424,"body_markdown":"From the API docs:\r\n\r\n&gt; ‚Ä¢The task instance must be created on the UI thread.\r\n\r\ndoInBackground() runs on the background thread. So you cannot create and run another asynctask from doInBackground().\r\n\r\nhttp://developer.android.com/reference/android/os/AsyncTask. Have a look at the topic under **threading rules.**\r\n\r\nWhen an asynchronous task is executed, the task goes through 4 steps: (Straight from the doc)\r\n\r\n&gt; 1.onPreExecute(), invoked on the UI thread before the task is executed. This step is normally used to setup the task, for instance\r\n&gt; by showing a progress bar in the user interface.\r\n&gt; \r\n&gt; 2.**doInBackground(Params...), invoked on the background thread** immediately after onPreExecute() finishes executing. This step is used\r\n&gt; to perform background computation that can take a long time. The\r\n&gt; parameters of the asynchronous task are passed to this step. The\r\n&gt; result of the computation must be returned by this step and will be\r\n&gt; passed back to the last step. This step can also use\r\n&gt; publishProgress(Progress...) to publish one or more units of progress.\r\n&gt; These values are published on the UI thread, in the\r\n&gt; onProgressUpdate(Progress...) step.\r\n&gt; \r\n&gt; 3.onProgressUpdate(Progress...), invoked on the UI thread after a call to publishProgress(Progress...). The timing of the execution is\r\n&gt; undefined. This method is used to display any form of progress in the\r\n&gt; user interface while the background computation is still executing.\r\n&gt; For instance, it can be used to animate a progress bar or show logs in\r\n&gt; a text field.\r\n&gt; \r\n&gt; 4.onPostExecute(Result), invoked on the UI thread after the background computation finishes. The result of the background computation is\r\n&gt; passed to this step as a parameter.\r\n\r\n\r\nWhen first introduced, AsyncTasks were executed serially on a single background thread. Starting with DONUT, this was changed to a pool of threads allowing multiple tasks to operate in parallel. Starting with HONEYCOMB, tasks are executed on a single thread to avoid common application errors caused by parallel execution.\r\n\r\n**If you truly want parallel execution, you can invoke executeOnExecutor(java.util.concurrent.Executor, Object[]) with THREAD_POOL_EXECUTOR.**\r\n\r\n**Update 05-04-2023**\r\n\r\nAsyncTask is no more used in the android world for async stuff. Consider using Coroutines. Suggest to switch to coroutines ASAP\r\n\r\nhttps://developer.android.com/kotlin/coroutines?gclid=Cj0KCQjwla-hBhD7ARIsAM9tQKuy9BV88avgYYrrwkcCHJ1zktoctbOrdrWavXT0NTDktIfPdfb8Q-4aAqXIEALw_wcB&amp;gclsrc=aw.ds\r\n\r\nThe codelab sample is availabe at https://developer.android.com/codelabs/kotlin-coroutines#0\r\n\r\n\r\n","title":"Creating another AsyncTask inside of doInBackground","body":"<p>From the API docs:</p>\n<blockquote>\n<p>‚Ä¢The task instance must be created on the UI thread.</p>\n</blockquote>\n<p>doInBackground() runs on the background thread. So you cannot create and run another asynctask from doInBackground().</p>\n<p><a href=\"http://developer.android.com/reference/android/os/AsyncTask\" rel=\"nofollow noreferrer\">http://developer.android.com/reference/android/os/AsyncTask</a>. Have a look at the topic under <strong>threading rules.</strong></p>\n<p>When an asynchronous task is executed, the task goes through 4 steps: (Straight from the doc)</p>\n<blockquote>\n<p>1.onPreExecute(), invoked on the UI thread before the task is executed. This step is normally used to setup the task, for instance\nby showing a progress bar in the user interface.</p>\n<p>2.<strong>doInBackground(Params...), invoked on the background thread</strong> immediately after onPreExecute() finishes executing. This step is used\nto perform background computation that can take a long time. The\nparameters of the asynchronous task are passed to this step. The\nresult of the computation must be returned by this step and will be\npassed back to the last step. This step can also use\npublishProgress(Progress...) to publish one or more units of progress.\nThese values are published on the UI thread, in the\nonProgressUpdate(Progress...) step.</p>\n<p>3.onProgressUpdate(Progress...), invoked on the UI thread after a call to publishProgress(Progress...). The timing of the execution is\nundefined. This method is used to display any form of progress in the\nuser interface while the background computation is still executing.\nFor instance, it can be used to animate a progress bar or show logs in\na text field.</p>\n<p>4.onPostExecute(Result), invoked on the UI thread after the background computation finishes. The result of the background computation is\npassed to this step as a parameter.</p>\n</blockquote>\n<p>When first introduced, AsyncTasks were executed serially on a single background thread. Starting with DONUT, this was changed to a pool of threads allowing multiple tasks to operate in parallel. Starting with HONEYCOMB, tasks are executed on a single thread to avoid common application errors caused by parallel execution.</p>\n<p><strong>If you truly want parallel execution, you can invoke executeOnExecutor(java.util.concurrent.Executor, Object[]) with THREAD_POOL_EXECUTOR.</strong></p>\n<p><strong>Update 05-04-2023</strong></p>\n<p>AsyncTask is no more used in the android world for async stuff. Consider using Coroutines. Suggest to switch to coroutines ASAP</p>\n<p><a href=\"https://developer.android.com/kotlin/coroutines?gclid=Cj0KCQjwla-hBhD7ARIsAM9tQKuy9BV88avgYYrrwkcCHJ1zktoctbOrdrWavXT0NTDktIfPdfb8Q-4aAqXIEALw_wcB&amp;gclsrc=aw.ds\" rel=\"nofollow noreferrer\">https://developer.android.com/kotlin/coroutines?gclid=Cj0KCQjwla-hBhD7ARIsAM9tQKuy9BV88avgYYrrwkcCHJ1zktoctbOrdrWavXT0NTDktIfPdfb8Q-4aAqXIEALw_wcB&amp;gclsrc=aw.ds</a></p>\n<p>The codelab sample is availabe at <a href=\"https://developer.android.com/codelabs/kotlin-coroutines#0\" rel=\"nofollow noreferrer\">https://developer.android.com/codelabs/kotlin-coroutines#0</a></p>\n"},{"comments":[{"owner":{"account_id":29689,"reputation":57954,"user_id":80425,"accept_rate":93,"display_name":"David Snabel-Caunt"},"score":1,"creation_date":1364384620,"post_id":15657510,"comment_id":22221191,"body_markdown":"This isn&#39;t entirely true. The execute method executes the task on the default executor, which happens to be a single thread (serial) executor since Honeycomb, as you say. But you can execute tasks on your own executor with [executeOnExecutor](https://developer.android.com/reference/android/os/AsyncTask.html#executeOnExecutor(java.util.concurrent.Executor,%20Params...)). This works well for tasks which can safely be performed in parallel.","body":"This isn&#39;t entirely true. The execute method executes the task on the default executor, which happens to be a single thread (serial) executor since Honeycomb, as you say. But you can execute tasks on your own executor with <a href=\"https://developer.android.com/reference/android/os/AsyncTask.html#executeOnExecutor(java.util.concurrent.Executor,%20Params...)\" rel=\"nofollow noreferrer\">executeOnExecutor</a>. This works well for tasks which can safely be performed in parallel."},{"owner":{"account_id":306351,"reputation":12724,"user_id":617044,"accept_rate":88,"display_name":"Bill Mote"},"score":0,"creation_date":1364385551,"post_id":15657510,"comment_id":22221603,"body_markdown":"@DavidCaunt 100% true.  +1 Was just trying to keep it simple :)","body":"@DavidCaunt 100% true.  +1 Was just trying to keep it simple :)"}],"tags":[],"owner":{"account_id":306351,"reputation":12724,"user_id":617044,"accept_rate":88,"display_name":"Bill Mote"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364382931,"creation_date":1364382931,"answer_id":15657510,"question_id":15657424,"body_markdown":"AsyncTask(), with the exception of the Honeycomb releases, execute serially.  So, no, you cannot execute another AsyncTask() from within doInBackground() -- I guess I should say that I&#39;ve never tried it, but it&#39;s highly unlikely you&#39;re going to achieve the desired affect.\r\n\r\nI asked about AsyncTask() execution during one of the Google Office Hours.  Straight from their mouths when asked, &quot;Why did it change from serial to parallel and back to serial execution?&quot;; &quot;Because it broke a lot of stuff.&quot;","title":"Creating another AsyncTask inside of doInBackground","body":"<p>AsyncTask(), with the exception of the Honeycomb releases, execute serially.  So, no, you cannot execute another AsyncTask() from within doInBackground() -- I guess I should say that I've never tried it, but it's highly unlikely you're going to achieve the desired affect.</p>\n\n<p>I asked about AsyncTask() execution during one of the Google Office Hours.  Straight from their mouths when asked, \"Why did it change from serial to parallel and back to serial execution?\"; \"Because it broke a lot of stuff.\"</p>\n"}],"owner":{"account_id":1778663,"reputation":1295,"user_id":1621913,"accept_rate":85,"display_name":"JoeyL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":15657500,"answer_count":2,"score":1,"last_activity_date":1680671539,"creation_date":1364382670,"question_id":15657424,"body_markdown":"I recently looked through SO to find the answer [to the same question here][1], but there was not an answer directed at the question in regards to the risk of doing so.  But basically I want to run another `AsyncTask` inside the `doInBackground()` method of another `AsyncTask`.  Is this a bad approach and/or does it leave any potential side effects?  \r\n\r\nI know that running it in the `onPostExecute()` works and so far from past experiences I have not had any issues due to the fact that `onPostExecute()` runs back on the main thread which started a `AsyncTask` to begin with.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7607399/executing-a-thread-inside-asynctasks-doinbackground","title":"Creating another AsyncTask inside of doInBackground","body":"<p>I recently looked through SO to find the answer <a href=\"https://stackoverflow.com/questions/7607399/executing-a-thread-inside-asynctasks-doinbackground\">to the same question here</a>, but there was not an answer directed at the question in regards to the risk of doing so.  But basically I want to run another <code>AsyncTask</code> inside the <code>doInBackground()</code> method of another <code>AsyncTask</code>.  Is this a bad approach and/or does it leave any potential side effects?  </p>\n\n<p>I know that running it in the <code>onPostExecute()</code> works and so far from past experiences I have not had any issues due to the fact that <code>onPostExecute()</code> runs back on the main thread which started a <code>AsyncTask</code> to begin with.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1588003461,"post_id":61462999,"comment_id":108725866,"body_markdown":"Why do you have all these annotations on the Spring Boot class? You don&#39;t need them. Remove everything and just add @SpringBootApplication and try again","body":"Why do you have all these annotations on the Spring Boot class? You don&#39;t need them. Remove everything and just add @SpringBootApplication and try again"},{"owner":{"account_id":1428986,"reputation":584,"user_id":1351827,"accept_rate":45,"display_name":"Patrick Aquilone"},"score":0,"creation_date":1588003745,"post_id":61462999,"comment_id":108726047,"body_markdown":"@SimonMartinelli if I remove the enable jpa then it says there is no bean when I inject it into a service class.","body":"@SimonMartinelli if I remove the enable jpa then it says there is no bean when I inject it into a service class."},{"owner":{"account_id":1428986,"reputation":584,"user_id":1351827,"accept_rate":45,"display_name":"Patrick Aquilone"},"score":0,"creation_date":1588004113,"post_id":61462999,"comment_id":108726257,"body_markdown":"@SimonMartinelli I stripped it down to just {at}SpringBootApplication {at}EnableJpaRepositories and it still gives me the not a managed type error.  It appears without the enable jpa repos that it will not make a bean with the {at}Repository annotation.","body":"@SimonMartinelli I stripped it down to just {at}SpringBootApplication {at}EnableJpaRepositories and it still gives me the not a managed type error.  It appears without the enable jpa repos that it will not make a bean with the {at}Repository annotation."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1588004114,"post_id":61462999,"comment_id":108726258,"body_markdown":"What are you injecting? The entity?","body":"What are you injecting? The entity?"},{"owner":{"account_id":1428986,"reputation":584,"user_id":1351827,"accept_rate":45,"display_name":"Patrick Aquilone"},"score":0,"creation_date":1588004246,"post_id":61462999,"comment_id":108726341,"body_markdown":"@SimonMartinelli I added the Adaptor class that is injecting this bean.  The adaptor is then used in the service to make the call to the DB2.","body":"@SimonMartinelli I added the Adaptor class that is injecting this bean.  The adaptor is then used in the service to make the call to the DB2."}],"answers":[{"comments":[{"owner":{"account_id":1428986,"reputation":584,"user_id":1351827,"accept_rate":45,"display_name":"Patrick Aquilone"},"score":0,"creation_date":1588003600,"post_id":61463109,"comment_id":108725955,"body_markdown":"I changed it to customerId and still get the same error about not a managed type.","body":"I changed it to customerId and still get the same error about not a managed type."},{"owner":{"account_id":15925013,"reputation":1027,"user_id":11490808,"display_name":"H∆∞ng Chu"},"score":0,"creation_date":1588003723,"post_id":61463109,"comment_id":108726034,"body_markdown":"Then maybe the error is about the configuration. Spring Boot remove this burden for you already, just remove all the annotations in main class with @SpringBootApplication and run again","body":"Then maybe the error is about the configuration. Spring Boot remove this burden for you already, just remove all the annotations in main class with @SpringBootApplication and run again"},{"owner":{"account_id":1428986,"reputation":584,"user_id":1351827,"accept_rate":45,"display_name":"Patrick Aquilone"},"score":0,"creation_date":1588003831,"post_id":61463109,"comment_id":108726092,"body_markdown":"If I remove the enable jpa line then it does not find a bean when I try to inject this into a service adaptor.  I can remove the scan packages on Spring Boot App.","body":"If I remove the enable jpa line then it does not find a bean when I try to inject this into a service adaptor.  I can remove the scan packages on Spring Boot App."},{"owner":{"account_id":15925013,"reputation":1027,"user_id":11490808,"display_name":"H∆∞ng Chu"},"score":0,"creation_date":1588004085,"post_id":61463109,"comment_id":108726241,"body_markdown":"which spring boot version that you are using?","body":"which spring boot version that you are using?"},{"owner":{"account_id":1428986,"reputation":584,"user_id":1351827,"accept_rate":45,"display_name":"Patrick Aquilone"},"score":0,"creation_date":1588004261,"post_id":61463109,"comment_id":108726354,"body_markdown":"Spring Boot 2.2.5","body":"Spring Boot 2.2.5"},{"owner":{"account_id":15925013,"reputation":1027,"user_id":11490808,"display_name":"H∆∞ng Chu"},"score":0,"creation_date":1588004699,"post_id":61463109,"comment_id":108726606,"body_markdown":"Hmm have you try remove the Repository annotations?","body":"Hmm have you try remove the Repository annotations?"},{"owner":{"account_id":15925013,"reputation":1027,"user_id":11490808,"display_name":"H∆∞ng Chu"},"score":0,"creation_date":1588004758,"post_id":61463109,"comment_id":108726643,"body_markdown":"Which dbms you are using btw","body":"Which dbms you are using btw"},{"owner":{"account_id":1428986,"reputation":584,"user_id":1351827,"accept_rate":45,"display_name":"Patrick Aquilone"},"score":0,"creation_date":1588004895,"post_id":61463109,"comment_id":108726716,"body_markdown":"I will try removing the @Repository notation.\ndbms?  Do you mean like Hibernate or am I misunderstanding the ask?","body":"I will try removing the @Repository notation. dbms?  Do you mean like Hibernate or am I misunderstanding the ask?"},{"owner":{"account_id":15925013,"reputation":1027,"user_id":11490808,"display_name":"H∆∞ng Chu"},"score":0,"creation_date":1588004930,"post_id":61463109,"comment_id":108726738,"body_markdown":"i mean which database you are using?","body":"i mean which database you are using?"},{"owner":{"account_id":1428986,"reputation":584,"user_id":1351827,"accept_rate":45,"display_name":"Patrick Aquilone"},"score":0,"creation_date":1588004945,"post_id":61463109,"comment_id":108726746,"body_markdown":"Removing the @Repository didn&#39;t change anything.","body":"Removing the @Repository didn&#39;t change anything."},{"owner":{"account_id":1428986,"reputation":584,"user_id":1351827,"accept_rate":45,"display_name":"Patrick Aquilone"},"score":0,"creation_date":1588004979,"post_id":61463109,"comment_id":108726768,"body_markdown":"I am calling DB2 database.","body":"I am calling DB2 database."}],"tags":[],"owner":{"account_id":15925013,"reputation":1027,"user_id":11490808,"display_name":"H∆∞ng Chu"},"comment_count":11,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588008074,"creation_date":1588003378,"answer_id":61463109,"question_id":61462999,"body_markdown":"The Query looks like SQL query, you need to change it to JPQL query syntax.\r\n\r\n    select c.customerId from CustDto c where c.taxPayerId = :taxPayerId","title":"java.lang.IllegalArgumentException: Not a managed type With @Entity and @Repository Setup with Spring Boot 2","body":"<p>The Query looks like SQL query, you need to change it to JPQL query syntax.</p>\n\n<pre><code>select c.customerId from CustDto c where c.taxPayerId = :taxPayerId\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1428986,"reputation":584,"user_id":1351827,"accept_rate":45,"display_name":"Patrick Aquilone"},"score":0,"creation_date":1588008371,"post_id":61464466,"comment_id":108728751,"body_markdown":"Removed all the scan packages and it threw errors on other beans not being created.  I added this one above here and it still gives the same error.  It is like it does not see it has {at}Entity on it but it does.","body":"Removed all the scan packages and it threw errors on other beans not being created.  I added this one above here and it still gives the same error.  It is like it does not see it has {at}Entity on it but it does."}],"tags":[],"owner":{"account_id":6667686,"reputation":186,"user_id":5144829,"display_name":"karan007"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601981635,"creation_date":1588007637,"answer_id":61464466,"question_id":61462999,"body_markdown":"The problem lies within the `@SpringBootApplication` , try to remove the `*` within the package name and try to write full packaged structure.\r\n\r\n    @SpringBootApplication(scanBasePackages = {\r\n       &quot;com.schwab.brokerage.party.onborading.api.outbound.db2.models&quot;\r\n    })\r\n\r\nAlso note that `@EntityScan` does not create beans. Only `@SpringBootApplication` will create beans, `@EntityScan` only identifies which classes should be used by a specific persistence context.\r\n\r\nTry not to scan every package, as everything within the base package having main class , scan everything within the package , having `@Component` or any stereotype annotation.\r\n","title":"java.lang.IllegalArgumentException: Not a managed type With @Entity and @Repository Setup with Spring Boot 2","body":"<p>The problem lies within the <code>@SpringBootApplication</code> , try to remove the <code>*</code> within the package name and try to write full packaged structure.</p>\n<pre><code>@SpringBootApplication(scanBasePackages = {\n   &quot;com.schwab.brokerage.party.onborading.api.outbound.db2.models&quot;\n})\n</code></pre>\n<p>Also note that <code>@EntityScan</code> does not create beans. Only <code>@SpringBootApplication</code> will create beans, <code>@EntityScan</code> only identifies which classes should be used by a specific persistence context.</p>\n<p>Try not to scan every package, as everything within the base package having main class , scan everything within the package , having <code>@Component</code> or any stereotype annotation.</p>\n"},{"comments":[{"owner":{"account_id":12219879,"reputation":159,"user_id":8919296,"display_name":"Ed Bighands"},"score":0,"creation_date":1601983294,"post_id":61598255,"comment_id":113569581,"body_markdown":"ATSpringBootApplication uses ATEnableAutoConfiguration already scans for ATEntity classes present in the base package. Unless the entities are defined separately outside you scan base package, you won&#39;t need the ATEntityScan. Just the ATSpringBootApplication would suffice. Now as to why in you case supplying both ATEntityScan and ATSpringBootApplication is causing the issue needs investigation.","body":"ATSpringBootApplication uses ATEnableAutoConfiguration already scans for ATEntity classes present in the base package. Unless the entities are defined separately outside you scan base package, you won&#39;t need the ATEntityScan. Just the ATSpringBootApplication would suffice. Now as to why in you case supplying both ATEntityScan and ATSpringBootApplication is causing the issue needs investigation."}],"tags":[],"owner":{"account_id":1428986,"reputation":584,"user_id":1351827,"accept_rate":45,"display_name":"Patrick Aquilone"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1588613712,"creation_date":1588613712,"answer_id":61598255,"question_id":61462999,"body_markdown":"So for whatever reason stripping the application down to the following fixed my error.\r\n\r\n```\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\n@EnableJpaRepositories\r\npublic class BrokeragePartyOnboradingApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(BrokeragePartyOnboradingApplication.class, args);\r\n    }\r\n\r\n}\r\n```","title":"java.lang.IllegalArgumentException: Not a managed type With @Entity and @Repository Setup with Spring Boot 2","body":"<p>So for whatever reason stripping the application down to the following fixed my error.</p>\n\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\n@EnableJpaRepositories\npublic class BrokeragePartyOnboradingApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BrokeragePartyOnboradingApplication.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20781849,"reputation":1,"user_id":15262083,"display_name":"Gaurav Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680670811,"creation_date":1680113482,"answer_id":75880731,"question_id":61462999,"body_markdown":"Please use the `jakarta.persistence` package instead of the `javax.Persistence` package. \r\n\r\nAlso note the following points:\r\n\r\n 1. For Spring boot version above 3.0.0 use `jakarta.persistence` package\r\n 2. `javax.persistance` works perfectly with any Spring Boot versions less than 3.0\r\n\r\n[Here is a screenshot of the required import statements][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PJAPf.jpg","title":"java.lang.IllegalArgumentException: Not a managed type With @Entity and @Repository Setup with Spring Boot 2","body":"<p>Please use the <code>jakarta.persistence</code> package instead of the <code>javax.Persistence</code> package.</p>\n<p>Also note the following points:</p>\n<ol>\n<li>For Spring boot version above 3.0.0 use <code>jakarta.persistence</code> package</li>\n<li><code>javax.persistance</code> works perfectly with any Spring Boot versions less than 3.0</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/PJAPf.jpg\" rel=\"nofollow noreferrer\">Here is a screenshot of the required import statements</a></p>\n"}],"owner":{"account_id":1428986,"reputation":584,"user_id":1351827,"accept_rate":45,"display_name":"Patrick Aquilone"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7030,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61598255,"answer_count":4,"score":1,"last_activity_date":1680670811,"creation_date":1588003012,"question_id":61462999,"body_markdown":"I have looked through all the other stackoverflows for this topic and none had the answer.  I am getting the &quot;Not a managed type&quot; on my Entity.  Here are the classes.\r\n\r\nENTITY:\r\n```\r\npackage com.somecompany.brokerage.party.onborading.api.outbound.db2.models;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport javax.jdo.annotations.Unique;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\nimport java.io.Serializable;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@Entity\r\n@Table(name = &quot;CUST&quot;, schema = &quot;SAMS&quot;)\r\npublic class CustDto implements Serializable {\r\n\r\n    private static final long serialVersionUID = -3304734256617027874L;\r\n\r\n    @Id\r\n    @Unique(name = &quot;IXCUS1&quot;)\r\n    @Column(name = &quot;CUST_ID&quot;)\r\n    private Integer customerId;\r\n\r\n    @Column(name = &quot;CUST_CAN_CALL_IN&quot;)\r\n    private String customerCanCallIn;\r\n\r\n    @Column(name = &quot;CUST_ADD_DT&quot;)\r\n    private Integer customerAddDate;\r\n\r\n    @Unique(name = &quot;IXCUS2&quot;)\r\n    @Column(name = &quot;TXPYR_ID&quot;)\r\n    private String taxPayerId;\r\n\r\n\r\n}\r\n```\r\n\r\nREPO:\r\n```\r\npackage com.somecompany.brokerage.party.onborading.api.outbound.db2.connector;\r\n\r\nimport com.somecompany.brokerage.party.onborading.api.outbound.db2.models.CustDto;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.data.repository.query.Param;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic interface DB2CustConnector extends JpaRepository&lt;CustDto, Integer&gt; {\r\n\r\n    @Query(&quot;select CUST_ID from SAMS.CUST where TXPYR_ID = &#39;:taxPayerId&#39;&quot;)\r\n    List&lt;CustDto&gt; retrieveCustomerIdByTaxPayerId(@Param(&quot;taxPayerId&quot;) String taxPayerId);\r\n\r\n}\r\n```\r\n\r\nAPPLICATION:\r\n```\r\npackage com.somecompany.brokerage.party.onborading;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication(scanBasePackages = {\r\n        &quot;com.somecompany.brokerage.party.onborading.*&quot;,\r\n        &quot;com.somecompany.brokerage.party.onborading.exception&quot;,\r\n        &quot;com.somecompany.brokerage.party.onborading.service&quot;,\r\n        &quot;com.somecompany.brokerage.party.onborading.api.outbound.db2.*&quot;,\r\n        &quot;com.somecompany.brokerage.party.onborading.api.outbound.rest.*&quot;,\r\n        &quot;com.somecompany.brokerage.party.onborading.api.inbound.rest.*&quot;\r\n})\r\n@EnableJpaRepositories(basePackages = {\r\n        &quot;com.somecompany.brokerage.party.onborading.api.outbound.db2.connector&quot;\r\n})\r\n@EntityScan(basePackages = {\r\n        &quot;com.somecompany.brokerage.party.onborading.api.outbound.db2.models&quot;\r\n})\r\npublic class BrokeragePartyOnboradingApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(BrokeragePartyOnboradingApplication.class, args);\r\n    }\r\n\r\n\r\n}\r\n```\r\nADAPTOR:\r\n```\r\npackage com.somecompany.brokerage.party.onborading.api.outbound.db2.adaptor;\r\n\r\nimport com.somecompany.brokerage.party.onborading.api.outbound.db2.connector.DB2CustConnector;\r\nimport com.somecompany.brokerage.party.onborading.api.outbound.db2.models.CustDto;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.List;\r\n\r\n@Component\r\npublic class DB2Adaptor {\r\n\r\n    private final DB2CustConnector db2CustConnector;\r\n\r\n    public DB2Adaptor(\r\n            DB2CustConnector db2CustConnector\r\n    ) {\r\n        this.db2CustConnector = db2CustConnector;\r\n    }\r\n\r\n    public List&lt;CustDto&gt; retrieveCustomerByTaxPayerId(String TaxPayerId) {\r\n        return db2CustConnector.retrieveCustomerIdByTaxPayerId(TaxPayerId);\r\n    }\r\n\r\n}\r\n```\r\n\r\nStack Trace:\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;customerController&#39; defined in file [C:\\code\\java\\workspace\\brokerage-party-onboarding\\application\\build\\classes\\java\\main\\com\\somecompany\\brokerage\\party\\onborading\\api\\inbound\\rest\\controller\\CustomerController.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;onboardingService&#39; defined in file [C:\\code\\java\\workspace\\brokerage-party-onboarding\\application\\build\\classes\\java\\main\\com\\somecompany\\brokerage\\party\\onborading\\service\\OnboardingService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;DB2Adaptor&#39; defined in file [C:\\code\\java\\workspace\\brokerage-party-onboarding\\application\\build\\classes\\java\\main\\com\\somecompany\\brokerage\\party\\onborading\\api\\outbound\\db2\\adaptor\\DB2Adaptor.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;DB2CustConnector&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class com.somecompany.brokerage.party.onborading.api.outbound.db2.models.CustDto\r\n  at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:228) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1358) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878) ~[spring-context-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n  at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) [spring-boot-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n  at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n  at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n  at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n  at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n  at com.somecompany.brokerage.party.onborading.BrokeragePartyOnboradingApplication.main(BrokeragePartyOnboradingApplication.java:27) [main/:na]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;onboardingService&#39; defined in file [C:\\code\\java\\workspace\\brokerage-party-onboarding\\application\\build\\classes\\java\\main\\com\\somecompany\\brokerage\\party\\onborading\\service\\OnboardingService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;DB2Adaptor&#39; defined in file [C:\\code\\java\\workspace\\brokerage-party-onboarding\\application\\build\\classes\\java\\main\\com\\somecompany\\brokerage\\party\\onborading\\api\\outbound\\db2\\adaptor\\DB2Adaptor.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;DB2CustConnector&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class com.somecompany.brokerage.party.onborading.api.outbound.db2.models.CustDto\r\n  at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:228) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1358) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1207) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  ... 19 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;DB2Adaptor&#39; defined in file [C:\\code\\java\\workspace\\brokerage-party-onboarding\\application\\build\\classes\\java\\main\\com\\somecompany\\brokerage\\party\\onborading\\api\\outbound\\db2\\adaptor\\DB2Adaptor.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;DB2CustConnector&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class com.somecompany.brokerage.party.onborading.api.outbound.db2.models.CustDto\r\n  at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:228) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1358) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1207) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  ... 33 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;DB2CustConnector&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class com.somecompany.brokerage.party.onborading.api.outbound.db2.models.CustDto\r\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1207) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  ... 47 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.somecompany.brokerage.party.onborading.api.outbound.db2.models.CustDto\r\n  at org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:582) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n  at org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:85) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n  at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:74) ~[spring-data-jpa-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n  at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:66) ~[spring-data-jpa-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n  at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:211) ~[spring-data-jpa-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n  at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:161) ~[spring-data-jpa-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n  at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:144) ~[spring-data-jpa-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n  at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:69) ~[spring-data-jpa-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n  at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:312) ~[spring-data-commons-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n  at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297) ~[spring-data-commons-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n  at org.springframework.data.util.Lazy.getNullable(Lazy.java:212) ~[spring-data-commons-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n  at org.springframework.data.util.Lazy.get(Lazy.java:94) ~[spring-data-commons-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n  at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:300) ~[spring-data-commons-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n  at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:121) ~[spring-data-jpa-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\r\n  ... 58 common frames omitted\r\n```\r\n\r\nI can add any code if someone needs any others but I feel these are the big one.\r\n\r\nSpring Boot 2.2.5\r\n\r\nI have been searching and reading for hours and have not found an answer.\r\n\r\nTRIED: Changing the sql to reflect the CustDto class info.  Still get the error.\r\n```\r\n@Repository\r\npublic interface DB2CustConnector extends JpaRepository&lt;CustDto, Integer&gt; {\r\n\r\n    @Query(&quot;select c.customerId from CustDto c where c.taxPayerId = &#39;:taxPayerId&#39;&quot;)\r\n    List&lt;CustDto&gt; retrieveCustomerIdByTaxPayerId(@Param(&quot;taxPayerId&quot;) String taxPayerId);\r\n\r\n}\r\n```\r\n\r\nTRIED: Removing the annotation and the query to see if that is the isse.  Still get the error.\r\n```\r\npublic interface DB2CustConnector extends JpaRepository&lt;CustDto, Integer&gt; {\r\n\r\n}\r\n```\r\n\r\nNOTE: while debugging org.hibernate.metamodel.internal.MetamodelImpl in method managedType the jpaEntityTypeMap is empty.  Any thoughts on how I can make this have values since I alreayd use @Entity and @EntityScan?","title":"java.lang.IllegalArgumentException: Not a managed type With @Entity and @Repository Setup with Spring Boot 2","body":"<p>I have looked through all the other stackoverflows for this topic and none had the answer.  I am getting the &quot;Not a managed type&quot; on my Entity.  Here are the classes.</p>\n<p>ENTITY:</p>\n<pre><code>package com.somecompany.brokerage.party.onborading.api.outbound.db2.models;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.jdo.annotations.Unique;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport java.io.Serializable;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Entity\n@Table(name = &quot;CUST&quot;, schema = &quot;SAMS&quot;)\npublic class CustDto implements Serializable {\n\n    private static final long serialVersionUID = -3304734256617027874L;\n\n    @Id\n    @Unique(name = &quot;IXCUS1&quot;)\n    @Column(name = &quot;CUST_ID&quot;)\n    private Integer customerId;\n\n    @Column(name = &quot;CUST_CAN_CALL_IN&quot;)\n    private String customerCanCallIn;\n\n    @Column(name = &quot;CUST_ADD_DT&quot;)\n    private Integer customerAddDate;\n\n    @Unique(name = &quot;IXCUS2&quot;)\n    @Column(name = &quot;TXPYR_ID&quot;)\n    private String taxPayerId;\n\n\n}\n</code></pre>\n<p>REPO:</p>\n<pre><code>package com.somecompany.brokerage.party.onborading.api.outbound.db2.connector;\n\nimport com.somecompany.brokerage.party.onborading.api.outbound.db2.models.CustDto;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n@Repository\npublic interface DB2CustConnector extends JpaRepository&lt;CustDto, Integer&gt; {\n\n    @Query(&quot;select CUST_ID from SAMS.CUST where TXPYR_ID = ':taxPayerId'&quot;)\n    List&lt;CustDto&gt; retrieveCustomerIdByTaxPayerId(@Param(&quot;taxPayerId&quot;) String taxPayerId);\n\n}\n</code></pre>\n<p>APPLICATION:</p>\n<pre><code>package com.somecompany.brokerage.party.onborading;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication(scanBasePackages = {\n        &quot;com.somecompany.brokerage.party.onborading.*&quot;,\n        &quot;com.somecompany.brokerage.party.onborading.exception&quot;,\n        &quot;com.somecompany.brokerage.party.onborading.service&quot;,\n        &quot;com.somecompany.brokerage.party.onborading.api.outbound.db2.*&quot;,\n        &quot;com.somecompany.brokerage.party.onborading.api.outbound.rest.*&quot;,\n        &quot;com.somecompany.brokerage.party.onborading.api.inbound.rest.*&quot;\n})\n@EnableJpaRepositories(basePackages = {\n        &quot;com.somecompany.brokerage.party.onborading.api.outbound.db2.connector&quot;\n})\n@EntityScan(basePackages = {\n        &quot;com.somecompany.brokerage.party.onborading.api.outbound.db2.models&quot;\n})\npublic class BrokeragePartyOnboradingApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BrokeragePartyOnboradingApplication.class, args);\n    }\n\n\n}\n</code></pre>\n<p>ADAPTOR:</p>\n<pre><code>package com.somecompany.brokerage.party.onborading.api.outbound.db2.adaptor;\n\nimport com.somecompany.brokerage.party.onborading.api.outbound.db2.connector.DB2CustConnector;\nimport com.somecompany.brokerage.party.onborading.api.outbound.db2.models.CustDto;\nimport org.springframework.stereotype.Component;\n\nimport java.util.List;\n\n@Component\npublic class DB2Adaptor {\n\n    private final DB2CustConnector db2CustConnector;\n\n    public DB2Adaptor(\n            DB2CustConnector db2CustConnector\n    ) {\n        this.db2CustConnector = db2CustConnector;\n    }\n\n    public List&lt;CustDto&gt; retrieveCustomerByTaxPayerId(String TaxPayerId) {\n        return db2CustConnector.retrieveCustomerIdByTaxPayerId(TaxPayerId);\n    }\n\n}\n</code></pre>\n<p>Stack Trace:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerController' defined in file [C:\\code\\java\\workspace\\brokerage-party-onboarding\\application\\build\\classes\\java\\main\\com\\somecompany\\brokerage\\party\\onborading\\api\\inbound\\rest\\controller\\CustomerController.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'onboardingService' defined in file [C:\\code\\java\\workspace\\brokerage-party-onboarding\\application\\build\\classes\\java\\main\\com\\somecompany\\brokerage\\party\\onborading\\service\\OnboardingService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'DB2Adaptor' defined in file [C:\\code\\java\\workspace\\brokerage-party-onboarding\\application\\build\\classes\\java\\main\\com\\somecompany\\brokerage\\party\\onborading\\api\\outbound\\db2\\adaptor\\DB2Adaptor.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'DB2CustConnector': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class com.somecompany.brokerage.party.onborading.api.outbound.db2.models.CustDto\n  at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:228) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1358) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878) ~[spring-context-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n  at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) [spring-boot-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n  at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n  at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n  at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n  at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n  at com.somecompany.brokerage.party.onborading.BrokeragePartyOnboradingApplication.main(BrokeragePartyOnboradingApplication.java:27) [main/:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'onboardingService' defined in file [C:\\code\\java\\workspace\\brokerage-party-onboarding\\application\\build\\classes\\java\\main\\com\\somecompany\\brokerage\\party\\onborading\\service\\OnboardingService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'DB2Adaptor' defined in file [C:\\code\\java\\workspace\\brokerage-party-onboarding\\application\\build\\classes\\java\\main\\com\\somecompany\\brokerage\\party\\onborading\\api\\outbound\\db2\\adaptor\\DB2Adaptor.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'DB2CustConnector': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class com.somecompany.brokerage.party.onborading.api.outbound.db2.models.CustDto\n  at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:228) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1358) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1207) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  ... 19 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'DB2Adaptor' defined in file [C:\\code\\java\\workspace\\brokerage-party-onboarding\\application\\build\\classes\\java\\main\\com\\somecompany\\brokerage\\party\\onborading\\api\\outbound\\db2\\adaptor\\DB2Adaptor.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'DB2CustConnector': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class com.somecompany.brokerage.party.onborading.api.outbound.db2.models.CustDto\n  at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:228) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1358) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1207) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  ... 33 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'DB2CustConnector': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class com.somecompany.brokerage.party.onborading.api.outbound.db2.models.CustDto\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1207) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  ... 47 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.somecompany.brokerage.party.onborading.api.outbound.db2.models.CustDto\n  at org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:582) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n  at org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:85) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n  at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:74) ~[spring-data-jpa-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n  at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:66) ~[spring-data-jpa-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n  at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:211) ~[spring-data-jpa-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n  at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:161) ~[spring-data-jpa-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n  at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:144) ~[spring-data-jpa-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n  at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:69) ~[spring-data-jpa-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n  at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:312) ~[spring-data-commons-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n  at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297) ~[spring-data-commons-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n  at org.springframework.data.util.Lazy.getNullable(Lazy.java:212) ~[spring-data-commons-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n  at org.springframework.data.util.Lazy.get(Lazy.java:94) ~[spring-data-commons-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n  at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:300) ~[spring-data-commons-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n  at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:121) ~[spring-data-jpa-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792) ~[spring-beans-5.2.4.RELEASE.jar:5.2.4.RELEASE]\n  ... 58 common frames omitted\n</code></pre>\n<p>I can add any code if someone needs any others but I feel these are the big one.</p>\n<p>Spring Boot 2.2.5</p>\n<p>I have been searching and reading for hours and have not found an answer.</p>\n<p>TRIED: Changing the sql to reflect the CustDto class info.  Still get the error.</p>\n<pre><code>@Repository\npublic interface DB2CustConnector extends JpaRepository&lt;CustDto, Integer&gt; {\n\n    @Query(&quot;select c.customerId from CustDto c where c.taxPayerId = ':taxPayerId'&quot;)\n    List&lt;CustDto&gt; retrieveCustomerIdByTaxPayerId(@Param(&quot;taxPayerId&quot;) String taxPayerId);\n\n}\n</code></pre>\n<p>TRIED: Removing the annotation and the query to see if that is the isse.  Still get the error.</p>\n<pre><code>public interface DB2CustConnector extends JpaRepository&lt;CustDto, Integer&gt; {\n\n}\n</code></pre>\n<p>NOTE: while debugging org.hibernate.metamodel.internal.MetamodelImpl in method managedType the jpaEntityTypeMap is empty.  Any thoughts on how I can make this have values since I alreayd use @Entity and @EntityScan?</p>\n"},{"tags":["java","compare","anagram"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1467824794,"post_id":38229648,"comment_id":63881193,"body_markdown":"Instead of converting the `char[]` back to `String` and then doing `charAt()` you could directly compare the characters in the arrays.","body":"Instead of converting the <code>char[]</code> back to <code>String</code> and then doing <code>charAt()</code> you could directly compare the characters in the arrays."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1467825311,"post_id":38229648,"comment_id":63881511,"body_markdown":"This is confusing. Do you want only anagrams or any permutation? The ways to check for one or the other are vastly different.","body":"This is confusing. Do you want only anagrams or any permutation? The ways to check for one or the other are vastly different."},{"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"score":5,"creation_date":1467825509,"post_id":38229648,"comment_id":63881638,"body_markdown":"I&#39;m pretty sure the second solution does not work. It will return true for &#39;ac&#39; and &#39;bb&#39;","body":"I&#39;m pretty sure the second solution does not work. It will return true for &#39;ac&#39; and &#39;bb&#39;"},{"owner":{"account_id":1255835,"reputation":293,"user_id":1974618,"accept_rate":62,"display_name":"Drew L. Facchiano"},"score":0,"creation_date":1467825926,"post_id":38229648,"comment_id":63881892,"body_markdown":"Bastien, you are very correct :)","body":"Bastien, you are very correct :)"}],"answers":[{"comments":[{"owner":{"account_id":1255835,"reputation":293,"user_id":1974618,"accept_rate":62,"display_name":"Drew L. Facchiano"},"score":0,"creation_date":1467825850,"post_id":38229940,"comment_id":63881839,"body_markdown":"Hey Pratik!\n\nThat was my initial thought. However, it&#39;s been pointed out to me that my ascii solution has a major problem. It&#39;s possible to get the wrong solutions based on certain combination. Pointed out by this fine fellow on Reddit\n\n&quot;if you give it the strings AD and BC. The first has ascii values 65 and 68, the second has values 66 and 67. They both sum up to 133 and would be treated as equal by your algorithm.&quot;\n\nIt seem&#39;s there are work arounds, however. For the sake of the problem it doesn&#39;t seem worth the fix for the edge cases.","body":"Hey Pratik!  That was my initial thought. However, it&#39;s been pointed out to me that my ascii solution has a major problem. It&#39;s possible to get the wrong solutions based on certain combination. Pointed out by this fine fellow on Reddit  &quot;if you give it the strings AD and BC. The first has ascii values 65 and 68, the second has values 66 and 67. They both sum up to 133 and would be treated as equal by your algorithm.&quot;  It seem&#39;s there are work arounds, however. For the sake of the problem it doesn&#39;t seem worth the fix for the edge cases."},{"owner":{"account_id":1255835,"reputation":293,"user_id":1974618,"accept_rate":62,"display_name":"Drew L. Facchiano"},"score":0,"creation_date":1467825885,"post_id":38229940,"comment_id":63881863,"body_markdown":"full post here : https://www.reddit.com/r/learnprogramming/comments/4rjg9x/which_is_the_better_anagram_solution/","body":"full post here : <a href=\"https://www.reddit.com/r/learnprogramming/comments/4rjg9x/which_is_the_better_anagram_solution/\" rel=\"nofollow noreferrer\">reddit.com/r/learnprogramming/comments/4rjg9x/&hellip;</a>"},{"owner":{"account_id":4009019,"reputation":64,"user_id":3302947,"display_name":"Pratik Upacharya"},"score":0,"creation_date":1467825982,"post_id":38229940,"comment_id":63881923,"body_markdown":"You can use another approach which uses hashmap .","body":"You can use another approach which uses hashmap ."},{"owner":{"account_id":1255835,"reputation":293,"user_id":1974618,"accept_rate":62,"display_name":"Drew L. Facchiano"},"score":0,"creation_date":1467826639,"post_id":38229940,"comment_id":63882296,"body_markdown":"I can see that. Mapping every character to a boolean and then comparing the two maps. That still seems like you&#39; d get a worse runtime then the sort approach.","body":"I can see that. Mapping every character to a boolean and then comparing the two maps. That still seems like you&#39; d get a worse runtime then the sort approach."},{"owner":{"account_id":4009019,"reputation":64,"user_id":3302947,"display_name":"Pratik Upacharya"},"score":0,"creation_date":1467826818,"post_id":38229940,"comment_id":63882385,"body_markdown":"I have added a solution , please have a look . Sorting approach will have (nlogn) complexity in worst case , but this approach will have o(n) complexity in worst case .","body":"I have added a solution , please have a look . Sorting approach will have (nlogn) complexity in worst case , but this approach will have o(n) complexity in worst case ."},{"owner":{"account_id":2247658,"reputation":3578,"user_id":1980659,"accept_rate":73,"display_name":"ForguesR"},"score":0,"creation_date":1467827672,"post_id":38229940,"comment_id":63882891,"body_markdown":"It will crash if there is a space in the string.  You should remove them first.  Something like `char[] first = stringOne.toLowerCase().replaceAll(&quot;\\\\s+&quot;,&quot;&quot;).toCharArray();`","body":"It will crash if there is a space in the string.  You should remove them first.  Something like <code>char[] first = stringOne.toLowerCase().replaceAll(&quot;\\\\s+&quot;,&quot;&quot;).toCharArray();</code>"},{"owner":{"account_id":2247658,"reputation":3578,"user_id":1980659,"accept_rate":73,"display_name":"ForguesR"},"score":0,"creation_date":1467836162,"post_id":38229940,"comment_id":63887605,"body_markdown":"It will also crash if there is anything else than letters (a to z or A to Z) in the string.","body":"It will also crash if there is anything else than letters (a to z or A to Z) in the string."}],"tags":[],"owner":{"account_id":4009019,"reputation":64,"user_id":3302947,"display_name":"Pratik Upacharya"},"comment_count":7,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1467826614,"creation_date":1467825509,"answer_id":38229940,"question_id":38229648,"body_markdown":"There are several ways to check whether two strings are anagrams or not . \r\nYour question is , which one is better solution . \r\nYour first solution has sorting logic. \r\nSorting has worst case complexity of (nlogn) . \r\nYour second logic is only using one loop which has complexity \r\nO(n) . \r\n\r\nSo out of this two , your second solution which is having only O(n) \r\ncomplexity will be a better solution than first one . \r\n\r\nOne possible solution : \r\n&lt;code&gt;\r\n   \r\n\r\n    private boolean checkAnagram(String stringOne , String stringTwo){\r\n            char[] first = stringOne.toLowerCase().toCharArray(); \r\n            char[] second = stringTwo.toLowerCase().toCharArray();\r\n            // if length of strings is not same \r\n            if (first.length != second.length)\r\n                return false;\r\n            int[] counts = new int[26]; \r\n            for (int i = 0; i &lt; first.length; i++){\r\n                counts[first[i]-97]++;  \r\n                counts[second[i]-97]--;   \r\n            }\r\n            for (int i = 0; i&lt;26; i++)\r\n                if (counts[i] != 0)\r\n                    return false;\r\n            return true;\r\n        }\r\n\r\n&lt;/code&gt;\r\n","title":"Best solution for an anagram check?","body":"<p>There are several ways to check whether two strings are anagrams or not . \nYour question is , which one is better solution . \nYour first solution has sorting logic. \nSorting has worst case complexity of (nlogn) . \nYour second logic is only using one loop which has complexity \nO(n) . </p>\n\n<p>So out of this two , your second solution which is having only O(n) \ncomplexity will be a better solution than first one . </p>\n\n<p>One possible solution : \n<code></p>\n\n<pre><code>private boolean checkAnagram(String stringOne , String stringTwo){\n        char[] first = stringOne.toLowerCase().toCharArray(); \n        char[] second = stringTwo.toLowerCase().toCharArray();\n        // if length of strings is not same \n        if (first.length != second.length)\n            return false;\n        int[] counts = new int[26]; \n        for (int i = 0; i &lt; first.length; i++){\n            counts[first[i]-97]++;  \n            counts[second[i]-97]--;   \n        }\n        for (int i = 0; i&lt;26; i++)\n            if (counts[i] != 0)\n                return false;\n        return true;\n    }\n</code></pre>\n\n<p></code></p>\n"},{"comments":[{"owner":{"account_id":9348960,"reputation":322,"user_id":6939310,"accept_rate":75,"display_name":"K.Rzepecka"},"score":0,"creation_date":1493570343,"post_id":38230449,"comment_id":74461494,"body_markdown":"This solution has some faults. According to your solution, you sort chars from Strings received in method&#39;s parameters but you don&#39;t ignore blank spaces and uppercase, so for example: &quot;isAnagram(&quot;William Shakespeare&quot;, &quot;I am a weakish speller&quot;)&quot; mentioned above returns false instead of true.","body":"This solution has some faults. According to your solution, you sort chars from Strings received in method&#39;s parameters but you don&#39;t ignore blank spaces and uppercase, so for example: &quot;isAnagram(&quot;William Shakespeare&quot;, &quot;I am a weakish speller&quot;)&quot; mentioned above returns false instead of true."}],"tags":[],"owner":{"account_id":7208896,"reputation":11,"user_id":6557286,"display_name":"ModernBison"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467832609,"creation_date":1467827128,"answer_id":38230449,"question_id":38229648,"body_markdown":"The best solution depends on your objective, code size, memory footprint or least computation.\r\n\r\nA very cool solution, less code as possible, not being the fastest O(nlog n) and pretty memory inefficient in Java 8 :\r\n\r\n    public class Anagram {\r\n      public static void main(String[] argc) {\r\n        String str1 = &quot;gody&quot;;\r\n        String str2 = &quot;dogy&quot;;\r\n\r\n        boolean isAnagram =\r\n        str1.chars().mapToObj(c -&gt; (char) c).sorted().collect(Collectors.toList())\r\n        .equals(str2.chars().mapToObj(c -&gt; (char) c).sorted().collect(Collectors.toList()));\r\n\r\n        System.out.println(isAnagram);\r\n      }\r\n    }","title":"Best solution for an anagram check?","body":"<p>The best solution depends on your objective, code size, memory footprint or least computation.</p>\n\n<p>A very cool solution, less code as possible, not being the fastest O(nlog n) and pretty memory inefficient in Java 8 :</p>\n\n<pre><code>public class Anagram {\n  public static void main(String[] argc) {\n    String str1 = \"gody\";\n    String str2 = \"dogy\";\n\n    boolean isAnagram =\n    str1.chars().mapToObj(c -&gt; (char) c).sorted().collect(Collectors.toList())\n    .equals(str2.chars().mapToObj(c -&gt; (char) c).sorted().collect(Collectors.toList()));\n\n    System.out.println(isAnagram);\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3725019,"reputation":592,"user_id":3099132,"display_name":"Œ∫œÅŒøŒ∫œÇ"},"score":1,"creation_date":1467829239,"post_id":38230893,"comment_id":63883744,"body_markdown":"Your _Algorithm 1_ returns `true` for `isAnagrams1(&quot;good&quot;, &quot;dogg&quot;)`, you need to make sure each character appears the same number of times.","body":"Your <i>Algorithm 1</i> returns <code>true</code> for <code>isAnagrams1(&quot;good&quot;, &quot;dogg&quot;)</code>, you need to make sure each character appears the same number of times."},{"owner":{"account_id":7486911,"reputation":444,"user_id":5689806,"accept_rate":50,"display_name":"Propagandian"},"score":1,"creation_date":1467829372,"post_id":38230893,"comment_id":63883807,"body_markdown":"Yes, then the Set thing won&#39;t really work. Sorry about that.","body":"Yes, then the Set thing won&#39;t really work. Sorry about that."},{"owner":{"account_id":3725019,"reputation":592,"user_id":3099132,"display_name":"Œ∫œÅŒøŒ∫œÇ"},"score":2,"creation_date":1467829536,"post_id":38230893,"comment_id":63883909,"body_markdown":"You can use a `HashMap&lt;Character, Integer&gt;` and increase/decrease the counts, in similar fashion with what Pratik is doing with the arrays.","body":"You can use a <code>HashMap&lt;Character, Integer&gt;</code> and increase/decrease the counts, in similar fashion with what Pratik is doing with the arrays."}],"tags":[],"owner":{"account_id":7486911,"reputation":444,"user_id":5689806,"accept_rate":50,"display_name":"Propagandian"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467829113,"creation_date":1467828597,"answer_id":38230893,"question_id":38229648,"body_markdown":"I tried a few solutions using Sets, and made each one run 10 million times to test using your example array of:\r\n\r\n`private static String[] input = {&quot;tea&quot;, &quot;ate&quot;, &quot;eat&quot;, &quot;apple&quot;, &quot;java&quot;, &quot;vaja&quot;, &quot;cut&quot;, &quot;utc&quot;};`\r\n\r\nFirstly, the method i used to call these algotirhms:\r\n\r\n\r\n    public static void main(String[] args) {\r\n        long startTime = System.currentTimeMillis();\r\n        for (int x = 0; x &lt; 10000000; x++) {\r\n            Set&lt;String&gt; confirmedAnagrams = new HashSet&lt;&gt;();\r\n            for (int i = 0; i &lt; (input.length / 2) + 1; i++) {\r\n                if (!confirmedAnagrams.contains(input[i])) {\r\n                    for (int j = i + 1; j &lt; input.length; j++) {\r\n                            if (isAnagrams1(input[i], input[j])) {\r\n                                confirmedAnagrams.add(input[i]);\r\n                                confirmedAnagrams.add(input[j]);\r\n                            }\r\n                    }\r\n                }\r\n            }\r\n            output = confirmedAnagrams.toArray(new String[confirmedAnagrams.size()]);\r\n        }\r\n        long endTime = System.currentTimeMillis();\r\n        System.out.println(&quot;Total time: &quot; + (endTime - startTime));\r\n        System.out.println(&quot;Average time: &quot; + ((endTime - startTime) / 10000000D));\r\n    }\r\n\r\n\r\nI then used algorithms based on a HashSet of characters. I add each character of each word to the HashSet, and should the HashSet not be the length of the initials words, it would mean they are not anagrams.\r\n\r\nMy algorithms and their runtimes:\r\n\r\n**Algorithm 1:**\r\n\r\n        private static boolean isAnagrams1(String x, String y) {\r\n        if (x.length() != y.length()) {\r\n            return false;\r\n        } else if (x.equals(y)) {\r\n            return true;\r\n        }\r\n\r\n        Set&lt;Character&gt; anagramSet = new HashSet&lt;&gt;();\r\n        for (int i = 0; i &lt; x.length(); i++) {\r\n            anagramSet.add(x.charAt(i));\r\n            anagramSet.add(y.charAt(i));\r\n        }\r\n\r\n        return anagramSet.size() != x.length();\r\n    }\r\n\r\nThis has the runtime of:\r\n\r\n    Total time: 6914\r\n    Average time: 6.914E-4\r\n\r\n**Algorithm 2**\r\n\r\n    private static boolean isAnagrams2(String x, String y) {\r\n        if (x.length() != y.length()) {\r\n            return false;\r\n        } else if (x.equals(y)) {\r\n            return true;\r\n        }\r\n\r\n        Set&lt;Character&gt; anagramSet = new HashSet&lt;&gt;();\r\n        char[] xAr = x.toCharArray();\r\n        char[] yAr = y.toCharArray();\r\n        for (int i = 0; i &lt; xAr.length; i++) {\r\n            anagramSet.add(xAr[i]);\r\n            anagramSet.add(yAr[i]);\r\n        }\r\n\r\n        return anagramSet.size() != x.length();\r\n    }\r\n\r\nHas the runtime of:\r\n\r\n    Total time: 8752\r\n    Average time: 8.752E-4\r\n\r\n**Algorithm 3**\r\n\r\nFor this algorithm, I decided to send the Set through, therefore I only create it once for every cycle, and clear it after each test.\r\n\r\n        private static boolean isAnagrams3(Set&lt;Character&gt; anagramSet, String x, String y) {\r\n        if (x.length() != y.length()) {\r\n            return false;\r\n        } else if (x.equals(y)) {\r\n            return true;\r\n        }\r\n\r\n        for (int i = 0; i &lt; x.length(); i++) {\r\n            anagramSet.add(x.charAt(i));\r\n            anagramSet.add(y.charAt(i));\r\n        }\r\n\r\n        return anagramSet.size() != x.length();\r\n    }\r\n\r\nHas the runtime of:\r\n\r\n    Total time: 8251\r\n    Average time: 8.251E-4\r\n\r\n**Algorithm 4**\r\n\r\nThis algorithm is not mine, it belongs to `Pratik Upacharya` which answered the question as well, in order for me to compare:\r\n\r\n        private static boolean isAnagrams4(String stringOne, String stringTwo) {\r\n        char[] first = stringOne.toLowerCase().toCharArray();\r\n        char[] second = stringTwo.toLowerCase().toCharArray();\r\n        // if length of strings is not same \r\n        if (first.length != second.length) {\r\n            return false;\r\n        }\r\n        int[] counts = new int[26];\r\n        for (int i = 0; i &lt; first.length; i++) {\r\n            counts[first[i] - 97]++;\r\n            counts[second[i] - 97]--;\r\n        }\r\n        for (int i = 0; i &lt; 26; i++) {\r\n            if (counts[i] != 0) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nHas the runtime of:\r\n\r\n    Total time: 5707\r\n    Average time: 5.707E-4\r\n\r\n\r\nOf course, these runtimes do differ for every test run, and in order to do proper testing, a larger example set is needed, and maybe more iterations thereof.\r\n\r\n*Edited, as I made a mistake in my initial method, `Pratik Upacharya&#39;s` algorithm does seem to be the faster one","title":"Best solution for an anagram check?","body":"<p>I tried a few solutions using Sets, and made each one run 10 million times to test using your example array of:</p>\n\n<p><code>private static String[] input = {\"tea\", \"ate\", \"eat\", \"apple\", \"java\", \"vaja\", \"cut\", \"utc\"};</code></p>\n\n<p>Firstly, the method i used to call these algotirhms:</p>\n\n<pre><code>public static void main(String[] args) {\n    long startTime = System.currentTimeMillis();\n    for (int x = 0; x &lt; 10000000; x++) {\n        Set&lt;String&gt; confirmedAnagrams = new HashSet&lt;&gt;();\n        for (int i = 0; i &lt; (input.length / 2) + 1; i++) {\n            if (!confirmedAnagrams.contains(input[i])) {\n                for (int j = i + 1; j &lt; input.length; j++) {\n                        if (isAnagrams1(input[i], input[j])) {\n                            confirmedAnagrams.add(input[i]);\n                            confirmedAnagrams.add(input[j]);\n                        }\n                }\n            }\n        }\n        output = confirmedAnagrams.toArray(new String[confirmedAnagrams.size()]);\n    }\n    long endTime = System.currentTimeMillis();\n    System.out.println(\"Total time: \" + (endTime - startTime));\n    System.out.println(\"Average time: \" + ((endTime - startTime) / 10000000D));\n}\n</code></pre>\n\n<p>I then used algorithms based on a HashSet of characters. I add each character of each word to the HashSet, and should the HashSet not be the length of the initials words, it would mean they are not anagrams.</p>\n\n<p>My algorithms and their runtimes:</p>\n\n<p><strong>Algorithm 1:</strong></p>\n\n<pre><code>    private static boolean isAnagrams1(String x, String y) {\n    if (x.length() != y.length()) {\n        return false;\n    } else if (x.equals(y)) {\n        return true;\n    }\n\n    Set&lt;Character&gt; anagramSet = new HashSet&lt;&gt;();\n    for (int i = 0; i &lt; x.length(); i++) {\n        anagramSet.add(x.charAt(i));\n        anagramSet.add(y.charAt(i));\n    }\n\n    return anagramSet.size() != x.length();\n}\n</code></pre>\n\n<p>This has the runtime of:</p>\n\n<pre><code>Total time: 6914\nAverage time: 6.914E-4\n</code></pre>\n\n<p><strong>Algorithm 2</strong></p>\n\n<pre><code>private static boolean isAnagrams2(String x, String y) {\n    if (x.length() != y.length()) {\n        return false;\n    } else if (x.equals(y)) {\n        return true;\n    }\n\n    Set&lt;Character&gt; anagramSet = new HashSet&lt;&gt;();\n    char[] xAr = x.toCharArray();\n    char[] yAr = y.toCharArray();\n    for (int i = 0; i &lt; xAr.length; i++) {\n        anagramSet.add(xAr[i]);\n        anagramSet.add(yAr[i]);\n    }\n\n    return anagramSet.size() != x.length();\n}\n</code></pre>\n\n<p>Has the runtime of:</p>\n\n<pre><code>Total time: 8752\nAverage time: 8.752E-4\n</code></pre>\n\n<p><strong>Algorithm 3</strong></p>\n\n<p>For this algorithm, I decided to send the Set through, therefore I only create it once for every cycle, and clear it after each test.</p>\n\n<pre><code>    private static boolean isAnagrams3(Set&lt;Character&gt; anagramSet, String x, String y) {\n    if (x.length() != y.length()) {\n        return false;\n    } else if (x.equals(y)) {\n        return true;\n    }\n\n    for (int i = 0; i &lt; x.length(); i++) {\n        anagramSet.add(x.charAt(i));\n        anagramSet.add(y.charAt(i));\n    }\n\n    return anagramSet.size() != x.length();\n}\n</code></pre>\n\n<p>Has the runtime of:</p>\n\n<pre><code>Total time: 8251\nAverage time: 8.251E-4\n</code></pre>\n\n<p><strong>Algorithm 4</strong></p>\n\n<p>This algorithm is not mine, it belongs to <code>Pratik Upacharya</code> which answered the question as well, in order for me to compare:</p>\n\n<pre><code>    private static boolean isAnagrams4(String stringOne, String stringTwo) {\n    char[] first = stringOne.toLowerCase().toCharArray();\n    char[] second = stringTwo.toLowerCase().toCharArray();\n    // if length of strings is not same \n    if (first.length != second.length) {\n        return false;\n    }\n    int[] counts = new int[26];\n    for (int i = 0; i &lt; first.length; i++) {\n        counts[first[i] - 97]++;\n        counts[second[i] - 97]--;\n    }\n    for (int i = 0; i &lt; 26; i++) {\n        if (counts[i] != 0) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>Has the runtime of:</p>\n\n<pre><code>Total time: 5707\nAverage time: 5.707E-4\n</code></pre>\n\n<p>Of course, these runtimes do differ for every test run, and in order to do proper testing, a larger example set is needed, and maybe more iterations thereof.</p>\n\n<p>*Edited, as I made a mistake in my initial method, <code>Pratik Upacharya's</code> algorithm does seem to be the faster one</p>\n"},{"comments":[{"owner":{"account_id":2247658,"reputation":3578,"user_id":1980659,"accept_rate":73,"display_name":"ForguesR"},"score":1,"creation_date":1521042836,"post_id":38230976,"comment_id":85567122,"body_markdown":"@user1090751 According to Wikipedia : An anagram is a word or phrase formed by rearranging the letters of a different word or phrase, **typically using all the original letters exactly once**.","body":"@user1090751 According to Wikipedia : An anagram is a word or phrase formed by rearranging the letters of a different word or phrase, <b>typically using all the original letters exactly once</b>."},{"owner":{"account_id":1097462,"reputation":336,"user_id":1090751,"accept_rate":100,"display_name":"user1090751"},"score":0,"creation_date":1521047427,"post_id":38230976,"comment_id":85570374,"body_markdown":"Answer: is AR is not Anagram of RAT?","body":"Answer: is AR is not Anagram of RAT?"},{"owner":{"account_id":2247658,"reputation":3578,"user_id":1980659,"accept_rate":73,"display_name":"ForguesR"},"score":0,"creation_date":1521047894,"post_id":38230976,"comment_id":85570710,"body_markdown":"@user1090751 No because the &quot;T&quot; is not used.  &quot;Art&quot; is an anagram of &quot;Rat&quot;.","body":"@user1090751 No because the &quot;T&quot; is not used.  &quot;Art&quot; is an anagram of &quot;Rat&quot;."},{"owner":{"account_id":1097462,"reputation":336,"user_id":1090751,"accept_rate":100,"display_name":"user1090751"},"score":0,"creation_date":1521048172,"post_id":38230976,"comment_id":85570890,"body_markdown":"Anagrams don&#39;t necessarily have to use all letters...... src: https://en.wikipedia.org/wiki/Anagram","body":"Anagrams don&#39;t necessarily have to use all letters...... src: <a href=\"https://en.wikipedia.org/wiki/Anagram\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Anagram</a>"},{"owner":{"account_id":2247658,"reputation":3578,"user_id":1980659,"accept_rate":73,"display_name":"ForguesR"},"score":0,"creation_date":1521049001,"post_id":38230976,"comment_id":85571458,"body_markdown":"... but they normally do.  All the solutions here refers to normal anagrams. Feel free to provide your answer.","body":"... but they normally do.  All the solutions here refers to normal anagrams. Feel free to provide your answer."},{"owner":{"account_id":1097462,"reputation":336,"user_id":1090751,"accept_rate":100,"display_name":"user1090751"},"score":0,"creation_date":1521049571,"post_id":38230976,"comment_id":85571818,"body_markdown":"I have no solution and your solution is not generic and cannot be considered as right answer.","body":"I have no solution and your solution is not generic and cannot be considered as right answer."}],"tags":[],"owner":{"account_id":2247658,"reputation":3578,"user_id":1980659,"accept_rate":73,"display_name":"ForguesR"},"comment_count":6,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1467828888,"creation_date":1467828888,"answer_id":38230976,"question_id":38229648,"body_markdown":"Here is a very simple implementation.  \r\n\r\n    public boolean isAnagram(String strA, String strB) {\r\n      // Cleaning the strings (remove white spaces and convert to lowercase)\r\n      strA = strA.replaceAll(&quot;\\\\s+&quot;,&quot;&quot;).toLowerCase();\r\n      strB = strB.replaceAll(&quot;\\\\s+&quot;,&quot;&quot;).toLowerCase();\r\n      \r\n      // Check every char of strA and removes first occurence of it in strB\r\n      for (int i = 0; i &lt; strA.length(); i++ ) {\r\n        if (strB.equals(&quot;&quot;)) return false;  // strB is already empty : not an anagram\r\n        strB = strB.replaceFirst(Pattern.quote(&quot;&quot; + strA.charAt(i)), &quot;&quot;);\r\n      }\r\n\r\n      // if strB is empty we have an anagram\r\n      return strB.equals(&quot;&quot;);\r\n    }\r\n\r\nAnd finally :\r\n\r\n    System.out.println(isAnagram(&quot;William Shakespeare&quot;, &quot;I am a weakish speller&quot;)); // true\r\n","title":"Best solution for an anagram check?","body":"<p>Here is a very simple implementation.  </p>\n\n<pre><code>public boolean isAnagram(String strA, String strB) {\n  // Cleaning the strings (remove white spaces and convert to lowercase)\n  strA = strA.replaceAll(\"\\\\s+\",\"\").toLowerCase();\n  strB = strB.replaceAll(\"\\\\s+\",\"\").toLowerCase();\n\n  // Check every char of strA and removes first occurence of it in strB\n  for (int i = 0; i &lt; strA.length(); i++ ) {\n    if (strB.equals(\"\")) return false;  // strB is already empty : not an anagram\n    strB = strB.replaceFirst(Pattern.quote(\"\" + strA.charAt(i)), \"\");\n  }\n\n  // if strB is empty we have an anagram\n  return strB.equals(\"\");\n}\n</code></pre>\n\n<p>And finally :</p>\n\n<pre><code>System.out.println(isAnagram(\"William Shakespeare\", \"I am a weakish speller\")); // true\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1514614960,"post_id":48031407,"comment_id":83033226,"body_markdown":"I wouldn&#39;t call an algorithm &quot;best&quot; when it accepts two Strings which neither are anagrams, nor permutations of each other as &quot;String is Anagram&quot;.","body":"I wouldn&#39;t call an algorithm &quot;best&quot; when it accepts two Strings which neither are anagrams, nor permutations of each other as &quot;String is Anagram&quot;."}],"tags":[],"owner":{"account_id":11584380,"reputation":1,"user_id":8487074,"display_name":"kanha dubey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514613277,"creation_date":1514613277,"answer_id":48031407,"question_id":38229648,"body_markdown":"    //here best solution for an anagram\r\n    import java.util.*;\r\n\r\n    class Anagram{\r\n    public static void main(String arg[]){\r\n\r\n    Scanner sc =new Scanner(System.in);\r\n    String str1=sc.nextLine();\r\n    String str2=sc.nextLine();\r\n    int i,j;\r\n\r\n    boolean Flag=true;\r\n    i=str1.length();\r\n    j=str2.length();\r\n    \r\n\r\n    if(i==j){\r\n    for(int m=0;m&lt;i;m++){\r\n        for(int n=0;n&lt;i;n++){\r\n            if(str1.charAt(m)==str2.charAt(n)){\r\n               Flag=true;\r\n               break;\r\n              }\r\n              else\r\n              Flag=false;\r\n        }\r\n    }\r\n    }\r\n    else{\r\n    Flag=false;\r\n    }\r\n\r\n    if(Flag)\r\n    System.out.println(&quot;String is Anagram&quot;);\r\n    else\r\n    System.out.println(&quot;String is not Anagram&quot;);\r\n    }\r\n    }","title":"Best solution for an anagram check?","body":"<pre><code>//here best solution for an anagram\nimport java.util.*;\n\nclass Anagram{\npublic static void main(String arg[]){\n\nScanner sc =new Scanner(System.in);\nString str1=sc.nextLine();\nString str2=sc.nextLine();\nint i,j;\n\nboolean Flag=true;\ni=str1.length();\nj=str2.length();\n\n\nif(i==j){\nfor(int m=0;m&lt;i;m++){\n    for(int n=0;n&lt;i;n++){\n        if(str1.charAt(m)==str2.charAt(n)){\n           Flag=true;\n           break;\n          }\n          else\n          Flag=false;\n    }\n}\n}\nelse{\nFlag=false;\n}\n\nif(Flag)\nSystem.out.println(\"String is Anagram\");\nelse\nSystem.out.println(\"String is not Anagram\");\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3883758,"reputation":51,"user_id":3215663,"display_name":"George Curington"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515489277,"creation_date":1515463780,"answer_id":48160547,"question_id":38229648,"body_markdown":"\r\n\r\nA recruiter asked me to solve this problem recently.\r\nIn studying the problem I came up with a solution that solves two types \r\nof anagram issues. \r\n\r\nissue 1:\r\nDetermine if an anagram exists within a body of text.\r\n\r\nissue 2:\r\nDetermine if a formal anagram exist within a body of text.\r\nIn this case the anagram must be of the same size as the text you are \r\ncomparing it against. In the former case, the two texts need not be the same size.                \r\nOne just needs to contain the other.\r\n\r\nMy approach was as follows:\r\n\r\nsetup phase:\r\nFirst create an anagram Class. This will just convert the text to a Map\r\nwhose with key the character in question and the value contains the number \r\nof occurrences of the input character.\r\nI assume that at most this would require O(n) time complexity.\r\nAnd since this would require two maps at most, worst case complexity \r\nwould be O(2n). At least my naive understanding of Asymptotic notations \r\nsays that.\r\n\r\nprocessing phase:\r\nAll you need do is loop thru the smaller of the two Maps and\r\nlook it up in the larger Map. If it does not exist or if it exists\r\nbut with a different occurrence count, it fails the test to be an anagram. \r\n\r\nHere is the loop that determines if we have an anagram or not:\r\n\r\n\r\n        boolean looking = true;\r\n            for (Anagram ele : smaller.values()) {\r\n                Anagram you = larger.get(ele);\r\n                    if (you == null || you.getCount() != ele.getCount()) {\r\n                        looking = false;\r\n                        break;\r\n                    }\r\n            }\r\n    \t\treturn looking;\r\n\r\nNote that I create a ADT to contain the strings being processed. They\r\nare converted to a Map first.\r\n\r\nHere is a snippet of the code to create the Anagram Object:\r\n\r\n\r\n        private void init(String teststring2) {\r\n            StringBuilder sb = new StringBuilder(teststring2);\r\n            for (int i = 0; i &amp;lt sb.length(); i++) {\r\n                Anagram a = new AnagramImpl(sb.charAt(i));\r\n                Anagram tmp = map.putIfAbsent(a, a);\r\n                if (tmp != null) {\r\n                    tmp.updateCount();\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n","title":"Best solution for an anagram check?","body":"<p>A recruiter asked me to solve this problem recently.\nIn studying the problem I came up with a solution that solves two types \nof anagram issues. </p>\n\n<p>issue 1:\nDetermine if an anagram exists within a body of text.</p>\n\n<p>issue 2:\nDetermine if a formal anagram exist within a body of text.\nIn this case the anagram must be of the same size as the text you are \ncomparing it against. In the former case, the two texts need not be the same size.<br>\nOne just needs to contain the other.</p>\n\n<p>My approach was as follows:</p>\n\n<p>setup phase:\nFirst create an anagram Class. This will just convert the text to a Map\nwhose with key the character in question and the value contains the number \nof occurrences of the input character.\nI assume that at most this would require O(n) time complexity.\nAnd since this would require two maps at most, worst case complexity \nwould be O(2n). At least my naive understanding of Asymptotic notations \nsays that.</p>\n\n<p>processing phase:\nAll you need do is loop thru the smaller of the two Maps and\nlook it up in the larger Map. If it does not exist or if it exists\nbut with a different occurrence count, it fails the test to be an anagram. </p>\n\n<p>Here is the loop that determines if we have an anagram or not:</p>\n\n<pre><code>    boolean looking = true;\n        for (Anagram ele : smaller.values()) {\n            Anagram you = larger.get(ele);\n                if (you == null || you.getCount() != ele.getCount()) {\n                    looking = false;\n                    break;\n                }\n        }\n        return looking;\n</code></pre>\n\n<p>Note that I create a ADT to contain the strings being processed. They\nare converted to a Map first.</p>\n\n<p>Here is a snippet of the code to create the Anagram Object:</p>\n\n<pre><code>    private void init(String teststring2) {\n        StringBuilder sb = new StringBuilder(teststring2);\n        for (int i = 0; i &amp;lt sb.length(); i++) {\n            Anagram a = new AnagramImpl(sb.charAt(i));\n            Anagram tmp = map.putIfAbsent(a, a);\n            if (tmp != null) {\n                tmp.updateCount();\n            }\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":3,"creation_date":1572342405,"post_id":50939641,"comment_id":103520818,"body_markdown":"That is O(n^2), because `str2.indexOf` needs to run over the whole string every time.","body":"That is O(n^2), because <code>str2.indexOf</code> needs to run over the whole string every time."}],"tags":[],"owner":{"account_id":9475267,"reputation":115,"user_id":7044810,"display_name":"Sameer Shrestha"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1529466335,"creation_date":1529464362,"answer_id":50939641,"question_id":38229648,"body_markdown":"My solution  : Time Complexity = O(n)\r\n\r\n    public static boolean isAnagram(String str1, String str2) {\r\n\t\tif (str1.length() != str2.length()) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tfor (int i = 0; i &lt; str1.length(); i++) {\r\n\t\t\tchar ch = str1.charAt(i);\r\n\r\n\t\t\tif (str2.indexOf(ch) == -1) \r\n\t\t\t\treturn false;\r\n\t\t\telse\r\n\t\t\t\tstr2 = str2.replaceFirst(String.valueOf(ch), &quot; &quot;);\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\nTest case :\r\n\r\n    @Test\r\n\tpublic void testIsPernutationTrue() {\r\n\t\tassertTrue(Anagram.isAnagram(&quot;abc&quot;, &quot;cba&quot;));\r\n\t\tassertTrue(Anagram.isAnagram(&quot;geeksforgeeks&quot;, &quot;forgeeksgeeks&quot;));\r\n\t\tassertTrue(Anagram.isAnagram(&quot;anagram&quot;, &quot;margana&quot;));\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testIsPernutationFalse() {\r\n\t\tassertFalse(Anagram.isAnagram(&quot;abc&quot;, &quot;caa&quot;));\r\n\t\tassertFalse(Anagram.isAnagram(&quot;anagramm&quot;, &quot;marganaa&quot;));\r\n\t}\r\n","title":"Best solution for an anagram check?","body":"<p>My solution  : Time Complexity = O(n)</p>\n\n<pre><code>public static boolean isAnagram(String str1, String str2) {\n    if (str1.length() != str2.length()) {\n        return false;\n    }\n\n    for (int i = 0; i &lt; str1.length(); i++) {\n        char ch = str1.charAt(i);\n\n        if (str2.indexOf(ch) == -1) \n            return false;\n        else\n            str2 = str2.replaceFirst(String.valueOf(ch), \" \");\n    }\n\n    return true;\n}\n</code></pre>\n\n<p>Test case :</p>\n\n<pre><code>@Test\npublic void testIsPernutationTrue() {\n    assertTrue(Anagram.isAnagram(\"abc\", \"cba\"));\n    assertTrue(Anagram.isAnagram(\"geeksforgeeks\", \"forgeeksgeeks\"));\n    assertTrue(Anagram.isAnagram(\"anagram\", \"margana\"));\n}\n\n@Test\npublic void testIsPernutationFalse() {\n    assertFalse(Anagram.isAnagram(\"abc\", \"caa\"));\n    assertFalse(Anagram.isAnagram(\"anagramm\", \"marganaa\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13811265,"reputation":41,"user_id":9968966,"display_name":"Justin Gorny"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1529516913,"creation_date":1529516913,"answer_id":50954241,"question_id":38229648,"body_markdown":"This is a much simpler, easy-to-read solution I was able to compile...\r\n\r\n        static boolean isAnagram(String a, String b) {\r\n        if (a.length() == b.length()){\r\n            char[] arr1 = a.toLowerCase().toCharArray();\r\n            char[] arr2 = b.toLowerCase().toCharArray();\r\n            Arrays.sort(arr1);\r\n            Arrays.sort(arr2);\r\n            if (Arrays.equals(arr1, arr2)) return true;\r\n            else return false;\r\n        }else return false;\r\n    }\r\n\r\nBest,\r\nJustin","title":"Best solution for an anagram check?","body":"<p>This is a much simpler, easy-to-read solution I was able to compile...</p>\n\n<pre><code>    static boolean isAnagram(String a, String b) {\n    if (a.length() == b.length()){\n        char[] arr1 = a.toLowerCase().toCharArray();\n        char[] arr2 = b.toLowerCase().toCharArray();\n        Arrays.sort(arr1);\n        Arrays.sort(arr2);\n        if (Arrays.equals(arr1, arr2)) return true;\n        else return false;\n    }else return false;\n}\n</code></pre>\n\n<p>Best,\nJustin</p>\n"},{"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1572342345,"post_id":56459519,"comment_id":103520776,"body_markdown":"That is O(n^2), because `a.indexOf` needs to run over the whole string every time.","body":"That is O(n^2), because <code>a.indexOf</code> needs to run over the whole string every time."}],"tags":[],"owner":{"account_id":13758779,"reputation":3140,"user_id":9928994,"display_name":"Ritveak"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575958767,"creation_date":1559733774,"answer_id":56459519,"question_id":38229648,"body_markdown":"I came up with a solution and I am not even using any 26 char array...\r\nCheck this out:\r\n\r\n    StringBuffer a = new StringBuffer();\r\n\t\t    a.append(sc.next().toLowerCase());\r\n\t\t    \r\n\t\t    StringBuffer b = new StringBuffer();\r\n\t\t    b.append(sc.next().toLowerCase());\r\n\t\t    if(a.length() !=b.length())\r\n\t\t    {\r\n\t\t        System.out.println(&quot;NO&quot;);\r\n\t\t        continue;\r\n\t\t    }\r\n\t\t    int o =0;\r\n\t\t    for(int i =0;i&lt;a.length();i++)\r\n\t\t    {\r\n\t\t        if(a.indexOf(String.valueOf(b.charAt(i)))&lt;0)\r\n\t\t        {\r\n\t\t           System.out.println(&quot;NO&quot;);\r\n\t\t           o=1;break; \r\n\t\t           \r\n\t\t        }\r\n\t\t    }\r\n\t\t    if(o==0)\r\n\t\t     System.out.println(&quot;Yes&quot;);\r\n\r\n\r\n","title":"Best solution for an anagram check?","body":"<p>I came up with a solution and I am not even using any 26 char array...\nCheck this out:</p>\n\n<pre><code>StringBuffer a = new StringBuffer();\n        a.append(sc.next().toLowerCase());\n\n        StringBuffer b = new StringBuffer();\n        b.append(sc.next().toLowerCase());\n        if(a.length() !=b.length())\n        {\n            System.out.println(\"NO\");\n            continue;\n        }\n        int o =0;\n        for(int i =0;i&lt;a.length();i++)\n        {\n            if(a.indexOf(String.valueOf(b.charAt(i)))&lt;0)\n            {\n               System.out.println(\"NO\");\n               o=1;break; \n\n            }\n        }\n        if(o==0)\n         System.out.println(\"Yes\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4028548,"reputation":476,"user_id":3315684,"accept_rate":40,"display_name":"mherBaghinyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560836908,"creation_date":1560836908,"answer_id":56642431,"question_id":38229648,"body_markdown":"Consider using ***HashMap*** and ***Arrays.sort*** \r\n\r\n        private static Map&lt;String, String&gt; getAnagrams(String[] data) {\r\n\r\n        Map&lt;String, String&gt; anagrams = new HashMap&lt;&gt;();\r\n        Map&lt;String, String&gt; results = new HashMap&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; data.length; i++) {\r\n\r\n            char[] chars = data[i].toLowerCase().toCharArray();\r\n            Arrays.sort(chars);\r\n\r\n            String sorted = String.copyValueOf(chars);\r\n\r\n            String item = anagrams.get(sorted);\r\n            if (item != null) {\r\n                anagrams.put(sorted, item + &quot;, &quot; + i);\r\n                results.put(sorted, anagrams.get(sorted));\r\n            } else {\r\n                anagrams.put(sorted, String.valueOf(i));\r\n            }\r\n        }\r\n\r\n        return results;\r\n    }\r\n\r\nI like it as you only traverse array only once.","title":"Best solution for an anagram check?","body":"<p>Consider using <strong><em>HashMap</em></strong> and <strong><em>Arrays.sort</em></strong> </p>\n\n<pre><code>    private static Map&lt;String, String&gt; getAnagrams(String[] data) {\n\n    Map&lt;String, String&gt; anagrams = new HashMap&lt;&gt;();\n    Map&lt;String, String&gt; results = new HashMap&lt;&gt;();\n\n    for (int i = 0; i &lt; data.length; i++) {\n\n        char[] chars = data[i].toLowerCase().toCharArray();\n        Arrays.sort(chars);\n\n        String sorted = String.copyValueOf(chars);\n\n        String item = anagrams.get(sorted);\n        if (item != null) {\n            anagrams.put(sorted, item + \", \" + i);\n            results.put(sorted, anagrams.get(sorted));\n        } else {\n            anagrams.put(sorted, String.valueOf(i));\n        }\n    }\n\n    return results;\n}\n</code></pre>\n\n<p>I like it as you only traverse array only once.</p>\n"},{"comments":[{"owner":{"account_id":3850148,"reputation":2558,"user_id":3190532,"accept_rate":55,"display_name":"Crocsx"},"score":0,"creation_date":1582253171,"post_id":60331087,"comment_id":106722358,"body_markdown":"as an Answer, could you explain how is your solution better ?","body":"as an Answer, could you explain how is your solution better ?"}],"tags":[],"owner":{"account_id":5918439,"reputation":15,"user_id":4656470,"display_name":"d12ei"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582301957,"creation_date":1582250053,"answer_id":60331087,"question_id":38229648,"body_markdown":"Solution using primitive data type.\r\n\r\n\r\n    boolean isAnagram(char input1[], char input2[]) {\r\n        int bitFlip = 32;\r\n  \r\n        if(input2.length != input1.length){return false;}\r\n\r\n        boolean found = false;\r\n        for (int x = 0; x &lt; input1.length; x++) {\r\n            found = false;\r\n            for (int y = 0; y &lt; input2.length; y++) {\r\n                 if (!found &amp;&amp; ((input1[x] | bitFlip)) ==\r\n                 ( (input2[y] | bitFlip))) {\r\n                    found = true;\r\n                    input2[y] = 0;\r\n                }\r\n            }\r\n            if (!found) {\r\n                break;\r\n            }\r\n        }\r\n        return found ;\r\n    }\r\n\r\n\r\nThis approach doesn&#39;t rely on any sorting utility. What it does is it&#39;s finding the value via iteration and after it found it, it sets it to zero to avoid input with duplicate character like &quot;pool&quot; and &quot;loop&quot; which has a 2 letter &quot;o&quot;.\r\n\r\nIt also ignores cases without relying to toLowerCase() by flipping the bit, because if the 6th bit (32 in decimal) is one, it&#39;s a small letter and capital if it&#39;s zero. \r\n\r\nIt&#39;s direct byte manipulation so it will perform better like what&#39;s used in image manipulation. Maybe the downside is the O(n^2).\r\n\r\nThis is solution is tested in hackerrank ","title":"Best solution for an anagram check?","body":"<p>Solution using primitive data type.</p>\n\n<pre><code>boolean isAnagram(char input1[], char input2[]) {\n    int bitFlip = 32;\n\n    if(input2.length != input1.length){return false;}\n\n    boolean found = false;\n    for (int x = 0; x &lt; input1.length; x++) {\n        found = false;\n        for (int y = 0; y &lt; input2.length; y++) {\n             if (!found &amp;&amp; ((input1[x] | bitFlip)) ==\n             ( (input2[y] | bitFlip))) {\n                found = true;\n                input2[y] = 0;\n            }\n        }\n        if (!found) {\n            break;\n        }\n    }\n    return found ;\n}\n</code></pre>\n\n<p>This approach doesn't rely on any sorting utility. What it does is it's finding the value via iteration and after it found it, it sets it to zero to avoid input with duplicate character like \"pool\" and \"loop\" which has a 2 letter \"o\".</p>\n\n<p>It also ignores cases without relying to toLowerCase() by flipping the bit, because if the 6th bit (32 in decimal) is one, it's a small letter and capital if it's zero. </p>\n\n<p>It's direct byte manipulation so it will perform better like what's used in image manipulation. Maybe the downside is the O(n^2).</p>\n\n<p>This is solution is tested in hackerrank </p>\n"},{"tags":[],"owner":{"account_id":3985733,"reputation":1506,"user_id":3286353,"accept_rate":67,"display_name":"murali kurapati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644839821,"creation_date":1644839821,"answer_id":71111504,"question_id":38229648,"body_markdown":"Simple kotlin solution\r\n\r\n    fun IsAnagram(s1: String, s2: String): Boolean {\r\n        return s1.groupBy { it } == s2.groupBy { it }\r\n    }\r\n\r\n\r\nAsymptotic time complexity of GroupBy is O(n), the time complexity of above is O(n)","title":"Best solution for an anagram check?","body":"<p>Simple kotlin solution</p>\n<pre><code>fun IsAnagram(s1: String, s2: String): Boolean {\n    return s1.groupBy { it } == s2.groupBy { it }\n}\n</code></pre>\n<p>Asymptotic time complexity of GroupBy is O(n), the time complexity of above is O(n)</p>\n"},{"tags":[],"owner":{"account_id":5218724,"reputation":123,"user_id":7272398,"display_name":"Java_Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680670547,"creation_date":1680669876,"answer_id":75935706,"question_id":38229648,"body_markdown":"Possible solution with Java 8 syntax:\r\n\r\n    public static boolean isAnagram() {\r\n        String s1 = &quot;no&quot;;\r\n        String s2 = &quot;on&quot;;\r\n\r\n        char[] first = s1.toCharArray();\r\n        char[] second = s2.toCharArray();      \r\n\r\n        if (first.length == second.length) {\r\n            Map&lt;Character, Integer&gt; charMap = new HashMap&lt;&gt;();\r\n            for (int i = 0; i &lt; first.length; i++) {\r\n                charMap.put(first[i], charMap.getOrDefault(first[i], 0) + 1);\r\n                charMap.put(second[i], charMap.getOrDefault(second[i], 0) - 1);\r\n            }\r\n            return !charMap.values().stream().anyMatch(e -&gt; e != 0);\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Best solution for an anagram check?","body":"<p>Possible solution with Java 8 syntax:</p>\n<pre><code>public static boolean isAnagram() {\n    String s1 = &quot;no&quot;;\n    String s2 = &quot;on&quot;;\n\n    char[] first = s1.toCharArray();\n    char[] second = s2.toCharArray();      \n\n    if (first.length == second.length) {\n        Map&lt;Character, Integer&gt; charMap = new HashMap&lt;&gt;();\n        for (int i = 0; i &lt; first.length; i++) {\n            charMap.put(first[i], charMap.getOrDefault(first[i], 0) + 1);\n            charMap.put(second[i], charMap.getOrDefault(second[i], 0) - 1);\n        }\n        return !charMap.values().stream().anyMatch(e -&gt; e != 0);\n    }\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":1255835,"reputation":293,"user_id":1974618,"accept_rate":62,"display_name":"Drew L. Facchiano"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19603,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":38229940,"answer_count":13,"score":6,"last_activity_date":1680670547,"creation_date":1467824572,"question_id":38229648,"body_markdown":"I‚Äôm going through a permutation/anagram problem and wanted input on the most efficient means of checking.\r\nNow, I‚Äôm doing this in Java land, and as such there is a library for EVERYTHING including sorting.\r\nThe first means of checking if two string are anagrams of each other is to check length, sort them in some manner, then compare each index of said string. Code below:\r\n\r\n\tprivate boolean validAnagram(String str, String pair) {\r\n\tif(str.length() != pair.length()){\r\n\t    return false;\r\n\t}\r\n\r\n\tchar[] strArr = str.toCharArray();\r\n\tchar[] pairArr = pair.toCharArray();\r\n\r\n\r\n\tArrays.sort(strArr);\r\n\tstr = new String(strArr);\r\n\r\n\tArrays.sort(pairArr);\r\n\tpair = new String(pairArr);\r\n\r\n\tfor(int i = 0; i&lt;str.length(); i++){\r\n\t    if(str.charAt(i) != pair.charAt(i)){\r\n\t        return false;\r\n\t    }\r\n\t}\r\n\treturn true;\r\n\t}\r\nAlternatively, I figured it would be easier to check based on ascii value and avoid a check on every possible character. Code below:\r\n\r\n\tprivate boolean validAnagram(String str, String pair) {\r\n\tif(str.length() != pair.length()){\r\n\t    return false;\r\n\t}\r\n\r\n\tchar[] strArr = str.toCharArray();\r\n\tchar[] pairArr = pair.toCharArray();\r\n\r\n\r\n\r\n\tint strValue = 0;\r\n\tint pairValue = 0;\r\n\r\n\tfor(int i =0; i &lt; strArr.length; i++){\r\n\t    strValue+= (int) strArr[i];\r\n\t    pairValue+= (int) pairArr[i];\r\n\t}\r\n\r\n\tif(strValue != pairValue){\r\n\t    return false;\r\n\t}\r\n\treturn true;\r\n\t}\r\nSo, which is a better solution? I don‚Äôt know much about the sort that Arrays is giving me, however that‚Äôs the more common answer when I look around the old internets. Makes me wonder if I‚Äôm missing something.","title":"Best solution for an anagram check?","body":"<p>I‚Äôm going through a permutation/anagram problem and wanted input on the most efficient means of checking.\nNow, I‚Äôm doing this in Java land, and as such there is a library for EVERYTHING including sorting.\nThe first means of checking if two string are anagrams of each other is to check length, sort them in some manner, then compare each index of said string. Code below:</p>\n\n<pre><code>private boolean validAnagram(String str, String pair) {\nif(str.length() != pair.length()){\n    return false;\n}\n\nchar[] strArr = str.toCharArray();\nchar[] pairArr = pair.toCharArray();\n\n\nArrays.sort(strArr);\nstr = new String(strArr);\n\nArrays.sort(pairArr);\npair = new String(pairArr);\n\nfor(int i = 0; i&lt;str.length(); i++){\n    if(str.charAt(i) != pair.charAt(i)){\n        return false;\n    }\n}\nreturn true;\n}\n</code></pre>\n\n<p>Alternatively, I figured it would be easier to check based on ascii value and avoid a check on every possible character. Code below:</p>\n\n<pre><code>private boolean validAnagram(String str, String pair) {\nif(str.length() != pair.length()){\n    return false;\n}\n\nchar[] strArr = str.toCharArray();\nchar[] pairArr = pair.toCharArray();\n\n\n\nint strValue = 0;\nint pairValue = 0;\n\nfor(int i =0; i &lt; strArr.length; i++){\n    strValue+= (int) strArr[i];\n    pairValue+= (int) pairArr[i];\n}\n\nif(strValue != pairValue){\n    return false;\n}\nreturn true;\n}\n</code></pre>\n\n<p>So, which is a better solution? I don‚Äôt know much about the sort that Arrays is giving me, however that‚Äôs the more common answer when I look around the old internets. Makes me wonder if I‚Äôm missing something.</p>\n"},{"tags":["java","mongodb","spring-boot","maven","http-post"],"answers":[{"comments":[{"owner":{"account_id":27852048,"reputation":1,"user_id":21266369,"display_name":"Mansi Keshari"},"score":0,"creation_date":1677130725,"post_id":75536128,"comment_id":133278051,"body_markdown":"I renamed the &#39;eId&#39; field to &#39;employeeCode&#39; and the code works fine. I don&#39;t know how but it works. Thank you for your help!","body":"I renamed the &#39;eId&#39; field to &#39;employeeCode&#39; and the code works fine. I don&#39;t know how but it works. Thank you for your help!"}],"tags":[],"owner":{"account_id":27786104,"reputation":41,"user_id":21213520,"display_name":"Bikathi Martin"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677086417,"creation_date":1677086417,"answer_id":75536128,"question_id":75535892,"body_markdown":"Ok, so according to your HTTP/POST request, I can see you&#39;re not exclusively passing the &#39;Id&#39; field as part of the JSON. So unless you&#39;re auto-generating it somehow, here are some tips I could give to try out and see what works:\r\n\r\n 1. If the **id** field is not part of your JSON, once the request body has been extracted in the controller, try and auto-generate an id. So your code could be something sort of\r\n```\r\n@PostMapping(&quot;/employee&quot;)\r\n    public void newEmployee(@RequestBody Employee employee){\r\n        employee.setId(UUID.randomUUID().toString());\r\n        service.newEmployee(employee);\r\n    }\r\n```\r\n2. It also helps to ensure all of your private members have getters and setters\r\n3. Also try and see that your class implements Serializable like this:\r\n```\r\npublic class Employee implements Serializable\r\n```\r\n4. Final advice I can give is to avoid storing the JSON exactly as you send it in the HTTP/POST request(Because you never know what can happen to the JSOn as it is travelling across the web to your controller). This is where you may need to override you constructors to create a new object from the JSON once it hits your controller. So something like this:\r\n```\r\n@PostMapping(&quot;/employee&quot;)\r\n    public void newEmployee(@RequestBody Employee employee){\r\n        Employee employeeToSave = new Employee(\r\n           UUID.randomUUID.toString(), // for the ID field,\r\n           employee.getEId(),\r\n           .... // fill your class up with details from the JSON\r\n        );\r\n\r\n        // for sanity and confirmation, you can toString() this new object to ensure it&#39;s what you want to save\r\n        log.info(&quot;Employee to save: {}&quot;, employeeToSave.toString());\r\n        service.newEmployee(employeeToSave);\r\n    }\r\n```\r\nI hope one of these suggestions helps :)","title":"Getting a field as null on post request to mongodb database in a spring boot application","body":"<p>Ok, so according to your HTTP/POST request, I can see you're not exclusively passing the 'Id' field as part of the JSON. So unless you're auto-generating it somehow, here are some tips I could give to try out and see what works:</p>\n<ol>\n<li>If the <strong>id</strong> field is not part of your JSON, once the request body has been extracted in the controller, try and auto-generate an id. So your code could be something sort of</li>\n</ol>\n<pre><code>@PostMapping(&quot;/employee&quot;)\n    public void newEmployee(@RequestBody Employee employee){\n        employee.setId(UUID.randomUUID().toString());\n        service.newEmployee(employee);\n    }\n</code></pre>\n<ol start=\"2\">\n<li>It also helps to ensure all of your private members have getters and setters</li>\n<li>Also try and see that your class implements Serializable like this:</li>\n</ol>\n<pre><code>public class Employee implements Serializable\n</code></pre>\n<ol start=\"4\">\n<li>Final advice I can give is to avoid storing the JSON exactly as you send it in the HTTP/POST request(Because you never know what can happen to the JSOn as it is travelling across the web to your controller). This is where you may need to override you constructors to create a new object from the JSON once it hits your controller. So something like this:</li>\n</ol>\n<pre><code>@PostMapping(&quot;/employee&quot;)\n    public void newEmployee(@RequestBody Employee employee){\n        Employee employeeToSave = new Employee(\n           UUID.randomUUID.toString(), // for the ID field,\n           employee.getEId(),\n           .... // fill your class up with details from the JSON\n        );\n\n        // for sanity and confirmation, you can toString() this new object to ensure it's what you want to save\n        log.info(&quot;Employee to save: {}&quot;, employeeToSave.toString());\n        service.newEmployee(employeeToSave);\n    }\n</code></pre>\n<p>I hope one of these suggestions helps :)</p>\n"},{"comments":[{"owner":{"account_id":27852048,"reputation":1,"user_id":21266369,"display_name":"Mansi Keshari"},"score":1,"creation_date":1677130782,"post_id":75536139,"comment_id":133278064,"body_markdown":"I renamed the &#39;eId&#39; field to &#39;employeeCode&#39; and the code works fine. I don&#39;t know how but it works. Thank you for your help!","body":"I renamed the &#39;eId&#39; field to &#39;employeeCode&#39; and the code works fine. I don&#39;t know how but it works. Thank you for your help!"}],"tags":[],"owner":{"account_id":4709043,"reputation":227,"user_id":3810175,"display_name":"Ramin Safar Manesh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677086491,"creation_date":1677086491,"answer_id":75536139,"question_id":75535892,"body_markdown":"Change your id variable type to Long or UUID with @Generated and then\r\nchange your post request to \r\n\r\n    {\r\n        &quot;id&quot; : null,\r\n        &quot;eId&quot;: &quot;01abc&quot;,\r\n        &quot;firstName&quot;: &quot;your_firstName&quot;,\r\n        &quot;lastName&quot;: &quot;your_lastName&quot;,\r\n        &quot;emailId&quot;: &quot;yourgmailid@gmail.com&quot;,\r\n        &quot;grpId&quot;: 1\r\n    }","title":"Getting a field as null on post request to mongodb database in a spring boot application","body":"<p>Change your id variable type to Long or UUID with @Generated and then\nchange your post request to</p>\n<pre><code>{\n    &quot;id&quot; : null,\n    &quot;eId&quot;: &quot;01abc&quot;,\n    &quot;firstName&quot;: &quot;your_firstName&quot;,\n    &quot;lastName&quot;: &quot;your_lastName&quot;,\n    &quot;emailId&quot;: &quot;yourgmailid@gmail.com&quot;,\n    &quot;grpId&quot;: 1\n}\n</code></pre>\n"}],"owner":{"account_id":27852048,"reputation":1,"user_id":21266369,"display_name":"Mansi Keshari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680669848,"creation_date":1677085159,"question_id":75535892,"body_markdown":"Here is my document and `Employee` is a collection in mongoDB database\r\n```\r\n@Document(collection = &quot;Employee&quot;)\r\npublic class Employee {\r\n    @Id\r\n    private String id;\r\n    private String eId;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String emailId;\r\n    private int grpId;\r\n}\r\n```\r\nThis is the controller class\r\n```\r\n@RestController\r\n@CrossOrigin(origins = &quot;*&quot;)\r\npublic class EmployeeController {\r\n    @Autowired\r\n    private EmployeeService service;\r\n    @GetMapping(&quot;/employee&quot;)\r\n    public ResponseEntity&lt;?&gt; getAllEmployee(){\r\n        List&lt;Employee&gt; employees;\r\n        employees = service.getAllEmployees();\r\n        return new ResponseEntity&lt;List&lt;Employee&gt;&gt;(employees, HttpStatus.OK);\r\n    }\r\n    @PostMapping(&quot;/employee&quot;)\r\n    public void newEmployee(@RequestBody Employee employee){\r\n        service.newEmployee(employee);\r\n    }\r\n}\r\n```\r\nThis is the service class\r\n```\r\n@Service\r\npublic class EmployeeService {\r\n    @Autowired\r\n    private EmployeeRepository employeeRepo;\r\n    public List&lt;Employee&gt; getAllEmployees(){\r\n        return employeeRepo.findAll();\r\n    }\r\n    public void newEmployee(Employee employee){\r\n        employeeRepo.save(employee);\r\n    }\r\n}\r\n```\r\nThis is the repository Interface\r\n```\r\n@Repository\r\npublic interface EmployeeRepository extends MongoRepository&lt;Employee,String&gt; {\r\n}\r\n```\r\nThis is my post request to `http://localhost:8080/employee`\r\n`8080` is the port on which the application is running\r\n```\r\n{\r\n        &quot;eId&quot;: &quot;01abc&quot;,\r\n        &quot;firstName&quot;: &quot;your_firstName&quot;,\r\n        &quot;lastName&quot;: &quot;your_lastName&quot;,\r\n        &quot;emailId&quot;: &quot;yourgmailid@gmail.com&quot;,\r\n        &quot;grpId&quot;: 1\r\n}\r\n```\r\nOnce the post request has been fulfilled when I use get request to fetch all the employees I get:\r\n```\r\n{\r\n        &quot;id&quot;: &quot;63f6f0ffb84be0661b8d35a0&quot;,\r\n        &quot;firstName&quot;: &quot;your_firstName&quot;,\r\n        &quot;lastName&quot;: &quot;your_lastName&quot;,\r\n        &quot;emailId&quot;: &quot;yourgmailid@gmail.com&quot;,\r\n        &quot;grpId&quot;: 1,\r\n        &quot;eid&quot;: null\r\n}\r\n```\r\n*I am unable to figure out why `eId` is `null` if I am passing the `eId` as `&quot;01abc&quot;`*\r\n\r\n\r\nI tried searching the stack overflow for this but could not find a solution","title":"Getting a field as null on post request to mongodb database in a spring boot application","body":"<p>Here is my document and <code>Employee</code> is a collection in mongoDB database</p>\n<pre><code>@Document(collection = &quot;Employee&quot;)\npublic class Employee {\n    @Id\n    private String id;\n    private String eId;\n    private String firstName;\n    private String lastName;\n    private String emailId;\n    private int grpId;\n}\n</code></pre>\n<p>This is the controller class</p>\n<pre><code>@RestController\n@CrossOrigin(origins = &quot;*&quot;)\npublic class EmployeeController {\n    @Autowired\n    private EmployeeService service;\n    @GetMapping(&quot;/employee&quot;)\n    public ResponseEntity&lt;?&gt; getAllEmployee(){\n        List&lt;Employee&gt; employees;\n        employees = service.getAllEmployees();\n        return new ResponseEntity&lt;List&lt;Employee&gt;&gt;(employees, HttpStatus.OK);\n    }\n    @PostMapping(&quot;/employee&quot;)\n    public void newEmployee(@RequestBody Employee employee){\n        service.newEmployee(employee);\n    }\n}\n</code></pre>\n<p>This is the service class</p>\n<pre><code>@Service\npublic class EmployeeService {\n    @Autowired\n    private EmployeeRepository employeeRepo;\n    public List&lt;Employee&gt; getAllEmployees(){\n        return employeeRepo.findAll();\n    }\n    public void newEmployee(Employee employee){\n        employeeRepo.save(employee);\n    }\n}\n</code></pre>\n<p>This is the repository Interface</p>\n<pre><code>@Repository\npublic interface EmployeeRepository extends MongoRepository&lt;Employee,String&gt; {\n}\n</code></pre>\n<p>This is my post request to <code>http://localhost:8080/employee</code>\n<code>8080</code> is the port on which the application is running</p>\n<pre><code>{\n        &quot;eId&quot;: &quot;01abc&quot;,\n        &quot;firstName&quot;: &quot;your_firstName&quot;,\n        &quot;lastName&quot;: &quot;your_lastName&quot;,\n        &quot;emailId&quot;: &quot;yourgmailid@gmail.com&quot;,\n        &quot;grpId&quot;: 1\n}\n</code></pre>\n<p>Once the post request has been fulfilled when I use get request to fetch all the employees I get:</p>\n<pre><code>{\n        &quot;id&quot;: &quot;63f6f0ffb84be0661b8d35a0&quot;,\n        &quot;firstName&quot;: &quot;your_firstName&quot;,\n        &quot;lastName&quot;: &quot;your_lastName&quot;,\n        &quot;emailId&quot;: &quot;yourgmailid@gmail.com&quot;,\n        &quot;grpId&quot;: 1,\n        &quot;eid&quot;: null\n}\n</code></pre>\n<p><em>I am unable to figure out why <code>eId</code> is <code>null</code> if I am passing the <code>eId</code> as <code>&quot;01abc&quot;</code></em></p>\n<p>I tried searching the stack overflow for this but could not find a solution</p>\n"},{"tags":["java","android","android-studio","barcode","start-activity"],"owner":{"account_id":6539616,"reputation":3,"user_id":5057717,"display_name":"Nguy·ªÖn Nguy&#234;n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680669556,"creation_date":1680669556,"question_id":75935686,"body_markdown":"I have 2 activities:\r\n- In Activity 1, I scan the barcode and after that, I click the button to start Activity 2\r\n- When Activity 2 opens, it still receives data from the barcode when I scan in Activity 1.\r\n\r\nHow to start Activity 2 without receiving data when scanning the barcode in Activity 1?\r\n\r\nNote: I tried to use dispatchKeyEvent() and return true in activity 1, but it still did not work","title":"Issue with DispatchKeyEvent when receive data from scan barcode","body":"<p>I have 2 activities:</p>\n<ul>\n<li>In Activity 1, I scan the barcode and after that, I click the button to start Activity 2</li>\n<li>When Activity 2 opens, it still receives data from the barcode when I scan in Activity 1.</li>\n</ul>\n<p>How to start Activity 2 without receiving data when scanning the barcode in Activity 1?</p>\n<p>Note: I tried to use dispatchKeyEvent() and return true in activity 1, but it still did not work</p>\n"},{"tags":["java","regex","string","char"],"answers":[{"comments":[{"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"score":0,"creation_date":1358483495,"post_id":14392307,"comment_id":20022288,"body_markdown":"what about locale sensitivity?","body":"what about locale sensitivity?"}],"tags":[],"owner":{"account_id":1633017,"reputation":7674,"user_id":1667773,"display_name":"vishal_aim"},"comment_count":1,"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1358482697,"creation_date":1358482697,"answer_id":14392307,"question_id":14392270,"body_markdown":"use regular expression in java to check using `str.matches(regex_here)`\r\n[regex in java][1]\r\n\r\n\r\n  [1]: http://www.vogella.com/articles/JavaRegularExpressions/article.html\r\n\r\nfor example:\r\n\r\n        if(&quot;asdhAkldffl&quot;.matches(&quot;.*[ABCDEFGH].*&quot;))\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;yes&quot;);\r\n\t\t}","title":"How do I check if a string contains any characters from a given set of characters represented in another string?","body":"<p>use regular expression in java to check using <code>str.matches(regex_here)</code>\n<a href=\"http://www.vogella.com/articles/JavaRegularExpressions/article.html\" rel=\"noreferrer\">regex in java</a></p>\n\n<p>for example:</p>\n\n<pre><code>    if(\"asdhAkldffl\".matches(\".*[ABCDEFGH].*\"))\n    {\n        System.out.println(\"yes\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2209619,"reputation":2403,"user_id":1951885,"display_name":"Ricardo Ortega Maga&#241;a"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1358482879,"creation_date":1358482879,"answer_id":14392344,"question_id":14392270,"body_markdown":"I think this is a newbie question, so i will give you the easies method i can think of: [using indexof](http://www.homeandlearn.co.uk/java/indexOf.html) complex version include [regex](http://docs.oracle.com/javase/tutorial/essential/regex/) you can try if you want.","title":"How do I check if a string contains any characters from a given set of characters represented in another string?","body":"<p>I think this is a newbie question, so i will give you the easies method i can think of: <a href=\"http://www.homeandlearn.co.uk/java/indexOf.html\" rel=\"nofollow\">using indexof</a> complex version include <a href=\"http://docs.oracle.com/javase/tutorial/essential/regex/\" rel=\"nofollow\">regex</a> you can try if you want.</p>\n"},{"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1358483120,"post_id":14392368,"comment_id":20022201,"body_markdown":"This is a inefficient solution, using regex is better.","body":"This is a inefficient solution, using regex is better."},{"owner":{"account_id":2252493,"reputation":153,"user_id":1984443,"display_name":"EAKAE"},"score":2,"creation_date":1358483456,"post_id":14392368,"comment_id":20022276,"body_markdown":"I postedit because it is simpler and easier to understand if you don&#39;t know regex yet.","body":"I postedit because it is simpler and easier to understand if you don&#39;t know regex yet."},{"owner":{"account_id":3585957,"reputation":4619,"user_id":3241889,"accept_rate":72,"display_name":"Alex"},"score":0,"creation_date":1457542680,"post_id":14392368,"comment_id":59456180,"body_markdown":"Yeah but good luck if you want to check if it contains only numeric data with this method.","body":"Yeah but good luck if you want to check if it contains only numeric data with this method."},{"owner":{"account_id":359338,"reputation":918,"user_id":700693,"accept_rate":79,"display_name":"Evren Ozturk"},"score":2,"creation_date":1518425917,"post_id":14392368,"comment_id":84484916,"body_markdown":"Even if it is. That is not an acceptable attitude to answer.","body":"Even if it is. That is not an acceptable attitude to answer."},{"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"score":2,"creation_date":1573496759,"post_id":14392368,"comment_id":103893068,"body_markdown":"The question asked for a list of characters, not a single one","body":"The question asked for a list of characters, not a single one"}],"tags":[],"owner":{"account_id":2252493,"reputation":153,"user_id":1984443,"display_name":"EAKAE"},"comment_count":5,"down_vote_count":5,"up_vote_count":3,"is_accepted":false,"score":-2,"last_activity_date":1358483060,"creation_date":1358483060,"answer_id":14392368,"question_id":14392270,"body_markdown":"This seems like a Homework question... -_-\r\n\r\nYou can use the String.contains() function.  \r\nFor example:\r\n\r\n    &quot;string&quot;.contains(&quot;a&quot;);\r\n    String str = &quot;wasd&quot;;\r\n    str.contains(&quot;a&quot;);\r\nbut you will need to call it once per every character you want to check for.","title":"How do I check if a string contains any characters from a given set of characters represented in another string?","body":"<p>This seems like a Homework question... -_-</p>\n\n<p>You can use the String.contains() function.<br>\nFor example:</p>\n\n<pre><code>\"string\".contains(\"a\");\nString str = \"wasd\";\nstr.contains(\"a\");\n</code></pre>\n\n<p>but you will need to call it once per every character you want to check for.</p>\n"},{"comments":[{"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"score":2,"creation_date":1406154719,"post_id":14392451,"comment_id":38724362,"body_markdown":"@advocate Probably because it&#39;s not build into java.  You have to download Apache Commons Lang to get it.  http://commons.apache.org/proper/commons-lang/  Make sure to add it to your classpath.","body":"@advocate Probably because it&#39;s not build into java.  You have to download Apache Commons Lang to get it.  <a href=\"http://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang</a>  Make sure to add it to your classpath."},{"owner":{"account_id":285969,"reputation":12256,"user_id":584947,"accept_rate":92,"display_name":"fIwJlxSzApHEZIl"},"score":0,"creation_date":1406167951,"post_id":14392451,"comment_id":38727604,"body_markdown":"Thanks! For anyone else you need to unzip the download package (I recommend in your project folder). Right click your project in Eclipse -&gt; Build Path -&gt; Configure Build Path -&gt; Add External Jars -&gt; Select the commons lang jars. You will also need the right version number in your inport statement: import org.apache.commons.lang3.StringUtils;","body":"Thanks! For anyone else you need to unzip the download package (I recommend in your project folder). Right click your project in Eclipse -&gt; Build Path -&gt; Configure Build Path -&gt; Add External Jars -&gt; Select the commons lang jars. You will also need the right version number in your inport statement: import org.apache.commons.lang3.StringUtils;"},{"owner":{"account_id":1499083,"reputation":732,"user_id":1404325,"display_name":"Vitali Tchalov"},"score":4,"creation_date":1519419120,"post_id":14392451,"comment_id":84918883,"body_markdown":"This should be the accepted answer - it is cleaner, simpler and in my tests for verifying Windows file names for reserved characters using a pre-compiled RegEx (e.g. Pattern.compile(&quot;.*?[&lt;&gt;:\\&quot;/\\\\|?*]+?.*&quot;)), StringUtils.containsAny performed ~6 times faster.","body":"This should be the accepted answer - it is cleaner, simpler and in my tests for verifying Windows file names for reserved characters using a pre-compiled RegEx (e.g. Pattern.compile(&quot;.*?[&lt;&gt;:\\&quot;/\\\\|?*]+?.*&quot;)), StringUtils.containsAny performed ~6 times faster."}],"tags":[],"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"comment_count":3,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1631877274,"creation_date":1358483724,"answer_id":14392451,"question_id":14392270,"body_markdown":"The cleanest way to implement this is using [StringUtils.containsAny(String, String)][1]\r\n\r\n    package com.sandbox;\r\n    \r\n    import org.apache.commons.lang.StringUtils;\r\n    import org.junit.Test;\r\n    \r\n    import static org.junit.Assert.assertFalse;\r\n    import static org.junit.Assert.assertTrue;\r\n    \r\n    public class SandboxTest {\r\n    \r\n        @Test\r\n        public void testQuestionInput() {\r\n            assertTrue(StringUtils.containsAny(&quot;39823839A983923&quot;, &quot;ABCDEFGH&quot;));\r\n            assertTrue(StringUtils.containsAny(&quot;A&quot;, &quot;ABCDEFGH&quot;));\r\n            assertTrue(StringUtils.containsAny(&quot;ABCDEFGH&quot;, &quot;ABCDEFGH&quot;));\r\n            assertTrue(StringUtils.containsAny(&quot;AB&quot;, &quot;ABCDEFGH&quot;));\r\n            assertFalse(StringUtils.containsAny(&quot;39823839983923&quot;, &quot;ABCDEFGH&quot;));\r\n            assertFalse(StringUtils.containsAny(&quot;&quot;, &quot;ABCDEFGH&quot;));\r\n        }\r\n    \r\n    }\r\n\r\nMaven dependency:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#containsAny-java.lang.CharSequence-java.lang.CharSequence-","title":"How do I check if a string contains any characters from a given set of characters represented in another string?","body":"<p>The cleanest way to implement this is using <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#containsAny-java.lang.CharSequence-java.lang.CharSequence-\" rel=\"noreferrer\">StringUtils.containsAny(String, String)</a></p>\n<pre><code>package com.sandbox;\n\nimport org.apache.commons.lang.StringUtils;\nimport org.junit.Test;\n\nimport static org.junit.Assert.assertFalse;\nimport static org.junit.Assert.assertTrue;\n\npublic class SandboxTest {\n\n    @Test\n    public void testQuestionInput() {\n        assertTrue(StringUtils.containsAny(&quot;39823839A983923&quot;, &quot;ABCDEFGH&quot;));\n        assertTrue(StringUtils.containsAny(&quot;A&quot;, &quot;ABCDEFGH&quot;));\n        assertTrue(StringUtils.containsAny(&quot;ABCDEFGH&quot;, &quot;ABCDEFGH&quot;));\n        assertTrue(StringUtils.containsAny(&quot;AB&quot;, &quot;ABCDEFGH&quot;));\n        assertFalse(StringUtils.containsAny(&quot;39823839983923&quot;, &quot;ABCDEFGH&quot;));\n        assertFalse(StringUtils.containsAny(&quot;&quot;, &quot;ABCDEFGH&quot;));\n    }\n\n}\n</code></pre>\n<p>Maven dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;3.5&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":49854,"reputation":3949,"user_id":148593,"display_name":"Neil"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1496928782,"creation_date":1496928782,"answer_id":44437189,"question_id":14392270,"body_markdown":"From Guava: [CharMatcher.matchesAnyOf][1]\r\n\r\n    private static final CharMatcher CHARACTERS = CharMatcher.anyOf(&quot;ABCDEFGH&quot;);\r\n    assertTrue(CHARACTERS.matchesAnyOf(&quot;39823839A983923&quot;));\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/16.0/api/docs/com/google/common/base/CharMatcher.html#matchesAnyOf(java.lang.CharSequence)","title":"How do I check if a string contains any characters from a given set of characters represented in another string?","body":"<p>From Guava: <a href=\"https://google.github.io/guava/releases/16.0/api/docs/com/google/common/base/CharMatcher.html#matchesAnyOf(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">CharMatcher.matchesAnyOf</a></p>\n\n<pre><code>private static final CharMatcher CHARACTERS = CharMatcher.anyOf(\"ABCDEFGH\");\nassertTrue(CHARACTERS.matchesAnyOf(\"39823839A983923\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537445797,"creation_date":1537445797,"answer_id":52425002,"question_id":14392270,"body_markdown":"This is how it can be achieved using Pattern and Matcher,\r\n\r\n    Pattern p = Pattern.compile(&quot;[^A-Za-z0-9 ]&quot;);\r\n    Matcher m = p.matcher(trString);\r\n    boolean hasSpecialChars = m.find();","title":"How do I check if a string contains any characters from a given set of characters represented in another string?","body":"<p>This is how it can be achieved using Pattern and Matcher,</p>\n\n<pre><code>Pattern p = Pattern.compile(\"[^A-Za-z0-9 ]\");\nMatcher m = p.matcher(trString);\nboolean hasSpecialChars = m.find();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"score":0,"creation_date":1642902094,"post_id":54399334,"comment_id":125196335,"body_markdown":"I hadn&#39;t considered this when I gave my answer. This is a good point.  There are ways to get around it.  You could escape special characters with a &quot;\\&quot;. I&#39;m not saying this as an &quot;on the other hand,&quot; I&#39;m just letting others know every angle.","body":"I hadn&#39;t considered this when I gave my answer. This is a good point.  There are ways to get around it.  You could escape special characters with a &quot;\\&quot;. I&#39;m not saying this as an &quot;on the other hand,&quot; I&#39;m just letting others know every angle."}],"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1548669157,"creation_date":1548669157,"answer_id":54399334,"question_id":14392270,"body_markdown":"If `&quot;ABCDEFGH&quot;` is in a string variable, the regular expression solution is not good. It will not work if the string contains any character that has a special meaning in regular expressions. Instead I suggest:\r\n\r\n\t\tSet&lt;Character&gt; charsToTestFor = &quot;ABCDEFGH&quot;.chars()\r\n\t\t\t\t.mapToObj(ch -&gt; Character.valueOf((char) ch))\r\n\t\t\t\t.collect(Collectors.toSet());\r\n\t\tString stringToTest = &quot;asdhAkldffl&quot;;\r\n\t\tboolean anyCharInString = stringToTest.chars()\r\n\t\t\t\t.anyMatch(ch -&gt; charsToTestFor.contains(Character.valueOf((char) ch)));\r\n\t\tSystem.out.println(&quot;Does &quot; + stringToTest + &quot; contain any of &quot; + charsToTestFor + &quot;? &quot; + anyCharInString);\r\n\r\nWith the strings `asdhAkldffl` and `ABCDEFGH` this snippet outputs:\r\n\r\n&gt; Does asdhAkldffl contain any of [A, B, C, D, E, F, G, H]? true","title":"How do I check if a string contains any characters from a given set of characters represented in another string?","body":"<p>If <code>\"ABCDEFGH\"</code> is in a string variable, the regular expression solution is not good. It will not work if the string contains any character that has a special meaning in regular expressions. Instead I suggest:</p>\n\n<pre><code>    Set&lt;Character&gt; charsToTestFor = \"ABCDEFGH\".chars()\n            .mapToObj(ch -&gt; Character.valueOf((char) ch))\n            .collect(Collectors.toSet());\n    String stringToTest = \"asdhAkldffl\";\n    boolean anyCharInString = stringToTest.chars()\n            .anyMatch(ch -&gt; charsToTestFor.contains(Character.valueOf((char) ch)));\n    System.out.println(\"Does \" + stringToTest + \" contain any of \" + charsToTestFor + \"? \" + anyCharInString);\n</code></pre>\n\n<p>With the strings <code>asdhAkldffl</code> and <code>ABCDEFGH</code> this snippet outputs:</p>\n\n<blockquote>\n  <p>Does asdhAkldffl contain any of [A, B, C, D, E, F, G, H]? true</p>\n</blockquote>\n"}],"owner":{"display_name":"user1989216"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84559,"favorite_count":0,"down_vote_count":4,"up_vote_count":28,"accepted_answer_id":14392307,"answer_count":7,"score":24,"last_activity_date":1680669382,"creation_date":1358482442,"question_id":14392270,"body_markdown":"How do I check if a list of characters are in a String, for example &quot;ABCDEFGH&quot; how do I check if any one of those is in a string.","title":"How do I check if a string contains any characters from a given set of characters represented in another string?","body":"<p>How do I check if a list of characters are in a String, for example \"ABCDEFGH\" how do I check if any one of those is in a string.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680353609,"post_id":75906148,"comment_id":133886139,"body_markdown":"Hello, please be more precise about what are the current settings, what log are you getting on the startup, what are you doing to get an error and what is the error log including stacktrace.","body":"Hello, please be more precise about what are the current settings, what log are you getting on the startup, what are you doing to get an error and what is the error log including stacktrace."},{"owner":{"account_id":86075,"reputation":966,"user_id":239613,"display_name":"Gast&#243;n Fournier"},"score":0,"creation_date":1680432224,"post_id":75906148,"comment_id":133894440,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. It&#39;s hard to tell what kind of problem you&#39;re facing if you don&#39;t share the error log","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. It&#39;s hard to tell what kind of problem you&#39;re facing if you don&#39;t share the error log"},{"owner":{"account_id":20484255,"reputation":1,"user_id":15031795,"display_name":"sourabh bisht"},"score":0,"creation_date":1680545892,"post_id":75906148,"comment_id":133913511,"body_markdown":"I tried running this simple Springboot program but i&#39;m getting run time error every time it is different suppose I got one error and somehow i got solution for that in internet but after pasting that code i starts to get some other error.","body":"I tried running this simple Springboot program but i&#39;m getting run time error every time it is different suppose I got one error and somehow i got solution for that in internet but after pasting that code i starts to get some other error."},{"owner":{"account_id":20484255,"reputation":1,"user_id":15031795,"display_name":"sourabh bisht"},"score":0,"creation_date":1680545944,"post_id":75906148,"comment_id":133913526,"body_markdown":"Description:\n\nField entityManager in com.example.student.student.AStudentApplication required a bean of type &#39;javax.persistence.EntityManager&#39; that could not be found.\n\nThe injection point has the following annotations:\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type &#39;javax.persistence.EntityManager&#39; in your configuration.\n\n\nProcess finished with exit code 1\n\n\nThis is the error i&#39;m getting for now. I have searched on google and tried every solution looks like none of them are working","body":"Description:  Field entityManager in com.example.student.student.AStudentApplication required a bean of type &#39;javax.persistence.EntityManager&#39; that could not be found.  The injection point has the following annotations: \t- @org.springframework.beans.factory.annotation.Autowired(requ&zwnj;&#8203;ired=true)   Action:  Consider defining a bean of type &#39;javax.persistence.EntityManager&#39; in your configuration.   Process finished with exit code 1   This is the error i&#39;m getting for now. I have searched on google and tried every solution looks like none of them are working"}],"owner":{"account_id":20484255,"reputation":1,"user_id":15031795,"display_name":"sourabh bisht"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680669373,"creation_date":1680351579,"question_id":75906148,"body_markdown":"  \r\nSav is my user for my msSql server.\r\n\r\n\r\nController\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1&quot;)\r\n\r\n\r\n    public class Controller\r\n\r\n     {\r\n    @Autowired\r\n    private ProductRepo productrepo;\r\n    @GetMapping(&quot;/&quot;)  \r\n\r\n    public List\\&lt;Product\\&gt; getAllProduct()\r\n    {\r\n     List\\&lt;Product\\&gt; v = productrepo.findAll(); \r\n     return v;  }\r\n    @RequestMapping(&quot;/1&quot;)\r\n    public String welcome() {\r\n     return &quot;login&quot;;\r\n    }\r\n\r\n    //Creating employee rest api\r\n\r\n    //    @PostMapping(&quot;/Product&quot;)\r\n     public Product createProduct(@RequestBody Product product)  \r\n       return productrepo.save(product);    }\r\n  \r\n      }\r\n\r\n\r\n\r\n  \r\n\r\n\r\n\r\n\r\n My model \r\n\r\n\r\n       @Entity\r\n       @Table(name= &quot;Product&quot;)\r\n        public class Product {  \r\n         @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\n       private String id;\r\n       @Column(name= &quot;name&quot;)\r\n       private String name;\r\n      @Column(name= &quot;description&quot;)\r\n     private String description;\r\n\r\n     public Product(String id, String name, String description) {\r\n       this.id = id;\r\n      this.name = name;\r\n      this.description = description;\r\n      }\r\n\r\n    public Product() {\r\n                                                     }\r\n\r\n     public String getId() {\r\n       return id;\r\n     }\r\n\r\n     public void setId(String id) {\r\n       this.id = id;\r\n     }\r\n\r\n      public String getName() {\r\n        return name;\r\n      }\r\n\r\n        public void setName(String name) {\r\n       this.name = name;\r\n    }\r\n\r\n      public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n      public void setDescription(String description) {\r\n       this.description = description;\r\n      }\r\n\r\n}\r\n\r\n\r\n\r\nAnd my main class \r\n  \r\n\r\n\r\n      `@ComponentScan(&quot;com.example.student.student.Controller.&quot;)\r\n       @EnableAdminServer\r\n        @EnableJpaRepositories(&quot;com.example.student.student.productRepo&quot;)\r\n       @SpringBootApplication()\r\n\r\n      public class AStudentApplication {\r\n\r\n\t public static void main(String[] args) {\r\n\t\tSpringApplication.run(AStudentApplication.class, args);\r\n\t}\r\n \r\n     }`\r\n\r\n\r\n\r\nMy application properties \r\n\r\n     spring.datasource.url= jdbc:sqlserver://localhost;databaseName=product12;trustServerCertificate=true;\r\n     spring.datasource.username=sav\r\n     spring.datasource.password=12345\r\n      #spring.jpa.properties.hibernate.dialect= org.hibernate.dialect.SQLServer2012Dialect\r\n      spring.jpa.hibernate.ddl-auto = update\r\n     spring.jpa.open-in-view=true\r\n     server.port=9003\r\n     server.error.include-exception=true\r\n    server.error.include-stacktrace=always\r\n\r\n\r\n\r\nnew Error log\r\n\r\n    Description:\r\n\r\n    Field entityManager in com.example.student.student.AStudentApplication \r\n    required a bean of type &#39;javax.persistence.EntityManager&#39; that could not \r\n    be found.\r\n\r\n     The injection point has the following annotations:\r\n\t -@org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\n      Action:\r\n\r\n       Consider defining a bean of type &#39;javax.persistence.EntityManager&#39; in \r\n       your configuration.\r\n\r\n\r\n       Process finished with exit code 1\r\n\r\n\r\nI keep on getting different error with these code. I have tried different approach as well but somehow some other error occurs. I thought MSSql could also be the one of the reason but I have re-installed that still doesn&#39;t works out ","title":"Login failed for user &#39;sav&#39;. ClientConnectionId:8bb171a7-21ef-4e8b-9b25-33bab4beb828","body":"<p>Sav is my user for my msSql server.</p>\n<p>Controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1&quot;)\n\n\npublic class Controller\n\n {\n@Autowired\nprivate ProductRepo productrepo;\n@GetMapping(&quot;/&quot;)  \n\npublic List\\&lt;Product\\&gt; getAllProduct()\n{\n List\\&lt;Product\\&gt; v = productrepo.findAll(); \n return v;  }\n@RequestMapping(&quot;/1&quot;)\npublic String welcome() {\n return &quot;login&quot;;\n}\n\n//Creating employee rest api\n\n//    @PostMapping(&quot;/Product&quot;)\n public Product createProduct(@RequestBody Product product)  \n   return productrepo.save(product);    }\n\n  }\n</code></pre>\n<p>My model</p>\n<pre><code>   @Entity\n   @Table(name= &quot;Product&quot;)\n    public class Product {  \n     @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n\n   private String id;\n   @Column(name= &quot;name&quot;)\n   private String name;\n  @Column(name= &quot;description&quot;)\n private String description;\n\n public Product(String id, String name, String description) {\n   this.id = id;\n  this.name = name;\n  this.description = description;\n  }\n\npublic Product() {\n                                                 }\n\n public String getId() {\n   return id;\n }\n\n public void setId(String id) {\n   this.id = id;\n }\n\n  public String getName() {\n    return name;\n  }\n\n    public void setName(String name) {\n   this.name = name;\n}\n\n  public String getDescription() {\n    return description;\n}\n\n  public void setDescription(String description) {\n   this.description = description;\n  }\n</code></pre>\n<p>}</p>\n<p>And my main class</p>\n<pre><code>  `@ComponentScan(&quot;com.example.student.student.Controller.&quot;)\n   @EnableAdminServer\n    @EnableJpaRepositories(&quot;com.example.student.student.productRepo&quot;)\n   @SpringBootApplication()\n\n  public class AStudentApplication {\n\n public static void main(String[] args) {\n    SpringApplication.run(AStudentApplication.class, args);\n}\n\n }`\n</code></pre>\n<p>My application properties</p>\n<pre><code> spring.datasource.url= jdbc:sqlserver://localhost;databaseName=product12;trustServerCertificate=true;\n spring.datasource.username=sav\n spring.datasource.password=12345\n  #spring.jpa.properties.hibernate.dialect= org.hibernate.dialect.SQLServer2012Dialect\n  spring.jpa.hibernate.ddl-auto = update\n spring.jpa.open-in-view=true\n server.port=9003\n server.error.include-exception=true\nserver.error.include-stacktrace=always\n</code></pre>\n<p>new Error log</p>\n<pre><code>Description:\n\nField entityManager in com.example.student.student.AStudentApplication \nrequired a bean of type 'javax.persistence.EntityManager' that could not \nbe found.\n\n The injection point has the following annotations:\n -@org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\n  Action:\n\n   Consider defining a bean of type 'javax.persistence.EntityManager' in \n   your configuration.\n\n\n   Process finished with exit code 1\n</code></pre>\n<p>I keep on getting different error with these code. I have tried different approach as well but somehow some other error occurs. I thought MSSql could also be the one of the reason but I have re-installed that still doesn't works out</p>\n"},{"tags":["java","android","android-asynctask","httpurlconnection"],"comments":[{"owner":{"account_id":261539,"reputation":19938,"user_id":981715,"accept_rate":74,"display_name":"Eugen Martynov"},"score":2,"creation_date":1431726352,"post_id":30269034,"comment_id":48638183,"body_markdown":"Waiting main thread is not recommended and treated as bad user UX. You could move code about setting click listener to `onpostexecute` of `AsyncTask`. However you should somehow let user know that button will not work as would be expected. I would disable it until I got answer from network or postpone on click execution until I get answer from network. More comments about you asynctask. 404 is not only one error response code as well many webservers don&#39;t handle HEAD request correctly. So be aware about these facts","body":"Waiting main thread is not recommended and treated as bad user UX. You could move code about setting click listener to <code>onpostexecute</code> of <code>AsyncTask</code>. However you should somehow let user know that button will not work as would be expected. I would disable it until I got answer from network or postpone on click execution until I get answer from network. More comments about you asynctask. 404 is not only one error response code as well many webservers don&#39;t handle HEAD request correctly. So be aware about these facts"}],"answers":[{"comments":[{"owner":{"account_id":6132673,"reputation":367,"user_id":4782402,"accept_rate":67,"display_name":"TheCoolFrood"},"score":0,"creation_date":1431857302,"post_id":30269173,"comment_id":48668965,"body_markdown":"How? I thought I need multithreading for an AsyncTask since it wont run on the main Thread? How else can I check  if a URL exists","body":"How? I thought I need multithreading for an AsyncTask since it wont run on the main Thread? How else can I check  if a URL exists"},{"owner":{"account_id":6226279,"reputation":171,"user_id":4844430,"display_name":"Alex"},"score":0,"creation_date":1431884932,"post_id":30269173,"comment_id":48676991,"body_markdown":"Just put connection.connect(); code = connection.getResponseCode();\nto your code and this is good enough. However, and that&#39;s what probably confuses you, your main thread should be separated from the UI thread. In other words - don&#39;t do anything (especially time consuming like database connection or http connection) in UI thread - for example within onClick method. onClick executes within GUI thread. You can see it if you put break point - when you stop you can debug but your GUI is irresponsible. Regular practice - within onClick start another thread to do this job and  return control ASAP.","body":"Just put connection.connect(); code = connection.getResponseCode(); to your code and this is good enough. However, and that&#39;s what probably confuses you, your main thread should be separated from the UI thread. In other words - don&#39;t do anything (especially time consuming like database connection or http connection) in UI thread - for example within onClick method. onClick executes within GUI thread. You can see it if you put break point - when you stop you can debug but your GUI is irresponsible. Regular practice - within onClick start another thread to do this job and  return control ASAP."}],"tags":[],"owner":{"account_id":6226279,"reputation":171,"user_id":4844430,"display_name":"Alex"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431726055,"creation_date":1431726055,"answer_id":30269173,"question_id":30269034,"body_markdown":"You don&#39;t need multithread for your task. All what you need is to check that url is available. Right? Of course it may take some time and you have to wait this time in your main thread. That&#39;s right. But you still need to wait. Don&#39;t create unnecessary complexity. Just read url, get response code, validate it, check for timeout exception and you are good to go.","title":"Checking if url exists","body":"<p>You don't need multithread for your task. All what you need is to check that url is available. Right? Of course it may take some time and you have to wait this time in your main thread. That's right. But you still need to wait. Don't create unnecessary complexity. Just read url, get response code, validate it, check for timeout exception and you are good to go.</p>\n"},{"comments":[{"owner":{"account_id":6132673,"reputation":367,"user_id":4782402,"accept_rate":67,"display_name":"TheCoolFrood"},"score":0,"creation_date":1431857246,"post_id":30269312,"comment_id":48668950,"body_markdown":"I know about onPostExecute like I said in my question before. The thing is that I have a lot of code to execute after the URL check. Do I have to put my entire Code into that onPostExecute function?","body":"I know about onPostExecute like I said in my question before. The thing is that I have a lot of code to execute after the URL check. Do I have to put my entire Code into that onPostExecute function?"},{"owner":{"account_id":2677481,"reputation":362,"user_id":2313524,"accept_rate":29,"display_name":"diaz994"},"score":0,"creation_date":1431917738,"post_id":30269312,"comment_id":48685233,"body_markdown":"If it is code that is dependent on the response then yes it would go into the onPostExecute callback.","body":"If it is code that is dependent on the response then yes it would go into the onPostExecute callback."}],"tags":[],"owner":{"account_id":2677481,"reputation":362,"user_id":2313524,"accept_rate":29,"display_name":"diaz994"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680668030,"creation_date":1431726785,"answer_id":30269312,"question_id":30269034,"body_markdown":"We need to look at the specification of AsyncTask. Typically in any asynchronous method you have a callback function that lets you know the background operation has completed. In the case of Android it is `onPostExecute()`\r\n\r\nIt can be found here. http://developer.android.com/reference/android/os/AsyncTask.html\r\n\r\nWhen an asynchronous task is executed, the task goes through 4 steps:\r\n\r\n&gt;  1. `onPreExecute()`, invoked on the UI thread before the task is executed. This step is normally used to setup the task, for instance\r\n&gt; by showing a progress bar in the user interface.\r\n&gt; \r\n&gt;  2. `doInBackground(Params...)`, invoked on the background thread immediately after onPreExecute() finishes executing. This step is used\r\n&gt; to perform background computation that can take a long time. The\r\n&gt; parameters of the asynchronous task are passed to this step. The\r\n&gt; result of the computation must be returned by this step and will be\r\n&gt; passed back to the last step. This step can also use\r\n&gt; publishProgress(Progress...) to publish one or more units of progress.\r\n&gt; These values are published on the UI thread, in the\r\n&gt; onProgressUpdate(Progress...) step.\r\n&gt; \r\n&gt;  3. `onProgressUpdate(Progress...)`, invoked on the UI thread after a call to publishProgress(Progress...). The timing of the execution is\r\n&gt; undefined. This method is used to display any form of progress in the\r\n&gt; user interface while the background computation is still executing.\r\n&gt; For instance, it can be used to animate a progress bar or show logs in\r\n&gt; a text field.\r\n&gt; \r\n&gt;  4. `onPostExecute(Result)`, invoked on the UI thread after the background computation finishes. The result of the background\r\n&gt; computation is passed to this step as a parameter.\r\n\r\n\r\nFor your specific case you might want to do something like this..\r\n\r\n    yourAsyncTask{\r\n       @Override\r\n       protected Boolean doInBackground(Void... params){\r\n            // CHECK YOUR URL HERE\r\n       }\r\n       .\r\n       .\r\n       .\r\n       @Override\r\n       public void onPostExecute(Result result){\r\n          if(isTrue) {\r\n            myButton.setOnClickListener(new View.OnClickListener() {\r\n\r\n            public void onClick(View v) {\r\n                //Do Something\r\n             }\r\n            });\r\n          }\r\n       }\r\n    }","title":"Checking if url exists","body":"<p>We need to look at the specification of AsyncTask. Typically in any asynchronous method you have a callback function that lets you know the background operation has completed. In the case of Android it is <code>onPostExecute()</code></p>\n<p>It can be found here. <a href=\"http://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">http://developer.android.com/reference/android/os/AsyncTask.html</a></p>\n<p>When an asynchronous task is executed, the task goes through 4 steps:</p>\n<blockquote>\n<ol>\n<li><p><code>onPreExecute()</code>, invoked on the UI thread before the task is executed. This step is normally used to setup the task, for instance\nby showing a progress bar in the user interface.</p>\n</li>\n<li><p><code>doInBackground(Params...)</code>, invoked on the background thread immediately after onPreExecute() finishes executing. This step is used\nto perform background computation that can take a long time. The\nparameters of the asynchronous task are passed to this step. The\nresult of the computation must be returned by this step and will be\npassed back to the last step. This step can also use\npublishProgress(Progress...) to publish one or more units of progress.\nThese values are published on the UI thread, in the\nonProgressUpdate(Progress...) step.</p>\n</li>\n<li><p><code>onProgressUpdate(Progress...)</code>, invoked on the UI thread after a call to publishProgress(Progress...). The timing of the execution is\nundefined. This method is used to display any form of progress in the\nuser interface while the background computation is still executing.\nFor instance, it can be used to animate a progress bar or show logs in\na text field.</p>\n</li>\n<li><p><code>onPostExecute(Result)</code>, invoked on the UI thread after the background computation finishes. The result of the background\ncomputation is passed to this step as a parameter.</p>\n</li>\n</ol>\n</blockquote>\n<p>For your specific case you might want to do something like this..</p>\n<pre><code>yourAsyncTask{\n   @Override\n   protected Boolean doInBackground(Void... params){\n        // CHECK YOUR URL HERE\n   }\n   .\n   .\n   .\n   @Override\n   public void onPostExecute(Result result){\n      if(isTrue) {\n        myButton.setOnClickListener(new View.OnClickListener() {\n\n        public void onClick(View v) {\n            //Do Something\n         }\n        });\n      }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":6132673,"reputation":367,"user_id":4782402,"accept_rate":67,"display_name":"TheCoolFrood"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":915,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680668030,"creation_date":1431725343,"question_id":30269034,"body_markdown":"For my project I need to check a URL to see if it exists or not.\r\nSo I created a `HttpURLConnection` and connected to the url and wait for the response code.\r\nSince I can&#39;t use that HttpURLConnection in my Main Thread, i had to move it to an AsyncTask and let it run on a separate Thread.\r\n\r\nThis is what my code for that AsyncTask looks like (only the important parts):\r\n\r\n    private class URLExists extends AsyncTask&lt;String, Void, Boolean&gt; {\r\n\r\n        protected Boolean doInBackground(String... urls)\r\n        {\r\n            boolean isValid = false;\r\n\r\n            try\r\n            {\r\n                URL myurl = new URL(urls[0]);\r\n                HttpURLConnection.setFollowRedirects(false);\r\n\r\n                HttpURLConnection connection = (HttpURLConnection) myurl.openConnection();\r\n                connection.setUseCaches(true);\r\n                connection.setRequestMethod(&quot;HEAD&quot;);\r\n                connection.connect();\r\n                int code = connection.getResponseCode();\r\n\r\n                ...\r\n\r\n                connection.disconnect();\r\n\r\n                if(code != 404)\r\n                    isValid = true;\r\n                \r\n                else\r\n                    isValid = false;\r\n            }\r\n\r\n                ...\r\n            return isValid;\r\n        }\r\n\r\n        protected void onPostExecute(Boolean isValid)\r\n        {\r\n            isTrue = isValid;\r\n        }\r\n    }\r\n\r\nSo basically i then get a boolean value `isTrue` which tells me if the url is valid. When I run this i get the right results, everything works.\r\n\r\nBut now, when i execute this AsyncTask, it runs parallel to my main Thread, obviously. \r\n\r\nI have this code:\r\n\r\n    new URLExists().execute(&quot;https://www.example.com&quot;);\r\n    if(isTrue)\r\n    {\r\n        myButton.setOnClickListener(new View.OnClickListener() {\r\n\r\n                public void onClick(View v) {\r\n                    //Do Something\r\n                }\r\n            });\r\n    }\r\n\r\nSince my AsyncTask runs parallel, my Main Thread executes the next operation without waiting for the result of the AsyncTask. Since `isTrue` is `false` by default, the if statement never runs.\r\n\r\nOf course i know about the `protected void onPostExecute()` in the AsyncTask, but does that mean that all the code that follows in my main Thread has to be in that function in the parallel Thread? It all depends on the outcome of the URL check.\r\n\r\nI know about the .get() method, but that freezes my MainThread and the UI, so that&#39;s not really an option for me.\r\n\r\nIs there any other way of making the Main thread wait for the AsyncTask? I know the defeats the purpose of the AsyncTask, but all I want is to check if the URL exists and I can only do checks in an AsyncTask.","title":"Checking if url exists","body":"<p>For my project I need to check a URL to see if it exists or not.\nSo I created a <code>HttpURLConnection</code> and connected to the url and wait for the response code.\nSince I can't use that HttpURLConnection in my Main Thread, i had to move it to an AsyncTask and let it run on a separate Thread.</p>\n\n<p>This is what my code for that AsyncTask looks like (only the important parts):</p>\n\n<pre><code>private class URLExists extends AsyncTask&lt;String, Void, Boolean&gt; {\n\n    protected Boolean doInBackground(String... urls)\n    {\n        boolean isValid = false;\n\n        try\n        {\n            URL myurl = new URL(urls[0]);\n            HttpURLConnection.setFollowRedirects(false);\n\n            HttpURLConnection connection = (HttpURLConnection) myurl.openConnection();\n            connection.setUseCaches(true);\n            connection.setRequestMethod(\"HEAD\");\n            connection.connect();\n            int code = connection.getResponseCode();\n\n            ...\n\n            connection.disconnect();\n\n            if(code != 404)\n                isValid = true;\n\n            else\n                isValid = false;\n        }\n\n            ...\n        return isValid;\n    }\n\n    protected void onPostExecute(Boolean isValid)\n    {\n        isTrue = isValid;\n    }\n}\n</code></pre>\n\n<p>So basically i then get a boolean value <code>isTrue</code> which tells me if the url is valid. When I run this i get the right results, everything works.</p>\n\n<p>But now, when i execute this AsyncTask, it runs parallel to my main Thread, obviously. </p>\n\n<p>I have this code:</p>\n\n<pre><code>new URLExists().execute(\"https://www.example.com\");\nif(isTrue)\n{\n    myButton.setOnClickListener(new View.OnClickListener() {\n\n            public void onClick(View v) {\n                //Do Something\n            }\n        });\n}\n</code></pre>\n\n<p>Since my AsyncTask runs parallel, my Main Thread executes the next operation without waiting for the result of the AsyncTask. Since <code>isTrue</code> is <code>false</code> by default, the if statement never runs.</p>\n\n<p>Of course i know about the <code>protected void onPostExecute()</code> in the AsyncTask, but does that mean that all the code that follows in my main Thread has to be in that function in the parallel Thread? It all depends on the outcome of the URL check.</p>\n\n<p>I know about the .get() method, but that freezes my MainThread and the UI, so that's not really an option for me.</p>\n\n<p>Is there any other way of making the Main thread wait for the AsyncTask? I know the defeats the purpose of the AsyncTask, but all I want is to check if the URL exists and I can only do checks in an AsyncTask.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":2660818,"reputation":645,"user_id":2300554,"display_name":"Florescent Ticker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398934682,"creation_date":1398934682,"answer_id":23404755,"question_id":23404678,"body_markdown":"Try using `Scanner` like this.\r\n\r\n    URL url = new URL(&quot;http://www.example.com/description1.txt&quot;);       \r\n    Scanner s = new Scanner(url.openStream());","title":"Getting the text file&#39;s url instead of the content in java when reading txt file into a variable","body":"<p>Try using <code>Scanner</code> like this.</p>\n\n<pre><code>URL url = new URL(\"http://www.example.com/description1.txt\");       \nScanner s = new Scanner(url.openStream());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1551990,"reputation":459,"user_id":1444175,"accept_rate":71,"display_name":"dodo"},"score":0,"creation_date":1398935363,"post_id":23404797,"comment_id":35860921,"body_markdown":"I updated the method, but it&#39;s still gives back the url. Maybe the problem is at the calling line in the Activity?\nnew readtextfile(description).onPostExecute(&quot;http://www.example.com/description1.txt&quot;);","body":"I updated the method, but it&#39;s still gives back the url. Maybe the problem is at the calling line in the Activity? new readtextfile(description).onPostExecute(&quot;<a href=\"http://www.example.com/description1.txt&quot;\" rel=\"nofollow noreferrer\">example.com/descrip&zwnj;&#8203;tion1.txt&quot;</a>);"},{"owner":{"account_id":4326511,"reputation":8441,"user_id":3533191,"accept_rate":62,"display_name":"Syam S"},"score":0,"creation_date":1398935854,"post_id":23404797,"comment_id":35861119,"body_markdown":"Oh sorry.. I didnt notice that.. Instead of invoking onPostExecute directly try execute() method. Like new readtextfile(description).execute();","body":"Oh sorry.. I didnt notice that.. Instead of invoking onPostExecute directly try execute() method. Like new readtextfile(description).execute();"},{"owner":{"account_id":1551990,"reputation":459,"user_id":1444175,"accept_rate":71,"display_name":"dodo"},"score":0,"creation_date":1398936232,"post_id":23404797,"comment_id":35861282,"body_markdown":"Alright, i have tried the execute method, but now im getting empty result. Damn.","body":"Alright, i have tried the execute method, but now im getting empty result. Damn."},{"owner":{"account_id":1551990,"reputation":459,"user_id":1444175,"accept_rate":71,"display_name":"dodo"},"score":0,"creation_date":1398936588,"post_id":23404797,"comment_id":35861422,"body_markdown":"Sure, i&#39;ve updated the code. Could you review it again please?","body":"Sure, i&#39;ve updated the code. Could you review it again please?"},{"owner":{"account_id":4326511,"reputation":8441,"user_id":3533191,"accept_rate":62,"display_name":"Syam S"},"score":0,"creation_date":1398938186,"post_id":23404797,"comment_id":35862093,"body_markdown":"This is working fine for me. Please make sure that the url connection could be established. Check for Log cat trace and see any unknown host exception is occuring or not?","body":"This is working fine for me. Please make sure that the url connection could be established. Check for Log cat trace and see any unknown host exception is occuring or not?"},{"owner":{"account_id":1551990,"reputation":459,"user_id":1444175,"accept_rate":71,"display_name":"dodo"},"score":0,"creation_date":1398939033,"post_id":23404797,"comment_id":35862489,"body_markdown":"OH GOD, i haven&#39;t gave internet permission to the application! As soon as i can i&#39;ll try it, but im sure that&#39;s the problem. Thanks man!","body":"OH GOD, i haven&#39;t gave internet permission to the application! As soon as i can i&#39;ll try it, but im sure that&#39;s the problem. Thanks man!"}],"tags":[],"owner":{"account_id":4326511,"reputation":8441,"user_id":3533191,"accept_rate":62,"display_name":"Syam S"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680667688,"creation_date":1398934935,"answer_id":23404797,"question_id":23404678,"body_markdown":"Try url.openConnection and the use connection object to get inputStream. The updated method would be like\r\n\r\n\tprotected String doInBackground(String... params) {\r\n\t\tURL url = null;\r\n\t\tString result = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\turl = new URL(&quot;http://www.example.com/description1.txt&quot;);\r\n\t\t\tURLConnection connection = url.openConnection();\r\n\t\t\tBufferedReader in = new BufferedReader(new InputStreamReader(\r\n\t\t\t\t\tconnection.getInputStream()));\r\n\t\t\tString line = null;\r\n\t\t\twhile ((line = in.readLine()) != null) {\r\n\t\t\t\tresult += line;\r\n\t\t\t}\r\n\t\t\tin.close();\r\n\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n**Update based on your comment.**\r\n\r\nYou need not invoke the postExecute method. If you invoke postExecute it just execute that method. The doInBackground wont get exeuted. Instead you should use the execute method. Just like java thread.start() method invoke the overridden run() method.\r\n\r\nWhen an asynchronous task is executed, the task goes through 4 steps:\r\n\r\n&gt; **onPreExecute()**, invoked on the UI thread before the task is executed. This step is normally used to setup the task, for instance\r\n&gt; by showing a progress bar in the user interface.\r\n&gt; \r\n&gt; **doInBackground(Params...)**, invoked on the background thread immediately after onPreExecute() finishes executing. This step is used\r\n&gt; to perform background computation that can take a long time. The\r\n&gt; parameters of the asynchronous task are passed to this step. The\r\n&gt; result of the computation must be returned by this step and will be\r\n&gt; passed back to the last step. This step can also use\r\n&gt; publishProgress(Progress...) to publish one or more units of progress.\r\n&gt; These values are published on the UI thread, in the\r\n&gt; onProgressUpdate(Progress...) step.\r\n&gt; \r\n&gt; **onProgressUpdate(Progress...)**, invoked on the UI thread after a call to publishProgress(Progress...). The timing of the execution is\r\n&gt; undefined. This method is used to display any form of progress in the\r\n&gt; user interface while the background computation is still executing.\r\n&gt; For instance, it can be used to animate a progress bar or show logs in\r\n&gt; a text field.\r\n&gt; \r\n&gt; **onPostExecute(Result)**, invoked on the UI thread after the background computation finishes. The result of the background\r\n&gt; computation is passed to this step as a parameter.\r\n\r\nfrom [developer doc][1]\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/os/AsyncTask.html","title":"Getting the text file&#39;s url instead of the content in java when reading txt file into a variable","body":"<p>Try url.openConnection and the use connection object to get inputStream. The updated method would be like</p>\n<pre><code>protected String doInBackground(String... params) {\n    URL url = null;\n    String result = &quot;&quot;;\n    try {\n        url = new URL(&quot;http://www.example.com/description1.txt&quot;);\n        URLConnection connection = url.openConnection();\n        BufferedReader in = new BufferedReader(new InputStreamReader(\n                connection.getInputStream()));\n        String line = null;\n        while ((line = in.readLine()) != null) {\n            result += line;\n        }\n        in.close();\n\n    } catch (MalformedURLException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return result;\n}\n</code></pre>\n<p><strong>Update based on your comment.</strong></p>\n<p>You need not invoke the postExecute method. If you invoke postExecute it just execute that method. The doInBackground wont get exeuted. Instead you should use the execute method. Just like java thread.start() method invoke the overridden run() method.</p>\n<p>When an asynchronous task is executed, the task goes through 4 steps:</p>\n<blockquote>\n<p><strong>onPreExecute()</strong>, invoked on the UI thread before the task is executed. This step is normally used to setup the task, for instance\nby showing a progress bar in the user interface.</p>\n<p><strong>doInBackground(Params...)</strong>, invoked on the background thread immediately after onPreExecute() finishes executing. This step is used\nto perform background computation that can take a long time. The\nparameters of the asynchronous task are passed to this step. The\nresult of the computation must be returned by this step and will be\npassed back to the last step. This step can also use\npublishProgress(Progress...) to publish one or more units of progress.\nThese values are published on the UI thread, in the\nonProgressUpdate(Progress...) step.</p>\n<p><strong>onProgressUpdate(Progress...)</strong>, invoked on the UI thread after a call to publishProgress(Progress...). The timing of the execution is\nundefined. This method is used to display any form of progress in the\nuser interface while the background computation is still executing.\nFor instance, it can be used to animate a progress bar or show logs in\na text field.</p>\n<p><strong>onPostExecute(Result)</strong>, invoked on the UI thread after the background computation finishes. The result of the background\ncomputation is passed to this step as a parameter.</p>\n</blockquote>\n<p>from <a href=\"http://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">developer doc</a></p>\n"}],"owner":{"account_id":1551990,"reputation":459,"user_id":1444175,"accept_rate":71,"display_name":"dodo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23404797,"answer_count":2,"score":1,"last_activity_date":1680667688,"creation_date":1398934285,"question_id":23404678,"body_markdown":"I&#39;m new in java, and im trying to read a text file from the web into a variable, but i&#39;m getting the text file&#39;s url, instead of the content, and just can&#39;t figure out what could be the problem.\r\n\r\nThe class where i&#39;m trying to read the file:\r\n\r\n    public class readtextfile extends AsyncTask&lt;String, Integer, String&gt;{\r\n    \r\n    private TextView description;\r\n    public readtextfile(TextView descriptiontext){\r\n        this.description = descriptiontext;\r\n        }\r\n    \r\n    @Override\r\n    protected String doInBackground(String... params) {\r\n    \tURL url = null;\r\n    \tString result =&quot;&quot;;\r\n        try {\r\n        \t\r\n            url = new URL(&quot;http://example.com/description1.txt&quot;);       \r\n            BufferedReader in = new BufferedReader(new InputStreamReader(url.openStream()));\r\n        \tString line = null;\r\n            while ((line = in.readLine()) != null) {\r\n            result+=line;\r\n            }\r\n            in.close();\r\n            \r\n            } \r\n        \tcatch (MalformedURLException e) {e.printStackTrace();} \r\n        \tcatch (IOException e) {e.printStackTrace();}\r\n        return result;\r\n    }\r\n    \r\n     protected void onProgressUpdate() {\r\n        //called when the background task makes any progress\r\n     }\r\n    \r\n      protected void onPreExecute() {\r\n         //called before doInBackground() is started\r\n     }\r\n    \r\n    @Override\r\n     protected void onPostExecute(String result) {\r\n    \tthis.description.setText(result); \r\n     }\r\n      }\r\n\r\nThe Activity where i call the class:\r\n\r\n    public class PhotosActivity extends Activity {\r\n        \r\n    \tTextView description;\r\n    \tString descriptiontext;\r\n    \t\r\n    \tpublic void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.photos_layout);\r\n            \r\n      \t\tdescription = ((TextView)findViewById(R.id.description1));\r\n            \r\n      \t\tnew readtextfile(description).execute();\r\n            }   \r\n            \r\n        }","title":"Getting the text file&#39;s url instead of the content in java when reading txt file into a variable","body":"<p>I'm new in java, and im trying to read a text file from the web into a variable, but i'm getting the text file's url, instead of the content, and just can't figure out what could be the problem.</p>\n\n<p>The class where i'm trying to read the file:</p>\n\n<pre><code>public class readtextfile extends AsyncTask&lt;String, Integer, String&gt;{\n\nprivate TextView description;\npublic readtextfile(TextView descriptiontext){\n    this.description = descriptiontext;\n    }\n\n@Override\nprotected String doInBackground(String... params) {\n    URL url = null;\n    String result =\"\";\n    try {\n\n        url = new URL(\"http://example.com/description1.txt\");       \n        BufferedReader in = new BufferedReader(new InputStreamReader(url.openStream()));\n        String line = null;\n        while ((line = in.readLine()) != null) {\n        result+=line;\n        }\n        in.close();\n\n        } \n        catch (MalformedURLException e) {e.printStackTrace();} \n        catch (IOException e) {e.printStackTrace();}\n    return result;\n}\n\n protected void onProgressUpdate() {\n    //called when the background task makes any progress\n }\n\n  protected void onPreExecute() {\n     //called before doInBackground() is started\n }\n\n@Override\n protected void onPostExecute(String result) {\n    this.description.setText(result); \n }\n  }\n</code></pre>\n\n<p>The Activity where i call the class:</p>\n\n<pre><code>public class PhotosActivity extends Activity {\n\n    TextView description;\n    String descriptiontext;\n\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.photos_layout);\n\n        description = ((TextView)findViewById(R.id.description1));\n\n        new readtextfile(description).execute();\n        }   \n\n    }\n</code></pre>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":330005,"reputation":132780,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":2,"creation_date":1373081975,"post_id":17499441,"comment_id":25438101,"body_markdown":"post the stack trace. also initialize views in `onCreate` and use `runOnUiThread` if you are updating ui from `doInBackground`.","body":"post the stack trace. also initialize views in <code>onCreate</code> and use <code>runOnUiThread</code> if you are updating ui from <code>doInBackground</code>."},{"owner":{"account_id":1163691,"reputation":1042,"user_id":1142712,"accept_rate":20,"display_name":"Weibo"},"score":0,"creation_date":1373082957,"post_id":17499441,"comment_id":25438211,"body_markdown":"1. please move the view initialize code into onCreate(View view) method.\n\n2. Try to test if server return the json correct, you can use postman to do the testing.[postman is a chrome plugin, you can find and install in Chrome web store.]","body":"1. please move the view initialize code into onCreate(View view) method.  2. Try to test if server return the json correct, you can use postman to do the testing.[postman is a chrome plugin, you can find and install in Chrome web store.]"},{"owner":{"account_id":2649229,"reputation":89,"user_id":2291333,"accept_rate":62,"display_name":"dsgunter"},"score":0,"creation_date":1373084720,"post_id":17499441,"comment_id":25438492,"body_markdown":"Added my stack trace. I&#39;ll try your recommendations. Thanks for your help :)","body":"Added my stack trace. I&#39;ll try your recommendations. Thanks for your help :)"},{"owner":{"account_id":330005,"reputation":132780,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":0,"creation_date":1373085281,"post_id":17499441,"comment_id":25438582,"body_markdown":"@dsgunter post your adapter code.","body":"@dsgunter post your adapter code."}],"answers":[{"comments":[{"owner":{"account_id":2649229,"reputation":89,"user_id":2291333,"accept_rate":62,"display_name":"dsgunter"},"score":0,"creation_date":1373159348,"post_id":17499534,"comment_id":25453988,"body_markdown":"Thank you, I tried your suggestion and now I&#39;m getting an onPostExecute-related error.. so at least I&#39;m getting somewhere now!","body":"Thank you, I tried your suggestion and now I&#39;m getting an onPostExecute-related error.. so at least I&#39;m getting somewhere now!"}],"tags":[],"owner":{"account_id":263142,"reputation":9391,"user_id":548526,"accept_rate":70,"display_name":"Siddharth"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680667423,"creation_date":1373083337,"answer_id":17499534,"question_id":17499441,"body_markdown":"Possibility One\r\n---------------\r\n**Step 1** credits @Weibo\r\n\r\nMove this to your onCreate, doInBackground cannot do **any** ui stuff. Its the basic rule of AsyncTask. If you must, move the AsyncTask class into your activity where it is needed. Ensure that you dont make it static, since you need the `findViewById` of the onCreate.\r\n\r\n        final Spinner numPoke = (Spinner) findViewById(R.id.SpinnerNumPokemon);\r\n        final Spinner dexRegion = (Spinner) findViewById(R.id.SpinnerRegion);\r\n        final Spinner pokeType = (Spinner) findViewById(R.id.SpinnerType);\r\n        final ToggleButton incNFE = (ToggleButton) findViewById(R.id.toggleNFE);\r\n        final ToggleButton incLegendary = (ToggleButton) findViewById(R.id.toggleLegendary);\r\n\r\n**Step 2**\r\n\r\nIn your onPostExecute, the first statement should have\r\n\r\n    super.doPostExecute(result) ;\r\n\r\nPossibility Two\r\n---------------\r\n\r\nYour `list` or `pokemonList` is **null**, check this out. Use `Toast&#39;s` for debugging.\r\n\r\nAdvice\r\n=====\r\nFrom the Android [documentation][1], please read the 4 steps.\r\n\r\nThe 4 steps\r\n-----------\r\n\r\n&gt; When an asynchronous task is executed, the task goes through 4 steps:\r\n&gt; \r\n&gt; 1. onPreExecute(), invoked on the UI thread before the task is executed. This step is normally used to setup the task, for instance\r\n&gt; by showing a progress bar in the user interface.\r\n&gt; 2. doInBackground(Params...), invoked on the background thread immediately after onPreExecute() finishes executing. This step is used\r\n&gt; to perform background computation that can take a long time. The\r\n&gt; parameters of the asynchronous task are passed to this step. The\r\n&gt; result of the computation must be returned by this step and will be\r\n&gt; passed back to the last step. This step can also use\r\n&gt; publishProgress(Progress...) to publish one or more units of progress.\r\n&gt; These values are published on the UI thread, in the\r\n&gt; onProgressUpdate(Progress...) step.\r\n&gt; 3. onProgressUpdate(Progress...), invoked on the UI thread after a call to publishProgress(Progress...). The timing of the execution is\r\n&gt; undefined. This method is used to display any form of progress in the\r\n&gt; user interface while the background computation is still executing.\r\n&gt; For instance, it can be used to animate a progress bar or show logs in\r\n&gt; a text field.\r\n&gt; 4. onPostExecute(Result), invoked on the UI thread after the background computation finishes. The result of the background\r\n&gt; computation is passed to this step as a parameter.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/os/AsyncTask.html","title":"Android JSON - AsyncTask DoInBackground NullPointer","body":"<h2>Possibility One</h2>\n<p><strong>Step 1</strong> credits @Weibo</p>\n<p>Move this to your onCreate, doInBackground cannot do <strong>any</strong> ui stuff. Its the basic rule of AsyncTask. If you must, move the AsyncTask class into your activity where it is needed. Ensure that you dont make it static, since you need the <code>findViewById</code> of the onCreate.</p>\n<pre><code>    final Spinner numPoke = (Spinner) findViewById(R.id.SpinnerNumPokemon);\n    final Spinner dexRegion = (Spinner) findViewById(R.id.SpinnerRegion);\n    final Spinner pokeType = (Spinner) findViewById(R.id.SpinnerType);\n    final ToggleButton incNFE = (ToggleButton) findViewById(R.id.toggleNFE);\n    final ToggleButton incLegendary = (ToggleButton) findViewById(R.id.toggleLegendary);\n</code></pre>\n<p><strong>Step 2</strong></p>\n<p>In your onPostExecute, the first statement should have</p>\n<pre><code>super.doPostExecute(result) ;\n</code></pre>\n<h2>Possibility Two</h2>\n<p>Your <code>list</code> or <code>pokemonList</code> is <strong>null</strong>, check this out. Use <code>Toast's</code> for debugging.</p>\n<h1>Advice</h1>\n<p>From the Android <a href=\"http://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">documentation</a>, please read the 4 steps.</p>\n<h2>The 4 steps</h2>\n<blockquote>\n<p>When an asynchronous task is executed, the task goes through 4 steps:</p>\n<ol>\n<li>onPreExecute(), invoked on the UI thread before the task is executed. This step is normally used to setup the task, for instance\nby showing a progress bar in the user interface.</li>\n<li>doInBackground(Params...), invoked on the background thread immediately after onPreExecute() finishes executing. This step is used\nto perform background computation that can take a long time. The\nparameters of the asynchronous task are passed to this step. The\nresult of the computation must be returned by this step and will be\npassed back to the last step. This step can also use\npublishProgress(Progress...) to publish one or more units of progress.\nThese values are published on the UI thread, in the\nonProgressUpdate(Progress...) step.</li>\n<li>onProgressUpdate(Progress...), invoked on the UI thread after a call to publishProgress(Progress...). The timing of the execution is\nundefined. This method is used to display any form of progress in the\nuser interface while the background computation is still executing.\nFor instance, it can be used to animate a progress bar or show logs in\na text field.</li>\n<li>onPostExecute(Result), invoked on the UI thread after the background computation finishes. The result of the background\ncomputation is passed to this step as a parameter.</li>\n</ol>\n</blockquote>\n"}],"owner":{"account_id":2649229,"reputation":89,"user_id":2291333,"accept_rate":62,"display_name":"dsgunter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":17499534,"answer_count":1,"score":2,"last_activity_date":1680667423,"creation_date":1373081903,"question_id":17499441,"body_markdown":"I&#39;m working on a simple app that will send POST data to a php script, then take the JSON response and put it into a listview. I have the UI things working, and I get a JSON response from the script, but my app crashes and the debug logs show only a `fatal error: main`, pointing towards only my AsyncTask. Is my JSON just not being parsed correctly? \r\n","title":"Android JSON - AsyncTask DoInBackground NullPointer","body":"<p>I'm working on a simple app that will send POST data to a php script, then take the JSON response and put it into a listview. I have the UI things working, and I get a JSON response from the script, but my app crashes and the debug logs show only a <code>fatal error: main</code>, pointing towards only my AsyncTask. Is my JSON just not being parsed correctly? </p>\n"},{"tags":["java","arrays","sorting","generics","parameters"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1680666562,"post_id":75935378,"comment_id":133935072,"body_markdown":"Maybe there are other issues in your code that causes the compiler to give you such a confusing message, but at least, `E` in your `sort` is missing the `extends Comparable&lt;E&gt;` constraint that `E` in `minIndex` has.","body":"Maybe there are other issues in your code that causes the compiler to give you such a confusing message, but at least, <code>E</code> in your <code>sort</code> is missing the <code>extends Comparable&lt;E&gt;</code> constraint that <code>E</code> in <code>minIndex</code> has."},{"owner":{"account_id":13495128,"reputation":78,"user_id":11601148,"display_name":"Ethan Waldeck"},"score":0,"creation_date":1680666758,"post_id":75935378,"comment_id":133935090,"body_markdown":"@Sweeper Yeah, I just figured that out about five minutes ago, lol. But, it works now, so I will respond to this post with the answer.","body":"@Sweeper Yeah, I just figured that out about five minutes ago, lol. But, it works now, so I will respond to this post with the answer."},{"owner":{"account_id":7055267,"reputation":3170,"user_id":5402881,"display_name":"yacc"},"score":0,"creation_date":1680667528,"post_id":75935378,"comment_id":133935163,"body_markdown":"why don&#39;t you just use Comparable like so `public static int minIndex(Comparable[] arr, int start)`, same in `sort`","body":"why don&#39;t you just use Comparable like so <code>public static int minIndex(Comparable[] arr, int start)</code>, same in <code>sort</code>"}],"answers":[{"tags":[],"owner":{"account_id":13495128,"reputation":78,"user_id":11601148,"display_name":"Ethan Waldeck"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680667154,"creation_date":1680667154,"answer_id":75935530,"question_id":75935378,"body_markdown":"Okay, so, I found the answer shortly after making this post. The solution was to change the `sort()` definition from (and as @Sweeper mentioned):\r\n\r\n```\r\npublic static &lt;E&gt; E[] sort(E[] arr)\r\n```\r\n\r\nto:\r\n\r\n```\r\npublic static &lt;E extends Comparable&lt;E&gt;&gt; E[] sort(E[] arr)\r\n```\r\n\r\nWhy does this work? Well, to be honest, my lack of expertise disallows me to know the answer. However, if someone else *does* know why this works, please edit this response to include the answer, or post it in the comment section of this response. Because I would like to know why it works as well.","title":"Required parameters match given parameters, yet, still cannot call the method?","body":"<p>Okay, so, I found the answer shortly after making this post. The solution was to change the <code>sort()</code> definition from (and as @Sweeper mentioned):</p>\n<pre><code>public static &lt;E&gt; E[] sort(E[] arr)\n</code></pre>\n<p>to:</p>\n<pre><code>public static &lt;E extends Comparable&lt;E&gt;&gt; E[] sort(E[] arr)\n</code></pre>\n<p>Why does this work? Well, to be honest, my lack of expertise disallows me to know the answer. However, if someone else <em>does</em> know why this works, please edit this response to include the answer, or post it in the comment section of this response. Because I would like to know why it works as well.</p>\n"}],"owner":{"account_id":13495128,"reputation":78,"user_id":11601148,"display_name":"Ethan Waldeck"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680667154,"creation_date":1680664581,"question_id":75935378,"body_markdown":"I wrote a method called `sort()`, in which the goal is to sort any array based on the minimum index (determined by an override of the `compareTo()` method within the individual objects&#39; classes). This method relies on another method called `minIndex()` in which the goal is return the minimum index of the array. However, whenever I call `minIndex()` from `sort()`, I get this error:\r\n\r\n`The method minIndex(E[], int) in the type Lab11_2 is not applicable for the arguments (E[], int)`\r\n\r\nHere is `sort()`:\r\n\r\n```\r\n// Sorts any array by the order of the minimum index.\r\npublic static &lt;E&gt; E[] sort(E[] arr){\r\n\r\n    int minInd;\r\n    E tempObj;\r\n    for(int i = 0; i &lt; arr.length; i++){\r\n            \r\n        minInd = minIndex(arr, i); // Get the minimum index of the array.\r\n\r\n        // Swap the object with the minimum index with the object at index &#39;i&#39;.\r\n        tempObj = arr[minInd];\r\n        arr[minInd] = arr[i];\r\n        arr[i] = tempObj;\r\n    }\r\n\r\n    return arr;\r\n}\r\n```\r\n\r\nHere is `minIndex()`:\r\n\r\n```\r\n// Returns the minimum index of an array.\r\npublic static &lt;E extends Comparable&lt;E&gt;&gt; int minIndex(E[] arr, int start){\r\n\r\n\tint ind = start;\r\n\tfor(int k = start + 1; k &lt; arr.length; k++){\r\n\r\n\t\tif(arr[k].compareTo(arr[ind]) &lt; 0){\r\n\t\t\tind = k;\r\n        }\r\n\t}\r\n\r\n\treturn ind;\r\n}\r\n```\r\n\r\nSo, how do I make the call successfully? Because, to me, the parameters that are required by `minIndex()` and the parameters that are given by `sort()` look exactly the same: `E[], int`. I am new whenever it comes to generics and non-primitive data types, so it is a bit confusing. As a warning, there may be runtime errors in the code that I do not know about yet, as I have not had a chance to compile it and actually test it, since it is giving me this error.","title":"Required parameters match given parameters, yet, still cannot call the method?","body":"<p>I wrote a method called <code>sort()</code>, in which the goal is to sort any array based on the minimum index (determined by an override of the <code>compareTo()</code> method within the individual objects' classes). This method relies on another method called <code>minIndex()</code> in which the goal is return the minimum index of the array. However, whenever I call <code>minIndex()</code> from <code>sort()</code>, I get this error:</p>\n<p><code>The method minIndex(E[], int) in the type Lab11_2 is not applicable for the arguments (E[], int)</code></p>\n<p>Here is <code>sort()</code>:</p>\n<pre><code>// Sorts any array by the order of the minimum index.\npublic static &lt;E&gt; E[] sort(E[] arr){\n\n    int minInd;\n    E tempObj;\n    for(int i = 0; i &lt; arr.length; i++){\n            \n        minInd = minIndex(arr, i); // Get the minimum index of the array.\n\n        // Swap the object with the minimum index with the object at index 'i'.\n        tempObj = arr[minInd];\n        arr[minInd] = arr[i];\n        arr[i] = tempObj;\n    }\n\n    return arr;\n}\n</code></pre>\n<p>Here is <code>minIndex()</code>:</p>\n<pre><code>// Returns the minimum index of an array.\npublic static &lt;E extends Comparable&lt;E&gt;&gt; int minIndex(E[] arr, int start){\n\n    int ind = start;\n    for(int k = start + 1; k &lt; arr.length; k++){\n\n        if(arr[k].compareTo(arr[ind]) &lt; 0){\n            ind = k;\n        }\n    }\n\n    return ind;\n}\n</code></pre>\n<p>So, how do I make the call successfully? Because, to me, the parameters that are required by <code>minIndex()</code> and the parameters that are given by <code>sort()</code> look exactly the same: <code>E[], int</code>. I am new whenever it comes to generics and non-primitive data types, so it is a bit confusing. As a warning, there may be runtime errors in the code that I do not know about yet, as I have not had a chance to compile it and actually test it, since it is giving me this error.</p>\n"},{"tags":["java","android","initialization","android-asynctask","game-engine"],"comments":[{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":0,"creation_date":1340280816,"post_id":11136603,"comment_id":14598513,"body_markdown":"Do you mean something like this? : http://blog.blundell-apps.com/tut-splashscreen-with-progress-bar/","body":"Do you mean something like this? : <a href=\"http://blog.blundell-apps.com/tut-splashscreen-with-progress-bar/\" rel=\"nofollow noreferrer\">blog.blundell-apps.com/tut-splashscreen-with-progress-bar</a>"}],"answers":[{"tags":[],"owner":{"account_id":115292,"reputation":3284,"user_id":302798,"accept_rate":74,"display_name":"hara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680666565,"creation_date":1340281738,"answer_id":11138159,"question_id":11136603,"body_markdown":"According to the [asynctask][1] documentation the class exposes four methods that you can use to implement your application loading logic:\r\n\r\n&gt; onPreExecute(), invoked on the UI thread immediately after the task is\r\n&gt; executed. This step is normally used to setup the task, for instance\r\n&gt; by showing a progress bar in the user interface.\r\n&gt; \r\n&gt; doInBackground(Params...), invoked on the background thread\r\n&gt; immediately after  onPreExecute() finishes executing. This step is\r\n&gt; used to perform background computation that can take a long time.\r\n&gt; \r\n&gt; onProgressUpdate(Progress...), invoked on the UI thread after a call\r\n&gt; to publishProgress(Progress...). This method is used to display any\r\n&gt; form of progress in the user interface while the background\r\n&gt; computation is still executing.\r\n&gt; \r\n&gt; onPostExecute(Result), invoked on the UI thread after the background\r\n&gt; computation finishes.  The result of the background computation is\r\n&gt; passed to this step as a parameter.\r\n\r\n\r\nFollowing the documentation, you can start your async task in your main Activity. In the onPreExecute method you can display your splash screen.\r\n\r\nIn the doInBackGround method insert the code that does all the loading stuff. If you want to provide the user with some information about the loading state you can use inside this method publishProgress to publish one or more units of progress. These values are published on the UI thread, in the onProgressUpdate(Progress...) step.\r\n\r\nFinally in onPostExecute method you can remove the splashscreen and run the load screen of the game.\r\n\r\nhave a look also at [this][2] example.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/os/AsyncTask.html\r\n  [2]: http://developer.android.com/guide/topics/fundamentals/processes-and-threads.html#WorkerThreads","title":"How to implement initialization with AsyncTask","body":"<p>According to the <a href=\"http://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">asynctask</a> documentation the class exposes four methods that you can use to implement your application loading logic:</p>\n<blockquote>\n<p>onPreExecute(), invoked on the UI thread immediately after the task is\nexecuted. This step is normally used to setup the task, for instance\nby showing a progress bar in the user interface.</p>\n<p>doInBackground(Params...), invoked on the background thread\nimmediately after  onPreExecute() finishes executing. This step is\nused to perform background computation that can take a long time.</p>\n<p>onProgressUpdate(Progress...), invoked on the UI thread after a call\nto publishProgress(Progress...). This method is used to display any\nform of progress in the user interface while the background\ncomputation is still executing.</p>\n<p>onPostExecute(Result), invoked on the UI thread after the background\ncomputation finishes.  The result of the background computation is\npassed to this step as a parameter.</p>\n</blockquote>\n<p>Following the documentation, you can start your async task in your main Activity. In the onPreExecute method you can display your splash screen.</p>\n<p>In the doInBackGround method insert the code that does all the loading stuff. If you want to provide the user with some information about the loading state you can use inside this method publishProgress to publish one or more units of progress. These values are published on the UI thread, in the onProgressUpdate(Progress...) step.</p>\n<p>Finally in onPostExecute method you can remove the splashscreen and run the load screen of the game.</p>\n<p>have a look also at <a href=\"http://developer.android.com/guide/topics/fundamentals/processes-and-threads.html#WorkerThreads\" rel=\"nofollow noreferrer\">this</a> example.</p>\n"},{"comments":[{"owner":{"account_id":1359879,"reputation":9491,"user_id":1297445,"accept_rate":63,"display_name":"Luke Taylor"},"score":0,"creation_date":1340292897,"post_id":11138236,"comment_id":14604971,"body_markdown":"I can&#39;t get it to work like I want it to, I got it to initialize everything, yet setContentView() has no effect and doesn&#39;t display the splash screen for some reason.","body":"I can&#39;t get it to work like I want it to, I got it to initialize everything, yet setContentView() has no effect and doesn&#39;t display the splash screen for some reason."},{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":0,"creation_date":1340302976,"post_id":11138236,"comment_id":14609699,"body_markdown":"I ripped this out from my blog post here: http://blog.blundell-apps.com/tut-splashscreen-with-progress-bar/   You should split your splash screen and your main activity into two separate Activitys, setContentView should defiently display something","body":"I ripped this out from my blog post here: <a href=\"http://blog.blundell-apps.com/tut-splashscreen-with-progress-bar/\" rel=\"nofollow noreferrer\">blog.blundell-apps.com/tut-splashscreen-with-progress-bar</a>   You should split your splash screen and your main activity into two separate Activitys, setContentView should defiently display something"}],"tags":[],"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340281951,"creation_date":1340281951,"answer_id":11138236,"question_id":11136603,"body_markdown":"Long winded answer, bear with me.\r\n\r\nYou&#39;ll have to do a few things to get what you want.\r\n\r\nFirst separate your Activities instead of calling setContentView multiple times.\r\n\r\nThen set up a domain object that is your &#39;Game settings&#39; so you can load that, initializing all it&#39;s fields.\r\n\r\nAlso have a configuration object to load your settings.\r\n\r\nIn the example below I haven&#39;t loaded all your fields but I hope you get the point.\r\n\r\nThe final outcome would be something like this:\r\n\r\nFirst Activity:\r\n\r\n    package com.blundell.tut.ui;\r\n    \r\n    import com.blundell.tut.R;\r\n    import com.blundell.tut.domain.Config;\r\n    import com.blundell.tut.task.LoadingTask;\r\n    import com.blundell.tut.task.LoadingTask.LoadingTaskFinishedListener;\r\n    \r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.widget.ProgressBar;\r\n    \r\n    public class SplashActivity extends Activity implements LoadingTaskFinishedListener {\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            // Show the splash screen\r\n            setContentView(R.layout.activity_splash);\r\n            // Find the progress bar\r\n            ProgressBar progressBar = (ProgressBar) findViewById(R.id.activity_splash_progress_bar);\r\n            // Start your loading\r\n            new LoadingTask(progressBar, this, getAssets(), new Config()).execute(&quot;www.google.co.uk&quot;); // Pass in whatever you need a url is just an example we don&#39;t use it in this tutorial\r\n        }\r\n    \r\n        // This is the callback for when your async task has finished\r\n        @Override\r\n    \tpublic void onTaskFinished(GameDomain result) {\r\n                // The result object is your loaded files!\r\n    \t\tcompleteSplash();\r\n    \t}\r\n    \r\n        private void completeSplash(){\r\n    \t\tstartApp();\r\n    \t\tfinish(); // Don&#39;t forget to finish this Splash Activity so the user can&#39;t return to it!\r\n        }\r\n    \r\n        private void startApp() {\r\n    \t\tIntent intent = new Intent(SplashActivity.this, MainActivity.class);\r\n    \t\tstartActivity(intent);\r\n    \t}\r\n    }\r\n\r\nThen the ASyncTask that does the loading:\r\n\r\n    package com.blundell.tut.task;\r\n    \r\n    import com.blundell.tut.domain.Config;\r\n    import com.blundell.tut.domain.GameDomain;\r\n    \r\n    import android.content.res.AssetManager;\r\n    import android.os.AsyncTask;\r\n    import android.util.Log;\r\n    import android.widget.ProgressBar;\r\n    \r\n    public class LoadingTask extends AsyncTask&lt;String, Integer, GameDomain&gt; {\r\n    \r\n    \tpublic interface LoadingTaskFinishedListener {\r\n    \t\tvoid onTaskFinished(GameDomain domain); // If you want to pass something back to the listener add a param to this method\r\n    \t}\r\n    \r\n    \tprivate static final int NUM_OF_TASKS = 2;\r\n    \r\n    \t// This is the progress bar you want to update while the task is in progress\r\n    \tprivate final ProgressBar progressBar;\r\n    \t// This is the listener that will be told when this task is finished\r\n    \tprivate final LoadingTaskFinishedListener finishedListener;\r\n    \r\n    \tprivate final AssetManager assets;\r\n    \r\n    \tprivate final Config config;\r\n    \r\n    \t/**\r\n    \t * A Loading task that will load some resources that are necessary for the app to start\r\n    \t * @param progressBar - the progress bar you want to update while the task is in progress\r\n    \t * @param finishedListener - the listener that will be told when this task is finished\r\n    \t */\r\n    \tpublic LoadingTask(ProgressBar progressBar, LoadingTaskFinishedListener finishedListener, AssetManager assets, Config config) {\r\n    \t\tthis.progressBar = progressBar;\r\n    \t\tthis.finishedListener = finishedListener;\r\n    \t\tthis.assets = assets;\r\n    \t\tthis.config = config;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected GameDomain doInBackground(String... params) {\r\n    \t\tGameDomain gameDomain = new GameDomain();\r\n    \t\tLog.i(&quot;Tutorial&quot;, &quot;Starting task with url: &quot;+params[0]);\r\n    \t\tif(resourcesDontAlreadyExist()){\r\n    \t\t\tdownloadResources(gameDomain);\r\n    \t\t}\r\n    \r\n    \t\treturn gameDomain;\r\n    \t}\r\n    \r\n    \tprivate boolean resourcesDontAlreadyExist() {\r\n    \t\t// Here you would query your app&#39;s internal state to see if this download had been performed before\r\n    \t\t// Perhaps once checked save this in a shared preference for speed of access next time\r\n    \t\treturn true; // returning true so we show the splash every time\r\n    \t}\r\n    \r\n    \r\n    \tprivate void downloadResources(GameDomain gameDomain) {\r\n    \t\t// We are just imitating some process thats takes a bit of time (loading of resources / downloading)\r\n    \t\t\tint count = NUM_OF_TASKS;\r\n    \r\n    \t\t\t// Do some long loading things\r\n    \r\n    \t        // Setup all the Game Engine components\r\n    \t       gameDomain.setGameEngineLog(&quot;WSGameEngine&quot;, config.LOG_TYPE);\r\n    \r\n               updateProgress(count--);\r\n    \r\n               gameDomain.setAssets(assets);\r\n    \r\n    \t       updateProgress(count--);\r\n    \t}\r\n    \r\n    \tpublic void updateProgress(int count) {\r\n    \t\t// Update the progress bar after every step\r\n    \t\tint progress = (int) ((NUM_OF_TASKS / (float) count) * 100);\r\n    \t\tpublishProgress(progress);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void onProgressUpdate(Integer... values) {\r\n    \t\tsuper.onProgressUpdate(values);\r\n    \t\tprogressBar.setProgress(values[0]); // This is ran on the UI thread so it is ok to update our progress bar ( a UI view ) here\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void onPostExecute(GameDomain result) {\r\n    \t\tsuper.onPostExecute(result);\r\n    \t\tfinishedListener.onTaskFinished(result); // Tell whoever was listening we have finished\r\n    \t}\r\n    }\r\n\r\nThen the object you are instantiating:\r\n\r\n\r\n    public class GameDomain {\r\n    \r\n    \tprivate WSLog gameEngineLog;\r\n    \tprivate FileIO io;\r\n    \r\n    \tpublic void setGameEngineLog(String name, String logType){\r\n    \t\t gameEngineLog = new WSLog(name);\r\n    \t     gameEngineLog.setLogType(logType);\r\n    \t}\r\n    \r\n    \tpublic void setAssets(AssetManager assets) {\r\n    \t\t io = new FileIO(assets);\r\n    \t}\r\n    \r\n    }\r\n\r\nand also your Config:\r\n\r\n    package com.blundell.tut.domain;\r\n    \r\n    public class Config {\r\n    \tpublic String LOG_TYPE = &quot;logType&quot;;\r\n    }\r\n\r\nFinally your WakeLock should be &#39;got&#39; in each activity onCreate and released in &#39;onPause&#39;\r\n","title":"How to implement initialization with AsyncTask","body":"<p>Long winded answer, bear with me.</p>\n\n<p>You'll have to do a few things to get what you want.</p>\n\n<p>First separate your Activities instead of calling setContentView multiple times.</p>\n\n<p>Then set up a domain object that is your 'Game settings' so you can load that, initializing all it's fields.</p>\n\n<p>Also have a configuration object to load your settings.</p>\n\n<p>In the example below I haven't loaded all your fields but I hope you get the point.</p>\n\n<p>The final outcome would be something like this:</p>\n\n<p>First Activity:</p>\n\n<pre><code>package com.blundell.tut.ui;\n\nimport com.blundell.tut.R;\nimport com.blundell.tut.domain.Config;\nimport com.blundell.tut.task.LoadingTask;\nimport com.blundell.tut.task.LoadingTask.LoadingTaskFinishedListener;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.widget.ProgressBar;\n\npublic class SplashActivity extends Activity implements LoadingTaskFinishedListener {\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        // Show the splash screen\n        setContentView(R.layout.activity_splash);\n        // Find the progress bar\n        ProgressBar progressBar = (ProgressBar) findViewById(R.id.activity_splash_progress_bar);\n        // Start your loading\n        new LoadingTask(progressBar, this, getAssets(), new Config()).execute(\"www.google.co.uk\"); // Pass in whatever you need a url is just an example we don't use it in this tutorial\n    }\n\n    // This is the callback for when your async task has finished\n    @Override\n    public void onTaskFinished(GameDomain result) {\n            // The result object is your loaded files!\n        completeSplash();\n    }\n\n    private void completeSplash(){\n        startApp();\n        finish(); // Don't forget to finish this Splash Activity so the user can't return to it!\n    }\n\n    private void startApp() {\n        Intent intent = new Intent(SplashActivity.this, MainActivity.class);\n        startActivity(intent);\n    }\n}\n</code></pre>\n\n<p>Then the ASyncTask that does the loading:</p>\n\n<pre><code>package com.blundell.tut.task;\n\nimport com.blundell.tut.domain.Config;\nimport com.blundell.tut.domain.GameDomain;\n\nimport android.content.res.AssetManager;\nimport android.os.AsyncTask;\nimport android.util.Log;\nimport android.widget.ProgressBar;\n\npublic class LoadingTask extends AsyncTask&lt;String, Integer, GameDomain&gt; {\n\n    public interface LoadingTaskFinishedListener {\n        void onTaskFinished(GameDomain domain); // If you want to pass something back to the listener add a param to this method\n    }\n\n    private static final int NUM_OF_TASKS = 2;\n\n    // This is the progress bar you want to update while the task is in progress\n    private final ProgressBar progressBar;\n    // This is the listener that will be told when this task is finished\n    private final LoadingTaskFinishedListener finishedListener;\n\n    private final AssetManager assets;\n\n    private final Config config;\n\n    /**\n     * A Loading task that will load some resources that are necessary for the app to start\n     * @param progressBar - the progress bar you want to update while the task is in progress\n     * @param finishedListener - the listener that will be told when this task is finished\n     */\n    public LoadingTask(ProgressBar progressBar, LoadingTaskFinishedListener finishedListener, AssetManager assets, Config config) {\n        this.progressBar = progressBar;\n        this.finishedListener = finishedListener;\n        this.assets = assets;\n        this.config = config;\n    }\n\n    @Override\n    protected GameDomain doInBackground(String... params) {\n        GameDomain gameDomain = new GameDomain();\n        Log.i(\"Tutorial\", \"Starting task with url: \"+params[0]);\n        if(resourcesDontAlreadyExist()){\n            downloadResources(gameDomain);\n        }\n\n        return gameDomain;\n    }\n\n    private boolean resourcesDontAlreadyExist() {\n        // Here you would query your app's internal state to see if this download had been performed before\n        // Perhaps once checked save this in a shared preference for speed of access next time\n        return true; // returning true so we show the splash every time\n    }\n\n\n    private void downloadResources(GameDomain gameDomain) {\n        // We are just imitating some process thats takes a bit of time (loading of resources / downloading)\n            int count = NUM_OF_TASKS;\n\n            // Do some long loading things\n\n            // Setup all the Game Engine components\n           gameDomain.setGameEngineLog(\"WSGameEngine\", config.LOG_TYPE);\n\n           updateProgress(count--);\n\n           gameDomain.setAssets(assets);\n\n           updateProgress(count--);\n    }\n\n    public void updateProgress(int count) {\n        // Update the progress bar after every step\n        int progress = (int) ((NUM_OF_TASKS / (float) count) * 100);\n        publishProgress(progress);\n    }\n\n    @Override\n    protected void onProgressUpdate(Integer... values) {\n        super.onProgressUpdate(values);\n        progressBar.setProgress(values[0]); // This is ran on the UI thread so it is ok to update our progress bar ( a UI view ) here\n    }\n\n    @Override\n    protected void onPostExecute(GameDomain result) {\n        super.onPostExecute(result);\n        finishedListener.onTaskFinished(result); // Tell whoever was listening we have finished\n    }\n}\n</code></pre>\n\n<p>Then the object you are instantiating:</p>\n\n<pre><code>public class GameDomain {\n\n    private WSLog gameEngineLog;\n    private FileIO io;\n\n    public void setGameEngineLog(String name, String logType){\n         gameEngineLog = new WSLog(name);\n         gameEngineLog.setLogType(logType);\n    }\n\n    public void setAssets(AssetManager assets) {\n         io = new FileIO(assets);\n    }\n\n}\n</code></pre>\n\n<p>and also your Config:</p>\n\n<pre><code>package com.blundell.tut.domain;\n\npublic class Config {\n    public String LOG_TYPE = \"logType\";\n}\n</code></pre>\n\n<p>Finally your WakeLock should be 'got' in each activity onCreate and released in 'onPause'</p>\n"}],"owner":{"account_id":1359879,"reputation":9491,"user_id":1297445,"accept_rate":63,"display_name":"Luke Taylor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3889,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":11138159,"answer_count":2,"score":0,"last_activity_date":1680666565,"creation_date":1340275967,"question_id":11136603,"body_markdown":"I would like to initialize all the components of the game engine with the AsyncTask. Could somebody guide me how this would be done?\r\n\r\nI&#39;d like something like this:\r\n1. Before the code runs, set a splash screen (.xml)\r\n2. run the initialization code\r\n3. once all done, run the load screen of the game\r\n\r\nHere&#39;s my current code:\r\n\r\n    @Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\t\r\n    \t\t// Display splash screen\r\n    \t\tif(this.splashScreen != null) {\r\n    \t\t\t// .xml\r\n    \t\t\tsetContentView(this.splashScreen);\r\n    \t\t}\r\n    \t\t\r\n    \t\t// Do all the initialization\r\n    \t\t\r\n    \t\t// Acquire a wakeLock to prevent the phone from sleeping\r\n    \t\tPowerManager powerManager = (PowerManager) getSystemService(Context.POWER_SERVICE);\r\n            wakeLock = powerManager.newWakeLock(PowerManager.FULL_WAKE_LOCK, &quot;GLGame&quot;);\r\n            \r\n            // Setup all the Game Engine components \r\n            gameEngineLog = new WSLog(&quot;WSGameEngine&quot;);\r\n        \tgameEngineLog.setLogType(this.gameEngineLogType);\r\n        \tgameLog = new WSLog(this.gameLogTAG);\r\n        \tgameLog.setLogType(this.gameLogType);\r\n            io = new FileIO(this, getAssets());\r\n            audio = new Audio(this);\r\n            wsScreen = new WSScreen(this, this.screenResizeType, this.customTopYGap, this.customLeftXGap, this.gameScreenWidth, this.gameScreenHeight);\r\n            graphics = new Graphics(this, wsScreen.getGameScreen(), wsScreen.getGameScreenextended());\r\n        \trenderView = new RenderView(this, wsScreen.getGameScreen(), wsScreen.getGameScreenextended(), FPS, maxFrameskippes);\r\n        \tinput = new Input(this, renderView, logGameEngineInputLog);\r\n        \tnetworkSocket = new NetworkSocket(this);\r\n        \t\r\n        \tthis.gameEngineLog.d(classTAG, &quot;Completed initialization&quot;);\r\n        \tsetContentView(renderView);\r\n            \r\n        \t// Check that the developer has initialized the assets\r\n        \tif(this.assets == null) {\r\n        \t\tthis.gameEngineLog.w(classTAG, &quot;The assets for the game haven&#39;t been defined!&quot;);\r\n        \t}\r\n        \t\r\n        \tthis.getNetworkSocket().useAnalytics(this.analyticsAppAPIKey);\r\n    \t\tthis.getNetworkSocket().useServerCommunication(this.serverCommunicationAppID, this.serverCommunicationClientKey);\r\n    \t\tthis.getNetworkSocket().useFacebookCommunicaiton(this.facebookCommunicationAppID);\r\n        \t\r\n        \t// Check if server communication should be initialized\r\n        \tif(this.networkSocket.getUseOfServerCommunication() == true) {\r\n        \t\tthis.networkSocket.getServerCommunication().initialize(this, this.networkSocket.getServerCommunicationAppID(), this.networkSocket.getServerCommunicationClientKey()); \r\n        \t}\r\n        \t\r\n        \t// Check if facebook communication should be initialized\r\n        \tif(this.networkSocket.getUseFacebookCommunication() == true) {\r\n        \t\tthis.networkSocket.getFacebookCommunication().initialize(this.networkSocket.getFacebookCommunicationAppID(), true);\r\n        \t}\r\n        \t\r\n        \t// Start the Load screen\r\n        \t// Once all of this code has been executed, the class that extends this class calls &quot;setScreen(new LoadScreen(this));&quot; to set the LoadScreen, which\r\n        \t// loads all the assets of the game\r\n        \t\r\n    \t}","title":"How to implement initialization with AsyncTask","body":"<p>I would like to initialize all the components of the game engine with the AsyncTask. Could somebody guide me how this would be done?</p>\n\n<p>I'd like something like this:\n1. Before the code runs, set a splash screen (.xml)\n2. run the initialization code\n3. once all done, run the load screen of the game</p>\n\n<p>Here's my current code:</p>\n\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        // Display splash screen\n        if(this.splashScreen != null) {\n            // .xml\n            setContentView(this.splashScreen);\n        }\n\n        // Do all the initialization\n\n        // Acquire a wakeLock to prevent the phone from sleeping\n        PowerManager powerManager = (PowerManager) getSystemService(Context.POWER_SERVICE);\n        wakeLock = powerManager.newWakeLock(PowerManager.FULL_WAKE_LOCK, \"GLGame\");\n\n        // Setup all the Game Engine components \n        gameEngineLog = new WSLog(\"WSGameEngine\");\n        gameEngineLog.setLogType(this.gameEngineLogType);\n        gameLog = new WSLog(this.gameLogTAG);\n        gameLog.setLogType(this.gameLogType);\n        io = new FileIO(this, getAssets());\n        audio = new Audio(this);\n        wsScreen = new WSScreen(this, this.screenResizeType, this.customTopYGap, this.customLeftXGap, this.gameScreenWidth, this.gameScreenHeight);\n        graphics = new Graphics(this, wsScreen.getGameScreen(), wsScreen.getGameScreenextended());\n        renderView = new RenderView(this, wsScreen.getGameScreen(), wsScreen.getGameScreenextended(), FPS, maxFrameskippes);\n        input = new Input(this, renderView, logGameEngineInputLog);\n        networkSocket = new NetworkSocket(this);\n\n        this.gameEngineLog.d(classTAG, \"Completed initialization\");\n        setContentView(renderView);\n\n        // Check that the developer has initialized the assets\n        if(this.assets == null) {\n            this.gameEngineLog.w(classTAG, \"The assets for the game haven't been defined!\");\n        }\n\n        this.getNetworkSocket().useAnalytics(this.analyticsAppAPIKey);\n        this.getNetworkSocket().useServerCommunication(this.serverCommunicationAppID, this.serverCommunicationClientKey);\n        this.getNetworkSocket().useFacebookCommunicaiton(this.facebookCommunicationAppID);\n\n        // Check if server communication should be initialized\n        if(this.networkSocket.getUseOfServerCommunication() == true) {\n            this.networkSocket.getServerCommunication().initialize(this, this.networkSocket.getServerCommunicationAppID(), this.networkSocket.getServerCommunicationClientKey()); \n        }\n\n        // Check if facebook communication should be initialized\n        if(this.networkSocket.getUseFacebookCommunication() == true) {\n            this.networkSocket.getFacebookCommunication().initialize(this.networkSocket.getFacebookCommunicationAppID(), true);\n        }\n\n        // Start the Load screen\n        // Once all of this code has been executed, the class that extends this class calls \"setScreen(new LoadScreen(this));\" to set the LoadScreen, which\n        // loads all the assets of the game\n\n    }\n</code></pre>\n"},{"tags":["java","google-api","google-oauth","google-api-java-client"],"comments":[{"owner":{"display_name":"user15773347"},"score":0,"creation_date":1680682397,"post_id":75935480,"comment_id":133937676,"body_markdown":"Did you set the correct redirect URI?","body":"Did you set the correct redirect URI?"},{"owner":{"account_id":22184770,"reputation":11,"user_id":16427865,"display_name":"Shynee"},"score":0,"creation_date":1680701786,"post_id":75935480,"comment_id":133942727,"body_markdown":"I&#39;m a little confused by what you mean by this, which could potentially be the reason this isn&#39;t working. I am trying to access the Google Drive API through the Java client library, which requires user authentication. Because my authentication use case is contained inside my Java app, there should be no need for a redirect URL, unless I am mistaken. Am I doing something wrong?","body":"I&#39;m a little confused by what you mean by this, which could potentially be the reason this isn&#39;t working. I am trying to access the Google Drive API through the Java client library, which requires user authentication. Because my authentication use case is contained inside my Java app, there should be no need for a redirect URL, unless I am mistaken. Am I doing something wrong?"},{"owner":{"display_name":"user15773347"},"score":0,"creation_date":1680702671,"post_id":75935480,"comment_id":133942992,"body_markdown":"You are correct that when using the Java client library to authenticate a user and access Google Drive API, a redirect URL is not strictly necessary. \n\nCan you look for error messages in the browser console?","body":"You are correct that when using the Java client library to authenticate a user and access Google Drive API, a redirect URL is not strictly necessary.   Can you look for error messages in the browser console?"},{"owner":{"account_id":22184770,"reputation":11,"user_id":16427865,"display_name":"Shynee"},"score":0,"creation_date":1680703055,"post_id":75935480,"comment_id":133943103,"body_markdown":"Hmmmmm. Looks like a POST request to `https://accounts.google.com/_/signin/oauth/warning/continue?hl=en&amp;_reqid=35684&amp;rt=j` failed with an error code of 400. The &quot;reason&quot; stated is: `m=glifbidentifier_view,unknownerror_view:622`","body":"Hmmmmm. Looks like a POST request to <code>https:&#47;&#47;accounts.google.com&#47;_&#47;signin&#47;oauth&#47;warning&#47;continue?&zwnj;&#8203;hl=en&amp;_reqid=35684&amp;r&zwnj;&#8203;t=j</code> failed with an error code of 400. The &quot;reason&quot; stated is: <code>m=glifbidentifier_view,unknownerror_view:622</code>"},{"owner":{"account_id":22184770,"reputation":11,"user_id":16427865,"display_name":"Shynee"},"score":2,"creation_date":1680703184,"post_id":75935480,"comment_id":133943150,"body_markdown":"Wow, I just found the error. Looks like either UBlock Origin, Dark Reader for Chrome, or Clear URLS (all Chrome extensions) were preventing something from loading. Thanks for all the help!","body":"Wow, I just found the error. Looks like either UBlock Origin, Dark Reader for Chrome, or Clear URLS (all Chrome extensions) were preventing something from loading. Thanks for all the help!"},{"owner":{"account_id":6358523,"reputation":543,"user_id":4934867,"accept_rate":25,"display_name":"Ihor Baklykov"},"score":0,"creation_date":1701477015,"post_id":75935480,"comment_id":136784639,"body_markdown":"Shynee whoa ClearURLs really was the bad guy in my case! Thanks!!!","body":"Shynee whoa ClearURLs really was the bad guy in my case! Thanks!!!"}],"owner":{"account_id":22184770,"reputation":11,"user_id":16427865,"display_name":"Shynee"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680666241,"creation_date":1680666241,"question_id":75935480,"body_markdown":"I am using the Java Client Library to handle Google authentication for my app. Below is the code to handle the authentiation. It is almost exactly the same as the code featured on the Java quickstart, but it does not work. After I sign in and dismiss the unverified screen, I get a &quot;Something went wrong, try again later&quot; screen. There are no error messages on the terminal and it is repeatedly happening. I have already checked that both my credentials.json file and tokens folder are working as expected. I have also made sure the scopes match up between the Cloud Console and the List&lt;String&gt; SCOPES. Any help is greatly appreciated!\r\n\r\n\r\n```\r\npublic static Credential getCredentials(NetHttpTransport httpTransport) throws IOException {\r\n\r\n        // Load client secrets from credentials.json\r\n        InputStream inputStream = new FileInputStream(CREDENTIALS_PATH);\r\n        GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new     InputStreamReader(inputStream));\r\n\r\n        // Build and trigger authentication request\r\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow\r\n                .Builder(httpTransport, JSON_FACTORY, clientSecrets, SCOPES)\r\n                .setDataStoreFactory(new FileDataStoreFactory(new File(TOKENS_PATH)))\r\n                .build();\r\n\r\n        // Create credential object\r\n        Credential credential = new AuthorizationCodeInstalledApp(flow, new LocalServerReceiver()).authorize(&quot;user&quot;);\r\n        System.out.println(&quot;Successfully authorized: &quot; + credential.getAccessToken());\r\n\r\n        // Return authorized Credential object\r\n        return credential;\r\n    }\r\n```","title":"Why am I getting an &quot;unknown error&quot; after signing in with Google OAuth 2.0 and Java","body":"<p>I am using the Java Client Library to handle Google authentication for my app. Below is the code to handle the authentiation. It is almost exactly the same as the code featured on the Java quickstart, but it does not work. After I sign in and dismiss the unverified screen, I get a &quot;Something went wrong, try again later&quot; screen. There are no error messages on the terminal and it is repeatedly happening. I have already checked that both my credentials.json file and tokens folder are working as expected. I have also made sure the scopes match up between the Cloud Console and the List SCOPES. Any help is greatly appreciated!</p>\n<pre><code>public static Credential getCredentials(NetHttpTransport httpTransport) throws IOException {\n\n        // Load client secrets from credentials.json\n        InputStream inputStream = new FileInputStream(CREDENTIALS_PATH);\n        GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new     InputStreamReader(inputStream));\n\n        // Build and trigger authentication request\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow\n                .Builder(httpTransport, JSON_FACTORY, clientSecrets, SCOPES)\n                .setDataStoreFactory(new FileDataStoreFactory(new File(TOKENS_PATH)))\n                .build();\n\n        // Create credential object\n        Credential credential = new AuthorizationCodeInstalledApp(flow, new LocalServerReceiver()).authorize(&quot;user&quot;);\n        System.out.println(&quot;Successfully authorized: &quot; + credential.getAccessToken());\n\n        // Return authorized Credential object\n        return credential;\n    }\n</code></pre>\n"},{"tags":["java","android","xml","mobile","user-interface"],"comments":[{"owner":{"account_id":330005,"reputation":132780,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":1,"creation_date":1367826397,"post_id":16394252,"comment_id":23499518,"body_markdown":"android:padding=&quot;10dp reduce 10 dp to 5dp","body":"android:padding=&quot;10dp reduce 10 dp to 5dp"},{"owner":{"account_id":284328,"reputation":1337,"user_id":582372,"accept_rate":100,"display_name":"Imran NZ"},"score":0,"creation_date":1367830121,"post_id":16394252,"comment_id":23500964,"body_markdown":"That relates to the outer padding of the Button. I&#39;m referring to the internal padding of &quot;login&quot; and its container. Thanks though.","body":"That relates to the outer padding of the Button. I&#39;m referring to the internal padding of &quot;login&quot; and its container. Thanks though."},{"owner":{"account_id":3878781,"reputation":4576,"user_id":3325759,"accept_rate":93,"display_name":"Mikelis Kaneps"},"score":0,"creation_date":1444821239,"post_id":16394252,"comment_id":98287160,"body_markdown":"This helped me - https://stackoverflow.com/a/19227057/3325759 (author - @StinePike)\nFrom the answer - Add `android:includeFontPadding=&quot;false&quot;`","body":"This helped me - <a href=\"https://stackoverflow.com/a/19227057/3325759\">stackoverflow.com/a/19227057/3325759</a> (author - @StinePike) From the answer - Add <code>android:includeFontPadding=&quot;false&quot;</code>"},{"owner":{"account_id":1490668,"reputation":3679,"user_id":1397821,"accept_rate":50,"display_name":"M. Usman Khan"},"score":0,"creation_date":1462789830,"post_id":16394252,"comment_id":61768185,"body_markdown":"overriding the padding works for me. textView.setPadding(0,0,0,0);","body":"overriding the padding works for me. textView.setPadding(0,0,0,0);"},{"owner":{"account_id":7465996,"reputation":1866,"user_id":5675550,"accept_rate":77,"display_name":"viper"},"score":4,"creation_date":1507176492,"post_id":16394252,"comment_id":80108382,"body_markdown":"Put \n    android:minHeight=&quot;0dp&quot;\n    android:minWidth=&quot;0dp&quot;\nin the button. This should work..","body":"Put      android:minHeight=&quot;0dp&quot;     android:minWidth=&quot;0dp&quot; in the button. This should work.."},{"owner":{"account_id":2895641,"reputation":1564,"user_id":2483484,"accept_rate":53,"display_name":"StarWind0"},"score":0,"creation_date":1527883545,"post_id":16394252,"comment_id":98287161,"body_markdown":"Right question, wrong answer. This does not work. android:minHeight=&quot;0dp&quot;\nandroid:minWidth=&quot;0dp&quot;\nworks. That said your answer does remove a tiny tiny sliver, but the min height/width is the clear winner.","body":"Right question, wrong answer. This does not work. android:minHeight=&quot;0dp&quot; android:minWidth=&quot;0dp&quot; works. That said your answer does remove a tiny tiny sliver, but the min height/width is the clear winner."}],"answers":[{"comments":[{"owner":{"account_id":284328,"reputation":1337,"user_id":582372,"accept_rate":100,"display_name":"Imran NZ"},"score":0,"creation_date":1367830200,"post_id":16394600,"comment_id":23501003,"body_markdown":"That&#39;s for the padding outside the button. The effect I&#39;m after is to get the Button frame to hug the &quot;Login&quot; text closer. Thanks.","body":"That&#39;s for the padding outside the button. The effect I&#39;m after is to get the Button frame to hug the &quot;Login&quot; text closer. Thanks."},{"owner":{"account_id":2165890,"reputation":15966,"user_id":1919013,"accept_rate":71,"display_name":"Neoh"},"score":1,"creation_date":1367832261,"post_id":16394600,"comment_id":23501903,"body_markdown":"That is already the inner padding of the button. You may need to check if you have added lines like `android:padding` or `android:layout_margin&quot;` in the parent views of `&lt;shape /&gt;`.","body":"That is already the inner padding of the button. You may need to check if you have added lines like <code>android:padding</code> or <code>android:layout_margin&quot;</code> in the parent views of <code>&lt;shape &#47;&gt;</code>."}],"tags":[],"owner":{"account_id":2165890,"reputation":15966,"user_id":1919013,"accept_rate":71,"display_name":"Neoh"},"comment_count":2,"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1367827810,"creation_date":1367827810,"answer_id":16394600,"question_id":16394252,"body_markdown":"If you want a smaller top and bottom padding, use this:\r\n\r\n     android:paddingTop=&quot;2dp&quot;\r\n     android:paddingBottom=&quot;2dp&quot;","title":"How do I reduce the inner padding around the text within an Android button object?","body":"<p>If you want a smaller top and bottom padding, use this:</p>\n\n<pre><code> android:paddingTop=\"2dp\"\n android:paddingBottom=\"2dp\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1541862,"reputation":3500,"user_id":1436303,"accept_rate":83,"display_name":"Jeremy"},"score":2,"creation_date":1447824666,"post_id":16397733,"comment_id":55312075,"body_markdown":"This doesn&#39;t work at all if you read what the original question is asking","body":"This doesn&#39;t work at all if you read what the original question is asking"}],"tags":[],"owner":{"account_id":1901194,"reputation":8771,"user_id":1717036,"accept_rate":74,"display_name":"Qadir Hussain"},"comment_count":1,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1367839445,"creation_date":1367839445,"answer_id":16397733,"question_id":16394252,"body_markdown":"try this in your custom shape.xml file\r\n\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shape=&quot;rectangle&quot;\r\n    android:paddingLeft=&quot;10dp&quot;\r\n    android:paddingRight=&quot;10dp&quot;\r\n    android:paddingTop=&quot;1dp&quot;\r\n    android:padding=&quot;1dp&quot;&gt;\r\n\r\nalso you can make change in your button&#39;s xml\r\n\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;","title":"How do I reduce the inner padding around the text within an Android button object?","body":"<p>try this in your custom shape.xml file</p>\n\n<pre><code>&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:shape=\"rectangle\"\nandroid:paddingLeft=\"10dp\"\nandroid:paddingRight=\"10dp\"\nandroid:paddingTop=\"1dp\"\nandroid:padding=\"1dp\"&gt;\n</code></pre>\n\n<p>also you can make change in your button's xml</p>\n\n<pre><code>android:layout_width=\"wrap_content\"\nandroid:layout_height=\"wrap_content\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":39218,"reputation":1726,"user_id":113012,"accept_rate":100,"display_name":"Simon Featherstone"},"score":7,"creation_date":1466587697,"post_id":19300777,"comment_id":63374401,"body_markdown":"I was facing a similar problem with the width. Setting android:minWidth=&quot;0dp&quot; worked, but then on buttons with long text, I required android:paddingRight and android:paddingLeft to be set to prevent poor layout.","body":"I was facing a similar problem with the width. Setting android:minWidth=&quot;0dp&quot; worked, but then on buttons with long text, I required android:paddingRight and android:paddingLeft to be set to prevent poor layout."},{"owner":{"account_id":3726977,"reputation":3340,"user_id":3100601,"display_name":"ror"},"score":0,"creation_date":1556134322,"post_id":19300777,"comment_id":98338756,"body_markdown":"My Widget.Button has no minHeight (sdk28)","body":"My Widget.Button has no minHeight (sdk28)"},{"owner":{"account_id":914150,"reputation":3220,"user_id":947336,"display_name":"Steven"},"score":0,"creation_date":1556301483,"post_id":19300777,"comment_id":98405414,"body_markdown":"The property is on the theme button, not the parent &quot;Widget.Button&quot;. If you are using a different theme than &quot;holo&quot; it may be in a different location. Here are the styles for &quot;holo&quot; https://android.googlesource.com/platform/frameworks/base/+/master/core/res/res/values/styles_holo.xml","body":"The property is on the theme button, not the parent &quot;Widget.Button&quot;. If you are using a different theme than &quot;holo&quot; it may be in a different location. Here are the styles for &quot;holo&quot; <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/res/res/values/styles_holo.xml\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/frameworks/base/+/master/c&zwnj;&#8203;ore/&hellip;</a>"},{"owner":{"account_id":10541959,"reputation":8904,"user_id":7767664,"accept_rate":63,"display_name":"user924"},"score":1,"creation_date":1609331553,"post_id":19300777,"comment_id":115813622,"body_markdown":"it still has padding with `MaterialButton`, height has nothing to do, if you set `height` 48dp and `minHeight` 48dp you still will see padding, button background height will be smaller than 48dp","body":"it still has padding with <code>MaterialButton</code>, height has nothing to do, if you set <code>height</code> 48dp and <code>minHeight</code> 48dp you still will see padding, button background height will be smaller than 48dp"},{"owner":{"account_id":10541959,"reputation":8904,"user_id":7767664,"accept_rate":63,"display_name":"user924"},"score":1,"creation_date":1609331652,"post_id":19300777,"comment_id":115813667,"body_markdown":"it&#39;s insets `android:insetTop=&quot;0dp&quot; android:insetBottom=&quot;0dp&quot;`, then it will finally remove padding and background button height will be 48dp","body":"it&#39;s insets <code>android:insetTop=&quot;0dp&quot; android:insetBottom=&quot;0dp&quot;</code>, then it will finally remove padding and background button height will be 48dp"}],"tags":[],"owner":{"account_id":914150,"reputation":3220,"user_id":947336,"display_name":"Steven"},"comment_count":5,"down_vote_count":0,"up_vote_count":261,"is_accepted":true,"score":261,"last_activity_date":1656706496,"creation_date":1381420870,"answer_id":19300777,"question_id":16394252,"body_markdown":"It took me forever to find this but the &quot;padding&quot; around the text in a button isn&#39;t really padding at all. The default Widget.Button style includes a `minHeight` property. Changing `minHeight` on the button will allow you to adjust padding as expected. \r\n\r\n    &lt;Button\r\n            android:id=&quot;@+id/header&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/test&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:minHeight=&quot;40dip&quot;/&gt;\r\n    \r\n    \r\n    &lt;style name=&quot;Widget.Holo.Button&quot; parent=&quot;Widget.Button&quot;&gt;\r\n        &lt;item name=&quot;android:background&quot;&gt;@android:drawable/btn_default_holo_dark&lt;/item&gt;\r\n        &lt;item name=&quot;android:textAppearance&quot;&gt;?android:attr/textAppearanceMedium&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@android:color/primary_text_holo_dark&lt;/item&gt;\r\n        &lt;item name=&quot;android:minHeight&quot;&gt;48dip&lt;/item&gt;\r\n        &lt;item name=&quot;android:minWidth&quot;&gt;64dip&lt;/item&gt;\r\n    &lt;/style&gt;","title":"How do I reduce the inner padding around the text within an Android button object?","body":"<p>It took me forever to find this but the &quot;padding&quot; around the text in a button isn't really padding at all. The default Widget.Button style includes a <code>minHeight</code> property. Changing <code>minHeight</code> on the button will allow you to adjust padding as expected.</p>\n<pre><code>&lt;Button\n        android:id=&quot;@+id/header&quot;\n        android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/test&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:minHeight=&quot;40dip&quot;/&gt;\n\n\n&lt;style name=&quot;Widget.Holo.Button&quot; parent=&quot;Widget.Button&quot;&gt;\n    &lt;item name=&quot;android:background&quot;&gt;@android:drawable/btn_default_holo_dark&lt;/item&gt;\n    &lt;item name=&quot;android:textAppearance&quot;&gt;?android:attr/textAppearanceMedium&lt;/item&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@android:color/primary_text_holo_dark&lt;/item&gt;\n    &lt;item name=&quot;android:minHeight&quot;&gt;48dip&lt;/item&gt;\n    &lt;item name=&quot;android:minWidth&quot;&gt;64dip&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":155220,"reputation":6787,"user_id":371720,"accept_rate":58,"display_name":"Shihab Uddin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627292581,"creation_date":1589440167,"answer_id":61791321,"question_id":16394252,"body_markdown":"**Update**: If you want to use **Material Button**: &gt;\r\n\r\nYou can use style=&quot;@style/Widget.MaterialComponents.Button.TextButton&quot; attribute, set insetTop &amp; insetBottom to 0dp. Also set  app:cornerRadius=&quot;0dp&quot; to get same result of my given picture.\r\n\r\n      &lt;com.google.android.material.button.MaterialButton\r\n            android:id=&quot;@+id/btnAddMorePassenger&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.Button.TextButton&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:backgroundTint=&quot;@color/primary_variant&quot;\r\n            android:insetTop=&quot;0dp&quot;\r\n            android:insetBottom=&quot;0dp&quot;\r\n            android:text=&quot;@string/add_passenger&quot;\r\n            android:textColor=&quot;@color/light&quot;\r\n            android:visibility=&quot;visible&quot;\r\n            app:cornerRadius=&quot;0dp&quot;\r\n            app:icon=&quot;@drawable/ic_profile_24dp&quot;\r\n            app:iconGravity=&quot;textStart&quot;\r\n            app:iconTint=&quot;@color/light&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/toolbar&quot;\r\n            tools:visibility=&quot;visible&quot; /&gt;\r\n\r\nYou can use **Borderless** style in **AppCompatButton** like below. Also use background color your preferred.\r\n\r\n\r\n&gt; Widget.AppCompat.Button.Borderless.Colored\r\n\r\nButton code\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatButton\r\n            android:id=&quot;@+id/button_visa_next&quot;\r\n            android:background=&quot;@color/colorPrimary&quot;\r\n            style=&quot;@style/Widget.AppCompat.Button.Borderless.Colored&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;@dimen/spacing_normal&quot;\r\n            android:text=&quot;@string/next&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\nOutput:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iKKJb.png","title":"How do I reduce the inner padding around the text within an Android button object?","body":"<p><strong>Update</strong>: If you want to use <strong>Material Button</strong>: &gt;</p>\n<p>You can use style=&quot;@style/Widget.MaterialComponents.Button.TextButton&quot; attribute, set insetTop &amp; insetBottom to 0dp. Also set  app:cornerRadius=&quot;0dp&quot; to get same result of my given picture.</p>\n<pre><code>  &lt;com.google.android.material.button.MaterialButton\n        android:id=&quot;@+id/btnAddMorePassenger&quot;\n        style=&quot;@style/Widget.MaterialComponents.Button.TextButton&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:backgroundTint=&quot;@color/primary_variant&quot;\n        android:insetTop=&quot;0dp&quot;\n        android:insetBottom=&quot;0dp&quot;\n        android:text=&quot;@string/add_passenger&quot;\n        android:textColor=&quot;@color/light&quot;\n        android:visibility=&quot;visible&quot;\n        app:cornerRadius=&quot;0dp&quot;\n        app:icon=&quot;@drawable/ic_profile_24dp&quot;\n        app:iconGravity=&quot;textStart&quot;\n        app:iconTint=&quot;@color/light&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/toolbar&quot;\n        tools:visibility=&quot;visible&quot; /&gt;\n</code></pre>\n<p>You can use <strong>Borderless</strong> style in <strong>AppCompatButton</strong> like below. Also use background color your preferred.</p>\n<blockquote>\n<p>Widget.AppCompat.Button.Borderless.Colored</p>\n</blockquote>\n<p>Button code</p>\n<pre><code>&lt;androidx.appcompat.widget.AppCompatButton\n        android:id=&quot;@+id/button_visa_next&quot;\n        android:background=&quot;@color/colorPrimary&quot;\n        style=&quot;@style/Widget.AppCompat.Button.Borderless.Colored&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;@dimen/spacing_normal&quot;\n        android:text=&quot;@string/next&quot;\n        android:textColor=&quot;@color/white&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/iKKJb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iKKJb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2294849,"reputation":332016,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"comment_count":0,"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1591255120,"creation_date":1591255120,"answer_id":62188896,"question_id":16394252,"body_markdown":"In the Material Components Library, the `MaterialButton` has a default style with `insetBottom` and `insetTop` with a value of `6dp`.\r\n\r\nYou can change them in the layout:\r\n\r\n      &lt;com.google.android.material.button.MaterialButton\r\n          android:insetTop=&quot;0dp&quot;\r\n          android:insetBottom=&quot;0dp&quot;\r\n          ../&gt;\r\n\r\nor in a style:\r\n\r\n     &lt;style name=&quot;Button_no_insets&quot; parent=&quot;Widget.MaterialComponents.Button&quot;..&gt;\r\n        &lt;item name=&quot;android:insetTop&quot;&gt;0dp&lt;/item&gt;\r\n        &lt;item name=&quot;android:insetBottom&quot;&gt;0dp&lt;/item&gt;\r\n     &lt;/style&gt;\r\n\r\n[![enter image description here][1]][1][![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0cNSH.png\r\n  [2]: https://i.stack.imgur.com/zV8HF.png","title":"How do I reduce the inner padding around the text within an Android button object?","body":"<p>In the Material Components Library, the <code>MaterialButton</code> has a default style with <code>insetBottom</code> and <code>insetTop</code> with a value of <code>6dp</code>.</p>\n\n<p>You can change them in the layout:</p>\n\n<pre><code>  &lt;com.google.android.material.button.MaterialButton\n      android:insetTop=\"0dp\"\n      android:insetBottom=\"0dp\"\n      ../&gt;\n</code></pre>\n\n<p>or in a style:</p>\n\n<pre><code> &lt;style name=\"Button_no_insets\" parent=\"Widget.MaterialComponents.Button\"..&gt;\n    &lt;item name=\"android:insetTop\"&gt;0dp&lt;/item&gt;\n    &lt;item name=\"android:insetBottom\"&gt;0dp&lt;/item&gt;\n &lt;/style&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/0cNSH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0cNSH.png\" alt=\"enter image description here\"></a><a href=\"https://i.stack.imgur.com/zV8HF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zV8HF.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1648834713,"post_id":71710273,"comment_id":126733416,"body_markdown":"As it‚Äôs currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it‚Äôs currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/71710273/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":3782705,"reputation":11,"user_id":3141673,"display_name":"mrr7997"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680666116,"creation_date":1648831340,"answer_id":71710273,"question_id":16394252,"body_markdown":"For me, need to set all below for the button property\r\n\r\n    minWidth \r\n    minHeight\r\n    paddingHorizontal\r\n    paddingVertical\r\n    layout wrap_content\r\n\r\n\r\n      android:paddingVertical=&quot;0dp&quot;\r\n      android:paddingHorizontal=&quot;0dp&quot;\r\n      android:minHeight=&quot;0dp&quot;\r\n      android:minWidth=&quot;0dp&quot;\r\n      android:layout_width=&quot;wrap_content&quot;\r\n\r\nthis will remove all spaces between text and border of button and border(if used) will be around the text without any space.","title":"How do I reduce the inner padding around the text within an Android button object?","body":"<p>For me, need to set all below for the button property</p>\n<pre><code>minWidth \nminHeight\npaddingHorizontal\npaddingVertical\nlayout wrap_content\n\n\n  android:paddingVertical=&quot;0dp&quot;\n  android:paddingHorizontal=&quot;0dp&quot;\n  android:minHeight=&quot;0dp&quot;\n  android:minWidth=&quot;0dp&quot;\n  android:layout_width=&quot;wrap_content&quot;\n</code></pre>\n<p>this will remove all spaces between text and border of button and border(if used) will be around the text without any space.</p>\n"}],"owner":{"account_id":284328,"reputation":1337,"user_id":582372,"accept_rate":100,"display_name":"Imran NZ"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80048,"favorite_count":0,"down_vote_count":0,"up_vote_count":113,"accepted_answer_id":19300777,"answer_count":6,"score":113,"last_activity_date":1680666116,"creation_date":1367826180,"question_id":16394252,"body_markdown":"![Example buttons](http://i.stack.imgur.com/f2NU8.png)\r\n\r\nSo, at the moment I have a button which looks like the first image above. How do I reduce the padding around the text inside the button itself (To look more like the second image)?\r\n\r\nLayout width and height is set as:\r\n\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n\r\nThe custom style shape has parameters&quot;\r\n\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shape=&quot;rectangle&quot; android:padding=&quot;10dp&quot;&gt;\r\n\r\nWith the rest just being color attributes and radii values.\r\n\r\nJust to make it clear, I want the frame of the button to hug the &quot;Login&quot; text closer.\r\n\r\nAll help and feedback is greatly appreciated. Thanks.","title":"How do I reduce the inner padding around the text within an Android button object?","body":"<p><img src=\"https://i.stack.imgur.com/f2NU8.png\" alt=\"Example buttons\"></p>\n\n<p>So, at the moment I have a button which looks like the first image above. How do I reduce the padding around the text inside the button itself (To look more like the second image)?</p>\n\n<p>Layout width and height is set as:</p>\n\n<pre><code>android:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\n</code></pre>\n\n<p>The custom style shape has parameters\"</p>\n\n<pre><code>&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:shape=\"rectangle\" android:padding=\"10dp\"&gt;\n</code></pre>\n\n<p>With the rest just being color attributes and radii values.</p>\n\n<p>Just to make it clear, I want the frame of the button to hug the \"Login\" text closer.</p>\n\n<p>All help and feedback is greatly appreciated. Thanks.</p>\n"},{"tags":["java","reactjs","react-native","expo","react-native-svg"],"owner":{"account_id":20474794,"reputation":75,"user_id":16474184,"display_name":"Athos Franco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680666079,"creation_date":1680666079,"question_id":75935471,"body_markdown":"I created a new React native project with expo typescript template. It worked fine, but then i had to add some dependencies and this weird error happened when i tried to execute the app on Android emulator.\r\n\r\n[![Error screen][1]][1]\r\n\r\n\r\nI think its something related to react-native-svg library. I found [this thread][2] and tried the proposed solution, but it didnt work. \r\n\r\nI tried reinstalling all dependencies again and still didnt work. Can someone help?\r\n\r\nMy package.json:\r\n```\r\n{\r\n  &quot;name&quot;: &quot;appgestaoshowroom&quot;,\r\n  &quot;version&quot;: &quot;1.0.0&quot;,\r\n  &quot;main&quot;: &quot;node_modules/expo/AppEntry.js&quot;,\r\n  &quot;scripts&quot;: {\r\n    &quot;start&quot;: &quot;expo start&quot;,\r\n    &quot;android&quot;: &quot;expo start --android&quot;,\r\n    &quot;ios&quot;: &quot;expo start --ios&quot;,\r\n    &quot;web&quot;: &quot;expo start --web&quot;\r\n  },\r\n  &quot;dependencies&quot;: {\r\n    &quot;@mindinventory/react-native-tab-bar-interaction&quot;: &quot;^2.2.3&quot;,\r\n    &quot;expo&quot;: &quot;~48.0.10&quot;,\r\n    &quot;expo-status-bar&quot;: &quot;~1.4.4&quot;,\r\n    &quot;react&quot;: &quot;18.2.0&quot;,\r\n    &quot;react-native&quot;: &quot;0.71.6&quot;,\r\n    &quot;react-native-svg&quot;: &quot;^12.1.0&quot;,\r\n    &quot;react-native-svg-transformer&quot;: &quot;^1.0.0&quot;\r\n  },\r\n  &quot;devDependencies&quot;: {\r\n    &quot;@babel/core&quot;: &quot;^7.20.0&quot;,\r\n    &quot;@types/react&quot;: &quot;~18.0.14&quot;,\r\n    &quot;@types/react-native&quot;: &quot;^0.71.5&quot;,\r\n    &quot;typescript&quot;: &quot;^4.9.4&quot;\r\n  },\r\n  &quot;private&quot;: true\r\n}\r\n\r\n```\r\n\r\nMy App.tsx:\r\n```\r\nimport { StatusBar } from &quot;expo-status-bar&quot;;\r\nimport { StyleSheet, Text, View } from &quot;react-native&quot;;\r\nimport Tabbar from &quot;@mindinventory/react-native-tab-bar-interaction&quot;;\r\nimport Ionicons from &quot;@expo/vector-icons/Ionicons&quot;;\r\n\r\nconst tabs = [\r\n  {\r\n    name: &quot;Home&quot;,\r\n    activeIcon: &lt;Ionicons name=&quot;md-checkmark-circle&quot; size={32} color=&quot;green&quot; /&gt;,\r\n    inactiveIcon: (\r\n      &lt;Ionicons name=&quot;md-checkmark-circle&quot; size={32} color=&quot;green&quot; /&gt;\r\n    ),\r\n  },\r\n];\r\n\r\nexport default function App() {\r\n  return (\r\n    &lt;View style={styles.container}&gt;\r\n      &lt;Text&gt;test&lt;/Text&gt;\r\n      &lt;StatusBar style=&quot;auto&quot; /&gt;\r\n      &lt;Tabbar\r\n        tabs={tabs}\r\n        tabBarContainerBackground=&quot;#6699ff&quot;\r\n        tabBarBackground=&quot;#fff&quot;\r\n        activeTabBackground=&quot;#6699ff&quot;\r\n        labelStyle={{ color: &quot;#4d4d4d&quot;, fontWeight: &quot;600&quot;, fontSize: 11 }}\r\n        onTabChange={() =&gt; console.log(&quot;Tab changed&quot;)}\r\n      /&gt;\r\n    &lt;/View&gt;\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: &quot;#fff&quot;,\r\n    alignItems: &quot;center&quot;,\r\n    justifyContent: &quot;center&quot;,\r\n  },\r\n});\r\n```\r\n\r\nIm not sure if this is useful, but heres my metro.config.js:\r\n```\r\nconst { getDefaultConfig } = require(&quot;expo/metro-config&quot;);\r\n\r\nmodule.exports = (() =&gt; {\r\n  const config = getDefaultConfig(__dirname);\r\n\r\n  const { transformer, resolver } = config;\r\n\r\n  config.transformer = {\r\n    ...transformer,\r\n    babelTransformerPath: require.resolve(&quot;react-native-svg-transformer&quot;),\r\n  };\r\n  config.resolver = {\r\n    ...resolver,\r\n    assetExts: resolver.assetExts.filter((ext) =&gt; ext !== &quot;svg&quot;),\r\n    sourceExts: [...resolver.sourceExts, &quot;svg&quot;],\r\n  };\r\n\r\n  return config;\r\n})();\r\n\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/yLWIk.png\r\n  [2]: https://stackoverflow.com/questions/74189191/java-lang-double-cannot-be-cast-to-com-facebook-react-bridge-readablemap-error-s","title":"React Native expo app crashing with this error: java.lang.Double cannot be cast to abi48_0_0com.facebook.react.bridge.ReadableMap","body":"<p>I created a new React native project with expo typescript template. It worked fine, but then i had to add some dependencies and this weird error happened when i tried to execute the app on Android emulator.</p>\n<p><a href=\"https://i.stack.imgur.com/yLWIk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yLWIk.png\" alt=\"Error screen\" /></a></p>\n<p>I think its something related to react-native-svg library. I found <a href=\"https://stackoverflow.com/questions/74189191/java-lang-double-cannot-be-cast-to-com-facebook-react-bridge-readablemap-error-s\">this thread</a> and tried the proposed solution, but it didnt work.</p>\n<p>I tried reinstalling all dependencies again and still didnt work. Can someone help?</p>\n<p>My package.json:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;appgestaoshowroom&quot;,\n  &quot;version&quot;: &quot;1.0.0&quot;,\n  &quot;main&quot;: &quot;node_modules/expo/AppEntry.js&quot;,\n  &quot;scripts&quot;: {\n    &quot;start&quot;: &quot;expo start&quot;,\n    &quot;android&quot;: &quot;expo start --android&quot;,\n    &quot;ios&quot;: &quot;expo start --ios&quot;,\n    &quot;web&quot;: &quot;expo start --web&quot;\n  },\n  &quot;dependencies&quot;: {\n    &quot;@mindinventory/react-native-tab-bar-interaction&quot;: &quot;^2.2.3&quot;,\n    &quot;expo&quot;: &quot;~48.0.10&quot;,\n    &quot;expo-status-bar&quot;: &quot;~1.4.4&quot;,\n    &quot;react&quot;: &quot;18.2.0&quot;,\n    &quot;react-native&quot;: &quot;0.71.6&quot;,\n    &quot;react-native-svg&quot;: &quot;^12.1.0&quot;,\n    &quot;react-native-svg-transformer&quot;: &quot;^1.0.0&quot;\n  },\n  &quot;devDependencies&quot;: {\n    &quot;@babel/core&quot;: &quot;^7.20.0&quot;,\n    &quot;@types/react&quot;: &quot;~18.0.14&quot;,\n    &quot;@types/react-native&quot;: &quot;^0.71.5&quot;,\n    &quot;typescript&quot;: &quot;^4.9.4&quot;\n  },\n  &quot;private&quot;: true\n}\n\n</code></pre>\n<p>My App.tsx:</p>\n<pre><code>import { StatusBar } from &quot;expo-status-bar&quot;;\nimport { StyleSheet, Text, View } from &quot;react-native&quot;;\nimport Tabbar from &quot;@mindinventory/react-native-tab-bar-interaction&quot;;\nimport Ionicons from &quot;@expo/vector-icons/Ionicons&quot;;\n\nconst tabs = [\n  {\n    name: &quot;Home&quot;,\n    activeIcon: &lt;Ionicons name=&quot;md-checkmark-circle&quot; size={32} color=&quot;green&quot; /&gt;,\n    inactiveIcon: (\n      &lt;Ionicons name=&quot;md-checkmark-circle&quot; size={32} color=&quot;green&quot; /&gt;\n    ),\n  },\n];\n\nexport default function App() {\n  return (\n    &lt;View style={styles.container}&gt;\n      &lt;Text&gt;test&lt;/Text&gt;\n      &lt;StatusBar style=&quot;auto&quot; /&gt;\n      &lt;Tabbar\n        tabs={tabs}\n        tabBarContainerBackground=&quot;#6699ff&quot;\n        tabBarBackground=&quot;#fff&quot;\n        activeTabBackground=&quot;#6699ff&quot;\n        labelStyle={{ color: &quot;#4d4d4d&quot;, fontWeight: &quot;600&quot;, fontSize: 11 }}\n        onTabChange={() =&gt; console.log(&quot;Tab changed&quot;)}\n      /&gt;\n    &lt;/View&gt;\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: &quot;#fff&quot;,\n    alignItems: &quot;center&quot;,\n    justifyContent: &quot;center&quot;,\n  },\n});\n</code></pre>\n<p>Im not sure if this is useful, but heres my metro.config.js:</p>\n<pre><code>const { getDefaultConfig } = require(&quot;expo/metro-config&quot;);\n\nmodule.exports = (() =&gt; {\n  const config = getDefaultConfig(__dirname);\n\n  const { transformer, resolver } = config;\n\n  config.transformer = {\n    ...transformer,\n    babelTransformerPath: require.resolve(&quot;react-native-svg-transformer&quot;),\n  };\n  config.resolver = {\n    ...resolver,\n    assetExts: resolver.assetExts.filter((ext) =&gt; ext !== &quot;svg&quot;),\n    sourceExts: [...resolver.sourceExts, &quot;svg&quot;],\n  };\n\n  return config;\n})();\n\n</code></pre>\n"},{"tags":["java","time-complexity","priority-queue"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1680664126,"post_id":75935350,"comment_id":133934844,"body_markdown":"Did you try debugging?","body":"Did you try debugging?"},{"owner":{"account_id":86477,"reputation":192896,"user_id":240443,"accept_rate":79,"display_name":"Amadan"},"score":2,"creation_date":1680664399,"post_id":75935350,"comment_id":133934875,"body_markdown":"No idea what your code is doing or what is in `Incomes.txt`, but... if `k` is `4`, then you have three `println` inside your `for` loop, and one at the end of your function, for total of four outputs. Removing the last line seems like it would give you the output you want.","body":"No idea what your code is doing or what is in <code>Incomes.txt</code>, but... if <code>k</code> is <code>4</code>, then you have three <code>println</code> inside your <code>for</code> loop, and one at the end of your function, for total of four outputs. Removing the last line seems like it would give you the output you want."},{"owner":{"account_id":24518100,"reputation":1845,"user_id":18431570,"display_name":"Jagroop"},"score":0,"creation_date":1680664471,"post_id":75935350,"comment_id":133934881,"body_markdown":"use print() instead of println() at this line System.out.println(-pq.peek());","body":"use print() instead of println() at this line System.out.println(-pq.peek());"},{"owner":{"account_id":12558866,"reputation":1,"user_id":9137456,"display_name":"Jay Patel"},"score":1,"creation_date":1680665566,"post_id":75935350,"comment_id":133934982,"body_markdown":"Getting rid of the last print statement fixed it, thank you very much!","body":"Getting rid of the last print statement fixed it, thank you very much!"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1680665713,"post_id":75935350,"comment_id":133934999,"body_markdown":"You called your class `Quantiles`. If it is supposed to calculate quartiles when the input is 4, it seems to me that you may be doing double work by first sorting the list of numbers and then putting the numbers into a priority queue. Can‚Äôt you make do with sorting alone if you select the correct indices from the sorted list?","body":"You called your class <code>Quantiles</code>. If it is supposed to calculate quartiles when the input is 4, it seems to me that you may be doing double work by first sorting the list of numbers and then putting the numbers into a priority queue. Can‚Äôt you make do with sorting alone if you select the correct indices from the sorted list?"}],"owner":{"account_id":12558866,"reputation":1,"user_id":9137456,"display_name":"Jay Patel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680665199,"creation_date":1680664064,"question_id":75935350,"body_markdown":"Whenever I run my program, it adds a 0 at the end and I cannot seem to make it to not do that. I tried asking Chegg but they all just put it into ChatGPT and give me the same incorrect answer over and over again so I am coming here for help. For reference, the user input of &#39;4&#39; should produce the output:\r\n\r\n```\r\n8000\r\n23700\r\n50000\r\n```\r\n\r\nbut my code outputs:\r\n```\r\n8000\r\n23700\r\n50000\r\n0\r\n```\r\n\r\nHere is my code:\r\n```\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.PriorityQueue;\r\nimport java.util.Scanner;\r\n\r\npublic class Quantiles {\r\n    public static void main(String[] args) {\r\n        int k = 0;\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.print(&quot;&quot;);\r\n        k = scanner.nextInt();\r\n\r\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n\r\n        try {\r\n            Scanner sc = new Scanner(new File(&quot;Incomes.txt&quot;));\r\n            while (sc.hasNextLine()) {\r\n                list.add(Integer.parseInt(sc.nextLine()));\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        Collections.sort(list);\r\n\r\n        int n = list.size();\r\n        PriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;();\r\n        int i = 0;\r\n        for (int j = 1; j &lt; k; j++) {\r\n            int nextIndex = j * n / k;\r\n            while (i &lt; nextIndex) {\r\n                pq.offer(-list.get(i));\r\n                i++;\r\n            }\r\n            System.out.println(-pq.peek());\r\n        }\r\n\r\n        while (i &lt; n) {\r\n            pq.offer(-list.get(i));\r\n            i++;\r\n        }\r\n\r\n        while (pq.size() &gt; 1) {\r\n            pq.poll();\r\n        }\r\n\r\n        System.out.println(-pq.peek());\r\n    }\r\n}\r\n```\r\n\r\n\r\nTried user input -&gt; 4\r\nExpecting:\r\n```\r\n8000\r\n23700\r\n50000\r\n```\r\n\r\nGot:\r\n```\r\n8000\r\n23700\r\n50000\r\n0\r\n```\r\n","title":"An unnecessary &#39;0&#39; at the end of my output","body":"<p>Whenever I run my program, it adds a 0 at the end and I cannot seem to make it to not do that. I tried asking Chegg but they all just put it into ChatGPT and give me the same incorrect answer over and over again so I am coming here for help. For reference, the user input of '4' should produce the output:</p>\n<pre><code>8000\n23700\n50000\n</code></pre>\n<p>but my code outputs:</p>\n<pre><code>8000\n23700\n50000\n0\n</code></pre>\n<p>Here is my code:</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.PriorityQueue;\nimport java.util.Scanner;\n\npublic class Quantiles {\n    public static void main(String[] args) {\n        int k = 0;\n        Scanner scanner = new Scanner(System.in);\n        System.out.print(&quot;&quot;);\n        k = scanner.nextInt();\n\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n\n        try {\n            Scanner sc = new Scanner(new File(&quot;Incomes.txt&quot;));\n            while (sc.hasNextLine()) {\n                list.add(Integer.parseInt(sc.nextLine()));\n            }\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n\n        Collections.sort(list);\n\n        int n = list.size();\n        PriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;();\n        int i = 0;\n        for (int j = 1; j &lt; k; j++) {\n            int nextIndex = j * n / k;\n            while (i &lt; nextIndex) {\n                pq.offer(-list.get(i));\n                i++;\n            }\n            System.out.println(-pq.peek());\n        }\n\n        while (i &lt; n) {\n            pq.offer(-list.get(i));\n            i++;\n        }\n\n        while (pq.size() &gt; 1) {\n            pq.poll();\n        }\n\n        System.out.println(-pq.peek());\n    }\n}\n</code></pre>\n<p>Tried user input -&gt; 4\nExpecting:</p>\n<pre><code>8000\n23700\n50000\n</code></pre>\n<p>Got:</p>\n<pre><code>8000\n23700\n50000\n0\n</code></pre>\n"},{"tags":["javascript","java","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680664829,"creation_date":1680664829,"answer_id":75935391,"question_id":75934734,"body_markdown":"That&#39;s because PDPageContentStream is in the `org.apache.pdfbox.pdmodel` package. It seems you&#39;re using code that was written for PDFBox 1.8. And you only need two jar files here, pdfbox and fontbox.","title":"pdfbox is not fully installed","body":"<p>That's because PDPageContentStream is in the <code>org.apache.pdfbox.pdmodel</code> package. It seems you're using code that was written for PDFBox 1.8. And you only need two jar files here, pdfbox and fontbox.</p>\n"}],"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680664829,"creation_date":1680653260,"question_id":75934734,"body_markdown":"[![enter image description here][1]][1]\r\n```\r\nimport org.apache.pdfbox.pdmodel.PDDocument;\r\nimport org.apache.pdfbox.pdmodel.font.PDType1Font;\r\nimport org.apache.pdfbox.pdmodel.common.PDRectangle;\r\nimport org.apache.pdfbox.pdmodel.edit.PDPageContentStream;\r\n```\r\nHello I installed pdfbox recently but there is a problem when importing the library in the last line import org.apache.pdfbox.pdmodel.edit.PDPageContentStream; **edit** is not resolved even though I installed everthing here is my library.\r\n\r\n[![if there anything missing please tell me][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NOHTE.png\r\n  [2]: https://i.stack.imgur.com/kncxl.png","title":"pdfbox is not fully installed","body":"<p><a href=\"https://i.stack.imgur.com/NOHTE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NOHTE.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.font.PDType1Font;\nimport org.apache.pdfbox.pdmodel.common.PDRectangle;\nimport org.apache.pdfbox.pdmodel.edit.PDPageContentStream;\n</code></pre>\n<p>Hello I installed pdfbox recently but there is a problem when importing the library in the last line import org.apache.pdfbox.pdmodel.edit.PDPageContentStream; <strong>edit</strong> is not resolved even though I installed everthing here is my library.</p>\n<p><a href=\"https://i.stack.imgur.com/kncxl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kncxl.png\" alt=\"if there anything missing please tell me\" /></a></p>\n"},{"tags":["java","spring-boot","azure","ubuntu","amazon-s3"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1680680052,"post_id":75935374,"comment_id":133937163,"body_markdown":"You are deploying on a POD which is isolated in its own network.  You need to configure your cluster to have access to external resources.   See if you pod has access to other external APIs, or if it is only AWS that it is having issues with.","body":"You are deploying on a POD which is isolated in its own network.  You need to configure your cluster to have access to external resources.   See if you pod has access to other external APIs, or if it is only AWS that it is having issues with."}],"owner":{"account_id":13765213,"reputation":31,"user_id":13387964,"display_name":"Balachander K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680664475,"creation_date":1680664475,"question_id":75935374,"body_markdown":"We are having a sandbox API of checkout.com payment gateway which will redirect to AWS S3 API we handled that using **HTTPURLConnection** everything works fine on local machine which is windows 10 JDK8  and able to download CSV from S3 API. But after creating image and deployed that image on Kubernetes POD then while calling the API, then S3 is giving 400 Bad Request error. Azure service is running with ubuntu 20 with JDK8.\r\n\r\nCheckout API: (On postman console we can see the redirected S3 API)\r\n\r\n    curl --location &#39;https://api.sandbox.checkout.com/reports/rpt_s6iy3oqqgzvexmtxz7czbmtcxy/files/file_plrpnpkvmb7uzksw6wgk6avp5u&#39; \\\r\n    --header &#39;Authorization: Bearer sk_sbox_ekij45xwy6nfgbajlbhhnnigdu#\r\n\r\nJava Snippet:\r\n\r\n    private CheckoutFileAPIResponse initiateFileAPI(String fileName, String fileUrl,\r\n                List&lt;PgTransactionReportsJobs&gt; reportJobList) {\r\n            int lineCount = 1;\r\n            CheckoutFileAPIResponse fileResponse = new CheckoutFileAPIResponse();\r\n            fileResponse.setRedirected(false);\r\n            String headers = &quot;&quot;;\r\n            File f = new File(&quot;src\\\\main\\\\resources\\\\&quot; + fileName + &quot;.csv&quot;);\r\n    \r\n            try (FileOutputStream fos = new FileOutputStream(f); PrintWriter pw = new PrintWriter(fos)) {\r\n    \r\n                String authToken = &quot;sk_sbox_ekij45xwy6nfgbajlbhhnnigdu#&quot;;\r\n                URL obj = new URL(fileUrl);\r\n                HttpURLConnection conn = (HttpURLConnection) obj.openConnection();\r\n                conn.setReadTimeout(5000);\r\n                conn.setRequestProperty(&quot;Accept-Charset&quot;, &quot;UTF-8&quot;);\r\n                conn.addRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.8&quot;);\r\n                conn.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla&quot;);\r\n                conn.addRequestProperty(&quot;Referer&quot;, &quot;google.com&quot;);\r\n                conn.addRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + authToken);\r\n                logger.info(&quot;Request URL....{}&quot;, fileUrl);\r\n                boolean redirect = false;\r\n    \r\n                // normally, 3xx is redirect\r\n                int status = conn.getResponseCode();\r\n                if (status != HttpURLConnection.HTTP_OK) {\r\n                    if (status == HttpURLConnection.HTTP_MOVED_TEMP || status == HttpURLConnection.HTTP_MOVED_PERM\r\n                            || status == HttpURLConnection.HTTP_SEE_OTHER)\r\n                        redirect = true;\r\n                }\r\n                logger.info(&quot;Response code...{}&quot;, status);\r\n                if (status == 200) {\r\n                    fileResponse.setRedirected(true);\r\n                }\r\n                if (redirect) {\r\n    \r\n                    // get redirect url from &quot;location&quot; header field\r\n                    String newUrl = conn.getHeaderField(&quot;Location&quot;);\r\n    \r\n                    // get the cookie if need, for login\r\n                    String cookies = conn.getHeaderField(&quot;Set-Cookie&quot;);\r\n    \r\n                    // open the new connnection again\r\n                    conn = (HttpURLConnection) new URL(newUrl).openConnection();\r\n                    conn.setRequestProperty(&quot;Cookie&quot;, cookies);\r\n                    conn.setRequestProperty(&quot;Accept-Charset&quot;, &quot;UTF-8&quot;);\r\n                    conn.addRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.8&quot;);\r\n                    conn.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla&quot;);\r\n                    conn.addRequestProperty(&quot;Referer&quot;, &quot;google.com&quot;);\r\n                    conn.addRequestProperty(&quot;Content-Type&quot;, &quot;application/xml&quot;);\r\n    \r\n                    logger.info(&quot;Redirect to URL...{}&quot;, newUrl);\r\n    \r\n                }\r\n                BufferedReader in = new BufferedReader(new InputStreamReader(conn.getInputStream()));\r\n                String inputLine;\r\n                while ((inputLine = in.readLine()) != null) {\r\n                    if (lineCount == 1) {\r\n                        headers = inputLine;\r\n                        fileResponse.setHeaderValues(headers);\r\n                        logger.info(&quot;Header Values....{}&quot;, headers);\r\n                    }\r\n                    lineCount = lineCount + 1;\r\n                    pw.write(inputLine);\r\n                    pw.write(&quot;\\n&quot;);\r\n                }\r\n                in.close();\r\n                pw.flush();\r\n                fos.close();\r\n                pw.close();\r\n    \r\n            } catch (Exception e) {\r\n                logger.info(EXCEPTION_OCCURED, e.getMessage());\r\n                logger.info(EXCEPTION_OCCURED, ExceptionUtils.getStackTrace(e));\r\n                UpdateJobsTableStatus(reportJobList, FAILURE);\r\n            }\r\n    \r\n            return fileResponse;\r\n    \r\n        }\r\n\r\n\r\nThe S3 URL will look like: it will be valid only for 30 mins and once used it will become invalid.\r\n[https://s3.eu-west-1.amazonaws.com/merlin-financial-reports-sbox/mbc-group/mbc-group/reports-mbc-group/financial-actions/date-range/financial-actions_ent_cqgswiznuxoe3ex445gpqa2xqi_20230304_20230305_1.csv?X-Amz-Expires=30&amp;X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBIaCWV1LXdlc3QtMSJHMEUCIFhIy2ktmoh7Lc2%2FObdrxIb4O2lxDfeBcpq%2F5hQfQnj7AiEA3gGxHKCYT9Qjn9m16tpQqYAMPc9Mb8k4veU6xPGb7CoqiAQI6%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARACGgw2ODY0OTY3NDc3MTUiDKH7%2FTU9oZA62TxUlCrcA74iiXw1dP6x8McIlffyN7nv0zQxdR%2BTAa%2Fll8ysegQGdXg%2FLpO0agsLVCB1OdW2GxoeYNp9sMcdtLxqEN4ITOS6ISGFgkO9foP%2BGcxWV0Qs5DBxGSfRecH9Y90le0Qr1AlOq2ps39NSiisVR9xkwU3Bux8BkNtZJo2ThpPVx7fi68627TRoHygfEeyFYX2p6TJATTmJe4ydz0Vvhe7eSSiSYHBBquoEdIeIV0sqb89wveCmsJszarc9Hk01yXJZeksEkzb9Z8TWha6CSWdS%2FPv2dTU1rxdF4aZqYHd1eU6azEYo%2BtZjGhI6FL5W1FdPBa9KQ89OdRQ%2FbqpnKuFyppRDTwT%2BURSfMfpkP%2BQIQP3%2FraJBbkKCLtUpC01PHxP1CssPeK7onjG84F%2BZ%2BnA9TVHWhHWLEKafclX3o%2BwwgOcOkWQCV4s%2BjcFrRwK%2BbK3m4Y%2FVGyjpO1U8u2a5mP%2Fq0HGkJIjSpmfZlWVAz7BFUAqO9qwDyh5qhkbwNfLMlQBVKju5xpHYgzGE%2Bz7WOUXspYa09ZooBf7Ln7jmAznZwqqhdG9ccVtZSIpoY5hFR8FOr%2BABSX8ledcgYsONIiwUI351q6ysrAu11%2BB0KJ7GtHxN5MDilUZpu7oSRrzXMKror6EGOqUBHVAw7KKCf14mdx8UjtvYSFi65%2F9hkPya218h36cjpetJHSicLdThkH4sXwoWK92BLsuZrCwNlqiom5kRaWH3URCnvOldRrZLEDLuehcAl9rWGic8KKvj7F36rU4zlFu6pHnKBF8CGBQ7Hn8ZtmixUAtWVlN0aA6BOX23x2sHrXjxhCyHiq25yJ%2FtewNC9TWVNnHrhAxXUudgNNcQMFxqgA86G2Mh&amp;X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=ASIAZ7VTFCDB3VX26UOE/20230404/eu-west-1/s3/aws4_request&amp;X-Amz-Date=20230404T122808Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Signature=b6651a615f981dcd44df16f2daba9e68ff711d8956051433ba5ad7db55ee176c][1]\r\n\r\n\r\n  [1]: https://s3.eu-west-1.amazonaws.com/merlin-financial-reports-sbox/mbc-group/mbc-group/reports-mbc-group/financial-actions/date-range/financial-actions_ent_cqgswiznuxoe3ex445gpqa2xqi_20230304_20230305_1.csv?X-Amz-Expires=30&amp;X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBIaCWV1LXdlc3QtMSJHMEUCIFhIy2ktmoh7Lc2%2FObdrxIb4O2lxDfeBcpq%2F5hQfQnj7AiEA3gGxHKCYT9Qjn9m16tpQqYAMPc9Mb8k4veU6xPGb7CoqiAQI6%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARACGgw2ODY0OTY3NDc3MTUiDKH7%2FTU9oZA62TxUlCrcA74iiXw1dP6x8McIlffyN7nv0zQxdR%2BTAa%2Fll8ysegQGdXg%2FLpO0agsLVCB1OdW2GxoeYNp9sMcdtLxqEN4ITOS6ISGFgkO9foP%2BGcxWV0Qs5DBxGSfRecH9Y90le0Qr1AlOq2ps39NSiisVR9xkwU3Bux8BkNtZJo2ThpPVx7fi68627TRoHygfEeyFYX2p6TJATTmJe4ydz0Vvhe7eSSiSYHBBquoEdIeIV0sqb89wveCmsJszarc9Hk01yXJZeksEkzb9Z8TWha6CSWdS%2FPv2dTU1rxdF4aZqYHd1eU6azEYo%2BtZjGhI6FL5W1FdPBa9KQ89OdRQ%2FbqpnKuFyppRDTwT%2BURSfMfpkP%2BQIQP3%2FraJBbkKCLtUpC01PHxP1CssPeK7onjG84F%2BZ%2BnA9TVHWhHWLEKafclX3o%2BwwgOcOkWQCV4s%2BjcFrRwK%2BbK3m4Y%2FVGyjpO1U8u2a5mP%2Fq0HGkJIjSpmfZlWVAz7BFUAqO9qwDyh5qhkbwNfLMlQBVKju5xpHYgzGE%2Bz7WOUXspYa09ZooBf7Ln7jmAznZwqqhdG9ccVtZSIpoY5hFR8FOr%2BABSX8ledcgYsONIiwUI351q6ysrAu11%2BB0KJ7GtHxN5MDilUZpu7oSRrzXMKror6EGOqUBHVAw7KKCf14mdx8UjtvYSFi65%2F9hkPya218h36cjpetJHSicLdThkH4sXwoWK92BLsuZrCwNlqiom5kRaWH3URCnvOldRrZLEDLuehcAl9rWGic8KKvj7F36rU4zlFu6pHnKBF8CGBQ7Hn8ZtmixUAtWVlN0aA6BOX23x2sHrXjxhCyHiq25yJ%2FtewNC9TWVNnHrhAxXUudgNNcQMFxqgA86G2Mh&amp;X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=ASIAZ7VTFCDB3VX26UOE/20230404/eu-west-1/s3/aws4_request&amp;X-Amz-Date=20230404T122808Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Signature=b6651a615f981dcd44df16f2daba9e68ff711d8956051433ba5ad7db55ee176c","title":"AWS S3 API is throwing 400 Bad Request after deploying to Azure Kubernetes POD","body":"<p>We are having a sandbox API of checkout.com payment gateway which will redirect to AWS S3 API we handled that using <strong>HTTPURLConnection</strong> everything works fine on local machine which is windows 10 JDK8  and able to download CSV from S3 API. But after creating image and deployed that image on Kubernetes POD then while calling the API, then S3 is giving 400 Bad Request error. Azure service is running with ubuntu 20 with JDK8.</p>\n<p>Checkout API: (On postman console we can see the redirected S3 API)</p>\n<pre><code>curl --location 'https://api.sandbox.checkout.com/reports/rpt_s6iy3oqqgzvexmtxz7czbmtcxy/files/file_plrpnpkvmb7uzksw6wgk6avp5u' \\\n--header 'Authorization: Bearer sk_sbox_ekij45xwy6nfgbajlbhhnnigdu#\n</code></pre>\n<p>Java Snippet:</p>\n<pre><code>private CheckoutFileAPIResponse initiateFileAPI(String fileName, String fileUrl,\n            List&lt;PgTransactionReportsJobs&gt; reportJobList) {\n        int lineCount = 1;\n        CheckoutFileAPIResponse fileResponse = new CheckoutFileAPIResponse();\n        fileResponse.setRedirected(false);\n        String headers = &quot;&quot;;\n        File f = new File(&quot;src\\\\main\\\\resources\\\\&quot; + fileName + &quot;.csv&quot;);\n\n        try (FileOutputStream fos = new FileOutputStream(f); PrintWriter pw = new PrintWriter(fos)) {\n\n            String authToken = &quot;sk_sbox_ekij45xwy6nfgbajlbhhnnigdu#&quot;;\n            URL obj = new URL(fileUrl);\n            HttpURLConnection conn = (HttpURLConnection) obj.openConnection();\n            conn.setReadTimeout(5000);\n            conn.setRequestProperty(&quot;Accept-Charset&quot;, &quot;UTF-8&quot;);\n            conn.addRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.8&quot;);\n            conn.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla&quot;);\n            conn.addRequestProperty(&quot;Referer&quot;, &quot;google.com&quot;);\n            conn.addRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + authToken);\n            logger.info(&quot;Request URL....{}&quot;, fileUrl);\n            boolean redirect = false;\n\n            // normally, 3xx is redirect\n            int status = conn.getResponseCode();\n            if (status != HttpURLConnection.HTTP_OK) {\n                if (status == HttpURLConnection.HTTP_MOVED_TEMP || status == HttpURLConnection.HTTP_MOVED_PERM\n                        || status == HttpURLConnection.HTTP_SEE_OTHER)\n                    redirect = true;\n            }\n            logger.info(&quot;Response code...{}&quot;, status);\n            if (status == 200) {\n                fileResponse.setRedirected(true);\n            }\n            if (redirect) {\n\n                // get redirect url from &quot;location&quot; header field\n                String newUrl = conn.getHeaderField(&quot;Location&quot;);\n\n                // get the cookie if need, for login\n                String cookies = conn.getHeaderField(&quot;Set-Cookie&quot;);\n\n                // open the new connnection again\n                conn = (HttpURLConnection) new URL(newUrl).openConnection();\n                conn.setRequestProperty(&quot;Cookie&quot;, cookies);\n                conn.setRequestProperty(&quot;Accept-Charset&quot;, &quot;UTF-8&quot;);\n                conn.addRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.8&quot;);\n                conn.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla&quot;);\n                conn.addRequestProperty(&quot;Referer&quot;, &quot;google.com&quot;);\n                conn.addRequestProperty(&quot;Content-Type&quot;, &quot;application/xml&quot;);\n\n                logger.info(&quot;Redirect to URL...{}&quot;, newUrl);\n\n            }\n            BufferedReader in = new BufferedReader(new InputStreamReader(conn.getInputStream()));\n            String inputLine;\n            while ((inputLine = in.readLine()) != null) {\n                if (lineCount == 1) {\n                    headers = inputLine;\n                    fileResponse.setHeaderValues(headers);\n                    logger.info(&quot;Header Values....{}&quot;, headers);\n                }\n                lineCount = lineCount + 1;\n                pw.write(inputLine);\n                pw.write(&quot;\\n&quot;);\n            }\n            in.close();\n            pw.flush();\n            fos.close();\n            pw.close();\n\n        } catch (Exception e) {\n            logger.info(EXCEPTION_OCCURED, e.getMessage());\n            logger.info(EXCEPTION_OCCURED, ExceptionUtils.getStackTrace(e));\n            UpdateJobsTableStatus(reportJobList, FAILURE);\n        }\n\n        return fileResponse;\n\n    }\n</code></pre>\n<p>The S3 URL will look like: it will be valid only for 30 mins and once used it will become invalid.\n<a href=\"https://s3.eu-west-1.amazonaws.com/merlin-financial-reports-sbox/mbc-group/mbc-group/reports-mbc-group/financial-actions/date-range/financial-actions_ent_cqgswiznuxoe3ex445gpqa2xqi_20230304_20230305_1.csv?X-Amz-Expires=30&amp;X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBIaCWV1LXdlc3QtMSJHMEUCIFhIy2ktmoh7Lc2%2FObdrxIb4O2lxDfeBcpq%2F5hQfQnj7AiEA3gGxHKCYT9Qjn9m16tpQqYAMPc9Mb8k4veU6xPGb7CoqiAQI6%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARACGgw2ODY0OTY3NDc3MTUiDKH7%2FTU9oZA62TxUlCrcA74iiXw1dP6x8McIlffyN7nv0zQxdR%2BTAa%2Fll8ysegQGdXg%2FLpO0agsLVCB1OdW2GxoeYNp9sMcdtLxqEN4ITOS6ISGFgkO9foP%2BGcxWV0Qs5DBxGSfRecH9Y90le0Qr1AlOq2ps39NSiisVR9xkwU3Bux8BkNtZJo2ThpPVx7fi68627TRoHygfEeyFYX2p6TJATTmJe4ydz0Vvhe7eSSiSYHBBquoEdIeIV0sqb89wveCmsJszarc9Hk01yXJZeksEkzb9Z8TWha6CSWdS%2FPv2dTU1rxdF4aZqYHd1eU6azEYo%2BtZjGhI6FL5W1FdPBa9KQ89OdRQ%2FbqpnKuFyppRDTwT%2BURSfMfpkP%2BQIQP3%2FraJBbkKCLtUpC01PHxP1CssPeK7onjG84F%2BZ%2BnA9TVHWhHWLEKafclX3o%2BwwgOcOkWQCV4s%2BjcFrRwK%2BbK3m4Y%2FVGyjpO1U8u2a5mP%2Fq0HGkJIjSpmfZlWVAz7BFUAqO9qwDyh5qhkbwNfLMlQBVKju5xpHYgzGE%2Bz7WOUXspYa09ZooBf7Ln7jmAznZwqqhdG9ccVtZSIpoY5hFR8FOr%2BABSX8ledcgYsONIiwUI351q6ysrAu11%2BB0KJ7GtHxN5MDilUZpu7oSRrzXMKror6EGOqUBHVAw7KKCf14mdx8UjtvYSFi65%2F9hkPya218h36cjpetJHSicLdThkH4sXwoWK92BLsuZrCwNlqiom5kRaWH3URCnvOldRrZLEDLuehcAl9rWGic8KKvj7F36rU4zlFu6pHnKBF8CGBQ7Hn8ZtmixUAtWVlN0aA6BOX23x2sHrXjxhCyHiq25yJ%2FtewNC9TWVNnHrhAxXUudgNNcQMFxqgA86G2Mh&amp;X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=ASIAZ7VTFCDB3VX26UOE/20230404/eu-west-1/s3/aws4_request&amp;X-Amz-Date=20230404T122808Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Signature=b6651a615f981dcd44df16f2daba9e68ff711d8956051433ba5ad7db55ee176c\" rel=\"nofollow noreferrer\">https://s3.eu-west-1.amazonaws.com/merlin-financial-reports-sbox/mbc-group/mbc-group/reports-mbc-group/financial-actions/date-range/financial-actions_ent_cqgswiznuxoe3ex445gpqa2xqi_20230304_20230305_1.csv?X-Amz-Expires=30&amp;X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBIaCWV1LXdlc3QtMSJHMEUCIFhIy2ktmoh7Lc2%2FObdrxIb4O2lxDfeBcpq%2F5hQfQnj7AiEA3gGxHKCYT9Qjn9m16tpQqYAMPc9Mb8k4veU6xPGb7CoqiAQI6%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARACGgw2ODY0OTY3NDc3MTUiDKH7%2FTU9oZA62TxUlCrcA74iiXw1dP6x8McIlffyN7nv0zQxdR%2BTAa%2Fll8ysegQGdXg%2FLpO0agsLVCB1OdW2GxoeYNp9sMcdtLxqEN4ITOS6ISGFgkO9foP%2BGcxWV0Qs5DBxGSfRecH9Y90le0Qr1AlOq2ps39NSiisVR9xkwU3Bux8BkNtZJo2ThpPVx7fi68627TRoHygfEeyFYX2p6TJATTmJe4ydz0Vvhe7eSSiSYHBBquoEdIeIV0sqb89wveCmsJszarc9Hk01yXJZeksEkzb9Z8TWha6CSWdS%2FPv2dTU1rxdF4aZqYHd1eU6azEYo%2BtZjGhI6FL5W1FdPBa9KQ89OdRQ%2FbqpnKuFyppRDTwT%2BURSfMfpkP%2BQIQP3%2FraJBbkKCLtUpC01PHxP1CssPeK7onjG84F%2BZ%2BnA9TVHWhHWLEKafclX3o%2BwwgOcOkWQCV4s%2BjcFrRwK%2BbK3m4Y%2FVGyjpO1U8u2a5mP%2Fq0HGkJIjSpmfZlWVAz7BFUAqO9qwDyh5qhkbwNfLMlQBVKju5xpHYgzGE%2Bz7WOUXspYa09ZooBf7Ln7jmAznZwqqhdG9ccVtZSIpoY5hFR8FOr%2BABSX8ledcgYsONIiwUI351q6ysrAu11%2BB0KJ7GtHxN5MDilUZpu7oSRrzXMKror6EGOqUBHVAw7KKCf14mdx8UjtvYSFi65%2F9hkPya218h36cjpetJHSicLdThkH4sXwoWK92BLsuZrCwNlqiom5kRaWH3URCnvOldRrZLEDLuehcAl9rWGic8KKvj7F36rU4zlFu6pHnKBF8CGBQ7Hn8ZtmixUAtWVlN0aA6BOX23x2sHrXjxhCyHiq25yJ%2FtewNC9TWVNnHrhAxXUudgNNcQMFxqgA86G2Mh&amp;X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=ASIAZ7VTFCDB3VX26UOE/20230404/eu-west-1/s3/aws4_request&amp;X-Amz-Date=20230404T122808Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Signature=b6651a615f981dcd44df16f2daba9e68ff711d8956051433ba5ad7db55ee176c</a></p>\n"},{"tags":["java","spring-mvc","data-binding"],"owner":{"account_id":24503013,"reputation":23,"user_id":18418387,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680664256,"creation_date":1680664256,"question_id":75935360,"body_markdown":"i&#39;m very new with spring mvc and have the code below \r\nModel country\r\n\r\n```\r\npublic class Country {\r\n    private int id;\r\n    private String name;\r\n@getter and setter\r\n```\r\n\r\nmodel account\r\n\r\n```\r\npublic class Account {\r\n    private String username;\r\n    private String password;\r\n    private boolean gender;\r\n    private ArrayList&lt;Country&gt; countries;\r\n  @getter and setter\r\n```\r\ncontroller\r\n\r\n```\r\n@InitBinder\r\n    public void initBinder(WebDataBinder binder) {\r\n        binder.registerCustomEditor(Country.class,new CountryEditor());\r\n    }\r\n\r\n \r\n\r\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/login&quot;)\r\n    public String login(Model model) {\r\n        Account u = new Account();\r\n        u.setUsername(&quot;daniel&quot;);\r\n        u.setPassword(&quot;98765432&quot;);\r\n        ArrayList&lt;Country&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(new Country(1, &quot;Hola&quot;));\r\n        list.add(new Country(2, &quot;HCM&quot;));\r\n        u.setCountries(list);\r\n        u.setA(new Country(0, &quot;America&quot;));\r\n        model.addAttribute(&quot;user1&quot;, u);\r\n        return &quot;login&quot;;\r\n    }\r\n\r\n@RequestMapping(method = RequestMethod.POST, value = &quot;/login&quot;)\r\n    public String checkLog(@ModelAttribute(&quot;account&quot;) Account a) {\r\n\r\n        return &quot;hello&quot;;\r\n    }\r\n```\r\nCustom binding for country\r\n\r\n```\r\npublic class CountryEditor extends PropertyEditorSupport {\r\n\r\n    @Override\r\n    public String getAsText() {\r\n        Country country = (Country) getValue();\r\n        return country == null ? &quot;null&quot; : country.getName();\r\n    }\r\n\r\n    @Override\r\n    public void setAsText(String text) throws IllegalArgumentException {\r\n        Country country = new Country();\r\n       country.setId(Integer.parseInt(text));\r\n        setValue(country);\r\n    }\r\n\r\n}\r\n```\r\njsp:\r\n\r\n```\r\n&lt;%-- \r\n    Document   : login\r\n    Created on : Apr 3, 2023, 11:22:57 AM\r\n    Author     : MinhDuy\r\n--%&gt;\r\n\r\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;%@taglib uri=&quot;http://www.springframework.org/tags/form&quot; prefix=&quot;form&quot;  %&gt;\r\n\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n        &lt;title&gt;JSP Page&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;h1&gt;Hello World!&lt;/h1&gt;\r\n\r\n\r\n        &lt;form:form action=&quot;login&quot; method=&quot;POST&quot; modelAttribute=&quot;user1&quot; &gt;\r\n            User: &lt;form:input path=&quot;username&quot;/&gt;&lt;br&gt;\r\n            Pass: &lt;form:input path=&quot;password&quot;/&gt;&lt;br&gt;\r\n            &lt;form:checkboxes path=&quot;countries&quot; items=&quot;${countries}&quot; itemLabel=&quot;name&quot; itemValue=&quot;id&quot;/&gt;\r\n            &lt;input type=&quot;submit&quot; value=&quot;login&quot;&gt;\r\n        &lt;/form:form&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\nmy problems i can&#39;t binding to list checkboxes string data above to ArrayList&lt;Country&gt; countries.\r\nI can simply binding object country alone using &lt;form:checkbox /&gt; but can&#39;t binding data arrayList&lt;countries&gt;. Please help me with this i&#39;m very new with spring mvc\r\n","title":"ArrayList data binding from submitted form in spring mvc","body":"<p>i'm very new with spring mvc and have the code below\nModel country</p>\n<pre><code>public class Country {\n    private int id;\n    private String name;\n@getter and setter\n</code></pre>\n<p>model account</p>\n<pre><code>public class Account {\n    private String username;\n    private String password;\n    private boolean gender;\n    private ArrayList&lt;Country&gt; countries;\n  @getter and setter\n</code></pre>\n<p>controller</p>\n<pre><code>@InitBinder\n    public void initBinder(WebDataBinder binder) {\n        binder.registerCustomEditor(Country.class,new CountryEditor());\n    }\n\n \n\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/login&quot;)\n    public String login(Model model) {\n        Account u = new Account();\n        u.setUsername(&quot;daniel&quot;);\n        u.setPassword(&quot;98765432&quot;);\n        ArrayList&lt;Country&gt; list = new ArrayList&lt;&gt;();\n        list.add(new Country(1, &quot;Hola&quot;));\n        list.add(new Country(2, &quot;HCM&quot;));\n        u.setCountries(list);\n        u.setA(new Country(0, &quot;America&quot;));\n        model.addAttribute(&quot;user1&quot;, u);\n        return &quot;login&quot;;\n    }\n\n@RequestMapping(method = RequestMethod.POST, value = &quot;/login&quot;)\n    public String checkLog(@ModelAttribute(&quot;account&quot;) Account a) {\n\n        return &quot;hello&quot;;\n    }\n</code></pre>\n<p>Custom binding for country</p>\n<pre><code>public class CountryEditor extends PropertyEditorSupport {\n\n    @Override\n    public String getAsText() {\n        Country country = (Country) getValue();\n        return country == null ? &quot;null&quot; : country.getName();\n    }\n\n    @Override\n    public void setAsText(String text) throws IllegalArgumentException {\n        Country country = new Country();\n       country.setId(Integer.parseInt(text));\n        setValue(country);\n    }\n\n}\n</code></pre>\n<p>jsp:</p>\n<pre><code>&lt;%-- \n    Document   : login\n    Created on : Apr 3, 2023, 11:22:57 AM\n    Author     : MinhDuy\n--%&gt;\n\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@taglib uri=&quot;http://www.springframework.org/tags/form&quot; prefix=&quot;form&quot;  %&gt;\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n        &lt;title&gt;JSP Page&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Hello World!&lt;/h1&gt;\n\n\n        &lt;form:form action=&quot;login&quot; method=&quot;POST&quot; modelAttribute=&quot;user1&quot; &gt;\n            User: &lt;form:input path=&quot;username&quot;/&gt;&lt;br&gt;\n            Pass: &lt;form:input path=&quot;password&quot;/&gt;&lt;br&gt;\n            &lt;form:checkboxes path=&quot;countries&quot; items=&quot;${countries}&quot; itemLabel=&quot;name&quot; itemValue=&quot;id&quot;/&gt;\n            &lt;input type=&quot;submit&quot; value=&quot;login&quot;&gt;\n        &lt;/form:form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>my problems i can't binding to list checkboxes string data above to ArrayList countries.\nI can simply binding object country alone using &lt;form:checkbox /&gt; but can't binding data arrayList. Please help me with this i'm very new with spring mvc</p>\n"},{"tags":["java","json","gson","json-deserialization"],"comments":[{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":0,"creation_date":1680663358,"post_id":75934542,"comment_id":133934773,"body_markdown":"why don&#39;t you just put it in the code? `if (book.getDescription()==null) book.setDescription(book.getTitle())`","body":"why don&#39;t you just put it in the code? <code>if (book.getDescription()==null) book.setDescription(book.getTitle())</code>"}],"answers":[{"tags":[],"owner":{"account_id":14544626,"reputation":129,"user_id":10505187,"display_name":"fixcer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680663229,"creation_date":1680663229,"answer_id":75935292,"question_id":75934542,"body_markdown":"Based on your description, I reproduced it without using abstraction in class. You can make changes if you want. Alternatively, you can use Lombok to make the code more concise if you want. The online version is found [here][1]\r\n\r\n```\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.GsonBuilder;\r\nimport com.google.gson.JsonDeserializationContext;\r\nimport com.google.gson.JsonDeserializer;\r\nimport com.google.gson.JsonElement;\r\nimport com.google.gson.JsonObject;\r\n\r\nimport java.lang.reflect.Type;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n\r\n    public static void main(final String[] args) {\r\n        final String json = &quot;[\\n&quot; +\r\n            &quot;  {\\n&quot; +\r\n            &quot;    \\&quot;name\\&quot;: \\&quot;favorite list\\&quot;,\\n&quot; +\r\n            &quot;    \\&quot;books\\&quot;: [\\n&quot; +\r\n            &quot;      {\\n&quot; +\r\n            &quot;        \\&quot;title\\&quot;: \\&quot;bookTitle1\\&quot;,\\n&quot; +\r\n            &quot;        \\&quot;description\\&quot;: \\&quot;book description\\&quot;\\n&quot; +\r\n            &quot;      },\\n&quot; +\r\n            &quot;      {\\n&quot; +\r\n            &quot;        \\&quot;title\\&quot;: \\&quot;bookTitle2\\&quot;\\n&quot; +\r\n            &quot;      }\\n&quot; +\r\n            &quot;    ]\\n&quot; +\r\n            &quot;  }\\n&quot; +\r\n            &quot;]&quot;;\r\n\r\n        Gson gson = new GsonBuilder()\r\n            .registerTypeAdapter(Book.class, new BookDeserializer())\r\n            .create();\r\n        BookList[] bookLists = gson.fromJson(json, BookList[].class);\r\n        System.out.println(Arrays.toString(bookLists));\r\n\r\n    }\r\n\r\n    public static class BookList {\r\n        private String name;\r\n        private List&lt;Book&gt; books;\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public List&lt;Book&gt; getBooks() {\r\n            return books;\r\n        }\r\n\r\n        public void setBooks(List&lt;Book&gt; books) {\r\n            this.books = books;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;BookList{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, books=&quot; + books +\r\n                &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n    public static class Book {\r\n      private String title;\r\n      private String description;\r\n\r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n\r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n\r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n\r\n        public void setDescription(String description) {\r\n            this.description = description;\r\n        }\r\n\r\n        public Book(String title, String description) {\r\n            this.title = title;\r\n            this.description = description;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Book{&quot; +\r\n                &quot;title=&#39;&quot; + title + &#39;\\&#39;&#39; +\r\n                &quot;, description=&#39;&quot; + description + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n    public static class BookDeserializer implements JsonDeserializer&lt;Book&gt; {\r\n\r\n        @Override\r\n        public Book deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) {\r\n            JsonObject obj = json.getAsJsonObject();\r\n            String title = obj.get(&quot;title&quot;).getAsString();\r\n            JsonElement descriptionElem = obj.get(&quot;description&quot;);\r\n            String description = descriptionElem != null ? descriptionElem.getAsString() : title;\r\n            return new Book(title, description);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://onecompiler.com/java/3z4qmbxz6","title":"SerializedName vs. Custom GSON Deserializer for nested POJO","body":"<p>Based on your description, I reproduced it without using abstraction in class. You can make changes if you want. Alternatively, you can use Lombok to make the code more concise if you want. The online version is found <a href=\"https://onecompiler.com/java/3z4qmbxz6\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\nimport com.google.gson.JsonDeserializationContext;\nimport com.google.gson.JsonDeserializer;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\n\nimport java.lang.reflect.Type;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Main {\n\n    public static void main(final String[] args) {\n        final String json = &quot;[\\n&quot; +\n            &quot;  {\\n&quot; +\n            &quot;    \\&quot;name\\&quot;: \\&quot;favorite list\\&quot;,\\n&quot; +\n            &quot;    \\&quot;books\\&quot;: [\\n&quot; +\n            &quot;      {\\n&quot; +\n            &quot;        \\&quot;title\\&quot;: \\&quot;bookTitle1\\&quot;,\\n&quot; +\n            &quot;        \\&quot;description\\&quot;: \\&quot;book description\\&quot;\\n&quot; +\n            &quot;      },\\n&quot; +\n            &quot;      {\\n&quot; +\n            &quot;        \\&quot;title\\&quot;: \\&quot;bookTitle2\\&quot;\\n&quot; +\n            &quot;      }\\n&quot; +\n            &quot;    ]\\n&quot; +\n            &quot;  }\\n&quot; +\n            &quot;]&quot;;\n\n        Gson gson = new GsonBuilder()\n            .registerTypeAdapter(Book.class, new BookDeserializer())\n            .create();\n        BookList[] bookLists = gson.fromJson(json, BookList[].class);\n        System.out.println(Arrays.toString(bookLists));\n\n    }\n\n    public static class BookList {\n        private String name;\n        private List&lt;Book&gt; books;\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public List&lt;Book&gt; getBooks() {\n            return books;\n        }\n\n        public void setBooks(List&lt;Book&gt; books) {\n            this.books = books;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;BookList{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, books=&quot; + books +\n                '}';\n        }\n    }\n\n    public static class Book {\n      private String title;\n      private String description;\n\n        public String getTitle() {\n            return title;\n        }\n\n        public void setTitle(String title) {\n            this.title = title;\n        }\n\n        public String getDescription() {\n            return description;\n        }\n\n        public void setDescription(String description) {\n            this.description = description;\n        }\n\n        public Book(String title, String description) {\n            this.title = title;\n            this.description = description;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Book{&quot; +\n                &quot;title='&quot; + title + '\\'' +\n                &quot;, description='&quot; + description + '\\'' +\n                '}';\n        }\n    }\n\n    public static class BookDeserializer implements JsonDeserializer&lt;Book&gt; {\n\n        @Override\n        public Book deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) {\n            JsonObject obj = json.getAsJsonObject();\n            String title = obj.get(&quot;title&quot;).getAsString();\n            JsonElement descriptionElem = obj.get(&quot;description&quot;);\n            String description = descriptionElem != null ? descriptionElem.getAsString() : title;\n            return new Book(title, description);\n        }\n\n    }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":5657237,"reputation":2627,"user_id":4475995,"accept_rate":45,"display_name":"PBandJ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680663229,"creation_date":1680650290,"question_id":75934542,"body_markdown":"I have a json string that I want to parse to a java object.\r\n\r\nJson String:\r\n```\r\n&quot;[{\\&quot;name\\&quot;: \\&quot;favorite list\\&quot;, \\&quot;books\\&quot;: [\r\n    {\\&quot;title\\&quot;: \\&quot;bookTitle1\\&quot;, \\&quot;description\\&quot;: \\&quot;book description\\&quot;}, \r\n    {\\&quot;title\\&quot;: \\&quot;bookTitle2\\&quot;}\r\n]}]&quot;\r\n```\r\n\r\nJava Classes:\r\n```\r\npublic abstract class BookList {\r\n  public abstract String name;\r\n  public abstract List&lt;Book&gt; books;\r\n}\r\n\r\npublic abstract class Book {\r\n  public abstract String title;\r\n  public abstract String description;\r\n}\r\n```\r\n\r\nWhen deserializing the JSON string to java object, I want each of `book` object to have both `title` and `description` fields. If the `description` value is missing from the JSON string, I want the `title` value to be set to the `description` field too.\r\n\r\nDesired Java Output:\r\n```\r\n[{name: &quot;favorite list&quot;, books:[\r\n   {&quot;title&quot;: &quot;bookTitle1&quot;, &quot;description&quot;: &quot;book description&quot;},\r\n   {&quot;title&quot;: &quot;bookTitle2&quot;, &quot;description&quot;: &quot;bookTitle2&quot;}\r\n]}]\r\n```\r\n\r\nI tried to use `@SerializedName` annotation to get `description` field populated with `title` field when `description` field is missing, but it didn&#39;t work. Is the only way to solve for this be to create a custom deserializer for `BookList`? What is the best way to create the deserializer for the nested `Book` object?","title":"SerializedName vs. Custom GSON Deserializer for nested POJO","body":"<p>I have a json string that I want to parse to a java object.</p>\n<p>Json String:</p>\n<pre><code>&quot;[{\\&quot;name\\&quot;: \\&quot;favorite list\\&quot;, \\&quot;books\\&quot;: [\n    {\\&quot;title\\&quot;: \\&quot;bookTitle1\\&quot;, \\&quot;description\\&quot;: \\&quot;book description\\&quot;}, \n    {\\&quot;title\\&quot;: \\&quot;bookTitle2\\&quot;}\n]}]&quot;\n</code></pre>\n<p>Java Classes:</p>\n<pre><code>public abstract class BookList {\n  public abstract String name;\n  public abstract List&lt;Book&gt; books;\n}\n\npublic abstract class Book {\n  public abstract String title;\n  public abstract String description;\n}\n</code></pre>\n<p>When deserializing the JSON string to java object, I want each of <code>book</code> object to have both <code>title</code> and <code>description</code> fields. If the <code>description</code> value is missing from the JSON string, I want the <code>title</code> value to be set to the <code>description</code> field too.</p>\n<p>Desired Java Output:</p>\n<pre><code>[{name: &quot;favorite list&quot;, books:[\n   {&quot;title&quot;: &quot;bookTitle1&quot;, &quot;description&quot;: &quot;book description&quot;},\n   {&quot;title&quot;: &quot;bookTitle2&quot;, &quot;description&quot;: &quot;bookTitle2&quot;}\n]}]\n</code></pre>\n<p>I tried to use <code>@SerializedName</code> annotation to get <code>description</code> field populated with <code>title</code> field when <code>description</code> field is missing, but it didn't work. Is the only way to solve for this be to create a custom deserializer for <code>BookList</code>? What is the best way to create the deserializer for the nested <code>Book</code> object?</p>\n"},{"tags":["java","memory-leaks","libgdx"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1680804734,"post_id":75935243,"comment_id":133963618,"body_markdown":"Use [AssetManager](https://libgdx.com/wiki/managing-your-assets) to handle all this. It is very powerful and pretty much a must-use feature. When you use AssetManager, you call `assetManager.unload()` instead of `dispose()` and it safely  disposes it as long as it isn&#39;t currently used by a loaded dependent asset. For example, if you unload a Texture that is also part of a TextureAtlas, then it doesn&#39;t dispose it yet.","body":"Use <a href=\"https://libgdx.com/wiki/managing-your-assets\" rel=\"nofollow noreferrer\">AssetManager</a> to handle all this. It is very powerful and pretty much a must-use feature. When you use AssetManager, you call <code>assetManager.unload()</code> instead of <code>dispose()</code> and it safely  disposes it as long as it isn&#39;t currently used by a loaded dependent asset. For example, if you unload a Texture that is also part of a TextureAtlas, then it doesn&#39;t dispose it yet."}],"owner":{"account_id":18341423,"reputation":63,"user_id":13357589,"display_name":"EpicOweo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680662412,"creation_date":1680662412,"question_id":75935243,"body_markdown":"I&#39;m working on a level editor for my game I&#39;m developing with LibGDX and I&#39;m coming across some memory leak issues. I presume it&#39;s because I wasn&#39;t properly disposing of my `Texture`s, but after fiddling around with it a little I&#39;m getting Java Runtime errors After some research I&#39;m recognizing them as being because of duplicate `dispose()` calls but I can&#39;t seem to determine where the duplicates are happening.\r\n\r\nWhenever I draw the game tiles to my screen, it progressively consumes more and more hundreds of megabytes of RAM over time somewhat proportionally to the amount of tiles I have placed. I&#39;m probably just blind or something but I would like this to be fixed relatively soon (the game is for my senior project) and I&#39;m struggling to figure it out, so any help would be greatly appreciated! Thanks!\r\n\r\nEditorScreen.java\r\n```\r\npackage com.epicoweo.platformereditor.screens;\r\n\r\nimport java.io.File;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\n\r\nimport org.json.simple.JSONArray;\r\nimport org.json.simple.JSONObject;\r\n\r\nimport com.badlogic.gdx.Gdx;\r\nimport com.badlogic.gdx.Input;\r\nimport com.badlogic.gdx.InputMultiplexer;\r\nimport com.badlogic.gdx.Screen;\r\nimport com.badlogic.gdx.files.FileHandle;\r\nimport com.badlogic.gdx.graphics.Color;\r\nimport com.badlogic.gdx.graphics.OrthographicCamera;\r\nimport com.badlogic.gdx.graphics.Pixmap;\r\nimport com.badlogic.gdx.graphics.Pixmap.Format;\r\nimport com.badlogic.gdx.graphics.PixmapIO;\r\nimport com.badlogic.gdx.graphics.Texture;\r\nimport com.badlogic.gdx.graphics.g2d.SpriteBatch;\r\nimport com.badlogic.gdx.graphics.g2d.TextureRegion;\r\nimport com.badlogic.gdx.graphics.glutils.ShapeRenderer;\r\nimport com.badlogic.gdx.graphics.glutils.ShapeRenderer.ShapeType;\r\nimport com.badlogic.gdx.math.Rectangle;\r\nimport com.badlogic.gdx.math.Vector2;\r\nimport com.badlogic.gdx.math.Vector3;\r\nimport com.badlogic.gdx.scenes.scene2d.Stage;\r\nimport com.badlogic.gdx.utils.Array;\r\nimport com.badlogic.gdx.utils.ScreenUtils;\r\nimport com.epicoweo.platformereditor.PlatformerEditor;\r\nimport com.epicoweo.platformereditor.etc.Drawable;\r\nimport com.epicoweo.platformereditor.etc.Refs;\r\nimport com.epicoweo.platformereditor.tile.Tile;\r\nimport com.epicoweo.platformereditor.tile.Tile.TileTexture;\r\nimport com.epicoweo.platformereditor.tile.Tile.TileType;\r\nimport com.epicoweo.platformereditor.ui.ButtonFunctions;\r\nimport com.epicoweo.platformereditor.ui.MenuTab;\r\nimport com.epicoweo.platformereditor.ui.SideBar;\r\nimport com.epicoweo.platformereditor.ui.TileChooser;\r\n\r\npublic class EditorScreen implements Screen {\r\n\r\n\tpublic static OrthographicCamera camera;\r\n\tVector3 ogCamera = new Vector3();\r\n\tfinal PlatformerEditor game;\r\n\t\r\n\tArray&lt;SideBar&gt; editorSideBars;\r\n\tTileChooser tc;\r\n\tpublic static int editorWidth = 800;\r\n\tpublic static int editorHeight = 720;\r\n\tpublic static float editorX = (Refs.APP_WIDTH - editorWidth) / 2f;\r\n\tpublic static float editorY = 0;\r\n\t\r\n\tpublic static int mapWidth = 25;\r\n\tpublic static int mapHeight = 25;\r\n\t\r\n\tpublic static float gridSquareSize = (editorWidth) / (mapWidth+1);\r\n\t\r\n\tpublic static Array&lt;Array&lt;Tile&gt;&gt; tileGrid;\r\n\tpublic static Array&lt;Array&lt;Tile&gt;&gt; entityGrid;\r\n\tpublic static Array&lt;Array&lt;Tile&gt;&gt; etcGrid;\r\n\t\r\n\tpublic static Array&lt;Array&lt;Tile&gt;&gt; currentGrid;\r\n\t\r\n\tpublic static Array&lt;Rectangle&gt; mapSections = new Array&lt;Rectangle&gt;();\r\n\t\r\n\tpublic static float currentRotation = 0;\r\n\t\r\n\tpublic static Stage stage = new Stage();\r\n\t\r\n\tpublic static Array&lt;Texture&gt; allTextures = new Array&lt;Texture&gt;();\r\n\tpublic static Array&lt;Drawable&gt; drawables = new Array&lt;Drawable&gt;();\r\n\t\r\n\t\r\n\tboolean dragging = false;\r\n\tboolean creatingTiles = true;\r\n\tArray&lt;int[]&gt; draggedTiles;\r\n\t\r\n\tpublic EditorScreen(final PlatformerEditor game) {\r\n\t\tthis.game = game;\r\n\t\tRefs.game = game;\r\n\t\t\r\n\t\tthis.editorSideBars = new Array&lt;SideBar&gt;();\r\n\t\t\r\n\t\ttileGrid = new Array&lt;Array&lt;Tile&gt;&gt;();\r\n\t\tentityGrid = new Array&lt;Array&lt;Tile&gt;&gt;();\r\n\t\tetcGrid = new Array&lt;Array&lt;Tile&gt;&gt;();\r\n\t\t\r\n\t\tdraggedTiles = new Array&lt;int[]&gt;();\r\n\t\t\r\n\t\tcurrentGrid = tileGrid;\r\n\t\t\r\n\t\t//make empty grid\r\n\t\tfor(int i = 0; i &lt; mapHeight; i++) {\r\n\t\t\ttileGrid.add(new Array&lt;Tile&gt;());\r\n\t\t\tentityGrid.add(new Array&lt;Tile&gt;());\r\n\t\t\tetcGrid.add(new Array&lt;Tile&gt;());\r\n\t\t\tfor(int j = 0; j &lt; mapWidth; j++) {\r\n\t\t\t\ttileGrid.get(i).add(new Tile(0, 0, EditorScreen.gridSquareSize, EditorScreen.gridSquareSize, TileTexture.EMPTY));\r\n\t\t\t\tentityGrid.get(i).add(new Tile(0, 0, EditorScreen.gridSquareSize, EditorScreen.gridSquareSize, TileTexture.EMPTY));\r\n\t\t\t\tetcGrid.get(i).add(new Tile(0, 0, EditorScreen.gridSquareSize, EditorScreen.gridSquareSize, TileTexture.EMPTY));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tsetupCamera();\r\n\t\tsetupSideBars();\r\n\t\t\r\n\t\tGdx.input.setInputProcessor(stage);\r\n\t}\r\n\t\r\n\tvoid setCurrentGrid() {\r\n\t\tTileTexture tt = tc.selectedTile.tt;\r\n\t\t\r\n\t\tswitch(tt.type) {\r\n\t\tcase &quot;tile&quot;:\r\n\t\t\tcurrentGrid = tileGrid;\r\n\t\t\tbreak;\r\n\t\tcase &quot;etc&quot;:\r\n\t\t\tcurrentGrid = etcGrid;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tvoid setupSideBars() {\r\n\t\ttc = new TileChooser(0, 0, editorX, Refs.APP_HEIGHT-editorY);\r\n\t\teditorSideBars.add(tc);\r\n\t\teditorSideBars.add(new MenuTab(editorX + editorWidth, editorY, Refs.APP_WIDTH-editorX, Refs.APP_HEIGHT-editorY));\r\n\t}\r\n\t\r\n\tvoid setupCamera() {\r\n\t\tcamera = new OrthographicCamera();\r\n\t\tcamera.setToOrtho(false, Refs.APP_WIDTH, Refs.APP_HEIGHT);\r\n\t\tcamera.position.set(camera.viewportWidth / 2f, camera.viewportHeight / 2f, 0);\r\n\t\tcamera.update();\r\n\t\togCamera = new Vector3(camera.position.x, camera.position.y, 0);\r\n\t}\r\n\t\r\n\tpublic static void rotate() {\r\n\t\tEditorScreen.currentRotation += 90;\r\n\t\tEditorScreen.currentRotation = Math.floorMod((int)EditorScreen.currentRotation, 360);\r\n\t}\r\n\t\r\n\tpublic static void saveLevel() throws IOException {\r\n\t\tString folder = createMapFolder();\r\n\t\tsaveAsPng(folder);\r\n\t\tsaveSections(folder);\r\n\t}\r\n\t\r\n\tpublic static String createMapFolder() throws IOException {\r\n\t\tString folderName = &quot;../output/map&quot;;\r\n\t\tint num = 0;\r\n\t\twhile(new File(folderName + num).exists()) {\r\n\t\t\tnum++;\r\n\t\t}\r\n\t\tFile newFile = new File(folderName + num);\r\n\t\tnewFile.mkdir();\r\n\t\treturn folderName + num;\r\n\t}\r\n\t\r\n\tpublic static void saveAsPng(String folder) { //save the map as a png\r\n\t\tPixmap mainPix = new Pixmap(mapWidth, mapHeight, Format.RGBA8888);\r\n\t\tfor(int i = 0; i &lt; tileGrid.size; i++) {\r\n\t\t\tfor(int j = 0; j &lt; tileGrid.get(i).size; j++) {\r\n\t\t\t\t//red channel: tiles; green: entities; blue: etc\r\n\t\t\t\tmainPix.setColor(new Color(tileGrid.get(i).get(j).tt.textureId/255f,\r\n\t\t\t\t\t\tentityGrid.get(i).get(j).tt.textureId/255f,\r\n\t\t\t\t\t\tetcGrid.get(i).get(j).tt.textureId/255f, 1));\r\n\t\t\t\tmainPix.drawPixel(j, i); //x, y\r\n\t\t\t}\r\n\t\t}\r\n\t\tPixmapIO.writePNG(new FileHandle(folder + &quot;/mainpix.png&quot;), mainPix);\t\r\n\t\tmainPix.dispose();\r\n\t}\r\n\t\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic static void saveSections(String folder) throws IOException {\r\n\t\tString savePath = folder + &quot;/mapsections.json&quot;;\r\n\t\tFileWriter fw = new FileWriter(savePath);\r\n\t\t\r\n\t\tJSONArray jsonMapSections = new JSONArray();\r\n\t\tfor(Rectangle section : mapSections) {\r\n\t\t\tJSONObject jsonSection = new JSONObject();\r\n\t\t\tJSONArray fromCoords = new JSONArray();\r\n\t\t\tJSONArray toCoords = new JSONArray();\r\n\t\t\tSystem.out.println(section);\r\n\t\t\tfromCoords.add(section.x);\r\n\t\t\tfromCoords.add(section.y);\r\n\t\t\ttoCoords.add(section.x + section.width);\r\n\t\t\ttoCoords.add(section.y + section.height);\r\n\t\t\t\r\n\t\t\tjsonSection.put(&quot;fromCoords&quot;, fromCoords);\r\n\t\t\tjsonSection.put(&quot;toCoords&quot;, toCoords);\r\n\t\t\tjsonMapSections.add(jsonSection);\r\n\t\t}\r\n\t\t\r\n\t\tfw.write(jsonMapSections.toJSONString());\r\n\t\tfw.close();\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void show() {\r\n\t\t\r\n\t}\r\n\r\n\tpublic void replaceGridSquare(int x, int y) {\r\n\t\tif(!currentGrid.get(y).get(x).isEmpty) {\r\n\t\t\tcurrentGrid.get(y).set(x, new Tile(0, 0, 16, 16, TileTexture.EMPTY));\r\n\t\t} else {\r\n\t\t\tcurrentGrid.get(y).set(x, tc.selectedTile.duplicate());\r\n\t\t\tcurrentGrid.get(y).get(x).rotation = currentRotation;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void renderMapEditor() {\r\n\t\t\r\n\t\tShapeRenderer r = new ShapeRenderer();\r\n\t\t\r\n\t\t//make background\r\n\t\tr.begin(ShapeType.Filled);\r\n\t\tr.setColor(0.2f, 0.2f, 0.2f, 1);\r\n\t\tr.rect(editorX, editorY, editorWidth, editorHeight);\r\n\t\tr.end();\r\n\t\t//render grid\r\n\t\tr.setProjectionMatrix(camera.combined);\r\n\t\tr.begin(ShapeType.Line);\r\n\t\tr.setColor(0f, 0f, 0f, 1);\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; mapWidth; i++) {\r\n\t\t\tfor(int j = 0; j &lt; mapHeight; j++) {\r\n\t\t\t\tr.rect(editorX + (i)*gridSquareSize, editorY + (j)*gridSquareSize, gridSquareSize, gridSquareSize);\r\n\t\t\t}\r\n\t\t}\r\n\t\tr.end();\r\n\t\t\r\n\t\tVector3 mousePosition = new Vector3(Gdx.input.getX(), Gdx.input.getY(), 0);\r\n\t\tcamera.unproject(mousePosition);\r\n\t\t\r\n\t\t\r\n\t\t//allow user to insert tiles\r\n\t\tif(!ButtonFunctions.mapSectionFlag) {\r\n\t\t\tfor(int i = 0; i &lt; mapWidth; i++) {\r\n\t\t\t\tfor(int j = 0; j &lt; mapHeight; j++) {\t\t\r\n\t\t\t\t\tVector3 rectVector = new Vector3(editorX +(i)*gridSquareSize, editorY + (j)*gridSquareSize, 0);\r\n\t\t\t\t\t\r\n\t\t\t\t\tint[] coords = {i, j};\r\n\t\t\t\t\tif(new Rectangle(rectVector.x, rectVector.y, gridSquareSize, gridSquareSize)\r\n\t\t\t\t\t\t\t.contains(mousePosition.x, mousePosition.y)) {\r\n\t\t\t\t\t\tif(Gdx.input.isButtonJustPressed(Input.Buttons.LEFT)) {\r\n\t\t\t\t\t\t\tdragging = true;\r\n\t\t\t\t\t\t\tdraggedTiles.add(coords);\r\n\t\t\t\t\t\t\tcreatingTiles = currentGrid.get(j).get(i).isEmpty;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treplaceGridSquare(i, j);\r\n\t\t\t\t\t\t} else if(Gdx.input.isButtonPressed(Input.Buttons.LEFT)) {\r\n\t\t\t\t\t\t\tif(dragging &amp;&amp; !draggedTiles.contains(coords, true)) {\r\n\t\t\t\t\t\t\t\tif(creatingTiles &amp;&amp; currentGrid.get(j).get(i).isEmpty) {\r\n\t\t\t\t\t\t\t\t\treplaceGridSquare(i, j);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(!creatingTiles &amp;&amp; !currentGrid.get(j).get(i).isEmpty) {\r\n\t\t\t\t\t\t\t\t\treplaceGridSquare(i, j);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tdragging = false;\r\n\t\t\t\t\t\t\tdraggedTiles.clear();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t//render squares \r\n\t\tSpriteBatch b = new SpriteBatch();\r\n\t\tb.setProjectionMatrix(camera.combined);\r\n\t\tb.begin();\r\n\t\tfor(int i = 0; i &lt; mapHeight; i++) {\r\n\t\t\tfor(int j = 0; j &lt; mapWidth; j++) {\r\n\t\t\t\tdrawTilesAt(b, i, j);\r\n\t\t\t}\r\n\t\t}\r\n\t\tb.end();\r\n\t\t\r\n\t\t//render side bars\r\n\t\tfor(SideBar sb : this.editorSideBars) {\r\n\t\t\tsb.render();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void drawScaledRegion(SpriteBatch b, TextureRegion t, int i, int j) {\r\n\t\tb.draw(t, editorX + (j)*gridSquareSize, editorY + (i)*gridSquareSize,\r\n\t\t\t\tt.getRegionWidth()/2, t.getRegionHeight()/2,\r\n\t\t\t\tt.getRegionWidth(), t.getRegionHeight(),\r\n\t\t\t\t1f, 1f, tileGrid.get(i).get(j).rotation);\r\n\t}\r\n\t\r\n\tpublic static void drawTilesAt(SpriteBatch b, int i, int j) {\r\n\t\tArray&lt;Array&lt;Array&lt;Tile&gt;&gt;&gt; grids = new Array&lt;Array&lt;Array&lt;Tile&gt;&gt;&gt;();\r\n\t\tgrids.add(tileGrid, entityGrid, etcGrid);\r\n\t\tint k = 0;\r\n\t\tfor(Array&lt;Array&lt;Tile&gt;&gt; grid : grids) {\r\n\t\t\tif(grid.get(i).get(j).isEmpty) continue;\r\n\t\t\tTexture texture = Refs.scaleTexture(grid.get(i).get(j).texture,\r\n\t\t\t\t\t(int)grid.get(i).get(j).width, (int)grid.get(i).get(j).height);\r\n\t\t\t\r\n\t\t\tTextureRegion drawTexture = new TextureRegion(texture);\r\n\t\t\t\r\n\t\t\tif(k == 0) {\r\n\t\t\t\tif(grid.get(i).get(j).type == TileType.PLATFORM) {\r\n\t\t\t\t\tb.draw(drawTexture, editorX + (j)*gridSquareSize, editorY + (int)((i+0.75f)*gridSquareSize),\r\n\t\t\t\t\t\tdrawTexture.getRegionWidth()/2, drawTexture.getRegionHeight()/2,\r\n\t\t\t\t\t\tdrawTexture.getRegionWidth(), drawTexture.getRegionHeight(),\r\n\t\t\t\t\t\t1f, 1f, tileGrid.get(i).get(j).rotation);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdrawScaledRegion(b, drawTexture, i, j);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tdrawScaledRegion(b, drawTexture, i, j);\r\n\t\t\t}\r\n\t\t\tallTextures.add(texture);\r\n\t\t\tk++; \r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void updateMapSize() {\r\n\t\t\r\n\t\tint oldWidth = tileGrid.get(0).size;\r\n\t\tint oldHeight = tileGrid.size;\r\n\t\t//update grid\r\n\t\tboolean flag = false;\r\n\t\tint oldOldHeight = oldHeight;\r\n\t\twhile(oldHeight &lt; mapHeight) {\r\n\t\t\ttileGrid.add(new Array&lt;Tile&gt;());\r\n\t\t\tentityGrid.add(new Array&lt;Tile&gt;());\r\n\t\t\tetcGrid.add(new Array&lt;Tile&gt;());\r\n\t\t\t\r\n\t\t\toldHeight++;\r\n\t\t\tflag=true;\r\n\t\t}\r\n\t\tif(flag) {\r\n\t\t\tfor(int i = oldOldHeight; i &lt; mapHeight; i++) {\r\n\t\t\t\tfor(int j = 0; j &lt; mapWidth; j++) {\r\n\t\t\t\t\ttileGrid.get(i).add(new Tile(0, 0, EditorScreen.gridSquareSize, EditorScreen.gridSquareSize, TileTexture.EMPTY));\r\n\t\t\t\t\tentityGrid.get(i).add(new Tile(0, 0, EditorScreen.gridSquareSize, EditorScreen.gridSquareSize, TileTexture.EMPTY));\r\n\t\t\t\t\tetcGrid.get(i).add(new Tile(0, 0, EditorScreen.gridSquareSize, EditorScreen.gridSquareSize, TileTexture.EMPTY));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\twhile(oldHeight &gt; mapHeight) {\r\n\t\t\ttileGrid.pop();\r\n\t\t\tentityGrid.pop();\r\n\t\t\tetcGrid.pop();\r\n\t\t\toldHeight--;\r\n\t\t}\r\n\t\t\r\n\t\twhile(oldWidth &lt; mapWidth) {\r\n\t\t\tfor(int i = 0; i &lt; mapHeight; i++) {\r\n\t\t\t\ttileGrid.get(i).add(new Tile(0, 0, EditorScreen.gridSquareSize, EditorScreen.gridSquareSize, TileTexture.EMPTY));\r\n\t\t\t\tentityGrid.get(i).add(new Tile(0, 0, EditorScreen.gridSquareSize, EditorScreen.gridSquareSize, TileTexture.EMPTY));\r\n\t\t\t\tetcGrid.get(i).add(new Tile(0, 0, EditorScreen.gridSquareSize, EditorScreen.gridSquareSize, TileTexture.EMPTY));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\toldWidth++;\r\n\t\t}\r\n\t\twhile(oldWidth &gt; mapWidth) {\r\n\t\t\tfor(int i = 0; i &lt; mapHeight; i++) {\r\n\t\t\t\ttileGrid.get(i).pop();\r\n\t\t\t\tentityGrid.get(i).pop();\r\n\t\t\t\tetcGrid.get(i).pop();\r\n\t\t\t}\r\n\t\t\toldWidth--;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void render(float delta) {\r\n\t\tScreenUtils.clear(0.5f, 0.5f, 0.5f, 1);\r\n\t\tcamera.update();\r\n\t\trenderMapEditor();\r\n\t\tsetCurrentGrid();\r\n\t\t\r\n\t\tgetInput();\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; Refs.buttons.size; i++) {\r\n\t\t\tRefs.buttons.get(i).render();\r\n\t\t}\r\n\t\t\r\n\t\tShapeRenderer r = new ShapeRenderer();\r\n\t\tr.begin(ShapeType.Line);\r\n\t\tr.setProjectionMatrix(camera.combined);\r\n\t\tfor(Rectangle rect : mapSections) {\r\n\t\t\tr.setColor(Color.GREEN);\r\n\t\t\tr.rect(EditorScreen.editorX+rect.x*EditorScreen.gridSquareSize, EditorScreen.editorY+rect.y*EditorScreen.gridSquareSize,\r\n\t\t\t\t\trect.width*EditorScreen.gridSquareSize, rect.height*EditorScreen.gridSquareSize);\r\n\t\t}\r\n\t\tr.end();\r\n\t\tr.setColor(Color.BLACK);\r\n\t\tr.dispose();\r\n\t\t\r\n\t\tstage.draw();\r\n\t\tstage.act();\r\n\t}\r\n\t\r\n\tvoid getInput() {\r\n\t\tif (Gdx.input.isKeyPressed(Input.Keys.LEFT)) {\r\n            camera.translate(-5*camera.zoom, 0, 0);\r\n        }\r\n        if (Gdx.input.isKeyPressed(Input.Keys.RIGHT)) {\r\n            camera.translate(5*camera.zoom, 0, 0);\r\n        }\r\n        if (Gdx.input.isKeyPressed(Input.Keys.DOWN)) {\r\n            camera.translate(0, -5*camera.zoom, 0);\r\n        }\r\n        if (Gdx.input.isKeyPressed(Input.Keys.UP)) {\r\n            camera.translate(0, 5*camera.zoom, 0);\r\n        }\r\n        if (Gdx.input.isKeyPressed(Input.Keys.A)) {\r\n            camera.zoom += 0.02;\r\n        }\r\n        if (Gdx.input.isKeyPressed(Input.Keys.Q)) {\r\n            camera.zoom -= 0.02;\r\n        }\r\n        if (Gdx.input.isKeyPressed(Input.Keys.Z)) {\r\n            camera.zoom = 1;\r\n        }\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void resize(int width, int height) {\r\n\t\t\r\n\t\tif(width &gt; 0f &amp;&amp; height &gt; 0f) {\r\n\t\t\t\r\n\t\t\tfloat scale = (float)editorWidth/(float)Refs.APP_WIDTH;\r\n\t\t\teditorWidth = (int)(width*scale);\r\n\t\t\teditorHeight = height;\r\n\t\t\t\r\n\t\t\tRefs.APP_WIDTH = width;\r\n\t\t\tRefs.APP_HEIGHT = height;\r\n\t\t\t\r\n\t\t\teditorX = (Refs.APP_WIDTH - editorWidth) / 2f;\r\n\t\t\teditorY = 0;\r\n\t\t\tgridSquareSize = (int)((float)editorWidth) / ((float)mapWidth + 1);\r\n\t\t\r\n\t\t\tfor(SideBar sb : this.editorSideBars) {\r\n\t\t\t\t//sb.resize(width, height);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void pause() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void resume() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void hide() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void dispose() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tfor(Texture t : allTextures) {\r\n\t\t\tt.dispose();\r\n\t\t}\r\n\t\t\r\n\t\tfor(Drawable d : drawables) {\r\n\t\t\td.texture.dispose();\r\n\t\t}\r\n\t\t\r\n\t\tTileTexture.disposeAll();\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nTile.java\r\n```\r\npackage com.epicoweo.platformereditor.tile;\r\n\r\nimport com.badlogic.gdx.Gdx;\r\nimport com.badlogic.gdx.graphics.Pixmap;\r\nimport com.badlogic.gdx.graphics.Pixmap.Filter;\r\nimport com.badlogic.gdx.graphics.Pixmap.Format;\r\nimport com.badlogic.gdx.graphics.Texture;\r\nimport com.badlogic.gdx.graphics.Texture.TextureFilter;\r\nimport com.badlogic.gdx.utils.GdxRuntimeException;\r\nimport com.epicoweo.platformereditor.etc.Drawable;\r\nimport com.epicoweo.platformereditor.screens.EditorScreen;\r\n\r\npublic class Tile extends Drawable {\r\n\r\n\tpublic String texturePath;\r\n\tpublic boolean isEmpty = false;\r\n\tpublic float rotation = 0;\r\n\tpublic TileTexture tt;\r\n\tpublic TileType type;\r\n\tpublic float width = EditorScreen.gridSquareSize;\r\n\tpublic float height = EditorScreen.gridSquareSize;\r\n\t\r\n\tpublic enum TileTexture {\r\n\t\t//maplayout\r\n\t\tEMPTY(&quot;&quot;, 0, &quot;tile&quot;), STONE(&quot;./textures/tiles/stone.png&quot;, 1, &quot;tile&quot;), GRASS(&quot;./textures/tiles/grass.png&quot;, 2, &quot;tile&quot;),\r\n\t\tDIRT(&quot;./textures/tiles/dirt.png&quot;, 3, &quot;tile&quot;), GRAVITYSWAP(&quot;./textures/tiles/gravityswap.png&quot;, 4, &quot;tile&quot;),\r\n\t\tSPEEDBOOST(&quot;./textures/tiles/speedboost_0.png&quot;, 5, &quot;tile&quot;), PLATFORM0(&quot;./textures/tiles/platform_0.png&quot;, 6, &quot;tile&quot;), \r\n\t\tPLATFORM1(&quot;./textures/tiles/platform_1.png&quot;, 7, &quot;tile&quot;), PLATFORM2(&quot;./textures/tiles/platform_2.png&quot;, 8, &quot;tile&quot;),\r\n\t\t\r\n\t\t//mapetc\r\n\t\tPLAYER(&quot;./textures/player/player_left.png&quot;, 1, &quot;etc&quot;);\r\n\t\t\r\n\t\tString texturePath;\r\n\t\tpublic Texture texture;\r\n\t\tpublic int textureId;\r\n\t\tpublic String type;\r\n\t\t\r\n\t\tTileTexture(String texturePath, int textureId, String type) {\r\n\t\t\tthis.texturePath = texturePath;\r\n\t\t\tthis.textureId = textureId;\r\n\t\t\tthis.type = type;\r\n\t\t\ttry {\r\n\t\t\t\ttexture = new Texture(this.texturePath);\r\n\t\t\t} catch(GdxRuntimeException e) {\r\n\t\t\t\ttexture = new Texture(new Pixmap(16, 16, Format.Alpha));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void disposeAll() {\r\n\t\t\tfor(TileTexture t : TileTexture.values()) {\r\n\t\t\t\tt.texture.dispose();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic enum TileType {\r\n\t\t\r\n\t\tFULL(&quot;full&quot;), SLOPE_45(&quot;slope45&quot;), PLATFORM(&quot;platform&quot;);\r\n\t\t\r\n\t\tString s;\r\n\t\tTileType(String s) {\r\n\t\t\tthis.s = s;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn s;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic Tile(float x, float y, float width, float height, TileTexture texture, TileType type) {\r\n\t\tsuper(x, y, width, height);\r\n\t\t\r\n\t\ttexturePath = texture.texturePath;\r\n\t\t\r\n\t\tthis.type = type;\r\n\t\tthis.tt = texture;\r\n\t\t\r\n\t\t\r\n\t\tif(type == TileType.SLOPE_45) {\r\n\t\t\t//remove png and add _45.png\r\n\t\t\ttexturePath = texture.texturePath.substring(0, texture.texturePath.length() - 4) + &quot;_45.png&quot;;\r\n\t\t}\r\n\t\tif(texture != TileTexture.EMPTY) {\r\n\t\t\tif(type != TileType.PLATFORM) {\r\n\t\t\t\tPixmap pixmap16 = new Pixmap(Gdx.files.internal(texturePath));\r\n\t\t\t\tPixmap pixmap64 = new Pixmap(64, 64, pixmap16.getFormat());\r\n\t\t\t\t\r\n\t\t\t\tpixmap64.setFilter(Filter.NearestNeighbour);\r\n\t\t\t\tpixmap64.drawPixmap(pixmap16,\r\n\t\t\t\t\t\t0, 0, pixmap16.getWidth(), pixmap16.getHeight(),\r\n\t\t\t\t\t\t0, 0, pixmap64.getWidth(), pixmap64.getHeight()\r\n\t\t\t\t);\r\n\t\t\t\t\r\n\t\t\t\tTexture t64 = new Texture(pixmap64);\r\n\t\t\t\t\r\n\t\t\t\tif(this.texture != null) {\r\n\t\t\t\t\tthis.texture.dispose();\r\n\t\t\t\t}\r\n\t\t\t\tthis.texture = t64;\r\n\t\t\t\t\r\n\t\t\t\tpixmap16.dispose();\r\n\t\t\t\tpixmap64.dispose();\r\n\t\t\t} else {\r\n\t\t\t\tthis.height = EditorScreen.gridSquareSize / 4;\r\n\t\t\t\t\r\n\t\t\t\tPixmap pixmap16 = new Pixmap(Gdx.files.internal(texturePath));\r\n\t\t\t\tPixmap pixmap64 = new Pixmap(64, 16, pixmap16.getFormat());\r\n\t\t\t\t\r\n\t\t\t\tpixmap64.setFilter(Filter.NearestNeighbour);\r\n\t\t\t\tpixmap64.drawPixmap(pixmap16,\r\n\t\t\t\t\t\t0, 0, pixmap16.getWidth(), pixmap16.getHeight(),\r\n\t\t\t\t\t\t0, 0, pixmap64.getWidth(), pixmap64.getHeight()\r\n\t\t\t\t);\r\n\t\t\t\t\r\n\t\t\t\tTexture t64 = new Texture(pixmap64);\r\n\t\t\t\t\r\n\t\t\t\tif(this.texture != null) {\r\n\t\t\t\t\tthis.texture.dispose();\r\n\t\t\t\t}\r\n\t\t\t\tthis.texture = t64;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tpixmap16.dispose();\r\n\t\t\t\tpixmap64.dispose();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.texture = texture.texture;\r\n\t\t\tisEmpty = true;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic Tile(float x, float y, float width, float height, TileTexture texture) {\r\n\t\tthis(x, y, width, height, texture, TileType.FULL);\r\n\t\t\r\n\t}\r\n\tpublic Tile(float x, float y, float width, float height) {\r\n\t\tthis(x, y, width, height, TileTexture.STONE, TileType.FULL);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic Tile duplicate() {\r\n\t\tTile newTile = new Tile(x, y, width, height, tt, type);\r\n\t\treturn newTile;\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\n\r\n\r\nIf any extra info is needed please let me know!","title":"How can I find and fix memory leaks in LibGDX?","body":"<p>I'm working on a level editor for my game I'm developing with LibGDX and I'm coming across some memory leak issues. I presume it's because I wasn't properly disposing of my <code>Texture</code>s, but after fiddling around with it a little I'm getting Java Runtime errors After some research I'm recognizing them as being because of duplicate <code>dispose()</code> calls but I can't seem to determine where the duplicates are happening.</p>\n<p>Whenever I draw the game tiles to my screen, it progressively consumes more and more hundreds of megabytes of RAM over time somewhat proportionally to the amount of tiles I have placed. I'm probably just blind or something but I would like this to be fixed relatively soon (the game is for my senior project) and I'm struggling to figure it out, so any help would be greatly appreciated! Thanks!</p>\n<p>EditorScreen.java</p>\n<pre><code>package com.epicoweo.platformereditor.screens;\n\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\n\nimport org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\n\nimport com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.Input;\nimport com.badlogic.gdx.InputMultiplexer;\nimport com.badlogic.gdx.Screen;\nimport com.badlogic.gdx.files.FileHandle;\nimport com.badlogic.gdx.graphics.Color;\nimport com.badlogic.gdx.graphics.OrthographicCamera;\nimport com.badlogic.gdx.graphics.Pixmap;\nimport com.badlogic.gdx.graphics.Pixmap.Format;\nimport com.badlogic.gdx.graphics.PixmapIO;\nimport com.badlogic.gdx.graphics.Texture;\nimport com.badlogic.gdx.graphics.g2d.SpriteBatch;\nimport com.badlogic.gdx.graphics.g2d.TextureRegion;\nimport com.badlogic.gdx.graphics.glutils.ShapeRenderer;\nimport com.badlogic.gdx.graphics.glutils.ShapeRenderer.ShapeType;\nimport com.badlogic.gdx.math.Rectangle;\nimport com.badlogic.gdx.math.Vector2;\nimport com.badlogic.gdx.math.Vector3;\nimport com.badlogic.gdx.scenes.scene2d.Stage;\nimport com.badlogic.gdx.utils.Array;\nimport com.badlogic.gdx.utils.ScreenUtils;\nimport com.epicoweo.platformereditor.PlatformerEditor;\nimport com.epicoweo.platformereditor.etc.Drawable;\nimport com.epicoweo.platformereditor.etc.Refs;\nimport com.epicoweo.platformereditor.tile.Tile;\nimport com.epicoweo.platformereditor.tile.Tile.TileTexture;\nimport com.epicoweo.platformereditor.tile.Tile.TileType;\nimport com.epicoweo.platformereditor.ui.ButtonFunctions;\nimport com.epicoweo.platformereditor.ui.MenuTab;\nimport com.epicoweo.platformereditor.ui.SideBar;\nimport com.epicoweo.platformereditor.ui.TileChooser;\n\npublic class EditorScreen implements Screen {\n\n    public static OrthographicCamera camera;\n    Vector3 ogCamera = new Vector3();\n    final PlatformerEditor game;\n    \n    Array&lt;SideBar&gt; editorSideBars;\n    TileChooser tc;\n    public static int editorWidth = 800;\n    public static int editorHeight = 720;\n    public static float editorX = (Refs.APP_WIDTH - editorWidth) / 2f;\n    public static float editorY = 0;\n    \n    public static int mapWidth = 25;\n    public static int mapHeight = 25;\n    \n    public static float gridSquareSize = (editorWidth) / (mapWidth+1);\n    \n    public static Array&lt;Array&lt;Tile&gt;&gt; tileGrid;\n    public static Array&lt;Array&lt;Tile&gt;&gt; entityGrid;\n    public static Array&lt;Array&lt;Tile&gt;&gt; etcGrid;\n    \n    public static Array&lt;Array&lt;Tile&gt;&gt; currentGrid;\n    \n    public static Array&lt;Rectangle&gt; mapSections = new Array&lt;Rectangle&gt;();\n    \n    public static float currentRotation = 0;\n    \n    public static Stage stage = new Stage();\n    \n    public static Array&lt;Texture&gt; allTextures = new Array&lt;Texture&gt;();\n    public static Array&lt;Drawable&gt; drawables = new Array&lt;Drawable&gt;();\n    \n    \n    boolean dragging = false;\n    boolean creatingTiles = true;\n    Array&lt;int[]&gt; draggedTiles;\n    \n    public EditorScreen(final PlatformerEditor game) {\n        this.game = game;\n        Refs.game = game;\n        \n        this.editorSideBars = new Array&lt;SideBar&gt;();\n        \n        tileGrid = new Array&lt;Array&lt;Tile&gt;&gt;();\n        entityGrid = new Array&lt;Array&lt;Tile&gt;&gt;();\n        etcGrid = new Array&lt;Array&lt;Tile&gt;&gt;();\n        \n        draggedTiles = new Array&lt;int[]&gt;();\n        \n        currentGrid = tileGrid;\n        \n        //make empty grid\n        for(int i = 0; i &lt; mapHeight; i++) {\n            tileGrid.add(new Array&lt;Tile&gt;());\n            entityGrid.add(new Array&lt;Tile&gt;());\n            etcGrid.add(new Array&lt;Tile&gt;());\n            for(int j = 0; j &lt; mapWidth; j++) {\n                tileGrid.get(i).add(new Tile(0, 0, EditorScreen.gridSquareSize, EditorScreen.gridSquareSize, TileTexture.EMPTY));\n                entityGrid.get(i).add(new Tile(0, 0, EditorScreen.gridSquareSize, EditorScreen.gridSquareSize, TileTexture.EMPTY));\n                etcGrid.get(i).add(new Tile(0, 0, EditorScreen.gridSquareSize, EditorScreen.gridSquareSize, TileTexture.EMPTY));\n            }\n        }\n        \n        setupCamera();\n        setupSideBars();\n        \n        Gdx.input.setInputProcessor(stage);\n    }\n    \n    void setCurrentGrid() {\n        TileTexture tt = tc.selectedTile.tt;\n        \n        switch(tt.type) {\n        case &quot;tile&quot;:\n            currentGrid = tileGrid;\n            break;\n        case &quot;etc&quot;:\n            currentGrid = etcGrid;\n            break;\n        default:\n            break;\n        }\n        \n    }\n    \n    void setupSideBars() {\n        tc = new TileChooser(0, 0, editorX, Refs.APP_HEIGHT-editorY);\n        editorSideBars.add(tc);\n        editorSideBars.add(new MenuTab(editorX + editorWidth, editorY, Refs.APP_WIDTH-editorX, Refs.APP_HEIGHT-editorY));\n    }\n    \n    void setupCamera() {\n        camera = new OrthographicCamera();\n        camera.setToOrtho(false, Refs.APP_WIDTH, Refs.APP_HEIGHT);\n        camera.position.set(camera.viewportWidth / 2f, camera.viewportHeight / 2f, 0);\n        camera.update();\n        ogCamera = new Vector3(camera.position.x, camera.position.y, 0);\n    }\n    \n    public static void rotate() {\n        EditorScreen.currentRotation += 90;\n        EditorScreen.currentRotation = Math.floorMod((int)EditorScreen.currentRotation, 360);\n    }\n    \n    public static void saveLevel() throws IOException {\n        String folder = createMapFolder();\n        saveAsPng(folder);\n        saveSections(folder);\n    }\n    \n    public static String createMapFolder() throws IOException {\n        String folderName = &quot;../output/map&quot;;\n        int num = 0;\n        while(new File(folderName + num).exists()) {\n            num++;\n        }\n        File newFile = new File(folderName + num);\n        newFile.mkdir();\n        return folderName + num;\n    }\n    \n    public static void saveAsPng(String folder) { //save the map as a png\n        Pixmap mainPix = new Pixmap(mapWidth, mapHeight, Format.RGBA8888);\n        for(int i = 0; i &lt; tileGrid.size; i++) {\n            for(int j = 0; j &lt; tileGrid.get(i).size; j++) {\n                //red channel: tiles; green: entities; blue: etc\n                mainPix.setColor(new Color(tileGrid.get(i).get(j).tt.textureId/255f,\n                        entityGrid.get(i).get(j).tt.textureId/255f,\n                        etcGrid.get(i).get(j).tt.textureId/255f, 1));\n                mainPix.drawPixel(j, i); //x, y\n            }\n        }\n        PixmapIO.writePNG(new FileHandle(folder + &quot;/mainpix.png&quot;), mainPix);    \n        mainPix.dispose();\n    }\n    \n    @SuppressWarnings(&quot;unchecked&quot;)\n    public static void saveSections(String folder) throws IOException {\n        String savePath = folder + &quot;/mapsections.json&quot;;\n        FileWriter fw = new FileWriter(savePath);\n        \n        JSONArray jsonMapSections = new JSONArray();\n        for(Rectangle section : mapSections) {\n            JSONObject jsonSection = new JSONObject();\n            JSONArray fromCoords = new JSONArray();\n            JSONArray toCoords = new JSONArray();\n            System.out.println(section);\n            fromCoords.add(section.x);\n            fromCoords.add(section.y);\n            toCoords.add(section.x + section.width);\n            toCoords.add(section.y + section.height);\n            \n            jsonSection.put(&quot;fromCoords&quot;, fromCoords);\n            jsonSection.put(&quot;toCoords&quot;, toCoords);\n            jsonMapSections.add(jsonSection);\n        }\n        \n        fw.write(jsonMapSections.toJSONString());\n        fw.close();\n    }\n    \n    @Override\n    public void show() {\n        \n    }\n\n    public void replaceGridSquare(int x, int y) {\n        if(!currentGrid.get(y).get(x).isEmpty) {\n            currentGrid.get(y).set(x, new Tile(0, 0, 16, 16, TileTexture.EMPTY));\n        } else {\n            currentGrid.get(y).set(x, tc.selectedTile.duplicate());\n            currentGrid.get(y).get(x).rotation = currentRotation;\n        }\n    }\n    \n    public void renderMapEditor() {\n        \n        ShapeRenderer r = new ShapeRenderer();\n        \n        //make background\n        r.begin(ShapeType.Filled);\n        r.setColor(0.2f, 0.2f, 0.2f, 1);\n        r.rect(editorX, editorY, editorWidth, editorHeight);\n        r.end();\n        //render grid\n        r.setProjectionMatrix(camera.combined);\n        r.begin(ShapeType.Line);\n        r.setColor(0f, 0f, 0f, 1);\n        \n        for(int i = 0; i &lt; mapWidth; i++) {\n            for(int j = 0; j &lt; mapHeight; j++) {\n                r.rect(editorX + (i)*gridSquareSize, editorY + (j)*gridSquareSize, gridSquareSize, gridSquareSize);\n            }\n        }\n        r.end();\n        \n        Vector3 mousePosition = new Vector3(Gdx.input.getX(), Gdx.input.getY(), 0);\n        camera.unproject(mousePosition);\n        \n        \n        //allow user to insert tiles\n        if(!ButtonFunctions.mapSectionFlag) {\n            for(int i = 0; i &lt; mapWidth; i++) {\n                for(int j = 0; j &lt; mapHeight; j++) {        \n                    Vector3 rectVector = new Vector3(editorX +(i)*gridSquareSize, editorY + (j)*gridSquareSize, 0);\n                    \n                    int[] coords = {i, j};\n                    if(new Rectangle(rectVector.x, rectVector.y, gridSquareSize, gridSquareSize)\n                            .contains(mousePosition.x, mousePosition.y)) {\n                        if(Gdx.input.isButtonJustPressed(Input.Buttons.LEFT)) {\n                            dragging = true;\n                            draggedTiles.add(coords);\n                            creatingTiles = currentGrid.get(j).get(i).isEmpty;\n                            \n                            replaceGridSquare(i, j);\n                        } else if(Gdx.input.isButtonPressed(Input.Buttons.LEFT)) {\n                            if(dragging &amp;&amp; !draggedTiles.contains(coords, true)) {\n                                if(creatingTiles &amp;&amp; currentGrid.get(j).get(i).isEmpty) {\n                                    replaceGridSquare(i, j);\n                                }\n                                else if(!creatingTiles &amp;&amp; !currentGrid.get(j).get(i).isEmpty) {\n                                    replaceGridSquare(i, j);\n                                }\n                            }\n                        }\n                        else {\n                            dragging = false;\n                            draggedTiles.clear();\n                        }\n                    }\n                }\n            }\n        }\n        \n        \n        \n        \n        \n        //render squares \n        SpriteBatch b = new SpriteBatch();\n        b.setProjectionMatrix(camera.combined);\n        b.begin();\n        for(int i = 0; i &lt; mapHeight; i++) {\n            for(int j = 0; j &lt; mapWidth; j++) {\n                drawTilesAt(b, i, j);\n            }\n        }\n        b.end();\n        \n        //render side bars\n        for(SideBar sb : this.editorSideBars) {\n            sb.render();\n        }\n    }\n    \n    public static void drawScaledRegion(SpriteBatch b, TextureRegion t, int i, int j) {\n        b.draw(t, editorX + (j)*gridSquareSize, editorY + (i)*gridSquareSize,\n                t.getRegionWidth()/2, t.getRegionHeight()/2,\n                t.getRegionWidth(), t.getRegionHeight(),\n                1f, 1f, tileGrid.get(i).get(j).rotation);\n    }\n    \n    public static void drawTilesAt(SpriteBatch b, int i, int j) {\n        Array&lt;Array&lt;Array&lt;Tile&gt;&gt;&gt; grids = new Array&lt;Array&lt;Array&lt;Tile&gt;&gt;&gt;();\n        grids.add(tileGrid, entityGrid, etcGrid);\n        int k = 0;\n        for(Array&lt;Array&lt;Tile&gt;&gt; grid : grids) {\n            if(grid.get(i).get(j).isEmpty) continue;\n            Texture texture = Refs.scaleTexture(grid.get(i).get(j).texture,\n                    (int)grid.get(i).get(j).width, (int)grid.get(i).get(j).height);\n            \n            TextureRegion drawTexture = new TextureRegion(texture);\n            \n            if(k == 0) {\n                if(grid.get(i).get(j).type == TileType.PLATFORM) {\n                    b.draw(drawTexture, editorX + (j)*gridSquareSize, editorY + (int)((i+0.75f)*gridSquareSize),\n                        drawTexture.getRegionWidth()/2, drawTexture.getRegionHeight()/2,\n                        drawTexture.getRegionWidth(), drawTexture.getRegionHeight(),\n                        1f, 1f, tileGrid.get(i).get(j).rotation);\n                } else {\n                    drawScaledRegion(b, drawTexture, i, j);\n                }\n            } else {\n                drawScaledRegion(b, drawTexture, i, j);\n            }\n            allTextures.add(texture);\n            k++; \n        }\n    }\n    \n    public static void updateMapSize() {\n        \n        int oldWidth = tileGrid.get(0).size;\n        int oldHeight = tileGrid.size;\n        //update grid\n        boolean flag = false;\n        int oldOldHeight = oldHeight;\n        while(oldHeight &lt; mapHeight) {\n            tileGrid.add(new Array&lt;Tile&gt;());\n            entityGrid.add(new Array&lt;Tile&gt;());\n            etcGrid.add(new Array&lt;Tile&gt;());\n            \n            oldHeight++;\n            flag=true;\n        }\n        if(flag) {\n            for(int i = oldOldHeight; i &lt; mapHeight; i++) {\n                for(int j = 0; j &lt; mapWidth; j++) {\n                    tileGrid.get(i).add(new Tile(0, 0, EditorScreen.gridSquareSize, EditorScreen.gridSquareSize, TileTexture.EMPTY));\n                    entityGrid.get(i).add(new Tile(0, 0, EditorScreen.gridSquareSize, EditorScreen.gridSquareSize, TileTexture.EMPTY));\n                    etcGrid.get(i).add(new Tile(0, 0, EditorScreen.gridSquareSize, EditorScreen.gridSquareSize, TileTexture.EMPTY));\n                }\n            }\n        }\n        \n        while(oldHeight &gt; mapHeight) {\n            tileGrid.pop();\n            entityGrid.pop();\n            etcGrid.pop();\n            oldHeight--;\n        }\n        \n        while(oldWidth &lt; mapWidth) {\n            for(int i = 0; i &lt; mapHeight; i++) {\n                tileGrid.get(i).add(new Tile(0, 0, EditorScreen.gridSquareSize, EditorScreen.gridSquareSize, TileTexture.EMPTY));\n                entityGrid.get(i).add(new Tile(0, 0, EditorScreen.gridSquareSize, EditorScreen.gridSquareSize, TileTexture.EMPTY));\n                etcGrid.get(i).add(new Tile(0, 0, EditorScreen.gridSquareSize, EditorScreen.gridSquareSize, TileTexture.EMPTY));\n            }\n            \n            oldWidth++;\n        }\n        while(oldWidth &gt; mapWidth) {\n            for(int i = 0; i &lt; mapHeight; i++) {\n                tileGrid.get(i).pop();\n                entityGrid.get(i).pop();\n                etcGrid.get(i).pop();\n            }\n            oldWidth--;\n        }\n        \n    }\n    \n    @Override\n    public void render(float delta) {\n        ScreenUtils.clear(0.5f, 0.5f, 0.5f, 1);\n        camera.update();\n        renderMapEditor();\n        setCurrentGrid();\n        \n        getInput();\n        \n        for(int i = 0; i &lt; Refs.buttons.size; i++) {\n            Refs.buttons.get(i).render();\n        }\n        \n        ShapeRenderer r = new ShapeRenderer();\n        r.begin(ShapeType.Line);\n        r.setProjectionMatrix(camera.combined);\n        for(Rectangle rect : mapSections) {\n            r.setColor(Color.GREEN);\n            r.rect(EditorScreen.editorX+rect.x*EditorScreen.gridSquareSize, EditorScreen.editorY+rect.y*EditorScreen.gridSquareSize,\n                    rect.width*EditorScreen.gridSquareSize, rect.height*EditorScreen.gridSquareSize);\n        }\n        r.end();\n        r.setColor(Color.BLACK);\n        r.dispose();\n        \n        stage.draw();\n        stage.act();\n    }\n    \n    void getInput() {\n        if (Gdx.input.isKeyPressed(Input.Keys.LEFT)) {\n            camera.translate(-5*camera.zoom, 0, 0);\n        }\n        if (Gdx.input.isKeyPressed(Input.Keys.RIGHT)) {\n            camera.translate(5*camera.zoom, 0, 0);\n        }\n        if (Gdx.input.isKeyPressed(Input.Keys.DOWN)) {\n            camera.translate(0, -5*camera.zoom, 0);\n        }\n        if (Gdx.input.isKeyPressed(Input.Keys.UP)) {\n            camera.translate(0, 5*camera.zoom, 0);\n        }\n        if (Gdx.input.isKeyPressed(Input.Keys.A)) {\n            camera.zoom += 0.02;\n        }\n        if (Gdx.input.isKeyPressed(Input.Keys.Q)) {\n            camera.zoom -= 0.02;\n        }\n        if (Gdx.input.isKeyPressed(Input.Keys.Z)) {\n            camera.zoom = 1;\n        }\n    }\n\n    @Override\n    public void resize(int width, int height) {\n        \n        if(width &gt; 0f &amp;&amp; height &gt; 0f) {\n            \n            float scale = (float)editorWidth/(float)Refs.APP_WIDTH;\n            editorWidth = (int)(width*scale);\n            editorHeight = height;\n            \n            Refs.APP_WIDTH = width;\n            Refs.APP_HEIGHT = height;\n            \n            editorX = (Refs.APP_WIDTH - editorWidth) / 2f;\n            editorY = 0;\n            gridSquareSize = (int)((float)editorWidth) / ((float)mapWidth + 1);\n        \n            for(SideBar sb : this.editorSideBars) {\n                //sb.resize(width, height);\n            }\n        }\n        \n        \n    }\n\n    @Override\n    public void pause() {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void resume() {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void hide() {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void dispose() {\n        // TODO Auto-generated method stub\n        for(Texture t : allTextures) {\n            t.dispose();\n        }\n        \n        for(Drawable d : drawables) {\n            d.texture.dispose();\n        }\n        \n        TileTexture.disposeAll();\n        \n    }\n\n}\n\n</code></pre>\n<p>Tile.java</p>\n<pre><code>package com.epicoweo.platformereditor.tile;\n\nimport com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.graphics.Pixmap;\nimport com.badlogic.gdx.graphics.Pixmap.Filter;\nimport com.badlogic.gdx.graphics.Pixmap.Format;\nimport com.badlogic.gdx.graphics.Texture;\nimport com.badlogic.gdx.graphics.Texture.TextureFilter;\nimport com.badlogic.gdx.utils.GdxRuntimeException;\nimport com.epicoweo.platformereditor.etc.Drawable;\nimport com.epicoweo.platformereditor.screens.EditorScreen;\n\npublic class Tile extends Drawable {\n\n    public String texturePath;\n    public boolean isEmpty = false;\n    public float rotation = 0;\n    public TileTexture tt;\n    public TileType type;\n    public float width = EditorScreen.gridSquareSize;\n    public float height = EditorScreen.gridSquareSize;\n    \n    public enum TileTexture {\n        //maplayout\n        EMPTY(&quot;&quot;, 0, &quot;tile&quot;), STONE(&quot;./textures/tiles/stone.png&quot;, 1, &quot;tile&quot;), GRASS(&quot;./textures/tiles/grass.png&quot;, 2, &quot;tile&quot;),\n        DIRT(&quot;./textures/tiles/dirt.png&quot;, 3, &quot;tile&quot;), GRAVITYSWAP(&quot;./textures/tiles/gravityswap.png&quot;, 4, &quot;tile&quot;),\n        SPEEDBOOST(&quot;./textures/tiles/speedboost_0.png&quot;, 5, &quot;tile&quot;), PLATFORM0(&quot;./textures/tiles/platform_0.png&quot;, 6, &quot;tile&quot;), \n        PLATFORM1(&quot;./textures/tiles/platform_1.png&quot;, 7, &quot;tile&quot;), PLATFORM2(&quot;./textures/tiles/platform_2.png&quot;, 8, &quot;tile&quot;),\n        \n        //mapetc\n        PLAYER(&quot;./textures/player/player_left.png&quot;, 1, &quot;etc&quot;);\n        \n        String texturePath;\n        public Texture texture;\n        public int textureId;\n        public String type;\n        \n        TileTexture(String texturePath, int textureId, String type) {\n            this.texturePath = texturePath;\n            this.textureId = textureId;\n            this.type = type;\n            try {\n                texture = new Texture(this.texturePath);\n            } catch(GdxRuntimeException e) {\n                texture = new Texture(new Pixmap(16, 16, Format.Alpha));\n            }\n        }\n        \n        public static void disposeAll() {\n            for(TileTexture t : TileTexture.values()) {\n                t.texture.dispose();\n            }\n        }\n    }\n    \n    public enum TileType {\n        \n        FULL(&quot;full&quot;), SLOPE_45(&quot;slope45&quot;), PLATFORM(&quot;platform&quot;);\n        \n        String s;\n        TileType(String s) {\n            this.s = s;\n        }\n        \n        @Override\n        public String toString() {\n            return s;\n        }\n    }\n    \n    public Tile(float x, float y, float width, float height, TileTexture texture, TileType type) {\n        super(x, y, width, height);\n        \n        texturePath = texture.texturePath;\n        \n        this.type = type;\n        this.tt = texture;\n        \n        \n        if(type == TileType.SLOPE_45) {\n            //remove png and add _45.png\n            texturePath = texture.texturePath.substring(0, texture.texturePath.length() - 4) + &quot;_45.png&quot;;\n        }\n        if(texture != TileTexture.EMPTY) {\n            if(type != TileType.PLATFORM) {\n                Pixmap pixmap16 = new Pixmap(Gdx.files.internal(texturePath));\n                Pixmap pixmap64 = new Pixmap(64, 64, pixmap16.getFormat());\n                \n                pixmap64.setFilter(Filter.NearestNeighbour);\n                pixmap64.drawPixmap(pixmap16,\n                        0, 0, pixmap16.getWidth(), pixmap16.getHeight(),\n                        0, 0, pixmap64.getWidth(), pixmap64.getHeight()\n                );\n                \n                Texture t64 = new Texture(pixmap64);\n                \n                if(this.texture != null) {\n                    this.texture.dispose();\n                }\n                this.texture = t64;\n                \n                pixmap16.dispose();\n                pixmap64.dispose();\n            } else {\n                this.height = EditorScreen.gridSquareSize / 4;\n                \n                Pixmap pixmap16 = new Pixmap(Gdx.files.internal(texturePath));\n                Pixmap pixmap64 = new Pixmap(64, 16, pixmap16.getFormat());\n                \n                pixmap64.setFilter(Filter.NearestNeighbour);\n                pixmap64.drawPixmap(pixmap16,\n                        0, 0, pixmap16.getWidth(), pixmap16.getHeight(),\n                        0, 0, pixmap64.getWidth(), pixmap64.getHeight()\n                );\n                \n                Texture t64 = new Texture(pixmap64);\n                \n                if(this.texture != null) {\n                    this.texture.dispose();\n                }\n                this.texture = t64;\n                \n                \n                pixmap16.dispose();\n                pixmap64.dispose();\n            }\n        } else {\n            this.texture = texture.texture;\n            isEmpty = true;\n        }\n        \n    }\n    \n    public Tile(float x, float y, float width, float height, TileTexture texture) {\n        this(x, y, width, height, texture, TileType.FULL);\n        \n    }\n    public Tile(float x, float y, float width, float height) {\n        this(x, y, width, height, TileTexture.STONE, TileType.FULL);\n        \n    }\n    \n    public Tile duplicate() {\n        Tile newTile = new Tile(x, y, width, height, tt, type);\n        return newTile;\n    }\n    \n    \n}\n</code></pre>\n<p>If any extra info is needed please let me know!</p>\n"},{"tags":["java","sql","jdbc"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1680658435,"post_id":75934982,"comment_id":133934372,"body_markdown":"what is the data that you get from a sql workbench?","body":"what is the data that you get from a sql workbench?"},{"owner":{"account_id":28205287,"reputation":5,"user_id":21558471,"display_name":"Ashley"},"score":0,"creation_date":1680659189,"post_id":75934982,"comment_id":133934420,"body_markdown":"I updated the post with sample data","body":"I updated the post with sample data"}],"answers":[{"comments":[{"owner":{"account_id":28205287,"reputation":5,"user_id":21558471,"display_name":"Ashley"},"score":0,"creation_date":1680709692,"post_id":75935230,"comment_id":133945205,"body_markdown":"When I change the query to your suggestion, I receive an error after I type in the user input for gpa threshold. The error is &quot; Parameter index out of range (1 &gt; number of parameters, which is 0).&quot;","body":"When I change the query to your suggestion, I receive an error after I type in the user input for gpa threshold. The error is &quot; Parameter index out of range (1 &gt; number of parameters, which is 0).&quot;"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1680746323,"post_id":75935230,"comment_id":133951841,"body_markdown":"Yeah , I think that you believe that you need to get this type of raw data back to Java and then use it to sum and filter using the input gpa, so yeah there is there is no parameters being passed to it.  There may be situations where performing calculations on the client side is more appropriate. For example, if your application needs to perform complex calculations that are not supported by the database","body":"Yeah , I think that you believe that you need to get this type of raw data back to Java and then use it to sum and filter using the input gpa, so yeah there is there is no parameters being passed to it.  There may be situations where performing calculations on the client side is more appropriate. For example, if your application needs to perform complex calculations that are not supported by the database"}],"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680662142,"creation_date":1680662142,"answer_id":75935230,"question_id":75934982,"body_markdown":"I would change the query so that it returns the raw data (per student) to the java classes which then does the necessary calculation\r\n\r\n    select s.*, group_concat(case ht.grade when &#39;A&#39; then 4 when &#39;B&#39; then 3 when &#39;C&#39; then 2 when &#39;D&#39; then 1 end) grade from Students s\r\n    join HasTaken ht on ht.sid = s.id\r\n    join Classes c on c.name = ht.name\r\n    group by s.id\r\n    ;\r\n\r\nwill produce\r\n\r\n\tfirst_name\tlast_name\tid\tgrade\r\n\tAmabelle\tJimmes\t10000\t4,3,2\r\n\r\n","title":"How to calculate year and gpa in sql using jdbc?","body":"<p>I would change the query so that it returns the raw data (per student) to the java classes which then does the necessary calculation</p>\n<pre><code>select s.*, group_concat(case ht.grade when 'A' then 4 when 'B' then 3 when 'C' then 2 when 'D' then 1 end) grade from Students s\njoin HasTaken ht on ht.sid = s.id\njoin Classes c on c.name = ht.name\ngroup by s.id\n;\n</code></pre>\n<p>will produce</p>\n<pre><code>first_name  last_name   id  grade\nAmabelle    Jimmes  10000   4,3,2\n</code></pre>\n"}],"owner":{"account_id":28205287,"reputation":5,"user_id":21558471,"display_name":"Ashley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1680662142,"creation_date":1680657668,"question_id":75934982,"body_markdown":"I need to search for students by GPA in java and use jbdc to connect to the database following the requirements in the attached image.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThese are the tables I have in the database:\r\n\r\n     CREATE TABLE Students (\r\n     first_name VARCHAR(20) NOT NULL,\r\n     last_name VARCHAR(20) NOT NULL,\r\n     id VARCHAR(9) NOT NULL,\r\n     PRIMARY KEY (id)\r\n     );\r\n\r\n \r\n\r\n     CREATE TABLE Classes (\r\n     name VARCHAR(50) NOT NULL,\r\n     credits INT NOT NULL,\r\n     PRIMARY KEY (name)\r\n     ); \r\n\r\n     CREATE TABLE IsTaking (\r\n     sid VARCHAR(9) NOT NULL,\r\n     name VARCHAR(50) NOT NULL,\r\n     FOREIGN KEY (sid) REFERENCES Students(id),\r\n     FOREIGN KEY (name) REFERENCES Classes(name)\r\n     );\r\n\r\n \r\n\r\n     CREATE TABLE HasTaken (\r\n     sid VARCHAR(9) NOT NULL,\r\n     name VARCHAR(50) NOT NULL,\r\n     grade CHAR(1) NOT NULL,\r\n     FOREIGN KEY (sid) REFERENCES Students(id),\r\n     FOREIGN KEY (name) REFERENCES Classes(name)\r\n     );\r\n\r\n\r\n\r\nAnd this is the java code I have written:\r\n\r\n\r\n    public static void searchByGPAGreaterThan(Connection conn, Scanner input)  throws SQLException {\r\n        // Construct the SQL query to select the ID, first name, and last name of all students\r\n        // who have taken at least one course and whose GPA is greater than or equal to the threshold.\r\n        System.out.print(&quot;Enter GPA threshold: &quot;);\r\n        double threshold = input.nextDouble();\r\n        String query = &quot;SELECT Students.first_name, Students.last_name, Students.id, Classes.credits FROM Students, Classes &quot; +\r\n                &quot;WHERE id IN (SELECT sid FROM HasTaken &quot; + &quot;GROUP BY sid HAVING SUM(CASE grade &quot; +\r\n                &quot;WHEN &#39;A&#39; THEN 4 &quot; +\r\n                &quot;WHEN &#39;B&#39; THEN 3 &quot; +\r\n                &quot;WHEN &#39;C&#39; THEN 2 &quot; +\r\n                &quot;WHEN &#39;D&#39; THEN 1 &quot; +\r\n                &quot;ELSE 0 END * credits) / SUM(credits) &gt;= ?)&quot;;\r\n        try {\r\n            // Create a prepared statement for the query and set the threshold parameter.\r\n            PreparedStatement ps = conn.prepareStatement(query);\r\n            ps.setDouble(1, threshold);\r\n            // Execute the query and get the result set.\r\n            ResultSet rs = ps.executeQuery();\r\n            // Print out the results.\r\n            while (rs.next()) {\r\n                int id = rs.getInt(&quot;id&quot;);\r\n                String firstName = rs.getString(&quot;first_name&quot;);\r\n                String lastName = rs.getString(&quot;last_name&quot;);\r\n                System.out.printf(&quot;%d: %s %s\\n&quot;, id, firstName, lastName);\r\n            }\r\n        } catch (SQLException e) {\r\n            // If there is an error executing the query, print the stack trace.\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n\r\nThis code outputs all the students instead of specific students with the specified gpa threshold value. I can&#39;t figure out how to correctly calculate the student gpa so that the output only prints the appropriate students.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BRoAC.png\r\n\r\nI had to populate the database with data for 100 students so I will provide sample data for one student for context:\r\n\r\n    INSERT INTO Classes (name, credits) VALUES\r\n    (&#39;Calculus I&#39;, 4),\r\n    (&#39;Introduction to Biology&#39;, 3),\r\n    (&#39;World History&#39;, 3);\r\n\r\n    INSERT INTO Students (first_name, last_name, id) VALUES\r\n    (&#39;Amabelle&#39;, &#39;Jimmes&#39;, &#39;10000&#39;);\r\n\r\n    INSERT INTO IsTaking (sid, name) VALUES\r\n    (10000, &#39;Introduction to Biology&#39;),\r\n    (10000, &#39;Calculus I&#39;),\r\n    (10000, &#39;World History&#39;);\r\n\r\n    INSERT INTO HasTaken (sid, name, grade) VALUES\r\n    (10000, &#39;Introduction to Biology&#39;, &#39;A&#39;),\r\n    (10000, &#39;Calculus I&#39;, &#39;B&#39;),\r\n    (10000, &#39;World History&#39;, &#39;C&#39;);\r\n\r\n","title":"How to calculate year and gpa in sql using jdbc?","body":"<p>I need to search for students by GPA in java and use jbdc to connect to the database following the requirements in the attached image.</p>\n<p><a href=\"https://i.stack.imgur.com/BRoAC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BRoAC.png\" alt=\"enter image description here\" /></a></p>\n<p>These are the tables I have in the database:</p>\n<pre><code> CREATE TABLE Students (\n first_name VARCHAR(20) NOT NULL,\n last_name VARCHAR(20) NOT NULL,\n id VARCHAR(9) NOT NULL,\n PRIMARY KEY (id)\n );\n\n\n\n CREATE TABLE Classes (\n name VARCHAR(50) NOT NULL,\n credits INT NOT NULL,\n PRIMARY KEY (name)\n ); \n\n CREATE TABLE IsTaking (\n sid VARCHAR(9) NOT NULL,\n name VARCHAR(50) NOT NULL,\n FOREIGN KEY (sid) REFERENCES Students(id),\n FOREIGN KEY (name) REFERENCES Classes(name)\n );\n\n\n\n CREATE TABLE HasTaken (\n sid VARCHAR(9) NOT NULL,\n name VARCHAR(50) NOT NULL,\n grade CHAR(1) NOT NULL,\n FOREIGN KEY (sid) REFERENCES Students(id),\n FOREIGN KEY (name) REFERENCES Classes(name)\n );\n</code></pre>\n<p>And this is the java code I have written:</p>\n<pre><code>public static void searchByGPAGreaterThan(Connection conn, Scanner input)  throws SQLException {\n    // Construct the SQL query to select the ID, first name, and last name of all students\n    // who have taken at least one course and whose GPA is greater than or equal to the threshold.\n    System.out.print(&quot;Enter GPA threshold: &quot;);\n    double threshold = input.nextDouble();\n    String query = &quot;SELECT Students.first_name, Students.last_name, Students.id, Classes.credits FROM Students, Classes &quot; +\n            &quot;WHERE id IN (SELECT sid FROM HasTaken &quot; + &quot;GROUP BY sid HAVING SUM(CASE grade &quot; +\n            &quot;WHEN 'A' THEN 4 &quot; +\n            &quot;WHEN 'B' THEN 3 &quot; +\n            &quot;WHEN 'C' THEN 2 &quot; +\n            &quot;WHEN 'D' THEN 1 &quot; +\n            &quot;ELSE 0 END * credits) / SUM(credits) &gt;= ?)&quot;;\n    try {\n        // Create a prepared statement for the query and set the threshold parameter.\n        PreparedStatement ps = conn.prepareStatement(query);\n        ps.setDouble(1, threshold);\n        // Execute the query and get the result set.\n        ResultSet rs = ps.executeQuery();\n        // Print out the results.\n        while (rs.next()) {\n            int id = rs.getInt(&quot;id&quot;);\n            String firstName = rs.getString(&quot;first_name&quot;);\n            String lastName = rs.getString(&quot;last_name&quot;);\n            System.out.printf(&quot;%d: %s %s\\n&quot;, id, firstName, lastName);\n        }\n    } catch (SQLException e) {\n        // If there is an error executing the query, print the stack trace.\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>This code outputs all the students instead of specific students with the specified gpa threshold value. I can't figure out how to correctly calculate the student gpa so that the output only prints the appropriate students.</p>\n<p>I had to populate the database with data for 100 students so I will provide sample data for one student for context:</p>\n<pre><code>INSERT INTO Classes (name, credits) VALUES\n('Calculus I', 4),\n('Introduction to Biology', 3),\n('World History', 3);\n\nINSERT INTO Students (first_name, last_name, id) VALUES\n('Amabelle', 'Jimmes', '10000');\n\nINSERT INTO IsTaking (sid, name) VALUES\n(10000, 'Introduction to Biology'),\n(10000, 'Calculus I'),\n(10000, 'World History');\n\nINSERT INTO HasTaken (sid, name, grade) VALUES\n(10000, 'Introduction to Biology', 'A'),\n(10000, 'Calculus I', 'B'),\n(10000, 'World History', 'C');\n</code></pre>\n"},{"tags":["java","http","activemq-artemis","broker"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1680529805,"post_id":75918614,"comment_id":133909271,"body_markdown":"You definitely should be using `tcp://0.0.0.0:8080/httpEnabled=true`. You indicated you tried this but had problems, but you didn&#39;t elaborate on what those problems were. Can you elaborate on that now? What kind of client are you using?","body":"You definitely should be using <code>tcp:&#47;&#47;0.0.0.0:8080&#47;httpEnabled=true</code>. You indicated you tried this but had problems, but you didn&#39;t elaborate on what those problems were. Can you elaborate on that now? What kind of client are you using?"},{"owner":{"account_id":16867304,"reputation":1,"user_id":12196703,"display_name":"Alexandre Carriconde"},"score":0,"creation_date":1680595507,"post_id":75918614,"comment_id":133920570,"body_markdown":"@JustinBertram Thanks for the reply, the problem we are facing is that we have clients connecting to our ActiveMQ Classic using `http://` instead of `tcp://` and when we create the configuration with `tcp://0.0.0.0:8080/httpEnabled=true` on artemis and try to connect to the broker using `http://0.0.0.0:8080` the connection keeps hanging and we don&#39;t have a response from the broker. i am trying to get more logs information to add here too!","body":"@JustinBertram Thanks for the reply, the problem we are facing is that we have clients connecting to our ActiveMQ Classic using <code>http:&#47;&#47;</code> instead of <code>tcp:&#47;&#47;</code> and when we create the configuration with <code>tcp:&#47;&#47;0.0.0.0:8080&#47;httpEnabled=true</code> on artemis and try to connect to the broker using <code>http:&#47;&#47;0.0.0.0:8080</code> the connection keeps hanging and we don&#39;t have a response from the broker. i am trying to get more logs information to add here too!"},{"owner":{"account_id":16867304,"reputation":1,"user_id":12196703,"display_name":"Alexandre Carriconde"},"score":0,"creation_date":1680615840,"post_id":75918614,"comment_id":133925681,"body_markdown":"@JustinBertram we are trying to connect using Apache camel with a java spring-boot application the same way as we use to do in activemq classic, but we also tried to curl the endpoint with `http://0.0.0.0:8080` and we do not have a response from the broker.","body":"@JustinBertram we are trying to connect using Apache camel with a java spring-boot application the same way as we use to do in activemq classic, but we also tried to curl the endpoint with <code>http:&#47;&#47;0.0.0.0:8080</code> and we do not have a response from the broker."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1680619472,"post_id":75918614,"comment_id":133926690,"body_markdown":"It sounds like you&#39;re trying to use an OpenWire JMS client with HTTP to connect to the acceptor on the broker configured with `httpEnabled=true`. That won&#39;t work. You&#39;d need to use the core JMS client library in your applications. Is there a specific reason you are using HTTP?","body":"It sounds like you&#39;re trying to use an OpenWire JMS client with HTTP to connect to the acceptor on the broker configured with <code>httpEnabled=true</code>. That won&#39;t work. You&#39;d need to use the core JMS client library in your applications. Is there a specific reason you are using HTTP?"},{"owner":{"account_id":16867304,"reputation":1,"user_id":12196703,"display_name":"Alexandre Carriconde"},"score":0,"creation_date":1680623030,"post_id":75918614,"comment_id":133927763,"body_markdown":"Hi @JustinBertram we have multiple consumers already connected to our activemq classic via HTTP and we are aiming to do a DNS switch from classic to Artemis without impacting our consumers because would be hard to talk to all of them. this is the scenario: `http://broker:8080` is now pointing to activemq classic, we wanted to reroute this domain to point to artemis","body":"Hi @JustinBertram we have multiple consumers already connected to our activemq classic via HTTP and we are aiming to do a DNS switch from classic to Artemis without impacting our consumers because would be hard to talk to all of them. this is the scenario: <code>http:&#47;&#47;broker:8080</code> is now pointing to activemq classic, we wanted to reroute this domain to point to artemis"},{"owner":{"account_id":2118840,"reputation":159,"user_id":1882565,"accept_rate":83,"display_name":"Merlin B&#246;gershausen"},"score":0,"creation_date":1684747949,"post_id":75918614,"comment_id":134556890,"body_markdown":"Hi @JustinBertram, to clarify which artifact do you mean with ‚Äûcore jms client library‚Äú In Artemis Docu / The Client Classpath I can see artemis-core-client (missing ‚Äòjms‚Äô) and artemis-jms-client (missing ‚Äòcore‚Äô)","body":"Hi @JustinBertram, to clarify which artifact do you mean with ‚Äûcore jms client library‚Äú In Artemis Docu / The Client Classpath I can see artemis-core-client (missing ‚Äòjms‚Äô) and artemis-jms-client (missing ‚Äòcore‚Äô)"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1684764480,"post_id":75918614,"comment_id":134560378,"body_markdown":"`artemis-jms-client` implements the JMS API, but it depends on `artemis-core-client` for the wire protocol, etc. to actually communicate with the broker, hence &quot;core JMS client.&quot; To be clear, the JMS specification doesn&#39;t define a wire protocol so it&#39;s up to the provider to implement however they see fit. ActiveMQ Artemis supports 3 different JMS implmentations (i.e. AMQP, OpenWire, and Core).","body":"<code>artemis-jms-client</code> implements the JMS API, but it depends on <code>artemis-core-client</code> for the wire protocol, etc. to actually communicate with the broker, hence &quot;core JMS client.&quot; To be clear, the JMS specification doesn&#39;t define a wire protocol so it&#39;s up to the provider to implement however they see fit. ActiveMQ Artemis supports 3 different JMS implmentations (i.e. AMQP, OpenWire, and Core)."}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680661891,"creation_date":1680661891,"answer_id":75935218,"question_id":75918614,"body_markdown":"Unfortunately this won&#39;t be possible as Artemis doesn&#39;t support the HTTP transport as used by OpenWire clients. As you discovered in the documentation, Artemis has an equivalent feature for tunneling communication for the core protocol via HTTP, but it isn&#39;t compatible with OpenWire.\r\n\r\nGenerally speaking, HTTP is not a good protocol for messaging and is rarely recommended. It is available as a stop-gap measure for exceptional situations where &quot;normal&quot; connectivity is not possible for whatever reason.","title":"ActiveMQ &quot;Classic&quot; to ActiveMQ Artemis migration / HTTP transport configuration (consume and produce messages using HTTP tunneling)","body":"<p>Unfortunately this won't be possible as Artemis doesn't support the HTTP transport as used by OpenWire clients. As you discovered in the documentation, Artemis has an equivalent feature for tunneling communication for the core protocol via HTTP, but it isn't compatible with OpenWire.</p>\n<p>Generally speaking, HTTP is not a good protocol for messaging and is rarely recommended. It is available as a stop-gap measure for exceptional situations where &quot;normal&quot; connectivity is not possible for whatever reason.</p>\n"}],"owner":{"account_id":16867304,"reputation":1,"user_id":12196703,"display_name":"Alexandre Carriconde"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680661891,"creation_date":1680518844,"question_id":75918614,"body_markdown":"I&#39;m having a problem to connect to Artemis using HTTP instead of TCP.\r\n\r\nSo I have on my ActiveMQ &quot;Classic&quot; a configuration to connect to the broker using HTTP just like that:\r\n    \r\n```xml\r\n&lt;transportConnectors&gt;\r\n    &lt;transportConnector name=&quot;openwire&quot; uri=&quot;tcp://0.0.0.0:61616?transport.maximumConnections=1000&amp;amp;transport.wireFormat.maxFrameSize=104857600&amp;amp;transport.keepAlive=true&amp;amp;transport.trace=true&amp;amp;transport.useKeepAlive=true&amp;amp;transport.connectionTimeout=30000&quot; /&gt;\r\n    &lt;transportConnector name=&quot;http&quot; uri=&quot;http://0.0.0.0:9090?transport.maximumConnections=1000&amp;amp;transport.wireFormat.maxFrameSize=104857600&amp;amp;transport.keepAlive=true&amp;amp;transport.trace=true&amp;amp;transport.useKeepAlive=true&amp;amp;transport.connectionTimeout=30000&quot; /&gt;\r\n&lt;/transportConnectors&gt;\r\n```\r\nWith this configuration I was able to connect to my ActiveMQ using e.g. `http://localhost:9090`.\r\n\r\nNow I am migrating to Artemis version 2.28.0, and when I try to configure an http connector like that:\r\n```xml\r\n&lt;connectors&gt;\r\n   &lt;connector name=&quot;http-connector&quot;&gt;http://0.0.0.0:8080?httpEnabled=true&lt;/connector&gt;\r\n&lt;/connectors&gt;\r\n```\r\nBut when we start up the broker we have the error that the schema is not found:\r\n```\r\njava.lang.RuntimeException: Schema http not found\r\n\tat org.apache.activemq.artemis.core.config.ConfigurationUtils.parseConnectorURI(ConfigurationUtils.java:190)\r\n\tat org.apache.activemq.artemis.core.deployers.impl.FileConfigurationParser.parseConnectorTransportConfiguration(FileConfigurationParser.java:1622)\r\n```\r\nWe also tried configuration it using `tcp` connections with `httpEnabled=true` according to [Artemis documentation][1] (see &quot;Configuring Netty HTTP&quot;), but this also does not wrong when we try to connect using HTTP.\r\n\r\nWe have multiple consumers already connected to our ActiveMQ &quot;Classic&quot; via HTTP and we are aiming to do a DNS switch from &quot;Classic&quot; to Artemis without impacting our consumers because would be hard to talk to all of them. This is the scenario: `http://broker:8080` is now pointing to ActiveMQ &quot;Classic&quot; and we want to reroute this domain to point to Artemis.\r\n\r\n\r\n  [1]: https://activemq.apache.org/components/artemis/documentation/latest/configuring-transports.html#configuring-netty-http","title":"ActiveMQ &quot;Classic&quot; to ActiveMQ Artemis migration / HTTP transport configuration (consume and produce messages using HTTP tunneling)","body":"<p>I'm having a problem to connect to Artemis using HTTP instead of TCP.</p>\n<p>So I have on my ActiveMQ &quot;Classic&quot; a configuration to connect to the broker using HTTP just like that:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;transportConnectors&gt;\n    &lt;transportConnector name=&quot;openwire&quot; uri=&quot;tcp://0.0.0.0:61616?transport.maximumConnections=1000&amp;amp;transport.wireFormat.maxFrameSize=104857600&amp;amp;transport.keepAlive=true&amp;amp;transport.trace=true&amp;amp;transport.useKeepAlive=true&amp;amp;transport.connectionTimeout=30000&quot; /&gt;\n    &lt;transportConnector name=&quot;http&quot; uri=&quot;http://0.0.0.0:9090?transport.maximumConnections=1000&amp;amp;transport.wireFormat.maxFrameSize=104857600&amp;amp;transport.keepAlive=true&amp;amp;transport.trace=true&amp;amp;transport.useKeepAlive=true&amp;amp;transport.connectionTimeout=30000&quot; /&gt;\n&lt;/transportConnectors&gt;\n</code></pre>\n<p>With this configuration I was able to connect to my ActiveMQ using e.g. <code>http://localhost:9090</code>.</p>\n<p>Now I am migrating to Artemis version 2.28.0, and when I try to configure an http connector like that:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;connectors&gt;\n   &lt;connector name=&quot;http-connector&quot;&gt;http://0.0.0.0:8080?httpEnabled=true&lt;/connector&gt;\n&lt;/connectors&gt;\n</code></pre>\n<p>But when we start up the broker we have the error that the schema is not found:</p>\n<pre><code>java.lang.RuntimeException: Schema http not found\n    at org.apache.activemq.artemis.core.config.ConfigurationUtils.parseConnectorURI(ConfigurationUtils.java:190)\n    at org.apache.activemq.artemis.core.deployers.impl.FileConfigurationParser.parseConnectorTransportConfiguration(FileConfigurationParser.java:1622)\n</code></pre>\n<p>We also tried configuration it using <code>tcp</code> connections with <code>httpEnabled=true</code> according to <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/configuring-transports.html#configuring-netty-http\" rel=\"nofollow noreferrer\">Artemis documentation</a> (see &quot;Configuring Netty HTTP&quot;), but this also does not wrong when we try to connect using HTTP.</p>\n<p>We have multiple consumers already connected to our ActiveMQ &quot;Classic&quot; via HTTP and we are aiming to do a DNS switch from &quot;Classic&quot; to Artemis without impacting our consumers because would be hard to talk to all of them. This is the scenario: <code>http://broker:8080</code> is now pointing to ActiveMQ &quot;Classic&quot; and we want to reroute this domain to point to Artemis.</p>\n"},{"tags":["java","stripe-payments"],"answers":[{"comments":[{"owner":{"account_id":14587217,"reputation":43,"user_id":10535590,"display_name":"Teletubbies"},"score":0,"creation_date":1663629482,"post_id":73780005,"comment_id":130280581,"body_markdown":"As I see reciept_url is the URL to view the receipt for this charge. But I need something to list in my application, so that user can download the invoice of their payments.","body":"As I see reciept_url is the URL to view the receipt for this charge. But I need something to list in my application, so that user can download the invoice of their payments."},{"owner":{"account_id":24455181,"reputation":669,"user_id":18376867,"display_name":"LauraT"},"score":0,"creation_date":1663693915,"post_id":73780005,"comment_id":130298434,"body_markdown":"Stripe doesn&#39;t create invoices for one-off charges. A receipt (either generated by Stripe or one you create yourself) can be shared with customers in this case. In your application, you can retrieve all charges for a given customer and use each charge&#39;s receipt_url to allow them to download receipts for past payments: https://stripe.com/docs/api/charges/list\n\nInvoices are a separate type of object, and can be created on Stripe as one-off requests for payments, or as part of a subscription.\nhttps://stripe.com/docs/invoicing/overview\nhttps://stripe.com/docs/billing/subscriptions/overview","body":"Stripe doesn&#39;t create invoices for one-off charges. A receipt (either generated by Stripe or one you create yourself) can be shared with customers in this case. In your application, you can retrieve all charges for a given customer and use each charge&#39;s receipt_url to allow them to download receipts for past payments: <a href=\"https://stripe.com/docs/api/charges/list\" rel=\"nofollow noreferrer\">stripe.com/docs/api/charges/list</a>  Invoices are a separate type of object, and can be created on Stripe as one-off requests for payments, or as part of a subscription. <a href=\"https://stripe.com/docs/invoicing/overview\" rel=\"nofollow noreferrer\">stripe.com/docs/invoicing/overview</a> <a href=\"https://stripe.com/docs/billing/subscriptions/overview\" rel=\"nofollow noreferrer\">stripe.com/docs/billing/subscriptions/overview</a>"}],"tags":[],"owner":{"account_id":24455181,"reputation":669,"user_id":18376867,"display_name":"LauraT"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663628024,"creation_date":1663628024,"answer_id":73780005,"question_id":73779929,"body_markdown":"Invoices are not sent for payments made using `payment` mode in Checkout. You can configure your email settings to automatically send an email receipt after a successful payment: https://stripe.com/docs/receipts\r\n\r\nIf you need to retrieve a receipt URL at a later date, you can access it from the underlying Charge object: https://stripe.com/docs/api/charges/object#charge_object-receipt_url","title":"create and get Invoice information after one-time payment in stripe","body":"<p>Invoices are not sent for payments made using <code>payment</code> mode in Checkout. You can configure your email settings to automatically send an email receipt after a successful payment: <a href=\"https://stripe.com/docs/receipts\" rel=\"nofollow noreferrer\">https://stripe.com/docs/receipts</a></p>\n<p>If you need to retrieve a receipt URL at a later date, you can access it from the underlying Charge object: <a href=\"https://stripe.com/docs/api/charges/object#charge_object-receipt_url\" rel=\"nofollow noreferrer\">https://stripe.com/docs/api/charges/object#charge_object-receipt_url</a></p>\n"},{"tags":[],"owner":{"account_id":14587217,"reputation":43,"user_id":10535590,"display_name":"Teletubbies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680659015,"creation_date":1680659015,"answer_id":75935059,"question_id":73779929,"body_markdown":"\r\nAs mentioned in above comment, `Charge` Object -&gt; `receipt_url` worked out in my case. So just adding the code snippet here. However its not an invoice. its just the receipt for the one time payment done on stripe\r\n\r\n```\r\nPaymentIntent paymentIntent = PaymentIntent.retrieve(session.getPaymentIntent());\r\nList&lt;String&gt; receipt = paymentIntent.getCharges().getData().stream().map(charge -&gt; charge.getReceiptUrl()).collect(Collectors.toList());\r\nSystem.out.println(receipt.get(0)); // to print the receipt URL\r\n```","title":"create and get Invoice information after one-time payment in stripe","body":"<p>As mentioned in above comment, <code>Charge</code> Object -&gt; <code>receipt_url</code> worked out in my case. So just adding the code snippet here. However its not an invoice. its just the receipt for the one time payment done on stripe</p>\n<pre><code>PaymentIntent paymentIntent = PaymentIntent.retrieve(session.getPaymentIntent());\nList&lt;String&gt; receipt = paymentIntent.getCharges().getData().stream().map(charge -&gt; charge.getReceiptUrl()).collect(Collectors.toList());\nSystem.out.println(receipt.get(0)); // to print the receipt URL\n</code></pre>\n"}],"owner":{"account_id":14587217,"reputation":43,"user_id":10535590,"display_name":"Teletubbies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73780005,"answer_count":2,"score":0,"last_activity_date":1680659015,"creation_date":1663627202,"question_id":73779929,"body_markdown":"I&#39;m using spring boot to create session on stripe and validate session after payment is done.\r\n\r\n```\r\ncreatesession()\r\n\r\nSessionCreateParams params =\r\n                SessionCreateParams.builder()\r\n                    .addPaymentMethodType(SessionCreateParams.PaymentMethodType.CARD)\r\n                    .setMode(SessionCreateParams.Mode.PAYMENT)\r\n                    .setSuccessUrl(&quot;some url&quot;)\r\n                    .setCancelUrl(&quot;some url&quot;)\r\n                    .setClientReferenceId(appProductId)\r\n                    .addLineItem(\r\n                        SessionCreateParams.LineItem.builder()\r\n                            .setQuantity(1L)\r\n                            .setPrice(15*100L)\r\n                            .addTaxRate(taxRate)\r\n                            .build())\r\n                    .build();\r\n\r\n            Session session = Session.create(params);\r\n            SessionCreationResponseDto response = new SessionCreationResponseDto();\r\n            response.setId(session.getId());\r\n```\r\n\r\nHowever, I need to get the receipt/invoice for the same. How should I create the invoice in one-time payment in stripe and how will I get the invoice information for later usage (maybe in my application, I need to show a list of downloadable pdf invoices for the account )\r\n\r\nany suggestion would be helpful here.","title":"create and get Invoice information after one-time payment in stripe","body":"<p>I'm using spring boot to create session on stripe and validate session after payment is done.</p>\n<pre><code>createsession()\n\nSessionCreateParams params =\n                SessionCreateParams.builder()\n                    .addPaymentMethodType(SessionCreateParams.PaymentMethodType.CARD)\n                    .setMode(SessionCreateParams.Mode.PAYMENT)\n                    .setSuccessUrl(&quot;some url&quot;)\n                    .setCancelUrl(&quot;some url&quot;)\n                    .setClientReferenceId(appProductId)\n                    .addLineItem(\n                        SessionCreateParams.LineItem.builder()\n                            .setQuantity(1L)\n                            .setPrice(15*100L)\n                            .addTaxRate(taxRate)\n                            .build())\n                    .build();\n\n            Session session = Session.create(params);\n            SessionCreationResponseDto response = new SessionCreationResponseDto();\n            response.setId(session.getId());\n</code></pre>\n<p>However, I need to get the receipt/invoice for the same. How should I create the invoice in one-time payment in stripe and how will I get the invoice information for later usage (maybe in my application, I need to show a list of downloadable pdf invoices for the account )</p>\n<p>any suggestion would be helpful here.</p>\n"},{"tags":["java","algorithm","linked-list","time-complexity","space-complexity"],"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1680644478,"post_id":75933976,"comment_id":133932779,"body_markdown":"*&quot;which returns the intersection of the first node...&quot;*: I suppose you mean *&quot;which returns the first node of the intersection...&quot;*.","body":"<i>&quot;which returns the intersection of the first node...&quot;</i>: I suppose you mean <i>&quot;which returns the first node of the intersection...&quot;</i>."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1680645825,"post_id":75933976,"comment_id":133933028,"body_markdown":"BTW, if linked lists don&#39;t cycle, a simple algorithm will determine whether two lists have a common tail while examining every node once, and find the start of the tail accessing each node at most once more.","body":"BTW, if linked lists don&#39;t cycle, a simple algorithm will determine whether two lists have a common tail while examining every node once, and find the start of the tail accessing each node at most once more."},{"owner":{"account_id":27937348,"reputation":1,"user_id":21334047,"display_name":"programmer0x06"},"score":0,"creation_date":1680652537,"post_id":75933976,"comment_id":133933815,"body_markdown":"@supercat - Are you suggesting my solution is sub-optimal or is missing an edge case? If so, can you provide an example?","body":"@supercat - Are you suggesting my solution is sub-optimal or is missing an edge case? If so, can you provide an example?"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680644426,"creation_date":1680644426,"answer_id":75934046,"question_id":75933976,"body_markdown":"In the worst case the tail node of both lists is the first node that is shared. This algorithm will only find it by testing **all** possible pairs of nodes (one from the first list, one from the other).\r\n\r\nSo that gives this algorithm a worst time complexity of O(&#119899;&#119898;), where &#119899; and &#119898; are the number of nodes in the first and second linked list. Note that there are algorithms for this problem with a time complexity of O(&#119899;+&#119898;).\r\n\r\nThe space complexity is trivial: there are a constant number of variables, each with a constant memory footprint, so the space complexity is O(1).","title":"First Node of the Intersection between 2 Singly Linked Lists - Time &amp; Space Complexity?","body":"<p>In the worst case the tail node of both lists is the first node that is shared. This algorithm will only find it by testing <strong>all</strong> possible pairs of nodes (one from the first list, one from the other).</p>\n<p>So that gives this algorithm a worst time complexity of O(ùëõùëö), where ùëõ and ùëö are the number of nodes in the first and second linked list. Note that there are algorithms for this problem with a time complexity of O(ùëõ+ùëö).</p>\n<p>The space complexity is trivial: there are a constant number of variables, each with a constant memory footprint, so the space complexity is O(1).</p>\n"}],"owner":{"account_id":27937348,"reputation":1,"user_id":21334047,"display_name":"programmer0x06"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75934046,"answer_count":1,"score":-1,"last_activity_date":1680658653,"creation_date":1680643666,"question_id":75933976,"body_markdown":"What is the time &amp; space complexity of this method I wrote which returns the first node of the intersection between two singly linked lists (and if none found just null)?\r\n\r\n\r\n```\r\npublic Node getFirstNodeWhichIntersects(Node node1, Node node2) {\r\n    Node currentPtr1 = node1;\r\n    Node currentPtr2 = node2;   \r\n    Node firstNode = null;\r\n      \r\n    while (currentPtr1 != null) {\r\n       currentPtr2 = node2;\r\n       while (currentPtr2 != null) {\r\n          if (currentPtr1 == currentPtr2) {\r\n              return currentPtr1;\r\n          }     \r\n          currentPtr2 = currentPtr2.next;\r\n       }\r\n       currentPtr1 = currentPtr1.next;\r\n    }\r\n    return firstNode;\r\n}\r\n``` ","title":"First Node of the Intersection between 2 Singly Linked Lists - Time &amp; Space Complexity?","body":"<p>What is the time &amp; space complexity of this method I wrote which returns the first node of the intersection between two singly linked lists (and if none found just null)?</p>\n<pre><code>public Node getFirstNodeWhichIntersects(Node node1, Node node2) {\n    Node currentPtr1 = node1;\n    Node currentPtr2 = node2;   \n    Node firstNode = null;\n      \n    while (currentPtr1 != null) {\n       currentPtr2 = node2;\n       while (currentPtr2 != null) {\n          if (currentPtr1 == currentPtr2) {\n              return currentPtr1;\n          }     \n          currentPtr2 = currentPtr2.next;\n       }\n       currentPtr1 = currentPtr1.next;\n    }\n    return firstNode;\n}\n</code></pre>\n"},{"tags":["java","recursion","forkjoinpool"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1680677694,"post_id":75934948,"comment_id":133936682,"body_markdown":"Each recursive call operates on a copy of half of the original list. Those copies are then discarded.","body":"Each recursive call operates on a copy of half of the original list. Those copies are then discarded."}],"owner":{"account_id":26504299,"reputation":1,"user_id":20140702,"display_name":"Eikan1126"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680656949,"creation_date":1680656949,"question_id":75934948,"body_markdown":"I am practicing recursion and the ForkJoinPool. I&#39;m trying to populate a very large array with random doubles.\r\n\r\n```\r\npublic class RecursiveInsert extends RecursiveAction {\r\n  private static final int THRESHOLD = 12550000;\r\n  private double[] list;\r\n  Random rand = new Random();\r\n  \r\n  RecursiveInsert(double[] list) {\r\n    this.list = list;\r\n  }\r\n\r\n  @Override\r\n  protected void compute() {\r\n    if (list.length &lt; THRESHOLD) {\r\n      for (int i = 0; i &lt; list.length; i++) {\r\n        list[i] = rand.nextDouble();\r\n      }\r\n    } else {\r\n      \r\n      double[] firstHalf = new double[list.length / 2];\r\n      System.arraycopy(list, 0, firstHalf, 0, list.length / 2);\r\n\r\n      int secondHalfLength = list.length - list.length / 2;\r\n      double[] secondHalf = new double[secondHalfLength];\r\n      System.arraycopy(list, list.length / 2, secondHalf, 0, secondHalfLength);\r\n      \r\n      invokeAll(new RecursiveInsert(firstHalf), new RecursiveInsert(secondHalf)); \r\n   \r\n    }\r\n\r\n  }\r\n}\r\n```\r\n\r\n```\r\n public static void parallelAssignValues(double[] list) {\r\n    RecursiveInsert mainTask = new RecursiveInsert(list);\r\n    ForkJoinPool pool = new ForkJoinPool();\r\n    pool.invoke(mainTask);\r\n```\r\n\r\nWhen I run this code, and then choose a random index to look at to see if it populated.  All I get is &quot;0.0&quot;. This continues to happen when I run the code multiple times.","title":"How do you populate a large array/list using a ForkJoinPool in Java?","body":"<p>I am practicing recursion and the ForkJoinPool. I'm trying to populate a very large array with random doubles.</p>\n<pre><code>public class RecursiveInsert extends RecursiveAction {\n  private static final int THRESHOLD = 12550000;\n  private double[] list;\n  Random rand = new Random();\n  \n  RecursiveInsert(double[] list) {\n    this.list = list;\n  }\n\n  @Override\n  protected void compute() {\n    if (list.length &lt; THRESHOLD) {\n      for (int i = 0; i &lt; list.length; i++) {\n        list[i] = rand.nextDouble();\n      }\n    } else {\n      \n      double[] firstHalf = new double[list.length / 2];\n      System.arraycopy(list, 0, firstHalf, 0, list.length / 2);\n\n      int secondHalfLength = list.length - list.length / 2;\n      double[] secondHalf = new double[secondHalfLength];\n      System.arraycopy(list, list.length / 2, secondHalf, 0, secondHalfLength);\n      \n      invokeAll(new RecursiveInsert(firstHalf), new RecursiveInsert(secondHalf)); \n   \n    }\n\n  }\n}\n</code></pre>\n<pre><code> public static void parallelAssignValues(double[] list) {\n    RecursiveInsert mainTask = new RecursiveInsert(list);\n    ForkJoinPool pool = new ForkJoinPool();\n    pool.invoke(mainTask);\n</code></pre>\n<p>When I run this code, and then choose a random index to look at to see if it populated.  All I get is &quot;0.0&quot;. This continues to happen when I run the code multiple times.</p>\n"},{"tags":["java","spring-boot","odata","spring-cloud-feign"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680570309,"post_id":75924756,"comment_id":133917204,"body_markdown":"You need to look in your server logs and find the exception which is occuring there.","body":"You need to look in your server logs and find the exception which is occuring there."},{"owner":{"account_id":22957308,"reputation":39,"user_id":17655569,"display_name":"Zakhar Borisov"},"score":0,"creation_date":1680570611,"post_id":75924756,"comment_id":133917226,"body_markdown":"unfortunately, I don&#39;t have permissions to see logs of odata server","body":"unfortunately, I don&#39;t have permissions to see logs of odata server"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680572879,"post_id":75924756,"comment_id":133917434,"body_markdown":"You cannot have white spaces in an http url, all white spaces must be url encoder, some browsers or servers will automatically convert white space to %20 url encoder others will throw an error.","body":"You cannot have white spaces in an http url, all white spaces must be url encoder, some browsers or servers will automatically convert white space to %20 url encoder others will throw an error."},{"owner":{"account_id":22957308,"reputation":39,"user_id":17655569,"display_name":"Zakhar Borisov"},"score":0,"creation_date":1680573252,"post_id":75924756,"comment_id":133917475,"body_markdown":"According to feign logs, it properly encoding whitespace to %20","body":"According to feign logs, it properly encoding whitespace to %20"}],"answers":[{"tags":[],"owner":{"account_id":22957308,"reputation":39,"user_id":17655569,"display_name":"Zakhar Borisov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680656572,"creation_date":1680656572,"answer_id":75934921,"question_id":75924756,"body_markdown":"Replacing ApacheHttpClient with OkHttpClient `io.github.openfeign:feign-okhttp:12.2` and Builder with `com.squareup.okhttp3:okhttp:4.10.0` helped.\r\n\r\n\r\n    import feign.Feign;\r\n    import feign.Logger;\r\n    import feign.okhttp.OkHttpClient;\r\n    import okhttp3.OkHttpClient.Builder;\r\n    import org.springframework.beans.factory.ObjectFactory;\r\n    import org.springframework.boot.autoconfigure.http.HttpMessageConverters;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.X509TrustManager;\r\n    import java.security.KeyManagementException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.SecureRandom;\r\n    import java.security.cert.X509Certificate;\r\n    \r\n    @Configuration\r\n    public class FeignClientConfig {\r\n    \r\n        @Bean\r\n        public OkHttpClient okHttpClient() throws NoSuchAlgorithmException, KeyManagementException {\r\n            TrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {\r\n                public X509Certificate[] getAcceptedIssuers() {\r\n                    return new X509Certificate[0];\r\n                }\r\n    \r\n                public void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n                }\r\n    \r\n                public void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n                }\r\n            }};\r\n    \r\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sslContext.init(null, trustAllCerts, new SecureRandom());\r\n    \r\n            Builder builder = new Builder();\r\n            builder.sslSocketFactory(sslContext.getSocketFactory(), (X509TrustManager) trustAllCerts[0]);\r\n            builder.hostnameVerifier((hostname, session) -&gt; true);\r\n            return new feign.okhttp.OkHttpClient(builder.build());\r\n        }\r\n    \r\n        @Bean\r\n        public Feign.Builder feignBuilder(ObjectFactory&lt;HttpMessageConverters&gt; converters) throws Exception {\r\n            return Feign.builder()\r\n                    .client(okHttpClient());\r\n        }\r\n    \r\n        @Bean\r\n        Logger.Level feignLoggerLevel() {\r\n            return Logger.Level.HEADERS;\r\n        }\r\n    }\r\n\r\nI think ApacheHttpClient internally replaces spaces with &#39;+&#39;.","title":"How to send request parameters with whitespace through a feign client (ApacheHttpClient) to odata","body":"<p>Replacing ApacheHttpClient with OkHttpClient <code>io.github.openfeign:feign-okhttp:12.2</code> and Builder with <code>com.squareup.okhttp3:okhttp:4.10.0</code> helped.</p>\n<pre><code>import feign.Feign;\nimport feign.Logger;\nimport feign.okhttp.OkHttpClient;\nimport okhttp3.OkHttpClient.Builder;\nimport org.springframework.beans.factory.ObjectFactory;\nimport org.springframework.boot.autoconfigure.http.HttpMessageConverters;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509TrustManager;\nimport java.security.KeyManagementException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.SecureRandom;\nimport java.security.cert.X509Certificate;\n\n@Configuration\npublic class FeignClientConfig {\n\n    @Bean\n    public OkHttpClient okHttpClient() throws NoSuchAlgorithmException, KeyManagementException {\n        TrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {\n            public X509Certificate[] getAcceptedIssuers() {\n                return new X509Certificate[0];\n            }\n\n            public void checkClientTrusted(X509Certificate[] certs, String authType) {\n            }\n\n            public void checkServerTrusted(X509Certificate[] certs, String authType) {\n            }\n        }};\n\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(null, trustAllCerts, new SecureRandom());\n\n        Builder builder = new Builder();\n        builder.sslSocketFactory(sslContext.getSocketFactory(), (X509TrustManager) trustAllCerts[0]);\n        builder.hostnameVerifier((hostname, session) -&gt; true);\n        return new feign.okhttp.OkHttpClient(builder.build());\n    }\n\n    @Bean\n    public Feign.Builder feignBuilder(ObjectFactory&lt;HttpMessageConverters&gt; converters) throws Exception {\n        return Feign.builder()\n                .client(okHttpClient());\n    }\n\n    @Bean\n    Logger.Level feignLoggerLevel() {\n        return Logger.Level.HEADERS;\n    }\n}\n</code></pre>\n<p>I think ApacheHttpClient internally replaces spaces with '+'.</p>\n"}],"owner":{"account_id":22957308,"reputation":39,"user_id":17655569,"display_name":"Zakhar Borisov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75934921,"answer_count":1,"score":0,"last_activity_date":1680656572,"creation_date":1680570102,"question_id":75924756,"body_markdown":"I want to send GET request via odata with $filter parameter (`$filter=cast(–î–æ–≥–æ–≤–æ—Ä_Key,&#39;Catalog_–î–æ–≥–æ–≤–æ—Ä—ã&#39;) eq guid&#39;&lt;UUID&gt;&#39;`). As you see, there are two whitespaces in the url.\r\nOn logs feign shows url: &lt;https://mysite/odata/standard.odata/Document_%D0%A1%D1%87%D0%B5%D1%82%D0%A4%D0%B0%D0%BA%D1%82%D1%83%D1%80%D0%B0%D0%92%D1%8B%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%B9?%24format=json%3Bodata%3Dnometadata&amp;%24inlinecount=allpages&amp;%24filter=cast%28%D0%94%D0%BE%D0%B3%D0%BE%D0%B2%D0%BE%D1%80_Key%2C%27Catalog_%D0%94%D0%BE%D0%B3%D0%BE%D0%B2%D0%BE%D1%80%D1%8B%27%29%20eq%20guid%27e1004688-92d7-11ed-8f65-005056992589%27&gt;\r\n\r\nThis URL works properly on firefox, but my java application throws an error:\r\n\r\n    feign.FeignException$InternalServerError: [500 Internal server error] during [GET] to [https://mysite/odata/standard.odata/Document_%D0%A1%D1%87%D0%B5%D1%82%D0%A4%D0%B0%D0%BA%D1%82%D1%83%D1%80%D0%B0%D0%92%D1%8B%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%B9?%24format=json%3Bodata%3Dnometadata&amp;%24inlinecount=allpages&amp;%24filter=cast%28%D0%94%D0%BE%D0%B3%D0%BE%D0%B2%D0%BE%D1%80_Key%2C%27Catalog_%D0%94%D0%BE%D0%B3%D0%BE%D0%B2%D0%BE%D1%80%D1%8B%27%29%20eq%20guid%27e1004688-92d7-11ed-8f65-005056992589%27] [OdataClient#getTaxInvoiceByContractId(String,String,String,String)]: [{\r\n    &quot;odata.error&quot;: {\r\n    &quot;code&quot;: &quot;-1&quot;,\r\n    &quot;message&quot;: {\r\n    &quot;lang&quot;: &quot;ru&quot;,\r\n    &quot;value&quot;: &quot;{(3, 2)}: –û–ø–µ—Ä–∞—Ü–∏—è –Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∞ –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏ \\&quot;–ì–î–ï\\&quot;\\n&lt;&lt;?&gt;&gt;CAST( sourceAlias.–î–æ–≥–æ–≤–æ—Ä AS Catalog.–î–æ–≥–æ–≤–æ—Ä—ã )&quot;\r\n    }\r\n    }\r\n\r\n}]\r\n\r\nI don&#39;t understand, why it works on browser, but not in my application.\r\n\r\nI&#39;m using:\r\n`SpringBoot 3.0.5`, `spring-cloud-starter-openfeign 4.0.1`, `io.github.openfeign.feign-httpclient 12.2`.\r\n\r\nFeign config class. I&#39;ve customized my Feign client to disable SSL, therefore `io.github.openfeign.feign-httpclient 12.2` dependency was added. \r\n\r\n    import feign.Feign;\r\n    import feign.Logger;\r\n    import feign.httpclient.ApacheHttpClient;\r\n    import org.apache.http.conn.ssl.NoopHostnameVerifier;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    import javax.net.ssl.HostnameVerifier;\r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.X509TrustManager;\r\n    import java.security.KeyManagementException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.SecureRandom;\r\n    import java.security.cert.X509Certificate;\r\n    \r\n    @Configuration\r\n    public class FeignClientConfig {\r\n    \r\n        @Bean\r\n        public ApacheHttpClient apacheFeignClient() throws NoSuchAlgorithmException, KeyManagementException {\r\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sslContext.init(null, new TrustManager[]{new X509TrustManager() {\r\n                public X509Certificate[] getAcceptedIssuers() {\r\n                    return new X509Certificate[0];\r\n                }\r\n    \r\n                public void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n                }\r\n    \r\n                public void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n                }\r\n            }}, new SecureRandom());\r\n    \r\n            HostnameVerifier hostnameVerifier = NoopHostnameVerifier.INSTANCE;\r\n    \r\n            return new ApacheHttpClient(HttpClientBuilder.create()\r\n                    .setSSLContext(sslContext)\r\n                    .setSSLHostnameVerifier(hostnameVerifier)\r\n                    .build());\r\n        }\r\n    \r\n        @Bean\r\n        public Feign.Builder feignBuilder() throws Exception {\r\n            return Feign.builder()\r\n                    .client(apacheFeignClient());\r\n        }\r\n    \r\n        @Bean\r\n        Logger.Level feignLoggerLevel() {\r\n            return Logger.Level.BASIC;\r\n        }\r\n    }\r\n\r\nMy feign client class:\r\n\r\n    package ru.rcitsakha.bitrixapi.client;\r\n    \r\n    import org.springframework.cloud.openfeign.FeignClient;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestHeader;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import ru.rcitsakha.bitrixapi.config.FeignClientConfig;\r\n    \r\n    @FeignClient(name = &quot;odataClient&quot;, url = &quot;${odata.url}&quot;, configuration = FeignClientConfig.class)\r\n    public interface OdataClient {\r\n\r\n        // other endpoints with cirillic alphabet, but without whitespaces works fine\r\n    \r\n        // these endpoints with whitespaces doesn&#39;t work\r\n        @GetMapping(&quot;/Document_–°—á–µ—Ç–§–∞–∫—Ç—É—Ä–∞–í—ã–¥–∞–Ω–Ω—ã–π&quot;)\r\n        String getTaxInvoiceByContractId(\r\n                @RequestHeader(&quot;Authorization&quot;) String token,\r\n                @RequestParam(&quot;$format&quot;) String format,\r\n                @RequestParam(&quot;$inlinecount&quot;) String inlineCount,\r\n                @RequestParam(&quot;$filter&quot;) String contractId);\r\n    }\r\n\r\nMy repository class where the problematic request ($filter) is formed\r\n\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.log4j.Log4j2;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.cache.annotation.Cacheable;\r\n    import org.springframework.stereotype.Repository;\r\n    import ru.rcitsakha.bitrixapi.client.OdataClient;\r\n    \r\n    import java.net.URLEncoder;\r\n    import java.nio.charset.StandardCharsets;\r\n    \r\n    @Repository\r\n    @RequiredArgsConstructor\r\n    @Log4j2\r\n    public class OdataRepository {\r\n    \r\n        private final ObjectMapper mapper;\r\n        private final OdataClient odataClient;\r\n    \r\n        @Value(&quot;${odata.responseFormat}&quot;)\r\n        private String responseFormat;\r\n        @Value(&quot;${odata.inlineCount}&quot;)\r\n        private String inlineCount;\r\n        @Value(&quot;${odata.auth_token}&quot;)\r\n        private String token;\r\n    \r\n        public JsonNode getTaxInvoiceByContractId(String contractId) {\r\n            JsonNode node = null;\r\n            String filterRequest = &quot;cast(–î–æ–≥–æ–≤–æ—Ä_Key,&#39;Catalog_–î–æ–≥–æ–≤–æ—Ä—ã&#39;) eq guid&#39;&quot; + contractId + &quot;&#39;&quot;;\r\n            String responseData = odataClient.getTaxInvoiceByContractId(token, responseFormat, inlineCount, filterRequest);\r\n            try {\r\n                node = mapper.readTree(responseData);\r\n            } catch (JsonProcessingException e) {\r\n                log.error(&quot;Object mapper could not read tree&quot;);\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return node;\r\n        }\r\n    }\r\n\r\n\r\nPS:\r\nAdvices, that didn&#39;t help me:\r\n1) URLEncoder.encode\r\n2) replaceAll &quot; &quot; by &quot;%20&quot;\r\n3) RequestInterceptor that replaceAll &quot; &quot; by &quot;%20&quot;\r\n4) @QueryMap instead of @RequestParam(&quot;$filter&quot;) String contractId","title":"How to send request parameters with whitespace through a feign client (ApacheHttpClient) to odata","body":"<p>I want to send GET request via odata with $filter parameter (<code>$filter=cast(–î–æ–≥–æ–≤–æ—Ä_Key,'Catalog_–î–æ–≥–æ–≤–æ—Ä—ã') eq guid'&lt;UUID&gt;'</code>). As you see, there are two whitespaces in the url.\nOn logs feign shows url: <a href=\"https://mysite/odata/standard.odata/Document_%D0%A1%D1%87%D0%B5%D1%82%D0%A4%D0%B0%D0%BA%D1%82%D1%83%D1%80%D0%B0%D0%92%D1%8B%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%B9?%24format=json%3Bodata%3Dnometadata&amp;%24inlinecount=allpages&amp;%24filter=cast%28%D0%94%D0%BE%D0%B3%D0%BE%D0%B2%D0%BE%D1%80_Key%2C%27Catalog_%D0%94%D0%BE%D0%B3%D0%BE%D0%B2%D0%BE%D1%80%D1%8B%27%29%20eq%20guid%27e1004688-92d7-11ed-8f65-005056992589%27\" rel=\"nofollow noreferrer\">https://mysite/odata/standard.odata/Document_%D0%A1%D1%87%D0%B5%D1%82%D0%A4%D0%B0%D0%BA%D1%82%D1%83%D1%80%D0%B0%D0%92%D1%8B%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%B9?%24format=json%3Bodata%3Dnometadata&amp;%24inlinecount=allpages&amp;%24filter=cast%28%D0%94%D0%BE%D0%B3%D0%BE%D0%B2%D0%BE%D1%80_Key%2C%27Catalog_%D0%94%D0%BE%D0%B3%D0%BE%D0%B2%D0%BE%D1%80%D1%8B%27%29%20eq%20guid%27e1004688-92d7-11ed-8f65-005056992589%27</a></p>\n<p>This URL works properly on firefox, but my java application throws an error:</p>\n<pre><code>feign.FeignException$InternalServerError: [500 Internal server error] during [GET] to [https://mysite/odata/standard.odata/Document_%D0%A1%D1%87%D0%B5%D1%82%D0%A4%D0%B0%D0%BA%D1%82%D1%83%D1%80%D0%B0%D0%92%D1%8B%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%B9?%24format=json%3Bodata%3Dnometadata&amp;%24inlinecount=allpages&amp;%24filter=cast%28%D0%94%D0%BE%D0%B3%D0%BE%D0%B2%D0%BE%D1%80_Key%2C%27Catalog_%D0%94%D0%BE%D0%B3%D0%BE%D0%B2%D0%BE%D1%80%D1%8B%27%29%20eq%20guid%27e1004688-92d7-11ed-8f65-005056992589%27] [OdataClient#getTaxInvoiceByContractId(String,String,String,String)]: [{\n&quot;odata.error&quot;: {\n&quot;code&quot;: &quot;-1&quot;,\n&quot;message&quot;: {\n&quot;lang&quot;: &quot;ru&quot;,\n&quot;value&quot;: &quot;{(3, 2)}: –û–ø–µ—Ä–∞—Ü–∏—è –Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∞ –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏ \\&quot;–ì–î–ï\\&quot;\\n&lt;&lt;?&gt;&gt;CAST( sourceAlias.–î–æ–≥–æ–≤–æ—Ä AS Catalog.–î–æ–≥–æ–≤–æ—Ä—ã )&quot;\n}\n}\n</code></pre>\n<p>}]</p>\n<p>I don't understand, why it works on browser, but not in my application.</p>\n<p>I'm using:\n<code>SpringBoot 3.0.5</code>, <code>spring-cloud-starter-openfeign 4.0.1</code>, <code>io.github.openfeign.feign-httpclient 12.2</code>.</p>\n<p>Feign config class. I've customized my Feign client to disable SSL, therefore <code>io.github.openfeign.feign-httpclient 12.2</code> dependency was added.</p>\n<pre><code>import feign.Feign;\nimport feign.Logger;\nimport feign.httpclient.ApacheHttpClient;\nimport org.apache.http.conn.ssl.NoopHostnameVerifier;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.net.ssl.HostnameVerifier;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509TrustManager;\nimport java.security.KeyManagementException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.SecureRandom;\nimport java.security.cert.X509Certificate;\n\n@Configuration\npublic class FeignClientConfig {\n\n    @Bean\n    public ApacheHttpClient apacheFeignClient() throws NoSuchAlgorithmException, KeyManagementException {\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(null, new TrustManager[]{new X509TrustManager() {\n            public X509Certificate[] getAcceptedIssuers() {\n                return new X509Certificate[0];\n            }\n\n            public void checkClientTrusted(X509Certificate[] certs, String authType) {\n            }\n\n            public void checkServerTrusted(X509Certificate[] certs, String authType) {\n            }\n        }}, new SecureRandom());\n\n        HostnameVerifier hostnameVerifier = NoopHostnameVerifier.INSTANCE;\n\n        return new ApacheHttpClient(HttpClientBuilder.create()\n                .setSSLContext(sslContext)\n                .setSSLHostnameVerifier(hostnameVerifier)\n                .build());\n    }\n\n    @Bean\n    public Feign.Builder feignBuilder() throws Exception {\n        return Feign.builder()\n                .client(apacheFeignClient());\n    }\n\n    @Bean\n    Logger.Level feignLoggerLevel() {\n        return Logger.Level.BASIC;\n    }\n}\n</code></pre>\n<p>My feign client class:</p>\n<pre><code>package ru.rcitsakha.bitrixapi.client;\n\nimport org.springframework.cloud.openfeign.FeignClient;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestHeader;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport ru.rcitsakha.bitrixapi.config.FeignClientConfig;\n\n@FeignClient(name = &quot;odataClient&quot;, url = &quot;${odata.url}&quot;, configuration = FeignClientConfig.class)\npublic interface OdataClient {\n\n    // other endpoints with cirillic alphabet, but without whitespaces works fine\n\n    // these endpoints with whitespaces doesn't work\n    @GetMapping(&quot;/Document_–°—á–µ—Ç–§–∞–∫—Ç—É—Ä–∞–í—ã–¥–∞–Ω–Ω—ã–π&quot;)\n    String getTaxInvoiceByContractId(\n            @RequestHeader(&quot;Authorization&quot;) String token,\n            @RequestParam(&quot;$format&quot;) String format,\n            @RequestParam(&quot;$inlinecount&quot;) String inlineCount,\n            @RequestParam(&quot;$filter&quot;) String contractId);\n}\n</code></pre>\n<p>My repository class where the problematic request ($filter) is formed</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.log4j.Log4j2;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.cache.annotation.Cacheable;\nimport org.springframework.stereotype.Repository;\nimport ru.rcitsakha.bitrixapi.client.OdataClient;\n\nimport java.net.URLEncoder;\nimport java.nio.charset.StandardCharsets;\n\n@Repository\n@RequiredArgsConstructor\n@Log4j2\npublic class OdataRepository {\n\n    private final ObjectMapper mapper;\n    private final OdataClient odataClient;\n\n    @Value(&quot;${odata.responseFormat}&quot;)\n    private String responseFormat;\n    @Value(&quot;${odata.inlineCount}&quot;)\n    private String inlineCount;\n    @Value(&quot;${odata.auth_token}&quot;)\n    private String token;\n\n    public JsonNode getTaxInvoiceByContractId(String contractId) {\n        JsonNode node = null;\n        String filterRequest = &quot;cast(–î–æ–≥–æ–≤–æ—Ä_Key,'Catalog_–î–æ–≥–æ–≤–æ—Ä—ã') eq guid'&quot; + contractId + &quot;'&quot;;\n        String responseData = odataClient.getTaxInvoiceByContractId(token, responseFormat, inlineCount, filterRequest);\n        try {\n            node = mapper.readTree(responseData);\n        } catch (JsonProcessingException e) {\n            log.error(&quot;Object mapper could not read tree&quot;);\n            e.printStackTrace();\n        }\n\n        return node;\n    }\n}\n</code></pre>\n<p>PS:\nAdvices, that didn't help me:</p>\n<ol>\n<li>URLEncoder.encode</li>\n<li>replaceAll &quot; &quot; by &quot;%20&quot;</li>\n<li>RequestInterceptor that replaceAll &quot; &quot; by &quot;%20&quot;</li>\n<li>@QueryMap instead of @RequestParam(&quot;$filter&quot;) String contractId</li>\n</ol>\n"},{"tags":["java","temperature"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1680559382,"post_id":75924068,"comment_id":133916094,"body_markdown":"`sc.nextInt();` is leaving a dangling new line character in the input buffer, which is been read by the next `sc.nextLine();` - either use `sc.nextLine();` exclusively and parse the resulting value manually or add an additional `sc.nextLine();` after your `nextInt` calls","body":"<code>sc.nextInt();</code> is leaving a dangling new line character in the input buffer, which is been read by the next <code>sc.nextLine();</code> - either use <code>sc.nextLine();</code> exclusively and parse the resulting value manually or add an additional <code>sc.nextLine();</code> after your <code>nextInt</code> calls"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1680559812,"post_id":75924068,"comment_id":133916164,"body_markdown":"On a different note, why are you using `Thread.sleep()`?  And your  conversions won&#39;t always be accurate due to integer arithmetic.  Best to use doubles.","body":"On a different note, why are you using <code>Thread.sleep()</code>?  And your  conversions won&#39;t always be accurate due to integer arithmetic.  Best to use doubles."}],"owner":{"account_id":26676031,"reputation":9,"user_id":20286742,"display_name":"b0ngo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1680559424,"answer_count":0,"score":0,"last_activity_date":1680655602,"creation_date":1680559231,"question_id":75924068,"body_markdown":"Hi I am trying to make a small temperature converter but I cannot input what unit I&#39;m starting from. What is wrong?\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class temperatureConvertor {\r\n    \r\n    public static void main(String[] args) throws InterruptedException {\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n\r\n        System.out.println(&quot;Hello and thank you for testing this temperature convertor&quot;);\r\n        Thread.sleep(700);        \r\n        System.out.println(&quot;You can convert from Fahrenheit to Celsius and vice-versa&quot;);\r\n        Thread.sleep(650);\r\n        System.out.println(&quot;Let&#39;s begin!&quot;);\r\n        System.out.println();\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;Enter a temperature: &quot;);\r\n        int temperatureNumber = sc.nextInt();\r\n        int newCel = ((temperatureNumber-32) * 5/9);\r\n        int newFah = ((temperatureNumber * 9/5) + 32);\r\n\r\n        Thread.sleep(500);\r\n        System.out.println(&quot;Is this in fahrenheit or celsius? You can type fahrenheit/f or celsius/c &quot;);\r\n        String unit = sc.nextLine();\r\n        Thread.sleep(1000);\r\n\r\n        if(unit.equals(&quot;fahrenheit&quot;) || unit.equals(&quot;f&quot;)){\r\n            System.out.println(&quot;Starting Temperature: &quot; + temperatureNumber + &quot;&#176;F&quot;);\r\n            Thread.sleep(600);\r\n            System.out.println(&quot;New Temperature: &quot; + newCel);\r\n        }else if(unit.equals(&quot;celsius&quot;) || unit.equals(&quot;c&quot;)){\r\n            System.out.println(&quot;Starting Temperature: &quot; + temperatureNumber + &quot;&#176;C&quot;);\r\n            Thread.sleep(600);\r\n            System.out.println(&quot;New Temperature: &quot; + newFah);\r\n        }\r\n\r\n        sc.close();\r\n    }\r\n\r\n}\r\n```\r\n\r\nCurrent output looks like that:\r\n\r\n[![CurrentOutput][1]][1]\r\n\r\n\r\nI tried to putting the conversion variables before the starting temperature and I tried putting the conversions in each conditonal.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DA5TT.png","title":"Why won&#39;t my program let me input whether I&#39;m converting from Fahrenheit or Celsius?","body":"<p>Hi I am trying to make a small temperature converter but I cannot input what unit I'm starting from. What is wrong?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class temperatureConvertor {\n    \n    public static void main(String[] args) throws InterruptedException {\n        Scanner sc = new Scanner(System.in);\n\n\n        System.out.println(&quot;Hello and thank you for testing this temperature convertor&quot;);\n        Thread.sleep(700);        \n        System.out.println(&quot;You can convert from Fahrenheit to Celsius and vice-versa&quot;);\n        Thread.sleep(650);\n        System.out.println(&quot;Let's begin!&quot;);\n        System.out.println();\n        System.out.println();\n\n        System.out.println(&quot;Enter a temperature: &quot;);\n        int temperatureNumber = sc.nextInt();\n        int newCel = ((temperatureNumber-32) * 5/9);\n        int newFah = ((temperatureNumber * 9/5) + 32);\n\n        Thread.sleep(500);\n        System.out.println(&quot;Is this in fahrenheit or celsius? You can type fahrenheit/f or celsius/c &quot;);\n        String unit = sc.nextLine();\n        Thread.sleep(1000);\n\n        if(unit.equals(&quot;fahrenheit&quot;) || unit.equals(&quot;f&quot;)){\n            System.out.println(&quot;Starting Temperature: &quot; + temperatureNumber + &quot;¬∞F&quot;);\n            Thread.sleep(600);\n            System.out.println(&quot;New Temperature: &quot; + newCel);\n        }else if(unit.equals(&quot;celsius&quot;) || unit.equals(&quot;c&quot;)){\n            System.out.println(&quot;Starting Temperature: &quot; + temperatureNumber + &quot;¬∞C&quot;);\n            Thread.sleep(600);\n            System.out.println(&quot;New Temperature: &quot; + newFah);\n        }\n\n        sc.close();\n    }\n\n}\n</code></pre>\n<p>Current output looks like that:</p>\n<p><a href=\"https://i.stack.imgur.com/DA5TT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DA5TT.png\" alt=\"CurrentOutput\" /></a></p>\n<p>I tried to putting the conversion variables before the starting temperature and I tried putting the conversions in each conditonal.</p>\n"},{"tags":["java","spring","spring-boot","error-handling"],"owner":{"account_id":25266045,"reputation":141,"user_id":19096205,"display_name":"Gojo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680654685,"creation_date":1680654685,"question_id":75934828,"body_markdown":"I have a custom exception handler class and need to check certain exceptions and handle it by throwing a PromotionsGenericExceptionResponse. However I get an error saying theres ambiguity since the ResponseEntityExceptionHandler already has a method which handles that exception. How do I make spring use my custom exception handler only? I tried using @Order() annotation but i still get the same error below:\r\n\r\n```\r\n\r\nBeanCreationException: Error creating bean with name &#39;handlerExceptionResolver&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerExceptionResolver]: Factory method &#39;handlerExceptionResolver&#39; threw exception; nested exception is java.lang.IllegalStateException: Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.ServletRequestBindingException]: {public org.springframework.http.ResponseEntity com.a.apis.promotions.exception.PromotionsExceptionHandler.handleServletRequestBindingException(org.springframework.web.bind.ServletRequestBindingException,org.springframework.http.HttpHeaders,org.springframework.http.HttpStatus,org.springframework.web.context.request.WebRequest) throws com.a.apis.promotions.exception.PromotionsGenericException, public final org.springframework.http.ResponseEntity org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler.handleException(java.lang.Exception,org.springframework.web.context.request.WebRequest) throws java.lang.Exception\r\n```\r\n\r\nthis is the exceptionhandler class which extends from ResponseEntityExceptionHandler where I guess it already has a method for handling ServletRequestBindingException\r\n\r\n```\r\n@ControllerAdvice\r\npublic class PromotionsExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n    @ExceptionHandler(ServletRequestBindingException.class)\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public ResponseEntity&lt;Object&gt; handleServletRequestBindingException(ServletRequestBindingException ex, HttpHeaders headers, HttpStatus status, WebRequest request) throws PromotionsGenericException {\r\n        PromotionsGenericExceptionResponse exception = new PromotionsGenericExceptionResponse(new Date(), ex.getMessage(), ex.toString());\r\n        return new ResponseEntity&lt;&gt;(exception, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    }\r\n```\r\n\r\nhow can I use my own exception handler and get the server to start without crashing from this ambiguity issue?\r\n","title":"Ambiguity error in error handling ServletRequestBindingException","body":"<p>I have a custom exception handler class and need to check certain exceptions and handle it by throwing a PromotionsGenericExceptionResponse. However I get an error saying theres ambiguity since the ResponseEntityExceptionHandler already has a method which handles that exception. How do I make spring use my custom exception handler only? I tried using @Order() annotation but i still get the same error below:</p>\n<pre><code>\nBeanCreationException: Error creating bean with name 'handlerExceptionResolver' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerExceptionResolver]: Factory method 'handlerExceptionResolver' threw exception; nested exception is java.lang.IllegalStateException: Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.ServletRequestBindingException]: {public org.springframework.http.ResponseEntity com.a.apis.promotions.exception.PromotionsExceptionHandler.handleServletRequestBindingException(org.springframework.web.bind.ServletRequestBindingException,org.springframework.http.HttpHeaders,org.springframework.http.HttpStatus,org.springframework.web.context.request.WebRequest) throws com.a.apis.promotions.exception.PromotionsGenericException, public final org.springframework.http.ResponseEntity org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler.handleException(java.lang.Exception,org.springframework.web.context.request.WebRequest) throws java.lang.Exception\n</code></pre>\n<p>this is the exceptionhandler class which extends from ResponseEntityExceptionHandler where I guess it already has a method for handling ServletRequestBindingException</p>\n<pre><code>@ControllerAdvice\npublic class PromotionsExceptionHandler extends ResponseEntityExceptionHandler {\n\n    @ExceptionHandler(ServletRequestBindingException.class)\n    @Order(Ordered.HIGHEST_PRECEDENCE)\n    public ResponseEntity&lt;Object&gt; handleServletRequestBindingException(ServletRequestBindingException ex, HttpHeaders headers, HttpStatus status, WebRequest request) throws PromotionsGenericException {\n        PromotionsGenericExceptionResponse exception = new PromotionsGenericExceptionResponse(new Date(), ex.getMessage(), ex.toString());\n        return new ResponseEntity&lt;&gt;(exception, HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n</code></pre>\n<p>how can I use my own exception handler and get the server to start without crashing from this ambiguity issue?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":36138,"reputation":17797,"user_id":102939,"display_name":"Gennadiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1278708386,"creation_date":1278708386,"answer_id":3216432,"question_id":3216394,"body_markdown":"I believe Class.getResourceAsStream will take paths relative to the location of the class file, in your case the classes/com/ieml/swt/diploma folder. You may want to try \r\n  \r\n      loadTest.class.getClassLoader().getResourceAsStream(&quot;../images/&quot; + filename);\r\n\r\nI assume that your images folder is on the same level as your bin or classes folder. The basic idea is that you can get a resource by a relative path from your classloader root (your classpath root).\r\n\r\nThis is not always a good idea but since this looks like a school project I don&#39;t think that would be an issue.","title":"loadResourceasStream from a subfolder of the project java","body":"<p>I believe Class.getResourceAsStream will take paths relative to the location of the class file, in your case the classes/com/ieml/swt/diploma folder. You may want to try </p>\n\n<pre><code>  loadTest.class.getClassLoader().getResourceAsStream(\"../images/\" + filename);\n</code></pre>\n\n<p>I assume that your images folder is on the same level as your bin or classes folder. The basic idea is that you can get a resource by a relative path from your classloader root (your classpath root).</p>\n\n<p>This is not always a good idea but since this looks like a school project I don't think that would be an issue.</p>\n"},{"tags":[],"owner":{"account_id":46925,"reputation":8408,"user_id":138837,"accept_rate":60,"display_name":"Drew Wills"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680653179,"creation_date":1278708416,"answer_id":3216436,"question_id":3216394,"body_markdown":"The `getResourceAsStream()` method loads classpath resources. Make sure that the images directory in your classpath.","title":"loadResourceasStream from a subfolder of the project java","body":"<p>The <code>getResourceAsStream()</code> method loads classpath resources. Make sure that the images directory in your classpath.</p>\n"},{"comments":[{"owner":{"account_id":164996,"reputation":45,"user_id":388115,"display_name":"usmazat"},"score":0,"creation_date":1278710193,"post_id":3216437,"comment_id":3317405,"body_markdown":"ye I had the copying idea on my mind in this situatiation it would be no problem, but what if my files a large like 5-10 MB in size each?. that&#39;s why I decided to put them in a separate folder rather then in bin. so i tried both loadTest.class.getClassLoader().getResourceAsStream(&quot;./images/&quot; + fileName); and loadTest.class.getClassLoader().getResourceAsStream(&quot;/images/&quot; + fileName); with no luck could you please explain where does it trying look up the file in the last 2 cases ?","body":"ye I had the copying idea on my mind in this situatiation it would be no problem, but what if my files a large like 5-10 MB in size each?. that&#39;s why I decided to put them in a separate folder rather then in bin. so i tried both loadTest.class.getClassLoader().getResourceAsStream(&quot;./image&zwnj;&#8203;s/&quot; + fileName); and loadTest.class.getClassLoader().getResourceAsStream(&quot;/images&zwnj;&#8203;/&quot; + fileName); with no luck could you please explain where does it trying look up the file in the last 2 cases ?"},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1278710771,"post_id":3216437,"comment_id":3317470,"body_markdown":"@usmazat: in both cases it will look in bin/images. As I said: getResourceAsStream() *cannot* go outside the classpath, no matter what you do. Copying a few 10 MB files is not that much of a problem, especially since you shouldn&#39;t need to do a full build very often with a good IDE.","body":"@usmazat: in both cases it will look in bin/images. As I said: getResourceAsStream() <i>cannot</i> go outside the classpath, no matter what you do. Copying a few 10 MB files is not that much of a problem, especially since you shouldn&#39;t need to do a full build very often with a good IDE."}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1278708417,"creation_date":1278708417,"answer_id":3216437,"question_id":3216394,"body_markdown":"    loadTest.class.getResourceAsStream(&quot;./images/&quot; + fileName);\r\n\r\nThis will look for the images under `bin/com/ieml/swt/diploma/images`, i.e. relative to the `.class` file. If you leave out the dot in the beginning, it will look in `bin/images`.\r\n\r\nBut whatever you do, `Class.getResourceAsStream()` is for loading resources *from the classpath*, i.e. inside the `bin` folder. There is no way to access anything outside, and it wouldn&#39;t make much sense anyway, since it&#39;s designed to work for JAR files as well. Usually, you actually put the resources in the `src` folder and copy them to `bin` during the build (eclipse will do this automatically).","title":"loadResourceasStream from a subfolder of the project java","body":"<pre><code>loadTest.class.getResourceAsStream(\"./images/\" + fileName);\n</code></pre>\n\n<p>This will look for the images under <code>bin/com/ieml/swt/diploma/images</code>, i.e. relative to the <code>.class</code> file. If you leave out the dot in the beginning, it will look in <code>bin/images</code>.</p>\n\n<p>But whatever you do, <code>Class.getResourceAsStream()</code> is for loading resources <em>from the classpath</em>, i.e. inside the <code>bin</code> folder. There is no way to access anything outside, and it wouldn't make much sense anyway, since it's designed to work for JAR files as well. Usually, you actually put the resources in the <code>src</code> folder and copy them to <code>bin</code> during the build (eclipse will do this automatically).</p>\n"},{"tags":[],"owner":{"account_id":150948,"reputation":3961,"user_id":364485,"accept_rate":78,"display_name":"Curtis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1278709148,"creation_date":1278709148,"answer_id":3216525,"question_id":3216394,"body_markdown":"Depending on what you&#39;re trying to do, this may not be the right way to go about it.  getResourceAsStream is commonly used to load icons from a jar on the classpath.  If you&#39;re just trying to get a hold of an image on disk for some reason, take a look at the static methods on javax.imageio.ImageIO: http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/","title":"loadResourceasStream from a subfolder of the project java","body":"<p>Depending on what you're trying to do, this may not be the right way to go about it.  getResourceAsStream is commonly used to load icons from a jar on the classpath.  If you're just trying to get a hold of an image on disk for some reason, take a look at the static methods on javax.imageio.ImageIO: <a href=\"http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/\" rel=\"nofollow noreferrer\">http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/</a></p>\n"}],"owner":{"account_id":164996,"reputation":45,"user_id":388115,"display_name":"usmazat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10862,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":3216437,"answer_count":4,"score":3,"last_activity_date":1680653179,"creation_date":1278707956,"question_id":3216394,"body_markdown":"I am sure it&#39;s a basic  question , I just can&#39;t figure it out\r\nI am trying to load  bunch of images  located in  images subfolder of my project \r\n\r\nhere is my code\r\n\r\n    package com.ieml.swt.diploma;\r\n    \r\n    import java.io.InputStream;\r\n    \r\n    \r\n    \r\n    public class loadTest\r\n    {\r\n    \t\r\n    \r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\t\r\n    System.out.println(getResourceImage(&quot;marks.png&quot;));\r\n    \t}\r\n    \r\n    \r\n    \tpublic static InputStream getResourceImage(String fileName) {\r\n    \r\n    \t\treturn loadTest.class.getResourceAsStream(&quot;./images/&quot; + fileName);\r\n    \t}\r\n    }\r\n\r\n I have a separe folders for src and class files\r\nso .java file is located in  src/com/ieml/swt/diploma folder\r\nand .class file under bin/com/ieml/swt/diploma folder  \r\nfiles I&#39;m trying to load  here  do existt in the &quot;loadTest/images&quot; subfolder loadTest is my project&#39;s root directory\r\nit justs print s null like it&#39;s doesn&#39;t load this file\r\nam I missing something here ?\r\n ","title":"loadResourceasStream from a subfolder of the project java","body":"<p>I am sure it's a basic  question , I just can't figure it out\nI am trying to load  bunch of images  located in  images subfolder of my project </p>\n\n<p>here is my code</p>\n\n<pre><code>package com.ieml.swt.diploma;\n\nimport java.io.InputStream;\n\n\n\npublic class loadTest\n{\n\n\n    public static void main(String[] args) \n    {\n\nSystem.out.println(getResourceImage(\"marks.png\"));\n    }\n\n\n    public static InputStream getResourceImage(String fileName) {\n\n        return loadTest.class.getResourceAsStream(\"./images/\" + fileName);\n    }\n}\n</code></pre>\n\n<p>I have a separe folders for src and class files\nso .java file is located in  src/com/ieml/swt/diploma folder\nand .class file under bin/com/ieml/swt/diploma folder<br>\nfiles I'm trying to load  here  do existt in the \"loadTest/images\" subfolder loadTest is my project's root directory\nit justs print s null like it's doesn't load this file\nam I missing something here ?</p>\n"},{"tags":["java","xml","spring"],"answers":[{"tags":[],"owner":{"account_id":24870913,"reputation":87,"user_id":18745426,"display_name":"NervousDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680653144,"creation_date":1680653144,"answer_id":75934728,"question_id":75934727,"body_markdown":"Spring 5.3.9 is not compitable with this method. I updated my spring version 5.3.26 it works without changing any code.","title":"Annotation based Injection failed","body":"<p>Spring 5.3.9 is not compitable with this method. I updated my spring version 5.3.26 it works without changing any code.</p>\n"}],"owner":{"account_id":24870913,"reputation":87,"user_id":18745426,"display_name":"NervousDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75934728,"answer_count":1,"score":0,"last_activity_date":1680653144,"creation_date":1680653144,"question_id":75934727,"body_markdown":"I am new at spring. I would like to use annotation to inject database selection.\r\nI&#39;m giving the package name to the xml file and the method runs all the files and trying to locate `@Component(&quot;database&quot;)` if it finds then uses it as the selected database.\r\n\r\nUsing Java 19\r\n\r\nUsing Spring 5.3.9\r\n\r\n\r\nI tried to reinstall the jdk and spring it didnt change anything.\r\n\r\nI&#39;m getting this error.\r\n\r\n```\r\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: [eclipse-workspace\\JavaSpring\\springIocAnnotation\\bin\\com\\springDemo\\ICustomerDal.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [eclipse-workspace\\JavaSpring\\springIocAnnotation\\bin\\com\\springDemo\\ICustomerDal.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 63\r\n```\r\n\r\nHere is my files:\r\n\r\n**applicationContext.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\t   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t   xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\t   xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n\t   http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t   http://www.springframework.org/schema/context\r\n\t   http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n\t   \r\n\t&lt;context:component-scan base-package=&quot;com.springDemo&quot;&gt;&lt;/context:component-scan&gt;\r\n\r\n&lt;/beans&gt;\r\n```\r\n**ICustomerDal.java**\r\n\r\n```\r\npackage com.springDemo;\r\n\r\npublic interface ICustomerDal {\r\n\tvoid add();\r\n}\r\n\r\n```\r\n\r\n**Main.java**\r\n\r\n```\r\npackage com.springDemo;\r\n\r\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tClassPathXmlApplicationContext  context = \r\n\t\tnew ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\r\n\t\t\t\t\r\n\t\tICustomerDal customerDal = context.getBean(&quot;database&quot;,ICustomerDal.class);\r\n\t\t\r\n\t\tcustomerDal.add();\r\n\t\t\t\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n**mySqlCustomerDal.java**\r\n```\r\npackage com.springDemo;\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component(&quot;database&quot;)\r\npublic class mySqlCustomerDal implements ICustomerDal{\r\n\tString connectionString;\r\n\tpublic String getConnectionString() {\r\n\t\treturn connectionString;\r\n\t}\r\n\tpublic void setConnectionString(String connectionString) {\r\n\t\tthis.connectionString = connectionString;\r\n\t}\r\n\t@Override\r\n\tpublic void add() {\r\n\t\tSystem.out.println(&quot;Connection String : &quot; +this.connectionString);\r\n\r\n\t\tSystem.out.println(&quot;MySQL database added&quot;);\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\n\r\n","title":"Annotation based Injection failed","body":"<p>I am new at spring. I would like to use annotation to inject database selection.\nI'm giving the package name to the xml file and the method runs all the files and trying to locate <code>@Component(&quot;database&quot;)</code> if it finds then uses it as the selected database.</p>\n<p>Using Java 19</p>\n<p>Using Spring 5.3.9</p>\n<p>I tried to reinstall the jdk and spring it didnt change anything.</p>\n<p>I'm getting this error.</p>\n<pre><code>Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: [eclipse-workspace\\JavaSpring\\springIocAnnotation\\bin\\com\\springDemo\\ICustomerDal.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [eclipse-workspace\\JavaSpring\\springIocAnnotation\\bin\\com\\springDemo\\ICustomerDal.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 63\n</code></pre>\n<p>Here is my files:</p>\n<p><strong>applicationContext.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context\n       http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\n       \n    &lt;context:component-scan base-package=&quot;com.springDemo&quot;&gt;&lt;/context:component-scan&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p><strong>ICustomerDal.java</strong></p>\n<pre><code>package com.springDemo;\n\npublic interface ICustomerDal {\n    void add();\n}\n\n</code></pre>\n<p><strong>Main.java</strong></p>\n<pre><code>package com.springDemo;\n\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        ClassPathXmlApplicationContext  context = \n        new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\n                \n        ICustomerDal customerDal = context.getBean(&quot;database&quot;,ICustomerDal.class);\n        \n        customerDal.add();\n            \n    }\n    \n}\n\n</code></pre>\n<p><strong>mySqlCustomerDal.java</strong></p>\n<pre><code>package com.springDemo;\n\nimport org.springframework.stereotype.Component;\n\n@Component(&quot;database&quot;)\npublic class mySqlCustomerDal implements ICustomerDal{\n    String connectionString;\n    public String getConnectionString() {\n        return connectionString;\n    }\n    public void setConnectionString(String connectionString) {\n        this.connectionString = connectionString;\n    }\n    @Override\n    public void add() {\n        System.out.println(&quot;Connection String : &quot; +this.connectionString);\n\n        System.out.println(&quot;MySQL database added&quot;);\n    }\n    \n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","spring-boot-test"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680599169,"post_id":75927358,"comment_id":133921418,"body_markdown":"`@TestConfiguration` is an `@Configuration (see https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/TestConfiguration.html) and as such will be detected as a normal configuration.","body":"<code>@TestConfiguration</code> is an `@Configuration (see <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/TestConfiguration.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/api/org/springframew&zwnj;&#8203;ork/&hellip;</a>) and as such will be detected as a normal configuration."}],"owner":{"account_id":15907779,"reputation":211,"user_id":11478495,"display_name":"Anthony Alba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680652088,"creation_date":1680598380,"question_id":75927358,"body_markdown":"Problem: test class that contains `@SpringBootConfiguration`/`@ComponentScan` picks up `@TestConfiguration` without explicit `@Import`\r\n\r\nWe are taught that top-level `@TestConfiguration` classes need to be explicitly `@Import`-ed - this is to avoid package test beans from polluting other package tests.\r\n\r\nBut a test class,  `pkg1.1stTest` say, with a nested class annotated with `@SpringBootConfiguration`/`@ComponentScan` is picking up `@TestConfiguration` beans unexpectedly. The test class is not `@Import`-ing anything. In this case the `@TestConfiguration` class is a sibling: `pkg1.1stTestConfig`.\r\n\r\nI am using `@SpringBootConfiguration` inside the test class to reduce the slice of the test.\r\n\r\n\r\nIs there a way to prevent `@TestConfiguration` beans from being picked up?\r\n\r\n\r\nSurprisingly - an unrelated test class, `pkg2.2ndTest` say,  that scans from the root also picks up the beans from `1stTestConfig` ‚Äî this behaviour is really counter-intuitive. \r\n\r\nTo reiterate both `1stTest`, `2ndTest` aren&#39;t `@Import`-ing.\r\nIt is as if `@TestConfiguration` is behaving like `@Configuration`.\r\n\r\nUpdate: if you use `@ComponentScan` inside a test class it **will** discover all `@TestConfiguration` beans even if you don&#39;t `@Import` them\r\n\r\n&gt; If you directly use @ComponentScan (i.e. not via @SpringBootApplication) you will need to register the TypeExcludeFilter with it. See the Javadoc for details.\r\n\r\nSee: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.testing.spring-boot-applications.excluding-configuration","title":"Test class with @SpringConfiguration/@ComponentScan is picking up @TestConfiguration without @Import","body":"<p>Problem: test class that contains <code>@SpringBootConfiguration</code>/<code>@ComponentScan</code> picks up <code>@TestConfiguration</code> without explicit <code>@Import</code></p>\n<p>We are taught that top-level <code>@TestConfiguration</code> classes need to be explicitly <code>@Import</code>-ed - this is to avoid package test beans from polluting other package tests.</p>\n<p>But a test class,  <code>pkg1.1stTest</code> say, with a nested class annotated with <code>@SpringBootConfiguration</code>/<code>@ComponentScan</code> is picking up <code>@TestConfiguration</code> beans unexpectedly. The test class is not <code>@Import</code>-ing anything. In this case the <code>@TestConfiguration</code> class is a sibling: <code>pkg1.1stTestConfig</code>.</p>\n<p>I am using <code>@SpringBootConfiguration</code> inside the test class to reduce the slice of the test.</p>\n<p>Is there a way to prevent <code>@TestConfiguration</code> beans from being picked up?</p>\n<p>Surprisingly - an unrelated test class, <code>pkg2.2ndTest</code> say,  that scans from the root also picks up the beans from <code>1stTestConfig</code> ‚Äî this behaviour is really counter-intuitive.</p>\n<p>To reiterate both <code>1stTest</code>, <code>2ndTest</code> aren't <code>@Import</code>-ing.\nIt is as if <code>@TestConfiguration</code> is behaving like <code>@Configuration</code>.</p>\n<p>Update: if you use <code>@ComponentScan</code> inside a test class it <strong>will</strong> discover all <code>@TestConfiguration</code> beans even if you don't <code>@Import</code> them</p>\n<blockquote>\n<p>If you directly use @ComponentScan (i.e. not via @SpringBootApplication) you will need to register the TypeExcludeFilter with it. See the Javadoc for details.</p>\n</blockquote>\n<p>See: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.testing.spring-boot-applications.excluding-configuration\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.testing.spring-boot-applications.excluding-configuration</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1680651306,"post_id":75934544,"comment_id":133933712,"body_markdown":"Please limit your code to a [mcve] of the problem you are having with an [edit]","body":"Please limit your code to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the problem you are having with an <a href=\"https://stackoverflow.com/posts/75934544/edit\">edit</a>"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680651622,"creation_date":1680651622,"answer_id":75934639,"question_id":75934544,"body_markdown":"Try using a filter\r\n\r\n```\r\nSystem.out.println(&quot;Search by price - \\n&quot; +\r\n                &quot;Enter the minimum price:&quot;);\r\nint minimumPrice = scanner.nextInt();\r\nSystem.out.println(&quot;Enter the maximum price:&quot;);\r\nint maximumPrice = scanner.nextInt();\r\n\r\nList&lt;Toy&gt; filtered = toys\r\n    .stream()\r\n    .filter(t -&gt; t.getCost() &lt;= maximumPrice &amp;&amp; t.getCost() &gt;= minimumPrice)\r\n    .collect(Collectors.toList());\r\nSystem.out.println(filtered);\r\n```","title":"Enter the min and max price. The console displays toys in the range specified by the user&#39;s price","body":"<p>Try using a filter</p>\n<pre><code>System.out.println(&quot;Search by price - \\n&quot; +\n                &quot;Enter the minimum price:&quot;);\nint minimumPrice = scanner.nextInt();\nSystem.out.println(&quot;Enter the maximum price:&quot;);\nint maximumPrice = scanner.nextInt();\n\nList&lt;Toy&gt; filtered = toys\n    .stream()\n    .filter(t -&gt; t.getCost() &lt;= maximumPrice &amp;&amp; t.getCost() &gt;= minimumPrice)\n    .collect(Collectors.toList());\nSystem.out.println(filtered);\n</code></pre>\n"}],"owner":{"account_id":28217300,"reputation":11,"user_id":21568607,"display_name":"Khojimurod"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75934639,"answer_count":1,"score":0,"last_activity_date":1680651622,"creation_date":1680650323,"question_id":75934544,"body_markdown":"I have a problem with filtering.\r\nI want the user to enter the minimum price and the maximum, and after this operation, toys in the price range by the user are displayed on the console. Before that, we create toys ourselves, specifying the size, price and age.\r\n\r\nThis is a class Toy\r\n\r\n```\r\npackage Models;\r\n\r\npublic class Toy implements Comparable&lt;Toy&gt; {\r\n    private String size;\r\n    private int cost;\r\n    private int age;\r\n    protected String name;\r\n\r\n    public Toy(String size, int cost, int age) {\r\n        this.size = size;\r\n        this.cost = cost;\r\n        this.age = age;\r\n    }\r\n\r\n    public Toy() {\r\n    }\r\n\r\n    public int getCost() {\r\n        return cost;\r\n    }\r\n\r\n    public void setCost(int cost) {\r\n        this.cost = cost;\r\n    }\r\n\r\n    public String getSize() {\r\n        return size;\r\n    }\r\n\r\n    public void setSize(String size) {\r\n        this.size = size;\r\n    }\r\n\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return this.name + &quot; -&quot; + &quot; Size: &quot; + getSize() + &quot;, Price: &quot; + getCost() + &quot;$, &quot; + &quot;Age: &quot; + getAge();\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(Toy target) {\r\n        return Integer.compare(this.getCost(), target.getCost());\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThis is the Main class\r\n\r\n```\r\nimport Models.*;\r\n\r\nimport java.util.*;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static Scanner scanner = new Scanner(System.in);\r\n    private static ArrayList&lt;Toy&gt; toys = new ArrayList&lt;Toy&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        MainMenu();\r\n    }\r\n\r\n//Menu:\r\n//    1. Create toy\r\n//    2. Remove toys\r\n//    3. Sort toys\r\n//    4. Search toys\r\n\r\n    public static void MainMenu() {\r\n        System.out.println(&quot;–ú–µ–Ω—é:\\n&quot; +\r\n                &quot;1. Create toy\\n&quot; +\r\n                &quot;2. Remove toys\\n&quot; +\r\n                &quot;3. Sort toys\\n&quot; +\r\n                &quot;4. Search toys\\n&quot; +\r\n                &quot;0. Exit the application&quot;);\r\n\r\n        int selectMenu = scanner.nextInt();\r\n        switch (selecMenu) {\r\n            case 1:\r\n                AddToyMenu();\r\n                break;\r\n            case 2:\r\n                RemoveToys();\r\n                break;\r\n            case 3:\r\n                SortMenu();\r\n                break;\r\n            case 4:\r\n                SearchMenu();\r\n                break;\r\n            case 0:\r\n                System.exit(0);\r\n                break;\r\n        }\r\n    }\r\n\r\n    public static void AddToyMenu() {\r\n        System.out.println(&quot;1. Car\\n&quot; +\r\n                &quot;2. Boll\\n&quot; +\r\n                &quot;3. Doll\\n&quot; +\r\n                &quot;4. Block\\n&quot; +\r\n                &quot;0. Back&quot;);\r\n\r\n        Toy toy = null;\r\n\r\n        int selectedToys = scanner.nextInt();\r\n        switch (selectedToys) {\r\n            case 1:\r\n                toy = new Car();\r\n                break;\r\n            case 2:\r\n                toy = new Ball();\r\n                break;\r\n            case 3:\r\n                toy = new Doll();\r\n                break;\r\n            case 4:\r\n                toy = new Block();\r\n                break;\r\n            case 0:\r\n                MainMenu();\r\n                break;\r\n        }\r\n        toys.add(toy);\r\n        SelectSize(toy);\r\n    }\r\n\r\n    public static void SelectSize(Toy toy) {\r\n        System.out.println(&quot;–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–º–µ—Ä: \\n&quot; +\r\n                &quot;1. Large\\n&quot; +\r\n                &quot;2. Medium\\n&quot; +\r\n                &quot;3. Small&quot;);\r\n\r\n        int selectedSize = scanner.nextInt();\r\n        switch (selectedSize) {\r\n            case 1:\r\n                toy.setSize(&quot;Large&quot;);\r\n                break;\r\n            case 2:\r\n                toy.setSize(&quot;Medium&quot;);\r\n                break;\r\n            case 3:\r\n                toy.setSize(&quot;Small&quot;);\r\n                break;\r\n        }\r\n        SetCost(toy);\r\n    }\r\n\r\n    public static void SetCost(Toy toy) {\r\n        System.out.println(&quot;Keep the price: &quot;);\r\n        toy.setCost(scanner.nextInt());\r\n        SetAge(toy);\r\n    }\r\n\r\n    public static void SetAge(Toy toy) {\r\n        System.out.println(&quot;Keep the age: &quot;);\r\n        toy.setAge(scanner.nextInt());\r\n        MainMenu();\r\n    }\r\n\r\n    public static void RemoveToys() {\r\n        System.out.println(&quot;Choose a toy to remove: &quot;);\r\n\r\n        for (int i = 0; i &lt; toys.size(); i++) {\r\n            System.out.println(i + &quot; &quot; + toys.get(i));\r\n        }\r\n        System.out.println(&quot;0. –ù–∞–∑–∞–¥&quot;);\r\n\r\n        int removeToy = scanner.nextInt();\r\n        switch (removeToy) {\r\n            case 0:\r\n                MainMenu();\r\n                break;\r\n        }\r\n        if (removeToy &lt;= toys.size()) {\r\n            toys.remove(removeToy - 1);\r\n        }\r\n    }\r\n\r\n    public static void SortMenu() {\r\n        System.out.println(&quot;1. Descending order\\n&quot; +\r\n                &quot;2. Ascending\\n&quot; +\r\n                &quot;0. Back&quot;);\r\n\r\n        ArrayList&lt;Toy&gt; copy = new ArrayList&lt;&gt;(toys);\r\n\r\n        int selectSort = scanner.nextInt();\r\n        switch (selectSort) {\r\n            case 1:\r\n                Collections.sort(copy);\r\n                System.out.println(copy);\r\n                break;\r\n            case 2:\r\n                Collections.sort(copy);\r\n                Collections.reverse(copy);\r\n                System.out.println(copy);\r\n                break;\r\n            case 0:\r\n                MainMenu();\r\n                break;\r\n        }\r\n    }\r\n\r\n    private static void SearchMenu() {\r\n        System.out.println(&quot;Search by price - \\n&quot; +\r\n                &quot;Enter the minimum price:&quot;);\r\n\r\n        int minimumPrice = scanner.nextInt();\r\n        System.out.println(&quot;Enter the maximum price:&quot;);\r\n        int maximumPrice = scanner.nextInt();\r\n\r\n        ArrayList&lt;Toy&gt; search = new ArrayList&lt;&gt;(toys);\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\nI will be very grateful if you help","title":"Enter the min and max price. The console displays toys in the range specified by the user&#39;s price","body":"<p>I have a problem with filtering.\nI want the user to enter the minimum price and the maximum, and after this operation, toys in the price range by the user are displayed on the console. Before that, we create toys ourselves, specifying the size, price and age.</p>\n<p>This is a class Toy</p>\n<pre><code>package Models;\n\npublic class Toy implements Comparable&lt;Toy&gt; {\n    private String size;\n    private int cost;\n    private int age;\n    protected String name;\n\n    public Toy(String size, int cost, int age) {\n        this.size = size;\n        this.cost = cost;\n        this.age = age;\n    }\n\n    public Toy() {\n    }\n\n    public int getCost() {\n        return cost;\n    }\n\n    public void setCost(int cost) {\n        this.cost = cost;\n    }\n\n    public String getSize() {\n        return size;\n    }\n\n    public void setSize(String size) {\n        this.size = size;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    @Override\n    public String toString() {\n        return this.name + &quot; -&quot; + &quot; Size: &quot; + getSize() + &quot;, Price: &quot; + getCost() + &quot;$, &quot; + &quot;Age: &quot; + getAge();\n    }\n\n    @Override\n    public int compareTo(Toy target) {\n        return Integer.compare(this.getCost(), target.getCost());\n    }\n}\n\n</code></pre>\n<p>This is the Main class</p>\n<pre><code>import Models.*;\n\nimport java.util.*;\nimport java.util.Scanner;\n\npublic class Main {\n    public static Scanner scanner = new Scanner(System.in);\n    private static ArrayList&lt;Toy&gt; toys = new ArrayList&lt;Toy&gt;();\n\n    public static void main(String[] args) {\n        MainMenu();\n    }\n\n//Menu:\n//    1. Create toy\n//    2. Remove toys\n//    3. Sort toys\n//    4. Search toys\n\n    public static void MainMenu() {\n        System.out.println(&quot;–ú–µ–Ω—é:\\n&quot; +\n                &quot;1. Create toy\\n&quot; +\n                &quot;2. Remove toys\\n&quot; +\n                &quot;3. Sort toys\\n&quot; +\n                &quot;4. Search toys\\n&quot; +\n                &quot;0. Exit the application&quot;);\n\n        int selectMenu = scanner.nextInt();\n        switch (selecMenu) {\n            case 1:\n                AddToyMenu();\n                break;\n            case 2:\n                RemoveToys();\n                break;\n            case 3:\n                SortMenu();\n                break;\n            case 4:\n                SearchMenu();\n                break;\n            case 0:\n                System.exit(0);\n                break;\n        }\n    }\n\n    public static void AddToyMenu() {\n        System.out.println(&quot;1. Car\\n&quot; +\n                &quot;2. Boll\\n&quot; +\n                &quot;3. Doll\\n&quot; +\n                &quot;4. Block\\n&quot; +\n                &quot;0. Back&quot;);\n\n        Toy toy = null;\n\n        int selectedToys = scanner.nextInt();\n        switch (selectedToys) {\n            case 1:\n                toy = new Car();\n                break;\n            case 2:\n                toy = new Ball();\n                break;\n            case 3:\n                toy = new Doll();\n                break;\n            case 4:\n                toy = new Block();\n                break;\n            case 0:\n                MainMenu();\n                break;\n        }\n        toys.add(toy);\n        SelectSize(toy);\n    }\n\n    public static void SelectSize(Toy toy) {\n        System.out.println(&quot;–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–º–µ—Ä: \\n&quot; +\n                &quot;1. Large\\n&quot; +\n                &quot;2. Medium\\n&quot; +\n                &quot;3. Small&quot;);\n\n        int selectedSize = scanner.nextInt();\n        switch (selectedSize) {\n            case 1:\n                toy.setSize(&quot;Large&quot;);\n                break;\n            case 2:\n                toy.setSize(&quot;Medium&quot;);\n                break;\n            case 3:\n                toy.setSize(&quot;Small&quot;);\n                break;\n        }\n        SetCost(toy);\n    }\n\n    public static void SetCost(Toy toy) {\n        System.out.println(&quot;Keep the price: &quot;);\n        toy.setCost(scanner.nextInt());\n        SetAge(toy);\n    }\n\n    public static void SetAge(Toy toy) {\n        System.out.println(&quot;Keep the age: &quot;);\n        toy.setAge(scanner.nextInt());\n        MainMenu();\n    }\n\n    public static void RemoveToys() {\n        System.out.println(&quot;Choose a toy to remove: &quot;);\n\n        for (int i = 0; i &lt; toys.size(); i++) {\n            System.out.println(i + &quot; &quot; + toys.get(i));\n        }\n        System.out.println(&quot;0. –ù–∞–∑–∞–¥&quot;);\n\n        int removeToy = scanner.nextInt();\n        switch (removeToy) {\n            case 0:\n                MainMenu();\n                break;\n        }\n        if (removeToy &lt;= toys.size()) {\n            toys.remove(removeToy - 1);\n        }\n    }\n\n    public static void SortMenu() {\n        System.out.println(&quot;1. Descending order\\n&quot; +\n                &quot;2. Ascending\\n&quot; +\n                &quot;0. Back&quot;);\n\n        ArrayList&lt;Toy&gt; copy = new ArrayList&lt;&gt;(toys);\n\n        int selectSort = scanner.nextInt();\n        switch (selectSort) {\n            case 1:\n                Collections.sort(copy);\n                System.out.println(copy);\n                break;\n            case 2:\n                Collections.sort(copy);\n                Collections.reverse(copy);\n                System.out.println(copy);\n                break;\n            case 0:\n                MainMenu();\n                break;\n        }\n    }\n\n    private static void SearchMenu() {\n        System.out.println(&quot;Search by price - \\n&quot; +\n                &quot;Enter the minimum price:&quot;);\n\n        int minimumPrice = scanner.nextInt();\n        System.out.println(&quot;Enter the maximum price:&quot;);\n        int maximumPrice = scanner.nextInt();\n\n        ArrayList&lt;Toy&gt; search = new ArrayList&lt;&gt;(toys);\n\n\n    }\n}\n\n\n</code></pre>\n<p>I will be very grateful if you help</p>\n"},{"tags":["java","swing","layout","jfreechart","sizing"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1679668223,"post_id":75832165,"comment_id":133767313,"body_markdown":"Among the suggestions [here](https://stackoverflow.com/a/10277372/230513), try `GridLayout`. If this is not a duplicate, please [edit] your question to include a [mre] that shows your revised approach.","body":"Among the suggestions <a href=\"https://stackoverflow.com/a/10277372/230513\">here</a>, try <code>GridLayout</code>. If this is not a duplicate, please <a href=\"https://stackoverflow.com/posts/75832165/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach."},{"owner":{"account_id":8013473,"reputation":137,"user_id":6044482,"display_name":"Ma&#235;l Le Monnier"},"score":0,"creation_date":1680098288,"post_id":75832165,"comment_id":133839724,"body_markdown":"Thanks,\nThe use of the full `ChartPanel` constructor by specifying much higher values for `maximumDrawWidth` and `maximumDrawHeight` fixed the rendering issue.","body":"Thanks, The use of the full <code>ChartPanel</code> constructor by specifying much higher values for <code>maximumDrawWidth</code> and <code>maximumDrawHeight</code> fixed the rendering issue."},{"owner":{"account_id":8013473,"reputation":137,"user_id":6044482,"display_name":"Ma&#235;l Le Monnier"},"score":0,"creation_date":1680098830,"post_id":75832165,"comment_id":133839905,"body_markdown":"I used 2560x1440. I&#39;m using jfreechart library in old version, and the default values was 1024x768. I see the latest version has default values of 2048x1536.","body":"I used 2560x1440. I&#39;m using jfreechart library in old version, and the default values was 1024x768. I see the latest version has default values of 2048x1536."}],"answers":[{"tags":[],"owner":{"account_id":8013473,"reputation":137,"user_id":6044482,"display_name":"Ma&#235;l Le Monnier"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680651277,"creation_date":1680338798,"answer_id":75905110,"question_id":75832165,"body_markdown":"As suggested [here][1], the use of the full `ChartPanel` constructor, specifying much higher values for `maximumDrawWidth` and `maximumDrawHeight` parameters, fixed the rendering issue.\r\n\r\nI used 2560x1440 instead of 1024x768 (since I&#39;m using jfreechart library in old version). In the latest release, default values are now 2048x1536, and should also be sufficient excepted for full-screen graphs displayed on 4K+ screens.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10277372/230513","title":"How make JFreeChart nicely resizable?","body":"<p>As suggested <a href=\"https://stackoverflow.com/a/10277372/230513\">here</a>, the use of the full <code>ChartPanel</code> constructor, specifying much higher values for <code>maximumDrawWidth</code> and <code>maximumDrawHeight</code> parameters, fixed the rendering issue.</p>\n<p>I used 2560x1440 instead of 1024x768 (since I'm using jfreechart library in old version). In the latest release, default values are now 2048x1536, and should also be sufficient excepted for full-screen graphs displayed on 4K+ screens.</p>\n"}],"owner":{"account_id":8013473,"reputation":137,"user_id":6044482,"display_name":"Ma&#235;l Le Monnier"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75905110,"answer_count":1,"score":0,"last_activity_date":1680651277,"creation_date":1679651616,"question_id":75832165,"body_markdown":"I wonder if it&#39;s possible to draw nicely some charts using `JFreeChart` &amp; `ChartPanel`. When I increase window size I want the chart to fill-up the new space, using a `GridBayLayout`. But the text labels are streched also and becomes really ugly.\r\n\r\nHere is the default size of a given charts:\r\n[![default jfreechart rendering][1]][1]\r\n\r\nAnd here is what it looks like when I maximize the window:\r\n[![maximized jfreechart rendering ugly][2]][2]\r\n\r\nAs you can see, the text is badly streched. This is not the behavior of other swing components (like the JLabel of the top-text).\r\n\r\n\r\n**How can I configure my charts/plots to tell the plot to fill-up all new space, but keep legends, axis and any other elements fixed-size ?**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bXLSu.png\r\n  [2]: https://i.stack.imgur.com/1OQYR.png","title":"How make JFreeChart nicely resizable?","body":"<p>I wonder if it's possible to draw nicely some charts using <code>JFreeChart</code> &amp; <code>ChartPanel</code>. When I increase window size I want the chart to fill-up the new space, using a <code>GridBayLayout</code>. But the text labels are streched also and becomes really ugly.</p>\n<p>Here is the default size of a given charts:\n<a href=\"https://i.stack.imgur.com/bXLSu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bXLSu.png\" alt=\"default jfreechart rendering\" /></a></p>\n<p>And here is what it looks like when I maximize the window:\n<a href=\"https://i.stack.imgur.com/1OQYR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1OQYR.png\" alt=\"maximized jfreechart rendering ugly\" /></a></p>\n<p>As you can see, the text is badly streched. This is not the behavior of other swing components (like the JLabel of the top-text).</p>\n<p><strong>How can I configure my charts/plots to tell the plot to fill-up all new space, but keep legends, axis and any other elements fixed-size ?</strong></p>\n"},{"tags":["java","linux","jlink"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1680637523,"post_id":75933213,"comment_id":133931315,"body_markdown":"In general, yes. You might also need the same libc. But I&#39;m not certain.","body":"In general, yes. You might also need the same libc. But I&#39;m not certain."},{"owner":{"account_id":12573569,"reputation":142,"user_id":9146825,"display_name":"Blue Dev"},"score":2,"creation_date":1680638033,"post_id":75933213,"comment_id":133931426,"body_markdown":"Java runs on practically every device, and as long as you are only using native libraries, yes. It will work on all systems.","body":"Java runs on practically every device, and as long as you are only using native libraries, yes. It will work on all systems."}],"answers":[{"comments":[{"owner":{"account_id":1746755,"reputation":1408,"user_id":1596770,"accept_rate":80,"display_name":"aarbor"},"score":0,"creation_date":1680722719,"post_id":75934538,"comment_id":133948321,"body_markdown":"Thanks for the info, this looks promising!","body":"Thanks for the info, this looks promising!"}],"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680650221,"creation_date":1680650221,"answer_id":75934538,"question_id":75933213,"body_markdown":"All the available evidence indicates that yes, you can expect the application to work on nearly all Linux systems.  A jlink‚Äôd image tree has its own `lib` directory which includes a lot of shared libraries.  JVMs are thoroughly tested, and I‚Äôm guessing the Linux version was at least fully tested on [the certified system configurations](https://www.oracle.com/java/technologies/javase/products-doc-jdk17certconfig.html).\r\n\r\nI haven‚Äôt examined every single file in a jlink‚Äôd image tree in detail, but I have never noticed anything that is particular to any of those Linux distributions.  (I build on Debian.)\r\n\r\nOut of curiosity, I did `ldd java` on the stripped-down java binary in my jlink‚Äôd application.  It‚Äôs a short list:\r\n\r\n    linux-vdso.so.1 (0x00007ffecf94b000)\r\n    libz.so.1 =&gt; /lib/x86_64-linux-gnu/libz.so.1 (0x00007f85827ca000)\r\n    libpthread.so.0 =&gt; /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f8582795000)\r\n    libdl.so.2 =&gt; /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f858278f000)\r\n    libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007f85825ba000)\r\n    /lib64/ld-linux-x86-64.so.2 (0x00007f8582816000)\r\n\r\n(I have omitted libjli.so, which is inside the image tree.)\r\n\r\nI assume it will run on any system where those six libraries are present.  I doubt a typical Linux system would lack any of them.\r\n","title":"Will Java Built on One Linux Distribution Work on All Others?","body":"<p>All the available evidence indicates that yes, you can expect the application to work on nearly all Linux systems.  A jlink‚Äôd image tree has its own <code>lib</code> directory which includes a lot of shared libraries.  JVMs are thoroughly tested, and I‚Äôm guessing the Linux version was at least fully tested on <a href=\"https://www.oracle.com/java/technologies/javase/products-doc-jdk17certconfig.html\" rel=\"nofollow noreferrer\">the certified system configurations</a>.</p>\n<p>I haven‚Äôt examined every single file in a jlink‚Äôd image tree in detail, but I have never noticed anything that is particular to any of those Linux distributions.  (I build on Debian.)</p>\n<p>Out of curiosity, I did <code>ldd java</code> on the stripped-down java binary in my jlink‚Äôd application.  It‚Äôs a short list:</p>\n<pre><code>linux-vdso.so.1 (0x00007ffecf94b000)\nlibz.so.1 =&gt; /lib/x86_64-linux-gnu/libz.so.1 (0x00007f85827ca000)\nlibpthread.so.0 =&gt; /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f8582795000)\nlibdl.so.2 =&gt; /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f858278f000)\nlibc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007f85825ba000)\n/lib64/ld-linux-x86-64.so.2 (0x00007f8582816000)\n</code></pre>\n<p>(I have omitted libjli.so, which is inside the image tree.)</p>\n<p>I assume it will run on any system where those six libraries are present.  I doubt a typical Linux system would lack any of them.</p>\n"}],"owner":{"account_id":1746755,"reputation":1408,"user_id":1596770,"accept_rate":80,"display_name":"aarbor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680650221,"creation_date":1680637068,"question_id":75933213,"body_markdown":"If I build a minimized JRE using `jlink` on one distribution (RHEL, Ubuntu, etc), will it work on all other distributions? As a basic test I created a jre on RHEL and it worked fine on Ubuntu, but there are too many variations of distributions for me to test them all. As a general rule of thumb, should I expect java built on any linux system to work on another, assuming the same underlying architecture (amd64, aarch64, etc)? ","title":"Will Java Built on One Linux Distribution Work on All Others?","body":"<p>If I build a minimized JRE using <code>jlink</code> on one distribution (RHEL, Ubuntu, etc), will it work on all other distributions? As a basic test I created a jre on RHEL and it worked fine on Ubuntu, but there are too many variations of distributions for me to test them all. As a general rule of thumb, should I expect java built on any linux system to work on another, assuming the same underlying architecture (amd64, aarch64, etc)?</p>\n"},{"tags":["java","refactoring"],"comments":[{"owner":{"account_id":8928886,"reputation":1066,"user_id":9719337,"display_name":"Dred"},"score":0,"creation_date":1555490540,"post_id":55723323,"comment_id":98125944,"body_markdown":"How do you do that? Because I can change type. Also, it is possible, that you use somewhere that fields, so it wouldn&#39;t be possible to change","body":"How do you do that? Because I can change type. Also, it is possible, that you use somewhere that fields, so it wouldn&#39;t be possible to change"}],"answers":[{"comments":[{"owner":{"account_id":15578232,"reputation":51,"user_id":11238819,"display_name":"Dor Birendorf"},"score":0,"creation_date":1555490945,"post_id":55723509,"comment_id":98126148,"body_markdown":"i do click on &quot;string&quot;&quot; not on license","body":"i do click on &quot;string&quot;&quot; not on license"},{"owner":{"account_id":2780300,"reputation":4603,"user_id":2392960,"display_name":"Januson"},"score":0,"creation_date":1555491049,"post_id":55723509,"comment_id":98126209,"body_markdown":"Then it should work. It might be stuck. Try to restart it or invalidate its cache (In the top left corner File-&gt;Invalidate Caches/restart).","body":"Then it should work. It might be stuck. Try to restart it or invalidate its cache (In the top left corner File-&gt;Invalidate Caches/restart)."}],"tags":[],"owner":{"account_id":2780300,"reputation":4603,"user_id":2392960,"display_name":"Januson"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555490867,"creation_date":1555490867,"answer_id":55723509,"question_id":55723323,"body_markdown":"As is stated in the documentation of the [Type Migration][1]. For the type migration to work you have to select the type you want to migrate. **String** next to `license` in your case. It does not work when you select the variable name.\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/type-migration.html","title":"Intellij refactor type migration does nothing","body":"<p>As is stated in the documentation of the <a href=\"https://www.jetbrains.com/help/idea/type-migration.html\" rel=\"nofollow noreferrer\">Type Migration</a>. For the type migration to work you have to select the type you want to migrate. <strong>String</strong> next to <code>license</code> in your case. It does not work when you select the variable name.</p>\n"},{"tags":[],"owner":{"account_id":4098994,"reputation":2967,"user_id":3365033,"accept_rate":79,"display_name":"DGK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659520749,"creation_date":1659520749,"answer_id":73219754,"question_id":55723323,"body_markdown":"When Migrating Type it seems IntelliJ does not by default select &#39;All Places&#39; as scope. Mine selected a random scope which did not include the file I was editing.\r\n\r\n","title":"Intellij refactor type migration does nothing","body":"<p>When Migrating Type it seems IntelliJ does not by default select 'All Places' as scope. Mine selected a random scope which did not include the file I was editing.</p>\n"},{"comments":[{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1681222224,"post_id":75934537,"comment_id":134019340,"body_markdown":"This does not really answer the question. If you have a different question, you can ask it by clicking [Ask Question](https://stackoverflow.com/questions/ask). To get notified when this question gets new answers, you can [follow this question](https://meta.stackexchange.com/q/345661). Once you have enough [reputation](https://stackoverflow.com/help/whats-reputation), you can also [add a bounty](https://stackoverflow.com/help/privileges/set-bounties) to draw more attention to this question. - [From Review](/review/late-answers/34165142)","body":"This does not really answer the question. If you have a different question, you can ask it by clicking <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a>. To get notified when this question gets new answers, you can <a href=\"https://meta.stackexchange.com/q/345661\">follow this question</a>. Once you have enough <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>, you can also <a href=\"https://stackoverflow.com/help/privileges/set-bounties\">add a bounty</a> to draw more attention to this question. - <a href=\"/review/late-answers/34165142\">From Review</a>"}],"tags":[],"owner":{"account_id":28217495,"reputation":1,"user_id":21568776,"display_name":"John C"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680650218,"creation_date":1680650218,"answer_id":75934537,"question_id":55723323,"body_markdown":"I thought it was doing nothing after I was skipping the preview, but I believe it was silently aborting because it found conflicts. I had to view preview, then proceed and &#39;ignore&#39; conflicts. That said, It&#39;s currently been running for a few *hours* and I&#39;m afraid to stop it at this point. I&#39;ll update when it&#39;s done to confirm or add more information.","title":"Intellij refactor type migration does nothing","body":"<p>I thought it was doing nothing after I was skipping the preview, but I believe it was silently aborting because it found conflicts. I had to view preview, then proceed and 'ignore' conflicts. That said, It's currently been running for a few <em>hours</em> and I'm afraid to stop it at this point. I'll update when it's done to confirm or add more information.</p>\n"}],"owner":{"account_id":15578232,"reputation":51,"user_id":11238819,"display_name":"Dor Birendorf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1680650218,"creation_date":1555490278,"question_id":55723323,"body_markdown":"I am trying to change the type of License from string to int.  I right click on&quot;string&quot; and  chose type migration but nothing happens, What is this the correct way to to this ? \r\n\r\n\r\n    public class Worker implements Driver {\r\n\r\n        private String wid;\r\n        private String password;\r\n        private String name;\r\n        private String terms;\r\n        private String position;\r\n        private String license;\r\n        private String bank;\r\n\r\n        private int salary;\r\n        private int startDay;\r\n        private int startMonth;\r\n        private int startYear;\r\n       private int connected;\r\n    }\r\n\r\n","title":"Intellij refactor type migration does nothing","body":"<p>I am trying to change the type of License from string to int.  I right click on\"string\" and  chose type migration but nothing happens, What is this the correct way to to this ? </p>\n\n<pre><code>public class Worker implements Driver {\n\n    private String wid;\n    private String password;\n    private String name;\n    private String terms;\n    private String position;\n    private String license;\n    private String bank;\n\n    private int salary;\n    private int startDay;\n    private int startMonth;\n    private int startYear;\n   private int connected;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","shiro"],"comments":[{"owner":{"account_id":383130,"reputation":2081,"user_id":6415199,"display_name":"Brian Demers"},"score":0,"creation_date":1681766951,"post_id":75934451,"comment_id":134107203,"body_markdown":"It looks like you are writing a lot more code than you should need to (specifically your `Login1` method, as Shrio handles this automatically)\n\nCan you explain from a higher level what you are trying to do?","body":"It looks like you are writing a lot more code than you should need to (specifically your <code>Login1</code> method, as Shrio handles this automatically)  Can you explain from a higher level what you are trying to do?"}],"owner":{"account_id":24887490,"reputation":47,"user_id":18759913,"display_name":"kentoto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680648939,"creation_date":1680648939,"question_id":75934451,"body_markdown":"I have two Reams setup with the name of `&quot;Reaml1&quot;` and `&quot;Realm2&quot;`. The two Realms are for different types of entity authentication.\r\n\r\n\r\n```\r\n@Configuration\r\npublic class ShiroConfig {\r\n\r\n    @Bean(name = &quot;realm1&quot;)\r\n    public Realm realm1() {\r\n        Realm1 realm = new Realm1();\r\n        return realm;\r\n    }\r\n\r\n    @Bean(name = &quot;realm2&quot;)\r\n    public Realm realm2() {\r\n        Realm2 realm = new Realm2();\r\n        return realm;\r\n    }\r\n\r\n\r\n    @Bean(name = &quot;securityManager1&quot;)\r\n    public DefaultSecurityManager securityManager1(@Qualifier(&quot;realm1&quot;) Realm realm) {\r\n        DefaultSecurityManager securityManager = new DefaultSecurityManager();\r\n        securityManager.setRealm(realm);\r\n        return securityManager;\r\n    }\r\n\r\n    @Bean(name = &quot;securityManager2&quot;)\r\n    public DefaultSecurityManager securityManager2(@Qualifier(&quot;realm2&quot;) Realm realm) {\r\n        DefaultSecurityManager securityManager = new DefaultSecurityManager();\r\n        securityManager.setRealm(realm);\r\n        return securityManager;\r\n    }\r\n\r\n    @Bean(name = &quot;shiroFilter1&quot;)\r\n    public ShiroFilterFactoryBean shiroFilter1(@Qualifier(&quot;securityManager1&quot;) SecurityManager securityManager) {\r\n        ShiroFilterFactoryBean factoryBean = new ShiroFilterFactoryBean();\r\n        factoryBean.setSecurityManager(securityManager);\r\n        factoryBean.setLoginUrl(&quot;/login1&quot;);\r\n        factoryBean.setFilterChainDefinitionMap(filterChainDefinitionMap());\r\n        return factoryBean;\r\n    }\r\n\r\n    @Bean(name = &quot;shiroFilter2&quot;)\r\n    public ShiroFilterFactoryBean shiroFilter2(@Qualifier(&quot;securityManager2&quot;) SecurityManager securityManager) {\r\n        ShiroFilterFactoryBean factoryBean = new ShiroFilterFactoryBean();\r\n        factoryBean.setSecurityManager(securityManager);\r\n        factoryBean.setLoginUrl(&quot;/login2&quot;);\r\n        factoryBean.setFilterChainDefinitionMap(filterChainDefinitionMap());\r\n        return factoryBean;\r\n    }\r\n\r\n    private Map&lt;String, String&gt; filterChainDefinitionMap() {\r\n        Map&lt;String, String&gt; filterChainDefinitionMap = new LinkedHashMap&lt;&gt;();\r\n\r\n        return filterChainDefinitionMap;\r\n    }\r\n}\r\n```\r\n\r\nAnd I have two different endpoints for login: `/login1` and `/login2` in my controller class such as:\r\n```\r\n@PostMapping(&quot;/login1&quot;)\r\n@ResponseBody\r\npublic String Login1(HttpServletRequest request) {\r\n        Subject subject = SecurityUtils.getSubject();\r\n\r\n        /* Some processing to get username and password */\r\n\r\n        UsernamePasswordToken token = new UsernamePasswordToken(username, password);\r\n\r\n        String msg = &quot;&quot;;\r\n        try {\r\n            subject.login(token);\r\n            msg =  &quot;Successfully logged in.&quot;;\r\n        } catch (Exception e) {\r\n            /* Exception handling */\r\n        }\r\n\r\n        if (! subject.isAuthenticated()) token.clear();\r\n        return msg;\r\n    }\r\n```\r\n\r\nHowever, `/login1` is always using `Realm2` to do authentication. My question is how to configure Shiro to using different `Reaml`, `SecurityManager` and `ShiroFilterFactoryBean` when using different login endpoints? \r\n\r\nI tried adding `SecurityUtils.setSecurityManager({corresponding security manager})` in `login` methods but it didn&#39;t work.\r\n\r\nI&#39;ve been stuck here whole day and could not find a way out. Please help and thank you!\r\n","title":"Using multiple FilterFactoryBean, SecurityManager, and Realm in Spring Boot with Shiro","body":"<p>I have two Reams setup with the name of <code>&quot;Reaml1&quot;</code> and <code>&quot;Realm2&quot;</code>. The two Realms are for different types of entity authentication.</p>\n<pre><code>@Configuration\npublic class ShiroConfig {\n\n    @Bean(name = &quot;realm1&quot;)\n    public Realm realm1() {\n        Realm1 realm = new Realm1();\n        return realm;\n    }\n\n    @Bean(name = &quot;realm2&quot;)\n    public Realm realm2() {\n        Realm2 realm = new Realm2();\n        return realm;\n    }\n\n\n    @Bean(name = &quot;securityManager1&quot;)\n    public DefaultSecurityManager securityManager1(@Qualifier(&quot;realm1&quot;) Realm realm) {\n        DefaultSecurityManager securityManager = new DefaultSecurityManager();\n        securityManager.setRealm(realm);\n        return securityManager;\n    }\n\n    @Bean(name = &quot;securityManager2&quot;)\n    public DefaultSecurityManager securityManager2(@Qualifier(&quot;realm2&quot;) Realm realm) {\n        DefaultSecurityManager securityManager = new DefaultSecurityManager();\n        securityManager.setRealm(realm);\n        return securityManager;\n    }\n\n    @Bean(name = &quot;shiroFilter1&quot;)\n    public ShiroFilterFactoryBean shiroFilter1(@Qualifier(&quot;securityManager1&quot;) SecurityManager securityManager) {\n        ShiroFilterFactoryBean factoryBean = new ShiroFilterFactoryBean();\n        factoryBean.setSecurityManager(securityManager);\n        factoryBean.setLoginUrl(&quot;/login1&quot;);\n        factoryBean.setFilterChainDefinitionMap(filterChainDefinitionMap());\n        return factoryBean;\n    }\n\n    @Bean(name = &quot;shiroFilter2&quot;)\n    public ShiroFilterFactoryBean shiroFilter2(@Qualifier(&quot;securityManager2&quot;) SecurityManager securityManager) {\n        ShiroFilterFactoryBean factoryBean = new ShiroFilterFactoryBean();\n        factoryBean.setSecurityManager(securityManager);\n        factoryBean.setLoginUrl(&quot;/login2&quot;);\n        factoryBean.setFilterChainDefinitionMap(filterChainDefinitionMap());\n        return factoryBean;\n    }\n\n    private Map&lt;String, String&gt; filterChainDefinitionMap() {\n        Map&lt;String, String&gt; filterChainDefinitionMap = new LinkedHashMap&lt;&gt;();\n\n        return filterChainDefinitionMap;\n    }\n}\n</code></pre>\n<p>And I have two different endpoints for login: <code>/login1</code> and <code>/login2</code> in my controller class such as:</p>\n<pre><code>@PostMapping(&quot;/login1&quot;)\n@ResponseBody\npublic String Login1(HttpServletRequest request) {\n        Subject subject = SecurityUtils.getSubject();\n\n        /* Some processing to get username and password */\n\n        UsernamePasswordToken token = new UsernamePasswordToken(username, password);\n\n        String msg = &quot;&quot;;\n        try {\n            subject.login(token);\n            msg =  &quot;Successfully logged in.&quot;;\n        } catch (Exception e) {\n            /* Exception handling */\n        }\n\n        if (! subject.isAuthenticated()) token.clear();\n        return msg;\n    }\n</code></pre>\n<p>However, <code>/login1</code> is always using <code>Realm2</code> to do authentication. My question is how to configure Shiro to using different <code>Reaml</code>, <code>SecurityManager</code> and <code>ShiroFilterFactoryBean</code> when using different login endpoints?</p>\n<p>I tried adding <code>SecurityUtils.setSecurityManager({corresponding security manager})</code> in <code>login</code> methods but it didn't work.</p>\n<p>I've been stuck here whole day and could not find a way out. Please help and thank you!</p>\n"},{"tags":["java","ssl","apache-kafka"],"owner":{"account_id":11459974,"reputation":832,"user_id":8399906,"display_name":"CJW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680648685,"creation_date":1680647751,"question_id":75934353,"body_markdown":"I am trying to get Kafka to use SSL but I am getting the following error:\r\n\r\n```\r\nkafka-producer-network-thread | console-producer, WRITE: TLSv1.2 Handshake, length = 80\r\nkafka-producer-network-thread | console-producer, READ: TLSv1.2 Handshake, length = 1978\r\ncheck handshake state: server_hello[2]\r\nkafka-producer-network-thread | console-producer, fatal error: 10: Handshake message sequence violation, 2\r\njavax.net.ssl.SSLProtocolException: Handshake message sequence violation, 2\r\n%% Invalidated:  [Session-6, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256]\r\nkafka-producer-network-thread | console-producer, SEND TLSv1.2 ALERT:  fatal, description = unexpected_message\r\nkafka-producer-network-thread | console-producer, WRITE: TLSv1.2 Alert, length = 64\r\nkafka-producer-network-thread | console-producer, called closeOutbound()\r\nkafka-producer-network-thread | console-producer, closeOutboundInternal()\r\nkafka-producer-network-thread | console-producer, called closeInbound()\r\nkafka-producer-network-thread | console-producer, fatal: engine already closed.  Rethrowing javax.net.ssl.SSLException: Inbound closed before receiving peer&#39;s close_notify: possible truncation attack?\r\nkafka-producer-network-thread | console-producer, called closeOutbound()\r\nkafka-producer-network-thread | console-producer, closeOutboundInternal()\r\n[2023-04-04 22:13:40,191] ERROR [Producer clientId=console-producer] Connection to node -1 (/172.30.0.110:9093) failed authentication due to: SSL handshake failed (org.apache.kafka.clients.NetworkClient)\r\n[2023-04-04 22:13:40,191] WARN [Producer clientId=console-producer] Bootstrap broker 172.30.0.110:9093 (id: -1 rack: null) disconnected (org.apache.kafka.clients.NetworkClient)\r\n\r\n```\r\n\r\nI have generated selfsigned certs and JKS stores using the following commands:\r\n\r\n```\r\nopenssl req -new -newkey rsa:4096 -days 365 -x509 -subj &quot;/CN=Demo-Kafka&quot; -keyout ca-key -out ca-cert -nodes\r\nkeytool -genkey -keystore kafka.server.keystore.jks -validity 365 -storepass kafka -keypass kafka -dname &quot;CN=Demo-Kafka&quot; -storetype pkcs12\r\nkeytool -list -v -keystore kafka.server.keystore.jks\r\nkeytool -keystore kafka.server.keystore.jks -certreq -file cert-file -storepass kafka -keypass kafka\r\nopenssl x509 -req -CA ca-cert -CAkey ca-key -in cert-file -out cert-file-signed -days 365 -CAcreateserial -passin pass:kafka\r\nkeytool -printcert -v -file cert-file-signed\r\nkeytool -keystore kafka.server.keystore.jks -alias CARoot -import -file ca-cert -storepass kafka -keypass kafka -noprompt\r\nkeytool -keystore kafka.server.keystore.jks -import -file cert-file-signed -storepass kafka -keypass kafka -noprompt\r\nkeytool -keystore kafka.server.truststore.jks -alias CARoot -import -file ca-cert -storepass kafka -keypass kafka -noprompt\r\n\r\n```\r\n\r\nI have configured my `server.properties` as such:\r\n```\r\nsecurity.inter.broker.protocol=SSL\r\n\r\n# With SSL encryption\r\nlisteners=SSL://172.30.0.110:9093\r\nadvertised.listeners=SSL://172.30.0.110:9093\r\n\r\n# With SSL encryption\r\nlistener.name.sasl_ssl.plain.sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required \\\r\n   username=&quot;admin&quot; \\\r\n   password=&quot;admin-secret&quot; \\\r\n   user_admin=&quot;admin-secret&quot; \\\r\n   user_kafkabroker1=&quot;kafkabroker1-secret&quot;;\r\n\r\nssl.endpoint.identification.algorithm=\r\nproducer.ssl.endpoint.identification.algorithm=\r\nconsumer.ssl.endpoint.identification.algorithm=\r\n\r\nssl.client.auth=required\r\n\r\nssl.truststore.location=/etc/kafka/kafka.server.truststore.jks\r\nssl.truststore.password=kafka\r\nssl.keystore.location=/etc/kafka/kafka.server.keystore.jks\r\nssl.keystore.password=kafka\r\nssl.key.password=kafka\r\n\r\n```\r\n\r\nAnd my `client-ssl.properties`\r\n\r\n```\r\nbootstrap.servers=172.30.0.110:9093\r\nsecurity.protocol=SSL\r\nssl.truststore.location=/etc/kafka/kafka.client.truststore.jks\r\nssl.truststore.password=kafka\r\nssl.key.password=kafka\r\nssl.endpoint.identification.algorithm=\r\n```\r\n\r\nLastly, my `zookeeper.properties`:\r\n\r\n```\r\ndataDir=/var/lib/zookeeper\r\n# the port at which the clients will connect\r\nclientPort=2181\r\n# disable the per-ip limit on the number of connections since this is a non-production config\r\nmaxClientCnxns=0\r\n# Disable the adminserver by default to avoid port conflicts.\r\n# Set the port to something non-conflicting if choosing to enable this\r\nadmin.enableServer=false\r\n# admin.serverPort=8080\r\n\r\n# Enable audit logging. See log4j.properties for audit logger configuration\r\naudit.enable=true\r\n\r\ntickTime=2000\r\ndataDir=/var/lib/zookeeper/\r\nclientPort=2181\r\ninitLimit=5\r\nsyncLimit=2\r\nserver.1=172.30.0.110:2888:3888\r\nautopurge.snapRetainCount=3\r\nautopurge.purgeInterval=24\r\n```\r\n\r\n\r\nI am trying to connect a producer to the broker with the following command:\r\n\r\n`kafka-console-producer -broker-list 172.30.0.110:9093 -topic helloworld --producer.config /etc/kafka/client-ssl.properties`\r\n\r\nWhich is where I am seeing the SSL error occur.","title":"Kafka SSL handshake failing","body":"<p>I am trying to get Kafka to use SSL but I am getting the following error:</p>\n<pre><code>kafka-producer-network-thread | console-producer, WRITE: TLSv1.2 Handshake, length = 80\nkafka-producer-network-thread | console-producer, READ: TLSv1.2 Handshake, length = 1978\ncheck handshake state: server_hello[2]\nkafka-producer-network-thread | console-producer, fatal error: 10: Handshake message sequence violation, 2\njavax.net.ssl.SSLProtocolException: Handshake message sequence violation, 2\n%% Invalidated:  [Session-6, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256]\nkafka-producer-network-thread | console-producer, SEND TLSv1.2 ALERT:  fatal, description = unexpected_message\nkafka-producer-network-thread | console-producer, WRITE: TLSv1.2 Alert, length = 64\nkafka-producer-network-thread | console-producer, called closeOutbound()\nkafka-producer-network-thread | console-producer, closeOutboundInternal()\nkafka-producer-network-thread | console-producer, called closeInbound()\nkafka-producer-network-thread | console-producer, fatal: engine already closed.  Rethrowing javax.net.ssl.SSLException: Inbound closed before receiving peer's close_notify: possible truncation attack?\nkafka-producer-network-thread | console-producer, called closeOutbound()\nkafka-producer-network-thread | console-producer, closeOutboundInternal()\n[2023-04-04 22:13:40,191] ERROR [Producer clientId=console-producer] Connection to node -1 (/172.30.0.110:9093) failed authentication due to: SSL handshake failed (org.apache.kafka.clients.NetworkClient)\n[2023-04-04 22:13:40,191] WARN [Producer clientId=console-producer] Bootstrap broker 172.30.0.110:9093 (id: -1 rack: null) disconnected (org.apache.kafka.clients.NetworkClient)\n\n</code></pre>\n<p>I have generated selfsigned certs and JKS stores using the following commands:</p>\n<pre><code>openssl req -new -newkey rsa:4096 -days 365 -x509 -subj &quot;/CN=Demo-Kafka&quot; -keyout ca-key -out ca-cert -nodes\nkeytool -genkey -keystore kafka.server.keystore.jks -validity 365 -storepass kafka -keypass kafka -dname &quot;CN=Demo-Kafka&quot; -storetype pkcs12\nkeytool -list -v -keystore kafka.server.keystore.jks\nkeytool -keystore kafka.server.keystore.jks -certreq -file cert-file -storepass kafka -keypass kafka\nopenssl x509 -req -CA ca-cert -CAkey ca-key -in cert-file -out cert-file-signed -days 365 -CAcreateserial -passin pass:kafka\nkeytool -printcert -v -file cert-file-signed\nkeytool -keystore kafka.server.keystore.jks -alias CARoot -import -file ca-cert -storepass kafka -keypass kafka -noprompt\nkeytool -keystore kafka.server.keystore.jks -import -file cert-file-signed -storepass kafka -keypass kafka -noprompt\nkeytool -keystore kafka.server.truststore.jks -alias CARoot -import -file ca-cert -storepass kafka -keypass kafka -noprompt\n\n</code></pre>\n<p>I have configured my <code>server.properties</code> as such:</p>\n<pre><code>security.inter.broker.protocol=SSL\n\n# With SSL encryption\nlisteners=SSL://172.30.0.110:9093\nadvertised.listeners=SSL://172.30.0.110:9093\n\n# With SSL encryption\nlistener.name.sasl_ssl.plain.sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required \\\n   username=&quot;admin&quot; \\\n   password=&quot;admin-secret&quot; \\\n   user_admin=&quot;admin-secret&quot; \\\n   user_kafkabroker1=&quot;kafkabroker1-secret&quot;;\n\nssl.endpoint.identification.algorithm=\nproducer.ssl.endpoint.identification.algorithm=\nconsumer.ssl.endpoint.identification.algorithm=\n\nssl.client.auth=required\n\nssl.truststore.location=/etc/kafka/kafka.server.truststore.jks\nssl.truststore.password=kafka\nssl.keystore.location=/etc/kafka/kafka.server.keystore.jks\nssl.keystore.password=kafka\nssl.key.password=kafka\n\n</code></pre>\n<p>And my <code>client-ssl.properties</code></p>\n<pre><code>bootstrap.servers=172.30.0.110:9093\nsecurity.protocol=SSL\nssl.truststore.location=/etc/kafka/kafka.client.truststore.jks\nssl.truststore.password=kafka\nssl.key.password=kafka\nssl.endpoint.identification.algorithm=\n</code></pre>\n<p>Lastly, my <code>zookeeper.properties</code>:</p>\n<pre><code>dataDir=/var/lib/zookeeper\n# the port at which the clients will connect\nclientPort=2181\n# disable the per-ip limit on the number of connections since this is a non-production config\nmaxClientCnxns=0\n# Disable the adminserver by default to avoid port conflicts.\n# Set the port to something non-conflicting if choosing to enable this\nadmin.enableServer=false\n# admin.serverPort=8080\n\n# Enable audit logging. See log4j.properties for audit logger configuration\naudit.enable=true\n\ntickTime=2000\ndataDir=/var/lib/zookeeper/\nclientPort=2181\ninitLimit=5\nsyncLimit=2\nserver.1=172.30.0.110:2888:3888\nautopurge.snapRetainCount=3\nautopurge.purgeInterval=24\n</code></pre>\n<p>I am trying to connect a producer to the broker with the following command:</p>\n<p><code>kafka-console-producer -broker-list 172.30.0.110:9093 -topic helloworld --producer.config /etc/kafka/client-ssl.properties</code></p>\n<p>Which is where I am seeing the SSL error occur.</p>\n"},{"tags":["java","jaas","jgrapht"],"comments":[{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":4,"creation_date":1680649673,"post_id":75934297,"comment_id":133933540,"body_markdown":"The exception text tells you exactly what caused the NullPointerException -- `...because &quot;this.flightReader&quot; is null`.","body":"The exception text tells you exactly what caused the NullPointerException -- <code>...because &quot;this.flightReader&quot; is null</code>."}],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1680650292,"post_id":75934361,"comment_id":133933603,"body_markdown":"Yea ... in the `main` method the OP (also) has declared and initialized a local variable called `flightReader`.  But that is *different* to the instance variable that the code is using in the `FlightReader` constructor.","body":"Yea ... in the <code>main</code> method the OP (also) has declared and initialized a local variable called <code>flightReader</code>.  But that is <i>different</i> to the instance variable that the code is using in the <code>FlightReader</code> constructor."}],"tags":[],"owner":{"account_id":3212090,"reputation":743,"user_id":2711867,"accept_rate":56,"display_name":"scatolone"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680647833,"creation_date":1680647833,"answer_id":75934361,"question_id":75934297,"body_markdown":"I think you forgot to initialize `flightReader` inside the object `FlyingPlanner`. I guess you must call something like `pr.setflightReader(flightReader)` before you call `pr.leastCost(&quot;EDI&quot;, &quot;DXB&quot;)` or there must be a constructor that take a `flightReader` as input.","title":"Null Pointer exception JAVA. why is it null when the input file is not null?","body":"<p>I think you forgot to initialize <code>flightReader</code> inside the object <code>FlyingPlanner</code>. I guess you must call something like <code>pr.setflightReader(flightReader)</code> before you call <code>pr.leastCost(&quot;EDI&quot;, &quot;DXB&quot;)</code> or there must be a constructor that take a <code>flightReader</code> as input.</p>\n"}],"owner":{"account_id":27048980,"reputation":3,"user_id":20701929,"display_name":"lucas lootan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1680649561,"answer_count":1,"score":-3,"last_activity_date":1680647833,"creation_date":1680647082,"question_id":75934297,"body_markdown":"i am new to `JAVA`. I think all my code is corect. I dont actually know what is wrong with my code but it shows error. \r\n\r\nError:\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;F28DA_CW2.FlightsReader.getAirports()&quot; because &quot;this.flightReader&quot; is null\r\n\tat F28DA_CW2.FlyingPlanner.leastCost(FlyingPlanner.java:206)\r\n\tat F28DA_CW2.FlyingPlannerMainPartBC.main(FlyingPlannerMainPartBC.java:29)\r\n```\r\n\r\nBelow is the code i am working on: \r\n\r\nMain file\r\n```\r\n    import java.io.FileNotFoundException;\r\n\r\n    public class FlyingPlannerMainPartBC {\r\n\r\n\tpublic static void main(String[] args) throws FlyingPlannerException, FileNotFoundException {\r\n\r\n\t\tFlyingPlanner fi;\r\n\t\tfi = new FlyingPlanner();\r\n\t\ttry {\r\n\t\t\tfi.populate(new FlightsReader());\r\n\r\n\t\t\t// Implement here your user interface using the methods of Part B. You could\r\n\t\t\t// optionally expand it to use the methods of Part C.\r\n\r\n\t\t} catch (FileNotFoundException | FlyingPlannerException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\tFlightsReader flightReader = new FlightsReader();\r\n\t\tflightReader.getAirports();\r\n\t\tflightReader.getFlights();\r\n\t\tFlyingPlanner pr = new FlyingPlanner();\r\n\t\tSystem.out.println(pr.leastCost(&quot;EDI&quot;, &quot;DXB&quot;)); // line: 29\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\na snippet of the error source.\r\n\r\n```\r\n    @Override\r\n    public Journey leastCost(String from, String to) throws FlyingPlannerException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tHashSet&lt;String[]&gt; airports = flightReader.getAirports(); //line206\r\n\t\tHashSet&lt;String[]&gt; flights = flightReader.getFlights();\r\n\r\n\t\tDefaultDirectedWeightedGraph&lt;String, DefaultWeightedEdge&gt; leastCost = new DefaultDirectedWeightedGraph&lt;&gt;(\r\n\t\t\t\tDefaultWeightedEdge.class);\r\n\r\n\t\tfor (String[] flight : flights) {\r\n\t\t\tleastCost.addVertex(flight[1]);\r\n\t\t\tleastCost.addVertex(flight[3]);\r\n\t\t\tleastCost.addEdge(flight[1], flight[3]);\r\n\t\t\tleastCost.setEdgeWeight(flight[1], flight[3], Integer.parseInt(flight[5]));\r\n\t\t}\r\n\r\n\t\tDijkstraShortestPath&lt;String, DefaultWeightedEdge&gt; dijkstraAlg = new DijkstraShortestPath&lt;&gt;(leastCost);\r\n\t\tGraphPath&lt;String, DefaultWeightedEdge&gt; shortestPath = dijkstraAlg.getPath(from, to);\r\n\r\n\t\tint totalCost = 0;\r\n\t\tint totalHop = 0;\r\n\t\tint totalTime = 0;\r\n\r\n\t\tfor (DefaultWeightedEdge defaultWeightedEdge : shortestPath.getEdgeList()) {\r\n\t\t\ttotalCost = totalCost + (int) leastCost.getEdgeWeight(defaultWeightedEdge);\r\n\t\t\ttotalHop = totalHop + 1;\r\n\t\t\tString v1 = leastCost.getEdgeSource(defaultWeightedEdge);\r\n\t\t\tString v2 = leastCost.getEdgeTarget(defaultWeightedEdge);\r\n\t\t\tSystem.out.println(totalHop + &quot;. &quot; + v1 + &quot;---&gt;&quot; + v2);\r\n\t\t}\r\n\r\n\t\tJourney journey = new Journey();\r\n\t\tjourney.setTotalCost(totalCost);\r\n\t\tjourney.setTotalHop(totalHop);\r\n\r\n\t\tSystem.out.println(totalCost);\r\n\t\tSystem.out.println(totalHop);\r\n\r\n\t\treturn journey;\r\n\t}\r\n\r\n```\r\n\r\nLast the Scanner file that reads the file (where i think is completely fine)\r\n\r\n```\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.HashSet;\r\n    import java.util.Scanner;\r\n\r\n    public class FlightsReader {\r\n\r\n\tprivate static final File flightsDatasetFolder = new File(&quot;FlightsDataset&quot;);\r\n\tprivate static final File flightsDatasetFlights = new File(flightsDatasetFolder, &quot;flights.csv&quot;);\r\n\tprivate static final File flightsDatasetAirports = new File(flightsDatasetFolder, &quot;airports.csv&quot;);\r\n\r\n\tprivate HashSet&lt;String[]&gt; airports;\r\n\tprivate HashSet&lt;String[]&gt; flights;\r\n\r\n\tpublic FlightsReader() throws FileNotFoundException, FlyingPlannerException {\r\n\t\tthis.airports = new HashSet&lt;String[]&gt;();\r\n\t\tthis.flights = new HashSet&lt;String[]&gt;();\r\n\r\n\t\t// Adding flights, and building list of needed airport\r\n\t\tHashSet&lt;String&gt; airportsNeeded = new HashSet&lt;String&gt;();\r\n\t\tScanner flightsScanner = new Scanner(flightsDatasetFlights);\r\n\t\twhile (flightsScanner.hasNextLine()) {\r\n\t\t\tString line = flightsScanner.nextLine();\r\n\t\t\tString[] fields = line.split(&quot;,&quot;);\r\n\t\t\tString from = fields[1];\r\n\t\t\tString to = fields[3];\r\n\t\t\tairportsNeeded.add(from);\r\n\t\t\tairportsNeeded.add(to);\r\n\t\t\tthis.flights.add(fields);\r\n\t\t}\r\n\t\tflightsScanner.close();\r\n\r\n\t\t// Adding airports\r\n\t\tScanner airportsScanner = new Scanner(flightsDatasetAirports);\r\n\t\twhile (airportsScanner.hasNextLine()) {\r\n\t\t\tString line = airportsScanner.nextLine();\r\n\t\t\tString[] fields = line.split(&quot;,&quot;);\r\n\t\t\tif (airportsNeeded.contains(fields[0])) {\r\n\t\t\t\tthis.airports.add(fields);\r\n\t\t\t}\r\n\t\t}\r\n\t\tairportsScanner.close();\r\n\t}\r\n\r\n\t/**\r\n\t * Returns a hash set of airport details (0: airport code, 1: city, 2: airport\r\n\t * name)\r\n\t */\r\n\tpublic HashSet&lt;String[]&gt; getAirports() {\r\n\t\treturn this.airports;\r\n\t}\r\n\r\n\t/**\r\n\t * Returns a hash set of flight details (0: flight code, 1: airport code of\r\n\t * departure, 2: departure time GMT, 3: airport code of arrival, 4: arrival time\r\n\t * GMT, 5: flight cost)\r\n\t */\r\n\tpublic HashSet&lt;String[]&gt; getFlights() {\r\n\t\treturn this.flights;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI think the flight reader codes works well. I not really sure what the problem is. \r\n\r\nThank you to any kind JAVA master out there that could help me.","title":"Null Pointer exception JAVA. why is it null when the input file is not null?","body":"<p>i am new to <code>JAVA</code>. I think all my code is corect. I dont actually know what is wrong with my code but it shows error.</p>\n<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;F28DA_CW2.FlightsReader.getAirports()&quot; because &quot;this.flightReader&quot; is null\n    at F28DA_CW2.FlyingPlanner.leastCost(FlyingPlanner.java:206)\n    at F28DA_CW2.FlyingPlannerMainPartBC.main(FlyingPlannerMainPartBC.java:29)\n</code></pre>\n<p>Below is the code i am working on:</p>\n<p>Main file</p>\n<pre><code>    import java.io.FileNotFoundException;\n\n    public class FlyingPlannerMainPartBC {\n\n    public static void main(String[] args) throws FlyingPlannerException, FileNotFoundException {\n\n        FlyingPlanner fi;\n        fi = new FlyingPlanner();\n        try {\n            fi.populate(new FlightsReader());\n\n            // Implement here your user interface using the methods of Part B. You could\n            // optionally expand it to use the methods of Part C.\n\n        } catch (FileNotFoundException | FlyingPlannerException e) {\n            e.printStackTrace();\n        }\n\n        FlightsReader flightReader = new FlightsReader();\n        flightReader.getAirports();\n        flightReader.getFlights();\n        FlyingPlanner pr = new FlyingPlanner();\n        System.out.println(pr.leastCost(&quot;EDI&quot;, &quot;DXB&quot;)); // line: 29\n        \n    }\n\n}\n</code></pre>\n<p>a snippet of the error source.</p>\n<pre><code>    @Override\n    public Journey leastCost(String from, String to) throws FlyingPlannerException {\n        // TODO Auto-generated method stub\n        HashSet&lt;String[]&gt; airports = flightReader.getAirports(); //line206\n        HashSet&lt;String[]&gt; flights = flightReader.getFlights();\n\n        DefaultDirectedWeightedGraph&lt;String, DefaultWeightedEdge&gt; leastCost = new DefaultDirectedWeightedGraph&lt;&gt;(\n                DefaultWeightedEdge.class);\n\n        for (String[] flight : flights) {\n            leastCost.addVertex(flight[1]);\n            leastCost.addVertex(flight[3]);\n            leastCost.addEdge(flight[1], flight[3]);\n            leastCost.setEdgeWeight(flight[1], flight[3], Integer.parseInt(flight[5]));\n        }\n\n        DijkstraShortestPath&lt;String, DefaultWeightedEdge&gt; dijkstraAlg = new DijkstraShortestPath&lt;&gt;(leastCost);\n        GraphPath&lt;String, DefaultWeightedEdge&gt; shortestPath = dijkstraAlg.getPath(from, to);\n\n        int totalCost = 0;\n        int totalHop = 0;\n        int totalTime = 0;\n\n        for (DefaultWeightedEdge defaultWeightedEdge : shortestPath.getEdgeList()) {\n            totalCost = totalCost + (int) leastCost.getEdgeWeight(defaultWeightedEdge);\n            totalHop = totalHop + 1;\n            String v1 = leastCost.getEdgeSource(defaultWeightedEdge);\n            String v2 = leastCost.getEdgeTarget(defaultWeightedEdge);\n            System.out.println(totalHop + &quot;. &quot; + v1 + &quot;---&gt;&quot; + v2);\n        }\n\n        Journey journey = new Journey();\n        journey.setTotalCost(totalCost);\n        journey.setTotalHop(totalHop);\n\n        System.out.println(totalCost);\n        System.out.println(totalHop);\n\n        return journey;\n    }\n\n</code></pre>\n<p>Last the Scanner file that reads the file (where i think is completely fine)</p>\n<pre><code>    import java.io.File;\n    import java.io.FileNotFoundException;\n    import java.util.HashSet;\n    import java.util.Scanner;\n\n    public class FlightsReader {\n\n    private static final File flightsDatasetFolder = new File(&quot;FlightsDataset&quot;);\n    private static final File flightsDatasetFlights = new File(flightsDatasetFolder, &quot;flights.csv&quot;);\n    private static final File flightsDatasetAirports = new File(flightsDatasetFolder, &quot;airports.csv&quot;);\n\n    private HashSet&lt;String[]&gt; airports;\n    private HashSet&lt;String[]&gt; flights;\n\n    public FlightsReader() throws FileNotFoundException, FlyingPlannerException {\n        this.airports = new HashSet&lt;String[]&gt;();\n        this.flights = new HashSet&lt;String[]&gt;();\n\n        // Adding flights, and building list of needed airport\n        HashSet&lt;String&gt; airportsNeeded = new HashSet&lt;String&gt;();\n        Scanner flightsScanner = new Scanner(flightsDatasetFlights);\n        while (flightsScanner.hasNextLine()) {\n            String line = flightsScanner.nextLine();\n            String[] fields = line.split(&quot;,&quot;);\n            String from = fields[1];\n            String to = fields[3];\n            airportsNeeded.add(from);\n            airportsNeeded.add(to);\n            this.flights.add(fields);\n        }\n        flightsScanner.close();\n\n        // Adding airports\n        Scanner airportsScanner = new Scanner(flightsDatasetAirports);\n        while (airportsScanner.hasNextLine()) {\n            String line = airportsScanner.nextLine();\n            String[] fields = line.split(&quot;,&quot;);\n            if (airportsNeeded.contains(fields[0])) {\n                this.airports.add(fields);\n            }\n        }\n        airportsScanner.close();\n    }\n\n    /**\n     * Returns a hash set of airport details (0: airport code, 1: city, 2: airport\n     * name)\n     */\n    public HashSet&lt;String[]&gt; getAirports() {\n        return this.airports;\n    }\n\n    /**\n     * Returns a hash set of flight details (0: flight code, 1: airport code of\n     * departure, 2: departure time GMT, 3: airport code of arrival, 4: arrival time\n     * GMT, 5: flight cost)\n     */\n    public HashSet&lt;String[]&gt; getFlights() {\n        return this.flights;\n    }\n\n}\n</code></pre>\n<p>I think the flight reader codes works well. I not really sure what the problem is.</p>\n<p>Thank you to any kind JAVA master out there that could help me.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9701,"page":524,"page_size":100}
