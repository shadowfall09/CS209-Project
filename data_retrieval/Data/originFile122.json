{"items":[{"tags":["java","android","android-layout","spinner"],"owner":{"account_id":2546847,"reputation":2087,"user_id":2211491,"accept_rate":83,"display_name":"Fat Monk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697473651,"creation_date":1697473147,"question_id":77303518,"body_markdown":"There are numerous questions on SO about spinner/drop-down selections not displaying, but this problem is a bit different as it is very intermittent.\r\n\r\nThe spinner in question work perfectly, and changing the spinner selection triggers various things in my app. However, every so often the spinner is blank when it is not dropped down.\r\n\r\nClicking the blank space drops down the selection panel and all options are present as expected, but when an option is selected the spinner remains blank and the actions that should follow a selection do not happen.\r\n\r\nI have uploaded a video [here][1] that shows the problem.\r\n\r\n(In the video every time the drop down list disappears it is because I have tapped on an option. For some reson my screen recorded did not shows the clicks. When I select an option, one of the resulting actions shoudl be that the button at the top of the screen should change to show the selected region&#39;s Amazon URL - this is hoe you can see that the `setOnItemSelectedListener` is not firing either.)\r\n\r\nThere doesn&#39;t seem to be any real pattern to when the spinner appears blank. It has happened:\r\n - when opening the app afresh after a long time (so cold app start effectively)\r\n - when returning to the activity from another activity\r\n - when returning to the app from another app or the home screen\r\n\r\nBUT it only happens very infrequently.\r\n\r\nIf it only happened when returning to the activity then (the second and third cases above) then I would suspect that I was failing to do something in `onResume()`, but it also happens sometimes when the app is started fresh.\r\n\r\nAs you can see in the video, rotating the screen restores the correct functionality. As does exiting the app and swiping it from the running apps, then restarting.\r\n\r\nI have tried various solutions to similar problems posted on here, but none have made any difference. [This question][2] and its answers seemed most likley to help. Sadly not.\r\n\r\nThe spinner is defined in the layout as follows:\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatSpinner\r\n        android:id=&quot;@+id/spin_aff_id&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;48dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:paddingLeft=&quot;8dp&quot;\r\n        android:paddingRight=&quot;8dp&quot;\r\n        android:paddingBottom=&quot;2dp&quot;\r\n        android:textColor=&quot;#000000&quot;\r\n        android:spinnerMode=&quot;dropdown&quot; /&gt;\r\n\r\n\r\nAnd it is populated with options as follows:\r\n\r\n\r\n    private void _populate_ids_spinner() {\r\n\r\n        amalfi.get_affids_fromprefs(affiliateRegions);\r\n        amalfi.affiliate_ids_string.clear();\r\n        amalfi.regions_present_in_affid_spinner.clear();\r\n\r\n        Object assoc_id_for_region;\r\n        Object spinner_text_for_region;\r\n\r\n        for (String region : affiliateRegions.regionIds) {\r\n            assoc_id_for_region = amalfi.assoc_ids.get(region);\r\n            spinner_text_for_region = amalfi.spinner_text.get(region);\r\n            if (assoc_id_for_region != null &amp;&amp; spinner_text_for_region != null &amp;&amp; assoc_id_for_region.toString().length() &gt; 0) {\r\n                amalfi.affiliate_ids_string.add(spinner_text_for_region.toString());\r\n                amalfi.regions_present_in_affid_spinner.add(region);\r\n            }\r\n        }\r\n\r\n        // viewBinding.spinAffId.setAdapter(new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_spinner_dropdown_item, amalfi.affiliate_ids_string));\r\n        idsSpinnerArrayAdapter =new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_spinner_dropdown_item, amalfi.affiliate_ids_string);\r\n        viewBinding.spinAffId.setAdapter(idsSpinnerArrayAdapter);\r\n        idsSpinnerArrayAdapter.notifyDataSetChanged();\r\n    }\r\n\r\n\r\nWith `_populate_ids_spinner()` being called in both `onStart()` and `onResume()`.\r\n\r\nAs I say, the important thing here seems to be that the spinner works perfectly 99% of the time, but when it gets into the invisible state it take either an orientation change or app restart to correct it (I need to experiment more, but I **don&#39;t** think starting a new activity and returning to the main activity where this spinner lives fixes it).\r\n\r\n  [1]: https://drive.google.com/file/d/1yc-5wRY-QfWZx0MS0flZn9_LcIdzzAvm/view?usp=sharing\r\n  [2]: https://stackoverflow.com/questions/34530584/why-does-an-spinner-disappear-and-reappear-again-on-touch","title":"Android Spinner selection /sometimes/ not showing or detectable","body":"<p>There are numerous questions on SO about spinner/drop-down selections not displaying, but this problem is a bit different as it is very intermittent.</p>\n<p>The spinner in question work perfectly, and changing the spinner selection triggers various things in my app. However, every so often the spinner is blank when it is not dropped down.</p>\n<p>Clicking the blank space drops down the selection panel and all options are present as expected, but when an option is selected the spinner remains blank and the actions that should follow a selection do not happen.</p>\n<p>I have uploaded a video <a href=\"https://drive.google.com/file/d/1yc-5wRY-QfWZx0MS0flZn9_LcIdzzAvm/view?usp=sharing\" rel=\"nofollow noreferrer\">here</a> that shows the problem.</p>\n<p>(In the video every time the drop down list disappears it is because I have tapped on an option. For some reson my screen recorded did not shows the clicks. When I select an option, one of the resulting actions shoudl be that the button at the top of the screen should change to show the selected region's Amazon URL - this is hoe you can see that the <code>setOnItemSelectedListener</code> is not firing either.)</p>\n<p>There doesn't seem to be any real pattern to when the spinner appears blank. It has happened:</p>\n<ul>\n<li>when opening the app afresh after a long time (so cold app start effectively)</li>\n<li>when returning to the activity from another activity</li>\n<li>when returning to the app from another app or the home screen</li>\n</ul>\n<p>BUT it only happens very infrequently.</p>\n<p>If it only happened when returning to the activity then (the second and third cases above) then I would suspect that I was failing to do something in <code>onResume()</code>, but it also happens sometimes when the app is started fresh.</p>\n<p>As you can see in the video, rotating the screen restores the correct functionality. As does exiting the app and swiping it from the running apps, then restarting.</p>\n<p>I have tried various solutions to similar problems posted on here, but none have made any difference. <a href=\"https://stackoverflow.com/questions/34530584/why-does-an-spinner-disappear-and-reappear-again-on-touch\">This question</a> and its answers seemed most likley to help. Sadly not.</p>\n<p>The spinner is defined in the layout as follows:</p>\n<pre><code>&lt;androidx.appcompat.widget.AppCompatSpinner\n    android:id=&quot;@+id/spin_aff_id&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;48dp&quot;\n    android:layout_weight=&quot;1&quot;\n    android:paddingLeft=&quot;8dp&quot;\n    android:paddingRight=&quot;8dp&quot;\n    android:paddingBottom=&quot;2dp&quot;\n    android:textColor=&quot;#000000&quot;\n    android:spinnerMode=&quot;dropdown&quot; /&gt;\n</code></pre>\n<p>And it is populated with options as follows:</p>\n<pre><code>private void _populate_ids_spinner() {\n\n    amalfi.get_affids_fromprefs(affiliateRegions);\n    amalfi.affiliate_ids_string.clear();\n    amalfi.regions_present_in_affid_spinner.clear();\n\n    Object assoc_id_for_region;\n    Object spinner_text_for_region;\n\n    for (String region : affiliateRegions.regionIds) {\n        assoc_id_for_region = amalfi.assoc_ids.get(region);\n        spinner_text_for_region = amalfi.spinner_text.get(region);\n        if (assoc_id_for_region != null &amp;&amp; spinner_text_for_region != null &amp;&amp; assoc_id_for_region.toString().length() &gt; 0) {\n            amalfi.affiliate_ids_string.add(spinner_text_for_region.toString());\n            amalfi.regions_present_in_affid_spinner.add(region);\n        }\n    }\n\n    // viewBinding.spinAffId.setAdapter(new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_spinner_dropdown_item, amalfi.affiliate_ids_string));\n    idsSpinnerArrayAdapter =new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_spinner_dropdown_item, amalfi.affiliate_ids_string);\n    viewBinding.spinAffId.setAdapter(idsSpinnerArrayAdapter);\n    idsSpinnerArrayAdapter.notifyDataSetChanged();\n}\n</code></pre>\n<p>With <code>_populate_ids_spinner()</code> being called in both <code>onStart()</code> and <code>onResume()</code>.</p>\n<p>As I say, the important thing here seems to be that the spinner works perfectly 99% of the time, but when it gets into the invisible state it take either an orientation change or app restart to correct it (I need to experiment more, but I <strong>don't</strong> think starting a new activity and returning to the main activity where this spinner lives fixes it).</p>\n"},{"tags":["java","codenameone"],"answers":[{"comments":[{"owner":{"account_id":29557990,"reputation":41,"user_id":22653206,"display_name":"curtjacobs1"},"score":0,"creation_date":1696384172,"post_id":77213004,"comment_id":136144754,"body_markdown":"I pared the code and put the call in start(), and the project compiles correctly. When I run, I get the error message and fail.","body":"I pared the code and put the call in start(), and the project compiles correctly. When I run, I get the error message and fail."},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1696387888,"post_id":77213004,"comment_id":136144996,"body_markdown":"What is the error message and how does it fail?","body":"What is the error message and how does it fail?"},{"owner":{"account_id":29557990,"reputation":41,"user_id":22653206,"display_name":"curtjacobs1"},"score":0,"creation_date":1696481699,"post_id":77213004,"comment_id":136159050,"body_markdown":"I have added other components, but am still getting the same java.lang.NullPointerException: Cannot invoke &quot;com.codename1.impl.CodenameOneImplementation.createFont(int, int, int)&quot; because &quot;i&quot; is null","body":"I have added other components, but am still getting the same java.lang.NullPointerException: Cannot invoke &quot;com.codename1.impl.CodenameOneImplementation.createFont(int&zwnj;&#8203;, int, int)&quot; because &quot;i&quot; is null"},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1696559874,"post_id":77213004,"comment_id":136171885,"body_markdown":"This is the same error I explained above. You can&#39;t invoke Codename One code at an early stage. You need to do it in `init(Object)`. Not in the constructor and not initialize the fields in the class. If you include the code I can help you with that.","body":"This is the same error I explained above. You can&#39;t invoke Codename One code at an early stage. You need to do it in <code>init(Object)</code>. Not in the constructor and not initialize the fields in the class. If you include the code I can help you with that."},{"owner":{"account_id":29557990,"reputation":41,"user_id":22653206,"display_name":"curtjacobs1"},"score":0,"creation_date":1696867938,"post_id":77213004,"comment_id":136204975,"body_markdown":"I worked around the errors and got a build, and got the black screen you have commented on. The comments box is not big enough for the code. I will go to reddit and post the code under the black screen problem. Thanks for all your help.","body":"I worked around the errors and got a build, and got the black screen you have commented on. The comments box is not big enough for the code. I will go to reddit and post the code under the black screen problem. Thanks for all your help."},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1696905983,"post_id":77213004,"comment_id":136209371,"body_markdown":"I answered [here](https://www.reddit.com/r/cn1/comments/173w3df/black_screen_when_running_app/).","body":"I answered <a href=\"https://www.reddit.com/r/cn1/comments/173w3df/black_screen_when_running_app/\" rel=\"nofollow noreferrer\">here</a>."}],"tags":[],"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696214183,"creation_date":1696214183,"answer_id":77213004,"question_id":77207937,"body_markdown":"I answered it [here](https://www.reddit.com/r/cn1/comments/16we6yl/javalang_error_message_after_adding_textbox_to_my/) copied for reference.\r\n\r\nI&#39;m assuming `SoccerSession` is your main class. Notice your code is in the constructor of that class. It should be in the `init(Object)` or `start()` method.\r\n\r\nFonts always exist, this is the default system font. The problem is that since `init(Object)` wasn&#39;t yet invoked it means that Codename One itself hasn&#39;t finished loading yet at this stage. The implementation itself isn&#39;t ready.","title":"java.lang Error Message after adding textbox to my class in Codename One Project","body":"<p>I answered it <a href=\"https://www.reddit.com/r/cn1/comments/16we6yl/javalang_error_message_after_adding_textbox_to_my/\" rel=\"nofollow noreferrer\">here</a> copied for reference.</p>\n<p>I'm assuming <code>SoccerSession</code> is your main class. Notice your code is in the constructor of that class. It should be in the <code>init(Object)</code> or <code>start()</code> method.</p>\n<p>Fonts always exist, this is the default system font. The problem is that since <code>init(Object)</code> wasn't yet invoked it means that Codename One itself hasn't finished loading yet at this stage. The implementation itself isn't ready.</p>\n"},{"tags":[],"owner":{"account_id":29557990,"reputation":41,"user_id":22653206,"display_name":"curtjacobs1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697473649,"creation_date":1697473649,"answer_id":77303561,"question_id":77207937,"body_markdown":"I was working on another part of the Codename One app (Maven Setup) and found out what I was doing wrong. The java.lang error was thrown when the javase files were building. I had a statement in the code that java didn&#39;t like, which was bringing the error. Once my code was clean to java&#39;s perspective, the error disappeared.","title":"java.lang Error Message after adding textbox to my class in Codename One Project","body":"<p>I was working on another part of the Codename One app (Maven Setup) and found out what I was doing wrong. The java.lang error was thrown when the javase files were building. I had a statement in the code that java didn't like, which was bringing the error. Once my code was clean to java's perspective, the error disappeared.</p>\n"}],"owner":{"account_id":29557990,"reputation":41,"user_id":22653206,"display_name":"curtjacobs1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697473649,"creation_date":1696097695,"question_id":77207937,"body_markdown":"Using NetBeans 18, developing a Codename One app built with Initializr.\r\nI got my last issue resolved by re-creating the project and transferring everything in. Now that I started adding elements, I resolved the issues that needed correcting in the code, and the project would build. I have commented out the elements I need to work on, trying to get the general look in the Simulator. \r\nWhen I try to run the app, I get the following error. I have looked in CodenameOneImplementation.createFont and do not see any issues with the createFont instance in the Codename One Library.\r\n\r\n\r\n```\r\n\r\n`your text`java.lang.NullPointerException: Cannot invoke &quot;com.codename1.impl.CodenameOneImplementation.createFont(int, int, int)&quot; because &quot;i&quot; is null\r\n\tat com.codename1.ui.Font.&lt;init&gt;(Font.java:99)\r\n\tat com.codename1.ui.Font.createSystemFont(Font.java:399)\r\n\tat com.codename1.ui.plaf.UIManager.resetThemeProps(UIManager.java:427)\r\n\tat com.codename1.ui.plaf.UIManager.&lt;init&gt;(UIManager.java:108)\r\n\tat com.codename1.ui.plaf.UIManager.getInstance(UIManager.java:126)\r\n\tat com.codename1.ui.Component.getUIManager(Component.java:951)\r\n\tat com.codename1.ui.Component.&lt;init&gt;(Component.java:722)\r\n\tat com.codename1.ui.TextArea.&lt;init&gt;(TextArea.java:423)\r\n\tat com.codename1.ui.TextArea.&lt;init&gt;(TextArea.java:298)\r\n\tat com.codename1.ui.TextField.&lt;init&gt;(TextField.java:265)\r\n\tat com.kcconsulting.soccersession.SoccerSession.&lt;init&gt;(SoccerSession.java:37)\r\n\tat `your text`java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstruct`your text`orHandleAccessor.java:67)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n\tat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\r\n\tat `your text`java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:304)\r\n\tat java.base/java.lang.Class.newInstance(Class.java:685)\r\n\tat com.codename1.impl.javase.Executor$3.run(Executor.java:266)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n\tat `your text`java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\nJava Result: 1\r\n```\r\nThis is my app setup:\r\n\r\n```\r\n    package com.kcconsulting.soccersession;\r\n    import static com.codename1.ui.CN.*;\r\n    import com.codename1.ui.Display;\r\n    import com.codename1.ui.Form;\r\n    import com.codename1.ui.Container;\r\n    import com.codename1.ui.Dialog;\r\n    import com.codename1.ui.Label;\r\n    import com.codename1.ui.Button;\r\n    import com.codename1.ui.plaf.UIManager;\r\n    import com.codename1.ui.util.Resources;\r\n    import com.codename1.io.Log;\r\n    import com.codename1.ui.Toolbar;\r\n    import java.io.IOException;\r\n    import com.codename1.ui.layouts.BoxLayout;\r\n    import com.codename1.io.NetworkEvent;\r\n    import com.codename1.ui.layouts.BorderLayout;\r\n    import com.codename1.ui.layouts.Layout;\r\n    import com.codename1.io.NetworkEvent;\r\n    import com.codename1.ui.Image;\r\n    import com.codename1.ui.TextField;\r\n    import static com.codename1.ui.layouts.BorderLayout.centerEastWest;\r\n    import static com.codename1.ui.layouts.BoxLayout.Y_AXIS;\r\n    import com.codename1.ui.table.TableLayout;\r\n    /**\r\n     * This file was generated by &lt;a href=&quot;https://www.codenameone.com/&quot;&gt;Codename One&lt;/a&gt; for         the purpose \r\n     * of building native mobile applications using Java.\r\n     */\r\n    public class SoccerSession {\r\n        private Form current = new Form();\r\n        private Resources theme;\r\n        private Label sessionLabel = new Label(&quot;Name&quot;);            \r\n        public void init(Object context) {\r\n        // use two network threads instead of one\r\n            updateNetworkThreadCount(2);\r\n            theme = UIManager.initFirstTheme(&quot;/scr/css/theme.css&quot;);\r\n        // Enable Toolbar on all Forms by default\r\n            Toolbar.setGlobalToolbar(true);\r\n        // Pro only feature\r\n            Log.bindCrashProtection(true);\r\n            addNetworkErrorListener(err -&gt; {\r\n            // prevent the event from propagating\r\n                err.consume();\r\n                if(err.getError() != null) {\r\n                    Log.e(err.getError());\r\n                }\r\n                Log.sendLogAsync();\r\n                Dialog.show(&quot;Connection Error&quot;, &quot;There was a networking error in the connection to &quot; + err.getConnectionRequest().getUrl(), &quot;OK&quot;, null);\r\n            });        \r\n        }\r\n\r\n    \r\n        public void start() {\r\n            if(current != null){\r\n                current.show();\r\n                return;            }\r\n        \r\n             Button r = new Button(&quot;Rondos&quot;);\r\n             Button p = new Button(&quot;Plays&quot;);\r\n             Button n = new Button(&quot;New&quot;);\r\n             Button s = new Button(&quot;Capture Screen&quot;);\r\n             Container headerContainer = new Container();\r\n             Container bodyContainer = new Container();\r\n//        Container sessionName = new Container(tl);\r\n //       String pathToImageSortBy = &quot;soccersession/src/main/resources/WorkingField&quot;;\r\n //       Image bg = protected Image(Object image);\r\n //       bg = new Image(getClass().getClassLoader().getResource(pathToImageSortBy));\r\n       \r\n//\tbodyContainer.addImage(bg);\r\n            Container footerBar = new Container();\r\n            Container footerContainer = new Container();\r\n            Container leftPanel = new Container();\r\n            Container rightPanel = new Container();\r\n //       Container maincontainer = new Container(new BorderLayout());\r\n            BorderLayout forSession = new BorderLayout();\r\n //       forSession.setLayout(centerEastWest(sessionText, null, sessionLabel))\r\n            footerContainer.setLayout(new BorderLayout(centerEastWest(sessionText, null, sessionLabel)));\r\n            BoxLayout bl = new BoxLayout(Y_AXIS);\r\n            leftPanel.setLayout(bl);\r\n            rightPanel.setLayout(bl);        \r\n            TableLayout tl = new TableLayout(1, 3); \r\n            footerBar.add(tl.createConstraint().widthPercentage(20).heightPercentage(100), n);\r\n            footerBar.add(tl.createConstraint().widthPercentage(60).heightPercentage(100), footerContainer);\r\n            footerBar.add(tl.createConstraint().widthPercentage(20).heightPercentage(100), s);     \r\n            Form hi = new Form(&quot;Welcome to Soccer Session - Landscape Orientation&quot;, new BorderLayout());\r\n            hi.add(BorderLayout.CENTER, bodyContainer).\r\n            add(BorderLayout.SOUTH, footerBar).\r\n            add(BorderLayout.NORTH, headerContainer).\r\n            add(BorderLayout.EAST, rightPanel).\r\n            add(BorderLayout.WEST, leftPanel);\r\n            leftPanel.add(r);\r\n            leftPanel.add(p);     \r\n            hi.show();\t   \r\n        }\r\n        public void stop() {\r\n            current = getCurrentForm();\r\n            if(current instanceof Dialog) {\r\n                ((Dialog)current).dispose();\r\n                current = getCurrentForm();\r\n            }\r\n        }   \r\n        public void destroy() {\r\n        }\r\n   }\r\n```\r\n\r\n\r\n\r\n\r\nI am confused at why the app is trying to create a new font because I do not need that yet. I have looked in the 2 forums and cannot find any instance of createFont, though there were a few instances of the null error.\r\nDo I need to go through each of the 27 instances, or can I correct this in my code? I can&#39;t start changing the look without getting to the simulator. Thanks.","title":"java.lang Error Message after adding textbox to my class in Codename One Project","body":"<p>Using NetBeans 18, developing a Codename One app built with Initializr.\nI got my last issue resolved by re-creating the project and transferring everything in. Now that I started adding elements, I resolved the issues that needed correcting in the code, and the project would build. I have commented out the elements I need to work on, trying to get the general look in the Simulator.\nWhen I try to run the app, I get the following error. I have looked in CodenameOneImplementation.createFont and do not see any issues with the createFont instance in the Codename One Library.</p>\n<pre><code>\n`your text`java.lang.NullPointerException: Cannot invoke &quot;com.codename1.impl.CodenameOneImplementation.createFont(int, int, int)&quot; because &quot;i&quot; is null\n    at com.codename1.ui.Font.&lt;init&gt;(Font.java:99)\n    at com.codename1.ui.Font.createSystemFont(Font.java:399)\n    at com.codename1.ui.plaf.UIManager.resetThemeProps(UIManager.java:427)\n    at com.codename1.ui.plaf.UIManager.&lt;init&gt;(UIManager.java:108)\n    at com.codename1.ui.plaf.UIManager.getInstance(UIManager.java:126)\n    at com.codename1.ui.Component.getUIManager(Component.java:951)\n    at com.codename1.ui.Component.&lt;init&gt;(Component.java:722)\n    at com.codename1.ui.TextArea.&lt;init&gt;(TextArea.java:423)\n    at com.codename1.ui.TextArea.&lt;init&gt;(TextArea.java:298)\n    at com.codename1.ui.TextField.&lt;init&gt;(TextField.java:265)\n    at com.kcconsulting.soccersession.SoccerSession.&lt;init&gt;(SoccerSession.java:37)\n    at `your text`java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstruct`your text`orHandleAccessor.java:67)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\n    at `your text`java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:304)\n    at java.base/java.lang.Class.newInstance(Class.java:685)\n    at com.codename1.impl.javase.Executor$3.run(Executor.java:266)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at `your text`java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:87)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nJava Result: 1\n</code></pre>\n<p>This is my app setup:</p>\n<pre><code>    package com.kcconsulting.soccersession;\n    import static com.codename1.ui.CN.*;\n    import com.codename1.ui.Display;\n    import com.codename1.ui.Form;\n    import com.codename1.ui.Container;\n    import com.codename1.ui.Dialog;\n    import com.codename1.ui.Label;\n    import com.codename1.ui.Button;\n    import com.codename1.ui.plaf.UIManager;\n    import com.codename1.ui.util.Resources;\n    import com.codename1.io.Log;\n    import com.codename1.ui.Toolbar;\n    import java.io.IOException;\n    import com.codename1.ui.layouts.BoxLayout;\n    import com.codename1.io.NetworkEvent;\n    import com.codename1.ui.layouts.BorderLayout;\n    import com.codename1.ui.layouts.Layout;\n    import com.codename1.io.NetworkEvent;\n    import com.codename1.ui.Image;\n    import com.codename1.ui.TextField;\n    import static com.codename1.ui.layouts.BorderLayout.centerEastWest;\n    import static com.codename1.ui.layouts.BoxLayout.Y_AXIS;\n    import com.codename1.ui.table.TableLayout;\n    /**\n     * This file was generated by &lt;a href=&quot;https://www.codenameone.com/&quot;&gt;Codename One&lt;/a&gt; for         the purpose \n     * of building native mobile applications using Java.\n     */\n    public class SoccerSession {\n        private Form current = new Form();\n        private Resources theme;\n        private Label sessionLabel = new Label(&quot;Name&quot;);            \n        public void init(Object context) {\n        // use two network threads instead of one\n            updateNetworkThreadCount(2);\n            theme = UIManager.initFirstTheme(&quot;/scr/css/theme.css&quot;);\n        // Enable Toolbar on all Forms by default\n            Toolbar.setGlobalToolbar(true);\n        // Pro only feature\n            Log.bindCrashProtection(true);\n            addNetworkErrorListener(err -&gt; {\n            // prevent the event from propagating\n                err.consume();\n                if(err.getError() != null) {\n                    Log.e(err.getError());\n                }\n                Log.sendLogAsync();\n                Dialog.show(&quot;Connection Error&quot;, &quot;There was a networking error in the connection to &quot; + err.getConnectionRequest().getUrl(), &quot;OK&quot;, null);\n            });        \n        }\n\n    \n        public void start() {\n            if(current != null){\n                current.show();\n                return;            }\n        \n             Button r = new Button(&quot;Rondos&quot;);\n             Button p = new Button(&quot;Plays&quot;);\n             Button n = new Button(&quot;New&quot;);\n             Button s = new Button(&quot;Capture Screen&quot;);\n             Container headerContainer = new Container();\n             Container bodyContainer = new Container();\n//        Container sessionName = new Container(tl);\n //       String pathToImageSortBy = &quot;soccersession/src/main/resources/WorkingField&quot;;\n //       Image bg = protected Image(Object image);\n //       bg = new Image(getClass().getClassLoader().getResource(pathToImageSortBy));\n       \n//  bodyContainer.addImage(bg);\n            Container footerBar = new Container();\n            Container footerContainer = new Container();\n            Container leftPanel = new Container();\n            Container rightPanel = new Container();\n //       Container maincontainer = new Container(new BorderLayout());\n            BorderLayout forSession = new BorderLayout();\n //       forSession.setLayout(centerEastWest(sessionText, null, sessionLabel))\n            footerContainer.setLayout(new BorderLayout(centerEastWest(sessionText, null, sessionLabel)));\n            BoxLayout bl = new BoxLayout(Y_AXIS);\n            leftPanel.setLayout(bl);\n            rightPanel.setLayout(bl);        \n            TableLayout tl = new TableLayout(1, 3); \n            footerBar.add(tl.createConstraint().widthPercentage(20).heightPercentage(100), n);\n            footerBar.add(tl.createConstraint().widthPercentage(60).heightPercentage(100), footerContainer);\n            footerBar.add(tl.createConstraint().widthPercentage(20).heightPercentage(100), s);     \n            Form hi = new Form(&quot;Welcome to Soccer Session - Landscape Orientation&quot;, new BorderLayout());\n            hi.add(BorderLayout.CENTER, bodyContainer).\n            add(BorderLayout.SOUTH, footerBar).\n            add(BorderLayout.NORTH, headerContainer).\n            add(BorderLayout.EAST, rightPanel).\n            add(BorderLayout.WEST, leftPanel);\n            leftPanel.add(r);\n            leftPanel.add(p);     \n            hi.show();     \n        }\n        public void stop() {\n            current = getCurrentForm();\n            if(current instanceof Dialog) {\n                ((Dialog)current).dispose();\n                current = getCurrentForm();\n            }\n        }   \n        public void destroy() {\n        }\n   }\n</code></pre>\n<p>I am confused at why the app is trying to create a new font because I do not need that yet. I have looked in the 2 forums and cannot find any instance of createFont, though there were a few instances of the null error.\nDo I need to go through each of the 27 instances, or can I correct this in my code? I can't start changing the look without getting to the simulator. Thanks.</p>\n"},{"tags":["java","postman","spring-webflux","server-sent-events"],"owner":{"account_id":5410764,"reputation":448,"user_id":4307638,"accept_rate":67,"display_name":"lemario"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697473612,"creation_date":1697473612,"question_id":77303557,"body_markdown":"I have a ms that a client can connect to to recieve incoming notifications. When the client first connects a call to the db is made to retrieve all stored notifications. \r\n\r\n**The problem:** \r\nWhen I connect, even though there are 3 notifications in the db the client only recieves 1. Except on the first connect of the system, that for some reason returns the 3 notifications. That reason I assume is because when the system starts up for the first time the result of the SELECT statement from the database is not yet cached so it takes longer to get that data.\r\n\r\n**My thinking of why this is happening:**\r\nI believe this is happening because the data that comes from the db is being subscribed to the Flux before client connection is fully established, and so it only catches the last notification. \r\n\r\n**My solution:**\r\nI used the method `delaySubscription()` to delay subscription of the data and it works. However I dont feel very &quot;safe&quot; using it this way because if for some reason the connection takes longer the notifications will not be recieved. It is a even bigger problem because I intend to delete the notifications when they are sent. \r\n\r\n**Question:** \r\nIs there a way to check if connection is fully established before subscribing to the flux&#39;s? \r\n\r\n**Another solution that might work:**\r\nMaybe I could after establishing the connection in the client have another call to the ms that requests the initial notifications to be subscribed to the flux. However I believe this will not work in a distributed system, has the call can go to a container that the client is not subscribed to hence no notification will be sent. \r\n\r\n**Question2:** \r\nAm I overthinking this, and should I just have a diferent method for getting the initial notifications that just returns normal objects instead of a flux and then do the subscription? \r\n\r\nHere is a bit of my code: \r\n\r\n    return Flux.merge(\r\n             findAndCreateInitialNotifications(mainId).delaySubscription(Duration.ofSeconds(DURATION_OF_TIME_BEFORE_FIRST_NOTIFICATION)),\r\n             data.filter(notification -&gt; mainId.equals(((NotificationDto) notification.data()).getUserToSendNotificationTo()))\r\n                                 .switchIfEmpty(Flux.empty()).delaySubscription(Duration.ofSeconds(DURATION_OF_TIME_BEFORE_FIRST_NOTIFICATION)),\r\n             heartBeat).onBackpressureBuffer();\r\n\r\n\r\n\r\n\r\n","title":"Webflux How to subscribe only when client connection is fully established","body":"<p>I have a ms that a client can connect to to recieve incoming notifications. When the client first connects a call to the db is made to retrieve all stored notifications.</p>\n<p><strong>The problem:</strong>\nWhen I connect, even though there are 3 notifications in the db the client only recieves 1. Except on the first connect of the system, that for some reason returns the 3 notifications. That reason I assume is because when the system starts up for the first time the result of the SELECT statement from the database is not yet cached so it takes longer to get that data.</p>\n<p><strong>My thinking of why this is happening:</strong>\nI believe this is happening because the data that comes from the db is being subscribed to the Flux before client connection is fully established, and so it only catches the last notification.</p>\n<p><strong>My solution:</strong>\nI used the method <code>delaySubscription()</code> to delay subscription of the data and it works. However I dont feel very &quot;safe&quot; using it this way because if for some reason the connection takes longer the notifications will not be recieved. It is a even bigger problem because I intend to delete the notifications when they are sent.</p>\n<p><strong>Question:</strong>\nIs there a way to check if connection is fully established before subscribing to the flux's?</p>\n<p><strong>Another solution that might work:</strong>\nMaybe I could after establishing the connection in the client have another call to the ms that requests the initial notifications to be subscribed to the flux. However I believe this will not work in a distributed system, has the call can go to a container that the client is not subscribed to hence no notification will be sent.</p>\n<p><strong>Question2:</strong>\nAm I overthinking this, and should I just have a diferent method for getting the initial notifications that just returns normal objects instead of a flux and then do the subscription?</p>\n<p>Here is a bit of my code:</p>\n<pre><code>return Flux.merge(\n         findAndCreateInitialNotifications(mainId).delaySubscription(Duration.ofSeconds(DURATION_OF_TIME_BEFORE_FIRST_NOTIFICATION)),\n         data.filter(notification -&gt; mainId.equals(((NotificationDto) notification.data()).getUserToSendNotificationTo()))\n                             .switchIfEmpty(Flux.empty()).delaySubscription(Duration.ofSeconds(DURATION_OF_TIME_BEFORE_FIRST_NOTIFICATION)),\n         heartBeat).onBackpressureBuffer();\n</code></pre>\n"},{"tags":["java","sealed-class","java-15","java-sealed-type"],"comments":[{"owner":{"account_id":13053348,"reputation":824,"user_id":9432967,"display_name":"Omid.N"},"score":3,"creation_date":1599912855,"post_id":63860110,"comment_id":112925808,"body_markdown":"@Ayox take a look at this link:   https://openjdk.java.net/jeps/360   *Motivation* part","body":"@Ayox take a look at this link:   <a href=\"https://openjdk.java.net/jeps/360\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/360</a>   <i>Motivation</i> part"},{"owner":{"account_id":6289028,"reputation":711,"user_id":4887297,"accept_rate":36,"display_name":"Ayox"},"score":0,"creation_date":1599912921,"post_id":63860110,"comment_id":112925827,"body_markdown":"Already read that (otherwise I wouldn&#39;t reference it myself) but I didn&#39;t understand it thats why I am asking.","body":"Already read that (otherwise I wouldn&#39;t reference it myself) but I didn&#39;t understand it thats why I am asking."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":3,"creation_date":1599914371,"post_id":63860110,"comment_id":112926179,"body_markdown":"&quot;Providing the &quot;non-sealed&quot; keyword will invite the developer for hacks.&quot; - Why do you think this is bad? What &#39;hacks&#39; are you talking about?","body":"&quot;Providing the &quot;non-sealed&quot; keyword will invite the developer for hacks.&quot; - Why do you think this is bad? What &#39;hacks&#39; are you talking about?"}],"answers":[{"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1599914045,"post_id":63860325,"comment_id":112926103,"body_markdown":"This does not anwer the question. The question is about the `non-sealed` keyword, which is another keyword besides the `sealed` keyword.","body":"This does not anwer the question. The question is about the <code>non-sealed</code> keyword, which is another keyword besides the <code>sealed</code> keyword."},{"owner":{"account_id":477949,"reputation":5606,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"score":2,"creation_date":1599914084,"post_id":63860325,"comment_id":112926116,"body_markdown":"Wow, this feature seems to directly contradict the open closed principle. I envision many  cases where you got the permits list wrong, and have to return in the future to open it up again.","body":"Wow, this feature seems to directly contradict the open closed principle. I envision many  cases where you got the permits list wrong, and have to return in the future to open it up again."},{"owner":{"account_id":13053348,"reputation":824,"user_id":9432967,"display_name":"Omid.N"},"score":0,"creation_date":1599916615,"post_id":63860325,"comment_id":112926752,"body_markdown":"@Jesper I edited my answer! I hope you already got what is the purpose of this new feature!","body":"@Jesper I edited my answer! I hope you already got what is the purpose of this new feature!"}],"tags":[],"owner":{"account_id":13053348,"reputation":824,"user_id":9432967,"display_name":"Omid.N"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599916469,"creation_date":1599913648,"answer_id":63860325,"question_id":63860110,"body_markdown":"Imagin you wanna write a class `Shape` in your code. You can make this class `abstract` too if you don&#39;t wanna instantiate it. You want to extend it in some classes like `Circle` , `Triangle`, and `Rectangle`. Now that you have implemented it you want to make sure that no one will be able to extend your `Shape` class. Can you do it without the `sealed` keyword? &lt;br&gt;\r\nNo, because you will have to either make it `final` in which case you won&#39;t be able to extend it to have any subclasses. This is where the `sealed` keyword comes in! You make an abstract class sealed and restrict that which classes will be able to extend it:\r\n\r\n    public abstract sealed class Shape \r\n        permits Circle, Triangle, Rectangle {...}\r\n\r\nRemember if your subclasses are not in the same package as `Shape` class, you will have to mention their name with packages:\r\n\r\n    public abstract sealed class Shape\r\n        permits com.example.Circle    { ... }\r\nNow, when you are declaring those three subclasses you have to make them `final`, `sealed` or `non-sealed` **(One and only one of these modifiers should be used)**.&lt;br&gt;\r\n\r\nNow when you can extend `Circle` in desired classes? Only when you tell Java it can be extended by unknown subclasses by using `non-sealed` keyword:\r\n\r\n    public non-sealed class Circle {...} \r\n\r\n","title":"What is the point of extending a sealed class with a non-sealed class?","body":"<p>Imagin you wanna write a class <code>Shape</code> in your code. You can make this class <code>abstract</code> too if you don't wanna instantiate it. You want to extend it in some classes like <code>Circle</code> , <code>Triangle</code>, and <code>Rectangle</code>. Now that you have implemented it you want to make sure that no one will be able to extend your <code>Shape</code> class. Can you do it without the <code>sealed</code> keyword? <br>\nNo, because you will have to either make it <code>final</code> in which case you won't be able to extend it to have any subclasses. This is where the <code>sealed</code> keyword comes in! You make an abstract class sealed and restrict that which classes will be able to extend it:</p>\n<pre><code>public abstract sealed class Shape \n    permits Circle, Triangle, Rectangle {...}\n</code></pre>\n<p>Remember if your subclasses are not in the same package as <code>Shape</code> class, you will have to mention their name with packages:</p>\n<pre><code>public abstract sealed class Shape\n    permits com.example.Circle    { ... }\n</code></pre>\n<p>Now, when you are declaring those three subclasses you have to make them <code>final</code>, <code>sealed</code> or <code>non-sealed</code> <strong>(One and only one of these modifiers should be used)</strong>.<br></p>\n<p>Now when you can extend <code>Circle</code> in desired classes? Only when you tell Java it can be extended by unknown subclasses by using <code>non-sealed</code> keyword:</p>\n<pre><code>public non-sealed class Circle {...} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":477949,"reputation":5606,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"score":1,"creation_date":1599914694,"post_id":63860381,"comment_id":112926253,"body_markdown":"Wonderful. Now let&#39;s make it a rule of thumb to always add one more deriving permits class named &quot;other&quot;, in case we change our mind about this silly sealed decision.","body":"Wonderful. Now let&#39;s make it a rule of thumb to always add one more deriving permits class named &quot;other&quot;, in case we change our mind about this silly sealed decision."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1599914845,"post_id":63860381,"comment_id":112926285,"body_markdown":"Excellent example, but, since I haven&#39;t read JEP 360 myself, please clarify for me: I understand that `final` prevents subclassing, so `sealed` doesn&#39;t really apply, but you specified `sealed` on `Rectangle`, which implies that it is not &quot;inherited&quot; from `Shape`. If so, why would you need `non-sealed` on `Square`? Or is `sealed` inherited, and you simply repeated it on `Rectangle` for confirmation, even though it&#39;s redundant?","body":"Excellent example, but, since I haven&#39;t read JEP 360 myself, please clarify for me: I understand that <code>final</code> prevents subclassing, so <code>sealed</code> doesn&#39;t really apply, but you specified <code>sealed</code> on <code>Rectangle</code>, which implies that it is not &quot;inherited&quot; from <code>Shape</code>. If so, why would you need <code>non-sealed</code> on <code>Square</code>? Or is <code>sealed</code> inherited, and you simply repeated it on <code>Rectangle</code> for confirmation, even though it&#39;s redundant?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1599914893,"post_id":63860381,"comment_id":112926304,"body_markdown":"@GonenI If you do that, you might as well not use `sealed` in the first place.","body":"@GonenI If you do that, you might as well not use <code>sealed</code> in the first place."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1599915155,"post_id":63860381,"comment_id":112926377,"body_markdown":"@Andreas Not having `non-sealed` on `Square` would be a compiler error. You have to be explicit.","body":"@Andreas Not having <code>non-sealed</code> on <code>Square</code> would be a compiler error. You have to be explicit."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1599915406,"post_id":63860381,"comment_id":112926463,"body_markdown":"So subclasses of a `sealed` type must specify one of `final`, `sealed`, or `non-sealed`? Would be good to say that in the answer, as part of why we need the `non-sealed` keyword.","body":"So subclasses of a <code>sealed</code> type must specify one of <code>final</code>, <code>sealed</code>, or <code>non-sealed</code>? Would be good to say that in the answer, as part of why we need the <code>non-sealed</code> keyword."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":6,"creation_date":1600175069,"post_id":63860381,"comment_id":112999890,"body_markdown":"@Andreas a better real life example: `Throwable` was intended to have only two subclasses, `Error` and `Exception`, forming two fundamental categories. Both classes, `Error` and `Exception` are allowed to have subclasses and should have them, but direct subclasses of `Throwable`, other than those two, were not intended, but unfortunately, could not be forbidden in the past.","body":"@Andreas a better real life example: <code>Throwable</code> was intended to have only two subclasses, <code>Error</code> and <code>Exception</code>, forming two fundamental categories. Both classes, <code>Error</code> and <code>Exception</code> are allowed to have subclasses and should have them, but direct subclasses of <code>Throwable</code>, other than those two, were not intended, but unfortunately, could not be forbidden in the past."}],"tags":[],"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"comment_count":6,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1600901750,"creation_date":1599914070,"answer_id":63860381,"question_id":63860110,"body_markdown":"I think the following example from the [JEP 360](https://openjdk.java.net/jeps/360) is showing it:\r\n\r\n```java\r\npackage com.example.geometry;\r\n\r\npublic abstract sealed class Shape\r\n    permits Circle, Rectangle, Square {...}\r\n\r\npublic final class Circle extends Shape {...}\r\n\r\npublic sealed class Rectangle extends Shape \r\n    permits TransparentRectangle, FilledRectangle {...}\r\npublic final class TransparentRectangle extends Rectangle {...}\r\npublic final class FilledRectangle extends Rectangle {...}\r\n\r\npublic non-sealed class Square extends Shape {...}\r\n```\r\n\r\nYou want to permit only the specified classes to extend `Shape`. Now what&#39;s the point in making `Square` `non-sealed`? Because you want to allow any other class to extend `Square` (and the hierarchy).\r\n\r\nThink of it like that: Any class that wants to extend `Shape` will have to do that with either `Circle`, `Rectangle` or `Square` ***in between***. So every extending class of this sub-hierarchy will be either a `Circle`, `Rectangle` or a `Square` (is-a relationship).\r\n\r\nThe `sealed`/`non-sealed`-combination allows you to &quot;seal&quot; only parts of your hierarchy, not all of it (starting from a root).\r\n\r\n---\r\n\r\nNotice what the [JEP 360](https://openjdk.java.net/jeps/360) tells us about the permitted classes:\r\n\r\n&gt; Every permitted subclass must choose a modifier to describe how it continues the sealing initiated by its superclass:\r\n\r\nThe options are: `final`, `sealed` or `non-sealed`. You are forced to be explicit, so we need `non-sealed` to &quot;break the seal&quot;.\r\n\r\n---\r\n\r\nBrian Goetz has [posted](https://stackoverflow.com/a/63887136/12323248) a realistic use case and explained what the real life benefits are. I want to add another example:\r\n\r\nImagine you are developing a game with heroes and monsters. Some classes could be like that:\r\n\r\n```java\r\npublic sealed class Character permits Hero, Monster {}\r\n\r\npublic sealed class Hero extends Character permits Jack, Luci {}\r\npublic non-sealed class Monster extends Character {}\r\n\r\npublic final class Jack extends Hero {}\r\npublic final class Luci extends Hero {}\r\n```\r\n\r\nThe game has two main characters and there are several enemies. The main characters are set in stone *but* there can be as many different monsters as you like. *Every* character in the game is either a hero or a monster.\r\n\r\nThis is a minimal example, which is hopefully a little more illustrative, and there might be changes, e.g. the addition of a class `CustomHero` that enables modders to create custom heroes.","title":"What is the point of extending a sealed class with a non-sealed class?","body":"<p>I think the following example from the <a href=\"https://openjdk.java.net/jeps/360\" rel=\"noreferrer\">JEP 360</a> is showing it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.geometry;\n\npublic abstract sealed class Shape\n    permits Circle, Rectangle, Square {...}\n\npublic final class Circle extends Shape {...}\n\npublic sealed class Rectangle extends Shape \n    permits TransparentRectangle, FilledRectangle {...}\npublic final class TransparentRectangle extends Rectangle {...}\npublic final class FilledRectangle extends Rectangle {...}\n\npublic non-sealed class Square extends Shape {...}\n</code></pre>\n<p>You want to permit only the specified classes to extend <code>Shape</code>. Now what's the point in making <code>Square</code> <code>non-sealed</code>? Because you want to allow any other class to extend <code>Square</code> (and the hierarchy).</p>\n<p>Think of it like that: Any class that wants to extend <code>Shape</code> will have to do that with either <code>Circle</code>, <code>Rectangle</code> or <code>Square</code> <em><strong>in between</strong></em>. So every extending class of this sub-hierarchy will be either a <code>Circle</code>, <code>Rectangle</code> or a <code>Square</code> (is-a relationship).</p>\n<p>The <code>sealed</code>/<code>non-sealed</code>-combination allows you to &quot;seal&quot; only parts of your hierarchy, not all of it (starting from a root).</p>\n<hr />\n<p>Notice what the <a href=\"https://openjdk.java.net/jeps/360\" rel=\"noreferrer\">JEP 360</a> tells us about the permitted classes:</p>\n<blockquote>\n<p>Every permitted subclass must choose a modifier to describe how it continues the sealing initiated by its superclass:</p>\n</blockquote>\n<p>The options are: <code>final</code>, <code>sealed</code> or <code>non-sealed</code>. You are forced to be explicit, so we need <code>non-sealed</code> to &quot;break the seal&quot;.</p>\n<hr />\n<p>Brian Goetz has <a href=\"https://stackoverflow.com/a/63887136/12323248\">posted</a> a realistic use case and explained what the real life benefits are. I want to add another example:</p>\n<p>Imagine you are developing a game with heroes and monsters. Some classes could be like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public sealed class Character permits Hero, Monster {}\n\npublic sealed class Hero extends Character permits Jack, Luci {}\npublic non-sealed class Monster extends Character {}\n\npublic final class Jack extends Hero {}\npublic final class Luci extends Hero {}\n</code></pre>\n<p>The game has two main characters and there are several enemies. The main characters are set in stone <em>but</em> there can be as many different monsters as you like. <em>Every</em> character in the game is either a hero or a monster.</p>\n<p>This is a minimal example, which is hopefully a little more illustrative, and there might be changes, e.g. the addition of a class <code>CustomHero</code> that enables modders to create custom heroes.</p>\n"},{"tags":[],"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"comment_count":0,"down_vote_count":0,"up_vote_count":82,"is_accepted":true,"score":82,"last_activity_date":1655008376,"creation_date":1600096438,"answer_id":63887136,"question_id":63860110,"body_markdown":"Because in real-world APIs, sometimes we want to support specific extension points while restricting others.  The `Shape` examples are not particularly evocative, though, which is why it might seem an odd thing to allow.\r\n\r\nSealed classes are about having finer control over _who_ can extend a given extensible type.  There are several reasons you might want to do this, and &quot;ensuring that no one extends the hierarchy ever&quot; is only one of them.  \r\n\r\nThere are many cases where an API has several &quot;built in&quot; abstractions and then an &quot;escape hatch&quot; abstraction; this allows API authors to guide would-be extenders to the escape hatches that are designed for extension.\r\n\r\nFor example, suppose you have a system using the `Command` pattern, there are several built-in commands for which you want to control the implementation, and a `UserPluginCommand` for extension:\r\n\r\n    sealed interface Command\r\n        permits LoginCommand, LogoutCommand, ShowProfileCommand, UserPluginCommand { ... }\r\n\r\n    // final implementations of built-in commands\r\n\r\n    non-sealed abstract class UserPluginCommand extends Command {\r\n        // plugin-specific API\r\n    }\r\n\r\nSuch a hierarchy accomplishes two things: \r\n\r\n - All extension is funneled through the `UserPluginCommand`, which can be designed defensively for extension and provide an API suited to user extension, but we can still use interface-based polymorphism in our design, knowing that completely uncontrolled subtypes will not appear;\r\n\r\n - The system can still rely on the fact that the four permitted types cover all implementations of Command.  So internal code can use pattern matching and be confident in its exhaustiveness:\r\n\r\n```\r\nswitch (command) {\r\n    case LoginCommand(...): ... handle login ...;\r\n    case LogoutCommand(...): ... handle logout ...;\r\n    case ShowProfileCommand(...): ... handle query ...;\r\n    case UserPluginCommand uc: \r\n        // interact with plugin API\r\n    // no default needed, this switch is exhaustive\r\n```\r\n\r\nThere may be a zillion subtypes of `UserPluginCommand`, but the system can still confidently reason that it can cover the waterfront with these four cases.\r\n\r\nAn example of an API that will take advantage of this in the JDK is `java.lang.constant`, where there are two subtypes designed for extension -- dynamic constants and dynamic callsites.  ","title":"What is the point of extending a sealed class with a non-sealed class?","body":"<p>Because in real-world APIs, sometimes we want to support specific extension points while restricting others.  The <code>Shape</code> examples are not particularly evocative, though, which is why it might seem an odd thing to allow.</p>\n<p>Sealed classes are about having finer control over <em>who</em> can extend a given extensible type.  There are several reasons you might want to do this, and &quot;ensuring that no one extends the hierarchy ever&quot; is only one of them.</p>\n<p>There are many cases where an API has several &quot;built in&quot; abstractions and then an &quot;escape hatch&quot; abstraction; this allows API authors to guide would-be extenders to the escape hatches that are designed for extension.</p>\n<p>For example, suppose you have a system using the <code>Command</code> pattern, there are several built-in commands for which you want to control the implementation, and a <code>UserPluginCommand</code> for extension:</p>\n<pre><code>sealed interface Command\n    permits LoginCommand, LogoutCommand, ShowProfileCommand, UserPluginCommand { ... }\n\n// final implementations of built-in commands\n\nnon-sealed abstract class UserPluginCommand extends Command {\n    // plugin-specific API\n}\n</code></pre>\n<p>Such a hierarchy accomplishes two things:</p>\n<ul>\n<li><p>All extension is funneled through the <code>UserPluginCommand</code>, which can be designed defensively for extension and provide an API suited to user extension, but we can still use interface-based polymorphism in our design, knowing that completely uncontrolled subtypes will not appear;</p>\n</li>\n<li><p>The system can still rely on the fact that the four permitted types cover all implementations of Command.  So internal code can use pattern matching and be confident in its exhaustiveness:</p>\n</li>\n</ul>\n<pre><code>switch (command) {\n    case LoginCommand(...): ... handle login ...;\n    case LogoutCommand(...): ... handle logout ...;\n    case ShowProfileCommand(...): ... handle query ...;\n    case UserPluginCommand uc: \n        // interact with plugin API\n    // no default needed, this switch is exhaustive\n</code></pre>\n<p>There may be a zillion subtypes of <code>UserPluginCommand</code>, but the system can still confidently reason that it can cover the waterfront with these four cases.</p>\n<p>An example of an API that will take advantage of this in the JDK is <code>java.lang.constant</code>, where there are two subtypes designed for extension -- dynamic constants and dynamic callsites.</p>\n"},{"tags":[],"owner":{"account_id":23027967,"reputation":531,"user_id":17147888,"display_name":"Praj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635348172,"creation_date":1635347769,"answer_id":69741256,"question_id":63860110,"body_markdown":"\r\nAccording to this [documentation][1], the `non-sealed` class allows opening part of the inheritance hierarchy to the world. It means the root sealed class permits only a closed set of subclasses to extend it. \r\n\r\nHowever, the subclasses can still allow themselves to be extended by any number of subclasses by using the non-sealed keyword. \r\n\r\n    public sealed class NumberSystem\r\n        // The permits clause has been omitted\r\n        // as all the subclasses exists in the same file.\r\n    { }\r\n    final class Binary extends NumberSystem { .. }\r\n\r\n    final class Octal extends NumberSystem { .. }\r\n\r\n    final class HexaDecimal extends NumberSystem { .. }\r\n\r\n    non-sealed class Decimal extends NumberSystem { .. }\r\n\r\n    final class NonRecurringDecimal extends Decimal {..}\r\n    final class RecurringDecimal extends Decimal {..}\r\n\r\n\r\n  [1]: https://tedblob.com/sealed-classes-and-interfaces-in-jdk-17/","title":"What is the point of extending a sealed class with a non-sealed class?","body":"<p>According to this <a href=\"https://tedblob.com/sealed-classes-and-interfaces-in-jdk-17/\" rel=\"nofollow noreferrer\">documentation</a>, the <code>non-sealed</code> class allows opening part of the inheritance hierarchy to the world. It means the root sealed class permits only a closed set of subclasses to extend it.</p>\n<p>However, the subclasses can still allow themselves to be extended by any number of subclasses by using the non-sealed keyword.</p>\n<pre><code>public sealed class NumberSystem\n    // The permits clause has been omitted\n    // as all the subclasses exists in the same file.\n{ }\nfinal class Binary extends NumberSystem { .. }\n\nfinal class Octal extends NumberSystem { .. }\n\nfinal class HexaDecimal extends NumberSystem { .. }\n\nnon-sealed class Decimal extends NumberSystem { .. }\n\nfinal class NonRecurringDecimal extends Decimal {..}\nfinal class RecurringDecimal extends Decimal {..}\n</code></pre>\n"}],"owner":{"account_id":6289028,"reputation":711,"user_id":4887297,"accept_rate":36,"display_name":"Ayox"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8397,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":63887136,"answer_count":4,"score":55,"last_activity_date":1697473221,"creation_date":1599912200,"question_id":63860110,"body_markdown":"I don&#39;t really understand why there is a `non-sealed` keyword in JEP-360 / Java 15. For me, an extension of a `sealed`-class should only be `final` or a `sealed`-class itself. \r\n\r\nProviding the `non-sealed` keyword will invite the developer for hacks. \r\nWhy are we allowing a `sealed`-class to be extended to a `non-sealed`-class?","title":"What is the point of extending a sealed class with a non-sealed class?","body":"<p>I don't really understand why there is a <code>non-sealed</code> keyword in JEP-360 / Java 15. For me, an extension of a <code>sealed</code>-class should only be <code>final</code> or a <code>sealed</code>-class itself.</p>\n<p>Providing the <code>non-sealed</code> keyword will invite the developer for hacks.\nWhy are we allowing a <code>sealed</code>-class to be extended to a <code>non-sealed</code>-class?</p>\n"},{"tags":["java","spring","database","configuration"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1696776958,"post_id":77254074,"comment_id":136193827,"body_markdown":"Please add the complete stacktrace","body":"Please add the complete stacktrace"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696836238,"post_id":77254074,"comment_id":136198837,"body_markdown":"Remove the `org.hibernate` dependencies, those are already part of `spring-boot-starter-data-jpa` and interfere with the correct version management.","body":"Remove the <code>org.hibernate</code> dependencies, those are already part of <code>spring-boot-starter-data-jpa</code> and interfere with the correct version management."}],"owner":{"account_id":29626074,"reputation":1,"user_id":22705770,"display_name":"Vladimir.Vasiliev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697473089,"creation_date":1696776800,"question_id":77254074,"body_markdown":"Good afternoon\r\n\r\nPlease help me with this problem  \r\n  \r\nHere&#39;s the message I get  \r\n  \r\n\r\n&gt; Error creating bean with name &#39;entityManagerFactory&#39; defined in class\r\n&gt; path resource: Class\r\n&gt; org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider\r\n&gt; does not implement the requested interface\r\n&gt; jakarta.persistence.spi.PersistenceProvider\r\n\r\nconfig:\r\n\r\n```\r\npackage ru.spring.rest.Config;\r\n\r\nimport com.zaxxer.hikari.HikariDataSource;\r\nimport jakarta.annotation.Resource;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Primary;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.orm.jpa.JpaVendorAdapter;\r\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\n\r\nimport java.util.Properties;\r\n\r\n@Configuration\r\n@EnableJpaRepositories(basePackages = &quot;ru.spring.rest&quot;)\r\npublic class DbConfig {\r\n\r\n    @Resource\r\n    Environment env;\r\n\r\n    private static final String DRIVER_CLASS_NAME=&quot;db.driver-class-name&quot;;\r\n    private static final String URL=&quot;db.url&quot;;\r\n    private static final String USERNAME=&quot;db.username&quot;;\r\n    private static final String PASSWORD=&quot;db.password&quot;;\r\n\r\n\r\n    @Bean\r\n    @Primary\r\n    public HikariDataSource getDataSource() {\r\n        HikariDataSource dataSource = new HikariDataSource();\r\n        dataSource.setDriverClassName(env.getProperty(DRIVER_CLASS_NAME));\r\n        dataSource.setJdbcUrl(env.getProperty(URL));\r\n        dataSource.setUsername(env.getProperty(USERNAME));\r\n        dataSource.setPassword(env.getProperty(PASSWORD));\r\n        return dataSource;\r\n    }\r\n\r\n    @Bean(&quot;entityManagerFactory&quot;)\r\n    public LocalContainerEntityManagerFactoryBean getManagerFactory() {\r\n        LocalContainerEntityManagerFactoryBean localContainerEntityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\r\n        localContainerEntityManagerFactoryBean.setPersistenceUnitName(&quot;name&quot;);\r\n        localContainerEntityManagerFactoryBean.setDataSource(getDataSource());\r\n        localContainerEntityManagerFactoryBean.setPackagesToScan(&quot;ru.spring.rest.Entities&quot;);\r\n        JpaVendorAdapter jpaVendorAdapter = new HibernateJpaVendorAdapter();\r\n        localContainerEntityManagerFactoryBean.setJpaVendorAdapter(jpaVendorAdapter);\r\n        localContainerEntityManagerFactoryBean.setJpaProperties(hibernateProperties());\r\n        return localContainerEntityManagerFactoryBean;\r\n    }\r\n\r\n    private Properties hibernateProperties() {\r\n        Properties hibernateProperties = new Properties();\r\n        hibernateProperties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n        hibernateProperties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.PostgreSQL82Dialect&quot;);\r\n        return hibernateProperties;\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nRepository:\r\n\r\n```\r\npackage ru.spring.rest.Repositories;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\nimport ru.spring.rest.Entities.UserEntity;\r\n\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;UserEntity, String&gt; {\r\n    List&lt;UserEntity&gt; getAll();\r\n}\r\n\r\n\r\n```\r\n\r\nEntity:\r\n\r\n```\r\npackage ru.spring.rest.Entities;\r\n\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\nimport jakarta.validation.constraints.Email;\r\nimport lombok.*;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(schema = &quot;rest&quot;, name = &quot;users&quot;)\r\npublic class UserEntity {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private String id;\r\n\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n\r\n    @Column(name = &quot;second_name&quot;)\r\n    private String secondName;\r\n\r\n    @Column(name = &quot;patronymic&quot;)\r\n    private String patronymic;\r\n\r\n    @Email\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n\r\n\r\n    @Column(name = &quot;login&quot;)\r\n    private String login;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n}\r\n```\r\n\r\nbuild gradle:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.0.5&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;my.test.rest&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    implementation &#39;org.projectlombok:lombok:1.18.26&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.postgresql:postgresql:42.2.6&#39;\r\n    implementation &#39;org.hibernate:hibernate-core:5.6.9.Final&#39;\r\n    implementation &#39;org.hibernate:hibernate-entitymanager:5.6.9.Final&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nI have already tried changing dependency versions and adding properties to hibernateProperties\r\n\r\nRemove the org.hibernate dependencies helped, but an error has appear:\r\n&gt; Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource null\r\n\r\nStackTrace:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource: null\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat ru.spring.rest.RestApplication.main(RestApplication.java:10) ~[classes/:na]\r\nCaused by: java.lang.ExceptionInInitializerError: null\r\n\tat org.hibernate.dialect.PostgreSQLDialect.contributeTypes(PostgreSQLDialect.java:1249) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:386) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:143) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\t... 16 common frames omitted\r\nCaused by: java.lang.RuntimeException: Could not initialize PostgreSQLPGObjectJdbcType\r\n\tat org.hibernate.dialect.PostgreSQLIntervalSecondJdbcType.&lt;clinit&gt;(PostgreSQLIntervalSecondJdbcType.java:78) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\t... 28 common frames omitted\r\nCaused by: java.lang.NoSuchMethodException: org.postgresql.util.PGInterval.getWholeSeconds()\r\n\tat java.base/java.lang.Class.getDeclaredMethod(Class.java:2728) ~[na:na]\r\n\tat org.hibernate.dialect.PostgreSQLIntervalSecondJdbcType.&lt;clinit&gt;(PostgreSQLIntervalSecondJdbcType.java:74) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\t... 28 common frames omitted\r\n```","title":"Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface","body":"<p>Good afternoon</p>\n<p>Please help me with this problem</p>\n<p>Here's the message I get</p>\n<blockquote>\n<p>Error creating bean with name 'entityManagerFactory' defined in class\npath resource: Class\norg.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider\ndoes not implement the requested interface\njakarta.persistence.spi.PersistenceProvider</p>\n</blockquote>\n<p>config:</p>\n<pre><code>package ru.spring.rest.Config;\n\nimport com.zaxxer.hikari.HikariDataSource;\nimport jakarta.annotation.Resource;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.core.env.Environment;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.orm.jpa.JpaVendorAdapter;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\n\nimport java.util.Properties;\n\n@Configuration\n@EnableJpaRepositories(basePackages = &quot;ru.spring.rest&quot;)\npublic class DbConfig {\n\n    @Resource\n    Environment env;\n\n    private static final String DRIVER_CLASS_NAME=&quot;db.driver-class-name&quot;;\n    private static final String URL=&quot;db.url&quot;;\n    private static final String USERNAME=&quot;db.username&quot;;\n    private static final String PASSWORD=&quot;db.password&quot;;\n\n\n    @Bean\n    @Primary\n    public HikariDataSource getDataSource() {\n        HikariDataSource dataSource = new HikariDataSource();\n        dataSource.setDriverClassName(env.getProperty(DRIVER_CLASS_NAME));\n        dataSource.setJdbcUrl(env.getProperty(URL));\n        dataSource.setUsername(env.getProperty(USERNAME));\n        dataSource.setPassword(env.getProperty(PASSWORD));\n        return dataSource;\n    }\n\n    @Bean(&quot;entityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean getManagerFactory() {\n        LocalContainerEntityManagerFactoryBean localContainerEntityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\n        localContainerEntityManagerFactoryBean.setPersistenceUnitName(&quot;name&quot;);\n        localContainerEntityManagerFactoryBean.setDataSource(getDataSource());\n        localContainerEntityManagerFactoryBean.setPackagesToScan(&quot;ru.spring.rest.Entities&quot;);\n        JpaVendorAdapter jpaVendorAdapter = new HibernateJpaVendorAdapter();\n        localContainerEntityManagerFactoryBean.setJpaVendorAdapter(jpaVendorAdapter);\n        localContainerEntityManagerFactoryBean.setJpaProperties(hibernateProperties());\n        return localContainerEntityManagerFactoryBean;\n    }\n\n    private Properties hibernateProperties() {\n        Properties hibernateProperties = new Properties();\n        hibernateProperties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\n        hibernateProperties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.PostgreSQL82Dialect&quot;);\n        return hibernateProperties;\n    }\n\n}\n\n\n</code></pre>\n<p>Repository:</p>\n<pre><code>package ru.spring.rest.Repositories;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\nimport ru.spring.rest.Entities.UserEntity;\n\nimport java.util.List;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;UserEntity, String&gt; {\n    List&lt;UserEntity&gt; getAll();\n}\n\n\n</code></pre>\n<p>Entity:</p>\n<pre><code>package ru.spring.rest.Entities;\n\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport jakarta.validation.constraints.Email;\nimport lombok.*;\n\n@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(schema = &quot;rest&quot;, name = &quot;users&quot;)\npublic class UserEntity {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n\n    @Column(name = &quot;second_name&quot;)\n    private String secondName;\n\n    @Column(name = &quot;patronymic&quot;)\n    private String patronymic;\n\n    @Email\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n\n    @Column(name = &quot;login&quot;)\n    private String login;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n}\n</code></pre>\n<p>build gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.5'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'my.test.rest'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'org.projectlombok:lombok:1.18.26'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.postgresql:postgresql:42.2.6'\n    implementation 'org.hibernate:hibernate-core:5.6.9.Final'\n    implementation 'org.hibernate:hibernate-entitymanager:5.6.9.Final'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I have already tried changing dependency versions and adding properties to hibernateProperties</p>\n<p>Remove the org.hibernate dependencies helped, but an error has appear:</p>\n<blockquote>\n<p>Error creating bean with name 'entityManagerFactory' defined in class path resource null</p>\n</blockquote>\n<p>StackTrace:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource: null\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\n    at ru.spring.rest.RestApplication.main(RestApplication.java:10) ~[classes/:na]\nCaused by: java.lang.ExceptionInInitializerError: null\n    at org.hibernate.dialect.PostgreSQLDialect.contributeTypes(PostgreSQLDialect.java:1249) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:386) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:143) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.7.jar:6.0.7]\n    ... 16 common frames omitted\nCaused by: java.lang.RuntimeException: Could not initialize PostgreSQLPGObjectJdbcType\n    at org.hibernate.dialect.PostgreSQLIntervalSecondJdbcType.&lt;clinit&gt;(PostgreSQLIntervalSecondJdbcType.java:78) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    ... 28 common frames omitted\nCaused by: java.lang.NoSuchMethodException: org.postgresql.util.PGInterval.getWholeSeconds()\n    at java.base/java.lang.Class.getDeclaredMethod(Class.java:2728) ~[na:na]\n    at org.hibernate.dialect.PostgreSQLIntervalSecondJdbcType.&lt;clinit&gt;(PostgreSQLIntervalSecondJdbcType.java:74) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    ... 28 common frames omitted\n</code></pre>\n"},{"tags":["java","sealed-class","java-15","java-sealed-type"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":2,"creation_date":1600540747,"post_id":63972130,"comment_id":113122831,"body_markdown":"[A permitted subclass may be declared non-sealed so that its part of the hierarchy reverts to being open for extension by unknown subclasses. (A sealed class cannot prevent its permitted subclasses from doing this.)](https://openjdk.java.net/jeps/360)","body":"<a href=\"https://openjdk.java.net/jeps/360\" rel=\"nofollow noreferrer\">A permitted subclass may be declared non-sealed so that its part of the hierarchy reverts to being open for extension by unknown subclasses. (A sealed class cannot prevent its permitted subclasses from doing this.)</a>"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":3,"creation_date":1600543218,"post_id":63972130,"comment_id":113123499,"body_markdown":"A `final` class can never be subclassed (old, old functionality). A `non-sealed` class is specifically opening up a class to be subclassed, which is needed when its base class is `sealed`.","body":"A <code>final</code> class can never be subclassed (old, old functionality). A <code>non-sealed</code> class is specifically opening up a class to be subclassed, which is needed when its base class is <code>sealed</code>."},{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":2,"creation_date":1601129600,"post_id":63972130,"comment_id":113312174,"body_markdown":"Sealing is a generalization of finality; a final class can be extended by nothing, a sealed class by the explicit list of permitted subtypes.  (A final class is like a selaed one with an empty permits list.)  Other languages have gone the route that a permitted subtype of a sealed type can be arbitrarily extended, but this often surprises people and can lead to bugs.  So Java requires you to be explicit about it: for a subtype of a sealed type, you have to pick one: final, sealed, or open for extension.  (Records are implicitly final so you don&#39;t have to say it explicitly.)","body":"Sealing is a generalization of finality; a final class can be extended by nothing, a sealed class by the explicit list of permitted subtypes.  (A final class is like a selaed one with an empty permits list.)  Other languages have gone the route that a permitted subtype of a sealed type can be arbitrarily extended, but this often surprises people and can lead to bugs.  So Java requires you to be explicit about it: for a subtype of a sealed type, you have to pick one: final, sealed, or open for extension.  (Records are implicitly final so you don&#39;t have to say it explicitly.)"}],"answers":[{"comments":[{"owner":{"account_id":14527583,"reputation":4972,"user_id":10493338,"display_name":"Michael Kemmerzell"},"score":0,"creation_date":1600541495,"post_id":63972185,"comment_id":113123012,"body_markdown":"Thanks, it is clear now. Every class can extend from a &#39;non-sealed&#39; class :)","body":"Thanks, it is clear now. Every class can extend from a &#39;non-sealed&#39; class :)"}],"tags":[],"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1600896516,"creation_date":1600540837,"answer_id":63972185,"question_id":63972130,"body_markdown":"- As you&#39;ve marked `Cat` as `final`, no other class can extend `Cat`. \r\n- As you&#39;ve marked `Duck` as `non-sealed`, any class can extend `Duck`.\r\n\r\n---\r\n\r\nWhen marking a class as `sealed`, all directly extending classes (the ones after the `permits` clause) have to be marked either as `final`, `sealed` or `non-sealed`:\r\n\r\n- Marking a class that extends a `sealed` class as `sealed`, applies the same effect on it: Only classes specified after the `permits` clause are allowed to extend it.\r\n\r\n- `non-sealed` just &quot;breaks the seal&quot;, so the effect doesn&#39;t have to be carried on down the hierarchy. The extending class is open (again) for being extended by unknown subclasses itself.\r\n\r\n- `final` is *effectively* the same as `sealed` without any class specified after the `permits` clause. Notice that specifying nothing after `permits` is not possible, so `sealed` cannot replace `final`.","title":"What is the difference between a final and a non-sealed class in Java 15&#39;s sealed-classes feature?","body":"<ul>\n<li>As you've marked <code>Cat</code> as <code>final</code>, no other class can extend <code>Cat</code>.</li>\n<li>As you've marked <code>Duck</code> as <code>non-sealed</code>, any class can extend <code>Duck</code>.</li>\n</ul>\n<hr />\n<p>When marking a class as <code>sealed</code>, all directly extending classes (the ones after the <code>permits</code> clause) have to be marked either as <code>final</code>, <code>sealed</code> or <code>non-sealed</code>:</p>\n<ul>\n<li><p>Marking a class that extends a <code>sealed</code> class as <code>sealed</code>, applies the same effect on it: Only classes specified after the <code>permits</code> clause are allowed to extend it.</p>\n</li>\n<li><p><code>non-sealed</code> just &quot;breaks the seal&quot;, so the effect doesn't have to be carried on down the hierarchy. The extending class is open (again) for being extended by unknown subclasses itself.</p>\n</li>\n<li><p><code>final</code> is <em>effectively</em> the same as <code>sealed</code> without any class specified after the <code>permits</code> clause. Notice that specifying nothing after <code>permits</code> is not possible, so <code>sealed</code> cannot replace <code>final</code>.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23027967,"reputation":531,"user_id":17147888,"display_name":"Praj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635349776,"creation_date":1635349776,"answer_id":69741769,"question_id":63972130,"body_markdown":"A final class has zero subclasses, meaning no other class can extend it.\r\nAny class can extend the non-sealed class.\r\n\r\nWhen you mark a class as sealed, only the permitted subclasses can extend it and can have only these modifiers final, sealed, or non-sealed:\r\n\r\n    public sealed class NumberSystem\r\n        // The permits clause has been omitted\r\n        // as all the subclasses exists in the same file.\r\n    { }\r\n    non-sealed class Decimal extends NumberSystem { .. }\r\n    final class NonRecurringDecimal extends Decimal {..}\r\n    final class RecurringDecimal extends Decimal {..}\r\n\r\nThough, the NumberSystem root level hierarchy is closed to set of known classes, you can allow the sub hierarchies to be open by using the non-sealed keyword.\r\n\r\nThe sealed and non-sealed combination allows you to restrict parts of your hierarchy but not all.\r\n\r\nIn the below diagram, we restricted the root hierarchy of the sealed class NumberSystem to a known set of subclasses. However, the [non-sealed][1] Decimal class allows any unknown subclass such as RecurringDecimal to extend it.\r\n\r\n\r\n  [1]: https://tedblob.com/sealed-classes-and-interfaces-in-jdk-17/","title":"What is the difference between a final and a non-sealed class in Java 15&#39;s sealed-classes feature?","body":"<p>A final class has zero subclasses, meaning no other class can extend it.\nAny class can extend the non-sealed class.</p>\n<p>When you mark a class as sealed, only the permitted subclasses can extend it and can have only these modifiers final, sealed, or non-sealed:</p>\n<pre><code>public sealed class NumberSystem\n    // The permits clause has been omitted\n    // as all the subclasses exists in the same file.\n{ }\nnon-sealed class Decimal extends NumberSystem { .. }\nfinal class NonRecurringDecimal extends Decimal {..}\nfinal class RecurringDecimal extends Decimal {..}\n</code></pre>\n<p>Though, the NumberSystem root level hierarchy is closed to set of known classes, you can allow the sub hierarchies to be open by using the non-sealed keyword.</p>\n<p>The sealed and non-sealed combination allows you to restrict parts of your hierarchy but not all.</p>\n<p>In the below diagram, we restricted the root hierarchy of the sealed class NumberSystem to a known set of subclasses. However, the <a href=\"https://tedblob.com/sealed-classes-and-interfaces-in-jdk-17/\" rel=\"nofollow noreferrer\">non-sealed</a> Decimal class allows any unknown subclass such as RecurringDecimal to extend it.</p>\n"},{"tags":[],"owner":{"account_id":17913302,"reputation":31,"user_id":13014883,"display_name":"Moniruzzaman rony"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697472836,"creation_date":1673354607,"answer_id":75070169,"question_id":63972130,"body_markdown":"**Final and non-sealed classes have some differences.**\r\n\r\n**final class:** you can&#39;t inherit this class, it&#39;s impossible to extend this class to other class on the other hand.\r\n\r\n**non-sealed class:** it&#39;s possible to inherit this class from others.\r\n\r\nFor example:&lt;br&gt;\r\nThis sealed interface which interface only permitted for Cat &amp; Duck class. Note that Cat &amp; Duck must be final, non-sealed, or sealed class:\r\n\r\n```java\r\npublic sealed interface Animal permits Cat, Duck {\r\n\tString makeSound();\r\n}\r\n```\r\n\r\nNow, I am creating Cat &amp; Duck class. Here Cat is the final class and another one is non-sealed class.\r\n\r\n```java\r\npublic final class Cat implements Animal {\r\n\r\n\t@Override\r\n\tpublic String makeSound() {\r\n\t\treturn &quot;miau&quot;;\r\n\t}\r\n}\r\n\r\npublic non-sealed class Duck implements Animal {\r\n\r\n\t@Override\r\n\tpublic String makeSound() {\r\n\t\treturn &quot;quack&quot;;\r\n\t}\r\n}\r\n```\r\n\r\n**So if you can try to inherit the Cat class, you can&#39;t, got compilation error because Cat class is final. On another hand, the Duck class is extendable because it&#39;s non-sealed class** Like,\r\n\r\n```java\r\n//Got Error\r\npublic class MyCat extends Cat {\r\n\t.......\r\n}\r\n\r\n//Error not show.Duck class is extendable\r\npublic class MyDuck extends Duck {\r\n\t.....\r\n}\r\n```","title":"What is the difference between a final and a non-sealed class in Java 15&#39;s sealed-classes feature?","body":"<p><strong>Final and non-sealed classes have some differences.</strong></p>\n<p><strong>final class:</strong> you can't inherit this class, it's impossible to extend this class to other class on the other hand.</p>\n<p><strong>non-sealed class:</strong> it's possible to inherit this class from others.</p>\n<p>For example:<br>\nThis sealed interface which interface only permitted for Cat &amp; Duck class. Note that Cat &amp; Duck must be final, non-sealed, or sealed class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public sealed interface Animal permits Cat, Duck {\n    String makeSound();\n}\n</code></pre>\n<p>Now, I am creating Cat &amp; Duck class. Here Cat is the final class and another one is non-sealed class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Cat implements Animal {\n\n    @Override\n    public String makeSound() {\n        return &quot;miau&quot;;\n    }\n}\n\npublic non-sealed class Duck implements Animal {\n\n    @Override\n    public String makeSound() {\n        return &quot;quack&quot;;\n    }\n}\n</code></pre>\n<p><strong>So if you can try to inherit the Cat class, you can't, got compilation error because Cat class is final. On another hand, the Duck class is extendable because it's non-sealed class</strong> Like,</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Got Error\npublic class MyCat extends Cat {\n    .......\n}\n\n//Error not show.Duck class is extendable\npublic class MyDuck extends Duck {\n    .....\n}\n</code></pre>\n"}],"owner":{"account_id":14527583,"reputation":4972,"user_id":10493338,"display_name":"Michael Kemmerzell"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2408,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":63972185,"answer_count":3,"score":15,"last_activity_date":1697472836,"creation_date":1600540448,"question_id":63972130,"body_markdown":"I have the following sealed interface (Java 15):    \r\n\r\n    public sealed interface Animal permits Cat, Duck {\r\n    \r\n        String makeSound();\r\n    }\r\n\r\nThis interface is implemented by 2 classes:\r\n\r\n    public final class Cat implements Animal {\r\n    \r\n        @Override\r\n        public String makeSound() {\r\n            return &quot;miau&quot;;\r\n        }\r\n    }\r\n\r\n    public non-sealed class Duck implements Animal {\r\n    \r\n        @Override\r\n        public String makeSound() {\r\n            return &quot;quack&quot;;\r\n        }\r\n    }\r\n\r\nCan someone tell me the difference between `final` and `non-sealed`? `final` stops me from creating other sub-classes but what behavior does `non-sealed` apply to `Duck`?","title":"What is the difference between a final and a non-sealed class in Java 15&#39;s sealed-classes feature?","body":"<p>I have the following sealed interface (Java 15):</p>\n<pre><code>public sealed interface Animal permits Cat, Duck {\n\n    String makeSound();\n}\n</code></pre>\n<p>This interface is implemented by 2 classes:</p>\n<pre><code>public final class Cat implements Animal {\n\n    @Override\n    public String makeSound() {\n        return &quot;miau&quot;;\n    }\n}\n\npublic non-sealed class Duck implements Animal {\n\n    @Override\n    public String makeSound() {\n        return &quot;quack&quot;;\n    }\n}\n</code></pre>\n<p>Can someone tell me the difference between <code>final</code> and <code>non-sealed</code>? <code>final</code> stops me from creating other sub-classes but what behavior does <code>non-sealed</code> apply to <code>Duck</code>?</p>\n"},{"tags":["java","security","random","java-17"],"answers":[{"tags":[],"owner":{"account_id":2562085,"reputation":4946,"user_id":2223027,"display_name":"pyb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697472394,"creation_date":1697472394,"answer_id":77303457,"question_id":76757196,"body_markdown":"&gt; But it does not say, there is no need to use java.security.egd.\r\n\r\nI think you&#39;ve hit the nail on the head.\r\n\r\nFirst, searching &quot;EGD&quot; in `$JAVA_HOME/conf/security/java.security` provides documentation for `securerandom.source`, not for `java.security.egd`.\r\n\r\nSecond, that documentation states:\r\n\r\n&gt; By default, an attempt is made to use the entropy gathering device specified by the &quot;securerandom.source&quot; Security property.\r\n&gt;\r\n&gt; The entropy gathering device can also be specified with the System property &quot;java.security.egd&quot;.\r\n&gt;\r\n&gt; Specifying this System property will override the &quot;securerandom.source&quot; Security property.\r\n\r\nFrom these two clues I understand the official setting is `securerandom.source` and that `java.security.egd` is still supported for compatibility reasons.\r\n\r\n\r\nFull quote:\r\n\r\n&lt;!-- language: ini --&gt;\r\n\r\n```\r\n#\r\n# Sun Provider SecureRandom seed source.\r\n#\r\n# Select the primary source of seed data for the &quot;NativePRNG&quot;, &quot;SHA1PRNG&quot;\r\n# and &quot;DRBG&quot; SecureRandom implementations in the &quot;Sun&quot; provider.\r\n# (Other SecureRandom implementations might also use this property.)\r\n#\r\n# On Unix-like systems (for example, Linux/MacOS), the\r\n# &quot;NativePRNG&quot;, &quot;SHA1PRNG&quot; and &quot;DRBG&quot; implementations obtains seed data from\r\n# special device files such as file:/dev/random.\r\n#\r\n# On Windows systems, specifying the URLs &quot;file:/dev/random&quot; or\r\n# &quot;file:/dev/urandom&quot; will enable the native Microsoft CryptoAPI seeding\r\n# mechanism for SHA1PRNG and DRBG.\r\n#\r\n# By default, an attempt is made to use the entropy gathering device\r\n# specified by the &quot;securerandom.source&quot; Security property.  If an\r\n# exception occurs while accessing the specified URL:\r\n#\r\n#     NativePRNG:\r\n#         a default value of /dev/random will be used.  If neither\r\n#         are available, the implementation will be disabled.\r\n#         &quot;file&quot; is the only currently supported protocol type.\r\n#\r\n#     SHA1PRNG and DRBG:\r\n#         the traditional system/thread activity algorithm will be used.\r\n#\r\n# The entropy gathering device can also be specified with the System\r\n# property &quot;java.security.egd&quot;. For example:\r\n#\r\n#   % java -Djava.security.egd=file:/dev/random MainClass\r\n#\r\n# Specifying this System property will override the\r\n# &quot;securerandom.source&quot; Security property.\r\n#\r\n# In addition, if &quot;file:/dev/random&quot; or &quot;file:/dev/urandom&quot; is\r\n# specified, the &quot;NativePRNG&quot; implementation will be more preferred than\r\n# DRBG and SHA1PRNG in the Sun provider.\r\n#\r\nsecurerandom.source=file:/dev/random\r\n```","title":"securerandom.source vs java.security.egd Java System properties difference","body":"<blockquote>\n<p>But it does not say, there is no need to use java.security.egd.</p>\n</blockquote>\n<p>I think you've hit the nail on the head.</p>\n<p>First, searching &quot;EGD&quot; in <code>$JAVA_HOME/conf/security/java.security</code> provides documentation for <code>securerandom.source</code>, not for <code>java.security.egd</code>.</p>\n<p>Second, that documentation states:</p>\n<blockquote>\n<p>By default, an attempt is made to use the entropy gathering device specified by the &quot;securerandom.source&quot; Security property.</p>\n<p>The entropy gathering device can also be specified with the System property &quot;java.security.egd&quot;.</p>\n<p>Specifying this System property will override the &quot;securerandom.source&quot; Security property.</p>\n</blockquote>\n<p>From these two clues I understand the official setting is <code>securerandom.source</code> and that <code>java.security.egd</code> is still supported for compatibility reasons.</p>\n<p>Full quote:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>#\n# Sun Provider SecureRandom seed source.\n#\n# Select the primary source of seed data for the &quot;NativePRNG&quot;, &quot;SHA1PRNG&quot;\n# and &quot;DRBG&quot; SecureRandom implementations in the &quot;Sun&quot; provider.\n# (Other SecureRandom implementations might also use this property.)\n#\n# On Unix-like systems (for example, Linux/MacOS), the\n# &quot;NativePRNG&quot;, &quot;SHA1PRNG&quot; and &quot;DRBG&quot; implementations obtains seed data from\n# special device files such as file:/dev/random.\n#\n# On Windows systems, specifying the URLs &quot;file:/dev/random&quot; or\n# &quot;file:/dev/urandom&quot; will enable the native Microsoft CryptoAPI seeding\n# mechanism for SHA1PRNG and DRBG.\n#\n# By default, an attempt is made to use the entropy gathering device\n# specified by the &quot;securerandom.source&quot; Security property.  If an\n# exception occurs while accessing the specified URL:\n#\n#     NativePRNG:\n#         a default value of /dev/random will be used.  If neither\n#         are available, the implementation will be disabled.\n#         &quot;file&quot; is the only currently supported protocol type.\n#\n#     SHA1PRNG and DRBG:\n#         the traditional system/thread activity algorithm will be used.\n#\n# The entropy gathering device can also be specified with the System\n# property &quot;java.security.egd&quot;. For example:\n#\n#   % java -Djava.security.egd=file:/dev/random MainClass\n#\n# Specifying this System property will override the\n# &quot;securerandom.source&quot; Security property.\n#\n# In addition, if &quot;file:/dev/random&quot; or &quot;file:/dev/urandom&quot; is\n# specified, the &quot;NativePRNG&quot; implementation will be more preferred than\n# DRBG and SHA1PRNG in the Sun provider.\n#\nsecurerandom.source=file:/dev/random\n</code></pre>\n"}],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77303457,"answer_count":1,"score":1,"last_activity_date":1697472394,"creation_date":1690223767,"question_id":76757196,"body_markdown":"I turns out that not possible to find full list of Java properties other than [basic][1].\r\n\r\nI want to understand difference of `securerandom.source` vs `java.security.egd`\r\n\r\nWhen I run printing out from within Java main method:\r\n\r\n```java\r\nSystem.out.println(&quot;Secure random source: &quot; + Security.getProperty(&quot;securerandom.source&quot;));\r\nSystem.out.println(&quot;java.security.egd: &quot; + System.getProperty(&quot;java.security.egd&quot;));\r\n```\r\n\r\nI get (on JDK 17):\r\n\r\n    Secure random source: file:/dev/random\r\n    java.security.egd: null\r\n\r\nJDK 11 https://docs.oracle.com/en/java/javase/11/security/oracle-providers.html#GUID-9DC4ADD5-6D01-4B2E-9E85-B88E3BEE7453\r\nand JDK 17 https://docs.oracle.com/en/java/javase/17/security/oracle-providers.html#GUID-C4706FFE-D08F-4E29-B0BE-CCE8C93DD940\r\nboth say `file:/dev/random` is already default, and setting it is not needed.\r\n\r\n&gt; if the entropy gathering device in java.security is set to file:/dev/urandom or file:/dev/random, then NativePRNG is preferred to SHA1PRNG\r\n\r\nBut NativePRNG algorithm is already used by default:\r\n\r\n```java\r\nSecureRandom secureRandom = new SecureRandom();\r\nSystem.out.println(&quot;Algorithm: &quot; + secureRandom.getAlgorithm());\r\n```\r\n\r\nOutput\r\n```\r\nAlgorithm: NativePRNG\r\n```\r\n\r\nMy feelings are that specifying `java.security.egd` is not needed,\r\nbut I cannot get documentation prove of it.\r\n\r\nThe https://docs.oracle.com/javase/8/docs/technotes/guides/security/enhancements-8.html\r\nsays\r\n\r\n&gt; SHA1PRNG and NativePRNG were fixed to properly respect the SecureRandom seed source properties in the java.security file.  The obscure workaround using file:///dev/urandom and file:/dev/./urandom is no longer required\r\n\r\nBut it does not say, there is no need to use `java.security.egd`.\r\n\r\n\r\n**What is `securerandom.source` vs `java.security.egd` Java System properties difference  ?**\r\n\r\nYes, this is [older staff][2] in [many places][3]\r\n\r\nhttps://cwiki.apache.org/confluence/display/TOMCAT/HowTo+FasterStartUp (last edit 2017)\r\nhas\r\n\r\n&gt; There is a way to configure JRE to use a non-blocking entropy source by setting the following system property: -Djava.security.egd=file:/dev/./urandom\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\r\n  [2]: https://stackoverflow.com/questions/20315022/java-slow-entropy-related-issue\r\n  [3]: https://stackoverflow.com/questions/59564269/deprecated-java-security-egd-file-dev-urandom-for-spring-boot-applications","title":"securerandom.source vs java.security.egd Java System properties difference","body":"<p>I turns out that not possible to find full list of Java properties other than <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\" rel=\"nofollow noreferrer\">basic</a>.</p>\n<p>I want to understand difference of <code>securerandom.source</code> vs <code>java.security.egd</code></p>\n<p>When I run printing out from within Java main method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Secure random source: &quot; + Security.getProperty(&quot;securerandom.source&quot;));\nSystem.out.println(&quot;java.security.egd: &quot; + System.getProperty(&quot;java.security.egd&quot;));\n</code></pre>\n<p>I get (on JDK 17):</p>\n<pre><code>Secure random source: file:/dev/random\njava.security.egd: null\n</code></pre>\n<p>JDK 11 <a href=\"https://docs.oracle.com/en/java/javase/11/security/oracle-providers.html#GUID-9DC4ADD5-6D01-4B2E-9E85-B88E3BEE7453\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/security/oracle-providers.html#GUID-9DC4ADD5-6D01-4B2E-9E85-B88E3BEE7453</a>\nand JDK 17 <a href=\"https://docs.oracle.com/en/java/javase/17/security/oracle-providers.html#GUID-C4706FFE-D08F-4E29-B0BE-CCE8C93DD940\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/security/oracle-providers.html#GUID-C4706FFE-D08F-4E29-B0BE-CCE8C93DD940</a>\nboth say <code>file:/dev/random</code> is already default, and setting it is not needed.</p>\n<blockquote>\n<p>if the entropy gathering device in java.security is set to file:/dev/urandom or file:/dev/random, then NativePRNG is preferred to SHA1PRNG</p>\n</blockquote>\n<p>But NativePRNG algorithm is already used by default:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SecureRandom secureRandom = new SecureRandom();\nSystem.out.println(&quot;Algorithm: &quot; + secureRandom.getAlgorithm());\n</code></pre>\n<p>Output</p>\n<pre><code>Algorithm: NativePRNG\n</code></pre>\n<p>My feelings are that specifying <code>java.security.egd</code> is not needed,\nbut I cannot get documentation prove of it.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/enhancements-8.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/security/enhancements-8.html</a>\nsays</p>\n<blockquote>\n<p>SHA1PRNG and NativePRNG were fixed to properly respect the SecureRandom seed source properties in the java.security file.  The obscure workaround using file:///dev/urandom and file:/dev/./urandom is no longer required</p>\n</blockquote>\n<p>But it does not say, there is no need to use <code>java.security.egd</code>.</p>\n<p><strong>What is <code>securerandom.source</code> vs <code>java.security.egd</code> Java System properties difference  ?</strong></p>\n<p>Yes, this is <a href=\"https://stackoverflow.com/questions/20315022/java-slow-entropy-related-issue\">older staff</a> in <a href=\"https://stackoverflow.com/questions/59564269/deprecated-java-security-egd-file-dev-urandom-for-spring-boot-applications\">many places</a></p>\n<p><a href=\"https://cwiki.apache.org/confluence/display/TOMCAT/HowTo+FasterStartUp\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/TOMCAT/HowTo+FasterStartUp</a> (last edit 2017)\nhas</p>\n<blockquote>\n<p>There is a way to configure JRE to use a non-blocking entropy source by setting the following system property: -Djava.security.egd=file:/dev/./urandom</p>\n</blockquote>\n"},{"tags":["java","exception","jdbc","spring-data-jpa","upsert"],"comments":[{"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"score":0,"creation_date":1566550954,"post_id":57622937,"comment_id":101699865,"body_markdown":"Why don&#39;t you remove the duplicates before saving ?","body":"Why don&#39;t you remove the duplicates before saving ?"},{"owner":{"account_id":7672655,"reputation":143,"user_id":5814378,"display_name":"Gianluca Vasaturo"},"score":1,"creation_date":1566552635,"post_id":57622937,"comment_id":101700748,"body_markdown":"That&#39;s a viable option but I would like to avoid remove.\nIs it possible to have a solution that does &quot;on duplicate do nothing&quot; instead of bulk removing very long lists of items?","body":"That&#39;s a viable option but I would like to avoid remove. Is it possible to have a solution that does &quot;on duplicate do nothing&quot; instead of bulk removing very long lists of items?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1566553345,"post_id":57622937,"comment_id":101701099,"body_markdown":"No that&#39;s not the the duty of the repository layer. If you are using java.util.Set you could implement equals() based on the unique fields","body":"No that&#39;s not the the duty of the repository layer. If you are using java.util.Set you could implement equals() based on the unique fields"},{"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"score":0,"creation_date":1566553573,"post_id":57622937,"comment_id":101701214,"body_markdown":"I wouldn&#39;t try to suppress DB errors, I think that the client code should provide the correct values to insert.","body":"I wouldn&#39;t try to suppress DB errors, I think that the client code should provide the correct values to insert."},{"owner":{"account_id":7672655,"reputation":143,"user_id":5814378,"display_name":"Gianluca Vasaturo"},"score":0,"creation_date":1566556388,"post_id":57622937,"comment_id":101702615,"body_markdown":"I agree with Arnaud and with the first sentence of Simon, but building a filtering logic in the client would imply that other I have to source ALL the information first other I have to access many times the DB for reads, both cases are pretty slow in performances","body":"I agree with Arnaud and with the first sentence of Simon, but building a filtering logic in the client would imply that other I have to source ALL the information first other I have to access many times the DB for reads, both cases are pretty slow in performances"},{"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"score":0,"creation_date":1566556610,"post_id":57622937,"comment_id":101702731,"body_markdown":"How many rows do you have ? You could make a single query to do that like `SELECT id FROM t WHERE id IN (ids_list_you_want_to_insert)` and then filter your collection using the returned id. I agree that it&#39;s not perfect, but at least you won&#39;t have to rely on DB error","body":"How many rows do you have ? You could make a single query to do that like <code>SELECT id FROM t WHERE id IN (ids_list_you_want_to_insert)</code> and then filter your collection using the returned id. I agree that it&#39;s not perfect, but at least you won&#39;t have to rely on DB error"},{"owner":{"account_id":7672655,"reputation":143,"user_id":5814378,"display_name":"Gianluca Vasaturo"},"score":2,"creation_date":1566556798,"post_id":57622937,"comment_id":101702829,"body_markdown":"Your case works only if the number of elements is below 1000 (oracle in clause limit). In my case there are between 500.000 ~ 1.000.000 elements","body":"Your case works only if the number of elements is below 1000 (oracle in clause limit). In my case there are between 500.000 ~ 1.000.000 elements"},{"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"score":0,"creation_date":1566557375,"post_id":57622937,"comment_id":101703103,"body_markdown":"Do you frequently have to insert ? By the way, if you have 1M elements, you have at least 1M insert query. Adding 1000 select queries (1000x1000 ids) that only manipulate ids is not very costly","body":"Do you frequently have to insert ? By the way, if you have 1M elements, you have at least 1M insert query. Adding 1000 select queries (1000x1000 ids) that only manipulate ids is not very costly"},{"owner":{"account_id":7672655,"reputation":143,"user_id":5814378,"display_name":"Gianluca Vasaturo"},"score":0,"creation_date":1566558034,"post_id":57622937,"comment_id":101703456,"body_markdown":"Not really, this workload is done twice per month more or less.","body":"Not really, this workload is done twice per month more or less."},{"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"score":0,"creation_date":1566558423,"post_id":57622937,"comment_id":101703652,"body_markdown":"Then adding several thousands of select queries on the `id` per month is nothing.","body":"Then adding several thousands of select queries on the <code>id</code> per month is nothing."},{"owner":{"account_id":4014463,"reputation":1644,"user_id":3307037,"accept_rate":50,"display_name":"Enoobong"},"score":2,"creation_date":1576762980,"post_id":57622937,"comment_id":105008944,"body_markdown":"Hey man. Having the same issue. Any ideas about how you resolved without looping?","body":"Hey man. Having the same issue. Any ideas about how you resolved without looping?"},{"owner":{"account_id":7680215,"reputation":679,"user_id":5819664,"accept_rate":83,"display_name":"Onkar"},"score":1,"creation_date":1638900191,"post_id":57622937,"comment_id":124208834,"body_markdown":"Any finding on this? I am having something similar issue, In my case, I have List&lt;Entity&gt; which is having some records as new and some are there to update, when I use saveAll() method, it giving issue when there are many records. Surprising thing is when there some 1k records it works perfect.","body":"Any finding on this? I am having something similar issue, In my case, I have List&lt;Entity&gt; which is having some records as new and some are there to update, when I use saveAll() method, it giving issue when there are many records. Surprising thing is when there some 1k records it works perfect."}],"answers":[{"tags":[],"owner":{"account_id":9118538,"reputation":319,"user_id":6784846,"display_name":"Annamalai Palanikumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665221173,"creation_date":1665221173,"answer_id":73995836,"question_id":57622937,"body_markdown":"You could use an `@Query` annotation to define your own custom repo method to accomplish this.\r\n\r\n    @Query(&quot;INSERT IGNORE INTO table (COLUMNS) values (...)&quot;)\r\n    public List&lt;S&gt; saveAllInsertIgnore(List&lt;&gt; list);\r\n\r\nReference: \r\n\r\nhttps://stackoverflow.com/a/70574062/6784846","title":"How to ignore duplicate insertion for save operation using jpa repository saveAll?","body":"<p>You could use an <code>@Query</code> annotation to define your own custom repo method to accomplish this.</p>\n<pre><code>@Query(&quot;INSERT IGNORE INTO table (COLUMNS) values (...)&quot;)\npublic List&lt;S&gt; saveAllInsertIgnore(List&lt;&gt; list);\n</code></pre>\n<p>Reference:</p>\n<p><a href=\"https://stackoverflow.com/a/70574062/6784846\">https://stackoverflow.com/a/70574062/6784846</a></p>\n"},{"tags":[],"owner":{"account_id":9981674,"reputation":42,"user_id":7384417,"display_name":"amit kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675631204,"creation_date":1675631204,"answer_id":75355513,"question_id":57622937,"body_markdown":"Why do not you implement `equals()` and `hashCode()` functions for your objects on columns based on which you want uniqueness? Store your objects in a *Set* and it will automatically remove duplicates following which you can use `saveAll()` without any exception.","title":"How to ignore duplicate insertion for save operation using jpa repository saveAll?","body":"<p>Why do not you implement <code>equals()</code> and <code>hashCode()</code> functions for your objects on columns based on which you want uniqueness? Store your objects in a <em>Set</em> and it will automatically remove duplicates following which you can use <code>saveAll()</code> without any exception.</p>\n"}],"owner":{"account_id":7672655,"reputation":143,"user_id":5814378,"display_name":"Gianluca Vasaturo"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9486,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":2,"score":12,"last_activity_date":1697472330,"creation_date":1566550762,"question_id":57622937,"body_markdown":"I need to be able to use saveAll() method of a spring data CrudRepository and ignore duplicate insertion on a unique constraint.\r\n\r\nIn my current project I&#39;m currently using spring boot -&gt; jpa stack and I have to process an import of a excel file that ends up into saving multiple entities into a database. I&#39;m using liquibase to track changes on the DB and I&#39;m using spring profiles to manage two different environments (one is using Postgres DB and the other one is using Oracle 19-c). The excel files are uploaded from time to time via an external ftp service. I have a Folder Watch service that waits for a file change in that folder and triggers the import when a new file is created. \r\n\r\nThe problem is that I have an unique constraint and the file MIGHT have new rows along with the old ones. The processing of the Excel file via POI is pretty heavy and I&#39;m saving the result of the computation in memory via java.util.Set until I reach the point in time where I have to persist the Set with the saveAll() method of the CrudRepository.\r\n\r\n**I am currently experiencing**: \r\n*ERROR: duplicate key value violates unique constraint &quot;csspd_avoid_duplicates&quot;*\r\n\r\n*org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only*\r\n\r\nand the import stops on the first encountered duplicate.\r\n\r\n\r\nI had, for the same project, a similar problem with a single insertion in a loop (single save()) and I&#39;ve managed to workaround the issue with the following snippet:\r\n\r\n\r\n                    try {\r\n\r\n                        repository.save(entity);\r\n                    } catch (DataIntegrityViolationException e) {\r\n                        this.log.debug(&quot;Duplicate found, skipping&quot;);\r\n                    }\r\n\r\nI&#39;ve tried the same approach with the bulk save without any luck.\r\n\r\nThis is the interested method:\r\n\r\n\r\n    public boolean triggerExcelImport(Path path) {\r\n        try {\r\n\r\n            ExcelDataDTO excelExtractedData;\r\n            if (path == null) {\r\n                excelExtractedData = excelImporterService.importExcelFiles();\r\n            } else {\r\n                excelExtractedData = excelImporterService.importStandardXLSXFiles(path);\r\n            }\r\n            \r\n            staticProductDataRepository.saveAll(excelExtractedData.getProductData());  // &lt;-- This saveAll might have duplicates\r\n\r\n            for (Set&lt;AllocationChartData&gt; allocationList : excelExtractedData.getAllocationMap().values()) {\r\n                allocationChartDataRepository.saveAll(allocationList);   // &lt;-- This saveAll might have duplicates\r\n            }\r\n            \r\n            performanceRepository.saveAll(excelExtractedData.getPerformanceData());    // &lt;-- This saveAll might have duplicates\r\n            \r\n            return true;\r\n        } catch (DataIntegrityViolationException e) {\r\n            this.log.debug(&quot;Duplicate found, skipping&quot;);\r\n        }\r\n        return false;\r\n    }\r\n\r\n  \r\n\r\nI would like to have the import process to actually finish the import avoiding termination on the first duplicate. The solution has to be database independent (I am using Postgres and Oracle managed with liquibase context) \r\n\r\nthis is the actual exception I&#39;m having:\r\n\r\n\r\n            org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only\r\n            at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:755) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:533) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at com.juliusbaer.ims.toolbox.services.CenshareService$$EnhancerBySpringCGLIB$$8e7529c1.triggerCenshareExcelImport(&lt;generated&gt;) ~[classes/:?]\r\n            at com.juliusbaer.ims.toolbox.services.FolderWatchService.readAndCleanUpFile(FolderWatchService.java:168) ~[classes/:?]\r\n            at com.juliusbaer.ims.toolbox.services.FolderWatchService.initializeFileImportAtStartup(FolderWatchService.java:99) ~[classes/:?]\r\n            at com.juliusbaer.ims.toolbox.services.FolderWatchService.setUp(FolderWatchService.java:93) ~[classes/:?]\r\n            at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n            at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n            at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n            at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n            at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:363) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:307) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:136) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:414) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) [spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) [spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) [spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849) [spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) [spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) [spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n            at com.juliusbaer.ims.toolbox.Application.main(Application.java:12) [classes/:?]\r\n\r\n\r\nThank you for the help.\r\n\r\n**EDIT:**\r\nJust to give you a brief more explanation, the unique constraint is not based on a single identifier id, it&#39;s a composition of multiple columns (8 in total)\r\n","title":"How to ignore duplicate insertion for save operation using jpa repository saveAll?","body":"<p>I need to be able to use saveAll() method of a spring data CrudRepository and ignore duplicate insertion on a unique constraint.</p>\n\n<p>In my current project I'm currently using spring boot -> jpa stack and I have to process an import of a excel file that ends up into saving multiple entities into a database. I'm using liquibase to track changes on the DB and I'm using spring profiles to manage two different environments (one is using Postgres DB and the other one is using Oracle 19-c). The excel files are uploaded from time to time via an external ftp service. I have a Folder Watch service that waits for a file change in that folder and triggers the import when a new file is created. </p>\n\n<p>The problem is that I have an unique constraint and the file MIGHT have new rows along with the old ones. The processing of the Excel file via POI is pretty heavy and I'm saving the result of the computation in memory via java.util.Set until I reach the point in time where I have to persist the Set with the saveAll() method of the CrudRepository.</p>\n\n<p><strong>I am currently experiencing</strong>: \n<em>ERROR: duplicate key value violates unique constraint \"csspd_avoid_duplicates\"</em></p>\n\n<p><em>org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only</em></p>\n\n<p>and the import stops on the first encountered duplicate.</p>\n\n<p>I had, for the same project, a similar problem with a single insertion in a loop (single save()) and I've managed to workaround the issue with the following snippet:</p>\n\n<pre><code>                try {\n\n                    repository.save(entity);\n                } catch (DataIntegrityViolationException e) {\n                    this.log.debug(\"Duplicate found, skipping\");\n                }\n</code></pre>\n\n<p>I've tried the same approach with the bulk save without any luck.</p>\n\n<p>This is the interested method:</p>\n\n<pre><code>public boolean triggerExcelImport(Path path) {\n    try {\n\n        ExcelDataDTO excelExtractedData;\n        if (path == null) {\n            excelExtractedData = excelImporterService.importExcelFiles();\n        } else {\n            excelExtractedData = excelImporterService.importStandardXLSXFiles(path);\n        }\n\n        staticProductDataRepository.saveAll(excelExtractedData.getProductData());  // &lt;-- This saveAll might have duplicates\n\n        for (Set&lt;AllocationChartData&gt; allocationList : excelExtractedData.getAllocationMap().values()) {\n            allocationChartDataRepository.saveAll(allocationList);   // &lt;-- This saveAll might have duplicates\n        }\n\n        performanceRepository.saveAll(excelExtractedData.getPerformanceData());    // &lt;-- This saveAll might have duplicates\n\n        return true;\n    } catch (DataIntegrityViolationException e) {\n        this.log.debug(\"Duplicate found, skipping\");\n    }\n    return false;\n}\n</code></pre>\n\n<p>I would like to have the import process to actually finish the import avoiding termination on the first duplicate. The solution has to be database independent (I am using Postgres and Oracle managed with liquibase context) </p>\n\n<p>this is the actual exception I'm having:</p>\n\n<pre><code>        org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:755) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:533) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at com.juliusbaer.ims.toolbox.services.CenshareService$$EnhancerBySpringCGLIB$$8e7529c1.triggerCenshareExcelImport(&lt;generated&gt;) ~[classes/:?]\n        at com.juliusbaer.ims.toolbox.services.FolderWatchService.readAndCleanUpFile(FolderWatchService.java:168) ~[classes/:?]\n        at com.juliusbaer.ims.toolbox.services.FolderWatchService.initializeFileImportAtStartup(FolderWatchService.java:99) ~[classes/:?]\n        at com.juliusbaer.ims.toolbox.services.FolderWatchService.setUp(FolderWatchService.java:93) ~[classes/:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:363) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:307) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:136) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:414) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) [spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) [spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) [spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849) [spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) [spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) [spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n        at com.juliusbaer.ims.toolbox.Application.main(Application.java:12) [classes/:?]\n</code></pre>\n\n<p>Thank you for the help.</p>\n\n<p><strong>EDIT:</strong>\nJust to give you a brief more explanation, the unique constraint is not based on a single identifier id, it's a composition of multiple columns (8 in total)</p>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":22878324,"reputation":362,"user_id":17020280,"display_name":"GabeRAMturn"},"score":0,"creation_date":1697470218,"post_id":77303198,"comment_id":136280805,"body_markdown":"Have you looked into either Github actions or Gitlab Runners? Some kind of CI/CD will help you solve this issue.","body":"Have you looked into either Github actions or Gitlab Runners? Some kind of CI/CD will help you solve this issue."},{"owner":{"account_id":12735124,"reputation":1673,"user_id":9250303,"display_name":"meaningqo"},"score":0,"creation_date":1697472096,"post_id":77303198,"comment_id":136281170,"body_markdown":"this sounds like you&#39;re using &lt;latest&gt; tag on staging environment and probably don&#39;t really pull the newest image because an image with that latest is already present on that machine. best way would be to go with @GabeRAMturn&#39;s sugestion and pick up some kind of cicd solution. if that&#39;s not an option right now, before running docker pull, run docker image rm &lt;user&gt;:&lt;app-name&gt;","body":"this sounds like you&#39;re using &lt;latest&gt; tag on staging environment and probably don&#39;t really pull the newest image because an image with that latest is already present on that machine. best way would be to go with @GabeRAMturn&#39;s sugestion and pick up some kind of cicd solution. if that&#39;s not an option right now, before running docker pull, run docker image rm &lt;user&gt;:&lt;app-name&gt;"},{"owner":{"account_id":12735124,"reputation":1673,"user_id":9250303,"display_name":"meaningqo"},"score":0,"creation_date":1697472236,"post_id":77303198,"comment_id":136281199,"body_markdown":"another option would be to declare an env var in your dockerfile corresponding to the commit-sha of your application and check that with the container running on your staging env","body":"another option would be to declare an env var in your dockerfile corresponding to the commit-sha of your application and check that with the container running on your staging env"}],"owner":{"account_id":8532,"reputation":13117,"user_id":15452,"accept_rate":57,"display_name":"Vihung"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697470421,"creation_date":1697469953,"question_id":77303198,"body_markdown":"I am running an Angular app on top of a Java Spring based API in a Docker container.\r\n\r\nWhen making code changes, I do the following;\r\n\r\n1. Build my angular app with `ng build` if the changes are to the front end\r\n2. Copy my built Angular app&#39;s `/dist` folder contents into my Spring codebase&#39;s `src/main/resources/static` folder (also, only if the changes are to the front end)\r\n3. Build my Spring app with `./gradlew build`\r\n4. Build my local docker container with `docker build --no-cache -t &lt;user&gt;:&lt;app-name&gt;`\r\n5. Run my local Docker container with `docker run &lt;user&gt;:&lt;app-name&gt;`\r\n\r\nWhen ready to run the app on a staging server, I then from my dev machine, I do a \r\n\r\n6. Push the latest image with `docker push &lt;user&gt;:&lt;app-name&gt;`\r\n\r\nAnd on the staging server, \r\n\r\n7. Pull the latest image with `docker pull &lt;user&gt;:&lt;app-name&gt;`\r\n8. And then run it with `docker run &lt;user&gt;:&lt;app-name&gt;` \r\n\r\nRecently, I have noticed when making changes and running locally (Steps 1-5), the image does not have the latest code, but code from when the image was last pushed.\r\n\r\nHow do I ensure that the code gets copied correctly.\r\n\r\nMy DOCKERFILE is \r\n```\r\nFROM adoptopenjdk/openjdk11\r\nCOPY ./build/libs/&lt;app-name&gt;-0.0.1-SNAPSHOT.jar /app/&lt;app-name&gt;.jar\r\nEXPOSE 8080\r\nWORKDIR /app\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/&lt;app-name&gt;.jar&quot;]\r\n```\r\n\r\nI know for sure that the `./build/libs/&lt;app-name&gt;-0.0.1-SNAPSHOT.jar` file is definitely being built and updated correctly, and by looking at the files inside my container I can see that the file `/app/&lt;app-name&gt;.jar` is not the latest.\r\n\r\nIt seems to me that the `COPY` step in the Dockerfile is not happening.\r\n\r\n**Update**: I am aware that some kind of CI/CD pipeline will benefit me hugely. I fully intend to use one. I want to make sure that each step, manually step-by-step, works before I automate this.","title":"How do I ensure my Java code built with Gradle gets updated in my Docker container?","body":"<p>I am running an Angular app on top of a Java Spring based API in a Docker container.</p>\n<p>When making code changes, I do the following;</p>\n<ol>\n<li>Build my angular app with <code>ng build</code> if the changes are to the front end</li>\n<li>Copy my built Angular app's <code>/dist</code> folder contents into my Spring codebase's <code>src/main/resources/static</code> folder (also, only if the changes are to the front end)</li>\n<li>Build my Spring app with <code>./gradlew build</code></li>\n<li>Build my local docker container with <code>docker build --no-cache -t &lt;user&gt;:&lt;app-name&gt;</code></li>\n<li>Run my local Docker container with <code>docker run &lt;user&gt;:&lt;app-name&gt;</code></li>\n</ol>\n<p>When ready to run the app on a staging server, I then from my dev machine, I do a</p>\n<ol start=\"6\">\n<li>Push the latest image with <code>docker push &lt;user&gt;:&lt;app-name&gt;</code></li>\n</ol>\n<p>And on the staging server,</p>\n<ol start=\"7\">\n<li>Pull the latest image with <code>docker pull &lt;user&gt;:&lt;app-name&gt;</code></li>\n<li>And then run it with <code>docker run &lt;user&gt;:&lt;app-name&gt;</code></li>\n</ol>\n<p>Recently, I have noticed when making changes and running locally (Steps 1-5), the image does not have the latest code, but code from when the image was last pushed.</p>\n<p>How do I ensure that the code gets copied correctly.</p>\n<p>My DOCKERFILE is</p>\n<pre><code>FROM adoptopenjdk/openjdk11\nCOPY ./build/libs/&lt;app-name&gt;-0.0.1-SNAPSHOT.jar /app/&lt;app-name&gt;.jar\nEXPOSE 8080\nWORKDIR /app\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/&lt;app-name&gt;.jar&quot;]\n</code></pre>\n<p>I know for sure that the <code>./build/libs/&lt;app-name&gt;-0.0.1-SNAPSHOT.jar</code> file is definitely being built and updated correctly, and by looking at the files inside my container I can see that the file <code>/app/&lt;app-name&gt;.jar</code> is not the latest.</p>\n<p>It seems to me that the <code>COPY</code> step in the Dockerfile is not happening.</p>\n<p><strong>Update</strong>: I am aware that some kind of CI/CD pipeline will benefit me hugely. I fully intend to use one. I want to make sure that each step, manually step-by-step, works before I automate this.</p>\n"},{"tags":["java","spring","maven","spring-boot","objectmapper"],"comments":[{"owner":{"account_id":9564590,"reputation":2759,"user_id":7104283,"display_name":"Incepter"},"score":0,"creation_date":1525792923,"post_id":50236951,"comment_id":87491533,"body_markdown":"Just remove this dependency... check your dependency tree `mvn dependency:tree` and you ll find multiple ones... it comes with spring boot starter web especially the version you are using!","body":"Just remove this dependency... check your dependency tree <code>mvn dependency:tree</code> and you ll find multiple ones... it comes with spring boot starter web especially the version you are using!"},{"owner":{"account_id":4093554,"reputation":205,"user_id":3360964,"display_name":"ahumblenerd"},"score":0,"creation_date":1525793231,"post_id":50236951,"comment_id":87491741,"body_markdown":"Try `mvn dependency:purge-local-repository`. This should clean everything and might solve the issue.","body":"Try <code>mvn dependency:purge-local-repository</code>. This should clean everything and might solve the issue."}],"answers":[{"comments":[{"owner":{"account_id":14115161,"reputation":431,"user_id":10197093,"display_name":"Sid009"},"score":1,"creation_date":1583154064,"post_id":50237024,"comment_id":107009132,"body_markdown":"please mention the location of pom.xml file","body":"please mention the location of pom.xml file"}],"tags":[],"owner":{"account_id":2134379,"reputation":7299,"user_id":1894517,"accept_rate":79,"display_name":"Vinay Prajapati"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1525792685,"creation_date":1525792685,"answer_id":50237024,"question_id":50236951,"body_markdown":"remove the version for jackson  dependency `jackson-databind` i.e. just write \r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nin your `pom.xml`. And let spring-boot decide the version for you.\r\n\r\nFeel free to remove the jars from classpath.","title":"The import com.fasterxml.jackson.databind.ObjectMapper cannot be resolved","body":"<p>remove the version for jackson  dependency <code>jackson-databind</code> i.e. just write </p>\n\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>in your <code>pom.xml</code>. And let spring-boot decide the version for you.</p>\n\n<p>Feel free to remove the jars from classpath.</p>\n"},{"tags":[],"owner":{"account_id":4093554,"reputation":205,"user_id":3360964,"display_name":"ahumblenerd"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525793758,"creation_date":1525793758,"answer_id":50237405,"question_id":50236951,"body_markdown":"Remove                                                   \r\n                                                         \r\n     &lt;dependency&gt;                                         \r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;    \r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;        \r\n        &lt;version&gt;2.9.0&lt;/version&gt; &lt;--- remove this\r\n     &lt;/dependency&gt;                                        \r\n\r\nAlso take a look into the effective pom by **right clicking pom.xml** if you are on intellij **Maven &gt; Show Effective POM** . Check for conflicts there.\r\n                                                    \r\n     &lt;dependency&gt;                                         \r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;    \r\n     &lt;/dependency&gt;                                        \r\n                                                         \r\nand then try                                             \r\n                                                         \r\n     mvn dependency:purge-local-repository;\r\n\r\nThis will first resolve the entire dependency tree, then delete the contents from the local repository, and then re-resolve the dependencies from the remote repository.","title":"The import com.fasterxml.jackson.databind.ObjectMapper cannot be resolved","body":"<p>Remove                                                   </p>\n\n<pre><code> &lt;dependency&gt;                                         \n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;    \n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;        \n    &lt;version&gt;2.9.0&lt;/version&gt; &lt;--- remove this\n &lt;/dependency&gt;                                        \n</code></pre>\n\n<p>Also take a look into the effective pom by <strong>right clicking pom.xml</strong> if you are on intellij <strong>Maven > Show Effective POM</strong> . Check for conflicts there.</p>\n\n<pre><code> &lt;dependency&gt;                                         \n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;    \n &lt;/dependency&gt;                                        \n</code></pre>\n\n<p>and then try                                             </p>\n\n<pre><code> mvn dependency:purge-local-repository;\n</code></pre>\n\n<p>This will first resolve the entire dependency tree, then delete the contents from the local repository, and then re-resolve the dependencies from the remote repository.</p>\n"},{"tags":[],"owner":{"account_id":16765914,"reputation":111,"user_id":12119587,"display_name":"Priyanka B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697194431,"creation_date":1697194431,"answer_id":77287158,"question_id":50236951,"body_markdown":"Above solution did not work for me. If you are still facing this issue then alternative solution is to add following dependency-\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.datatype.jsr310.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nKindly upvote this solution, if it helped you. :) ","title":"The import com.fasterxml.jackson.databind.ObjectMapper cannot be resolved","body":"<p>Above solution did not work for me. If you are still facing this issue then alternative solution is to add following dependency-</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;version&gt;${jackson.datatype.jsr310.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Kindly upvote this solution, if it helped you. :)</p>\n"},{"tags":[],"owner":{"account_id":29683818,"reputation":1,"user_id":22749900,"display_name":"Shivar Roopnarain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697470303,"creation_date":1697462443,"answer_id":77302335,"question_id":50236951,"body_markdown":"If you&#39;re coding in Kotlin, add this into your build.gradle.kts (Module :app) then sync your gradle:\r\n\r\n    implementation(&quot;com.fasterxml.jackson.core:jackson-databind:2.15.3&quot;)","title":"The import com.fasterxml.jackson.databind.ObjectMapper cannot be resolved","body":"<p>If you're coding in Kotlin, add this into your build.gradle.kts (Module :app) then sync your gradle:</p>\n<pre><code>implementation(&quot;com.fasterxml.jackson.core:jackson-databind:2.15.3&quot;)\n</code></pre>\n"}],"owner":{"account_id":10772096,"reputation":143,"user_id":7925294,"display_name":"Felipe Bed&#234;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32526,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":50237024,"answer_count":4,"score":5,"last_activity_date":1697470303,"creation_date":1525792491,"question_id":50236951,"body_markdown":"I&#39;m trying to create a JSON file and i&#39;m having trouble while trying to use ObjectMapper class. heres my class code: \r\n\r\n\r\n\r\n    import java.math.BigDecimal;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import desafiodimensiva.entities.Desafio2;\r\n    \r\n    @RestController\r\n    public class Desafio2Controller {\r\n    \r\n    \t@RequestMapping(value = &quot;/teste&quot;)\r\n    \tpublic String index() {\r\n    \t\treturn &quot;Greetings from Spring Boot!&quot;;\r\n    \t}\r\n    \t@RequestMapping(&quot;/desafio2&quot;)\r\n    \tpublic Desafio2 novoDesafio2() {\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \r\n    \t\tDesafio2 pessoa = new Desafio2();\r\n    \t\tBigDecimal valorFinanceiroPessoa = new BigDecimal(&quot;0.00&quot;);\r\n    \t\tpessoa.setNomePessoa(&quot;-----------                            &quot;);\r\n    \t\tpessoa.setIdPessoa(&quot;0000&quot;);\r\n    \t\tpessoa.setValorFinanceiro(valorFinanceiroPessoa);\r\n    \r\n    \t\treturn pessoa;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nand there&#39;s my pom.xml : \r\n\r\n    `&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.desafio.dimensiva&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;desafiodimensiva&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;Desafio Dimensiva&lt;/name&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.0.BUILD-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;8.5.0&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.6.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.6.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.1.22&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mchange&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;c3p0&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.9.5-pre3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;desafiodimensiva&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;executable&gt;true&lt;/executable&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \r\n    \r\n    \r\n    &lt;/project&gt;`\r\n\r\nI cannot import ObjectMapper class even with the `jackson-databind` dependency added at the `pom.xml` file. and the jars `jackson-annotations-2.9.0.jar, jackson-core-2.9.5.jar, jackson-databind-2.9.0.jar` are at the classpath.","title":"The import com.fasterxml.jackson.databind.ObjectMapper cannot be resolved","body":"<p>I'm trying to create a JSON file and i'm having trouble while trying to use ObjectMapper class. heres my class code: </p>\n\n<pre><code>import java.math.BigDecimal;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport desafiodimensiva.entities.Desafio2;\n\n@RestController\npublic class Desafio2Controller {\n\n    @RequestMapping(value = \"/teste\")\n    public String index() {\n        return \"Greetings from Spring Boot!\";\n    }\n    @RequestMapping(\"/desafio2\")\n    public Desafio2 novoDesafio2() {\n        ObjectMapper mapper = new ObjectMapper();\n\n        Desafio2 pessoa = new Desafio2();\n        BigDecimal valorFinanceiroPessoa = new BigDecimal(\"0.00\");\n        pessoa.setNomePessoa(\"-----------                            \");\n        pessoa.setIdPessoa(\"0000\");\n        pessoa.setValorFinanceiro(valorFinanceiroPessoa);\n\n        return pessoa;\n    }\n}\n</code></pre>\n\n<p>and there's my pom.xml : </p>\n\n<pre><code>`&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.desafio.dimensiva&lt;/groupId&gt;\n    &lt;artifactId&gt;desafiodimensiva&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;Desafio Dimensiva&lt;/name&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0.BUILD-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat&lt;/artifactId&gt;\n            &lt;version&gt;8.5.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.2.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.2.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.22&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mchange&lt;/groupId&gt;\n            &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\n            &lt;version&gt;0.9.5-pre3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;desafiodimensiva&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;true&lt;/executable&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n\n\n&lt;/project&gt;`\n</code></pre>\n\n<p>I cannot import ObjectMapper class even with the <code>jackson-databind</code> dependency added at the <code>pom.xml</code> file. and the jars <code>jackson-annotations-2.9.0.jar, jackson-core-2.9.5.jar, jackson-databind-2.9.0.jar</code> are at the classpath.</p>\n"},{"tags":["java","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697470106,"creation_date":1697470106,"answer_id":77303215,"question_id":77301607,"body_markdown":"Your solution is a pretty acceptable way to go, but indeed, it has some corner cases. While it should not break on prefetch, it may be broken if downstream code applies operators such as `.take(2)`. In such cases, the `cancel` signal will be promoted to upstream operators, and your code will not throw an exception even if the required condition is not met.\r\n\r\nAnother way is to manually track the condition and check it on `complete` and `cancel` signals. (or even on `error` depending on your needs). It is not so elegant but more reliable.\r\n\r\np.s. sorry for kotlin kode, but it&#39;s close to java so I think you understand the idea.\r\n\r\n```kotlin\r\nfun main() {\r\n    val sourceFlux = Flux.range(1, 3)\r\n        .log()\r\n    ConditionalFlux(sourceFlux)\r\n        .takeUntil { it == 5 }\r\n        .doOnNext { println(&quot;hello $it&quot;) }\r\n        .doOnError { println(&quot;condition was not meet&quot;) }\r\n        .blockLast()\r\n}\r\n\r\nclass ConditionalFlux&lt;T : Any&gt;(\r\n    private val origin: Flux&lt;T&gt;\r\n) {\r\n    private val meetCondition = AtomicBoolean()\r\n    private val guardAction = {\r\n        if (!meetCondition.get()) {\r\n            throw RuntimeException()\r\n        }\r\n    }\r\n\r\n    fun takeUntil(predicate: (T) -&gt; Boolean): Flux&lt;T&gt; =\r\n        origin\r\n            .doOnNext {\r\n                if (predicate(it)) {\r\n                    meetCondition.set(true)\r\n                }\r\n            }\r\n            .doOnCancel { guardAction() }\r\n            .doOnComplete { guardAction() }\r\n            .takeUntil(predicate)\r\n}\r\n```","title":"Distinguish between Flux takeUntil condition or upstream complete","body":"<p>Your solution is a pretty acceptable way to go, but indeed, it has some corner cases. While it should not break on prefetch, it may be broken if downstream code applies operators such as <code>.take(2)</code>. In such cases, the <code>cancel</code> signal will be promoted to upstream operators, and your code will not throw an exception even if the required condition is not met.</p>\n<p>Another way is to manually track the condition and check it on <code>complete</code> and <code>cancel</code> signals. (or even on <code>error</code> depending on your needs). It is not so elegant but more reliable.</p>\n<p>p.s. sorry for kotlin kode, but it's close to java so I think you understand the idea.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main() {\n    val sourceFlux = Flux.range(1, 3)\n        .log()\n    ConditionalFlux(sourceFlux)\n        .takeUntil { it == 5 }\n        .doOnNext { println(&quot;hello $it&quot;) }\n        .doOnError { println(&quot;condition was not meet&quot;) }\n        .blockLast()\n}\n\nclass ConditionalFlux&lt;T : Any&gt;(\n    private val origin: Flux&lt;T&gt;\n) {\n    private val meetCondition = AtomicBoolean()\n    private val guardAction = {\n        if (!meetCondition.get()) {\n            throw RuntimeException()\n        }\n    }\n\n    fun takeUntil(predicate: (T) -&gt; Boolean): Flux&lt;T&gt; =\n        origin\n            .doOnNext {\n                if (predicate(it)) {\n                    meetCondition.set(true)\n                }\n            }\n            .doOnCancel { guardAction() }\n            .doOnComplete { guardAction() }\n            .takeUntil(predicate)\n}\n</code></pre>\n"}],"owner":{"account_id":1683292,"reputation":1594,"user_id":1547080,"accept_rate":43,"display_name":"ChrisDekker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697470106,"creation_date":1697455774,"question_id":77301607,"body_markdown":"How can I determine what caused my `Flux` to complete?\r\n\r\nImagine this example stream:\r\n```\r\n    Flux.range(1, 10)\r\n        .log()\r\n        .takeUntil(i -&gt; i == 5)\r\n        .doOnNext(System.out::println)\r\n        .blockLast();\r\n```\r\nWill log `1,2,3,4,5` and terminate.\r\n\r\nHowever, if we change the source stream to terminate early:\r\n\r\n```\r\n    Flux.range(1, 3)\r\n        .log()\r\n        .takeUntil(i -&gt; i == 5)\r\n        .doOnNext(System.out::println)\r\n        .blockLast();\r\n```\r\n\r\nIt will log `1,2,3` and also terminate.\r\n\r\nI&#39;d like to throw an error whenever the source stream completes before the `takeUntil` condition is met. What is the best way to achieve this using Reactor?\r\n\r\nPutting a `doOnComplete` before the `takeUntil` will work, but this feels flaky and error prone. I can imagine this breaks depending on the source&#39;s prefetch.\r\n\r\n```\r\n    Flux.range(1, 3)\r\n        .log()\r\n        .doOnComplete(() -&gt; { throw new RuntimeException(); })\r\n        .takeUntil(i -&gt; i == 5)\r\n        .doOnNext(System.out::println)\r\n        .blockLast();\r\n```","title":"Distinguish between Flux takeUntil condition or upstream complete","body":"<p>How can I determine what caused my <code>Flux</code> to complete?</p>\n<p>Imagine this example stream:</p>\n<pre><code>    Flux.range(1, 10)\n        .log()\n        .takeUntil(i -&gt; i == 5)\n        .doOnNext(System.out::println)\n        .blockLast();\n</code></pre>\n<p>Will log <code>1,2,3,4,5</code> and terminate.</p>\n<p>However, if we change the source stream to terminate early:</p>\n<pre><code>    Flux.range(1, 3)\n        .log()\n        .takeUntil(i -&gt; i == 5)\n        .doOnNext(System.out::println)\n        .blockLast();\n</code></pre>\n<p>It will log <code>1,2,3</code> and also terminate.</p>\n<p>I'd like to throw an error whenever the source stream completes before the <code>takeUntil</code> condition is met. What is the best way to achieve this using Reactor?</p>\n<p>Putting a <code>doOnComplete</code> before the <code>takeUntil</code> will work, but this feels flaky and error prone. I can imagine this breaks depending on the source's prefetch.</p>\n<pre><code>    Flux.range(1, 3)\n        .log()\n        .doOnComplete(() -&gt; { throw new RuntimeException(); })\n        .takeUntil(i -&gt; i == 5)\n        .doOnNext(System.out::println)\n        .blockLast();\n</code></pre>\n"},{"tags":["java","android","android-studio","webview","android-webview"],"answers":[{"comments":[{"owner":{"account_id":16617578,"reputation":25,"user_id":12008790,"display_name":"Kian"},"score":0,"creation_date":1629390431,"post_id":68842907,"comment_id":121680583,"body_markdown":"Actually the activity_main remains identical as in the github repository, it contains a button with id &quot;start_bubble&quot;. I tried changing the View startBubble to Button startBubble, the same crash still occurs, I was however told to use logcat to debug what exactly the cause is, and the following error appears to cause the crash: &quot;Unable to start activity ComponentInfo{com.irunawiki.irunawiki/com.irunawiki.irunawiki.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.webkit.WebView.loadUrl(java.lang.String)&#39; on a null object reference&quot;","body":"Actually the activity_main remains identical as in the github repository, it contains a button with id &quot;start_bubble&quot;. I tried changing the View startBubble to Button startBubble, the same crash still occurs, I was however told to use logcat to debug what exactly the cause is, and the following error appears to cause the crash: &quot;Unable to start activity ComponentInfo{com.irunawiki.irunawiki/com.irunawiki.irunawik&zwnj;&#8203;i.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.webkit.WebView.loadUrl(java.lang.String)&#39; on a null object reference&quot;"},{"owner":{"account_id":15432110,"reputation":356,"user_id":11133251,"display_name":"Umut G&#252;ltekin"},"score":1,"creation_date":1629437179,"post_id":68842907,"comment_id":121691324,"body_markdown":"That&#39;s crash is normal because you don&#39;t have webview in your activity_main layout. You trying to reach webview in your activity_main.","body":"That&#39;s crash is normal because you don&#39;t have webview in your activity_main layout. You trying to reach webview in your activity_main."},{"owner":{"account_id":16617578,"reputation":25,"user_id":12008790,"display_name":"Kian"},"score":0,"creation_date":1629506109,"post_id":68842907,"comment_id":121712284,"body_markdown":"Yeah it turns out that was it, I am trying to find an ID that wasnt in the current layout, Thanks!","body":"Yeah it turns out that was it, I am trying to find an ID that wasnt in the current layout, Thanks!"}],"tags":[],"owner":{"account_id":15432110,"reputation":356,"user_id":11133251,"display_name":"Umut G&#252;ltekin"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629353925,"creation_date":1629353925,"answer_id":68842907,"question_id":68842258,"body_markdown":"I think you don&#39;t have start_bubble view in your activity_main layout. \r\n\r\nYou should add button to your activity_main and after that u should change this line to this.\r\n\r\n`View startBubble = findViewById(R.id.start_bubble);`\r\n\r\n`Button startBubble = findViewById(R.id.start_bubble);`","title":"Webview causing app to crash instantly on launch","body":"<p>I think you don't have start_bubble view in your activity_main layout.</p>\n<p>You should add button to your activity_main and after that u should change this line to this.</p>\n<p><code>View startBubble = findViewById(R.id.start_bubble);</code></p>\n<p><code>Button startBubble = findViewById(R.id.start_bubble);</code></p>\n"},{"tags":[],"owner":{"account_id":16617578,"reputation":25,"user_id":12008790,"display_name":"Kian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629506186,"creation_date":1629506186,"answer_id":68869276,"question_id":68842258,"body_markdown":"As it turns out, I was trying to select a webview in a layout that wasn&#39;t active which caused the crash, the fix was to simply select the layout with the webview in it","title":"Webview causing app to crash instantly on launch","body":"<p>As it turns out, I was trying to select a webview in a layout that wasn't active which caused the crash, the fix was to simply select the layout with the webview in it</p>\n"},{"tags":[],"owner":{"account_id":11740512,"reputation":67,"user_id":8593001,"display_name":"Murat Gungor"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1697469830,"creation_date":1697469452,"answer_id":77303151,"question_id":68842258,"body_markdown":"This is also very useful for those to handle webview crash and recover from it.\r\n\r\nTermination Handling API\r\nThe Termination Handling API handles cases where the renderer process for a WebView object goes away, either because the system kills the renderer to reclaim necessary memory or because the renderer process crashes. By using this API, you let your app continue executing, even though the renderer process goes away.\r\n\r\n\r\nhttps://developer.android.com/develop/ui/views/layout/webapps/managing-webview#termination-handle\r\n\r\n\r\n    public class MyRendererTrackingWebViewClient extends WebViewClient {\r\n    private WebView mWebView;\r\n\r\n    @Override\r\n    public boolean onRenderProcessGone(WebView view,\r\n            RenderProcessGoneDetail detail) {\r\n        if (!detail.didCrash()) {\r\n            // Renderer is killed because the system ran out of memory. The app\r\n            // can recover gracefully by creating a new WebView instance in the\r\n            // foreground.\r\n            Log.e(&quot;MY_APP_TAG&quot;, &quot;System killed the WebView rendering process &quot; +\r\n                    &quot;to reclaim memory. Recreating...&quot;);\r\n\r\n            if (mWebView != null) {\r\n                ViewGroup webViewContainer =\r\n                        (ViewGroup) findViewById(R.id.my_web_view_container);\r\n                webViewContainer.removeView(mWebView);\r\n                mWebView.destroy();\r\n                mWebView = null;\r\n            }\r\n\r\n            // By this point, the instance variable &quot;mWebView&quot; is guaranteed to\r\n            // be null, so it&#39;s safe to reinitialize it.\r\n\r\n            return true; // The app continues executing.\r\n        }\r\n\r\n        // Renderer crashes because of an internal error, such as a memory\r\n        // access violation.\r\n        Log.e(&quot;MY_APP_TAG&quot;, &quot;The WebView rendering process crashed!&quot;);\r\n\r\n        // In this example, the app itself crashes after detecting that the\r\n        // renderer crashed. If you handle the crash more gracefully and let\r\n        // your app continues executing, you must destroy the current WebView\r\n        // instance, specify logic for how the app continues executing, and\r\n        // return &quot;true&quot; instead.\r\n        return false;\r\n    }\r\n}\r\n\r\nDestroying webview\r\n\r\n     private void destroyWebview() {\r\n        if (webView != null) {\r\n            Utilities.logThis(&quot;MainActivity destroyWebview  DESTROY WebView ... ACTION&quot;);\r\n            //ViewGroup webViewContainer = (ViewGroup) findViewById(R.id.webview_container);\r\n            webviewContainer.removeView(webView);\r\n            webView.stopLoading();  // Stop any ongoing loading in case of a crash\r\n            webView.onPause();      // Pause JavaScript execution\r\n            webView.clearHistory(); // Clear WebView history\r\n            webView.clearFormData();\r\n            webView.removeAllViews(); // Remove all child views\r\n            webView.clearCache(true);\r\n            webView.destroy();  // Destroy the WebView\r\n            webView = null; // Set the WebView reference to null\r\n            webViewClient = null;\r\n        }\r\n    }\r\n\r\nReconstruction it programmatically\r\n\r\n\r\n     public void setupWebview() {  \r\n\r\n        //webView = (WebView) findViewById(R.id.webview);\r\n        // Create a new WebView instance\r\n        webView = new WebView(this);\r\n        webView.setLayoutParams(new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\r\n\r\n        // Add the WebView to the container\r\n        webviewContainer.addView(webView);\r\n\r\n\r\n        Log.d(&quot;setupWebview&quot;, &quot;Webview created &quot; + webView);\r\n\r\n        //Enabling hardware acceleration for WebView can improve performance but may also lead to crashes. You can disable it if it&#39;s causing issues:\r\n        webView.setLayerType(View.LAYER_TYPE_SOFTWARE, null);\r\n\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.getSettings().setDomStorageEnabled(true);\r\n        webView.getSettings().setLoadsImagesAutomatically(true);\r\n        webView.getSettings().setAllowContentAccess(true);\r\n        webView.getSettings().setLoadWithOverviewMode(true);\r\n        //webView.getSettings().setAppCacheEnabled(true);\r\n        //webView.getSettings().setAppCacheMaxSize(1024 * 1024 * 8); // 8MB\r\n        webView.getSettings().setUseWideViewPort(true);\r\n\r\n        webView.getSettings().setMediaPlaybackRequiresUserGesture(false);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            webView.getSettings().setSafeBrowsingEnabled(false);\r\n        }\r\n\r\n        webView.getSettings().setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW);\r\n\r\n        //webView.setWebViewClient(new WebViewClient()); //https://stackoverflow.com/questions/48054518/android-app-not-connecting-to-internet-on-emulator\r\n\r\n        webView.setRendererPriorityPolicy(WebView.RENDERER_PRIORITY_BOUND, true);\r\n        //webViewClient = new MyRendererTrackingWebViewClient(this, webView);\r\n        webViewClient = new MyWebViewClient();\r\n\r\n        webView.setWebViewClient(webViewClient);\r\n       \r\n\r\n        CookieManager cookieManager = CookieManager.getInstance();\r\n        cookieManager.setAcceptCookie(false);\r\n        cookieManager.setAcceptThirdPartyCookies( webView, false);\r\n    }\r\n\r\n","title":"Webview causing app to crash instantly on launch","body":"<p>This is also very useful for those to handle webview crash and recover from it.</p>\n<p>Termination Handling API\nThe Termination Handling API handles cases where the renderer process for a WebView object goes away, either because the system kills the renderer to reclaim necessary memory or because the renderer process crashes. By using this API, you let your app continue executing, even though the renderer process goes away.</p>\n<p><a href=\"https://developer.android.com/develop/ui/views/layout/webapps/managing-webview#termination-handle\" rel=\"nofollow noreferrer\">https://developer.android.com/develop/ui/views/layout/webapps/managing-webview#termination-handle</a></p>\n<pre><code>public class MyRendererTrackingWebViewClient extends WebViewClient {\nprivate WebView mWebView;\n\n@Override\npublic boolean onRenderProcessGone(WebView view,\n        RenderProcessGoneDetail detail) {\n    if (!detail.didCrash()) {\n        // Renderer is killed because the system ran out of memory. The app\n        // can recover gracefully by creating a new WebView instance in the\n        // foreground.\n        Log.e(&quot;MY_APP_TAG&quot;, &quot;System killed the WebView rendering process &quot; +\n                &quot;to reclaim memory. Recreating...&quot;);\n\n        if (mWebView != null) {\n            ViewGroup webViewContainer =\n                    (ViewGroup) findViewById(R.id.my_web_view_container);\n            webViewContainer.removeView(mWebView);\n            mWebView.destroy();\n            mWebView = null;\n        }\n\n        // By this point, the instance variable &quot;mWebView&quot; is guaranteed to\n        // be null, so it's safe to reinitialize it.\n\n        return true; // The app continues executing.\n    }\n\n    // Renderer crashes because of an internal error, such as a memory\n    // access violation.\n    Log.e(&quot;MY_APP_TAG&quot;, &quot;The WebView rendering process crashed!&quot;);\n\n    // In this example, the app itself crashes after detecting that the\n    // renderer crashed. If you handle the crash more gracefully and let\n    // your app continues executing, you must destroy the current WebView\n    // instance, specify logic for how the app continues executing, and\n    // return &quot;true&quot; instead.\n    return false;\n}\n</code></pre>\n<p>}</p>\n<p>Destroying webview</p>\n<pre><code> private void destroyWebview() {\n    if (webView != null) {\n        Utilities.logThis(&quot;MainActivity destroyWebview  DESTROY WebView ... ACTION&quot;);\n        //ViewGroup webViewContainer = (ViewGroup) findViewById(R.id.webview_container);\n        webviewContainer.removeView(webView);\n        webView.stopLoading();  // Stop any ongoing loading in case of a crash\n        webView.onPause();      // Pause JavaScript execution\n        webView.clearHistory(); // Clear WebView history\n        webView.clearFormData();\n        webView.removeAllViews(); // Remove all child views\n        webView.clearCache(true);\n        webView.destroy();  // Destroy the WebView\n        webView = null; // Set the WebView reference to null\n        webViewClient = null;\n    }\n}\n</code></pre>\n<p>Reconstruction it programmatically</p>\n<pre><code> public void setupWebview() {  \n\n    //webView = (WebView) findViewById(R.id.webview);\n    // Create a new WebView instance\n    webView = new WebView(this);\n    webView.setLayoutParams(new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\n\n    // Add the WebView to the container\n    webviewContainer.addView(webView);\n\n\n    Log.d(&quot;setupWebview&quot;, &quot;Webview created &quot; + webView);\n\n    //Enabling hardware acceleration for WebView can improve performance but may also lead to crashes. You can disable it if it's causing issues:\n    webView.setLayerType(View.LAYER_TYPE_SOFTWARE, null);\n\n    webView.getSettings().setJavaScriptEnabled(true);\n    webView.getSettings().setDomStorageEnabled(true);\n    webView.getSettings().setLoadsImagesAutomatically(true);\n    webView.getSettings().setAllowContentAccess(true);\n    webView.getSettings().setLoadWithOverviewMode(true);\n    //webView.getSettings().setAppCacheEnabled(true);\n    //webView.getSettings().setAppCacheMaxSize(1024 * 1024 * 8); // 8MB\n    webView.getSettings().setUseWideViewPort(true);\n\n    webView.getSettings().setMediaPlaybackRequiresUserGesture(false);\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        webView.getSettings().setSafeBrowsingEnabled(false);\n    }\n\n    webView.getSettings().setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW);\n\n    //webView.setWebViewClient(new WebViewClient()); //https://stackoverflow.com/questions/48054518/android-app-not-connecting-to-internet-on-emulator\n\n    webView.setRendererPriorityPolicy(WebView.RENDERER_PRIORITY_BOUND, true);\n    //webViewClient = new MyRendererTrackingWebViewClient(this, webView);\n    webViewClient = new MyWebViewClient();\n\n    webView.setWebViewClient(webViewClient);\n   \n\n    CookieManager cookieManager = CookieManager.getInstance();\n    cookieManager.setAcceptCookie(false);\n    cookieManager.setAcceptThirdPartyCookies( webView, false);\n}\n</code></pre>\n"}],"owner":{"account_id":16617578,"reputation":25,"user_id":12008790,"display_name":"Kian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1697469830,"creation_date":1629349238,"question_id":68842258,"body_markdown":"I am trying to create a WebView app capable of behaving like the Facebook Messenger chat bubble that can overlay above other apps using the following github project:\r\nhttps://github.com/siddharth2010/Bubbles\r\n\r\nI downloaded the project and launched it, it works just fine with default parameters, but when clicking the &quot;bubble&quot; I want it to display a website instead of the placeholder image and text it currently has.\r\n\r\nHere are the modifications I made:\r\n\r\nsample_view.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;WebView android:id=&quot;@+id/webView&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_width=&quot;match_parent&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nMainActivity.java\r\n```\r\npackage com.irunawiki.irunawiki;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.content.Intent;\r\nimport android.support.v7.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\n\r\nimport com.irunawiki.bubbles.FloatingBubblePermissions;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        WebView view = (WebView) findViewById(R.id.webView);\r\n        view.getSettings().setJavaScriptEnabled(true);\r\n        view.getSettings().getDomStorageEnabled();\r\n        view.setWebViewClient(new WebViewClient());\r\n        view.loadUrl(&quot;https://google.com&quot;);\r\n\r\n        FloatingBubblePermissions.startPermissionRequest(this);\r\n        View startBubble = findViewById(R.id.start_bubble);\r\n        startBubble.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startService(new Intent(getApplicationContext(), SimpleService.class));\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nAndroidManifest.xml\r\n```\r\nadded these:\r\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n```\r\n\r\nAttempting to run this in either the VM or an actual device will result in an immediate crash.\r\n\r\nCuriously, it launches just find when only \r\n`WebView view = (WebView) findViewById(R.id.webView);` is uncommented, but any of the getSettings, setWebViewClient, loadUrl will cause the app to crash instantly on launch.\r\n\r\nWhat exactly is causing the crash? I&#39;m fairly new to Android Development but after hours of looking up stackoverflow posts with similar issues I have not been able to get it working...","title":"Webview causing app to crash instantly on launch","body":"<p>I am trying to create a WebView app capable of behaving like the Facebook Messenger chat bubble that can overlay above other apps using the following github project:\n<a href=\"https://github.com/siddharth2010/Bubbles\" rel=\"nofollow noreferrer\">https://github.com/siddharth2010/Bubbles</a></p>\n<p>I downloaded the project and launched it, it works just fine with default parameters, but when clicking the &quot;bubble&quot; I want it to display a website instead of the placeholder image and text it currently has.</p>\n<p>Here are the modifications I made:</p>\n<p>sample_view.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;WebView android:id=&quot;@+id/webView&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_width=&quot;match_parent&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>package com.irunawiki.irunawiki;\n\nimport android.app.ProgressDialog;\nimport android.content.Intent;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\nimport com.irunawiki.bubbles.FloatingBubblePermissions;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        WebView view = (WebView) findViewById(R.id.webView);\n        view.getSettings().setJavaScriptEnabled(true);\n        view.getSettings().getDomStorageEnabled();\n        view.setWebViewClient(new WebViewClient());\n        view.loadUrl(&quot;https://google.com&quot;);\n\n        FloatingBubblePermissions.startPermissionRequest(this);\n        View startBubble = findViewById(R.id.start_bubble);\n        startBubble.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                startService(new Intent(getApplicationContext(), SimpleService.class));\n            }\n        });\n    }\n}\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>added these:\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n</code></pre>\n<p>Attempting to run this in either the VM or an actual device will result in an immediate crash.</p>\n<p>Curiously, it launches just find when only\n<code>WebView view = (WebView) findViewById(R.id.webView);</code> is uncommented, but any of the getSettings, setWebViewClient, loadUrl will cause the app to crash instantly on launch.</p>\n<p>What exactly is causing the crash? I'm fairly new to Android Development but after hours of looking up stackoverflow posts with similar issues I have not been able to get it working...</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"comments":[{"owner":{"account_id":9117693,"reputation":48,"user_id":6784294,"display_name":"PDS"},"score":0,"creation_date":1697442788,"post_id":77300102,"comment_id":136275723,"body_markdown":"sorry, i want to deny all request except /RemoteHandlerServices/Handle","body":"sorry, i want to deny all request except /RemoteHandlerServices/Handle"},{"owner":{"account_id":14425529,"reputation":290,"user_id":10420415,"display_name":"Markus Ridziauskas"},"score":0,"creation_date":1697451928,"post_id":77300102,"comment_id":136277321,"body_markdown":"please read more about spring authentication here: https://docs.spring.io/spring-security/reference/servlet/authorization/authorize-http-requests.html.\nYou should have something like `auth.antMatchers(HttpMethod.POST,&quot;/RemoteHandlerServices/Handle&quot;).permitAll().anyRequest().authenticated()`","body":"please read more about spring authentication here: <a href=\"https://docs.spring.io/spring-security/reference/servlet/authorization/authorize-http-requests.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/authorizati&zwnj;&#8203;on/&hellip;</a>. You should have something like <code>auth.antMatchers(HttpMethod.POST,&quot;&#47;RemoteHandlerServices&#47;Han&zwnj;&#8203;dle&quot;).permitAll().an&zwnj;&#8203;yRequest().authentic&zwnj;&#8203;ated()</code>"}],"tags":[],"owner":{"account_id":14425529,"reputation":290,"user_id":10420415,"display_name":"Markus Ridziauskas"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697441592,"creation_date":1697441592,"answer_id":77300102,"question_id":77299882,"body_markdown":"I assume that you want to allow all url&#39;s except `/RemoteHandlerServices/Handle`.\r\n\r\nThe problem is that you have a `.denyAll()` modifier next to matcher that matches all the url&#39;s. You should have `.permitAll()` instead, which would permit requests to urls that match your matcher (`/**` - which means any url).","title":"Spring security filter not working as intended","body":"<p>I assume that you want to allow all url's except <code>/RemoteHandlerServices/Handle</code>.</p>\n<p>The problem is that you have a <code>.denyAll()</code> modifier next to matcher that matches all the url's. You should have <code>.permitAll()</code> instead, which would permit requests to urls that match your matcher (<code>/**</code> - which means any url).</p>\n"}],"owner":{"account_id":9117693,"reputation":48,"user_id":6784294,"display_name":"PDS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697469397,"creation_date":1697439346,"question_id":77299882,"body_markdown":"The spring blocks all the requests (throws 403) even though i have added a filter to allow a specific URL which is authenticated.\r\n\r\nCould someone explain me why this is happening?\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n        @Bean\r\n        @Order(1)\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            try{\r\n\r\n                 http\r\n                         .authorizeRequests(\r\n                                auth -&gt; auth\r\n                                        .antMatchers(HttpMethod.POST,&quot;/RemoteHandlerServices/Handle&quot;).authenticated()\r\n                                        .antMatchers(&quot;/**&quot;).denyAll()\r\n                         )\r\n                         .oauth2ResourceServer()\r\n                        .jwt()\r\n                        .jwtAuthenticationConverter(getJwtAuthenticationConverter());\r\n                http.headers().contentSecurityPolicy(CONTENT_SECURITY_POLICY);\r\n                return http.build();\r\n\r\n        } catch(Exception e){\r\n                throw new RuntimeException(&quot;Authentication is failed&quot;);\r\n            }\r\n        }\r\n\r\n\r\n    Converter&lt;Jwt, AbstractAuthenticationToken&gt; getJwtAuthenticationConverter() {\r\n            TokenAuthenticationConverter converter = new TokenAuthenticationConverter(xsuaaServiceConfiguration);\r\n            converter.setLocalScopeAsAuthorities(true);\r\n            return converter;\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**application.yaml**\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    spring:\r\n      config.activate.on-profile: xsuaa\r\n      datasource:\r\n        url: &quot;jdbc:sqlite:file::memory:?cache=shared&quot;\r\n        driver-class-name: org.sqlite.JDBC\r\n      sql:\r\n        init:\r\n          mode: always\r\n          continue-on-error: true\r\n    cds:\r\n      errors:\r\n        extended: true\r\n      security:\r\n        xsuaa:\r\n          enabled: true\r\n        mock:\r\n          enabled: false\r\n        authentication:\r\n          mode: always\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Spring security filter not working as intended","body":"<p>The spring blocks all the requests (throws 403) even though i have added a filter to allow a specific URL which is authenticated.</p>\n<p>Could someone explain me why this is happening?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    @Order(1)\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        try{\n\n             http\n                     .authorizeRequests(\n                            auth -&gt; auth\n                                    .antMatchers(HttpMethod.POST,&quot;/RemoteHandlerServices/Handle&quot;).authenticated()\n                                    .antMatchers(&quot;/**&quot;).denyAll()\n                     )\n                     .oauth2ResourceServer()\n                    .jwt()\n                    .jwtAuthenticationConverter(getJwtAuthenticationConverter());\n            http.headers().contentSecurityPolicy(CONTENT_SECURITY_POLICY);\n            return http.build();\n\n    } catch(Exception e){\n            throw new RuntimeException(&quot;Authentication is failed&quot;);\n        }\n    }\n\n\nConverter&lt;Jwt, AbstractAuthenticationToken&gt; getJwtAuthenticationConverter() {\n        TokenAuthenticationConverter converter = new TokenAuthenticationConverter(xsuaaServiceConfiguration);\n        converter.setLocalScopeAsAuthorities(true);\n        return converter;\n    }\n</code></pre>\n\n<p><strong>application.yaml</strong></p>\n<pre class=\"lang-html prettyprint-override\"><code>spring:\n  config.activate.on-profile: xsuaa\n  datasource:\n    url: &quot;jdbc:sqlite:file::memory:?cache=shared&quot;\n    driver-class-name: org.sqlite.JDBC\n  sql:\n    init:\n      mode: always\n      continue-on-error: true\ncds:\n  errors:\n    extended: true\n  security:\n    xsuaa:\n      enabled: true\n    mock:\n      enabled: false\n    authentication:\n      mode: always\n</code></pre>\n\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1697407387,"post_id":77298240,"comment_id":136272687,"body_markdown":"Use a [TableView](https://openjfx.io/javadoc/21/javafx.controls/javafx/scene/control/TableView.html), not a ListView.  Remember to add TableColumns to your TableView.","body":"Use a <a href=\"https://openjfx.io/javadoc/21/javafx.controls/javafx/scene/control/TableView.html\" rel=\"nofollow noreferrer\">TableView</a>, not a ListView.  Remember to add TableColumns to your TableView."},{"owner":{"account_id":29678443,"reputation":23,"user_id":22745750,"display_name":"Wyatt Cake"},"score":0,"creation_date":1697408921,"post_id":77298240,"comment_id":136272797,"body_markdown":"Thank You!!. Like I said just now learning so honestly alot of this is from chatgpt. Slowly learning the shit myself and can kinda make their code more practical.","body":"Thank You!!. Like I said just now learning so honestly alot of this is from chatgpt. Slowly learning the shit myself and can kinda make their code more practical."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1697417769,"post_id":77298240,"comment_id":136273388,"body_markdown":"Did you want each row of your `ListView` to be composed of three elements across: text, button, button? If so, why not add your 3 elements to a single `HBox`? Why create two separate `HBox` objects?","body":"Did you want each row of your <code>ListView</code> to be composed of three elements across: text, button, button? If so, why not add your 3 elements to a single <code>HBox</code>? Why create two separate <code>HBox</code> objects?"},{"owner":{"account_id":29678443,"reputation":23,"user_id":22745750,"display_name":"Wyatt Cake"},"score":0,"creation_date":1697419866,"post_id":77298240,"comment_id":136273533,"body_markdown":"@BasilBourque the thought was I could have the buttons in one with their own spacing, and the task in another, and then just push them both to either sides. i want both buttons on the right side basically rn to each other","body":"@BasilBourque the thought was I could have the buttons in one with their own spacing, and the task in another, and then just push them both to either sides. i want both buttons on the right side basically rn to each other"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1697424798,"post_id":77298240,"comment_id":136273808,"body_markdown":"Show an image of your GUI and a diagram of what you are trying to achieve.","body":"Show an image of your GUI and a diagram of what you are trying to achieve."},{"owner":{"account_id":29678443,"reputation":23,"user_id":22745750,"display_name":"Wyatt Cake"},"score":0,"creation_date":1697427088,"post_id":77298240,"comment_id":136273957,"body_markdown":"@SedJ601 I added photos. ik the color scheme awful just idk","body":"@SedJ601 I added photos. ik the color scheme awful just idk"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1697446671,"post_id":77298240,"comment_id":136276353,"body_markdown":"_alot of this is from chatgpt_ I&#39;m certain that those who are commenting or answering did not learn JavaFX from ChatGPT. There are many [good] books on learning JavaFX. Perhaps you should consider investing in [at least] one of them?","body":"<i>alot of this is from chatgpt</i> I&#39;m certain that those who are commenting or answering did not learn JavaFX from ChatGPT. There are many [good] books on learning JavaFX. Perhaps you should consider investing in [at least] one of them?"},{"owner":{"account_id":29678443,"reputation":23,"user_id":22745750,"display_name":"Wyatt Cake"},"score":0,"creation_date":1697464816,"post_id":77298240,"comment_id":136279743,"body_markdown":"@Abra Do you have any suggestion? im not against investing just I&#39;ve been doing as much as I can self taught before anything else.","body":"@Abra Do you have any suggestion? im not against investing just I&#39;ve been doing as much as I can self taught before anything else."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1697465380,"post_id":77298240,"comment_id":136279858,"body_markdown":"Are you asking for me to recommend a book? Different books cater to different people. A book that helped me a lot may not help you (and vice versa). Just Google for _JavaFX books_ Alternatively, try this [tutorial](https://docs.oracle.com/javase/8/javase-clienttechnologies.htm).","body":"Are you asking for me to recommend a book? Different books cater to different people. A book that helped me a lot may not help you (and vice versa). Just Google for <i>JavaFX books</i> Alternatively, try this <a href=\"https://docs.oracle.com/javase/8/javase-clienttechnologies.htm\" rel=\"nofollow noreferrer\">tutorial</a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1697466461,"post_id":77298240,"comment_id":136280099,"body_markdown":"Be sure to study materials for JavaFX 8 and later. You’ll find much material for earlier versions, but JavaFX evolved dramatically in later versions.","body":"Be sure to study materials for JavaFX 8 and later. You’ll find much material for earlier versions, but JavaFX evolved dramatically in later versions."}],"answers":[{"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1697467207,"post_id":77299545,"comment_id":136280254,"body_markdown":"this is a good answer. The only issue is that you should try to avoid creating Nodes in `updateItem`. Only update the nodes properties or handlers in `updateItem`.","body":"this is a good answer. The only issue is that you should try to avoid creating Nodes in <code>updateItem</code>. Only update the nodes properties or handlers in <code>updateItem</code>."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1697467350,"post_id":77299545,"comment_id":136280288,"body_markdown":"Example: https://stackoverflow.com/questions/57255774/javafx-how-to-dynamically-add-textfields-and-buttons-on-user-input/57256420#57256420","body":"Example: <a href=\"https://stackoverflow.com/questions/57255774/javafx-how-to-dynamically-add-textfields-and-buttons-on-user-input/57256420#57256420\" title=\"javafx how to dynamically add textfields and buttons on user input\">stackoverflow.com/questions/57255774/&hellip;</a>"},{"owner":{"account_id":29678443,"reputation":23,"user_id":22745750,"display_name":"Wyatt Cake"},"score":0,"creation_date":1697469254,"post_id":77299545,"comment_id":136280636,"body_markdown":"@Basil That worked perfect thank you, Buttons look great now. The passing of the value however didnt but I found another way.","body":"@Basil That worked perfect thank you, Buttons look great now. The passing of the value however didnt but I found another way."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697469217,"creation_date":1697433736,"answer_id":77299545,"question_id":77298240,"body_markdown":"# Use `Region` as a spacer-filler in a single `HBox`\r\n\r\n[Caveat: I am not an expert on JavaFX.]\r\n\r\nI asked [a similar Question][1], more narrowly focused on a way to accomplish this label-button-button layout with just one `HBox` rather than nesting multiple `HBox` objects. \r\n\r\nThe [Answer there by makki saud alghamdi][2] provides at least part of a possible solution for you. That Answer involves using a [`Region`][3] object as a space between the label and the buttons, to fill the void, effectively pushing the buttons to the right.\r\n\r\nThe key lines of code are:\r\n\r\n```java\r\n// Mind the gap between label and buttons.\r\nRegion spacer = new Region ( );\r\nHBox.setHgrow ( spacer , Priority.ALWAYS );\r\n\r\nHBox rowBox = new HBox ( label , spacer , editButton , completedButton );\r\n```\r\n\r\n\r\nHere is an entire example app.\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.layout.*;\r\nimport javafx.stage.Stage;\r\nimport java.io.IOException;\r\nimport java.time.LocalDate;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.List;\r\n\r\npublic class HelloApplication  extends Application\r\n{\r\n    @Override\r\n    public void start ( Stage stage ) throws IOException\r\n    {\r\n        record Event( String title , LocalDate when ) { }\r\n        ObservableList &lt; Event &gt; events =\r\n                FXCollections.observableList (\r\n                        List.of (\r\n                                new Event ( &quot;A bit of text&quot; , LocalDate.now ( ) ) ,\r\n                                new Event ( &quot;Even more text than that.&quot; , LocalDate.now ( ).plusDays ( 1 ) ) ,\r\n                                new Event ( &quot;Lots and lots and lots of text for a very long line.&quot; , LocalDate.now ( ).plusDays ( 2 ) )\r\n                        )\r\n                );\r\n        ListView &lt; Event &gt; eventView = new ListView &lt;&gt; ( events );\r\n        eventView.setCellFactory ( ( ListView &lt; Event &gt; listView ) -&gt; new ListCell &lt; Event &gt; ( )\r\n        {\r\n            Button editButton = new Button ( &quot;Edit&quot; );\r\n            Button completedButton = new Button ( &quot;Completed&quot; );\r\n            Label label = new Label (  );\r\n            Label labelTwo = new Label( );\r\n            Region spacer = new Region ( );\r\n            VBox vBox = new VBox(label, labelTwo);\r\n            HBox rowBox = new HBox ( vBox , spacer , editButton , completedButton );            \r\n            DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;MM/dd&quot;);\r\n            {\r\n                // Mind the gap between label and buttons.\r\n                HBox.setHgrow ( spacer , Priority.ALWAYS );\r\n                rowBox.setAlignment ( Pos.CENTER );\r\n                rowBox.setSpacing ( 7 );\r\n            }\r\n                   \r\n            \r\n            @Override\r\n            protected void updateItem ( Event item , boolean empty )\r\n            {\r\n                super.updateItem ( item , empty );\r\n                if ( empty || item == null )\r\n                {\r\n                    setText ( null );\r\n                    setGraphic ( null );\r\n                } \r\n                else\r\n                {                   \r\n                    label.setText(item.title());\r\n                    labelTwo.setText(&quot;\\tDue: &quot; + item.when().format(dateTimeFormatter));\r\n                    editButton.setOnAction ( actionEvent -&gt;\r\n                    {                        \r\n                        System.out.println ( &quot;DEBUG - Edit the Event: &quot; + item.title() );\r\n                    });\r\n                    completedButton.setOnAction ( actionEvent -&gt;\r\n                    {\r\n                        System.out.println ( &quot;DEBUG - Completed the Event: &quot; + item.title());\r\n                    });\r\n                    \r\n                    setGraphic ( rowBox );\r\n                }\r\n            }\r\n        } );\r\n\r\n        BorderPane pane = new BorderPane ( );\r\n        pane.setCenter ( eventView );\r\n\r\n        Scene scene = new Scene ( pane , 700 , 300 );\r\n        stage.setScene ( scene );\r\n        stage.setTitle ( &quot;Schedule Example&quot; );\r\n        stage.show ( );\r\n    }\r\n\r\n    public static void main ( String[] args )\r\n    {\r\n        launch ( );\r\n    }\r\n}\r\n```\r\n\r\nAnd a screenshot.\r\n\r\n[![Screenshot of example app with a ListView showing buttons pushed to the right][4]][4]\r\n\r\nI might not consider this solution complete. If the user narrows the width of the window, the buttons disappear off the right edge of the window. Ideally the buttons would always stay visible within the window, and the too-long label would truncate. I do not know the solution to that issue.\r\n\r\n## Binding domain object to your action buttons\r\n\r\n&gt;also eventually I will need to figure out how to send the element the button is aligned with into the function for when the button is pressed if anyone has tips for that\r\n\r\nBinding each domain object to your buttons is an orthogonal issue from layout of widgets. So you should compose a separate Question on that specific issue.\r\n\r\nBut briefly…\r\n\r\nNotice that your [cell factory][5] is handed a reference to the item, an object of your `Event` class, which is to be displayed by the [`ListView`][6]. In this line:\r\n\r\n    protected void updateItem ( Event item , boolean empty ) … \r\n\r\n… that first parameter `Event item` is the key. Notice how I used that reference in my call to `item.toString` while instantiating each `Label`.\r\n\r\n    Label label = new Label ( item.toString ( ) );\r\n\r\nWe can add similar calls in your button action handlers as well. \r\n\r\n\r\n```java\r\nButton editButton = new Button ( &quot;Edit&quot; );\r\nButton completedButton = new Button ( &quot;Completed&quot; );\r\neditButton.setOnAction ( ( ActionEvent actionEvent ) -&gt;\r\n{\r\n    System.out.println ( &quot;DEBUG - Edit the Event: &quot; + item.toString ( ) );\r\n} );\r\ncompletedButton.setOnAction ( ( ActionEvent actionEvent ) -&gt;\r\n{\r\n    System.out.println ( &quot;DEBUG - Completed the Event: &quot; + item.toString ( ) );\r\n} );\r\n```\r\n\r\n----------\r\n\r\nBy the way, especially while learning, and often more generally, you may find it handy to expand the parameter types in your lambdas. Doing so helps keep it straight in you head as to exactly what objects are in play at every point.\r\n\r\nSo this:\r\n\r\n    editButton.setOnAction ( ( ActionEvent actionEvent ) -&gt; …\r\n\r\n… instead of this:\r\n\r\n    editButton.setOnAction ( actionEvent -&gt; …\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/77299333/642706\r\n  [2]: https://stackoverflow.com/a/77299349/642706\r\n  [3]: https://openjfx.io/javadoc/21/javafx.graphics/javafx/scene/layout/Region.html\r\n  [4]: https://i.stack.imgur.com/X3w5X.png\r\n  [5]: https://openjfx.io/javadoc/21/javafx.controls/javafx/scene/control/ListView.html#setCellFactory(javafx.util.Callback)\r\n  [6]: https://openjfx.io/javadoc/21/javafx.controls/javafx/scene/control/ListView.html","title":"Left Justify Buttons Inside of an HBox (inside a pagnition if that matters)","body":"<h1>Use <code>Region</code> as a spacer-filler in a single <code>HBox</code></h1>\n<p>[Caveat: I am not an expert on JavaFX.]</p>\n<p>I asked <a href=\"https://stackoverflow.com/q/77299333/642706\">a similar Question</a>, more narrowly focused on a way to accomplish this label-button-button layout with just one <code>HBox</code> rather than nesting multiple <code>HBox</code> objects.</p>\n<p>The <a href=\"https://stackoverflow.com/a/77299349/642706\">Answer there by makki saud alghamdi</a> provides at least part of a possible solution for you. That Answer involves using a <a href=\"https://openjfx.io/javadoc/21/javafx.graphics/javafx/scene/layout/Region.html\" rel=\"nofollow noreferrer\"><code>Region</code></a> object as a space between the label and the buttons, to fill the void, effectively pushing the buttons to the right.</p>\n<p>The key lines of code are:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Mind the gap between label and buttons.\nRegion spacer = new Region ( );\nHBox.setHgrow ( spacer , Priority.ALWAYS );\n\nHBox rowBox = new HBox ( label , spacer , editButton , completedButton );\n</code></pre>\n<p>Here is an entire example app.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.*;\nimport javafx.stage.Stage;\nimport java.io.IOException;\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.List;\n\npublic class HelloApplication  extends Application\n{\n    @Override\n    public void start ( Stage stage ) throws IOException\n    {\n        record Event( String title , LocalDate when ) { }\n        ObservableList &lt; Event &gt; events =\n                FXCollections.observableList (\n                        List.of (\n                                new Event ( &quot;A bit of text&quot; , LocalDate.now ( ) ) ,\n                                new Event ( &quot;Even more text than that.&quot; , LocalDate.now ( ).plusDays ( 1 ) ) ,\n                                new Event ( &quot;Lots and lots and lots of text for a very long line.&quot; , LocalDate.now ( ).plusDays ( 2 ) )\n                        )\n                );\n        ListView &lt; Event &gt; eventView = new ListView &lt;&gt; ( events );\n        eventView.setCellFactory ( ( ListView &lt; Event &gt; listView ) -&gt; new ListCell &lt; Event &gt; ( )\n        {\n            Button editButton = new Button ( &quot;Edit&quot; );\n            Button completedButton = new Button ( &quot;Completed&quot; );\n            Label label = new Label (  );\n            Label labelTwo = new Label( );\n            Region spacer = new Region ( );\n            VBox vBox = new VBox(label, labelTwo);\n            HBox rowBox = new HBox ( vBox , spacer , editButton , completedButton );            \n            DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;MM/dd&quot;);\n            {\n                // Mind the gap between label and buttons.\n                HBox.setHgrow ( spacer , Priority.ALWAYS );\n                rowBox.setAlignment ( Pos.CENTER );\n                rowBox.setSpacing ( 7 );\n            }\n                   \n            \n            @Override\n            protected void updateItem ( Event item , boolean empty )\n            {\n                super.updateItem ( item , empty );\n                if ( empty || item == null )\n                {\n                    setText ( null );\n                    setGraphic ( null );\n                } \n                else\n                {                   \n                    label.setText(item.title());\n                    labelTwo.setText(&quot;\\tDue: &quot; + item.when().format(dateTimeFormatter));\n                    editButton.setOnAction ( actionEvent -&gt;\n                    {                        \n                        System.out.println ( &quot;DEBUG - Edit the Event: &quot; + item.title() );\n                    });\n                    completedButton.setOnAction ( actionEvent -&gt;\n                    {\n                        System.out.println ( &quot;DEBUG - Completed the Event: &quot; + item.title());\n                    });\n                    \n                    setGraphic ( rowBox );\n                }\n            }\n        } );\n\n        BorderPane pane = new BorderPane ( );\n        pane.setCenter ( eventView );\n\n        Scene scene = new Scene ( pane , 700 , 300 );\n        stage.setScene ( scene );\n        stage.setTitle ( &quot;Schedule Example&quot; );\n        stage.show ( );\n    }\n\n    public static void main ( String[] args )\n    {\n        launch ( );\n    }\n}\n</code></pre>\n<p>And a screenshot.</p>\n<p><a href=\"https://i.stack.imgur.com/X3w5X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X3w5X.png\" alt=\"Screenshot of example app with a ListView showing buttons pushed to the right\" /></a></p>\n<p>I might not consider this solution complete. If the user narrows the width of the window, the buttons disappear off the right edge of the window. Ideally the buttons would always stay visible within the window, and the too-long label would truncate. I do not know the solution to that issue.</p>\n<h2>Binding domain object to your action buttons</h2>\n<blockquote>\n<p>also eventually I will need to figure out how to send the element the button is aligned with into the function for when the button is pressed if anyone has tips for that</p>\n</blockquote>\n<p>Binding each domain object to your buttons is an orthogonal issue from layout of widgets. So you should compose a separate Question on that specific issue.</p>\n<p>But briefly…</p>\n<p>Notice that your <a href=\"https://openjfx.io/javadoc/21/javafx.controls/javafx/scene/control/ListView.html#setCellFactory(javafx.util.Callback)\" rel=\"nofollow noreferrer\">cell factory</a> is handed a reference to the item, an object of your <code>Event</code> class, which is to be displayed by the <a href=\"https://openjfx.io/javadoc/21/javafx.controls/javafx/scene/control/ListView.html\" rel=\"nofollow noreferrer\"><code>ListView</code></a>. In this line:</p>\n<pre><code>protected void updateItem ( Event item , boolean empty ) … \n</code></pre>\n<p>… that first parameter <code>Event item</code> is the key. Notice how I used that reference in my call to <code>item.toString</code> while instantiating each <code>Label</code>.</p>\n<pre><code>Label label = new Label ( item.toString ( ) );\n</code></pre>\n<p>We can add similar calls in your button action handlers as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Button editButton = new Button ( &quot;Edit&quot; );\nButton completedButton = new Button ( &quot;Completed&quot; );\neditButton.setOnAction ( ( ActionEvent actionEvent ) -&gt;\n{\n    System.out.println ( &quot;DEBUG - Edit the Event: &quot; + item.toString ( ) );\n} );\ncompletedButton.setOnAction ( ( ActionEvent actionEvent ) -&gt;\n{\n    System.out.println ( &quot;DEBUG - Completed the Event: &quot; + item.toString ( ) );\n} );\n</code></pre>\n<hr />\n<p>By the way, especially while learning, and often more generally, you may find it handy to expand the parameter types in your lambdas. Doing so helps keep it straight in you head as to exactly what objects are in play at every point.</p>\n<p>So this:</p>\n<pre><code>editButton.setOnAction ( ( ActionEvent actionEvent ) -&gt; …\n</code></pre>\n<p>… instead of this:</p>\n<pre><code>editButton.setOnAction ( actionEvent -&gt; …\n</code></pre>\n"}],"owner":{"account_id":29678443,"reputation":23,"user_id":22745750,"display_name":"Wyatt Cake"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77299545,"answer_count":1,"score":2,"last_activity_date":1697469217,"creation_date":1697398890,"question_id":77298240,"body_markdown":"Been learning JavaFX in my freetime, and thought a simple schedule application would be a good practice. My current goal is output all members of an ArrayList, and have buttons for each, allowing to mark task as completed, or edit a task. However I&#39;m struggling with button placement, I have an HBox containing a label and two buttons, I can get them spaced, but since the task are different sized strings, I cant get the buttons to line up with each other. Is there any way to have them base their position on the left side, and not on the right after the string?\r\n\r\nHere is my current code:\r\n\r\n\r\n\r\n\t@FXML\r\n\tpublic Node createPage(int pageIndex){\r\n\t\tListView&lt;Event&gt; eventView = new ListView&lt;&gt;();\r\n\t\tint fromIndex = pageIndex * maxPerPage;\r\n\t\tint toIndex = Math.min(fromIndex + maxPerPage, schedule.size());\r\n\t\tList&lt;Event&gt; eventString = schedule.subList(fromIndex, toIndex);\r\n\t\t//testing buttons\r\n\t\teventView.setCellFactory(param -&gt; new ListCell&lt;Event&gt;(){\r\n\t\t\t@Override\r\n\t\t\tprotected void updateItem(Event item, boolean empty){\r\n\t\t\t\tsuper.updateItem(item,empty);\r\n\t\t\t\tif(empty || item == null){\r\n\t\t\t\t\tsetText(null);\r\n\t\t\t\t\tsetGraphic(null);\r\n\t\t\t\t} else{\r\n\t\t\t\t\tLabel label = new Label(item.display());\r\n\r\n\t\t\t\t\tButton editButton = new Button (&quot;Edit&quot;);\r\n\r\n\t\t\t\t\tButton completedButton = new Button (&quot;Completed&quot;);\r\n\r\n\t\t\t\t\teditButton.setOnAction(event -&gt;{\r\n\t\t\t\t\t\tSystem.out.println(&quot;done&quot;);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tcompletedButton.setOnAction(event -&gt;{\r\n\t\t\t\t\t\tSystem.out.println(&quot;done&quot;);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tHBox eventHbox = new HBox(label);\r\n\r\n\t\t\t\t\tHBox buttonHbox = new HBox(editButton,completedButton);\r\n\r\n\t\t\t\t\tbuttonHbox.setSpacing(50);\r\n\r\n\t\t\t\t\tbuttonHbox.setAlignment(Pos.CENTER_RIGHT);\r\n\r\n\t\t\t\t\tHBox.setMargin(buttonHbox,new Insets(0,0,0,200));\r\n\r\n\t\t\t\t\tHBox hbox = new HBox(eventHbox,buttonHbox);\r\n\r\n\t\t\t\t\tsetGraphic(hbox);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t});\r\n    }\r\n\r\n\r\nalso eventually I will need to figure out how to send the element the button is aligned with into the function for when the button is pressed if anyone has tips for that\r\n \r\n\r\nI have tried using `BASELINE_RIGHT` instead of `CENTER_RIGHT` and if I change the passing in `setMargin()` anymore or to like max or something it&#39;ll make me scroll over to see it\r\n\r\n\r\nEDIT::\r\ntrying to figure out TableView but not getting it, for person who wanted photos, (the want to have is created with data that is all same size, ideally button placemen does not depend on data length)\r\n\r\nhere is what I currently have:[![currently have][1]][1]\r\n\r\n\r\nand here is what I want to have [![want to have][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/el7Pf.png\r\n  [2]: https://i.stack.imgur.com/8uJlD.png","title":"Left Justify Buttons Inside of an HBox (inside a pagnition if that matters)","body":"<p>Been learning JavaFX in my freetime, and thought a simple schedule application would be a good practice. My current goal is output all members of an ArrayList, and have buttons for each, allowing to mark task as completed, or edit a task. However I'm struggling with button placement, I have an HBox containing a label and two buttons, I can get them spaced, but since the task are different sized strings, I cant get the buttons to line up with each other. Is there any way to have them base their position on the left side, and not on the right after the string?</p>\n<p>Here is my current code:</p>\n<pre><code>@FXML\npublic Node createPage(int pageIndex){\n    ListView&lt;Event&gt; eventView = new ListView&lt;&gt;();\n    int fromIndex = pageIndex * maxPerPage;\n    int toIndex = Math.min(fromIndex + maxPerPage, schedule.size());\n    List&lt;Event&gt; eventString = schedule.subList(fromIndex, toIndex);\n    //testing buttons\n    eventView.setCellFactory(param -&gt; new ListCell&lt;Event&gt;(){\n        @Override\n        protected void updateItem(Event item, boolean empty){\n            super.updateItem(item,empty);\n            if(empty || item == null){\n                setText(null);\n                setGraphic(null);\n            } else{\n                Label label = new Label(item.display());\n\n                Button editButton = new Button (&quot;Edit&quot;);\n\n                Button completedButton = new Button (&quot;Completed&quot;);\n\n                editButton.setOnAction(event -&gt;{\n                    System.out.println(&quot;done&quot;);\n                });\n\n                completedButton.setOnAction(event -&gt;{\n                    System.out.println(&quot;done&quot;);\n                });\n\n                HBox eventHbox = new HBox(label);\n\n                HBox buttonHbox = new HBox(editButton,completedButton);\n\n                buttonHbox.setSpacing(50);\n\n                buttonHbox.setAlignment(Pos.CENTER_RIGHT);\n\n                HBox.setMargin(buttonHbox,new Insets(0,0,0,200));\n\n                HBox hbox = new HBox(eventHbox,buttonHbox);\n\n                setGraphic(hbox);\n            }\n        }\n\n    });\n}\n</code></pre>\n<p>also eventually I will need to figure out how to send the element the button is aligned with into the function for when the button is pressed if anyone has tips for that</p>\n<p>I have tried using <code>BASELINE_RIGHT</code> instead of <code>CENTER_RIGHT</code> and if I change the passing in <code>setMargin()</code> anymore or to like max or something it'll make me scroll over to see it</p>\n<p>EDIT::\ntrying to figure out TableView but not getting it, for person who wanted photos, (the want to have is created with data that is all same size, ideally button placemen does not depend on data length)</p>\n<p>here is what I currently have:<a href=\"https://i.stack.imgur.com/el7Pf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/el7Pf.png\" alt=\"currently have\" /></a></p>\n<p>and here is what I want to have <a href=\"https://i.stack.imgur.com/8uJlD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8uJlD.png\" alt=\"want to have\" /></a></p>\n"},{"tags":["java","spring","multithreading","spring-batch","spring-rabbit"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1697196793,"post_id":77287184,"comment_id":136252764,"body_markdown":"I would also consider [AsyncItemProcessor](https://docs.spring.io/spring-batch/docs/current/reference/html/spring-batch-integration.html#asynchronous-processors) as an alternative to SynchronizedItemStreamReader. It is often forgotten because it belongs to spring-batch-integration.","body":"I would also consider <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/spring-batch-integration.html#asynchronous-processors\" rel=\"nofollow noreferrer\">AsyncItemProcessor</a> as an alternative to SynchronizedItemStreamReader. It is often forgotten because it belongs to spring-batch-integration."},{"owner":{"account_id":24471298,"reputation":3,"user_id":18390996,"display_name":"Niko Arts"},"score":0,"creation_date":1697198355,"post_id":77287184,"comment_id":136253004,"body_markdown":"@Pino I was contemplating the use of it, but I couldn&#39;t find a suitable example demonstrating how to convert a message from a queue that contains an array of objects without relying on JsonItemReader. I will try it with AsyncItemProcessor one more time.","body":"@Pino I was contemplating the use of it, but I couldn&#39;t find a suitable example demonstrating how to convert a message from a queue that contains an array of objects without relying on JsonItemReader. I will try it with AsyncItemProcessor one more time."},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1697200329,"post_id":77287184,"comment_id":136253372,"body_markdown":"JSON is a string.  JsonItemReader uses Jackson internally.  You could read strings from the queue and then use Jackson in the processor.  In this way the processing of invalid JSON strings would happen in the processor, as it should be.","body":"JSON is a string.  JsonItemReader uses Jackson internally.  You could read strings from the queue and then use Jackson in the processor.  In this way the processing of invalid JSON strings would happen in the processor, as it should be."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697468887,"creation_date":1697468887,"answer_id":77303093,"question_id":77287184,"body_markdown":"&gt; So, my main question is whether my approach is generally correct, or if I should explore an alternative solution.\r\n\r\nSpring Batch does not seem the right solution to this streaming requirement. I believe a pool of workers listening on the queue to do the validation in parallel is easier to implement and better suited for the problem than using a Spring Batch job. You could probably use Spring Batch as a library to leverage the JSON reader.","title":"Recommended approach for Spring batch multi-threaded job that consumes from RabbitMQ","body":"<blockquote>\n<p>So, my main question is whether my approach is generally correct, or if I should explore an alternative solution.</p>\n</blockquote>\n<p>Spring Batch does not seem the right solution to this streaming requirement. I believe a pool of workers listening on the queue to do the validation in parallel is easier to implement and better suited for the problem than using a Spring Batch job. You could probably use Spring Batch as a library to leverage the JSON reader.</p>\n"}],"owner":{"account_id":24471298,"reputation":3,"user_id":18390996,"display_name":"Niko Arts"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77303093,"answer_count":1,"score":0,"last_activity_date":1697468887,"creation_date":1697194666,"question_id":77287184,"body_markdown":"I&#39;m working on implementing a Spring Batch job that will consume messages from a RabbitMQ queue and process their validation. Each message is an array of objects, like the example below:\r\n\r\n&gt; \\[JSON object }, { // JSON object } \\]\r\n\r\nMy goal is to retrieve the JSON objects and pass them to the processor for validation. However, a major challenge I&#39;m facing is that the JSON objects in the queue may be in the wrong format, with missing brackets or quotes. It is crucial for me to handle these errors properly and return the messages with errors as a response when manually running the job.\r\n\r\nMy initial idea was to implement a fault tolerant step that will use chunking, which would be executed by a `ThreadPoolTaskExecutor`. I attempted to create my own multi-resource reader based on the `MultiResourceItemReader`, which delegates the reading of JSON files to the `JsonItemReader`. Essentially, my custom reader is similar to the one provided by Spring, but I added exception handling for cases when errors occur during `delegate.read()` and `delegate.open(new ExecutionContext())`, which can happen when reading JSON files with typos. If an exception occurs during reading, I write the message ID from the current resource to the job execution context. After the job execution, I can extract these message IDs from the job context.\r\n\r\nMy custom reader is decorated by `SynchronizedItemStreamReader` to ensure that the reading process is synchronized. However, I suspect there might still be concurrency issues, as I consistently end up with fewer message IDs associated with errors than expected. For example, if I&#39;m processing 4 messages with typos, each containing 1000 objects, and there are 3 failed messages in the job execution context, it&#39;s perplexing that the read operation is considered successful. If I process only the missing message together with other correct messages, I get one error message in the job context, indicating that the exception handling works in that case. However, for multiple invalid messages, I don&#39;t even see an error for the missing message in the log.\r\n\r\nSo, my main question is whether my approach is generally correct, or if I should explore an alternative solution. The key requirement is to perform resource reading and JSON object processing in parallel while capturing the message IDs for which reading failed. Here is my step code\r\n\r\n```\r\n@Bean\r\npublic Step rabbitStep() {\r\n    return new StepBuilder(&quot;rabbitValidateStep&quot;, jobRepository)\r\n            .&lt;ProcessRequest, Void&gt;chunk(chunkSize, transactionManager)\r\n            .reader(rabbitSynchronizedItemStreamReader())\r\n            .processor(rabbitItemProcessor())\r\n            .writer(item -&gt; {\r\n            })\r\n            .faultTolerant()\r\n            .skip(ParseException.class)\r\n            .noRetry(ParseException.class)\r\n            .noRollback(ParseException.class)\r\n            .skip(ItemStreamException.class)\r\n            .noRetry(ItemStreamException.class)\r\n            .noRollback(ItemStreamException.class)\r\n            .skipLimit(1000)\r\n            .taskExecutor(rabbitDelegatingSecurityContextAsyncTaskExecutor(rabbitValidateThreadPoolTaskExecutor()))\r\n            .throttleLimit(getWorkingThreads())\r\n            .build();\r\n}\r\n```","title":"Recommended approach for Spring batch multi-threaded job that consumes from RabbitMQ","body":"<p>I'm working on implementing a Spring Batch job that will consume messages from a RabbitMQ queue and process their validation. Each message is an array of objects, like the example below:</p>\n<blockquote>\n<p>[JSON object }, { // JSON object } ]</p>\n</blockquote>\n<p>My goal is to retrieve the JSON objects and pass them to the processor for validation. However, a major challenge I'm facing is that the JSON objects in the queue may be in the wrong format, with missing brackets or quotes. It is crucial for me to handle these errors properly and return the messages with errors as a response when manually running the job.</p>\n<p>My initial idea was to implement a fault tolerant step that will use chunking, which would be executed by a <code>ThreadPoolTaskExecutor</code>. I attempted to create my own multi-resource reader based on the <code>MultiResourceItemReader</code>, which delegates the reading of JSON files to the <code>JsonItemReader</code>. Essentially, my custom reader is similar to the one provided by Spring, but I added exception handling for cases when errors occur during <code>delegate.read()</code> and <code>delegate.open(new ExecutionContext())</code>, which can happen when reading JSON files with typos. If an exception occurs during reading, I write the message ID from the current resource to the job execution context. After the job execution, I can extract these message IDs from the job context.</p>\n<p>My custom reader is decorated by <code>SynchronizedItemStreamReader</code> to ensure that the reading process is synchronized. However, I suspect there might still be concurrency issues, as I consistently end up with fewer message IDs associated with errors than expected. For example, if I'm processing 4 messages with typos, each containing 1000 objects, and there are 3 failed messages in the job execution context, it's perplexing that the read operation is considered successful. If I process only the missing message together with other correct messages, I get one error message in the job context, indicating that the exception handling works in that case. However, for multiple invalid messages, I don't even see an error for the missing message in the log.</p>\n<p>So, my main question is whether my approach is generally correct, or if I should explore an alternative solution. The key requirement is to perform resource reading and JSON object processing in parallel while capturing the message IDs for which reading failed. Here is my step code</p>\n<pre><code>@Bean\npublic Step rabbitStep() {\n    return new StepBuilder(&quot;rabbitValidateStep&quot;, jobRepository)\n            .&lt;ProcessRequest, Void&gt;chunk(chunkSize, transactionManager)\n            .reader(rabbitSynchronizedItemStreamReader())\n            .processor(rabbitItemProcessor())\n            .writer(item -&gt; {\n            })\n            .faultTolerant()\n            .skip(ParseException.class)\n            .noRetry(ParseException.class)\n            .noRollback(ParseException.class)\n            .skip(ItemStreamException.class)\n            .noRetry(ItemStreamException.class)\n            .noRollback(ItemStreamException.class)\n            .skipLimit(1000)\n            .taskExecutor(rabbitDelegatingSecurityContextAsyncTaskExecutor(rabbitValidateThreadPoolTaskExecutor()))\n            .throttleLimit(getWorkingThreads())\n            .build();\n}\n</code></pre>\n"},{"tags":["java","spring","character-encoding","jakarta-mail"],"answers":[{"comments":[{"owner":{"account_id":273623,"reputation":1437,"user_id":565341,"display_name":"Christoph Henkelmann"},"score":0,"creation_date":1629731978,"post_id":16855077,"comment_id":121758533,"body_markdown":"Website is down, it would be better if example code were added to the answer.","body":"Website is down, it would be better if example code were added to the answer."}],"tags":[],"owner":{"account_id":62516,"reputation":20965,"user_id":185723,"accept_rate":89,"display_name":"dimitrisli"},"comment_count":1,"down_vote_count":1,"up_vote_count":27,"is_accepted":true,"score":26,"last_activity_date":1630518717,"creation_date":1369995808,"answer_id":16855077,"question_id":16854993,"body_markdown":"I&#39;ve done it using [GreenMail][1]. Take a look at [my blog post about it][2] where you&#39;ll also find a working example.\r\n\r\n\r\n  [1]: https://greenmail-mail-test.github.io/greenmail/\r\n  [2]: https://dimitrisli.wordpress.com/2012/09/17/spring-email-testing-using-greenmail/","title":"How do I test the JavaMailSender of Spring","body":"<p>I've done it using <a href=\"https://greenmail-mail-test.github.io/greenmail/\" rel=\"nofollow noreferrer\">GreenMail</a>. Take a look at <a href=\"https://dimitrisli.wordpress.com/2012/09/17/spring-email-testing-using-greenmail/\" rel=\"nofollow noreferrer\">my blog post about it</a> where you'll also find a working example.</p>\n"},{"comments":[{"owner":{"account_id":774364,"reputation":5391,"user_id":820666,"accept_rate":68,"display_name":"Bastian Voigt"},"score":0,"creation_date":1493708980,"post_id":16855945,"comment_id":74507144,"body_markdown":"Do not use dumbster please. It&#39;s horribly broken:\n http://sourceforge.net/p/dumbster/bugs/15/. Use greenmail instead.","body":"Do not use dumbster please. It&#39;s horribly broken:  <a href=\"http://sourceforge.net/p/dumbster/bugs/15/\" rel=\"nofollow noreferrer\">sourceforge.net/p/dumbster/bugs/15</a>. Use greenmail instead."},{"owner":{"account_id":3429571,"reputation":1922,"user_id":2874409,"accept_rate":48,"display_name":"Andiana"},"score":0,"creation_date":1529482309,"post_id":16855945,"comment_id":88884167,"body_markdown":"The provided link was broken. @TrueDub, can you lease update it?","body":"The provided link was broken. @TrueDub, can you lease update it?"}],"tags":[],"owner":{"account_id":84846,"reputation":5030,"user_id":236936,"accept_rate":67,"display_name":"TrueDub"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1529483213,"creation_date":1369998746,"answer_id":16855945,"question_id":16854993,"body_markdown":"You can use a test SMTP server, like [Dumbster][1]. See the example below:\r\n\r\n    @Test\r\n    \tpublic void sendSimpleEmailWithCC() {\r\n    \t\t// Runs a Dumbster simple SMTP server - default config\r\n    \t\tSimpleSmtpServer server = SimpleSmtpServer.start();\r\n    \t\tString from = &quot;whoever@from.com&quot;;\r\n    \t\tString to = &quot;whoever@to.com&quot;;\r\n    \t\tString messageText = &quot;Good message&quot;;\r\n    \t\tString title = &quot;Test message&quot;;\r\n    \t\tString cc = &quot;whoever@cc.com&quot;;\r\n    \t\tAssert.assertTrue(mailSender\r\n    \t\t\t\t.sendEmail(from, to, cc, title, messageText));\r\n    \t\tserver.stop();\r\n    \t\tAssert.assertTrue(server.getReceivedEmailSize() == 1);\r\n    \t\tIterator emailIter = server.getReceivedEmail();\r\n    \t\tSmtpMessage email = (SmtpMessage) emailIter.next();\r\n    \t\tAssert.assertTrue(email.getHeaderValue(&quot;From&quot;).equals(from));\r\n    \t\tAssert.assertTrue(email.getHeaderValue(&quot;To&quot;).equals(to));\r\n    \t\tAssert.assertTrue(email.getHeaderValue(&quot;Cc&quot;).equals(cc));\r\n    \t\tAssert.assertTrue(email.getHeaderValue(&quot;Subject&quot;)\r\n    \t\t\t\t.equals(&quot;Test message&quot;));\r\n    \t\tAssert.assertTrue(email.getBody().equals(messageText));\r\n    \t}\r\n\r\n\r\n  [1]: https://github.com/kirviq/dumbster","title":"How do I test the JavaMailSender of Spring","body":"<p>You can use a test SMTP server, like <a href=\"https://github.com/kirviq/dumbster\" rel=\"nofollow noreferrer\">Dumbster</a>. See the example below:</p>\n\n<pre><code>@Test\n    public void sendSimpleEmailWithCC() {\n        // Runs a Dumbster simple SMTP server - default config\n        SimpleSmtpServer server = SimpleSmtpServer.start();\n        String from = \"whoever@from.com\";\n        String to = \"whoever@to.com\";\n        String messageText = \"Good message\";\n        String title = \"Test message\";\n        String cc = \"whoever@cc.com\";\n        Assert.assertTrue(mailSender\n                .sendEmail(from, to, cc, title, messageText));\n        server.stop();\n        Assert.assertTrue(server.getReceivedEmailSize() == 1);\n        Iterator emailIter = server.getReceivedEmail();\n        SmtpMessage email = (SmtpMessage) emailIter.next();\n        Assert.assertTrue(email.getHeaderValue(\"From\").equals(from));\n        Assert.assertTrue(email.getHeaderValue(\"To\").equals(to));\n        Assert.assertTrue(email.getHeaderValue(\"Cc\").equals(cc));\n        Assert.assertTrue(email.getHeaderValue(\"Subject\")\n                .equals(\"Test message\"));\n        Assert.assertTrue(email.getBody().equals(messageText));\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4547683,"reputation":3756,"user_id":3693726,"accept_rate":92,"display_name":"Deniss M."},"score":1,"creation_date":1555002017,"post_id":54836897,"comment_id":97966553,"body_markdown":"`(Session)null` what is this?","body":"<code>(Session)null</code> what is this?"},{"owner":{"account_id":2572867,"reputation":985,"user_id":2231168,"accept_rate":100,"display_name":"Nergal"},"score":0,"creation_date":1586960544,"post_id":54836897,"comment_id":108321871,"body_markdown":"@DenissM. It was almost a year since you asked which means this information might not relevant to you anymore. When a method is overloaded Java will pick the most specific method (in this case constructor). However, `null` without a type information could be any of the type. This is why you have to cast it to a specific type. https://stackoverflow.com/a/5229890/2231168","body":"@DenissM. It was almost a year since you asked which means this information might not relevant to you anymore. When a method is overloaded Java will pick the most specific method (in this case constructor). However, <code>null</code> without a type information could be any of the type. This is why you have to cast it to a specific type. <a href=\"https://stackoverflow.com/a/5229890/2231168\">stackoverflow.com/a/5229890/2231168</a>"},{"owner":{"account_id":13215296,"reputation":458,"user_id":9544067,"display_name":"V. Perfilev"},"score":1,"creation_date":1589059366,"post_id":54836897,"comment_id":109144171,"body_markdown":"In this case you can also use `Mockito.mock(MimeMessage.class)` instead of `new MimeMessage((Session) null)`. It&#39;s a bit more clear.","body":"In this case you can also use <code>Mockito.mock(MimeMessage.class)</code> instead of <code>new MimeMessage((Session) null)</code>. It&#39;s a bit more clear."},{"owner":{"account_id":18538236,"reputation":990,"user_id":13793329,"display_name":"PeterB"},"score":0,"creation_date":1678781303,"post_id":54836897,"comment_id":133595324,"body_markdown":"About mocking MimeMessage: I tried this, but I got many NPEs, so It is better to use a real MimeMessage. Also it may be better to mock the absolute minimum.","body":"About mocking MimeMessage: I tried this, but I got many NPEs, so It is better to use a real MimeMessage. Also it may be better to mock the absolute minimum."}],"tags":[],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550919019,"creation_date":1550880743,"answer_id":54836897,"question_id":16854993,"body_markdown":"If your goal is to use just Junit/Mockito and test how MimeMessage was formed before sending then the configuration below should be sufficient:\r\n\r\n    public class EmailServiceTest {\r\n    \t\r\n    \tprivate EmailServiceImpl emailServiceImpl;\r\n    \t\r\n        private JavaMailSender javaMailSender;\r\n        \r\n        private MimeMessage mimeMessage;\r\n    \r\n    \t@Before\r\n    \tpublic void before() {\r\n    \t\tmimeMessage = new MimeMessage((Session)null);\r\n    \t\tjavaMailSender = mock(JavaMailSender.class);\r\n    \t\twhen(javaMailSender.createMimeMessage()).thenReturn(mimeMessage);\r\n    \t\temailServiceImpl = new EmailService(javaMailSender);\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void emailTest() {\r\n    \t\tString recipient = &quot;example@example.com&quot;\r\n    \t    EmailRequest request = new EmailRequest();\r\n    \t    request.setRecipient(recipient);\r\n    \t\temailServiceImpl.send(request);\r\n    \t    assertEquals(recipient, mimeMessage.getRecipients(RecipientType.TO)[0].toString());\r\n    \t}\r\n    }","title":"How do I test the JavaMailSender of Spring","body":"<p>If your goal is to use just Junit/Mockito and test how MimeMessage was formed before sending then the configuration below should be sufficient:</p>\n\n<pre><code>public class EmailServiceTest {\n\n    private EmailServiceImpl emailServiceImpl;\n\n    private JavaMailSender javaMailSender;\n\n    private MimeMessage mimeMessage;\n\n    @Before\n    public void before() {\n        mimeMessage = new MimeMessage((Session)null);\n        javaMailSender = mock(JavaMailSender.class);\n        when(javaMailSender.createMimeMessage()).thenReturn(mimeMessage);\n        emailServiceImpl = new EmailService(javaMailSender);\n    }\n\n    @Test\n    public void emailTest() {\n        String recipient = \"example@example.com\"\n        EmailRequest request = new EmailRequest();\n        request.setRecipient(recipient);\n        emailServiceImpl.send(request);\n        assertEquals(recipient, mimeMessage.getRecipients(RecipientType.TO)[0].toString());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635265058,"creation_date":1635265058,"answer_id":69726646,"question_id":16854993,"body_markdown":"To add a more recent answer to this question and as the linked blog post from 2012 seems to be down occasionally, here&#39;s a full example of using GreenMail for writing integration tests with JUnit 5 (assuming you&#39;re using Spring Boot&#39;s auto-configuration for the `JavaMailSender`).\r\n\r\nFirst, make sure to override the credentials and location of the mail server. You can add an `application.yml` file inside `src/test/resources` for this purpose:\r\n\r\n    spring:\r\n      mail:\r\n        password: springboot\r\n        username: duke\r\n        host: 127.0.0.1\r\n        port: 3025 # default protocol port + 3000 as offset\r\n        protocol: smtp\r\n        test-connection: true\r\n\r\n\r\nNext, Spring Boot&#39;s auto-configuration will configure the `JavaMailSender` to connect to GreenMail for your tests. You can use GreenMail&#39;s JUnit Jupiter extension to conveniently start/stop a GreenMail server for your tests:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.icegreen&lt;/groupId&gt;\r\n      &lt;artifactId&gt;greenmail-junit5&lt;/artifactId&gt;\r\n      &lt;version&gt;1.6.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n... resulting in the following sample test:\r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    class JavaMailSenderIT {\r\n    \r\n      @RegisterExtension\r\n      static GreenMailExtension greenMail = new GreenMailExtension(ServerSetupTest.SMTP)\r\n        .withConfiguration(GreenMailConfiguration.aConfig().withUser(&quot;duke&quot;, &quot;springboot&quot;))\r\n        .withPerMethodLifecycle(false);\r\n    \r\n      @Autowired\r\n      private JavaMailSender javaMailSender;\r\n    \r\n      @Test\r\n      void shouldUseGreenMail() throws Exception {\r\n    \r\n        SimpleMailMessage mail = new SimpleMailMessage();\r\n        mail.setFrom(&quot;admin@spring.io&quot;);\r\n        mail.setSubject(&quot;A new message for you&quot;);\r\n        mail.setText(&quot;Hello GreenMail!&quot;);\r\n        mail.setTo(&quot;test@greenmail.io&quot;);\r\n    \r\n    \r\n        javaMailSender.send(mail);\r\n    \r\n        // awaitility\r\n        await().atMost(2, SECONDS).untilAsserted(() -&gt; {\r\n          MimeMessage[] receivedMessages = greenMail.getReceivedMessages();\r\n          assertEquals(1, receivedMessages.length);\r\n    \r\n          MimeMessage receivedMessage = receivedMessages[0];\r\n          assertEquals(&quot;Hello GreenMail!&quot;, GreenMailUtil.getBody(receivedMessage));\r\n          assertEquals(1, receivedMessage.getAllRecipients().length);\r\n          assertEquals(&quot;test@greenmail.io&quot;, receivedMessage.getAllRecipients()[0].toString());\r\n        });\r\n      }\r\n    }\r\n\r\nYou can also [use Testcontainers to start a local GreenMail container][1] as your local sandbox email server.\r\n\r\n\r\n  [1]: https://rieckpil.de/use-greenmail-for-spring-mail-javamailsender-junit-5-integration-tests/","title":"How do I test the JavaMailSender of Spring","body":"<p>To add a more recent answer to this question and as the linked blog post from 2012 seems to be down occasionally, here's a full example of using GreenMail for writing integration tests with JUnit 5 (assuming you're using Spring Boot's auto-configuration for the <code>JavaMailSender</code>).</p>\n<p>First, make sure to override the credentials and location of the mail server. You can add an <code>application.yml</code> file inside <code>src/test/resources</code> for this purpose:</p>\n<pre><code>spring:\n  mail:\n    password: springboot\n    username: duke\n    host: 127.0.0.1\n    port: 3025 # default protocol port + 3000 as offset\n    protocol: smtp\n    test-connection: true\n</code></pre>\n<p>Next, Spring Boot's auto-configuration will configure the <code>JavaMailSender</code> to connect to GreenMail for your tests. You can use GreenMail's JUnit Jupiter extension to conveniently start/stop a GreenMail server for your tests:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.icegreen&lt;/groupId&gt;\n  &lt;artifactId&gt;greenmail-junit5&lt;/artifactId&gt;\n  &lt;version&gt;1.6.1&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>... resulting in the following sample test:</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\nclass JavaMailSenderIT {\n\n  @RegisterExtension\n  static GreenMailExtension greenMail = new GreenMailExtension(ServerSetupTest.SMTP)\n    .withConfiguration(GreenMailConfiguration.aConfig().withUser(&quot;duke&quot;, &quot;springboot&quot;))\n    .withPerMethodLifecycle(false);\n\n  @Autowired\n  private JavaMailSender javaMailSender;\n\n  @Test\n  void shouldUseGreenMail() throws Exception {\n\n    SimpleMailMessage mail = new SimpleMailMessage();\n    mail.setFrom(&quot;admin@spring.io&quot;);\n    mail.setSubject(&quot;A new message for you&quot;);\n    mail.setText(&quot;Hello GreenMail!&quot;);\n    mail.setTo(&quot;test@greenmail.io&quot;);\n\n\n    javaMailSender.send(mail);\n\n    // awaitility\n    await().atMost(2, SECONDS).untilAsserted(() -&gt; {\n      MimeMessage[] receivedMessages = greenMail.getReceivedMessages();\n      assertEquals(1, receivedMessages.length);\n\n      MimeMessage receivedMessage = receivedMessages[0];\n      assertEquals(&quot;Hello GreenMail!&quot;, GreenMailUtil.getBody(receivedMessage));\n      assertEquals(1, receivedMessage.getAllRecipients().length);\n      assertEquals(&quot;test@greenmail.io&quot;, receivedMessage.getAllRecipients()[0].toString());\n    });\n  }\n}\n</code></pre>\n<p>You can also <a href=\"https://rieckpil.de/use-greenmail-for-spring-mail-javamailsender-junit-5-integration-tests/\" rel=\"nofollow noreferrer\">use Testcontainers to start a local GreenMail container</a> as your local sandbox email server.</p>\n"},{"tags":[],"owner":{"account_id":13169033,"reputation":1,"user_id":9512131,"display_name":"Mehran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668482870,"creation_date":1668099680,"answer_id":74392744,"question_id":16854993,"body_markdown":"Regarding test with GreenMail, you don&#39;t want any end to end encryption as it&#39;s in your local machine, and for that you need to add this properties to your `application-test.properties` file:\r\n\r\n    spring:\r\n      mail:\r\n        username: xxxx@gmail.com\r\n        password: *********\r\n        host: 127.0.0.1\r\n        port: 3025\r\n        protocol: smtp\r\n        test-connection: false\r\n        properties:\r\n          mail:\r\n            smtp:\r\n              starttls:\r\n                required: false\r\n                enable: false\r\n    \r\n\r\nOtherwise you&#39;ll get an error: STARTTLS is required but host does not support STARTTLS.","title":"How do I test the JavaMailSender of Spring","body":"<p>Regarding test with GreenMail, you don't want any end to end encryption as it's in your local machine, and for that you need to add this properties to your <code>application-test.properties</code> file:</p>\n<pre><code>spring:\n  mail:\n    username: xxxx@gmail.com\n    password: *********\n    host: 127.0.0.1\n    port: 3025\n    protocol: smtp\n    test-connection: false\n    properties:\n      mail:\n        smtp:\n          starttls:\n            required: false\n            enable: false\n</code></pre>\n<p>Otherwise you'll get an error: STARTTLS is required but host does not support STARTTLS.</p>\n"},{"tags":[],"owner":{"account_id":239746,"reputation":6175,"user_id":509565,"accept_rate":69,"display_name":"lrkwz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697468790,"creation_date":1697468790,"answer_id":77303085,"question_id":16854993,"body_markdown":"Elaborating on @justinas-jakavonis answer I would suggesto to include this configuration bean in your `src/test/java`\r\n\r\n```java\r\n@Configuration\r\npublic class JavaMailSenderTestConfiguration {\r\n\r\n\tprivate JavaMailSender javaMailSender;\r\n\r\n\tprivate MimeMessage mimeMessage;\r\n\r\n\t@Bean\r\n\tJavaMailSender mockMailSender() {\r\n\t\tmimeMessage = Mockito.mock(MimeMessage.class);\r\n\t\tjavaMailSender = Mockito.mock(JavaMailSender.class);\r\n\t\tMockito.when(javaMailSender.createMimeMessage()).thenReturn(mimeMessage);\r\n\t\treturn javaMailSender;\r\n\t}\r\n}\r\n```","title":"How do I test the JavaMailSender of Spring","body":"<p>Elaborating on @justinas-jakavonis answer I would suggesto to include this configuration bean in your <code>src/test/java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class JavaMailSenderTestConfiguration {\n\n    private JavaMailSender javaMailSender;\n\n    private MimeMessage mimeMessage;\n\n    @Bean\n    JavaMailSender mockMailSender() {\n        mimeMessage = Mockito.mock(MimeMessage.class);\n        javaMailSender = Mockito.mock(JavaMailSender.class);\n        Mockito.when(javaMailSender.createMimeMessage()).thenReturn(mimeMessage);\n        return javaMailSender;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1126566,"reputation":3908,"user_id":1113715,"accept_rate":90,"display_name":"Jordi P.S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30022,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":16855077,"answer_count":6,"score":21,"last_activity_date":1697468790,"creation_date":1369995491,"question_id":16854993,"body_markdown":"I have a service that has injected the JavaMailSender.\r\nMy service configures it and sends a mail.\r\nI&#39;d like to intercept the raw mail to ensure the information is the correct. I&#39;d like to do that in a JUnit.\r\n\r\nHow would you guys do that?\r\n\r\n    @Service\r\n    public class MyServiceImpl {\r\n\r\n        @Autowired\r\n        private JavaMailSender _mailSender;\r\n     \r\n        public void sendMail(String to, String body, String subject){\r\n            ...\r\n            _mailSender.something\r\n            ...\r\n        }\r\n    }","title":"How do I test the JavaMailSender of Spring","body":"<p>I have a service that has injected the JavaMailSender.\nMy service configures it and sends a mail.\nI'd like to intercept the raw mail to ensure the information is the correct. I'd like to do that in a JUnit.</p>\n\n<p>How would you guys do that?</p>\n\n<pre><code>@Service\npublic class MyServiceImpl {\n\n    @Autowired\n    private JavaMailSender _mailSender;\n\n    public void sendMail(String to, String body, String subject){\n        ...\n        _mailSender.something\n        ...\n    }\n}\n</code></pre>\n"},{"tags":["java","excel","apache","maven","classnotfoundexception"],"answers":[{"comments":[{"owner":{"account_id":9980355,"reputation":83,"user_id":7383506,"display_name":"Hello Kitty"},"score":0,"creation_date":1490361931,"post_id":42999205,"comment_id":73090875,"body_markdown":"I went to Properties &gt; Java Build Path &gt; Libraries. I see the jars under Maven Dependencies.","body":"I went to Properties &gt; Java Build Path &gt; Libraries. I see the jars under Maven Dependencies."}],"tags":[],"owner":{"account_id":268522,"reputation":2088,"user_id":557329,"accept_rate":61,"display_name":"Arasu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490357541,"creation_date":1490357541,"answer_id":42999205,"question_id":42998957,"body_markdown":"Please check whether the apache poi jars got downloaded,\r\n\r\nAlso try using the below dependecy for poi-ooxml-schemas\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml-schemas --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\r\n        &lt;version&gt;3.15&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"java.lang.ClassNotFoundException: org.apache.poi.ss.usermodel.Workbook","body":"<p>Please check whether the apache poi jars got downloaded,</p>\n\n<p>Also try using the below dependecy for poi-ooxml-schemas</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml-schemas --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\n    &lt;version&gt;3.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9980355,"reputation":83,"user_id":7383506,"display_name":"Hello Kitty"},"score":0,"creation_date":1490361977,"post_id":42999213,"comment_id":73090910,"body_markdown":"I don&#39;t see the .m2 folder. Can you help me with it?","body":"I don&#39;t see the .m2 folder. Can you help me with it?"},{"owner":{"account_id":5100890,"reputation":2796,"user_id":4090550,"display_name":"Anil Agrawal"},"score":0,"creation_date":1490547028,"post_id":42999213,"comment_id":73148805,"body_markdown":"If you didn&#39;t changed the maven settings forcefully, the .m2 folder must be in your user/home directory.","body":"If you didn&#39;t changed the maven settings forcefully, the .m2 folder must be in your user/home directory."}],"tags":[],"owner":{"account_id":5100890,"reputation":2796,"user_id":4090550,"display_name":"Anil Agrawal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490546962,"creation_date":1490357567,"answer_id":42999213,"question_id":42998957,"body_markdown":"Clean your project, delete content of {User_Directory}/.m2 folder and re-run your project \r\n\r\n&gt; Under windows system you can find maven repo path as\r\n&gt; **C:\\\\Users\\\\{user_name}\\\\.m2**\r\n&gt; \r\n&gt; Under linux system you can find maven repo path as **/home/{user_name}/.m2**","title":"java.lang.ClassNotFoundException: org.apache.poi.ss.usermodel.Workbook","body":"<p>Clean your project, delete content of {User_Directory}/.m2 folder and re-run your project </p>\n\n<blockquote>\n  <p>Under windows system you can find maven repo path as\n  <strong>C:\\Users\\{user_name}\\.m2</strong></p>\n  \n  <p>Under linux system you can find maven repo path as <strong>/home/{user_name}/.m2</strong></p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":9980355,"reputation":83,"user_id":7383506,"display_name":"Hello Kitty"},"score":0,"creation_date":1490365277,"post_id":42999359,"comment_id":73093124,"body_markdown":"I&#39;m not sure how to check if the jars are compatible. Can you please elaborate?","body":"I&#39;m not sure how to check if the jars are compatible. Can you please elaborate?"}],"tags":[],"owner":{"account_id":457711,"reputation":343,"user_id":857184,"display_name":"David Stanley"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490383436,"creation_date":1490358037,"answer_id":42999359,"question_id":42998957,"body_markdown":"It looks like you&#39;re running this in a servlet container, which probably means that container has its own set of jar files.  With Tomcat, for instance, that would be in the Tomcat/lib directory.  Check which jars your servlet container is using, to see if one of them is incompatible with what you&#39;re using.  \r\n\r\nWhat you&#39;d be looking for is an old version of poi that doesn&#39;t have the class you need.  If such a jar exists and gets loaded before the correct one, it can cause the problems you&#39;re seeing, even though your web app itself has the right version in it.  ","title":"java.lang.ClassNotFoundException: org.apache.poi.ss.usermodel.Workbook","body":"<p>It looks like you're running this in a servlet container, which probably means that container has its own set of jar files.  With Tomcat, for instance, that would be in the Tomcat/lib directory.  Check which jars your servlet container is using, to see if one of them is incompatible with what you're using.  </p>\n\n<p>What you'd be looking for is an old version of poi that doesn't have the class you need.  If such a jar exists and gets loaded before the correct one, it can cause the problems you're seeing, even though your web app itself has the right version in it.  </p>\n"},{"comments":[{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1674223274,"post_id":75142329,"comment_id":132674125,"body_markdown":"Instead of duplicating an answer to say &quot;this worked for me&quot;, please consider up-voting the most helpful answer instead.","body":"Instead of duplicating an answer to say &quot;this worked for me&quot;, please consider up-voting the most helpful answer instead."}],"tags":[],"owner":{"account_id":27549328,"reputation":1,"user_id":21024672,"display_name":"Rakesh Pradhan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673934141,"creation_date":1673934141,"answer_id":75142329,"question_id":42998957,"body_markdown":"Clean your project, delete content of {User_Directory}/.m2 folder and re-run your project , This method works for me .\r\n","title":"java.lang.ClassNotFoundException: org.apache.poi.ss.usermodel.Workbook","body":"<p>Clean your project, delete content of {User_Directory}/.m2 folder and re-run your project , This method works for me .</p>\n"}],"owner":{"account_id":9980355,"reputation":83,"user_id":7383506,"display_name":"Hello Kitty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13632,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1697468760,"creation_date":1490356757,"question_id":42998957,"body_markdown":"I&#39;m trying to access an excel file the Apache Workbook module. The code runs perfectly sometimes, but mostly I get an error saying:\r\n\r\n&gt;**exception** \r\n\r\n&gt;javax.servlet.ServletException: Servlet execution threw an exception\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\r\n&gt;**root cause** \r\n\r\n&gt;java.lang.NoClassDefFoundError: org/apache/poi/ss/usermodel/Workbook\r\n\r\n&gt;**root cause** \r\n\r\n&gt;java.lang.ClassNotFoundException: org.apache.poi.ss.usermodel.Workbook\r\n\r\nI looked it up and read that it is a jar file problem. Tried to fix it from my side but I&#39;m still getting the same error.\r\n\r\nHere is my `pom.xml`:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;XYZ&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ABC&lt;/artifactId&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;ScriptsGenerator Maven Webapp&lt;/name&gt;\r\n        &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\r\n          &lt;dependency&gt;\r\n          \t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n          \t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n          \t&lt;version&gt;3.15&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n          \t&lt;groupId&gt;org.lucee&lt;/groupId&gt;\r\n          \t&lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\r\n          \t&lt;version&gt;3.15.0&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\r\n      \t&lt;dependency&gt;\r\n          \t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n          \t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n         \t\t&lt;version&gt;3.15&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n\r\n      \t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n      \t&lt;dependency&gt;\r\n         \t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n          \t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n          \t&lt;version&gt;3.1.0&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;!-- https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple --&gt;\r\n      \t&lt;dependency&gt;\r\n          \t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n          \t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n          \t&lt;version&gt;1.1.1&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n          \t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n          \t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n          \t&lt;version&gt;1.2&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n         \t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n         \t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n         \t\t&lt;version&gt;1.10&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n          \t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n          \t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n          \t&lt;version&gt;1.2.17&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n          \t&lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\r\n          \t&lt;artifactId&gt;struts2-core&lt;/artifactId&gt;\r\n          \t&lt;version&gt;2.5.8&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;!-- https://mvnrepository.com/artifact/org.apache.xmlbeans/xmlbeans --&gt;\r\n      \t&lt;dependency&gt;\r\n          \t&lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\r\n          \t&lt;version&gt;2.6.0&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;!-- https://mvnrepository.com/artifact/dom4j/dom4j --&gt;\r\n      \t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;dom4j&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;1.6.1&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4 --&gt;\r\n      \t&lt;dependency&gt;\r\n       \t   &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n       \t   &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n       \t   &lt;version&gt;4.1&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n      &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      \t\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n          &lt;finalName&gt;AAAA&lt;/finalName&gt;\r\n        &lt;/build&gt;\r\n      &lt;/project&gt;\r\n\r\n\r\nWhere am I going wrong?\r\n","title":"java.lang.ClassNotFoundException: org.apache.poi.ss.usermodel.Workbook","body":"<p>I'm trying to access an excel file the Apache Workbook module. The code runs perfectly sometimes, but mostly I get an error saying:</p>\n\n<blockquote>\n  <p><strong>exception</strong> </p>\n  \n  <p>javax.servlet.ServletException: Servlet execution threw an exception\n      org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)</p>\n  \n  <p><strong>root cause</strong> </p>\n  \n  <p>java.lang.NoClassDefFoundError: org/apache/poi/ss/usermodel/Workbook</p>\n  \n  <p><strong>root cause</strong> </p>\n  \n  <p>java.lang.ClassNotFoundException: org.apache.poi.ss.usermodel.Workbook</p>\n</blockquote>\n\n<p>I looked it up and read that it is a jar file problem. Tried to fix it from my side but I'm still getting the same error.</p>\n\n<p>Here is my <code>pom.xml</code>:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;XYZ&lt;/groupId&gt;\n    &lt;artifactId&gt;ABC&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ScriptsGenerator Maven Webapp&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\n        &lt;version&gt;3.15&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.lucee&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\n        &lt;version&gt;3.15.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.15&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n        &lt;artifactId&gt;struts2-core&lt;/artifactId&gt;\n        &lt;version&gt;2.5.8&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;!-- https://mvnrepository.com/artifact/org.apache.xmlbeans/xmlbeans --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\n        &lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/dom4j/dom4j --&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;dom4j&lt;/groupId&gt;\n            &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n            &lt;version&gt;1.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4 --&gt;\n    &lt;dependency&gt;\n       &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n       &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n       &lt;version&gt;4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n  &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n  &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n  &lt;version&gt;1.2&lt;/version&gt;\n  &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n      &lt;finalName&gt;AAAA&lt;/finalName&gt;\n    &lt;/build&gt;\n  &lt;/project&gt;\n</code></pre>\n\n<p>Where am I going wrong?</p>\n"},{"tags":["java","hibernate","jpa","join","hql"],"owner":{"account_id":7264540,"reputation":23,"user_id":5539824,"display_name":"v1t0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697468606,"creation_date":1697468606,"question_id":77303070,"body_markdown":"So I have following entities in a project I&#39;m working (it&#39;s all huge so I will post a simplification):\r\n\r\n    public class A {\r\n        .\r\n        .\r\n        .\r\n        private String dateKey;\r\n        .\r\n        .\r\n        .\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;b_key&quot;, referencedColumn = &quot;b_key&quot;)\r\n        private B b;\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;c_key&quot;, referencedColumn = &quot;c_key&quot;)\r\n        private C c;\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;d_key&quot;, referencedColumn = &quot;d_key&quot;)\r\n        private D d;\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;e_key&quot;, referencedColumn = &quot;e_key&quot;)\r\n        private E e;\r\n    }\r\n\r\n    public class B {\r\n        .\r\n        .\r\n        .\r\n        @OneToMany\r\n        @JoinColumn(name = &quot;b_key&quot;, referencedColumn = &quot;b_key&quot;)\r\n        private List&lt;B_details&gt; b;\r\n\r\n    }\r\n\r\n    public class B_details {\r\n        private Long b_key;\r\n\r\n        private String dateKey;\r\n\r\n        private boolean valid;\r\n\r\n    }\r\n\r\n    public class C {\r\n        //irrelevant fields\r\n\r\n    }\r\n\r\n    public class D {\r\n        //irrelevant fields\r\n\r\n    }\r\n\r\n    public class E {\r\n        //irrelevant fields\r\n    }\r\n\r\nThe relations between *B* and *B_details* is defined as *@OneToMany* because the details change and differ by date. Then there&#39;s this monstrosity of a HQL query:\r\n\r\n    select a from A a \r\n    inner join fetch a.b b \r\n    join fetch b.b_details\r\n    join fetch a.c\r\n    join fetch a.d\r\n    join fetch a.e\r\n    where a.dateKey = :date\r\n    and //... more conditions related to c d e fields\r\n\r\nI want to focus on the relation between **B** and **B_details**. I would expect to get a list of **B_details** for each **B** and said collection should contain a number of distinct objects. But what I get instead is **B** with a collection of **B_details** where each **B_details** is exactly the same instance of the same object. The number of elements in the collection is correct but they are all the same, like only the first one was taken and the copied multiple times.\r\n\r\nI&#39;ve read multiple posts and articles and I still can&#39;t get where I want to be with the result. Ideally, I wanted to get only one **B_details** for a **B** by adding something like `join fetch b.b_details bd ON bd.dateKey = :date` but I understand it&#39;s not allowed as I get errors in type of `with-clause not allowed on fetched associations. This is also a big problem as I wanted to join with a smaller, filtered collection, it&#39;s a read-only app.\r\n\r\nI haven&#39;t worked with HQL or SQL joins too much in the past and I can&#39;t wrap my head around the problem I&#39;m facing. In my understanding it should work and I con&#39;t understand why of all things, I get these duplicates instead of a collection with unique, true to the fact objects.\r\n\r\nPlease feel free to ask for more details as these are really huge entities and it would take me ages to provide a full representation and I can&#39;t just copy the code 1:1.","title":"Multiple joins in HQL Query, duplicate instances of only one object in resulting collection","body":"<p>So I have following entities in a project I'm working (it's all huge so I will post a simplification):</p>\n<pre><code>public class A {\n    .\n    .\n    .\n    private String dateKey;\n    .\n    .\n    .\n    @ManyToOne\n    @JoinColumn(name = &quot;b_key&quot;, referencedColumn = &quot;b_key&quot;)\n    private B b;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;c_key&quot;, referencedColumn = &quot;c_key&quot;)\n    private C c;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;d_key&quot;, referencedColumn = &quot;d_key&quot;)\n    private D d;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;e_key&quot;, referencedColumn = &quot;e_key&quot;)\n    private E e;\n}\n\npublic class B {\n    .\n    .\n    .\n    @OneToMany\n    @JoinColumn(name = &quot;b_key&quot;, referencedColumn = &quot;b_key&quot;)\n    private List&lt;B_details&gt; b;\n\n}\n\npublic class B_details {\n    private Long b_key;\n\n    private String dateKey;\n\n    private boolean valid;\n\n}\n\npublic class C {\n    //irrelevant fields\n\n}\n\npublic class D {\n    //irrelevant fields\n\n}\n\npublic class E {\n    //irrelevant fields\n}\n</code></pre>\n<p>The relations between <em>B</em> and <em>B_details</em> is defined as <em>@OneToMany</em> because the details change and differ by date. Then there's this monstrosity of a HQL query:</p>\n<pre><code>select a from A a \ninner join fetch a.b b \njoin fetch b.b_details\njoin fetch a.c\njoin fetch a.d\njoin fetch a.e\nwhere a.dateKey = :date\nand //... more conditions related to c d e fields\n</code></pre>\n<p>I want to focus on the relation between <strong>B</strong> and <strong>B_details</strong>. I would expect to get a list of <strong>B_details</strong> for each <strong>B</strong> and said collection should contain a number of distinct objects. But what I get instead is <strong>B</strong> with a collection of <strong>B_details</strong> where each <strong>B_details</strong> is exactly the same instance of the same object. The number of elements in the collection is correct but they are all the same, like only the first one was taken and the copied multiple times.</p>\n<p>I've read multiple posts and articles and I still can't get where I want to be with the result. Ideally, I wanted to get only one <strong>B_details</strong> for a <strong>B</strong> by adding something like <code>join fetch b.b_details bd ON bd.dateKey = :date</code> but I understand it's not allowed as I get errors in type of `with-clause not allowed on fetched associations. This is also a big problem as I wanted to join with a smaller, filtered collection, it's a read-only app.</p>\n<p>I haven't worked with HQL or SQL joins too much in the past and I can't wrap my head around the problem I'm facing. In my understanding it should work and I con't understand why of all things, I get these duplicates instead of a collection with unique, true to the fact objects.</p>\n<p>Please feel free to ask for more details as these are really huge entities and it would take me ages to provide a full representation and I can't just copy the code 1:1.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1259687198,"post_id":1827212,"comment_id":1718885,"body_markdown":"Could you post a link to the description of the initial problem that you described?","body":"Could you post a link to the description of the initial problem that you described?"}],"answers":[{"tags":[],"owner":{"account_id":59692,"reputation":35753,"user_id":178526,"accept_rate":85,"display_name":"sfussenegger"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1259687463,"creation_date":1259686896,"answer_id":1827541,"question_id":1827212,"body_markdown":"This method is still available in [`ConfigurableApplicationContext`][1] and implemented by [`AbstractApplicationContext`][2].\r\n\r\nSo you might be able to do this\r\n\r\n    ApplicationContext ctx = ...;\r\n    if (ctx instanceof ConfigurableApplicationContext) {\r\n        ((ConfigurableApplicationContext)ctx).registerShutdownHook();\r\n    }\r\n\r\nAlternatively, you could simply call `((ConfigurableApplicationContext)ctx).close()` yourself while closing down the application or using your own shutdown hook:\r\n\r\n    Runtime.getRuntime().addShutdownHook(new Thread() {\r\n        public void run(){\r\n           if (ctx instanceof ConfigurableApplicationContext) {\r\n               ((ConfigurableApplicationContext)ctx).close();\r\n           }\r\n        }\r\n     });\r\n\r\n  [1]: http://static.springsource.org/spring/docs/2.5.6/api/org/springframework/context/ConfigurableApplicationContext.html#registerShutdownHook()\r\n  [2]: http://static.springsource.org/spring/docs/2.5.6/api/org/springframework/context/support/AbstractApplicationContext.html#registerShutdownHook()","title":"Registering a shutdown hook in Spring 2.5","body":"<p>This method is still available in <a href=\"http://static.springsource.org/spring/docs/2.5.6/api/org/springframework/context/ConfigurableApplicationContext.html#registerShutdownHook()\" rel=\"noreferrer\"><code>ConfigurableApplicationContext</code></a> and implemented by <a href=\"http://static.springsource.org/spring/docs/2.5.6/api/org/springframework/context/support/AbstractApplicationContext.html#registerShutdownHook()\" rel=\"noreferrer\"><code>AbstractApplicationContext</code></a>.</p>\n\n<p>So you might be able to do this</p>\n\n<pre><code>ApplicationContext ctx = ...;\nif (ctx instanceof ConfigurableApplicationContext) {\n    ((ConfigurableApplicationContext)ctx).registerShutdownHook();\n}\n</code></pre>\n\n<p>Alternatively, you could simply call <code>((ConfigurableApplicationContext)ctx).close()</code> yourself while closing down the application or using your own shutdown hook:</p>\n\n<pre><code>Runtime.getRuntime().addShutdownHook(new Thread() {\n    public void run(){\n       if (ctx instanceof ConfigurableApplicationContext) {\n           ((ConfigurableApplicationContext)ctx).close();\n       }\n    }\n });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2689639,"reputation":1575,"user_id":2323234,"accept_rate":20,"display_name":"MRK187"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697468346,"creation_date":1426102626,"answer_id":28995797,"question_id":1827212,"body_markdown":"So many upvotes, but the second statement is totally wrong, a `System.exit` in java would terminate the spring before ever getting to your shutdownhook, the right way to go are these 4 ways\r\n\r\n1. InitializingBean and DisposableBean callback interfaces\r\n2. Other Aware interfaces for specific behavior\r\n3. custom init() and destroy() methods in bean configuration file\r\n4. @PostConstruct and @PreDestroy annotations\r\n\r\nSee [here](http://howtodoinjava.com/2013/05/07/spring-bean-life-cycle/)!\r\n","title":"Registering a shutdown hook in Spring 2.5","body":"<p>So many upvotes, but the second statement is totally wrong, a <code>System.exit</code> in java would terminate the spring before ever getting to your shutdownhook, the right way to go are these 4 ways</p>\n<ol>\n<li>InitializingBean and DisposableBean callback interfaces</li>\n<li>Other Aware interfaces for specific behavior</li>\n<li>custom init() and destroy() methods in bean configuration file</li>\n<li>@PostConstruct and @PreDestroy annotations</li>\n</ol>\n<p>See <a href=\"http://howtodoinjava.com/2013/05/07/spring-bean-life-cycle/\" rel=\"nofollow noreferrer\">here</a>!</p>\n"}],"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17711,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":1827541,"answer_count":2,"score":9,"last_activity_date":1697468346,"creation_date":1259684125,"question_id":1827212,"body_markdown":"I have a spring application which is not calling bean destroy methods on shutdown. I&#39;ve seen references to this being due to instantiation in a beanRefFactory, and that this can be circumvented through manually calling registerShutdownHook() on an the application context.This method seems to have disappeared from spring between versions 2.0 - 2.5. \r\n\r\nCan someone point me in the direction of how this is now done?\r\n\r\nThanks.","title":"Registering a shutdown hook in Spring 2.5","body":"<p>I have a spring application which is not calling bean destroy methods on shutdown. I've seen references to this being due to instantiation in a beanRefFactory, and that this can be circumvented through manually calling registerShutdownHook() on an the application context.This method seems to have disappeared from spring between versions 2.0 - 2.5. </p>\n\n<p>Can someone point me in the direction of how this is now done?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","user-interface","javafx"],"comments":[{"owner":{"account_id":12638355,"reputation":9423,"user_id":9186783,"display_name":"cameron1024"},"score":0,"creation_date":1564410302,"post_id":57255774,"comment_id":101011361,"body_markdown":"You probably mean &quot;dynamic&quot;","body":"You probably mean &quot;dynamic&quot;"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":3,"creation_date":1564410304,"post_id":57255774,"comment_id":101011362,"body_markdown":"Using `ListView&lt;Button&gt;` and `ListView&lt;TextField&gt;` are bad ideas. You should have something like `ListView&lt;POJO&gt;` or `ListView&lt;String&gt;`. Then use the `CellFactory` to create the Button and TextField.","body":"Using <code>ListView&lt;Button&gt;</code> and <code>ListView&lt;TextField&gt;</code> are bad ideas. You should have something like <code>ListView&lt;POJO&gt;</code> or <code>ListView&lt;String&gt;</code>. Then use the <code>CellFactory</code> to create the Button and TextField."}],"answers":[{"comments":[{"owner":{"account_id":15755958,"reputation":43,"user_id":11369132,"display_name":"Martin Strotbek"},"score":0,"creation_date":1564426793,"post_id":57256420,"comment_id":101019040,"body_markdown":"This is of great help, Thanks! But I can&#39;t seem to use this CellFactory (it says CellData cannot be resolved to a type even though all imports are OK) - without this I cannot tell apart which button corresponds to each TextField, or which textField is which, etc? I managed to make the UI as I wanted (pretty similar to yours) but I didn&#39;t use CellFactory or a POJO list. Don&#39;t know how I can make it so I can differentiate them from each other (or how to get the fields&#39; textes)","body":"This is of great help, Thanks! But I can&#39;t seem to use this CellFactory (it says CellData cannot be resolved to a type even though all imports are OK) - without this I cannot tell apart which button corresponds to each TextField, or which textField is which, etc? I managed to make the UI as I wanted (pretty similar to yours) but I didn&#39;t use CellFactory or a POJO list. Don&#39;t know how I can make it so I can differentiate them from each other (or how to get the fields&#39; textes)"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1564426860,"post_id":57256420,"comment_id":101019065,"body_markdown":"This is proof of concept. You should be able to tailor these ideas to fit your situation.","body":"This is proof of concept. You should be able to tailor these ideas to fit your situation."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1564426913,"post_id":57256420,"comment_id":101019090,"body_markdown":"`CellData` is a POJO that I create for this example. You need to create an object that works with your `ListView`&#39;s data/situation.","body":"<code>CellData</code> is a POJO that I create for this example. You need to create an object that works with your <code>ListView</code>&#39;s data/situation."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1564427039,"post_id":57256420,"comment_id":101019145,"body_markdown":"Basically When you look at `ListView&lt;CellData&gt; listView = new ListView()`, your situation should be similar. `ListView&lt;YourPOJO&gt; listView = new ListView()`. Then replace every instance of `CellData` with `YourPOJO`.","body":"Basically When you look at <code>ListView&lt;CellData&gt; listView = new ListView()</code>, your situation should be similar. <code>ListView&lt;YourPOJO&gt; listView = new ListView()</code>. Then replace every instance of <code>CellData</code> with <code>YourPOJO</code>."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1564476580,"post_id":57256420,"comment_id":101033979,"body_markdown":"unrelated: don&#39;t create nodes in updateItem, ever ;)","body":"unrelated: don&#39;t create nodes in updateItem, ever ;)"},{"owner":{"account_id":15755958,"reputation":43,"user_id":11369132,"display_name":"Martin Strotbek"},"score":1,"creation_date":1564494351,"post_id":57256420,"comment_id":101044303,"body_markdown":"Thanks, I managed to do it with your help, I&#39;m pretty new to java, I didn&#39;t even know what a POJO was, I thought it and CellData were some kind of imported class...","body":"Thanks, I managed to do it with your help, I&#39;m pretty new to java, I didn&#39;t even know what a POJO was, I thought it and CellData were some kind of imported class..."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1564500518,"post_id":57256420,"comment_id":101048263,"body_markdown":"@MartinStrotbek Sorry I assumed you knew what a POJO was.","body":"@MartinStrotbek Sorry I assumed you knew what a POJO was."},{"owner":{"account_id":15755958,"reputation":43,"user_id":11369132,"display_name":"Martin Strotbek"},"score":0,"creation_date":1564511297,"post_id":57256420,"comment_id":101052547,"body_markdown":"@Sedrick no need to apologize, i&#39;m thanking you for having me learn these concepts","body":"@Sedrick no need to apologize, i&#39;m thanking you for having me learn these concepts"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1697467965,"post_id":57256420,"comment_id":136280401,"body_markdown":"@Basil Bourque, Nice catch and fix!","body":"@Basil Bourque, Nice catch and fix!"}],"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"comment_count":9,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697467830,"creation_date":1564412253,"answer_id":57256420,"question_id":57255774,"body_markdown":"Here is a demo that adds a `Button` and `TextField` to `ListView`. The [POJO][1] I created named `CellData` just keeps track of the `TextField`’s prompt text and the `Button`’s text. The key to this is using a `CellFactory`.\r\n\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.ListCell;\r\n    import javafx.scene.control.ListView;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.scene.layout.Priority;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    /**\r\n     *\r\n     * @author blj0011\r\n     */\r\n    public class JavaFXTestingGround extends Application{\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            ListView&lt;CellData&gt; listView = new ListView();\r\n            listView.setCellFactory((ListView&lt;CellData&gt; param) -&gt; {\r\n                ListCell&lt;CellData&gt; cell = new ListCell&lt;CellData&gt;() {\r\n                    TextField textField = new TextField();\r\n                    Button button = new Button();\r\n                    HBox hBox = new HBox(textField, button);\r\n                    {\r\n                        HBox.setHgrow(textField, Priority.ALWAYS);\r\n                    }\r\n    \r\n                    @Override\r\n                    protected void updateItem(CellData item, boolean empty) {\r\n                        super.updateItem(item, empty);\r\n                        if (item != null) {\r\n                            textField.setPromptText(item.getTextFieldPromptText());\r\n                            button.setText(item.getButtonText());\r\n                            button.setOnAction((actionEvent) -&gt; {\r\n                                System.out.println(&quot;You clicked &quot; + button.getText() + &quot;. TextField Prompt text is &quot; + textField.getPromptText() + &quot;.&quot;);\r\n                            });\r\n    \r\n                            setGraphic(hBox);\r\n                        } else {\r\n                            setGraphic(null);\r\n                        }\r\n                    }\r\n                };\r\n                return cell;\r\n            });        \r\n    \r\n            AtomicInteger i = new AtomicInteger(1);        \r\n            Button button = new Button(&quot;Add Item&quot;);\r\n            button.setOnAction((event) -&gt; {\r\n                listView.getItems().add(new CellData(&quot;Prompt Text: &quot; + i.get(), &quot;Button: &quot; + i.getAndIncrement()));\r\n            });\r\n    \r\n            VBox root = new VBox(button, listView);\r\n            stage.setScene(new Scene(root));\r\n            stage.show();\r\n        }    \r\n    }\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Plain_old_Java_object\r\n  [2]: https://i.stack.imgur.com/zUvXT.png","title":"JavaFX : How to dynamically add textfields and buttons on user input","body":"<p>Here is a demo that adds a <code>Button</code> and <code>TextField</code> to <code>ListView</code>. The <a href=\"https://en.m.wikipedia.org/wiki/Plain_old_Java_object\" rel=\"nofollow noreferrer\">POJO</a> I created named <code>CellData</code> just keeps track of the <code>TextField</code>’s prompt text and the <code>Button</code>’s text. The key to this is using a <code>CellFactory</code>.</p>\n<pre><code>import java.util.concurrent.atomic.AtomicInteger;\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ListCell;\nimport javafx.scene.control.ListView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Priority;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\n/**\n *\n * @author blj0011\n */\npublic class JavaFXTestingGround extends Application{\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        ListView&lt;CellData&gt; listView = new ListView();\n        listView.setCellFactory((ListView&lt;CellData&gt; param) -&gt; {\n            ListCell&lt;CellData&gt; cell = new ListCell&lt;CellData&gt;() {\n                TextField textField = new TextField();\n                Button button = new Button();\n                HBox hBox = new HBox(textField, button);\n                {\n                    HBox.setHgrow(textField, Priority.ALWAYS);\n                }\n\n                @Override\n                protected void updateItem(CellData item, boolean empty) {\n                    super.updateItem(item, empty);\n                    if (item != null) {\n                        textField.setPromptText(item.getTextFieldPromptText());\n                        button.setText(item.getButtonText());\n                        button.setOnAction((actionEvent) -&gt; {\n                            System.out.println(&quot;You clicked &quot; + button.getText() + &quot;. TextField Prompt text is &quot; + textField.getPromptText() + &quot;.&quot;);\n                        });\n\n                        setGraphic(hBox);\n                    } else {\n                        setGraphic(null);\n                    }\n                }\n            };\n            return cell;\n        });        \n\n        AtomicInteger i = new AtomicInteger(1);        \n        Button button = new Button(&quot;Add Item&quot;);\n        button.setOnAction((event) -&gt; {\n            listView.getItems().add(new CellData(&quot;Prompt Text: &quot; + i.get(), &quot;Button: &quot; + i.getAndIncrement()));\n        });\n\n        VBox root = new VBox(button, listView);\n        stage.setScene(new Scene(root));\n        stage.show();\n    }    \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/zUvXT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zUvXT.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":15755958,"reputation":43,"user_id":11369132,"display_name":"Martin Strotbek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1331,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57256420,"answer_count":1,"score":2,"last_activity_date":1697467830,"creation_date":1564409921,"question_id":57255774,"body_markdown":"I&#39;m a bit new to Java and I&#39;m trying to make an User Interface in JavaFX that dynamically adds a TextField and an &quot;edit&quot; Button next to it whenever the user presses a &quot;+&quot; button.\r\nI understand that it is a good idea to try and store these buttons and text fields in a list, but I&#39;m not sure how to have them put on the interface\r\n\r\n```java\r\nListView&lt;Button&gt; dinamicButtons = new ListView&lt;Button&gt;();\r\nListView&lt;TextField&gt; dinamicTextFields = new ListView&lt;TextField&gt;();\r\nint quantityOfDinamicFieldsAdded =0;\r\n Button add= new Button (&quot;+&quot;);\r\n        add.setOnAction(e -&gt; {\r\n        \tdinamicButtons .add(quantityOfDinamicFieldsAdded , new Button(&quot;Edit&quot;));\r\n        \tdinamicTextFields .add(quantityOfDinamicFieldsAdded , new TextField(&quot;nome do Componente&quot;));\r\n        \tquantityOfDinamicFieldsAdded ++;\r\n        \t//remove dynamically added buttons and text fields\r\n        \tfor (int i=0 ; i&lt;quantityOfDinamicFieldsAdded ; i++){\r\n        \t\t//add them all back\r\n        \t}\r\n        });\r\n```","title":"JavaFX : How to dynamically add textfields and buttons on user input","body":"<p>I'm a bit new to Java and I'm trying to make an User Interface in JavaFX that dynamically adds a TextField and an &quot;edit&quot; Button next to it whenever the user presses a &quot;+&quot; button.\nI understand that it is a good idea to try and store these buttons and text fields in a list, but I'm not sure how to have them put on the interface</p>\n<pre class=\"lang-java prettyprint-override\"><code>ListView&lt;Button&gt; dinamicButtons = new ListView&lt;Button&gt;();\nListView&lt;TextField&gt; dinamicTextFields = new ListView&lt;TextField&gt;();\nint quantityOfDinamicFieldsAdded =0;\n Button add= new Button (&quot;+&quot;);\n        add.setOnAction(e -&gt; {\n            dinamicButtons .add(quantityOfDinamicFieldsAdded , new Button(&quot;Edit&quot;));\n            dinamicTextFields .add(quantityOfDinamicFieldsAdded , new TextField(&quot;nome do Componente&quot;));\n            quantityOfDinamicFieldsAdded ++;\n            //remove dynamically added buttons and text fields\n            for (int i=0 ; i&lt;quantityOfDinamicFieldsAdded ; i++){\n                //add them all back\n            }\n        });\n</code></pre>\n"},{"tags":["java","multithreading","software-design"],"comments":[{"owner":{"account_id":5399448,"reputation":1859,"user_id":4847311,"display_name":"Sven Nilsson"},"score":0,"creation_date":1697466142,"post_id":77302588,"comment_id":136280015,"body_markdown":"Nice images and explanation, but I think your question is a bit too broad","body":"Nice images and explanation, but I think your question is a bit too broad"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1697466486,"post_id":77302588,"comment_id":136280109,"body_markdown":"You should avoid distracting yourself with irrelevant details. The file and its 4000 lines are irrelevant. Your question is about dealing with 4000&#215;4 HTTP requests. There is no point in breaking the file into chunks or use threading policies aligned at the CPU cores when your actual task is about I/O. And it’s entirely unclear what stack error you got with more threads.","body":"You should avoid distracting yourself with irrelevant details. The file and its 4000 lines are irrelevant. Your question is about dealing with 4000&#215;4 HTTP requests. There is no point in breaking the file into chunks or use threading policies aligned at the CPU cores when your actual task is about I/O. And it’s entirely unclear what stack error you got with more threads."},{"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"score":0,"creation_date":1697488668,"post_id":77302588,"comment_id":136283780,"body_markdown":"I think It is..  because every line has unavoidable 4 http requests and I cannot execute the lines sequentially. I don&#39;t exactly remember the stack error, but when I googled it I realized it is because of the thread count more than what system can handle.","body":"I think It is..  because every line has unavoidable 4 http requests and I cannot execute the lines sequentially. I don&#39;t exactly remember the stack error, but when I googled it I realized it is because of the thread count more than what system can handle."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697634030,"post_id":77302588,"comment_id":136304318,"body_markdown":"You did it again. So I have to tell you again, your issue is “*dealing with 4000&#215;4 HTTP requests*”. It doesn’t matter whether your program sends these HTTP requests while processing lines of a text file or because little gnomes from Alpha Centauri told it to do so. You keep focusing on the irrelevant thing and are over-complicating the design. On the other hand, you did not post anything about the relevant operation. How do you send these HTTP requests, just using `URL`, using the builtin `HttpClient`, or a 3rd party library? Some frameworks do already deal with concurrency and load balancing.","body":"You did it again. So I have to tell you again, your issue is “<i>dealing with 4000&#215;4 HTTP requests</i>”. It doesn’t matter whether your program sends these HTTP requests while processing lines of a text file or because little gnomes from Alpha Centauri told it to do so. You keep focusing on the irrelevant thing and are over-complicating the design. On the other hand, you did not post anything about the relevant operation. How do you send these HTTP requests, just using <code>URL</code>, using the builtin <code>HttpClient</code>, or a 3rd party library? Some frameworks do already deal with concurrency and load balancing."},{"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"score":0,"creation_date":1697637756,"post_id":77302588,"comment_id":136305189,"body_markdown":"I use Spring RestTemplate backed by apache HttpClient. I am still not clear on the concurrency that we can apply on HTTPClient. All 4 Http calls are not independent.","body":"I use Spring RestTemplate backed by apache HttpClient. I am still not clear on the concurrency that we can apply on HTTPClient. All 4 Http calls are not independent."}],"answers":[{"comments":[{"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"score":0,"creation_date":1697467471,"post_id":77302768,"comment_id":136280310,"body_markdown":"Yes, that make sense. But one concern I have is, this application might have to deal with 1-5 concurrent requests. It&#39;s still a worst case scenario, but I want the system to be capable of handling that. That&#39;s one of the reason I thought of coming up with some shared thread pools. Do you think dedicating all 4000 threads to a single request might overflow the thread stack?","body":"Yes, that make sense. But one concern I have is, this application might have to deal with 1-5 concurrent requests. It&#39;s still a worst case scenario, but I want the system to be capable of handling that. That&#39;s one of the reason I thought of coming up with some shared thread pools. Do you think dedicating all 4000 threads to a single request might overflow the thread stack?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1697471270,"post_id":77302768,"comment_id":136281001,"body_markdown":"That&#39;s not the way that thread stacks work!   But yes, 4000 threads would clearly be a problem.  So just use a bounded thread pool executor service ... with a *reasonable* number of threads.  (The value of &quot;reasonable&quot; can be determined by testing and tuning.)","body":"That&#39;s not the way that thread stacks work!   But yes, 4000 threads would clearly be a problem.  So just use a bounded thread pool executor service ... with a <i>reasonable</i> number of threads.  (The value of &quot;reasonable&quot; can be determined by testing and tuning.)"},{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1697473416,"post_id":77302768,"comment_id":136281406,"body_markdown":"Yes, if you process several files concurrently, you should share the thread pool rather than creating a new one for each request (the size limit on the thread pool protects the other systems from being overloaded, and the capacity of these systems is independent of how many requests your system gets).","body":"Yes, if you process several files concurrently, you should share the thread pool rather than creating a new one for each request (the size limit on the thread pool protects the other systems from being overloaded, and the capacity of these systems is independent of how many requests your system gets)."},{"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"score":0,"creation_date":1697488972,"post_id":77302768,"comment_id":136283825,"body_markdown":"@StephenC can you please put some light on what you meant by &quot;That&#39;s not the way that thread stacks work!&quot;. Feel like that&#39;s what I am missing.","body":"@StephenC can you please put some light on what you meant by &quot;That&#39;s not the way that thread stacks work!&quot;. Feel like that&#39;s what I am missing."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1697496172,"post_id":77302768,"comment_id":136284736,"body_markdown":"Well for a start ... how would you dedicate 4000 client-side threads to a single HTTP request?  How would it even work?   But the real point is that each thread has its own stack.  What one thread does cannot overflow any other thread&#39;s stack (in any practical use-case).  Stack overflow is caused by recursing too deeply *within a single thread*.  Now having 4000 threads is a problem because that means there are 4000 stacks of the default stack size ... and that uses a lot of memory.  But having too many threads (hence stacks) leads to an OOME not an SOE.","body":"Well for a start ... how would you dedicate 4000 client-side threads to a single HTTP request?  How would it even work?   But the real point is that each thread has its own stack.  What one thread does cannot overflow any other thread&#39;s stack (in any practical use-case).  Stack overflow is caused by recursing too deeply <i>within a single thread</i>.  Now having 4000 threads is a problem because that means there are 4000 stacks of the default stack size ... and that uses a lot of memory.  But having too many threads (hence stacks) leads to an OOME not an SOE."},{"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"score":0,"creation_date":1697531202,"post_id":77302768,"comment_id":136288147,"body_markdown":"@StephenC Yes. I saw OOME intermittently and never saw an SOE. Unable to reproduce it now, but something like &quot;Stack size of 2056 Kb exceeds current limit of 2048 Kb.&quot; when I had too many un controlled threads. So do you think a shared thread pool (like what I have) with a detailed tuning exercise to set the pool size will work?","body":"@StephenC Yes. I saw OOME intermittently and never saw an SOE. Unable to reproduce it now, but something like &quot;Stack size of 2056 Kb exceeds current limit of 2048 Kb.&quot; when I had too many un controlled threads. So do you think a shared thread pool (like what I have) with a detailed tuning exercise to set the pool size will work?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1697532452,"post_id":77302768,"comment_id":136288386,"body_markdown":"See my first comment for my answer to that.","body":"See my first comment for my answer to that."}],"tags":[],"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"comment_count":7,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1697466582,"creation_date":1697466083,"answer_id":77302768,"question_id":77302588,"body_markdown":"If you need four different diagrams to convey a solutation for iterating a file and doing two http requests per line, your solution might be excessively complicated ...\r\n\r\nRather than trying to prune the excess complexity, let&#39;s take this from other direction: Start with the simplest possible implementation, and make it more complicated until it meets the performance target.\r\n\r\nThe simplest solution is this:\r\n\r\n    for (var line : lines) {\r\n        var data = parse(line);\r\n        var firstResponse = firstCall(data);\r\n        var secondResponse = secondCall(data);\r\n        var c = compare(firstResponse, secondResponse);\r\n        var result = ...;\r\n    }\r\n\r\nThis solution has an execution time of 4000 * (0.5 + 0.5) = 4000 seconds. The big multiplier is the 4000, so let&#39;s tackle that:\r\n\r\n    var executor = ...;\r\n    var futures = new ArrayList&lt;Future&lt;Result&gt;&gt;();\r\n    for (var line : lines) {\r\n        var data = parse(line);\r\n        futures.add(executor.submit(() -&gt; {\r\n            var firstResponse = firstCall(data);\r\n            var secondResponse = secondCall(data);\r\n            var c = compare(firstResponse, secondResponse);\r\n            return ...;\r\n        }));\r\n    }\r\n\r\n    for (var future : futures) {\r\n        var result = future.get();\r\n        // do something with result\r\n    }\r\n    \r\nThis code had execution time (0.5 + 0.5) seconds, if you have enough threads to send 4000 requests in parallel. In practice, the limiting factor will be the other system.\r\n\r\nAnd so, we are done. There is no need to parse the data in separate threads, because parsing is fast. There is no need to send the two requests in separate threads, because it only buys us half a second.\r\n\r\nIn sizing the executor, we&#39;ll want to ensure that we don&#39;t overwhelm the other system. It might be advisable to ask whoever is operating these services how many requests per second you&#39;re allowed to send, and then pick a thread number in a safe range. \r\n\r\n(If the file were too large to fit into memory, you would need to ensure that only a limited number of lines is being processed at a time, streaming both the file and response. But since 4000 lines easily fit into memory, that&#39;s not necessary here)","title":"Process a file with 4000 lines using Java threads","body":"<p>If you need four different diagrams to convey a solutation for iterating a file and doing two http requests per line, your solution might be excessively complicated ...</p>\n<p>Rather than trying to prune the excess complexity, let's take this from other direction: Start with the simplest possible implementation, and make it more complicated until it meets the performance target.</p>\n<p>The simplest solution is this:</p>\n<pre><code>for (var line : lines) {\n    var data = parse(line);\n    var firstResponse = firstCall(data);\n    var secondResponse = secondCall(data);\n    var c = compare(firstResponse, secondResponse);\n    var result = ...;\n}\n</code></pre>\n<p>This solution has an execution time of 4000 * (0.5 + 0.5) = 4000 seconds. The big multiplier is the 4000, so let's tackle that:</p>\n<pre><code>var executor = ...;\nvar futures = new ArrayList&lt;Future&lt;Result&gt;&gt;();\nfor (var line : lines) {\n    var data = parse(line);\n    futures.add(executor.submit(() -&gt; {\n        var firstResponse = firstCall(data);\n        var secondResponse = secondCall(data);\n        var c = compare(firstResponse, secondResponse);\n        return ...;\n    }));\n}\n\nfor (var future : futures) {\n    var result = future.get();\n    // do something with result\n}\n</code></pre>\n<p>This code had execution time (0.5 + 0.5) seconds, if you have enough threads to send 4000 requests in parallel. In practice, the limiting factor will be the other system.</p>\n<p>And so, we are done. There is no need to parse the data in separate threads, because parsing is fast. There is no need to send the two requests in separate threads, because it only buys us half a second.</p>\n<p>In sizing the executor, we'll want to ensure that we don't overwhelm the other system. It might be advisable to ask whoever is operating these services how many requests per second you're allowed to send, and then pick a thread number in a safe range.</p>\n<p>(If the file were too large to fit into memory, you would need to ensure that only a limited number of lines is being processed at a time, streaming both the file and response. But since 4000 lines easily fit into memory, that's not necessary here)</p>\n"}],"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1697467794,"creation_date":1697464574,"question_id":77302588,"body_markdown":"I am trying to process a 4000-line file with in 2 minutes using a java program. I cannot post the code here, but I’ll try my level best to describe it. \r\n\r\nProcessing of each line involves 2 sets of HTTP requests with each set containing 2 sequential/dependent HTTP requests. Each of these requests will take approximately 300 – 500 milli seconds. I need to compare the response of both the sets. \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs depicted above, the sets are independent of each other. Hence, I decided to start each of them as two separate threads from a pool: internalExecutorService. Let’s call this process as LINE_PROCSSOR.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    ExecutorService internalExecutorService = Executors.newFixedThreadPool(90);\r\n\r\n\r\nI need to deal with multiple such lines. So, each line is processed by different threads. Second thread pool (lineExecutorService) supplies threads for that. Let’s call this process as LINE_LIST_PROCESSOR\r\n\r\n[![enter image description here][3]][3]\r\n\r\n    ExecutorService lineExecutorService = Executors.newFixedThreadPool(40);\r\n\r\nTo deal with 4000 such lines, I decided to break them into chunks of 500 each. Then each chunk is processed in separate thread. A new thread pool was created for that. I will call it as chunkExecutorService.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n    ExecutorService chunkExecutorService = Executors.newFixedThreadPool(7);\r\n\r\nThe pool sizes are selected based on,\r\n\r\nchunkExecutorService = 7.   I use a CPU with 8 cores. So decided to go with 7. 1 is for main thread. lineExecutorService = 40. Random select based on various runs. I ended up with stack error with more threads. internalExecutorService = 90. Just the double of above with some buffer threads as each line needs 2 threads.\r\n\r\nI did a POC with the above setup. It did work locally. But I am not at all convinced with the way I have designed it and I believe my threads pool size selection doesn’t make any sense. It may not work well when deployed to server. \r\n[Note: I did not opted for java parallel streams as I felt ExecutorService gives better handle of thread pool].\r\nI haven&#39;t worked with threads extensively, so I am looking for an expert advice from you to evaluate my design and suggest if there are better ways to deal with it.\r\n\r\n*************** UPDATE **************\r\n\r\nThis is a server side application that will have to deal with concurrent (1-5 requests at the same time) file processing requests. \r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qzlm1.png\r\n  [2]: https://i.stack.imgur.com/lyFmx.png\r\n  [3]: https://i.stack.imgur.com/pzixv.png\r\n  [4]: https://i.stack.imgur.com/L08sb.png","title":"Process a file with 4000 lines using Java threads","body":"<p>I am trying to process a 4000-line file with in 2 minutes using a java program. I cannot post the code here, but I’ll try my level best to describe it.</p>\n<p>Processing of each line involves 2 sets of HTTP requests with each set containing 2 sequential/dependent HTTP requests. Each of these requests will take approximately 300 – 500 milli seconds. I need to compare the response of both the sets.</p>\n<p><a href=\"https://i.stack.imgur.com/qzlm1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qzlm1.png\" alt=\"enter image description here\" /></a></p>\n<p>As depicted above, the sets are independent of each other. Hence, I decided to start each of them as two separate threads from a pool: internalExecutorService. Let’s call this process as LINE_PROCSSOR.</p>\n<p><a href=\"https://i.stack.imgur.com/lyFmx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lyFmx.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>ExecutorService internalExecutorService = Executors.newFixedThreadPool(90);\n</code></pre>\n<p>I need to deal with multiple such lines. So, each line is processed by different threads. Second thread pool (lineExecutorService) supplies threads for that. Let’s call this process as LINE_LIST_PROCESSOR</p>\n<p><a href=\"https://i.stack.imgur.com/pzixv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pzixv.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>ExecutorService lineExecutorService = Executors.newFixedThreadPool(40);\n</code></pre>\n<p>To deal with 4000 such lines, I decided to break them into chunks of 500 each. Then each chunk is processed in separate thread. A new thread pool was created for that. I will call it as chunkExecutorService.</p>\n<p><a href=\"https://i.stack.imgur.com/L08sb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L08sb.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>ExecutorService chunkExecutorService = Executors.newFixedThreadPool(7);\n</code></pre>\n<p>The pool sizes are selected based on,</p>\n<p>chunkExecutorService = 7.   I use a CPU with 8 cores. So decided to go with 7. 1 is for main thread. lineExecutorService = 40. Random select based on various runs. I ended up with stack error with more threads. internalExecutorService = 90. Just the double of above with some buffer threads as each line needs 2 threads.</p>\n<p>I did a POC with the above setup. It did work locally. But I am not at all convinced with the way I have designed it and I believe my threads pool size selection doesn’t make any sense. It may not work well when deployed to server.\n[Note: I did not opted for java parallel streams as I felt ExecutorService gives better handle of thread pool].\nI haven't worked with threads extensively, so I am looking for an expert advice from you to evaluate my design and suggest if there are better ways to deal with it.</p>\n<p>*************** UPDATE **************</p>\n<p>This is a server side application that will have to deal with concurrent (1-5 requests at the same time) file processing requests.</p>\n"},{"tags":["java","tomcat"],"answers":[{"tags":[],"owner":{"account_id":7318394,"reputation":508,"user_id":5575169,"display_name":"Dipak Prajapati"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697467610,"creation_date":1598422262,"answer_id":63591485,"question_id":63583946,"body_markdown":"With the help of `ServletContextListener`, `LifecycleListener` and reflection I am able to achieve what I was expecting.\r\n\r\nSo here we are first capturing event of `ServletContextListener` to get the `ServletContext` and then using reflection and we are accessing private fields to add listener in `ServletContext` implementation of Tomcat\r\n\r\nCustomServletListener.java\r\n\r\n    import org.apache.catalina.core.ApplicationContext;\r\n    import org.apache.catalina.core.ApplicationContextFacade;\r\n    import org.apache.catalina.core.StandardContext;\r\n    \r\n    import javax.servlet.ServletContextEvent;\r\n    import javax.servlet.ServletContextListener;\r\n    import javax.servlet.http.HttpSession;\r\n    import javax.servlet.http.HttpSessionEvent;\r\n    import javax.servlet.http.HttpSessionListener;\r\n    import java.lang.reflect.Field;\r\n    \r\n    public final class CustomServletListener implements ServletContextListener {\r\n        @Override\r\n        public void contextDestroyed(ServletContextEvent event) {\r\n        }\r\n\r\n        @Override\r\n        public void contextInitialized(ServletContextEvent event) {\r\n            addLifeCycleListener(event);\r\n        }\r\n\r\n        /**\r\n         * Tomcat Implementation of ServletContext in ApplicationContextFacade, ApplicationContext,StandardContext as to addListener is located in StandardContext \r\n         * @param event\r\n         */\r\n        private void addLifeCycleListener(ServletContextEvent event) {\r\n            ApplicationContextFacade source = (ApplicationContextFacade) event.getSource();\r\n            ApplicationContext objApplicationContext=get(source, &quot;context&quot;);\r\n            StandardContext objStandardContext = get(objApplicationContext, &quot;context&quot;);\r\n            objStandardContext.addLifecycleListener(new TomcatListener());\r\n        }\r\n\r\n        /**\r\n         * Get class field using reflection as it is no way to direct access\r\n         * @param object\r\n         * @param fieldName\r\n         * @param &lt;V&gt;\r\n         * @return\r\n         */\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        private &lt;V&gt; V get(Object object, String fieldName) {\r\n            Class&lt;?&gt; clazz = object.getClass();\r\n            Field field = null;\r\n            boolean wasAccessible = false;\r\n            while (clazz != null) {\r\n                try {\r\n                    field = clazz.getDeclaredField(fieldName);\r\n                    wasAccessible = field.isAccessible();\r\n                    if (!wasAccessible) {\r\n                        field.setAccessible(true);\r\n                    }\r\n                    return (V) field.get(object);\r\n                } catch (NoSuchFieldException e) {\r\n                    clazz = clazz.getSuperclass();\r\n                } catch (IllegalAccessException e) {\r\n                    throw new IllegalStateException(e);\r\n                } finally {\r\n                    // Revert the Accessibility flag to previous state\r\n                    if(null != field &amp;&amp; field.isAccessible() != wasAccessible){\r\n                        field.setAccessible(wasAccessible); \r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\nTomcatListener.java\r\n\r\n    \r\n    import org.apache.catalina.Lifecycle;\r\n    import org.apache.catalina.LifecycleEvent;\r\n    import org.apache.catalina.LifecycleListener;\r\n    \r\n    public class TomcatListener implements LifecycleListener {\r\n        @Override\r\n        public void lifecycleEvent(LifecycleEvent event) {\r\n            if (Lifecycle.AFTER_START_EVENT.equals(event.getType())) {\r\n                System.out.print(&quot;Tomcat successfully started&quot;);\r\n            }\r\n        }\r\n    }","title":"Add tomcat listener LifecycleListener without changing server.xml or tomcat/web.xml","body":"<p>With the help of <code>ServletContextListener</code>, <code>LifecycleListener</code> and reflection I am able to achieve what I was expecting.</p>\n<p>So here we are first capturing event of <code>ServletContextListener</code> to get the <code>ServletContext</code> and then using reflection and we are accessing private fields to add listener in <code>ServletContext</code> implementation of Tomcat</p>\n<p>CustomServletListener.java</p>\n<pre><code>import org.apache.catalina.core.ApplicationContext;\nimport org.apache.catalina.core.ApplicationContextFacade;\nimport org.apache.catalina.core.StandardContext;\n\nimport javax.servlet.ServletContextEvent;\nimport javax.servlet.ServletContextListener;\nimport javax.servlet.http.HttpSession;\nimport javax.servlet.http.HttpSessionEvent;\nimport javax.servlet.http.HttpSessionListener;\nimport java.lang.reflect.Field;\n\npublic final class CustomServletListener implements ServletContextListener {\n    @Override\n    public void contextDestroyed(ServletContextEvent event) {\n    }\n\n    @Override\n    public void contextInitialized(ServletContextEvent event) {\n        addLifeCycleListener(event);\n    }\n\n    /**\n     * Tomcat Implementation of ServletContext in ApplicationContextFacade, ApplicationContext,StandardContext as to addListener is located in StandardContext \n     * @param event\n     */\n    private void addLifeCycleListener(ServletContextEvent event) {\n        ApplicationContextFacade source = (ApplicationContextFacade) event.getSource();\n        ApplicationContext objApplicationContext=get(source, &quot;context&quot;);\n        StandardContext objStandardContext = get(objApplicationContext, &quot;context&quot;);\n        objStandardContext.addLifecycleListener(new TomcatListener());\n    }\n\n    /**\n     * Get class field using reflection as it is no way to direct access\n     * @param object\n     * @param fieldName\n     * @param &lt;V&gt;\n     * @return\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    private &lt;V&gt; V get(Object object, String fieldName) {\n        Class&lt;?&gt; clazz = object.getClass();\n        Field field = null;\n        boolean wasAccessible = false;\n        while (clazz != null) {\n            try {\n                field = clazz.getDeclaredField(fieldName);\n                wasAccessible = field.isAccessible();\n                if (!wasAccessible) {\n                    field.setAccessible(true);\n                }\n                return (V) field.get(object);\n            } catch (NoSuchFieldException e) {\n                clazz = clazz.getSuperclass();\n            } catch (IllegalAccessException e) {\n                throw new IllegalStateException(e);\n            } finally {\n                // Revert the Accessibility flag to previous state\n                if(null != field &amp;&amp; field.isAccessible() != wasAccessible){\n                    field.setAccessible(wasAccessible); \n                }\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>TomcatListener.java</p>\n<pre><code>import org.apache.catalina.Lifecycle;\nimport org.apache.catalina.LifecycleEvent;\nimport org.apache.catalina.LifecycleListener;\n\npublic class TomcatListener implements LifecycleListener {\n    @Override\n    public void lifecycleEvent(LifecycleEvent event) {\n        if (Lifecycle.AFTER_START_EVENT.equals(event.getType())) {\n            System.out.print(&quot;Tomcat successfully started&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7318394,"reputation":508,"user_id":5575169,"display_name":"Dipak Prajapati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1091,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697467610,"creation_date":1598375599,"question_id":63583946,"body_markdown":"I have below code which required below entry in server.xml and file must placed in tomcat/lib. \r\n\r\nI want to add tomcat listener and ***do not want*** to make any changes in **tomcat server configuration**. Is there any way I can achieve this?\r\n\r\nNote : I have already tried &quot;ServletContextListener&quot; but it is not accurate as LifecycleListener.\r\n\r\nServer.xml \r\n\r\n    &lt;Listener className=&quot;com.tomcat.listener.TomcatListener&quot;/&gt;\r\n\r\nJava file\r\n\r\n    package com.tomcat.listener;\r\n\r\n    import org.apache.catalina.Lifecycle;\r\n    import org.apache.catalina.LifecycleEvent;\r\n    import org.apache.catalina.LifecycleListener;\r\n    \r\n    public class TomcatListener implements LifecycleListener {\r\n        @Override\r\n        public void lifecycleEvent(LifecycleEvent event) {\r\n            if(Lifecycle.AFTER_START_EVENT.equals(event.getType())){\r\n                System.out.print(&quot;Tomcat successfully started&quot;);\r\n            }\r\n        }\r\n    }","title":"Add tomcat listener LifecycleListener without changing server.xml or tomcat/web.xml","body":"<p>I have below code which required below entry in server.xml and file must placed in tomcat/lib.</p>\n<p>I want to add tomcat listener and <em><strong>do not want</strong></em> to make any changes in <strong>tomcat server configuration</strong>. Is there any way I can achieve this?</p>\n<p>Note : I have already tried &quot;ServletContextListener&quot; but it is not accurate as LifecycleListener.</p>\n<p>Server.xml</p>\n<pre><code>&lt;Listener className=&quot;com.tomcat.listener.TomcatListener&quot;/&gt;\n</code></pre>\n<p>Java file</p>\n<pre><code>package com.tomcat.listener;\n\nimport org.apache.catalina.Lifecycle;\nimport org.apache.catalina.LifecycleEvent;\nimport org.apache.catalina.LifecycleListener;\n\npublic class TomcatListener implements LifecycleListener {\n    @Override\n    public void lifecycleEvent(LifecycleEvent event) {\n        if(Lifecycle.AFTER_START_EVENT.equals(event.getType())){\n            System.out.print(&quot;Tomcat successfully started&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit","objectmapper"],"answers":[{"comments":[{"owner":{"account_id":6318685,"reputation":41,"user_id":4907658,"display_name":"Pooria Alimardani"},"score":0,"creation_date":1697518216,"post_id":77301918,"comment_id":136286342,"body_markdown":"Hi DingHao\nthank for your answer. you resolve my problem, thank you very match.","body":"Hi DingHao thank for your answer. you resolve my problem, thank you very match."}],"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697458875,"creation_date":1697458875,"answer_id":77301918,"question_id":77301528,"body_markdown":"TestCustomIntrospector2 :\r\n\r\n    public class TestCustomIntrospector2 extends JacksonAnnotationIntrospector {\r\n    \r\n            @Override\r\n            public JsonIgnoreProperties.Value findPropertyIgnoralByName(MapperConfig&lt;?&gt; config, Annotated a){\r\n                return JsonIgnoreProperties.Value.empty();\r\n            }\r\n    }\r\n\r\n","title":"How can i ignore @JsonIgnoreProperties in ObjectMapper","body":"<p>TestCustomIntrospector2 :</p>\n<pre><code>public class TestCustomIntrospector2 extends JacksonAnnotationIntrospector {\n\n        @Override\n        public JsonIgnoreProperties.Value findPropertyIgnoralByName(MapperConfig&lt;?&gt; config, Annotated a){\n            return JsonIgnoreProperties.Value.empty();\n        }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6318685,"reputation":41,"user_id":4907658,"display_name":"Pooria Alimardani"},"score":0,"creation_date":1697515828,"post_id":77302943,"comment_id":136286163,"body_markdown":"thanks for your answer but I know your solution Noah and I wouldn&#39;t change code and business for writing test.","body":"thanks for your answer but I know your solution Noah and I wouldn&#39;t change code and business for writing test."}],"tags":[],"owner":{"account_id":28677842,"reputation":11,"user_id":21959607,"display_name":"Noah"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697467484,"creation_date":1697467484,"answer_id":77302943,"question_id":77301528,"body_markdown":"You are making your property available for deserialization (json to object) but not for serialization (object to json) by using: \r\n\r\n    allowSetters=true\r\n\r\nIf you want to be able to convert your object to json, you want to serialize that object, and then you should use allowGetters=true instead:\r\n\r\n    @JsonIgnoreProperties(value = {&quot;myProperty&quot;}, allowGetters = true)\r\n    public class Test {\r\n        private String myProperty;\r\n\r\n        // getter and setter \r\n    }\r\n\r\nAnd for improved readability:\r\n\r\n    public class Test {\r\n\r\n        @JsonIgnoreProperties(allowGetters = true)\r\n        private String myProperty;\r\n\r\n        // getter and setter \r\n    }\r\n\r\nIf you want to serialize and deserialize you should get rid of the annotation.","title":"How can i ignore @JsonIgnoreProperties in ObjectMapper","body":"<p>You are making your property available for deserialization (json to object) but not for serialization (object to json) by using:</p>\n<pre><code>allowSetters=true\n</code></pre>\n<p>If you want to be able to convert your object to json, you want to serialize that object, and then you should use allowGetters=true instead:</p>\n<pre><code>@JsonIgnoreProperties(value = {&quot;myProperty&quot;}, allowGetters = true)\npublic class Test {\n    private String myProperty;\n\n    // getter and setter \n}\n</code></pre>\n<p>And for improved readability:</p>\n<pre><code>public class Test {\n\n    @JsonIgnoreProperties(allowGetters = true)\n    private String myProperty;\n\n    // getter and setter \n}\n</code></pre>\n<p>If you want to serialize and deserialize you should get rid of the annotation.</p>\n"}],"owner":{"account_id":6318685,"reputation":41,"user_id":4907658,"display_name":"Pooria Alimardani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77301918,"answer_count":2,"score":0,"last_activity_date":1697467484,"creation_date":1697455090,"question_id":77301528,"body_markdown":"I have following class in my Java application:\r\n\r\n```\r\n@JsonIgnoreProperties(value = {&quot;myProperty&quot;}, allowSetters = true)\r\npublic class Test {\r\n\r\n    private String myProperty;\r\n\r\n// getter and setter \r\n}\r\n```\r\n\r\nI want convert this object to json with ObjectMapper, but &#39;myProperty&#39; does not convert and i want ignore that annotation(@JsonIgnoreProperties) but remember that i want still use another annotation.\r\nbefore ask question i try fix it and define kind of custom Introspector and setAnnotationIntrospector to my object mapper separately and test it but problem not resolve:\r\n\r\n```\r\npublic class TestCustomIntrospector1 extends JacksonAnnotationIntrospector {\r\n\r\n    @Override\r\n    public PropertyName findNameForSerialization(Annotated a) {\r\n        if (a.getAnnotated().equals(JsonIgnoreProperties.class)) {\r\n            return null;\r\n        }\r\n        return super.findNameForSerialization(a);\r\n    }\r\n}\r\n\r\npublic class TestMain  {\r\n\r\n    public static void main(String[] args) {\r\n        Test obj = new Test();\r\n        obj.setMyProperty(&quot;this is for test&quot;);\r\n        try {\r\n            String json = new ObjectMapper()\r\n                    .setAnnotationIntrospector(new TestCustomIntrospector1())\r\n                    .writerWithDefaultPrettyPrinter().writeValueAsString(obj);\r\n            System.out.println(json);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nanother Introspector :\r\n\r\n```\r\npublic class TestCustomIntrospector2 extends JacksonAnnotationIntrospector {\r\n\r\n    @Override\r\n    public boolean isAnnotationBundle(Annotation ann) {\r\n        if (ann.annotationType() == JsonIgnoreProperties.class) {\r\n            return false;\r\n        }\r\n        return super.isAnnotationBundle(ann);\r\n    }\r\n\r\n    @Override\r\n    public boolean hasIgnoreMarker(AnnotatedMember m) {\r\n        JsonIgnoreProperties ignoreProperties = m.getAnnotation(JsonIgnoreProperties.class);\r\n        if (ignoreProperties != null) {\r\n            return ignoreProperties.ignoreUnknown();\r\n        }\r\n        return super.hasIgnoreMarker(m);\r\n    }\r\n}\r\n\r\npublic class TestMain  {\r\n\r\n    public static void main(String[] args) {\r\n        Test obj = new Test();\r\n        obj.setMyProperty(&quot;this is for test&quot;);\r\n        try {\r\n            String json = new ObjectMapper()\r\n                    .setAnnotationIntrospector(new TestCustomIntrospector2())\r\n                    .writerWithDefaultPrettyPrinter().writeValueAsString(obj);\r\n            System.out.println(json);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI want following result:\r\n\r\n```\r\n{\r\n  &quot;myProperty&quot;: &quot;this is for test&quot;\r\n}\r\n```\r\n\r\ncan any one help me?\r\n","title":"How can i ignore @JsonIgnoreProperties in ObjectMapper","body":"<p>I have following class in my Java application:</p>\n<pre><code>@JsonIgnoreProperties(value = {&quot;myProperty&quot;}, allowSetters = true)\npublic class Test {\n\n    private String myProperty;\n\n// getter and setter \n}\n</code></pre>\n<p>I want convert this object to json with ObjectMapper, but 'myProperty' does not convert and i want ignore that annotation(@JsonIgnoreProperties) but remember that i want still use another annotation.\nbefore ask question i try fix it and define kind of custom Introspector and setAnnotationIntrospector to my object mapper separately and test it but problem not resolve:</p>\n<pre><code>public class TestCustomIntrospector1 extends JacksonAnnotationIntrospector {\n\n    @Override\n    public PropertyName findNameForSerialization(Annotated a) {\n        if (a.getAnnotated().equals(JsonIgnoreProperties.class)) {\n            return null;\n        }\n        return super.findNameForSerialization(a);\n    }\n}\n\npublic class TestMain  {\n\n    public static void main(String[] args) {\n        Test obj = new Test();\n        obj.setMyProperty(&quot;this is for test&quot;);\n        try {\n            String json = new ObjectMapper()\n                    .setAnnotationIntrospector(new TestCustomIntrospector1())\n                    .writerWithDefaultPrettyPrinter().writeValueAsString(obj);\n            System.out.println(json);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n\n</code></pre>\n<p>another Introspector :</p>\n<pre><code>public class TestCustomIntrospector2 extends JacksonAnnotationIntrospector {\n\n    @Override\n    public boolean isAnnotationBundle(Annotation ann) {\n        if (ann.annotationType() == JsonIgnoreProperties.class) {\n            return false;\n        }\n        return super.isAnnotationBundle(ann);\n    }\n\n    @Override\n    public boolean hasIgnoreMarker(AnnotatedMember m) {\n        JsonIgnoreProperties ignoreProperties = m.getAnnotation(JsonIgnoreProperties.class);\n        if (ignoreProperties != null) {\n            return ignoreProperties.ignoreUnknown();\n        }\n        return super.hasIgnoreMarker(m);\n    }\n}\n\npublic class TestMain  {\n\n    public static void main(String[] args) {\n        Test obj = new Test();\n        obj.setMyProperty(&quot;this is for test&quot;);\n        try {\n            String json = new ObjectMapper()\n                    .setAnnotationIntrospector(new TestCustomIntrospector2())\n                    .writerWithDefaultPrettyPrinter().writeValueAsString(obj);\n            System.out.println(json);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>I want following result:</p>\n<pre><code>{\n  &quot;myProperty&quot;: &quot;this is for test&quot;\n}\n</code></pre>\n<p>can any one help me?</p>\n"},{"tags":["java","apache-camel","authorization","influxdb-2"],"owner":{"account_id":1689409,"reputation":1059,"user_id":1552080,"accept_rate":64,"display_name":"WolfiG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697467260,"creation_date":1697467260,"question_id":77302912,"body_markdown":"I created a &quot;write&quot; token for influxDB 2.71 via the InfluxDB Web UI where I ticked on only the target bucket for a write operation I want to perform. In addition to that I already created a admin-token as well via the UI.\r\n\r\nThen, I send Influx points via an Apache Camel producer. This works fine if I use the admin token. However, when I use the write token, I get an error message in the Java console:\r\n\r\n    com.influxdb.exceptions.UnauthorizedException: HTTP status code: 401; Message: write:orgs is unauthorized\r\n\r\nBesides the token, which is kept in an application.yml file, the code is exactly the same...","title":"InfluxDB2 &quot;Unauthorized&quot; issue when sending data point to influxdb via apache camel","body":"<p>I created a &quot;write&quot; token for influxDB 2.71 via the InfluxDB Web UI where I ticked on only the target bucket for a write operation I want to perform. In addition to that I already created a admin-token as well via the UI.</p>\n<p>Then, I send Influx points via an Apache Camel producer. This works fine if I use the admin token. However, when I use the write token, I get an error message in the Java console:</p>\n<pre><code>com.influxdb.exceptions.UnauthorizedException: HTTP status code: 401; Message: write:orgs is unauthorized\n</code></pre>\n<p>Besides the token, which is kept in an application.yml file, the code is exactly the same...</p>\n"},{"tags":["java","intellij-idea","dll","nao-robot"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1676648851,"post_id":75486313,"comment_id":133185704,"body_markdown":"Your Java 8 is probably a 64-bit Java, in which case you need to use 64-bit DLL.","body":"Your Java 8 is probably a 64-bit Java, in which case you need to use 64-bit DLL."},{"owner":{"account_id":6141164,"reputation":38981,"user_id":4788546,"display_name":"CristiFati"},"score":0,"creation_date":1676742178,"post_id":75486313,"comment_id":133200232,"body_markdown":"https://stackoverflow.com/a/72222002/4788546","body":"<a href=\"https://stackoverflow.com/a/72222002/4788546\">stackoverflow.com/a/72222002/4788546</a>"}],"answers":[{"tags":[],"owner":{"account_id":4744969,"reputation":2149,"user_id":3836562,"display_name":"Victor Pal&#233;ologue"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697466976,"creation_date":1697466976,"answer_id":77302875,"question_id":75486313,"body_markdown":"You would need a win32 Java installation to load the win32 DLLs.","title":"&#39;qi.dll: %1 is not a valid Win32 application&#39; from com.aldebaran.qi.Application NAO robot","body":"<p>You would need a win32 Java installation to load the win32 DLLs.</p>\n"}],"owner":{"account_id":27812953,"reputation":1,"user_id":21234983,"display_name":"Lucas Hilgevoord"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697466976,"creation_date":1676648178,"question_id":75486313,"body_markdown":"I am trying to develop for the NAO robot from aldebaran. Sadly it does not work when I try to execute this piece of code in Java with the following error:\r\n\r\nI am using the following JDKs:\r\n - java-naoqi-sdk-2.5.6.5-win32-vs2013.jar\r\n - jdk1.8.0_281\r\n\r\n```\r\nimport com.aldebaran.qi.Application;\r\nimport com.aldebaran.qi.helper.proxies.ALTextToSpeech;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String robotUrl = &quot;tcp://nao.local:9559&quot;;\r\n        // Create a new application\r\n        Application application = new Application(args, robotUrl);\r\n        // Start your application\r\n        application.start();\r\n        // Create an ALTextToSpeech object and link it to your current session\r\n        ALTextToSpeech tts = new ALTextToSpeech(application.session());\r\n        // Make your robot say something\r\n        tts.say(&quot;Hello World!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nError:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: C:\\Users\\lucas\\AppData\\Local\\Temp\\qi.dll: %1 is not a valid Win32 application\r\n\tat java.lang.ClassLoader$NativeLibrary.load(Native Method)\r\n\tat java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1934)\r\n\tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1817)\r\n\tat java.lang.Runtime.load0(Runtime.java:810)\r\n\tat java.lang.System.load(System.java:1086)\r\n\tat com.aldebaran.qi.SharedLibrary.extractAndLoad(SharedLibrary.java:133)\r\n\tat com.aldebaran.qi.SharedLibrary.loadLibHelper(SharedLibrary.java:72)\r\n\tat com.aldebaran.qi.SharedLibrary.loadLib(SharedLibrary.java:34)\r\n\tat com.aldebaran.qi.EmbeddedTools.loadEmbeddedLibraries(EmbeddedTools.java:138)\r\n\tat com.aldebaran.qi.Application.&lt;clinit&gt;(Application.java:16)\r\n\tat Main.main(Main.java:9)\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\nDoes anyone know how to fix this?\r\n\r\n\r\nIt should be compiling and it should connect to the robot.","title":"&#39;qi.dll: %1 is not a valid Win32 application&#39; from com.aldebaran.qi.Application NAO robot","body":"<p>I am trying to develop for the NAO robot from aldebaran. Sadly it does not work when I try to execute this piece of code in Java with the following error:</p>\n<p>I am using the following JDKs:</p>\n<ul>\n<li>java-naoqi-sdk-2.5.6.5-win32-vs2013.jar</li>\n<li>jdk1.8.0_281</li>\n</ul>\n<pre><code>import com.aldebaran.qi.Application;\nimport com.aldebaran.qi.helper.proxies.ALTextToSpeech;\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n        String robotUrl = &quot;tcp://nao.local:9559&quot;;\n        // Create a new application\n        Application application = new Application(args, robotUrl);\n        // Start your application\n        application.start();\n        // Create an ALTextToSpeech object and link it to your current session\n        ALTextToSpeech tts = new ALTextToSpeech(application.session());\n        // Make your robot say something\n        tts.say(&quot;Hello World!&quot;);\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: C:\\Users\\lucas\\AppData\\Local\\Temp\\qi.dll: %1 is not a valid Win32 application\n    at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n    at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1934)\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1817)\n    at java.lang.Runtime.load0(Runtime.java:810)\n    at java.lang.System.load(System.java:1086)\n    at com.aldebaran.qi.SharedLibrary.extractAndLoad(SharedLibrary.java:133)\n    at com.aldebaran.qi.SharedLibrary.loadLibHelper(SharedLibrary.java:72)\n    at com.aldebaran.qi.SharedLibrary.loadLib(SharedLibrary.java:34)\n    at com.aldebaran.qi.EmbeddedTools.loadEmbeddedLibraries(EmbeddedTools.java:138)\n    at com.aldebaran.qi.Application.&lt;clinit&gt;(Application.java:16)\n    at Main.main(Main.java:9)\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>Does anyone know how to fix this?</p>\n<p>It should be compiling and it should connect to the robot.</p>\n"},{"tags":["java","swing","jdialog"],"comments":[{"owner":{"account_id":560770,"reputation":313,"user_id":882241,"display_name":"SoboLAN"},"score":0,"creation_date":1312670761,"post_id":6969164,"comment_id":8311940,"body_markdown":"Well, I never used a JDialog before today. And I did look at that javadoc a few dozen times (I needed to see what methods it contains). But I didn&#39;t see anything about closing it.","body":"Well, I never used a JDialog before today. And I did look at that javadoc a few dozen times (I needed to see what methods it contains). But I didn&#39;t see anything about closing it."},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":1,"creation_date":1312677412,"post_id":6969164,"comment_id":8312623,"body_markdown":"@SoboLAN two methods: `dispose()` &amp; `setVisible(false)`","body":"@SoboLAN two methods: <code>dispose()</code> &amp; <code>setVisible(false)</code>"}],"answers":[{"comments":[{"owner":{"account_id":560770,"reputation":313,"user_id":882241,"display_name":"SoboLAN"},"score":0,"creation_date":1312669565,"post_id":6969183,"comment_id":8311766,"body_markdown":"I did this when I created the JDialog: dialog.SetDefaultCloseOperation (JDialog.DISPOSE_ON_CLOSE);. In the ActionListener I called these 2 methods: dialog.setVisible (false); dialog.dispatchEvent (new WindowEvent (dialog, WindowEvent.WINDOW_CLOSING);. The JDialog does indeed close but the way I did it is correct ? Thank you for your (surprisingly fast) answer, btw.","body":"I did this when I created the JDialog: dialog.SetDefaultCloseOperation (JDialog.DISPOSE_ON_CLOSE);. In the ActionListener I called these 2 methods: dialog.setVisible (false); dialog.dispatchEvent (new WindowEvent (dialog, WindowEvent.WINDOW_CLOSING);. The JDialog does indeed close but the way I did it is correct ? Thank you for your (surprisingly fast) answer, btw."},{"owner":{"account_id":2510282,"reputation":12462,"user_id":2182928,"accept_rate":97,"display_name":"Rudi Kershaw"},"score":0,"creation_date":1382442243,"post_id":6969183,"comment_id":28952508,"body_markdown":"@berry120 - Surely the JDialog, it&#39;s layout and components will continue to exist in memory using this method? I imagine you could get yourself into a serious mess doing this regularly.","body":"@berry120 - Surely the JDialog, it&#39;s layout and components will continue to exist in memory using this method? I imagine you could get yourself into a serious mess doing this regularly."},{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":0,"creation_date":1382446598,"post_id":6969183,"comment_id":28955225,"body_markdown":"@RudiKershaw It would, yes - obviously whether you dispose of it comes down to whether you&#39;re reusing the same dialog later or creating them as you need them.","body":"@RudiKershaw It would, yes - obviously whether you dispose of it comes down to whether you&#39;re reusing the same dialog later or creating them as you need them."},{"owner":{"account_id":1058082,"reputation":18227,"user_id":1060349,"accept_rate":72,"display_name":"toto_tico"},"score":0,"creation_date":1454786432,"post_id":6969183,"comment_id":58204620,"body_markdown":"@berry120 +1 for the `MyDialog.this`, but I am not sure how does that notation work. I understand that `MyDialog` is an static call to the class but how does it &quot;know&quot; that `this` is the reference that contains `Button`?","body":"@berry120 +1 for the <code>MyDialog.this</code>, but I am not sure how does that notation work. I understand that <code>MyDialog</code> is an static call to the class but how does it &quot;know&quot; that <code>this</code> is the reference that contains <code>Button</code>?"}],"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"comment_count":4,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1532715042,"creation_date":1312667793,"answer_id":6969183,"question_id":6969164,"body_markdown":"In the `actionPerformed()` method of `ActionListener` you&#39;ll want something like:\r\n\r\n    dialog.setVisible(false);\r\n\r\nIf you want to get rid of the dialog permanently (free it from memory) then you would *also* call:\r\n\r\n    dialog.dispose(); \r\n\r\n...where dialog is the name of your dialog. If `dialog` is a local variable, you&#39;ll need to make it final to access it in this way (or just make sure it&#39;s &quot;effectively final&quot; from Java 8 onwards).\r\n\r\nIf you&#39;re adding the button as part of a subclass of JDialog (i.e. if you&#39;ve got `class MyDialog extends JDialog` and you&#39;re adding the action listener in `MyDialog`) you&#39;ll want:\r\n\r\n    MyDialog.this.setVisible(false);\r\n","title":"Button for closing a JDialog","body":"<p>In the <code>actionPerformed()</code> method of <code>ActionListener</code> you'll want something like:</p>\n\n<pre><code>dialog.setVisible(false);\n</code></pre>\n\n<p>If you want to get rid of the dialog permanently (free it from memory) then you would <em>also</em> call:</p>\n\n<pre><code>dialog.dispose(); \n</code></pre>\n\n<p>...where dialog is the name of your dialog. If <code>dialog</code> is a local variable, you'll need to make it final to access it in this way (or just make sure it's \"effectively final\" from Java 8 onwards).</p>\n\n<p>If you're adding the button as part of a subclass of JDialog (i.e. if you've got <code>class MyDialog extends JDialog</code> and you're adding the action listener in <code>MyDialog</code>) you'll want:</p>\n\n<pre><code>MyDialog.this.setVisible(false);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1312684876,"post_id":6969206,"comment_id":8313292,"body_markdown":"+1, dispatching the event to the window allows any WindowListener code to be executed. For what its worth you can also check out the `ExitAction` class found in [Closing an Application](http://tips4java.wordpress.com/2009/05/01/closing-an-application/). The action is a little more general in that it can be used with any frame or dialog.","body":"+1, dispatching the event to the window allows any WindowListener code to be executed. For what its worth you can also check out the <code>ExitAction</code> class found in <a href=\"http://tips4java.wordpress.com/2009/05/01/closing-an-application/\" rel=\"nofollow noreferrer\">Closing an Application</a>. The action is a little more general in that it can be used with any frame or dialog."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1312686007,"post_id":6969206,"comment_id":8313410,"body_markdown":"@camickr: `ExitAction` looks like a good way to ensure that all exits pass through the `WindowListener`.","body":"@camickr: <code>ExitAction</code> looks like a good way to ensure that all exits pass through the <code>WindowListener</code>."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1312667996,"creation_date":1312667996,"answer_id":6969206,"question_id":6969164,"body_markdown":"You can have the `ActionListener` dispatch a `WindowEvent.WINDOW_CLOSING`, as shown [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5540354/java-swing-the-right-action-to-take-upon-closing-windows/5540802#5540802","title":"Button for closing a JDialog","body":"<p>You can have the <code>ActionListener</code> dispatch a <code>WindowEvent.WINDOW_CLOSING</code>, as shown <a href=\"https://stackoverflow.com/questions/5540354/java-swing-the-right-action-to-take-upon-closing-windows/5540802#5540802\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":560770,"reputation":313,"user_id":882241,"display_name":"SoboLAN"},"score":0,"creation_date":1312705917,"post_id":6970105,"comment_id":8315154,"body_markdown":"I think dispose () is the best way to do it. Thank you, I have now everything I need.","body":"I think dispose () is the best way to do it. Thank you, I have now everything I need."}],"tags":[],"owner":{"account_id":463580,"reputation":995,"user_id":866576,"display_name":"Mohammed Aslam"},"comment_count":1,"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1312684778,"creation_date":1312680040,"answer_id":6970105,"question_id":6969164,"body_markdown":"    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    \r\n    public class YourDialog extends JDialog implements ActionListener {\r\n    \r\n      JButton button;\r\n    \r\n      public YourDialog() {\r\n         button = new JButton(&quot;Close&quot;);\r\n         button.addActionListener(this);\r\n         add(button);\r\n         pack();\r\n         setVisible(true);\r\n      }\r\n      \r\n      public void actionPerformed(ActionEvent e) {\r\n          dispose();\r\n      }\r\n    }\r\n\r\n - \r\n\r\nclose only dialolg using `dispose()` method parent frame not closed. reason that JVM not terminated.","title":"Button for closing a JDialog","body":"<pre><code>import java.awt.event.*;\nimport javax.swing.*;\n\npublic class YourDialog extends JDialog implements ActionListener {\n\n  JButton button;\n\n  public YourDialog() {\n     button = new JButton(\"Close\");\n     button.addActionListener(this);\n     add(button);\n     pack();\n     setVisible(true);\n  }\n\n  public void actionPerformed(ActionEvent e) {\n      dispose();\n  }\n}\n</code></pre>\n\n<ul>\n<li><p>close only dialolg using <code>dispose()</code> method parent frame not closed. reason that JVM not terminated.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697466551,"creation_date":1532701024,"answer_id":51559880,"question_id":6969164,"body_markdown":"In addition to other answers, you can set it as the default button for the dialog root pane:\r\n\r\n    JButton myButton = new JButton(&quot;Close&quot;);\r\n    myButton.addActionListener(e -&gt; {\r\n            dispose(); // Or whatever else\r\n            setVisible(false);\r\n    });\r\n    getRootPane().setDefaultButton(myButton);\r\n\r\nThat way, its `ActionListener` will be called whenever &lt;kbd&gt;Enter&lt;/kbd&gt; is pressed.","title":"Button for closing a JDialog","body":"<p>In addition to other answers, you can set it as the default button for the dialog root pane:</p>\n<pre><code>JButton myButton = new JButton(&quot;Close&quot;);\nmyButton.addActionListener(e -&gt; {\n        dispose(); // Or whatever else\n        setVisible(false);\n});\ngetRootPane().setDefaultButton(myButton);\n</code></pre>\n<p>That way, its <code>ActionListener</code> will be called whenever <kbd>Enter</kbd> is pressed.</p>\n"},{"tags":[],"owner":{"account_id":3809506,"reputation":77,"user_id":3160898,"display_name":"Gaurang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564346390,"creation_date":1549704997,"answer_id":54604988,"question_id":6969164,"body_markdown":"I have done this slightly differently and it serves the purpose. I have several classes. They extend JPanel, serve different purposes and use JDialogs to get users&#39; inputs. \r\n\r\nA typical class would contain necessary fields, save and cancel buttons.\r\n\r\npublic class EnterpriseGUI extends javax.swing.JPanel {...} would look like this:\r\n\r\n[![JPanel class in designer mode][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RYDfc.png\r\n\r\nClass EnterpriseGUI has a private variable jdialog and a method to set jdialog. Also ActionEvent for &#39;save&#39; button and &#39;cancel&#39; button.\r\n\r\n    private JDialog jdialog;\r\n    public void setJDialog(JDialog jdialog) {\r\n        this.jdialog = jdialog;\r\n    }\r\n    private void btnSaveActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n        // Do your stuff..\r\n        jdialog.dispose();\r\n    } \r\n    private void btnCancelActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n        // Discard your stuff..\r\n        jdialog.dispose();\r\n    } \r\n\r\nFinally, I create an instance of EnterpriseGUI from any other class as needed and embed it into JDialog.\r\n\r\n    Class OtherClass{\r\n    private JDialog dialog;\r\n    private EnterpriseGUI = new enterprisegui();\r\n        private void button1ActionPerformed(java.awt.event.ActionEvent evt) {                                             \r\n            this.dialog = new JDialog(this, &quot;My dialog&quot;, true);\r\n            this.dialog.setResizable(false);\r\n            enterprisegui.setJDialog(dialog);\r\n            this.dialog.getContentPane().add(enterprisegui);\r\n            this.dialog.pack();\r\n                   \r\n            Dimension Size = Toolkit.getDefaultToolkit().getScreenSize();\r\n            this.dialog.setLocation(new Double((Size.getWidth()/2) - \r\n                    (dialog.getWidth()/2)).intValue(), new Double((Size.getHeight()/2) - \r\n                            (dialog.getHeight()/2)).intValue());\r\n            this.dialog.setVisible(true);\r\n            \r\n        }  \r\n    }","title":"Button for closing a JDialog","body":"<p>I have done this slightly differently and it serves the purpose. I have several classes. They extend JPanel, serve different purposes and use JDialogs to get users' inputs. </p>\n\n<p>A typical class would contain necessary fields, save and cancel buttons.</p>\n\n<p>public class EnterpriseGUI extends javax.swing.JPanel {...} would look like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/RYDfc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RYDfc.png\" alt=\"JPanel class in designer mode\"></a></p>\n\n<p>Class EnterpriseGUI has a private variable jdialog and a method to set jdialog. Also ActionEvent for 'save' button and 'cancel' button.</p>\n\n<pre><code>private JDialog jdialog;\npublic void setJDialog(JDialog jdialog) {\n    this.jdialog = jdialog;\n}\nprivate void btnSaveActionPerformed(java.awt.event.ActionEvent evt) {                                        \n    // Do your stuff..\n    jdialog.dispose();\n} \nprivate void btnCancelActionPerformed(java.awt.event.ActionEvent evt) {                                          \n    // Discard your stuff..\n    jdialog.dispose();\n} \n</code></pre>\n\n<p>Finally, I create an instance of EnterpriseGUI from any other class as needed and embed it into JDialog.</p>\n\n<pre><code>Class OtherClass{\nprivate JDialog dialog;\nprivate EnterpriseGUI = new enterprisegui();\n    private void button1ActionPerformed(java.awt.event.ActionEvent evt) {                                             \n        this.dialog = new JDialog(this, \"My dialog\", true);\n        this.dialog.setResizable(false);\n        enterprisegui.setJDialog(dialog);\n        this.dialog.getContentPane().add(enterprisegui);\n        this.dialog.pack();\n\n        Dimension Size = Toolkit.getDefaultToolkit().getScreenSize();\n        this.dialog.setLocation(new Double((Size.getWidth()/2) - \n                (dialog.getWidth()/2)).intValue(), new Double((Size.getHeight()/2) - \n                        (dialog.getHeight()/2)).intValue());\n        this.dialog.setVisible(true);\n\n    }  \n}\n</code></pre>\n"}],"owner":{"account_id":560770,"reputation":313,"user_id":882241,"display_name":"SoboLAN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94323,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":6970105,"answer_count":5,"score":31,"last_activity_date":1697466551,"creation_date":1312667577,"question_id":6969164,"body_markdown":"I want to add a button (JButton) at the bottom of a JDialog which should close the JDialog when pressed. The problem is I don&#39;t know what to write in the ActionListener of that button. I don&#39;t want the button to exit the program, just close the dialog.\r\n\r\nThe JDialog is created by explicitly calling one of JDialog&#39;s constructors, not by calling one of the methods from JOptionPane.\r\n\r\nI was extremely surprised that I was unable to find an answer to this using Google. I expected that a problem that is so often encoutered would be widely covered on a lot of programming sites. Pretty weird that it is not.","title":"Button for closing a JDialog","body":"<p>I want to add a button (JButton) at the bottom of a JDialog which should close the JDialog when pressed. The problem is I don't know what to write in the ActionListener of that button. I don't want the button to exit the program, just close the dialog.</p>\n\n<p>The JDialog is created by explicitly calling one of JDialog's constructors, not by calling one of the methods from JOptionPane.</p>\n\n<p>I was extremely surprised that I was unable to find an answer to this using Google. I expected that a problem that is so often encoutered would be widely covered on a lot of programming sites. Pretty weird that it is not.</p>\n"},{"tags":["java","spring-boot","couchbase","sql++","spring-data-couchbase"],"comments":[{"owner":{"account_id":6514907,"reputation":483,"user_id":5041060,"display_name":"Laurent Doguin"},"score":0,"creation_date":1692010553,"post_id":76875458,"comment_id":135563374,"body_markdown":"I can&#39;t reproduce it, any chance you could share a pubilc repo with that specific problem ?","body":"I can&#39;t reproduce it, any chance you could share a pubilc repo with that specific problem ?"}],"answers":[{"tags":[],"owner":{"account_id":19444711,"reputation":399,"user_id":14222513,"display_name":"Michael Reiche"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692037713,"creation_date":1692037713,"answer_id":76901352,"question_id":76875458,"body_markdown":"&quot;org.springframework.dao.InvalidDataAccessApiUsageException: Required property docTypeVersion not found for class java.util.Optional; nested exception is java.lang.IllegalStateException: Required property docTypeVersion not found for class java.util.Optional&quot;\r\n\r\nThe stack trace is always useful - it might shed some insight into why the framework thinks the result should be an Optional.\r\n\r\nAlso - shouldn&#39;t the query methods return a List/Iterator/Optional? In case there is zero (or more than one) matching results?  Maybe the framework assumes Optional&lt;DTO&gt; if you have specified just DTO (just speculating).\r\n\r\n\r\n","title":"org.springframework.dao.InvalidDataAccessApiUsageException: Required property docTypeVersion not found for class java.util.Optional","body":"<p>&quot;org.springframework.dao.InvalidDataAccessApiUsageException: Required property docTypeVersion not found for class java.util.Optional; nested exception is java.lang.IllegalStateException: Required property docTypeVersion not found for class java.util.Optional&quot;</p>\n<p>The stack trace is always useful - it might shed some insight into why the framework thinks the result should be an Optional.</p>\n<p>Also - shouldn't the query methods return a List/Iterator/Optional? In case there is zero (or more than one) matching results?  Maybe the framework assumes Optional if you have specified just DTO (just speculating).</p>\n"},{"comments":[{"owner":{"account_id":13931993,"reputation":53,"user_id":10059979,"display_name":"Anıl Emre &#214;z&#231;elik"},"score":0,"creation_date":1697467031,"post_id":77302814,"comment_id":136280226,"body_markdown":"Thanks for help.It worked for me too.","body":"Thanks for help.It worked for me too."}],"tags":[],"owner":{"account_id":19872745,"reputation":26,"user_id":14558489,"display_name":"Esin Akdoğan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697466543,"creation_date":1697466543,"answer_id":77302814,"question_id":76875458,"body_markdown":"I had the same problem as you and making the return type optional did not work for me. Making it List works, however when you know that you are selecting a unique document, you dont want to retrieve in a list. \r\nYou are using the entity class in your repo and trying to retrieve it as a dto. One solution is, make repo use your dto class. Modify it like this: \r\n\r\n    @Repository\r\n    @Scope(&quot;efatura_islem&quot;)\r\n    @Collection(&quot;gib_thread_process_non_verified&quot;)\r\n    public interface ThreadProcessCouchbaseRepository extends CouchbaseRepository&lt; ResponseDto, String&gt; {\r\n    \r\n        @Query(&quot;SELECT meta(gtp).id AS __id , gtp.doc_type_version FROM gib_thread_process_non_verified AS gtp WHERE gtp.zip_path=$documentInstanceIdentifier&quot;)\r\n        ResponseDto selectApplicationResponseInfo(String documentInstanceIdentifier);\r\n    }\r\n\r\nIf you dont want to modify your repo, or write a seperate one for the dto, you should make your dto extend the entity class like this: \r\n\r\n    @Data\r\n    @Document\r\n    public class ResponseDto extends ThreadProcessCouchbaseEntity {...}\r\n\r\nThen you will not need to use Optional or List. It worked for me, i hope this works for you too. \r\n\r\n\r\n\r\n","title":"org.springframework.dao.InvalidDataAccessApiUsageException: Required property docTypeVersion not found for class java.util.Optional","body":"<p>I had the same problem as you and making the return type optional did not work for me. Making it List works, however when you know that you are selecting a unique document, you dont want to retrieve in a list.\nYou are using the entity class in your repo and trying to retrieve it as a dto. One solution is, make repo use your dto class. Modify it like this:</p>\n<pre><code>@Repository\n@Scope(&quot;efatura_islem&quot;)\n@Collection(&quot;gib_thread_process_non_verified&quot;)\npublic interface ThreadProcessCouchbaseRepository extends CouchbaseRepository&lt; ResponseDto, String&gt; {\n\n    @Query(&quot;SELECT meta(gtp).id AS __id , gtp.doc_type_version FROM gib_thread_process_non_verified AS gtp WHERE gtp.zip_path=$documentInstanceIdentifier&quot;)\n    ResponseDto selectApplicationResponseInfo(String documentInstanceIdentifier);\n}\n</code></pre>\n<p>If you dont want to modify your repo, or write a seperate one for the dto, you should make your dto extend the entity class like this:</p>\n<pre><code>@Data\n@Document\npublic class ResponseDto extends ThreadProcessCouchbaseEntity {...}\n</code></pre>\n<p>Then you will not need to use Optional or List. It worked for me, i hope this works for you too.</p>\n"}],"owner":{"account_id":13931993,"reputation":53,"user_id":10059979,"display_name":"Anıl Emre &#214;z&#231;elik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77302814,"answer_count":2,"score":1,"last_activity_date":1697466543,"creation_date":1691668072,"question_id":76875458,"body_markdown":"When i try to select some part of couchbase document using a dto class,getting this error.\r\nI tried several possible solutions like changing return type of query method `Optional&lt;ResponseDto&gt;` and getting from `Optional` class but did not fixed.I dont understand why it look for `&#39;docTypeVersion&#39;` in `Optional` class.I did not try to get `docTypeVersion` from `Optional` class.\r\n\r\n    org.springframework.dao.InvalidDataAccessApiUsageException: Required property docTypeVersion not found for class java.util.Optional; nested exception is java.lang.IllegalStateException: Required property docTypeVersion not found for class java.util.Optional \r\n\r\nRepository class:\r\n\r\n    @Repository\r\n    @Scope(&quot;efatura_islem&quot;)\r\n    @Collection(&quot;gib_thread_process_non_verified&quot;)\r\n    public interface ThreadProcessCouchbaseRepository extends CouchbaseRepository&lt;ThreadProcessCouchbaseEntity, String&gt; {\r\n    \r\n        @Query(&quot;SELECT meta(gtp).id AS __id , gtp.doc_type_version FROM gib_thread_process_non_verified AS gtp WHERE gtp.zip_path=$documentInstanceIdentifier&quot;)\r\n        ResponseDto selectApplicationResponseInfo(String documentInstanceIdentifier);\r\n    }\r\n\r\nDTO class:\r\n\r\n    @Data\r\n    @Document\r\n    public class ResponseDto implements Serializable {\r\n       \r\n        @Field(&quot;doc_type_version&quot;)\r\n        private String docTypeVersion;\r\n    }\r\n\r\nDocument is below that:\r\n\r\n    {\r\n      &quot;_class&quot;: &quot;tr.gov.gib.efatura.core.entity.couchbase.ThreadProcessCouchbaseEntity&quot;,\r\n      &quot;calc_hash&quot;: &quot;6DB58D42B042F975A7E68464C8E18FE5&quot;,\r\n      &quot;client&quot;: &quot;10.233.92.0&quot;,\r\n      &quot;doc_date_time&quot;: &quot;2023-08-09T19:24:53&quot;,\r\n      &quot;doc_type&quot;: &quot;SYSTEMENVELOPE&quot;,\r\n      &quot;doc_type_version&quot;: &quot;1.2&quot;,\r\n      &quot;error&quot;: &quot;ZARF_BASARIYLA_ISLENDI&quot;,\r\n      &quot;issue_date&quot;: &quot;2023-08-09&quot;,\r\n      &quot;gib_elements&quot;: [\r\n        {\r\n          &quot;element_type&quot;: &quot;APPLICATIONRESPONSE&quot;,\r\n          &quot;fKey&quot;: &quot;20548227-BDB9-4A7E-B873-FB7B8E3E2BCB&quot;,\r\n          &quot;item_count&quot;: 1,\r\n          &quot;oid&quot;: &quot;31ll52grm01001&quot;\r\n        }\r\n      ],\r\n     \r\n      &quot;header_version&quot;: &quot;1.0&quot;,\r\n      &quot;state_code&quot;: &quot;1200&quot;,\r\n      &quot;zip_path&quot;: &quot;20548227-BDB9-4A7E-B873-FB7B8E3E2BCB.zip&quot;\r\n    }\r\n\r\nAnd metadata is below that:\r\n\r\n\r\n    {\r\n      &quot;meta&quot;: {\r\n        &quot;id&quot;: &quot;20548227-BDB9-4A7E-B873-FB7B8E3E2BCB&quot;,\r\n        &quot;rev&quot;: &quot;1178-177a01ea20e300000000000002000000&quot;,\r\n        &quot;expiration&quot;: 0,\r\n        &quot;flags&quot;: 33554432,\r\n        &quot;type&quot;: &quot;json&quot;\r\n      },\r\n      &quot;xattrs&quot;: {}\r\n    }\r\n\r\n","title":"org.springframework.dao.InvalidDataAccessApiUsageException: Required property docTypeVersion not found for class java.util.Optional","body":"<p>When i try to select some part of couchbase document using a dto class,getting this error.\nI tried several possible solutions like changing return type of query method <code>Optional&lt;ResponseDto&gt;</code> and getting from <code>Optional</code> class but did not fixed.I dont understand why it look for <code>'docTypeVersion'</code> in <code>Optional</code> class.I did not try to get <code>docTypeVersion</code> from <code>Optional</code> class.</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: Required property docTypeVersion not found for class java.util.Optional; nested exception is java.lang.IllegalStateException: Required property docTypeVersion not found for class java.util.Optional \n</code></pre>\n<p>Repository class:</p>\n<pre><code>@Repository\n@Scope(&quot;efatura_islem&quot;)\n@Collection(&quot;gib_thread_process_non_verified&quot;)\npublic interface ThreadProcessCouchbaseRepository extends CouchbaseRepository&lt;ThreadProcessCouchbaseEntity, String&gt; {\n\n    @Query(&quot;SELECT meta(gtp).id AS __id , gtp.doc_type_version FROM gib_thread_process_non_verified AS gtp WHERE gtp.zip_path=$documentInstanceIdentifier&quot;)\n    ResponseDto selectApplicationResponseInfo(String documentInstanceIdentifier);\n}\n</code></pre>\n<p>DTO class:</p>\n<pre><code>@Data\n@Document\npublic class ResponseDto implements Serializable {\n   \n    @Field(&quot;doc_type_version&quot;)\n    private String docTypeVersion;\n}\n</code></pre>\n<p>Document is below that:</p>\n<pre><code>{\n  &quot;_class&quot;: &quot;tr.gov.gib.efatura.core.entity.couchbase.ThreadProcessCouchbaseEntity&quot;,\n  &quot;calc_hash&quot;: &quot;6DB58D42B042F975A7E68464C8E18FE5&quot;,\n  &quot;client&quot;: &quot;10.233.92.0&quot;,\n  &quot;doc_date_time&quot;: &quot;2023-08-09T19:24:53&quot;,\n  &quot;doc_type&quot;: &quot;SYSTEMENVELOPE&quot;,\n  &quot;doc_type_version&quot;: &quot;1.2&quot;,\n  &quot;error&quot;: &quot;ZARF_BASARIYLA_ISLENDI&quot;,\n  &quot;issue_date&quot;: &quot;2023-08-09&quot;,\n  &quot;gib_elements&quot;: [\n    {\n      &quot;element_type&quot;: &quot;APPLICATIONRESPONSE&quot;,\n      &quot;fKey&quot;: &quot;20548227-BDB9-4A7E-B873-FB7B8E3E2BCB&quot;,\n      &quot;item_count&quot;: 1,\n      &quot;oid&quot;: &quot;31ll52grm01001&quot;\n    }\n  ],\n \n  &quot;header_version&quot;: &quot;1.0&quot;,\n  &quot;state_code&quot;: &quot;1200&quot;,\n  &quot;zip_path&quot;: &quot;20548227-BDB9-4A7E-B873-FB7B8E3E2BCB.zip&quot;\n}\n</code></pre>\n<p>And metadata is below that:</p>\n<pre><code>{\n  &quot;meta&quot;: {\n    &quot;id&quot;: &quot;20548227-BDB9-4A7E-B873-FB7B8E3E2BCB&quot;,\n    &quot;rev&quot;: &quot;1178-177a01ea20e300000000000002000000&quot;,\n    &quot;expiration&quot;: 0,\n    &quot;flags&quot;: 33554432,\n    &quot;type&quot;: &quot;json&quot;\n  },\n  &quot;xattrs&quot;: {}\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1697461829,"post_id":77301931,"comment_id":136279083,"body_markdown":"You need to post code in order to receive help.\n\nYou need to be specific.  For example are you successful in consuming messages?\n\nIf yes, there is no such thing as (one go).  You can just modify the https://stackoverflow.com/questions/59308824/does-a-kafka-consumer-default-batch-size in order to batch consume by specific amounts.","body":"You need to post code in order to receive help.  You need to be specific.  For example are you successful in consuming messages?  If yes, there is no such thing as (one go).  You can just modify the <a href=\"https://stackoverflow.com/questions/59308824/does-a-kafka-consumer-default-batch-size\" title=\"does a kafka consumer default batch size\">stackoverflow.com/questions/59308824/&hellip;</a> in order to batch consume by specific amounts."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697466363,"creation_date":1697462110,"answer_id":77302295,"question_id":77301931,"body_markdown":"By default; Kafka maintains a last committed offset pointer for each consumer group/partition.\r\n\r\nWhen the consumer starts, the default behavior is to start from that offset. `auto.offset.reset=earliest` only applies when there is no committed offset for a consumer (generally, the first time the consumer is started).\r\n\r\nTo always start from the beginning, you need to perform seek operations when the partitions are assigned.\r\n\r\nWhen using Spring, this can easily be done by having the listener extend `AbstractConsumerSeekAware` and calling `seekToBeginning()` when the partitions are assigned.\r\n\r\nSee https://docs.spring.io/spring-kafka/docs/current/reference/html/#seek","title":"How to consume all kafka messages of one kafka topic every second from the beginning using spring boot?","body":"<p>By default; Kafka maintains a last committed offset pointer for each consumer group/partition.</p>\n<p>When the consumer starts, the default behavior is to start from that offset. <code>auto.offset.reset=earliest</code> only applies when there is no committed offset for a consumer (generally, the first time the consumer is started).</p>\n<p>To always start from the beginning, you need to perform seek operations when the partitions are assigned.</p>\n<p>When using Spring, this can easily be done by having the listener extend <code>AbstractConsumerSeekAware</code> and calling <code>seekToBeginning()</code> when the partitions are assigned.</p>\n<p>See <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#seek\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#seek</a></p>\n"}],"owner":{"account_id":29647293,"reputation":25,"user_id":22722037,"display_name":"vijay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77302295,"answer_count":1,"score":1,"last_activity_date":1697466363,"creation_date":1697459000,"question_id":77301931,"body_markdown":"I&#39;m very new to kafka and I need to print all the messages from the kafka topic continuously(every second) from the start to end using spring boot.\r\n\r\nAlso need to get all the message at a time, not one by one.\r\n\r\nI used..\r\nauto.offset.reset=earliest and enable.auto.commit=false and random/new group.id but nothing works for me :(\r\n\r\n\r\n    @KafkaListener(topics = &quot;retry-events&quot;, groupId = &quot;my-consumer-group&quot;)\r\n        public void consumeMessage(String message) {\r\n            System.out.println(&quot;Received message: &quot; + message);\r\n        }\r\n\r\nHere, If i send one message to kafka, thenits printing the latest message. I need to print every message again and again from the start each second.","title":"How to consume all kafka messages of one kafka topic every second from the beginning using spring boot?","body":"<p>I'm very new to kafka and I need to print all the messages from the kafka topic continuously(every second) from the start to end using spring boot.</p>\n<p>Also need to get all the message at a time, not one by one.</p>\n<p>I used..\nauto.offset.reset=earliest and enable.auto.commit=false and random/new group.id but nothing works for me :(</p>\n<pre><code>@KafkaListener(topics = &quot;retry-events&quot;, groupId = &quot;my-consumer-group&quot;)\n    public void consumeMessage(String message) {\n        System.out.println(&quot;Received message: &quot; + message);\n    }\n</code></pre>\n<p>Here, If i send one message to kafka, thenits printing the latest message. I need to print every message again and again from the start each second.</p>\n"},{"tags":["java","sql","oracle"],"comments":[{"owner":{"account_id":18733535,"reputation":8774,"user_id":13658399,"display_name":"NickW"},"score":0,"creation_date":1697447350,"post_id":77299316,"comment_id":136276477,"body_markdown":"Hi - doesn&#39;t executeQuery return the error reason in SQLException? If it does, why not have a single try/catch statement and process the different error types in the catch? At the moment your code seems to be assuming what the different types of error might be based on the different positions of your various try/catch statements","body":"Hi - doesn&#39;t executeQuery return the error reason in SQLException? If it does, why not have a single try/catch statement and process the different error types in the catch? At the moment your code seems to be assuming what the different types of error might be based on the different positions of your various try/catch statements"},{"owner":{"account_id":5243359,"reputation":15773,"user_id":4189814,"display_name":"Koen Lostrie"},"score":0,"creation_date":1697454697,"post_id":77299316,"comment_id":136277785,"body_markdown":"This question is about java but you have not tagged java ?","body":"This question is about java but you have not tagged java ?"}],"owner":{"account_id":14333621,"reputation":383,"user_id":10353761,"display_name":"maria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697465595,"creation_date":1697428304,"question_id":77299316,"body_markdown":"I&#39;m trying to create a java program that accepts an SQL query. It has a try catch function in case the table name has an invalid name/special characters, not found in database, or I/O exception. I&#39;m wondering is there any way I can catch a corrupted output or not accessible data after the query?\r\n\r\nHere&#39;s my current implementation:\r\n\r\n    String sql = &quot;SELECT * FROM &quot; + table + &quot;&#39;;&quot;;\r\n    \t\ttry {\r\n    \t\t\tconn = ConnDelegation.supplyConnection();\r\n    \t\t\tPreparedStatement ps = conn.prepareStatement(sql);\r\n    \r\n    \t\t\tResultSet rs = ps.executeQuery();\r\n    \t\t\tif(!rs.next()) {\r\n    \t\t\t\trCode.setValue(MSG_CATALOG_ENTRY_NOT_FOUND);\r\n    \t\t\t} else {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\trCode.setValue(MSG_OPERATION_SUCCESSFUL);\r\n    \t\t\t\t}catch (SQLException e) {\r\n    \t\t\t\t\trCode.setValue(MSG_CATALOG_NOT_ACCESSIBLE);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}catch (SQLException e) {\r\n\r\n                rCode.setValue(MSG_PARAMLIST_IO_ERROR);\r\n    \t\t}\r\n\r\nI assumed that if the data was found but has an issue/error, that was the correct time to catch. But I&#39;m hoping to have a specific error code that only specifies on corrupted or non accessible output.","title":"How to catch a corrupted or not accessible java sql query output","body":"<p>I'm trying to create a java program that accepts an SQL query. It has a try catch function in case the table name has an invalid name/special characters, not found in database, or I/O exception. I'm wondering is there any way I can catch a corrupted output or not accessible data after the query?</p>\n<p>Here's my current implementation:</p>\n<pre><code>String sql = &quot;SELECT * FROM &quot; + table + &quot;';&quot;;\n        try {\n            conn = ConnDelegation.supplyConnection();\n            PreparedStatement ps = conn.prepareStatement(sql);\n\n            ResultSet rs = ps.executeQuery();\n            if(!rs.next()) {\n                rCode.setValue(MSG_CATALOG_ENTRY_NOT_FOUND);\n            } else {\n                try {\n                    rCode.setValue(MSG_OPERATION_SUCCESSFUL);\n                }catch (SQLException e) {\n                    rCode.setValue(MSG_CATALOG_NOT_ACCESSIBLE);\n                }\n            }\n            \n        }catch (SQLException e) {\n\n            rCode.setValue(MSG_PARAMLIST_IO_ERROR);\n        }\n</code></pre>\n<p>I assumed that if the data was found but has an issue/error, that was the correct time to catch. But I'm hoping to have a specific error code that only specifies on corrupted or non accessible output.</p>\n"},{"tags":["java","string","replace"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697358442,"creation_date":1697358442,"answer_id":77295823,"question_id":77295784,"body_markdown":"You could place word boundaries around `B` and `C`, i.e. match on `\\bB\\b` and `\\bC\\b`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String newFormula = formula.replaceAll(&quot;\\\\bB\\\\b&quot;, &quot;X&quot;)\r\n                               .replaceAll(&quot;\\\\bC\\\\b&quot;, &quot;Y&quot;);","title":"Replacing specific values in a formula without affecting others in Java with Spring boot","body":"<p>You could place word boundaries around <code>B</code> and <code>C</code>, i.e. match on <code>\\bB\\b</code> and <code>\\bC\\b</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String newFormula = formula.replaceAll(&quot;\\\\bB\\\\b&quot;, &quot;X&quot;)\n                           .replaceAll(&quot;\\\\bC\\\\b&quot;, &quot;Y&quot;);\n</code></pre>\n"}],"owner":{"account_id":14006714,"reputation":29,"user_id":10116632,"display_name":"lpdevlop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77295823,"answer_count":1,"score":-1,"last_activity_date":1697465528,"creation_date":1697357465,"question_id":77295784,"body_markdown":"I have a mathematical formula represented as a string, like this:\r\n\r\n**&quot;A+AB+A/B-BB+BC+C&quot;**\r\nI need to replace the values of B and C with new values, let&#39;s say X and Y, respectively, without affecting other occurrences of BC in the formula. I&#39;m using Java for this task.\r\n\r\nHere&#39;s the Java code I have so far:\r\n\r\n    String formula = &quot;A+AB+A/B-BB+BC+C&quot;;\r\n    String newFormula = formula.replaceAll(&quot;B&quot;, &quot;X&quot;).replaceAll(&quot;C&quot;, &quot;Y&quot;);\r\n\r\nHowever, this code replaces all occurrences of &#39;B&#39; and &#39;C&#39; in the formula, including the &#39;BC&#39; term. What I want to achieve is to replace only individual &#39;B&#39; and &#39;C&#39; without changing &#39;BC&#39;. How can I modify this code to achieve this?\r\n\r\n\r\n","title":"Replacing specific values in a formula without affecting others in Java with Spring boot","body":"<p>I have a mathematical formula represented as a string, like this:</p>\n<p><strong>&quot;A+AB+A/B-BB+BC+C&quot;</strong>\nI need to replace the values of B and C with new values, let's say X and Y, respectively, without affecting other occurrences of BC in the formula. I'm using Java for this task.</p>\n<p>Here's the Java code I have so far:</p>\n<pre><code>String formula = &quot;A+AB+A/B-BB+BC+C&quot;;\nString newFormula = formula.replaceAll(&quot;B&quot;, &quot;X&quot;).replaceAll(&quot;C&quot;, &quot;Y&quot;);\n</code></pre>\n<p>However, this code replaces all occurrences of 'B' and 'C' in the formula, including the 'BC' term. What I want to achieve is to replace only individual 'B' and 'C' without changing 'BC'. How can I modify this code to achieve this?</p>\n"},{"tags":["java","jvm","jfr"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697532337,"post_id":77302674,"comment_id":136288362,"body_markdown":"It’s an educated guess, but it looks like you’re looking at statistics only. You’d have to make a heap dump, to be able to look at actual data. I’m not even able to tell the language of the labels in the screenshot, not to speak of their meaning. And I’m afraid I’m not the only one.","body":"It’s an educated guess, but it looks like you’re looking at statistics only. You’d have to make a heap dump, to be able to look at actual data. I’m not even able to tell the language of the labels in the screenshot, not to speak of their meaning. And I’m afraid I’m not the only one."},{"owner":{"account_id":8847661,"reputation":15,"user_id":6607944,"accept_rate":50,"display_name":"winfield"},"score":0,"creation_date":1697559780,"post_id":77302674,"comment_id":136294038,"body_markdown":"@Holger Sorry it&#39;s in Chinese, maybe because of my laptop&#39;s language. But I think you are right. I need to dump the heap.","body":"@Holger Sorry it&#39;s in Chinese, maybe because of my laptop&#39;s language. But I think you are right. I need to dump the heap."}],"owner":{"account_id":8847661,"reputation":15,"user_id":6607944,"accept_rate":50,"display_name":"winfield"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697465374,"creation_date":1697465374,"question_id":77302674,"body_markdown":"This is a screenshot of JProfiler. You see, I can only know `byte[]` has the most biggest size (235MB). However, it&#39;s not detailed. I don&#39;t know where the array is and the related variable name in my program.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/v6nII.png)](https://i.stack.imgur.com/v6nII.png)\r\n\r\nI&#39;ve tried adding some JVM args. But none of them effected.\r\n\r\nBelow is the JVM args.\r\n\r\n```\r\n  &#39;-XX:+FlightRecorder&#39; \\\r\n  &#39;-XX:StartFlightRecording=duration=180s,settings=/opt/amazon/brazil-config/app/my_jfr_config.jfc,filename=myrecording.jfr&#39; \\\r\n```\r\nmy_jfr_config.jfc\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration version=&quot;2.0&quot; label=&quot;Continuous&quot; description=&quot;Low overhead configuration safe for continuous use in production environments, typically less than 1 % overhead.&quot; provider=&quot;Oracle&quot;&gt;\r\n    &lt;event name=&quot;jdk.ObjectCount&quot;&gt;\r\n      &lt;setting name=&quot;enabled&quot; control=&quot;memory-profiling-enabled-all&quot;&gt;true&lt;/setting&gt;\r\n      &lt;setting name=&quot;enabled&quot; control=&quot;heap-statistics-enabled&quot;&gt;true&lt;/setting&gt;\r\n      &lt;setting name=&quot;period&quot;&gt;everyChunk&lt;/setting&gt;\r\n    &lt;/event&gt;\r\n&lt;/configuration&gt;\r\n```\r\nAnd the JDK version is `openjdk 11.0.20 2023-07-18 LTS`.","title":"About JFR, how can I get the detailed info of the objects in memory view?","body":"<p>This is a screenshot of JProfiler. You see, I can only know <code>byte[]</code> has the most biggest size (235MB). However, it's not detailed. I don't know where the array is and the related variable name in my program.</p>\n<p><a href=\"https://i.stack.imgur.com/v6nII.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v6nII.png\" alt=\"enter image description here\" /></a></p>\n<p>I've tried adding some JVM args. But none of them effected.</p>\n<p>Below is the JVM args.</p>\n<pre><code>  '-XX:+FlightRecorder' \\\n  '-XX:StartFlightRecording=duration=180s,settings=/opt/amazon/brazil-config/app/my_jfr_config.jfc,filename=myrecording.jfr' \\\n</code></pre>\n<p>my_jfr_config.jfc</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration version=&quot;2.0&quot; label=&quot;Continuous&quot; description=&quot;Low overhead configuration safe for continuous use in production environments, typically less than 1 % overhead.&quot; provider=&quot;Oracle&quot;&gt;\n    &lt;event name=&quot;jdk.ObjectCount&quot;&gt;\n      &lt;setting name=&quot;enabled&quot; control=&quot;memory-profiling-enabled-all&quot;&gt;true&lt;/setting&gt;\n      &lt;setting name=&quot;enabled&quot; control=&quot;heap-statistics-enabled&quot;&gt;true&lt;/setting&gt;\n      &lt;setting name=&quot;period&quot;&gt;everyChunk&lt;/setting&gt;\n    &lt;/event&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>And the JDK version is <code>openjdk 11.0.20 2023-07-18 LTS</code>.</p>\n"},{"tags":["java","android","build.gradle","apk","android-studio-3.0"],"comments":[{"owner":{"account_id":18000638,"reputation":531,"user_id":13082664,"display_name":"Meet Bhavsar"},"score":0,"creation_date":1697460152,"post_id":77301061,"comment_id":136278742,"body_markdown":"update gradle version and may be some dependency not work properly so update project because i facing same issue i update project it works me.","body":"update gradle version and may be some dependency not work properly so update project because i facing same issue i update project it works me."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1697468256,"post_id":77301061,"comment_id":136280450,"body_markdown":"Old projects need old Java/JDK versions (8 or 11). Make sure `JAVA_HOME` points to an JDK8 or in Android Studio JDK 8 is selected to be used with Gradle.","body":"Old projects need old Java/JDK versions (8 or 11). Make sure <code>JAVA_HOME</code> points to an JDK8 or in Android Studio JDK 8 is selected to be used with Gradle."}],"answers":[{"tags":[],"owner":{"account_id":1197390,"reputation":1157,"user_id":4467687,"display_name":"Crispert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697453975,"creation_date":1697453975,"answer_id":77301403,"question_id":77301061,"body_markdown":"Sounds like a JDK compatibility issue. Try using a different version of JDK, like [11][1]. You will probably have to specify the path to the jdk in local.properties.\r\nAlso, have a look at this\r\nhttps://github.com/fluttercommunity/flutter_workmanager/issues/287#issuecomment-893476072\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/jdk11-archive-downloads.html","title":"Failed to generate apk for my project in android studio","body":"<p>Sounds like a JDK compatibility issue. Try using a different version of JDK, like <a href=\"https://www.oracle.com/java/technologies/javase/jdk11-archive-downloads.html\" rel=\"nofollow noreferrer\">11</a>. You will probably have to specify the path to the jdk in local.properties.\nAlso, have a look at this\n<a href=\"https://github.com/fluttercommunity/flutter_workmanager/issues/287#issuecomment-893476072\" rel=\"nofollow noreferrer\">https://github.com/fluttercommunity/flutter_workmanager/issues/287#issuecomment-893476072</a></p>\n"}],"owner":{"account_id":17299381,"reputation":3,"user_id":12529378,"display_name":"Jahash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77301403,"answer_count":1,"score":0,"last_activity_date":1697464204,"creation_date":1697450843,"question_id":77301061,"body_markdown":"I am working on existing project of android app with java, i imported the project successfully and synced it with gradle successfully but getting to build apk I cale across this problem \r\n\r\n\r\n&gt; {Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @6edd9065}\r\n\r\nI have tried many things but still getting same error message","title":"Failed to generate apk for my project in android studio","body":"<p>I am working on existing project of android app with java, i imported the project successfully and synced it with gradle successfully but getting to build apk I cale across this problem</p>\n<blockquote>\n<p>{Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @6edd9065}</p>\n</blockquote>\n<p>I have tried many things but still getting same error message</p>\n"},{"tags":["java","arrays","combinations","unique","schedule"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1697464698,"post_id":77302509,"comment_id":136279721,"body_markdown":"[Round-robin tournament](https://en.wikipedia.org/wiki/Round-robin_tournament)","body":"<a href=\"https://en.wikipedia.org/wiki/Round-robin_tournament\" rel=\"nofollow noreferrer\">Round-robin tournament</a>"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1697465025,"post_id":77302509,"comment_id":136279787,"body_markdown":"https://stackoverflow.com/questions/26471421/round-robin-algorithm-implementation-java","body":"<a href=\"https://stackoverflow.com/questions/26471421/round-robin-algorithm-implementation-java\" title=\"round robin algorithm implementation java\">stackoverflow.com/questions/26471421/&hellip;</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1697465666,"post_id":77302509,"comment_id":136279912,"body_markdown":"If you are doing this for an actual league, and not for a programming assignment or practice problem, there are pre-prepared round-robin schedules.","body":"If you are doing this for an actual league, and not for a programming assignment or practice problem, there are pre-prepared round-robin schedules."}],"owner":{"account_id":29683837,"reputation":1,"user_id":22749916,"display_name":"ap1kay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697463991,"creation_date":1697463912,"question_id":77302509,"body_markdown":"I have a simulator in Java in which I am trying to create a schedule of unique team matchups for a given sports league. In soccer, each team will play each other exactly ONCE with the first numTeams-1 matchweeks. \r\n\r\nFor example, in a 20 match league, there will be 19 matchweeks. In all 19 matchweeks, team 0 will play a unique team {1,2,3,4,...19,20}. Team 1 will play a unique team each week {0,2,3,4,..,19,20}, etc., up until the 20th team who will play teams {0,1,2,3,4,..18,19}.\r\n\r\nFor simplicity, I wrote my algorithm to select two side by side index pairs using a random shuffle of the array {0,1,2,..19,20}. If my generated array was {6,4,11,1,...0,18}, the pairs following would be {(6,4),(11,1),...(0,18)}. The next matchweek, i would shift all even values twice left, in this example leaving an array {11,4,13,1,...,0,6} and the resulting pairs for that week would be {(11,4),(13,1)...(0,6)}. Continuing this pattern (numTeams/2) times, we will get the first 10 unique weeks (in a 20 team league). \r\n\r\nTo finish the latter 10 matchweeks, I made a brute force method where I would generate a new random array of the 20 teams, and use the same shifting to generate the full 10 weeks. I would then run a test on  the whole 20 matchweeks and see if a collision occurred, and if it did, the calculation would rerun, else it would return the final array.\r\n\r\nThis did not work, and I cannot think of a good way to generate a second half of the matchweeks. If their is a flaw in working with the first half I have, I should change that too. Regardless, any tips to help solve this problem would be appreciated.\r\n\r\nIn the code below, each time the test fails I rerun the entire thing, not just the latter matchweek half, but neither method is able to exit the loop quickly.\r\n\r\n```\r\npublic Integer[][] uniqueMatchGenerator(int numTeams){\r\n    Integer[][] randomIndicies = new Integer[numTeams-1][numTeams];\r\n\r\n    //returns array of random unique numbers from 0 to numTeams\r\n    randomIndicies[0] = randomIndexArray(numTeams, null);\r\n\r\n    //FIRST half of pairs\r\n    for(int i=1;i&lt;(numTeams-1)/2;i++){\r\n        for(int j=0;j&lt;numTeams;j++){\r\n            if(j%2==0){ //even shift\r\n                randomIndicies[i][j] = randomIndicies[i-1][(j+2)%numTeams];\r\n            }else{\r\n                randomIndicies[i][j] = randomIndicies[i-1][j];\r\n            }\r\n        } \r\n    }\r\n\r\n    //second half of pairs\r\n    randomIndicies[(numTeams-1)/2] = randomIndexArray(numTeams, null);\r\n\r\n    for(int i=(numTeams-1)/2+1;i&lt;numTeams-1;i++){\r\n        for(int j=0;j&lt;numTeams;j++){\r\n            if(j%2==0){ //odd shift\r\n                randomIndicies[i][j] = randomIndicies[i-1][(j+2)%numTeams];\r\n            }else{\r\n                randomIndicies[i][j] = randomIndicies[i-1][j];\r\n            }\r\n        } \r\n    }\r\n\r\n    boolean failed = false;\r\n\r\n    //brute force test\r\n\r\n    //for each matchweek\r\n    int i =0;\r\n    while(i&lt;numTeams-2){\r\n        //for each pair in our arrays\r\n        int m=0;\r\n        while(m&lt;numTeams&amp;&amp;!failed){\r\n            int[] checking = {randomIndicies[i][m],randomIndicies[i][m+1]};\r\n            System.out.println(&quot;checking {&quot; + randomIndicies[i][m] +&quot;,&quot;+randomIndicies[i][m+1]+&quot;}&quot;);\r\n            int k=1;\r\n            while((k&lt;numTeams-1)&amp;&amp;!failed){\r\n                int j=0;\r\n                while(j&lt;numTeams&amp;&amp;!failed){\r\n                    int[] against = {randomIndicies[k][j],randomIndicies[k][j+1]}; \r\n                    System.out.println(&quot;against {&quot; + randomIndicies[k][j] +&quot;,&quot;+randomIndicies[k][j+1]+&quot;}&quot;);\r\n                    if(Arrays.equals(checking,against)){\r\n                        System.out.println(&quot;FAILEDFAILEDFAILEDFAILEDFAILEDFAILED &quot;);\r\n                        failed = true;\r\n                    }j=j+2;\r\n                }k++;\r\n            }m=m+2;\r\n        }i++;\r\n    }\r\n\r\n    if(failed){\r\n        return uniqueMatchGenerator(numTeams);\r\n    }else{\r\n        return randomIndicies;\r\n    }\r\n}\r\n```\r\n\r\nI would like to have one, no-collision group of unique parings. I was not able to find success with this method.","title":"Given an array of size n, find a way to arrange it such that no two side-by-side index pairs match for n-1 different arrays (team scheduling)","body":"<p>I have a simulator in Java in which I am trying to create a schedule of unique team matchups for a given sports league. In soccer, each team will play each other exactly ONCE with the first numTeams-1 matchweeks.</p>\n<p>For example, in a 20 match league, there will be 19 matchweeks. In all 19 matchweeks, team 0 will play a unique team {1,2,3,4,...19,20}. Team 1 will play a unique team each week {0,2,3,4,..,19,20}, etc., up until the 20th team who will play teams {0,1,2,3,4,..18,19}.</p>\n<p>For simplicity, I wrote my algorithm to select two side by side index pairs using a random shuffle of the array {0,1,2,..19,20}. If my generated array was {6,4,11,1,...0,18}, the pairs following would be {(6,4),(11,1),...(0,18)}. The next matchweek, i would shift all even values twice left, in this example leaving an array {11,4,13,1,...,0,6} and the resulting pairs for that week would be {(11,4),(13,1)...(0,6)}. Continuing this pattern (numTeams/2) times, we will get the first 10 unique weeks (in a 20 team league).</p>\n<p>To finish the latter 10 matchweeks, I made a brute force method where I would generate a new random array of the 20 teams, and use the same shifting to generate the full 10 weeks. I would then run a test on  the whole 20 matchweeks and see if a collision occurred, and if it did, the calculation would rerun, else it would return the final array.</p>\n<p>This did not work, and I cannot think of a good way to generate a second half of the matchweeks. If their is a flaw in working with the first half I have, I should change that too. Regardless, any tips to help solve this problem would be appreciated.</p>\n<p>In the code below, each time the test fails I rerun the entire thing, not just the latter matchweek half, but neither method is able to exit the loop quickly.</p>\n<pre><code>public Integer[][] uniqueMatchGenerator(int numTeams){\n    Integer[][] randomIndicies = new Integer[numTeams-1][numTeams];\n\n    //returns array of random unique numbers from 0 to numTeams\n    randomIndicies[0] = randomIndexArray(numTeams, null);\n\n    //FIRST half of pairs\n    for(int i=1;i&lt;(numTeams-1)/2;i++){\n        for(int j=0;j&lt;numTeams;j++){\n            if(j%2==0){ //even shift\n                randomIndicies[i][j] = randomIndicies[i-1][(j+2)%numTeams];\n            }else{\n                randomIndicies[i][j] = randomIndicies[i-1][j];\n            }\n        } \n    }\n\n    //second half of pairs\n    randomIndicies[(numTeams-1)/2] = randomIndexArray(numTeams, null);\n\n    for(int i=(numTeams-1)/2+1;i&lt;numTeams-1;i++){\n        for(int j=0;j&lt;numTeams;j++){\n            if(j%2==0){ //odd shift\n                randomIndicies[i][j] = randomIndicies[i-1][(j+2)%numTeams];\n            }else{\n                randomIndicies[i][j] = randomIndicies[i-1][j];\n            }\n        } \n    }\n\n    boolean failed = false;\n\n    //brute force test\n\n    //for each matchweek\n    int i =0;\n    while(i&lt;numTeams-2){\n        //for each pair in our arrays\n        int m=0;\n        while(m&lt;numTeams&amp;&amp;!failed){\n            int[] checking = {randomIndicies[i][m],randomIndicies[i][m+1]};\n            System.out.println(&quot;checking {&quot; + randomIndicies[i][m] +&quot;,&quot;+randomIndicies[i][m+1]+&quot;}&quot;);\n            int k=1;\n            while((k&lt;numTeams-1)&amp;&amp;!failed){\n                int j=0;\n                while(j&lt;numTeams&amp;&amp;!failed){\n                    int[] against = {randomIndicies[k][j],randomIndicies[k][j+1]}; \n                    System.out.println(&quot;against {&quot; + randomIndicies[k][j] +&quot;,&quot;+randomIndicies[k][j+1]+&quot;}&quot;);\n                    if(Arrays.equals(checking,against)){\n                        System.out.println(&quot;FAILEDFAILEDFAILEDFAILEDFAILEDFAILED &quot;);\n                        failed = true;\n                    }j=j+2;\n                }k++;\n            }m=m+2;\n        }i++;\n    }\n\n    if(failed){\n        return uniqueMatchGenerator(numTeams);\n    }else{\n        return randomIndicies;\n    }\n}\n</code></pre>\n<p>I would like to have one, no-collision group of unique parings. I was not able to find success with this method.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":11410767,"reputation":502,"user_id":10875738,"display_name":"Torge Rosendahl"},"score":0,"creation_date":1697449639,"post_id":77300929,"comment_id":136276906,"body_markdown":"switch-case does no longer work with android&#39;s IDs. Use an if-else chain instead.","body":"switch-case does no longer work with android&#39;s IDs. Use an if-else chain instead."}],"answers":[{"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1697452778,"post_id":77300970,"comment_id":136277462,"body_markdown":"Please avoid if else statements. Join the if else haters club. Only use if&#39;s:  if (id == R.id.nav_item1 ) { do what you want;\n   return;\n }","body":"Please avoid if else statements. Join the if else haters club. Only use if&#39;s:  if (id == R.id.nav_item1 ) { do what you want;    return;  }"}],"tags":[],"owner":{"account_id":16612457,"reputation":311,"user_id":12005025,"display_name":"Laxmi kant"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697449972,"creation_date":1697449972,"answer_id":77300970,"question_id":77300929,"body_markdown":"Use If else insted of switch case not working in case of android id in java only :\r\n\r\n     if (id == R.id.nav_item1 ) {\r\n       \r\n     }else if (id == R.id.nav_item2 ) {\r\n       \r\n     }","title":"Navigation Drawer Android","body":"<p>Use If else insted of switch case not working in case of android id in java only :</p>\n<pre><code> if (id == R.id.nav_item1 ) {\n   \n }else if (id == R.id.nav_item2 ) {\n   \n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27623532,"reputation":29,"user_id":21084003,"display_name":"Sriram S"},"score":0,"creation_date":1697453865,"post_id":77301036,"comment_id":136277631,"body_markdown":"Shows this when i build","body":"Shows this when i build"},{"owner":{"account_id":27623532,"reputation":29,"user_id":21084003,"display_name":"Sriram S"},"score":0,"creation_date":1697453871,"post_id":77301036,"comment_id":136277632,"body_markdown":"Recommended action: Update this project to use a newer compileSdk\n      of at least 34, for example 34.\n\n      Note that updating a library or application&#39;s compileSdk (which\n      allows newer APIs to be used) can be done separately from updating\n      targetSdk (which opts the app in to new runtime behavior) and\n      minSdk (which determines which devices the app can be installed\n      on).","body":"Recommended action: Update this project to use a newer compileSdk       of at least 34, for example 34.        Note that updating a library or application&#39;s compileSdk (which       allows newer APIs to be used) can be done separately from updating       targetSdk (which opts the app in to new runtime behavior) and       minSdk (which determines which devices the app can be installed       on)."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1697454006,"post_id":77301036,"comment_id":136277660,"body_markdown":"Ok. Did not think of that. Well... you have to do something more than.. Once you will have to do that anyway..  thanks.","body":"Ok. Did not think of that. Well... you have to do something more than.. Once you will have to do that anyway..  thanks."},{"owner":{"account_id":27623532,"reputation":29,"user_id":21084003,"display_name":"Sriram S"},"score":0,"creation_date":1697454211,"post_id":77301036,"comment_id":136277699,"body_markdown":"Used ifelse instead switch may help me thanks","body":"Used ifelse instead switch may help me thanks"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1697454268,"post_id":77301036,"comment_id":136277716,"body_markdown":"FYI: Only use if&#39;s. Join the club! ;-)","body":"FYI: Only use if&#39;s. Join the club! ;-)"},{"owner":{"account_id":27623532,"reputation":29,"user_id":21084003,"display_name":"Sriram S"},"score":0,"creation_date":1697455908,"post_id":77301036,"comment_id":136278002,"body_markdown":"ok thank for the info","body":"ok thank for the info"}],"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697450548,"creation_date":1697450548,"answer_id":77301036,"question_id":77300929,"body_markdown":"You can still use the switch cases if you add\r\n\r\n    android.nonFinalResIds=false\r\n\r\nto gradle.properties file.","title":"Navigation Drawer Android","body":"<p>You can still use the switch cases if you add</p>\n<pre><code>android.nonFinalResIds=false\n</code></pre>\n<p>to gradle.properties file.</p>\n"}],"owner":{"account_id":27623532,"reputation":29,"user_id":21084003,"display_name":"Sriram S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1697463375,"creation_date":1697449526,"question_id":77300929,"body_markdown":"I have created a app with app drawer, It shows error in switch case at Id. I tried to change but shows error in this line only.\r\n\r\nBelow is my java code, when I build it shows constant expression required\r\n\r\n```\r\npackage com.example.dwcsongs;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport androidx.annotation.NonNull;\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\n\r\npublic class drawer_left extends AppCompatActivity {\r\n\r\n    private DrawerLayout drawerLayout;\r\n    private NavigationView navigationView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_drawer_left);\r\n\r\n        drawerLayout = findViewById(R.id.drawer_layout);\r\n        navigationView = findViewById(R.id.navigation_view);\r\n\r\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                // Handle item selection here\r\n                switch (item.getItemId()) {\r\n                    case R.id.nav_item1 :\r\n                        // Handle item 1 selection\r\n                        break;\r\n                    case R.id.nav_item2:\r\n                        // Handle item 2 selection\r\n                        break;\r\n                    // Add more cases for other menu items\r\n                }\r\n\r\n                drawerLayout.closeDrawers(); // Close the drawer\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nnavigation_menu.xml\r\n\r\n```\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/nav_item1&quot;\r\n        android:title=&quot;Item 1&quot; /&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/nav_item2&quot;\r\n        android:title=&quot;Item 2&quot; /&gt;\r\n    &lt;!-- Add more items as needed --&gt;\r\n&lt;/menu&gt;\r\n```","title":"Navigation Drawer Android","body":"<p>I have created a app with app drawer, It shows error in switch case at Id. I tried to change but shows error in this line only.</p>\n<p>Below is my java code, when I build it shows constant expression required</p>\n<pre><code>package com.example.dwcsongs;\n\nimport android.os.Bundle;\nimport android.view.MenuItem;\nimport androidx.annotation.NonNull;\nimport com.google.android.material.navigation.NavigationView;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.drawerlayout.widget.DrawerLayout;\n\npublic class drawer_left extends AppCompatActivity {\n\n    private DrawerLayout drawerLayout;\n    private NavigationView navigationView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_drawer_left);\n\n        drawerLayout = findViewById(R.id.drawer_layout);\n        navigationView = findViewById(R.id.navigation_view);\n\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                // Handle item selection here\n                switch (item.getItemId()) {\n                    case R.id.nav_item1 :\n                        // Handle item 1 selection\n                        break;\n                    case R.id.nav_item2:\n                        // Handle item 2 selection\n                        break;\n                    // Add more cases for other menu items\n                }\n\n                drawerLayout.closeDrawers(); // Close the drawer\n                return true;\n            }\n        });\n    }\n}\n</code></pre>\n<p>navigation_menu.xml</p>\n<pre><code>&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item\n        android:id=&quot;@+id/nav_item1&quot;\n        android:title=&quot;Item 1&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/nav_item2&quot;\n        android:title=&quot;Item 2&quot; /&gt;\n    &lt;!-- Add more items as needed --&gt;\n&lt;/menu&gt;\n</code></pre>\n"},{"tags":["java","salesforce","dataloader"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1697460452,"post_id":77301297,"comment_id":136278813,"body_markdown":"Posts on stackoverflow get nothing from me.","body":"Posts on stackoverflow get nothing from me."}],"answers":[{"tags":[],"owner":{"account_id":28866538,"reputation":21,"user_id":22109185,"display_name":"iluvcode"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697461531,"creation_date":1697461531,"answer_id":77302227,"question_id":77301297,"body_markdown":"After not succeeding with the desired version,\r\nI downloaded a previous version of DataLoader: &quot;dataloader_win_v57.0.1&quot;,\r\nand it worked just fine. \r\n\r\nBTW if it helps anybody - I had to add to Path in the environment variables the &#39;C:\\Windows\\System32&#39; directory so the installation should work, it wouldn&#39;t work otherwise.","title":"Salesforce Problem with Data Loader, Java version and installing the software","body":"<p>After not succeeding with the desired version,\nI downloaded a previous version of DataLoader: &quot;dataloader_win_v57.0.1&quot;,\nand it worked just fine.</p>\n<p>BTW if it helps anybody - I had to add to Path in the environment variables the 'C:\\Windows\\System32' directory so the installation should work, it wouldn't work otherwise.</p>\n"},{"comments":[{"owner":{"account_id":28866538,"reputation":21,"user_id":22109185,"display_name":"iluvcode"},"score":1,"creation_date":1697572160,"post_id":77302407,"comment_id":136296000,"body_markdown":"I&#39;ve already tried that, and it did not help.","body":"I&#39;ve already tried that, and it did not help."}],"tags":[],"owner":{"account_id":29206892,"reputation":1,"user_id":22375794,"display_name":"cra ramaro"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697463101,"creation_date":1697463101,"answer_id":77302407,"question_id":77301297,"body_markdown":"I&#39;ve added the path of the installed Zulu to JAVA_HOME and it works","title":"Salesforce Problem with Data Loader, Java version and installing the software","body":"<p>I've added the path of the installed Zulu to JAVA_HOME and it works</p>\n"}],"owner":{"account_id":28866538,"reputation":21,"user_id":22109185,"display_name":"iluvcode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697463101,"creation_date":1697453052,"question_id":77301297,"body_markdown":"i&#39;v installed the latest version of Zulu Jdk and DataLoader to get Data Loader on my computer, but after extracting the files from the compressed file of the DataLoader, and trying to run the install.bat file, I get this message in a command prompt that pops up and disappears right away:\r\n&quot;Data Loader requires Java JRE 17 or later. Checking if it is installed...&quot;\r\n\r\nwhen verifying the version of java on my computer I see that I do have a late enough version of java - as you can see in this image:[![the existing v of java I have installed](https://i.stack.imgur.com/tpMSP.png)](https://i.stack.imgur.com/tpMSP.png)\r\n\r\nso what can the problem be?\r\n\r\ndoes anyone know?\r\n\r\nI looked around numerous times to find an answer or at least a direction to be able to progress with the problem using different wordings, but did not find any solution, or anyone posting a question that mentions having a similar issue.\r\n","title":"Salesforce Problem with Data Loader, Java version and installing the software","body":"<p>i'v installed the latest version of Zulu Jdk and DataLoader to get Data Loader on my computer, but after extracting the files from the compressed file of the DataLoader, and trying to run the install.bat file, I get this message in a command prompt that pops up and disappears right away:\n&quot;Data Loader requires Java JRE 17 or later. Checking if it is installed...&quot;</p>\n<p>when verifying the version of java on my computer I see that I do have a late enough version of java - as you can see in this image:<a href=\"https://i.stack.imgur.com/tpMSP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tpMSP.png\" alt=\"the existing v of java I have installed\" /></a></p>\n<p>so what can the problem be?</p>\n<p>does anyone know?</p>\n<p>I looked around numerous times to find an answer or at least a direction to be able to progress with the problem using different wordings, but did not find any solution, or anyone posting a question that mentions having a similar issue.</p>\n"},{"tags":["java","spring-security","spring-websocket"],"owner":{"account_id":28330682,"reputation":1,"user_id":21665017,"display_name":"1Stack1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697463067,"creation_date":1697287738,"question_id":77292856,"body_markdown":"I now have a need to obtain the user information saved in SpringSecurity by the previous login request when the WebsocketSession connection of SpringBoot Websocket is established.\r\ni have save the userPrincipal into the a session after login success.\r\n```\r\nSecurityContextHolder.getContext().setAuthentication(authenticateToSession);\r\n```\r\nand then i will make a websocket request,but when i can get the Authentication when run the afterConnectionEstablished method.\r\n\r\n```\r\n@Component\r\npublic class ChatHandler extends AbstractWebSocketHandler {\r\n\r\n    \r\n    @Override\r\n    public void afterConnectionEstablished(WebSocketSession session) throws Exception {\r\n        SecurityContextHolder.getContext().getAuthentication();\r\n    }\r\n```\r\nthe result is null.\r\n\r\n\r\n\r\nSo i want to know how get the Authentication ","title":"how to get the userPrincipal saved in SecurityContext when websocket after connection","body":"<p>I now have a need to obtain the user information saved in SpringSecurity by the previous login request when the WebsocketSession connection of SpringBoot Websocket is established.\ni have save the userPrincipal into the a session after login success.</p>\n<pre><code>SecurityContextHolder.getContext().setAuthentication(authenticateToSession);\n</code></pre>\n<p>and then i will make a websocket request,but when i can get the Authentication when run the afterConnectionEstablished method.</p>\n<pre><code>@Component\npublic class ChatHandler extends AbstractWebSocketHandler {\n\n    \n    @Override\n    public void afterConnectionEstablished(WebSocketSession session) throws Exception {\n        SecurityContextHolder.getContext().getAuthentication();\n    }\n</code></pre>\n<p>the result is null.</p>\n<p>So i want to know how get the Authentication</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1539270274,"post_id":52763204,"comment_id":92449659,"body_markdown":"That part is supposed to show the Javadoc. Does the separate javadoc view work? (Window -&gt; Show View -&gt; Javadoc)","body":"That part is supposed to show the Javadoc. Does the separate javadoc view work? (Window -&gt; Show View -&gt; Javadoc)"},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":1,"creation_date":1539271031,"post_id":52763204,"comment_id":92450156,"body_markdown":"What OS and desktop environment are you using? This &quot;black tool tips&quot; problem seems to be [quite common with eclipse](https://stackoverflow.com/search?q=eclipse+tooltip+black), and different reasons and fixes seem to be possible.","body":"What OS and desktop environment are you using? This &quot;black tool tips&quot; problem seems to be <a href=\"https://stackoverflow.com/search?q=eclipse+tooltip+black\">quite common with eclipse</a>, and different reasons and fixes seem to be possible."},{"owner":{"account_id":11410634,"reputation":9,"user_id":8364878,"display_name":"Flox"},"score":0,"creation_date":1539294469,"post_id":52763204,"comment_id":92461432,"body_markdown":"Yea I was trying to search for it before posting, but couldn&#39;t quite figure out the name of the &quot;javadoc&quot;. Going to the answer below helped solve the program. It was white so I just changed it to another colour and it fixed itself.","body":"Yea I was trying to search for it before posting, but couldn&#39;t quite figure out the name of the &quot;javadoc&quot;. Going to the answer below helped solve the program. It was white so I just changed it to another colour and it fixed itself."}],"answers":[{"comments":[{"owner":{"account_id":8405211,"reputation":241,"user_id":6308882,"display_name":"Kaleab"},"score":0,"creation_date":1580428312,"post_id":52763682,"comment_id":106104476,"body_markdown":"it works while i set it color and them to default. thank you","body":"it works while i set it color and them to default. thank you"}],"tags":[],"owner":{"account_id":6195706,"reputation":21,"user_id":4827042,"display_name":"Miguel Angel Leyva Guadalupe"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539271542,"creation_date":1539271321,"answer_id":52763682,"question_id":52763204,"body_markdown":"Try to change color in General&gt;Appearance&gt;Colors and Fonts&gt;Basic&gt;\r\n*Information background color\r\n*Information text color\r\n\r\n[![Screenshot][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/JfvGJ.png","title":"Eclipse hovering over variables blackscreen","body":"<p>Try to change color in General>Appearance>Colors and Fonts>Basic>\n*Information background color\n*Information text color</p>\n\n<p><a href=\"https://i.stack.imgur.com/JfvGJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JfvGJ.png\" alt=\"Screenshot\"></a></p>\n"},{"tags":[],"owner":{"account_id":17384819,"reputation":1,"user_id":12596334,"display_name":"Jaeger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697462831,"creation_date":1697462831,"answer_id":77302380,"question_id":52763204,"body_markdown":"It&#39;s worked for me:\r\n**Window&gt;Preferences&gt;Appearance**:\r\nchoose **Theme: Light**\r\n       **Color and Font theme: Default**\r\n\r\n**Window&gt;Preferences&gt;Appearance&gt;Color and Fonts** click &quot;**Restore Defaults**&quot;, then &quot;**Apply**&quot; and finally &quot;**Apply and Close**&quot;. \r\n\r\nRestart Eclipse if necessary!","title":"Eclipse hovering over variables blackscreen","body":"<p>It's worked for me:\n<strong>Window&gt;Preferences&gt;Appearance</strong>:\nchoose <strong>Theme: Light</strong>\n<strong>Color and Font theme: Default</strong></p>\n<p><strong>Window&gt;Preferences&gt;Appearance&gt;Color and Fonts</strong> click &quot;<strong>Restore Defaults</strong>&quot;, then &quot;<strong>Apply</strong>&quot; and finally &quot;<strong>Apply and Close</strong>&quot;.</p>\n<p>Restart Eclipse if necessary!</p>\n"}],"owner":{"account_id":11410634,"reputation":9,"user_id":8364878,"display_name":"Flox"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":640,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697462831,"creation_date":1539269812,"question_id":52763204,"body_markdown":"Whenever I hover over a variable or try and see an object&#39;s methods, eclipse keeps giving me a black screen. I can highlight the text and see it that way but it&#39;s super inconvenient. I&#39;ve tried going into preferences and resetting the &quot;hover&quot;, restarted eclipse, closed and reopened the program, but it doesn&#39;t seem to fix anything.\r\n\r\n![image](https://i.stack.imgur.com/XAvsS.png)\r\n\r\nHere&#39;s what it looks like. Any help would be appreciated.","title":"Eclipse hovering over variables blackscreen","body":"<p>Whenever I hover over a variable or try and see an object's methods, eclipse keeps giving me a black screen. I can highlight the text and see it that way but it's super inconvenient. I've tried going into preferences and resetting the \"hover\", restarted eclipse, closed and reopened the program, but it doesn't seem to fix anything.</p>\n\n<p><img src=\"https://i.stack.imgur.com/XAvsS.png\" alt=\"image\"></p>\n\n<p>Here's what it looks like. Any help would be appreciated.</p>\n"},{"tags":["java","spring-boot","liquibase"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697463048,"post_id":77302378,"comment_id":136279357,"body_markdown":"non Java files must be in `src/main/resources` if you don&#39;t place them there they wil be ignored by maven.","body":"non Java files must be in <code>src&#47;main&#47;resources</code> if you don&#39;t place them there they wil be ignored by maven."},{"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"score":0,"creation_date":1697463809,"post_id":77302378,"comment_id":136279541,"body_markdown":"if you just want to reuse `changelog-master.yaml` in any project it might be possible to just put it in some common directory at the same level as the very base level of the project and add this directory as resource folder for any project that needs it. for maven the configuration could be found here: https://maven.apache.org/plugins/maven-resources-plugin/examples/resource-directory.html","body":"if you just want to reuse <code>changelog-master.yaml</code> in any project it might be possible to just put it in some common directory at the same level as the very base level of the project and add this directory as resource folder for any project that needs it. for maven the configuration could be found here: <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/resource-directory.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-resources-plugin/examples/&hellip;</a>"}],"owner":{"account_id":10334390,"reputation":31,"user_id":7623075,"display_name":"DigitalMachine"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697462817,"creation_date":1697462817,"question_id":77302378,"body_markdown":"I have here a multimodule project in SpringBoot.\r\n\r\nThe task is to create the DB environment based on liquibase, but the data definition is stored in another subpackage\r\n\r\nFirst there is a project containing shared database code:\r\n\r\n    db-common\r\n    - src\r\n    -- main\r\n    --- java\r\n    ---- com\r\n    ----- myproject\r\n    ------ dbcommon\r\n    ------- dbdao\r\n    -------- ProductDAO.java\r\n    -------- CustomerDAO.java\r\n    ------- db\r\n    -------- changelog\r\n    --------- changelog-master.yaml\r\n\r\n\r\nChangelog-master.yaml is the file containing all data liquibase should use to create the database. Due to the project architecture db-common is just a library.\r\n\r\nDatabase set up should be done from another project customerservice which uses db-common:\r\n\r\n    customerservice\r\n    - src\r\n    -- main\r\n    --- java\r\n    ---- com\r\n    ----- myproject\r\n    ------ customerservice\r\n    \r\nIn customerservice application.properties the following is defined:\r\n\r\n    spring.liquibase.change-log=classpath:com/myproject/dbcommon/db/changelog/changelog-master.yaml\r\n\r\nHowever, Liquibase says: \r\n\r\n    Liquibase failed to start because no change log could be found at classpath:com/myproject/dbcommon/db/changelog/changelog-master.yaml\r\n\r\nRelated dependency in pom.xml of customerservice is set properly, I can use all of those DAOs.\r\n\r\nAny idea how to get liquibase to use changelog-master.yaml from db-common?","title":"Liquibase in SpringBoot load changelog from different module","body":"<p>I have here a multimodule project in SpringBoot.</p>\n<p>The task is to create the DB environment based on liquibase, but the data definition is stored in another subpackage</p>\n<p>First there is a project containing shared database code:</p>\n<pre><code>db-common\n- src\n-- main\n--- java\n---- com\n----- myproject\n------ dbcommon\n------- dbdao\n-------- ProductDAO.java\n-------- CustomerDAO.java\n------- db\n-------- changelog\n--------- changelog-master.yaml\n</code></pre>\n<p>Changelog-master.yaml is the file containing all data liquibase should use to create the database. Due to the project architecture db-common is just a library.</p>\n<p>Database set up should be done from another project customerservice which uses db-common:</p>\n<pre><code>customerservice\n- src\n-- main\n--- java\n---- com\n----- myproject\n------ customerservice\n</code></pre>\n<p>In customerservice application.properties the following is defined:</p>\n<pre><code>spring.liquibase.change-log=classpath:com/myproject/dbcommon/db/changelog/changelog-master.yaml\n</code></pre>\n<p>However, Liquibase says:</p>\n<pre><code>Liquibase failed to start because no change log could be found at classpath:com/myproject/dbcommon/db/changelog/changelog-master.yaml\n</code></pre>\n<p>Related dependency in pom.xml of customerservice is set properly, I can use all of those DAOs.</p>\n<p>Any idea how to get liquibase to use changelog-master.yaml from db-common?</p>\n"},{"tags":["java","android","storage","version","device"],"comments":[{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":1,"creation_date":1663589153,"post_id":73773081,"comment_id":130267960,"body_markdown":"Go for Internal storage directories. It&#39;s same for all android version https://developer.android.com/training/data-storage/app-specific","body":"Go for Internal storage directories. It&#39;s same for all android version <a href=\"https://developer.android.com/training/data-storage/app-specific\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/app-specific</a>"}],"answers":[{"comments":[{"owner":{"account_id":21992727,"reputation":39,"user_id":16265809,"display_name":"Urvish Vocsy"},"score":0,"creation_date":1663591439,"post_id":73773235,"comment_id":130268785,"body_markdown":"hello @blackapps i understand what are you say, but i need to store data into android folder for my application privacy. i&#39;m wanna to use storage like whatsapp. whatsapp can store images, videos, document all is in `storage/emulated/0/Android/media/` without spacial permission ,so what can i do any options or solutions? Thankyou.","body":"hello @blackapps i understand what are you say, but i need to store data into android folder for my application privacy. i&#39;m wanna to use storage like whatsapp. whatsapp can store images, videos, document all is in <code>storage&#47;emulated&#47;0&#47;Android&#47;media&#47;</code> without spacial permission ,so what can i do any options or solutions? Thankyou."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1663592497,"post_id":73773235,"comment_id":130269182,"body_markdown":"Well i can not read this privacy  demand in your original post. There is no privacy for Android 9 and below now. Please update your post. And with getExternalFileDir() you have privacy for all versions. Then explain (in your post ) why `data` folder is no good and why you want `media`.","body":"Well i can not read this privacy  demand in your original post. There is no privacy for Android 9 and below now. Please update your post. And with getExternalFileDir() you have privacy for all versions. Then explain (in your post ) why <code>data</code> folder is no good and why you want <code>media</code>."}],"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663594263,"creation_date":1663589876,"answer_id":73773235,"question_id":73773081,"body_markdown":"For all versions you can store to: storage/emulated/0/Android/data/APP_PACKAGE/. \r\n\r\nOr in general to `getExternalFilesDir()`.\r\n\r\nAlso for all versions you can store to:\r\n\r\n    File dir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS)\r\n           , &quot;MyFolder&quot;);\r\n\r\nUpdate: getExternalFilesDir is not private on Android Q-;\r\n\r\nFor an app private storage location for all versions use `getFilesDir()`.\r\n\r\nFor `media` use getExternalMediaDirs() available since Lollipop but not private on Q- And not private on higher versions for apps with MANAGE_EXTERNAL_STORAGE. And never for file manager apps.","title":"How to save images in storage for all android versions and devices","body":"<p>For all versions you can store to: storage/emulated/0/Android/data/APP_PACKAGE/.</p>\n<p>Or in general to <code>getExternalFilesDir()</code>.</p>\n<p>Also for all versions you can store to:</p>\n<pre><code>File dir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS)\n       , &quot;MyFolder&quot;);\n</code></pre>\n<p>Update: getExternalFilesDir is not private on Android Q-;</p>\n<p>For an app private storage location for all versions use <code>getFilesDir()</code>.</p>\n<p>For <code>media</code> use getExternalMediaDirs() available since Lollipop but not private on Q- And not private on higher versions for apps with MANAGE_EXTERNAL_STORAGE. And never for file manager apps.</p>\n"},{"tags":[],"owner":{"account_id":24564822,"reputation":21,"user_id":18472094,"display_name":"Abhishek Garala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697462739,"creation_date":1697462739,"answer_id":77302368,"question_id":73773081,"body_markdown":"### Kotlin Code for Saving an Image to Internal Storage (Android 13)\r\n\r\nYou can optimize the code for saving an image to internal storage in Android using Kotlin with the following improved code:\r\n\r\n```kotlin\r\nprivate fun saveToInternalStorage(imageUri: Uri) {\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\r\n        val contentValues = ContentValues().apply {\r\n            put(MediaStore.Images.Media.TITLE, imageUri.toString())\r\n            put(MediaStore.Images.Media.DISPLAY_NAME, imageUri.toString())\r\n            put(MediaStore.Images.Media.MIME_TYPE, &quot;image/jpeg&quot;)\r\n        }\r\n\r\n        val contentResolver = this.contentResolver\r\n        val uri: Uri? = contentResolver.insert(MediaStore.Downloads.EXTERNAL_CONTENT_URI, contentValues)\r\n\r\n        uri?.let {\r\n            val fileDescriptor = contentResolver.openFileDescriptor(it, &quot;w&quot;)?.fileDescriptor\r\n            val inputStream: InputStream? = this.getUriInputStream(imageUri)\r\n\r\n            inputStream?.use { input -&gt;\r\n                fileDescriptor?.let { descriptor -&gt;\r\n                    val outputStream = FileOutputStream(descriptor)\r\n                    val buffer = ByteArray(4096)\r\n                    var bytesRead: Int\r\n\r\n                    while (input.read(buffer).also { bytesRead = it } != -1) {\r\n                        outputStream.write(buffer, 0, bytesRead)\r\n                    }\r\n\r\n                    outputStream.flush()\r\n                    outputStream.close()\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n","title":"How to save images in storage for all android versions and devices","body":"<h3>Kotlin Code for Saving an Image to Internal Storage (Android 13)</h3>\n<p>You can optimize the code for saving an image to internal storage in Android using Kotlin with the following improved code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private fun saveToInternalStorage(imageUri: Uri) {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\n        val contentValues = ContentValues().apply {\n            put(MediaStore.Images.Media.TITLE, imageUri.toString())\n            put(MediaStore.Images.Media.DISPLAY_NAME, imageUri.toString())\n            put(MediaStore.Images.Media.MIME_TYPE, &quot;image/jpeg&quot;)\n        }\n\n        val contentResolver = this.contentResolver\n        val uri: Uri? = contentResolver.insert(MediaStore.Downloads.EXTERNAL_CONTENT_URI, contentValues)\n\n        uri?.let {\n            val fileDescriptor = contentResolver.openFileDescriptor(it, &quot;w&quot;)?.fileDescriptor\n            val inputStream: InputStream? = this.getUriInputStream(imageUri)\n\n            inputStream?.use { input -&gt;\n                fileDescriptor?.let { descriptor -&gt;\n                    val outputStream = FileOutputStream(descriptor)\n                    val buffer = ByteArray(4096)\n                    var bytesRead: Int\n\n                    while (input.read(buffer).also { bytesRead = it } != -1) {\n                        outputStream.write(buffer, 0, bytesRead)\n                    }\n\n                    outputStream.flush()\n                    outputStream.close()\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21992727,"reputation":39,"user_id":16265809,"display_name":"Urvish Vocsy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":913,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1697462739,"creation_date":1663589008,"question_id":73773081,"body_markdown":"I need to save images in storage from my android application, my code is working but not for all devices and android versions.\r\n\r\ni need some solution or code from you that can save my images in all device and android versions.\r\n\r\ni need to store data into android folder for my application privacy. i&#39;m wanna to use storage like whatsapp. whatsapp can store images, videos, document all is in storage/emulated/0/Android/media/ without spacial permission and access easily, so what can i do, how can i manage it.\r\n\r\nbut i got issue with some samsung device. to store images in file manager\r\n\r\n**NOTE: I need to save images in all type android version like [Android version 8, 9, 10, 11, 12, etc...] and any device like, [MI, Samsung, Oneplus, etc....]**\r\n","title":"How to save images in storage for all android versions and devices","body":"<p>I need to save images in storage from my android application, my code is working but not for all devices and android versions.</p>\n<p>i need some solution or code from you that can save my images in all device and android versions.</p>\n<p>i need to store data into android folder for my application privacy. i'm wanna to use storage like whatsapp. whatsapp can store images, videos, document all is in storage/emulated/0/Android/media/ without spacial permission and access easily, so what can i do, how can i manage it.</p>\n<p>but i got issue with some samsung device. to store images in file manager</p>\n<p><strong>NOTE: I need to save images in all type android version like [Android version 8, 9, 10, 11, 12, etc...] and any device like, [MI, Samsung, Oneplus, etc....]</strong></p>\n"},{"tags":["java","fonts","pdfbox"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1697462849,"post_id":77302346,"comment_id":136279317,"body_markdown":"Try to disable ligatures for the font, you can do it setting the rendering mode to `RenderingMode.FILL`.","body":"Try to disable ligatures for the font, you can do it setting the rendering mode to <code>RenderingMode.FILL</code>."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1697464556,"post_id":77302346,"comment_id":136279690,"body_markdown":"Please link to the font, or mention it.","body":"Please link to the font, or mention it."},{"owner":{"account_id":29683654,"reputation":21,"user_id":22749769,"display_name":"ab572210"},"score":0,"creation_date":1697465119,"post_id":77302346,"comment_id":136279803,"body_markdown":"@TilmanHausherr Unfortunately I am not able to link to the font. But I can confirm it has an &#39;ft&#39; ligature which is just an empty space","body":"@TilmanHausherr Unfortunately I am not able to link to the font. But I can confirm it has an &#39;ft&#39; ligature which is just an empty space"},{"owner":{"account_id":29683654,"reputation":21,"user_id":22749769,"display_name":"ab572210"},"score":0,"creation_date":1697466293,"post_id":77302346,"comment_id":136280057,"body_markdown":"@DiegoBorba setting the rendering mode does not disable ligatures for me","body":"@DiegoBorba setting the rendering mode does not disable ligatures for me"},{"owner":{"account_id":29683654,"reputation":21,"user_id":22749769,"display_name":"ab572210"},"score":0,"creation_date":1697469618,"post_id":77302346,"comment_id":136280706,"body_markdown":"@TilmanHausherr This also has no effect.","body":"@TilmanHausherr This also has no effect."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1697470907,"post_id":77302346,"comment_id":136280930,"body_markdown":"I looked into the code and I couldn&#39;t find how to disable it. And worse, I couldn&#39;t easily find a way to add this as a feature that could be switched on and off :-(","body":"I looked into the code and I couldn&#39;t find how to disable it. And worse, I couldn&#39;t easily find a way to add this as a feature that could be switched on and off :-("},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1697471855,"post_id":77302346,"comment_id":136281121,"body_markdown":"Out of curiosity, *&quot;But I can confirm it has an &#39;ft&#39; ligature which is just an empty space&quot;* - Can you not switch to a font that either has an &#39;ft&#39; ligature that displays as &#39;ft&#39;, or that has no &#39;ft&#39; ligature to start with?","body":"Out of curiosity, <i>&quot;But I can confirm it has an &#39;ft&#39; ligature which is just an empty space&quot;</i> - Can you not switch to a font that either has an &#39;ft&#39; ligature that displays as &#39;ft&#39;, or that has no &#39;ft&#39; ligature to start with?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1697479167,"post_id":77302346,"comment_id":136282369,"body_markdown":"I&#39;ve created https://issues.apache.org/jira/browse/PDFBOX-5700 . My feeling is that it&#39;s a design flaw. Can you find out whether there is an updated version of that font? Or complain to the vendor?","body":"I&#39;ve created <a href=\"https://issues.apache.org/jira/browse/PDFBOX-5700\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/PDFBOX-5700</a> . My feeling is that it&#39;s a design flaw. Can you find out whether there is an updated version of that font? Or complain to the vendor?"},{"owner":{"account_id":29683654,"reputation":21,"user_id":22749769,"display_name":"ab572210"},"score":0,"creation_date":1697525600,"post_id":77302346,"comment_id":136287248,"body_markdown":"@mkl unfortunately it is a proprietary font that must be used. I will contact the vendor in the meantime","body":"@mkl unfortunately it is a proprietary font that must be used. I will contact the vendor in the meantime"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1697544816,"post_id":77302346,"comment_id":136290852,"body_markdown":"*&quot;unfortunately it is a proprietary font that must be used&quot;* - Have you considered repairing it in a font editor?","body":"<i>&quot;unfortunately it is a proprietary font that must be used&quot;</i> - Have you considered repairing it in a font editor?"},{"owner":{"account_id":29683654,"reputation":21,"user_id":22749769,"display_name":"ab572210"},"score":0,"creation_date":1697698438,"post_id":77302346,"comment_id":136313033,"body_markdown":"@mkl this appears to be the way forward for now. Thanks","body":"@mkl this appears to be the way forward for now. Thanks"}],"owner":{"account_id":29683654,"reputation":21,"user_id":22749769,"display_name":"ab572210"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1697462557,"creation_date":1697462557,"question_id":77302346,"body_markdown":"I am having an issue with PDFBox 3.0 that does not happen in PDFBox 2. When displaying text in a loaded TTF font, all occurences of the string &#39;ft&#39; are replaced with &#39; &#39;. I&#39;ve narrowed this down to a ligature for &#39;ft&#39; missing from the font file. In previous versions this would simply print &#39;ft&#39; but in 3.0 this is now empty space. Is there any way to switch off ligatures for the font or a fallback so the text will print correctly?\r\n\r\nCode sample:\r\n\r\n```\r\nPDFont font = PDType0Font.load(doc, getClass().getResourceAsStream(PATH_TO_FONT));\r\ncontentStream.setFont(font, 20);\r\ncontentStream.beginText();\r\ncontentStream.showText(&quot;This is a gift message. f t.&quot;);\r\ncontentStream.endText();\r\n```\r\n\r\nThis will display &#39;This is a gi  message. f t.&#39; on the PDF. (This works fine with the built in fonts.)\r\n\r\nI have also tried the below with no success:\r\n\r\n```\r\nTrueTypeFont ttf = new TTFParser().parse(...);\r\nttf.disableGsubFeature(&quot;liga&quot;);\r\nPDFont font = PDType0Font.load(doc, ttf, false);","title":"Missing ligature in font causing missing text in PDFBox 3.0","body":"<p>I am having an issue with PDFBox 3.0 that does not happen in PDFBox 2. When displaying text in a loaded TTF font, all occurences of the string 'ft' are replaced with ' '. I've narrowed this down to a ligature for 'ft' missing from the font file. In previous versions this would simply print 'ft' but in 3.0 this is now empty space. Is there any way to switch off ligatures for the font or a fallback so the text will print correctly?</p>\n<p>Code sample:</p>\n<pre><code>PDFont font = PDType0Font.load(doc, getClass().getResourceAsStream(PATH_TO_FONT));\ncontentStream.setFont(font, 20);\ncontentStream.beginText();\ncontentStream.showText(&quot;This is a gift message. f t.&quot;);\ncontentStream.endText();\n</code></pre>\n<p>This will display 'This is a gi  message. f t.' on the PDF. (This works fine with the built in fonts.)</p>\n<p>I have also tried the below with no success:</p>\n<pre><code>TrueTypeFont ttf = new TTFParser().parse(...);\nttf.disableGsubFeature(&quot;liga&quot;);\nPDFont font = PDType0Font.load(doc, ttf, false);\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":3298842,"reputation":14301,"user_id":2775450,"accept_rate":71,"display_name":"Codebender"},"score":2,"creation_date":1439366469,"post_id":31959352,"comment_id":51826566,"body_markdown":"Did you take a look at `String.replace()` method?","body":"Did you take a look at <code>String.replace()</code> method?"},{"owner":{"account_id":541043,"reputation":566,"user_id":909447,"accept_rate":60,"display_name":"Tator"},"score":4,"creation_date":1439366516,"post_id":31959352,"comment_id":51826591,"body_markdown":"i just googled the title of your question - the results were shocking","body":"i just googled the title of your question - the results were shocking"},{"owner":{"account_id":205351,"reputation":3275,"user_id":454063,"accept_rate":86,"display_name":"Chris"},"score":0,"creation_date":1439366807,"post_id":31959352,"comment_id":51826774,"body_markdown":"possible duplicate of [String replace a Backslash](http://stackoverflow.com/questions/5596458/string-replace-a-backslash) or at least very similar (no need for separate question for replacing any possible character)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5596458/string-replace-a-backslash\">String replace a Backslash</a> or at least very similar (no need for separate question for replacing any possible character)"},{"owner":{"account_id":111584,"reputation":2209,"user_id":294696,"accept_rate":100,"display_name":"Mikk"},"score":1,"creation_date":1439366818,"post_id":31959352,"comment_id":51826778,"body_markdown":"possible duplicate of [replace String with another in java](http://stackoverflow.com/questions/5216272/replace-string-with-another-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5216272/replace-string-with-another-in-java\">replace String with another in java</a>"}],"answers":[{"comments":[{"owner":{"account_id":161330,"reputation":13740,"user_id":381995,"accept_rate":73,"display_name":"buckley"},"score":0,"creation_date":1439366689,"post_id":31959392,"comment_id":51826694,"body_markdown":"Is the escape character required?","body":"Is the escape character required?"},{"owner":{"account_id":3210103,"reputation":1587,"user_id":2710264,"accept_rate":20,"display_name":"wawek"},"score":0,"creation_date":1439366748,"post_id":31959392,"comment_id":51826735,"body_markdown":"Not at all. It&#39;s a habit ;)","body":"Not at all. It&#39;s a habit ;)"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1697462845,"post_id":31959392,"comment_id":136279315,"body_markdown":"Please prefer `replace` over `replaceAll` if you do not need REGEX (as shown here). The naming is unfortunate, but `replace` also repales **all** occurences.","body":"Please prefer <code>replace</code> over <code>replaceAll</code> if you do not need REGEX (as shown here). The naming is unfortunate, but <code>replace</code> also repales <b>all</b> occurences."}],"tags":[],"owner":{"account_id":3210103,"reputation":1587,"user_id":2710264,"accept_rate":20,"display_name":"wawek"},"comment_count":3,"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1439366494,"creation_date":1439366494,"answer_id":31959392,"question_id":31959352,"body_markdown":"    str = str.replaceAll(&quot;\\&#39;&quot;,&quot;&quot;);","title":"Remove single quotes in a string Java","body":"<pre><code>str = str.replaceAll(\"\\'\",\"\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1439367144,"post_id":31959396,"comment_id":51826978,"body_markdown":"This will replace all single apostrophes, not just those round `ICE`.","body":"This will replace all single apostrophes, not just those round <code>ICE</code>."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1697462841,"post_id":31959396,"comment_id":136279314,"body_markdown":"Please prefer `replace` over `replaceAll` if you do not need REGEX (as shown here). The naming is unfortunate, but `replace` also repales **all** occurences.","body":"Please prefer <code>replace</code> over <code>replaceAll</code> if you do not need REGEX (as shown here). The naming is unfortunate, but <code>replace</code> also repales <b>all</b> occurences."}],"tags":[],"owner":{"account_id":6017202,"reputation":5167,"user_id":4725592,"accept_rate":65,"display_name":"Harshit"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1439366497,"creation_date":1439366497,"answer_id":31959396,"question_id":31959352,"body_markdown":"Use this\r\n\r\n    String str = &quot;The State of the water = &#39;ICE&#39;&quot;;\r\n    str = str.replaceAll(&quot;&#39;&quot;,&quot;&quot;);","title":"Remove single quotes in a string Java","body":"<p>Use this</p>\n\n<pre><code>String str = \"The State of the water = 'ICE'\";\nstr = str.replaceAll(\"'\",\"\");\n</code></pre>\n"}],"owner":{"account_id":1875033,"reputation":1104,"user_id":1696421,"accept_rate":53,"display_name":"fiddle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25414,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":31959392,"answer_count":2,"score":7,"last_activity_date":1697462415,"creation_date":1439366388,"question_id":31959352,"body_markdown":"I need some help to replace all the single quotes in a string.\r\n\r\nThis is my string:\r\n\r\n    String myString = &quot;The State of the water = &#39;ICE&#39;&quot;;\r\n\r\n    // I want to remove the single quotes around ICE\r\n\r\n    System.out.println(myString); // The State of the water = ICE","title":"Remove single quotes in a string Java","body":"<p>I need some help to replace all the single quotes in a string.</p>\n<p>This is my string:</p>\n<pre><code>String myString = &quot;The State of the water = 'ICE'&quot;;\n\n// I want to remove the single quotes around ICE\n\nSystem.out.println(myString); // The State of the water = ICE\n</code></pre>\n"},{"tags":["java","arraylist","multidimensional-array"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1634867263,"post_id":69670506,"comment_id":123148022,"body_markdown":"Your are storing EMP records but are searching use a String.","body":"Your are storing EMP records but are searching use a String."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1634867297,"post_id":69670506,"comment_id":123148031,"body_markdown":"As per the javadocs *Returns the index of the first occurrence of the specified element in this list, or -1 if this list does not contain the element.*  If you have an ID of `Fred` it will not be found because Your list does not contain a String Object `Fred` - see this answer https://stackoverflow.com/a/13139071/2310289","body":"As per the javadocs <i>Returns the index of the first occurrence of the specified element in this list, or -1 if this list does not contain the element.</i>  If you have an ID of <code>Fred</code> it will not be found because Your list does not contain a String Object <code>Fred</code> - see this answer <a href=\"https://stackoverflow.com/a/13139071/2310289\">stackoverflow.com/a/13139071/2310289</a>"}],"answers":[{"comments":[{"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"score":0,"creation_date":1634902956,"post_id":69670564,"comment_id":123158021,"body_markdown":"You have to define a getter method inside `Emp` class:  `public String getId() {\n        return id;\n    }`","body":"You have to define a getter method inside <code>Emp</code> class:  <code>public String getId() {         return id;     }</code>"}],"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634867789,"creation_date":1634867529,"answer_id":69670564,"question_id":69670506,"body_markdown":"You can simply use `removeIf` and provide a predicate like this:\r\n\r\n```java\r\nid = IDin.getText();\r\nrecord.removeIf(emp -&gt; emp.getId().equals(id)); //add null check if needed\r\n```\r\n\r\n[boolean removeIf(Predicate&lt;? super E&gt; filter)][1]\r\n\r\n&gt; Removes all of the elements of this collection that satisfy the given\r\n&gt; predicate. Errors or runtime exceptions thrown during iteration or by\r\n&gt; the predicate are relayed to the caller.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html#removeIf-java.util.function.Predicate-","title":"Multidimensional arrayList get ID and remove the entire list from the arrayList","body":"<p>You can simply use <code>removeIf</code> and provide a predicate like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>id = IDin.getText();\nrecord.removeIf(emp -&gt; emp.getId().equals(id)); //add null check if needed\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html#removeIf-java.util.function.Predicate-\" rel=\"nofollow noreferrer\">boolean removeIf(Predicate&lt;? super E&gt; filter)</a></p>\n<blockquote>\n<p>Removes all of the elements of this collection that satisfy the given\npredicate. Errors or runtime exceptions thrown during iteration or by\nthe predicate are relayed to the caller.</p>\n</blockquote>\n"}],"owner":{"account_id":22910360,"reputation":15,"user_id":17047723,"display_name":"EverGreat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69670564,"answer_count":1,"score":0,"last_activity_date":1697462352,"creation_date":1634866718,"question_id":69670506,"body_markdown":"```\r\nclass Emp {\r\n\r\n    String ID, FName, LName, ASalary, StartDate;\r\n\r\n    Emp(String _ID, String _FName, String _LName, String _ASalary, String _StartDate) {\r\n        ID = _ID;\r\n        FName = _FName;\r\n        LName = _LName;\r\n        ASalary = _ASalary;\r\n        StartDate = _StartDate;\r\n    }\r\n}\r\n\r\nArrayList&lt; Emp&gt; Record = new ArrayList&lt; Emp&gt;();\r\n\r\n\r\n private void btnRemoveActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n        String ID;\r\n\r\n        ID = IDin.getText();\r\n     \r\n        int firstIndex = Record.indexOf(ID);\r\n        Record.remove(firstIndex);\r\n        Display.setText(&quot;remove &quot; + ID + &quot; Indext of &quot; + firstIndex);\r\n}      \r\n```\r\nIt returns -1 as it couldn&#39;t find ID in the ArrayList, I just need to get ID number and remove the entire ArrayList with that ID number ","title":"Multidimensional arrayList get ID and remove the entire list from the arrayList","body":"<pre><code>class Emp {\n\n    String ID, FName, LName, ASalary, StartDate;\n\n    Emp(String _ID, String _FName, String _LName, String _ASalary, String _StartDate) {\n        ID = _ID;\n        FName = _FName;\n        LName = _LName;\n        ASalary = _ASalary;\n        StartDate = _StartDate;\n    }\n}\n\nArrayList&lt; Emp&gt; Record = new ArrayList&lt; Emp&gt;();\n\n\n private void btnRemoveActionPerformed(java.awt.event.ActionEvent evt) {                                          \n        String ID;\n\n        ID = IDin.getText();\n     \n        int firstIndex = Record.indexOf(ID);\n        Record.remove(firstIndex);\n        Display.setText(&quot;remove &quot; + ID + &quot; Indext of &quot; + firstIndex);\n}      \n</code></pre>\n<p>It returns -1 as it couldn't find ID in the ArrayList, I just need to get ID number and remove the entire ArrayList with that ID number</p>\n"},{"tags":["java","spring","tomcat","spring-boot","nosuchmethoderror"],"comments":[{"owner":{"account_id":374564,"reputation":4903,"user_id":724835,"accept_rate":100,"display_name":"JustinKSU"},"score":1,"creation_date":1447275869,"post_id":33658460,"comment_id":55093161,"body_markdown":"Consider adding &lt;version&gt;${spring.version}&lt;/version&gt; to your Spring dependencies.","body":"Consider adding &lt;version&gt;${spring.version}&lt;/version&gt; to your Spring dependencies."},{"owner":{"account_id":7245590,"reputation":870,"user_id":5527604,"display_name":"Kabir"},"score":0,"creation_date":1447276066,"post_id":33658460,"comment_id":55093262,"body_markdown":"ah yes! You&#39;re correct.  Its a spring class method :)","body":"ah yes! You&#39;re correct.  Its a spring class method :)"},{"owner":{"account_id":4012264,"reputation":59,"user_id":3305325,"accept_rate":50,"display_name":"Puls"},"score":0,"creation_date":1447322850,"post_id":33658460,"comment_id":55110679,"body_markdown":"@JustinKSU if i add spring.version i become this warnung: `This expression evaluates to 4.1.8.RELEASE The property is defined in org.springframework.boot:spring-boot-dependencies:1.2.7.RELEASE`","body":"@JustinKSU if i add spring.version i become this warnung: <code>This expression evaluates to 4.1.8.RELEASE The property is defined in org.springframework.boot:spring-boot-dependencies:1.2.7.RELE&zwnj;&#8203;ASE</code>"},{"owner":{"account_id":4012264,"reputation":59,"user_id":3305325,"accept_rate":50,"display_name":"Puls"},"score":0,"creation_date":1447323455,"post_id":33658460,"comment_id":55111075,"body_markdown":"@JustinKSU i get the same exception with &lt;version&gt;${spring.version}&lt;/version&gt;","body":"@JustinKSU i get the same exception with &lt;version&gt;${spring.version}&lt;/version&gt;"},{"owner":{"account_id":1177806,"reputation":927,"user_id":1153366,"accept_rate":30,"display_name":"djnose"},"score":1,"creation_date":1447324039,"post_id":33658460,"comment_id":55111465,"body_markdown":"If you get a NoSuchMethod, it is very likely that this class is loaded already in a different version. Best way to find out is to check the dependencies like: `mvn dependency:tree &gt; c:\\dep.txt`","body":"If you get a NoSuchMethod, it is very likely that this class is loaded already in a different version. Best way to find out is to check the dependencies like: <code>mvn dependency:tree &gt; c:\\dep.txt</code>"}],"answers":[{"tags":[],"owner":{"account_id":4012264,"reputation":59,"user_id":3305325,"accept_rate":50,"display_name":"Puls"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447324108,"creation_date":1447324108,"answer_id":33669291,"question_id":33658460,"body_markdown":"I found my mistake. I would have also add spring-android-core in my project shared library *lisa*.\r\n\r\n&gt; Dont use **spring-android-core** and **spring-core** in classpath.","title":"Spring Boot throws NoSuchMethodError org.springframework.util.StringUtils.isEmpty on external tomcat deployment","body":"<p>I found my mistake. I would have also add spring-android-core in my project shared library <em>lisa</em>.</p>\n\n<blockquote>\n  <p>Dont use <strong>spring-android-core</strong> and <strong>spring-core</strong> in classpath.</p>\n</blockquote>\n"}],"owner":{"account_id":4012264,"reputation":59,"user_id":3305325,"accept_rate":50,"display_name":"Puls"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697461651,"creation_date":1447270499,"question_id":33658460,"body_markdown":"I deloy a spring rest service as war file on external tomcat with spring-boot.\r\n\r\n&gt; Caused by: java.lang.NoSuchMethodError: org.springframework.util.StringUtils.isEmpty(Ljava/lang/Object;)Z\r\n\r\nThe spring versions are managed by *spring-boot-starter-parent* in maven but always i get an exception which typical for incompatible spring version. I test with:\r\n\r\n - spring-boot-starter-parent v*1.2.7.RELEASE* and v*1.3.0.BUILD-SNAPSHOT*\r\n\r\n - tomcat v8.0.3 and 8.0.28\r\n\r\nThe strange is i also deployed as runnable jar file that is bug-free. I have also decompile war file and found [org.springframework.util.StringUtils.isEmpty][1] in *\\WEB-INF\\lib\\spring-core-4.1.8.RELEASE*.\r\n\r\nI checked also maven debug output and find only one spring-core artifact with correct version (4.1.8.RELEASE).\r\n\r\nIt is possible that tomcat use spring-core also internal and there is a conflict?\r\n\r\n**Exception in Tomcat logfile by deployment:**\r\n\r\n    Caused by: java.lang.NoSuchMethodError: org.springframework.util.StringUtils.isEmpty(Ljava/lang/Object;)Z\r\n    \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.getLogger(LogbackLoggingSystem.java:159)\r\n    \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.beforeInitialize(LogbackLoggingSystem.java:91)\r\n    \tat org.springframework.boot.logging.LoggingApplicationListener.onApplicationStartedEvent(LoggingApplicationListener.java:155)\r\n    \tat org.springframework.boot.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:141)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:151)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:128)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.publishEvent(EventPublishingRunListener.java:100)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.started(EventPublishingRunListener.java:54)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:278)\r\n    \tat org.springframework.boot.context.web.SpringBootServletInitializer.run(SpringBootServletInitializer.java:134)\r\n    \tat org.springframework.boot.context.web.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:125)\r\n    \tat org.springframework.boot.context.web.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:81)\r\n    \tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:175)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5170)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 45 more\r\n\r\n**My pom.xml:**\r\n\r\n    ...\r\n    &lt;parent&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.2.7.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;properties&gt;\r\n    \t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;de.cherrypit&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;lisa&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;0.1.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;5.0.2.Final&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;activemq-broker&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;repositories&gt;\r\n    \t&lt;repository&gt;\r\n    \t\t&lt;id&gt;spring-releases&lt;/id&gt;\r\n    \t\t&lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n    \t&lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;pluginRepositories&gt;\r\n    \t&lt;pluginRepository&gt;\r\n    \t\t&lt;id&gt;spring-releases&lt;/id&gt;\r\n    \t\t&lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n    \t&lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    ...\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/4.1.8.RELEASE/javadoc-api/","title":"Spring Boot throws NoSuchMethodError org.springframework.util.StringUtils.isEmpty on external tomcat deployment","body":"<p>I deloy a spring rest service as war file on external tomcat with spring-boot.</p>\n\n<blockquote>\n  <p>Caused by: java.lang.NoSuchMethodError: org.springframework.util.StringUtils.isEmpty(Ljava/lang/Object;)Z</p>\n</blockquote>\n\n<p>The spring versions are managed by <em>spring-boot-starter-parent</em> in maven but always i get an exception which typical for incompatible spring version. I test with:</p>\n\n<ul>\n<li><p>spring-boot-starter-parent v*1.2.7.RELEASE* and v*1.3.0.BUILD-SNAPSHOT*</p></li>\n<li><p>tomcat v8.0.3 and 8.0.28</p></li>\n</ul>\n\n<p>The strange is i also deployed as runnable jar file that is bug-free. I have also decompile war file and found <a href=\"http://docs.spring.io/spring/docs/4.1.8.RELEASE/javadoc-api/\" rel=\"nofollow\">org.springframework.util.StringUtils.isEmpty</a> in <em>\\WEB-INF\\lib\\spring-core-4.1.8.RELEASE</em>.</p>\n\n<p>I checked also maven debug output and find only one spring-core artifact with correct version (4.1.8.RELEASE).</p>\n\n<p>It is possible that tomcat use spring-core also internal and there is a conflict?</p>\n\n<p><strong>Exception in Tomcat logfile by deployment:</strong></p>\n\n<pre><code>Caused by: java.lang.NoSuchMethodError: org.springframework.util.StringUtils.isEmpty(Ljava/lang/Object;)Z\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.getLogger(LogbackLoggingSystem.java:159)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.beforeInitialize(LogbackLoggingSystem.java:91)\n    at org.springframework.boot.logging.LoggingApplicationListener.onApplicationStartedEvent(LoggingApplicationListener.java:155)\n    at org.springframework.boot.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:141)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:151)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:128)\n    at org.springframework.boot.context.event.EventPublishingRunListener.publishEvent(EventPublishingRunListener.java:100)\n    at org.springframework.boot.context.event.EventPublishingRunListener.started(EventPublishingRunListener.java:54)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:278)\n    at org.springframework.boot.context.web.SpringBootServletInitializer.run(SpringBootServletInitializer.java:134)\n    at org.springframework.boot.context.web.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:125)\n    at org.springframework.boot.context.web.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:81)\n    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:175)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5170)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 45 more\n</code></pre>\n\n<p><strong>My pom.xml:</strong></p>\n\n<pre><code>...\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.2.7.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;de.cherrypit&lt;/groupId&gt;\n        &lt;artifactId&gt;lisa&lt;/artifactId&gt;\n        &lt;version&gt;0.1.1-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.0.2.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n        &lt;artifactId&gt;activemq-broker&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-releases&lt;/id&gt;\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;spring-releases&lt;/id&gt;\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n...\n</code></pre>\n"},{"tags":["java","console-application"],"answers":[{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1245157499,"creation_date":1245157499,"answer_id":1001353,"question_id":1001335,"body_markdown":"I don&#39;t think there&#39;s a built-in function to do that in Java.  There&#39;s a Java curses library called [JCurses][1] that you can use though.\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/javacurses/","title":"Move console cursor to specified position","body":"<p>I don't think there's a built-in function to do that in Java.  There's a Java curses library called <a href=\"http://sourceforge.net/projects/javacurses/\" rel=\"noreferrer\">JCurses</a> that you can use though.</p>\n"},{"tags":[],"owner":{"account_id":35995,"reputation":40091,"user_id":102371,"accept_rate":100,"display_name":"John Weldon"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1245157539,"creation_date":1245157539,"answer_id":1001357,"question_id":1001335,"body_markdown":"Not without pulling in a console `curses` style library...\r\n\r\nYou can try [javacurses][1] and see if that helps you.\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/javacurses/","title":"Move console cursor to specified position","body":"<p>Not without pulling in a console <code>curses</code> style library...</p>\n\n<p>You can try <a href=\"http://sourceforge.net/projects/javacurses/\" rel=\"nofollow noreferrer\">javacurses</a> and see if that helps you.</p>\n"},{"comments":[{"owner":{"account_id":1243932,"reputation":2419,"user_id":1210278,"accept_rate":64,"display_name":"Riking"},"score":2,"creation_date":1353738389,"post_id":1001368,"comment_id":18540222,"body_markdown":"These are ANSI control codes. http://en.wikipedia.org/wiki/ANSI_escape_code ANSI&#39;s even in the end of the link, but I don&#39;t blame you for not recognizing it.","body":"These are ANSI control codes. <a href=\"http://en.wikipedia.org/wiki/ANSI_escape_code\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/ANSI_escape_code</a> ANSI&#39;s even in the end of the link, but I don&#39;t blame you for not recognizing it."},{"owner":{"account_id":5681742,"reputation":268,"user_id":4492682,"display_name":"Tmr"},"score":0,"creation_date":1476088232,"post_id":1001368,"comment_id":67188082,"body_markdown":"I think actually this can work even in Windows! \nSimply run your program in PowerShell instead of the in the regular command prompt. \nEither start PowerShell and then from there run your program or in the regular command prompt type `powershell` to start PowerShell and then in PowerShell start your program. \nThis might require Windows 10 with the Anniversary Update.","body":"I think actually this can work even in Windows!  Simply run your program in PowerShell instead of the in the regular command prompt.  Either start PowerShell and then from there run your program or in the regular command prompt type <code>powershell</code> to start PowerShell and then in PowerShell start your program.  This might require Windows 10 with the Anniversary Update."},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1520588195,"post_id":1001368,"comment_id":85386251,"body_markdown":"@bmdelacruz doesn&#39;t work in my Windows 7 PowerShell :( Did you run it with any option?","body":"@bmdelacruz doesn&#39;t work in my Windows 7 PowerShell :( Did you run it with any option?"},{"owner":{"account_id":8533445,"reputation":2476,"user_id":6396174,"display_name":"bmdelacruz"},"score":0,"creation_date":1520588851,"post_id":1001368,"comment_id":85386653,"body_markdown":"I used Windows 10 Powershell to try it out. I&#39;m sorry, i don&#39;t know if i tried to run it with any options. I can&#39;t even remember where I used this. &#128514;","body":"I used Windows 10 Powershell to try it out. I&#39;m sorry, i don&#39;t know if i tried to run it with any options. I can&#39;t even remember where I used this. 😂"},{"owner":{"account_id":966303,"reputation":808,"user_id":989681,"display_name":"maraswrona"},"score":0,"creation_date":1538149221,"post_id":1001368,"comment_id":92055891,"body_markdown":"For me it doesn&#39;t work on Windows 10 (neither powershell, nor cmd), but it does work on cygwin.","body":"For me it doesn&#39;t work on Windows 10 (neither powershell, nor cmd), but it does work on cygwin."},{"owner":{"account_id":7696436,"reputation":2059,"user_id":5830773,"display_name":"M. Schena"},"score":0,"creation_date":1541622115,"post_id":1001368,"comment_id":93282945,"body_markdown":"this works on Windows 10 Version 1803 on the PowerShell and CMD","body":"this works on Windows 10 Version 1803 on the PowerShell and CMD"}],"tags":[],"owner":{"account_id":32598,"reputation":13160,"user_id":90573,"display_name":"Tom Jefferys"},"comment_count":6,"down_vote_count":1,"up_vote_count":43,"is_accepted":true,"score":42,"last_activity_date":1245160405,"creation_date":1245157622,"answer_id":1001368,"question_id":1001335,"body_markdown":"If by gotoxy(x,y), you want to reposition your cursor somewhere specific on the console, you can usually use VT100 control codes to do this.  See http://www.termsys.demon.co.uk/vtansi.htm.\r\n\r\nDo something like\r\n\r\n    char escCode = 0x1B;\r\n    int row = 10; int column = 10;\r\n    System.out.print(String.format(&quot;%c[%d;%df&quot;,escCode,row,column));\r\n\r\nWhich should move the cursor to position 10,10 on the console.\r\n\r\n","title":"Move console cursor to specified position","body":"<p>If by gotoxy(x,y), you want to reposition your cursor somewhere specific on the console, you can usually use VT100 control codes to do this.  See <a href=\"http://www.termsys.demon.co.uk/vtansi.htm\" rel=\"noreferrer\">http://www.termsys.demon.co.uk/vtansi.htm</a>.</p>\n\n<p>Do something like</p>\n\n<pre><code>char escCode = 0x1B;\nint row = 10; int column = 10;\nSystem.out.print(String.format(\"%c[%d;%df\",escCode,row,column));\n</code></pre>\n\n<p>Which should move the cursor to position 10,10 on the console.</p>\n"},{"comments":[{"owner":{"account_id":18637,"reputation":1343,"user_id":42900,"display_name":"oberhamsi"},"score":0,"creation_date":1376853408,"post_id":16148982,"comment_id":26855483,"body_markdown":"I only found laterna could do the one, very basic thing I neded: `write(char, x, y, foreground, background)`. do you know of a more recent replacement or any alternatives? i&#39;ll probably go with laterna but found this topic difficult to research.","body":"I only found laterna could do the one, very basic thing I neded: <code>write(char, x, y, foreground, background)</code>. do you know of a more recent replacement or any alternatives? i&#39;ll probably go with laterna but found this topic difficult to research."},{"owner":{"account_id":262850,"reputation":5367,"user_id":548020,"accept_rate":75,"display_name":"CodeZombie"},"score":1,"creation_date":1377595031,"post_id":16148982,"comment_id":27131835,"body_markdown":"@oberhamsi: Use `screen.putString()`. Example: `screen.putString(0, 0, &quot;foo&quot;, Color.WHITE, Color.BLACK);`","body":"@oberhamsi: Use <code>screen.putString()</code>. Example: <code>screen.putString(0, 0, &quot;foo&quot;, Color.WHITE, Color.BLACK);</code>"}],"tags":[],"owner":{"account_id":262850,"reputation":5367,"user_id":548020,"accept_rate":75,"display_name":"CodeZombie"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1665504207,"creation_date":1366638981,"answer_id":16148982,"question_id":1001335,"body_markdown":"I found [Lanterna][1] to be a very good library. It does not dependend on any native library but runs 100% in pure Java.\r\n\r\nIt offers a `Screen` class which allows text output based on a coordinate system. For OS with a graphical environment it uses a Swing based terminal emulator. Unfortunately, you are not able to force terminal mode on Windows, so if you really need the terminal, use one of the solutions in the other answers.\r\n\r\n  [1]: https://github.com/mabe02/lanterna/","title":"Move console cursor to specified position","body":"<p>I found <a href=\"https://github.com/mabe02/lanterna/\" rel=\"nofollow noreferrer\">Lanterna</a> to be a very good library. It does not dependend on any native library but runs 100% in pure Java.</p>\n<p>It offers a <code>Screen</code> class which allows text output based on a coordinate system. For OS with a graphical environment it uses a Swing based terminal emulator. Unfortunately, you are not able to force terminal mode on Windows, so if you really need the terminal, use one of the solutions in the other answers.</p>\n"},{"tags":[],"owner":{"account_id":24296451,"reputation":11,"user_id":18240597,"display_name":"ItsMorze"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697460408,"creation_date":1697380407,"answer_id":77297100,"question_id":1001335,"body_markdown":"The easiest way to do that in my opinion is using [*ANSI escape sequences*][1].  \r\n\r\nFor this specific operation we&#39;ll use the escape sequence `H`, to move to the point x,y we&#39;ll print to the screen `ESC x;yH`.  \r\n\r\nIn java that will be `System.out.print(&quot;\\u001B&quot; + x + &quot;;&quot; + y + &quot;H&quot;);`\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ANSI_escape_code","title":"Move console cursor to specified position","body":"<p>The easiest way to do that in my opinion is using <a href=\"https://en.wikipedia.org/wiki/ANSI_escape_code\" rel=\"nofollow noreferrer\"><em>ANSI escape sequences</em></a>.</p>\n<p>For this specific operation we'll use the escape sequence <code>H</code>, to move to the point x,y we'll print to the screen <code>ESC x;yH</code>.</p>\n<p>In java that will be <code>System.out.print(&quot;\\u001B&quot; + x + &quot;;&quot; + y + &quot;H&quot;);</code></p>\n"}],"owner":{"account_id":34192,"reputation":3560,"user_id":96389,"accept_rate":75,"display_name":"setzamora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53653,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":1001368,"answer_count":5,"score":28,"last_activity_date":1697460408,"creation_date":1245157271,"question_id":1001335,"body_markdown":"I&#39;m writing a simple console application (80x24) in Java.\r\n\r\nIs there a `gotoxy(x,y)` equivalent for the console?","title":"Move console cursor to specified position","body":"<p>I'm writing a simple console application (80x24) in Java.</p>\n<p>Is there a <code>gotoxy(x,y)</code> equivalent for the console?</p>\n"},{"tags":["java","swing","fest"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1342967743,"post_id":11601094,"comment_id":15355953,"body_markdown":"Are you using a background thread for this?","body":"Are you using a background thread for this?"},{"owner":{"account_id":1180001,"reputation":1268,"user_id":1155122,"accept_rate":52,"display_name":"whomaniac"},"score":0,"creation_date":1342968487,"post_id":11601094,"comment_id":15356082,"body_markdown":"There is the multithreaded gui program and the test is running on a seperate thread. I have a sleep call before calling the finder.","body":"There is the multithreaded gui program and the test is running on a seperate thread. I have a sleep call before calling the finder."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1342968605,"post_id":11601094,"comment_id":15356109,"body_markdown":"But you&#39;re absolutely sure that the call to set the JOptionPane visible and the code above are on two completely distinct threads, right?","body":"But you&#39;re absolutely sure that the call to set the JOptionPane visible and the code above are on two completely distinct threads, right?"},{"owner":{"account_id":1180001,"reputation":1268,"user_id":1155122,"accept_rate":52,"display_name":"whomaniac"},"score":0,"creation_date":1342968952,"post_id":11601094,"comment_id":15356169,"body_markdown":"yes. This part of an automation test. So the JOptionPane&#39;s visibilty configuration is not in the test code. Maybe in the gui code i need to correctly pass the parent frame of my OptionPane popup when I create it?","body":"yes. This part of an automation test. So the JOptionPane&#39;s visibilty configuration is not in the test code. Maybe in the gui code i need to correctly pass the parent frame of my OptionPane popup when I create it?"},{"owner":{"account_id":1180001,"reputation":1268,"user_id":1155122,"accept_rate":52,"display_name":"whomaniac"},"score":1,"creation_date":1342973585,"post_id":11601094,"comment_id":15357105,"body_markdown":"Yup the problem was a null parent frame","body":"Yup the problem was a null parent frame"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1342973733,"post_id":11601094,"comment_id":15357136,"body_markdown":"argh, good pick up. It&#39;s always the little things that get you. Thanks for letting us know how you resolved this. 1+ You might want to post your comment above as an answer for the benefit of future coders who run into the same problem.","body":"argh, good pick up. It&#39;s always the little things that get you. Thanks for letting us know how you resolved this. 1+ You might want to post your comment above as an answer for the benefit of future coders who run into the same problem."},{"owner":{"account_id":102133,"reputation":8546,"user_id":274350,"accept_rate":100,"display_name":"Richard Neish"},"score":0,"creation_date":1434549671,"post_id":11601094,"comment_id":49826916,"body_markdown":"@whomaniac please post your comment as an answer and accept it to make your question useful to other StackOverflow users.","body":"@whomaniac please post your comment as an answer and accept it to make your question useful to other StackOverflow users."},{"owner":{"account_id":1389840,"reputation":1793,"user_id":1320945,"accept_rate":75,"display_name":"Bertram Nudelbach"},"score":0,"creation_date":1437672077,"post_id":11601094,"comment_id":51140016,"body_markdown":"Just wanted to let you know that you could use AssertJ Swing in future; FEST is outdated and not maintained anymore. AssertJ Swing is the fork of FEST so the transition will be easy. Even if the development speed is slow, it is being maintained ;)","body":"Just wanted to let you know that you could use AssertJ Swing in future; FEST is outdated and not maintained anymore. AssertJ Swing is the fork of FEST so the transition will be easy. Even if the development speed is slow, it is being maintained ;)"}],"answers":[{"tags":[],"owner":{"account_id":29677605,"reputation":1,"user_id":22745119,"display_name":"Mr Krust"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697460259,"creation_date":1697388485,"answer_id":77297633,"question_id":11601094,"body_markdown":"You must recognize type of element, that you want to find.\r\n\r\nFor example, I use `JOptionPane.showMessageDialog()` and its create an object of `javax.swing.JOptionPane`.\r\n\r\nBut, by default `JOptionPaneFinder.findOptionPane()` find not `javax.swing.JOptionPane`.\r\n\r\nFor fix, you must use this:\r\n\r\n```java\r\nJOptionPane t = (JOptionPane) managerFixture.robot.finder().find(c -&gt; c instanceof JOptionPane);\r\n```","title":"JAVA FEST Can&#39;t find OptionsPane","body":"<p>You must recognize type of element, that you want to find.</p>\n<p>For example, I use <code>JOptionPane.showMessageDialog()</code> and its create an object of <code>javax.swing.JOptionPane</code>.</p>\n<p>But, by default <code>JOptionPaneFinder.findOptionPane()</code> find not <code>javax.swing.JOptionPane</code>.</p>\n<p>For fix, you must use this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JOptionPane t = (JOptionPane) managerFixture.robot.finder().find(c -&gt; c instanceof JOptionPane);\n</code></pre>\n"}],"owner":{"account_id":1180001,"reputation":1268,"user_id":1155122,"accept_rate":52,"display_name":"whomaniac"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1597,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1697460259,"creation_date":1342967245,"question_id":11601094,"body_markdown":"I am trying to get Java FEST to find a pop up dialogue and click on the the yes button.\r\nI have the following code:\r\n\r\n    JOptionPaneFixture fixture = JOptionPaneFinder.findOptionPane().using(TestSite.myRobot);\r\n    fixture.buttonWithText(&quot;Yes&quot; ).click();\r\n\r\nOn the first line the following exception is thrown:\r\n\r\n*org.fest.swing.exception.WaitTimedOutError: Timed out waiting for component to be found using matcher org.fest.swing.core.TypeMatcher[type=javax.swing.JOptionPane, requireShowing=true]\r\nUnable to find component using matcher org.fest.swing.core.TypeMatcher[type=javax.swing.JOptionPane, requireShowing=true].*\r\n\r\nThe option pane of course did pop up on my gui, yet FEST doesn&#39;t find it.\r\n\r\nI tried using the window finder as mentioned here:\r\nhttps://stackoverflow.com/questions/10626357/fest-swing-new-frame-on-click-cant-make-new-frame-fixture\r\n\r\nBut to no avail!!\r\n\r\nPlease help!","title":"JAVA FEST Can&#39;t find OptionsPane","body":"<p>I am trying to get Java FEST to find a pop up dialogue and click on the the yes button.\nI have the following code:</p>\n\n<pre><code>JOptionPaneFixture fixture = JOptionPaneFinder.findOptionPane().using(TestSite.myRobot);\nfixture.buttonWithText(\"Yes\" ).click();\n</code></pre>\n\n<p>On the first line the following exception is thrown:</p>\n\n<p><em>org.fest.swing.exception.WaitTimedOutError: Timed out waiting for component to be found using matcher org.fest.swing.core.TypeMatcher[type=javax.swing.JOptionPane, requireShowing=true]\nUnable to find component using matcher org.fest.swing.core.TypeMatcher[type=javax.swing.JOptionPane, requireShowing=true].</em></p>\n\n<p>The option pane of course did pop up on my gui, yet FEST doesn't find it.</p>\n\n<p>I tried using the window finder as mentioned here:\n<a href=\"https://stackoverflow.com/questions/10626357/fest-swing-new-frame-on-click-cant-make-new-frame-fixture\">FEST Swing new frame on click, can&#39;t make new frame fixture</a></p>\n\n<p>But to no avail!!</p>\n\n<p>Please help!</p>\n"},{"tags":["java","list","kotlin","jsonlines"],"answers":[{"comments":[{"owner":{"account_id":17637797,"reputation":1850,"user_id":12800717,"display_name":"supernova"},"score":2,"creation_date":1640103853,"post_id":70438361,"comment_id":124513850,"body_markdown":"Could you add some useful explanation? Looks like you prefer using an alibaba lib for reason abc and so forth. This will help understanding the answer better. And welcome to SO!","body":"Could you add some useful explanation? Looks like you prefer using an alibaba lib for reason abc and so forth. This will help understanding the answer better. And welcome to SO!"}],"tags":[],"owner":{"account_id":22539323,"reputation":11,"user_id":16730095,"display_name":"代码小龙"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640104312,"creation_date":1640103003,"answer_id":70438361,"question_id":70438068,"body_markdown":"```\r\nimport com.alibaba.fastjson.JSONArray;\r\n\r\nfor (int i = 0; i &lt; personList.size(); i++) {\r\n    JSONObject obj = (JSONObject)array.get(i);\r\n    System.out.println(obj.toJSONString());\r\n}\r\n\r\n```","title":"Java conversion from list to JSONL","body":"<pre><code>import com.alibaba.fastjson.JSONArray;\n\nfor (int i = 0; i &lt; personList.size(); i++) {\n    JSONObject obj = (JSONObject)array.get(i);\n    System.out.println(obj.toJSONString());\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17374836,"reputation":146,"user_id":12588118,"display_name":"Lokeshwar G"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657110056,"creation_date":1657110056,"answer_id":72883468,"question_id":70438068,"body_markdown":"```\r\nimport org.json.simple.JSONObject;\r\n\r\npublic static void main(String[] args) throws IOException {\r\n        File fout = new File(&quot;output.jsonl&quot;);\r\n        FileOutputStream fos = new FileOutputStream(fout);\r\n        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(fos));\r\n        for(int i=0;i&lt;5;i++)\r\n        {\r\n            JSONObject jsonObject = new JSONObject();\r\n            jsonObject.put(&quot;source&quot;, &quot;main()&quot;);\r\n            jsonObject.put(&quot;path&quot;, &quot;main.java&quot;);\r\n            bw.write(jsonObject.toJSONString());\r\n            bw.newLine();\r\n    }\r\n        bw.close();\r\n    }\r\n```","title":"Java conversion from list to JSONL","body":"<pre><code>import org.json.simple.JSONObject;\n\npublic static void main(String[] args) throws IOException {\n        File fout = new File(&quot;output.jsonl&quot;);\n        FileOutputStream fos = new FileOutputStream(fout);\n        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(fos));\n        for(int i=0;i&lt;5;i++)\n        {\n            JSONObject jsonObject = new JSONObject();\n            jsonObject.put(&quot;source&quot;, &quot;main()&quot;);\n            jsonObject.put(&quot;path&quot;, &quot;main.java&quot;);\n            bw.write(jsonObject.toJSONString());\n            bw.newLine();\n    }\n        bw.close();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557006,"reputation":338,"user_id":2970515,"display_name":"abilng"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1697459777,"creation_date":1697459174,"answer_id":77301956,"question_id":70438068,"body_markdown":"You can use [ndjson][ndjson] for generating JSONL. It uses [jackson][jackson] for serialization and deserialization\r\n\r\n```java\r\n    NdJsonObjectMapper ndJsonObjectMapper = new NdJsonObjectMapper();\r\n    OutputStream out = ... ;\r\n    Stream &lt; Person&gt; personStream = ...;\r\n    ndJsonObjectMapper.writeValue(out, personStream);\r\n```\r\n\r\nDisclaimer: I developed ndjson for my personal use.  \r\n\r\n\r\n  [ndjson]: https://github.com/abilng/ndjson\r\n  [jackson]: https://github.com/FasterXML/jackson","title":"Java conversion from list to JSONL","body":"<p>You can use <a href=\"https://github.com/abilng/ndjson\" rel=\"nofollow noreferrer\">ndjson</a> for generating JSONL. It uses <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">jackson</a> for serialization and deserialization</p>\n<pre class=\"lang-java prettyprint-override\"><code>    NdJsonObjectMapper ndJsonObjectMapper = new NdJsonObjectMapper();\n    OutputStream out = ... ;\n    Stream &lt; Person&gt; personStream = ...;\n    ndJsonObjectMapper.writeValue(out, personStream);\n</code></pre>\n<p>Disclaimer: I developed ndjson for my personal use.</p>\n"}],"owner":{"account_id":1568594,"reputation":61,"user_id":1456819,"display_name":"Roberto Santos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1697459777,"creation_date":1640101554,"question_id":70438068,"body_markdown":"I&#39;d like to convert a list of objects to JSONL where each object in the list will be a line in the json.\r\n\r\ne:g: Let&#39;s say I have a list of Person and I want to convert that list to a separate file in the JSONL format\r\n\r\n    List&lt;Person&gt; personList = Stream.of(\r\n                    new Person(&quot;John&quot;, &quot;Peter&quot;, 34),\r\n                    new Person(&quot;Nick&quot;, &quot;young&quot;, 75),\r\n                    new Person(&quot;Jones&quot;, &quot;slater&quot;, 21 ),\r\n                    new Person(&quot;Mike&quot;, &quot;hudson&quot;, 55))\r\n                    .collect(Collectors.toList());\r\n\r\n### Convert List of person to JSONL \r\n\r\n    {&quot;firstName&quot; : &quot;Mike&quot;,&quot;lastName&quot; : &quot;harvey&quot;,&quot;age&quot; : 34}\r\n    {&quot;firstName&quot; : &quot;Nick&quot;,&quot;lastName&quot; : &quot;young&quot;,&quot;age&quot; : 75}\r\n    {&quot;firstName&quot; : &quot;Jack&quot;,&quot;lastName&quot; : &quot;slater&quot;,&quot;age&quot; : 21}\r\n    {&quot;firstName&quot; : &quot;gary&quot;,&quot;lastName&quot; : &quot;hudson&quot;,&quot;age&quot; : 55}\r\n\r\n","title":"Java conversion from list to JSONL","body":"<p>I'd like to convert a list of objects to JSONL where each object in the list will be a line in the json.</p>\n<p>e:g: Let's say I have a list of Person and I want to convert that list to a separate file in the JSONL format</p>\n<pre><code>List&lt;Person&gt; personList = Stream.of(\n                new Person(&quot;John&quot;, &quot;Peter&quot;, 34),\n                new Person(&quot;Nick&quot;, &quot;young&quot;, 75),\n                new Person(&quot;Jones&quot;, &quot;slater&quot;, 21 ),\n                new Person(&quot;Mike&quot;, &quot;hudson&quot;, 55))\n                .collect(Collectors.toList());\n</code></pre>\n<h3>Convert List of person to JSONL</h3>\n<pre><code>{&quot;firstName&quot; : &quot;Mike&quot;,&quot;lastName&quot; : &quot;harvey&quot;,&quot;age&quot; : 34}\n{&quot;firstName&quot; : &quot;Nick&quot;,&quot;lastName&quot; : &quot;young&quot;,&quot;age&quot; : 75}\n{&quot;firstName&quot; : &quot;Jack&quot;,&quot;lastName&quot; : &quot;slater&quot;,&quot;age&quot; : 21}\n{&quot;firstName&quot; : &quot;gary&quot;,&quot;lastName&quot; : &quot;hudson&quot;,&quot;age&quot; : 55}\n</code></pre>\n"},{"tags":["java","rascal"],"comments":[{"owner":{"account_id":6567,"reputation":15154,"user_id":11098,"accept_rate":100,"display_name":"Davy Landman"},"score":1,"creation_date":1697460834,"post_id":77301834,"comment_id":136278910,"body_markdown":"just fyi, currently rascal is not compiled yet. the `tpl` files are type check files. We are getting close to having a compiler form, but that would just be regular class files.","body":"just fyi, currently rascal is not compiled yet. the <code>tpl</code> files are type check files. We are getting close to having a compiler form, but that would just be regular class files."},{"owner":{"account_id":19266108,"reputation":89,"user_id":14081020,"display_name":"Wayne"},"score":0,"creation_date":1697461601,"post_id":77301834,"comment_id":136279045,"body_markdown":"Noted, I was mistaking them for the compiled form.","body":"Noted, I was mistaking them for the compiled form."}],"answers":[{"comments":[{"owner":{"account_id":19266108,"reputation":89,"user_id":14081020,"display_name":"Wayne"},"score":0,"creation_date":1697462728,"post_id":77302007,"comment_id":136279287,"body_markdown":"Thanks this works and the lib is now being detected but I get a new error when I try to call a function like so: `eval.call(&quot;main&quot;, tmp, null);`. \n\nThe error is: \n```Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;io.usethesource.vallang.IValue.getType()&quot; because &quot;v&quot; is null\n``` \nI&#39;m not sure what it means.","body":"Thanks this works and the lib is now being detected but I get a new error when I try to call a function like so: <code>eval.call(&quot;main&quot;, tmp, null);</code>.   The error is:  <code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;io.usethesource.vallang.IValue.getType()&quot; because &quot;v&quot; is null </code>  I&#39;m not sure what it means."},{"owner":{"account_id":19266108,"reputation":89,"user_id":14081020,"display_name":"Wayne"},"score":0,"creation_date":1697466180,"post_id":77302007,"comment_id":136280025,"body_markdown":"I later fixed it by changing the call to `eval.call(null, &quot;Main&quot;, &quot;main&quot;);`","body":"I later fixed it by changing the call to <code>eval.call(null, &quot;Main&quot;, &quot;main&quot;);</code>"},{"owner":{"account_id":1969083,"reputation":6498,"user_id":1768565,"display_name":"Jurgen Vinju"},"score":1,"creation_date":1697473250,"post_id":77302007,"comment_id":136281375,"body_markdown":"Ok thanks! That sounds like a good fix. Curious what your next step will be &#128513;","body":"Ok thanks! That sounds like a good fix. Curious what your next step will be 😁"}],"tags":[],"owner":{"account_id":1969083,"reputation":6498,"user_id":1768565,"display_name":"Jurgen Vinju"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697459696,"creation_date":1697459696,"answer_id":77302007,"question_id":77301834,"body_markdown":"If the `run-main` jar has a `META-INF/RASCAL.MF` in it with `Project-Name: run-main` in it, then the Rascal URI name resolver automatically registers `lib://run-main` and lets it point to the root of the jar. So that would enable you to do this:\r\n\r\n```\r\nISourceLocation tmp =  URIUtil.correctLocation(&quot;lib&quot;,&quot;run-main&quot;,&quot;&quot;);\r\n```\r\n\r\nInstead of this, you can also use the `jar` scheme. But this requires you to find the jar file location:\r\n\r\n```\r\njar+file:///path/to/run-main.jar/!/\r\n```\r\n\r\nAfter the `!` is where the path _into_ the jar files starts, and where `.rsc` files can be found. The earlier `lib` scheme does exactly that, but automatically based on searching through the classpath for RASCAL.MF files.","title":"How do I use the Rascal Evaluator to access Rascal functions from a compiled JAR?","body":"<p>If the <code>run-main</code> jar has a <code>META-INF/RASCAL.MF</code> in it with <code>Project-Name: run-main</code> in it, then the Rascal URI name resolver automatically registers <code>lib://run-main</code> and lets it point to the root of the jar. So that would enable you to do this:</p>\n<pre><code>ISourceLocation tmp =  URIUtil.correctLocation(&quot;lib&quot;,&quot;run-main&quot;,&quot;&quot;);\n</code></pre>\n<p>Instead of this, you can also use the <code>jar</code> scheme. But this requires you to find the jar file location:</p>\n<pre><code>jar+file:///path/to/run-main.jar/!/\n</code></pre>\n<p>After the <code>!</code> is where the path <em>into</em> the jar files starts, and where <code>.rsc</code> files can be found. The earlier <code>lib</code> scheme does exactly that, but automatically based on searching through the classpath for RASCAL.MF files.</p>\n"}],"owner":{"account_id":19266108,"reputation":89,"user_id":14081020,"display_name":"Wayne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77302007,"answer_count":1,"score":1,"last_activity_date":1697459696,"creation_date":1697458008,"question_id":77301834,"body_markdown":"I have the a jar with the following structure:\r\n```\r\nmain-app/\r\n├─ META-INF/\r\n│  ├─ maven.org.rascalmpl.runmain/\r\n│  │  ├─ pom.xml\r\n│  │  ├─ pom.properties\r\n│  ├─ MANIFEST.MF\r\n├─ rascal/\r\n│  ├─ Main.tpl\r\n│  ├─ MyModule.tpl\r\n├─ Main.rsc\r\n├─ MyModule.rsc\r\n```\r\n\r\nand I&#39;m writing an Evaluator to run function from the JAR, so far I have the following:\r\n\r\n```final IValueFactory vf = ValueFactoryFactory.getValueFactory();\r\n    final GlobalEnvironment heap = new GlobalEnvironment();\r\n    final ModuleEnvironment top = new ModuleEnvironment(&quot;test&quot;, heap);\r\n    Evaluator eval = new Evaluator(vf, System.in, System.err, System.out, top, heap);\r\n    eval.addRascalSearchPathContributor(StandardLibraryContributor.getInstance());\r\n    eval.addRascalSearchPath(URIUtil.rootLocation(&quot;std&quot;));\r\n\r\n\r\n\r\n    ISourceLocation tmp =  URIUtil.correctLocation(&quot;jar&quot;, &quot;&quot;, &quot;/path/to/runmain-0.1.0-SNAPSHOT.jar!&quot;);\r\n\r\n    eval.addRascalSearchPath(tmp);\r\n\r\n    eval.doImport(null, &quot;Main&quot;);\r\n    eval.doImport(null, &quot;MyModule&quot;);\r\n    \r\n    System.out.println(eval.getHeap().existsModule(&quot;Main&quot;)); // Check if module has been added to heap\r\n\r\n    eval.call(&quot;main&quot;, tmp, null);\r\n\r\n```\r\n\r\nWhen I try to run this, it just prints out `false`, and then the following exception:\r\n\r\n```Exception in thread &quot;main&quot; org.rascalmpl.interpreter.staticErrors.ModuleImport: Could not import module Main: can not find in search path```\r\n\r\nHow can I access either the `.tpl` files or `.rsc` files in the JAR to call arbitrary functions? \r\n\r\nP.S: When I compiled the JAR the RASCAL.MF was not included in the output, is it necessary?","title":"How do I use the Rascal Evaluator to access Rascal functions from a compiled JAR?","body":"<p>I have the a jar with the following structure:</p>\n<pre><code>main-app/\n├─ META-INF/\n│  ├─ maven.org.rascalmpl.runmain/\n│  │  ├─ pom.xml\n│  │  ├─ pom.properties\n│  ├─ MANIFEST.MF\n├─ rascal/\n│  ├─ Main.tpl\n│  ├─ MyModule.tpl\n├─ Main.rsc\n├─ MyModule.rsc\n</code></pre>\n<p>and I'm writing an Evaluator to run function from the JAR, so far I have the following:</p>\n<pre><code>    final GlobalEnvironment heap = new GlobalEnvironment();\n    final ModuleEnvironment top = new ModuleEnvironment(&quot;test&quot;, heap);\n    Evaluator eval = new Evaluator(vf, System.in, System.err, System.out, top, heap);\n    eval.addRascalSearchPathContributor(StandardLibraryContributor.getInstance());\n    eval.addRascalSearchPath(URIUtil.rootLocation(&quot;std&quot;));\n\n\n\n    ISourceLocation tmp =  URIUtil.correctLocation(&quot;jar&quot;, &quot;&quot;, &quot;/path/to/runmain-0.1.0-SNAPSHOT.jar!&quot;);\n\n    eval.addRascalSearchPath(tmp);\n\n    eval.doImport(null, &quot;Main&quot;);\n    eval.doImport(null, &quot;MyModule&quot;);\n    \n    System.out.println(eval.getHeap().existsModule(&quot;Main&quot;)); // Check if module has been added to heap\n\n    eval.call(&quot;main&quot;, tmp, null);\n\n</code></pre>\n<p>When I try to run this, it just prints out <code>false</code>, and then the following exception:</p>\n<p><code>Exception in thread &quot;main&quot; org.rascalmpl.interpreter.staticErrors.ModuleImport: Could not import module Main: can not find in search path</code></p>\n<p>How can I access either the <code>.tpl</code> files or <code>.rsc</code> files in the JAR to call arbitrary functions?</p>\n<p>P.S: When I compiled the JAR the RASCAL.MF was not included in the output, is it necessary?</p>\n"},{"tags":["java","android-styles"],"comments":[{"owner":{"account_id":1281728,"reputation":73134,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"score":2,"creation_date":1697263761,"post_id":77291749,"comment_id":136260805,"body_markdown":"don&#39;t post images of text","body":"don&#39;t post images of text"},{"owner":{"account_id":23440519,"reputation":3,"user_id":17498081,"display_name":"LZS Tanjiro"},"score":0,"creation_date":1697266950,"post_id":77291749,"comment_id":136260980,"body_markdown":"How about that?","body":"How about that?"}],"answers":[{"tags":[],"owner":{"account_id":18000638,"reputation":531,"user_id":13082664,"display_name":"Meet Bhavsar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697459572,"creation_date":1697459572,"answer_id":77301994,"question_id":77291749,"body_markdown":"```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.InterstitialAdsActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/aduserL&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginHorizontal=&quot;10dp&quot;\r\n        android:layout_marginVertical=&quot;4dp&quot;\r\n        android:hint=&quot;Username&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/aduser&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:drawableStart=&quot;@drawable/ic_star&quot;\r\n            android:drawablePadding=&quot;16dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:inputType=&quot;text&quot;\r\n            android:textColor=&quot;#000000&quot;\r\n            android:textColorHint=&quot;#000000&quot;\r\n            android:textSize=&quot;18dp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/adpass&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginHorizontal=&quot;10dp&quot;\r\n        android:layout_marginVertical=&quot;4dp&quot;\r\n        android:hint=&quot;Password&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/aduserL&quot;\r\n        app:passwordToggleEnabled=&quot;true&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:drawableStart=&quot;@drawable/ic_star&quot;\r\n            android:drawablePadding=&quot;16dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:inputType=&quot;textPassword&quot;\r\n            android:textColor=&quot;#000000&quot;\r\n            android:textColorHint=&quot;#000000&quot;\r\n            android:textSize=&quot;18dp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\nif you some video recommend watch this [youtubeVideo][1]\r\n\r\n[![output][2]][2]\r\n\r\n\r\n  [1]: https://youtu.be/EKIgPueafIU?si=xv_Q8EsoaYXDgxK-\r\n  [2]: https://i.stack.imgur.com/QuDWg.png","title":"Android Studio (how can i fix it?)","body":"<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.InterstitialAdsActivity&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/aduserL&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginHorizontal=&quot;10dp&quot;\n        android:layout_marginVertical=&quot;4dp&quot;\n        android:hint=&quot;Username&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@+id/aduser&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:drawableStart=&quot;@drawable/ic_star&quot;\n            android:drawablePadding=&quot;16dp&quot;\n            android:ems=&quot;10&quot;\n            android:inputType=&quot;text&quot;\n            android:textColor=&quot;#000000&quot;\n            android:textColorHint=&quot;#000000&quot;\n            android:textSize=&quot;18dp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/adpass&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginHorizontal=&quot;10dp&quot;\n        android:layout_marginVertical=&quot;4dp&quot;\n        android:hint=&quot;Password&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/aduserL&quot;\n        app:passwordToggleEnabled=&quot;true&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:drawableStart=&quot;@drawable/ic_star&quot;\n            android:drawablePadding=&quot;16dp&quot;\n            android:ems=&quot;10&quot;\n            android:inputType=&quot;textPassword&quot;\n            android:textColor=&quot;#000000&quot;\n            android:textColorHint=&quot;#000000&quot;\n            android:textSize=&quot;18dp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>if you some video recommend watch this <a href=\"https://youtu.be/EKIgPueafIU?si=xv_Q8EsoaYXDgxK-\" rel=\"nofollow noreferrer\">youtubeVideo</a></p>\n<p><a href=\"https://i.stack.imgur.com/QuDWg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QuDWg.png\" alt=\"output\" /></a></p>\n"}],"owner":{"account_id":23440519,"reputation":3,"user_id":17498081,"display_name":"LZS Tanjiro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1697459572,"creation_date":1697262099,"question_id":77291749,"body_markdown":"How can I align the Password textbox to the Username textbox to look like [this design][1] or what can I do to fix it? \r\n\r\n**Code**\r\n```\r\n&lt;EditText\r\n    android:id=&quot;@+id/aduser&quot;\r\n    android:layout_width=&quot;0dp&quot;\r\n    android:layout_height=&quot;55dp&quot;\r\n    android:layout_marginEnd=&quot;32dp&quot;\r\n    android:layout_marginStart=&quot;32dp&quot;\r\n    android:layout_marginTop=&quot;16dp&quot;\r\n    android:drawableStart=&quot;@drawable/userconfig1&quot;\r\n    android:drawablePadding=&quot;16dp&quot;\r\n    android:hint=&quot;Username&quot;\r\n    android:textColorHint=&quot;#000000&quot;\r\n    android:textStyle=&quot;bold&quot;\r\n    android:textSize=&quot;18dp&quot;\r\n    android:background=&quot;@drawable/button_bg&quot;\r\n    android:ems=&quot;10&quot;\r\n    android:inputType=&quot;text&quot;\r\n    android:textColor=&quot;#000000&quot;\r\n\r\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n    app:layout_constraintTop_toBottomOf=&quot;@+id/imageView2&quot; /&gt;\r\n\r\n\r\n&lt;com.google.android.material.textfield.TextInputLayout\r\n    android:id=&quot;@+id/adpass&quot;\r\n    android:layout_width=&quot;0dp&quot;\r\n    android:layout_height=&quot;55dp&quot;\r\n    android:layout_marginStart=&quot;32dp&quot;\r\n    android:layout_marginEnd=&quot;32dp&quot;\r\n    android:layout_marginTop=&quot;24dp&quot;\r\n    android:hint=&quot;Password&quot;\r\n\r\n    app:passwordToggleEnabled=&quot;true&quot;\r\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n    app:layout_constraintTop_toBottomOf=&quot;@+id/aduser&quot; &gt;\r\n\r\n&lt;com.google.android.material.textfield.TextInputEditText\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/button_bg&quot;\r\n    android:drawableStart=&quot;@drawable/baseline_info_24&quot;\r\n    android:drawablePadding=&quot;16dp&quot;\r\n    android:ems=&quot;10&quot;\r\n    android:inputType=&quot;textPassword&quot;\r\n    android:textColor=&quot;#000000&quot;\r\n    android:textColorHint=&quot;#000000&quot;\r\n    android:textSize=&quot;18dp&quot;\r\n    android:textStyle=&quot;bold&quot; /&gt;\r\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n```\r\nHow can my design be improved? I apologize; I&#39;m new to Android Studio and am currently testing designs.\r\n\r\nThe design I expect is that the username and password are *equal* and the color of the password is not far from the username, and the show/hide password is enabled. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/41cP0.png\r\n  [2]: https://i.stack.imgur.com/6P7bT.png\r\n  [3]: https://i.stack.imgur.com/uBI7d.png","title":"Android Studio (how can i fix it?)","body":"<p>How can I align the Password textbox to the Username textbox to look like <a href=\"https://i.stack.imgur.com/41cP0.png\" rel=\"nofollow noreferrer\">this design</a> or what can I do to fix it?</p>\n<p><strong>Code</strong></p>\n<pre><code>&lt;EditText\n    android:id=&quot;@+id/aduser&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;55dp&quot;\n    android:layout_marginEnd=&quot;32dp&quot;\n    android:layout_marginStart=&quot;32dp&quot;\n    android:layout_marginTop=&quot;16dp&quot;\n    android:drawableStart=&quot;@drawable/userconfig1&quot;\n    android:drawablePadding=&quot;16dp&quot;\n    android:hint=&quot;Username&quot;\n    android:textColorHint=&quot;#000000&quot;\n    android:textStyle=&quot;bold&quot;\n    android:textSize=&quot;18dp&quot;\n    android:background=&quot;@drawable/button_bg&quot;\n    android:ems=&quot;10&quot;\n    android:inputType=&quot;text&quot;\n    android:textColor=&quot;#000000&quot;\n\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/imageView2&quot; /&gt;\n\n\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/adpass&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;55dp&quot;\n    android:layout_marginStart=&quot;32dp&quot;\n    android:layout_marginEnd=&quot;32dp&quot;\n    android:layout_marginTop=&quot;24dp&quot;\n    android:hint=&quot;Password&quot;\n\n    app:passwordToggleEnabled=&quot;true&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/aduser&quot; &gt;\n\n&lt;com.google.android.material.textfield.TextInputEditText\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/button_bg&quot;\n    android:drawableStart=&quot;@drawable/baseline_info_24&quot;\n    android:drawablePadding=&quot;16dp&quot;\n    android:ems=&quot;10&quot;\n    android:inputType=&quot;textPassword&quot;\n    android:textColor=&quot;#000000&quot;\n    android:textColorHint=&quot;#000000&quot;\n    android:textSize=&quot;18dp&quot;\n    android:textStyle=&quot;bold&quot; /&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p>How can my design be improved? I apologize; I'm new to Android Studio and am currently testing designs.</p>\n<p>The design I expect is that the username and password are <em>equal</em> and the color of the password is not far from the username, and the show/hide password is enabled.</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1624603569,"post_id":68123093,"comment_id":120408235,"body_markdown":"Your persistence module should add a requires for the SQL stuff. Else that class isn&#39;t available. imho the issue is the other way around, Intellij uses proper modules whereas your command line doesn&#39;t (which is why it works).","body":"Your persistence module should add a requires for the SQL stuff. Else that class isn&#39;t available. imho the issue is the other way around, Intellij uses proper modules whereas your command line doesn&#39;t (which is why it works)."},{"owner":{"account_id":15013752,"reputation":67,"user_id":10837378,"display_name":"Yucehan Kucukmotor"},"score":0,"creation_date":1624610516,"post_id":68123093,"comment_id":120410847,"body_markdown":"Hey. @M.Deinum thanks for the reply. For those who may come across the same problem trying to build a project using JPMS, my solution to this problem was adding ```requires org.apache.tomcat.embed.core;``` to my module-info.java file.","body":"Hey. @M.Deinum thanks for the reply. For those who may come across the same problem trying to build a project using JPMS, my solution to this problem was adding <code>requires org.apache.tomcat.embed.core;</code> to my module-info.java file."}],"answers":[{"tags":[],"owner":{"account_id":15013752,"reputation":67,"user_id":10837378,"display_name":"Yucehan Kucukmotor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1624610694,"creation_date":1624610694,"answer_id":68128063,"question_id":68123093,"body_markdown":"Editing `module-info.java` as the following resolved the problem for me\r\n```\r\nopen module webapp {\r\n    requires spring.web;\r\n    requires spring.boot;\r\n    requires spring.boot.autoconfigure;\r\n    requires spring.context;\r\n    \r\n    requires org.apache.tomcat.embed.core;\r\n}\r\n```","title":"Spring Boot Application won&#39;t start (IllegalStateException could not evaluate condition on DevToolsDataSourceAutoConfiguration)","body":"<p>Editing <code>module-info.java</code> as the following resolved the problem for me</p>\n<pre><code>open module webapp {\n    requires spring.web;\n    requires spring.boot;\n    requires spring.boot.autoconfigure;\n    requires spring.context;\n    \n    requires org.apache.tomcat.embed.core;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22026487,"reputation":1,"user_id":16294398,"display_name":"bo gao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697458659,"creation_date":1697458659,"answer_id":77301899,"question_id":68123093,"body_markdown":"I had a similar problem with Java 17 and solved it by adding to my open module in modules-info.java, the following:\r\n\r\n```java\r\nrequires java.sql;\r\n```\r\n\r\nUsing Spring Framework 6, Spring Boot 3.\r\n\r\n","title":"Spring Boot Application won&#39;t start (IllegalStateException could not evaluate condition on DevToolsDataSourceAutoConfiguration)","body":"<p>I had a similar problem with Java 17 and solved it by adding to my open module in modules-info.java, the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>requires java.sql;\n</code></pre>\n<p>Using Spring Framework 6, Spring Boot 3.</p>\n"}],"owner":{"account_id":15013752,"reputation":67,"user_id":10837378,"display_name":"Yucehan Kucukmotor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1851,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68128063,"answer_count":2,"score":2,"last_activity_date":1697458659,"creation_date":1624571407,"question_id":68123093,"body_markdown":"I&#39;ve tried to start my Spring Boot Application using IntelliJ. However, I cannot seem to make it work no matter whatever solutions I tried to implement to fix it. I believe it has something to do with `spring.autoconfigure` package, yet the root problem remains a mystery to me. \r\n\r\nI am trying to take advantage of both `Maven Multi Module System` as well as `Java Platform Module System`. Below is my `pom.xml`, `module-info.java` files and project structure.\r\n\r\n**Project Structure**\r\n\r\n[![Simplified Project Structure][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KDi4U.png\r\n\r\nNote that there is a parent `pom.xml` file and each sub-module has its own `pom.xml` file. Each sub-module has its own `module-info.java` file as well.\r\n\r\n**Parent pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;name&gt;Demo Project&lt;/name&gt;\r\n    &lt;description&gt;Demo Project Description&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;!--Add each module here --&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;webapp&lt;/module&gt;\r\n        &lt;module&gt;persistence&lt;/module&gt;\r\n        &lt;module&gt;facade&lt;/module&gt;\r\n        &lt;module&gt;service&lt;/module&gt;\r\n        &lt;module&gt;security&lt;/module&gt;\r\n        &lt;module&gt;domain&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.5.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;mainClass&gt;com.example.MainApplication&lt;/mainClass&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;${java.version}&lt;/source&gt;\r\n                        &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;!-- For testing --&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n**webapp pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;!--    &lt;version&gt;0.0.1&lt;/version&gt;--&gt;\r\n\r\n    &lt;artifactId&gt;webapp&lt;/artifactId&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Add dependencies for `webapp` module here --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;facade&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;domain&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n**webapp module-info.java**\r\n```\r\nmodule webapp {\r\n    requires domain;\r\n    requires facade;\r\n\r\n    requires spring.web;\r\n    requires spring.boot;\r\n    requires spring.boot.autoconfigure;\r\n    requires spring.context;\r\n}\r\n```\r\n\r\n**Below is what I tried:**\r\nSo when I run the application as it is I get the following exception\r\n```\r\nException in thread &quot;restartedMain&quot; java.lang.IllegalAccessException: class org.springframework.boot.devtools.restart.RestartLauncher (in module spring.boot.devtools) cannot access class com.example.MainApplication (in module webapp) because module webapp does not export com.example to module spring.boot.devtools\r\n\tat java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:361)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:591)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:558)\r\n\tat spring.boot.devtools@2.5.1/org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n```\r\nWhat I did to tackle this problem was changing webapp/module-info.java from\r\n```\r\nmodule webapp {\r\n}\r\n```\r\nto \r\n```\r\nopen module webapp {\r\n}\r\n```\r\nAftwerwards, though, I got the following exception\r\n```\r\njava.lang.IllegalStateException: Could not evaluate condition on org.springframework.boot.devtools.autoconfigure.DevToolsDataSourceAutoConfiguration due to javax/sql/DataSource not found. Make sure your own configuration does not rely on that class. This can also happen if you are @ComponentScanning a springframework package (e.g. if you put a @ComponentScan in the default package by mistake)\r\n\tat spring.boot.autoconfigure@2.5.1/org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:54) ~[spring-boot-autoconfigure-2.5.1.jar:na]\r\n\tat spring.context@5.3.8/org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.8.jar:na]\r\n\tat spring.context@5.3.8/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader$TrackedConditionEvaluator.shouldSkip(ConfigurationClassBeanDefinitionReader.java:489) ~[spring-context-5.3.8.jar:na]\r\n\tat spring.context@5.3.8/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:140) ~[spring-context-5.3.8.jar:na]\r\n\tat spring.context@5.3.8/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.8.jar:na]\r\n\tat spring.context@5.3.8/org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.8.jar:na]\r\n\tat spring.context@5.3.8/org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.8.jar:na]\r\n\tat spring.context@5.3.8/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.8.jar:na]\r\n\tat spring.context@5.3.8/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.8.jar:na]\r\n\tat spring.context@5.3.8/org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.8.jar:na]\r\n\tat spring.context@5.3.8/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.8.jar:na]\r\n\tat spring.boot@2.5.1/org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.1.jar:na]\r\n\tat spring.boot@2.5.1/org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.1.jar:na]\r\n\tat spring.boot@2.5.1/org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.1.jar:na]\r\n\tat spring.boot@2.5.1/org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.1.jar:na]\r\n\tat spring.boot@2.5.1/org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.1.jar:na]\r\n\tat webapp/com.example.MainApplication.main(MainApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat spring.boot.devtools@2.5.1/org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.5.1.jar:na]\r\nCaused by: java.lang.NoClassDefFoundError: javax/sql/DataSource\r\n\tat spring.boot.devtools@2.5.1/org.springframework.boot.devtools.autoconfigure.DevToolsDataSourceAutoConfiguration$DevToolsDataSourceCondition.getMatchOutcome(DevToolsDataSourceAutoConfiguration.java:183) ~[spring-boot-devtools-2.5.1.jar:na]\r\n\tat spring.boot.autoconfigure@2.5.1/org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.5.1.jar:na]\r\n\t... 21 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: javax.sql.DataSource\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\r\n\t... 23 common frames omitted\r\n``` \r\n\r\n- I tried setting `spring.devtools.restart.enabled=false`. Same error followed.\r\n- I tried removing `spring-boot-devtools` from the list of dependencies. No error log yet start process exits with error code 0\r\n- I tried adding `h2` database dependency just to see what happens. No good.\r\n- I tried changing `spring-boot-devtools` `&lt;scope&gt;` value and even commenting it out. No good.\r\n- I tried excluding `DevToolsDataSourceAutoConfiguration.class` from AutoConfiguration. No good.\r\n- I tried adding ```exports com.example;``` to module-info.java. No good.\r\n\r\n- If I run ```mvn test```, ```mvn clean install```, ```mvn spring-boot:run```, I don&#39;t get a single error and server is running just fine.\r\n\r\n- `MainApplication.java` resides at `webapp/src/main/java/com/example/MainApplication.java`.\r\n```\r\npackage com.example;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n\r\n@SpringBootApplication\r\npublic class MainApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MainApplication.class, args);\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhy is `spring.autoconfigure` trying to find a `DataSource`? Is `IntelliJ`&#39;s classpath messed up, and I need to update its dependencies manually? If I configure a proper database (such as `mssql`), would I still be facing this issue going forward?\r\n\r\nWhat confuses me the most is that I get no error triggering the server to run by typing `mvn spring-boot:run` command. To be honest, this is what makes me think the problem has to do with `IntelliJ&#39;s` classpath settings rather than project structure and configuration.\r\n\r\nAny help would be greatly appreciated. Thanks.\r\n\r\n","title":"Spring Boot Application won&#39;t start (IllegalStateException could not evaluate condition on DevToolsDataSourceAutoConfiguration)","body":"<p>I've tried to start my Spring Boot Application using IntelliJ. However, I cannot seem to make it work no matter whatever solutions I tried to implement to fix it. I believe it has something to do with <code>spring.autoconfigure</code> package, yet the root problem remains a mystery to me.</p>\n<p>I am trying to take advantage of both <code>Maven Multi Module System</code> as well as <code>Java Platform Module System</code>. Below is my <code>pom.xml</code>, <code>module-info.java</code> files and project structure.</p>\n<p><strong>Project Structure</strong></p>\n<p><a href=\"https://i.stack.imgur.com/KDi4U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KDi4U.png\" alt=\"Simplified Project Structure\" /></a></p>\n<p>Note that there is a parent <code>pom.xml</code> file and each sub-module has its own <code>pom.xml</code> file. Each sub-module has its own <code>module-info.java</code> file as well.</p>\n<p><strong>Parent pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;parent&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;name&gt;Demo Project&lt;/name&gt;\n    &lt;description&gt;Demo Project Description&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;!--Add each module here --&gt;\n    &lt;modules&gt;\n        &lt;module&gt;webapp&lt;/module&gt;\n        &lt;module&gt;persistence&lt;/module&gt;\n        &lt;module&gt;facade&lt;/module&gt;\n        &lt;module&gt;service&lt;/module&gt;\n        &lt;module&gt;security&lt;/module&gt;\n        &lt;module&gt;domain&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;mainClass&gt;com.example.MainApplication&lt;/mainClass&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;${java.version}&lt;/source&gt;\n                        &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;!-- For testing --&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>webapp pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;!--    &lt;version&gt;0.0.1&lt;/version&gt;--&gt;\n\n    &lt;artifactId&gt;webapp&lt;/artifactId&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Add dependencies for `webapp` module here --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\n            &lt;artifactId&gt;facade&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\n            &lt;artifactId&gt;domain&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>webapp module-info.java</strong></p>\n<pre><code>module webapp {\n    requires domain;\n    requires facade;\n\n    requires spring.web;\n    requires spring.boot;\n    requires spring.boot.autoconfigure;\n    requires spring.context;\n}\n</code></pre>\n<p><strong>Below is what I tried:</strong>\nSo when I run the application as it is I get the following exception</p>\n<pre><code>Exception in thread &quot;restartedMain&quot; java.lang.IllegalAccessException: class org.springframework.boot.devtools.restart.RestartLauncher (in module spring.boot.devtools) cannot access class com.example.MainApplication (in module webapp) because module webapp does not export com.example to module spring.boot.devtools\n    at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:361)\n    at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:591)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:558)\n    at spring.boot.devtools@2.5.1/org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\n</code></pre>\n<p>What I did to tackle this problem was changing webapp/module-info.java from</p>\n<pre><code>module webapp {\n}\n</code></pre>\n<p>to</p>\n<pre><code>open module webapp {\n}\n</code></pre>\n<p>Aftwerwards, though, I got the following exception</p>\n<pre><code>java.lang.IllegalStateException: Could not evaluate condition on org.springframework.boot.devtools.autoconfigure.DevToolsDataSourceAutoConfiguration due to javax/sql/DataSource not found. Make sure your own configuration does not rely on that class. This can also happen if you are @ComponentScanning a springframework package (e.g. if you put a @ComponentScan in the default package by mistake)\n    at spring.boot.autoconfigure@2.5.1/org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:54) ~[spring-boot-autoconfigure-2.5.1.jar:na]\n    at spring.context@5.3.8/org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.8.jar:na]\n    at spring.context@5.3.8/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader$TrackedConditionEvaluator.shouldSkip(ConfigurationClassBeanDefinitionReader.java:489) ~[spring-context-5.3.8.jar:na]\n    at spring.context@5.3.8/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:140) ~[spring-context-5.3.8.jar:na]\n    at spring.context@5.3.8/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.8.jar:na]\n    at spring.context@5.3.8/org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.8.jar:na]\n    at spring.context@5.3.8/org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.8.jar:na]\n    at spring.context@5.3.8/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.8.jar:na]\n    at spring.context@5.3.8/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.8.jar:na]\n    at spring.context@5.3.8/org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.8.jar:na]\n    at spring.context@5.3.8/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.8.jar:na]\n    at spring.boot@2.5.1/org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.1.jar:na]\n    at spring.boot@2.5.1/org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.1.jar:na]\n    at spring.boot@2.5.1/org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.1.jar:na]\n    at spring.boot@2.5.1/org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.1.jar:na]\n    at spring.boot@2.5.1/org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.1.jar:na]\n    at webapp/com.example.MainApplication.main(MainApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at spring.boot.devtools@2.5.1/org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.5.1.jar:na]\nCaused by: java.lang.NoClassDefFoundError: javax/sql/DataSource\n    at spring.boot.devtools@2.5.1/org.springframework.boot.devtools.autoconfigure.DevToolsDataSourceAutoConfiguration$DevToolsDataSourceCondition.getMatchOutcome(DevToolsDataSourceAutoConfiguration.java:183) ~[spring-boot-devtools-2.5.1.jar:na]\n    at spring.boot.autoconfigure@2.5.1/org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.5.1.jar:na]\n    ... 21 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.sql.DataSource\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\n    ... 23 common frames omitted\n</code></pre>\n<ul>\n<li><p>I tried setting <code>spring.devtools.restart.enabled=false</code>. Same error followed.</p>\n</li>\n<li><p>I tried removing <code>spring-boot-devtools</code> from the list of dependencies. No error log yet start process exits with error code 0</p>\n</li>\n<li><p>I tried adding <code>h2</code> database dependency just to see what happens. No good.</p>\n</li>\n<li><p>I tried changing <code>spring-boot-devtools</code> <code>&lt;scope&gt;</code> value and even commenting it out. No good.</p>\n</li>\n<li><p>I tried excluding <code>DevToolsDataSourceAutoConfiguration.class</code> from AutoConfiguration. No good.</p>\n</li>\n<li><p>I tried adding <code>exports com.example;</code> to module-info.java. No good.</p>\n</li>\n<li><p>If I run <code>mvn test</code>, <code>mvn clean install</code>, <code>mvn spring-boot:run</code>, I don't get a single error and server is running just fine.</p>\n</li>\n<li><p><code>MainApplication.java</code> resides at <code>webapp/src/main/java/com/example/MainApplication.java</code>.</p>\n</li>\n</ul>\n<pre><code>package com.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n\n@SpringBootApplication\npublic class MainApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(MainApplication.class, args);\n    }\n}\n\n</code></pre>\n<p>Why is <code>spring.autoconfigure</code> trying to find a <code>DataSource</code>? Is <code>IntelliJ</code>'s classpath messed up, and I need to update its dependencies manually? If I configure a proper database (such as <code>mssql</code>), would I still be facing this issue going forward?</p>\n<p>What confuses me the most is that I get no error triggering the server to run by typing <code>mvn spring-boot:run</code> command. To be honest, this is what makes me think the problem has to do with <code>IntelliJ's</code> classpath settings rather than project structure and configuration.</p>\n<p>Any help would be greatly appreciated. Thanks.</p>\n"},{"tags":["java","android","flutter","android-intent","build"],"comments":[{"owner":{"account_id":11671167,"reputation":5710,"user_id":8546205,"display_name":"Rahul Kushwaha"},"score":0,"creation_date":1697448490,"post_id":77300666,"comment_id":136276688,"body_markdown":"use this plugin to open the app https://pub.dev/packages/android_intent_plus","body":"use this plugin to open the app <a href=\"https://pub.dev/packages/android_intent_plus\" rel=\"nofollow noreferrer\">pub.dev/packages/android_intent_plus</a>"},{"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1697810764,"post_id":77300666,"comment_id":136330337,"body_markdown":"Have you checked the logcat to see if there are any relevant error mesages that would indicate why it doesn&#39;t switch to the other app? Don&#39;t filter the logcat or you might miss something important/relevant.","body":"Have you checked the logcat to see if there are any relevant error mesages that would indicate why it doesn&#39;t switch to the other app? Don&#39;t filter the logcat or you might miss something important/relevant."},{"owner":{"account_id":5353945,"reputation":27602,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":0,"creation_date":1699173892,"post_id":77300666,"comment_id":136496182,"body_markdown":"Does this answer your question? [Intent - if activity is running, bring it to front, else start a new one (from notification)](https://stackoverflow.com/questions/19039189/intent-if-activity-is-running-bring-it-to-front-else-start-a-new-one-from-n)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19039189/intent-if-activity-is-running-bring-it-to-front-else-start-a-new-one-from-n\">Intent - if activity is running, bring it to front, else start a new one (from notification)</a>"}],"owner":{"account_id":28541508,"reputation":23,"user_id":21847504,"display_name":"DongHyeon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1697458084,"creation_date":1697447039,"question_id":77300666,"body_markdown":"Before change my computer, \r\n\r\n\r\n```\r\nIntent intent = context.getPackageManager().getLaunchIntentForPackage(&quot;com.x.y&quot;);\r\n    if (intent != null) {\r\n    // We found the activity now start the activity\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        Bundle b = new Bundle();\r\n        b.putString(_key, _data);\r\n        intent.putExtras(b); //Put your id to your next Intent\r\n        context.startActivity(intent);\r\n\r\n        return true;\r\n}\r\n```\r\n\r\nI could open and switch com.x.y app. It worked well, but a few months ago, I changed my computer and downloaded the latest version of Android Studio.\r\n\r\nThere are no problems to build, but when I run this code, my Flutter app just opens app com.x.y and not switching. Before changing my computer, it opened and switched to app com.x.y well.\r\n\r\nAlso, it works well in device using Android 8.1, but not in a device using Android 13.\r\n","title":"How to open and switch other app using intent","body":"<p>Before change my computer,</p>\n<pre><code>Intent intent = context.getPackageManager().getLaunchIntentForPackage(&quot;com.x.y&quot;);\n    if (intent != null) {\n    // We found the activity now start the activity\n        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        Bundle b = new Bundle();\n        b.putString(_key, _data);\n        intent.putExtras(b); //Put your id to your next Intent\n        context.startActivity(intent);\n\n        return true;\n}\n</code></pre>\n<p>I could open and switch com.x.y app. It worked well, but a few months ago, I changed my computer and downloaded the latest version of Android Studio.</p>\n<p>There are no problems to build, but when I run this code, my Flutter app just opens app com.x.y and not switching. Before changing my computer, it opened and switched to app com.x.y well.</p>\n<p>Also, it works well in device using Android 8.1, but not in a device using Android 13.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","kafka-producer-api","spring-kafka"],"comments":[{"owner":{"account_id":2800928,"reputation":1363,"user_id":2409190,"accept_rate":57,"display_name":"Avinash"},"score":0,"creation_date":1519826295,"post_id":46932127,"comment_id":85067017,"body_markdown":"Hey Prakash, how many partitions are there in your topic that you are using to  publish the messages?","body":"Hey Prakash, how many partitions are there in your topic that you are using to  publish the messages?"},{"owner":{"account_id":4322888,"reputation":3672,"user_id":4408364,"accept_rate":42,"display_name":"Prakash P"},"score":0,"creation_date":1520168142,"post_id":46932127,"comment_id":85196171,"body_markdown":"topic has 5 partitions","body":"topic has 5 partitions"},{"owner":{"account_id":4948901,"reputation":4288,"user_id":3983547,"accept_rate":80,"display_name":"dbustosp"},"score":0,"creation_date":1529183711,"post_id":46932127,"comment_id":88784311,"body_markdown":"Hey @CodeX, were you able to solve the problem?","body":"Hey @CodeX, were you able to solve the problem?"}],"answers":[{"tags":[],"owner":{"account_id":10064498,"reputation":606,"user_id":7440073,"display_name":"meiskalt7"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528886428,"creation_date":1528886428,"answer_id":50835137,"question_id":46932127,"body_markdown":"Change default bootstrap-servers property:\r\n\r\n    private List&lt;String&gt; bootstrapServers = new ArrayList&lt;String&gt;(\r\n    \t\t\tCollections.singletonList(&quot;localhost:9092&quot;));\r\n\r\nto yours:\r\n\r\n    spring.kafka.bootstrap-servers: ${kafka.binder.broker}:${kafka.binder.defaultBrokerPort}","title":"Kafka Failed to update metadata","body":"<p>Change default bootstrap-servers property:</p>\n\n<pre><code>private List&lt;String&gt; bootstrapServers = new ArrayList&lt;String&gt;(\n            Collections.singletonList(\"localhost:9092\"));\n</code></pre>\n\n<p>to yours:</p>\n\n<pre><code>spring.kafka.bootstrap-servers: ${kafka.binder.broker}:${kafka.binder.defaultBrokerPort}\n</code></pre>\n"}],"owner":{"account_id":4322888,"reputation":3672,"user_id":4408364,"accept_rate":42,"display_name":"Prakash P"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8872,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1697458010,"creation_date":1508933520,"question_id":46932127,"body_markdown":"I am using Kafka v0.10.1.1 with **Spring-boot**.\r\n\r\nI am trying to produce a message in a Kafka topic `mobile-user` using the below producer code: \r\n\r\n**Topic `mobile-user` have 5 partitions and 2 replication factor**. I have attached my **Kafka settings at the end of the question**.\r\n\r\n    package com.service;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.kafka.core.KafkaTemplate;\r\n    import org.springframework.kafka.support.SendResult;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.util.concurrent.ListenableFuture;\r\n    import org.springframework.util.concurrent.ListenableFutureCallback;\r\n    \r\n    import com.shephertz.karma.constant.Constants;\r\n    import com.shephertz.karma.exception.KarmaException;\r\n    import com.shephertz.karma.util.Utils;\r\n    \r\n    /**\r\n     * @author Prakash Pandey\r\n     */\r\n    @Service\r\n    public class NotificationSender {\r\n    \r\n    \t@Autowired\r\n    \tprivate KafkaTemplate&lt;String, String&gt; kafkaTemplate;\r\n    \r\n    \tprivate static Logger LOGGER = LoggerFactory.getLogger(NotificationSender.class);\r\n    \r\n    \t// Send Message\r\n    \tpublic void sendMessage(String topicName, String message) throws KarmaException {\r\n    \t\tLOGGER.debug(&quot;========topic Name===== &quot; + topicName + &quot;=========message=======&quot; + message);\r\n    \t\tListenableFuture&lt;SendResult&lt;String, String&gt;&gt; result = kafkaTemplate.send(topicName, message);\r\n    \t\tresult.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, String&gt;&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onSuccess(SendResult&lt;String, String&gt; result) {\r\n    \t\t\t\tLOGGER.info(&quot;sent message=&#39;{}&#39;&quot; + &quot; to partition={}&quot; + &quot; with offset={}&quot;, message,\r\n    \t\t\t\t\t\tresult.getRecordMetadata().partition(), result.getRecordMetadata().offset());\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onFailure(Throwable ex) {\r\n    \t\t\t\tLOGGER.error(Constants.PRODUCER_MESSAGE_EXCEPTION.getValue() + Utils.getStackTrace(ex));\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tLOGGER.debug(&quot;Payload sent to kafka&quot;);\r\n    \t\tLOGGER.debug(&quot;topic: &quot; + topicName + &quot;, payload: &quot; + message);\r\n    \t}\r\n    }\r\n\r\n**Problem:** \r\n\r\nI am successfully able to sent message to kafka but sometimes I am receiving this error:\r\n\r\n    org.apache.kafka.common.errors.TimeoutException: Failed to update metadata after 5000 ms.\r\n    2017-10-25 06:21:48, [ERROR] [karma-unified-notification-dispatcher - NotificationDispatcherSender - onFailure:43] Exception in sending message to kafka for queryorg.springframework.kafka.core.KafkaProducerException: Failed to send; nested exception is org.apache.kafka.common.errors.TimeoutException: Failed to update metadata after 5000 ms.\r\n            at org.springframework.kafka.core.KafkaTemplate$1.onCompletion(KafkaTemplate.java:255)\r\n            at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:486)\r\n            at org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:436)\r\n            at org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer.send(DefaultKafkaProducerFactory.java:156)\r\n            at org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:241)\r\n            at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:151)\r\n    Caused by: org.apache.kafka.common.errors.TimeoutException: Failed to update metadata after 5000 ms.\t\r\n\r\n**Kafka properties**:\r\n\r\n    spring.kafka.producer.retries=5\r\n    spring.kafka.producer.batch-size=1000\r\n    spring.kafka.producer.request.timeout.ms=60000\r\n    spring.kafka.producer.linger.ms=10\r\n    spring.kafka.producer.acks=1\r\n    spring.kafka.producer.buffer-memory=33554432\r\n    spring.kafka.producer.max.block.ms=5000\r\n    spring.kafka.topic.retention=86400000\r\n    \r\n    spring.zookeeper.hosts=192.20.1.19:2181,10.20.1.20:2181,10.20.1.26:2181\r\n    spring.kafka.session.timeout=30000\r\n    spring.kafka.connection.timeout=10000\r\n    spring.kafka.topic.partition=5\r\n    spring.kafka.message.replication=2\r\n    \r\n    spring.kafka.listener.concurrency=1\r\n    spring.kafka.listener.poll-timeout=3000\r\n    spring.kafka.consumer.auto-commit-interval=1000\r\n    spring.kafka.consumer.enable-auto-commit=false\r\n    spring.kafka.consumer.auto-offset-reset=earliest\r\n    spring.kafka.consumer.max-poll-records=200\r\n    spring.kafka.consumer.max-poll-interval-ms=300000\r\n\r\nIt would be very helpful if you could help me solving this problem.\r\nThanks.\r\n\r\n**Please note:** I am not receiving this above message every time. I am successfully able to produce a message to `kafka-topic` and successfully consume it on `consumer`. This above error comes approxmately after `1000` successfully produced message.","title":"Kafka Failed to update metadata","body":"<p>I am using Kafka v0.10.1.1 with <strong>Spring-boot</strong>.</p>\n\n<p>I am trying to produce a message in a Kafka topic <code>mobile-user</code> using the below producer code: </p>\n\n<p><strong>Topic <code>mobile-user</code> have 5 partitions and 2 replication factor</strong>. I have attached my <strong>Kafka settings at the end of the question</strong>.</p>\n\n<pre><code>package com.service;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.kafka.support.SendResult;\nimport org.springframework.stereotype.Service;\nimport org.springframework.util.concurrent.ListenableFuture;\nimport org.springframework.util.concurrent.ListenableFutureCallback;\n\nimport com.shephertz.karma.constant.Constants;\nimport com.shephertz.karma.exception.KarmaException;\nimport com.shephertz.karma.util.Utils;\n\n/**\n * @author Prakash Pandey\n */\n@Service\npublic class NotificationSender {\n\n    @Autowired\n    private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\n\n    private static Logger LOGGER = LoggerFactory.getLogger(NotificationSender.class);\n\n    // Send Message\n    public void sendMessage(String topicName, String message) throws KarmaException {\n        LOGGER.debug(\"========topic Name===== \" + topicName + \"=========message=======\" + message);\n        ListenableFuture&lt;SendResult&lt;String, String&gt;&gt; result = kafkaTemplate.send(topicName, message);\n        result.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, String&gt;&gt;() {\n            @Override\n            public void onSuccess(SendResult&lt;String, String&gt; result) {\n                LOGGER.info(\"sent message='{}'\" + \" to partition={}\" + \" with offset={}\", message,\n                        result.getRecordMetadata().partition(), result.getRecordMetadata().offset());\n            }\n\n            @Override\n            public void onFailure(Throwable ex) {\n                LOGGER.error(Constants.PRODUCER_MESSAGE_EXCEPTION.getValue() + Utils.getStackTrace(ex));\n\n            }\n        });\n\n        LOGGER.debug(\"Payload sent to kafka\");\n        LOGGER.debug(\"topic: \" + topicName + \", payload: \" + message);\n    }\n}\n</code></pre>\n\n<p><strong>Problem:</strong> </p>\n\n<p>I am successfully able to sent message to kafka but sometimes I am receiving this error:</p>\n\n<pre><code>org.apache.kafka.common.errors.TimeoutException: Failed to update metadata after 5000 ms.\n2017-10-25 06:21:48, [ERROR] [karma-unified-notification-dispatcher - NotificationDispatcherSender - onFailure:43] Exception in sending message to kafka for queryorg.springframework.kafka.core.KafkaProducerException: Failed to send; nested exception is org.apache.kafka.common.errors.TimeoutException: Failed to update metadata after 5000 ms.\n        at org.springframework.kafka.core.KafkaTemplate$1.onCompletion(KafkaTemplate.java:255)\n        at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:486)\n        at org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:436)\n        at org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer.send(DefaultKafkaProducerFactory.java:156)\n        at org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:241)\n        at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:151)\nCaused by: org.apache.kafka.common.errors.TimeoutException: Failed to update metadata after 5000 ms.    \n</code></pre>\n\n<p><strong>Kafka properties</strong>:</p>\n\n<pre><code>spring.kafka.producer.retries=5\nspring.kafka.producer.batch-size=1000\nspring.kafka.producer.request.timeout.ms=60000\nspring.kafka.producer.linger.ms=10\nspring.kafka.producer.acks=1\nspring.kafka.producer.buffer-memory=33554432\nspring.kafka.producer.max.block.ms=5000\nspring.kafka.topic.retention=86400000\n\nspring.zookeeper.hosts=192.20.1.19:2181,10.20.1.20:2181,10.20.1.26:2181\nspring.kafka.session.timeout=30000\nspring.kafka.connection.timeout=10000\nspring.kafka.topic.partition=5\nspring.kafka.message.replication=2\n\nspring.kafka.listener.concurrency=1\nspring.kafka.listener.poll-timeout=3000\nspring.kafka.consumer.auto-commit-interval=1000\nspring.kafka.consumer.enable-auto-commit=false\nspring.kafka.consumer.auto-offset-reset=earliest\nspring.kafka.consumer.max-poll-records=200\nspring.kafka.consumer.max-poll-interval-ms=300000\n</code></pre>\n\n<p>It would be very helpful if you could help me solving this problem.\nThanks.</p>\n\n<p><strong>Please note:</strong> I am not receiving this above message every time. I am successfully able to produce a message to <code>kafka-topic</code> and successfully consume it on <code>consumer</code>. This above error comes approxmately after <code>1000</code> successfully produced message.</p>\n"},{"tags":["java","redis","transactions","high-availability","sentinel"],"comments":[{"owner":{"account_id":2670317,"reputation":6716,"user_id":2307873,"display_name":"Adam Marshall"},"score":0,"creation_date":1697471824,"post_id":77301298,"comment_id":136281114,"body_markdown":"It sounds to me that this issue is happening because your replicas (note: Redis deprecated the use of the word &quot;slave&quot; and replaced it with &quot;replica&quot; some time ago) are quite a bit behind the master. So when the master fails and Sentinel fails over to a replica, it doesn&#39;t have recent data. However, since this is most likely solved with _configuration_ rather than _software_, I don&#39;t think this fits on SO. I&#39;d recommend you ask this question on the StackExchange site ServerFault. Because it doesn&#39;t fit on SO, I&#39;m marking that this question be closed in favor of a question on ServerFault.","body":"It sounds to me that this issue is happening because your replicas (note: Redis deprecated the use of the word &quot;slave&quot; and replaced it with &quot;replica&quot; some time ago) are quite a bit behind the master. So when the master fails and Sentinel fails over to a replica, it doesn&#39;t have recent data. However, since this is most likely solved with <i>configuration</i> rather than <i>software</i>, I don&#39;t think this fits on SO. I&#39;d recommend you ask this question on the StackExchange site ServerFault. Because it doesn&#39;t fit on SO, I&#39;m marking that this question be closed in favor of a question on ServerFault."},{"owner":{"account_id":5351903,"reputation":1369,"user_id":4265824,"accept_rate":45,"display_name":"Ganesh Gudghe"},"score":0,"creation_date":1697474665,"post_id":77301298,"comment_id":136281616,"body_markdown":"@AdamMarshall thank you i will ask question on StackExchange","body":"@AdamMarshall thank you i will ask question on StackExchange"}],"owner":{"account_id":5351903,"reputation":1369,"user_id":4265824,"accept_rate":45,"display_name":"Ganesh Gudghe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697457309,"creation_date":1697453061,"question_id":77301298,"body_markdown":"I am using UnifiedJedis to perform read and write operations on Redis. I&#39;m facing an issue with data loss when there is a master and slave.\r\n\r\nThe issue with the Jedis transaction was when we shut down the master POD and another slave became the master, that time some of the objects were lost even though we got the OK response from the transaction.\r\n\r\nIn Unified Jedis I tried with `waitReplias()`, but I&#39;m still facing the same issue.\r\n\r\nHow do I resolve this issue?\r\n","title":"Data loss during Redis master slave transition","body":"<p>I am using UnifiedJedis to perform read and write operations on Redis. I'm facing an issue with data loss when there is a master and slave.</p>\n<p>The issue with the Jedis transaction was when we shut down the master POD and another slave became the master, that time some of the objects were lost even though we got the OK response from the transaction.</p>\n<p>In Unified Jedis I tried with <code>waitReplias()</code>, but I'm still facing the same issue.</p>\n<p>How do I resolve this issue?</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-pubsub"],"comments":[{"owner":{"account_id":27897431,"reputation":372,"user_id":21302428,"display_name":"Arpita Shrivastava"},"score":0,"creation_date":1696346360,"post_id":77199478,"comment_id":136139442,"body_markdown":"Hi @Tobi, Will these 2 links help you in resolving your issue. [Link1](https://cloud.google.com/java/docs/reference/gax/latest/com.google.api.gax.core.ExecutorProvider.html) and [Link2](https://cloud.google.com/java/docs/reference/google-cloud-pubsub/latest/com.google.cloud.pubsub.v1.Subscriber.Builder#com_google_cloud_pubsub_v1_Subscriber_Builder_setExecutorProvider_com_google_api_gax_core_ExecutorProvider_).","body":"Hi @Tobi, Will these 2 links help you in resolving your issue. <a href=\"https://cloud.google.com/java/docs/reference/gax/latest/com.google.api.gax.core.ExecutorProvider.html\" rel=\"nofollow noreferrer\">Link1</a> and <a href=\"https://cloud.google.com/java/docs/reference/google-cloud-pubsub/latest/com.google.cloud.pubsub.v1.Subscriber.Builder#com_google_cloud_pubsub_v1_Subscriber_Builder_setExecutorProvider_com_google_api_gax_core_ExecutorProvider_\" rel=\"nofollow noreferrer\">Link2</a>."},{"owner":{"account_id":1055293,"reputation":1513,"user_id":5115898,"display_name":"Tobi"},"score":0,"creation_date":1696391255,"post_id":77199478,"comment_id":136145196,"body_markdown":"Hey @ArpitaShrivastava, I am aware of the API. Can you please elaborate on how these links help to answer my question?","body":"Hey @ArpitaShrivastava, I am aware of the API. Can you please elaborate on how these links help to answer my question?"}],"answers":[{"comments":[{"owner":{"account_id":1055293,"reputation":1513,"user_id":5115898,"display_name":"Tobi"},"score":0,"creation_date":1697535576,"post_id":77301743,"comment_id":136289040,"body_markdown":"Understood. Thanks for the clarification!","body":"Understood. Thanks for the clarification!"}],"tags":[],"owner":{"account_id":1136268,"reputation":15739,"user_id":1121288,"display_name":"Kamal Aboul-Hosn"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697457226,"creation_date":1697457226,"answer_id":77301743,"question_id":77199478,"body_markdown":"The use of `executorProvider.getExecutor().isShutdown()` to determine whether or not to rebuild the subscriber does not seem like the best condition, agreed. The sample should and will be updated. It is especially unusual because calling `getExecutor()` creates a brand new executor. \r\n\r\nThe subscriber should only be recreated in the `failed()` method of `addListener` if the condition can be remedied. For example, one might check the status of the error to see if the subscription didn&#39;t exist and if not, create it:\r\n\r\n```\r\n  subscriber.addListener(\r\n      new Subscriber.Listener() {\r\n        public void failed(Subscriber.State from, Throwable failure) {\r\n          System.out.println(failure.getStackTrace());\r\n\r\n          if (failure instance of NotFoundException) {\r\n            createSubscription(projectId, topicId, subscriptionId);\r\n            subscribeWithErrorListenerExample(projectId, subscriptionId);\r\n          }\r\n        }\r\n      },\r\n      MoreExecutors.directExecutor());\r\n\r\n  void createSubscription(String projectId, String topicId, String subscriptionId) {\r\n    try (SubscriptionAdminClient subscriptionAdminClient = SubscriptionAdminClient.create()) {\r\n      TopicName topicName = TopicName.of(projectId, topicId);\r\n      SubscriptionName subscriptionName = SubscriptionName.of(projectId, subscriptionId);\r\n      Subscription subscription =\r\n          subscriptionAdminClient.createSubscription(\r\n              subscriptionName, topicName, PushConfig.getDefaultInstance(), 10);\r\n    }\r\n```\r\n","title":"When should a subscriber failed listener rebuild the subscriber?","body":"<p>The use of <code>executorProvider.getExecutor().isShutdown()</code> to determine whether or not to rebuild the subscriber does not seem like the best condition, agreed. The sample should and will be updated. It is especially unusual because calling <code>getExecutor()</code> creates a brand new executor.</p>\n<p>The subscriber should only be recreated in the <code>failed()</code> method of <code>addListener</code> if the condition can be remedied. For example, one might check the status of the error to see if the subscription didn't exist and if not, create it:</p>\n<pre><code>  subscriber.addListener(\n      new Subscriber.Listener() {\n        public void failed(Subscriber.State from, Throwable failure) {\n          System.out.println(failure.getStackTrace());\n\n          if (failure instance of NotFoundException) {\n            createSubscription(projectId, topicId, subscriptionId);\n            subscribeWithErrorListenerExample(projectId, subscriptionId);\n          }\n        }\n      },\n      MoreExecutors.directExecutor());\n\n  void createSubscription(String projectId, String topicId, String subscriptionId) {\n    try (SubscriptionAdminClient subscriptionAdminClient = SubscriptionAdminClient.create()) {\n      TopicName topicName = TopicName.of(projectId, topicId);\n      SubscriptionName subscriptionName = SubscriptionName.of(projectId, subscriptionId);\n      Subscription subscription =\n          subscriptionAdminClient.createSubscription(\n              subscriptionName, topicName, PushConfig.getDefaultInstance(), 10);\n    }\n</code></pre>\n"}],"owner":{"account_id":1055293,"reputation":1513,"user_id":5115898,"display_name":"Tobi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77301743,"answer_count":1,"score":0,"last_activity_date":1697457226,"creation_date":1695962324,"question_id":77199478,"body_markdown":"I am trying to understand the Pub/Sub example code for [handling errors using the high-level client library][1]. In particular, I am trying to understand [the following if statement of the subscriber rebuild logic][2]:\r\n\r\n```java\r\nif (!executorProvider.getExecutor().isShutdown()) {\r\n    subscribeWithErrorListenerExample(projectId, subscriptionId);\r\n}\r\n```\r\n\r\nWhy is this check necessary, and why should we only rebuild if the executor is *not* shut down? `subscribeWithErrorListenerExample` will in any case, rebuild and restart a subscriber and [recreate the `executorProvider`][3].\r\n\r\nMy first thought was that if we need this check, maybe it should say: &quot;only rebuild if the executor *is* shut down&quot; (i.e., remove the negation `!` in the if statement). Or, maybe the executor gets already shut down when the subscriber fails, in which case I am wondering why this check is needed in the first place.\r\n\r\nAppreciate it if anyone has some thoughts or input.\r\n\r\n\r\n  [1]: https://cloud.google.com/pubsub/docs/pull#handle_errors_using_the_high-level_client_library\r\n  [2]: https://github.com/googleapis/java-pubsub/blob/6d1c7d33b5cbd559611690da2d0f5e10451799ee/samples/snippets/src/main/java/pubsub/SubscribeWithErrorListenerExample.java#L71C19-L71C19\r\n  [3]: https://github.com/googleapis/java-pubsub/blob/6d1c7d33b5cbd559611690da2d0f5e10451799ee/samples/snippets/src/main/java/pubsub/SubscribeWithErrorListenerExample.java#L57","title":"When should a subscriber failed listener rebuild the subscriber?","body":"<p>I am trying to understand the Pub/Sub example code for <a href=\"https://cloud.google.com/pubsub/docs/pull#handle_errors_using_the_high-level_client_library\" rel=\"nofollow noreferrer\">handling errors using the high-level client library</a>. In particular, I am trying to understand <a href=\"https://github.com/googleapis/java-pubsub/blob/6d1c7d33b5cbd559611690da2d0f5e10451799ee/samples/snippets/src/main/java/pubsub/SubscribeWithErrorListenerExample.java#L71C19-L71C19\" rel=\"nofollow noreferrer\">the following if statement of the subscriber rebuild logic</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (!executorProvider.getExecutor().isShutdown()) {\n    subscribeWithErrorListenerExample(projectId, subscriptionId);\n}\n</code></pre>\n<p>Why is this check necessary, and why should we only rebuild if the executor is <em>not</em> shut down? <code>subscribeWithErrorListenerExample</code> will in any case, rebuild and restart a subscriber and <a href=\"https://github.com/googleapis/java-pubsub/blob/6d1c7d33b5cbd559611690da2d0f5e10451799ee/samples/snippets/src/main/java/pubsub/SubscribeWithErrorListenerExample.java#L57\" rel=\"nofollow noreferrer\">recreate the <code>executorProvider</code></a>.</p>\n<p>My first thought was that if we need this check, maybe it should say: &quot;only rebuild if the executor <em>is</em> shut down&quot; (i.e., remove the negation <code>!</code> in the if statement). Or, maybe the executor gets already shut down when the subscriber fails, in which case I am wondering why this check is needed in the first place.</p>\n<p>Appreciate it if anyone has some thoughts or input.</p>\n"},{"tags":["java","c++","windows","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1697444908,"post_id":77300412,"comment_id":136276055,"body_markdown":"Can you explain why you think the linked answer does not apply or how you could not get it to work? The JVM is, after all, just another DLL to be loaded... Alternatively, have you considered the generic LoadLibrary/GetProcAddress route? You only need `JNI_CreateJavaVM`, after all...","body":"Can you explain why you think the linked answer does not apply or how you could not get it to work? The JVM is, after all, just another DLL to be loaded... Alternatively, have you considered the generic LoadLibrary/GetProcAddress route? You only need <code>JNI_CreateJavaVM</code>, after all..."},{"owner":{"account_id":25635399,"reputation":31,"user_id":19405069,"display_name":"John"},"score":0,"creation_date":1697447125,"post_id":77300412,"comment_id":136276431,"body_markdown":"It doesn&#39;t apply because you can&#39;t just simply copy `jvm.dll` and paste it in the same location with .exe file. It doesn&#39;t work like that. And if this doesn&#39;t work, then it will look into Windows, and of course it is not there, which it means it will then will look into PATH, and this is what I want to avoid.","body":"It doesn&#39;t apply because you can&#39;t just simply copy <code>jvm.dll</code> and paste it in the same location with .exe file. It doesn&#39;t work like that. And if this doesn&#39;t work, then it will look into Windows, and of course it is not there, which it means it will then will look into PATH, and this is what I want to avoid."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1697447253,"post_id":77300412,"comment_id":136276451,"body_markdown":"Have you read the second and third answers in that thread? There are other options than bundling jvm.dll with your exe or searching PATH, namely SetDllDirectory and LoadLibrary(Ex) as I hinted at in my first comment.","body":"Have you read the second and third answers in that thread? There are other options than bundling jvm.dll with your exe or searching PATH, namely SetDllDirectory and LoadLibrary(Ex) as I hinted at in my first comment."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1697449347,"post_id":77300412,"comment_id":136276852,"body_markdown":"See [this question](/questions/28778933/deploying-jre-via-jni-jvm-dll-not-designed-to-run-on-windows-or) for a snippet you can steal: it loads the jvm.dll by absolute pathname, which you can get from querying %JAVA_HOME%, the registry, specific configuration somewhere, or just searching the filesystem.","body":"See <a href=\"/questions/28778933/deploying-jre-via-jni-jvm-dll-not-designed-to-run-on-windows-or\">this question</a> for a snippet you can steal: it loads the jvm.dll by absolute pathname, which you can get from querying %JAVA_HOME%, the registry, specific configuration somewhere, or just searching the filesystem."},{"owner":{"account_id":25635399,"reputation":31,"user_id":19405069,"display_name":"John"},"score":0,"creation_date":1697456847,"post_id":77300412,"comment_id":136278168,"body_markdown":"Yes, it did work with LoadLibrary. I had some problems before, but now I managed to make it work. Thank you.","body":"Yes, it did work with LoadLibrary. I had some problems before, but now I managed to make it work. Thank you."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1697456875,"post_id":77300412,"comment_id":136278171,"body_markdown":"Suggest you write a self-answer for other people to find, then :)","body":"Suggest you write a self-answer for other people to find, then :)"}],"answers":[{"tags":[],"owner":{"account_id":25635399,"reputation":31,"user_id":19405069,"display_name":"John"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697457172,"creation_date":1697457172,"answer_id":77301737,"question_id":77300412,"body_markdown":"Using the suggestion @Botje gave (thank you!), I tried yet again using `LoadLibraryA`, and this time I managed to make it work:\r\n\r\n```\r\n#include &lt;string&gt;\r\n#include &lt;iostream&gt;\r\n#include &lt;chrono&gt;\r\n#include &lt;thread&gt;\r\n#include &lt;jni.h&gt;\r\n#include &lt;Windows.h&gt;\r\n\r\nJavaVM* jvm = nullptr;\r\n\r\nstd::string createVM(std::string location) {\r\n\tstd::string jvmLocation = location;\r\n\tjvmLocation.append(&quot;ThirdParty\\\\Eclipse Adoptium\\\\jre-17.0.7.7-hotspot\\\\bin\\\\servers\\\\jvm.dll&quot;);\r\n\tHMODULE hJVMDLL = LoadLibraryA(jvmLocation.c_str());\r\n\ttypedef jint(JNICALL* fpCJV)(JavaVM**, void**, void*);\r\n\tif (hJVMDLL != NULL) {\r\n\t\tfpCJV JNI_CreateJavaVM = (fpCJV)::GetProcAddress(hJVMDLL, &quot;JNI_CreateJavaVM&quot;);\r\n\t\tlocation.insert(0, &quot;-Djava.class.path=&quot;);\r\n\t\tlocation.append(&quot;Data\\\\Java&quot;);\r\n\t\tJavaVMInitArgs vm_args;\r\n\t\tJavaVMOption* options = new JavaVMOption[1];\r\n\t\toptions[0].optionString = &amp;location[0];\r\n\t\tvm_args.version = JNI_VERSION_10;\r\n\t\tvm_args.nOptions = 1;\r\n\t\tvm_args.options = options;\r\n\t\tvm_args.ignoreUnrecognized = false;\r\n\t\tJNIEnv* env = nullptr;\r\n\t\tjint rc = JNI_OK;\r\n\t\tif (jvm == nullptr) {\r\n\t\t\trc = JNI_CreateJavaVM(&amp;jvm, (void**)&amp;env, &amp;vm_args);\r\n\t\t}\r\n\t\telse {\r\n\t\t\trc = jvm-&gt;AttachCurrentThread((void**)&amp;env, NULL);\r\n\t\t}\r\n\t\tdelete[] options;\r\n\t\tif (rc != JNI_OK) {\r\n\t\t\tif (rc == JNI_EVERSION)\r\n\t\t\t\treturn &quot;JNI_EVERSION&quot;;\r\n\t\t\telse if (rc == JNI_ENOMEM)\r\n\t\t\t\treturn &quot;JNI_ENOMEM&quot;;\r\n\t\t\telse if (rc == JNI_EINVAL)\r\n\t\t\t\treturn &quot;JNI_EINVAL&quot;;\r\n\t\t\telse if (rc == JNI_EEXIST)\r\n\t\t\t\treturn &quot;JNI_EEXIST&quot;;\r\n\t\t\telse\r\n\t\t\t\treturn &quot;JNI_FATALERROR&quot;;\r\n\t\t}\r\n\t\treturn &quot;JNI_CREATED&quot;;\r\n\t}\r\n\telse {\r\n\t\treturn &quot;ERROR_LOADING_DLL&quot;;\r\n\t}\r\n}\r\n\r\n//This is just a test for a function I have written in Java, which doesn&#39;t take any parameters, and returns a String\r\nstd::string createIdentification() {\r\n\tJNIEnv* env;\r\n\tjvm-&gt;AttachCurrentThread((void**)&amp;env, NULL);\r\n\tjclass jClass = env-&gt;FindClass(&quot;JavaMethods&quot;);\r\n\r\n\tif (jClass == nullptr) {\r\n\t\treturn &quot;ClassNotFound cI&quot;;\r\n\t}\r\n\telse {\r\n\t\tjmethodID methodID = env-&gt;GetStaticMethodID(jClass, &quot;createIdentification&quot;, &quot;()Ljava/lang/String;&quot;);\r\n\t\tif (methodID == nullptr) {\r\n\t\t\treturn &quot;MethodNotFound cI&quot;;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tjboolean isCopy;\r\n\t\t\tjstring jResult = (jstring)env-&gt;CallStaticObjectMethod(jClass, methodID);\r\n\t\t\tconst char* string = env-&gt;GetStringUTFChars(jResult, &amp;isCopy);\r\n\t\t\tstd::string result = string;\r\n\t\t\tenv-&gt;ReleaseStringUTFChars(jResult, string);\r\n\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nint main() {\r\n\tstd::cout &lt;&lt; createVM(&quot;D:\\\\Program Files\\\\MyApp\\\\&quot;).c_str() &lt;&lt; std::endl;\r\n\tif (jvm != NULL) {\r\n\t\tstd::cout &lt;&lt; createIdentification().c_str();\r\n\t}\r\n\r\n\tstd::this_thread::sleep_for(std::chrono::milliseconds(2000));\r\n\treturn 0;\r\n}\r\n```","title":"How to use JNI without having to add jvm.dll location into Environment Variables Path","body":"<p>Using the suggestion @Botje gave (thank you!), I tried yet again using <code>LoadLibraryA</code>, and this time I managed to make it work:</p>\n<pre><code>#include &lt;string&gt;\n#include &lt;iostream&gt;\n#include &lt;chrono&gt;\n#include &lt;thread&gt;\n#include &lt;jni.h&gt;\n#include &lt;Windows.h&gt;\n\nJavaVM* jvm = nullptr;\n\nstd::string createVM(std::string location) {\n    std::string jvmLocation = location;\n    jvmLocation.append(&quot;ThirdParty\\\\Eclipse Adoptium\\\\jre-17.0.7.7-hotspot\\\\bin\\\\servers\\\\jvm.dll&quot;);\n    HMODULE hJVMDLL = LoadLibraryA(jvmLocation.c_str());\n    typedef jint(JNICALL* fpCJV)(JavaVM**, void**, void*);\n    if (hJVMDLL != NULL) {\n        fpCJV JNI_CreateJavaVM = (fpCJV)::GetProcAddress(hJVMDLL, &quot;JNI_CreateJavaVM&quot;);\n        location.insert(0, &quot;-Djava.class.path=&quot;);\n        location.append(&quot;Data\\\\Java&quot;);\n        JavaVMInitArgs vm_args;\n        JavaVMOption* options = new JavaVMOption[1];\n        options[0].optionString = &amp;location[0];\n        vm_args.version = JNI_VERSION_10;\n        vm_args.nOptions = 1;\n        vm_args.options = options;\n        vm_args.ignoreUnrecognized = false;\n        JNIEnv* env = nullptr;\n        jint rc = JNI_OK;\n        if (jvm == nullptr) {\n            rc = JNI_CreateJavaVM(&amp;jvm, (void**)&amp;env, &amp;vm_args);\n        }\n        else {\n            rc = jvm-&gt;AttachCurrentThread((void**)&amp;env, NULL);\n        }\n        delete[] options;\n        if (rc != JNI_OK) {\n            if (rc == JNI_EVERSION)\n                return &quot;JNI_EVERSION&quot;;\n            else if (rc == JNI_ENOMEM)\n                return &quot;JNI_ENOMEM&quot;;\n            else if (rc == JNI_EINVAL)\n                return &quot;JNI_EINVAL&quot;;\n            else if (rc == JNI_EEXIST)\n                return &quot;JNI_EEXIST&quot;;\n            else\n                return &quot;JNI_FATALERROR&quot;;\n        }\n        return &quot;JNI_CREATED&quot;;\n    }\n    else {\n        return &quot;ERROR_LOADING_DLL&quot;;\n    }\n}\n\n//This is just a test for a function I have written in Java, which doesn't take any parameters, and returns a String\nstd::string createIdentification() {\n    JNIEnv* env;\n    jvm-&gt;AttachCurrentThread((void**)&amp;env, NULL);\n    jclass jClass = env-&gt;FindClass(&quot;JavaMethods&quot;);\n\n    if (jClass == nullptr) {\n        return &quot;ClassNotFound cI&quot;;\n    }\n    else {\n        jmethodID methodID = env-&gt;GetStaticMethodID(jClass, &quot;createIdentification&quot;, &quot;()Ljava/lang/String;&quot;);\n        if (methodID == nullptr) {\n            return &quot;MethodNotFound cI&quot;;\n        }\n        else {\n            jboolean isCopy;\n            jstring jResult = (jstring)env-&gt;CallStaticObjectMethod(jClass, methodID);\n            const char* string = env-&gt;GetStringUTFChars(jResult, &amp;isCopy);\n            std::string result = string;\n            env-&gt;ReleaseStringUTFChars(jResult, string);\n\n            return result;\n        }\n    }\n}\n\nint main() {\n    std::cout &lt;&lt; createVM(&quot;D:\\\\Program Files\\\\MyApp\\\\&quot;).c_str() &lt;&lt; std::endl;\n    if (jvm != NULL) {\n        std::cout &lt;&lt; createIdentification().c_str();\n    }\n\n    std::this_thread::sleep_for(std::chrono::milliseconds(2000));\n    return 0;\n}\n</code></pre>\n"}],"owner":{"account_id":25635399,"reputation":31,"user_id":19405069,"display_name":"John"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77301737,"answer_count":1,"score":1,"last_activity_date":1697457172,"creation_date":1697444587,"question_id":77300412,"body_markdown":"One way to make JNI work is to go into `Environment Variables` and add into `User` or `System` `Path` the folder where `jvm.dll` is located (`.../bin/server`). But this means that on a client machine, when your app is launched, you need to check if the path is added, and if it isn&#39;t, to add it.\r\n\r\nBut instead of doing this, can you give the location to `JavaVMOption`, or using another way, but inside the code and not having to add that location to `Environment Variables`?\r\n\r\nI&#39;m using `Eclipse Adoptium` which will be added with the app files with a license agreement, so the location will be dependent to where the app is placed/installed, making the option with `Environment Variables` a bit annoying as the location could change, so you need to remove the old one and add the new one each time in this situation.\r\n\r\nThis is what I use to create the `JVM`, where `javaLocation` is `std::string`, and it is given as a parameter for the function which contains the location of the app folder:\r\n```\r\n\tjavaLocation.insert(0, &quot;-Djava.class.path=&quot;);\r\n\tjavaLocation.append(&quot;Data\\\\Java&quot;);\r\n\tJavaVMInitArgs vm_args;\r\n\tJavaVMOption* options = new JavaVMOption[1];\r\n\toptions[0].optionString = &amp;javaLocation[0];\r\n\tvm_args.version = JNI_VERSION_10;\r\n\tvm_args.nOptions = 1;\r\n\tvm_args.options = options;\r\n\tvm_args.ignoreUnrecognized = false;\r\n\tJNIEnv* env = nullptr;\r\n\tjint rc = JNI_OK;\r\n\tif (jvm == nullptr) {\r\n\t\trc = JNI_CreateJavaVM(&amp;jvm, (void**)&amp;env, &amp;vm_args);\r\n\t}\r\n\telse {\r\n\t\trc = jvm-&gt;AttachCurrentThread((void**)&amp;env, NULL);\r\n\t}\r\n\tdelete[] options;\r\n\tif (rc != JNI_OK) {\r\n\t\tif (rc == JNI_EVERSION)\r\n\t\t\treturn &quot;JNI_EVERSION&quot;;\r\n\t\telse if (rc == JNI_ENOMEM)\r\n\t\t\treturn &quot;JNI_ENOMEM&quot;;\r\n\t\telse if (rc == JNI_EINVAL)\r\n\t\t\treturn &quot;JNI_EINVAL&quot;;\r\n\t\telse if (rc == JNI_EEXIST)\r\n\t\t\treturn &quot;JNI_EEXIST&quot;;\r\n\t\telse\r\n\t\t\treturn &quot;JNI_FATALERROR&quot;;\r\n\t}\r\n\treturn &quot;JNI_CREATED&quot;;\r\n```\r\n\r\nThis question was asked before in [this][1] thread and was marked as &quot;**This question already has answers here**&quot;, but unfortunately the answer given there doesn&#39;t apply to JNI, and it is a general solution for **DLL** files.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75243074/using-jni-without-having-to-add-jvm-dll-path-inside-environment-variables-user","title":"How to use JNI without having to add jvm.dll location into Environment Variables Path","body":"<p>One way to make JNI work is to go into <code>Environment Variables</code> and add into <code>User</code> or <code>System</code> <code>Path</code> the folder where <code>jvm.dll</code> is located (<code>.../bin/server</code>). But this means that on a client machine, when your app is launched, you need to check if the path is added, and if it isn't, to add it.</p>\n<p>But instead of doing this, can you give the location to <code>JavaVMOption</code>, or using another way, but inside the code and not having to add that location to <code>Environment Variables</code>?</p>\n<p>I'm using <code>Eclipse Adoptium</code> which will be added with the app files with a license agreement, so the location will be dependent to where the app is placed/installed, making the option with <code>Environment Variables</code> a bit annoying as the location could change, so you need to remove the old one and add the new one each time in this situation.</p>\n<p>This is what I use to create the <code>JVM</code>, where <code>javaLocation</code> is <code>std::string</code>, and it is given as a parameter for the function which contains the location of the app folder:</p>\n<pre><code>    javaLocation.insert(0, &quot;-Djava.class.path=&quot;);\n    javaLocation.append(&quot;Data\\\\Java&quot;);\n    JavaVMInitArgs vm_args;\n    JavaVMOption* options = new JavaVMOption[1];\n    options[0].optionString = &amp;javaLocation[0];\n    vm_args.version = JNI_VERSION_10;\n    vm_args.nOptions = 1;\n    vm_args.options = options;\n    vm_args.ignoreUnrecognized = false;\n    JNIEnv* env = nullptr;\n    jint rc = JNI_OK;\n    if (jvm == nullptr) {\n        rc = JNI_CreateJavaVM(&amp;jvm, (void**)&amp;env, &amp;vm_args);\n    }\n    else {\n        rc = jvm-&gt;AttachCurrentThread((void**)&amp;env, NULL);\n    }\n    delete[] options;\n    if (rc != JNI_OK) {\n        if (rc == JNI_EVERSION)\n            return &quot;JNI_EVERSION&quot;;\n        else if (rc == JNI_ENOMEM)\n            return &quot;JNI_ENOMEM&quot;;\n        else if (rc == JNI_EINVAL)\n            return &quot;JNI_EINVAL&quot;;\n        else if (rc == JNI_EEXIST)\n            return &quot;JNI_EEXIST&quot;;\n        else\n            return &quot;JNI_FATALERROR&quot;;\n    }\n    return &quot;JNI_CREATED&quot;;\n</code></pre>\n<p>This question was asked before in <a href=\"https://stackoverflow.com/questions/75243074/using-jni-without-having-to-add-jvm-dll-path-inside-environment-variables-user\">this</a> thread and was marked as &quot;<strong>This question already has answers here</strong>&quot;, but unfortunately the answer given there doesn't apply to JNI, and it is a general solution for <strong>DLL</strong> files.</p>\n"},{"tags":["java","android","storage","android-developer-api","saf"],"comments":[{"owner":{"account_id":24118422,"reputation":21,"user_id":18087969,"display_name":"Ayush Sharma"},"score":0,"creation_date":1697435632,"post_id":77299441,"comment_id":136274629,"body_markdown":"@blackapps I think it is needed as i am storing the treeUri after opening it once so the permission is needed i think .","body":"@blackapps I think it is needed as i am storing the treeUri after opening it once so the permission is needed i think ."},{"owner":{"account_id":16612457,"reputation":311,"user_id":12005025,"display_name":"Laxmi kant"},"score":0,"creation_date":1697436788,"post_id":77299441,"comment_id":136274773,"body_markdown":"Show me your manifest.xml","body":"Show me your manifest.xml"},{"owner":{"account_id":24118422,"reputation":21,"user_id":18087969,"display_name":"Ayush Sharma"},"score":0,"creation_date":1697437443,"post_id":77299441,"comment_id":136274875,"body_markdown":"@Laxmikant \n\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n\nThese are the permissions that i have added and rest is unchanged","body":"@Laxmikant   &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;     &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;     &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;     &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;     &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;  These are the permissions that i have added and rest is unchanged"},{"owner":{"account_id":24118422,"reputation":21,"user_id":18087969,"display_name":"Ayush Sharma"},"score":0,"creation_date":1697437768,"post_id":77299441,"comment_id":136274924,"body_markdown":"@blackapps removing it didn&#39;t solve the problem","body":"@blackapps removing it didn&#39;t solve the problem"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1697439542,"post_id":77299441,"comment_id":136275193,"body_markdown":"And dont show a manifest as comment. Unreadable. Moreover there is not any reason to ask for a manifest.","body":"And dont show a manifest as comment. Unreadable. Moreover there is not any reason to ask for a manifest."},{"owner":{"account_id":16612457,"reputation":311,"user_id":12005025,"display_name":"Laxmi kant"},"score":0,"creation_date":1697439577,"post_id":77299441,"comment_id":136275201,"body_markdown":"Need to add Read uri permission in your manifest file and these permission work for below android 10 ,","body":"Need to add Read uri permission in your manifest file and these permission work for below android 10 ,"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1697439664,"post_id":77299441,"comment_id":136275213,"body_markdown":"@Laxmi kant. Please stop giving wrong advises. SAF does not need any permission or stuff in manifest.","body":"@Laxmi kant. Please stop giving wrong advises. SAF does not need any permission or stuff in manifest."},{"owner":{"account_id":16612457,"reputation":311,"user_id":12005025,"display_name":"Laxmi kant"},"score":0,"creation_date":1697439690,"post_id":77299441,"comment_id":136275219,"body_markdown":"and one thing is more use ActivityLauncher andoid 10 or above","body":"and one thing is more use ActivityLauncher andoid 10 or above"},{"owner":{"account_id":24118422,"reputation":21,"user_id":18087969,"display_name":"Ayush Sharma"},"score":0,"creation_date":1697440123,"post_id":77299441,"comment_id":136275277,"body_markdown":"&lt;intent-filter&gt;--&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;--&gt;\n          &lt;category android:name=&quot;android.intent.action.OPEN_DOCUMENT_TREE&quot; /&gt;--&gt;\n       &lt;/intent-filter&gt;--&gt;\n\n@Laxmikant i did this earlier \ndid you mean this","body":"&lt;intent-filter&gt;--&gt;                 &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;--&gt;           &lt;category android:name=&quot;android.intent.action.OPEN_DOCUMENT_TREE&quot; /&gt;--&gt;        &lt;/intent-filter&gt;--&gt;  @Laxmikant i did this earlier  did you mean this"},{"owner":{"account_id":24118422,"reputation":21,"user_id":18087969,"display_name":"Ayush Sharma"},"score":0,"creation_date":1697440152,"post_id":77299441,"comment_id":136275281,"body_markdown":"@blackapps do you have any fix for it , i need it.","body":"@blackapps do you have any fix for it , i need it."},{"owner":{"account_id":2047476,"reputation":3789,"user_id":1827254,"accept_rate":62,"display_name":"Eselfar"},"score":0,"creation_date":1697452463,"post_id":77299441,"comment_id":136277404,"body_markdown":"Maybe the issue is exactly that: there is no app installed to support this.\nSeems you have already put some tools in your app to return issues. So you could check if FILE is installed when the app can&#39;t find any app, then return this info as part of the logs. Obviously it&#39;ll not fix your issue but I least you&#39;ll have a better understanding of it.","body":"Maybe the issue is exactly that: there is no app installed to support this. Seems you have already put some tools in your app to return issues. So you could check if FILE is installed when the app can&#39;t find any app, then return this info as part of the logs. Obviously it&#39;ll not fix your issue but I least you&#39;ll have a better understanding of it."},{"owner":{"account_id":2047476,"reputation":3789,"user_id":1827254,"accept_rate":62,"display_name":"Eselfar"},"score":0,"creation_date":1697452542,"post_id":77299441,"comment_id":136277422,"body_markdown":"@blackapps Please be nice, everybody here is trying to help. ❤️","body":"@blackapps Please be nice, everybody here is trying to help. ❤️"},{"owner":{"account_id":24118422,"reputation":21,"user_id":18087969,"display_name":"Ayush Sharma"},"score":0,"creation_date":1697456072,"post_id":77299441,"comment_id":136278040,"body_markdown":"Thanks @Eselfar for taking a look\nActually there is some file app there in the device\nBut you actually want to say to install some files app in the device like google files or something , Right?","body":"Thanks @Eselfar for taking a look Actually there is some file app there in the device But you actually want to say to install some files app in the device like google files or something , Right?"},{"owner":{"account_id":2047476,"reputation":3789,"user_id":1827254,"accept_rate":62,"display_name":"Eselfar"},"score":0,"creation_date":1697497367,"post_id":77299441,"comment_id":136284855,"body_markdown":"You have access to the device? I thought you knew about the error because of some user&#39;s report.","body":"You have access to the device? I thought you knew about the error because of some user&#39;s report."},{"owner":{"account_id":24118422,"reputation":21,"user_id":18087969,"display_name":"Ayush Sharma"},"score":0,"creation_date":1697505308,"post_id":77299441,"comment_id":136285479,"body_markdown":"@Eselfar yes i have the access to device. Can you please elaborate your  first comment?","body":"@Eselfar yes i have the access to device. Can you please elaborate your  first comment?"}],"owner":{"account_id":24118422,"reputation":21,"user_id":18087969,"display_name":"Ayush Sharma"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697457123,"creation_date":1697431507,"question_id":77299441,"body_markdown":"     Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\r\n     startActivityForResult(intent, REQUEST_CODE_OPEN_DIRECTORY);\r\n              \r\nI am trying to open  file directory in an android supported Interactive Flat panel name BENQ having android 11 . I try to open the file directory but this line of code gave me error \r\n\r\nandroid.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.OPEN_DOCUMENT_TREE flg=0x1 }\r\n\r\nDoes any one know how to fix this or any alternative?\r\n\r\n&quot;Some have suggested it might be very likely related to the fact that some users have disabled the FILES app on their devices, since MOST PROBABLY the error is not occurring on all the devices models listed above, but for a subset&quot;\r\n\r\nabove is the solution suggested by some but i can not find how to activate the files app , i am not able to do anything.\r\n\r\nalso if some can please tell how can i read data from usb device in android without SAF in android 11 or above it will be of great help.\r\n\r\nNote - My code working on almost all devices but this is the special case but it important for me to fix it.\r\n\r\n\r\n","title":"No Activity found to handle Intent { act=android.intent.action.OPEN_DOCUMENT_TREE flg=0x1 }","body":"<pre><code> Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\n startActivityForResult(intent, REQUEST_CODE_OPEN_DIRECTORY);\n          \n</code></pre>\n<p>I am trying to open  file directory in an android supported Interactive Flat panel name BENQ having android 11 . I try to open the file directory but this line of code gave me error</p>\n<p>android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.OPEN_DOCUMENT_TREE flg=0x1 }</p>\n<p>Does any one know how to fix this or any alternative?</p>\n<p>&quot;Some have suggested it might be very likely related to the fact that some users have disabled the FILES app on their devices, since MOST PROBABLY the error is not occurring on all the devices models listed above, but for a subset&quot;</p>\n<p>above is the solution suggested by some but i can not find how to activate the files app , i am not able to do anything.</p>\n<p>also if some can please tell how can i read data from usb device in android without SAF in android 11 or above it will be of great help.</p>\n<p>Note - My code working on almost all devices but this is the special case but it important for me to fix it.</p>\n"},{"tags":["java","angular","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1697315298,"post_id":77294278,"comment_id":136265411,"body_markdown":"To login you have to call `/login` instead of `&quot;user/login&quot;`. If you call `&quot;user/login&quot;` you are not logged in and redirected to your login page.","body":"To login you have to call <code>&#47;login</code> instead of <code>&quot;user&#47;login&quot;</code>. If you call <code>&quot;user&#47;login&quot;</code> you are not logged in and redirected to your login page."},{"owner":{"account_id":29672585,"reputation":1,"user_id":22741445,"display_name":"mVirtuoso"},"score":0,"creation_date":1697316438,"post_id":77294278,"comment_id":136265521,"body_markdown":"@dur i tried using `/login` instead of `/user/login`, but I&#39;m still getting the same error. I tried `login` instead of `/login` and it worked. So I changed &#39;/user/login&#39; to `user/login` and it also worked. Can you please elaborate? Tutorials I have seen used `/something`","body":"@dur i tried using <code>&#47;login</code> instead of <code>&#47;user&#47;login</code>, but I&#39;m still getting the same error. I tried <code>login</code> instead of <code>&#47;login</code> and it worked. So I changed &#39;/user/login&#39; to <code>user&#47;login</code> and it also worked. Can you please elaborate? Tutorials I have seen used <code>&#47;something</code>"},{"owner":{"account_id":29672585,"reputation":1,"user_id":22741445,"display_name":"mVirtuoso"},"score":0,"creation_date":1697317164,"post_id":77294278,"comment_id":136265573,"body_markdown":"@dur also should I update any of my existing urls in the security configuration?","body":"@dur also should I update any of my existing urls in the security configuration?"}],"owner":{"account_id":29672585,"reputation":1,"user_id":22741445,"display_name":"mVirtuoso"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697456763,"creation_date":1697313207,"question_id":77294278,"body_markdown":"I am trying to build a web app for a local supermarket using Angular 16 for the frontend and Spring boot (3.1.3) for the backend.\r\n\r\nIn angular, this is how I&#39;m submitting my form:\r\n```\r\nlogin() {\r\n    console.log(this.loginFormGroup.value);\r\n    this.loginFormGroup.markAllAsTouched();\r\n    if (this.loginFormGroup.valid) {\r\n      this.loginSubscription = this.userService.login({\r\n        username: this.loginFormGroup.controls[&quot;username&quot;].value,\r\n        password: this.loginFormGroup.controls[&quot;password&quot;].value,\r\n        rememberMe: this.loginFormGroup.controls[&quot;rememberMe&quot;].value as string,\r\n      }).subscribe({\r\n        next: (response: Response) =&gt; {\r\n          if (response.errorCode === &quot;5&quot;) {\r\n            // this.router.navigateByUrl(&quot;/home&quot;).catch((error) =&gt; {\r\n            //   console.error(&#39;Navigation failed!&#39;, error);\r\n            // });\r\n            console.log(&quot;testing&quot;);\r\n          }\r\n          else {\r\n            alert(response.body.message);\r\n          }\r\n        },\r\n        error: (error) =&gt; {\r\n          alert(error);\r\n        }\r\n      });\r\n    } else {\r\n      console.log(this.loginFormGroup.errors);\r\n    }\r\n  }\r\n```\r\n\r\nUserService service: \r\n\r\n```\r\npublic login(loginInfo: any): Observable&lt;Response&gt; {\r\n    const url: string = environment.apiUrl + &quot;user/login&quot;;\r\n    return this.http.post&lt;Response&gt;(url, JSON.stringify(loginInfo));\r\n  }\r\n```\r\n\r\n(where `environment.apiUrl` is equal to `&quot;http://localhost:8080/&quot;`)\r\n\r\n\r\nIn spring boot, I have the following security configuration where some requests are allowed to certain endpoints, some are allowed if the user is a `CUSTOMER` or `ADMIN` roles, and some are allowed if the user is an `ADMIN`:\r\n\r\n```\r\n@Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n        return httpSecurity.cors(Customizer.withDefaults())\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .authorizeHttpRequests(authorize -&gt; authorize\r\n                        .requestMatchers(&quot;/product/**&quot;, &quot;/auth/**&quot;, &quot;/user/**&quot;)\r\n                        .permitAll()\r\n                        .requestMatchers(&quot;/hello&quot;) //for testing purposes\r\n                        .hasAnyRole(Role.ADMIN.name(), Role.CUSTOMER.name())\r\n                        .requestMatchers(&quot;/helloAdmin&quot;) //for testing purposes\r\n                        .hasRole(Role.ADMIN.name())\r\n                        .anyRequest()\r\n                        .authenticated())\r\n                .formLogin(httpSecurityFormLoginConfigurer -&gt; httpSecurityFormLoginConfigurer.loginProcessingUrl(&quot;/user/login&quot;))\r\n                .logout(httpSecurityLogoutConfigurer -&gt; httpSecurityLogoutConfigurer.logoutUrl(&quot;/user/logout&quot;).deleteCookies(&quot;JSESSIONID&quot;))\r\n                .rememberMe(httpSecurityRememberMeConfigurer -&gt; httpSecurityRememberMeConfigurer.rememberMeParameter(&quot;rememberMe&quot;).key(&quot;some key&quot;))\r\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .authenticationProvider(authenticationProvider)\r\n                .exceptionHandling(exc -&gt; exc.authenticationEntryPoint((request, response, authException) -&gt;\r\n                        restExceptionHandler.handleUnauthenticatedUser(request, response)))\r\n                .build();\r\n    }\r\n```\r\n\r\nIn the `handleUnauthenticatedUser`, I send a custom response.\r\n\r\nHere&#39;s my login endpoint (for testing purposes of course):\r\n```\r\n@PostMapping(&quot;/user/login&quot;)\r\n    public Response login(@RequestBody HashMap&lt;String, String&gt; request, HttpServletResponse httpServletResponse) {\r\n        HashMap&lt;String, String&gt; body = new HashMap&lt;&gt;();\r\n        body.put(&quot;message&quot;, &quot;User logged in successfully&quot;);\r\n        return new Response(&quot;5&quot;, body);\r\n    }\r\n```\r\n\r\nEach time a request is made from angular, I get this exception `HttpRequestMethodNotSupportedException`. I tried changing the login endpoint from `@PostMapping` to `@GetMapping` and it works just fine (and in angular too). However, it&#39;s not best to send user information in a get request. And I also want to know why I am getting this exception? I searched for tutorials for spring security form login, and they were all the same and they used POST. \r\n\r\nI tried messing with the `httpSecurityFormLoginConfigurer` a bit, but to no avail (loginPage, successHandler...).\r\n\r\nIt&#39;s also worth noting that in the network tab, there are two requests (when I&#39;m using POST):\r\n1. Request URL: http://localhost:8080/user/login\r\n Request Method: POST\r\nStatus Code: 302 Found\r\n2. Request URL: http://localhost:8080/login?error\r\nRequest Method: GET\r\nStatus Code: 200 OK which includes a custom response (no mapping for this request)\r\n\r\nAny help would be appreciated, thanks a lot :)","title":"Getting HttpRequestMethodNotSupportedException when using spring security formLogin","body":"<p>I am trying to build a web app for a local supermarket using Angular 16 for the frontend and Spring boot (3.1.3) for the backend.</p>\n<p>In angular, this is how I'm submitting my form:</p>\n<pre><code>login() {\n    console.log(this.loginFormGroup.value);\n    this.loginFormGroup.markAllAsTouched();\n    if (this.loginFormGroup.valid) {\n      this.loginSubscription = this.userService.login({\n        username: this.loginFormGroup.controls[&quot;username&quot;].value,\n        password: this.loginFormGroup.controls[&quot;password&quot;].value,\n        rememberMe: this.loginFormGroup.controls[&quot;rememberMe&quot;].value as string,\n      }).subscribe({\n        next: (response: Response) =&gt; {\n          if (response.errorCode === &quot;5&quot;) {\n            // this.router.navigateByUrl(&quot;/home&quot;).catch((error) =&gt; {\n            //   console.error('Navigation failed!', error);\n            // });\n            console.log(&quot;testing&quot;);\n          }\n          else {\n            alert(response.body.message);\n          }\n        },\n        error: (error) =&gt; {\n          alert(error);\n        }\n      });\n    } else {\n      console.log(this.loginFormGroup.errors);\n    }\n  }\n</code></pre>\n<p>UserService service:</p>\n<pre><code>public login(loginInfo: any): Observable&lt;Response&gt; {\n    const url: string = environment.apiUrl + &quot;user/login&quot;;\n    return this.http.post&lt;Response&gt;(url, JSON.stringify(loginInfo));\n  }\n</code></pre>\n<p>(where <code>environment.apiUrl</code> is equal to <code>&quot;http://localhost:8080/&quot;</code>)</p>\n<p>In spring boot, I have the following security configuration where some requests are allowed to certain endpoints, some are allowed if the user is a <code>CUSTOMER</code> or <code>ADMIN</code> roles, and some are allowed if the user is an <code>ADMIN</code>:</p>\n<pre><code>@Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n        return httpSecurity.cors(Customizer.withDefaults())\n                .csrf(AbstractHttpConfigurer::disable)\n                .authorizeHttpRequests(authorize -&gt; authorize\n                        .requestMatchers(&quot;/product/**&quot;, &quot;/auth/**&quot;, &quot;/user/**&quot;)\n                        .permitAll()\n                        .requestMatchers(&quot;/hello&quot;) //for testing purposes\n                        .hasAnyRole(Role.ADMIN.name(), Role.CUSTOMER.name())\n                        .requestMatchers(&quot;/helloAdmin&quot;) //for testing purposes\n                        .hasRole(Role.ADMIN.name())\n                        .anyRequest()\n                        .authenticated())\n                .formLogin(httpSecurityFormLoginConfigurer -&gt; httpSecurityFormLoginConfigurer.loginProcessingUrl(&quot;/user/login&quot;))\n                .logout(httpSecurityLogoutConfigurer -&gt; httpSecurityLogoutConfigurer.logoutUrl(&quot;/user/logout&quot;).deleteCookies(&quot;JSESSIONID&quot;))\n                .rememberMe(httpSecurityRememberMeConfigurer -&gt; httpSecurityRememberMeConfigurer.rememberMeParameter(&quot;rememberMe&quot;).key(&quot;some key&quot;))\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authenticationProvider(authenticationProvider)\n                .exceptionHandling(exc -&gt; exc.authenticationEntryPoint((request, response, authException) -&gt;\n                        restExceptionHandler.handleUnauthenticatedUser(request, response)))\n                .build();\n    }\n</code></pre>\n<p>In the <code>handleUnauthenticatedUser</code>, I send a custom response.</p>\n<p>Here's my login endpoint (for testing purposes of course):</p>\n<pre><code>@PostMapping(&quot;/user/login&quot;)\n    public Response login(@RequestBody HashMap&lt;String, String&gt; request, HttpServletResponse httpServletResponse) {\n        HashMap&lt;String, String&gt; body = new HashMap&lt;&gt;();\n        body.put(&quot;message&quot;, &quot;User logged in successfully&quot;);\n        return new Response(&quot;5&quot;, body);\n    }\n</code></pre>\n<p>Each time a request is made from angular, I get this exception <code>HttpRequestMethodNotSupportedException</code>. I tried changing the login endpoint from <code>@PostMapping</code> to <code>@GetMapping</code> and it works just fine (and in angular too). However, it's not best to send user information in a get request. And I also want to know why I am getting this exception? I searched for tutorials for spring security form login, and they were all the same and they used POST.</p>\n<p>I tried messing with the <code>httpSecurityFormLoginConfigurer</code> a bit, but to no avail (loginPage, successHandler...).</p>\n<p>It's also worth noting that in the network tab, there are two requests (when I'm using POST):</p>\n<ol>\n<li>Request URL: http://localhost:8080/user/login\nRequest Method: POST\nStatus Code: 302 Found</li>\n<li>Request URL: http://localhost:8080/login?error\nRequest Method: GET\nStatus Code: 200 OK which includes a custom response (no mapping for this request)</li>\n</ol>\n<p>Any help would be appreciated, thanks a lot :)</p>\n"},{"tags":["java","javafx","treeview"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1695499900,"post_id":77162664,"comment_id":136033614,"body_markdown":"I have a vague notion in my head that I&#39;ve run into issues with `TreeView` / `TreeTableView` graphics in the past. I can&#39;t remember if I found the issue came with relying on the graphic property of the items or not. What happens if you don&#39;t set any `TreeItem.graphic` property and instead have the `TreeCell` implementation be entirely responsible for setting the correct graphic?","body":"I have a vague notion in my head that I&#39;ve run into issues with <code>TreeView</code> / <code>TreeTableView</code> graphics in the past. I can&#39;t remember if I found the issue came with relying on the graphic property of the items or not. What happens if you don&#39;t set any <code>TreeItem.graphic</code> property and instead have the <code>TreeCell</code> implementation be entirely responsible for setting the correct graphic?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1695511891,"post_id":77162664,"comment_id":136034599,"body_markdown":"*&quot;Should I give JavaFX 20 a try where the first bug was fixed?&quot;* -&gt; Of course.  If you suspect a bug in the platform, then test with the most recent version (currently 21 for JDK and JavaFX), to see if the suspected bug was addressed.  If not, provide a [mcve] (please read and understand the linked page), that is specialized minimal code that reproduces only the issue via copy and paste with no change or addition.","body":"<i>&quot;Should I give JavaFX 20 a try where the first bug was fixed?&quot;</i> -&gt; Of course.  If you suspect a bug in the platform, then test with the most recent version (currently 21 for JDK and JavaFX), to see if the suspected bug was addressed.  If not, provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (please read and understand the linked page), that is specialized minimal code that reproduces only the issue via copy and paste with no change or addition."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1695589583,"post_id":77162664,"comment_id":136041078,"body_markdown":"Playing around with `TreeView` a little bit, I only saw missing graphics when I set the graphic of the `TreeItem`s. If I let the `TreeCell` be fully responsible for the graphics, I didn&#39;t notice any problems (though I may have simply missed it, as the missing graphics from the former approach happened rarely). It makes more sense for the `TreeCell` to be responsible for the graphics, anyway. It limits the number of nodes to the number of cells, instead of having potentially thousands of nodes in memory because they&#39;re associated with the items.","body":"Playing around with <code>TreeView</code> a little bit, I only saw missing graphics when I set the graphic of the <code>TreeItem</code>s. If I let the <code>TreeCell</code> be fully responsible for the graphics, I didn&#39;t notice any problems (though I may have simply missed it, as the missing graphics from the former approach happened rarely). It makes more sense for the <code>TreeCell</code> to be responsible for the graphics, anyway. It limits the number of nodes to the number of cells, instead of having potentially thousands of nodes in memory because they&#39;re associated with the items."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1695589651,"post_id":77162664,"comment_id":136041083,"body_markdown":"In my opinion, giving `TreeItem` a `graphic` property was an API mistake.","body":"In my opinion, giving <code>TreeItem</code> a <code>graphic</code> property was an API mistake."},{"owner":{"account_id":7122142,"reputation":554,"user_id":5446381,"display_name":"Florian Kirmaier"},"score":1,"creation_date":1695729490,"post_id":77162664,"comment_id":136060725,"body_markdown":"You can use https://github.com/JonathanGiles/scenic-view to check whether the scenegraph is wrong, or the rendering is broken.","body":"You can use <a href=\"https://github.com/JonathanGiles/scenic-view\" rel=\"nofollow noreferrer\">github.com/JonathanGiles/scenic-view</a> to check whether the scenegraph is wrong, or the rendering is broken."}],"answers":[{"tags":[],"owner":{"account_id":6069963,"reputation":315,"user_id":4739118,"display_name":"Thorsten"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697456648,"creation_date":1697456648,"answer_id":77301680,"question_id":77162664,"body_markdown":"We tried Slaws approach and created a new graphic in the updateItem method whenever it is called.\r\n\r\nWith this the problem was gone. Voil&#225;!\r\n\r\nMaybe Slaw is also right that TreeItem should not have a graphic property. Nevertheless, thanks to all!","title":"Missing graphics in TreeCells / TreeItems of JavaFX TreeView","body":"<p>We tried Slaws approach and created a new graphic in the updateItem method whenever it is called.</p>\n<p>With this the problem was gone. Voilá!</p>\n<p>Maybe Slaw is also right that TreeItem should not have a graphic property. Nevertheless, thanks to all!</p>\n"}],"owner":{"account_id":6069963,"reputation":315,"user_id":4739118,"display_name":"Thorsten"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697456648,"creation_date":1695465648,"question_id":77162664,"body_markdown":"We have developed a JavaFX application and got some strange behaviour with TreeView and TreeCells:\r\n\r\nThe graphics of the tree elements are sometimes gone and we do not know the reason.\r\n\r\nI created a small repo with a file manager application:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd we were able to repoduce the problem with this simple example:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nMy example is a very limited file manager that displays files and directories in a tree on the left and details on the right side. It allows navigating through the tree, opening and closing directories and using right mouse click for a context menu with file operations. Also drag and drop is allowed as we wanted to implement a small example for that in a TreeView.\r\n\r\nThe interesting parts are the classes FileTreeCell and FileTreeItem.\r\n\r\nIn FileTreeCell the drag and drop handler is registered and the method updateItem is overwritten. The implementation of updateItem is based on code from JavaFX tutorial (https://docs.oracle.com/javafx/2/ui_controls/tree-view.htm).\r\n\r\n    /**\r\n     * Instances of this class are used to render tree items.\r\n     */\r\n    public class FileTreeCell extends TreeCell&lt;File&gt; {\r\n    \t/**\r\n    \t * Creates a new instance.\r\n    \t * @param dragHandler the handler this tree cell should notify on drag and drop operations.\r\n    \t */\r\n    \tpublic FileTreeCell(DragDropHandler dragHandler) {\r\n    \t\tsetOnDragDetected((MouseEvent event) -&gt; dragHandler.handleDragDetected(event, this));\r\n    \t\tsetOnDragOver((DragEvent event) -&gt; dragHandler.handleDragOver(event, this));\r\n    \t\tsetOnDragEntered((DragEvent event) -&gt; dragHandler.handleOnDragEntered(event, this));\r\n    \t\tsetOnDragExited((DragEvent event) -&gt; dragHandler.handleOnDragExited(event, this));\r\n    \t\tsetOnDragDropped((DragEvent event) -&gt; dragHandler.handleDragDropped(event, this));\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void updateItem(File file, boolean empty) {\r\n    \t\tsuper.updateItem(file, empty);\r\n    \t\tif (empty) {\r\n    \t\t\tsetText(null);\r\n    \t\t\tsetGraphic(null);\r\n    \t\t} else {\r\n    \t\t\tif (file == null) {\r\n    \t\t\t\tsetText(&quot;&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\tsetText(file.getName());\r\n    \t\t\t\tFileTreeItem fileTreeItem = (FileTreeItem) getTreeItem();\r\n    \t\t\t\tsetContextMenu(fileTreeItem.createContextMenu());\r\n    \t\t\t}\r\n    \t\t\tsetGraphic(getTreeItem().getGraphic());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe FileTreeItem is based on documentation from JavaFX API (https://openjfx.io/javadoc/11/javafx.controls/javafx/scene/control/TreeItem.html). I added code to support lazy loading of a directory when it is expanded in the tree. The load is done asynchronously using a CompletableFuture. The Supplier method (get) and the BiConsumer method (accept) are both implemented in this class to keep things short and easy. Also an hour glass icon is shown during load that is animated until load is completed.\r\n\r\n    /**\r\n     * Instances of this class are used as tree items in the FileManager navigation.\r\n     * \r\n     * Base on https://docs.oracle.com/javafx/2/api/javafx/scene/control/TreeItem.html\r\n     */\r\n    public class FileTreeItem extends TreeItem&lt;File&gt; implements Supplier&lt;File[]&gt;, BiConsumer&lt;File[], Throwable&gt; {\r\n    \t/** The folder icon image. */\r\n    \tprivate static final Image FOLDER_ICON = new Image(FileTreeItem.class.getResourceAsStream(&quot;folder.png&quot;));\r\n    \t/** The file icon image. */\r\n    \tprivate static final Image FILE_ICON = new Image(FileTreeItem.class.getResourceAsStream(&quot;file.png&quot;));\r\n    \t/** The hour glass icon image. */\r\n    \tprivate static final Image HOURGLASS_ICON = new Image(FileTreeItem.class.getResourceAsStream(&quot;hourglass.png&quot;));\r\n    \t/** Cache flag for leaf (plain file) or not (directory). */\r\n    \tprivate boolean isLeaf;\r\n    \t/** Indicator used to do leaf testing only once. */\r\n    \tprivate boolean isFirstTimeLeaf = true;\r\n    \t/** A completable future used for asynchronous loading. */\r\n    \tprivate CompletableFuture&lt;File[]&gt; completableFuture;\r\n    \t/** Time line used for animation. */\r\n    \tprivate Timeline timeLine;\r\n    \t/** A dialog handler used to show dialogs. */\r\n    \tprivate DialogHandler dialogHandler;\r\n    \r\n    \t/**\r\n    \t * Creates a new instance.\r\n    \t * @param file the underlying file.\r\n    \t * @param dialogHandler the dialog handler used to show dialogs.\r\n    \t */\r\n    \tpublic FileTreeItem(File file, DialogHandler dialogHandler) {\r\n    \t\tsuper(file, new ImageView(file.isDirectory() ? FOLDER_ICON : FILE_ICON));\r\n    \t\tthis.dialogHandler = dialogHandler;\r\n    \t\texpandedProperty().addListener(new ChangeListener&lt;Boolean&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void changed(ObservableValue&lt;? extends Boolean&gt; observable, Boolean oldEpxanded,\r\n    \t\t\t\t\tBoolean newExpanded) {\r\n    \t\t\t\tif (newExpanded != null &amp;&amp; newExpanded.booleanValue()) {\r\n    \t\t\t\t\tapplyGraphic(HOURGLASS_ICON, true);\r\n    \t\t\t\t\tcompletableFuture = CompletableFuture.supplyAsync(FileTreeItem.this);\r\n    \t\t\t\t\tcompletableFuture.whenComplete(FileTreeItem.this);\r\n    \t\t\t\t} else\r\n    \t\t\t\t\tgetChildren().clear();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isLeaf() {\r\n    \t\tif (isFirstTimeLeaf) {\r\n    \t\t\tisFirstTimeLeaf = false;\r\n    \t\t\tFile f = (File) getValue();\r\n    \t\t\tisLeaf = f.isFile();\r\n    \t\t}\r\n    \t\treturn isLeaf;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn getValue().getName();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Reloads this tree item.\r\n    \t */\r\n    \tpublic void refresh() {\r\n    \t\tsetExpanded(false);\r\n    \t\tsetExpanded(true);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Loads the children of a directory.\r\n    \t * \r\n    \t * The method implements the Supplier interface and is invoked asynchronously.\r\n    \t * \r\n    \t * Any RunTimeExceptions and Errors thrown inside this method will be forwarded\r\n    \t * to the BiConsumer method.\r\n    \t */\r\n    \t@Override\r\n    \tpublic File[] get() {\r\n    \t\tFile[] retval = new File[0];\r\n    \t\tFile file = getValue();\r\n    \t\tif (file != null &amp;&amp; file.isDirectory()) {\r\n    \t\t\tretval = file.listFiles();\r\n    \t\t\tif (retval == null)\r\n    \t\t\t\tretval = new File[0];\r\n    \t\t\telse\r\n    \t\t\t\tArrays.sort(retval);\r\n    \t\t}\r\n    \t\treturn retval;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Handles the result after loading the children of a directory.\r\n    \t * \r\n    \t * The method implements the BiConsumer interface.\r\n    \t * \r\n    \t * @param files     the loaded children of a directory.\r\n    \t * @param throwable any Throwable thrown during the load operation or null if\r\n    \t *                  load was successful.\r\n    \t */\r\n    \t@Override\r\n    \tpublic void accept(File[] files, Throwable throwable) {\r\n    \t\tif (throwable != null) {\r\n    \t\t\tdialogHandler.showError(throwable);\r\n    \t\t\tresetFolderIcon();\r\n    \t\t} else {\r\n    \t\t\ttry {\r\n    \t\t\t\t// avoid NullPointerException\r\n    \t\t\t\tif (files == null)\r\n    \t\t\t\t\tfiles = new File[0];\r\n    \t\t\t\t// create FileTreeItem container for all files (outside JavaFX thread)\r\n    \t\t\t\tFileTreeItem[] treeItems = new FileTreeItem[files.length];\r\n    \t\t\t\tfor (int i = 0; i &lt; files.length; i++)\r\n    \t\t\t\t\ttreeItems[i] = new FileTreeItem(files[i], dialogHandler);\r\n    \t\t\t\t// add all children to this item (in JavaFX thread)\r\n    \t\t\t\tPlatform.runLater(new Runnable() {\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void run() {\r\n    \t\t\t\t\t\tgetChildren().setAll(treeItems);\r\n    \t\t\t\t\t\tresetFolderIcon();\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t});\r\n    \t\t\t} catch (RuntimeException e) {\r\n    \t\t\t\tdialogHandler.showError(e);\r\n    \t\t\t\tresetFolderIcon();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Checks whether this FileTreeItem is an ancestor of another FileTreeItem.\r\n    \t * @param other the other FileTreeItem.\r\n    \t * @return true, if this FileTreeItem is an ancestor of other FileTreeItem, false otherwise.\r\n    \t */\r\n    \tpublic boolean isAncestor(FileTreeItem other) {\r\n    \t\tFileTreeItem current = other;\r\n    \t\tFileTreeItem last = null;\r\n    \t\tboolean retval = false;\r\n    \t\twhile (current != null &amp;&amp; last != current) {\r\n    \t\t\tif (equals(current)) {\r\n    \t\t\t\tretval = true;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tlast = current;\r\n    \t\t\tcurrent = (FileTreeItem) current.getParent();\r\n    \t\t}\r\n    \t\treturn retval;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Creates a context menu for this FileTreeItem.\r\n    \t * @return a context menu for this FileTreeItem.\r\n    \t */\r\n    \tpublic ContextMenu createContextMenu() {\r\n    \t\tContextMenu contextMenu = new ContextMenu();\r\n    \t\tObservableList&lt;MenuItem&gt; menuItems = contextMenu.getItems();\r\n    \t\tif (getValue().isDirectory()) {\r\n    \t\t\t/*\r\n    \t\t\t * Refresh Action\r\n    \t\t\t */\r\n    \t\t\tMenuItem refresh = new MenuItem(&quot;Refresh&quot;);\r\n    \t\t\tmenuItems.add(refresh);\r\n    \t\t\t// We simply close and reopen the folder tree item which will empty the children\r\n    \t\t\t// list.\r\n    \t\t\t// But only if it was already open before refresh.\r\n    \t\t\trefresh.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void handle(ActionEvent event) {\r\n    \t\t\t\t\tif (isExpanded()) {\r\n    \t\t\t\t\t\trefresh();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t\t/*\r\n    \t\t\t * Separator\r\n    \t\t\t */\r\n    \t\t\tSeparatorMenuItem separatorMenuItem = new SeparatorMenuItem();\r\n    \t\t\tmenuItems.add(separatorMenuItem);\r\n    \t\t\t/*\r\n    \t\t\t * Create New File Action\r\n    \t\t\t */\r\n    \t\t\tMenuItem newFile = new MenuItem(&quot;New File&quot;);\r\n    \t\t\tmenuItems.add(newFile);\r\n    \t\t\tnewFile.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void handle(ActionEvent event) {\r\n    \t\t\t\t\tFile dir = getValue();\r\n    \t\t\t\t\tif (!dir.isDirectory())\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\tString fileName = dialogHandler.showTextInputDialog(&quot;New File&quot;, &quot;Creating New File&quot;, &quot;Please enter name of new file:&quot;, &quot;file.txt&quot;);\r\n    \t\t\t\t\tif (fileName == null)\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\tFile file = new File(dir, fileName);\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tif (file.exists()) {\r\n    \t\t\t\t\t\t\tdialogHandler.showAlert(AlertType.WARNING, &quot;Warning&quot;, &quot;File exists: &quot; + file.getName(),\r\n    \t\t\t\t\t\t\t\t\t&quot;Sorry, ignoring your request because file already exists!&quot;);\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tfile.createNewFile();\r\n    \t\t\t\t\t\t\tFileTreeItem newTreeItem = new FileTreeItem(file, dialogHandler);\r\n    \t\t\t\t\t\t\tObservableList&lt;TreeItem&lt;File&gt;&gt; children = getChildren();\r\n    \t\t\t\t\t\t\tchildren.add(newTreeItem);\r\n    \t\t\t\t\t\t\tchildren.sort(Util.COMPARATOR);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tsetExpanded(true);\r\n    \t\t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\t\tdialogHandler.showAlert(AlertType.ERROR, &quot;Error&quot;, &quot;Error creating File: &quot; + file.getName(),\r\n    \t\t\t\t\t\t\t\t&quot;Sorry, failed to create file: &quot; + e.getMessage());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t\t/*\r\n    \t\t\t * Create New Directory Action\r\n    \t\t\t */\r\n    \t\t\tMenuItem newDir = new MenuItem(&quot;New Directory&quot;);\r\n    \t\t\tmenuItems.add(newDir);\r\n    \t\t\tnewDir.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void handle(ActionEvent event) {\r\n    \t\t\t\t\tFile dir = getValue();\r\n    \t\t\t\t\tif (!dir.isDirectory())\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\tString dirName = dialogHandler.showTextInputDialog(&quot;New Directory&quot;, &quot;Creating New Directory&quot;, &quot;Please enter name of new directory:&quot;, &quot;directory&quot;);\r\n    \t\t\t\t\tif (dirName == null)\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\tFile file = new File(dir, dirName);\r\n    \t\t\t\t\tif (file.exists()) {\r\n    \t\t\t\t\t\tdialogHandler.showAlert(AlertType.WARNING, &quot;Warning&quot;, &quot;Directory exists: &quot; + file.getName(),\r\n    \t\t\t\t\t\t\t\t&quot;Sorry, ignoring your request because directory already exists!&quot;);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tboolean success = file.mkdir();\r\n    \t\t\t\t\t\tif (!success) {\r\n    \t\t\t\t\t\t\tdialogHandler.showAlert(AlertType.ERROR, &quot;Error&quot;,\r\n    \t\t\t\t\t\t\t\t\t&quot;Error creating Directory: &quot; + file.getName(),\r\n    \t\t\t\t\t\t\t\t\t&quot;Sorry, failed to create directory!&quot;);\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tFileTreeItem newTreeItem = new FileTreeItem(file, dialogHandler);\r\n    \t\t\t\t\t\t\tObservableList&lt;TreeItem&lt;File&gt;&gt; children = getChildren();\r\n    \t\t\t\t\t\t\tchildren.add(newTreeItem);\r\n    \t\t\t\t\t\t\tchildren.sort(Util.COMPARATOR);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tsetExpanded(true);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n    \t\t/*\r\n    \t\t * Delete File Action\r\n    \t\t */\r\n    \t\tMenuItem deleteFile = new MenuItem(&quot;Delete&quot;);\r\n    \t\tmenuItems.add(deleteFile);\r\n    \t\tdeleteFile.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void handle(ActionEvent event) {\r\n    \t\t\t\tFile file = getValue();\r\n    \t\t\t\tboolean result = dialogHandler.showConfirmation(&quot;Delete File&quot;, &quot;Delete File: &quot; + file.getName(),\r\n    \t\t\t\t\t\t&quot;Are you sure?&quot;);\r\n    \t\t\t\tif (result) {\r\n    \t\t\t\t\tboolean delete = file.delete();\r\n    \t\t\t\t\tif (!delete) {\r\n    \t\t\t\t\t\tdialogHandler.showAlert(AlertType.ERROR, &quot;Error&quot;, &quot;Error deleting File: &quot; + file.getName(),\r\n    \t\t\t\t\t\t\t\t&quot;Sorry, deletion failed! Maybe non-empty directory?&quot;);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tFileTreeItem parent = (FileTreeItem) getParent();\r\n    \t\t\t\t\t\tparent.getChildren().remove(FileTreeItem.this);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\treturn contextMenu;\r\n    \t}\r\n    \r\n    \t// private methods\r\n    \r\n    \t/**\r\n    \t * Sets the icon of this FileTreeItem.\r\n    \t * @param image the icon of this FileTreeItem.\r\n    \t */\r\n    \tprivate void applyGraphic(Image image) {\r\n    \t\tapplyGraphic(image, false);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Sets the icon of this FileTreeItem.\r\n    \t * @param image the icon of this FileTreeItem.\r\n    \t * @param animate true, if the icon should be animated.\r\n    \t */\r\n    \tprivate void applyGraphic(Image image, boolean animate) {\r\n    \t\tImageView icon = new ImageView(image);\r\n    \t\tsetGraphic(icon);\r\n    \t\tif (animate) {\r\n    \t\t\ttimeLine = new Timeline(\r\n    \t\t\t\t\tnew KeyFrame(Duration.seconds(0), new KeyValue(icon.rotateProperty(), 0)),\r\n    \t\t\t\t\tnew KeyFrame(Duration.seconds(1), new KeyValue(icon.rotateProperty(), 360)));\r\n    \t\t\ttimeLine.setCycleCount(Animation.INDEFINITE);\r\n    \t\t\ttimeLine.play();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Resets the folder icon to its default and stops the animation.\r\n    \t*/\r\n    \tprivate void resetFolderIcon() {\r\n    \t\ttimeLine.stop();\r\n    \t\tapplyGraphic(FOLDER_ICON);\r\n    \t}\r\n    }\r\n\r\nI do not create new ImagesIcons when updateItem in TreeCell is called. I am using the graphics from TreeItem that have been created recently in the constructor or during start and stop of the load process. I thought that this is the correct approach according to the documentation and the tutorial. Am I right?\r\n\r\nThe whole project can be found at GitHub:\r\n\r\n - https://github.com/treimers/FileManager.\r\n\r\nI found two bugs looking similar to my problem:\r\n\r\n - https://bugs.openjdk.org/browse/JDK-8209017\r\n - https://bugs.openjdk.org/browse/JDK-8190331\r\n\r\nAm I running into the same or a similar problem?\r\n\r\nMy environment\r\n\r\nJava\r\nopenjdk version &quot;15.0.2&quot; 2021-01-19\r\nOpenJDK Runtime Environment AdoptOpenJDK (build 15.0.2+7)\r\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 15.0.2+7, mixed mode, sharing)\r\n\r\nJavaFX\r\n17.0.8\r\n\r\nShould I give JavaFX 20 a try where the first bug was fixed?\r\n\r\nAnd I found this thread where a TreeView.refresh is recommended, but discouraged in an answer below:\r\n\r\n - https://stackoverflow.com/questions/27984156/update-treeview-item-graphic\r\n\r\n  [1]: https://i.stack.imgur.com/JjfVG.png\r\n  [2]: https://i.stack.imgur.com/4QVIo.png","title":"Missing graphics in TreeCells / TreeItems of JavaFX TreeView","body":"<p>We have developed a JavaFX application and got some strange behaviour with TreeView and TreeCells:</p>\n<p>The graphics of the tree elements are sometimes gone and we do not know the reason.</p>\n<p>I created a small repo with a file manager application:</p>\n<p><a href=\"https://i.stack.imgur.com/JjfVG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JjfVG.png\" alt=\"enter image description here\" /></a></p>\n<p>And we were able to repoduce the problem with this simple example:</p>\n<p><a href=\"https://i.stack.imgur.com/4QVIo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4QVIo.png\" alt=\"enter image description here\" /></a></p>\n<p>My example is a very limited file manager that displays files and directories in a tree on the left and details on the right side. It allows navigating through the tree, opening and closing directories and using right mouse click for a context menu with file operations. Also drag and drop is allowed as we wanted to implement a small example for that in a TreeView.</p>\n<p>The interesting parts are the classes FileTreeCell and FileTreeItem.</p>\n<p>In FileTreeCell the drag and drop handler is registered and the method updateItem is overwritten. The implementation of updateItem is based on code from JavaFX tutorial (<a href=\"https://docs.oracle.com/javafx/2/ui_controls/tree-view.htm\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javafx/2/ui_controls/tree-view.htm</a>).</p>\n<pre><code>/**\n * Instances of this class are used to render tree items.\n */\npublic class FileTreeCell extends TreeCell&lt;File&gt; {\n    /**\n     * Creates a new instance.\n     * @param dragHandler the handler this tree cell should notify on drag and drop operations.\n     */\n    public FileTreeCell(DragDropHandler dragHandler) {\n        setOnDragDetected((MouseEvent event) -&gt; dragHandler.handleDragDetected(event, this));\n        setOnDragOver((DragEvent event) -&gt; dragHandler.handleDragOver(event, this));\n        setOnDragEntered((DragEvent event) -&gt; dragHandler.handleOnDragEntered(event, this));\n        setOnDragExited((DragEvent event) -&gt; dragHandler.handleOnDragExited(event, this));\n        setOnDragDropped((DragEvent event) -&gt; dragHandler.handleDragDropped(event, this));\n    }\n\n    @Override\n    protected void updateItem(File file, boolean empty) {\n        super.updateItem(file, empty);\n        if (empty) {\n            setText(null);\n            setGraphic(null);\n        } else {\n            if (file == null) {\n                setText(&quot;&quot;);\n            } else {\n                setText(file.getName());\n                FileTreeItem fileTreeItem = (FileTreeItem) getTreeItem();\n                setContextMenu(fileTreeItem.createContextMenu());\n            }\n            setGraphic(getTreeItem().getGraphic());\n        }\n    }\n}\n</code></pre>\n<p>The FileTreeItem is based on documentation from JavaFX API (<a href=\"https://openjfx.io/javadoc/11/javafx.controls/javafx/scene/control/TreeItem.html\" rel=\"nofollow noreferrer\">https://openjfx.io/javadoc/11/javafx.controls/javafx/scene/control/TreeItem.html</a>). I added code to support lazy loading of a directory when it is expanded in the tree. The load is done asynchronously using a CompletableFuture. The Supplier method (get) and the BiConsumer method (accept) are both implemented in this class to keep things short and easy. Also an hour glass icon is shown during load that is animated until load is completed.</p>\n<pre><code>/**\n * Instances of this class are used as tree items in the FileManager navigation.\n * \n * Base on https://docs.oracle.com/javafx/2/api/javafx/scene/control/TreeItem.html\n */\npublic class FileTreeItem extends TreeItem&lt;File&gt; implements Supplier&lt;File[]&gt;, BiConsumer&lt;File[], Throwable&gt; {\n    /** The folder icon image. */\n    private static final Image FOLDER_ICON = new Image(FileTreeItem.class.getResourceAsStream(&quot;folder.png&quot;));\n    /** The file icon image. */\n    private static final Image FILE_ICON = new Image(FileTreeItem.class.getResourceAsStream(&quot;file.png&quot;));\n    /** The hour glass icon image. */\n    private static final Image HOURGLASS_ICON = new Image(FileTreeItem.class.getResourceAsStream(&quot;hourglass.png&quot;));\n    /** Cache flag for leaf (plain file) or not (directory). */\n    private boolean isLeaf;\n    /** Indicator used to do leaf testing only once. */\n    private boolean isFirstTimeLeaf = true;\n    /** A completable future used for asynchronous loading. */\n    private CompletableFuture&lt;File[]&gt; completableFuture;\n    /** Time line used for animation. */\n    private Timeline timeLine;\n    /** A dialog handler used to show dialogs. */\n    private DialogHandler dialogHandler;\n\n    /**\n     * Creates a new instance.\n     * @param file the underlying file.\n     * @param dialogHandler the dialog handler used to show dialogs.\n     */\n    public FileTreeItem(File file, DialogHandler dialogHandler) {\n        super(file, new ImageView(file.isDirectory() ? FOLDER_ICON : FILE_ICON));\n        this.dialogHandler = dialogHandler;\n        expandedProperty().addListener(new ChangeListener&lt;Boolean&gt;() {\n            @Override\n            public void changed(ObservableValue&lt;? extends Boolean&gt; observable, Boolean oldEpxanded,\n                    Boolean newExpanded) {\n                if (newExpanded != null &amp;&amp; newExpanded.booleanValue()) {\n                    applyGraphic(HOURGLASS_ICON, true);\n                    completableFuture = CompletableFuture.supplyAsync(FileTreeItem.this);\n                    completableFuture.whenComplete(FileTreeItem.this);\n                } else\n                    getChildren().clear();\n            }\n        });\n    }\n\n    @Override\n    public boolean isLeaf() {\n        if (isFirstTimeLeaf) {\n            isFirstTimeLeaf = false;\n            File f = (File) getValue();\n            isLeaf = f.isFile();\n        }\n        return isLeaf;\n    }\n\n    @Override\n    public String toString() {\n        return getValue().getName();\n    }\n\n    /**\n     * Reloads this tree item.\n     */\n    public void refresh() {\n        setExpanded(false);\n        setExpanded(true);\n    }\n\n    /**\n     * Loads the children of a directory.\n     * \n     * The method implements the Supplier interface and is invoked asynchronously.\n     * \n     * Any RunTimeExceptions and Errors thrown inside this method will be forwarded\n     * to the BiConsumer method.\n     */\n    @Override\n    public File[] get() {\n        File[] retval = new File[0];\n        File file = getValue();\n        if (file != null &amp;&amp; file.isDirectory()) {\n            retval = file.listFiles();\n            if (retval == null)\n                retval = new File[0];\n            else\n                Arrays.sort(retval);\n        }\n        return retval;\n    }\n\n    /**\n     * Handles the result after loading the children of a directory.\n     * \n     * The method implements the BiConsumer interface.\n     * \n     * @param files     the loaded children of a directory.\n     * @param throwable any Throwable thrown during the load operation or null if\n     *                  load was successful.\n     */\n    @Override\n    public void accept(File[] files, Throwable throwable) {\n        if (throwable != null) {\n            dialogHandler.showError(throwable);\n            resetFolderIcon();\n        } else {\n            try {\n                // avoid NullPointerException\n                if (files == null)\n                    files = new File[0];\n                // create FileTreeItem container for all files (outside JavaFX thread)\n                FileTreeItem[] treeItems = new FileTreeItem[files.length];\n                for (int i = 0; i &lt; files.length; i++)\n                    treeItems[i] = new FileTreeItem(files[i], dialogHandler);\n                // add all children to this item (in JavaFX thread)\n                Platform.runLater(new Runnable() {\n                    @Override\n                    public void run() {\n                        getChildren().setAll(treeItems);\n                        resetFolderIcon();\n                    }\n\n                });\n            } catch (RuntimeException e) {\n                dialogHandler.showError(e);\n                resetFolderIcon();\n            }\n        }\n    }\n\n    /**\n     * Checks whether this FileTreeItem is an ancestor of another FileTreeItem.\n     * @param other the other FileTreeItem.\n     * @return true, if this FileTreeItem is an ancestor of other FileTreeItem, false otherwise.\n     */\n    public boolean isAncestor(FileTreeItem other) {\n        FileTreeItem current = other;\n        FileTreeItem last = null;\n        boolean retval = false;\n        while (current != null &amp;&amp; last != current) {\n            if (equals(current)) {\n                retval = true;\n                break;\n            }\n            last = current;\n            current = (FileTreeItem) current.getParent();\n        }\n        return retval;\n    }\n\n    /**\n     * Creates a context menu for this FileTreeItem.\n     * @return a context menu for this FileTreeItem.\n     */\n    public ContextMenu createContextMenu() {\n        ContextMenu contextMenu = new ContextMenu();\n        ObservableList&lt;MenuItem&gt; menuItems = contextMenu.getItems();\n        if (getValue().isDirectory()) {\n            /*\n             * Refresh Action\n             */\n            MenuItem refresh = new MenuItem(&quot;Refresh&quot;);\n            menuItems.add(refresh);\n            // We simply close and reopen the folder tree item which will empty the children\n            // list.\n            // But only if it was already open before refresh.\n            refresh.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n                @Override\n                public void handle(ActionEvent event) {\n                    if (isExpanded()) {\n                        refresh();\n                    }\n                }\n            });\n            /*\n             * Separator\n             */\n            SeparatorMenuItem separatorMenuItem = new SeparatorMenuItem();\n            menuItems.add(separatorMenuItem);\n            /*\n             * Create New File Action\n             */\n            MenuItem newFile = new MenuItem(&quot;New File&quot;);\n            menuItems.add(newFile);\n            newFile.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n                @Override\n                public void handle(ActionEvent event) {\n                    File dir = getValue();\n                    if (!dir.isDirectory())\n                        return;\n                    String fileName = dialogHandler.showTextInputDialog(&quot;New File&quot;, &quot;Creating New File&quot;, &quot;Please enter name of new file:&quot;, &quot;file.txt&quot;);\n                    if (fileName == null)\n                        return;\n                    File file = new File(dir, fileName);\n                    try {\n                        if (file.exists()) {\n                            dialogHandler.showAlert(AlertType.WARNING, &quot;Warning&quot;, &quot;File exists: &quot; + file.getName(),\n                                    &quot;Sorry, ignoring your request because file already exists!&quot;);\n                        } else {\n                            file.createNewFile();\n                            FileTreeItem newTreeItem = new FileTreeItem(file, dialogHandler);\n                            ObservableList&lt;TreeItem&lt;File&gt;&gt; children = getChildren();\n                            children.add(newTreeItem);\n                            children.sort(Util.COMPARATOR);\n                        }\n                        setExpanded(true);\n                    } catch (IOException e) {\n                        dialogHandler.showAlert(AlertType.ERROR, &quot;Error&quot;, &quot;Error creating File: &quot; + file.getName(),\n                                &quot;Sorry, failed to create file: &quot; + e.getMessage());\n                    }\n                }\n            });\n            /*\n             * Create New Directory Action\n             */\n            MenuItem newDir = new MenuItem(&quot;New Directory&quot;);\n            menuItems.add(newDir);\n            newDir.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n                @Override\n                public void handle(ActionEvent event) {\n                    File dir = getValue();\n                    if (!dir.isDirectory())\n                        return;\n                    String dirName = dialogHandler.showTextInputDialog(&quot;New Directory&quot;, &quot;Creating New Directory&quot;, &quot;Please enter name of new directory:&quot;, &quot;directory&quot;);\n                    if (dirName == null)\n                        return;\n                    File file = new File(dir, dirName);\n                    if (file.exists()) {\n                        dialogHandler.showAlert(AlertType.WARNING, &quot;Warning&quot;, &quot;Directory exists: &quot; + file.getName(),\n                                &quot;Sorry, ignoring your request because directory already exists!&quot;);\n                    } else {\n                        boolean success = file.mkdir();\n                        if (!success) {\n                            dialogHandler.showAlert(AlertType.ERROR, &quot;Error&quot;,\n                                    &quot;Error creating Directory: &quot; + file.getName(),\n                                    &quot;Sorry, failed to create directory!&quot;);\n                        } else {\n                            FileTreeItem newTreeItem = new FileTreeItem(file, dialogHandler);\n                            ObservableList&lt;TreeItem&lt;File&gt;&gt; children = getChildren();\n                            children.add(newTreeItem);\n                            children.sort(Util.COMPARATOR);\n                        }\n                    }\n                    setExpanded(true);\n                }\n            });\n        }\n        /*\n         * Delete File Action\n         */\n        MenuItem deleteFile = new MenuItem(&quot;Delete&quot;);\n        menuItems.add(deleteFile);\n        deleteFile.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent event) {\n                File file = getValue();\n                boolean result = dialogHandler.showConfirmation(&quot;Delete File&quot;, &quot;Delete File: &quot; + file.getName(),\n                        &quot;Are you sure?&quot;);\n                if (result) {\n                    boolean delete = file.delete();\n                    if (!delete) {\n                        dialogHandler.showAlert(AlertType.ERROR, &quot;Error&quot;, &quot;Error deleting File: &quot; + file.getName(),\n                                &quot;Sorry, deletion failed! Maybe non-empty directory?&quot;);\n                    } else {\n                        FileTreeItem parent = (FileTreeItem) getParent();\n                        parent.getChildren().remove(FileTreeItem.this);\n                    }\n                }\n            }\n        });\n        return contextMenu;\n    }\n\n    // private methods\n\n    /**\n     * Sets the icon of this FileTreeItem.\n     * @param image the icon of this FileTreeItem.\n     */\n    private void applyGraphic(Image image) {\n        applyGraphic(image, false);\n    }\n\n    /**\n     * Sets the icon of this FileTreeItem.\n     * @param image the icon of this FileTreeItem.\n     * @param animate true, if the icon should be animated.\n     */\n    private void applyGraphic(Image image, boolean animate) {\n        ImageView icon = new ImageView(image);\n        setGraphic(icon);\n        if (animate) {\n            timeLine = new Timeline(\n                    new KeyFrame(Duration.seconds(0), new KeyValue(icon.rotateProperty(), 0)),\n                    new KeyFrame(Duration.seconds(1), new KeyValue(icon.rotateProperty(), 360)));\n            timeLine.setCycleCount(Animation.INDEFINITE);\n            timeLine.play();\n        }\n    }\n\n    /**\n     * Resets the folder icon to its default and stops the animation.\n    */\n    private void resetFolderIcon() {\n        timeLine.stop();\n        applyGraphic(FOLDER_ICON);\n    }\n}\n</code></pre>\n<p>I do not create new ImagesIcons when updateItem in TreeCell is called. I am using the graphics from TreeItem that have been created recently in the constructor or during start and stop of the load process. I thought that this is the correct approach according to the documentation and the tutorial. Am I right?</p>\n<p>The whole project can be found at GitHub:</p>\n<ul>\n<li><a href=\"https://github.com/treimers/FileManager\" rel=\"nofollow noreferrer\">https://github.com/treimers/FileManager</a>.</li>\n</ul>\n<p>I found two bugs looking similar to my problem:</p>\n<ul>\n<li><a href=\"https://bugs.openjdk.org/browse/JDK-8209017\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8209017</a></li>\n<li><a href=\"https://bugs.openjdk.org/browse/JDK-8190331\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8190331</a></li>\n</ul>\n<p>Am I running into the same or a similar problem?</p>\n<p>My environment</p>\n<p>Java\nopenjdk version &quot;15.0.2&quot; 2021-01-19\nOpenJDK Runtime Environment AdoptOpenJDK (build 15.0.2+7)\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 15.0.2+7, mixed mode, sharing)</p>\n<p>JavaFX\n17.0.8</p>\n<p>Should I give JavaFX 20 a try where the first bug was fixed?</p>\n<p>And I found this thread where a TreeView.refresh is recommended, but discouraged in an answer below:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/27984156/update-treeview-item-graphic\">Update TreeView item graphic</a></li>\n</ul>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":1,"creation_date":1596003678,"post_id":63147411,"comment_id":111665449,"body_markdown":"show your build.gradle  project level","body":"show your build.gradle  project level"},{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":0,"creation_date":1596003865,"post_id":63147411,"comment_id":111665534,"body_markdown":"Move to androidX at first","body":"Move to androidX at first"}],"answers":[{"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":2,"creation_date":1596003839,"post_id":63147509,"comment_id":111665524,"body_markdown":"`compile` is obsolete . Also it does not make any diffrence .","body":"<code>compile</code> is obsolete . Also it does not make any diffrence ."},{"owner":{"account_id":17404170,"reputation":39,"user_id":12612563,"display_name":"sahar"},"score":0,"creation_date":1596004525,"post_id":63147509,"comment_id":111665835,"body_markdown":"i have same problem with them again","body":"i have same problem with them again"},{"owner":{"account_id":11018085,"reputation":420,"user_id":8093325,"display_name":"Muhammad Waqas"},"score":0,"creation_date":1596004596,"post_id":63147509,"comment_id":111665870,"body_markdown":"Can you share your gradle-wrapper.properties file ?","body":"Can you share your gradle-wrapper.properties file ?"},{"owner":{"account_id":17404170,"reputation":39,"user_id":12612563,"display_name":"sahar"},"score":0,"creation_date":1596004958,"post_id":63147509,"comment_id":111666022,"body_markdown":"#Mon Jul 27 15:29:49 IRDT 2020\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-5.1.1-all.zip","body":"#Mon Jul 27 15:29:49 IRDT 2020 distributionBase=GRADLE_USER_HOME distributionPath=wrapper/dists zipStoreBase=GRADLE_USER_HOME zipStorePath=wrapper/dists distributionUrl=https\\://services.gradle.org/distributions/g&zwnj;&#8203;radle-5.1.1-all.zip"},{"owner":{"account_id":11018085,"reputation":420,"user_id":8093325,"display_name":"Muhammad Waqas"},"score":0,"creation_date":1596005001,"post_id":63147509,"comment_id":111666045,"body_markdown":"Replace last line with distributionUrl=https\\://services.gradle.org/distributions/gradle-4.6-all.zip","body":"Replace last line with distributionUrl=https\\://services.gradle.org/distributions/g&zwnj;&#8203;radle-4.6-all.zip"},{"owner":{"account_id":17404170,"reputation":39,"user_id":12612563,"display_name":"sahar"},"score":0,"creation_date":1596007103,"post_id":63147509,"comment_id":111666933,"body_markdown":"ERROR: Minimum supported Gradle version is 5.1.1. Current version is 4.6.","body":"ERROR: Minimum supported Gradle version is 5.1.1. Current version is 4.6."}],"tags":[],"owner":{"account_id":11018085,"reputation":420,"user_id":8093325,"display_name":"Muhammad Waqas"},"comment_count":6,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1596004012,"creation_date":1596003811,"answer_id":63147509,"question_id":63147411,"body_markdown":"**Try this**   \r\n\r\n     compile &#39;com.amitshekhar.android:android-networking:1.0.2&#39;\r\n\r\n**When using it with Jackson Parser**\r\n\r\n    implementation &#39;com.amitshekhar.android:jackson-android-networking:1.0.2&#39;\r\n\r\n**When using it with RxJava**\r\n\r\n    implementation &#39;com.amitshekhar.android:rx-android-networking:1.0.2&#39;\r\n\r\n**When using it with RxJava2**\r\n\r\n    compile &#39;com.amitshekhar.android:rx2-android-networking:1.0.2&#39;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Could not resolve com.amitshekhar.android:android-networking:1.0.2","body":"<p><strong>Try this</strong></p>\n<pre><code> compile 'com.amitshekhar.android:android-networking:1.0.2'\n</code></pre>\n<p><strong>When using it with Jackson Parser</strong></p>\n<pre><code>implementation 'com.amitshekhar.android:jackson-android-networking:1.0.2'\n</code></pre>\n<p><strong>When using it with RxJava</strong></p>\n<pre><code>implementation 'com.amitshekhar.android:rx-android-networking:1.0.2'\n</code></pre>\n<p><strong>When using it with RxJava2</strong></p>\n<pre><code>compile 'com.amitshekhar.android:rx2-android-networking:1.0.2'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8603229,"reputation":81,"user_id":6444094,"display_name":"Evgeny"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1622100270,"creation_date":1622100270,"answer_id":67717475,"question_id":63147411,"body_markdown":"I know this is the old question, but I saw such a problem after removing jcenter() from repositories in gradle file:\r\n\r\n    repositories {\r\n            google()\r\n            jcenter()\r\n        }","title":"Could not resolve com.amitshekhar.android:android-networking:1.0.2","body":"<p>I know this is the old question, but I saw such a problem after removing jcenter() from repositories in gradle file:</p>\n<pre><code>repositories {\n        google()\n        jcenter()\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23574973,"reputation":1,"user_id":17614744,"display_name":"Youness Goudi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651989077,"creation_date":1651989077,"answer_id":72158464,"question_id":63147411,"body_markdown":"add this line in gradle.properties:\r\n\r\n    # Automatically convert third-party libraries to use AndroidX\r\n    android.enableJetifier=true","title":"Could not resolve com.amitshekhar.android:android-networking:1.0.2","body":"<p>add this line in gradle.properties:</p>\n<pre><code># Automatically convert third-party libraries to use AndroidX\nandroid.enableJetifier=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6133361,"reputation":279,"user_id":4782928,"display_name":"David Kiarie Macharia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653574733,"creation_date":1653574733,"answer_id":72393313,"question_id":63147411,"body_markdown":"    allprojects {\r\n\t\trepositories {\r\n\t\t\t...\r\n\t\t\tmaven { url &#39;https://jitpack.io&#39; }\r\n\t\t}\r\n\t}\r\nthis worked for me ,i had to add jitpack.io","title":"Could not resolve com.amitshekhar.android:android-networking:1.0.2","body":"<pre><code>allprojects {\n    repositories {\n        ...\n        maven { url 'https://jitpack.io' }\n    }\n}\n</code></pre>\n<p>this worked for me ,i had to add jitpack.io</p>\n"},{"tags":[],"owner":{"account_id":16034800,"reputation":1,"user_id":11572794,"display_name":"Ayush Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697455996,"creation_date":1697078372,"answer_id":77277383,"question_id":63147411,"body_markdown":"Well this was resolved a while ago, but I was working on this now and found a perfect way. \r\n\r\nWe should add 2 things here:\r\n\r\n1. `jcenter()` in `settings.gradle` file under both `pluginManagement` and `dependencyResolutionManagement`\r\n2. add `android.enableJetifier=true` in `gradle.properties` file\r\n\r\n","title":"Could not resolve com.amitshekhar.android:android-networking:1.0.2","body":"<p>Well this was resolved a while ago, but I was working on this now and found a perfect way.</p>\n<p>We should add 2 things here:</p>\n<ol>\n<li><code>jcenter()</code> in <code>settings.gradle</code> file under both <code>pluginManagement</code> and <code>dependencyResolutionManagement</code></li>\n<li>add <code>android.enableJetifier=true</code> in <code>gradle.properties</code> file</li>\n</ol>\n"}],"owner":{"account_id":17404170,"reputation":39,"user_id":12612563,"display_name":"sahar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6787,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":5,"score":0,"last_activity_date":1697455996,"creation_date":1596003355,"question_id":63147411,"body_markdown":"i am trying to import network library , but android studio shows up with this meessage:ERROR: Unable to resolve dependency for &#39;:app@debug/compileClasspath&#39;: Could not resolve com.amitshekhar.android:android-networking:1.0.2.\r\n\r\nhere is the build.gradle:\r\n \r\n\r\n        apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 28\r\n        buildToolsVersion &quot;29.0.3&quot;\r\n        defaultConfig {\r\n            applicationId &quot;com.example.myfaild&quot;\r\n            minSdkVersion 16\r\n            targetSdkVersion 28\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n        implementation &#39;com.android.support.constraint:constraint-layout:1.1.3&#39;\r\n        implementation &#39;com.android.support:design:28.0.0&#39;\r\n        implementation &#39;com.android.support:cardview-v7:28.0.0&#39;\r\n        implementation &#39;androidx.annotation:annotation:1.1.0&#39;\r\n        implementation &#39;com.android.support:support-v4:28.0.0&#39;\r\n        implementation &#39;com.amitshekhar.android:android-networking:1.0.2&#39;\r\n        androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n        androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n    }\r\n\r\n\r\n\r\n","title":"Could not resolve com.amitshekhar.android:android-networking:1.0.2","body":"<p>i am trying to import network library , but android studio shows up with this meessage:ERROR: Unable to resolve dependency for ':app@debug/compileClasspath': Could not resolve com.amitshekhar.android:android-networking:1.0.2.</p>\n<p>here is the build.gradle:</p>\n<pre><code>    apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 28\n    buildToolsVersion &quot;29.0.3&quot;\n    defaultConfig {\n        applicationId &quot;com.example.myfaild&quot;\n        minSdkVersion 16\n        targetSdkVersion 28\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'com.android.support:cardview-v7:28.0.0'\n    implementation 'androidx.annotation:annotation:1.1.0'\n    implementation 'com.android.support:support-v4:28.0.0'\n    implementation 'com.amitshekhar.android:android-networking:1.0.2'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n}\n</code></pre>\n"},{"tags":["java","static"],"comments":[{"owner":{"account_id":971196,"reputation":24175,"user_id":993742,"display_name":"isnot2bad"},"score":10,"creation_date":1385022456,"post_id":20115672,"comment_id":29975437,"body_markdown":"Nice question! What should we learn from this: Don&#39;t do it! ;)","body":"Nice question! What should we learn from this: Don&#39;t do it! ;)"}],"answers":[{"tags":[],"owner":{"account_id":220539,"reputation":10492,"user_id":477997,"display_name":"Leonidos"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1385022249,"creation_date":1385022249,"answer_id":20115754,"question_id":20115672,"body_markdown":"1,0 is correct.\r\n\r\nWhen the class is loaded all static data is initialized in oder they are declared. By default int is 0. \r\n\r\n - first A is created. num1 and num2 becoming 1 and 1 \r\n - than `static int num1;` does nothing \r\n - than `static int num2=0;` this writes 0 to num2","title":"How does the static modifier affect this code?","body":"<p>1,0 is correct.</p>\n\n<p>When the class is loaded all static data is initialized in oder they are declared. By default int is 0. </p>\n\n<ul>\n<li>first A is created. num1 and num2 becoming 1 and 1 </li>\n<li>than <code>static int num1;</code> does nothing </li>\n<li>than <code>static int num2=0;</code> this writes 0 to num2</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":11,"creation_date":1385022371,"post_id":20115756,"comment_id":29975400,"body_markdown":"I&#39;ll extend: move the line `static A obj = new A();` below `static int num2=0;` and you should get 1 and 1.","body":"I&#39;ll extend: move the line <code>static A obj = new A();</code> below <code>static int num2=0;</code> and you should get 1 and 1."},{"owner":{"account_id":971196,"reputation":24175,"user_id":993742,"display_name":"isnot2bad"},"score":2,"creation_date":1385022627,"post_id":20115756,"comment_id":29975519,"body_markdown":"What still confuses me is the fact that even though num1 does not have an explicit initialization, it IS (implicitely) initialized with 0. There should really be no difference between explicit and implicit initialization...","body":"What still confuses me is the fact that even though num1 does not have an explicit initialization, it IS (implicitely) initialized with 0. There should really be no difference between explicit and implicit initialization..."},{"owner":{"account_id":1517245,"reputation":4684,"user_id":1417974,"accept_rate":86,"display_name":"Hans Z"},"score":0,"creation_date":1385051992,"post_id":20115756,"comment_id":29993866,"body_markdown":"@isnot2bad &quot;implicit initialization&quot; happens as part of declaration. Declaration happens before assignment no matter what order you present them in. `A obj = new A(); int num1; int num2 = 0;` gets turned into this: `A obj; int num1; int num2; obj = new A(); num2 = 0;`. Java does this so `num1, num2` are defined by the time you reach the `new A()` constructor.","body":"@isnot2bad &quot;implicit initialization&quot; happens as part of declaration. Declaration happens before assignment no matter what order you present them in. <code>A obj = new A(); int num1; int num2 = 0;</code> gets turned into this: <code>A obj; int num1; int num2; obj = new A(); num2 = 0;</code>. Java does this so <code>num1, num2</code> are defined by the time you reach the <code>new A()</code> constructor."}],"tags":[],"owner":{"account_id":2784949,"reputation":8695,"user_id":2396624,"accept_rate":67,"display_name":"Shoaib Chikate"},"comment_count":3,"down_vote_count":0,"up_vote_count":116,"is_accepted":false,"score":116,"last_activity_date":1393842283,"creation_date":1385022254,"answer_id":20115756,"question_id":20115672,"body_markdown":"In Java two phases take place: 1. Identification, 2. Execution\n\n\n 1. In **identification** phase all static variables are detected and initialized with default values.\n\n     So now the values are:  \n`A obj=null`  \n`num1=0`  \n`num2=0`\n       \n     \n\n 2. The second phase, **execution**, starts from top to bottom. In Java, the execution starts from the first static members.  \nHere your first static variable is `static A obj = new A();`,  so first it will create the object of that variable and call the constructor, hence the value of `num1` and `num2` becomes `1`.  \nAnd then, again, `static int num2=0;` will be executed, which makes `num2 = 0;`.\n\n\n\nNow, suppose your constructor is like this:\n      \n     private A(){\n        num1++;\n        num2++;\n        System.out.println(obj.toString());\n     }\n\nThis will throw a `NullPointerException` as `obj` still has not got a reference of  `class A`.\n\n","title":"How does the static modifier affect this code?","body":"<p>In Java two phases take place: 1. Identification, 2. Execution</p>\n<ol>\n<li><p>In <strong>identification</strong> phase all static variables are detected and initialized with default values.</p>\n<p>So now the values are:<br />\n<code>A obj=null</code><br />\n<code>num1=0</code><br />\n<code>num2=0</code></p>\n</li>\n<li><p>The second phase, <strong>execution</strong>, starts from top to bottom. In Java, the execution starts from the first static members.<br />\nHere your first static variable is <code>static A obj = new A();</code>,  so first it will create the object of that variable and call the constructor, hence the value of <code>num1</code> and <code>num2</code> becomes <code>1</code>.<br />\nAnd then, again, <code>static int num2=0;</code> will be executed, which makes <code>num2 = 0;</code>.</p>\n</li>\n</ol>\n<p>Now, suppose your constructor is like this:</p>\n<pre><code> private A(){\n    num1++;\n    num2++;\n    System.out.println(obj.toString());\n }\n</code></pre>\n<p>This will throw a <code>NullPointerException</code> as <code>obj</code> still has not got a reference of  <code>class A</code>.</p>\n"},{"tags":[],"owner":{"account_id":2569717,"reputation":22819,"user_id":2228771,"accept_rate":77,"display_name":"Domi"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1386245758,"creation_date":1385022320,"answer_id":20115783,"question_id":20115672,"body_markdown":"It is due to the order of the static initializers. Static expressions in classes are evaluated  in a top-down order.\r\n\r\nThe first to be called is the constructor of `A`, which sets `num1` and `num2` both to 1:\r\n\r\n`static A obj = new A();`\r\n\r\nThen,\r\n\r\n    static int num2=0;\r\n\r\nis called and sets num2=0 again.\r\n\r\nThat is why `num1` is 1 and `num2` is 0.\r\n\r\nAs a side note, a constructor should not modify static variables, that is very bad design. Instead, try a different approach to [implementing a Singleton in Java](https://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java).","title":"How does the static modifier affect this code?","body":"<p>It is due to the order of the static initializers. Static expressions in classes are evaluated  in a top-down order.</p>\n\n<p>The first to be called is the constructor of <code>A</code>, which sets <code>num1</code> and <code>num2</code> both to 1:</p>\n\n<p><code>static A obj = new A();</code></p>\n\n<p>Then,</p>\n\n<pre><code>static int num2=0;\n</code></pre>\n\n<p>is called and sets num2=0 again.</p>\n\n<p>That is why <code>num1</code> is 1 and <code>num2</code> is 0.</p>\n\n<p>As a side note, a constructor should not modify static variables, that is very bad design. Instead, try a different approach to <a href=\"https://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java\">implementing a Singleton in Java</a>.</p>\n"},{"tags":[],"owner":{"account_id":2790397,"reputation":3354,"user_id":2400740,"accept_rate":52,"display_name":"rachana"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1385022428,"creation_date":1385022428,"answer_id":20115796,"question_id":20115672,"body_markdown":"The static keyword is used in java mainly for memory management. We may apply static keyword with variables, methods, blocks and nested class. The static keyword belongs to the class than instance of the class.For brief explanation about static keyword :\r\n\r\n\r\nhttp://www.javatpoint.com/static-keyword-in-java","title":"How does the static modifier affect this code?","body":"<p>The static keyword is used in java mainly for memory management. We may apply static keyword with variables, methods, blocks and nested class. The static keyword belongs to the class than instance of the class.For brief explanation about static keyword :</p>\n\n<p><a href=\"http://www.javatpoint.com/static-keyword-in-java\" rel=\"nofollow\">http://www.javatpoint.com/static-keyword-in-java</a></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1386024026,"creation_date":1385022809,"answer_id":20115914,"question_id":20115672,"body_markdown":"What the `static` modifier means when applied to a variable declaration is that the variable is a class variable rather than an instance variable.  In other words ... there is only one `num1` variable, and only one `num2` variable.\r\n\r\n(Aside: a  static variable is *like* a global variable in some other languages, except that its name is not visible everywhere.  Even if it is declared as a `public static`, the unqualified name is only visible if it is declared in the current class or a superclass, or if it is imported using a static import.  That&#39;s the distinction.  A true global is visible without qualification anywhere.)\r\n\r\nSo when you refer to `obj.num1` and `obj.num2`, you are actually referring to *the* static variables whose real designations are `A.num1` and `A.num2`.  And similarly, when the constructor increments `num1` and `num2`, it is incrementing the same variables (respectively).\r\n\r\nThe confusing wrinkle in your example is in the class initialization.  A class is initialized by first *default initializing* all of the static variables, and then executing the declared static initializers (and static initializer blocks) in the order that they appear in the class.  In this case, you have this:\r\n\r\n    static A obj = new A();\r\n    static int num1;\r\n    static int num2=0;\r\n\r\nIt happens like this:\r\n\r\n  1. The statics start out with their default initial values; `A.obj` is `null` and `A.num1` / `A.num2` are zero.\r\n\r\n  1. The first declaration (`A.obj`) creates an instance of `A()`, and the constructor for `A` increments `A.num1` and `A.num2`.  When the declaration completes, `A.num1` and `A.num2` are both `1`, and `A.obj` refers to the newly constructed `A` instance.\r\n\r\n  1. The second declaration (`A.num1`) has no initializer, so `A.num1` doesn&#39;t change.\r\n\r\n  1. The third declaration (`A.num2`) has an initializer that assigns zero to `A.num2`.\r\n\r\nThus, at the end of the class initialization, `A.num1` is `1` and `A.num2` is `0` ... and that&#39;s what your print statements show.\r\n\r\nThis confusing behaviour is really down to the fact that you are creating an instance before the static initialization has completed, and that the constructor you are using depends on *and modifies* a static that is yet to be initialized.  This something that you should avoid doing in real code.\r\n\r\n","title":"How does the static modifier affect this code?","body":"<p>What the <code>static</code> modifier means when applied to a variable declaration is that the variable is a class variable rather than an instance variable.  In other words ... there is only one <code>num1</code> variable, and only one <code>num2</code> variable.</p>\n\n<p>(Aside: a  static variable is <em>like</em> a global variable in some other languages, except that its name is not visible everywhere.  Even if it is declared as a <code>public static</code>, the unqualified name is only visible if it is declared in the current class or a superclass, or if it is imported using a static import.  That's the distinction.  A true global is visible without qualification anywhere.)</p>\n\n<p>So when you refer to <code>obj.num1</code> and <code>obj.num2</code>, you are actually referring to <em>the</em> static variables whose real designations are <code>A.num1</code> and <code>A.num2</code>.  And similarly, when the constructor increments <code>num1</code> and <code>num2</code>, it is incrementing the same variables (respectively).</p>\n\n<p>The confusing wrinkle in your example is in the class initialization.  A class is initialized by first <em>default initializing</em> all of the static variables, and then executing the declared static initializers (and static initializer blocks) in the order that they appear in the class.  In this case, you have this:</p>\n\n<pre><code>static A obj = new A();\nstatic int num1;\nstatic int num2=0;\n</code></pre>\n\n<p>It happens like this:</p>\n\n<ol>\n<li><p>The statics start out with their default initial values; <code>A.obj</code> is <code>null</code> and <code>A.num1</code> / <code>A.num2</code> are zero.</p></li>\n<li><p>The first declaration (<code>A.obj</code>) creates an instance of <code>A()</code>, and the constructor for <code>A</code> increments <code>A.num1</code> and <code>A.num2</code>.  When the declaration completes, <code>A.num1</code> and <code>A.num2</code> are both <code>1</code>, and <code>A.obj</code> refers to the newly constructed <code>A</code> instance.</p></li>\n<li><p>The second declaration (<code>A.num1</code>) has no initializer, so <code>A.num1</code> doesn't change.</p></li>\n<li><p>The third declaration (<code>A.num2</code>) has an initializer that assigns zero to <code>A.num2</code>.</p></li>\n</ol>\n\n<p>Thus, at the end of the class initialization, <code>A.num1</code> is <code>1</code> and <code>A.num2</code> is <code>0</code> ... and that's what your print statements show.</p>\n\n<p>This confusing behaviour is really down to the fact that you are creating an instance before the static initialization has completed, and that the constructor you are using depends on <em>and modifies</em> a static that is yet to be initialized.  This something that you should avoid doing in real code.</p>\n"},{"tags":[],"owner":{"account_id":1412960,"reputation":107,"user_id":1339209,"accept_rate":40,"display_name":"deepak tiwari"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1390557753,"creation_date":1385044260,"answer_id":20123643,"question_id":20115672,"body_markdown":"java does not  initializes the value of any static or non static data member till it is not called but it creates it.\r\n\r\nso So that here when  num1 and num2 will be called in main then it will get initialized with values\r\n\r\n num1 = 0+1; and\r\n\r\n num2=0;","title":"How does the static modifier affect this code?","body":"<p>java does not  initializes the value of any static or non static data member till it is not called but it creates it.</p>\n\n<p>so So that here when  num1 and num2 will be called in main then it will get initialized with values</p>\n\n<p>num1 = 0+1; and</p>\n\n<p>num2=0;</p>\n"},{"tags":[],"owner":{"account_id":1448148,"reputation":14121,"user_id":1365960,"accept_rate":65,"display_name":"StarPinkER"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1385086603,"creation_date":1385086603,"answer_id":20135759,"question_id":20115672,"body_markdown":"A section in JLS can be found: [&#167;12.4.2][1]. \r\n\r\n&gt; Detailed Initialization Procedure:\r\n&gt; \r\n&gt;  9.Next, execute either the class variable initializers and static initializers of the class, or the field initializers of the interface,\r\n&gt; in textual order, **as though they were a single block, except that\r\n&gt; final class variables and fields of interfaces whose values are\r\n&gt; compile-time constants are initialized first**\r\n\r\n\r\nSo the three static variable will be initialized one by one in textual order. \r\n\r\nSo \r\n  \r\n    static A obj = new A();\r\n    //num1 = 1, num2 = 1;\r\n    static int num1;\r\n    //this is initilized first, see below.\r\n    static int num2=0;\r\n    //num1 = 1, num2 = 0;\r\n\r\nIf I change the order to:\r\n\r\n    static int num1;\r\n    static int num2=0;\r\n    static A obj = new A();\r\n\r\nThe result will be `1,1`.\r\n\r\nNote that the `static int num1;` is not a variable initializer because([&#167;8.3.2][2]): \r\n\r\n&gt; If a field declarator contains a variable initializer, then it has the\r\n&gt; semantics of an assignment (&#167;15.26) to the declared variable, and: If\r\n&gt; the declarator is for a class variable (that is, a static field), then\r\n&gt; the variable initializer is evaluated and the assignment performed\r\n&gt; exactly once, when the class is initialized\r\n\r\nAnd this class variable is initialized when the class is created. This happens first([&#167;4.12.5][3]).\r\n\r\n&gt; Every variable in a program must have a value before its value is\r\n&gt; used: Each class variable, instance variable, or array component is\r\n&gt; initialized with a default value when it is created (&#167;15.9, &#167;15.10):\r\n&gt; For type byte, the default value is zero, that is, the value of\r\n&gt; (byte)0. For type short, the default value is zero, that is, the value\r\n&gt; of (short)0. For type int, the default value is zero, that is, 0. For\r\n&gt; type long, the default value is zero, that is, 0L. For type float, the\r\n&gt; default value is positive zero, that is, 0.0f. For type double, the\r\n&gt; default value is positive zero, that is, 0.0d. For type char, the\r\n&gt; default value is the null character, that is, &#39;\\u0000&#39;. For type\r\n&gt; boolean, the default value is false. For all reference types (&#167;4.3),\r\n&gt; the default value is null.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se5.0/html/execution.html#44557\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se5.0/html/classes.html#38010\r\n  [3]: http://docs.oracle.com/javase/specs/jls/se5.0/html/typesValues.html#96595","title":"How does the static modifier affect this code?","body":"<p>A section in JLS can be found: <a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/execution.html#44557\">§12.4.2</a>. </p>\n\n<blockquote>\n  <p>Detailed Initialization Procedure:</p>\n  \n  <p>9.Next, execute either the class variable initializers and static initializers of the class, or the field initializers of the interface,\n  in textual order, <strong>as though they were a single block, except that\n  final class variables and fields of interfaces whose values are\n  compile-time constants are initialized first</strong></p>\n</blockquote>\n\n<p>So the three static variable will be initialized one by one in textual order. </p>\n\n<p>So </p>\n\n<pre><code>static A obj = new A();\n//num1 = 1, num2 = 1;\nstatic int num1;\n//this is initilized first, see below.\nstatic int num2=0;\n//num1 = 1, num2 = 0;\n</code></pre>\n\n<p>If I change the order to:</p>\n\n<pre><code>static int num1;\nstatic int num2=0;\nstatic A obj = new A();\n</code></pre>\n\n<p>The result will be <code>1,1</code>.</p>\n\n<p>Note that the <code>static int num1;</code> is not a variable initializer because(<a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/classes.html#38010\">§8.3.2</a>): </p>\n\n<blockquote>\n  <p>If a field declarator contains a variable initializer, then it has the\n  semantics of an assignment (§15.26) to the declared variable, and: If\n  the declarator is for a class variable (that is, a static field), then\n  the variable initializer is evaluated and the assignment performed\n  exactly once, when the class is initialized</p>\n</blockquote>\n\n<p>And this class variable is initialized when the class is created. This happens first(<a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/typesValues.html#96595\">§4.12.5</a>).</p>\n\n<blockquote>\n  <p>Every variable in a program must have a value before its value is\n  used: Each class variable, instance variable, or array component is\n  initialized with a default value when it is created (§15.9, §15.10):\n  For type byte, the default value is zero, that is, the value of\n  (byte)0. For type short, the default value is zero, that is, the value\n  of (short)0. For type int, the default value is zero, that is, 0. For\n  type long, the default value is zero, that is, 0L. For type float, the\n  default value is positive zero, that is, 0.0f. For type double, the\n  default value is positive zero, that is, 0.0d. For type char, the\n  default value is the null character, that is, '\\u0000'. For type\n  boolean, the default value is false. For all reference types (§4.3),\n  the default value is null.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1554056,"reputation":677,"user_id":1445730,"display_name":"Goran"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1697455280,"creation_date":1385091632,"answer_id":20136611,"question_id":20115672,"body_markdown":"Maybe it will help to think of it in this way.\r\n\r\nClasses are blueprints for objects.\r\n\r\nObjects can have variables when they are instantiated.\r\n\r\nClasses can also have variables. These are declared as static. So they are set on the class rather than the object instances.\r\n\r\nYou can only every have one of any class in an application so it&#39;s kind of like global storage specifically for that class. These static variables can of course be accessed and modified from anywhere in your application (assuming they are public).\r\n\r\n\r\nHere is and example of a &quot;Dog&quot; class that uses static variable to track the number of instances it has created.\r\n\r\n&quot;Dog&quot; class is the cloud while the Orange boxes are &quot;Dog&quot; instances.\r\n\r\n[![Dog class][3]][3]  \n&lt;sub&gt;(source: [matuszek at www.cis.upenn.edu](https://www.cis.upenn.edu/~matuszek/General/JavaSyntax/Images/static1.gif))&lt;/sub&gt;  \n\r\n\r\n[read more][1]\r\n\r\nHope this helps!\r\n\r\nIf you feel like some trivia, this idea was first introduced by [Plato][2]\r\n\r\n [1]: https://web.archive.org/web/20220118011929/https://www.cis.upenn.edu/~matuszek/General/JavaSyntax/static.html\r\n [2]: https://en.wikipedia.org/wiki/Plato#Theory_of_Forms\n [3]: https://i.stack.imgur.com/ylxFo.gif","title":"How does the static modifier affect this code?","body":"<p>Maybe it will help to think of it in this way.</p>\n<p>Classes are blueprints for objects.</p>\n<p>Objects can have variables when they are instantiated.</p>\n<p>Classes can also have variables. These are declared as static. So they are set on the class rather than the object instances.</p>\n<p>You can only every have one of any class in an application so it's kind of like global storage specifically for that class. These static variables can of course be accessed and modified from anywhere in your application (assuming they are public).</p>\n<p>Here is and example of a &quot;Dog&quot; class that uses static variable to track the number of instances it has created.</p>\n<p>&quot;Dog&quot; class is the cloud while the Orange boxes are &quot;Dog&quot; instances.</p>\n<p><a href=\"https://i.stack.imgur.com/ylxFo.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ylxFo.gif\" alt=\"Dog class\" /></a><br />\n<sub>(source: <a href=\"https://www.cis.upenn.edu/%7Ematuszek/General/JavaSyntax/Images/static1.gif\" rel=\"nofollow noreferrer\">matuszek at www.cis.upenn.edu</a>)</sub></p>\n<p><a href=\"https://web.archive.org/web/20220118011929/https://www.cis.upenn.edu/%7Ematuszek/General/JavaSyntax/static.html\" rel=\"nofollow noreferrer\">read more</a></p>\n<p>Hope this helps!</p>\n<p>If you feel like some trivia, this idea was first introduced by <a href=\"https://en.wikipedia.org/wiki/Plato#Theory_of_Forms\" rel=\"nofollow noreferrer\">Plato</a></p>\n"},{"tags":[],"owner":{"account_id":1134168,"reputation":882,"user_id":1119595,"display_name":"w25r"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385499017,"creation_date":1385499017,"answer_id":20227687,"question_id":20115672,"body_markdown":"Many of the answers above are correct.  But really to illustrate what is happening I&#39;ve made some small modifications below.\r\n\r\nAs mentioned multiple times above, what&#39;s happening is a instance of class A is being created before class A is fully loaded.  So what is considered the normal &#39;behavior&#39; is not observed.  This is not too dissimilar to calling methods from a constructor that can be overridden.  In that case, instance variables may not be in an intuitive state.  In this example class variables are not in an intuitive state.\r\n\r\n    class A {\r\n        static A obj = new A();\r\n        static int num1;\r\n        static int num2;\r\n        static {\r\n            System.out.println(&quot;Setting num2 to 0&quot;);\r\n            num2 = 0;\r\n        }\r\n    \r\n        private A() {\r\n            System.out.println(&quot;Constructing singleton instance of A&quot;);\r\n            num1++;\r\n            num2++;\r\n        }\r\n    \r\n        public static A getInstance() {\r\n            return obj;\r\n        }\r\n    }\r\n    \r\n    public class Main {\r\n        \r\n        public static void main(String[] arg) {\r\n            A obj = A.getInstance();\r\n            System.out.println(obj.num1);\r\n            System.out.println(obj.num2);\r\n        }\r\n    }\r\n\r\nOutput is\r\n\r\n\tConstructing singleton instance of A\r\n\tSetting num2 to 0\r\n\t1\r\n\t0\r\n\r\n","title":"How does the static modifier affect this code?","body":"<p>Many of the answers above are correct.  But really to illustrate what is happening I've made some small modifications below.</p>\n\n<p>As mentioned multiple times above, what's happening is a instance of class A is being created before class A is fully loaded.  So what is considered the normal 'behavior' is not observed.  This is not too dissimilar to calling methods from a constructor that can be overridden.  In that case, instance variables may not be in an intuitive state.  In this example class variables are not in an intuitive state.</p>\n\n<pre><code>class A {\n    static A obj = new A();\n    static int num1;\n    static int num2;\n    static {\n        System.out.println(\"Setting num2 to 0\");\n        num2 = 0;\n    }\n\n    private A() {\n        System.out.println(\"Constructing singleton instance of A\");\n        num1++;\n        num2++;\n    }\n\n    public static A getInstance() {\n        return obj;\n    }\n}\n\npublic class Main {\n\n    public static void main(String[] arg) {\n        A obj = A.getInstance();\n        System.out.println(obj.num1);\n        System.out.println(obj.num2);\n    }\n}\n</code></pre>\n\n<p>Output is</p>\n\n<pre><code>Constructing singleton instance of A\nSetting num2 to 0\n1\n0\n</code></pre>\n"}],"owner":{"account_id":3342083,"reputation":1433,"user_id":2808147,"accept_rate":80,"display_name":"lirui"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3438,"favorite_count":0,"down_vote_count":2,"up_vote_count":111,"answer_count":9,"score":109,"last_activity_date":1697455280,"creation_date":1385021942,"question_id":20115672,"body_markdown":"Here is my code: \r\n\r\n    class A {\r\n    \tstatic A obj = new A();\r\n    \tstatic int num1;\r\n    \tstatic int num2=0;\r\n\r\n    \tprivate A() {\r\n    \t\tnum1++;\r\n    \t\tnum2++;\r\n    \t}\r\n    \tpublic static A getInstance() {\r\n    \t\treturn obj;\r\n    \t}\r\n    }\r\n\r\n    public class Main{\r\n    \tpublic static void main(String[] arg) {\r\n    \t\tA obj = A.getInstance();\r\n    \t\tSystem.out.println(obj.num1);\r\n    \t\tSystem.out.println(obj.num2);\r\n    \t}\r\n    }\r\n\r\n\r\nThe output is `1 0`, but I can&#39;t understand.\r\n\r\nCan somebody explain it to me?","title":"How does the static modifier affect this code?","body":"<p>Here is my code: </p>\n\n<pre><code>class A {\n    static A obj = new A();\n    static int num1;\n    static int num2=0;\n\n    private A() {\n        num1++;\n        num2++;\n    }\n    public static A getInstance() {\n        return obj;\n    }\n}\n\npublic class Main{\n    public static void main(String[] arg) {\n        A obj = A.getInstance();\n        System.out.println(obj.num1);\n        System.out.println(obj.num2);\n    }\n}\n</code></pre>\n\n<p>The output is <code>1 0</code>, but I can't understand.</p>\n\n<p>Can somebody explain it to me?</p>\n"},{"tags":["java","reflection","compilation","executable-jar","on-the-fly"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697450072,"post_id":77300604,"comment_id":136276991,"body_markdown":"When you get a compiler error, it doesn’t help to change the output location. The problem is at the input.","body":"When you get a compiler error, it doesn’t help to change the output location. The problem is at the input."}],"owner":{"account_id":29681946,"reputation":11,"user_id":22748398,"display_name":"Lloyxide"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697455142,"creation_date":1697446276,"question_id":77300604,"body_markdown":"I am generating files with Java reflection. When using IntelliJ, everything works fine, everything is generated as it should. During the generation, I build some files I generated so I can use more reflection on them. This is the code I use to do so:\r\n\r\n```java\r\nprivate Class&lt;?&gt; compile(File sourceFile, String pack) throws ClassNotFoundException, IOException {\r\n    File output = new File(Constants.BASE_TARGET_PATH);\r\n    output.mkdirs();\r\n\r\n    JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n\r\n    StandardJavaFileManager standardJavaFileManager = compiler.getStandardFileManager(null, null, null);\r\n    standardJavaFileManager.setLocation(StandardLocation.CLASS_OUTPUT, Arrays.asList(output));\r\n    Iterable&lt;? extends JavaFileObject&gt; compilationUnits = standardJavaFileManager.getJavaFileObjectsFromFiles(Arrays.asList(sourceFile));\r\n    compiler.getTask(null, standardJavaFileManager, null, null, null, compilationUnits).call();\r\n    standardJavaFileManager.close();\r\n\r\n\r\n    URLClassLoader urlClassLoader = URLClassLoader.newInstance(new URL[] {output.toURI().toURL()});\r\n    Class&lt;?&gt; dynamicClass = urlClassLoader.loadClass(pack + &quot;.&quot; + sourceFile.getName().replaceFirst(&quot;[.][^.]+$&quot;, &quot;&quot;));\r\n\r\n    return dynamicClass;\r\n}\r\n```\r\n\r\nWhen I try to package my generator in a JAR, this does not work because, even though some of my custom annotations have been generated correctly, Java can&#39;t find them, so it can&#39;t import them when building. This is the error I get:\r\n\r\n```none\r\n10:47:18.928 [main] INFO com.foo.codegeneration.generators.ControllerGenerator -- Generated ZoneController\r\ncompiling annotations\r\ncompiled IntermediateTableAttribute.java\r\ncompiling presentationals\r\nsrc\\main\\java\\com\\foo\\jpadataserverprototype\\presentation\\presentational\\PresentationalCategory.java:3: error: package com.foo.jpadataserverprototype.presentation.presentational.annotations does not exist\r\nimport com.foo.jpadataserverprototype.presentation.presentational.annotations.*;\r\n^\r\n1 error\r\njava.lang.ClassNotFoundException: com.foo.jpadataserverprototype.presentation.presentational.PresentationalCategory\r\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\r\n        at java.base/java.net.FactoryURLClassLoader.loadClass(URLClassLoader.java:872)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n        at com.foo.codegeneration.GeneratedPresentationalRetriever.compile(GeneratedPresentationalRetriever.java:65)\r\n        at com.foo.codegeneration.GeneratedPresentationalRetriever.retrieveEntities(GeneratedPresentationalRetriever.java:43)\r\n        at com.foo.codegeneration.generators.MapperGenerator.&lt;init&gt;(MapperGenerator.java:31)\r\n        at com.foo.codegeneration.CodeGenerator.main(CodeGenerator.java:93)\r\n10:47:19.503 [main] INFO com.foo.codegeneration.generators.MapperGenerator -- Generating CategoryMapper...\r\nException in thread &quot;main&quot; java.util.NoSuchElementException: No value present\r\n        at java.base/java.util.Optional.get(Optional.java:143)\r\n        at com.foo.codegeneration.GeneratedPresentationalRetriever.getEntityByName(GeneratedPresentationalRetriever.java:79)\r\n        at com.foo.codegeneration.generators.MapperGenerator.generateEntityToDTOMapMethod(MapperGenerator.java:128)\r\n        at com.foo.codegeneration.generators.MapperGenerator.generate(MapperGenerator.java:63)\r\n        at com.foo.codegeneration.CodeGenerator.main(CodeGenerator.java:96)\r\n```\r\n\r\nI tried to change the standard output class location, but I can&#39;t seem to find where to put the compiled classes. I also tried many other things not related to this problem when trying to understand what was the problem.","title":"How to ensure Java has access to on-the-fly compiled classes?","body":"<p>I am generating files with Java reflection. When using IntelliJ, everything works fine, everything is generated as it should. During the generation, I build some files I generated so I can use more reflection on them. This is the code I use to do so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Class&lt;?&gt; compile(File sourceFile, String pack) throws ClassNotFoundException, IOException {\n    File output = new File(Constants.BASE_TARGET_PATH);\n    output.mkdirs();\n\n    JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\n\n    StandardJavaFileManager standardJavaFileManager = compiler.getStandardFileManager(null, null, null);\n    standardJavaFileManager.setLocation(StandardLocation.CLASS_OUTPUT, Arrays.asList(output));\n    Iterable&lt;? extends JavaFileObject&gt; compilationUnits = standardJavaFileManager.getJavaFileObjectsFromFiles(Arrays.asList(sourceFile));\n    compiler.getTask(null, standardJavaFileManager, null, null, null, compilationUnits).call();\n    standardJavaFileManager.close();\n\n\n    URLClassLoader urlClassLoader = URLClassLoader.newInstance(new URL[] {output.toURI().toURL()});\n    Class&lt;?&gt; dynamicClass = urlClassLoader.loadClass(pack + &quot;.&quot; + sourceFile.getName().replaceFirst(&quot;[.][^.]+$&quot;, &quot;&quot;));\n\n    return dynamicClass;\n}\n</code></pre>\n<p>When I try to package my generator in a JAR, this does not work because, even though some of my custom annotations have been generated correctly, Java can't find them, so it can't import them when building. This is the error I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>10:47:18.928 [main] INFO com.foo.codegeneration.generators.ControllerGenerator -- Generated ZoneController\ncompiling annotations\ncompiled IntermediateTableAttribute.java\ncompiling presentationals\nsrc\\main\\java\\com\\foo\\jpadataserverprototype\\presentation\\presentational\\PresentationalCategory.java:3: error: package com.foo.jpadataserverprototype.presentation.presentational.annotations does not exist\nimport com.foo.jpadataserverprototype.presentation.presentational.annotations.*;\n^\n1 error\njava.lang.ClassNotFoundException: com.foo.jpadataserverprototype.presentation.presentational.PresentationalCategory\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\n        at java.base/java.net.FactoryURLClassLoader.loadClass(URLClassLoader.java:872)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        at com.foo.codegeneration.GeneratedPresentationalRetriever.compile(GeneratedPresentationalRetriever.java:65)\n        at com.foo.codegeneration.GeneratedPresentationalRetriever.retrieveEntities(GeneratedPresentationalRetriever.java:43)\n        at com.foo.codegeneration.generators.MapperGenerator.&lt;init&gt;(MapperGenerator.java:31)\n        at com.foo.codegeneration.CodeGenerator.main(CodeGenerator.java:93)\n10:47:19.503 [main] INFO com.foo.codegeneration.generators.MapperGenerator -- Generating CategoryMapper...\nException in thread &quot;main&quot; java.util.NoSuchElementException: No value present\n        at java.base/java.util.Optional.get(Optional.java:143)\n        at com.foo.codegeneration.GeneratedPresentationalRetriever.getEntityByName(GeneratedPresentationalRetriever.java:79)\n        at com.foo.codegeneration.generators.MapperGenerator.generateEntityToDTOMapMethod(MapperGenerator.java:128)\n        at com.foo.codegeneration.generators.MapperGenerator.generate(MapperGenerator.java:63)\n        at com.foo.codegeneration.CodeGenerator.main(CodeGenerator.java:96)\n</code></pre>\n<p>I tried to change the standard output class location, but I can't seem to find where to put the compiled classes. I also tried many other things not related to this problem when trying to understand what was the problem.</p>\n"},{"tags":["java","regex","regex-lookarounds","regex-group"],"comments":[{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1697541362,"post_id":77301448,"comment_id":136290187,"body_markdown":"If you know the string is exactly following a certain pattern it will be most accurate to reproduce it, e.g. [`(?:\\G(?!^)(?:, | and )|\\bpassport numbers are )([a-zA-Z]{0,2}\\d{6,12}[a-zA-Z]{0,2})`](https://regex101.com/r/t8n375/2) This will never skip over anything other than `passport numbers are` and the following number-pattern connected by the specified separators `(?:, | and )` and is efficient.","body":"If you know the string is exactly following a certain pattern it will be most accurate to reproduce it, e.g. <a href=\"https://regex101.com/r/t8n375/2\" rel=\"nofollow noreferrer\"><code>(?:\\G(?!^)(?:, | and )|\\bpassport numbers are )([a-zA-Z]{0,2}\\d{6,12}[a-zA-Z]{0,2})</code></a> This will never skip over anything other than <code>passport numbers are</code> and the following number-pattern connected by the specified separators <code>(?:, | and )</code> and is efficient."}],"answers":[{"comments":[{"owner":{"account_id":4827181,"reputation":23,"user_id":3896362,"display_name":"Satish"},"score":0,"creation_date":1697456542,"post_id":77301490,"comment_id":136278129,"body_markdown":"Thank you, how can i ignore after a context ends. Ex:  my friends passport numbers are V123456, V123457 and V123458 also their visa numbers T123125,    in this case visa number shouldn&#39;t be extracted","body":"Thank you, how can i ignore after a context ends. Ex:  my friends passport numbers are V123456, V123457 and V123458 also their visa numbers T123125,    in this case visa number shouldn&#39;t be extracted"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1697457405,"post_id":77301490,"comment_id":136278276,"body_markdown":"@Satish It is possible with a tempered greedy token if your stop word is known: ``String rx = &quot;(?:\\\\G(?!^)|\\\\bpassport\\\\b)(?:(?!\\\\bvisa\\\\b).)*?\\\\b([a-zA-Z]{0,2}\\\\d{6,12}[a-zA-Z]{0,2})\\\\b&quot;;``","body":"@Satish It is possible with a tempered greedy token if your stop word is known: <code>String rx = &quot;(?:\\\\G(?!^)|\\\\bpassport\\\\b)(?:(?!\\\\bvisa\\\\b).)*?\\\\b([a-zA-Z&zwnj;&#8203;]{0,2}\\\\d{6,12}[a-zA&zwnj;&#8203;-Z]{0,2})\\\\b&quot;;</code>"},{"owner":{"account_id":4827181,"reputation":23,"user_id":3896362,"display_name":"Satish"},"score":0,"creation_date":1697527002,"post_id":77301490,"comment_id":136287437,"body_markdown":"Thank you its working as expected,  once quick question,  Can we do the same if the keyword after the pattern like &quot;T123125 is my Visa number and V123456, V123457 and V123458 are my passport numbers&quot;?","body":"Thank you its working as expected,  once quick question,  Can we do the same if the keyword after the pattern like &quot;T123125 is my Visa number and V123456, V123457 and V123458 are my passport numbers&quot;?"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1697527419,"post_id":77301490,"comment_id":136287495,"body_markdown":"@Satish Yes, the trick is the same, but the pattern is different, `String rx = &quot;(?i)\\\\b([a-z]{0,2}\\\\d{6,12}[a-z]{0,2})\\\\b(?=(?:(?!\\\\bvisa\\\\b).)*?\\\\bpassport\\\\b)&quot;;`, see [this regex demo](https://regex101.com/r/l3vp5L/1).","body":"@Satish Yes, the trick is the same, but the pattern is different, <code>String rx = &quot;(?i)\\\\b([a-z]{0,2}\\\\d{6,12}[a-z]{0,2})\\\\b(?=(?:(?!\\\\bvisa\\\\&zwnj;&#8203;b).)*?\\\\bpassport\\\\b&zwnj;&#8203;)&quot;;</code>, see <a href=\"https://regex101.com/r/l3vp5L/1\" rel=\"nofollow noreferrer\">this regex demo</a>."},{"owner":{"account_id":4827181,"reputation":23,"user_id":3896362,"display_name":"Satish"},"score":0,"creation_date":1698135661,"post_id":77301490,"comment_id":136363585,"body_markdown":"thank you @Wiktor &#160;&lt;/br&gt;\nin this regex (?:\\G(?!\\A)|\\bpassport\\b).*?\\b([a-zA-Z]{0,2}\\d{6,12}[a-zA-Z]{0,2})\\b &#160;&lt;/br&gt;\nCan we tweak regex not to extract after 1st successful match if the subsequent passport numbers are connected by a word. &lt;/br&gt;\nLets say&#160;\nPassport numbers V1256 , V1457 or V1458 also V1459 &#160;\nIn this case we should break extracting the passport numbers by when the words are connected by a specific words ex(, and)\nExpected output (connected by , or)&#160;\nV1456&#160;\nV1457&#160;\nV1458 &#160;\nShould not be extracted( due to also)&#160;\nV1459","body":"thank you @Wiktor  &lt;/br&gt; in this regex (?:\\G(?!\\A)|\\bpassport\\b).*?\\b([a-zA-Z]{0,2}\\d{6,12}[a-zA-Z]&zwnj;&#8203;{0,2})\\b  &lt;/br&gt; Can we tweak regex not to extract after 1st successful match if the subsequent passport numbers are connected by a word. &lt;/br&gt; Lets say  Passport numbers V1256 , V1457 or V1458 also V1459   In this case we should break extracting the passport numbers by when the words are connected by a specific words ex(, and) Expected output (connected by , or)  V1456  V1457  V1458   Should not be extracted( due to also)  V1459"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1698135872,"post_id":77301490,"comment_id":136363619,"body_markdown":"@Satish Do you want to say the numbers are always separated with a comma or `and`/`or`? See https://regex101.com/r/lZV0su/2","body":"@Satish Do you want to say the numbers are always separated with a comma or <code>and</code>/<code>or</code>? See <a href=\"https://regex101.com/r/lZV0su/2\" rel=\"nofollow noreferrer\">regex101.com/r/lZV0su/2</a>"},{"owner":{"account_id":4827181,"reputation":23,"user_id":3896362,"display_name":"Satish"},"score":1,"creation_date":1698136057,"post_id":77301490,"comment_id":136363646,"body_markdown":"Yes, thank you its really helpful","body":"Yes, thank you its really helpful"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1698304271,"post_id":77301490,"comment_id":136388751,"body_markdown":"Looks like people here think otherwise.","body":"Looks like people here think otherwise."}],"tags":[],"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"comment_count":8,"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1697454757,"creation_date":1697454757,"answer_id":77301490,"question_id":77301448,"body_markdown":"You can&#39;t rely on a lookbehind here since you would need a pattern of an indefinite length. It is supported, but only in recent Java versions.\r\n\r\nYou may use a pattern based on the [`\\G` operator][1]:\r\n```none\r\n(?:\\G(?!\\A)|\\bpassport\\b).*?\\b([a-zA-Z]{0,2}\\d{6,12}[a-zA-Z]{0,2})\\b\r\n```\r\nSee the [regex demo][2]. *Pattern details*:\r\n\r\n - `(?:\\G(?!\\A)|\\bpassport\\b)` - either a whole word *passport* (`\\bpassport\\b`) or (`|`) the end of the previous successful match (`\\G(?!\\A)`)\r\n - `.*?` - any zero or more chars as few as possible (since the pattern is compiled with `Pattern.DOTALL`, the `.` can match any characters including line break characters)\r\n - `\\b([a-zA-Z]{0,2}\\d{6,12}[a-zA-Z]{0,2})\\b` - a whole word that starts with zero, one or two ASCII letters, then has six to 12 digits and ends with zero, one or two ASCII letters.\r\n\r\nSee the [Java demo][3] below:\r\n```java\r\nString s = &quot;my friends passport numbers are V123456, V123457 and V123458&quot;;\r\nString rx = &quot;(?:\\\\G(?!^)|\\\\bpassport\\\\b).*?\\\\b([a-zA-Z]{0,2}\\\\d{6,12}[a-zA-Z]{0,2})\\\\b&quot;;\r\nPattern pattern = Pattern.compile(rx, Pattern.DOTALL);\r\nMatcher matcher = pattern.matcher(s);\r\nwhile (matcher.find()){\r\n\tSystem.out.println(matcher.group(1)); \r\n}\r\n```\r\nOutput:\r\n```none\r\nV123456\r\nV123457\r\nV123458\r\n```\r\n\r\n\r\n  [1]: https://www.regular-expressions.info/continue.html\r\n  [2]: https://regex101.com/r/lZV0su/1\r\n  [3]: https://ideone.com/ds9Vkh","title":"How to extract multiple values matching a pattern after a specific keyword?","body":"<p>You can't rely on a lookbehind here since you would need a pattern of an indefinite length. It is supported, but only in recent Java versions.</p>\n<p>You may use a pattern based on the <a href=\"https://www.regular-expressions.info/continue.html\" rel=\"nofollow noreferrer\"><code>\\G</code> operator</a>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?:\\G(?!\\A)|\\bpassport\\b).*?\\b([a-zA-Z]{0,2}\\d{6,12}[a-zA-Z]{0,2})\\b\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/lZV0su/1\" rel=\"nofollow noreferrer\">regex demo</a>. <em>Pattern details</em>:</p>\n<ul>\n<li><code>(?:\\G(?!\\A)|\\bpassport\\b)</code> - either a whole word <em>passport</em> (<code>\\bpassport\\b</code>) or (<code>|</code>) the end of the previous successful match (<code>\\G(?!\\A)</code>)</li>\n<li><code>.*?</code> - any zero or more chars as few as possible (since the pattern is compiled with <code>Pattern.DOTALL</code>, the <code>.</code> can match any characters including line break characters)</li>\n<li><code>\\b([a-zA-Z]{0,2}\\d{6,12}[a-zA-Z]{0,2})\\b</code> - a whole word that starts with zero, one or two ASCII letters, then has six to 12 digits and ends with zero, one or two ASCII letters.</li>\n</ul>\n<p>See the <a href=\"https://ideone.com/ds9Vkh\" rel=\"nofollow noreferrer\">Java demo</a> below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;my friends passport numbers are V123456, V123457 and V123458&quot;;\nString rx = &quot;(?:\\\\G(?!^)|\\\\bpassport\\\\b).*?\\\\b([a-zA-Z]{0,2}\\\\d{6,12}[a-zA-Z]{0,2})\\\\b&quot;;\nPattern pattern = Pattern.compile(rx, Pattern.DOTALL);\nMatcher matcher = pattern.matcher(s);\nwhile (matcher.find()){\n    System.out.println(matcher.group(1)); \n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>V123456\nV123457\nV123458\n</code></pre>\n"}],"owner":{"account_id":4827181,"reputation":23,"user_id":3896362,"display_name":"Satish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77301490,"answer_count":1,"score":2,"last_activity_date":1697454987,"creation_date":1697454332,"question_id":77301448,"body_markdown":"Would need help on how to extract the multiple passport numbers matching after a passport keyword using a regex&#39;s\r\n\r\n\r\n\r\nText:\r\n```none\r\nmy friends passport numbers are V123456, V123457 and V123458\r\n```\r\nRegex: \r\n```none\r\n(?&lt;=passport)\\s*(?:\\w+\\s){0,10}\\s*(\\b[a-zA-Z]{0,2}\\d{6,12}[a-zA-Z]{0,2}\\b)\r\n```\r\nExpected matches output:  \r\n```\r\nV123456\r\nV123457\r\nV123458\r\n```\r\nActual output:\r\n```\r\nV123456\r\n```","title":"How to extract multiple values matching a pattern after a specific keyword?","body":"<p>Would need help on how to extract the multiple passport numbers matching after a passport keyword using a regex's</p>\n<p>Text:</p>\n<pre class=\"lang-none prettyprint-override\"><code>my friends passport numbers are V123456, V123457 and V123458\n</code></pre>\n<p>Regex:</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?&lt;=passport)\\s*(?:\\w+\\s){0,10}\\s*(\\b[a-zA-Z]{0,2}\\d{6,12}[a-zA-Z]{0,2}\\b)\n</code></pre>\n<p>Expected matches output:</p>\n<pre><code>V123456\nV123457\nV123458\n</code></pre>\n<p>Actual output:</p>\n<pre><code>V123456\n</code></pre>\n"},{"tags":["java","oracle","hibernate","jpa"],"comments":[{"owner":{"account_id":3303062,"reputation":6616,"user_id":2778710,"display_name":"astentx"},"score":0,"creation_date":1697451665,"post_id":77301135,"comment_id":136277271,"body_markdown":"Bind variable is a **data**, not a substitution value for some part of SQL text. You have to concatenate `&#39;^&#39;` with passed parameter to obtain combined pattern","body":"Bind variable is a <b>data</b>, not a substitution value for some part of SQL text. You have to concatenate <code>&#39;^&#39;</code> with passed parameter to obtain combined pattern"},{"owner":{"account_id":968842,"reputation":45616,"user_id":991788,"accept_rate":100,"display_name":"Sachin Kainth"},"score":0,"creation_date":1697451890,"post_id":77301135,"comment_id":136277316,"body_markdown":"Even if I remove &#39;^&#39; and &#39;$&#39;, I get the same issue.","body":"Even if I remove &#39;^&#39; and &#39;$&#39;, I get the same issue."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1697451995,"post_id":77301135,"comment_id":136277332,"body_markdown":"The linked duplicate is for Oracle DB, but should apply to other engines as well.","body":"The linked duplicate is for Oracle DB, but should apply to other engines as well."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1697460459,"post_id":77301135,"comment_id":136278815,"body_markdown":"Posts on stackoverflow get nothing from me.","body":"Posts on stackoverflow get nothing from me."}],"owner":{"account_id":968842,"reputation":45616,"user_id":991788,"accept_rate":100,"display_name":"Sachin Kainth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697451925,"answer_count":0,"score":0,"last_activity_date":1697454841,"creation_date":1697451470,"question_id":77301135,"body_markdown":"I have a query in my code that looks like this:\r\n\r\n    @NamedQuery(name = &quot;foo&quot;, query = &quot;SELECT x from Y y WHERE y.a = :b AND y.c = :d AND e = &#39;Y&#39; ORDER BY y.f DESC&quot;);\r\n\r\nThis compiles fine and gives correct results, but I wanted to perform a case insensitive match, so I changed this in this way:\r\n\r\n    @NamedQuery(name = &quot;foo&quot;, query = &quot;SELECT x from Y y WHERE regexp_like(y.a, &#39;^:b$&#39;, &#39;i&#39;) AND y.c = :d AND e = &#39;Y&#39; ORDER BY y.f DESC&quot;);\r\n\r\nNow, this does not compile.  I get the following error:\r\n\r\n    2023-10-16 11:13:33,202 ERROR [main] o.h.h.PARSER - &lt;AST&gt;:1:105: unexpected AST node: (\r\n\r\nIt appears that the &#39;(&#39; in the after &#39;regexp_like&#39; is causing a compile issue, I don&#39;t see why this should be since you need to put in an open bracket after calling &#39;regexp_like&#39;.  What is wrong here?","title":"Named query doesn&#39;t like regex","body":"<p>I have a query in my code that looks like this:</p>\n<pre><code>@NamedQuery(name = &quot;foo&quot;, query = &quot;SELECT x from Y y WHERE y.a = :b AND y.c = :d AND e = 'Y' ORDER BY y.f DESC&quot;);\n</code></pre>\n<p>This compiles fine and gives correct results, but I wanted to perform a case insensitive match, so I changed this in this way:</p>\n<pre><code>@NamedQuery(name = &quot;foo&quot;, query = &quot;SELECT x from Y y WHERE regexp_like(y.a, '^:b$', 'i') AND y.c = :d AND e = 'Y' ORDER BY y.f DESC&quot;);\n</code></pre>\n<p>Now, this does not compile.  I get the following error:</p>\n<pre><code>2023-10-16 11:13:33,202 ERROR [main] o.h.h.PARSER - &lt;AST&gt;:1:105: unexpected AST node: (\n</code></pre>\n<p>It appears that the '(' in the after 'regexp_like' is causing a compile issue, I don't see why this should be since you need to put in an open bracket after calling 'regexp_like'.  What is wrong here?</p>\n"},{"tags":["java","solr"],"comments":[{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":0,"creation_date":1697457852,"post_id":77301217,"comment_id":136278362,"body_markdown":"Have you looked at the Solr request log to verify that there isn&#39;t a second request coming right after that changes the value back? Have you tried attaching a breakpoint at the `commit` command and seeing what values it&#39;s reporting?","body":"Have you looked at the Solr request log to verify that there isn&#39;t a second request coming right after that changes the value back? Have you tried attaching a breakpoint at the <code>commit</code> command and seeing what values it&#39;s reporting?"},{"owner":{"account_id":29682577,"reputation":11,"user_id":22748914,"display_name":"EduardNeuro"},"score":0,"creation_date":1697458046,"post_id":77301217,"comment_id":136278382,"body_markdown":"Right at the .add command the value it&#39;s the correct one(false), it&#39;s after the commit that it reverts to the old value(ironically, because commit should persist the changes)","body":"Right at the .add command the value it&#39;s the correct one(false), it&#39;s after the commit that it reverts to the old value(ironically, because commit should persist the changes)"},{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":0,"creation_date":1697458263,"post_id":77301217,"comment_id":136278423,"body_markdown":"But you&#39;re seeing the correct value for a second if you&#39;re querying the document directly from Solr&#39;s Admin interface?","body":"But you&#39;re seeing the correct value for a second if you&#39;re querying the document directly from Solr&#39;s Admin interface?"},{"owner":{"account_id":29682577,"reputation":11,"user_id":22748914,"display_name":"EduardNeuro"},"score":0,"creation_date":1697458313,"post_id":77301217,"comment_id":136278430,"body_markdown":"Yes, then after the commit it reverts back to true","body":"Yes, then after the commit it reverts back to true"}],"owner":{"account_id":29682577,"reputation":11,"user_id":22748914,"display_name":"EduardNeuro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697454784,"creation_date":1697452308,"question_id":77301217,"body_markdown":"I have a Solr collection (smartDocument with multiple fields like id, path, name, type etc) and I want to update a specific field, called ai_finished. I first retrieve the smartDocument, then *accordingly* populate a SolrInputDocument, change the field with false value, and then commit the changes.\r\n\r\nThe result? If I query Solr, it changes the ai_finished for a second or so, and then it reverts back to the old value. Why does it do this?\r\n\r\nHere&#39;s the code that I&#39;ve tried in Java:\r\n\r\n```java\r\nSolrConfigIndependently solrConfigIndependently = new SolrConfigIndependently();\r\nHttpSolrClient solrClient = solrConfigIndependently.solrHttpClient(solrURL, coreName);\r\n\r\nSolrInputDocument document = new SolrInputDocument();\r\ndocument.addField(&quot;id&quot;, documentId);\r\n\r\ntry {\r\n    SmartDocument sd = this.searchDocById(documentId, coreName);\r\n\r\n    document = SolrInputDocumentMapper.createSolrDocumentFromSmartBox(sd);\r\n    Map&lt;String,String&gt; AI_FINISHED= new HashMap&lt;&gt;();\r\n    AI_FINISHED.put(&quot;set&quot;, &quot;false&quot;);\r\n    document.setField(SmartDocumentEnum.AI_FINISHED.getValue(),AI_FINISHED);\r\n\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n\r\n// Update the smartDocument\r\ntry {\r\n    solrClient.add(document);\r\n    solrClient.commit();\r\n} catch (SolrServerException e) {\r\n    e.printStackTrace();\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n\r\n// Close the Solr client\r\ntry {\r\n    solrClient.close();\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\nWhat do I have to do to actually commit the changes?\r\n\r\n","title":"Why following Java code won&#39;t update a Solr document?","body":"<p>I have a Solr collection (smartDocument with multiple fields like id, path, name, type etc) and I want to update a specific field, called ai_finished. I first retrieve the smartDocument, then <em>accordingly</em> populate a SolrInputDocument, change the field with false value, and then commit the changes.</p>\n<p>The result? If I query Solr, it changes the ai_finished for a second or so, and then it reverts back to the old value. Why does it do this?</p>\n<p>Here's the code that I've tried in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SolrConfigIndependently solrConfigIndependently = new SolrConfigIndependently();\nHttpSolrClient solrClient = solrConfigIndependently.solrHttpClient(solrURL, coreName);\n\nSolrInputDocument document = new SolrInputDocument();\ndocument.addField(&quot;id&quot;, documentId);\n\ntry {\n    SmartDocument sd = this.searchDocById(documentId, coreName);\n\n    document = SolrInputDocumentMapper.createSolrDocumentFromSmartBox(sd);\n    Map&lt;String,String&gt; AI_FINISHED= new HashMap&lt;&gt;();\n    AI_FINISHED.put(&quot;set&quot;, &quot;false&quot;);\n    document.setField(SmartDocumentEnum.AI_FINISHED.getValue(),AI_FINISHED);\n\n} catch (IOException e) {\n    e.printStackTrace();\n}\n\n// Update the smartDocument\ntry {\n    solrClient.add(document);\n    solrClient.commit();\n} catch (SolrServerException e) {\n    e.printStackTrace();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n\n// Close the Solr client\ntry {\n    solrClient.close();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>What do I have to do to actually commit the changes?</p>\n"},{"tags":["java","spring","spring-el"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1697455954,"post_id":77301488,"comment_id":136278014,"body_markdown":"The reason for &quot;why&quot; this doesn&#39;t work is probably that it isn&#39;t implemented (&quot;features are unimplemented by default&quot;). I think the more interesting question is how to still do that.","body":"The reason for &quot;why&quot; this doesn&#39;t work is probably that it isn&#39;t implemented (&quot;features are unimplemented by default&quot;). I think the more interesting question is how to still do that."},{"owner":{"account_id":7635098,"reputation":135,"user_id":5955921,"accept_rate":100,"display_name":"Vadym Borys"},"score":0,"creation_date":1697457253,"post_id":77301488,"comment_id":136278241,"body_markdown":"With &quot;default 0;&quot; it has default value on compile time, without default it doesn&#39;t even compile because I didn&#39;t define the value when used annotation. From what I know it isn&#39;t even possible to change annotation value on runtime","body":"With &quot;default 0;&quot; it has default value on compile time, without default it doesn&#39;t even compile because I didn&#39;t define the value when used annotation. From what I know it isn&#39;t even possible to change annotation value on runtime"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1697457333,"post_id":77301488,"comment_id":136278259,"body_markdown":"Do you mean it &quot;works&quot; if you ignore the default value and add the level explicitely (i.e. `@LevelAuthGuard(0)`)?","body":"Do you mean it &quot;works&quot; if you ignore the default value and add the level explicitely (i.e. <code>@LevelAuthGuard(0)</code>)?"},{"owner":{"account_id":7635098,"reputation":135,"user_id":5955921,"accept_rate":100,"display_name":"Vadym Borys"},"score":0,"creation_date":1697457637,"post_id":77301488,"comment_id":136278323,"body_markdown":"No, the SpEL expression doesn&#39;t have access to the property at all and fails when the expression is executed in runtime. The only way I made it work is to create multiple annotations (Level1AuthGuard, Level2AuthGuard) and explicitly put a number in spel), but this solution is unacceptable for 3+ annotations","body":"No, the SpEL expression doesn&#39;t have access to the property at all and fails when the expression is executed in runtime. The only way I made it work is to create multiple annotations (Level1AuthGuard, Level2AuthGuard) and explicitly put a number in spel), but this solution is unacceptable for 3+ annotations"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1697457807,"post_id":77301488,"comment_id":136278352,"body_markdown":"Yeah, this is what I meant with my initial comment. The reason for that (since you have asked for WHY this wouldn&#39;t work) is probably that it wouldn&#39;t be implemented on Spring&#39;s side.","body":"Yeah, this is what I meant with my initial comment. The reason for that (since you have asked for WHY this wouldn&#39;t work) is probably that it wouldn&#39;t be implemented on Spring&#39;s side."}],"owner":{"account_id":7635098,"reputation":135,"user_id":5955921,"accept_rate":100,"display_name":"Vadym Borys"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1697454731,"creation_date":1697454731,"question_id":77301488,"body_markdown":"I want to create an annotation with a parameter that will extend @PreAuthorize:\r\n\r\n    @Inherited\r\n    @PreAuthorize(&quot;@levelService.verify(#level)&quot;)\r\n    public @interface LevelAuthGuard {\r\n        int level() default 0;\r\n    }\r\n\r\nBut #level (or #level()) in SpEL isn&#39;t accessible and I don&#39;t understand why:\r\nSpEL can use method parameters. \r\nClass-level SpEL annotation initializes on &quot;compile&quot; time, but level property is defined on compile time as well and can&#39;t be changed. Same as spel string that is passed into @PreAuthorize annotation.\r\nHow to do that without custom AoP bean/configuration and, most important, WHY it doesn&#39;t have access to annotation property?","title":"Using annotation properties in SpEL expression","body":"<p>I want to create an annotation with a parameter that will extend @PreAuthorize:</p>\n<pre><code>@Inherited\n@PreAuthorize(&quot;@levelService.verify(#level)&quot;)\npublic @interface LevelAuthGuard {\n    int level() default 0;\n}\n</code></pre>\n<p>But #level (or #level()) in SpEL isn't accessible and I don't understand why:\nSpEL can use method parameters.\nClass-level SpEL annotation initializes on &quot;compile&quot; time, but level property is defined on compile time as well and can't be changed. Same as spel string that is passed into @PreAuthorize annotation.\nHow to do that without custom AoP bean/configuration and, most important, WHY it doesn't have access to annotation property?</p>\n"},{"tags":["java","spring","spring-mvc","aws-codebuild","aws-devops"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1697446897,"post_id":77300552,"comment_id":136276394,"body_markdown":"DOn&#39;t post code as images or even worse links to images. Include all the necessary information in your question as code blocks.","body":"DOn&#39;t post code as images or even worse links to images. Include all the necessary information in your question as code blocks."}],"owner":{"account_id":29681906,"reputation":1,"user_id":22748360,"display_name":"Sahil Yadav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697454510,"creation_date":1697445830,"question_id":77300552,"body_markdown":"I have a simple java API webapp. When i&#39;m trying to build my webapp using CodeBuild, it&#39;s generating a &quot;package org.springframework.web.bind.annotation does not exist&quot; error. But in my local machine its getting build successfully and i have also tried it manually on EC2 linux instance by installing maven and then running the commands, it got successfully built.\r\n\r\nBelow is my buildspec.yml file :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nMy Pom.xml file :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n\r\nError screenshot :\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThe file is being successfully build in EC2 instance when I&#39;m replicating all the steps manually and in local machine its also working fine on STS. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/awV7N.png\r\n  [2]: https://i.stack.imgur.com/XguEO.png\r\n  [3]: https://i.stack.imgur.com/1IpXP.png","title":"spring-web Package dependency error while building my java webapp on AWS CodeBuild","body":"<p>I have a simple java API webapp. When i'm trying to build my webapp using CodeBuild, it's generating a &quot;package org.springframework.web.bind.annotation does not exist&quot; error. But in my local machine its getting build successfully and i have also tried it manually on EC2 linux instance by installing maven and then running the commands, it got successfully built.</p>\n<p>Below is my buildspec.yml file :</p>\n<p><a href=\"https://i.stack.imgur.com/awV7N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/awV7N.png\" alt=\"enter image description here\" /></a></p>\n<p>My Pom.xml file :</p>\n<p><a href=\"https://i.stack.imgur.com/XguEO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XguEO.png\" alt=\"enter image description here\" /></a></p>\n<p>Error screenshot :</p>\n<p><a href=\"https://i.stack.imgur.com/1IpXP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1IpXP.png\" alt=\"enter image description here\" /></a></p>\n<p>The file is being successfully build in EC2 instance when I'm replicating all the steps manually and in local machine its also working fine on STS.</p>\n"},{"tags":["java","google-app-engine","email","jakarta-mail","html-email"],"answers":[{"comments":[{"owner":{"account_id":42978,"reputation":5381,"user_id":125429,"accept_rate":67,"display_name":"aloo"},"score":0,"creation_date":1330071366,"post_id":9427448,"comment_id":11919136,"body_markdown":"Nope. That doesn&#39;t have a text alternate to the html. Also, it doesn&#39;t use nested body parts, just multiple.","body":"Nope. That doesn&#39;t have a text alternate to the html. Also, it doesn&#39;t use nested body parts, just multiple."},{"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"score":0,"creation_date":1330087961,"post_id":9427448,"comment_id":11924570,"body_markdown":"I know I&#39;ve done something like that, and I&#39;ve found similar tutorial to that, but I don&#39;t have neither link nor code now. The cid&#39;s were the most difficult part for me.","body":"I know I&#39;ve done something like that, and I&#39;ve found similar tutorial to that, but I don&#39;t have neither link nor code now. The cid&#39;s were the most difficult part for me."}],"tags":[],"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1330071227,"creation_date":1330071227,"answer_id":9427448,"question_id":9427134,"body_markdown":"You mean something like that:\r\n\r\nhttp://java.sun.com/developer/onlineTraining/JavaMail/contents.html#IncludingImagesWithHTML\r\n\r\nNote that you need also modify your html to specify cid:identifier as image src.","title":"How to nest MimeBodyParts in JavaMail (standard email messages)?","body":"<p>You mean something like that:</p>\n\n<p><a href=\"http://java.sun.com/developer/onlineTraining/JavaMail/contents.html#IncludingImagesWithHTML\" rel=\"nofollow\">http://java.sun.com/developer/onlineTraining/JavaMail/contents.html#IncludingImagesWithHTML</a></p>\n\n<p>Note that you need also modify your html to specify cid:identifier as image src.</p>\n"},{"tags":[],"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1330115495,"creation_date":1330115495,"answer_id":9437610,"question_id":9427134,"body_markdown":"You put a Multipart in another Multipart by creating a MimeBodyPart, setting the content of that to the Multipart, and adding that body part to the first Multipart.","title":"How to nest MimeBodyParts in JavaMail (standard email messages)?","body":"<p>You put a Multipart in another Multipart by creating a MimeBodyPart, setting the content of that to the Multipart, and adding that body part to the first Multipart.</p>\n"},{"tags":[],"owner":{"account_id":2161934,"reputation":4386,"user_id":1915920,"accept_rate":97,"display_name":"Andreas Covidiot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697454338,"creation_date":1691605935,"answer_id":76870414,"question_id":9427134,"body_markdown":"in essence, this is what to do:\r\n\r\n\t\r\n\r\n    Message msg = new MimeMessage( session );\r\n\tmsg.setFrom( &quot;from foo&quot; );\r\n\tmsg.setRecipients( Message.RecipientType.TO, &quot;bar@bus.com&quot; );\r\n\tmsg.setSubject( &quot;subj&quot; );\r\n\r\n\tMimeMultipart altAndAtt = new MimeMultipart( &quot;mixed&quot; );\r\n\r\n\t{ // add alternative plain + html part\r\n\r\n\t\tMimeMultipart plainAndHtml = new MimeMultipart( &quot;alternative&quot; );\r\n\r\n\t\tMimeBodyPart plain = new MimeBodyPart();\r\n\t\tplain.setContent( plainBody, &quot;text/plain; charset=utf-8&quot; );\r\n\t\tplainAndHtml.addBodyPart( plain );\r\n\r\n\t\tMimeBodyPart html = new MimeBodyPart();\r\n\t\thtml.setContent( htmlBody, &quot;text/html; charset=utf-8&quot; );\r\n\t\tplainAndHtml.addBodyPart( html );\r\n\r\n\t\tMimeBodyPart wrapper = new MimeBodyPart();  // needed for nesting multipart in multipart\r\n\t\twrapper.setContent( plainAndHtml );\r\n\t\taltAndAtt.addBodyPart( wrapper );\r\n\t}\r\n\r\n\t{ // add attachment part\r\n\r\n\t\tMimeBodyPart attPart = new MimeBodyPart();\r\n\t\tattPart.attachFile( myFilePath );\r\n\r\n\t\taltAndAtt.addBodyPart( attPart );\r\n\t}\r\n\r\n\r\n\tmsg.setContent( altAndAtt );","title":"How to nest MimeBodyParts in JavaMail (standard email messages)?","body":"<p>in essence, this is what to do:</p>\n<pre><code>Message msg = new MimeMessage( session );\nmsg.setFrom( &quot;from foo&quot; );\nmsg.setRecipients( Message.RecipientType.TO, &quot;bar@bus.com&quot; );\nmsg.setSubject( &quot;subj&quot; );\n\nMimeMultipart altAndAtt = new MimeMultipart( &quot;mixed&quot; );\n\n{ // add alternative plain + html part\n\n    MimeMultipart plainAndHtml = new MimeMultipart( &quot;alternative&quot; );\n\n    MimeBodyPart plain = new MimeBodyPart();\n    plain.setContent( plainBody, &quot;text/plain; charset=utf-8&quot; );\n    plainAndHtml.addBodyPart( plain );\n\n    MimeBodyPart html = new MimeBodyPart();\n    html.setContent( htmlBody, &quot;text/html; charset=utf-8&quot; );\n    plainAndHtml.addBodyPart( html );\n\n    MimeBodyPart wrapper = new MimeBodyPart();  // needed for nesting multipart in multipart\n    wrapper.setContent( plainAndHtml );\n    altAndAtt.addBodyPart( wrapper );\n}\n\n{ // add attachment part\n\n    MimeBodyPart attPart = new MimeBodyPart();\n    attPart.attachFile( myFilePath );\n\n    altAndAtt.addBodyPart( attPart );\n}\n\n\nmsg.setContent( altAndAtt );\n</code></pre>\n"}],"owner":{"account_id":42978,"reputation":5381,"user_id":125429,"accept_rate":67,"display_name":"aloo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1459,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1697454338,"creation_date":1330069447,"question_id":9427134,"body_markdown":"I&#39;m trying to send an html email (with a text alternative) that includes an embedded/inline image using JavaMail.\r\n\r\nI wanted to see what a properly formatted message looked like so I sent one using gmail with an inline image and below is the original source. It seems as if they are nesting body parts in the message. How can I replicate this EXACTLY using javamail. I found no way to put a Multipart inside of another Multipart.\r\n\r\n&gt; MIME-Version: 1.0 Received: by 10.50.75.3 with HTTP; Thu, 23 Feb 2012\r\n&gt; 20:15:34 -0800 (PST) Date: Thu, 23 Feb 2012 20:15:34 -0800\r\n&gt; Delivered-To: x@gmail.com Message-ID:\r\n&gt; &lt;CAApOksvZBaU2WT7+=8B8J=CCN8KbxspbiisWcUEHHzQUVVWw4A@mail.gmail.com&gt;\r\n&gt; Subject: c From: Foo Bar &lt;x@gmail.com&gt; To: Foo\r\n&gt; Bar &lt;x@gmail.com&gt; Content-Type: multipart/related;\r\n&gt; boundary=e89a8f3b9b051e124104b9ae03fb\r\n&gt; \r\n&gt; --e89a8f3b9b051e124104b9ae03fb Content-Type: multipart/alternative; boundary=e89a8f3b9b051e123604b9ae03fa\r\n&gt; \r\n&gt; --e89a8f3b9b051e123604b9ae03fa Content-Type: text/plain; charset=ISO-8859-1\r\n&gt; \r\n&gt; plain text content goes here\r\n&gt; \r\n&gt; --e89a8f3b9b051e123604b9ae03fa Content-Type: text/html; charset=ISO-8859-1\r\n&gt; \r\n&gt; &lt;img src=&quot;cid:ii_135ad92205fc1ace&quot; alt=&quot;Inline image 1&quot;&gt;&lt;br&gt;\r\n&gt; \r\n&gt; --e89a8f3b9b051e123604b9ae03fa--\r\n&gt; --e89a8f3b9b051e124104b9ae03fb Content-Type: image/png; name=&quot;logo.png&quot; Content-Transfer-Encoding: base64 Content-ID:\r\n&gt; &lt;ii_135ad92205fc1ace&gt; X-Attachment-Id: ii_135ad92205fc1ace\r\n&gt; \r\n&gt; iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVR42u3ZsQnAIBBGYVtHShVI\r\n&gt; 7ViprASXcw8HMCckEGyTkB98xWsE4WvOwnMhBG/tVrGaSOU0+Q5MVhMtdWAVBlY3HCyW+7nlbhqB\r\n&gt; TiGAAAECBAhwMqB0AN8ANuUkgQzJvEPy1WP75C5AgAABAgQ4GXATAK4DUP8LOAsD87WGiIJriGj5\r\n&gt; AwiiiyDxmymtAAAAAElFTkSuQmCC\r\n&gt; --e89a8f3b9b051e124104b9ae03fb--\r\n\r\nUPDATE:\r\n\r\nUsing the standard multipart inline image methods (like those linked to by lechlukasz) produces the following email, not quite what I need:\r\n\r\n\r\n&gt; MIME-Version: 1.0 Received: by 10.236.146.106 with SMTP id\r\n&gt; q70mr1894063yhj.0.1330071158663; Fri,  24 Feb 2012 00:12:38 -0800\r\n&gt; (PST) Reply-To: Foo Bar &lt;x@z.com&gt; Message-ID:\r\n&gt; &lt;20cf303bfc80f02cfa04b9b152db@google.com&gt; Date: Fri, 24 Feb 2012\r\n&gt; 08:12:38 +0000 Subject: please oh please4 From: Foo Bar\r\n&gt; &lt;x@mailfoogae.appspotmail.com&gt; To: Foo Bar &lt;x@gmail.com&gt; Content-Type:\r\n&gt; multipart/alternative; boundary=20cf303bfc80f02ce704b9b152d6\r\n&gt; \r\n&gt; --20cf303bfc80f02ce704b9b152d6 Content-Type: text/plain; charset=UTF-8; format=flowed; delsp=yes Content-Transfer-Encoding:\r\n&gt; base64\r\n&gt; \r\n&gt; 77+9UE5HDQoaDQoAAAANCklIRFIAAAAoAAAAKAgGAAAA77+977+977+9bQAAAO+/vUlEQVR477+9\r\n&gt; 77+977+977+9Ce+/vSAgDQoQRmFbR0oVSO+/vVjvv73vv70E77+9cw8HMCckEGzvv73vv70ffO+/ vWsE77+9a++/ve+/vXMhBG/vv71W77+977+9SO+/vTTvv70OTFYTLXVgFQZWNxws77+977+977+9 77+9bhrvv71OIe+/vQABAgQIcDLvv710AO+/vQA277+9JO+/vQzvv73vv71D77+977+9Y++/ve+/\r\n&gt; vS5A77+9AAECBDgZcBMA77+9A1Dvv70LOAsD77+977+977+977+977+9a++/vWjvv70DCO+/ve+/ vSDvv73vv70p77+9AAAAAElFTkTvv71CYO+/vQ0K\r\n&gt; --20cf303bfc80f02ce704b9b152d6 Content-Type: text/html; charset=ISO-8859-1 Content-Transfer-Encoding: quoted-printable\r\n&gt; \r\n&gt; &lt;html&gt; &lt;body&gt; &lt;img src=3D&quot;cid:logo@logo.com&quot;&gt;&lt;/img&gt; &lt;/body&gt;\r\n&gt; \r\n&gt; &lt;/html&gt;\r\n&gt; \r\n&gt; --20cf303bfc80f02ce704b9b152d6--\r\n","title":"How to nest MimeBodyParts in JavaMail (standard email messages)?","body":"<p>I'm trying to send an html email (with a text alternative) that includes an embedded/inline image using JavaMail.</p>\n\n<p>I wanted to see what a properly formatted message looked like so I sent one using gmail with an inline image and below is the original source. It seems as if they are nesting body parts in the message. How can I replicate this EXACTLY using javamail. I found no way to put a Multipart inside of another Multipart.</p>\n\n<blockquote>\n  <p>MIME-Version: 1.0 Received: by 10.50.75.3 with HTTP; Thu, 23 Feb 2012\n  20:15:34 -0800 (PST) Date: Thu, 23 Feb 2012 20:15:34 -0800\n  Delivered-To: x@gmail.com Message-ID:\n  \n  Subject: c From: Foo Bar  To: Foo\n  Bar  Content-Type: multipart/related;\n  boundary=e89a8f3b9b051e124104b9ae03fb</p>\n  \n  <p>--e89a8f3b9b051e124104b9ae03fb Content-Type: multipart/alternative; boundary=e89a8f3b9b051e123604b9ae03fa</p>\n  \n  <p>--e89a8f3b9b051e123604b9ae03fa Content-Type: text/plain; charset=ISO-8859-1</p>\n  \n  <p>plain text content goes here</p>\n  \n  <p>--e89a8f3b9b051e123604b9ae03fa Content-Type: text/html; charset=ISO-8859-1</p>\n  \n  <p><br></p>\n  \n  <p>--e89a8f3b9b051e123604b9ae03fa--\n  --e89a8f3b9b051e124104b9ae03fb Content-Type: image/png; name=\"logo.png\" Content-Transfer-Encoding: base64 Content-ID:\n   X-Attachment-Id: ii_135ad92205fc1ace</p>\n  \n  <p>iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVR42u3ZsQnAIBBGYVtHShVI\n  7ViprASXcw8HMCckEGyTkB98xWsE4WvOwnMhBG/tVrGaSOU0+Q5MVhMtdWAVBlY3HCyW+7nlbhqB\n  TiGAAAECBAhwMqB0AN8ANuUkgQzJvEPy1WP75C5AgAABAgQ4GXATAK4DUP8LOAsD87WGiIJriGj5\n  AwiiiyDxmymtAAAAAElFTkSuQmCC\n  --e89a8f3b9b051e124104b9ae03fb--</p>\n</blockquote>\n\n<p>UPDATE:</p>\n\n<p>Using the standard multipart inline image methods (like those linked to by lechlukasz) produces the following email, not quite what I need:</p>\n\n<blockquote>\n  <p>MIME-Version: 1.0 Received: by 10.236.146.106 with SMTP id\n  q70mr1894063yhj.0.1330071158663; Fri,  24 Feb 2012 00:12:38 -0800\n  (PST) Reply-To: Foo Bar  Message-ID:\n  &lt;20cf303bfc80f02cfa04b9b152db@google.com> Date: Fri, 24 Feb 2012\n  08:12:38 +0000 Subject: please oh please4 From: Foo Bar\n   To: Foo Bar  Content-Type:\n  multipart/alternative; boundary=20cf303bfc80f02ce704b9b152d6</p>\n  \n  <p>--20cf303bfc80f02ce704b9b152d6 Content-Type: text/plain; charset=UTF-8; format=flowed; delsp=yes Content-Transfer-Encoding:\n  base64</p>\n  \n  <p>77+9UE5HDQoaDQoAAAANCklIRFIAAAAoAAAAKAgGAAAA77+977+977+9bQAAAO+/vUlEQVR477+9\n  77+977+977+9Ce+/vSAgDQoQRmFbR0oVSO+/vVjvv73vv70E77+9cw8HMCckEGzvv73vv70ffO+/ vWsE77+9a++/ve+/vXMhBG/vv71W77+977+9SO+/vTTvv70OTFYTLXVgFQZWNxws77+977+977+9 77+9bhrvv71OIe+/vQABAgQIcDLvv710AO+/vQA277+9JO+/vQzvv73vv71D77+977+9Y++/ve+/\n  vS5A77+9AAECBDgZcBMA77+9A1Dvv70LOAsD77+977+977+977+977+9a++/vWjvv70DCO+/ve+/ vSDvv73vv70p77+9AAAAAElFTkTvv71CYO+/vQ0K\n  --20cf303bfc80f02ce704b9b152d6 Content-Type: text/html; charset=ISO-8859-1 Content-Transfer-Encoding: quoted-printable</p>\n  \n  <p>   </p>\n  \n  <p></p>\n  \n  <p>--20cf303bfc80f02ce704b9b152d6--</p>\n</blockquote>\n"},{"tags":["java","arrays","variables","methods","return-value"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":2,"creation_date":1696945272,"post_id":77266298,"comment_id":136215405,"body_markdown":"&quot;it seems to run the method twice&quot;, yes, in the `main()` you call the method twice.","body":"&quot;it seems to run the method twice&quot;, yes, in the <code>main()</code> you call the method twice."}],"answers":[{"comments":[{"owner":{"account_id":29640477,"reputation":23,"user_id":22716776,"display_name":"Sarah Parker"},"score":0,"creation_date":1696946363,"post_id":77266347,"comment_id":136215641,"body_markdown":"I do want to use the return value in a different method later on though. \n\nI’d like to use the return value in another method that would take those values. Method is Battle(strike). Using the variable strike which is supposed to be set to the return variable from Player1ships(). But when it inputs strike, it reruns the player1ships() method again instead of using the return value.","body":"I do want to use the return value in a different method later on though.   I’d like to use the return value in another method that would take those values. Method is Battle(strike). Using the variable strike which is supposed to be set to the return variable from Player1ships(). But when it inputs strike, it reruns the player1ships() method again instead of using the return value."},{"owner":{"account_id":22934753,"reputation":96,"user_id":17068390,"display_name":"Arun"},"score":0,"creation_date":1696946565,"post_id":77266347,"comment_id":136215682,"body_markdown":"The value will be stored in strike itself while calling it for the first time you can pass it for other method if you want.  Or can you please provide more information","body":"The value will be stored in strike itself while calling it for the first time you can pass it for other method if you want.  Or can you please provide more information"},{"owner":{"account_id":29640477,"reputation":23,"user_id":22716776,"display_name":"Sarah Parker"},"score":0,"creation_date":1696946707,"post_id":77266347,"comment_id":136215722,"body_markdown":"@Arun yes, that is my goal is to save the return value in strike. When I try to call it in another method, Battle(strike), it still reruns the first method player1ships().","body":"@Arun yes, that is my goal is to save the return value in strike. When I try to call it in another method, Battle(strike), it still reruns the first method player1ships()."},{"owner":{"account_id":22934753,"reputation":96,"user_id":17068390,"display_name":"Arun"},"score":0,"creation_date":1696947105,"post_id":77266347,"comment_id":136215827,"body_markdown":"No @SarahParker it won&#39;t call the player1Ships again. I Just now tested with the same code. remove the second player1ships() method. Its working fine. Can u run again after removing the second call.If still issue can you share the full code.","body":"No @SarahParker it won&#39;t call the player1Ships again. I Just now tested with the same code. remove the second player1ships() method. Its working fine. Can u run again after removing the second call.If still issue can you share the full code."},{"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"score":0,"creation_date":1696947191,"post_id":77266347,"comment_id":136215850,"body_markdown":"You can write like this where no need to create another variable and store value. `Battle(player1ships());`","body":"You can write like this where no need to create another variable and store value. <code>Battle(player1ships());</code>"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1696947481,"post_id":77266347,"comment_id":136215926,"body_markdown":"@VinitMore I think this confuses OP even more. @SarahParker can you please add a code snippet of your call to `Battle(strike)` (with a bit more context) to your question?","body":"@VinitMore I think this confuses OP even more. @SarahParker can you please add a code snippet of your call to <code>Battle(strike)</code> (with a bit more context) to your question?"},{"owner":{"account_id":29640477,"reputation":23,"user_id":22716776,"display_name":"Sarah Parker"},"score":0,"creation_date":1696984434,"post_id":77266347,"comment_id":136221536,"body_markdown":"@arun I reran the code and you are correct, everything compiles and runs. Thank you.","body":"@arun I reran the code and you are correct, everything compiles and runs. Thank you."},{"owner":{"account_id":22934753,"reputation":96,"user_id":17068390,"display_name":"Arun"},"score":0,"creation_date":1697002433,"post_id":77266347,"comment_id":136222931,"body_markdown":"@SarahParker happy coding !","body":"@SarahParker happy coding !"}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696945422,"creation_date":1696945422,"answer_id":77266347,"question_id":77266298,"body_markdown":"Java doesn&#39;t complain if you call a method but do nothing with its return value, so you invoke the method `player1ships()` actually twice:\r\n\r\n``` lang-java\r\nchar [][] strike = player1ships();\r\n```\r\n\r\nand \r\n``` lang-java\r\nplayer1ships();\r\n```\r\n\r\nYou can simply remove the second call of `player1ships()` (the one without assignment) as you don&#39;t use its result.","title":"Unable to save a return value from a method in Java without re-running method","body":"<p>Java doesn't complain if you call a method but do nothing with its return value, so you invoke the method <code>player1ships()</code> actually twice:</p>\n<pre class=\"lang-java prettyprint-override\"><code>char [][] strike = player1ships();\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>player1ships();\n</code></pre>\n<p>You can simply remove the second call of <code>player1ships()</code> (the one without assignment) as you don't use its result.</p>\n"},{"tags":[],"owner":{"account_id":29640757,"reputation":1,"user_id":22716988,"display_name":"Junwei Zhu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697453080,"creation_date":1696949045,"answer_id":77266793,"question_id":77266298,"body_markdown":"    public static void main(String[] args) {\r\n        char [][] strike = player1ships();\r\n\r\n         //This line runs the method again, which is what you don&#39;t want.\r\n         //player1ships();\r\n\r\n        //test to see if array updated\r\n        System.out.println(strike[0][0]);\r\n\r\n    }","title":"Unable to save a return value from a method in Java without re-running method","body":"<pre><code>public static void main(String[] args) {\n    char [][] strike = player1ships();\n\n     //This line runs the method again, which is what you don't want.\n     //player1ships();\n\n    //test to see if array updated\n    System.out.println(strike[0][0]);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29640477,"reputation":23,"user_id":22716776,"display_name":"Sarah Parker"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696984347,"creation_date":1696984347,"answer_id":77269610,"question_id":77266298,"body_markdown":"Thank you all for your help. I removed the second player1ships(); method in my main method and the code worked great and also saved the variable appropriately for use in another method. I&#39;m sure my formatting is horrible and there is a better way to write this program, but I really appreciate all the help troubleshooting!\r\n\r\nHere is my updated code:\r\n\r\n    \tpublic static void main(String[] args) {\r\n\t\tchar [][] strike = player1ships();\r\n\t\t\r\n\t\tchar [][] boardhit1 = battle(strike);\r\n\t\t\r\n\t\t\r\n\t\t//test to see if array updated\r\n\t\tSystem.out.println(strike[0][0]);\r\n\t\tSystem.out.println(boardhit1[0][0]);","title":"Unable to save a return value from a method in Java without re-running method","body":"<p>Thank you all for your help. I removed the second player1ships(); method in my main method and the code worked great and also saved the variable appropriately for use in another method. I'm sure my formatting is horrible and there is a better way to write this program, but I really appreciate all the help troubleshooting!</p>\n<p>Here is my updated code:</p>\n<pre><code>    public static void main(String[] args) {\n    char [][] strike = player1ships();\n    \n    char [][] boardhit1 = battle(strike);\n    \n    \n    //test to see if array updated\n    System.out.println(strike[0][0]);\n    System.out.println(boardhit1[0][0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22934753,"reputation":96,"user_id":17068390,"display_name":"Arun"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697003044,"creation_date":1697003044,"answer_id":77270443,"question_id":77266298,"body_markdown":"In main method removing/commenting the second method call and re run the code.It working fine \r\n```\r\n{\r\n   public static void main(String[] args) {\r\n        char [][] strike = player1ships();\r\n                \r\n        \r\n        player1ships();     ----&gt; this line\r\n\r\n        \r\n        //test to see if array updated\r\n        System.out.println(strike[0][0]);\r\n        \r\n    }\r\n}\r\n```\r\nHope its working fine?","title":"Unable to save a return value from a method in Java without re-running method","body":"<p>In main method removing/commenting the second method call and re run the code.It working fine</p>\n<pre><code>{\n   public static void main(String[] args) {\n        char [][] strike = player1ships();\n                \n        \n        player1ships();     ----&gt; this line\n\n        \n        //test to see if array updated\n        System.out.println(strike[0][0]);\n        \n    }\n}\n</code></pre>\n<p>Hope its working fine?</p>\n"}],"owner":{"account_id":29640477,"reputation":23,"user_id":22716776,"display_name":"Sarah Parker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77270443,"answer_count":4,"score":0,"last_activity_date":1697453080,"creation_date":1696945066,"question_id":77266298,"body_markdown":"Brand new to coding, so sorry if this is a basic question. I&#39;m doing an assignment to program a code for the game battleship in java. \r\n\r\nI&#39;m using a method to get the user to input coordinates and then save those coordinates as an array to be used in another method. I understand that a variable within a method does not save. \r\n\r\nSo I created a return for the method and then created a new variable in my main class and set to the return value of the method. \r\n\r\n\r\n\r\n```\r\npublic static char[][] player1ships() {\r\n  System.out.println(&quot;PLAYER 1, ENTER YOUR SHIPS&#39; COORDINATES.&quot;);\r\n  Scanner input = new Scanner(System.in);\r\n  char[][] player1 = new char[5][5];\r\n  for (int i = 0; i &lt; 5; i++) {\r\n    for (int j = 0; j &lt; 5; j++) {\r\n      player1[i][j] = &#39;-&#39;;\r\n    }\r\n  }\r\n  for (int i = 1; i &lt;= 5; ) {\r\n    System.out.println(&quot;Enter location for ship &quot; + i);\r\n    int a = input.nextInt();\r\n    int b = input.nextInt();\r\n    if ((a &gt;= 0 &amp;&amp; a &lt; 5) &amp;&amp; (b &gt;= 0 &amp;&amp; b &lt; 5) &amp;&amp; (player1[a][b] == &#39;-&#39;)) {\r\n      player1[a][b] = &#39;@&#39;;\r\n      i++;\r\n    } else if ((a &gt;= 0 &amp;&amp; a &lt; 5) &amp;&amp; (a &gt;= 0 &amp;&amp; b &lt; 5) &amp;&amp; (player1[a][b] == &#39;@&#39;))\r\n      System.out.println(&quot;You can&#39;t place two or more ships on the same location&quot;);\r\n    else if ((a &lt; 0 || a &gt;= 5) || (b &lt; 0 || b &gt;= 5))\r\n      System.out.println(&quot;You can&#39;t place ships outside the &quot; + 5 + &quot; by &quot; + 5 + &quot; grid&quot;);\r\n  }\r\n  return player1;\r\n}\r\n```\r\n\r\n\r\nI want to run the method so the user enters the coordinates and then save the return array to use later. However, When I run the program it seems to run the method twice as the the output prompts the user through 2 cycles of &quot;enter location&quot;. \r\n\r\nWhen I added the test line at the end, it does print the correct symbol at the index array so it does seem to save the updated arary.\r\n\r\nSo how do I save the return as a variable without running and printing the whole method again? \r\n```\r\n\tpublic static void main(String[] args) {\r\n\t\tchar [][] strike = player1ships();\r\n\t\t\t\t\r\n\t\t\r\n\t\tplayer1ships();\r\n\r\n\t\t\r\n\t\t//test to see if array updated\r\n\t\tSystem.out.println(strike[0][0]);\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nThis is the result of the program running...and going through the player1ships method twice instead of once. \r\n\r\n[showing how it prompts user through two cycles before printing out the last line](https://i.stack.imgur.com/ilHy4.png)\r\n\r\n\r\n","title":"Unable to save a return value from a method in Java without re-running method","body":"<p>Brand new to coding, so sorry if this is a basic question. I'm doing an assignment to program a code for the game battleship in java.</p>\n<p>I'm using a method to get the user to input coordinates and then save those coordinates as an array to be used in another method. I understand that a variable within a method does not save.</p>\n<p>So I created a return for the method and then created a new variable in my main class and set to the return value of the method.</p>\n<pre><code>public static char[][] player1ships() {\n  System.out.println(&quot;PLAYER 1, ENTER YOUR SHIPS' COORDINATES.&quot;);\n  Scanner input = new Scanner(System.in);\n  char[][] player1 = new char[5][5];\n  for (int i = 0; i &lt; 5; i++) {\n    for (int j = 0; j &lt; 5; j++) {\n      player1[i][j] = '-';\n    }\n  }\n  for (int i = 1; i &lt;= 5; ) {\n    System.out.println(&quot;Enter location for ship &quot; + i);\n    int a = input.nextInt();\n    int b = input.nextInt();\n    if ((a &gt;= 0 &amp;&amp; a &lt; 5) &amp;&amp; (b &gt;= 0 &amp;&amp; b &lt; 5) &amp;&amp; (player1[a][b] == '-')) {\n      player1[a][b] = '@';\n      i++;\n    } else if ((a &gt;= 0 &amp;&amp; a &lt; 5) &amp;&amp; (a &gt;= 0 &amp;&amp; b &lt; 5) &amp;&amp; (player1[a][b] == '@'))\n      System.out.println(&quot;You can't place two or more ships on the same location&quot;);\n    else if ((a &lt; 0 || a &gt;= 5) || (b &lt; 0 || b &gt;= 5))\n      System.out.println(&quot;You can't place ships outside the &quot; + 5 + &quot; by &quot; + 5 + &quot; grid&quot;);\n  }\n  return player1;\n}\n</code></pre>\n<p>I want to run the method so the user enters the coordinates and then save the return array to use later. However, When I run the program it seems to run the method twice as the the output prompts the user through 2 cycles of &quot;enter location&quot;.</p>\n<p>When I added the test line at the end, it does print the correct symbol at the index array so it does seem to save the updated arary.</p>\n<p>So how do I save the return as a variable without running and printing the whole method again?</p>\n<pre><code>    public static void main(String[] args) {\n        char [][] strike = player1ships();\n                \n        \n        player1ships();\n\n        \n        //test to see if array updated\n        System.out.println(strike[0][0]);\n        \n    }\n}\n</code></pre>\n<p>This is the result of the program running...and going through the player1ships method twice instead of once.</p>\n<p><a href=\"https://i.stack.imgur.com/ilHy4.png\" rel=\"nofollow noreferrer\">showing how it prompts user through two cycles before printing out the last line</a></p>\n"},{"tags":["java","android","admob","google-play-console","google-advertising-id"],"answers":[{"comments":[{"owner":{"account_id":1491981,"reputation":5063,"user_id":1398876,"accept_rate":67,"display_name":"joan16v"},"score":1,"creation_date":1647324204,"post_id":71474103,"comment_id":126336177,"body_markdown":"So we have to update all of our apps adding this permission? And what happen if we don&#39;t update our apps?","body":"So we have to update all of our apps adding this permission? And what happen if we don&#39;t update our apps?"},{"owner":{"account_id":14865997,"reputation":341,"user_id":10735100,"display_name":"spcsLrg"},"score":0,"creation_date":1647340289,"post_id":71474103,"comment_id":126341109,"body_markdown":"Can I use AD_ID variable, e.g. like this `&lt;uses-permission android:name=&quot;com.google.android.gms.permission.@string/admob_appId&quot;/&gt;` ? Thanks","body":"Can I use AD_ID variable, e.g. like this <code>&lt;uses-permission android:name=&quot;com.google.android.gms.permission.@string&#47;admo&zwnj;&#8203;b_appId&quot;&#47;&gt;</code> ? Thanks"},{"owner":{"account_id":4106549,"reputation":715,"user_id":3370387,"display_name":"Suhad Bin Zubair"},"score":0,"creation_date":1647518610,"post_id":71474103,"comment_id":126393941,"body_markdown":"@spcsLrg, No need ,, Just add &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;","body":"@spcsLrg, No need ,, Just add &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;"},{"owner":{"account_id":367123,"reputation":155,"user_id":713101,"display_name":"Phuc"},"score":1,"creation_date":1655816881,"post_id":71474103,"comment_id":128417140,"body_markdown":"@joan16v it was requirements from Google if your build target api from 31. Check here https://developers.google.com/interactive-media-ads/docs/sdks/android/dai/android-12 . You don&#39;t have to do anything if your target api still &lt;= 30","body":"@joan16v it was requirements from Google if your build target api from 31. Check here <a href=\"https://developers.google.com/interactive-media-ads/docs/sdks/android/dai/android-12\" rel=\"nofollow noreferrer\">developers.google.com/interactive-media-ads/docs/sdks/androi&zwnj;&#8203;d/&hellip;</a> . You don&#39;t have to do anything if your target api still &lt;= 30"}],"tags":[],"owner":{"account_id":11088293,"reputation":441,"user_id":8141149,"display_name":"Bruno Morais"},"comment_count":4,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1647291093,"creation_date":1647291093,"answer_id":71474103,"question_id":71473553,"body_markdown":"Google describe here how to solve\r\n\r\nhttps://support.google.com/googleplay/android-developer/answer/6048248?hl=en\r\n\r\nAdd in manifest\r\n\r\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;","title":"Action requested: Declare your Ad ID permission","body":"<p>Google describe here how to solve</p>\n<p><a href=\"https://support.google.com/googleplay/android-developer/answer/6048248?hl=en\" rel=\"noreferrer\">https://support.google.com/googleplay/android-developer/answer/6048248?hl=en</a></p>\n<p>Add in manifest</p>\n<pre><code>&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23288910,"reputation":1381,"user_id":17371284,"display_name":"Abdullah"},"score":0,"creation_date":1647294171,"post_id":71474159,"comment_id":126331157,"body_markdown":"Yes, you are right bro, I&#39;m using the latest Admob Sdk , i have checked my app merged manifest and found that the AD_ID Permission is exist,","body":"Yes, you are right bro, I&#39;m using the latest Admob Sdk , i have checked my app merged manifest and found that the AD_ID Permission is exist,"},{"owner":{"account_id":23583810,"reputation":183,"user_id":17622510,"display_name":"Ysp"},"score":3,"creation_date":1647318657,"post_id":71474159,"comment_id":126335329,"body_markdown":"My app doesn&#39;t contain ads still I need to add this ?","body":"My app doesn&#39;t contain ads still I need to add this ?"},{"owner":{"account_id":9190126,"reputation":422,"user_id":6830970,"display_name":"Umeshkumar D."},"score":0,"creation_date":1647321271,"post_id":71474159,"comment_id":126335693,"body_markdown":"@Ysp , If your app don&#39;t contain Ads , then you don&#39;t have to do this.","body":"@Ysp , If your app don&#39;t contain Ads , then you don&#39;t have to do this."},{"owner":{"account_id":252185,"reputation":812,"user_id":530047,"accept_rate":100,"display_name":"Jon"},"score":0,"creation_date":1647336524,"post_id":71474159,"comment_id":126339762,"body_markdown":"The answer to this may be stupidly obvious, but it would be good to have clarification; I use AdMob through Firebase thusly: `implementation &#39;com.google.firebase:firebase-ads:20.6.0&#39;` - as its version 20.6.0 I&#39;m sure it&#39;s fine - but as its a redirect from Firebase I&#39;d just like to know it&#39;s using AdMob&#39;s latest SDK?","body":"The answer to this may be stupidly obvious, but it would be good to have clarification; I use AdMob through Firebase thusly: <code>implementation &#39;com.google.firebase:firebase-ads:20.6.0&#39;</code> - as its version 20.6.0 I&#39;m sure it&#39;s fine - but as its a redirect from Firebase I&#39;d just like to know it&#39;s using AdMob&#39;s latest SDK?"},{"owner":{"account_id":18957297,"reputation":881,"user_id":13833609,"display_name":"ABDERRAHMANE OUALI"},"score":0,"creation_date":1647340644,"post_id":71474159,"comment_id":126341221,"body_markdown":"@Jonathan that&#39;s not important if firebase uses the latest version or not as long as it version is higher than `20.4.0 `","body":"@Jonathan that&#39;s not important if firebase uses the latest version or not as long as it version is higher than <code>20.4.0 </code>"},{"owner":{"account_id":10706381,"reputation":123,"user_id":7880054,"accept_rate":57,"display_name":"gurkan stack"},"score":0,"creation_date":1648576625,"post_id":71474159,"comment_id":126658095,"body_markdown":"My app doesn&#39;t target Android 13, it targets Android 10, API Level: 29. Should I declare AD_ID(by ugrading Admob SDK or Manifest)? (Besides, my Admob SDK is: play-services-ads:19.0.0)","body":"My app doesn&#39;t target Android 13, it targets Android 10, API Level: 29. Should I declare AD_ID(by ugrading Admob SDK or Manifest)? (Besides, my Admob SDK is: play-services-ads:19.0.0)"},{"owner":{"account_id":18957297,"reputation":881,"user_id":13833609,"display_name":"ABDERRAHMANE OUALI"},"score":0,"creation_date":1648667758,"post_id":71474159,"comment_id":126685709,"body_markdown":"@gurkanstack you should upgrade admob version to the latest version to avoid manual setting","body":"@gurkanstack you should upgrade admob version to the latest version to avoid manual setting"},{"owner":{"account_id":10706381,"reputation":123,"user_id":7880054,"accept_rate":57,"display_name":"gurkan stack"},"score":0,"creation_date":1648707488,"post_id":71474159,"comment_id":126693776,"body_markdown":"Thanks for your response but I&#39;m talking about targetSDK in Manifest. I don&#39;t think it is obligation to upgrade admob version or add ad_id to manifest if your app targets Android 10, API:29.","body":"Thanks for your response but I&#39;m talking about targetSDK in Manifest. I don&#39;t think it is obligation to upgrade admob version or add ad_id to manifest if your app targets Android 10, API:29."},{"owner":{"account_id":367123,"reputation":155,"user_id":713101,"display_name":"Phuc"},"score":0,"creation_date":1655804742,"post_id":71474159,"comment_id":128412619,"body_markdown":"&quot;Quick Start&quot; from Google have this line &quot;(Optional) Declare AD_ID permission for previous versions to work with Android 13.&quot; and just open it to update manifest for old version of Admob is good enough. Thanks friend.","body":"&quot;Quick Start&quot; from Google have this line &quot;(Optional) Declare AD_ID permission for previous versions to work with Android 13.&quot; and just open it to update manifest for old version of Admob is good enough. Thanks friend."},{"owner":{"account_id":3148592,"reputation":974,"user_id":2662539,"accept_rate":50,"display_name":"Ben"},"score":0,"creation_date":1660961511,"post_id":71474159,"comment_id":129664061,"body_markdown":"If just use the `Play Services-ads`, can we just select No for the setup?","body":"If just use the <code>Play Services-ads</code>, can we just select No for the setup?"},{"owner":{"account_id":2647431,"reputation":9890,"user_id":2289835,"accept_rate":38,"display_name":"Rumit Patel"},"score":0,"creation_date":1670040954,"post_id":71474159,"comment_id":131786133,"body_markdown":"@Ysp, You can look at [this answer](https://stackoverflow.com/a/73132765/2289835) if your app doesn&#39;t contain ads.","body":"@Ysp, You can look at <a href=\"https://stackoverflow.com/a/73132765/2289835\">this answer</a> if your app doesn&#39;t contain ads."}],"tags":[],"owner":{"account_id":18957297,"reputation":881,"user_id":13833609,"display_name":"ABDERRAHMANE OUALI"},"comment_count":11,"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1647291346,"creation_date":1647291346,"answer_id":71474159,"question_id":71473553,"body_markdown":"If your app uses the Google Mobile Ads SDK(**Admob**) version&#160;**20.4.0**&#160;or higher, you can skip setting up the permission manually since the SDK automatically declares it\r\n\r\nMore informations here:\r\n\r\n\r\nhttps://developers.google.com/admob/android/quick-start","title":"Action requested: Declare your Ad ID permission","body":"<p>If your app uses the Google Mobile Ads SDK(<strong>Admob</strong>) version <strong>20.4.0</strong> or higher, you can skip setting up the permission manually since the SDK automatically declares it</p>\n<p>More informations here:</p>\n<p><a href=\"https://developers.google.com/admob/android/quick-start\" rel=\"noreferrer\">https://developers.google.com/admob/android/quick-start</a></p>\n"},{"tags":[],"owner":{"account_id":9190126,"reputation":422,"user_id":6830970,"display_name":"Umeshkumar D."},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1647319949,"creation_date":1647319949,"answer_id":71477230,"question_id":71473553,"body_markdown":"Don&#39;t worry. All developer who uses Admob for advertisement received this warning. Just make sure you are using **Latest** Google Mobile Ads SDK(Admob) OR AdMob SDK version **higher or equal to 20.4.0** in your `build.gradle` file. In that case **SDK automatically manage it**.\r\n\r\nOtherwise **for older sdk below 20.4.0**, we need to manually mention below line in our AndroidManifest.xml\r\n\r\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;","title":"Action requested: Declare your Ad ID permission","body":"<p>Don't worry. All developer who uses Admob for advertisement received this warning. Just make sure you are using <strong>Latest</strong> Google Mobile Ads SDK(Admob) OR AdMob SDK version <strong>higher or equal to 20.4.0</strong> in your <code>build.gradle</code> file. In that case <strong>SDK automatically manage it</strong>.</p>\n<p>Otherwise <strong>for older sdk below 20.4.0</strong>, we need to manually mention below line in our AndroidManifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20178367,"reputation":560,"user_id":14799461,"display_name":"blue492"},"score":1,"creation_date":1647341788,"post_id":71478062,"comment_id":126341612,"body_markdown":"My app is developed using Flutter, I don&#39;t use any ad plugins like advertising_identifier. Should I add permission line in manifest file without changing AD_ID? What is AD_ID?\n&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;\nIs there any thing to do for my flutter app related to &quot;Action requested: Declare your Ad ID permission&quot;?","body":"My app is developed using Flutter, I don&#39;t use any ad plugins like advertising_identifier. Should I add permission line in manifest file without changing AD_ID? What is AD_ID? &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt; Is there any thing to do for my flutter app related to &quot;Action requested: Declare your Ad ID permission&quot;?"},{"owner":{"account_id":14800658,"reputation":1767,"user_id":10688995,"display_name":"Jai Techie"},"score":2,"creation_date":1647354387,"post_id":71478062,"comment_id":126346655,"body_markdown":"AD_ID(Advertising ID) is the unique ID to track the user&#39;s movements &amp; usages of applications. To access the application adID on iOS ASIdentifierManger.advertisingIdentifier and advertisingID on Android. As per the google play service doc, this AD_ID permission will be enforced starting from April 1st, 2022 for all devices. Android 12 users have the feature to delete their phones Advertising ID. So that&#39;s why android targeting level to 31 and more must need to provide permission to access the AD_ID. If your app doesn&#39;t contain ads not required to give.","body":"AD_ID(Advertising ID) is the unique ID to track the user&#39;s movements &amp; usages of applications. To access the application adID on iOS ASIdentifierManger.advertisingIdentifier and advertisingID on Android. As per the google play service doc, this AD_ID permission will be enforced starting from April 1st, 2022 for all devices. Android 12 users have the feature to delete their phones Advertising ID. So that&#39;s why android targeting level to 31 and more must need to provide permission to access the AD_ID. If your app doesn&#39;t contain ads not required to give."}],"tags":[],"owner":{"account_id":14800658,"reputation":1767,"user_id":10688995,"display_name":"Jai Techie"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647351472,"creation_date":1647327178,"answer_id":71478062,"question_id":71473553,"body_markdown":"I also received today&#39;s mail from the PlayStore team to all developers. Asking to declare AD_ID permission.\r\nSince we developed and released our application using `Flutter` with android targeting to API level 31. I&#39;m using the `advertising_identifier: ^0.1.1` plugin to get the advertising client ID. I haven&#39;t declared AD_ID permission in my manifest file.\r\n\r\nAdditionally, apps updating their target API level to 31 (Android 12) and using advertise identifier / advertise id client info fetch will need to declare a Google Play services normal permission in the manifest file as follows:\r\n\r\n`&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;`\r\n\r\nRefered,\r\n\r\nhttps://support.google.com/googleplay/android-developer/answer/6048248?hl=en\r\n","title":"Action requested: Declare your Ad ID permission","body":"<p>I also received today's mail from the PlayStore team to all developers. Asking to declare AD_ID permission.\nSince we developed and released our application using <code>Flutter</code> with android targeting to API level 31. I'm using the <code>advertising_identifier: ^0.1.1</code> plugin to get the advertising client ID. I haven't declared AD_ID permission in my manifest file.</p>\n<p>Additionally, apps updating their target API level to 31 (Android 12) and using advertise identifier / advertise id client info fetch will need to declare a Google Play services normal permission in the manifest file as follows:</p>\n<p><code>&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;</code></p>\n<p>Refered,</p>\n<p><a href=\"https://support.google.com/googleplay/android-developer/answer/6048248?hl=en\" rel=\"nofollow noreferrer\">https://support.google.com/googleplay/android-developer/answer/6048248?hl=en</a></p>\n"},{"comments":[{"owner":{"account_id":18214674,"reputation":604,"user_id":13256526,"display_name":"Tanvir Ahmed"},"score":9,"creation_date":1659013862,"post_id":73132765,"comment_id":129198432,"body_markdown":"It dosent&#39;s works for me :(","body":"It dosent&#39;s works for me :("},{"owner":{"account_id":2647431,"reputation":9890,"user_id":2289835,"accept_rate":38,"display_name":"Rumit Patel"},"score":3,"creation_date":1659069398,"post_id":73132765,"comment_id":129212226,"body_markdown":"@TanvirAhmed you can find your final permission in a merged manifest file at `app/build/intermediates/manifests/full/debug/AndroidManifest.xml`","body":"@TanvirAhmed you can find your final permission in a merged manifest file at <code>app&#47;build&#47;intermediates&#47;manifests&#47;full&#47;debug&#47;AndroidManifest&zwnj;&#8203;.xml</code>"},{"owner":{"account_id":5813983,"reputation":3022,"user_id":4584212,"accept_rate":40,"display_name":"Oliver Metz"},"score":0,"creation_date":1663198168,"post_id":73132765,"comment_id":130185459,"body_markdown":"Careful, for me the merged manifest did NOT show the permission.AD_ID. I DID however see it in the decompiled APK and also saw it disappear there when adding the &quot;remove&quot; tag. Hope google play will stop complaining now.","body":"Careful, for me the merged manifest did NOT show the permission.AD_ID. I DID however see it in the decompiled APK and also saw it disappear there when adding the &quot;remove&quot; tag. Hope google play will stop complaining now."},{"owner":{"account_id":8674841,"reputation":813,"user_id":9451058,"display_name":"L.Goyal"},"score":2,"creation_date":1664174293,"post_id":73132765,"comment_id":130402165,"body_markdown":"I am building the app in flutter. And this solution is not working for me.","body":"I am building the app in flutter. And this solution is not working for me."},{"owner":{"account_id":940363,"reputation":748,"user_id":968538,"accept_rate":45,"display_name":"Christian"},"score":1,"creation_date":1665849134,"post_id":73132765,"comment_id":130797200,"body_markdown":"It&#39; doesn&#39;t work for me too...","body":"It&#39; doesn&#39;t work for me too..."},{"owner":{"account_id":4037842,"reputation":1821,"user_id":3321579,"accept_rate":62,"display_name":"Scorb"},"score":0,"creation_date":1676406861,"post_id":73132765,"comment_id":133130060,"body_markdown":"Please elaborate on the statement &quot;Make sure you have xmlns:tools at the top of AndroidManifest.xml file&quot; What exactly does this mean?","body":"Please elaborate on the statement &quot;Make sure you have xmlns:tools at the top of AndroidManifest.xml file&quot; What exactly does this mean?"},{"owner":{"account_id":2647431,"reputation":9890,"user_id":2289835,"accept_rate":38,"display_name":"Rumit Patel"},"score":0,"creation_date":1676443539,"post_id":73132765,"comment_id":133135567,"body_markdown":"@Scorb, `tools:node=&quot;remove&quot;` removes `com.google.android.gms.permission.AD_ID` permission from all the manifest files of other libraries at the time of manifest merging. You can find more info from [`tools:node=&quot;remove&quot;` Node marker](https://developer.android.com/studio/build/manage-manifests#node_markers), [this SO answer](https://stackoverflow.com/a/5856787/2289835) and [this SO answer](https://stackoverflow.com/a/38202222/2289835).","body":"@Scorb, <code>tools:node=&quot;remove&quot;</code> removes <code>com.google.android.gms.permission.AD_ID</code> permission from all the manifest files of other libraries at the time of manifest merging. You can find more info from <a href=\"https://developer.android.com/studio/build/manage-manifests#node_markers\" rel=\"nofollow noreferrer\"><code>tools:node=&quot;remove&quot;</code> Node marker</a>, <a href=\"https://stackoverflow.com/a/5856787/2289835\">this SO answer</a> and <a href=\"https://stackoverflow.com/a/38202222/2289835\">this SO answer</a>."},{"owner":{"account_id":17097571,"reputation":153,"user_id":12372263,"display_name":"Genix"},"score":4,"creation_date":1677683898,"post_id":73132765,"comment_id":133386858,"body_markdown":"if sb wonders about `xmlns:tool`, this is needed: `xmlns:tools=&quot;http://schemas.android.com/tools&quot;`","body":"if sb wonders about <code>xmlns:tool</code>, this is needed: <code>xmlns:tools=&quot;http:&#47;&#47;schemas.android.com&#47;tools&quot;</code>"},{"owner":{"account_id":113018,"reputation":2241,"user_id":297891,"accept_rate":45,"display_name":"helloworld"},"score":0,"creation_date":1689665362,"post_id":73132765,"comment_id":135241881,"body_markdown":"I see the permission in merged manifest. How can I find what is adding it there as I  haven&#39;t used firebase or admob. I searched node_modules, but couldn&#39;t find there too.","body":"I see the permission in merged manifest. How can I find what is adding it there as I  haven&#39;t used firebase or admob. I searched node_modules, but couldn&#39;t find there too."},{"owner":{"account_id":2647431,"reputation":9890,"user_id":2289835,"accept_rate":38,"display_name":"Rumit Patel"},"score":0,"creation_date":1689667134,"post_id":73132765,"comment_id":135242227,"body_markdown":"@helloworld , It can be any of the libraries used in the project.","body":"@helloworld , It can be any of the libraries used in the project."},{"owner":{"account_id":7712323,"reputation":84,"user_id":5841225,"display_name":"Malte Peters"},"score":1,"creation_date":1689870315,"post_id":73132765,"comment_id":135277888,"body_markdown":"If you are still having problems while removing the permission from your app: I had to declare the remove tag from above inside both `manifest` and `application` to make all occurrences vanish. Yes, I placed the same line twice inside the `AndroidManifest.xml`.","body":"If you are still having problems while removing the permission from your app: I had to declare the remove tag from above inside both <code>manifest</code> and <code>application</code> to make all occurrences vanish. Yes, I placed the same line twice inside the <code>AndroidManifest.xml</code>."}],"tags":[],"owner":{"account_id":2647431,"reputation":9890,"user_id":2289835,"accept_rate":38,"display_name":"Rumit Patel"},"comment_count":11,"down_vote_count":1,"up_vote_count":160,"is_accepted":false,"score":159,"last_activity_date":1671431491,"creation_date":1658900605,"answer_id":73132765,"question_id":71473553,"body_markdown":"### Case 1: The app doesn&#39;t contain any Ads:\r\nYou can simply remove/ignore it by adding **`tools:node=&quot;remove&quot;`** in the `AndroidManifest.xml` file.\r\n\r\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; tools:node=&quot;remove&quot;/&gt;\r\n\r\nMake sure you have `xmlns:tools` at the top of `AndroidManifest.xml` file\r\n\r\nEven if another third-party library asks for this specific permission, the build will be forced not to merge it in your final Manifest file.\r\nYou can get more info [from this SO answer.][1]\r\n\r\n---\r\n\r\n### Case 2: The app contains Ads:\r\n\r\nAdd the following to `AndroidManifest.xml` before `&lt;/manifest&gt;`:\r\n\r\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;\r\n\r\n\r\nYou can get more information [from here.][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/39353246/2289835\r\n  [2]: https://support.google.com/googleplay/android-developer/answer/6048248","title":"Action requested: Declare your Ad ID permission","body":"<h3>Case 1: The app doesn't contain any Ads:</h3>\n<p>You can simply remove/ignore it by adding <strong><code>tools:node=&quot;remove&quot;</code></strong> in the <code>AndroidManifest.xml</code> file.</p>\n<pre><code>&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; tools:node=&quot;remove&quot;/&gt;\n</code></pre>\n<p>Make sure you have <code>xmlns:tools</code> at the top of <code>AndroidManifest.xml</code> file</p>\n<p>Even if another third-party library asks for this specific permission, the build will be forced not to merge it in your final Manifest file.\nYou can get more info <a href=\"https://stackoverflow.com/a/39353246/2289835\">from this SO answer.</a></p>\n<hr />\n<h3>Case 2: The app contains Ads:</h3>\n<p>Add the following to <code>AndroidManifest.xml</code> before <code>&lt;/manifest&gt;</code>:</p>\n<pre><code>&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;\n</code></pre>\n<p>You can get more information <a href=\"https://support.google.com/googleplay/android-developer/answer/6048248\" rel=\"noreferrer\">from here.</a></p>\n"},{"comments":[{"owner":{"account_id":20555685,"reputation":511,"user_id":16490481,"display_name":"Chlo&#233;"},"score":5,"creation_date":1659837691,"post_id":73170802,"comment_id":129388996,"body_markdown":"It does not work for me :&#39;( I still have the warning about com.google.android.gms.permission.AD_ID","body":"It does not work for me :&#39;( I still have the warning about com.google.android.gms.permission.AD_ID"},{"owner":{"account_id":19817127,"reputation":122,"user_id":14514516,"display_name":"Greg T"},"score":0,"creation_date":1661210526,"post_id":73170802,"comment_id":129713258,"body_markdown":"Your Source gives me this error &quot;Service Unavailable&quot;","body":"Your Source gives me this error &quot;Service Unavailable&quot;"},{"owner":{"account_id":1080702,"reputation":30785,"user_id":1077789,"accept_rate":70,"display_name":"Isuru"},"score":2,"creation_date":1686473388,"post_id":73170802,"comment_id":134800905,"body_markdown":"Adding `xmlns:tools=&quot;http://schemas.android.com/tools&quot;` is important. Without it, my app would fail to compile. Thanks!","body":"Adding <code>xmlns:tools=&quot;http:&#47;&#47;schemas.android.com&#47;tools&quot;</code> is important. Without it, my app would fail to compile. Thanks!"},{"owner":{"account_id":7712323,"reputation":84,"user_id":5841225,"display_name":"Malte Peters"},"score":1,"creation_date":1689870349,"post_id":73170802,"comment_id":135277894,"body_markdown":"If you are still having problems while removing the permission from your app: I had to declare the remove tag from above inside both `manifest` and `application` to make all occurrences vanish. Yes, I placed the same line twice inside the `AndroidManifest.xml`.","body":"If you are still having problems while removing the permission from your app: I had to declare the remove tag from above inside both <code>manifest</code> and <code>application</code> to make all occurrences vanish. Yes, I placed the same line twice inside the <code>AndroidManifest.xml</code>."},{"owner":{"account_id":3460640,"reputation":3374,"user_id":2897869,"accept_rate":52,"display_name":"Hossein Kurd"},"score":0,"creation_date":1694093253,"post_id":73170802,"comment_id":135847962,"body_markdown":"It doesn&#39;t work to me!","body":"It doesn&#39;t work to me!"}],"tags":[],"owner":{"account_id":2687501,"reputation":26359,"user_id":2321594,"display_name":"Aidin"},"comment_count":5,"down_vote_count":2,"up_vote_count":82,"is_accepted":false,"score":80,"last_activity_date":1664571819,"creation_date":1659127210,"answer_id":73170802,"question_id":71473553,"body_markdown":"### Case 1: Your App has Ads\r\nAdd the following to `AndroidManifest.xml` before `&lt;/manifest&gt;`:\r\n```xml\r\n&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;\r\n```\r\n\r\n### Case 2: Your App Doesn&#39;t have Ads\r\nAt the top of your `AndroidManifest.xml` make sure you have `xmlns:tools` on the `&lt;manifest ...`&gt;. (kudos to [this answer][1]) e.g.\r\n```xml\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\txmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.mycompany.myapp&quot;&gt;\r\n```\r\nThen, add the following at the bottom of the page, before `&lt;/manifest&gt;` tag:\r\n```xml\r\n\t&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; tools:node=&quot;remove&quot;/&gt;\r\n```\r\n\r\n### Source:\r\n* Google&#39;s Doc: https://developers.google.com/android/reference/com/google/android/gms/ads/identifier/AdvertisingIdClient.Info#public-methods\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/55363172/2321594","title":"Action requested: Declare your Ad ID permission","body":"<h3>Case 1: Your App has Ads</h3>\n<p>Add the following to <code>AndroidManifest.xml</code> before <code>&lt;/manifest&gt;</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;\n</code></pre>\n<h3>Case 2: Your App Doesn't have Ads</h3>\n<p>At the top of your <code>AndroidManifest.xml</code> make sure you have <code>xmlns:tools</code> on the <code>&lt;manifest ...</code>&gt;. (kudos to <a href=\"https://stackoverflow.com/a/55363172/2321594\">this answer</a>) e.g.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.mycompany.myapp&quot;&gt;\n</code></pre>\n<p>Then, add the following at the bottom of the page, before <code>&lt;/manifest&gt;</code> tag:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; tools:node=&quot;remove&quot;/&gt;\n</code></pre>\n<h3>Source:</h3>\n<ul>\n<li>Google's Doc: <a href=\"https://developers.google.com/android/reference/com/google/android/gms/ads/identifier/AdvertisingIdClient.Info#public-methods\" rel=\"noreferrer\">https://developers.google.com/android/reference/com/google/android/gms/ads/identifier/AdvertisingIdClient.Info#public-methods</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1468853,"reputation":3627,"user_id":1380933,"display_name":"Vadik Sirekanyan"},"comment_count":0,"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1672181144,"creation_date":1660768428,"answer_id":73394605,"question_id":71473553,"body_markdown":"If your app doesn&#39;t contain ads, make sure you complete the survey on [App content](https://play.google.com/console/app/app-content/summary) page (Policy &gt; App content) in Play Console.\r\n\r\nJust select the option: **No, my app does not contain ads**.\r\n\r\nIf you don&#39;t do that, you won&#39;t be able to upload new releases of your app to Google Play.\r\n\r\n[![Google Play Console Ad Selector Location][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wAXm7.png","title":"Action requested: Declare your Ad ID permission","body":"<p>If your app doesn't contain ads, make sure you complete the survey on <a href=\"https://play.google.com/console/app/app-content/summary\" rel=\"noreferrer\">App content</a> page (Policy &gt; App content) in Play Console.</p>\n<p>Just select the option: <strong>No, my app does not contain ads</strong>.</p>\n<p>If you don't do that, you won't be able to upload new releases of your app to Google Play.</p>\n<p><a href=\"https://i.stack.imgur.com/wAXm7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wAXm7.png\" alt=\"Google Play Console Ad Selector Location\" /></a></p>\n"},{"tags":[],"owner":{"account_id":18558592,"reputation":1060,"user_id":13523077,"display_name":"Abu Saeed"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1662786387,"creation_date":1662786387,"answer_id":73669418,"question_id":71473553,"body_markdown":"First of all,&lt;br&gt;\r\n`com.google.android.gms.permission.AD_ID` can be added by other third party SDK like \r\n\r\n - `Play Services-ads`\r\n - `firebase-analytics` etc&lt;br&gt;\r\n\r\nSo, if you haven&#39;t added `permission.AD_ID` manually, make sure it is not added by any other SDK by checking `merged manifest` file.&lt;br&gt;&lt;br&gt;\r\n`merged-manifest` path:&lt;br&gt;\r\n`project` &gt; `app` &gt; `build` &gt; `intermediate` &gt; `merged_manifest` &gt; `release` &gt; `AndroidManifest.xml` &lt;br&gt;&lt;br&gt;\r\nNow go to your `play console` &gt; `app content` &gt; `Adverstising ID` and \r\n\r\n - Select `NO` if your merged manifest doesn&#39;t contain `AD_ID`, else\r\n - Select `YES` and complete next option.\r\n","title":"Action requested: Declare your Ad ID permission","body":"<p>First of all,<br>\n<code>com.google.android.gms.permission.AD_ID</code> can be added by other third party SDK like</p>\n<ul>\n<li><code>Play Services-ads</code></li>\n<li><code>firebase-analytics</code> etc<br></li>\n</ul>\n<p>So, if you haven't added <code>permission.AD_ID</code> manually, make sure it is not added by any other SDK by checking <code>merged manifest</code> file.<br><br>\n<code>merged-manifest</code> path:<br>\n<code>project</code> &gt; <code>app</code> &gt; <code>build</code> &gt; <code>intermediate</code> &gt; <code>merged_manifest</code> &gt; <code>release</code> &gt; <code>AndroidManifest.xml</code> <br><br>\nNow go to your <code>play console</code> &gt; <code>app content</code> &gt; <code>Adverstising ID</code> and</p>\n<ul>\n<li>Select <code>NO</code> if your merged manifest doesn't contain <code>AD_ID</code>, else</li>\n<li>Select <code>YES</code> and complete next option.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":477251,"reputation":759,"user_id":888635,"accept_rate":71,"display_name":"5ulo"},"score":2,"creation_date":1666174098,"post_id":74047610,"comment_id":130871314,"body_markdown":"This actually is the right answer - the difference between Ads &amp; Advertising ID. Thanks for this hint - solved my problem.","body":"This actually is the right answer - the difference between Ads &amp; Advertising ID. Thanks for this hint - solved my problem."},{"owner":{"account_id":4997462,"reputation":10007,"user_id":4017501,"accept_rate":62,"display_name":"cutiko"},"score":2,"creation_date":1666201377,"post_id":74047610,"comment_id":130881926,"body_markdown":"It is confusing because why would the advertising ID would be included by default in Analytics? Seems like a misnomer to me, if not reading multiple documentations is hard to figure it out @5ulo","body":"It is confusing because why would the advertising ID would be included by default in Analytics? Seems like a misnomer to me, if not reading multiple documentations is hard to figure it out @5ulo"}],"tags":[],"owner":{"account_id":4997462,"reputation":10007,"user_id":4017501,"accept_rate":62,"display_name":"cutiko"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1665605943,"creation_date":1665605943,"answer_id":74047610,"question_id":71473553,"body_markdown":"There are two different forms:\r\n\r\n 1. Ads\r\n 2. Advertising ID\r\n\r\nInitially, I got stuck because I did not notice the other. So your app can be in any combination, for example, no ads, but yes, advertising ID.\r\n\r\nIn this [documentation][1] it is explained that Google services can include the advertising ID for other reasons that are not ads: Analytics.\r\n\r\n\r\n&gt; Google Play Services version 4.0 introduced new APIs and an ID for use by advertising and analytics providers. Terms for the use of this ID are below.\r\n\r\nAnd in this other [documentation][2], in the examples section is very clear that ads are understood as what is commonly understood as ads: banners, pop-ups, a tile in the middle of a list, etc.\r\n\r\nAnalyzing the merged manifest we can see that the library `\r\nplay-services-measurement-api` is adding the permission and is related to Analytics. The library manifest looks like this:\r\n\r\n\r\n```\r\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; /&gt;\r\n\r\n    &lt;application&gt;\r\n        &lt;service\r\n            android:name=&quot;com.google.firebase.components.ComponentDiscoveryService&quot;\r\n            android:exported=&quot;false&quot; &gt;\r\n            &lt;meta-data\r\n                android:name=&quot;com.google.firebase.components:com.google.firebase.analytics.connector.internal.AnalyticsConnectorRegistrar&quot;\r\n                android:value=&quot;com.google.firebase.components.ComponentRegistrar&quot; /&gt;\r\n        &lt;/service&gt;\r\n    &lt;/application&gt;\r\n```\r\n\r\nPlease notice that library is registering `analytics.connector.internal.AnalyticsConnectorRegistrar`.\r\n\r\nIn this case the Ads form must be mark with no but the Adverising ID form must be mark with yes and then the Analytics option.\r\n\r\nI have seen people recommending force the manifest to not merge the `permission.AD_ID` but that would break the Analytics.\r\n\r\n\r\n\r\n  [1]: https://support.google.com/googleplay/android-developer/answer/9857753\r\n  [2]: https://support.google.com/googleplay/android-developer/answer/9859455?visit_id=638011990045978863-3874455370&amp;rd=1#ads","title":"Action requested: Declare your Ad ID permission","body":"<p>There are two different forms:</p>\n<ol>\n<li>Ads</li>\n<li>Advertising ID</li>\n</ol>\n<p>Initially, I got stuck because I did not notice the other. So your app can be in any combination, for example, no ads, but yes, advertising ID.</p>\n<p>In this <a href=\"https://support.google.com/googleplay/android-developer/answer/9857753\" rel=\"noreferrer\">documentation</a> it is explained that Google services can include the advertising ID for other reasons that are not ads: Analytics.</p>\n<blockquote>\n<p>Google Play Services version 4.0 introduced new APIs and an ID for use by advertising and analytics providers. Terms for the use of this ID are below.</p>\n</blockquote>\n<p>And in this other <a href=\"https://support.google.com/googleplay/android-developer/answer/9859455?visit_id=638011990045978863-3874455370&amp;rd=1#ads\" rel=\"noreferrer\">documentation</a>, in the examples section is very clear that ads are understood as what is commonly understood as ads: banners, pop-ups, a tile in the middle of a list, etc.</p>\n<p>Analyzing the merged manifest we can see that the library <code> play-services-measurement-api</code> is adding the permission and is related to Analytics. The library manifest looks like this:</p>\n<pre><code>    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; /&gt;\n\n    &lt;application&gt;\n        &lt;service\n            android:name=&quot;com.google.firebase.components.ComponentDiscoveryService&quot;\n            android:exported=&quot;false&quot; &gt;\n            &lt;meta-data\n                android:name=&quot;com.google.firebase.components:com.google.firebase.analytics.connector.internal.AnalyticsConnectorRegistrar&quot;\n                android:value=&quot;com.google.firebase.components.ComponentRegistrar&quot; /&gt;\n        &lt;/service&gt;\n    &lt;/application&gt;\n</code></pre>\n<p>Please notice that library is registering <code>analytics.connector.internal.AnalyticsConnectorRegistrar</code>.</p>\n<p>In this case the Ads form must be mark with no but the Adverising ID form must be mark with yes and then the Analytics option.</p>\n<p>I have seen people recommending force the manifest to not merge the <code>permission.AD_ID</code> but that would break the Analytics.</p>\n"},{"comments":[{"owner":{"account_id":953341,"reputation":20069,"user_id":1254536,"accept_rate":56,"display_name":"LOG_TAG"},"score":0,"creation_date":1668774487,"post_id":74246551,"comment_id":131493851,"body_markdown":"how to visit this page ? can you please share it?","body":"how to visit this page ? can you please share it?"},{"owner":{"account_id":10494317,"reputation":2364,"user_id":7735112,"accept_rate":77,"display_name":"Cyber"},"score":0,"creation_date":1672060012,"post_id":74246551,"comment_id":132214286,"body_markdown":"Actually, you should get an email with a link.","body":"Actually, you should get an email with a link."},{"owner":{"account_id":4936607,"reputation":2115,"user_id":3974530,"accept_rate":25,"display_name":"InsaneCat"},"score":5,"creation_date":1672213343,"post_id":74246551,"comment_id":132242306,"body_markdown":"Working for me Thanks. +1\n**App Content --&gt; Advertising ID --&gt; Yes --&gt; analytics**\n\nFacing when app targetSdk 33","body":"Working for me Thanks. +1 <b>App Content --&gt; Advertising ID --&gt; Yes --&gt; analytics</b>  Facing when app targetSdk 33"},{"owner":{"account_id":6091525,"reputation":95,"user_id":4753641,"display_name":"Jacky Teaw"},"score":0,"creation_date":1698423085,"post_id":74246551,"comment_id":136408279,"body_markdown":"This work for me... I m doing target sdk 33 (Android 13) requirement from google. \n\nWhen i upload to google play console, it suddenly got the error that require me to declare AD_ID permission at AndroidManifest, but I not even use it in my app...\n\nAfter come here and found the solution, so it could be the Firebase Analytics..","body":"This work for me... I m doing target sdk 33 (Android 13) requirement from google.   When i upload to google play console, it suddenly got the error that require me to declare AD_ID permission at AndroidManifest, but I not even use it in my app...  After come here and found the solution, so it could be the Firebase Analytics.."},{"owner":{"account_id":1385989,"reputation":534,"user_id":2377361,"accept_rate":43,"display_name":"poletn23"},"score":0,"creation_date":1700660130,"post_id":74246551,"comment_id":136681652,"body_markdown":"This sounds as good solution. But how does it impact users? What&#39;s changed to users?","body":"This sounds as good solution. But how does it impact users? What&#39;s changed to users?"}],"tags":[],"owner":{"account_id":10494317,"reputation":2364,"user_id":7735112,"accept_rate":77,"display_name":"Cyber"},"comment_count":5,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1667057439,"creation_date":1667057439,"answer_id":74246551,"question_id":71473553,"body_markdown":"In my case, I used `Firebase Analytics` only for crash reports etc. \r\n\r\n**You can set your app to use advertising ID.** \r\n\r\n[![enter image description here][1]][1]\r\n\r\n**And use Analytics only.**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R4qM3.png\r\n  [2]: https://i.stack.imgur.com/ji29h.png","title":"Action requested: Declare your Ad ID permission","body":"<p>In my case, I used <code>Firebase Analytics</code> only for crash reports etc.</p>\n<p><strong>You can set your app to use advertising ID.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/R4qM3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/R4qM3.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>And use Analytics only.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/ji29h.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ji29h.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16801616,"reputation":544,"user_id":12936324,"display_name":"Jayesh Dankhara"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1669132286,"creation_date":1669132286,"answer_id":74535439,"question_id":71473553,"body_markdown":"when you set `targetSdkVersion 33` you must need to add the below line in the manifest file\r\n\r\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; tools:node=&quot;remove&quot;/&gt;\r\n\r\nif you are not set this, show a warning on the play console when your is in production.","title":"Action requested: Declare your Ad ID permission","body":"<p>when you set <code>targetSdkVersion 33</code> you must need to add the below line in the manifest file</p>\n<pre><code>&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; tools:node=&quot;remove&quot;/&gt;\n</code></pre>\n<p>if you are not set this, show a warning on the play console when your is in production.</p>\n"},{"tags":[],"owner":{"account_id":4730340,"reputation":6453,"user_id":3826175,"display_name":"mikep"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697452827,"creation_date":1697452827,"answer_id":77301278,"question_id":71473553,"body_markdown":"In case this is caused by for example firebase analytics which uses Advertising ID do not use `&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; tools:node=&quot;remove&quot;/&gt;` as shown in many other answers because analytics may not work correctly. Rather update declaration in Play Store Console that your app uses Advertising ID and select Analytics as reason. This will not add &quot;App contains add&quot; sentence for your app in Play Store.","title":"Action requested: Declare your Ad ID permission","body":"<p>In case this is caused by for example firebase analytics which uses Advertising ID do not use <code>&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; tools:node=&quot;remove&quot;/&gt;</code> as shown in many other answers because analytics may not work correctly. Rather update declaration in Play Store Console that your app uses Advertising ID and select Analytics as reason. This will not add &quot;App contains add&quot; sentence for your app in Play Store.</p>\n"}],"owner":{"account_id":23288910,"reputation":1381,"user_id":17371284,"display_name":"Abdullah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134885,"favorite_count":0,"down_vote_count":2,"up_vote_count":134,"accepted_answer_id":71474159,"answer_count":12,"score":132,"last_activity_date":1697452827,"creation_date":1647287915,"question_id":71473553,"body_markdown":"Today i have got this email:\r\n\r\n&gt; Last July, we announced Advertising policy changes to help bolster\r\n&gt; security and privacy. We added new restrictions on identifiers used by\r\n&gt; apps that target children. When users choose to delete their\r\n&gt; advertising ID in order to opt out of personalization advertising,\r\n&gt; developers will receive a string of zeros instead of the identifier if\r\n&gt; they attempt to access the identifier. This behavior will extend to\r\n&gt; phones, tablets, and Android TV starting April 1, 2022. We also\r\n&gt; announced that you need to declare an AD_ID permission when you update\r\n&gt; your app targeting API level to 31 (Android 12). Today, we are sharing\r\n&gt; that we will give developers more time to ease the transition. We will\r\n&gt; require this permission declaration when your apps are able to target\r\n&gt; Android 13 instead of starting with Android 12.\r\n&gt; \r\n&gt; Action Items If you use an advertising ID, you must declare the AD_ID\r\n&gt; Permission when your app targets Android 13 or above. Apps that don’t\r\n&gt; declare the permission will get a string of zeros. Note: You’ll be\r\n&gt; able to target Android 13 later this year. If your app uses an SDK\r\n&gt; that has declared the Ad ID permission, it will acquire the permission\r\n&gt; declaration through manifest merge. If your app’s target audience\r\n&gt; includes children, you must not transmit Android Advertising ID (AAID)\r\n&gt; from children or users of unknown age.\r\n\r\nMy app is not using the Advertising ID. Should i declare the `AD_ID` Permission in Manifest or not?","title":"Action requested: Declare your Ad ID permission","body":"<p>Today i have got this email:</p>\n<blockquote>\n<p>Last July, we announced Advertising policy changes to help bolster\nsecurity and privacy. We added new restrictions on identifiers used by\napps that target children. When users choose to delete their\nadvertising ID in order to opt out of personalization advertising,\ndevelopers will receive a string of zeros instead of the identifier if\nthey attempt to access the identifier. This behavior will extend to\nphones, tablets, and Android TV starting April 1, 2022. We also\nannounced that you need to declare an AD_ID permission when you update\nyour app targeting API level to 31 (Android 12). Today, we are sharing\nthat we will give developers more time to ease the transition. We will\nrequire this permission declaration when your apps are able to target\nAndroid 13 instead of starting with Android 12.</p>\n<p>Action Items If you use an advertising ID, you must declare the AD_ID\nPermission when your app targets Android 13 or above. Apps that don’t\ndeclare the permission will get a string of zeros. Note: You’ll be\nable to target Android 13 later this year. If your app uses an SDK\nthat has declared the Ad ID permission, it will acquire the permission\ndeclaration through manifest merge. If your app’s target audience\nincludes children, you must not transmit Android Advertising ID (AAID)\nfrom children or users of unknown age.</p>\n</blockquote>\n<p>My app is not using the Advertising ID. Should i declare the <code>AD_ID</code> Permission in Manifest or not?</p>\n"},{"tags":["java","webdriver","cucumber","bdd"],"answers":[{"tags":[],"owner":{"account_id":2350161,"reputation":592,"user_id":2059251,"accept_rate":75,"display_name":"Tyler MacMillan"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1440794949,"creation_date":1440794949,"answer_id":32279556,"question_id":32245825,"body_markdown":"When using a Scenario Outline, you need to provide an &quot;Examples&quot; section. In this case, it looks like you don&#39;t need a scenario outline at all, so:\r\n\r\n    Feature: Search India on BBC website and verify search.\r\n\r\n      @Search\r\n      Scenario: Search India on BBC website and verify it.\r\n        Given I open the firefox browser\r\n        And I navigating to BBc website\r\n        Then I click at search textbox\r\n        And I enter &quot;India&quot; in search textbox\r\n        And I click at Search button\r\n        Then I should be taken to search page\r\n        And I verify India on search page\r\n\r\nIf you do need a scenario outline, you want something like:\r\n\r\n    Feature: Search India on BBC website and verify search.\r\n\r\n      @Search\r\n      Scenario Outline: Search India on BBC website and verify it.\r\n        Given I open the firefox browser\r\n        And I navigating to BBc website\r\n        Then I click at search textbox\r\n        And I enter &quot;&lt;country&gt;&quot; in search textbox\r\n        And I click at Search button\r\n        Then I should be taken to search page\r\n        And I verify &lt;country&gt; on search page\r\n\r\n      Examples:\r\n        | country |\r\n        | India   |\r\n        | China   |","title":"How to resolve runtime.cucumberexception for error parsing feature file","body":"<p>When using a Scenario Outline, you need to provide an \"Examples\" section. In this case, it looks like you don't need a scenario outline at all, so:</p>\n\n<pre><code>Feature: Search India on BBC website and verify search.\n\n  @Search\n  Scenario: Search India on BBC website and verify it.\n    Given I open the firefox browser\n    And I navigating to BBc website\n    Then I click at search textbox\n    And I enter \"India\" in search textbox\n    And I click at Search button\n    Then I should be taken to search page\n    And I verify India on search page\n</code></pre>\n\n<p>If you do need a scenario outline, you want something like:</p>\n\n<pre><code>Feature: Search India on BBC website and verify search.\n\n  @Search\n  Scenario Outline: Search India on BBC website and verify it.\n    Given I open the firefox browser\n    And I navigating to BBc website\n    Then I click at search textbox\n    And I enter \"&lt;country&gt;\" in search textbox\n    And I click at Search button\n    Then I should be taken to search page\n    And I verify &lt;country&gt; on search page\n\n  Examples:\n    | country |\n    | India   |\n    | China   |\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1604783,"reputation":1,"user_id":1485084,"display_name":"user1485084"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544100657,"creation_date":1544100657,"answer_id":53651887,"question_id":32245825,"body_markdown":"This was really useful.. I had the same error and after removing the space between the text Scenario and Colon. it would be useful if IDEshows the error to correct it ??\r\nScenario:\r\nand no colon after Given Just to let you know.\r\nScenario Outline: Login with correct username and password\r\n    Given I navigate to Login Page\r\n    And  I enter &lt; username &gt; and &lt; password &gt;\r\n    And  I click login button\r\n    Then I should see the userform Page\r\n\r\n\r\n    Examples:\r\n      | username                   | password  |\r\n   \r\n      | apple                      | passapple |\r\n      | ball                       | passball  |\r\n      | cat                        | passcat   |","title":"How to resolve runtime.cucumberexception for error parsing feature file","body":"<p>This was really useful.. I had the same error and after removing the space between the text Scenario and Colon. it would be useful if IDEshows the error to correct it ??\nScenario:\nand no colon after Given Just to let you know.\nScenario Outline: Login with correct username and password\n    Given I navigate to Login Page\n    And  I enter &lt; username > and &lt; password >\n    And  I click login button\n    Then I should see the userform Page</p>\n\n<pre><code>Examples:\n  | username                   | password  |\n\n  | apple                      | passapple |\n  | ball                       | passball  |\n  | cat                        | passcat   |\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4612886,"reputation":565,"user_id":3740432,"accept_rate":0,"display_name":"Afsar Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551546279,"creation_date":1551546279,"answer_id":54960904,"question_id":32245825,"body_markdown":"I had similar issue .After removing the space between (:) semi colon and Feature, Scenario ,Scenario-outline etc.. My error resolved .\r\n\r\ne.g :\r\n\r\n    Feature: Call all APIs Incidents, Services\r\n         Scenario: Create POST call and verify data \r\n             Given user_has_a_list_of_products\r\n             When we_can_get_a_list_of_product_details\r\nand ,\r\n    \r\n        Feature: Call all APIs Incidents, Services\r\n         Scenario Outline: Create POST call and verify data \r\n             Given user_has_a_list_of_products &lt;usertype&gt;\r\n             When we_can_get_a_list_of_product_details\r\n          \r\n            Examples:\r\n                | usertype     |\r\n                | Domestic     |\r\n","title":"How to resolve runtime.cucumberexception for error parsing feature file","body":"<p>I had similar issue .After removing the space between (:) semi colon and Feature, Scenario ,Scenario-outline etc.. My error resolved .</p>\n\n<p>e.g :</p>\n\n<pre><code>Feature: Call all APIs Incidents, Services\n     Scenario: Create POST call and verify data \n         Given user_has_a_list_of_products\n         When we_can_get_a_list_of_product_details\n</code></pre>\n\n<p>and ,</p>\n\n<pre><code>    Feature: Call all APIs Incidents, Services\n     Scenario Outline: Create POST call and verify data \n         Given user_has_a_list_of_products &lt;usertype&gt;\n         When we_can_get_a_list_of_product_details\n\n        Examples:\n            | usertype     |\n            | Domestic     |\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2730143,"reputation":1148,"user_id":2354110,"accept_rate":33,"display_name":"skb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568381671,"creation_date":1568381671,"answer_id":57924648,"question_id":32245825,"body_markdown":"Consider the below scenario - \r\n\r\n`Feature: Booking Confirmation Page\r\n Scenario: Verify the Page components\r\n    Given that a customer is on the &quot;BookingConfirmation&quot; page\r\n    When the customer views the Page\r\n    Then they should be able to view the following :\r\n      | Header | BookingId | Passengers name | Date of travel | Time of travel | \r\n      |Bus details | Total amount paid |Destination name|Destination Image|\r\n      |Time to reach destination | Footer|`\r\n\r\n\r\nIf you specify the values to verify in 2nd line as shown it will give a parse error. When you copy the above and paste in the editor it will not show you any error. But when you run it it will give the parse error. So we need to specify the value to verify in a single line even if it doesn&#39;t fit in the editor\r\n\r\nSo the scenario will be as below\r\n\r\n`Scenario: Verify the Page components\r\n    Given that a customer is on the &quot;BookingConfirmation&quot; page\r\n    When the customer views the Page\r\n    Then they should be able to view the following :\r\n      | Header | BookingId | Passengers name | Date of travel | Time of travel | Bus details | Total amount paid |Destination name|Destination Image|Time to reach destination |Footer|`\r\n","title":"How to resolve runtime.cucumberexception for error parsing feature file","body":"<p>Consider the below scenario - </p>\n\n<p><code>Feature: Booking Confirmation Page\n Scenario: Verify the Page components\n    Given that a customer is on the \"BookingConfirmation\" page\n    When the customer views the Page\n    Then they should be able to view the following :\n      | Header | BookingId | Passengers name | Date of travel | Time of travel | \n      |Bus details | Total amount paid |Destination name|Destination Image|\n      |Time to reach destination | Footer|</code></p>\n\n<p>If you specify the values to verify in 2nd line as shown it will give a parse error. When you copy the above and paste in the editor it will not show you any error. But when you run it it will give the parse error. So we need to specify the value to verify in a single line even if it doesn't fit in the editor</p>\n\n<p>So the scenario will be as below</p>\n\n<p><code>Scenario: Verify the Page components\n    Given that a customer is on the \"BookingConfirmation\" page\n    When the customer views the Page\n    Then they should be able to view the following :\n      | Header | BookingId | Passengers name | Date of travel | Time of travel | Bus details | Total amount paid |Destination name|Destination Image|Time to reach destination |Footer|</code></p>\n"},{"tags":[],"owner":{"account_id":13694686,"reputation":1029,"user_id":9881679,"display_name":"Adrian Jimenez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579915637,"creation_date":1579915637,"answer_id":59905608,"question_id":32245825,"body_markdown":"make sure you only have word Feature once","title":"How to resolve runtime.cucumberexception for error parsing feature file","body":"<p>make sure you only have word Feature once</p>\n"},{"tags":[],"owner":{"account_id":17205166,"reputation":9,"user_id":13049360,"display_name":"Arun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610447423,"creation_date":1610447423,"answer_id":65682129,"question_id":32245825,"body_markdown":"I also faced this issue. In my case, I missed one pipe &#39;|&#39; in one of my data table. after adding it, issue resolved. data table (or sometime in Example)\r\n\r\n    Issue:\r\n          | feed.title            |\r\n          | feed.updated          \r\n          | feed.author.name      |\r\n    \r\n    Corrected(added pipe in 2nd data) as:\r\n          | feed.title            |\r\n          | feed.updated          |\r\n          | feed.author.name      |","title":"How to resolve runtime.cucumberexception for error parsing feature file","body":"<p>I also faced this issue. In my case, I missed one pipe '|' in one of my data table. after adding it, issue resolved. data table (or sometime in Example)</p>\n<pre><code>Issue:\n      | feed.title            |\n      | feed.updated          \n      | feed.author.name      |\n\nCorrected(added pipe in 2nd data) as:\n      | feed.title            |\n      | feed.updated          |\n      | feed.author.name      |\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22495757,"reputation":1,"user_id":16692766,"display_name":"Fadly Mahendra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629251420,"creation_date":1629251420,"answer_id":68825690,"question_id":32245825,"body_markdown":"I got same error message, then I realized that someone add comment to the gherkin step using `//`. It should be using `#`","title":"How to resolve runtime.cucumberexception for error parsing feature file","body":"<p>I got same error message, then I realized that someone add comment to the gherkin step using <code>//</code>. It should be using <code>#</code></p>\n"},{"tags":[],"owner":{"account_id":23678431,"reputation":78,"user_id":17704327,"display_name":"Muhammad Farooq"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640245794,"creation_date":1640240996,"answer_id":70458443,"question_id":32245825,"body_markdown":"\r\nThe issue is that you used &quot;Scenario Outline&quot; instead of &quot;Scenario&quot;. So you just need to remove &quot;Outline&quot; than you are good to go. \r\n\r\n    @Search    \r\n    Scenario: Search India on BBC website and verify it\r\n    Given I open the firefox browser\r\n    And I navigating to BBc website\r\n    Then I click at search textbox\r\n    And I enter &quot;India&quot; in search textbox\r\n    And I click at Search button\r\n    Then I should be taken to search page\r\n    And I verify &quot;India&quot; on search page\r\n\r\nBut if you want to execute the same scenario against multiple input than you choose the right thing i.e. &quot;Scenario Outline:&quot; just need to add Examples there like: \r\n\r\n    @Search\r\n      Scenario Outline: Search India on BBC website and verify it.\r\n        Given I open the firefox browser\r\n        And I navigating to BBc website\r\n        Then I click at search textbox\r\n        And I enter &lt;country&gt; in search textbox\r\n        And I click at Search button\r\n        Then I should be taken to search page\r\n        And I verify &lt;country&gt; on search page\r\n        Examples:\r\n        | country |\r\n        | &quot;India&quot; |\r\n        | &quot;UK&quot;    |\r\n\r\n","title":"How to resolve runtime.cucumberexception for error parsing feature file","body":"<p>The issue is that you used &quot;Scenario Outline&quot; instead of &quot;Scenario&quot;. So you just need to remove &quot;Outline&quot; than you are good to go.</p>\n<pre><code>@Search    \nScenario: Search India on BBC website and verify it\nGiven I open the firefox browser\nAnd I navigating to BBc website\nThen I click at search textbox\nAnd I enter &quot;India&quot; in search textbox\nAnd I click at Search button\nThen I should be taken to search page\nAnd I verify &quot;India&quot; on search page\n</code></pre>\n<p>But if you want to execute the same scenario against multiple input than you choose the right thing i.e. &quot;Scenario Outline:&quot; just need to add Examples there like:</p>\n<pre><code>@Search\n  Scenario Outline: Search India on BBC website and verify it.\n    Given I open the firefox browser\n    And I navigating to BBc website\n    Then I click at search textbox\n    And I enter &lt;country&gt; in search textbox\n    And I click at Search button\n    Then I should be taken to search page\n    And I verify &lt;country&gt; on search page\n    Examples:\n    | country |\n    | &quot;India&quot; |\n    | &quot;UK&quot;    |\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19059063,"reputation":17,"user_id":13915555,"display_name":"Bhupender singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697452804,"creation_date":1697452804,"answer_id":77301276,"question_id":32245825,"body_markdown":"Resolved this issue after added the missing pipe symbol.","title":"How to resolve runtime.cucumberexception for error parsing feature file","body":"<p>Resolved this issue after added the missing pipe symbol.</p>\n"}],"owner":{"account_id":3471902,"reputation":257,"user_id":2905999,"accept_rate":73,"display_name":"SKumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70553,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":32279556,"answer_count":9,"score":3,"last_activity_date":1697452804,"creation_date":1440668304,"question_id":32245825,"body_markdown":"I just created simple java file which is used to execute the feature file through cucumber, but Its failed, and throws following run time exception\r\n\r\n    Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: Error parsing feature file C:/Users/XXX/XXXX/src/test/java/RunTest.java\r\n    \tat cucumber.runtime.FeatureBuilder.parse(FeatureBuilder.java:133)\r\n    \tat cucumber.runtime.model.CucumberFeature.loadFromFeaturePath(CucumberFeature.java:102)\r\n    \tat cucumber.runtime.model.CucumberFeature.load(CucumberFeature.java:54)\r\n    \tat cucumber.runtime.model.CucumberFeature.load(CucumberFeature.java:34)\r\n    \tat cucumber.runtime.RuntimeOptions.cucumberFeatures(RuntimeOptions.java:201)\r\n    \tat cucumber.runtime.Runtime.run(Runtime.java:109)\r\n    \tat cucumber.api.cli.Main.run(Main.java:36)\r\n    \tat cucumber.api.cli.Main.main(Main.java:18)\r\n    Caused by: gherkin.lexer.LexingError: Lexing error on line 1: &#39;package test.java;\r\n    \r\n    import cucumber.api.CucumberOptions;\r\n    import cucumber.api.testng.AbstractTestNGCucumberTests;\r\n    \r\n    \t@CucumberOptions(features=&quot;src/test/resources/&quot;)\r\n    \tpublic class RunTest extends AbstractTestNGCucumberTests {\r\n    \t}\r\n\r\nFeature file:\r\n\r\n    Feature: Search India on BBC website and verify search.\r\n    \r\n    @Search\r\n      Scenario Outline: Search India on BBC website and verify it.\r\n        Given I open the firefox browser\r\n        And I navigating to BBc website\r\n        Then I click at search textbox\r\n        And I enter &quot;India&quot; in search textbox\r\n        And I click at Search button\r\n        Then I should be taken to search page\r\n        And I verify India on search page\r\n\r\n\r\nCan somebody tell me how to resolve this issue?\r\n","title":"How to resolve runtime.cucumberexception for error parsing feature file","body":"<p>I just created simple java file which is used to execute the feature file through cucumber, but Its failed, and throws following run time exception</p>\n\n<pre><code>Exception in thread \"main\" cucumber.runtime.CucumberException: Error parsing feature file C:/Users/XXX/XXXX/src/test/java/RunTest.java\n    at cucumber.runtime.FeatureBuilder.parse(FeatureBuilder.java:133)\n    at cucumber.runtime.model.CucumberFeature.loadFromFeaturePath(CucumberFeature.java:102)\n    at cucumber.runtime.model.CucumberFeature.load(CucumberFeature.java:54)\n    at cucumber.runtime.model.CucumberFeature.load(CucumberFeature.java:34)\n    at cucumber.runtime.RuntimeOptions.cucumberFeatures(RuntimeOptions.java:201)\n    at cucumber.runtime.Runtime.run(Runtime.java:109)\n    at cucumber.api.cli.Main.run(Main.java:36)\n    at cucumber.api.cli.Main.main(Main.java:18)\nCaused by: gherkin.lexer.LexingError: Lexing error on line 1: 'package test.java;\n\nimport cucumber.api.CucumberOptions;\nimport cucumber.api.testng.AbstractTestNGCucumberTests;\n\n    @CucumberOptions(features=\"src/test/resources/\")\n    public class RunTest extends AbstractTestNGCucumberTests {\n    }\n</code></pre>\n\n<p>Feature file:</p>\n\n<pre><code>Feature: Search India on BBC website and verify search.\n\n@Search\n  Scenario Outline: Search India on BBC website and verify it.\n    Given I open the firefox browser\n    And I navigating to BBc website\n    Then I click at search textbox\n    And I enter \"India\" in search textbox\n    And I click at Search button\n    Then I should be taken to search page\n    And I verify India on search page\n</code></pre>\n\n<p>Can somebody tell me how to resolve this issue?</p>\n"},{"tags":["java","spring","activemq"],"comments":[{"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"score":0,"creation_date":1359414780,"post_id":14572344,"comment_id":20336966,"body_markdown":"You need to provide more information.  What does your config file look like etc.","body":"You need to provide more information.  What does your config file look like etc."},{"owner":{"account_id":8072204,"reputation":4156,"user_id":6084589,"display_name":"Matt Pavlovich"},"score":0,"creation_date":1697550921,"post_id":14572344,"comment_id":136292157,"body_markdown":"The problem can be an existing process using the port, or a local firewall blocking access to the port. You need to first confirm that the port is listening on the server side, and that it responds to client-side connections.","body":"The problem can be an existing process using the port, or a local firewall blocking access to the port. You need to first confirm that the port is listening on the server side, and that it responds to client-side connections."}],"answers":[{"comments":[{"owner":{"account_id":1306595,"reputation":385,"user_id":1255483,"accept_rate":78,"display_name":"Coding Ninja"},"score":1,"creation_date":1359412055,"post_id":14572381,"comment_id":20335924,"body_markdown":"i tried with multiple port numbers like 23689, 64590..\nit gives the same error","body":"i tried with multiple port numbers like 23689, 64590.. it gives the same error"}],"tags":[],"owner":{"account_id":1702915,"reputation":11261,"user_id":1562558,"accept_rate":60,"display_name":"Festus Tamakloe"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359411936,"creation_date":1359411936,"answer_id":14572381,"question_id":14572344,"body_markdown":"The port 5000 is already in use by another process or service","title":"ActiveMQ, Broker Url: how to run on port number other than default 61616","body":"<p>The port 5000 is already in use by another process or service</p>\n"}],"owner":{"account_id":1306595,"reputation":385,"user_id":1255483,"accept_rate":78,"display_name":"Coding Ninja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1720,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697452780,"creation_date":1359411821,"question_id":14572344,"body_markdown":"I am trying to run on the port number 5000, tcp://localhost:5000\r\n\r\nit shows the following error\r\n\r\n&gt; WARNING: Could not refresh JMS Connection for destination\r\n&gt; &#39;queue://jmsExample&#39; - retrying in 5000 ms. Cause: Could not connect\r\n&gt; to broker URL: tcp://localhost:5000. Reason:\r\n&gt; java.net.ConnectException: Connection refused: connect\r\n\r\n\r\nAny Help please","title":"ActiveMQ, Broker Url: how to run on port number other than default 61616","body":"<p>I am trying to run on the port number 5000, tcp://localhost:5000</p>\n<p>it shows the following error</p>\n<blockquote>\n<p>WARNING: Could not refresh JMS Connection for destination\n'queue://jmsExample' - retrying in 5000 ms. Cause: Could not connect\nto broker URL: tcp://localhost:5000. Reason:\njava.net.ConnectException: Connection refused: connect</p>\n</blockquote>\n<p>Any Help please</p>\n"},{"tags":["java","icu","transliteration"],"answers":[{"comments":[{"owner":{"account_id":102242,"reputation":819,"user_id":274559,"accept_rate":75,"display_name":"ivar"},"score":0,"creation_date":1303998366,"post_id":5819408,"comment_id":6678311,"body_markdown":"Thanks for answering. Its estonian locations is russian.","body":"Thanks for answering. Its estonian locations is russian."}],"tags":[],"owner":{"account_id":11055,"reputation":18190,"user_id":1163802,"accept_rate":83,"display_name":"Vladimir Dyuzhev"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1303997437,"creation_date":1303997437,"answer_id":5819408,"question_id":5818912,"body_markdown":"Have no idea about icu4j, but [in the Unicode table Cyrillic takes][1] only a small range. Instead of relaying onto third-party libraries with unclear workings, I&#39;d define a transliteration sequence for each Cyrillic symbol and did the translation myself.\r\n\r\nP.S. What language word &quot;viljandimaa&quot; comes from? Doesn&#39;t sound like Cyrillic to me...\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Cyrillic_%28Unicode_block%29","title":"icu4j cyrillic to latin","body":"<p>Have no idea about icu4j, but <a href=\"http://en.wikipedia.org/wiki/Cyrillic_%28Unicode_block%29\" rel=\"nofollow\">in the Unicode table Cyrillic takes</a> only a small range. Instead of relaying onto third-party libraries with unclear workings, I'd define a transliteration sequence for each Cyrillic symbol and did the translation myself.</p>\n\n<p>P.S. What language word \"viljandimaa\" comes from? Doesn't sound like Cyrillic to me...</p>\n"},{"comments":[{"owner":{"account_id":260010,"reputation":9493,"user_id":543315,"accept_rate":61,"display_name":"Nic Cottrell"},"score":0,"creation_date":1333611989,"post_id":5819725,"comment_id":12820138,"body_markdown":"Thanks McDowell - could you give a really quick example?","body":"Thanks McDowell - could you give a really quick example?"},{"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":0,"creation_date":1333823783,"post_id":5819725,"comment_id":12870019,"body_markdown":"@Nicholas Tolley Cottrell - Example added.","body":"@Nicholas Tolley Cottrell - Example added."},{"owner":{"account_id":260010,"reputation":9493,"user_id":543315,"accept_rate":61,"display_name":"Nic Cottrell"},"score":0,"creation_date":1334655637,"post_id":5819725,"comment_id":13078102,"body_markdown":"Thanks again McDowell - I ended up using &quot;Any-Latin; NFD&quot; since I wanted to preserve spaces.","body":"Thanks again McDowell - I ended up using &quot;Any-Latin; NFD&quot; since I wanted to preserve spaces."},{"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":1,"creation_date":1334687132,"post_id":5819725,"comment_id":13091613,"body_markdown":"@NicholasTolleyCottrell - That will leave the diacritics intact (accents on Latin letters.) The point of the NFD transform is to separate accents and letters into two consecutive code points. If you want to preserve spaces, modify the regular expression in the `Remove` transformation.","body":"@NicholasTolleyCottrell - That will leave the diacritics intact (accents on Latin letters.) The point of the NFD transform is to separate accents and letters into two consecutive code points. If you want to preserve spaces, modify the regular expression in the <code>Remove</code> transformation."},{"owner":{"account_id":84961,"reputation":6525,"user_id":237188,"display_name":"V&#225;clav Slav&#237;k"},"score":3,"creation_date":1446568000,"post_id":5819725,"comment_id":54791647,"body_markdown":"Another, perhaps cleaner, take would be to use `Any-Latin; Lower; Latin-ASCII` instead of NFD with manual filtering — that converts to ASCII-only as much as possible explicitly.","body":"Another, perhaps cleaner, take would be to use <code>Any-Latin; Lower; Latin-ASCII</code> instead of NFD with manual filtering — that converts to ASCII-only as much as possible explicitly."}],"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":5,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1333823760,"creation_date":1303998751,"answer_id":5819725,"question_id":5818912,"body_markdown":"Modify your [identifier][1] to do what you want. You can strip unwanted characters using a regular expression with the `Remove` transform.\r\n\r\nFor example, consider the string _&quot;&#39;E&amp;#x00E9; &amp;#x043c;&amp;#x0430;&amp;#x0442;&amp;#x0435;&amp;#x043c;&amp;#x0430;&amp;#x0442;&amp;#x0438;&amp;#x043a;&amp;#x0430;&quot;_:\r\n\r\n    &quot;&#39;E\\u00E9 \\u043c\\u0430\\u0442\\u0435\\u043c\\u0430\\u0442\\u0438\\u043a\\u0430&quot;\r\n\r\nThe identifier `&quot;Any-Latin; NFD; [^\\\\p{Alnum}] Remove&quot;` will transliterate to Latin (which may still include accents), decompose accented characters into the letter and diacritics and remove anything that isn&#39;t an alphanumeric. The resultant string is _&quot;Eematematika&quot;_.\r\n\r\nYou can read more on the identifiers under [General Transforms][2] on the ICU website.\r\n\r\n\r\n----------\r\n\r\nExample:\r\n\r\n    //import com.ibm.icu.text.Transliterator;\r\n    String greek\r\n           = &quot;&#39;E\\u00E9 \\u043c\\u0430\\u0442\\u0435\\u043c\\u0430\\u0442\\u0438\\u043a\\u0430&quot;;\r\n    String id = &quot;Any-Latin; NFD; [^\\\\p{Alnum}] Remove&quot;;\r\n    String latin = Transliterator.getInstance(id)\r\n                                 .transform(greek);\r\n    System.out.println(latin);\r\n\r\n_Tested against ICU4J 49.1._\r\n\r\n  [1]: http://icu-project.org/apiref/icu4j/com/ibm/icu/text/Transliterator.html#getInstance%28java.lang.String%29\r\n  [2]: http://userguide.icu-project.org/transforms/general","title":"icu4j cyrillic to latin","body":"<p>Modify your <a href=\"http://icu-project.org/apiref/icu4j/com/ibm/icu/text/Transliterator.html#getInstance%28java.lang.String%29\" rel=\"noreferrer\">identifier</a> to do what you want. You can strip unwanted characters using a regular expression with the <code>Remove</code> transform.</p>\n\n<p>For example, consider the string <em>\"'E&#x00E9; &#x043c;&#x0430;&#x0442;&#x0435;&#x043c;&#x0430;&#x0442;&#x0438;&#x043a;&#x0430;\"</em>:</p>\n\n<pre><code>\"'E\\u00E9 \\u043c\\u0430\\u0442\\u0435\\u043c\\u0430\\u0442\\u0438\\u043a\\u0430\"\n</code></pre>\n\n<p>The identifier <code>\"Any-Latin; NFD; [^\\\\p{Alnum}] Remove\"</code> will transliterate to Latin (which may still include accents), decompose accented characters into the letter and diacritics and remove anything that isn't an alphanumeric. The resultant string is <em>\"Eematematika\"</em>.</p>\n\n<p>You can read more on the identifiers under <a href=\"http://userguide.icu-project.org/transforms/general\" rel=\"noreferrer\">General Transforms</a> on the ICU website.</p>\n\n<hr>\n\n<p>Example:</p>\n\n<pre><code>//import com.ibm.icu.text.Transliterator;\nString greek\n       = \"'E\\u00E9 \\u043c\\u0430\\u0442\\u0435\\u043c\\u0430\\u0442\\u0438\\u043a\\u0430\";\nString id = \"Any-Latin; NFD; [^\\\\p{Alnum}] Remove\";\nString latin = Transliterator.getInstance(id)\n                             .transform(greek);\nSystem.out.println(latin);\n</code></pre>\n\n<p><em>Tested against ICU4J 49.1.</em></p>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541770424,"creation_date":1541769561,"answer_id":53226475,"question_id":5818912,"body_markdown":"Have a look at:\r\nhttps://ru.stackoverflow.com/questions/633355/Показать-правильный-пример-транслитерации-на-java\r\n\r\nAdd denepdency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\r\n        &lt;artifactId&gt;icu4j&lt;/artifactId&gt;\r\n        &lt;version&gt;63.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd transliterate:\r\n\r\n    var CYRILLIC_TO_LATIN = &quot;Latin-Russian/BGN&quot;\r\n    // var CYRILLIC_TO_LATIN = &quot;Russian-Latin/BGN&quot;\r\n    Transliterator toLatinTrans = Transliterator.getInstance(CYRILLIC_TO_LATIN);\r\n    String result = toLatinTrans.transliterate(st);\r\n    System.out.println(result);","title":"icu4j cyrillic to latin","body":"<p>Have a look at:\n<a href=\"https://ru.stackoverflow.com/questions/633355/%D0%9F%D0%BE%D0%BA%D0%B0%D0%B7%D0%B0%D1%82%D1%8C-%D0%BF%D1%80%D0%B0%D0%B2%D0%B8%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9-%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D1%82%D1%80%D0%B0%D0%BD%D1%81%D0%BB%D0%B8%D1%82%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8-%D0%BD%D0%B0-java\">https://ru.stackoverflow.com/questions/633355/Показать-правильный-пример-транслитерации-на-java</a></p>\n\n<p>Add denepdency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\n    &lt;artifactId&gt;icu4j&lt;/artifactId&gt;\n    &lt;version&gt;63.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And transliterate:</p>\n\n<pre><code>var CYRILLIC_TO_LATIN = \"Latin-Russian/BGN\"\n// var CYRILLIC_TO_LATIN = \"Russian-Latin/BGN\"\nTransliterator toLatinTrans = Transliterator.getInstance(CYRILLIC_TO_LATIN);\nString result = toLatinTrans.transliterate(st);\nSystem.out.println(result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4177787,"reputation":1649,"user_id":3423785,"display_name":"Yersin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697452640,"creation_date":1697452640,"answer_id":77301263,"question_id":5818912,"body_markdown":"**Answer without any dependency!**\r\n\r\n    System.out.println(TransliterationUtil.transliterate(&quot;Съешь этих мягких французских булок&quot;));\r\nStdout: `Sesh etih mjagkih frantsuzskih bulok`\r\n\r\n    public class TransliterationUtil {\r\n    \r\n        private TransliterationUtil() {\r\n        }\r\n    \r\n        private static final Map&lt;Character, String&gt; cyrToLatMap;\r\n        static {\r\n            cyrToLatMap = new HashMap&lt;&gt;();\r\n            cyrToLatMap.put(&#39; &#39;, &quot; &quot;);\r\n            cyrToLatMap.put(&#39;а&#39;, &quot;a&quot;);\r\n            cyrToLatMap.put(&#39;б&#39;, &quot;b&quot;);\r\n            cyrToLatMap.put(&#39;в&#39;, &quot;v&quot;);\r\n            cyrToLatMap.put(&#39;г&#39;, &quot;g&quot;);\r\n            cyrToLatMap.put(&#39;д&#39;, &quot;d&quot;);\r\n            cyrToLatMap.put(&#39;е&#39;, &quot;e&quot;);\r\n            cyrToLatMap.put(&#39;ё&#39;, &quot;e&quot;);\r\n            cyrToLatMap.put(&#39;ж&#39;, &quot;zh&quot;);\r\n            cyrToLatMap.put(&#39;з&#39;, &quot;z&quot;);\r\n            cyrToLatMap.put(&#39;и&#39;, &quot;i&quot;);\r\n            cyrToLatMap.put(&#39;й&#39;, &quot;y&quot;);\r\n            cyrToLatMap.put(&#39;к&#39;, &quot;k&quot;);\r\n            cyrToLatMap.put(&#39;л&#39;, &quot;l&quot;);\r\n            cyrToLatMap.put(&#39;м&#39;, &quot;m&quot;);\r\n            cyrToLatMap.put(&#39;н&#39;, &quot;n&quot;);\r\n            cyrToLatMap.put(&#39;о&#39;, &quot;o&quot;);\r\n            cyrToLatMap.put(&#39;п&#39;, &quot;p&quot;);\r\n            cyrToLatMap.put(&#39;р&#39;, &quot;r&quot;);\r\n            cyrToLatMap.put(&#39;с&#39;, &quot;s&quot;);\r\n            cyrToLatMap.put(&#39;т&#39;, &quot;t&quot;);\r\n            cyrToLatMap.put(&#39;у&#39;, &quot;u&quot;);\r\n            cyrToLatMap.put(&#39;ф&#39;, &quot;f&quot;);\r\n            cyrToLatMap.put(&#39;х&#39;, &quot;h&quot;);\r\n            cyrToLatMap.put(&#39;ц&#39;, &quot;ts&quot;);\r\n            cyrToLatMap.put(&#39;ч&#39;, &quot;ch&quot;);\r\n            cyrToLatMap.put(&#39;ш&#39;, &quot;sh&quot;);\r\n            cyrToLatMap.put(&#39;щ&#39;, &quot;sch&quot;);\r\n            cyrToLatMap.put(&#39;ъ&#39;, &quot;&quot;);\r\n            cyrToLatMap.put(&#39;ы&#39;, &quot;i&quot;);\r\n            cyrToLatMap.put(&#39;ь&#39;, &quot;&quot;);\r\n            cyrToLatMap.put(&#39;э&#39;, &quot;e&quot;);\r\n            cyrToLatMap.put(&#39;ю&#39;, &quot;ju&quot;);\r\n            cyrToLatMap.put(&#39;я&#39;, &quot;ja&quot;);\r\n            cyrToLatMap.put(&#39;А&#39;, &quot;A&quot;);\r\n            cyrToLatMap.put(&#39;Б&#39;, &quot;B&quot;);\r\n            cyrToLatMap.put(&#39;В&#39;, &quot;V&quot;);\r\n            cyrToLatMap.put(&#39;Г&#39;, &quot;G&quot;);\r\n            cyrToLatMap.put(&#39;Д&#39;, &quot;D&quot;);\r\n            cyrToLatMap.put(&#39;Е&#39;, &quot;E&quot;);\r\n            cyrToLatMap.put(&#39;Ё&#39;, &quot;E&quot;);\r\n            cyrToLatMap.put(&#39;Ж&#39;, &quot;Zh&quot;);\r\n            cyrToLatMap.put(&#39;З&#39;, &quot;Z&quot;);\r\n            cyrToLatMap.put(&#39;И&#39;, &quot;I&quot;);\r\n            cyrToLatMap.put(&#39;Й&#39;, &quot;Y&quot;);\r\n            cyrToLatMap.put(&#39;К&#39;, &quot;K&quot;);\r\n            cyrToLatMap.put(&#39;Л&#39;, &quot;L&quot;);\r\n            cyrToLatMap.put(&#39;М&#39;, &quot;M&quot;);\r\n            cyrToLatMap.put(&#39;Н&#39;, &quot;N&quot;);\r\n            cyrToLatMap.put(&#39;О&#39;, &quot;O&quot;);\r\n            cyrToLatMap.put(&#39;П&#39;, &quot;P&quot;);\r\n            cyrToLatMap.put(&#39;Р&#39;, &quot;R&quot;);\r\n            cyrToLatMap.put(&#39;С&#39;, &quot;S&quot;);\r\n            cyrToLatMap.put(&#39;Т&#39;, &quot;T&quot;);\r\n            cyrToLatMap.put(&#39;У&#39;, &quot;U&quot;);\r\n            cyrToLatMap.put(&#39;Ф&#39;, &quot;F&quot;);\r\n            cyrToLatMap.put(&#39;Х&#39;, &quot;H&quot;);\r\n            cyrToLatMap.put(&#39;Ц&#39;, &quot;Ts&quot;);\r\n            cyrToLatMap.put(&#39;Ч&#39;, &quot;Ch&quot;);\r\n            cyrToLatMap.put(&#39;Ш&#39;, &quot;Sh&quot;);\r\n            cyrToLatMap.put(&#39;Щ&#39;, &quot;Sch&quot;);\r\n            cyrToLatMap.put(&#39;Ъ&#39;, &quot;&quot;);\r\n            cyrToLatMap.put(&#39;Ы&#39;, &quot;I&quot;);\r\n            cyrToLatMap.put(&#39;Ь&#39;, &quot;&quot;);\r\n            cyrToLatMap.put(&#39;Э&#39;, &quot;E&quot;);\r\n            cyrToLatMap.put(&#39;Ю&#39;, &quot;Ju&quot;);\r\n            cyrToLatMap.put(&#39;Я&#39;, &quot;Ja&quot;);\r\n        }\r\n    \r\n        public static String transliterate(String message){\r\n            StringBuilder builder = new StringBuilder();\r\n            for (var ch : message.toCharArray()) {\r\n                builder.append(cyrToLatMap.getOrDefault(ch,&quot;?&quot;));\r\n            }\r\n            return builder.toString();\r\n        }\r\n    \r\n    }","title":"icu4j cyrillic to latin","body":"<p><strong>Answer without any dependency!</strong></p>\n<pre><code>System.out.println(TransliterationUtil.transliterate(&quot;Съешь этих мягких французских булок&quot;));\n</code></pre>\n<p>Stdout: <code>Sesh etih mjagkih frantsuzskih bulok</code></p>\n<pre><code>public class TransliterationUtil {\n\n    private TransliterationUtil() {\n    }\n\n    private static final Map&lt;Character, String&gt; cyrToLatMap;\n    static {\n        cyrToLatMap = new HashMap&lt;&gt;();\n        cyrToLatMap.put(' ', &quot; &quot;);\n        cyrToLatMap.put('а', &quot;a&quot;);\n        cyrToLatMap.put('б', &quot;b&quot;);\n        cyrToLatMap.put('в', &quot;v&quot;);\n        cyrToLatMap.put('г', &quot;g&quot;);\n        cyrToLatMap.put('д', &quot;d&quot;);\n        cyrToLatMap.put('е', &quot;e&quot;);\n        cyrToLatMap.put('ё', &quot;e&quot;);\n        cyrToLatMap.put('ж', &quot;zh&quot;);\n        cyrToLatMap.put('з', &quot;z&quot;);\n        cyrToLatMap.put('и', &quot;i&quot;);\n        cyrToLatMap.put('й', &quot;y&quot;);\n        cyrToLatMap.put('к', &quot;k&quot;);\n        cyrToLatMap.put('л', &quot;l&quot;);\n        cyrToLatMap.put('м', &quot;m&quot;);\n        cyrToLatMap.put('н', &quot;n&quot;);\n        cyrToLatMap.put('о', &quot;o&quot;);\n        cyrToLatMap.put('п', &quot;p&quot;);\n        cyrToLatMap.put('р', &quot;r&quot;);\n        cyrToLatMap.put('с', &quot;s&quot;);\n        cyrToLatMap.put('т', &quot;t&quot;);\n        cyrToLatMap.put('у', &quot;u&quot;);\n        cyrToLatMap.put('ф', &quot;f&quot;);\n        cyrToLatMap.put('х', &quot;h&quot;);\n        cyrToLatMap.put('ц', &quot;ts&quot;);\n        cyrToLatMap.put('ч', &quot;ch&quot;);\n        cyrToLatMap.put('ш', &quot;sh&quot;);\n        cyrToLatMap.put('щ', &quot;sch&quot;);\n        cyrToLatMap.put('ъ', &quot;&quot;);\n        cyrToLatMap.put('ы', &quot;i&quot;);\n        cyrToLatMap.put('ь', &quot;&quot;);\n        cyrToLatMap.put('э', &quot;e&quot;);\n        cyrToLatMap.put('ю', &quot;ju&quot;);\n        cyrToLatMap.put('я', &quot;ja&quot;);\n        cyrToLatMap.put('А', &quot;A&quot;);\n        cyrToLatMap.put('Б', &quot;B&quot;);\n        cyrToLatMap.put('В', &quot;V&quot;);\n        cyrToLatMap.put('Г', &quot;G&quot;);\n        cyrToLatMap.put('Д', &quot;D&quot;);\n        cyrToLatMap.put('Е', &quot;E&quot;);\n        cyrToLatMap.put('Ё', &quot;E&quot;);\n        cyrToLatMap.put('Ж', &quot;Zh&quot;);\n        cyrToLatMap.put('З', &quot;Z&quot;);\n        cyrToLatMap.put('И', &quot;I&quot;);\n        cyrToLatMap.put('Й', &quot;Y&quot;);\n        cyrToLatMap.put('К', &quot;K&quot;);\n        cyrToLatMap.put('Л', &quot;L&quot;);\n        cyrToLatMap.put('М', &quot;M&quot;);\n        cyrToLatMap.put('Н', &quot;N&quot;);\n        cyrToLatMap.put('О', &quot;O&quot;);\n        cyrToLatMap.put('П', &quot;P&quot;);\n        cyrToLatMap.put('Р', &quot;R&quot;);\n        cyrToLatMap.put('С', &quot;S&quot;);\n        cyrToLatMap.put('Т', &quot;T&quot;);\n        cyrToLatMap.put('У', &quot;U&quot;);\n        cyrToLatMap.put('Ф', &quot;F&quot;);\n        cyrToLatMap.put('Х', &quot;H&quot;);\n        cyrToLatMap.put('Ц', &quot;Ts&quot;);\n        cyrToLatMap.put('Ч', &quot;Ch&quot;);\n        cyrToLatMap.put('Ш', &quot;Sh&quot;);\n        cyrToLatMap.put('Щ', &quot;Sch&quot;);\n        cyrToLatMap.put('Ъ', &quot;&quot;);\n        cyrToLatMap.put('Ы', &quot;I&quot;);\n        cyrToLatMap.put('Ь', &quot;&quot;);\n        cyrToLatMap.put('Э', &quot;E&quot;);\n        cyrToLatMap.put('Ю', &quot;Ju&quot;);\n        cyrToLatMap.put('Я', &quot;Ja&quot;);\n    }\n\n    public static String transliterate(String message){\n        StringBuilder builder = new StringBuilder();\n        for (var ch : message.toCharArray()) {\n            builder.append(cyrToLatMap.getOrDefault(ch,&quot;?&quot;));\n        }\n        return builder.toString();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":102242,"reputation":819,"user_id":274559,"accept_rate":75,"display_name":"ivar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12700,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":5819725,"answer_count":4,"score":16,"last_activity_date":1697452640,"creation_date":1303995239,"question_id":5818912,"body_markdown":"I&#39;m trying to get Cyrillic words to be in latin so I can have them in urls. I use [icu4j][1] transliterator, but it still gives weird characters like this: **Vilʹ&#226;ndimaa**. It should be more like **viljandimaa**. When I copy that url these letters turn to %.. something useless.\r\n\r\nDoes anybody know how to get Cyrillic to a-z with icu4j?\r\n\r\n**UPDATE**\r\n\r\nCan&#39;t answer myself already but found this question that was very helpful: https://stackoverflow.com/questions/1008802/converting-symbols-accent-letters-to-english-alphabet\r\n\r\n\r\n  [1]: http://site.icu-project.org/","title":"icu4j cyrillic to latin","body":"<p>I'm trying to get Cyrillic words to be in latin so I can have them in urls. I use <a href=\"http://site.icu-project.org/\" rel=\"noreferrer\">icu4j</a> transliterator, but it still gives weird characters like this: <strong>Vilʹândimaa</strong>. It should be more like <strong>viljandimaa</strong>. When I copy that url these letters turn to %.. something useless.</p>\n\n<p>Does anybody know how to get Cyrillic to a-z with icu4j?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Can't answer myself already but found this question that was very helpful: <a href=\"https://stackoverflow.com/questions/1008802/converting-symbols-accent-letters-to-english-alphabet\">Converting Symbols, Accent Letters to English Alphabet</a></p>\n"},{"tags":["java","maven","import","datadog"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1697450794,"post_id":77301000,"comment_id":136277133,"body_markdown":"Where did you put the `&lt;dependency&gt;` in your `pom.xml`? Note: It should be under `&lt;dependencies&gt;` and not under `&lt;dependencyManagement&gt;`.","body":"Where did you put the <code>&lt;dependency&gt;</code> in your <code>pom.xml</code>? Note: It should be under <code>&lt;dependencies&gt;</code> and not under <code>&lt;dependencyManagement&gt;</code>."},{"owner":{"account_id":21525184,"reputation":1,"user_id":17639722,"display_name":"David Le"},"score":0,"creation_date":1697455718,"post_id":77301000,"comment_id":136277974,"body_markdown":"It is under &lt;dependencies&gt; and didn&#39;t work unfortunately.","body":"It is under &lt;dependencies&gt; and didn&#39;t work unfortunately."}],"answers":[{"comments":[{"owner":{"account_id":21525184,"reputation":1,"user_id":17639722,"display_name":"David Le"},"score":0,"creation_date":1697457385,"post_id":77301222,"comment_id":136278272,"body_markdown":"The error prints are gone until I execute the java code and the console prints the same error message again","body":"The error prints are gone until I execute the java code and the console prints the same error message again"},{"owner":{"account_id":23557694,"reputation":38,"user_id":17599468,"display_name":"Abrar"},"score":0,"creation_date":1697625875,"post_id":77301222,"comment_id":136302630,"body_markdown":"Enable logging that will help to figure out what&#39;s the problem. Spring logs are too long so the terminal can&#39;t display the entire log sometimes so you can go to the surefire reports inside the target folder. If the log is too long only check the lines that are suffixed with caused at","body":"Enable logging that will help to figure out what&#39;s the problem. Spring logs are too long so the terminal can&#39;t display the entire log sometimes so you can go to the surefire reports inside the target folder. If the log is too long only check the lines that are suffixed with caused at"},{"owner":{"account_id":23557694,"reputation":38,"user_id":17599468,"display_name":"Abrar"},"score":0,"creation_date":1697625970,"post_id":77301222,"comment_id":136302652,"body_markdown":"Try adding this to your application.properties logging.level.org.springframework.web=debug","body":"Try adding this to your application.properties logging.level.org.springframework.web=debug"}],"tags":[],"owner":{"account_id":23557694,"reputation":38,"user_id":17599468,"display_name":"Abrar"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697452347,"creation_date":1697452347,"answer_id":77301222,"question_id":77301000,"body_markdown":"Today I was facing the same problem, I placed my maven dependencies for Sprite and GSON after all my dependencies, but I was getting the error package com.google.gson.Gson and package com.stripe.Stripe does not exist. So what I did was place them before all the dependencies and trust me it worked.","title":"DataDog Package does not exist","body":"<p>Today I was facing the same problem, I placed my maven dependencies for Sprite and GSON after all my dependencies, but I was getting the error package com.google.gson.Gson and package com.stripe.Stripe does not exist. So what I did was place them before all the dependencies and trust me it worked.</p>\n"}],"owner":{"account_id":21525184,"reputation":1,"user_id":17639722,"display_name":"David Le"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697452347,"creation_date":1697450223,"question_id":77301000,"body_markdown":"# The Problem\r\nI try to import DataDog dependencies with Maven and `mvn clean install` prints:\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project datadog_api_call: Compilation failure: Compilation failure: \r\n[ERROR] /mnt/chromeos/MyFiles/projects/path_to_maven_project/datadog_api_call/src/main/java/list_monitors/App.java:[2,30] package com.datadog.api.client does not exist\r\n```\r\nI created a simple maven project with `mvn archetype:generate -DarchetypeArtifactId=maven-archetype-quickstart` in order to use the [DataDog API](https://docs.datadoghq.com/api/latest/?code-lang=java).\r\nAdded the following to the pom.xml like the documentation instructs:\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.datadoghq&lt;/groupId&gt;\r\n  &lt;artifactId&gt;datadog-api-client&lt;/artifactId&gt;\r\n  &lt;version&gt;2.16.0&lt;/version&gt;\r\n  &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n# What I&#39;ve tried:\r\nChanging the pom.xml file in various ways and run `mvn clean install` and `mvn clean compile`:\r\n- With and without the `&lt;packaging&gt;jar&lt;/packaging&gt;` line\r\n- With both `&lt;url&gt;http://maven.apache.org&lt;/url&gt;` &amp; `&lt;url&gt;mvnrepository.com&lt;/url&gt;` and without the urls\r\n- With wrapping the dependencies in the dependencyManagement tag and without it\r\n- With `&lt;scope&gt;compile&lt;/scope&gt;`, `&lt;scope&gt;test&lt;/scope&gt;` and without scope\r\n\r\nMaven should find the package, import it and my java code should be able to resolve the package import.","title":"DataDog Package does not exist","body":"<h1>The Problem</h1>\n<p>I try to import DataDog dependencies with Maven and <code>mvn clean install</code> prints:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project datadog_api_call: Compilation failure: Compilation failure: \n[ERROR] /mnt/chromeos/MyFiles/projects/path_to_maven_project/datadog_api_call/src/main/java/list_monitors/App.java:[2,30] package com.datadog.api.client does not exist\n</code></pre>\n<p>I created a simple maven project with <code>mvn archetype:generate -DarchetypeArtifactId=maven-archetype-quickstart</code> in order to use the <a href=\"https://docs.datadoghq.com/api/latest/?code-lang=java\" rel=\"nofollow noreferrer\">DataDog API</a>.\nAdded the following to the pom.xml like the documentation instructs:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.datadoghq&lt;/groupId&gt;\n  &lt;artifactId&gt;datadog-api-client&lt;/artifactId&gt;\n  &lt;version&gt;2.16.0&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h1>What I've tried:</h1>\n<p>Changing the pom.xml file in various ways and run <code>mvn clean install</code> and <code>mvn clean compile</code>:</p>\n<ul>\n<li>With and without the <code>&lt;packaging&gt;jar&lt;/packaging&gt;</code> line</li>\n<li>With both <code>&lt;url&gt;http://maven.apache.org&lt;/url&gt;</code> &amp; <code>&lt;url&gt;mvnrepository.com&lt;/url&gt;</code> and without the urls</li>\n<li>With wrapping the dependencies in the dependencyManagement tag and without it</li>\n<li>With <code>&lt;scope&gt;compile&lt;/scope&gt;</code>, <code>&lt;scope&gt;test&lt;/scope&gt;</code> and without scope</li>\n</ul>\n<p>Maven should find the package, import it and my java code should be able to resolve the package import.</p>\n"},{"tags":["java","reactive-programming","mutiny"],"owner":{"account_id":6500168,"reputation":930,"user_id":5116356,"accept_rate":100,"display_name":"luca.vercelli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697452322,"creation_date":1696951362,"question_id":77267061,"body_markdown":"Say I have any `Multi` pipeline\r\n\r\n    Multi&lt;Integer&gt; multi = Multi.createFrom().emitter(em -&gt; {\r\n        Thread.sleep(1);\r\n        em.emit(1);\r\n\r\n        Thread.sleep(1);\r\n        em.emit(2);\r\n\r\n        Thread.sleep(1);\r\n        em.emit(3);\r\n\r\n        em.complete();\r\n    });\r\n    multi\r\n        .onItem().invoke(i -&gt; { System.out.println(i); } )\r\n        .subscribe();\r\n\r\nSay that, at the end, after all records, you want to log also some &quot;statistics&quot; on the pipeline: how many records floated, how much time the process took.\r\n\r\nI tried the following, naive, approach:\r\n\r\n    Date start, end;\r\n    int numItems = 0;\r\n    Multi&lt;Integer&gt; multi = Multi.createFrom().emitter(em -&gt; {\r\n        start = new Date();\r\n        Thread.sleep(1);\r\n        em.emit(1);\r\n        ++numItems;\r\n\r\n        Thread.sleep(1);\r\n        em.emit(2);\r\n        ++numItems;\r\n\r\n        Thread.sleep(1);\r\n        em.emit(3);\r\n        ++numItems;\r\n\r\n        em.complete();\r\n    });\r\n    multi.onCompletion()\r\n            .invoke(() -&gt; {\r\n                end = new Date();\r\n                System.out.println(&quot;END items=&quot; + numItems+ &quot; time elapsed &quot;+ (end.getTime() - start.getTime()) + &quot;ms&quot;);\r\n            })\r\n        .onItem().invoke(i -&gt; { System.out.println(i); } )\r\n        .subscribe();\r\n\r\nHowever this cannot even compile because &quot;*Local variables defined in an enclosing scope must be final or effectively*&quot;.\r\n\r\nWhat is the correct approach to this?\r\n\r\n\r\n**EDIT**\r\n\r\nThis is **not** a duplicate of https://stackoverflow.com/questions/33799800.\r\n\r\nI am not (only) interested in the problem of _final local variables_. I would like to know if there is some other mutiny-specific approach to this situation.\r\n","title":"Mutiny pipeline statistics","body":"<p>Say I have any <code>Multi</code> pipeline</p>\n<pre><code>Multi&lt;Integer&gt; multi = Multi.createFrom().emitter(em -&gt; {\n    Thread.sleep(1);\n    em.emit(1);\n\n    Thread.sleep(1);\n    em.emit(2);\n\n    Thread.sleep(1);\n    em.emit(3);\n\n    em.complete();\n});\nmulti\n    .onItem().invoke(i -&gt; { System.out.println(i); } )\n    .subscribe();\n</code></pre>\n<p>Say that, at the end, after all records, you want to log also some &quot;statistics&quot; on the pipeline: how many records floated, how much time the process took.</p>\n<p>I tried the following, naive, approach:</p>\n<pre><code>Date start, end;\nint numItems = 0;\nMulti&lt;Integer&gt; multi = Multi.createFrom().emitter(em -&gt; {\n    start = new Date();\n    Thread.sleep(1);\n    em.emit(1);\n    ++numItems;\n\n    Thread.sleep(1);\n    em.emit(2);\n    ++numItems;\n\n    Thread.sleep(1);\n    em.emit(3);\n    ++numItems;\n\n    em.complete();\n});\nmulti.onCompletion()\n        .invoke(() -&gt; {\n            end = new Date();\n            System.out.println(&quot;END items=&quot; + numItems+ &quot; time elapsed &quot;+ (end.getTime() - start.getTime()) + &quot;ms&quot;);\n        })\n    .onItem().invoke(i -&gt; { System.out.println(i); } )\n    .subscribe();\n</code></pre>\n<p>However this cannot even compile because &quot;<em>Local variables defined in an enclosing scope must be final or effectively</em>&quot;.</p>\n<p>What is the correct approach to this?</p>\n<p><strong>EDIT</strong></p>\n<p>This is <strong>not</strong> a duplicate of <a href=\"https://stackoverflow.com/questions/33799800\">Java: Local variable mi defined in an enclosing scope must be final or effectively final</a>.</p>\n<p>I am not (only) interested in the problem of <em>final local variables</em>. I would like to know if there is some other mutiny-specific approach to this situation.</p>\n"},{"tags":["java","android","kotlin","search"],"comments":[{"owner":{"account_id":2047476,"reputation":3789,"user_id":1827254,"accept_rate":62,"display_name":"Eselfar"},"score":0,"creation_date":1697451041,"post_id":77301038,"comment_id":136277171,"body_markdown":"Seems to be a duplicate of this question.\nhttps://stackoverflow.com/a/61423325/1827254","body":"Seems to be a duplicate of this question. <a href=\"https://stackoverflow.com/a/61423325/1827254\">stackoverflow.com/a/61423325/1827254</a>"}],"owner":{"account_id":22734251,"reputation":1,"user_id":16896681,"display_name":"Ahmed Siddique CB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697452151,"creation_date":1697450565,"question_id":77301038,"body_markdown":"Our clients wants to have a feature in the app where they can search app with another keyword in the launcher like &quot;kiwi&quot; but the app name is &quot;blueberry&quot;\r\n\r\nSo far what we&#39;ve tried:\r\n\r\n- Searchables\r\n- Shortcuts\r\nthis doesn&#39;t even bring the app show up with the keyword instead of the app name in the launcher. \r\n\r\nlike in the iOS there&#39;s this corespotlight framework where can have this feaature to search the app with different keyword.\r\n\r\nBut so far no success, is there a way to get this done in the android side?","title":"Making the Android Application searchable in the launcher with a keyword","body":"<p>Our clients wants to have a feature in the app where they can search app with another keyword in the launcher like &quot;kiwi&quot; but the app name is &quot;blueberry&quot;</p>\n<p>So far what we've tried:</p>\n<ul>\n<li>Searchables</li>\n<li>Shortcuts\nthis doesn't even bring the app show up with the keyword instead of the app name in the launcher.</li>\n</ul>\n<p>like in the iOS there's this corespotlight framework where can have this feaature to search the app with different keyword.</p>\n<p>But so far no success, is there a way to get this done in the android side?</p>\n"},{"tags":["java","sql","oracle","hibernate"],"comments":[{"owner":{"account_id":94864,"reputation":6426,"user_id":258741,"accept_rate":57,"display_name":"Zeus"},"score":0,"creation_date":1404920840,"post_id":24657919,"comment_id":38225274,"body_markdown":"Could you please post the Entity Foo class.","body":"Could you please post the Entity Foo class."},{"owner":{"account_id":4718616,"reputation":1030,"user_id":3817160,"display_name":"skarist"},"score":0,"creation_date":1404923717,"post_id":24657919,"comment_id":38227164,"body_markdown":"Is it possible that you are querying a view? There must be an unique index column that hibernate can use to map back to the id property of the Foo entity.","body":"Is it possible that you are querying a view? There must be an unique index column that hibernate can use to map back to the id property of the Foo entity."},{"owner":{"account_id":1160805,"reputation":2866,"user_id":1140338,"accept_rate":75,"display_name":"mvieghofer"},"score":0,"creation_date":1404974416,"post_id":24657919,"comment_id":38246592,"body_markdown":"@Zeus I don&#39;t think that helps since we don&#39;t use standard hibernate entities. It is selfmade (a few years ago) and rather complicated to explain here. Nevertheless this should not be the problem. The reason is in the updated question. Thanks","body":"@Zeus I don&#39;t think that helps since we don&#39;t use standard hibernate entities. It is selfmade (a few years ago) and rather complicated to explain here. Nevertheless this should not be the problem. The reason is in the updated question. Thanks"},{"owner":{"account_id":1160805,"reputation":2866,"user_id":1140338,"accept_rate":75,"display_name":"mvieghofer"},"score":0,"creation_date":1404974446,"post_id":24657919,"comment_id":38246606,"body_markdown":"@skarist Yes it could be a view. Thanks for the tip I&#39;ll check that out.","body":"@skarist Yes it could be a view. Thanks for the tip I&#39;ll check that out."},{"owner":{"account_id":1160805,"reputation":2866,"user_id":1140338,"accept_rate":75,"display_name":"mvieghofer"},"score":0,"creation_date":1404976674,"post_id":24657919,"comment_id":38247707,"body_markdown":"@skarist Nope I&#39;m selecting from a table...","body":"@skarist Nope I&#39;m selecting from a table..."},{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":0,"creation_date":1549917580,"post_id":24657919,"comment_id":96069465,"body_markdown":"The whole hibernate object for that record will be null if any one of the primary key column (@Id) value is null in the database","body":"The whole hibernate object for that record will be null if any one of the primary key column (@Id) value is null in the database"}],"answers":[{"comments":[{"owner":{"account_id":1160805,"reputation":2866,"user_id":1140338,"accept_rate":75,"display_name":"mvieghofer"},"score":0,"creation_date":1404974117,"post_id":24660026,"comment_id":38246450,"body_markdown":"Hi, no I did not set acustom ResultTransformer and the list returned is actually a list of nulls (I&#39;m getting a NullPointerException because of this). Also the SQL I&#39;ve posted above is more or less exactly the SQL that is generated by hibernate (I just simplified it by selecting * and changing the alias).","body":"Hi, no I did not set acustom ResultTransformer and the list returned is actually a list of nulls (I&#39;m getting a NullPointerException because of this). Also the SQL I&#39;ve posted above is more or less exactly the SQL that is generated by hibernate (I just simplified it by selecting * and changing the alias)."}],"tags":[],"owner":{"account_id":68960,"reputation":910,"user_id":200911,"display_name":"Emmanuel Bernard"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1404926433,"creation_date":1404926433,"answer_id":24660026,"question_id":24657919,"body_markdown":"If you have not set a custom (and buggy) ResultTransformer, my second best guess is that your debugger is lying to you. Does you code actually receives a list of null?\r\n\r\nAlso make sure to test with the code you are showing is. Too many times, people simplify things and the devil is in the details.","title":"Hibernate returns list of nulls although executed SQL returns values","body":"<p>If you have not set a custom (and buggy) ResultTransformer, my second best guess is that your debugger is lying to you. Does you code actually receives a list of null?</p>\n\n<p>Also make sure to test with the code you are showing is. Too many times, people simplify things and the devil is in the details.</p>\n"},{"comments":[{"owner":{"account_id":253638,"reputation":3428,"user_id":532489,"accept_rate":71,"display_name":"Jeremy"},"score":0,"creation_date":1480613140,"post_id":24677173,"comment_id":69045737,"body_markdown":"Worked for me, I had switched the column by which I needed to annotate with `@Id` in my domain class that hibernate was mapping DB objects into. In my case my table did not have a primary key, but the annotation still caused the nulls because hibernate doesn&#39;t want a null ID even in the instances it creates from the DB query results regardless if its a primary key or not.","body":"Worked for me, I had switched the column by which I needed to annotate with <code>@Id</code> in my domain class that hibernate was mapping DB objects into. In my case my table did not have a primary key, but the annotation still caused the nulls because hibernate doesn&#39;t want a null ID even in the instances it creates from the DB query results regardless if its a primary key or not."},{"owner":{"account_id":9983336,"reputation":4132,"user_id":7769052,"accept_rate":75,"display_name":"banan3&#39;14"},"score":0,"creation_date":1644061158,"post_id":24677173,"comment_id":125508397,"body_markdown":"I had to set the log level to `FINEST`, it was a problem with the query in my case. For anyone wondering how to set the log level https://stackoverflow.com/a/847121/7769052","body":"I had to set the log level to <code>FINEST</code>, it was a problem with the query in my case. For anyone wondering how to set the log level <a href=\"https://stackoverflow.com/a/847121/7769052\">stackoverflow.com/a/847121/7769052</a>"}],"tags":[],"owner":{"account_id":1160805,"reputation":2866,"user_id":1140338,"accept_rate":75,"display_name":"mvieghofer"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1404997031,"creation_date":1404997031,"answer_id":24677173,"question_id":24657919,"body_markdown":"I&#39;ve set the Log level of hibernate to TRACE and found the problem. It was actually a mapping/logic/database error. The primary key consisted of two columns (according to the entity class) and one of these columns was nullable. However a primary key can never be nullable. Therefore hibernate always returned null.","title":"Hibernate returns list of nulls although executed SQL returns values","body":"<p>I've set the Log level of hibernate to TRACE and found the problem. It was actually a mapping/logic/database error. The primary key consisted of two columns (according to the entity class) and one of these columns was nullable. However a primary key can never be nullable. Therefore hibernate always returned null.</p>\n"},{"tags":[],"owner":{"account_id":3720519,"reputation":351,"user_id":3095696,"display_name":"Eduardo Cordeiro"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456838378,"creation_date":1456838378,"answer_id":35724063,"question_id":24657919,"body_markdown":"This error is happening to me. MySQL query browser works, but in hibernate of 7 columns and only one column always came with all null fields. I checked all the ids and they were not null. The error was in the construction of SQL Native. I had to change the way of writing it. Ai worked.\r\n\r\n    SELECT c.idContratoEmprestimo as idContratoEmprestimo,\r\n    c.dtOperacao as dataOperacao,\r\n    p.cpf as cpf,\r\n    p.nome as nome,\r\n    (Select count(p2.idParcelaEmprestimo) from EMP_PARCELA p2 where p2.valorPago &gt; 0 and p2.dtPagamento is not null\r\n    and p2.idContratoEmprestimo = c.idContratoEmprestimo and p2.mesCompetencia &lt;= &#39;2014-08-01&#39;) as parcelasPagas, c.numeroParcelas as numeroParcelas,\r\n    pe.valorPago as valorParcela\r\n    FROM EMP_CONTRATO c inner join TB_PARTICIPANTE_DADOS_PLANO AS pp on pp.idParticipantePlano = c.idParticipantePlano\r\n    inner join TB_PARTICIPANTE as p on p.id = pp.idParticipante\r\n    inner join TB_PARTICIPANTE_INSTITUIDOR as pi on pi.PARTICIPANTE_ID = p.id\r\n    inner join EMP_PARCELA as pe on pe.idContratoEmprestimo = c.idContratoEmprestimo\r\n    where c.dtInicioContrato &lt;= &#39;2014-08-01&#39; and pi.INSTITUIDOR_ID = 1\r\n    and c.avaliado is true\r\n    and pe.mesCompetencia = &#39;2014-08-01&#39;\r\n    and c.deferido is true\r\n    and c.dtQuitacao is null\r\n    and c.dtExclusao is null\r\n    and pe.valorPago is not null\r\n    group by c.idContratoEmprestimo\r\n    order by p.nome","title":"Hibernate returns list of nulls although executed SQL returns values","body":"<p>This error is happening to me. MySQL query browser works, but in hibernate of 7 columns and only one column always came with all null fields. I checked all the ids and they were not null. The error was in the construction of SQL Native. I had to change the way of writing it. Ai worked.</p>\n\n<pre><code>SELECT c.idContratoEmprestimo as idContratoEmprestimo,\nc.dtOperacao as dataOperacao,\np.cpf as cpf,\np.nome as nome,\n(Select count(p2.idParcelaEmprestimo) from EMP_PARCELA p2 where p2.valorPago &gt; 0 and p2.dtPagamento is not null\nand p2.idContratoEmprestimo = c.idContratoEmprestimo and p2.mesCompetencia &lt;= '2014-08-01') as parcelasPagas, c.numeroParcelas as numeroParcelas,\npe.valorPago as valorParcela\nFROM EMP_CONTRATO c inner join TB_PARTICIPANTE_DADOS_PLANO AS pp on pp.idParticipantePlano = c.idParticipantePlano\ninner join TB_PARTICIPANTE as p on p.id = pp.idParticipante\ninner join TB_PARTICIPANTE_INSTITUIDOR as pi on pi.PARTICIPANTE_ID = p.id\ninner join EMP_PARCELA as pe on pe.idContratoEmprestimo = c.idContratoEmprestimo\nwhere c.dtInicioContrato &lt;= '2014-08-01' and pi.INSTITUIDOR_ID = 1\nand c.avaliado is true\nand pe.mesCompetencia = '2014-08-01'\nand c.deferido is true\nand c.dtQuitacao is null\nand c.dtExclusao is null\nand pe.valorPago is not null\ngroup by c.idContratoEmprestimo\norder by p.nome\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1214425,"reputation":1446,"user_id":1182305,"display_name":"Mitendra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697451944,"creation_date":1697451944,"answer_id":77301182,"question_id":24657919,"body_markdown":"This error showed up for me while upgrading legacy code to Hibernate 5 and fixing unit tests along the way. The primary key (composite key in my case) consisted of two columns (according to the entity class). The test data however wasn&#39;t populating data for both the columns. In newer version of Hibernate a primary key (or part of composite key in my case) can never be null. Therefore hibernate always returned null. \r\n\r\nI just updated the test data to include the data for both the columnns that formed composite key and hibernate started returning valid results.","title":"Hibernate returns list of nulls although executed SQL returns values","body":"<p>This error showed up for me while upgrading legacy code to Hibernate 5 and fixing unit tests along the way. The primary key (composite key in my case) consisted of two columns (according to the entity class). The test data however wasn't populating data for both the columns. In newer version of Hibernate a primary key (or part of composite key in my case) can never be null. Therefore hibernate always returned null.</p>\n<p>I just updated the test data to include the data for both the columnns that formed composite key and hibernate started returning valid results.</p>\n"}],"owner":{"account_id":1160805,"reputation":2866,"user_id":1140338,"accept_rate":75,"display_name":"mvieghofer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16502,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":24677173,"answer_count":4,"score":12,"last_activity_date":1697451944,"creation_date":1404920093,"question_id":24657919,"body_markdown":"I&#39;m using hibernate as an ORMapper. I want to execute an actually rather simple hql query:\r\n\r\n    SELECT a \r\n    FROM Foo a \r\n    WHERE a.status = :A0status \r\n    ORDER BY a.bookingTypeCode ASC, \r\n             a.priority ASC\r\n\r\nThis hql query is then converted into a sql query which looks something like this: \r\n\r\n    select a.* \r\n    from Foo a \r\n    where a.status=&#39;A&#39; \r\n    order by a.bookingtypecode ASC, \r\n             a.priority ASC\r\n\r\nWhen I execute the sql on the oracle database using the Oracle SQL Developer I get 17 rows returned. However, when I execute the hql query (using the list method of a `Query` I get a list of 17 elements that are all `null`. Although the number of elements is correct, not a single one of the elements is actually loaded. \r\n\r\nThis is the way I create and execute my query:\r\n\r\n    // the hql query is stored in the hqlQuery variable;\r\n    // the parameter are stored in a Map&lt;String, Object&gt; called params\r\n    Query hQuery = hibSession.createQuery(hqlQuery);\r\n    for (Entry&lt;String, Object&gt; param : params.entrySet()) {\r\n        String key = param.getKey();\r\n        Object value = param.getValue();\r\n        hQuery.setParameter(key, value);\r\n    }\r\n\r\n    List&lt;?&gt; result = hQuery.list();\r\n\r\n\r\n![The result I&#39;m getting after executing query.list();][1]\r\n\r\nDoes anyone know what might be the problem here?\r\n\r\n**Update 1**\r\n\r\nI&#39;ve recently upgrade from hibernate 3.2 to 4.3.5. Before the upgrade everything worked fine. After the upgrade I get this error.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/1qwaR.png","title":"Hibernate returns list of nulls although executed SQL returns values","body":"<p>I'm using hibernate as an ORMapper. I want to execute an actually rather simple hql query:</p>\n\n<pre><code>SELECT a \nFROM Foo a \nWHERE a.status = :A0status \nORDER BY a.bookingTypeCode ASC, \n         a.priority ASC\n</code></pre>\n\n<p>This hql query is then converted into a sql query which looks something like this: </p>\n\n<pre><code>select a.* \nfrom Foo a \nwhere a.status='A' \norder by a.bookingtypecode ASC, \n         a.priority ASC\n</code></pre>\n\n<p>When I execute the sql on the oracle database using the Oracle SQL Developer I get 17 rows returned. However, when I execute the hql query (using the list method of a <code>Query</code> I get a list of 17 elements that are all <code>null</code>. Although the number of elements is correct, not a single one of the elements is actually loaded. </p>\n\n<p>This is the way I create and execute my query:</p>\n\n<pre><code>// the hql query is stored in the hqlQuery variable;\n// the parameter are stored in a Map&lt;String, Object&gt; called params\nQuery hQuery = hibSession.createQuery(hqlQuery);\nfor (Entry&lt;String, Object&gt; param : params.entrySet()) {\n    String key = param.getKey();\n    Object value = param.getValue();\n    hQuery.setParameter(key, value);\n}\n\nList&lt;?&gt; result = hQuery.list();\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/1qwaR.png\" alt=\"The result I&#39;m getting after executing query.list();\"></p>\n\n<p>Does anyone know what might be the problem here?</p>\n\n<p><strong>Update 1</strong></p>\n\n<p>I've recently upgrade from hibernate 3.2 to 4.3.5. Before the upgrade everything worked fine. After the upgrade I get this error.</p>\n"},{"tags":["java","spring-boot","swagger","springdoc"],"answers":[{"comments":[{"owner":{"account_id":10594606,"reputation":3598,"user_id":7803797,"display_name":"Chaitanya"},"score":0,"creation_date":1697482973,"post_id":77301114,"comment_id":136282934,"body_markdown":"Thanks for the answer, but this does not seem to work.","body":"Thanks for the answer, but this does not seem to work."},{"owner":{"account_id":4910831,"reputation":471,"user_id":3956183,"display_name":"LostMage"},"score":0,"creation_date":1697548272,"post_id":77301114,"comment_id":136291569,"body_markdown":"It worked for me, thanks.\nI have this setup: `springdoc.swagger-ui.url=/api.yml` and then the `api.yml` file under `src/main/resources/static folder`.\n\nNot I had to do a `mvn package` for it to appear there.","body":"It worked for me, thanks. I have this setup: <code>springdoc.swagger-ui.url=&#47;api.yml</code> and then the <code>api.yml</code> file under <code>src&#47;main&#47;resources&#47;static folder</code>.  Not I had to do a <code>mvn package</code> for it to appear there."}],"tags":[],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697451233,"creation_date":1697451233,"answer_id":77301114,"question_id":77296811,"body_markdown":"The property you&#39;ll want to set is `springdoc.swagger-ui.url` not `springdoc.api-docs.path`.\r\n\r\n`springdoc.swagger-ui.url=/swagger-config.yml` should do the trick.\r\n\r\nAlso, note that the YML file should be put inside `src/main/resources/static` directory.","title":"Unable to load custom openapi.yaml file using springdoc-openapi-starter-webmvc-ui","body":"<p>The property you'll want to set is <code>springdoc.swagger-ui.url</code> not <code>springdoc.api-docs.path</code>.</p>\n<p><code>springdoc.swagger-ui.url=/swagger-config.yml</code> should do the trick.</p>\n<p>Also, note that the YML file should be put inside <code>src/main/resources/static</code> directory.</p>\n"}],"owner":{"account_id":10594606,"reputation":3598,"user_id":7803797,"display_name":"Chaitanya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697451233,"creation_date":1697375485,"question_id":77296811,"body_markdown":"I am using Spring Boot 3 and the library `springdoc-openapi-starter-webmvc-ui` for swagger documentation. The swagger ui works fine `http://localhost:8080/swagger-ui/index.html` when it reads from the existing controllers. My current dependencies are as follows -\r\n\r\n```\r\n        &lt;!-- Swagger dependency--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;\r\n            &lt;version&gt;0.45&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n\r\nBut now I am trying to use a custom yaml file which has the openapi specs defined in it. For this I added the following in my `application.properties` file \r\n\r\n```\r\nspringdoc.api-docs.path=classpath:/swagger-config.yaml\r\n```\r\n\r\nOn running the server again, the same swagger link gives the following error `Failed to load remote configuration.` [![enter image description here][1]][1]\r\n\r\nI tried various other configurations, but none seem to pick up the specs from the `swagger-config.yaml` file. Any inputs here would be highly helpful !!!\r\n\r\n\r\nPlease note that my `swagger-config.yaml` is a valid file and it works perfectly fine in the online swagger [editor][2]. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FqgkC.png\r\n  [2]: https://editor.swagger.io/","title":"Unable to load custom openapi.yaml file using springdoc-openapi-starter-webmvc-ui","body":"<p>I am using Spring Boot 3 and the library <code>springdoc-openapi-starter-webmvc-ui</code> for swagger documentation. The swagger ui works fine <code>http://localhost:8080/swagger-ui/index.html</code> when it reads from the existing controllers. My current dependencies are as follows -</p>\n<pre><code>        &lt;!-- Swagger dependency--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;\n            &lt;version&gt;0.45&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>But now I am trying to use a custom yaml file which has the openapi specs defined in it. For this I added the following in my <code>application.properties</code> file</p>\n<pre><code>springdoc.api-docs.path=classpath:/swagger-config.yaml\n</code></pre>\n<p>On running the server again, the same swagger link gives the following error <code>Failed to load remote configuration.</code> <a href=\"https://i.stack.imgur.com/FqgkC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FqgkC.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried various other configurations, but none seem to pick up the specs from the <code>swagger-config.yaml</code> file. Any inputs here would be highly helpful !!!</p>\n<p>Please note that my <code>swagger-config.yaml</code> is a valid file and it works perfectly fine in the online swagger <a href=\"https://editor.swagger.io/\" rel=\"nofollow noreferrer\">editor</a>.</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":1341681,"reputation":475,"user_id":1283229,"display_name":"alezhu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697451166,"creation_date":1697451166,"answer_id":77301105,"question_id":69368266,"body_markdown":"    this.extensions.configure&lt;ApplicationExtension&gt;(&quot;android&quot;) { }\r\nor\r\n\r\n    this.extensions.configure&lt;LibraryExtension&gt;(&quot;android&quot;) { }\r\n\r\n","title":"putting android {} block into project extension in kotlin dsl build.gradle.kts","body":"<pre><code>this.extensions.configure&lt;ApplicationExtension&gt;(&quot;android&quot;) { }\n</code></pre>\n<p>or</p>\n<pre><code>this.extensions.configure&lt;LibraryExtension&gt;(&quot;android&quot;) { }\n</code></pre>\n"}],"owner":{"account_id":22815588,"reputation":11,"user_id":16966271,"display_name":"hedew28310"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697451166,"creation_date":1632861895,"question_id":69368266,"body_markdown":"I want to put android {} block in to project.myextension tih dependencies altogether.\r\n\r\nHow can I do this?\r\n\r\n    fun Project.androidUIDep(){\r\n        apply(plugin = &quot;com.android.application&quot;)\r\n        apply(plugin = &quot;kotlin-android&quot;)\r\n    \r\n    \r\n        android{} ?? \r\n    dependencies {\r\n            &quot;implementation&quot;(project(&quot;:domain&quot;))\r\n        }\r\n    }","title":"putting android {} block into project extension in kotlin dsl build.gradle.kts","body":"<p>I want to put android {} block in to project.myextension tih dependencies altogether.</p>\n<p>How can I do this?</p>\n<pre><code>fun Project.androidUIDep(){\n    apply(plugin = &quot;com.android.application&quot;)\n    apply(plugin = &quot;kotlin-android&quot;)\n\n\n    android{} ?? \ndependencies {\n        &quot;implementation&quot;(project(&quot;:domain&quot;))\n    }\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":5574314,"reputation":1656,"user_id":4418293,"accept_rate":74,"display_name":"Diane Kaplan"},"score":1,"creation_date":1579972088,"post_id":59910736,"comment_id":105948028,"body_markdown":"I&#39;m running these commands from IntelliJ&#39;s terminal window","body":"I&#39;m running these commands from IntelliJ&#39;s terminal window"}],"answers":[{"comments":[{"owner":{"account_id":5574314,"reputation":1656,"user_id":4418293,"accept_rate":74,"display_name":"Diane Kaplan"},"score":0,"creation_date":1579970201,"post_id":59910783,"comment_id":105947516,"body_markdown":"Thanks for the suggestion! I added that to my pom.xml and refreshed my maven window and ran &#39;Download Sources and Documentation&#39;, but when I retry &quot;javac ScoreCalculator.java&quot;, the error message is exactly the same. Is there another step I need to make that change fully take effect?","body":"Thanks for the suggestion! I added that to my pom.xml and refreshed my maven window and ran &#39;Download Sources and Documentation&#39;, but when I retry &quot;javac ScoreCalculator.java&quot;, the error message is exactly the same. Is there another step I need to make that change fully take effect?"}],"tags":[],"owner":{"account_id":13972860,"reputation":11,"user_id":10090962,"display_name":"hamidi marwane"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1579966861,"creation_date":1579966861,"answer_id":59910783,"question_id":59910736,"body_markdown":"use this dependency \r\n \r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20090211&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"java maven import issue: error: package com.google.gson does not exist","body":"<p>use this dependency </p>\n\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20090211&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5574314,"reputation":1656,"user_id":4418293,"accept_rate":74,"display_name":"Diane Kaplan"},"score":1,"creation_date":1579973128,"post_id":59911392,"comment_id":105948327,"body_markdown":"Thanks for the suggestion! I see that you use the full path to the jar, whereas I had added only the directory path, not the jar (following an example where only directories were used there). Making that change to the CLASSPATH makes the errors mentioned above go away when I re-attempt javac!  That second command gives an error (&quot;Could not find or load main class ScoreCalculator&quot;), but I may not need that after all?","body":"Thanks for the suggestion! I see that you use the full path to the jar, whereas I had added only the directory path, not the jar (following an example where only directories were used there). Making that change to the CLASSPATH makes the errors mentioned above go away when I re-attempt javac!  That second command gives an error (&quot;Could not find or load main class ScoreCalculator&quot;), but I may not need that after all?"},{"owner":{"account_id":5574314,"reputation":1656,"user_id":4418293,"accept_rate":74,"display_name":"Diane Kaplan"},"score":1,"creation_date":1579973414,"post_id":59911392,"comment_id":105948416,"body_markdown":"From the same directory where the class lives- so it should see it :)\n/Users/dkaplan/DianeCodeTests/mightier-maven/src/main/java","body":"From the same directory where the class lives- so it should see it :) /Users/dkaplan/DianeCodeTests/mightier-maven/src/main/java"}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1579971944,"creation_date":1579971215,"answer_id":59911392,"question_id":59910736,"body_markdown":"Execute these commands from the directory where `ScoreCalculator.java` is present in MacOS.\n\n&gt; `javac -cp /Users/dkaplan/.m2/repository/com/google/code/gson/gson/2.8.6/gson-2.8.6.jar ScoreCalculator.java`\n&gt;\n&gt; `java -cp /Users/dkaplan/.m2/repository/com/google/code/gson/gson/2.8.6/gson-2.8.6.jar ScoreCalculator`","title":"java maven import issue: error: package com.google.gson does not exist","body":"<p>Execute these commands from the directory where <code>ScoreCalculator.java</code> is present in MacOS.</p>\n<blockquote>\n<p><code>javac -cp /Users/dkaplan/.m2/repository/com/google/code/gson/gson/2.8.6/gson-2.8.6.jar ScoreCalculator.java</code></p>\n<p><code>java -cp /Users/dkaplan/.m2/repository/com/google/code/gson/gson/2.8.6/gson-2.8.6.jar ScoreCalculator</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23557694,"reputation":38,"user_id":17599468,"display_name":"Abrar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697450089,"creation_date":1697450089,"answer_id":77300987,"question_id":59910736,"body_markdown":"I tried many times but when I used \r\n```mvn clean install```\r\nthere was no error.\r\n\r\nBut when I used \r\n```mvn dependency:tree or mvn dependency:list```\r\nGson and sprite jars were missing from my project and after a lot of trial and error I was able to fix the issue.\r\n\r\nThe solution that worked for me was to place the dependencies for GSON and Sprite before any other dependency in the pom.xml inside the dependencies xml tag because eralier I was placing them last.\r\n\r\n","title":"java maven import issue: error: package com.google.gson does not exist","body":"<p>I tried many times but when I used\n<code>mvn clean install</code>\nthere was no error.</p>\n<p>But when I used\n<code>mvn dependency:tree or mvn dependency:list</code>\nGson and sprite jars were missing from my project and after a lot of trial and error I was able to fix the issue.</p>\n<p>The solution that worked for me was to place the dependencies for GSON and Sprite before any other dependency in the pom.xml inside the dependencies xml tag because eralier I was placing them last.</p>\n"}],"owner":{"account_id":5574314,"reputation":1656,"user_id":4418293,"accept_rate":74,"display_name":"Diane Kaplan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15269,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":59911392,"answer_count":3,"score":6,"last_activity_date":1697450089,"creation_date":1579966499,"question_id":59910736,"body_markdown":"I have a new environment, and I&#39;m trying to make a simple java project in IntelliJ containing a ScoreCalculator.java class that will import com.google.gson. This *should* be simple but there&#39;s something I&#39;m missing. \r\n\r\nI made a fresh maven project (including this dependency in pom.xml), and when I try `javac ScoreCalculator.java` I get:  error: package com.google.gson.stream does not exist\r\n\r\nReading around, I found the jar file where this son-2.8.6.jar file lives (inside my .m2 directory), and I updated my CLASSPATH to be that folder path: \r\n\r\n    Dianes-MBP:java dkaplan$ echo $CLASSPATH\r\n    /Users/dkaplan/.m2/repository/com/google/code/gson/gson/2.8.6\r\n\r\nMy pom file has: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mightier-maven&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;7&lt;/source&gt;\r\n                        &lt;target&gt;7&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nMy little test program so far has nothing but the imports I&#39;ll need: \r\n\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.nio.file.Path;\r\n    import com.google.gson.*;\r\n    import com.google.gson.stream.JsonReader;\r\n    \r\n    public class ScoreCalculator {\r\n        public static void main(String args[]){\r\n    \r\n            System.out.println(&quot;Hello world&quot;);\r\n        }\r\n    }\r\n\r\nThe directory setup looks like this: \r\n[![The directory setup looks like this][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DoxsX.png\r\n\r\nBut when I try compiling this way I get the error: \r\n\r\n    Dianes-MBP:java dkaplan$ javac ScoreCalculator.java\r\n    ScoreCalculator.java:5: error: package com.google.gson.stream does not exist\r\n    import com.google.gson.stream.JsonReader;\r\n                                 ^\r\n    ScoreCalculator.java:4: error: package com.google.gson does not exist\r\n    import com.google.gson.*;\r\n    ^\r\n    2 errors\r\n\r\nNote: I also tried the same thing with a fresh Gradle project in IntelliJ and I get the same error from the same command, so I&#39;m thinking there&#39;s some setup (or directory organization?) piece I&#39;m missing here. \r\n\r\nWhat else should I do/check?\r\n\r\n","title":"java maven import issue: error: package com.google.gson does not exist","body":"<p>I have a new environment, and I'm trying to make a simple java project in IntelliJ containing a ScoreCalculator.java class that will import com.google.gson. This <em>should</em> be simple but there's something I'm missing. </p>\n\n<p>I made a fresh maven project (including this dependency in pom.xml), and when I try <code>javac ScoreCalculator.java</code> I get:  error: package com.google.gson.stream does not exist</p>\n\n<p>Reading around, I found the jar file where this son-2.8.6.jar file lives (inside my .m2 directory), and I updated my CLASSPATH to be that folder path: </p>\n\n<pre><code>Dianes-MBP:java dkaplan$ echo $CLASSPATH\n/Users/dkaplan/.m2/repository/com/google/code/gson/gson/2.8.6\n</code></pre>\n\n<p>My pom file has: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;mightier-maven&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;7&lt;/source&gt;\n                    &lt;target&gt;7&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;version&gt;2.8.6&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>My little test program so far has nothing but the imports I'll need: </p>\n\n<pre><code>import java.io.File;\nimport java.io.FileReader;\nimport java.nio.file.Path;\nimport com.google.gson.*;\nimport com.google.gson.stream.JsonReader;\n\npublic class ScoreCalculator {\n    public static void main(String args[]){\n\n        System.out.println(\"Hello world\");\n    }\n}\n</code></pre>\n\n<p>The directory setup looks like this: \n<a href=\"https://i.stack.imgur.com/DoxsX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/DoxsX.png\" alt=\"The directory setup looks like this\"></a></p>\n\n<p>But when I try compiling this way I get the error: </p>\n\n<pre><code>Dianes-MBP:java dkaplan$ javac ScoreCalculator.java\nScoreCalculator.java:5: error: package com.google.gson.stream does not exist\nimport com.google.gson.stream.JsonReader;\n                             ^\nScoreCalculator.java:4: error: package com.google.gson does not exist\nimport com.google.gson.*;\n^\n2 errors\n</code></pre>\n\n<p>Note: I also tried the same thing with a fresh Gradle project in IntelliJ and I get the same error from the same command, so I'm thinking there's some setup (or directory organization?) piece I'm missing here. </p>\n\n<p>What else should I do/check?</p>\n"},{"tags":["java","cxf","jakarta-migration"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697209431,"post_id":77285329,"comment_id":136255274,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":17192809,"reputation":21,"user_id":12446286,"display_name":"Manish Shinde"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1697449994,"creation_date":1697176125,"question_id":77285329,"body_markdown":" **- Issue:**\r\n\r\nWe are trying to update CXF to 4 version from 3.5.This we are doing alongwith Java 17 and Tomcat10. We faced many issues as part of the upgrade but now we are stuck with below error.\r\n\r\n **- Error**\r\n\r\n    Caused by: jakarta.xml.ws.WebServiceException: Error while searching for service [jakarta.xml.ws.spi.Provider]\r\n    2023-10-11T06:50:30.500977690Z: [ERROR]  \tat jakarta.xml.ws.spi.FactoryFinder$1.createException(FactoryFinder.java:31)\r\n    Caused by: java.util.ServiceConfigurationError: jakarta.xml.ws.spi.Provider: org.apache.cxf.jaxws.spi.ProviderImpl Unable to get public no-arg constructor\r\n    .\r\n    .\r\n    .\r\n    2023-10-11T06:50:30.501332500Z: [ERROR] \r\n    Caused by: java.lang.NoClassDefFoundError: jakarta/xml/bind/JAXBException\r\n \r\n\r\n **- Solutions tried till now**\r\n\r\nWe have a stub jar created with CXF4 as well and also we are using jakartaee 9 version jars as part of **javax** pkg to **jakarta** pkgs. Not sure what is causing below issue.\r\n\r\n\r\nIf someone has any idea on this please help us.\r\n\r\nFor this solution we did not find any solution provided on Google as well, so unable to move ahead with this.","title":"jakarta.xml.ws.spi.Provider: org.apache.cxf.jaxws.spi.ProviderImpl Unable to get public no-arg constructor","body":"<p><strong>- Issue:</strong></p>\n<p>We are trying to update CXF to 4 version from 3.5.This we are doing alongwith Java 17 and Tomcat10. We faced many issues as part of the upgrade but now we are stuck with below error.</p>\n<p><strong>- Error</strong></p>\n<pre><code>Caused by: jakarta.xml.ws.WebServiceException: Error while searching for service [jakarta.xml.ws.spi.Provider]\n2023-10-11T06:50:30.500977690Z: [ERROR]     at jakarta.xml.ws.spi.FactoryFinder$1.createException(FactoryFinder.java:31)\nCaused by: java.util.ServiceConfigurationError: jakarta.xml.ws.spi.Provider: org.apache.cxf.jaxws.spi.ProviderImpl Unable to get public no-arg constructor\n.\n.\n.\n2023-10-11T06:50:30.501332500Z: [ERROR] \nCaused by: java.lang.NoClassDefFoundError: jakarta/xml/bind/JAXBException\n</code></pre>\n<p><strong>- Solutions tried till now</strong></p>\n<p>We have a stub jar created with CXF4 as well and also we are using jakartaee 9 version jars as part of <strong>javax</strong> pkg to <strong>jakarta</strong> pkgs. Not sure what is causing below issue.</p>\n<p>If someone has any idea on this please help us.</p>\n<p>For this solution we did not find any solution provided on Google as well, so unable to move ahead with this.</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":306041,"reputation":1853,"user_id":616553,"accept_rate":63,"display_name":"mist"},"score":0,"creation_date":1311867811,"post_id":5386934,"comment_id":8161337,"body_markdown":"I have the same problem that starts filling the logs, the server loops and does not serve requests. This happens when I try to reload something - xhtml files, class files...","body":"I have the same problem that starts filling the logs, the server loops and does not serve requests. This happens when I try to reload something - xhtml files, class files..."}],"answers":[{"tags":[],"owner":{"account_id":158587,"reputation":2939,"user_id":377337,"accept_rate":76,"display_name":"i_raqz"},"comment_count":0,"down_vote_count":3,"up_vote_count":9,"is_accepted":true,"score":6,"last_activity_date":1301237036,"creation_date":1301237036,"answer_id":5449944,"question_id":5386934,"body_markdown":"seems like i was creating instance of something which was already created..i removed the instance and now it works fine","title":"INFO: Illegal access: this web application instance has been stopped already","body":"<p>seems like i was creating instance of something which was already created..i removed the instance and now it works fine</p>\n"},{"tags":[],"owner":{"account_id":6010232,"reputation":2616,"user_id":4720910,"display_name":"Musa"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1470299829,"creation_date":1470297521,"answer_id":38761644,"question_id":5386934,"body_markdown":"This because of you are deploying new instance of your application to server but the some thread or connection of previous instance attempts doing some business logic you have written. That&#39;s why, the main part of JVM called ClassLoader informs you about &quot;Illegal access: this web application instance has been stopped already&quot; and throws appropriate exception ... You can switch off auto deploy feature of Application Server which preferable on Production Environment and after deploying application restart server manually. Or you can in Class level control Servlet Life Cycle :))) during &quot;pre deploy&quot; close all connection or stop some threads. Or use sophisticated way controlling Threads with ManagedExecutorService. Good luck!!!","title":"INFO: Illegal access: this web application instance has been stopped already","body":"<p>This because of you are deploying new instance of your application to server but the some thread or connection of previous instance attempts doing some business logic you have written. That's why, the main part of JVM called ClassLoader informs you about \"Illegal access: this web application instance has been stopped already\" and throws appropriate exception ... You can switch off auto deploy feature of Application Server which preferable on Production Environment and after deploying application restart server manually. Or you can in Class level control Servlet Life Cycle :))) during \"pre deploy\" close all connection or stop some threads. Or use sophisticated way controlling Threads with ManagedExecutorService. Good luck!!!</p>\n"},{"tags":[],"owner":{"account_id":6362757,"reputation":1729,"user_id":4937741,"display_name":"College Student"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1697446851,"creation_date":1471359484,"answer_id":38978249,"question_id":5386934,"body_markdown":"Are you using Netbeans?  I had a similar error except it was could not load *oracle.sql.lnxlib*.  Like many posters have pointed out, this error usually has to do with Tomcat caching multiple instances of the application. A coworker was able to solve the problem for me by undeploying old instances of the application within Netbeans.  To do so, go to the **Services Tab &gt; Servers** and then double click on **Apache Tomcat or TomEE** and after running the application once since opening netbeans,  a Web Applications Folder should appear.  If you double click on that, you should see instances of your application appear.  You should be able to right click them and then click undeploy (you may have to right click them and hit stop first).  Finally, you should stop and then start tomcat before building and running your application.\r\n\r\n![[][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/zdpbU.png","title":"INFO: Illegal access: this web application instance has been stopped already","body":"<p>Are you using Netbeans?  I had a similar error except it was could not load <em>oracle.sql.lnxlib</em>.  Like many posters have pointed out, this error usually has to do with Tomcat caching multiple instances of the application. A coworker was able to solve the problem for me by undeploying old instances of the application within Netbeans.  To do so, go to the <strong>Services Tab &gt; Servers</strong> and then double click on <strong>Apache Tomcat or TomEE</strong> and after running the application once since opening netbeans,  a Web Applications Folder should appear.  If you double click on that, you should see instances of your application appear.  You should be able to right click them and then click undeploy (you may have to right click them and hit stop first).  Finally, you should stop and then start tomcat before building and running your application.</p>\n<p><img src=\"https://i.stack.imgur.com/zdpbU.png\" alt=\"\" /></p>\n"},{"tags":[],"owner":{"account_id":7327913,"reputation":476,"user_id":5581772,"display_name":"SpareTheRod"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587488789,"creation_date":1587488789,"answer_id":61349087,"question_id":5386934,"body_markdown":"I got this error on Tomcat on an Ubuntu server ....finally resolved it by doing a Tomcat shutdown with &quot;systemctl stop tomcat&quot; and then &quot;sudo reboot&quot; and then once the box came back up, starting Tomcat again","title":"INFO: Illegal access: this web application instance has been stopped already","body":"<p>I got this error on Tomcat on an Ubuntu server ....finally resolved it by doing a Tomcat shutdown with \"systemctl stop tomcat\" and then \"sudo reboot\" and then once the box came back up, starting Tomcat again</p>\n"},{"tags":[],"owner":{"account_id":19034747,"reputation":74,"user_id":13896058,"display_name":"PhongPhamIUH"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594961212,"creation_date":1594952347,"answer_id":62946113,"question_id":5386934,"body_markdown":"If you use gradle there is an error\r\n```\r\nIllegal access: this web application instance has been stopped already. Could not load []. \r\n```\r\nThe following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\r\nYou can change `mysql-connect-java` to\r\n`mysql: mysql-connector-java: 8.0.13`\r\n\r\nGood luck","title":"INFO: Illegal access: this web application instance has been stopped already","body":"<p>If you use gradle there is an error</p>\n<pre><code>Illegal access: this web application instance has been stopped already. Could not load []. \n</code></pre>\n<p>The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\nYou can change <code>mysql-connect-java</code> to\n<code>mysql: mysql-connector-java: 8.0.13</code></p>\n<p>Good luck</p>\n"}],"owner":{"account_id":158587,"reputation":2939,"user_id":377337,"accept_rate":76,"display_name":"i_raqz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70503,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":5449944,"answer_count":5,"score":11,"last_activity_date":1697449843,"creation_date":1300769221,"question_id":5386934,"body_markdown":"i get this error \r\n\r\n    Mar 22, 2011 12:36:01 AM org.apache.catalina.loader.WebappClassLoader findResourceInternal\r\n    INFO: Illegal access: this web application instance has been stopped already.  Could not load META-INF/services/javax.xml.parsers.DocumentBuilderFactory.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\r\n    Mar 22, 2011 12:36:01 AM org.apache.catalina.loader.WebappClassLoader loadClass\r\n    INFO: Illegal access: this web application instance has been stopped already.  Could not load com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\r\n    java.lang.IllegalStateException\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1562)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1521)\r\n    \tat javax.xml.parsers.FactoryFinder.getProviderClass(Unknown Source)\r\n    \tat javax.xml.parsers.FactoryFinder.newInstance(Unknown Source)\r\n    \tat javax.xml.parsers.FactoryFinder.find(Unknown Source)\r\n    \tat javax.xml.parsers.DocumentBuilderFactory.newInstance(Unknown Source)\r\n    \tat com.xmlparser.XmlParser.parseXmlFile(XmlParser.java:33)\r\n    \tat com.xmlparser.XmlParser.&lt;init&gt;(XmlParser.java:25)\r\n    \tat com.jobs.SendRoutineMessagesJob.execute(SendRoutineMessagesJob.java:29)\r\n    \tat org.quartz.core.JobRunShell.run(JobRunShell.java:199)\r\n    \tat org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:546)\r\n\r\ncould some one please guide me as to what mistake i am committing here. i am not sure if i would need to paste the source code as well.","title":"INFO: Illegal access: this web application instance has been stopped already","body":"<p>i get this error </p>\n\n<pre><code>Mar 22, 2011 12:36:01 AM org.apache.catalina.loader.WebappClassLoader findResourceInternal\nINFO: Illegal access: this web application instance has been stopped already.  Could not load META-INF/services/javax.xml.parsers.DocumentBuilderFactory.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\nMar 22, 2011 12:36:01 AM org.apache.catalina.loader.WebappClassLoader loadClass\nINFO: Illegal access: this web application instance has been stopped already.  Could not load com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\njava.lang.IllegalStateException\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1562)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1521)\n    at javax.xml.parsers.FactoryFinder.getProviderClass(Unknown Source)\n    at javax.xml.parsers.FactoryFinder.newInstance(Unknown Source)\n    at javax.xml.parsers.FactoryFinder.find(Unknown Source)\n    at javax.xml.parsers.DocumentBuilderFactory.newInstance(Unknown Source)\n    at com.xmlparser.XmlParser.parseXmlFile(XmlParser.java:33)\n    at com.xmlparser.XmlParser.&lt;init&gt;(XmlParser.java:25)\n    at com.jobs.SendRoutineMessagesJob.execute(SendRoutineMessagesJob.java:29)\n    at org.quartz.core.JobRunShell.run(JobRunShell.java:199)\n    at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:546)\n</code></pre>\n\n<p>could some one please guide me as to what mistake i am committing here. i am not sure if i would need to paste the source code as well.</p>\n"},{"tags":["java","spring","hibernate","spring-boot","jpa"],"comments":[{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1542654724,"post_id":53381067,"comment_id":93638039,"body_markdown":"Your NutrionalValueIngredientId fields are package protected, you need to make them private and add getters/setters (manually (using ide generator for example) ) or use lombok.","body":"Your NutrionalValueIngredientId fields are package protected, you need to make them private and add getters/setters (manually (using ide generator for example) ) or use lombok."},{"owner":{"account_id":14782921,"reputation":171,"user_id":10676000,"display_name":"Francesco"},"score":0,"creation_date":1542655645,"post_id":53381067,"comment_id":93638446,"body_markdown":"I tried but I get the same error.","body":"I tried but I get the same error."},{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1542655922,"post_id":53381067,"comment_id":93638548,"body_markdown":"One more thing, you&#39;ve forgotten to add a required default constructor. Check [this](https://www.callicoder.com/hibernate-spring-boot-jpa-embeddable-demo/)","body":"One more thing, you&#39;ve forgotten to add a required default constructor. Check <a href=\"https://www.callicoder.com/hibernate-spring-boot-jpa-embeddable-demo/\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":14692591,"reputation":2143,"user_id":10610826,"display_name":"Mykhailo Moskura"},"score":0,"creation_date":1542656207,"post_id":53381067,"comment_id":93638665,"body_markdown":"Could you share NutritionalValue class","body":"Could you share NutritionalValue class"}],"answers":[{"comments":[{"owner":{"account_id":14782921,"reputation":171,"user_id":10676000,"display_name":"Francesco"},"score":0,"creation_date":1542658432,"post_id":53381605,"comment_id":93639743,"body_markdown":"Thanks for the reply. I changed the names of the variables, now I received another error.","body":"Thanks for the reply. I changed the names of the variables, now I received another error."}],"tags":[],"owner":{"account_id":2029599,"reputation":3268,"user_id":1813696,"accept_rate":33,"display_name":"Debopam"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1542656669,"creation_date":1542656669,"answer_id":53381605,"question_id":53381067,"body_markdown":"Change the variable Names as below\r\n\r\nLong ingredient_id to Long ingredientid\r\nnutrional_value_id to nutrionalvalueid\r\n\r\nExample\r\n\r\n      @Column(name = &quot;ingredient_id&quot;)\r\n      Long ingredient_id;\r\n\r\nto\r\n\r\n    @Column(name = &quot;ingredient_id&quot;)\r\n    Long ingredientid;\r\n\r\n**Then generate getter setter for all the fields. Hibernate is unable to set the fields because there is no public getter/setter.**","title":"Could not set field value by reflection","body":"<p>Change the variable Names as below</p>\n\n<p>Long ingredient_id to Long ingredientid\nnutrional_value_id to nutrionalvalueid</p>\n\n<p>Example</p>\n\n<pre><code>  @Column(name = \"ingredient_id\")\n  Long ingredient_id;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>@Column(name = \"ingredient_id\")\nLong ingredientid;\n</code></pre>\n\n<p><strong>Then generate getter setter for all the fields. Hibernate is unable to set the fields because there is no public getter/setter.</strong></p>\n"},{"comments":[{"owner":{"account_id":14782921,"reputation":171,"user_id":10676000,"display_name":"Francesco"},"score":0,"creation_date":1542739199,"post_id":53397985,"comment_id":93674081,"body_markdown":"Having used spring data rest the crud operations were generated automatically.\nthe solution proposed to us, however, would oblige me to rewrite the post method.\nwhat I would like to do is insert this table directly from the rest call. @Roshini","body":"Having used spring data rest the crud operations were generated automatically. the solution proposed to us, however, would oblige me to rewrite the post method. what I would like to do is insert this table directly from the rest call. @Roshini"}],"tags":[],"owner":{"account_id":11951172,"reputation":85,"user_id":8744800,"display_name":"Roshini"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542733379,"creation_date":1542733379,"answer_id":53397985,"question_id":53381067,"body_markdown":"Set values for the the id entity &#39;NutrionalValueIngredientId &#39; then try to insert that as embedded id for &#39;JoinedNutrionalValueIngredient&#39;. \r\nrefer below example:\r\n\r\n\t   \r\n    package com.example;\r\n    import java.io.Serializable;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Embeddable;\r\n\r\n    @Embeddable\r\n    public class EmployeeId implements Serializable\r\n    {\r\n    private static final long serialVersionUID = 1L;\r\n    @Column(name = &quot;EMP_ID&quot;)\r\n    private int empId;\r\n    @Column(name = &quot;DEPARTMENT&quot;)\r\n    private String department;\r\n\r\n    public EmployeeId()\r\n    {\r\n        super();\r\n    }\r\n    public EmployeeId(int empId, String department)\r\n    {\r\n        super();\r\n        this.empId = empId;\r\n        this.department = department;\r\n    }\r\n\r\n    public int getEmpId()\r\n    {\r\n        return empId;\r\n    }\r\n    public void setEmpId(int empId)\r\n    {\r\n        this.empId = empId;\r\n    }\r\n    public String getDepartment()\r\n    {\r\n        return department;\r\n    }\r\n    public void setDepartment(String department)\r\n    {\r\n        this.department = department;\r\n    }\r\n    @Override\r\n    public int hashCode()\r\n    {\r\n        final int prime = 31;\r\n        int result = 1;\r\n        result = prime * result + ((department == null) ? 0 : department.hashCode());\r\n        result = prime * result + empId;\r\n        return result;\r\n    }\r\n    @Override\r\n    public boolean equals(Object obj)\r\n    {\r\n        if (this == obj)\r\n            return true;\r\n        if (obj == null)\r\n            return false;\r\n        if (getClass() != obj.getClass())\r\n            return false;\r\n        EmployeeId other = (EmployeeId) obj;\r\n        if (department == null)\r\n        {\r\n            if (other.department != null)\r\n                return false;\r\n        } else if (!department.equals(other.department))\r\n            return false;\r\n        if (empId != other.empId)\r\n            return false;\r\n        return true;\r\n    }\r\n     }\r\n\r\nRefer above Embedded Id class(EmployeeId). which is primary key of Employee class.\r\nSo, We need to set the values in Id class(EmployeeId) Then, inject that id class to Employee as primary key.\r\nThen it will work. Without primary key that value is null. \r\n\r\n    package com.example;\r\n    import java.io.Serializable;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    @Entity\r\n    public class Employee implements Serializable\r\n    {\r\n    private static final long serialVersionUID = 1L;\r\n    @EmbeddedId\r\n    EmployeeId id;\r\n    @Column(name=&quot;EMP_NAME&quot;)\r\n    private String empName;\r\n    \r\n    public Employee()\r\n    {\r\n        super();\r\n    }\r\n    public Employee(EmployeeId id, String empName)\r\n    {\r\n        super();\r\n        this.id = id;\r\n        this.empName = empName;\r\n    }\r\n    public EmployeeId getId()\r\n    {\r\n        return id;\r\n    }\r\n    public void setId(EmployeeId id)\r\n    {\r\n        this.id = id;\r\n    }\r\n    public String getEmpName()\r\n    {\r\n        return empName;\r\n    }\r\n    public void setEmpName(String empName)\r\n    {\r\n        this.empName = empName;\r\n    }\r\n    } \r\n\r\nSet Values for Id class and other field like below.\r\n\r\n     //Create a new Employee object   \r\n     Employee employee = new Employee();\r\n            \r\n     EmployeeId employeeId = new EmployeeId(1,&quot;DailyNews&quot;);\r\n     employee.setEmpName(&quot;CompositeKey&quot;);\r\n     employee.setId(employeeId);\r\n            \r\n\t session.save(employee);\r\n","title":"Could not set field value by reflection","body":"<p>Set values for the the id entity 'NutrionalValueIngredientId ' then try to insert that as embedded id for 'JoinedNutrionalValueIngredient'. \nrefer below example:</p>\n\n<pre><code>package com.example;\nimport java.io.Serializable;\nimport javax.persistence.Column;\nimport javax.persistence.Embeddable;\n\n@Embeddable\npublic class EmployeeId implements Serializable\n{\nprivate static final long serialVersionUID = 1L;\n@Column(name = \"EMP_ID\")\nprivate int empId;\n@Column(name = \"DEPARTMENT\")\nprivate String department;\n\npublic EmployeeId()\n{\n    super();\n}\npublic EmployeeId(int empId, String department)\n{\n    super();\n    this.empId = empId;\n    this.department = department;\n}\n\npublic int getEmpId()\n{\n    return empId;\n}\npublic void setEmpId(int empId)\n{\n    this.empId = empId;\n}\npublic String getDepartment()\n{\n    return department;\n}\npublic void setDepartment(String department)\n{\n    this.department = department;\n}\n@Override\npublic int hashCode()\n{\n    final int prime = 31;\n    int result = 1;\n    result = prime * result + ((department == null) ? 0 : department.hashCode());\n    result = prime * result + empId;\n    return result;\n}\n@Override\npublic boolean equals(Object obj)\n{\n    if (this == obj)\n        return true;\n    if (obj == null)\n        return false;\n    if (getClass() != obj.getClass())\n        return false;\n    EmployeeId other = (EmployeeId) obj;\n    if (department == null)\n    {\n        if (other.department != null)\n            return false;\n    } else if (!department.equals(other.department))\n        return false;\n    if (empId != other.empId)\n        return false;\n    return true;\n}\n }\n</code></pre>\n\n<p>Refer above Embedded Id class(EmployeeId). which is primary key of Employee class.\nSo, We need to set the values in Id class(EmployeeId) Then, inject that id class to Employee as primary key.\nThen it will work. Without primary key that value is null. </p>\n\n<pre><code>package com.example;\nimport java.io.Serializable;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n@Entity\npublic class Employee implements Serializable\n{\nprivate static final long serialVersionUID = 1L;\n@EmbeddedId\nEmployeeId id;\n@Column(name=\"EMP_NAME\")\nprivate String empName;\n\npublic Employee()\n{\n    super();\n}\npublic Employee(EmployeeId id, String empName)\n{\n    super();\n    this.id = id;\n    this.empName = empName;\n}\npublic EmployeeId getId()\n{\n    return id;\n}\npublic void setId(EmployeeId id)\n{\n    this.id = id;\n}\npublic String getEmpName()\n{\n    return empName;\n}\npublic void setEmpName(String empName)\n{\n    this.empName = empName;\n}\n} \n</code></pre>\n\n<p>Set Values for Id class and other field like below.</p>\n\n<pre><code> //Create a new Employee object   \n Employee employee = new Employee();\n\n EmployeeId employeeId = new EmployeeId(1,\"DailyNews\");\n employee.setEmpName(\"CompositeKey\");\n employee.setId(employeeId);\n\n session.save(employee);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":208724,"reputation":10099,"user_id":4057038,"accept_rate":40,"display_name":"Meena Chaudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616247685,"creation_date":1616247685,"answer_id":66722269,"question_id":53381067,"body_markdown":"Check you are setting the instance for embedded id. I was not and getting this error.\r\n\r\nI change this \r\n\r\n    @EmbeddedId\r\n    ProductUserId id;    \r\n\r\n    ProductUser(Integer productId, Integer UserId, Double rating){\r\n        this.rating = rating\r\n    }\r\nto\r\n\r\n    @EmbeddedId\r\n    ProductUserId id;    \r\n\r\n    ProductUser(Integer productId, Integer userId, Double rating){\r\n        this.id = new ProductUserId(productId, userId);\r\n        this.rating = rating\r\n    }\r\n\r\n","title":"Could not set field value by reflection","body":"<p>Check you are setting the instance for embedded id. I was not and getting this error.</p>\n<p>I change this</p>\n<pre><code>@EmbeddedId\nProductUserId id;    \n\nProductUser(Integer productId, Integer UserId, Double rating){\n    this.rating = rating\n}\n</code></pre>\n<p>to</p>\n<pre><code>@EmbeddedId\nProductUserId id;    \n\nProductUser(Integer productId, Integer userId, Double rating){\n    this.id = new ProductUserId(productId, userId);\n    this.rating = rating\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6488042,"reputation":559,"user_id":5022951,"display_name":"Mat"},"score":0,"creation_date":1625737541,"post_id":68190592,"comment_id":120708681,"body_markdown":"This is what I had to do. I was populating my equivalent of &quot;ingredient&quot; and &quot;nutrionalValue&quot;, and getting the &quot;Could not set field...&quot; exception when saving.  Doing the above fixed the issue for me.","body":"This is what I had to do. I was populating my equivalent of &quot;ingredient&quot; and &quot;nutrionalValue&quot;, and getting the &quot;Could not set field...&quot; exception when saving.  Doing the above fixed the issue for me."}],"tags":[],"owner":{"account_id":8065519,"reputation":404,"user_id":6079800,"display_name":"Otti"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1625052476,"creation_date":1625039586,"answer_id":68190592,"question_id":53381067,"body_markdown":"     @Entity @Data\r\n     public class JoinedNutrionalValueIngredient implements Serializable {\r\n        \r\n            @EmbeddedId\r\n            private NutrionalValueIngredientId id = new NutrionalValueIngredientId();\r\n        \r\n        // ... rest of class  \r\n     }\r\n\r\nIn the `JoinedNutrionalValueIngredient ` class the compound id `NutrionalValueIngredientId `shall be instansiated. ","title":"Could not set field value by reflection","body":"<pre><code> @Entity @Data\n public class JoinedNutrionalValueIngredient implements Serializable {\n    \n        @EmbeddedId\n        private NutrionalValueIngredientId id = new NutrionalValueIngredientId();\n    \n    // ... rest of class  \n }\n</code></pre>\n<p>In the <code>JoinedNutrionalValueIngredient </code> class the compound id <code>NutrionalValueIngredientId </code>shall be instansiated.</p>\n"},{"tags":[],"owner":{"account_id":9823976,"reputation":11,"user_id":7277672,"display_name":"Jes&#250;s Moncada Ram&#237;rez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697449612,"creation_date":1697025758,"answer_id":77272881,"question_id":53381067,"body_markdown":"What happened to me was that I was trying to persist an entity with a compose id with a null field (as the error says &quot;null id generated for...&quot;). In your example, I was trying to persist an object like this (see `ing`):\r\n\r\n    JoinedNutrionalValueIngredientId wrongId = new JoinedNutrionalValueIngredientId(null, 435L)\r\n    JoinedNutrionalValueIngredient ing = new JoinedNutrionalValueIngredient(wrongId, ...);\r\n\r\nIn my case, this error came from a wrong DTO conversion. To fix it, I simply changed the logic, this is, setting the field&#39;s value before persisting.","title":"Could not set field value by reflection","body":"<p>What happened to me was that I was trying to persist an entity with a compose id with a null field (as the error says &quot;null id generated for...&quot;). In your example, I was trying to persist an object like this (see <code>ing</code>):</p>\n<pre><code>JoinedNutrionalValueIngredientId wrongId = new JoinedNutrionalValueIngredientId(null, 435L)\nJoinedNutrionalValueIngredient ing = new JoinedNutrionalValueIngredient(wrongId, ...);\n</code></pre>\n<p>In my case, this error came from a wrong DTO conversion. To fix it, I simply changed the logic, this is, setting the field's value before persisting.</p>\n"}],"owner":{"account_id":14782921,"reputation":171,"user_id":10676000,"display_name":"Francesco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38249,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":53381605,"answer_count":5,"score":9,"last_activity_date":1697449612,"creation_date":1542654236,"question_id":53381067,"body_markdown":"I have a problem with a many to many relationship. \r\nThe tables are: \r\ningredient and nutional value.\r\nI created a table of relations between the 2 entities, in which there are the external keys of ingredient and nutrional value (which form the compound key) and some attributes.\r\n\r\nClass `JoinedNutrionalValueIngredient`:\r\n\r\n    import lombok.Data;\r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.NotNull;\r\n    import java.io.Serializable;\r\n    \r\n    @Entity @Data\r\n    public class JoinedNutrionalValueIngredient implements Serializable {\r\n    \r\n        @EmbeddedId\r\n        private NutrionalValueIngredientId id;\r\n    \r\n        @ManyToOne(fetch= FetchType.LAZY)\r\n        @MapsId(&quot;ingredient_id&quot;)\r\n        private Ingredient ingredient;\r\n    \r\n        @ManyToOne(fetch=FetchType.LAZY)\r\n        @MapsId(&quot;nutrional_value_id&quot;)\r\n        private NutrionalValue nutrionalValue;\r\n    \r\n        @NotNull\r\n        String matrixUnit;\r\n\r\n        @NotNull\r\n        int value;\r\n\r\n        @NotNull\r\n        String valueType;\r\n    }\r\n\r\nClass `NutrionalValueIngredientId`:\r\n\r\n    import javax.persistence.*;\r\n    import java.io.Serializable;\r\n    import java.util.Objects;\r\n    \r\n    @Embeddable\r\n    @Getter\r\n    @Setter\r\n    public class NutrionalValueIngredientId implements Serializable{\r\n    \r\n        @Column(name = &quot;ingredient_id&quot;)\r\n        private Long ingredient_id;\r\n    \r\n        @Column(name = &quot;nutrional_value_id&quot;)\r\n        private Long nutrional_value_id;\r\n    \r\n        public NutrionalValueIngredientId() {\r\n            \r\n        }   \r\n       \r\n        public NutrionalValueIngredientId(Long ingredient, Long nutrionalValue){\r\n            this.ingredient_id=ingredient;\r\n            this.nutrional_value_id=nutrionalValue;\r\n        }\r\n        \r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n        \r\n            if (o == null || getClass() != o.getClass())\r\n                return false;\r\n        \r\n            NutrionalValueIngredientId that = (NutrionalValueIngredientId) o;\r\n            return Objects.equals(ingredient_id, that.ingredient_id) &amp;&amp;\r\n                        Objects.equals(nutrional_value_id, that.nutrional_value_id);\r\n        }\r\n        \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(ingredient_id, nutrional_value_id);\r\n        }\r\n    }\r\n\r\n\r\nWhen I try to insert a new field inside the relationship table I get this error:\r\n\r\n    {\r\n      &quot;timestamp&quot;: 1542653896247,\r\n      &quot;status&quot;: 500,\r\n      &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n      &quot;message&quot;: &quot;Could not set field value [1] value by reflection : [class com.whateat.reciper.model.NutrionalValueIngredientId.ingredient_id] setter of com.whateat.reciper.model.NutrionalValueIngredientId.ingredient_id; nested exception is org.hibernate.PropertyAccessException: Could not set field value [1] value by reflection : [class com.whateat.reciper.model.NutrionalValueIngredientId.ingredient_id] setter of com.whateat.reciper.model.NutrionalValueIngredientId.ingredient_id&quot;,\r\n      &quot;path&quot;: &quot;/v1/joinedNutrionalValueIngredients&quot;\r\n    }\r\n\r\n\r\nEdit: I added constructor and annotation `@Getter` and `@Setter`, but I have the same error.\r\n\r\nclass `NutritionalValue`:\r\n\r\n    @Data\r\n    @Entity\r\n    public class NutrionalValue implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n\r\n        @NotNull\r\n        private String name;\r\n\r\n        @NotNull\r\n        private String unit;\r\n\r\n        @NotNull\r\n        private String source;\r\n    \r\n        @ManyToOne\r\n        @NotNull\r\n        @JoinColumn(name = &quot;category_id&quot;)\r\n        private NutrionalValueCategory category;\r\n    \r\n        @OneToMany(mappedBy = &quot;nutrionalValue&quot;)\r\n        private Set&lt;JoinedNutrionalValueIngredient&gt; joined = new HashSet&lt;JoinedNutrionalValueIngredient&gt;();\r\n    \r\n    }\r\n\r\n edit:\r\nafter Debopam&#39;s answer, this error came out.\r\n\r\n    {\r\n      &quot;timestamp&quot;: 1542657216244,\r\n      &quot;status&quot;: 500,\r\n      &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n      &quot;message&quot;: &quot;null id generated for:class com.whateat.reciper.model.JoinedNutrionalValueIngredient; nested exception is org.hibernate.id.IdentifierGenerationException: null id generated for:class com.whateat.reciper.model.JoinedNutrionalValueIngredient&quot;,\r\n      &quot;path&quot;: &quot;/v1/joinedNutrionalValueIngredients&quot;\r\n    }","title":"Could not set field value by reflection","body":"<p>I have a problem with a many to many relationship.\nThe tables are:\ningredient and nutional value.\nI created a table of relations between the 2 entities, in which there are the external keys of ingredient and nutrional value (which form the compound key) and some attributes.</p>\n<p>Class <code>JoinedNutrionalValueIngredient</code>:</p>\n<pre><code>import lombok.Data;\nimport javax.persistence.*;\nimport javax.validation.constraints.NotNull;\nimport java.io.Serializable;\n\n@Entity @Data\npublic class JoinedNutrionalValueIngredient implements Serializable {\n\n    @EmbeddedId\n    private NutrionalValueIngredientId id;\n\n    @ManyToOne(fetch= FetchType.LAZY)\n    @MapsId(&quot;ingredient_id&quot;)\n    private Ingredient ingredient;\n\n    @ManyToOne(fetch=FetchType.LAZY)\n    @MapsId(&quot;nutrional_value_id&quot;)\n    private NutrionalValue nutrionalValue;\n\n    @NotNull\n    String matrixUnit;\n\n    @NotNull\n    int value;\n\n    @NotNull\n    String valueType;\n}\n</code></pre>\n<p>Class <code>NutrionalValueIngredientId</code>:</p>\n<pre><code>import javax.persistence.*;\nimport java.io.Serializable;\nimport java.util.Objects;\n\n@Embeddable\n@Getter\n@Setter\npublic class NutrionalValueIngredientId implements Serializable{\n\n    @Column(name = &quot;ingredient_id&quot;)\n    private Long ingredient_id;\n\n    @Column(name = &quot;nutrional_value_id&quot;)\n    private Long nutrional_value_id;\n\n    public NutrionalValueIngredientId() {\n        \n    }   \n   \n    public NutrionalValueIngredientId(Long ingredient, Long nutrionalValue){\n        this.ingredient_id=ingredient;\n        this.nutrional_value_id=nutrionalValue;\n    }\n    \n    public boolean equals(Object o) {\n        if (this == o) return true;\n    \n        if (o == null || getClass() != o.getClass())\n            return false;\n    \n        NutrionalValueIngredientId that = (NutrionalValueIngredientId) o;\n        return Objects.equals(ingredient_id, that.ingredient_id) &amp;&amp;\n                    Objects.equals(nutrional_value_id, that.nutrional_value_id);\n    }\n    \n    @Override\n    public int hashCode() {\n        return Objects.hash(ingredient_id, nutrional_value_id);\n    }\n}\n</code></pre>\n<p>When I try to insert a new field inside the relationship table I get this error:</p>\n<pre><code>{\n  &quot;timestamp&quot;: 1542653896247,\n  &quot;status&quot;: 500,\n  &quot;error&quot;: &quot;Internal Server Error&quot;,\n  &quot;message&quot;: &quot;Could not set field value [1] value by reflection : [class com.whateat.reciper.model.NutrionalValueIngredientId.ingredient_id] setter of com.whateat.reciper.model.NutrionalValueIngredientId.ingredient_id; nested exception is org.hibernate.PropertyAccessException: Could not set field value [1] value by reflection : [class com.whateat.reciper.model.NutrionalValueIngredientId.ingredient_id] setter of com.whateat.reciper.model.NutrionalValueIngredientId.ingredient_id&quot;,\n  &quot;path&quot;: &quot;/v1/joinedNutrionalValueIngredients&quot;\n}\n</code></pre>\n<p>Edit: I added constructor and annotation <code>@Getter</code> and <code>@Setter</code>, but I have the same error.</p>\n<p>class <code>NutritionalValue</code>:</p>\n<pre><code>@Data\n@Entity\npublic class NutrionalValue implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotNull\n    private String name;\n\n    @NotNull\n    private String unit;\n\n    @NotNull\n    private String source;\n\n    @ManyToOne\n    @NotNull\n    @JoinColumn(name = &quot;category_id&quot;)\n    private NutrionalValueCategory category;\n\n    @OneToMany(mappedBy = &quot;nutrionalValue&quot;)\n    private Set&lt;JoinedNutrionalValueIngredient&gt; joined = new HashSet&lt;JoinedNutrionalValueIngredient&gt;();\n\n}\n</code></pre>\n<p>edit:\nafter Debopam's answer, this error came out.</p>\n<pre><code>{\n  &quot;timestamp&quot;: 1542657216244,\n  &quot;status&quot;: 500,\n  &quot;error&quot;: &quot;Internal Server Error&quot;,\n  &quot;message&quot;: &quot;null id generated for:class com.whateat.reciper.model.JoinedNutrionalValueIngredient; nested exception is org.hibernate.id.IdentifierGenerationException: null id generated for:class com.whateat.reciper.model.JoinedNutrionalValueIngredient&quot;,\n  &quot;path&quot;: &quot;/v1/joinedNutrionalValueIngredients&quot;\n}\n</code></pre>\n"},{"tags":["java","windows","apache-arrow"],"comments":[{"owner":{"account_id":1617696,"reputation":2210,"user_id":1673861,"accept_rate":65,"display_name":"L. Blanc"},"score":1,"creation_date":1655738081,"post_id":72680092,"comment_id":128396929,"body_markdown":"this looks like a module system issue. Can you add what version of Java you are running on and what version of Arrow?","body":"this looks like a module system issue. Can you add what version of Java you are running on and what version of Arrow?"},{"owner":{"account_id":1337877,"reputation":23,"user_id":1280149,"display_name":"Brijesh"},"score":0,"creation_date":1655745305,"post_id":72680092,"comment_id":128399496,"body_markdown":"@L.Blanc I am running on java 8","body":"@L.Blanc I am running on java 8"},{"owner":{"account_id":1337877,"reputation":23,"user_id":1280149,"display_name":"Brijesh"},"score":0,"creation_date":1655747253,"post_id":72680092,"comment_id":128400146,"body_markdown":"I am trying to run on eclipse and created a maven project JRE is 11, but when I am exporting as a jar and trying to execute that jar it&#39;s working fine.\nI have this version of java in my system.\nOpenJDK Runtime Environment (Zulu 8.62.0.19-CA-win64) (build 1.8.0_332-b09)\nOpenJDK 64-Bit Server VM (Zulu 8.62.0.19-CA-win64) (build 25.332-b09, mixed mode)","body":"I am trying to run on eclipse and created a maven project JRE is 11, but when I am exporting as a jar and trying to execute that jar it&#39;s working fine. I have this version of java in my system. OpenJDK Runtime Environment (Zulu 8.62.0.19-CA-win64) (build 1.8.0_332-b09) OpenJDK 64-Bit Server VM (Zulu 8.62.0.19-CA-win64) (build 25.332-b09, mixed mode)"},{"owner":{"account_id":96711,"reputation":11791,"user_id":262727,"display_name":"li.davidm"},"score":1,"creation_date":1655813178,"post_id":72680092,"comment_id":128415670,"body_markdown":"Are you sure you&#39;re on Java 8? &quot;does not &#39;opens ...&#39;&quot; is a Java 9+ exception. See the docs here, it gives the `--add-opens` flag you must pass: https://arrow.apache.org/docs/java/install.html#installing-from-maven","body":"Are you sure you&#39;re on Java 8? &quot;does not &#39;opens ...&#39;&quot; is a Java 9+ exception. See the docs here, it gives the <code>--add-opens</code> flag you must pass: <a href=\"https://arrow.apache.org/docs/java/install.html#installing-from-maven\" rel=\"nofollow noreferrer\">arrow.apache.org/docs/java/install.html#installing-from-mave&zwnj;&#8203;n</a>"},{"owner":{"account_id":1337877,"reputation":23,"user_id":1280149,"display_name":"Brijesh"},"score":0,"creation_date":1655841890,"post_id":72680092,"comment_id":128426351,"body_markdown":"li.davidm Thanks, I am using java 8 but, now I am able to run after passing this as VM argument in eclipse \n--add-opens=java.base/java.nio=ALL-UNNAMED","body":"li.davidm Thanks, I am using java 8 but, now I am able to run after passing this as VM argument in eclipse  --add-opens=java.base/java.nio=ALL-UNNAMED"}],"answers":[{"tags":[],"owner":{"account_id":4903002,"reputation":1493,"user_id":3950587,"accept_rate":100,"display_name":"Shailesh Vikram Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697449321,"creation_date":1697449321,"answer_id":77300907,"question_id":72680092,"body_markdown":"I encountered same problem with java 8.\r\n\r\nI added **--add-opens=java.base/java.nio=ALL-UNNAMED** in VM Arguments in eclipse and it solved my problem.\r\n\r\n[![Please see reference image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Hrvwd.png","title":"Trouble running Apache arrow java code in windows?","body":"<p>I encountered same problem with java 8.</p>\n<p>I added <strong>--add-opens=java.base/java.nio=ALL-UNNAMED</strong> in VM Arguments in eclipse and it solved my problem.</p>\n<p><a href=\"https://i.stack.imgur.com/Hrvwd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hrvwd.png\" alt=\"Please see reference image\" /></a></p>\n"}],"owner":{"account_id":1337877,"reputation":23,"user_id":1280149,"display_name":"Brijesh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697449321,"creation_date":1655670110,"question_id":72680092,"body_markdown":"I am new to Apache Arrow, I was trying to run sample code in Java, and I am using Windows OS for my development.\r\nBelow is my code.\r\n\r\n    public class App {\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Hello World!&quot;);\r\n\t\ttry(\r\n\t\t\t    BufferAllocator allocator = new RootAllocator();\r\n\t\t\t    ListVector listVector = ListVector.empty(&quot;listVector&quot;, allocator);\r\n\t\t\t    UnionListWriter listWriter = listVector.getWriter()\r\n\t\t\t) {\r\n\t\t\t    int[] data = new int[] { 1, 2, 3, 10, 20, 30, 100, 200, 300, 1000, 2000, 3000 };\r\n\t\t\t    int tmp_index = 0;\r\n\t\t\t    for(int i = 0; i &lt; 4; i++) {\r\n\t\t\t        listWriter.setPosition(i);\r\n\t\t\t        listWriter.startList();\r\n\t\t\t        for(int j = 0; j &lt; 3; j++) {\r\n\t\t\t            listWriter.writeInt(data[tmp_index]);\r\n\t\t\t            tmp_index = tmp_index + 1;\r\n\t\t\t        }\r\n\t\t\t        listWriter.setValueCount(3);\r\n\t\t\t        listWriter.endList();\r\n\t\t\t    }\r\n\t\t\t    listVector.setValueCount(4);\r\n\r\n\t\t\t    System.out.print(listVector);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t    e.printStackTrace();\r\n\t\t\t}\r\n\t}\r\n\r\n\r\nI am getting this error \r\n\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n\tat org.apache.arrow.memory.ArrowBuf.setZero(ArrowBuf.java:1161)\r\n\tat org.apache.arrow.vector.complex.BaseRepeatedValueVector.reallocOffsetBuffer(BaseRepeatedValueVector.java:135)\r\n\tat org.apache.arrow.vector.complex.ListVector.reallocValidityAndOffsetBuffers(ListVector.java:300)\r\n\tat org.apache.arrow.vector.complex.ListVector.startNewValue(ListVector.java:808)\r\n\tat org.apache.arrow.vector.complex.impl.UnionListWriter.startList(UnionListWriter.java:517)\r\n\tat arrow_pro.check.App.main(App.java:24)\r\n\tSuppressed: java.lang.NullPointerException: Cannot invoke &quot;org.apache.arrow.vector.complex.writer.FieldWriter.close()&quot; because the return value of &quot;org.apache.arrow.vector.complex.impl.PromotableWriter.getWriter()&quot; is null\r\n\t\tat org.apache.arrow.vector.complex.impl.PromotableWriter.close(PromotableWriter.java:396)\r\n\t\tat org.apache.arrow.vector.complex.impl.UnionListWriter.close(UnionListWriter.java:121)\r\n\t\tat arrow_pro.check.App.main(App.java:35)\r\n\tSuppressed: java.lang.IllegalStateException: Memory was leaked by query. Memory leaked: (16384) Allocator(ROOT) 0/16384/16384/9223372036854775807 (res/actual/peak/limit)\r\n\r\n\t\tat org.apache.arrow.memory.BaseAllocator.close(BaseAllocator.java:437)\r\n\t\tat org.apache.arrow.memory.RootAllocator.close(RootAllocator.java:29)\r\n\t\tat arrow_pro.check.App.main(App.java:35)Caused by: java.lang.RuntimeException: Failed to initialize MemoryUtil.\r\n\tat org.apache.arrow.memory.util.MemoryUtil.&lt;clinit&gt;(MemoryUtil.java:136)\r\n\t... 6 more \r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field long java.nio.Buffer.address accessible: module java.base does not &quot;opens java.nio&quot; to unnamed module @6895a785\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n\tat org.apache.arrow.memory.util.MemoryUtil.&lt;clinit&gt;(MemoryUtil.java:84)\r\n\t... 6 more\r\n\r\n\r\nI am using these dependencies \r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.arrow&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;arrow-vector&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${arrow.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.arrow&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;arrow-memory-netty&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${arrow.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.arrow&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;arrow-memory-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${arrow.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Trouble running Apache arrow java code in windows?","body":"<p>I am new to Apache Arrow, I was trying to run sample code in Java, and I am using Windows OS for my development.\nBelow is my code.</p>\n<pre><code>public class App {\npublic static void main(String[] args) {\n    System.out.println(&quot;Hello World!&quot;);\n    try(\n            BufferAllocator allocator = new RootAllocator();\n            ListVector listVector = ListVector.empty(&quot;listVector&quot;, allocator);\n            UnionListWriter listWriter = listVector.getWriter()\n        ) {\n            int[] data = new int[] { 1, 2, 3, 10, 20, 30, 100, 200, 300, 1000, 2000, 3000 };\n            int tmp_index = 0;\n            for(int i = 0; i &lt; 4; i++) {\n                listWriter.setPosition(i);\n                listWriter.startList();\n                for(int j = 0; j &lt; 3; j++) {\n                    listWriter.writeInt(data[tmp_index]);\n                    tmp_index = tmp_index + 1;\n                }\n                listWriter.setValueCount(3);\n                listWriter.endList();\n            }\n            listVector.setValueCount(4);\n\n            System.out.print(listVector);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n}\n</code></pre>\n<p>I am getting this error</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\nat org.apache.arrow.memory.ArrowBuf.setZero(ArrowBuf.java:1161)\nat org.apache.arrow.vector.complex.BaseRepeatedValueVector.reallocOffsetBuffer(BaseRepeatedValueVector.java:135)\nat org.apache.arrow.vector.complex.ListVector.reallocValidityAndOffsetBuffers(ListVector.java:300)\nat org.apache.arrow.vector.complex.ListVector.startNewValue(ListVector.java:808)\nat org.apache.arrow.vector.complex.impl.UnionListWriter.startList(UnionListWriter.java:517)\nat arrow_pro.check.App.main(App.java:24)\nSuppressed: java.lang.NullPointerException: Cannot invoke &quot;org.apache.arrow.vector.complex.writer.FieldWriter.close()&quot; because the return value of &quot;org.apache.arrow.vector.complex.impl.PromotableWriter.getWriter()&quot; is null\n    at org.apache.arrow.vector.complex.impl.PromotableWriter.close(PromotableWriter.java:396)\n    at org.apache.arrow.vector.complex.impl.UnionListWriter.close(UnionListWriter.java:121)\n    at arrow_pro.check.App.main(App.java:35)\nSuppressed: java.lang.IllegalStateException: Memory was leaked by query. Memory leaked: (16384) Allocator(ROOT) 0/16384/16384/9223372036854775807 (res/actual/peak/limit)\n\n    at org.apache.arrow.memory.BaseAllocator.close(BaseAllocator.java:437)\n    at org.apache.arrow.memory.RootAllocator.close(RootAllocator.java:29)\n    at arrow_pro.check.App.main(App.java:35)Caused by: java.lang.RuntimeException: Failed to initialize MemoryUtil.\nat org.apache.arrow.memory.util.MemoryUtil.&lt;clinit&gt;(MemoryUtil.java:136)\n... 6 more \n</code></pre>\n<p>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field long java.nio.Buffer.address accessible: module java.base does not &quot;opens java.nio&quot; to unnamed module @6895a785\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\nat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\nat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\nat org.apache.arrow.memory.util.MemoryUtil.(MemoryUtil.java:84)\n... 6 more</p>\n<p>I am using these dependencies</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.arrow&lt;/groupId&gt;\n        &lt;artifactId&gt;arrow-vector&lt;/artifactId&gt;\n        &lt;version&gt;${arrow.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.arrow&lt;/groupId&gt;\n        &lt;artifactId&gt;arrow-memory-netty&lt;/artifactId&gt;\n        &lt;version&gt;${arrow.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.arrow&lt;/groupId&gt;\n        &lt;artifactId&gt;arrow-memory-core&lt;/artifactId&gt;\n        &lt;version&gt;${arrow.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;${slf4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;version&gt;${slf4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","io","objectinputstream"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1697447018,"post_id":77300640,"comment_id":136276413,"body_markdown":"Why are you using an `ObjectInputStream` to begin with if you&#39;re transferring byte arrays? An `ObjectInputStream` should only be used if you want to use the Java binary serialization format to transfer **objects**. As an aside, calling `flush` after each write makes no sense to me.","body":"Why are you using an <code>ObjectInputStream</code> to begin with if you&#39;re transferring byte arrays? An <code>ObjectInputStream</code> should only be used if you want to use the Java binary serialization format to transfer <b>objects</b>. As an aside, calling <code>flush</code> after each write makes no sense to me."}],"answers":[{"comments":[{"owner":{"account_id":20101147,"reputation":15,"user_id":14739581,"display_name":"Krlin Homon"},"score":0,"creation_date":1697448305,"post_id":77300725,"comment_id":136276658,"body_markdown":"Thanks for that, the reason is I need to trans file&#39;s other information also before to trans byte arrays. And the file&#39;s other information is a java bean named `FileTransModel` which contains fileName, fileLength and other things about the file. so I use ObjectInputStream::readObject to receive the bean. To resolve the problem, If it is ok that I consider to use ObjectInputStream to read bean and DataInputStream to read byte arrays.","body":"Thanks for that, the reason is I need to trans file&#39;s other information also before to trans byte arrays. And the file&#39;s other information is a java bean named <code>FileTransModel</code> which contains fileName, fileLength and other things about the file. so I use ObjectInputStream::readObject to receive the bean. To resolve the problem, If it is ok that I consider to use ObjectInputStream to read bean and DataInputStream to read byte arrays."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1697448438,"post_id":77300725,"comment_id":136276680,"body_markdown":"@KrlinHomon Using `DataInputStream` to read byte arrays doesn&#39;t make much sense either if you&#39;re not going to use any of the features of a `DataInputStream`. Use a normal input stream for that. That said, you can continue to use `ObjectInputStream`, but you&#39;ll have to accept the fact you can only read in blocks of 1024 bytes. In that case, reduce the size of your buffer and remove the call to `flush()` after each write so you actually benefit from the buffer of your buffered output stream!","body":"@KrlinHomon Using <code>DataInputStream</code> to read byte arrays doesn&#39;t make much sense either if you&#39;re not going to use any of the features of a <code>DataInputStream</code>. Use a normal input stream for that. That said, you can continue to use <code>ObjectInputStream</code>, but you&#39;ll have to accept the fact you can only read in blocks of 1024 bytes. In that case, reduce the size of your buffer and remove the call to <code>flush()</code> after each write so you actually benefit from the buffer of your buffered output stream!"},{"owner":{"account_id":20101147,"reputation":15,"user_id":14739581,"display_name":"Krlin Homon"},"score":0,"creation_date":1697456000,"post_id":77300725,"comment_id":136278027,"body_markdown":"Learned, thank you very much","body":"Learned, thank you very much"}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697448797,"creation_date":1697447494,"answer_id":77300725,"question_id":77300640,"body_markdown":"The reason `read` returns at most 1024 is because an `ObjectInputStream` internally uses a buffer of 1024 bytes (though this is an implementation detail, so it might be different in different versions or distributions of Java). A `read` is not required to return the requested number of bytes, so an `ObjectInputStream` will return either what is available in its current buffer, or request 1024 bytes from its upstream input stream and return that.\r\n\r\nHowever, as I also mentioned in the comments, judging by the fragment of code you show in your question, you should probably not be using an `ObjectInputStream` at all. You&#39;re transferring binary data obtained with `read`, which means you&#39;re not using Java serialization in the code shown. Maybe you should switch to using normal input and output streams instead (that said, maybe you do use serialization at an earlier point, though combining serialization and normal binary transfer in a single stream is generally odd to do).","title":"How to realize the ObjectInputStream::read function&#39;s return value","body":"<p>The reason <code>read</code> returns at most 1024 is because an <code>ObjectInputStream</code> internally uses a buffer of 1024 bytes (though this is an implementation detail, so it might be different in different versions or distributions of Java). A <code>read</code> is not required to return the requested number of bytes, so an <code>ObjectInputStream</code> will return either what is available in its current buffer, or request 1024 bytes from its upstream input stream and return that.</p>\n<p>However, as I also mentioned in the comments, judging by the fragment of code you show in your question, you should probably not be using an <code>ObjectInputStream</code> at all. You're transferring binary data obtained with <code>read</code>, which means you're not using Java serialization in the code shown. Maybe you should switch to using normal input and output streams instead (that said, maybe you do use serialization at an earlier point, though combining serialization and normal binary transfer in a single stream is generally odd to do).</p>\n"}],"owner":{"account_id":20101147,"reputation":15,"user_id":14739581,"display_name":"Krlin Homon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77300725,"answer_count":1,"score":0,"last_activity_date":1697448797,"creation_date":1697446742,"question_id":77300640,"body_markdown":"When using Java socket to transfer a file, I set `byte[] BUFFER = new byte[1024 * 8]`, and using `objectInputStream.read(BUFFER, 0, BUFFER.length)` to receive file stream, but the return value of `objectInputStream.read(BUFFER, 0, BUFFER.length)` is always 1024, Why would it be `1024` not `1024 * 8`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nthe BUFFER length is 1024 * 8\r\n\r\n[![enter image description here][2]][2]\r\n\r\nbut len is 1024.\r\n\r\n  [1]: https://i.stack.imgur.com/e4gyX.png\r\n  [2]: https://i.stack.imgur.com/F2dOt.png","title":"How to realize the ObjectInputStream::read function&#39;s return value","body":"<p>When using Java socket to transfer a file, I set <code>byte[] BUFFER = new byte[1024 * 8]</code>, and using <code>objectInputStream.read(BUFFER, 0, BUFFER.length)</code> to receive file stream, but the return value of <code>objectInputStream.read(BUFFER, 0, BUFFER.length)</code> is always 1024, Why would it be <code>1024</code> not <code>1024 * 8</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/e4gyX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e4gyX.png\" alt=\"enter image description here\" /></a></p>\n<p>the BUFFER length is 1024 * 8</p>\n<p><a href=\"https://i.stack.imgur.com/F2dOt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F2dOt.png\" alt=\"enter image description here\" /></a></p>\n<p>but len is 1024.</p>\n"},{"tags":["java","xml","xml-parsing","sax","stax"],"comments":[{"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"score":0,"creation_date":1403451181,"post_id":24350740,"comment_id":37653161,"body_markdown":"Can you try getting rid of the `BufferedReader` and `InputStreamReaders`. They will mangle the encoding in some cases, and might be messing things up with newlines.","body":"Can you try getting rid of the <code>BufferedReader</code> and <code>InputStreamReaders</code>. They will mangle the encoding in some cases, and might be messing things up with newlines."},{"owner":{"account_id":4646156,"reputation":11,"user_id":3764388,"display_name":"user3764388"},"score":0,"creation_date":1403469809,"post_id":24350740,"comment_id":37658817,"body_markdown":"Hallo artbristol,  I just tested it, but still does not change anything.  :-(","body":"Hallo artbristol,  I just tested it, but still does not change anything.  :-("}],"answers":[{"comments":[{"owner":{"account_id":1633445,"reputation":187,"user_id":1507544,"display_name":"Christian Ciach"},"score":1,"creation_date":1512043023,"post_id":31156740,"comment_id":82102590,"body_markdown":"Can&#39;t upvote this enough! After hours of trying other solutions, this is the first solution that can handle XML with and without whitespace between the tags. Thank you so much!","body":"Can&#39;t upvote this enough! After hours of trying other solutions, this is the first solution that can handle XML with and without whitespace between the tags. Thank you so much!"}],"tags":[],"owner":{"account_id":150233,"reputation":10179,"user_id":363281,"accept_rate":87,"display_name":"Dag"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697448780,"creation_date":1435740726,"answer_id":31156740,"question_id":24350740,"body_markdown":"As you elaborated did the transformation step proceed to the next create element if the element-nodes follow directly each other.\r\n\r\nIn order to deal with this, you can rewrite you code using nested while loops, like this:\r\n\r\n    while(reader.next() != XMLStreamConstants.END_DOCUMENT) {\r\n\t    while(reader.getEventType() == XMLStreamConstants.START_ELEMENT &amp;&amp; reader.getLocalName().equals(&quot;nextTag&quot;)) {\r\n\t\t    StringWriter writer = new StringWriter();\r\n\t\t    // will transform the current node to a String, moves the cursor to the next START_ELEMENT\r\n\t\t    t.transform(new StAXSource(reader), new StreamResult(writer)); \r\n\t\t    System.out.println(writer.toString());\r\n\t    }\r\n    }","title":"StaX parsing: Transformer.transform method moves cursor automatically, not always nice","body":"<p>As you elaborated did the transformation step proceed to the next create element if the element-nodes follow directly each other.</p>\n<p>In order to deal with this, you can rewrite you code using nested while loops, like this:</p>\n<pre><code>while(reader.next() != XMLStreamConstants.END_DOCUMENT) {\n    while(reader.getEventType() == XMLStreamConstants.START_ELEMENT &amp;&amp; reader.getLocalName().equals(&quot;nextTag&quot;)) {\n        StringWriter writer = new StringWriter();\n        // will transform the current node to a String, moves the cursor to the next START_ELEMENT\n        t.transform(new StAXSource(reader), new StreamResult(writer)); \n        System.out.println(writer.toString());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":404686,"reputation":35903,"user_id":773159,"display_name":"Birei"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435824513,"creation_date":1435824513,"answer_id":31178928,"question_id":24350740,"body_markdown":"In case your `xml` file fits in memory, you can try with the help of the `JOOX` library, imported in [tag:gradle] like:\r\n\r\n    compile &#39;org.jooq:joox:1.3.0&#39;\r\n\r\nAnd the main class, like:\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import org.joox.JOOX;\r\n    import org.joox.Match;\r\n    import org.w3c.dom.Document;\r\n    import org.xml.sax.SAXException;\r\n    \r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.transform.Transformer;\r\n    import javax.xml.transform.TransformerException;\r\n    import javax.xml.transform.TransformerFactory;\r\n    import javax.xml.transform.dom.DOMSource;\r\n    import javax.xml.transform.stream.StreamResult;\r\n    \r\n    import static org.joox.JOOX.$;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) \r\n                throws IOException, SAXException, TransformerException {\r\n            DocumentBuilder builder = JOOX.builder();\r\n            Document document = builder.parse(new File(args[0]));\r\n    \r\n            Transformer transformer = \r\n                    TransformerFactory.newInstance().newTransformer();\r\n            transformer.setOutputProperty(&quot;omit-xml-declaration&quot;, &quot;no&quot;);\r\n    \r\n            final Match $m = $(document);\r\n            $m.find(&quot;nextTag&quot;).forEach(tag -&gt; {\r\n                try {\r\n                    transformer.transform(\r\n                            new DOMSource(tag), \r\n                            new StreamResult(System.out));\r\n                    System.out.println();\r\n                }\r\n                catch (TransformerException e) {\r\n                    System.exit(1);\r\n                }\r\n            });\r\n    \r\n        }\r\n    }\r\n\r\nIt yields:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;nextTag&gt;1&lt;/nextTag&gt;\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;nextTag&gt;2&lt;/nextTag&gt;","title":"StaX parsing: Transformer.transform method moves cursor automatically, not always nice","body":"<p>In case your <code>xml</code> file fits in memory, you can try with the help of the <code>JOOX</code> library, imported in <a href=\"/questions/tagged/gradle\" class=\"post-tag\" title=\"show questions tagged &#39;gradle&#39;\" rel=\"tag\">gradle</a> like:</p>\n\n<pre><code>compile 'org.jooq:joox:1.3.0'\n</code></pre>\n\n<p>And the main class, like:</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport org.joox.JOOX;\nimport org.joox.Match;\nimport org.w3c.dom.Document;\nimport org.xml.sax.SAXException;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerException;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\n\nimport static org.joox.JOOX.$;\n\npublic class Main {\n\n    public static void main(String[] args) \n            throws IOException, SAXException, TransformerException {\n        DocumentBuilder builder = JOOX.builder();\n        Document document = builder.parse(new File(args[0]));\n\n        Transformer transformer = \n                TransformerFactory.newInstance().newTransformer();\n        transformer.setOutputProperty(\"omit-xml-declaration\", \"no\");\n\n        final Match $m = $(document);\n        $m.find(\"nextTag\").forEach(tag -&gt; {\n            try {\n                transformer.transform(\n                        new DOMSource(tag), \n                        new StreamResult(System.out));\n                System.out.println();\n            }\n            catch (TransformerException e) {\n                System.exit(1);\n            }\n        });\n\n    }\n}\n</code></pre>\n\n<p>It yields:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;nextTag&gt;1&lt;/nextTag&gt;\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;nextTag&gt;2&lt;/nextTag&gt;\n</code></pre>\n"}],"owner":{"account_id":4646156,"reputation":11,"user_id":3764388,"display_name":"user3764388"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1883,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697448780,"creation_date":1403436158,"question_id":24350740,"body_markdown":"I am using XMLStreamReader to achieve my goal(splitting xml file).  It looks good, but still does not give the desired result.  My aim is to split every node &quot;nextTag&quot; from an input file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;firstTag&gt;\r\n\t    &lt;nextTag&gt;1&lt;/nextTag&gt;\r\n\t    &lt;nextTag&gt;2&lt;/nextTag&gt;\r\n    &lt;/firstTag&gt;\r\n\r\n\r\nThe outcome should look like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;nextTag&gt;1&lt;/nextTag&gt;\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;nextTag&gt;2&lt;/nextTag&gt;\r\n\r\n\r\nReferring to https://stackoverflow.com/questions/5169978/split-1gb-xml-file-using-java I achieved my goal with this code:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileInputStream;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.StringWriter;\r\n    import javax.xml.stream.XMLInputFactory;\r\n    import javax.xml.stream.XMLStreamReader;\r\n    import javax.xml.transform.Transformer;\r\n    import javax.xml.transform.TransformerFactory;\r\n    import javax.xml.transform.stax.StAXSource;\r\n    import javax.xml.transform.stream.StreamResult;\r\n\r\n    public class Demo4 {\r\n\r\n    \tpublic static void main(String[] args) throws Exception {\r\n\r\n    \t\tInputStream inputStream = new FileInputStream(&quot;input.xml&quot;);\r\n    \t\tBufferedReader in = new BufferedReader(new InputStreamReader(inputStream));\r\n\r\n    \t\tXMLInputFactory factory = XMLInputFactory.newInstance();\r\n    \t\tTransformerFactory tf = TransformerFactory.newInstance();\r\n    \t\tTransformer t = tf.newTransformer();\r\n\r\n    \t\tXMLStreamReader streamReader = factory.createXMLStreamReader(in);\r\n\r\n    \t\twhile (streamReader.hasNext()) {\r\n    \t\t\tstreamReader.next();\r\n\r\n    \t\t\tif (streamReader.getEventType() == XMLStreamReader.START_ELEMENT\r\n    \t\t\t\t\t&amp;&amp; &quot;nextTag&quot;.equals(streamReader.getLocalName())) {\r\n\r\n    \t\t\t\tStringWriter writer = new StringWriter();\r\n    \t\t\t\tt.transform(new StAXSource(streamReader), new StreamResult(\r\n    \t\t\t\t\t\twriter));\r\n    \t\t\t\tString output = writer.toString();\r\n    \t\t\t\tSystem.out.println(output);\r\n\r\n    \t\t\t}\r\n\r\n    \t\t}\r\n\r\n    \t}\r\n\r\n    }\r\n\r\n\r\nActually very simple.  But, my input file is in form from a single line:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;firstTag&gt;&lt;nextTag&gt;1&lt;/nextTag&gt;&lt;nextTag&gt;2&lt;/nextTag&gt;&lt;/firstTag&gt;\r\n\r\n\r\nMy Java code does not produce the desired output anymore, instead just this result:\r\n     \r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;nextTag&gt;1&lt;/nextTag&gt;\r\n\r\nAfter spending hours, I am pretty sure to already find out the reason:\r\n      \r\n     t.transform(new StAXSource(streamReader), new StreamResult(writer));\r\n\r\nIt is because, after the transform method being executed, the cursor will automatically moved forward to the next event.  And in the code, I have this fraction:\r\n\r\n    while (streamReader.hasNext()) {\r\n    \tstreamReader.next();\r\n                          ...\r\n            t.transform(new StAXSource(streamReader), new StreamResult(writer));\r\n                          ...\r\n    }\r\n\r\nAfter the first transform, the streamReader gets directly 2 times next():\r\n\r\n     1. from the transform method\r\n     2. from the next method in the while loop\r\n\r\nSo, in case of this specific line XML, the cursor can never achive the second open tag &lt;nextTag&gt;.\r\nIn opposite, if the input XML has a pretty print form, the second &lt;nextTag&gt; can be reached from the cursor because there is a space-event after the first closing tag &lt;/nextTag&gt;\r\n\r\nUnfortunately, I could not find anything how to do settings, so that the transformator does not automatically spring to next event after performing the transform method.  This is so frustating.  \r\n\r\nDoes anybody have any idea how I can deal with it?  Also semantically is very welcome.  Thank you so much.\r\n\r\nRegards,\r\n\r\nRatna\r\n\r\nPS.  I can surely write a workaround for this problem(pretty print the xml document before transforming it, but this would mean that the input xml was being modified before, this is not allowed)","title":"StaX parsing: Transformer.transform method moves cursor automatically, not always nice","body":"<p>I am using XMLStreamReader to achieve my goal(splitting xml file).  It looks good, but still does not give the desired result.  My aim is to split every node \"nextTag\" from an input file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;firstTag&gt;\n    &lt;nextTag&gt;1&lt;/nextTag&gt;\n    &lt;nextTag&gt;2&lt;/nextTag&gt;\n&lt;/firstTag&gt;\n</code></pre>\n\n<p>The outcome should look like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;nextTag&gt;1&lt;/nextTag&gt;\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;nextTag&gt;2&lt;/nextTag&gt;\n</code></pre>\n\n<p>Referring to <a href=\"https://stackoverflow.com/questions/5169978/split-1gb-xml-file-using-java\">Split 1GB Xml file using Java</a> I achieved my goal with this code:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileInputStream;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.StringWriter;\nimport javax.xml.stream.XMLInputFactory;\nimport javax.xml.stream.XMLStreamReader;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.stax.StAXSource;\nimport javax.xml.transform.stream.StreamResult;\n\npublic class Demo4 {\n\n    public static void main(String[] args) throws Exception {\n\n        InputStream inputStream = new FileInputStream(\"input.xml\");\n        BufferedReader in = new BufferedReader(new InputStreamReader(inputStream));\n\n        XMLInputFactory factory = XMLInputFactory.newInstance();\n        TransformerFactory tf = TransformerFactory.newInstance();\n        Transformer t = tf.newTransformer();\n\n        XMLStreamReader streamReader = factory.createXMLStreamReader(in);\n\n        while (streamReader.hasNext()) {\n            streamReader.next();\n\n            if (streamReader.getEventType() == XMLStreamReader.START_ELEMENT\n                    &amp;&amp; \"nextTag\".equals(streamReader.getLocalName())) {\n\n                StringWriter writer = new StringWriter();\n                t.transform(new StAXSource(streamReader), new StreamResult(\n                        writer));\n                String output = writer.toString();\n                System.out.println(output);\n\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Actually very simple.  But, my input file is in form from a single line:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;firstTag&gt;&lt;nextTag&gt;1&lt;/nextTag&gt;&lt;nextTag&gt;2&lt;/nextTag&gt;&lt;/firstTag&gt;\n</code></pre>\n\n<p>My Java code does not produce the desired output anymore, instead just this result:</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;nextTag&gt;1&lt;/nextTag&gt;\n</code></pre>\n\n<p>After spending hours, I am pretty sure to already find out the reason:</p>\n\n<pre><code> t.transform(new StAXSource(streamReader), new StreamResult(writer));\n</code></pre>\n\n<p>It is because, after the transform method being executed, the cursor will automatically moved forward to the next event.  And in the code, I have this fraction:</p>\n\n<pre><code>while (streamReader.hasNext()) {\n    streamReader.next();\n                      ...\n        t.transform(new StAXSource(streamReader), new StreamResult(writer));\n                      ...\n}\n</code></pre>\n\n<p>After the first transform, the streamReader gets directly 2 times next():</p>\n\n<pre><code> 1. from the transform method\n 2. from the next method in the while loop\n</code></pre>\n\n<p>So, in case of this specific line XML, the cursor can never achive the second open tag .\nIn opposite, if the input XML has a pretty print form, the second  can be reached from the cursor because there is a space-event after the first closing tag </p>\n\n<p>Unfortunately, I could not find anything how to do settings, so that the transformator does not automatically spring to next event after performing the transform method.  This is so frustating.  </p>\n\n<p>Does anybody have any idea how I can deal with it?  Also semantically is very welcome.  Thank you so much.</p>\n\n<p>Regards,</p>\n\n<p>Ratna</p>\n\n<p>PS.  I can surely write a workaround for this problem(pretty print the xml document before transforming it, but this would mean that the input xml was being modified before, this is not allowed)</p>\n"},{"tags":["java","hashcode"],"comments":[{"owner":{"account_id":295168,"reputation":12465,"user_id":599436,"accept_rate":100,"display_name":"Jon Egeland"},"score":0,"creation_date":1424749423,"post_id":28687713,"comment_id":45667869,"body_markdown":"You could use [`Boolean.hashCode()`](http://stackoverflow.com/questions/3912303/boolean-hashcode), or you could &quot;bit-shift&quot; one of them to use different bits of the result, similar to [how bit flags work](http://eddmann.com/posts/using-bit-flags-and-enumsets-in-java/)","body":"You could use <a href=\"http://stackoverflow.com/questions/3912303/boolean-hashcode\"><code>Boolean.hashCode()</code></a>, or you could &quot;bit-shift&quot; one of them to use different bits of the result, similar to <a href=\"http://eddmann.com/posts/using-bit-flags-and-enumsets-in-java/\" rel=\"nofollow noreferrer\">how bit flags work</a>"},{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":0,"creation_date":1424749499,"post_id":28687713,"comment_id":45667885,"body_markdown":"I cannot find your question.  But your concern can be solved by a simple logic as described in http://stackoverflow.com/a/113600/395202.  (which is similar to what you did, just simpler).","body":"I cannot find your question.  But your concern can be solved by a simple logic as described in <a href=\"http://stackoverflow.com/a/113600/395202\">stackoverflow.com/a/113600/395202</a>.  (which is similar to what you did, just simpler)."},{"owner":{"account_id":5770440,"reputation":1230,"user_id":4554018,"display_name":"Marcelo Keiti"},"score":0,"creation_date":1424749750,"post_id":28687713,"comment_id":45667963,"body_markdown":"Another good explanation: http://stackoverflow.com/questions/3912303/boolean-hashcode","body":"Another good explanation: <a href=\"http://stackoverflow.com/questions/3912303/boolean-hashcode\">stackoverflow.com/questions/3912303/boolean-hashcode</a>"},{"owner":{"account_id":295168,"reputation":12465,"user_id":599436,"accept_rate":100,"display_name":"Jon Egeland"},"score":0,"creation_date":1424749779,"post_id":28687713,"comment_id":45667970,"body_markdown":"@MarceloKeiti That has the same answer as the one that Adrian linked","body":"@MarceloKeiti That has the same answer as the one that Adrian linked"}],"answers":[{"comments":[{"owner":{"account_id":4060371,"reputation":6747,"user_id":3337089,"accept_rate":86,"display_name":"Nagabhushan S N"},"score":0,"creation_date":1516632042,"post_id":28687867,"comment_id":83755035,"body_markdown":"&quot;Boolean.hashCode(val)&quot;: Non-static method &#39;hashCode()&#39; cannot be referenced from a static context.","body":"&quot;Boolean.hashCode(val)&quot;: Non-static method &#39;hashCode()&#39; cannot be referenced from a static context."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1697448952,"post_id":28687867,"comment_id":136276782,"body_markdown":"@NagabhushanSN the static method [`Boolean.hashCode(boolean)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Boolean.html#hashCode(boolean)) was introduced in Java 8. Likely when you commented, you were using Java 7 or earlier.","body":"@NagabhushanSN the static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Boolean.html#hashCode(boolean)\" rel=\"nofollow noreferrer\"><code>Boolean.hashCode(boolean)</code></a> was introduced in Java 8. Likely when you commented, you were using Java 7 or earlier."}],"tags":[],"owner":{"account_id":3251622,"reputation":11214,"user_id":2741705,"display_name":"Pham Trung"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1596318483,"creation_date":1424749985,"answer_id":28687867,"question_id":28687713,"body_markdown":"When you have two or even more booleans, the hashcode algorithm is already taken care of that.\r\n\r\nLook a little bit closer:\r\n\r\n```java\r\n// Very simple example\r\npublic int hashCode() {\r\n    int result = 31;\r\n\r\n    for(boolean val : booleanList) {\r\n        // This is the important part:\r\n        result = 31 * result + Boolean.hashCode(val);\r\n    }\r\n\r\n    return result;\r\n}\r\n```\r\n\r\n**Notice** the main part of the for loop, in this case, we treat each boolean differently, as we always multiply the result by 31 (or any good prime number) before adding it into the result. \r\n\r\nIf we visualize the whole hashcode as a number of **base 31**, so we can understand that the position and the value of each boolean are all taken into account in the final result. Each boolean can be treated as a digit in the hashcode, so for case (true, false) and case (false, true), they will have two different hashcodes.","title":"hashcode implementation on boolean fields","body":"<p>When you have two or even more booleans, the hashcode algorithm is already taken care of that.</p>\n<p>Look a little bit closer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Very simple example\npublic int hashCode() {\n    int result = 31;\n\n    for(boolean val : booleanList) {\n        // This is the important part:\n        result = 31 * result + Boolean.hashCode(val);\n    }\n\n    return result;\n}\n</code></pre>\n<p><strong>Notice</strong> the main part of the for loop, in this case, we treat each boolean differently, as we always multiply the result by 31 (or any good prime number) before adding it into the result.</p>\n<p>If we visualize the whole hashcode as a number of <strong>base 31</strong>, so we can understand that the position and the value of each boolean are all taken into account in the final result. Each boolean can be treated as a digit in the hashcode, so for case (true, false) and case (false, true), they will have two different hashcodes.</p>\n"},{"tags":[],"owner":{"account_id":1898629,"reputation":2732,"user_id":1715004,"accept_rate":20,"display_name":"Filipe Borges"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424751293,"creation_date":1424750052,"answer_id":28687877,"question_id":28687713,"body_markdown":"When combining multiple fields, a good practice is to start with the first field hashCode then multiply the current result by a prime number before adding each field hashcode:\r\n   \r\n    @Override public int hashCode() {\r\n      int result = 0;\r\n      result = b1.hashCode();\r\n      result = result * 37 + b2.hashCode();\r\n      result = result * 37 + b3.hashCode();\r\n      // ...\r\n      // result = result * 37 + bn.hashCode();\r\n      return result;\r\n    }\r\n\r\nYou can see a real world example in [code generated by Wire][1] (a Prococol Buffers implementation).\r\n\r\nReferences:\r\n\r\n  - https://stackoverflow.com/questions/113511/hash-code-implementation/113600#113600 (at StackOverflow)\r\n  - https://stackoverflow.com/questions/3912303/boolean-hashcode (at StackOverflow)\r\n  - [Introducing Wire][2]\r\n\r\n\r\n  [1]: https://github.com/square/wire/blob/master/wire-runtime/src/test/java/com/squareup/wire/protos/person/Person.java\r\n  [2]: http://corner.squareup.com/2013/08/introducing-wire.html","title":"hashcode implementation on boolean fields","body":"<p>When combining multiple fields, a good practice is to start with the first field hashCode then multiply the current result by a prime number before adding each field hashcode:</p>\n\n<pre><code>@Override public int hashCode() {\n  int result = 0;\n  result = b1.hashCode();\n  result = result * 37 + b2.hashCode();\n  result = result * 37 + b3.hashCode();\n  // ...\n  // result = result * 37 + bn.hashCode();\n  return result;\n}\n</code></pre>\n\n<p>You can see a real world example in <a href=\"https://github.com/square/wire/blob/master/wire-runtime/src/test/java/com/squareup/wire/protos/person/Person.java\" rel=\"nofollow noreferrer\">code generated by Wire</a> (a Prococol Buffers implementation).</p>\n\n<p>References:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/113511/hash-code-implementation/113600#113600\">Best implementation for hashCode method</a> (at StackOverflow)</li>\n<li><a href=\"https://stackoverflow.com/questions/3912303/boolean-hashcode\">Boolean.hashCode()</a> (at StackOverflow)</li>\n<li><a href=\"http://corner.squareup.com/2013/08/introducing-wire.html\" rel=\"nofollow noreferrer\">Introducing Wire</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":1,"creation_date":1424827083,"post_id":28688073,"comment_id":45707949,"body_markdown":"-1 for option 1, which is not helping in OP&#39;s concern.  i.e. if there are two boolean values involved in hashcode calculation, true+false and false+true will give same hashcode. Option 2 is not optimal either, given will easily goes to same bucket (for example, for hash map with capacity of 16, hashcode with the &quot;result bitmap&quot; being 00100001 and 11110001 will fall into same bucket).  In short, option1 and 2 are example of poorly designed hashing algorithm","body":"-1 for option 1, which is not helping in OP&#39;s concern.  i.e. if there are two boolean values involved in hashcode calculation, true+false and false+true will give same hashcode. Option 2 is not optimal either, given will easily goes to same bucket (for example, for hash map with capacity of 16, hashcode with the &quot;result bitmap&quot; being 00100001 and 11110001 will fall into same bucket).  In short, option1 and 2 are example of poorly designed hashing algorithm"},{"owner":{"account_id":295168,"reputation":12465,"user_id":599436,"accept_rate":100,"display_name":"Jon Egeland"},"score":0,"creation_date":1424827207,"post_id":28688073,"comment_id":45707984,"body_markdown":"@AdrianShum you&#39;re right. I had it in my mind that the values it used incremented every time it was called. I&#39;ll remove it.","body":"@AdrianShum you&#39;re right. I had it in my mind that the values it used incremented every time it was called. I&#39;ll remove it."},{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":0,"creation_date":1424827632,"post_id":28688073,"comment_id":45708103,"body_markdown":"&quot;option 2&quot; in my original comment becomes the new &quot;option 1&quot;, sorry for editing the comment not quick enough ;)","body":"&quot;option 2&quot; in my original comment becomes the new &quot;option 1&quot;, sorry for editing the comment not quick enough ;)"},{"owner":{"account_id":295168,"reputation":12465,"user_id":599436,"accept_rate":100,"display_name":"Jon Egeland"},"score":0,"creation_date":1424835635,"post_id":28688073,"comment_id":45710140,"body_markdown":"@AdrianShum I see your point about the bitflagging option. However, you run into the same issue using the &quot;base-changing&quot; option as well. In that case with a hash of size 16, and a prime value of 31, you could end up with `(F,F,T)=00000001` and `(T,T,F)=11100001`, both of which would again fall into the same bucket. Simply put, you will always have collisions if your range of potential values exceeds the size of the target array. If you want, I can add a note about the dependence of the success of the hash on the size of the target.","body":"@AdrianShum I see your point about the bitflagging option. However, you run into the same issue using the &quot;base-changing&quot; option as well. In that case with a hash of size 16, and a prime value of 31, you could end up with <code>(F,F,T)=00000001</code> and <code>(T,T,F)=11100001</code>, both of which would again fall into the same bucket. Simply put, you will always have collisions if your range of potential values exceeds the size of the target array. If you want, I can add a note about the dependence of the success of the hash on the size of the target."},{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":0,"creation_date":1424836319,"post_id":28688073,"comment_id":45710297,"body_markdown":"I think you missed the point.  Assuming you have 100 booleans in the hashcode calculation, with the &quot;bitset&quot; approach, only the least significant 5 booleans will determine which bucket it will go (in case of a hashmap of capacity of 16).  That means, for some reason, if most data is having same value for that 5booleans, but very different for the other 95 booleans, they will still go to same bucket.  That&#39;s why it is a poor hashing algorithm.  However with the so-called base-changing approach, such effect is insignificant","body":"I think you missed the point.  Assuming you have 100 booleans in the hashcode calculation, with the &quot;bitset&quot; approach, only the least significant 5 booleans will determine which bucket it will go (in case of a hashmap of capacity of 16).  That means, for some reason, if most data is having same value for that 5booleans, but very different for the other 95 booleans, they will still go to same bucket.  That&#39;s why it is a poor hashing algorithm.  However with the so-called base-changing approach, such effect is insignificant"},{"owner":{"account_id":295168,"reputation":12465,"user_id":599436,"accept_rate":100,"display_name":"Jon Egeland"},"score":0,"creation_date":1424836990,"post_id":28688073,"comment_id":45710420,"body_markdown":"@AdrianShum I&#39;ve added some notes to Option 1. If you think it could be worded better or if I&#39;ve missed anything, feel free to edit the answer with your input on the matter. However, Option 1 *is* more effective for small numbers of inputs, and so I feel it is important to leave it in the answer.","body":"@AdrianShum I&#39;ve added some notes to Option 1. If you think it could be worded better or if I&#39;ve missed anything, feel free to edit the answer with your input on the matter. However, Option 1 <i>is</i> more effective for small numbers of inputs, and so I feel it is important to leave it in the answer."},{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":0,"creation_date":1424837845,"post_id":28688073,"comment_id":45710645,"body_markdown":"I do not think the update cover all the concern.  In brief, I do not think option 1 should even be mentioned because 1. it is a poor hashing algorithm base on what I mentioned, 2. Although it run slightly faster, in real-life the difference is rarely significant. i.e. This option is only applicable to very rare and specialized situation, which is not worth mentioning (or it is in fact bad mentioning here because other people may mistakenly used this approach which caused problem)","body":"I do not think the update cover all the concern.  In brief, I do not think option 1 should even be mentioned because 1. it is a poor hashing algorithm base on what I mentioned, 2. Although it run slightly faster, in real-life the difference is rarely significant. i.e. This option is only applicable to very rare and specialized situation, which is not worth mentioning (or it is in fact bad mentioning here because other people may mistakenly used this approach which caused problem)"}],"tags":[],"owner":{"account_id":295168,"reputation":12465,"user_id":599436,"accept_rate":100,"display_name":"Jon Egeland"},"comment_count":7,"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1697448680,"creation_date":1424751464,"answer_id":28688073,"question_id":28687713,"body_markdown":"You have a couple of options:\r\n\r\n## Option 1: Bit flagging\r\nThe best way to *guarantee* that there can *never* be collisions between boolean hashes is to use a technique similar to the one used in [bit flagging](http://eddmann.com/posts/using-bit-flags-and-enumsets-in-java/), whereby you have each boolean occupy its own bit. For example:\r\n\r\n    // `byte` can be replaced with `short`, `int`, or `long` to fit all of your variables.\r\n    byte booleans = 0;\r\n    if(bool1) booleans += 1;  // 0001\r\n    if(bool2) booleans += 2;  // 0010\r\n    if(bool3) booleans += 4;  // 0100\r\n    if(bool4) booleans += 8;  // 1000\r\n    ...\r\n\r\nHowever, this approach quickly becomes inefficient with a large number of booleans and is highly dependent on the size of the target array. For example, if you have a target array of size 16, only the first 4 have an effect on the hash value (since the maximum index is `1111`).\r\n\r\nThe two solutions to this are to either increase the size of your target array (which might not be under your control), or ensure that the order of your booleans goes from most to least variadic. Neither of these are optimal, and so this method is quick and easy, but not very effective in practice.\r\n\r\n\r\n## Option 2: Base-changing hash\r\nThe design that [Pham Trung shows in his answer](https://stackoverflow.com/a/28687867/599436) expands on Option 1 as an easier way to accomodate multiple fields. As [Adrian Shum commented](https://stackoverflow.com/questions/28687713/hashcode-implementation-on-boolean-fields#comment45667885_28687713), [this answer](https://stackoverflow.com/a/113600/395202) provides an overview of a &quot;general hashing algorithm&quot; which is designed to be effective independent of what you are trying to hash.\r\n\r\nThe basic idea is to multiply a simplified hash value for each type by some arbitrarily large prime number to ensure that each hash is unique (though the proof for this eludes me). For example:\r\n\r\n    int result = 0;\r\n    result = 31*result + bool1 ? 1 : 0;\r\n    result = 31*result + bool2 ? 1 : 0;\r\n    ...\r\n\r\nFor an even more sparse hash distribution, you can combine this with [`Boolean.hashCode`](https://stackoverflow.com/questions/3912303/boolean-hashcode), as the other answers show:\r\n\r\n    int result = 0;\r\n    result += 31*result + bool1.hashCode();\r\n    result += 31*result + bool2.hashCode();\r\n    ...\r\n\r\nWhat&#39;s great about this solution is that it can be applied to other types, like you already have in your sample code:\r\n\r\n    ...\r\n    result = 31*result + i;\r\n    result = 31*result + (a != null ? a.hashCode() : 0);\r\n    result = 31*result + my_complex_object.hashCode();\r\n\r\n**Note**: In these examples, `31` is just some arbitrary prime. You could just have easily used `37`, `113`, or `23456789`. However, there are trade-offs for using larger multiplicands, namely that your hash will more quickly exceed `Integer.MAX_VALUE` and invalidate your hash.","title":"hashcode implementation on boolean fields","body":"<p>You have a couple of options:</p>\n<h2>Option 1: Bit flagging</h2>\n<p>The best way to <em>guarantee</em> that there can <em>never</em> be collisions between boolean hashes is to use a technique similar to the one used in <a href=\"http://eddmann.com/posts/using-bit-flags-and-enumsets-in-java/\" rel=\"nofollow noreferrer\">bit flagging</a>, whereby you have each boolean occupy its own bit. For example:</p>\n<pre><code>// `byte` can be replaced with `short`, `int`, or `long` to fit all of your variables.\nbyte booleans = 0;\nif(bool1) booleans += 1;  // 0001\nif(bool2) booleans += 2;  // 0010\nif(bool3) booleans += 4;  // 0100\nif(bool4) booleans += 8;  // 1000\n...\n</code></pre>\n<p>However, this approach quickly becomes inefficient with a large number of booleans and is highly dependent on the size of the target array. For example, if you have a target array of size 16, only the first 4 have an effect on the hash value (since the maximum index is <code>1111</code>).</p>\n<p>The two solutions to this are to either increase the size of your target array (which might not be under your control), or ensure that the order of your booleans goes from most to least variadic. Neither of these are optimal, and so this method is quick and easy, but not very effective in practice.</p>\n<h2>Option 2: Base-changing hash</h2>\n<p>The design that <a href=\"https://stackoverflow.com/a/28687867/599436\">Pham Trung shows in his answer</a> expands on Option 1 as an easier way to accomodate multiple fields. As <a href=\"https://stackoverflow.com/questions/28687713/hashcode-implementation-on-boolean-fields#comment45667885_28687713\">Adrian Shum commented</a>, <a href=\"https://stackoverflow.com/a/113600/395202\">this answer</a> provides an overview of a &quot;general hashing algorithm&quot; which is designed to be effective independent of what you are trying to hash.</p>\n<p>The basic idea is to multiply a simplified hash value for each type by some arbitrarily large prime number to ensure that each hash is unique (though the proof for this eludes me). For example:</p>\n<pre><code>int result = 0;\nresult = 31*result + bool1 ? 1 : 0;\nresult = 31*result + bool2 ? 1 : 0;\n...\n</code></pre>\n<p>For an even more sparse hash distribution, you can combine this with <a href=\"https://stackoverflow.com/questions/3912303/boolean-hashcode\"><code>Boolean.hashCode</code></a>, as the other answers show:</p>\n<pre><code>int result = 0;\nresult += 31*result + bool1.hashCode();\nresult += 31*result + bool2.hashCode();\n...\n</code></pre>\n<p>What's great about this solution is that it can be applied to other types, like you already have in your sample code:</p>\n<pre><code>...\nresult = 31*result + i;\nresult = 31*result + (a != null ? a.hashCode() : 0);\nresult = 31*result + my_complex_object.hashCode();\n</code></pre>\n<p><strong>Note</strong>: In these examples, <code>31</code> is just some arbitrary prime. You could just have easily used <code>37</code>, <code>113</code>, or <code>23456789</code>. However, there are trade-offs for using larger multiplicands, namely that your hash will more quickly exceed <code>Integer.MAX_VALUE</code> and invalidate your hash.</p>\n"}],"owner":{"account_id":3755199,"reputation":219,"user_id":3121702,"accept_rate":90,"display_name":"loop"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10606,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":28688073,"answer_count":3,"score":9,"last_activity_date":1697448680,"creation_date":1424748950,"question_id":28687713,"body_markdown":"How do I implement a good hashcode if there are two boolean fields? Usually people just add the integer values to their hashcode values. But if I simply add 1 or 0 to my hashcode, I do not think it is good. Because if I have two objects of class A: \r\n\r\nobj1.b = true, obj1.c = false. \r\n\r\nobj2.b = false, obj2.c = true.\r\n\r\nEveryting else is the same. Then the hashcode for these two unequal objects are the same. I know this situation is okay. But imagine if there are 100 boolean fields, then there would be too much collision right? I do not want so many different objects to fall in the same bucket. \r\n\r\nWhat I did below is to assign different numbers to different truth values for each field so objects hashcodes can be very different.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public class A {\r\n\r\n        private final String a;\r\n        private final boolean b;\r\n        private final boolean c;\r\n\r\n    ...\r\n\r\n    @Override public int hashCode(){\r\n                int i,j;\r\n                if(b) {\r\n                        i = 10;\r\n                }\r\n                else {\r\n                        i = 0;\r\n                }\r\n                if(c) {\r\n                        j = 88;\r\n                }\r\n                else {\r\n                        j = 3;\r\n                }\r\n                int result = 0;\r\n                result = 31*result + i + j;\r\n                result = 31*result + (a != null ? a.hashCode() : 0);\r\n                return result;\r\n        }\r\n    }\r\n","title":"hashcode implementation on boolean fields","body":"<p>How do I implement a good hashcode if there are two boolean fields? Usually people just add the integer values to their hashcode values. But if I simply add 1 or 0 to my hashcode, I do not think it is good. Because if I have two objects of class A: </p>\n\n<p>obj1.b = true, obj1.c = false. </p>\n\n<p>obj2.b = false, obj2.c = true.</p>\n\n<p>Everyting else is the same. Then the hashcode for these two unequal objects are the same. I know this situation is okay. But imagine if there are 100 boolean fields, then there would be too much collision right? I do not want so many different objects to fall in the same bucket. </p>\n\n<p>What I did below is to assign different numbers to different truth values for each field so objects hashcodes can be very different.</p>\n\n<pre><code>public class A {\n\n    private final String a;\n    private final boolean b;\n    private final boolean c;\n\n...\n\n@Override public int hashCode(){\n            int i,j;\n            if(b) {\n                    i = 10;\n            }\n            else {\n                    i = 0;\n            }\n            if(c) {\n                    j = 88;\n            }\n            else {\n                    j = 3;\n            }\n            int result = 0;\n            result = 31*result + i + j;\n            result = 31*result + (a != null ? a.hashCode() : 0);\n            return result;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-boot-actuator"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1697115743,"post_id":77280783,"comment_id":136240981,"body_markdown":"Just change `/health` to `/actuator/health` on ant matchers","body":"Just change <code>&#47;health</code> to <code>&#47;actuator&#47;health</code> on ant matchers"},{"owner":{"account_id":24094543,"reputation":29,"user_id":18067284,"display_name":"user"},"score":0,"creation_date":1697116139,"post_id":77280783,"comment_id":136241081,"body_markdown":"If I change it like this **.antMatchers(&quot;/actuator/health&quot;).permitAll()** it still doesn&#39;t work, or do I need to change something in **.excluding()**?","body":"If I change it like this <b>.antMatchers(&quot;/actuator/health&quot;).permitAll()</b> it still doesn&#39;t work, or do I need to change something in <b>.excluding()</b>?"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1697180468,"post_id":77280783,"comment_id":136249909,"body_markdown":"then enable debug logs and update your question with the full debug logs so we can actually see what the server is doing.","body":"then enable debug logs and update your question with the full debug logs so we can actually see what the server is doing."}],"answers":[{"tags":[],"owner":{"account_id":24094543,"reputation":29,"user_id":18067284,"display_name":"user"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697448529,"creation_date":1697448529,"answer_id":77300819,"question_id":77280783,"body_markdown":"I found this solution, and it works perfectly\r\n\r\n    http.requestMatcher(EndpointRequest.to(&quot;health&quot;))\r\n\r\nThis will enable access to **/health** endpoint but will ask for credentials to any other endpoint","title":"Securing actuator endpoints except /health","body":"<p>I found this solution, and it works perfectly</p>\n<pre><code>http.requestMatcher(EndpointRequest.to(&quot;health&quot;))\n</code></pre>\n<p>This will enable access to <strong>/health</strong> endpoint but will ask for credentials to any other endpoint</p>\n"}],"owner":{"account_id":24094543,"reputation":29,"user_id":18067284,"display_name":"user"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77300819,"answer_count":1,"score":0,"last_activity_date":1697448529,"creation_date":1697115286,"question_id":77280783,"body_markdown":"I want to secure my actuator endpoints with Spring Security except for /health endpoint\r\n\r\nAnd I have this in my **application.yaml**\r\n \r\n\r\n    spring:\r\n      security:\r\n        user:\r\n          name: admin\r\n          password: ************\r\n\r\nAnd this in my SecurityConfig\r\n\r\n    @Configuration(proxyBeanMethods = false)\r\n    public class SecurityConfiguration {\r\n    \r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                    .requestMatcher(EndpointRequest.toAnyEndpoint().excluding(&quot;health&quot;)) \r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/health&quot;).permitAll() \r\n                    .anyRequest().authenticated() \r\n                    .and()\r\n                    .httpBasic(); \r\n            return http.build();\r\n        }\r\n    }\r\n\r\nBut this config does not work as I want, because I still see the login form when I try to access **/actuator/health** endpoint\r\n\r\nMaybe you have some suggestions so this will work.\r\n\r\n\r\nI also think that maybe this is blocking code above from working as expected\r\n\r\n    management:\r\n      endpoint:\r\n        health:\r\n          show-details: always\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n            include: &quot;*&quot;","title":"Securing actuator endpoints except /health","body":"<p>I want to secure my actuator endpoints with Spring Security except for /health endpoint</p>\n<p>And I have this in my <strong>application.yaml</strong></p>\n<pre><code>spring:\n  security:\n    user:\n      name: admin\n      password: ************\n</code></pre>\n<p>And this in my SecurityConfig</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .requestMatcher(EndpointRequest.toAnyEndpoint().excluding(&quot;health&quot;)) \n                .authorizeRequests()\n                .antMatchers(&quot;/health&quot;).permitAll() \n                .anyRequest().authenticated() \n                .and()\n                .httpBasic(); \n        return http.build();\n    }\n}\n</code></pre>\n<p>But this config does not work as I want, because I still see the login form when I try to access <strong>/actuator/health</strong> endpoint</p>\n<p>Maybe you have some suggestions so this will work.</p>\n<p>I also think that maybe this is blocking code above from working as expected</p>\n<pre><code>management:\n  endpoint:\n    health:\n      show-details: always\n  endpoints:\n    web:\n      exposure:\n        include: &quot;*&quot;\n</code></pre>\n"},{"tags":["java","android","picasso","android-glide","socketexception"],"comments":[{"owner":{"account_id":17692745,"reputation":902,"user_id":12844156,"display_name":"SowlM"},"score":0,"creation_date":1697438950,"post_id":77299467,"comment_id":136275100,"body_markdown":"There is some steps you should test first...\nDoes your image URL (http://xx.xx.xx.xx:1901/image/image.webp) load on a web page?\nDid you try loading a public image link to ensure your code works fine? (for example, get a Google image URL and load it on your app with Glide)\nFinally can you add a snapshot of your code and error?\nIt will be more debuggable if your code sample is added to your question.","body":"There is some steps you should test first... Does your image URL (<a href=\"http://xx.xx.xx.xx:1901/image/image.webp\" rel=\"nofollow noreferrer\">xx.xx.xx.xx:1901/image/image.webp</a>) load on a web page? Did you try loading a public image link to ensure your code works fine? (for example, get a Google image URL and load it on your app with Glide) Finally can you add a snapshot of your code and error? It will be more debuggable if your code sample is added to your question."},{"owner":{"account_id":13894304,"reputation":939,"user_id":10031533,"display_name":"Adrian Pascu"},"score":0,"creation_date":1697439159,"post_id":77299467,"comment_id":136275138,"body_markdown":"Just to double check. you have http connections enabled, right? Not HTTPS","body":"Just to double check. you have http connections enabled, right? Not HTTPS"}],"owner":{"account_id":20847946,"reputation":1,"user_id":15313072,"display_name":"Guvanch Rahmankulov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697448360,"creation_date":1697432219,"question_id":77299467,"body_markdown":"Help with glide, I have a VDS server that does not have a domain, but I receive JSON data from the API from it, but I don’t understand when I want to load an image on the screen using Glide, it gives an error that there is `SocketException. Connection reset`. Is there any way to get around this? I am loading an image from `http://xx.xx.xx.xx:1901/image/image.webp`\r\n\r\nI tried other libraries like Picasso and URL.openconnection()\r\n\r\nI tried load image from browser this successfullly working. only with glide no work!!!","title":"Glide not loading images from IP url Connection reset Socket exception","body":"<p>Help with glide, I have a VDS server that does not have a domain, but I receive JSON data from the API from it, but I don’t understand when I want to load an image on the screen using Glide, it gives an error that there is <code>SocketException. Connection reset</code>. Is there any way to get around this? I am loading an image from <code>http://xx.xx.xx.xx:1901/image/image.webp</code></p>\n<p>I tried other libraries like Picasso and URL.openconnection()</p>\n<p>I tried load image from browser this successfullly working. only with glide no work!!!</p>\n"},{"tags":["java","apache-spark","jdbc","parallel-processing"],"comments":[{"owner":{"account_id":3450274,"reputation":9585,"user_id":2890093,"accept_rate":67,"display_name":"Kombajn zbożowy"},"score":0,"creation_date":1697441955,"post_id":77299958,"comment_id":136275576,"body_markdown":"Is `df.show(false)` not enough?","body":"Is <code>df.show(false)</code> not enough?"},{"owner":{"account_id":28753147,"reputation":3,"user_id":22020741,"display_name":"helloooo"},"score":0,"creation_date":1697444695,"post_id":77299958,"comment_id":136276021,"body_markdown":"it doesn&#39;t work, either. do we have other method?","body":"it doesn&#39;t work, either. do we have other method?"},{"owner":{"account_id":3450274,"reputation":9585,"user_id":2890093,"accept_rate":67,"display_name":"Kombajn zbożowy"},"score":0,"creation_date":1697445715,"post_id":77299958,"comment_id":136276204,"body_markdown":"What does it mean &quot;it doesn&#39;t work&quot;? What do you exactly want to print?","body":"What does it mean &quot;it doesn&#39;t work&quot;? What do you exactly want to print?"},{"owner":{"account_id":28753147,"reputation":3,"user_id":22020741,"display_name":"helloooo"},"score":0,"creation_date":1697508153,"post_id":77299958,"comment_id":136285679,"body_markdown":"i actually want to print each row of each partition. i solve the problem anyway. thanks for your help!","body":"i actually want to print each row of each partition. i solve the problem anyway. thanks for your help!"}],"answers":[{"comments":[{"owner":{"account_id":28753147,"reputation":3,"user_id":22020741,"display_name":"helloooo"},"score":0,"creation_date":1697507996,"post_id":77300789,"comment_id":136285671,"body_markdown":"thank you! It found the error that i actually wrote &quot;spark.stop()&quot; before that code. it helps a lot","body":"thank you! It found the error that i actually wrote &quot;spark.stop()&quot; before that code. it helps a lot"}],"tags":[],"owner":{"account_id":28615913,"reputation":308,"user_id":21909908,"display_name":"Muhammad Sarmad"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697448235,"creation_date":1697448235,"answer_id":77300789,"question_id":77299958,"body_markdown":"You should utilise the `df.foreachPartition` method in Apache Spark to print data from partitions of a PostgreSQL database table in parallel. You probably tried to run a Spark job after the SparkContext had been stopped, which is why you got the error java.lang.IllegalStateException: SparkContext has been shutdown.&quot; By using `foreachPartition` to loop over each partition of the DataFrame and print the data in parallel, the modified code supplied below resolves this problem:\r\n\r\n    import org.apache.spark.api.java.function.ForeachPartitionFunction;\r\n    import org.apache.spark.sql.Dataset;\r\n    import org.apache.spark.sql.Row;\r\n    \r\n    Dataset&lt;Row&gt; df = spark.read()\r\n        .format(&quot;jdbc&quot;)\r\n        .option(&quot;url&quot;, &quot;jdbc:postgresql://&quot; + ip + &quot;:&quot; + port + &quot;/&quot; + db)\r\n        .option(&quot;driver&quot;, &quot;org.postgresql.Driver&quot;)\r\n        .option(&quot;dbtable&quot;, sql)\r\n        .option(&quot;user&quot;, user)\r\n        .option(&quot;password&quot;, passwd)\r\n        .option(&quot;partitionColumn&quot;, &quot;rownum&quot;)\r\n        .option(&quot;numPartitions&quot;, 10)\r\n        .option(&quot;lowerBound&quot;, 1)\r\n        .option(&quot;upperBound&quot;, 2000)\r\n        .load();\r\n    \r\n    df.foreachPartition((ForeachPartitionFunction&lt;Row&gt;) iterator -&gt; {\r\n        while (iterator.hasNext()) {\r\n            Row row = iterator.next();\r\n            System.out.println(&quot;row: &quot; + row);\r\n        }\r\n    });\r\n\r\nPrinting the PostgreSQL data without running into SparkContext shutdown-related problems is made possible by this code&#39;s effective parallel processing of data within each partition. Before running this code, make sure Spark is running and check your configuration to make sure Spark is initialising properly.\r\n\r\nHope this helps you, hit me up if you wanna know more\r\n","title":"how can i print the data of partitions from JDBC database parallel read","body":"<p>You should utilise the <code>df.foreachPartition</code> method in Apache Spark to print data from partitions of a PostgreSQL database table in parallel. You probably tried to run a Spark job after the SparkContext had been stopped, which is why you got the error java.lang.IllegalStateException: SparkContext has been shutdown.&quot; By using <code>foreachPartition</code> to loop over each partition of the DataFrame and print the data in parallel, the modified code supplied below resolves this problem:</p>\n<pre><code>import org.apache.spark.api.java.function.ForeachPartitionFunction;\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\n\nDataset&lt;Row&gt; df = spark.read()\n    .format(&quot;jdbc&quot;)\n    .option(&quot;url&quot;, &quot;jdbc:postgresql://&quot; + ip + &quot;:&quot; + port + &quot;/&quot; + db)\n    .option(&quot;driver&quot;, &quot;org.postgresql.Driver&quot;)\n    .option(&quot;dbtable&quot;, sql)\n    .option(&quot;user&quot;, user)\n    .option(&quot;password&quot;, passwd)\n    .option(&quot;partitionColumn&quot;, &quot;rownum&quot;)\n    .option(&quot;numPartitions&quot;, 10)\n    .option(&quot;lowerBound&quot;, 1)\n    .option(&quot;upperBound&quot;, 2000)\n    .load();\n\ndf.foreachPartition((ForeachPartitionFunction&lt;Row&gt;) iterator -&gt; {\n    while (iterator.hasNext()) {\n        Row row = iterator.next();\n        System.out.println(&quot;row: &quot; + row);\n    }\n});\n</code></pre>\n<p>Printing the PostgreSQL data without running into SparkContext shutdown-related problems is made possible by this code's effective parallel processing of data within each partition. Before running this code, make sure Spark is running and check your configuration to make sure Spark is initialising properly.</p>\n<p>Hope this helps you, hit me up if you wanna know more</p>\n"}],"owner":{"account_id":28753147,"reputation":3,"user_id":22020741,"display_name":"helloooo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77300789,"answer_count":1,"score":0,"last_activity_date":1697448235,"creation_date":1697440085,"question_id":77299958,"body_markdown":"hi i would like to print the data of partitions from postgre database in parallel read, but it doesn&#39;t work\r\nI would like to know is it possible to print it? i googled for a longtime, but nothing came up\r\n\r\nhere is the code i tried:\r\n\r\n```\r\nDataset&lt;Row&gt; df= spark.read().format(&quot;jdbc&quot;).option(&quot;url&quot;,&quot;jdbc:postgresql://&quot;+ip+&quot;:&quot;+port+&quot;/&quot;+db )\r\n\t\t              .option(&quot;driver&quot;, &quot;org.postgresql.Driver&quot;)\r\n\t\t              .option(&quot;dbtable&quot;, sql)\r\n\t\t              .option(&quot;user&quot;, user)\r\n\t\t              .option(&quot;password&quot;, passwd)\r\n\t\t              .option(&quot;partitionColumn&quot;, &quot;rownum&quot;)\r\n\t\t            .option(&quot;numPartitions&quot;, 10)\r\n\t\t            .option(&quot;lowerBound&quot;, 1)\r\n\t\t            .option(&quot;upperBound&quot;, 2000)\r\n\t\t              .load();\r\n\r\ndf.foreach(x-&gt;{System.out.println(&quot;row:&quot;+x);}); --&gt; error\r\n```\r\n\r\nhere is the error log:\r\n\r\n```\r\njava.lang.IllegalStateException: SparkContext has been shutdown\r\n\tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2053)\r\n\tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2082)\r\n\tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2101)\r\n\tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2126)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$foreach$1.apply(RDD.scala:927)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$foreach$1.apply(RDD.scala:925)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\r\n\tat org.apache.spark.rdd.RDD.withScope(RDD.scala:363)\r\n```\r\n","title":"how can i print the data of partitions from JDBC database parallel read","body":"<p>hi i would like to print the data of partitions from postgre database in parallel read, but it doesn't work\nI would like to know is it possible to print it? i googled for a longtime, but nothing came up</p>\n<p>here is the code i tried:</p>\n<pre><code>Dataset&lt;Row&gt; df= spark.read().format(&quot;jdbc&quot;).option(&quot;url&quot;,&quot;jdbc:postgresql://&quot;+ip+&quot;:&quot;+port+&quot;/&quot;+db )\n                      .option(&quot;driver&quot;, &quot;org.postgresql.Driver&quot;)\n                      .option(&quot;dbtable&quot;, sql)\n                      .option(&quot;user&quot;, user)\n                      .option(&quot;password&quot;, passwd)\n                      .option(&quot;partitionColumn&quot;, &quot;rownum&quot;)\n                    .option(&quot;numPartitions&quot;, 10)\n                    .option(&quot;lowerBound&quot;, 1)\n                    .option(&quot;upperBound&quot;, 2000)\n                      .load();\n\ndf.foreach(x-&gt;{System.out.println(&quot;row:&quot;+x);}); --&gt; error\n</code></pre>\n<p>here is the error log:</p>\n<pre><code>java.lang.IllegalStateException: SparkContext has been shutdown\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:2053)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:2082)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:2101)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:2126)\n    at org.apache.spark.rdd.RDD$$anonfun$foreach$1.apply(RDD.scala:927)\n    at org.apache.spark.rdd.RDD$$anonfun$foreach$1.apply(RDD.scala:925)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\n    at org.apache.spark.rdd.RDD.withScope(RDD.scala:363)\n</code></pre>\n"},{"tags":["java","validation","groovy","grails","grails-orm"],"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697448148,"creation_date":1697448148,"question_id":77300785,"body_markdown":"I&#39;m using GORM-Stanalone in my app with:\r\n\r\n```\r\ndependencies {\r\n  api &#39;org.grails:grails-datastore-gorm-hibernate5:8.0.1&#39;\r\n  // api &#39;org.grails:grails-validation:3.3.16&#39; // &lt;- tried that with no effect\r\n}\r\n```\r\nI have a domain class like:\r\n\r\n```\r\n@Entity\r\nclass User implements GormEntity&lt;User&gt; {\r\n  \r\n  // yada yadda\r\n\r\n  static constraints = {\r\n    name blank:false, matches:/(\\p{L}+\\s?)+/\r\n    password validator:{ passwordValidator.validate it }\r\n    email unique:true\r\n    permissionMask min:1\r\n    birthDate validator:{\r\n      Date now = new Date()\r\n      now - 130 * 365 &lt; it &amp;&amp; it &lt; now - 10 * 365\r\n    }\r\n    address nullable:true\r\n  }\r\n}\r\n```\r\n\r\nNow, I want to get list of constrained properties.\r\n\r\nI tried [following the other answer][1], but the code \r\n\r\n```\r\nUser.getConstraints()\r\n//or\r\nUser.constraints\r\n```\r\n\r\nreturns a closure \r\n```\r\n{&quot;delegate&quot;:null,&quot;owner&quot;:&quot;vx.demo.domain2.User&quot;,&quot;thisObject&quot;:&quot;vx.demo.domain2.User&quot;,\r\n&quot;resolveStrategy&quot;:3,&quot;directive&quot;:0,&quot;parameterTypes&quot;:[&quot;java.lang.Object&quot;],&quot;maximumNumberOfParameters&quot;:1}\r\n````\r\n\r\nand the calls like \r\n```\r\nUser.getConstraints().containsKey &#39;name&#39;\r\n```\r\n\r\nalso fail:\r\n```\r\ngroovy.lang.MissingMethodException: No signature of method: vx.demo.domain2.User$__clinit__closure5.containsKey() is applicable for argument types: (String) values: [name]\r\n\r\n```\r\nThe call \r\n```\r\nUser.constraints.name\r\n```\r\nresults in \r\n```\r\njava.lang.NullPointerException: Cannot get property &#39;name&#39; on null object\r\n```\r\n\r\nWhat am I doing wrong? \r\nHow to get the list of all constrained props&#39; names?\r\n\r\n  [1]: https://stackoverflow.com/questions/53952178/grails-domain-constraints-is-not-a-map-at-runtime-like-docs-suggest","title":"GORM standalone: get all Domain&#39;s constraints","body":"<p>I'm using GORM-Stanalone in my app with:</p>\n<pre><code>dependencies {\n  api 'org.grails:grails-datastore-gorm-hibernate5:8.0.1'\n  // api 'org.grails:grails-validation:3.3.16' // &lt;- tried that with no effect\n}\n</code></pre>\n<p>I have a domain class like:</p>\n<pre><code>@Entity\nclass User implements GormEntity&lt;User&gt; {\n  \n  // yada yadda\n\n  static constraints = {\n    name blank:false, matches:/(\\p{L}+\\s?)+/\n    password validator:{ passwordValidator.validate it }\n    email unique:true\n    permissionMask min:1\n    birthDate validator:{\n      Date now = new Date()\n      now - 130 * 365 &lt; it &amp;&amp; it &lt; now - 10 * 365\n    }\n    address nullable:true\n  }\n}\n</code></pre>\n<p>Now, I want to get list of constrained properties.</p>\n<p>I tried <a href=\"https://stackoverflow.com/questions/53952178/grails-domain-constraints-is-not-a-map-at-runtime-like-docs-suggest\">following the other answer</a>, but the code</p>\n<pre><code>User.getConstraints()\n//or\nUser.constraints\n</code></pre>\n<p>returns a closure</p>\n<pre><code>{&quot;delegate&quot;:null,&quot;owner&quot;:&quot;vx.demo.domain2.User&quot;,&quot;thisObject&quot;:&quot;vx.demo.domain2.User&quot;,\n&quot;resolveStrategy&quot;:3,&quot;directive&quot;:0,&quot;parameterTypes&quot;:[&quot;java.lang.Object&quot;],&quot;maximumNumberOfParameters&quot;:1}\n</code></pre>\n<p>and the calls like</p>\n<pre><code>User.getConstraints().containsKey 'name'\n</code></pre>\n<p>also fail:</p>\n<pre><code>groovy.lang.MissingMethodException: No signature of method: vx.demo.domain2.User$__clinit__closure5.containsKey() is applicable for argument types: (String) values: [name]\n\n</code></pre>\n<p>The call</p>\n<pre><code>User.constraints.name\n</code></pre>\n<p>results in</p>\n<pre><code>java.lang.NullPointerException: Cannot get property 'name' on null object\n</code></pre>\n<p>What am I doing wrong?\nHow to get the list of all constrained props' names?</p>\n"},{"tags":["java","performance"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1697448352,"post_id":77300782,"comment_id":136276664,"body_markdown":"Your entire benchmark is flawed because it does not take into account the warmup effects of the JVM. You can&#39;t draw any conclusions from bad data. Use JMH, explained in the linked question","body":"Your entire benchmark is flawed because it does not take into account the warmup effects of the JVM. You can&#39;t draw any conclusions from bad data. Use JMH, explained in the linked question"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1697449241,"post_id":77300782,"comment_id":136276834,"body_markdown":"&quot;but how can the execution order changed that&quot; JVM/JIT warmup","body":"&quot;but how can the execution order changed that&quot; JVM/JIT warmup"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697468037,"post_id":77300782,"comment_id":136280406,"body_markdown":"You’re only measuring how long it takes until the JVM recognizes that the code does nothing useful and can be eliminated.","body":"You’re only measuring how long it takes until the JVM recognizes that the code does nothing useful and can be eliminated."}],"owner":{"account_id":334058,"reputation":389,"user_id":660250,"display_name":"vnoob0"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697448289,"answer_count":0,"score":0,"last_activity_date":1697448127,"creation_date":1697448127,"question_id":77300782,"body_markdown":"I have 3 code snippet to measure the cost, the last snippet shows that maybe the main entry adding some cost, the main point still lied in first two snippet\r\nFirst case: declare 3 int comes first\r\n```\r\nint size = Integer.MAX_VALUE;\r\nlong ms = System.currentTimeMillis();\r\n\r\nfor (int i = 0; i &lt; size; i++) {\r\n\tint a = 10;\r\n\tint b = 20;\r\n\tint c = 30;\r\n}\r\nSystem.out.println((System.currentTimeMillis() - ms));\r\n\r\nms = System.currentTimeMillis();\r\n\r\nfor (int i = 0; i &lt; size; i++) {\r\n\tint[] arr = new int[3];\r\n\tarr[0] = 10;\r\n\tarr[1] = 20;\r\n\tarr[2] = 30;\r\n}\r\nSystem.out.println((System.currentTimeMillis() - ms));\r\n```\r\nOutput:\r\n```\r\n9\r\n2\r\n```\r\nSecond case: new int[3] comes first\r\n```\r\nint size = Integer.MAX_VALUE;\r\nlong ms = System.currentTimeMillis();\r\n\r\nfor (int i = 0; i &lt; size; i++) {\r\n\tint[] arr = new int[3];\r\n\tarr[0] = 10;\r\n\tarr[1] = 20;\r\n\tarr[2] = 30;\r\n}\r\nSystem.out.println((System.currentTimeMillis() - ms));\r\n\r\nms = System.currentTimeMillis();\r\n\r\nfor (int i = 0; i &lt; size; i++) {\r\n\tint a = 10;\r\n\tint b = 20;\r\n\tint c = 30;\r\n}\r\nSystem.out.println((System.currentTimeMillis() - ms));\r\n```\r\nOutput:\r\n```\r\n8\r\n1\r\n```\r\nThird case: I doubt that the main entry is somehow affect the cost so\r\n```\r\ntry {\r\n\tThread.sleep(1000);\r\n} catch (InterruptedException e) {\r\n\tthrow new RuntimeException(e);\r\n}\r\nint size = Integer.MAX_VALUE;\r\nlong ms = System.currentTimeMillis();\r\n\r\nfor (int i = 0; i &lt; size; i++) {\r\n\tint a = 10;\r\n\tint b = 20;\r\n\tint c = 30;\r\n}\r\nSystem.out.println((System.currentTimeMillis() - ms));\r\n\r\nms = System.currentTimeMillis();\r\n\r\nfor (int i = 0; i &lt; size; i++) {\r\n\tint[] arr = new int[3];\r\n\tarr[0] = 10;\r\n\tarr[1] = 20;\r\n\tarr[2] = 30;\r\n}\r\nSystem.out.println((System.currentTimeMillis() - ms));\r\n```\r\nOutput:\r\n```\r\n1\r\n2\r\n```\r\nSo what is the reason of the first execution always slower than the second? I thought of memory allocation, and new int[3] is slower by logic, but how can the execution order changed that?","title":"Performance between declare 3 int vs. new int[3]","body":"<p>I have 3 code snippet to measure the cost, the last snippet shows that maybe the main entry adding some cost, the main point still lied in first two snippet\nFirst case: declare 3 int comes first</p>\n<pre><code>int size = Integer.MAX_VALUE;\nlong ms = System.currentTimeMillis();\n\nfor (int i = 0; i &lt; size; i++) {\n    int a = 10;\n    int b = 20;\n    int c = 30;\n}\nSystem.out.println((System.currentTimeMillis() - ms));\n\nms = System.currentTimeMillis();\n\nfor (int i = 0; i &lt; size; i++) {\n    int[] arr = new int[3];\n    arr[0] = 10;\n    arr[1] = 20;\n    arr[2] = 30;\n}\nSystem.out.println((System.currentTimeMillis() - ms));\n</code></pre>\n<p>Output:</p>\n<pre><code>9\n2\n</code></pre>\n<p>Second case: new int[3] comes first</p>\n<pre><code>int size = Integer.MAX_VALUE;\nlong ms = System.currentTimeMillis();\n\nfor (int i = 0; i &lt; size; i++) {\n    int[] arr = new int[3];\n    arr[0] = 10;\n    arr[1] = 20;\n    arr[2] = 30;\n}\nSystem.out.println((System.currentTimeMillis() - ms));\n\nms = System.currentTimeMillis();\n\nfor (int i = 0; i &lt; size; i++) {\n    int a = 10;\n    int b = 20;\n    int c = 30;\n}\nSystem.out.println((System.currentTimeMillis() - ms));\n</code></pre>\n<p>Output:</p>\n<pre><code>8\n1\n</code></pre>\n<p>Third case: I doubt that the main entry is somehow affect the cost so</p>\n<pre><code>try {\n    Thread.sleep(1000);\n} catch (InterruptedException e) {\n    throw new RuntimeException(e);\n}\nint size = Integer.MAX_VALUE;\nlong ms = System.currentTimeMillis();\n\nfor (int i = 0; i &lt; size; i++) {\n    int a = 10;\n    int b = 20;\n    int c = 30;\n}\nSystem.out.println((System.currentTimeMillis() - ms));\n\nms = System.currentTimeMillis();\n\nfor (int i = 0; i &lt; size; i++) {\n    int[] arr = new int[3];\n    arr[0] = 10;\n    arr[1] = 20;\n    arr[2] = 30;\n}\nSystem.out.println((System.currentTimeMillis() - ms));\n</code></pre>\n<p>Output:</p>\n<pre><code>1\n2\n</code></pre>\n<p>So what is the reason of the first execution always slower than the second? I thought of memory allocation, and new int[3] is slower by logic, but how can the execution order changed that?</p>\n"},{"tags":["java","spring-boot","liquibase","testcontainers"],"comments":[{"owner":{"account_id":2226374,"reputation":106,"user_id":1965042,"display_name":"vcg"},"score":0,"creation_date":1665026436,"post_id":62870345,"comment_id":130604205,"body_markdown":"I found this on the networks, it is working for me [@SQL Annotation](https://stackoverflow.com/a/73968342/1965042) you could have a file with all statements needed for cleanup and @Sql annotation on the required tests","body":"I found this on the networks, it is working for me <a href=\"https://stackoverflow.com/a/73968342/1965042\">@SQL Annotation</a> you could have a file with all statements needed for cleanup and @Sql annotation on the required tests"}],"answers":[{"tags":[],"owner":{"account_id":2195409,"reputation":2824,"user_id":2420718,"display_name":"Julian Espinel"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1594624527,"creation_date":1594621819,"answer_id":62870346,"question_id":62870345,"body_markdown":"The simplest way I found to do this was the following:\r\n\r\n1. Inject a JdbcTemplate instance\r\n```java\r\n@Autowired\r\nprivate JdbcTemplate jdbcTemplate;\r\n```\r\n\r\n2. Use the class JdbcTestUtils to delete the records from the tables you need to.\r\n```java\r\nJdbcTestUtils.deleteFromTables(jdbcTemplate, &quot;table1&quot;, &quot;table2&quot;, &quot;table3&quot;);\r\n```\r\n\r\n3. Call this line in the method annotated with `@After` or `@AfterEach` in your test class:\r\n```java\r\n@AfterEach\r\nvoid tearDown() throws DatabaseException {\r\n    JdbcTestUtils.deleteFromTables(jdbcTemplate, &quot;table1&quot;, &quot;table2&quot;, &quot;table3&quot;);\r\n}\r\n```\r\n\r\nI found this approach in this blog post: \r\n[Easy Integration Testing With Testcontainers](https://mydeveloperplanet.com/2020/05/05/easy-integration-testing-with-testcontainers/)","title":"How to clean database tables after each integration test when using Spring Boot and Liquibase?","body":"<p>The simplest way I found to do this was the following:</p>\n<ol>\n<li>Inject a JdbcTemplate instance</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate JdbcTemplate jdbcTemplate;\n</code></pre>\n<ol start=\"2\">\n<li>Use the class JdbcTestUtils to delete the records from the tables you need to.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>JdbcTestUtils.deleteFromTables(jdbcTemplate, &quot;table1&quot;, &quot;table2&quot;, &quot;table3&quot;);\n</code></pre>\n<ol start=\"3\">\n<li>Call this line in the method annotated with <code>@After</code> or <code>@AfterEach</code> in your test class:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@AfterEach\nvoid tearDown() throws DatabaseException {\n    JdbcTestUtils.deleteFromTables(jdbcTemplate, &quot;table1&quot;, &quot;table2&quot;, &quot;table3&quot;);\n}\n</code></pre>\n<p>I found this approach in this blog post:\n<a href=\"https://mydeveloperplanet.com/2020/05/05/easy-integration-testing-with-testcontainers/\" rel=\"noreferrer\">Easy Integration Testing With Testcontainers</a></p>\n"},{"comments":[{"owner":{"account_id":8176969,"reputation":196,"user_id":6155416,"display_name":"SirExess"},"score":0,"creation_date":1662794404,"post_id":62870425,"comment_id":130092514,"body_markdown":"Actually, this is not recommended in several blogs like this https://dev.to/henrykeys/don-t-use-transactional-in-tests-40eb","body":"Actually, this is not recommended in several blogs like this <a href=\"https://dev.to/henrykeys/don-t-use-transactional-in-tests-40eb\" rel=\"nofollow noreferrer\">dev.to/henrykeys/don-t-use-transactional-in-tests-40eb</a>"}],"tags":[],"owner":{"display_name":"user7655213"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1594622153,"creation_date":1594622153,"answer_id":62870425,"question_id":62870345,"body_markdown":"You could use @Transactional on your test methods. That way, each test method will run inside its own transaction bracket and will be rolled back before the next test method will run.\r\n\r\nOf course, this only works if you are not doing anything weird with manual transaction management, and it is reliant on some Spring Boot autoconfiguration magic, so it may not be possible in every use case, but it is generally a highly performant and very simple approach to isolating test cases.","title":"How to clean database tables after each integration test when using Spring Boot and Liquibase?","body":"<p>You could use @Transactional on your test methods. That way, each test method will run inside its own transaction bracket and will be rolled back before the next test method will run.</p>\n<p>Of course, this only works if you are not doing anything weird with manual transaction management, and it is reliant on some Spring Boot autoconfiguration magic, so it may not be possible in every use case, but it is generally a highly performant and very simple approach to isolating test cases.</p>\n"},{"comments":[{"owner":{"display_name":"user7655213"},"score":0,"creation_date":1594622815,"post_id":62870547,"comment_id":111178132,"body_markdown":"Probably better than my answer.","body":"Probably better than my answer."},{"owner":{"account_id":1592325,"reputation":654,"user_id":1475378,"display_name":"Uyric"},"score":3,"creation_date":1622131831,"post_id":62870547,"comment_id":119709382,"body_markdown":"@user7655213, I disagree and think your approach should be the first thing to do, declare the tests as `@Transactional` before anything else. If that doesn&#39;t work, then try other alternatives. `@DataJpaTest` is specifically for tests focusing in JPA functionality only, as specified by the docs: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html","body":"@user7655213, I disagree and think your approach should be the first thing to do, declare the tests as <code>@Transactional</code> before anything else. If that doesn&#39;t work, then try other alternatives. <code>@DataJpaTest</code> is specifically for tests focusing in JPA functionality only, as specified by the docs: <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/api/org/springframew&zwnj;&#8203;ork/&hellip;</a>"},{"owner":{"account_id":11580831,"reputation":2846,"user_id":8484783,"display_name":"Marc"},"score":0,"creation_date":1622163697,"post_id":62870547,"comment_id":119719556,"body_markdown":"@Ricci feel free to post your answer, it might be helpful for others.","body":"@Ricci feel free to post your answer, it might be helpful for others."},{"owner":{"account_id":6717294,"reputation":437,"user_id":5178726,"display_name":"Aron Hoogeveen"},"score":0,"creation_date":1641200018,"post_id":62870547,"comment_id":124736905,"body_markdown":"[This](https://reflectoring.io/spring-boot-data-jpa-test/) article from reflectoring.io gives some great extra info about the `@DataJpaTest` annotation (alongside more information regarding &quot;Testing JPA Queries with Spring Boot and @DataJpaTest&quot;","body":"<a href=\"https://reflectoring.io/spring-boot-data-jpa-test/\" rel=\"nofollow noreferrer\">This</a> article from reflectoring.io gives some great extra info about the <code>@DataJpaTest</code> annotation (alongside more information regarding &quot;Testing JPA Queries with Spring Boot and @DataJpaTest&quot;"},{"owner":{"account_id":5984980,"reputation":396,"user_id":4702788,"display_name":"Jorge Viana"},"score":0,"creation_date":1646419340,"post_id":62870547,"comment_id":126126649,"body_markdown":"Don&#39;t use Transactional in tests","body":"Don&#39;t use Transactional in tests"}],"tags":[],"owner":{"account_id":11580831,"reputation":2846,"user_id":8484783,"display_name":"Marc"},"comment_count":5,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1594622990,"creation_date":1594622754,"answer_id":62870547,"question_id":62870345,"body_markdown":"Annotate your test class with ```@DataJpaTest```. From the documentation:\r\n\r\n&gt;  By default, tests annotated with @DataJpaTest are transactional and roll back at the end of each test. They also use an embedded in-memory database (replacing any explicit or usually auto-configured DataSource).\r\n\r\nFor example using Junit4:\r\n```\r\n@RunWith(SpringRunner.class)\r\n@DataJpaTest\r\npublic class MyTest { \r\n//...\r\n}\r\n```\r\nUsing Junit5:\r\n```\r\n@DataJpaTest\r\npublic class MyTest { \r\n//...\r\n}\r\n```","title":"How to clean database tables after each integration test when using Spring Boot and Liquibase?","body":"<p>Annotate your test class with <code>@DataJpaTest</code>. From the documentation:</p>\n<blockquote>\n<p>By default, tests annotated with @DataJpaTest are transactional and roll back at the end of each test. They also use an embedded in-memory database (replacing any explicit or usually auto-configured DataSource).</p>\n</blockquote>\n<p>For example using Junit4:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@DataJpaTest\npublic class MyTest { \n//...\n}\n</code></pre>\n<p>Using Junit5:</p>\n<pre><code>@DataJpaTest\npublic class MyTest { \n//...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6998698,"reputation":76,"user_id":7039192,"display_name":"yakup yal&#231;ın"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631929381,"creation_date":1631929381,"answer_id":69230955,"question_id":62870345,"body_markdown":"i think this is the most effecient way for postgreSQL. You can make same thing for other db. Just find how to restart tables sequence and execute it\r\n\r\n    @Autowired\r\n    private JdbcTemplate jdbcTemplate;\r\n\r\n    @AfterEach\r\n    public void execute() {\r\n        jdbcTemplate.execute(&quot;TRUNCATE TABLE users&quot; );\r\n        jdbcTemplate.execute(&quot;ALTER SEQUENCE users_id_seq RESTART&quot;);\r\n    }","title":"How to clean database tables after each integration test when using Spring Boot and Liquibase?","body":"<p>i think this is the most effecient way for postgreSQL. You can make same thing for other db. Just find how to restart tables sequence and execute it</p>\n<pre><code>@Autowired\nprivate JdbcTemplate jdbcTemplate;\n\n@AfterEach\npublic void execute() {\n    jdbcTemplate.execute(&quot;TRUNCATE TABLE users&quot; );\n    jdbcTemplate.execute(&quot;ALTER SEQUENCE users_id_seq RESTART&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2407356,"reputation":1454,"user_id":2103431,"display_name":"Konstantin Grigorov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633625786,"creation_date":1633625786,"answer_id":69485078,"question_id":62870345,"body_markdown":"My personal preference would be:\r\n\r\n    private static final String CLEAN_TABLES_SQL[] = {\r\n    \t&quot;delete from table1&quot;,\r\n    \t&quot;delete from table2&quot;,\r\n    \t&quot;delete from table3&quot;\r\n    };\r\n    \r\n    @After\r\n    public void tearDown() {\r\n    \tfor (String query : CLEAN_TABLES_SQL)\r\n    \t{\r\n    \t\tgetJdbcTemplate().execute(query);\r\n    \t}\r\n    }\r\n\r\n\r\nTo be able to adopt this approach, you would need to\r\nextend the class with DaoSupport, and set the DataSource in the constructor.\r\n\r\n    public class Test extends NamedParameterJdbcDaoSupport\r\n\r\n\tpublic Test(DataSource dataSource)\r\n\t{\r\n\t\tsetDataSource(dataSource);\r\n\t}\r\n\r\n\r\n","title":"How to clean database tables after each integration test when using Spring Boot and Liquibase?","body":"<p>My personal preference would be:</p>\n<pre><code>private static final String CLEAN_TABLES_SQL[] = {\n    &quot;delete from table1&quot;,\n    &quot;delete from table2&quot;,\n    &quot;delete from table3&quot;\n};\n\n@After\npublic void tearDown() {\n    for (String query : CLEAN_TABLES_SQL)\n    {\n        getJdbcTemplate().execute(query);\n    }\n}\n</code></pre>\n<p>To be able to adopt this approach, you would need to\nextend the class with DaoSupport, and set the DataSource in the constructor.</p>\n<pre><code>public class Test extends NamedParameterJdbcDaoSupport\n\npublic Test(DataSource dataSource)\n{\n    setDataSource(dataSource);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1192733,"reputation":1507,"user_id":1165160,"accept_rate":92,"display_name":"King Midas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678448927,"creation_date":1678448927,"answer_id":75695761,"question_id":62870345,"body_markdown":"Another alternative not posted here is, if your tests extends `AbstractTransactionalTestNGSpringContextTests` from spring, you can directly use the method `deleteFromTables` already included on this parent class:\r\n\r\n```\r\n@AfterClass\r\npublic void deleteTournament() {\r\n     deleteFromTables(&quot;table1&quot;, &quot;table2&quot;);\r\n     deleteFromTables(&quot;table3&quot;);\r\n}\r\n```\r\n\r\nNote that here, you put the real SQL table name and not the Java Entity name. And you must respect dependencies between tables (as foreign keys). That means that you must remove the tables in order: On the example, `table3` is deleted after `table1, table2`that makes sense if `table3` has a Foreign Key that points to one to the two other tables. \r\n\r\n","title":"How to clean database tables after each integration test when using Spring Boot and Liquibase?","body":"<p>Another alternative not posted here is, if your tests extends <code>AbstractTransactionalTestNGSpringContextTests</code> from spring, you can directly use the method <code>deleteFromTables</code> already included on this parent class:</p>\n<pre><code>@AfterClass\npublic void deleteTournament() {\n     deleteFromTables(&quot;table1&quot;, &quot;table2&quot;);\n     deleteFromTables(&quot;table3&quot;);\n}\n</code></pre>\n<p>Note that here, you put the real SQL table name and not the Java Entity name. And you must respect dependencies between tables (as foreign keys). That means that you must remove the tables in order: On the example, <code>table3</code> is deleted after <code>table1, table2</code>that makes sense if <code>table3</code> has a Foreign Key that points to one to the two other tables.</p>\n"},{"tags":[],"owner":{"account_id":21011157,"reputation":5561,"user_id":15439733,"display_name":"Joosep Parts"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697447711,"creation_date":1697445818,"answer_id":77300549,"question_id":62870345,"body_markdown":"Depending on the size of your database you could also consider to drop the database after each test and re-build it to initial condition. Run this with `AfterEach` or call the method manually within the test when needed. This will not kill postgres container. I have a &#39;relatively&#39; big complex database and this added ~100ms to each test (but again, this varies). Do note, that this may require you to have `@Transactional` on the test class which is undesirable. \r\n\r\n```java\r\n    // After each integration test, we restore database to prestige condition with default data loaded from sql files\r\n    // Integration test data is loaded from: db/changelog/db.changelog-integtest.xml\r\n    // db.changelog-integtest.xml also loads domain data from: db/changelog/db.changelog-master.xml\r\n    @AfterEach\r\n    public void restoreDatabaseToInitialCondition() throws Exception {\r\n        // Setup connection\r\n        Connection c = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/postgres&quot;, &quot;postgres&quot;, &quot;postgres&quot;);\r\n        JdbcConnection jdbcConnection = new JdbcConnection(c);\r\n\r\n        // Initialize Liquibase\r\n        Liquibase liquibase = new liquibase.Liquibase(&quot;db/changelog/db.changelog-integtest.xml&quot;, new ClassLoaderResourceAccessor(), jdbcConnection);\r\n\r\n        // Refresh the database to the latest state\r\n        liquibase.dropAll();\r\n        liquibase.update(new Contexts());\r\n\r\n        // Commit the transaction\r\n        c.commit();\r\n\r\n        // Close the Liquibase and connection instances to avoid next test staring before operations are complete in the container\r\n        liquibase.close();\r\n        c.close();\r\n    }\r\n```","title":"How to clean database tables after each integration test when using Spring Boot and Liquibase?","body":"<p>Depending on the size of your database you could also consider to drop the database after each test and re-build it to initial condition. Run this with <code>AfterEach</code> or call the method manually within the test when needed. This will not kill postgres container. I have a 'relatively' big complex database and this added ~100ms to each test (but again, this varies). Do note, that this may require you to have <code>@Transactional</code> on the test class which is undesirable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    // After each integration test, we restore database to prestige condition with default data loaded from sql files\n    // Integration test data is loaded from: db/changelog/db.changelog-integtest.xml\n    // db.changelog-integtest.xml also loads domain data from: db/changelog/db.changelog-master.xml\n    @AfterEach\n    public void restoreDatabaseToInitialCondition() throws Exception {\n        // Setup connection\n        Connection c = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/postgres&quot;, &quot;postgres&quot;, &quot;postgres&quot;);\n        JdbcConnection jdbcConnection = new JdbcConnection(c);\n\n        // Initialize Liquibase\n        Liquibase liquibase = new liquibase.Liquibase(&quot;db/changelog/db.changelog-integtest.xml&quot;, new ClassLoaderResourceAccessor(), jdbcConnection);\n\n        // Refresh the database to the latest state\n        liquibase.dropAll();\n        liquibase.update(new Contexts());\n\n        // Commit the transaction\n        c.commit();\n\n        // Close the Liquibase and connection instances to avoid next test staring before operations are complete in the container\n        liquibase.close();\n        c.close();\n    }\n</code></pre>\n"}],"owner":{"account_id":2195409,"reputation":2824,"user_id":2420718,"display_name":"Julian Espinel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24534,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":62870547,"answer_count":7,"score":9,"last_activity_date":1697447711,"creation_date":1594621819,"question_id":62870345,"body_markdown":"I have a side project were I&#39;m using Spring Boot, Liquibase and Postgres.\r\n\r\nI have the following sequence of tests:\r\n\r\n```java\r\ntest1();\r\ntest2();\r\ntest3();\r\ntest4();\r\n```\r\n\r\nIn those four tests I&#39;m creating the same entity. As I&#39;m not removing the records from the table after each test case, I&#39;m getting the following exception: `org.springframework.dao.DataIntegrityViolationException`\r\n\r\nI want to solve this problem with the following constraints:\r\n1. I don&#39;t want to use the `@repository` to clean the database.\r\n1. I don&#39;t want to kill the database and create it on each test case because I&#39;m using TestContainers and doing that would increase the time it takes to complete the tests.\r\n\r\nIn short: How can I remove the records from one or more tables after each test case without 1) using the `@repository` of each entity and 2) killing and starting the database container on each test case?","title":"How to clean database tables after each integration test when using Spring Boot and Liquibase?","body":"<p>I have a side project were I'm using Spring Boot, Liquibase and Postgres.</p>\n<p>I have the following sequence of tests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>test1();\ntest2();\ntest3();\ntest4();\n</code></pre>\n<p>In those four tests I'm creating the same entity. As I'm not removing the records from the table after each test case, I'm getting the following exception: <code>org.springframework.dao.DataIntegrityViolationException</code></p>\n<p>I want to solve this problem with the following constraints:</p>\n<ol>\n<li>I don't want to use the <code>@repository</code> to clean the database.</li>\n<li>I don't want to kill the database and create it on each test case because I'm using TestContainers and doing that would increase the time it takes to complete the tests.</li>\n</ol>\n<p>In short: How can I remove the records from one or more tables after each test case without 1) using the <code>@repository</code> of each entity and 2) killing and starting the database container on each test case?</p>\n"},{"tags":["java","serial-port","modbus","file-read"],"comments":[{"owner":{"account_id":16352957,"reputation":15616,"user_id":11810946,"display_name":"Brits"},"score":0,"creation_date":1697485201,"post_id":77300747,"comment_id":136283265,"body_markdown":"The transaction needs both a `request` (which you set) and a `transport` (needed but not set in your code; e.g. `trans = new ModbusSerialTransaction(con);`). [This test](https://github.com/steveohara/j2mod/blob/development/src/test/java/com/ghgande/j2mod/modbus/cmd/SerialAITest.java#L98) may help.","body":"The transaction needs both a <code>request</code> (which you set) and a <code>transport</code> (needed but not set in your code; e.g. <code>trans = new ModbusSerialTransaction(con);</code>). <a href=\"https://github.com/steveohara/j2mod/blob/development/src/test/java/com/ghgande/j2mod/modbus/cmd/SerialAITest.java#L98\" rel=\"nofollow noreferrer\">This test</a> may help."}],"owner":{"account_id":29414824,"reputation":13,"user_id":22537897,"display_name":"Capitan Latinamerica"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697447682,"creation_date":1697447682,"question_id":77300747,"body_markdown":"I have a device connected via a serial port using the Modbus protocol. I learned how to read input registers, write holding registers, but I can&#39;t read files. To do this, the command **0x14** must be used, this is provided by the method *ReadFileRecordRequest*. \r\n\r\nBelow is my code but after executing I get an error **com.ghgande.j2mod.modbus.ModbusException: Assertion failed, transaction not executable**\r\nWhere I made mistake? \r\n\r\n\r\n```\r\nimport com.ghgande.j2mod.modbus.ModbusException;\r\nimport com.ghgande.j2mod.modbus.io.ModbusSerialTransaction;\r\nimport com.ghgande.j2mod.modbus.msg.*;\r\nimport net.wimpi.modbus.net.SerialConnection;\r\nimport net.wimpi.modbus.util.SerialParameters;\r\n\r\n\r\npublic class j2mod {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tModbusSerialTransaction trans = null;\r\n\t\tReadFileRecordRequest req = null;\r\n\t\tReadFileRecordResponse res = null;\r\n\r\n\t\tSerialConnection con = null;\r\n\r\n\t\tint unitid = 1; // the unit identifier we will be talking to\r\n\t\tint repeat = 1; // a loop for repeating the transaction\r\n\r\n\t\t// Set port settings\r\n\t\tSerialParameters params = new SerialParameters();\r\n\r\n\t\tparams.setPortName(&quot;COM482&quot;);\r\n\t\tparams.setBaudRate(&quot;9600&quot;);\r\n\t\tparams.setDatabits(&quot;8&quot;);\r\n\t\tparams.setParity(&quot;NONE&quot;);\r\n\t\tparams.setStopbits(&quot;1&quot;);\r\n\t\tparams.setEncoding(&quot;rtu&quot;);\r\n\t\tparams.setEcho(false);\r\n\r\n\t\t// Open connection\r\n\t\tcon = new SerialConnection(params); // set connection with parameters\r\n\t\ttry {\r\n\t\t\tcon.open(); // open\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\t// 4. Open the connection\r\n\t\ttry {\r\n\r\n\t\t\t// 5. Prepare a request\r\n\t\t\treq = new ReadFileRecordRequest();\r\n\t\t\treq.setUnitID(unitid);\r\n\t\t\treq.setHeadless();\r\n\r\n\t\t\t// 6. Prepare a transaction\r\n\t\t\ttrans = new ModbusSerialTransaction();\r\n\t\t\ttrans.setRequest(req);\r\n\r\n\t\t\tint k = 0;\r\n\t\t\tdo {\r\n\t\t\t\ttrans.setTransDelayMS(50);\r\n\t\t\t\ttrans.execute();\r\n\t\t\t\tres = (ReadFileRecordResponse) trans.getResponse();\r\n\t\t\t\tfor (int n = 0; n &lt; res.getByteCount(); n++) {\r\n\t\t\t\t\tSystem.out.println(&quot;Word &quot; + n + &quot;=&quot; + res.getRecordCount());\r\n\t\t\t\t}\r\n\t\t\t\tk++;\r\n\t\t\t} while (k &lt; repeat);\r\n\t\t\tcon.close();\r\n\t\t\t// 8. Close the connection\r\n\t\t} catch (ModbusException ex) {\r\n\t\t\tSystem.out.print(ex);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nPlease help me find the error\r\n\r\nI&#39;m trying to output the reading result to the console","title":"Read file by modbus RTU using J2MOD","body":"<p>I have a device connected via a serial port using the Modbus protocol. I learned how to read input registers, write holding registers, but I can't read files. To do this, the command <strong>0x14</strong> must be used, this is provided by the method <em>ReadFileRecordRequest</em>.</p>\n<p>Below is my code but after executing I get an error <strong>com.ghgande.j2mod.modbus.ModbusException: Assertion failed, transaction not executable</strong>\nWhere I made mistake?</p>\n<pre><code>import com.ghgande.j2mod.modbus.ModbusException;\nimport com.ghgande.j2mod.modbus.io.ModbusSerialTransaction;\nimport com.ghgande.j2mod.modbus.msg.*;\nimport net.wimpi.modbus.net.SerialConnection;\nimport net.wimpi.modbus.util.SerialParameters;\n\n\npublic class j2mod {\n\n    public static void main(String[] args) {\n\n        ModbusSerialTransaction trans = null;\n        ReadFileRecordRequest req = null;\n        ReadFileRecordResponse res = null;\n\n        SerialConnection con = null;\n\n        int unitid = 1; // the unit identifier we will be talking to\n        int repeat = 1; // a loop for repeating the transaction\n\n        // Set port settings\n        SerialParameters params = new SerialParameters();\n\n        params.setPortName(&quot;COM482&quot;);\n        params.setBaudRate(&quot;9600&quot;);\n        params.setDatabits(&quot;8&quot;);\n        params.setParity(&quot;NONE&quot;);\n        params.setStopbits(&quot;1&quot;);\n        params.setEncoding(&quot;rtu&quot;);\n        params.setEcho(false);\n\n        // Open connection\n        con = new SerialConnection(params); // set connection with parameters\n        try {\n            con.open(); // open\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        // 4. Open the connection\n        try {\n\n            // 5. Prepare a request\n            req = new ReadFileRecordRequest();\n            req.setUnitID(unitid);\n            req.setHeadless();\n\n            // 6. Prepare a transaction\n            trans = new ModbusSerialTransaction();\n            trans.setRequest(req);\n\n            int k = 0;\n            do {\n                trans.setTransDelayMS(50);\n                trans.execute();\n                res = (ReadFileRecordResponse) trans.getResponse();\n                for (int n = 0; n &lt; res.getByteCount(); n++) {\n                    System.out.println(&quot;Word &quot; + n + &quot;=&quot; + res.getRecordCount());\n                }\n                k++;\n            } while (k &lt; repeat);\n            con.close();\n            // 8. Close the connection\n        } catch (ModbusException ex) {\n            System.out.print(ex);\n        }\n    }\n}\n</code></pre>\n<p>Please help me find the error</p>\n<p>I'm trying to output the reading result to the console</p>\n"},{"tags":["java","trace","lttng"],"answers":[{"tags":[],"owner":{"account_id":19868964,"reputation":123,"user_id":14555581,"display_name":"Amirhossein Roudgar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697447604,"creation_date":1697447604,"answer_id":77300735,"question_id":77299879,"body_markdown":"According to this [link][1] and its provided sample, I have to run the java program with the following flag:\r\n\r\n&gt; -Djava.library.path is the equivalent of LD_LIBRARY_PATH, but for the Java virtual machine (JVM). Here, it points to the directory containing the liblttng-ust-jul-jni.so native library.\r\n\r\nIn my case, the command would be like this:\r\n```\r\njava -classpath &quot;$CLASSPATH&quot; -Djava.library.path=/usr/local/lib Hello.java\r\n```\r\n\r\n  [1]: https://lttng.org/blog/2016/07/25/tracing-java-applications-and-tc/","title":"Trying to trace a java application with lttng-ust JUL: no lttng-ust-jul-jni in java.library.path","body":"<p>According to this <a href=\"https://lttng.org/blog/2016/07/25/tracing-java-applications-and-tc/\" rel=\"nofollow noreferrer\">link</a> and its provided sample, I have to run the java program with the following flag:</p>\n<blockquote>\n<p>-Djava.library.path is the equivalent of LD_LIBRARY_PATH, but for the Java virtual machine (JVM). Here, it points to the directory containing the liblttng-ust-jul-jni.so native library.</p>\n</blockquote>\n<p>In my case, the command would be like this:</p>\n<pre><code>java -classpath &quot;$CLASSPATH&quot; -Djava.library.path=/usr/local/lib Hello.java\n</code></pre>\n"}],"owner":{"account_id":19868964,"reputation":123,"user_id":14555581,"display_name":"Amirhossein Roudgar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77300735,"answer_count":1,"score":0,"last_activity_date":1697447604,"creation_date":1697439316,"question_id":77299879,"body_markdown":"I have a sample java application which I want to trace using lttng-ust JUL.\r\nI got the examples from this [link][1] to run it locally.\r\n\r\nHowever, there seems to be something wrong. I don&#39;t know whether it is with Java package installations or installation of lttng-ust JUL.\r\n\r\nI ran the following commads: `javac -classpath &quot;$CLASSPATH&quot; Hello.java` and `java Hello.java` with `CLASSPATH` variable being `:/usr/share/java/liblttng-ust-agent.jar`.\r\n\r\nThe following is the error output:\r\n\r\n```\r\nException in thread &quot;main&quot; java.io.IOException: java.lang.UnsatisfiedLinkError: no lttng-ust-jul-jni in java.library.path: /usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib\r\n        at org.lttng.ust.agent.jul.LttngLogHandler.&lt;init&gt;(LttngLogHandler.java:74)\r\n        at Hello.main(Hello.java:14)\r\nCaused by: java.lang.UnsatisfiedLinkError: no lttng-ust-jul-jni in java.library.path: /usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib\r\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2434)\r\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\r\n        at java.base/java.lang.System.loadLibrary(System.java:1989)\r\n        at org.lttng.ust.agent.jul.LttngLogHandler.&lt;init&gt;(LttngLogHandler.java:72)\r\n        at Hello.main(Hello.java:14)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:419)\r\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:192)\r\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:132)\r\n```\r\n\r\nI am working on Photon OS 5 and using OpenJDK17.\r\n\r\nI am new to tracing userspace applications and I don&#39;t have any idea what might be the problem.\r\n\r\nAny suggestions or ideas on what the problem might be?\r\n\r\n\r\n  [1]: https://github.com/lttng/lttng-ust/blob/master/doc/examples/java-jul/Hello.java","title":"Trying to trace a java application with lttng-ust JUL: no lttng-ust-jul-jni in java.library.path","body":"<p>I have a sample java application which I want to trace using lttng-ust JUL.\nI got the examples from this <a href=\"https://github.com/lttng/lttng-ust/blob/master/doc/examples/java-jul/Hello.java\" rel=\"nofollow noreferrer\">link</a> to run it locally.</p>\n<p>However, there seems to be something wrong. I don't know whether it is with Java package installations or installation of lttng-ust JUL.</p>\n<p>I ran the following commads: <code>javac -classpath &quot;$CLASSPATH&quot; Hello.java</code> and <code>java Hello.java</code> with <code>CLASSPATH</code> variable being <code>:/usr/share/java/liblttng-ust-agent.jar</code>.</p>\n<p>The following is the error output:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: java.lang.UnsatisfiedLinkError: no lttng-ust-jul-jni in java.library.path: /usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib\n        at org.lttng.ust.agent.jul.LttngLogHandler.&lt;init&gt;(LttngLogHandler.java:74)\n        at Hello.main(Hello.java:14)\nCaused by: java.lang.UnsatisfiedLinkError: no lttng-ust-jul-jni in java.library.path: /usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2434)\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\n        at java.base/java.lang.System.loadLibrary(System.java:1989)\n        at org.lttng.ust.agent.jul.LttngLogHandler.&lt;init&gt;(LttngLogHandler.java:72)\n        at Hello.main(Hello.java:14)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:419)\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:192)\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:132)\n</code></pre>\n<p>I am working on Photon OS 5 and using OpenJDK17.</p>\n<p>I am new to tracing userspace applications and I don't have any idea what might be the problem.</p>\n<p>Any suggestions or ideas on what the problem might be?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1697455975,"post_id":77300085,"comment_id":136278018,"body_markdown":"you can find a relevant answer on this [Q/A](https://stackoverflow.com/questions/74645194/is-there-any-alternatives-to-registercolumntype-on-upgrade-from-hibernate-core5)","body":"you can find a relevant answer on this <a href=\"https://stackoverflow.com/questions/74645194/is-there-any-alternatives-to-registercolumntype-on-upgrade-from-hibernate-core5\">Q/A</a>"}],"owner":{"account_id":29681418,"reputation":1,"user_id":22747970,"display_name":"Quoc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697447210,"creation_date":1697441434,"question_id":77300085,"body_markdown":"I am trying to migrate from Hibernate 5 to 6 and I am a bit stuck with following code:\r\n\r\n\r\n```\r\npublic class MySQL8DialectBitFixed  extends MySQL8Dialect  {\r\n\tpublic MySQL8DialectBitFixed () {\r\n\t\t// This class is being added b/c hibernate/MySQL doesn&#39;t work with boolean fields in the db.\r\n\t\t// The data is not persisted properly.\r\n\t\tsuper();\r\n\t\tregisterColumnType(Types.BIT, &quot;tinyint(1)&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nIt seems that the registerColumnType has been removed in hibernate 6 and their replacement is not trivial. Is there a way to replace registerColumnType?","title":"registerColumnType has been removed in hibernate orm 6","body":"<p>I am trying to migrate from Hibernate 5 to 6 and I am a bit stuck with following code:</p>\n<pre><code>public class MySQL8DialectBitFixed  extends MySQL8Dialect  {\n    public MySQL8DialectBitFixed () {\n        // This class is being added b/c hibernate/MySQL doesn't work with boolean fields in the db.\n        // The data is not persisted properly.\n        super();\n        registerColumnType(Types.BIT, &quot;tinyint(1)&quot;);\n    }\n\n}\n</code></pre>\n<p>It seems that the registerColumnType has been removed in hibernate 6 and their replacement is not trivial. Is there a way to replace registerColumnType?</p>\n"},{"tags":["java","spring-boot","elasticsearch"],"comments":[{"owner":{"account_id":3755777,"reputation":499,"user_id":3122175,"accept_rate":92,"display_name":"D.T"},"score":0,"creation_date":1695701844,"post_id":77176161,"comment_id":136055922,"body_markdown":"`String serverUrl = &quot;https://localhost:9200&quot;` I see that your server is http, not https?","body":"<code>String serverUrl = &quot;https:&#47;&#47;localhost:9200&quot;</code> I see that your server is http, not https?"},{"owner":{"account_id":29528232,"reputation":11,"user_id":22629400,"display_name":"Junior Anthony"},"score":0,"creation_date":1695714462,"post_id":77176161,"comment_id":136057737,"body_markdown":"with the CURL request, I manage to connect with http so I suppose it is http and moreover I have a minimal security configuration on elastic so no ssl","body":"with the CURL request, I manage to connect with http so I suppose it is http and moreover I have a minimal security configuration on elastic so no ssl"}],"answers":[{"tags":[],"owner":{"account_id":25028548,"reputation":425,"user_id":18886549,"display_name":"shalnarkftw"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697446284,"creation_date":1697446284,"answer_id":77300606,"question_id":77176161,"body_markdown":"you need to add elasticsearch properties in your application.properties: \r\n\r\n    spring.elasticsearch.rest.uris=https://localhost:9200\r\n    spring.elasticsearch.rest.username=username\r\n    spring.elasticsearch.rest.password=password\r\n","title":"CONNECT spring boot to elasticsearch","body":"<p>you need to add elasticsearch properties in your application.properties:</p>\n<pre><code>spring.elasticsearch.rest.uris=https://localhost:9200\nspring.elasticsearch.rest.username=username\nspring.elasticsearch.rest.password=password\n</code></pre>\n"}],"owner":{"account_id":29528232,"reputation":11,"user_id":22629400,"display_name":"Junior Anthony"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697446284,"creation_date":1695683480,"question_id":77176161,"body_markdown":"I want to connect spring boot (2.7.4) to elasticSearch 8.9.2 with a username and password.\r\n\r\nI configured elastic with minimal authentication, in other words username, password\r\n\r\nI tested the connection to elasticSearch which works well with the following CURL request: curl -X GET -u elastic:XXXXXXXXXXX  http://localhost:9200/_cluster/health -k\r\n\r\n\r\nthe get request in curl generated by postman works on the command line but does not work on postman\r\n\r\n[![enter image description here][1]][1]\r\n\r\nbut when I try to connect with spring boot I get an http 401 error\r\n\r\n```\r\n2023-09-26 00:53:09.304 DEBUG 35874 --- [/O dispatcher 1] org.elasticsearch.client.RestClient      : request [GET http://localhost:9200/] returned [HTTP/1.1 401 Unauthorized]\r\n2023-09-26 00:53:09.307 TRACE 35874 --- [/O dispatcher 1] tracer                                   : curl -iX GET &#39;http://localhost:9200/&#39;\r\n# HTTP/1.1 401 Unauthorized\r\n# WWW-Authenticate: Basic realm=&quot;security&quot; charset=&quot;UTF-8&quot;\r\n# WWW-Authenticate: ApiKey\r\n# content-type: application/json\r\n# content-length: 403\r\n#\r\n# {&quot;error&quot;:{&quot;root_cause&quot;:[{&quot;type&quot;:&quot;security_exception&quot;,&quot;reason&quot;:&quot;missing authentication credentials for REST request [/]&quot;,&quot;header&quot;:{&quot;WWW-Authenticate&quot;:[&quot;Basic realm=\\&quot;security\\&quot; charset=\\&quot;UTF-8\\&quot;&quot;,&quot;ApiKey&quot;]}}],&quot;type&quot;:&quot;security_exception&quot;,&quot;reason&quot;:&quot;missing authentication credentials for REST request [/]&quot;,&quot;header&quot;:{&quot;WWW-Authenticate&quot;:[&quot;Basic realm=\\&quot;security\\&quot; charset=\\&quot;UTF-8\\&quot;&quot;,&quot;ApiKey&quot;]}},&quot;status&quot;:401}\r\n2023-09-26 00:53:09.314 DEBUG 35874 --- [/O dispatcher 1] sistentCredentialsAuthenticationStrategy : Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, CredSSP, Digest, Basic]\r\n2023-09-26 00:53:09.314 DEBUG 35874 --- [/O dispatcher 1] sistentCredentialsAuthenticationStrategy : Challenge for Negotiate authentication scheme not available\r\n2023-09-26 00:53:09.314 DEBUG 35874 --- [/O dispatcher 1] sistentCredentialsAuthenticationStrategy : Challenge for Kerberos authentication scheme not available\r\n2023-09-26 00:53:09.314 DEBUG 35874 --- [/O dispatcher 1] sistentCredentialsAuthenticationStrategy : Challenge for NTLM authentication scheme not available\r\n2023-09-26 00:53:09.314 DEBUG 35874 --- [/O dispatcher 1] sistentCredentialsAuthenticationStrategy : Challenge for CredSSP authentication scheme not available\r\n2023-09-26 00:53:09.314 DEBUG 35874 --- [/O dispatcher 1] sistentCredentialsAuthenticationStrategy : Challenge for Digest authentication scheme not available\r\n2023-09-26 00:53:09.315 DEBUG 35874 --- [  restartedMain] org.elasticsearch.client.RestClient      : request [HEAD http://localhost:9200/product] returned [HTTP/1.1 401 Unauthorized]\r\n2023-09-26 00:53:09.315 TRACE 35874 --- [  restartedMain] tracer                                   : curl -iX HEAD &#39;http://localhost:9200/product&#39;\r\n# HTTP/1.1 401 Unauthorized\r\n# WWW-Authenticate: Basic realm=&quot;security&quot; charset=&quot;UTF-8&quot;\r\n# WWW-Authenticate: ApiKey\r\n# content-type: application/json\r\n# content-length: 417\r\n#\r\n2023-09-26 00:53:09.382  WARN 35874 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;productService&#39; defined in file [/Users/j/target/classes/com/sfkj/bestdeals/service/ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;productRepository&#39; defined in com.sfkj.bestdeals.repository.es.ProductRepository defined in @EnableElasticsearchRepositories declared on BestDealsServerApplication: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception; nested exception is RestStatusException{status=401} org.springframework.data.elasticsearch.RestStatusException: method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]; nested exception is ElasticsearchStatusException[method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]]; nested: ResponseException[method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]];\r\n2023-09-26 00:53:09.387  INFO 35874 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-09-26 00:53:09.391  INFO 35874 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : Hikari - Shutdown initiated...\r\n2023-09-26 00:53:09.399  INFO 35874 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : Hikari - Shutdown completed.\r\n2023-09-26 00:53:09.403  INFO 35874 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-09-26 00:53:09.425  INFO 35874 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2023-09-26 00:53:09.454 ERROR 35874 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;productService&#39; defined in file [/Users//service/ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;productRepository&#39; defined in com.sfkj.bestdeals.repository.es.ProductRepository defined in @EnableElasticsearchRepositories declared on BestDealsServerApplication: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception; nested exception is RestStatusException{status=401} org.springframework.data.elasticsearch.RestStatusException: method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]; nested exception is ElasticsearchStatusException[method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]]; nested: ResponseException[method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]];\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat com.sfkj.BestDealsServerApplication.main(BestDealsServerApplication.java:14) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;productRepository&#39; defined in com.sfkj.bestdeals.repository.es.ProductRepository defined in @EnableElasticsearchRepositories declared on BestDealsServerApplication: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception; nested exception is RestStatusException{status=401} org.springframework.data.elasticsearch.RestStatusException: method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]; nested exception is ElasticsearchStatusException[method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]]; nested: ResponseException[method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]];\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\t... 24 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception; nested exception is RestStatusException{status=401} org.springframework.data.elasticsearch.RestStatusException: method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]; nested exception is ElasticsearchStatusException[method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]]; nested: ResponseException[method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]];\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:579) ~[spring-data-commons-2.7.3.jar:2.7.3]\r\n\tat java.base/java.util.Optional.map(Optional.java:265) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:579) ~[spring-data-commons-2.7.3.jar:2.7.3]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:544) ~[spring-data-commons-2.7.3.jar:2.7.3]\r\n\tat org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactory.getTargetRepository(ElasticsearchRepositoryFactory.java:74) ~[spring-data-elasticsearch-4.4.3.jar:4.4.3]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:325) ~[spring-data-commons-2.7.3.jar:2.7.3]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323) ~[spring-data-commons-2.7.3.jar:2.7.3]\r\n\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:231) ~[spring-data-commons-2.7.3.jar:2.7.3]\r\n\tat org.springframework.data.util.Lazy.get(Lazy.java:115) ~[spring-data-commons-2.7.3.jar:2.7.3]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329) ~[spring-data-commons-2.7.3.jar:2.7.3]\r\n\tat org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactoryBean.afterPropertiesSet(ElasticsearchRepositoryFactoryBean.java:69) ~[spring-data-elasticsearch-4.4.3.jar:4.4.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\t... 35 common frames omitted\r\nCaused by: org.springframework.data.elasticsearch.RestStatusException: method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]; nested exception is ElasticsearchStatusException[method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]]; nested: ResponseException[method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]];\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:69) ~[spring-data-elasticsearch-4.4.3.jar:4.4.3]\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.translateException(ElasticsearchRestTemplate.java:601) ~[spring-data-elasticsearch-4.4.3.jar:4.4.3]\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:584) ~[spring-data-elasticsearch-4.4.3.jar:4.4.3]\r\n\tat org.springframework.data.elasticsearch.core.RestIndexTemplate.doExists(RestIndexTemplate.java:106) ~[spring-data-elasticsearch-4.4.3.jar:4.4.3]\r\n\tat org.springframework.data.elasticsearch.core.AbstractIndexTemplate.exists(AbstractIndexTemplate.java:130) ~[spring-data-elasticsearch-4.4.3.jar:4.4.3]\r\n\tat org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.&lt;init&gt;(SimpleElasticsearchRepository.java:87) ~[spring-data-elasticsearch-4.4.3.jar:4.4.3]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\t... 48 common frames omitted\r\nCaused by: org.elasticsearch.ElasticsearchStatusException: method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]\r\n\tat org.elasticsearch.client.RestHighLevelClient.parseResponseException(RestHighLevelClient.java:2458) ~[elasticsearch-rest-high-level-client-7.17.6.jar:7.17.6]\r\n\tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:2184) ~[elasticsearch-rest-high-level-client-7.17.6.jar:7.17.6]\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:2154) ~[elasticsearch-rest-high-level-client-7.17.6.jar:7.17.6]\r\n\tat org.elasticsearch.client.IndicesClient.exists(IndicesClient.java:1279) ~[elasticsearch-rest-high-level-client-7.17.6.jar:7.17.6]\r\n\tat org.springframework.data.elasticsearch.core.RestIndexTemplate.lambda$doExists$2(RestIndexTemplate.java:106) ~[spring-data-elasticsearch-4.4.3.jar:4.4.3]\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:582) ~[spring-data-elasticsearch-4.4.3.jar:4.4.3]\r\n\t... 56 common frames omitted\r\nCaused by: org.elasticsearch.client.ResponseException: method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]\r\n\tat org.elasticsearch.client.RestClient.convertResponse(RestClient.java:347) ~[elasticsearch-rest-client-7.17.6.jar:7.17.6]\r\n\tat org.elasticsearch.client.RestClient.performRequest(RestClient.java:313) ~[elasticsearch-rest-client-7.17.6.jar:7.17.6]\r\n\tat org.elasticsearch.client.RestClient.performRequest(RestClient.java:288) ~[elasticsearch-rest-client-7.17.6.jar:7.17.6]\r\n\tat org.elasticsearch.client.RestHighLevelClient.performClientRequest(RestHighLevelClient.java:2699) ~[elasticsearch-rest-high-level-client-7.17.6.jar:7.17.6]\r\n\tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:2171) ~[elasticsearch-rest-high-level-client-7.17.6.jar:7.17.6]\r\n\t... 60 common frames omitted\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nin my config , I tested each of these bean individually :\r\n```\r\n\t@Bean\r\n\tpublic RestClient client1() {\r\n\t\tfinal CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n\t\tcredentialsProvider.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(&quot;elastic&quot;, &quot;6e8SxNuzU6q8R5&quot;));\r\n\r\n\t\tRestClientBuilder builder = RestClient.builder(new HttpHost(&quot;localhost&quot;, 9200))\r\n\t\t\t\t.setHttpClientConfigCallback(new HttpClientConfigCallback() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\r\n\t\t\t\t\t\treturn httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\treturn builder.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ElasticsearchClient client() {\r\n\t\tString serverUrl = &quot;https://localhost:9200&quot;;\r\n\r\n\t\t// Create the low-level client\r\n\t\tRestClient restClient = RestClient.builder(HttpHost.create(&quot;https://localhost:9200&quot;))\r\n\t\t\t\t.setDefaultHeaders(new Header[] { new BasicHeader(&quot;Authorization&quot;,\r\n\t\t\t\t\t\t&quot;ApiKey &quot; + &quot;aFhqeHlZb0JpZ29fRnJtNUEzb2E6dW10dlZnRHlSUzY1VUhpdVhzWXQwdw==&quot;) })\r\n\t\t\t\t.build();\r\n\r\n\t\t// Create the transport with a Jackson mapper\r\n\t\tElasticsearchTransport transport = new RestClientTransport(restClient, new JacksonJsonpMapper());\r\n\r\n\t\t// And create the API client\r\n\t\tElasticsearchClient esClient = new ElasticsearchClient(transport);\r\n\t\treturn esClient;\r\n\t}\r\n\tpublic  ElasticsearchClient getElasticsearchClient() {\r\n\t\tRestClientBuilder builder = RestClient.builder(new HttpHost(&quot;localhost&quot;, 9200));\r\n\r\n\t\tHttpClientConfigCallback httpClientConfigCallback = (httpClientBuilder) -&gt; {\r\n\t\t\tfinal CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n\r\n\t\t\tcredentialsProvider.setCredentials(AuthScope.ANY,\r\n\t\t\t\t\tnew UsernamePasswordCredentials(&quot;elastic&quot;, &quot;6e8SxNuzU6q8R5&quot;));\r\n\r\n\t\t\treturn httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\r\n\t\t};\r\n\t\tbuilder.setHttpClientConfigCallback(httpClientConfigCallback);\r\n\r\n\t\tRestClient restClient = builder.build();\r\n\t\tElasticsearchTransport transport = new RestClientTransport(restClient, new JacksonJsonpMapper());\r\n\r\n\t\treturn new ElasticsearchClient(transport);\r\n\t}\r\n```\r\n\r\nI have the same error http 401 error.\r\n\r\nin the pom i have :\r\n```\r\n\t\t    &lt;dependency&gt;\r\n      &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\r\n      &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\r\n      &lt;version&gt;7.17.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.12.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\t\t\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wd28Z.png","title":"CONNECT spring boot to elasticsearch","body":"<p>I want to connect spring boot (2.7.4) to elasticSearch 8.9.2 with a username and password.</p>\n<p>I configured elastic with minimal authentication, in other words username, password</p>\n<p>I tested the connection to elasticSearch which works well with the following CURL request: curl -X GET -u elastic:XXXXXXXXXXX  http://localhost:9200/_cluster/health -k</p>\n<p>the get request in curl generated by postman works on the command line but does not work on postman</p>\n<p><a href=\"https://i.stack.imgur.com/Wd28Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wd28Z.png\" alt=\"enter image description here\" /></a></p>\n<p>but when I try to connect with spring boot I get an http 401 error</p>\n<pre><code>2023-09-26 00:53:09.304 DEBUG 35874 --- [/O dispatcher 1] org.elasticsearch.client.RestClient      : request [GET http://localhost:9200/] returned [HTTP/1.1 401 Unauthorized]\n2023-09-26 00:53:09.307 TRACE 35874 --- [/O dispatcher 1] tracer                                   : curl -iX GET 'http://localhost:9200/'\n# HTTP/1.1 401 Unauthorized\n# WWW-Authenticate: Basic realm=&quot;security&quot; charset=&quot;UTF-8&quot;\n# WWW-Authenticate: ApiKey\n# content-type: application/json\n# content-length: 403\n#\n# {&quot;error&quot;:{&quot;root_cause&quot;:[{&quot;type&quot;:&quot;security_exception&quot;,&quot;reason&quot;:&quot;missing authentication credentials for REST request [/]&quot;,&quot;header&quot;:{&quot;WWW-Authenticate&quot;:[&quot;Basic realm=\\&quot;security\\&quot; charset=\\&quot;UTF-8\\&quot;&quot;,&quot;ApiKey&quot;]}}],&quot;type&quot;:&quot;security_exception&quot;,&quot;reason&quot;:&quot;missing authentication credentials for REST request [/]&quot;,&quot;header&quot;:{&quot;WWW-Authenticate&quot;:[&quot;Basic realm=\\&quot;security\\&quot; charset=\\&quot;UTF-8\\&quot;&quot;,&quot;ApiKey&quot;]}},&quot;status&quot;:401}\n2023-09-26 00:53:09.314 DEBUG 35874 --- [/O dispatcher 1] sistentCredentialsAuthenticationStrategy : Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, CredSSP, Digest, Basic]\n2023-09-26 00:53:09.314 DEBUG 35874 --- [/O dispatcher 1] sistentCredentialsAuthenticationStrategy : Challenge for Negotiate authentication scheme not available\n2023-09-26 00:53:09.314 DEBUG 35874 --- [/O dispatcher 1] sistentCredentialsAuthenticationStrategy : Challenge for Kerberos authentication scheme not available\n2023-09-26 00:53:09.314 DEBUG 35874 --- [/O dispatcher 1] sistentCredentialsAuthenticationStrategy : Challenge for NTLM authentication scheme not available\n2023-09-26 00:53:09.314 DEBUG 35874 --- [/O dispatcher 1] sistentCredentialsAuthenticationStrategy : Challenge for CredSSP authentication scheme not available\n2023-09-26 00:53:09.314 DEBUG 35874 --- [/O dispatcher 1] sistentCredentialsAuthenticationStrategy : Challenge for Digest authentication scheme not available\n2023-09-26 00:53:09.315 DEBUG 35874 --- [  restartedMain] org.elasticsearch.client.RestClient      : request [HEAD http://localhost:9200/product] returned [HTTP/1.1 401 Unauthorized]\n2023-09-26 00:53:09.315 TRACE 35874 --- [  restartedMain] tracer                                   : curl -iX HEAD 'http://localhost:9200/product'\n# HTTP/1.1 401 Unauthorized\n# WWW-Authenticate: Basic realm=&quot;security&quot; charset=&quot;UTF-8&quot;\n# WWW-Authenticate: ApiKey\n# content-type: application/json\n# content-length: 417\n#\n2023-09-26 00:53:09.382  WARN 35874 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productService' defined in file [/Users/j/target/classes/com/sfkj/bestdeals/service/ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productRepository' defined in com.sfkj.bestdeals.repository.es.ProductRepository defined in @EnableElasticsearchRepositories declared on BestDealsServerApplication: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception; nested exception is RestStatusException{status=401} org.springframework.data.elasticsearch.RestStatusException: method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]; nested exception is ElasticsearchStatusException[method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]]; nested: ResponseException[method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]];\n2023-09-26 00:53:09.387  INFO 35874 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-09-26 00:53:09.391  INFO 35874 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : Hikari - Shutdown initiated...\n2023-09-26 00:53:09.399  INFO 35874 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : Hikari - Shutdown completed.\n2023-09-26 00:53:09.403  INFO 35874 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-09-26 00:53:09.425  INFO 35874 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-09-26 00:53:09.454 ERROR 35874 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productService' defined in file [/Users//service/ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productRepository' defined in com.sfkj.bestdeals.repository.es.ProductRepository defined in @EnableElasticsearchRepositories declared on BestDealsServerApplication: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception; nested exception is RestStatusException{status=401} org.springframework.data.elasticsearch.RestStatusException: method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]; nested exception is ElasticsearchStatusException[method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]]; nested: ResponseException[method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]];\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]\n    at com.sfkj.BestDealsServerApplication.main(BestDealsServerApplication.java:14) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productRepository' defined in com.sfkj.bestdeals.repository.es.ProductRepository defined in @EnableElasticsearchRepositories declared on BestDealsServerApplication: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception; nested exception is RestStatusException{status=401} org.springframework.data.elasticsearch.RestStatusException: method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]; nested exception is ElasticsearchStatusException[method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]]; nested: ResponseException[method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]];\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 24 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception; nested exception is RestStatusException{status=401} org.springframework.data.elasticsearch.RestStatusException: method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]; nested exception is ElasticsearchStatusException[method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]]; nested: ResponseException[method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]];\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:579) ~[spring-data-commons-2.7.3.jar:2.7.3]\n    at java.base/java.util.Optional.map(Optional.java:265) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:579) ~[spring-data-commons-2.7.3.jar:2.7.3]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:544) ~[spring-data-commons-2.7.3.jar:2.7.3]\n    at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactory.getTargetRepository(ElasticsearchRepositoryFactory.java:74) ~[spring-data-elasticsearch-4.4.3.jar:4.4.3]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:325) ~[spring-data-commons-2.7.3.jar:2.7.3]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323) ~[spring-data-commons-2.7.3.jar:2.7.3]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:231) ~[spring-data-commons-2.7.3.jar:2.7.3]\n    at org.springframework.data.util.Lazy.get(Lazy.java:115) ~[spring-data-commons-2.7.3.jar:2.7.3]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329) ~[spring-data-commons-2.7.3.jar:2.7.3]\n    at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactoryBean.afterPropertiesSet(ElasticsearchRepositoryFactoryBean.java:69) ~[spring-data-elasticsearch-4.4.3.jar:4.4.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 35 common frames omitted\nCaused by: org.springframework.data.elasticsearch.RestStatusException: method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]; nested exception is ElasticsearchStatusException[method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]]; nested: ResponseException[method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]];\n    at org.springframework.data.elasticsearch.core.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:69) ~[spring-data-elasticsearch-4.4.3.jar:4.4.3]\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.translateException(ElasticsearchRestTemplate.java:601) ~[spring-data-elasticsearch-4.4.3.jar:4.4.3]\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:584) ~[spring-data-elasticsearch-4.4.3.jar:4.4.3]\n    at org.springframework.data.elasticsearch.core.RestIndexTemplate.doExists(RestIndexTemplate.java:106) ~[spring-data-elasticsearch-4.4.3.jar:4.4.3]\n    at org.springframework.data.elasticsearch.core.AbstractIndexTemplate.exists(AbstractIndexTemplate.java:130) ~[spring-data-elasticsearch-4.4.3.jar:4.4.3]\n    at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.&lt;init&gt;(SimpleElasticsearchRepository.java:87) ~[spring-data-elasticsearch-4.4.3.jar:4.4.3]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 48 common frames omitted\nCaused by: org.elasticsearch.ElasticsearchStatusException: method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]\n    at org.elasticsearch.client.RestHighLevelClient.parseResponseException(RestHighLevelClient.java:2458) ~[elasticsearch-rest-high-level-client-7.17.6.jar:7.17.6]\n    at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:2184) ~[elasticsearch-rest-high-level-client-7.17.6.jar:7.17.6]\n    at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:2154) ~[elasticsearch-rest-high-level-client-7.17.6.jar:7.17.6]\n    at org.elasticsearch.client.IndicesClient.exists(IndicesClient.java:1279) ~[elasticsearch-rest-high-level-client-7.17.6.jar:7.17.6]\n    at org.springframework.data.elasticsearch.core.RestIndexTemplate.lambda$doExists$2(RestIndexTemplate.java:106) ~[spring-data-elasticsearch-4.4.3.jar:4.4.3]\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:582) ~[spring-data-elasticsearch-4.4.3.jar:4.4.3]\n    ... 56 common frames omitted\nCaused by: org.elasticsearch.client.ResponseException: method [HEAD], host [http://localhost:9200], URI [/product], status line [HTTP/1.1 401 Unauthorized]\n    at org.elasticsearch.client.RestClient.convertResponse(RestClient.java:347) ~[elasticsearch-rest-client-7.17.6.jar:7.17.6]\n    at org.elasticsearch.client.RestClient.performRequest(RestClient.java:313) ~[elasticsearch-rest-client-7.17.6.jar:7.17.6]\n    at org.elasticsearch.client.RestClient.performRequest(RestClient.java:288) ~[elasticsearch-rest-client-7.17.6.jar:7.17.6]\n    at org.elasticsearch.client.RestHighLevelClient.performClientRequest(RestHighLevelClient.java:2699) ~[elasticsearch-rest-high-level-client-7.17.6.jar:7.17.6]\n    at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:2171) ~[elasticsearch-rest-high-level-client-7.17.6.jar:7.17.6]\n    ... 60 common frames omitted\n\n</code></pre>\n<p>in my config , I tested each of these bean individually :</p>\n<pre><code>    @Bean\n    public RestClient client1() {\n        final CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(&quot;elastic&quot;, &quot;6e8SxNuzU6q8R5&quot;));\n\n        RestClientBuilder builder = RestClient.builder(new HttpHost(&quot;localhost&quot;, 9200))\n                .setHttpClientConfigCallback(new HttpClientConfigCallback() {\n                    @Override\n                    public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\n                        return httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\n                    }\n                });\n\n        return builder.build();\n    }\n\n    @Bean\n    public ElasticsearchClient client() {\n        String serverUrl = &quot;https://localhost:9200&quot;;\n\n        // Create the low-level client\n        RestClient restClient = RestClient.builder(HttpHost.create(&quot;https://localhost:9200&quot;))\n                .setDefaultHeaders(new Header[] { new BasicHeader(&quot;Authorization&quot;,\n                        &quot;ApiKey &quot; + &quot;aFhqeHlZb0JpZ29fRnJtNUEzb2E6dW10dlZnRHlSUzY1VUhpdVhzWXQwdw==&quot;) })\n                .build();\n\n        // Create the transport with a Jackson mapper\n        ElasticsearchTransport transport = new RestClientTransport(restClient, new JacksonJsonpMapper());\n\n        // And create the API client\n        ElasticsearchClient esClient = new ElasticsearchClient(transport);\n        return esClient;\n    }\n    public  ElasticsearchClient getElasticsearchClient() {\n        RestClientBuilder builder = RestClient.builder(new HttpHost(&quot;localhost&quot;, 9200));\n\n        HttpClientConfigCallback httpClientConfigCallback = (httpClientBuilder) -&gt; {\n            final CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n\n            credentialsProvider.setCredentials(AuthScope.ANY,\n                    new UsernamePasswordCredentials(&quot;elastic&quot;, &quot;6e8SxNuzU6q8R5&quot;));\n\n            return httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\n        };\n        builder.setHttpClientConfigCallback(httpClientConfigCallback);\n\n        RestClient restClient = builder.build();\n        ElasticsearchTransport transport = new RestClientTransport(restClient, new JacksonJsonpMapper());\n\n        return new ElasticsearchClient(transport);\n    }\n</code></pre>\n<p>I have the same error http 401 error.</p>\n<p>in the pom i have :</p>\n<pre><code>            &lt;dependency&gt;\n      &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\n      &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\n      &lt;version&gt;7.17.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.12.3&lt;/version&gt;\n        &lt;/dependency&gt;       \n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.json&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","asynchronous"],"answers":[{"tags":[],"owner":{"account_id":2751226,"reputation":413,"user_id":2370582,"display_name":"Vinh Truong"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697417874,"creation_date":1697417874,"answer_id":77298940,"question_id":77298919,"body_markdown":"In general, you will need a mechanism (`polling`) to detect the creation progress of your entity. The simplest approach is to return a `202` status with creation ID for `createStudent` method, and the FE will periodically check the entity status of this ID via an endpoint (e.g: `GET /student-creation/{id}`). The backend will update its progress, including the created student ID as well as any error message into the `student-creation` table.  \r\nAnother possible solution could be using a socket to maintain a connection and backend send the response of the error in a later time, but it&#39;s not as straightforward in the implementation as polling. ","title":"How to Handle Errors When Using Async with Java Spring?","body":"<p>In general, you will need a mechanism (<code>polling</code>) to detect the creation progress of your entity. The simplest approach is to return a <code>202</code> status with creation ID for <code>createStudent</code> method, and the FE will periodically check the entity status of this ID via an endpoint (e.g: <code>GET /student-creation/{id}</code>). The backend will update its progress, including the created student ID as well as any error message into the <code>student-creation</code> table.<br />\nAnother possible solution could be using a socket to maintain a connection and backend send the response of the error in a later time, but it's not as straightforward in the implementation as polling.</p>\n"}],"owner":{"account_id":26341114,"reputation":43,"user_id":20000194,"display_name":"random55645"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77298940,"answer_count":1,"score":1,"last_activity_date":1697446248,"creation_date":1697417152,"question_id":77298919,"body_markdown":"New to Java Spring Boot. I have an API call that saves an entity to a SQL Database. The creation of the entity was taking way too long, so the method that actually saves the method was made asynchronous. Now the API returns a 201 right away instead of waiting for the object to be saved.\r\n\r\nOld code:\r\n\r\n```java\r\n@PostMapping(&quot;/createStudent&quot;)\r\npublic ResponseEntity&lt;Student&gt; createStudent(@RequestBody Student student) {\r\n    Student createdStudent = this.studentService.createStudent(student);\r\n    return  createdStudent;\r\n}\r\n```\r\n\r\n\r\n\r\nNew Code:\r\n\r\n```java\r\n@PostMapping(&quot;/createStudent&quot;)\r\npublic ResponseEntity&lt;Student&gt; createStudent(@RequestBody Student student) {\r\n    this.studentService.createAsyncStudent(student);\r\n    return new ResponseEntity&lt;&gt;(new Student(),HttpStatus.OK);\r\n}\r\n```\r\n\r\nWith the New Code, an error is occurring somewhere inside the createAsyncStudent method. But the API just returns a 200 right away. Is there a way to tell my React frontend that the API failed to create the student using the new code, or is it only possible with the old code?\r\n\r\nThere is error handling code in the createAsyncStudent method itself, but how do I return this error info to the frontend?","title":"How to Handle Errors When Using Async with Java Spring?","body":"<p>New to Java Spring Boot. I have an API call that saves an entity to a SQL Database. The creation of the entity was taking way too long, so the method that actually saves the method was made asynchronous. Now the API returns a 201 right away instead of waiting for the object to be saved.</p>\n<p>Old code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/createStudent&quot;)\npublic ResponseEntity&lt;Student&gt; createStudent(@RequestBody Student student) {\n    Student createdStudent = this.studentService.createStudent(student);\n    return  createdStudent;\n}\n</code></pre>\n<p>New Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/createStudent&quot;)\npublic ResponseEntity&lt;Student&gt; createStudent(@RequestBody Student student) {\n    this.studentService.createAsyncStudent(student);\n    return new ResponseEntity&lt;&gt;(new Student(),HttpStatus.OK);\n}\n</code></pre>\n<p>With the New Code, an error is occurring somewhere inside the createAsyncStudent method. But the API just returns a 200 right away. Is there a way to tell my React frontend that the API failed to create the student using the new code, or is it only possible with the old code?</p>\n<p>There is error handling code in the createAsyncStudent method itself, but how do I return this error info to the frontend?</p>\n"},{"tags":["java","android","mpandroidchart"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1697006079,"post_id":77270668,"comment_id":136223413,"body_markdown":"what do you mean, x and y values? it seems to me like you&#39;re just creating a new list","body":"what do you mean, x and y values? it seems to me like you&#39;re just creating a new list"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1697006736,"post_id":77270668,"comment_id":136223527,"body_markdown":"don&#39;t put code in comments. if you want to make your question more clear, edit the question","body":"don&#39;t put code in comments. if you want to make your question more clear, edit the question"},{"owner":{"account_id":29569026,"reputation":11,"user_id":22661688,"display_name":"tong xi"},"score":0,"creation_date":1697007217,"post_id":77270668,"comment_id":136223611,"body_markdown":"I have change my question code","body":"I have change my question code"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1697428189,"post_id":77270668,"comment_id":136274033,"body_markdown":"Please update your question to include a minimum *complete* example that shows the behavior you are currently seeing, and clearly describe what the desired behavior is. The code you shared (where score is all 0 then all 100, and appears to be the wrong size) doesn&#39;t even match your description.","body":"Please update your question to include a minimum <i>complete</i> example that shows the behavior you are currently seeing, and clearly describe what the desired behavior is. The code you shared (where score is all 0 then all 100, and appears to be the wrong size) doesn&#39;t even match your description."}],"owner":{"account_id":29569026,"reputation":11,"user_id":22661688,"display_name":"tong xi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697446218,"creation_date":1697005983,"question_id":77270668,"body_markdown":"At first My y value are these:\r\n```\r\n                arrayList1.add(&quot;math&quot;);\r\n                arrayList1.add(&quot;english&quot;);\r\n                arrayList1.add(&quot;biology&quot;);\r\n                arrayList1.add(&quot;computer&quot;);\r\n                arrayList1.add(&quot;java&quot;);\r\n                arrayList1.add(&quot;c&quot;);\r\n //fake data\r\n                for (int i = 0; i &lt; arrayList1.size(); i++) {\r\n                    score_array.add((float) 0);\r\n                }\r\n ValueFormatter valueFormatter=new ValueFormatter() {\r\n                    @Override\r\n                    public String getFormattedValue(float value) {\r\n                        if (value&gt;=0){\r\n                            return arrayList1.get((int) value);\r\n                        }\r\n                        else{\r\n                            return &quot;&quot;;\r\n                        }\r\n                    }\r\n                };\r\n                xAxis.setValueFormatter(valueFormatter);\r\n                                \r\n               arrayList_BarEntry=Set_BarChar_Data(score_array,null);\r\n\r\n\r\n```\r\n\r\n\r\n\r\nBut When I click a button I want to change my y value to\r\n```\r\n                arrayList1.clear();\r\n                arrayList1.add(&quot;english&quot;);\r\n                arrayList1.add(&quot;biology&quot;);\r\n                arrayList1.add(&quot;c#&quot;);\r\n                arrayList1.add(&quot;python&quot;);\r\n                arrayList1.add(&quot;biology&quot;);\r\n                arrayList1.add(&quot;math&quot;);\r\n               for (int i = 0; i &lt; arrayList1.size(); i++) {\r\n                    score_array.add((float) 100);\r\n                }\r\n               arrayList_BarEntry=Set_BarChar_Data(score_array,null);\r\n\r\n\r\n```\r\nHow can i do it \r\n\r\nI want to change x value and y value \r\n\r\nadd bar value function \r\n```     \r\n\r\n\r\n\r\nArrayList&lt;BarEntry&gt; Set_BarChar_Data(@NotNull ArrayList&lt;Float&gt;score_array,@Nullable Integer high_position){\r\n        ArrayList&lt;BarEntry&gt; values = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; score_array.size(); i++) {\r\n            values.add(new BarEntry((float) i, score_array.get(i)));\r\n        }\r\n        BarDataSet set1;\r\n        if (teacher_score_barchart.getData() != null &amp;&amp;\r\n                teacher_score_barchart.getData().getDataSetCount() &gt; 0) {\r\n            set1 = (BarDataSet) teacher_score_barchart.getData().getDataSetByIndex(0);\r\n            set1.setValues(values);\r\n            if (high_position!=null){\r\n                set1.setHighLightColor(lessons_colors.get(high_position));\r\n            }\r\n            teacher_score_barchart.getData().notifyDataChanged();\r\n            teacher_score_barchart.notifyDataSetChanged();\r\n        } else {\r\n            set1 = new BarDataSet(values,&quot;score&quot;);\r\n            set1.setColors(lessons_colors);\r\n            set1.setDrawValues(false);\r\n            ArrayList&lt;IBarDataSet&gt; dataSets = new ArrayList&lt;&gt;();\r\n            dataSets.add(set1);\r\n            BarData data = new BarData(dataSets);\r\n            teacher_score_barchart.setData(data);\r\n            teacher_score_barchart.setFitBars(true);\r\n        }\r\n        //draw chart\r\n        teacher_score_barchart.invalidate();\r\n        teacher_score_barchart.animateXY(1000,1000);\r\n        return values;\r\n    }\r\n\r\n\r\n\r\n```\r\n\r\nI want to change the x and y axis values At first  the barchart x and y values  are \r\n\r\n - math-&gt;20 \r\n - english-&gt;50 \r\n - biology-&gt;100\r\n\r\nat the beginning. When I click the button, it becomes \r\n\r\n - pe-&gt;50 \r\n - java-&gt;100 \r\n - english-&gt;20 \r\n - c-&gt;100","title":"How to set the new value about y in a mpandroidchart barchart","body":"<p>At first My y value are these:</p>\n<pre><code>                arrayList1.add(&quot;math&quot;);\n                arrayList1.add(&quot;english&quot;);\n                arrayList1.add(&quot;biology&quot;);\n                arrayList1.add(&quot;computer&quot;);\n                arrayList1.add(&quot;java&quot;);\n                arrayList1.add(&quot;c&quot;);\n //fake data\n                for (int i = 0; i &lt; arrayList1.size(); i++) {\n                    score_array.add((float) 0);\n                }\n ValueFormatter valueFormatter=new ValueFormatter() {\n                    @Override\n                    public String getFormattedValue(float value) {\n                        if (value&gt;=0){\n                            return arrayList1.get((int) value);\n                        }\n                        else{\n                            return &quot;&quot;;\n                        }\n                    }\n                };\n                xAxis.setValueFormatter(valueFormatter);\n                                \n               arrayList_BarEntry=Set_BarChar_Data(score_array,null);\n\n\n</code></pre>\n<p>But When I click a button I want to change my y value to</p>\n<pre><code>                arrayList1.clear();\n                arrayList1.add(&quot;english&quot;);\n                arrayList1.add(&quot;biology&quot;);\n                arrayList1.add(&quot;c#&quot;);\n                arrayList1.add(&quot;python&quot;);\n                arrayList1.add(&quot;biology&quot;);\n                arrayList1.add(&quot;math&quot;);\n               for (int i = 0; i &lt; arrayList1.size(); i++) {\n                    score_array.add((float) 100);\n                }\n               arrayList_BarEntry=Set_BarChar_Data(score_array,null);\n\n\n</code></pre>\n<p>How can i do it</p>\n<p>I want to change x value and y value</p>\n<p>add bar value function</p>\n<pre><code>\n\n\nArrayList&lt;BarEntry&gt; Set_BarChar_Data(@NotNull ArrayList&lt;Float&gt;score_array,@Nullable Integer high_position){\n        ArrayList&lt;BarEntry&gt; values = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; score_array.size(); i++) {\n            values.add(new BarEntry((float) i, score_array.get(i)));\n        }\n        BarDataSet set1;\n        if (teacher_score_barchart.getData() != null &amp;&amp;\n                teacher_score_barchart.getData().getDataSetCount() &gt; 0) {\n            set1 = (BarDataSet) teacher_score_barchart.getData().getDataSetByIndex(0);\n            set1.setValues(values);\n            if (high_position!=null){\n                set1.setHighLightColor(lessons_colors.get(high_position));\n            }\n            teacher_score_barchart.getData().notifyDataChanged();\n            teacher_score_barchart.notifyDataSetChanged();\n        } else {\n            set1 = new BarDataSet(values,&quot;score&quot;);\n            set1.setColors(lessons_colors);\n            set1.setDrawValues(false);\n            ArrayList&lt;IBarDataSet&gt; dataSets = new ArrayList&lt;&gt;();\n            dataSets.add(set1);\n            BarData data = new BarData(dataSets);\n            teacher_score_barchart.setData(data);\n            teacher_score_barchart.setFitBars(true);\n        }\n        //draw chart\n        teacher_score_barchart.invalidate();\n        teacher_score_barchart.animateXY(1000,1000);\n        return values;\n    }\n\n\n\n</code></pre>\n<p>I want to change the x and y axis values At first  the barchart x and y values  are</p>\n<ul>\n<li>math-&gt;20</li>\n<li>english-&gt;50</li>\n<li>biology-&gt;100</li>\n</ul>\n<p>at the beginning. When I click the button, it becomes</p>\n<ul>\n<li>pe-&gt;50</li>\n<li>java-&gt;100</li>\n<li>english-&gt;20</li>\n<li>c-&gt;100</li>\n</ul>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687358162,"post_id":76522374,"comment_id":134926059,"body_markdown":"Is the `employee` field in your `EmployeeTask` an integer? Or is it an `Employee` object. You are writing an HQL hence you should use your object model, else write a SQL query. Also it is an Update it doesn&#39;t return a `EmployeeTask` but rather a `long`.","body":"Is the <code>employee</code> field in your <code>EmployeeTask</code> an integer? Or is it an <code>Employee</code> object. You are writing an HQL hence you should use your object model, else write a SQL query. Also it is an Update it doesn&#39;t return a <code>EmployeeTask</code> but rather a <code>long</code>."}],"answers":[{"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687358017,"creation_date":1687358017,"answer_id":76524448,"question_id":76522374,"body_markdown":"look to documents.\r\n Execute an update or delete statement.\r\n     * @**return the number** of entities updated or deleted","title":"Hibernate. Give a value to all fields in a column that have a value of null","body":"<p>look to documents.\nExecute an update or delete statement.\n* @<strong>return the number</strong> of entities updated or deleted</p>\n"},{"tags":[],"owner":{"account_id":21954539,"reputation":121,"user_id":16233309,"display_name":"atulanand966"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693814448,"creation_date":1693814448,"answer_id":77036035,"question_id":76522374,"body_markdown":"The problem is in this line of code:\r\n\r\nsession.createQuery(hql, EmployeeTask.class).executeUpdate();\r\n\r\nHibernate is telling what is the problem:\r\n\r\nCaused by: org.hibernate.query.IllegalQueryOperationException: **Result type given for a non-SELECT Query**\r\n\r\nThis is an update query, not a select query, so you don&#39;t need to give the result type. Therefore you must change the above line of code as shown below:\r\n\r\nsession.createQuery(hql).executeUpdate();","title":"Hibernate. Give a value to all fields in a column that have a value of null","body":"<p>The problem is in this line of code:</p>\n<p>session.createQuery(hql, EmployeeTask.class).executeUpdate();</p>\n<p>Hibernate is telling what is the problem:</p>\n<p>Caused by: org.hibernate.query.IllegalQueryOperationException: <strong>Result type given for a non-SELECT Query</strong></p>\n<p>This is an update query, not a select query, so you don't need to give the result type. Therefore you must change the above line of code as shown below:</p>\n<p>session.createQuery(hql).executeUpdate();</p>\n"},{"tags":[],"owner":{"account_id":22938461,"reputation":538,"user_id":17071589,"display_name":"abdella"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697446180,"creation_date":1697446180,"answer_id":77300593,"question_id":76522374,"body_markdown":"``session.createQuery(hql, EmployeeTask.class)`` is used to **retrieving** data from the database. You can use the ``session.createQuery(hql)`` methed for **update, or delete statement.**, but this method is **deprecated** and you may get problems in the future when you update Hibernate to a newer version.\r\n\r\nHere is alternative methods:\r\n\r\n - `session.createMutationQuery(hql)` -  to insert, update, or delete statement.\r\n - `createNativeMutationQuery​(String sqlString)` - but this takes native SQL statement string\r\n\r\nSee [the javadoc][1] for more details.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/stable/orm/javadocs/org/hibernate/query/spi/QueryProducerImplementor.html","title":"Hibernate. Give a value to all fields in a column that have a value of null","body":"<p><code>session.createQuery(hql, EmployeeTask.class)</code> is used to <strong>retrieving</strong> data from the database. You can use the <code>session.createQuery(hql)</code> methed for <strong>update, or delete statement.</strong>, but this method is <strong>deprecated</strong> and you may get problems in the future when you update Hibernate to a newer version.</p>\n<p>Here is alternative methods:</p>\n<ul>\n<li><code>session.createMutationQuery(hql)</code> -  to insert, update, or delete statement.</li>\n<li><code>createNativeMutationQuery​(String sqlString)</code> - but this takes native SQL statement string</li>\n</ul>\n<p>See <a href=\"https://docs.jboss.org/hibernate/stable/orm/javadocs/org/hibernate/query/spi/QueryProducerImplementor.html\" rel=\"nofollow noreferrer\">the javadoc</a> for more details.</p>\n"}],"owner":{"account_id":28011115,"reputation":11,"user_id":21393623,"display_name":"Myky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1697446180,"creation_date":1687343950,"question_id":76522374,"body_markdown":"        try(Session session = sessionFactory.openSession()) {\r\n            session.beginTransaction();\r\n            String hql = &quot;update EmployeeTask set employee = 1 where employee is null&quot;;\r\n            session.createQuery(hql, EmployeeTask.class).executeUpdate();\r\n            session.getTransaction().commit();\r\n        }\r\n\r\n\r\nthrows the following\r\n\r\nCaused by: org.hibernate.query.IllegalQueryOperationException: Result type given for a non-SELECT Query [update EmployeeTask set employee = 1 where employee is null]\r\n\r\nI expect that all values of the &quot;employee&quot; column that are currently null will have the value 1","title":"Hibernate. Give a value to all fields in a column that have a value of null","body":"<pre><code>    try(Session session = sessionFactory.openSession()) {\n        session.beginTransaction();\n        String hql = &quot;update EmployeeTask set employee = 1 where employee is null&quot;;\n        session.createQuery(hql, EmployeeTask.class).executeUpdate();\n        session.getTransaction().commit();\n    }\n</code></pre>\n<p>throws the following</p>\n<p>Caused by: org.hibernate.query.IllegalQueryOperationException: Result type given for a non-SELECT Query [update EmployeeTask set employee = 1 where employee is null]</p>\n<p>I expect that all values of the &quot;employee&quot; column that are currently null will have the value 1</p>\n"},{"tags":["java","selenium-webdriver","testing","selenium-chromedriver","automated-tests"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1697432450,"post_id":77298524,"comment_id":136274345,"body_markdown":"Put `chrome.manage().timeouts()...` before `chrome.get(&quot;https://demo.guru99.com/popup.php&quot;);`.","body":"Put <code>chrome.manage().timeouts()...</code> before <code>chrome.get(&quot;https:&#47;&#47;demo.guru99.com&#47;popup.php&quot;);</code>."}],"answers":[{"comments":[{"owner":{"account_id":22149081,"reputation":47,"user_id":16397891,"display_name":"Carlo Cumino"},"score":0,"creation_date":1697448020,"post_id":77300585,"comment_id":136276604,"body_markdown":"I&#39;ll try this evening after work. ;-) Thank you","body":"I&#39;ll try this evening after work. ;-) Thank you"},{"owner":{"account_id":22149081,"reputation":47,"user_id":16397891,"display_name":"Carlo Cumino"},"score":0,"creation_date":1697486565,"post_id":77300585,"comment_id":136283484,"body_markdown":"Test it: it&#39;s work. Thanks!","body":"Test it: it&#39;s work. Thanks!"}],"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697446132,"creation_date":1697446132,"answer_id":77300585,"question_id":77298524,"body_markdown":"Refer the working code below with in-line explanation:\r\n````\r\nchrome.get(&quot;https://demo.guru99.com/popup.php&quot;);\r\nchrome.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);;\r\nint size= chrome.findElements(By.tagName(&quot;iframe&quot;)).size();\r\nSystem.out.println(&quot;iframe &quot;+ size);\r\n        \r\n// switch into the IFRAME with ID=gdpr-consent-notice\r\nchrome.switchTo().frame(chrome.findElement(By.id(&quot;gdpr-consent-notice&quot;)));\r\n\r\nSystem.out.println(chrome.findElement(By.xpath(&quot;//button[@id=&#39;save&#39;]/span/div&quot;)).getText());\r\n        \r\n// Below 2 lines will click on the Accept All button using JavaScript\r\nWebElement element = chrome.findElement(By.xpath(&quot;//button[@id=&#39;save&#39;]/span/div&quot;));\r\n((JavascriptExecutor) chrome).executeScript(&quot;arguments[0].click();&quot;, element);\r\n\r\n// Below line will come out of the IFRAME and switch to main HTML context \r\nchrome.switchTo().defaultContent(); \r\n````\r\n\r\nConsole result:\r\n````\r\niframe 3\r\nAccept All\r\n````","title":"Handle an iframe witha Selenium in java - .click() doesn&#39;t work","body":"<p>Refer the working code below with in-line explanation:</p>\n<pre><code>chrome.get(&quot;https://demo.guru99.com/popup.php&quot;);\nchrome.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);;\nint size= chrome.findElements(By.tagName(&quot;iframe&quot;)).size();\nSystem.out.println(&quot;iframe &quot;+ size);\n        \n// switch into the IFRAME with ID=gdpr-consent-notice\nchrome.switchTo().frame(chrome.findElement(By.id(&quot;gdpr-consent-notice&quot;)));\n\nSystem.out.println(chrome.findElement(By.xpath(&quot;//button[@id='save']/span/div&quot;)).getText());\n        \n// Below 2 lines will click on the Accept All button using JavaScript\nWebElement element = chrome.findElement(By.xpath(&quot;//button[@id='save']/span/div&quot;));\n((JavascriptExecutor) chrome).executeScript(&quot;arguments[0].click();&quot;, element);\n\n// Below line will come out of the IFRAME and switch to main HTML context \nchrome.switchTo().defaultContent(); \n</code></pre>\n<p>Console result:</p>\n<pre><code>iframe 3\nAccept All\n</code></pre>\n"}],"owner":{"account_id":22149081,"reputation":47,"user_id":16397891,"display_name":"Carlo Cumino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77300585,"answer_count":1,"score":0,"last_activity_date":1697446132,"creation_date":1697404959,"question_id":77298524,"body_markdown":"I am starting to learn selenium to switch from manual to automatic testing. \r\nI was following a tutorial on a website. but when I launched the script the first time, and opened [the page for the test][1] I discovered this cookie acceptance (sorry if it&#39;s in Italian)\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAfter discovering that the advice was inside an iframe I rewrote the script to handle it. My idea was &quot;Now I click on &quot;Accept All&quot; (Accetta tutti) and I can continue with the tutorial.&quot; Unfortunately, the click() command doesn&#39;t work.\r\n\r\nThis is my script:\r\n\r\n   \r\n\r\n     package newpackage;\r\n    import java.util.concurrent.TimeUnit;\r\n    import org.openqa.selenium.*;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    public class popUpAutomation {\r\n    \t\r\n    \t@SuppressWarnings(&quot;deprecation&quot;)\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:/Users/ccumi/Downloads/chromeDriver/chromedriver.exe&quot;);\r\n    \t\t\r\n    \t\tWebDriver chrome = new ChromeDriver();\r\n    \t\t\r\n    \t\tchrome.get(&quot;https://demo.guru99.com/popup.php&quot;);\r\n    \t\tchrome.manage().timeouts().implicitlyWait(2, TimeUnit.SECONDS);\r\n    \t\tint size= chrome.findElements(By.tagName(&quot;iframe&quot;)).size();\r\n    \t\tSystem.out.println(&quot;iframe &quot;+ size);\r\n    \t\t\r\n    \t\tchrome.switchTo().frame(3);\r\n    \r\n    \t\tSystem.out.println(chrome.findElement(By.xpath(&quot;//button[@id=&#39;save&#39;]/span/div&quot;)).getText());\r\n    \t\t\r\n    \t\tchrome.findElement(By.id(&quot;save&quot;)).click();\t\r\n    \t}\r\n    }\r\nI don&#39;t understand where is the error, because on the console I see that in this line the element is found:\r\n\r\n    System.out.println(chrome.findElement(By.xpath(&quot;//button[@id=&#39;save&#39;]/span/div&quot;)).getText());\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://demo.guru99.com/popup.php\r\n  [2]: https://i.stack.imgur.com/Gl7L7.png","title":"Handle an iframe witha Selenium in java - .click() doesn&#39;t work","body":"<p>I am starting to learn selenium to switch from manual to automatic testing.\nI was following a tutorial on a website. but when I launched the script the first time, and opened <a href=\"https://demo.guru99.com/popup.php\" rel=\"nofollow noreferrer\">the page for the test</a> I discovered this cookie acceptance (sorry if it's in Italian)\n<a href=\"https://i.stack.imgur.com/Gl7L7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gl7L7.png\" alt=\"enter image description here\" /></a></p>\n<p>After discovering that the advice was inside an iframe I rewrote the script to handle it. My idea was &quot;Now I click on &quot;Accept All&quot; (Accetta tutti) and I can continue with the tutorial.&quot; Unfortunately, the click() command doesn't work.</p>\n<p>This is my script:</p>\n<pre><code> package newpackage;\nimport java.util.concurrent.TimeUnit;\nimport org.openqa.selenium.*;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class popUpAutomation {\n    \n    @SuppressWarnings(&quot;deprecation&quot;)\n    public static void main(String[] args) {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:/Users/ccumi/Downloads/chromeDriver/chromedriver.exe&quot;);\n        \n        WebDriver chrome = new ChromeDriver();\n        \n        chrome.get(&quot;https://demo.guru99.com/popup.php&quot;);\n        chrome.manage().timeouts().implicitlyWait(2, TimeUnit.SECONDS);\n        int size= chrome.findElements(By.tagName(&quot;iframe&quot;)).size();\n        System.out.println(&quot;iframe &quot;+ size);\n        \n        chrome.switchTo().frame(3);\n\n        System.out.println(chrome.findElement(By.xpath(&quot;//button[@id='save']/span/div&quot;)).getText());\n        \n        chrome.findElement(By.id(&quot;save&quot;)).click();  \n    }\n}\n</code></pre>\n<p>I don't understand where is the error, because on the console I see that in this line the element is found:</p>\n<pre><code>System.out.println(chrome.findElement(By.xpath(&quot;//button[@id='save']/span/div&quot;)).getText());\n</code></pre>\n"},{"tags":["java","ghostscript"],"comments":[{"owner":{"account_id":1399381,"reputation":16512,"user_id":1328439,"accept_rate":60,"display_name":"Dima Chubarov"},"score":0,"creation_date":1697031481,"post_id":77273512,"comment_id":136228329,"body_markdown":"There are many libraries for editing, commenting or filling pdf forms beyond ghostscript. Is there a programming language you are familiar with?","body":"There are many libraries for editing, commenting or filling pdf forms beyond ghostscript. Is there a programming language you are familiar with?"},{"owner":{"account_id":29648692,"reputation":1,"user_id":22723145,"display_name":"mbo"},"score":0,"creation_date":1697442782,"post_id":77273512,"comment_id":136275721,"body_markdown":"I&#39;m in a java environment wit groovy as scripting language.","body":"I&#39;m in a java environment wit groovy as scripting language."},{"owner":{"account_id":1399381,"reputation":16512,"user_id":1328439,"accept_rate":60,"display_name":"Dima Chubarov"},"score":0,"creation_date":1697445253,"post_id":77273512,"comment_id":136276120,"body_markdown":"In Java there is an excellent [iText](https://itextpdf.com/resources/downloads) library for PDF manipulation by Bruno Lowagie that you can use either for free under AGPLv3 or commercially.","body":"In Java there is an excellent <a href=\"https://itextpdf.com/resources/downloads\" rel=\"nofollow noreferrer\">iText</a> library for PDF manipulation by Bruno Lowagie that you can use either for free under AGPLv3 or commercially."}],"answers":[{"comments":[{"owner":{"account_id":360158,"reputation":30342,"user_id":701996,"display_name":"KenS"},"score":0,"creation_date":1697109109,"post_id":77276272,"comment_id":136239641,"body_markdown":"I&#39;m not entirely sure I agree that adding objects to a PDF file is not the purpose of Ghostscript. Many things people do with Ghostscript are not its original purpose. I don&#39;t know what you mean by &quot;write a customised editing script in Postscript format&quot; You can&#39;t &#39;edit&#39; a PDF file with Ghostscript at all. However, if all you want to do is add a new annotation then you can do that by using a pdfmark with a single line of PostScript. I doubt that it&#39;s significantly  easier with any other library. It does assume you already know the original Annot, you can&#39;t have GS find that for you.","body":"I&#39;m not entirely sure I agree that adding objects to a PDF file is not the purpose of Ghostscript. Many things people do with Ghostscript are not its original purpose. I don&#39;t know what you mean by &quot;write a customised editing script in Postscript format&quot; You can&#39;t &#39;edit&#39; a PDF file with Ghostscript at all. However, if all you want to do is add a new annotation then you can do that by using a pdfmark with a single line of PostScript. I doubt that it&#39;s significantly  easier with any other library. It does assume you already know the original Annot, you can&#39;t have GS find that for you."}],"tags":[],"owner":{"account_id":14313923,"reputation":8868,"user_id":10802527,"display_name":"K J"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697112155,"creation_date":1697056656,"answer_id":77276272,"question_id":77273512,"body_markdown":"&lt;strike&gt;Adding objects into a pre-existing PDF is not the purpose of GhostScript.  &lt;/strike&gt;  \r\nAs pointed out by KenS, GhostScript may well have the power to add extra related comments. However as we shall see the copious amounts of data per entry would challenge OS shell command line usage and require considerable supporting data per object, so be totally impractical as a working method.\r\n\r\nYou would need to write a customised editing script in PostScript Compatible &quot;PDFMark&quot; syntax and that is not easy from scratch, since you need to find the existing annotation /NM identities. Adding replied /IRT comments to existing comments is part of Collaborative PDF Workflow and thus mainly the prerogative of Adobe FDF toolkit. \r\n\r\nOne of the issues with secondary replies to comments are they are not cluttering the page thus are unseen until opening their parent comment. However they can be exported and imported easily for collaborative working.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIf we have the initial File with just a parent comment, we can EITHER open that file and import secondary replies,  \r\n[![enter image description here][2]][2]\r\n\r\nOR simpler OPEN the secondary comments data file and it will import the parent PDF\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThe biggest issue then is how to compose the comments data file so here is that simple example. Where you can see the first comment has Name `NM(810b4c82-e36d-4ecf-86f5-a53ba1b4656b)` and the reply has IRT (in response to) `/IRT(810b4c82-e36d-4ecf-86f5-a53ba1b4656b)`\r\n\r\n```\r\n%FDF-1.2\r\n%&#226;&#227;&#207;&#211;\r\n1 0 obj\r\n&lt;&lt;/FDF&lt;&lt;/Annots[2 0 R 3 0 R 4 0 R]/F(/C/Users/lez/Downloads/simple1 \\(mu1a\\).pdf)/ID[&lt;&gt;&lt;&gt;]/UF(/C/Users/lez/Downloads/simple1 \\(mu1a\\).pdf)&gt;&gt;/Type/Catalog&gt;&gt;\r\nendobj\r\n2 0 obj\r\n&lt;&lt;/BS&lt;&lt;/Type/Border/W 0&gt;&gt;/C[1 1 0]/Contents(This is a text box comment)/DA(/Helv 12 Tf 0 0 0 rg)/DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#000000 )/F 4/M(D:20231011212158+01&#39;00&#39;)/NM(810b4c82-e36d-4ecf-86f5-a53ba1b4656b)/Page 0/RC(&lt;?xml version=&quot;1.0&quot;?&gt;&lt;body xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:xfa=&quot;http://www.xfa.org/schema/xfa-data/1.0/&quot; xfa:APIVersion=&quot;Acrobat:23.6.0&quot; xfa:spec=&quot;2.0.2&quot;  style=&quot;font-size:12.0pt;text-align:left;color:#000000;font-weight:normal;font-style:norma\\\r\nl;font-family:Helvetica,sans-serif;font-stretch:normal&quot;&gt;&lt;p&gt;This is a text box comment&lt;/p&gt;&lt;/body&gt;)/Rect[360.784 695.791 522.724 714.52]/Subtype/FreeText/T( )/Type/Annot&gt;&gt;\r\nendobj\r\n3 0 obj\r\n&lt;&lt;/C[1.0 0.0 0.0]/Contents(Dies ist eine Antwort auf einen Textfeldkommentar und kann daher in einer anderen Sprache verfasst sein)/CreationDate(D:20231011211528+01&#39;00&#39;)/F 28/IRT(810b4c82-e36d-4ecf-86f5-a53ba1b4656b)/M(D:20231011211943+01&#39;00&#39;)/NM(a34807a7-9440-4631-8ef8-73421cb57e10)/Name/Comment/Page 0/Popup 4 0 R/RC(&lt;?xml version=&quot;1.0&quot;?&gt;&lt;body xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:xfa=&quot;http://www.xfa.org/schema/xfa-data/1.0/&quot; xfa:APIVersion=&quot;Acrobat:23.6.0&quot; xfa:spec=&quot;2.0.2&quot; &gt;&lt;p dir=&quot;ltr&quot;&gt;&lt;span dir=&quot;ltr&quot; style=&quot;font-size:9.9pt;text-align:left;color:#000000;font-we\\\r\night:normal;font-style:normal&quot;&gt;Dies ist eine Antwort auf einen Textfeldkommentar und kann daher in einer anderen Sprache verfasst sein&lt;/span&gt;&lt;/p&gt;&lt;/body&gt;)/Rect[360.784 690.52 384.784 714.52]/Subj(Note1)/Subtype/Text/Type/Annot&gt;&gt;\r\nendobj\r\n4 0 obj\r\n&lt;&lt;/F 28/Open true/Page 0/Parent 3 0 R/Rect[612.0 622.52 796.0 714.52]/Subtype/Popup/Type/Annot&gt;&gt;\r\nendobj\r\ntrailer\r\n&lt;&lt;/Root 1 0 R&gt;&gt;\r\n%%EOF\r\n```\r\nThus most programmable PDF readers will be able to import 1000&#39;s of replies and resave the file ONCE even via command line. However to do that with Ghostscript with so much text would require 1000 separate programming lines of one per comment and the file would bloat many fold.  \r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EGw3e.png\r\n  [2]: https://i.stack.imgur.com/MqmEq.png\r\n  [3]: https://i.stack.imgur.com/MXOjb.png\r\n  [4]: https://i.stack.imgur.com/lLJII.png","title":"Adding a response/comment to PDF note – ghostscript","body":"<p><strike>Adding objects into a pre-existing PDF is not the purpose of GhostScript.  </strike><br />\nAs pointed out by KenS, GhostScript may well have the power to add extra related comments. However as we shall see the copious amounts of data per entry would challenge OS shell command line usage and require considerable supporting data per object, so be totally impractical as a working method.</p>\n<p>You would need to write a customised editing script in PostScript Compatible &quot;PDFMark&quot; syntax and that is not easy from scratch, since you need to find the existing annotation /NM identities. Adding replied /IRT comments to existing comments is part of Collaborative PDF Workflow and thus mainly the prerogative of Adobe FDF toolkit.</p>\n<p>One of the issues with secondary replies to comments are they are not cluttering the page thus are unseen until opening their parent comment. However they can be exported and imported easily for collaborative working.</p>\n<p><a href=\"https://i.stack.imgur.com/EGw3e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EGw3e.png\" alt=\"enter image description here\" /></a></p>\n<p>If we have the initial File with just a parent comment, we can EITHER open that file and import secondary replies,<br />\n<a href=\"https://i.stack.imgur.com/MqmEq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MqmEq.png\" alt=\"enter image description here\" /></a></p>\n<p>OR simpler OPEN the secondary comments data file and it will import the parent PDF</p>\n<p><a href=\"https://i.stack.imgur.com/MXOjb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MXOjb.png\" alt=\"enter image description here\" /></a></p>\n<p>The biggest issue then is how to compose the comments data file so here is that simple example. Where you can see the first comment has Name <code>NM(810b4c82-e36d-4ecf-86f5-a53ba1b4656b)</code> and the reply has IRT (in response to) <code>/IRT(810b4c82-e36d-4ecf-86f5-a53ba1b4656b)</code></p>\n<pre><code>%FDF-1.2\n%âãÏÓ\n1 0 obj\n&lt;&lt;/FDF&lt;&lt;/Annots[2 0 R 3 0 R 4 0 R]/F(/C/Users/lez/Downloads/simple1 \\(mu1a\\).pdf)/ID[&lt;&gt;&lt;&gt;]/UF(/C/Users/lez/Downloads/simple1 \\(mu1a\\).pdf)&gt;&gt;/Type/Catalog&gt;&gt;\nendobj\n2 0 obj\n&lt;&lt;/BS&lt;&lt;/Type/Border/W 0&gt;&gt;/C[1 1 0]/Contents(This is a text box comment)/DA(/Helv 12 Tf 0 0 0 rg)/DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#000000 )/F 4/M(D:20231011212158+01'00')/NM(810b4c82-e36d-4ecf-86f5-a53ba1b4656b)/Page 0/RC(&lt;?xml version=&quot;1.0&quot;?&gt;&lt;body xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:xfa=&quot;http://www.xfa.org/schema/xfa-data/1.0/&quot; xfa:APIVersion=&quot;Acrobat:23.6.0&quot; xfa:spec=&quot;2.0.2&quot;  style=&quot;font-size:12.0pt;text-align:left;color:#000000;font-weight:normal;font-style:norma\\\nl;font-family:Helvetica,sans-serif;font-stretch:normal&quot;&gt;&lt;p&gt;This is a text box comment&lt;/p&gt;&lt;/body&gt;)/Rect[360.784 695.791 522.724 714.52]/Subtype/FreeText/T( )/Type/Annot&gt;&gt;\nendobj\n3 0 obj\n&lt;&lt;/C[1.0 0.0 0.0]/Contents(Dies ist eine Antwort auf einen Textfeldkommentar und kann daher in einer anderen Sprache verfasst sein)/CreationDate(D:20231011211528+01'00')/F 28/IRT(810b4c82-e36d-4ecf-86f5-a53ba1b4656b)/M(D:20231011211943+01'00')/NM(a34807a7-9440-4631-8ef8-73421cb57e10)/Name/Comment/Page 0/Popup 4 0 R/RC(&lt;?xml version=&quot;1.0&quot;?&gt;&lt;body xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:xfa=&quot;http://www.xfa.org/schema/xfa-data/1.0/&quot; xfa:APIVersion=&quot;Acrobat:23.6.0&quot; xfa:spec=&quot;2.0.2&quot; &gt;&lt;p dir=&quot;ltr&quot;&gt;&lt;span dir=&quot;ltr&quot; style=&quot;font-size:9.9pt;text-align:left;color:#000000;font-we\\\night:normal;font-style:normal&quot;&gt;Dies ist eine Antwort auf einen Textfeldkommentar und kann daher in einer anderen Sprache verfasst sein&lt;/span&gt;&lt;/p&gt;&lt;/body&gt;)/Rect[360.784 690.52 384.784 714.52]/Subj(Note1)/Subtype/Text/Type/Annot&gt;&gt;\nendobj\n4 0 obj\n&lt;&lt;/F 28/Open true/Page 0/Parent 3 0 R/Rect[612.0 622.52 796.0 714.52]/Subtype/Popup/Type/Annot&gt;&gt;\nendobj\ntrailer\n&lt;&lt;/Root 1 0 R&gt;&gt;\n%%EOF\n</code></pre>\n<p>Thus most programmable PDF readers will be able to import 1000's of replies and resave the file ONCE even via command line. However to do that with Ghostscript with so much text would require 1000 separate programming lines of one per comment and the file would bloat many fold.</p>\n<p><a href=\"https://i.stack.imgur.com/lLJII.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lLJII.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29648692,"reputation":1,"user_id":22723145,"display_name":"mbo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697445356,"creation_date":1697030956,"question_id":77273512,"body_markdown":"Is there a way, to add a response / comment to an existing PDF note using ghostscript? I can&#39;t find helpful information on my research.\r\n\r\nWhy?\r\nI have german text and what to translate it into english using DeepL API. The translated text should add to the original PDF note as response/comment.\r\n\r\nIn a test document I will find the marker from that response/comment. But I can&#39;t find any examples of how to deal with it in ghostscript. I am interested in adding a response/comment automatically.\r\n\r\nI think it is not a good idea to add a new note at a similar place. The overview would suffer.","title":"Adding a response/comment to PDF note – ghostscript","body":"<p>Is there a way, to add a response / comment to an existing PDF note using ghostscript? I can't find helpful information on my research.</p>\n<p>Why?\nI have german text and what to translate it into english using DeepL API. The translated text should add to the original PDF note as response/comment.</p>\n<p>In a test document I will find the marker from that response/comment. But I can't find any examples of how to deal with it in ghostscript. I am interested in adding a response/comment automatically.</p>\n<p>I think it is not a good idea to add a new note at a similar place. The overview would suffer.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9795,"page":122,"page_size":100}
