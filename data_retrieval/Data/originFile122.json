{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":3701688,"reputation":3358,"user_id":3081206,"display_name":"takendarkk"},"score":0,"creation_date":1390611149,"post_id":21345121,"comment_id":32181508,"body_markdown":"&quot;_write a method named findMin that accepts three integers as parameters_&quot; Why does yours only accept one?","body":"&quot;<i>write a method named findMin that accepts three integers as parameters</i>&quot; Why does yours only accept one?"},{"owner":{"account_id":1246260,"reputation":406,"user_id":1207649,"display_name":"mdl"},"score":0,"creation_date":1390611165,"post_id":21345121,"comment_id":32181510,"body_markdown":"You teacher wants you to write a methods that has a name like `public int findMin(int a, int b, int c)` that returns the smallest of a, b, and c.","body":"You teacher wants you to write a methods that has a name like <code>public int findMin(int a, int b, int c)</code> that returns the smallest of a, b, and c."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1390611210,"creation_date":1390611210,"answer_id":21345148,"question_id":21345121,"body_markdown":"**Hint:**\r\n\r\nA method that accepts 3 (integer) parameters would look like this ...\r\n\r\n    public static int findMin(int p1, int p2, int p3) {\r\n        ...\r\n    }","title":"Writing a small Java code that can take 3 integers, and output the smallest one","body":"<p><strong>Hint:</strong></p>\n\n<p>A method that accepts 3 (integer) parameters would look like this ...</p>\n\n<pre><code>public static int findMin(int p1, int p2, int p3) {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1390611218,"creation_date":1390611218,"answer_id":21345149,"question_id":21345121,"body_markdown":"You&#39;re about 99% of the way there, the only problem you have is the fact that `findMin` should take three parameters, not one.\r\n\r\n`findMin` should look more like...\r\n\r\n    public static int findMin(int num1, int num2, int num3) {\r\n\r\nThen, instead of using `5`, `7`, and `3` directly, you would use `num1`, `num2`, `num3` in there place.\r\n\r\nThen you would call the method using something like...\r\n\r\n    int min = findMin(5, 7, 3);\r\n\r\nDon&#39;t forget to assign the resulting value from the method call ;)\r\n\r\nYou may find [Defining Methods](http://docs.oracle.com/javase/tutorial/java/javaOO/methods.html) of some help","title":"Writing a small Java code that can take 3 integers, and output the smallest one","body":"<p>You're about 99% of the way there, the only problem you have is the fact that <code>findMin</code> should take three parameters, not one.</p>\n\n<p><code>findMin</code> should look more like...</p>\n\n<pre><code>public static int findMin(int num1, int num2, int num3) {\n</code></pre>\n\n<p>Then, instead of using <code>5</code>, <code>7</code>, and <code>3</code> directly, you would use <code>num1</code>, <code>num2</code>, <code>num3</code> in there place.</p>\n\n<p>Then you would call the method using something like...</p>\n\n<pre><code>int min = findMin(5, 7, 3);\n</code></pre>\n\n<p>Don't forget to assign the resulting value from the method call ;)</p>\n\n<p>You may find <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"nofollow\">Defining Methods</a> of some help</p>\n"},{"tags":[],"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390611271,"creation_date":1390611271,"answer_id":21345159,"question_id":21345121,"body_markdown":"The problem is that you allow the user to only specify 1 parameter while the requirement is 3, after which you hardcode two others yourself.\r\n\r\nA simple solution could be this:\r\n\r\n\tprivate static int findMin(int arg0, int arg1, int arg2) {\r\n\t\tint low = arg0;\r\n\t\tlow = Math.min(low, arg1);\r\n\t\tlow = Math.min(low, arg2);\r\n\t\t\r\n\t\treturn low;\r\n\t}\r\n\r\n* Assign the first parameter to the variable &#39;low&#39;\r\n* Keep comparing this variable to the other parameters and assign the result of it to `low`","title":"Writing a small Java code that can take 3 integers, and output the smallest one","body":"<p>The problem is that you allow the user to only specify 1 parameter while the requirement is 3, after which you hardcode two others yourself.</p>\n\n<p>A simple solution could be this:</p>\n\n<pre><code>private static int findMin(int arg0, int arg1, int arg2) {\n    int low = arg0;\n    low = Math.min(low, arg1);\n    low = Math.min(low, arg2);\n\n    return low;\n}\n</code></pre>\n\n<ul>\n<li>Assign the first parameter to the variable 'low'</li>\n<li>Keep comparing this variable to the other parameters and assign the result of it to <code>low</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3852004,"reputation":160,"user_id":3191931,"display_name":"sebastian s."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390611956,"creation_date":1390611956,"answer_id":21345231,"question_id":21345121,"body_markdown":"You could also put the ints into an array and sort it. The first element will be the smallest, therfore the minimum.\r\n\r\n    public static int findMin(int int1, int int2, int int3) {\r\n        int[] nums={int1, int2, int3};\r\n        Arrays.sort(nums);\r\n        return nums[0];\r\n    }","title":"Writing a small Java code that can take 3 integers, and output the smallest one","body":"<p>You could also put the ints into an array and sort it. The first element will be the smallest, therfore the minimum.</p>\n\n<pre><code>public static int findMin(int int1, int int2, int int3) {\n    int[] nums={int1, int2, int3};\n    Arrays.sort(nums);\n    return nums[0];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3907791,"reputation":329,"user_id":3234014,"display_name":"kanbagoly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390612867,"creation_date":1390612867,"answer_id":21345342,"question_id":21345121,"body_markdown":"Or just use composition:\r\n\r\n    public static int findMin(int a, int b, int c) {\r\n\t    return Math.min(Math.min(a, b), c);\r\n\t}","title":"Writing a small Java code that can take 3 integers, and output the smallest one","body":"<p>Or just use composition:</p>\n\n<pre><code>public static int findMin(int a, int b, int c) {\n    return Math.min(Math.min(a, b), c);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29670854,"reputation":1,"user_id":22740132,"display_name":"WhisperingEye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697407850,"creation_date":1697407850,"answer_id":77298638,"question_id":21345121,"body_markdown":"Coral language\r\nFunction LargestNumber(integer num1,integer num2,integer num3) returns integer largestNum\r\n   // LargestNumber function definition with 3 parameters\r\n\r\n   // check if num3 is largest\r\n\r\n   if num3 &gt; num1 and num3 &gt; num2\r\n\r\n      largestNum = num3 \r\n\r\n   // check if num2 is largest\r\n\r\n   elseif num2 &gt; num1 and num2 &gt; num3 \r\n\r\n      largestNum = num2 \r\n\r\n   // check if num1 is largest\r\n\r\n   else \r\n\r\n      largestNum = num1\r\n\r\nFunction SmallestNumber(integer num1,integer num2,integer num3) returns integer smallestNum\r\n\r\n   // SmallestNumber function definition with 3 parameters  \r\n      \r\n   // check if num3 is smallest\r\n\r\n   if num3 &lt; num1 and num3 &lt; num2\r\n\r\n      smallestNum = num3 \r\n\r\n   // check if num2 is smallest\r\n\r\n   elseif num2 &lt; num1 and num2 &lt; num3 \r\n\r\n      smallestNum = num2 \r\n\r\n   // check if num1 is smallest\r\n\r\n   else \r\n\r\n      smallestNum = num1\r\n        \r\nFunction Main() returns nothing\r\n\r\n   integer n1\r\n\r\n   integer n2\r\n\r\n   integer n3\r\n\r\n   // Input 3 numbers by user\r\n\r\n   n1 = Get next input\r\n\r\n   n2 = Get next input\r\n\r\n   n3 = Get next input\r\n\r\n   // call function LargestNumber with 3 arguments\r\n\r\n   Put &quot;largest: &quot; to output\r\n\r\n   Put LargestNumber(n1, n2, n3) to output\r\n\r\n   Put &quot;\\n&quot; to output\r\n\r\n   // call function SmallestNumber with 3 arguments\r\n\r\n   Put &quot;smallest: &quot; to output\r\n\r\n   Put SmallestNumber(n1, n2, n3) to output","title":"Writing a small Java code that can take 3 integers, and output the smallest one","body":"<p>Coral language\nFunction LargestNumber(integer num1,integer num2,integer num3) returns integer largestNum\n// LargestNumber function definition with 3 parameters</p>\n<p>// check if num3 is largest</p>\n<p>if num3 &gt; num1 and num3 &gt; num2</p>\n<pre><code>  largestNum = num3 \n</code></pre>\n<p>// check if num2 is largest</p>\n<p>elseif num2 &gt; num1 and num2 &gt; num3</p>\n<pre><code>  largestNum = num2 \n</code></pre>\n<p>// check if num1 is largest</p>\n<p>else</p>\n<pre><code>  largestNum = num1\n</code></pre>\n<p>Function SmallestNumber(integer num1,integer num2,integer num3) returns integer smallestNum</p>\n<p>// SmallestNumber function definition with 3 parameters</p>\n<p>// check if num3 is smallest</p>\n<p>if num3 &lt; num1 and num3 &lt; num2</p>\n<pre><code>  smallestNum = num3 \n</code></pre>\n<p>// check if num2 is smallest</p>\n<p>elseif num2 &lt; num1 and num2 &lt; num3</p>\n<pre><code>  smallestNum = num2 \n</code></pre>\n<p>// check if num1 is smallest</p>\n<p>else</p>\n<pre><code>  smallestNum = num1\n    \n</code></pre>\n<p>Function Main() returns nothing</p>\n<p>integer n1</p>\n<p>integer n2</p>\n<p>integer n3</p>\n<p>// Input 3 numbers by user</p>\n<p>n1 = Get next input</p>\n<p>n2 = Get next input</p>\n<p>n3 = Get next input</p>\n<p>// call function LargestNumber with 3 arguments</p>\n<p>Put &quot;largest: &quot; to output</p>\n<p>Put LargestNumber(n1, n2, n3) to output</p>\n<p>Put &quot;\\n&quot; to output</p>\n<p>// call function SmallestNumber with 3 arguments</p>\n<p>Put &quot;smallest: &quot; to output</p>\n<p>Put SmallestNumber(n1, n2, n3) to output</p>\n"}],"owner":{"account_id":3885273,"reputation":644,"user_id":3216810,"accept_rate":71,"display_name":"Rivers31334"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21345148,"answer_count":6,"score":0,"last_activity_date":1697407850,"creation_date":1390610993,"question_id":21345121,"body_markdown":"I am in the beginnings of learning Java, and have an assignment that is providing me with some difficulty (which I presume is not actually difficult).\r\n\r\nThe instructions are as follows:\r\n\r\n&quot;Within a class called MathCalculations, write a method named findMin that accepts three integers as parameters and returns the smallest of the three values. For example, the call findMin(1,10,-1) would return -1. You must use the Math class min function (which only takes 2 parameters).  Write a main method in the class that calls findMin(5, 7, 3) and prints the returned result (see below for format).&quot;\r\n\r\nAs the prompt states, I have to use the Math.min function, yet it only takes two parameters.  I wrote the code below that gives me the desired output for the assignment, but I do not believe I have done it in the correct way.  I am having trouble understanding what is meant by &quot;write a method named findMin that accepts three integers as parameters.&quot;  Can anyone offer me some help?  Thanks in advance.\r\n\r\n\r\n    public class Test {\r\n\tpublic static void main(String[] args) {\r\n\t\tfindMin(3);\r\n\t}\t\t\r\n\tpublic static int findMin(int min) {\r\n\t\tint minimum = Math.min(5, 7);\r\n\t\tint minimum2 = Math.min(minimum, 3);\r\n\t\t\tSystem.out.println(&quot;The minimum of 5, 7, and 3 is &quot; + minimum2);\r\n\t\t\treturn minimum2;\r\n\t  }\r\n    }","title":"Writing a small Java code that can take 3 integers, and output the smallest one","body":"<p>I am in the beginnings of learning Java, and have an assignment that is providing me with some difficulty (which I presume is not actually difficult).</p>\n\n<p>The instructions are as follows:</p>\n\n<p>\"Within a class called MathCalculations, write a method named findMin that accepts three integers as parameters and returns the smallest of the three values. For example, the call findMin(1,10,-1) would return -1. You must use the Math class min function (which only takes 2 parameters).  Write a main method in the class that calls findMin(5, 7, 3) and prints the returned result (see below for format).\"</p>\n\n<p>As the prompt states, I have to use the Math.min function, yet it only takes two parameters.  I wrote the code below that gives me the desired output for the assignment, but I do not believe I have done it in the correct way.  I am having trouble understanding what is meant by \"write a method named findMin that accepts three integers as parameters.\"  Can anyone offer me some help?  Thanks in advance.</p>\n\n<pre><code>public class Test {\npublic static void main(String[] args) {\n    findMin(3);\n}       \npublic static int findMin(int min) {\n    int minimum = Math.min(5, 7);\n    int minimum2 = Math.min(minimum, 3);\n        System.out.println(\"The minimum of 5, 7, and 3 is \" + minimum2);\n        return minimum2;\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven","java-21","openjdk-21"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1697354551,"post_id":77295243,"comment_id":136267517,"body_markdown":"Can you show the output of `mvn help:effective-pom`?","body":"Can you show the output of <code>mvn help:effective-pom</code>?"},{"owner":{"account_id":24275549,"reputation":21,"user_id":18222899,"display_name":"liang li"},"score":0,"creation_date":1697357854,"post_id":77295243,"comment_id":136267749,"body_markdown":"The console is outputting a lot of information. What specific information would you like me to filter?","body":"The console is outputting a lot of information. What specific information would you like me to filter?"},{"owner":{"account_id":24275549,"reputation":21,"user_id":18222899,"display_name":"liang li"},"score":0,"creation_date":1697358181,"post_id":77295243,"comment_id":136267773,"body_markdown":"I&#39;ve recorded this information in a file. You can download and review it ; link is http://alist.duckflew.cn/d/%E5%8F%88%E6%8B%8D%E4%BA%91%E6%96%87%E4%BB%B6%E6%A1%B6/fullpom.txt","body":"I&#39;ve recorded this information in a file. You can download and review it ; link is <a href=\"http://alist.duckflew.cn/d/%E5%8F%88%E6%8B%8D%E4%BA%91%E6%96%87%E4%BB%B6%E6%A1%B6/fullpom.txt\" rel=\"nofollow noreferrer\">alist.duckflew.cn/d/&hellip;</a>"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1697360067,"post_id":77295243,"comment_id":136267957,"body_markdown":"Can you try setting `&lt;java.version&gt;21&lt;/java.version&gt;` in your `&lt;properties&gt;`?","body":"Can you try setting <code>&lt;java.version&gt;21&lt;&#47;java.version&gt;</code> in your <code>&lt;properties&gt;</code>?"},{"owner":{"account_id":24275549,"reputation":21,"user_id":18222899,"display_name":"liang li"},"score":0,"creation_date":1697361831,"post_id":77295243,"comment_id":136268153,"body_markdown":"when I set this property, it works, thx!","body":"when I set this property, it works, thx!"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1697368333,"post_id":77295243,"comment_id":136268764,"body_markdown":"The profiles you have configured and the source/target configurations please remove them.. only use as suggested `java.version` (based on Spring Boot)...","body":"The profiles you have configured and the source/target configurations please remove them.. only use as suggested <code>java.version</code> (based on Spring Boot)..."},{"owner":{"account_id":24275549,"reputation":21,"user_id":18222899,"display_name":"liang li"},"score":0,"creation_date":1697419696,"post_id":77295243,"comment_id":136273521,"body_markdown":"Does this mean I don&#39;t need to specify configurations like &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt; in my Maven configuration file and only need &lt;java.version&gt;21&lt;/java.version&gt; in the project&#39;s pom.xml?","body":"Does this mean I don&#39;t need to specify configurations like &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt; in my Maven configuration file and only need &lt;java.version&gt;21&lt;/java.version&gt; in the project&#39;s pom.xml?"}],"answers":[{"tags":[],"owner":{"account_id":29679034,"reputation":1,"user_id":22746169,"display_name":"Daniel F&#246;rberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697407759,"creation_date":1697407759,"answer_id":77298634,"question_id":77295243,"body_markdown":"This works for me:\r\nAdd this to your pom file\r\n\r\n    &lt;properties&gt;\r\n      &lt;java.version&gt;21&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n","title":"Under JDK 21, Maven compilation results in an error","body":"<p>This works for me:\nAdd this to your pom file</p>\n<pre><code>&lt;properties&gt;\n  &lt;java.version&gt;21&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n"}],"owner":{"account_id":24275549,"reputation":21,"user_id":18222899,"display_name":"liang li"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3290,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697407759,"creation_date":1697341484,"question_id":77295243,"body_markdown":"When I execute `mvn install -DskipTests` Maven gives me an error related to virtual threads\r\n```html\r\n[ERROR] /E:/mycode/javaproject/rms/rms-parse/src/main/java/com/example/config/AsyncConfig.java:[19,49] 鎵句笉鍒扮鍙\r\n[ERROR]   绗﹀彿:   鏂规硶 newVirtualThreadPerTaskExecutor()\r\n[ERROR]   浣嶇疆: 绫?java.util.concurrent.Executorss\r\n[ERROR] /E:/mycode/javaproject/rms/rms-parse/src/main/java/com/example/config/AsyncConfig.java:[25,50] 鎵句笉鍒扮鍙\r\n[ERROR]   绗﹀彿:   鏂规硶 newVirtualThreadPerTaskExecutor()\r\n[ERROR]   浣嶇疆: 绫?java.util.concurrent.Executorss\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n[ERROR]\r\n[ERROR] After correcting the problems, you can resume the build with the command\r\n[ERROR]   mvn &lt;args&gt; -rf :rms-parse\r\n```\r\nHere is my main tools version:\r\nMaven version: 3.9.5\r\nJDK: 21\r\nProject Stucture: \r\n```\r\nrms\r\n  - rms-common\r\n  - rms-parse\r\n  - rms-admin\r\n  - &lt;some other sub-module&gt;\r\n  - pom.xml\r\n```\r\nrms&#39;s  pom.xml is(I have already omitted the configuration related to dependencies.):\r\n```xml\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.1&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;rms&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0&lt;/version&gt;\r\n  &lt;packaging&gt;pom&lt;/packaging&gt;\r\n  &lt;modules&gt;\r\n    &lt;module&gt;rms-parse&lt;/module&gt;\r\n    &lt;module&gt;rms-mapper&lt;/module&gt;\r\n    &lt;module&gt;rms-service&lt;/module&gt;\r\n    &lt;module&gt;rms-common&lt;/module&gt;\r\n    &lt;module&gt;rms-admin&lt;/module&gt;\r\n    &lt;module&gt;rms-model&lt;/module&gt;\r\n  &lt;/modules&gt;\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\r\n      &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;com.github.shalousun&lt;/groupId&gt;\r\n          &lt;artifactId&gt;smart-doc-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.7.7&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;!--指定生成文档的使用的配置文件--&gt;\r\n            &lt;configFile&gt;${basedir}/src/main/resources/smart-doc.json&lt;/configFile&gt;\r\n            &lt;!--指定项目名称--&gt;\r\n            &lt;projectName&gt;rms&lt;/projectName&gt;\r\n          &lt;/configuration&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;phase&gt;compile&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;html&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.11.0&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;source&gt;21&lt;/source&gt;\r\n            &lt;target&gt;21&lt;/target&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nThe following is the code I&#39;m using virtual threads in my project, and it&#39;s not compiling correctly.\r\n```java\r\n@Configuration\r\n@Slf4j\r\npublic class AsyncConfig {\r\n\r\n    @Bean\r\n    public AsyncTaskExecutor asyncTaskExecutor() {\r\n        return new TaskExecutorAdapter(Executors.newVirtualThreadPerTaskExecutor());\r\n    }\r\n\r\n    @Bean\r\n    public TomcatProtocolHandlerCustomizer&lt;?&gt; protocolHandlerVirtualThreadExecutorCustomizer() {\r\n        return protocolHandler -&gt; {\r\n            protocolHandler.setExecutor(Executors.newVirtualThreadPerTaskExecutor());\r\n        };\r\n\r\n    }\r\n}\r\n```\r\nThe following is the settings of maven about jdk setting, This file exists in two locations, one in ~/.m2, and the other in the conf directory of the Maven installation. I&#39;ve configured both locations with the same settings.\r\n```xml\r\n  &lt;profiles&gt;\r\n    &lt;profile&gt;    \r\n      &lt;id&gt;jdk-21&lt;/id&gt;    \r\n      &lt;activation&gt;    \r\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;    \r\n        &lt;jdk&gt;21&lt;/jdk&gt;    \r\n      &lt;/activation&gt;    \r\n      &lt;properties&gt;    \r\n        &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;    \r\n        &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;    \r\n        &lt;maven.compiler.compilerVersion&gt;21&lt;/maven.compiler.compilerVersion&gt;    \r\n      &lt;/properties&gt;    \r\n  &lt;/profile&gt;\r\n  &lt;/profiles&gt;\r\n&lt;/settings&gt;\r\n```\r\nI expect Maven to compile my project successfully.\r\n\r\n","title":"Under JDK 21, Maven compilation results in an error","body":"<p>When I execute <code>mvn install -DskipTests</code> Maven gives me an error related to virtual threads</p>\n<pre class=\"lang-html prettyprint-override\"><code>[ERROR] /E:/mycode/javaproject/rms/rms-parse/src/main/java/com/example/config/AsyncConfig.java:[19,49] 鎵句笉鍒扮鍙\n[ERROR]   绗﹀彿:   鏂规硶 newVirtualThreadPerTaskExecutor()\n[ERROR]   浣嶇疆: 绫?java.util.concurrent.Executorss\n[ERROR] /E:/mycode/javaproject/rms/rms-parse/src/main/java/com/example/config/AsyncConfig.java:[25,50] 鎵句笉鍒扮鍙\n[ERROR]   绗﹀彿:   鏂规硶 newVirtualThreadPerTaskExecutor()\n[ERROR]   浣嶇疆: 绫?java.util.concurrent.Executorss\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n[ERROR]\n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;args&gt; -rf :rms-parse\n</code></pre>\n<p>Here is my main tools version:\nMaven version: 3.9.5\nJDK: 21\nProject Stucture:</p>\n<pre><code>rms\n  - rms-common\n  - rms-parse\n  - rms-admin\n  - &lt;some other sub-module&gt;\n  - pom.xml\n</code></pre>\n<p>rms's  pom.xml is(I have already omitted the configuration related to dependencies.):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;rms&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n  &lt;modules&gt;\n    &lt;module&gt;rms-parse&lt;/module&gt;\n    &lt;module&gt;rms-mapper&lt;/module&gt;\n    &lt;module&gt;rms-service&lt;/module&gt;\n    &lt;module&gt;rms-common&lt;/module&gt;\n    &lt;module&gt;rms-admin&lt;/module&gt;\n    &lt;module&gt;rms-model&lt;/module&gt;\n  &lt;/modules&gt;\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n      &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\n      &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;com.github.shalousun&lt;/groupId&gt;\n          &lt;artifactId&gt;smart-doc-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.7.7&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;!--指定生成文档的使用的配置文件--&gt;\n            &lt;configFile&gt;${basedir}/src/main/resources/smart-doc.json&lt;/configFile&gt;\n            &lt;!--指定项目名称--&gt;\n            &lt;projectName&gt;rms&lt;/projectName&gt;\n          &lt;/configuration&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;phase&gt;compile&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;html&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.11.0&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;source&gt;21&lt;/source&gt;\n            &lt;target&gt;21&lt;/target&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The following is the code I'm using virtual threads in my project, and it's not compiling correctly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@Slf4j\npublic class AsyncConfig {\n\n    @Bean\n    public AsyncTaskExecutor asyncTaskExecutor() {\n        return new TaskExecutorAdapter(Executors.newVirtualThreadPerTaskExecutor());\n    }\n\n    @Bean\n    public TomcatProtocolHandlerCustomizer&lt;?&gt; protocolHandlerVirtualThreadExecutorCustomizer() {\n        return protocolHandler -&gt; {\n            protocolHandler.setExecutor(Executors.newVirtualThreadPerTaskExecutor());\n        };\n\n    }\n}\n</code></pre>\n<p>The following is the settings of maven about jdk setting, This file exists in two locations, one in ~/.m2, and the other in the conf directory of the Maven installation. I've configured both locations with the same settings.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;profiles&gt;\n    &lt;profile&gt;    \n      &lt;id&gt;jdk-21&lt;/id&gt;    \n      &lt;activation&gt;    \n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;    \n        &lt;jdk&gt;21&lt;/jdk&gt;    \n      &lt;/activation&gt;    \n      &lt;properties&gt;    \n        &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;    \n        &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;    \n        &lt;maven.compiler.compilerVersion&gt;21&lt;/maven.compiler.compilerVersion&gt;    \n      &lt;/properties&gt;    \n  &lt;/profile&gt;\n  &lt;/profiles&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>I expect Maven to compile my project successfully.</p>\n"},{"tags":["java","android","unit-testing","powermockito","spy"],"answers":[{"tags":[],"owner":{"account_id":3182785,"reputation":123,"user_id":2689160,"display_name":"blu3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487323174,"creation_date":1487323174,"answer_id":42293956,"question_id":42291978,"body_markdown":"Your logic in the given code is to do nothing when you&#39;re passing mActivity object: `PowerMockito.doNothing().when(spy).cleanAllMessages(mActivity);`\r\n\r\nBut what you&#39;re actually passing is null:\r\n`mNavBuilder.addNextScreenBasedOnBookingStatus(null);`\r\n\r\nAlso, you have to pass this &quot;spy&quot; object in the test class to make your mock logic work. May be you can try something like this -\r\n\r\n    PowerMockito.whenNew(ChatMsgDbAsyncHelper.class).withNoArguments().thenReturn(spy);\r\n    PowerMockito.doNothing().when(spy).cleanAllMessages(mActivity); // or null, as per your requirement\r\n\r\nand then pass your mActivity object to the method:\r\n\r\n    mNavBuilder.addNextScreenBasedOnBookingStatus(mActivity); // or pass null, as per your requirement","title":"How to mock a void method with PowerMockito?","body":"<p>Your logic in the given code is to do nothing when you're passing mActivity object: <code>PowerMockito.doNothing().when(spy).cleanAllMessages(mActivity);</code></p>\n\n<p>But what you're actually passing is null:\n<code>mNavBuilder.addNextScreenBasedOnBookingStatus(null);</code></p>\n\n<p>Also, you have to pass this \"spy\" object in the test class to make your mock logic work. May be you can try something like this -</p>\n\n<pre><code>PowerMockito.whenNew(ChatMsgDbAsyncHelper.class).withNoArguments().thenReturn(spy);\nPowerMockito.doNothing().when(spy).cleanAllMessages(mActivity); // or null, as per your requirement\n</code></pre>\n\n<p>and then pass your mActivity object to the method:</p>\n\n<pre><code>mNavBuilder.addNextScreenBasedOnBookingStatus(mActivity); // or pass null, as per your requirement\n</code></pre>\n"},{"tags":[],"owner":{"account_id":242113,"reputation":52552,"user_id":513413,"accept_rate":74,"display_name":"Hesam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487357947,"creation_date":1487357947,"answer_id":42305499,"question_id":42291978,"body_markdown":"The problem was my understanding :) \r\n\r\nI changed signature of the method under test with following and could test it. So in this case I am passing instance of `ChatMsgDbAsyncHelper` to the method rather than create it within method.\r\n\r\n    @VisibleForTesting\r\n        void addNextScreenBasedOnBookingStatus(final Booking booking, final ChatMsgDbAsyncHelper chatMsgHelper) {\r\n    ...\r\n    }\r\n\r\nand test works fine now:\r\n\r\n    @Test\r\n    public void addNextScreenBasedOnBookingStatus_whenBookingIsNull() throws Exception {\r\n        ChatMsgDbAsyncHelper mChatMsgHelper = PowerMockito.spy(new ChatMsgDbAsyncHelper());\r\n        doNothing().when(mChatMsgHelper).cleanAllMessages(any(Context.class));\r\n    \r\n        mNavBuilder.addNextScreenBasedOnBookingStatus(null, mChatMsgHelper);\r\n    \r\n        assertTrue(mNavBuilder.mIntentList.isEmpty());\r\n    }","title":"How to mock a void method with PowerMockito?","body":"<p>The problem was my understanding :) </p>\n\n<p>I changed signature of the method under test with following and could test it. So in this case I am passing instance of <code>ChatMsgDbAsyncHelper</code> to the method rather than create it within method.</p>\n\n<pre><code>@VisibleForTesting\n    void addNextScreenBasedOnBookingStatus(final Booking booking, final ChatMsgDbAsyncHelper chatMsgHelper) {\n...\n}\n</code></pre>\n\n<p>and test works fine now:</p>\n\n<pre><code>@Test\npublic void addNextScreenBasedOnBookingStatus_whenBookingIsNull() throws Exception {\n    ChatMsgDbAsyncHelper mChatMsgHelper = PowerMockito.spy(new ChatMsgDbAsyncHelper());\n    doNothing().when(mChatMsgHelper).cleanAllMessages(any(Context.class));\n\n    mNavBuilder.addNextScreenBasedOnBookingStatus(null, mChatMsgHelper);\n\n    assertTrue(mNavBuilder.mIntentList.isEmpty());\n}\n</code></pre>\n"}],"owner":{"account_id":242113,"reputation":52552,"user_id":513413,"accept_rate":74,"display_name":"Hesam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12236,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1697407585,"creation_date":1487316754,"question_id":42291978,"body_markdown":"This is a duplicate of [this question](https://stackoverflow.com/questions/2276271/how-to-make-mock-to-void-methods-with-mockito). There are bunch of similar questions/answers as well but none helped me. As there are hundreds of developers accepted some answers I am probably wrong somewhere and have no idea where is my problem!\r\n\r\nThis is my sample class and I want to test its method. \r\n\r\n    final class NavigationBuilder {\r\n\r\n        @VisibleForTesting List&lt;Intent&gt; mIntentList = new ArrayList&lt;&gt;(5);\r\n    \r\n        @VisibleForTesting\r\n        void addNextScreenBasedOnBookingStatus(final Booking booking) {\r\n            final ChatMsgDbAsyncHelper helper = new ChatMsgDbAsyncHelper();\r\n    \r\n            if (booking == null) {\r\n                helper.cleanAllMessages(mContext); // &lt;= Crash here\r\n            } \r\n    \r\n        }\r\n    }\r\n\r\nThis is my test class:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({ChatMsgDbAsyncHelper.class, SplashActivity.class})\r\n    public class NavigationBuilderTest {\r\n    \r\n        private SplashActivity mActivity;\r\n        private NavigationBuilder mNavBuilder;\r\n    \r\n        @Before\r\n        public void setUp() throws Exception {\r\n    \r\n            mActivity = new SplashActivity();\r\n            ISplashView view = mock(ISplashView.class);\r\n            PassengerStorage passengerStorage = mock(PassengerStorage.class);\r\n    \r\n            mNavBuilder = new NavigationBuilder(mActivity, view, passengerStorage);\r\n        }\r\n    \r\n        @Test\r\n        public void addNextScreenBasedOnBookingStatus_whenBookingIsNull() throws Exception {\r\n            ChatMsgDbAsyncHelper spy = PowerMockito.spy(new ChatMsgDbAsyncHelper());\r\n            PowerMockito.doNothing().when(spy).cleanAllMessages(mActivity);\r\n    \r\n            mNavBuilder.addNextScreenBasedOnBookingStatus(null);\r\n    \r\n            assertTrue(mNavBuilder.mIntentList.isEmpty());\r\n        }\r\n    }\r\n\r\nTest fails and the reason is `NullPointerException` because test is running logic inside of `helper.cleanAllMessages(mContext);`. My expectation from above mock is those logic should not be performed.\r\n\r\n&gt; Caused by: java.lang.NullPointerException \tat\r\n&gt; com.xxx.xxx.db.entities.ChatMessageTable.&lt;clinit&gt;(ChatMessageTable.java:23)\r\n","title":"How to mock a void method with PowerMockito?","body":"<p>This is a duplicate of <a href=\"https://stackoverflow.com/questions/2276271/how-to-make-mock-to-void-methods-with-mockito\">this question</a>. There are bunch of similar questions/answers as well but none helped me. As there are hundreds of developers accepted some answers I am probably wrong somewhere and have no idea where is my problem!</p>\n\n<p>This is my sample class and I want to test its method. </p>\n\n<pre><code>final class NavigationBuilder {\n\n    @VisibleForTesting List&lt;Intent&gt; mIntentList = new ArrayList&lt;&gt;(5);\n\n    @VisibleForTesting\n    void addNextScreenBasedOnBookingStatus(final Booking booking) {\n        final ChatMsgDbAsyncHelper helper = new ChatMsgDbAsyncHelper();\n\n        if (booking == null) {\n            helper.cleanAllMessages(mContext); // &lt;= Crash here\n        } \n\n    }\n}\n</code></pre>\n\n<p>This is my test class:</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({ChatMsgDbAsyncHelper.class, SplashActivity.class})\npublic class NavigationBuilderTest {\n\n    private SplashActivity mActivity;\n    private NavigationBuilder mNavBuilder;\n\n    @Before\n    public void setUp() throws Exception {\n\n        mActivity = new SplashActivity();\n        ISplashView view = mock(ISplashView.class);\n        PassengerStorage passengerStorage = mock(PassengerStorage.class);\n\n        mNavBuilder = new NavigationBuilder(mActivity, view, passengerStorage);\n    }\n\n    @Test\n    public void addNextScreenBasedOnBookingStatus_whenBookingIsNull() throws Exception {\n        ChatMsgDbAsyncHelper spy = PowerMockito.spy(new ChatMsgDbAsyncHelper());\n        PowerMockito.doNothing().when(spy).cleanAllMessages(mActivity);\n\n        mNavBuilder.addNextScreenBasedOnBookingStatus(null);\n\n        assertTrue(mNavBuilder.mIntentList.isEmpty());\n    }\n}\n</code></pre>\n\n<p>Test fails and the reason is <code>NullPointerException</code> because test is running logic inside of <code>helper.cleanAllMessages(mContext);</code>. My expectation from above mock is those logic should not be performed.</p>\n\n<blockquote>\n  <p>Caused by: java.lang.NullPointerException     at\n  com.xxx.xxx.db.entities.ChatMessageTable.(ChatMessageTable.java:23)</p>\n</blockquote>\n"},{"tags":["java","bytecode"],"answers":[{"tags":[],"owner":{"account_id":136152,"reputation":1511,"user_id":339471,"accept_rate":100,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697404046,"creation_date":1281639260,"answer_id":3470987,"question_id":3470949,"body_markdown":"First Google search gives an interesting read [Java Programming: Bytecode Injection][1]\r\n\r\n\r\n  [1]: https://web.archive.org/web/20100716150350/http://www.pabrantes.net/blog/space/start/2008-03-24/1 &quot;Java Programming: Bytecode Injection&quot;","title":"What is Java bytecode injection?","body":"<p>First Google search gives an interesting read <a href=\"https://web.archive.org/web/20100716150350/http://www.pabrantes.net/blog/space/start/2008-03-24/1\" rel=\"nofollow noreferrer\" title=\"Java Programming: Bytecode Injection\">Java Programming: Bytecode Injection</a></p>\n"},{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1281646110,"creation_date":1281639274,"answer_id":3470991,"question_id":3470949,"body_markdown":"Java code compiles into bytecode (`Foo.java -&gt;&gt; Foo.class`).  Bytecode injection is modifying `Foo.class`at runtime to inject code into it right before its loaded and run.\r\n\r\nImagine a scenario where I want to find out how many times method\r\n\r\n    public void bar();\r\n\r\nis invoked in `Foo.class`.  I could write an agent using `java.lang.instrument` that intercepts `Foo.class` during class load, modifies it using [ASM][1] so that `bar()` calls `com.amir.agent.incrementCount()` on method entry.\r\n\r\nNow I can run my program:\r\n\r\n    $java -javagent:MyAgent Foo  //assuming Foo has a main() defined\r\n\r\nand at runtime, `Foo.class` will not only do its normal work, it will also do work I defined in `MyAgent` each time `bar()` is invoked.\r\n\r\nFor a pointer on writing an agent from scratch, start [here][3].\r\n\r\n\r\n  [1]: http://asm.ow2.org/\r\n  [2]: http://asm.ow2.org/\r\n  [3]: http://www.javalobby.org/java/forums/t19309.html","title":"What is Java bytecode injection?","body":"<p>Java code compiles into bytecode (<code>Foo.java -&gt;&gt; Foo.class</code>).  Bytecode injection is modifying <code>Foo.class</code>at runtime to inject code into it right before its loaded and run.</p>\n\n<p>Imagine a scenario where I want to find out how many times method</p>\n\n<pre><code>public void bar();\n</code></pre>\n\n<p>is invoked in <code>Foo.class</code>.  I could write an agent using <code>java.lang.instrument</code> that intercepts <code>Foo.class</code> during class load, modifies it using <a href=\"http://asm.ow2.org/\" rel=\"noreferrer\">ASM</a> so that <code>bar()</code> calls <code>com.amir.agent.incrementCount()</code> on method entry.</p>\n\n<p>Now I can run my program:</p>\n\n<pre><code>$java -javagent:MyAgent Foo  //assuming Foo has a main() defined\n</code></pre>\n\n<p>and at runtime, <code>Foo.class</code> will not only do its normal work, it will also do work I defined in <code>MyAgent</code> each time <code>bar()</code> is invoked.</p>\n\n<p>For a pointer on writing an agent from scratch, start <a href=\"http://www.javalobby.org/java/forums/t19309.html\" rel=\"noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":19971,"reputation":55479,"user_id":47281,"accept_rate":83,"display_name":"Marcus Leon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15695,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":3470991,"answer_count":2,"score":25,"last_activity_date":1697404046,"creation_date":1281638973,"question_id":3470949,"body_markdown":"What exactly is Java bytecode injection and why would one use it?  ","title":"What is Java bytecode injection?","body":"<p>What exactly is Java bytecode injection and why would one use it?  </p>\n"},{"tags":["java","spring-boot","spring-batch","hikaricp"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":1,"creation_date":1697404266,"post_id":77298425,"comment_id":136272466,"body_markdown":"It&#39;s a hard networking error. That app is not reaching the database host at that port so a &quot;regular&quot; troubleshooting applies: DNS resolution, ping, telnet to that db port (or netcat), etc.","body":"It&#39;s a hard networking error. That app is not reaching the database host at that port so a &quot;regular&quot; troubleshooting applies: DNS resolution, ping, telnet to that db port (or netcat), etc."}],"owner":{"account_id":29678663,"reputation":1,"user_id":22745909,"display_name":"ankit6148"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697403934,"creation_date":1697402803,"question_id":77298425,"body_markdown":"---\r\nHi everyone, have a spring batch application trying to run a batch job but getting the error:-\r\n\r\njava.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.\r\n\r\nmy hikari configuration:-\r\n\r\n\r\n```\r\nspring.datasource.hikari.maximumPoolSize=40\r\n    spring.datasource.hikari.connectionTimeout=30000\r\n    spring.datasource.hikari.idleTimeout=120000\r\n    spring.datasource.hikari.maxLifetime=1800000\r\n    spring.datasource.driver-class-name=oracle.jdbc.OracleDriver\r\n```\r\n\r\nmy batch job config:-\r\n\r\n\r\n```\r\n @Bean\r\n    public TaskExecutor taskExecutor() {\r\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n        taskExecutor.setCorePoolSize(25); // Set the number of threads to be used for parallel processing\r\n        taskExecutor.setMaxPoolSize(25); // Set the maximum number of threads\r\n        taskExecutor.setThreadNamePrefix(&quot;privacyUpdateMigrationBatch-thread-&quot;);\r\n        taskExecutor.initialize();\r\n        return taskExecutor;\r\n    }\r\n\r\n@Bean\r\n    public Step privacyUpdateMigrationJobStep() {\r\n        return stepBuilderFactory.get(&quot;PrivacyUpdateMigrationJob&quot;)\r\n                .&lt;PrivateRegEmailAliasData, PrivateRegEmailAliasData&gt;chunk(1000)\r\n                .reader(privacyUpdateMigrationJobReader)\r\n                .writer(privacyUpdateMigrationJobWriter)\r\n                .taskExecutor(taskExecutor())\r\n                .throttleLimit(25)\r\n                .build();\r\n    }\r\n\r\n@Bean(name = &quot;dataSourceEdb&quot;)\r\n\t@ConfigurationProperties(prefix = &quot;batch.datasource&quot;)\r\n\tpublic HikariDataSource dataSourceEdb() {\r\n\t\treturn DataSourceBuilder.create().type(HikariDataSource.class).driverClassName(&quot;oracle.jdbc.OracleDriver&quot;).build();\r\n\t}\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nerror:-\r\n\r\n\r\n\r\n\r\n```\r\norg.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:83) ~[spring-jdbc-5.3.15.jar!/:5.3.15]\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:330) ~[spring-jdbc-5.3.15.jar!/:5.3.15]\r\n\tat org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.getProduct(DataSourceHealthIndicator.java:122) ~[spring-boot-actuator-2.6.3.jar!/:2.6.3]\r\n\tat org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doDataSourceHealthCheck(DataSourceHealthIndicator.java:105) ~[spring-boot-actuator-2.6.3.jar!/:2.6.3]\r\n\tat org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doHealthCheck(DataSourceHealthIndicator.java:100) ~[spring-boot-actuator-2.6.3.jar!/:2.6.3]\r\n\tat org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\r\n\tat org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:87) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:45) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:130) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:141) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:126) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:141) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:126) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:95) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:66) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:73) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\r\n\tat org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:62) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor50.invoke(Unknown Source) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Unknown Source) ~[?:?]\r\n\tat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282) [spring-core-5.3.15.jar!/:5.3.15]\r\n\tat org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\r\n\tat org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\r\n\tat org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$ServletWebOperationAdapter.handle(AbstractWebMvcEndpointHandlerMapping.java:336) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\r\n\tat org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(AbstractWebMvcEndpointHandlerMapping.java:421) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor58.invoke(Unknown Source) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Unknown Source) ~[?:?]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-5.3.15.jar!/:5.3.15]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) [spring-web-5.3.15.jar!/:5.3.15]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) [spring-webmvc-5.3.15.jar!/:5.3.15]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) [spring-webmvc-5.3.15.jar!/:5.3.15]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) [spring-webmvc-5.3.15.jar!/:5.3.15]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) [spring-webmvc-5.3.15.jar!/:5.3.15]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) [spring-webmvc-5.3.15.jar!/:5.3.15]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) [spring-webmvc-5.3.15.jar!/:5.3.15]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.3.15.jar!/:5.3.15]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.3.15.jar!/:5.3.15]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) [tomcat-embed-core-9.0.56.jar!/:9.1]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.3.15.jar!/:5.3.15]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) [tomcat-embed-core-9.0.56.jar!/:9.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.56.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.15.jar!/:5.3.15]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar!/:5.3.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.15.jar!/:5.3.15]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar!/:5.3.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar!/:5.3.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.15.jar!/:5.3.15]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar!/:5.3.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:769) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar!/:?]\r\n\tat java.lang.Thread.run(Unknown Source) [?:?]\r\nCaused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.\r\n\tat com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696) ~[HikariCP-4.0.3.jar!/:?]\r\n\tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197) ~[HikariCP-4.0.3.jar!/:?]\r\n\tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162) ~[HikariCP-4.0.3.jar!/:?]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128) ~[HikariCP-4.0.3.jar!/:?]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-5.3.15.jar!/:5.3.15]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-5.3.15.jar!/:5.3.15]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-5.3.15.jar!/:5.3.15]\r\n```\r\n\r\n\r\n\r\n\r\nI have tried to decrease throttleLimit but its only working below then 9. also tried to increase the connectionTimeout but that also not works\r\n\r\nCan anyone help me to resolve this issue. Thanks","title":"java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms","body":"<hr />\n<p>Hi everyone, have a spring batch application trying to run a batch job but getting the error:-</p>\n<p>java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.</p>\n<p>my hikari configuration:-</p>\n<pre><code>spring.datasource.hikari.maximumPoolSize=40\n    spring.datasource.hikari.connectionTimeout=30000\n    spring.datasource.hikari.idleTimeout=120000\n    spring.datasource.hikari.maxLifetime=1800000\n    spring.datasource.driver-class-name=oracle.jdbc.OracleDriver\n</code></pre>\n<p>my batch job config:-</p>\n<pre><code> @Bean\n    public TaskExecutor taskExecutor() {\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n        taskExecutor.setCorePoolSize(25); // Set the number of threads to be used for parallel processing\n        taskExecutor.setMaxPoolSize(25); // Set the maximum number of threads\n        taskExecutor.setThreadNamePrefix(&quot;privacyUpdateMigrationBatch-thread-&quot;);\n        taskExecutor.initialize();\n        return taskExecutor;\n    }\n\n@Bean\n    public Step privacyUpdateMigrationJobStep() {\n        return stepBuilderFactory.get(&quot;PrivacyUpdateMigrationJob&quot;)\n                .&lt;PrivateRegEmailAliasData, PrivateRegEmailAliasData&gt;chunk(1000)\n                .reader(privacyUpdateMigrationJobReader)\n                .writer(privacyUpdateMigrationJobWriter)\n                .taskExecutor(taskExecutor())\n                .throttleLimit(25)\n                .build();\n    }\n\n@Bean(name = &quot;dataSourceEdb&quot;)\n    @ConfigurationProperties(prefix = &quot;batch.datasource&quot;)\n    public HikariDataSource dataSourceEdb() {\n        return DataSourceBuilder.create().type(HikariDataSource.class).driverClassName(&quot;oracle.jdbc.OracleDriver&quot;).build();\n    }\n\n\n</code></pre>\n<p>error:-</p>\n<pre><code>org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:83) ~[spring-jdbc-5.3.15.jar!/:5.3.15]\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:330) ~[spring-jdbc-5.3.15.jar!/:5.3.15]\n    at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.getProduct(DataSourceHealthIndicator.java:122) ~[spring-boot-actuator-2.6.3.jar!/:2.6.3]\n    at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doDataSourceHealthCheck(DataSourceHealthIndicator.java:105) ~[spring-boot-actuator-2.6.3.jar!/:2.6.3]\n    at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doHealthCheck(DataSourceHealthIndicator.java:100) ~[spring-boot-actuator-2.6.3.jar!/:2.6.3]\n    at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\n    at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\n    at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:87) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\n    at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:45) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:130) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:141) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:126) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:141) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:126) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:95) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:66) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\n    at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:73) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\n    at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:62) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\n    at jdk.internal.reflect.GeneratedMethodAccessor50.invoke(Unknown Source) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[?:?]\n    at java.lang.reflect.Method.invoke(Unknown Source) ~[?:?]\n    at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282) [spring-core-5.3.15.jar!/:5.3.15]\n    at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\n    at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\n    at org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$ServletWebOperationAdapter.handle(AbstractWebMvcEndpointHandlerMapping.java:336) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\n    at org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(AbstractWebMvcEndpointHandlerMapping.java:421) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\n    at jdk.internal.reflect.GeneratedMethodAccessor58.invoke(Unknown Source) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[?:?]\n    at java.lang.reflect.Method.invoke(Unknown Source) ~[?:?]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-5.3.15.jar!/:5.3.15]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) [spring-web-5.3.15.jar!/:5.3.15]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) [spring-webmvc-5.3.15.jar!/:5.3.15]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) [spring-webmvc-5.3.15.jar!/:5.3.15]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) [spring-webmvc-5.3.15.jar!/:5.3.15]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) [spring-webmvc-5.3.15.jar!/:5.3.15]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) [spring-webmvc-5.3.15.jar!/:5.3.15]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) [spring-webmvc-5.3.15.jar!/:5.3.15]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.3.15.jar!/:5.3.15]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.3.15.jar!/:5.3.15]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) [tomcat-embed-core-9.0.56.jar!/:9.1]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.3.15.jar!/:5.3.15]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) [tomcat-embed-core-9.0.56.jar!/:9.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.56.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.15.jar!/:5.3.15]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar!/:5.3.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.15.jar!/:5.3.15]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar!/:5.3.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) [spring-boot-actuator-2.6.3.jar!/:2.6.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar!/:5.3.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.15.jar!/:5.3.15]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar!/:5.3.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:769) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar!/:?]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar!/:?]\n    at java.lang.Thread.run(Unknown Source) [?:?]\nCaused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.\n    at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696) ~[HikariCP-4.0.3.jar!/:?]\n    at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197) ~[HikariCP-4.0.3.jar!/:?]\n    at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162) ~[HikariCP-4.0.3.jar!/:?]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128) ~[HikariCP-4.0.3.jar!/:?]\n    at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-5.3.15.jar!/:5.3.15]\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-5.3.15.jar!/:5.3.15]\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-5.3.15.jar!/:5.3.15]\n</code></pre>\n<p>I have tried to decrease throttleLimit but its only working below then 9. also tried to increase the connectionTimeout but that also not works</p>\n<p>Can anyone help me to resolve this issue. Thanks</p>\n"},{"tags":["java","selenium-webdriver","testing"],"answers":[{"tags":[],"owner":{"account_id":29594110,"reputation":60,"user_id":22680961,"display_name":"Akshit Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697403250,"creation_date":1697403250,"answer_id":77298452,"question_id":77298147,"body_markdown":"The issue you are facing is likely due to the logic in the &quot;else if&quot; condition. When you are checking if the year is 2022 and the month is less than &quot;July,&quot; it doesn&#39;t account for December correctly.\r\nAdd another condition to handle this case.\r\n\r\n\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n\r\n    import java.time.Duration;\r\n\r\n    public class DatePicker {\r\n      public static void main(String[] args) {\r\n        WebDriver driver = new ChromeDriver();\r\n        WebDriverWait wait = new WebDriverWait(driver, \r\n        Duration.ofSeconds(5000));\r\n\r\n        driver.get(&quot;https://seleniumpractise.blogspot.com/2016/08/how-to-handle-calendar-in-selenium.html&quot;);\r\n\r\n        driver.findElement(By.id(&quot;datepicker&quot;)).click();\r\n\r\n        String desiredMonth = &quot;July&quot;;\r\n        String desiredYear = &quot;2022&quot;;\r\n\r\n        while (true) {\r\n            String year1 = driver.findElement(By.className(&quot;ui-datepicker-year&quot;)).getText();\r\n            String month1 = driver.findElement(By.className(&quot;ui-datepicker-month&quot;)).getText();\r\n\r\n            if (year1.equals(desiredYear) &amp;&amp; month1.equalsIgnoreCase(desiredMonth)) {\r\n                System.out.println(&quot;Desired date reached: the year is &quot; + year1 + &quot; and the month is &quot; + month1);\r\n                break;\r\n            } else if (year1.equals(desiredYear) &amp;&amp; month1.compareTo(desiredMonth) &lt; 0) {\r\n                driver.findElement(By.className(&quot;ui-icon-circle-triangle-e&quot;)).click();\r\n            } else if (year1.equals(desiredYear) &amp;&amp; month1.compareTo(desiredMonth) &gt; 0) {\r\n                driver.findElement(By.className(&quot;ui-icon-circle-triangle-w&quot;)).click();\r\n            } else {\r\n                // If year1 is not equal to desiredYear, go forward\r\n                driver.findElement(By.className(&quot;ui-icon-circle-triangle-e&quot;)).click();\r\n            }\r\n\r\n            // Wait for the changes to take effect\r\n            wait.until(ExpectedConditions.presenceOfElementLocated(By.className(&quot;ui-datepicker-year&quot;)));\r\n        }\r\n\r\n        driver.quit();\r\n     }\r\n    }\r\n","title":"How do i handle this calender Scenrio in the Selenium Date Picker","body":"<p>The issue you are facing is likely due to the logic in the &quot;else if&quot; condition. When you are checking if the year is 2022 and the month is less than &quot;July,&quot; it doesn't account for December correctly.\nAdd another condition to handle this case.</p>\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\nimport java.time.Duration;\n\npublic class DatePicker {\n  public static void main(String[] args) {\n    WebDriver driver = new ChromeDriver();\n    WebDriverWait wait = new WebDriverWait(driver, \n    Duration.ofSeconds(5000));\n\n    driver.get(&quot;https://seleniumpractise.blogspot.com/2016/08/how-to-handle-calendar-in-selenium.html&quot;);\n\n    driver.findElement(By.id(&quot;datepicker&quot;)).click();\n\n    String desiredMonth = &quot;July&quot;;\n    String desiredYear = &quot;2022&quot;;\n\n    while (true) {\n        String year1 = driver.findElement(By.className(&quot;ui-datepicker-year&quot;)).getText();\n        String month1 = driver.findElement(By.className(&quot;ui-datepicker-month&quot;)).getText();\n\n        if (year1.equals(desiredYear) &amp;&amp; month1.equalsIgnoreCase(desiredMonth)) {\n            System.out.println(&quot;Desired date reached: the year is &quot; + year1 + &quot; and the month is &quot; + month1);\n            break;\n        } else if (year1.equals(desiredYear) &amp;&amp; month1.compareTo(desiredMonth) &lt; 0) {\n            driver.findElement(By.className(&quot;ui-icon-circle-triangle-e&quot;)).click();\n        } else if (year1.equals(desiredYear) &amp;&amp; month1.compareTo(desiredMonth) &gt; 0) {\n            driver.findElement(By.className(&quot;ui-icon-circle-triangle-w&quot;)).click();\n        } else {\n            // If year1 is not equal to desiredYear, go forward\n            driver.findElement(By.className(&quot;ui-icon-circle-triangle-e&quot;)).click();\n        }\n\n        // Wait for the changes to take effect\n        wait.until(ExpectedConditions.presenceOfElementLocated(By.className(&quot;ui-datepicker-year&quot;)));\n    }\n\n    driver.quit();\n }\n}\n</code></pre>\n"}],"owner":{"account_id":25719615,"reputation":3,"user_id":19476772,"display_name":"Krishna Sriram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697403250,"creation_date":1697397277,"question_id":77298147,"body_markdown":"In this code i want to navigate to the year 2022 and select July and result that ouput in the console but the issue is that in the else if condition when checking \r\nwhen this particular condition is encounted where the year is 2022 and the month is december it is passing and it is navigating to next Button which is January 2023 so the loop keeps on running and i cannot get my desired result \r\n\r\n\r\n   \r\n\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    \r\n    import java.time.Duration;\r\n    \r\n    public class DatePicker {\r\n        public static void main(String[] args) {\r\n            WebDriver driver = new ChromeDriver();\r\n            WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(5000));\r\n    \r\n            driver.get(&quot;https://seleniumpractise.blogspot.com/2016/08/how-to-handle-calendar-in-selenium.html&quot;);\r\n    \r\n            driver.findElement(By.id(&quot;datepicker&quot;)).click();\r\n    \r\n            String desiredMonth = &quot;July&quot;;\r\n            String desiredYear = &quot;2022&quot;;\r\n    \r\n            while (true) {\r\n                String year1 = driver.findElement(By.className(&quot;ui-datepicker-year&quot;)).getText();\r\n                String month1 = driver.findElement(By.className(&quot;ui-datepicker-month&quot;)).getText();\r\n    \r\n                if (year1.equals(desiredYear) &amp;&amp; month1.equalsIgnoreCase(desiredMonth)) {\r\n                    System.out.println(&quot;Desired date reached: the year is &quot; + year1 + &quot; and the month is &quot; + month1);\r\n                    break;\r\n                } else if (year1.equals(desiredYear) &amp;&amp; month1.compareTo(desiredMonth) &lt; 0) {\r\n                    driver.findElement(By.className(&quot;ui-icon-circle-triangle-e&quot;)).click();\r\n                } else {\r\n                    driver.findElement(By.className(&quot;ui-icon-circle-triangle-w&quot;)).click();\r\n                }\r\n    \r\n                // Wait for the changes to take effect\r\n                wait.until(ExpectedConditions.presenceOfElementLocated(By.className(&quot;ui-datepicker-year&quot;)));\r\n            }\r\n    \r\n            driver.quit();\r\n        }\r\n    }\r\n\r\n        \r\n\r\n\r\n        \r\n","title":"How do i handle this calender Scenrio in the Selenium Date Picker","body":"<p>In this code i want to navigate to the year 2022 and select July and result that ouput in the console but the issue is that in the else if condition when checking\nwhen this particular condition is encounted where the year is 2022 and the month is december it is passing and it is navigating to next Button which is January 2023 so the loop keeps on running and i cannot get my desired result</p>\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\nimport java.time.Duration;\n\npublic class DatePicker {\n    public static void main(String[] args) {\n        WebDriver driver = new ChromeDriver();\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(5000));\n\n        driver.get(&quot;https://seleniumpractise.blogspot.com/2016/08/how-to-handle-calendar-in-selenium.html&quot;);\n\n        driver.findElement(By.id(&quot;datepicker&quot;)).click();\n\n        String desiredMonth = &quot;July&quot;;\n        String desiredYear = &quot;2022&quot;;\n\n        while (true) {\n            String year1 = driver.findElement(By.className(&quot;ui-datepicker-year&quot;)).getText();\n            String month1 = driver.findElement(By.className(&quot;ui-datepicker-month&quot;)).getText();\n\n            if (year1.equals(desiredYear) &amp;&amp; month1.equalsIgnoreCase(desiredMonth)) {\n                System.out.println(&quot;Desired date reached: the year is &quot; + year1 + &quot; and the month is &quot; + month1);\n                break;\n            } else if (year1.equals(desiredYear) &amp;&amp; month1.compareTo(desiredMonth) &lt; 0) {\n                driver.findElement(By.className(&quot;ui-icon-circle-triangle-e&quot;)).click();\n            } else {\n                driver.findElement(By.className(&quot;ui-icon-circle-triangle-w&quot;)).click();\n            }\n\n            // Wait for the changes to take effect\n            wait.until(ExpectedConditions.presenceOfElementLocated(By.className(&quot;ui-datepicker-year&quot;)));\n        }\n\n        driver.quit();\n    }\n}\n\n    \n\n\n    \n</code></pre>\n"},{"tags":["java","tic-tac-toe"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1697393248,"post_id":77297868,"comment_id":136271457,"body_markdown":"check the `playerMove` method, best with a debugger, mainly when when will `X` be placed (or not). Hints 1: what happens when executing `break;`? 2: not really related to `isGameFinished()`, unless you changed the braces (`{}`) when adding that method","body":"check the <code>playerMove</code> method, best with a debugger, mainly when when will <code>X</code> be placed (or not). Hints 1: what happens when executing <code>break;</code>? 2: not really related to <code>isGameFinished()</code>, unless you changed the braces (<code>{}</code>) when adding that method"},{"owner":{"account_id":25292586,"reputation":11,"user_id":19118356,"display_name":"Puddy Dub"},"score":0,"creation_date":1697395479,"post_id":77297868,"comment_id":136271679,"body_markdown":"Thank you!!!!! I figured it out. Its crazy how you can stare at something so long and not see the issue.","body":"Thank you!!!!! I figured it out. Its crazy how you can stare at something so long and not see the issue."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697402983,"creation_date":1697402983,"answer_id":77298438,"question_id":77297868,"body_markdown":"Here are some recommendations.\r\n\r\nUtilize the _[Arrays#fill](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#fill(char[],char))_ method.\r\n\r\n```java\r\nchar[][] board = new char[3][3];\r\nfor (char[] r : board) Arrays.fill(r, &#39; &#39;);\r\n```\r\n\r\nSimplify the _isValidMove_ method.\r\n\r\n```java\r\nprivate static boolean isValidMove(char[][] board, int position) {\r\n    return switch (position) {\r\n        case 1, 2, 3 -&gt; board[0][position - 1] == &#39; &#39;;\r\n        case 4, 5, 6 -&gt; board[1][position - 4] == &#39; &#39;;\r\n        case 7, 8, 9 -&gt; board[2][position - 7] == &#39; &#39;;\r\n        default -&gt; false;\r\n    };\r\n}\r\n```\r\n\r\nAnd, the _placeMove_ method.\r\n\r\n```java\r\nprivate static void placeMove(char[][] board, int position, char symbol) {\r\n    switch (position) {\r\n        case 1, 2, 3 -&gt; board[0][position - 1] = symbol;\r\n        case 4, 5, 6 -&gt; board[1][position - 4] = symbol;\r\n        case 7, 8, 9 -&gt; board[2][position - 7] = symbol;\r\n    }\r\n}\r\n```","title":"TicTacToe game in java, X&#39;s not showing up","body":"<p>Here are some recommendations.</p>\n<p>Utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#fill(char%5B%5D,char)\" rel=\"nofollow noreferrer\">Arrays#fill</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char[][] board = new char[3][3];\nfor (char[] r : board) Arrays.fill(r, ' ');\n</code></pre>\n<p>Simplify the <em>isValidMove</em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean isValidMove(char[][] board, int position) {\n    return switch (position) {\n        case 1, 2, 3 -&gt; board[0][position - 1] == ' ';\n        case 4, 5, 6 -&gt; board[1][position - 4] == ' ';\n        case 7, 8, 9 -&gt; board[2][position - 7] == ' ';\n        default -&gt; false;\n    };\n}\n</code></pre>\n<p>And, the <em>placeMove</em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void placeMove(char[][] board, int position, char symbol) {\n    switch (position) {\n        case 1, 2, 3 -&gt; board[0][position - 1] = symbol;\n        case 4, 5, 6 -&gt; board[1][position - 4] = symbol;\n        case 7, 8, 9 -&gt; board[2][position - 7] = symbol;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25292586,"reputation":11,"user_id":19118356,"display_name":"Puddy Dub"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1697402983,"creation_date":1697392663,"question_id":77297868,"body_markdown":"I am working on a java assignment. It is a follow along with a video. After adding in the `isGameFinished` method, my board no longer shows the X&#39;s. ( I have been running it as I go along, and haven&#39;t had issues until this point)\r\nAm having trouble seeing what mistake I made.\r\n```java\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class TicTacToe {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tchar[][] board = { { &#39; &#39;, &#39; &#39;, &#39; &#39; }, { &#39; &#39;, &#39; &#39;, &#39; &#39; }, { &#39; &#39;, &#39; &#39;, &#39; &#39; } };\r\n\t\tprintBoard(board);\r\n\r\n\t\twhile (true) {\r\n\t\t\tplayerMove(board, scanner);\r\n\t\t\tif (isGameFinished(board)) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tprintBoard(board);\r\n\r\n\t\t\tcomputerTurn(board);\r\n\t\t\tif (isGameFinished(board)) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tprintBoard(board);\r\n\t\t}\r\n\t\t// print(board);\r\n\t\t// scanner.close();\r\n\t}\r\n\r\n\tprivate static boolean isGameFinished(char[][] board) {\r\n\t\tfor (int i = 0; i &lt; board.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; board[i].length; j++) {\r\n\t\t\t\tif (board[i][j] == &#39; &#39;) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tprintBoard(board);\r\n\t\tSystem.out.println(&quot;Game ended in a tie&quot;);\r\n\t\treturn true;\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n\tprivate static void computerTurn(char[][] board) {\r\n\t\tRandom rand = new Random();\r\n\t\tint computerMove;\r\n\t\twhile (true) {\r\n\t\t\tcomputerMove = rand.nextInt(9) + 1;\r\n\t\t\tif (isValidMove(board, computerMove)) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Computer chose space &quot; + computerMove);\r\n\t\tplaceMove(board, Integer.toString(computerMove), &#39;O&#39;);\r\n\t}\r\n\r\n\tprivate static boolean isValidMove(char[][] board, int position) {\r\n\t\tswitch (position) {\r\n\t\tcase 1:\r\n\t\t\treturn (board[0][0] == &#39; &#39;);\r\n\r\n\t\tcase 2:\r\n\t\t\treturn (board[0][1] == &#39; &#39;);\r\n\r\n\t\tcase 3:\r\n\t\t\treturn (board[0][2] == &#39; &#39;);\r\n\r\n\t\tcase 4:\r\n\t\t\treturn (board[1][0] == &#39; &#39;);\r\n\t\tcase 5:\r\n\t\t\treturn (board[1][1] == &#39; &#39;);\r\n\t\tcase 6:\r\n\t\t\treturn (board[1][2] == &#39; &#39;);\r\n\t\tcase 7:\r\n\t\t\treturn (board[2][0] == &#39; &#39;);\r\n\t\tcase 8:\r\n\t\t\treturn (board[2][1] == &#39; &#39;);\r\n\t\tcase 9:\r\n\t\t\treturn (board[2][2] == &#39; &#39;);\r\n\r\n\t\tdefault:\r\n\t\t\tSystem.out.println(&quot;:(&quot;);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprivate static void playerMove(char[][] board, Scanner scanner) {\r\n\t\tString userInput;\r\n\t\twhile (true) {\r\n\t\t\tSystem.out.println(&quot;Where would you like to play? (1-9)&quot;);\r\n\t\t\tuserInput = scanner.next();\r\n\t\t\tif (isValidMove(board, Integer.parseInt(userInput))) {\r\n\t\t\t\tbreak;\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(userInput + &quot; is not a valid move. Choose another spot&quot;);\r\n\t\t\t}\r\n\t\t\tplaceMove(board, userInput, &#39;X&#39;);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static void placeMove(char[][] board, String position, char symbol) {\r\n\t\tswitch (position) {\r\n\t\tcase &quot;1&quot;:\r\n\t\t\tboard[0][0] = symbol;\r\n\t\t\tbreak;\r\n\t\tcase &quot;2&quot;:\r\n\t\t\tboard[0][1] = symbol;\r\n\t\t\tbreak;\r\n\t\tcase &quot;3&quot;:\r\n\t\t\tboard[0][2] = symbol;\r\n\t\t\tbreak;\r\n\t\tcase &quot;4&quot;:\r\n\t\t\tboard[1][0] = symbol;\r\n\t\t\tbreak;\r\n\t\tcase &quot;5&quot;:\r\n\t\t\tboard[1][1] = symbol;\r\n\t\t\tbreak;\r\n\t\tcase &quot;6&quot;:\r\n\t\t\tboard[1][2] = symbol;\r\n\t\t\tbreak;\r\n\t\tcase &quot;7&quot;:\r\n\t\t\tboard[2][0] = symbol;\r\n\t\t\tbreak;\r\n\t\tcase &quot;8&quot;:\r\n\t\t\tboard[2][1] = symbol;\r\n\t\t\tbreak;\r\n\t\tcase &quot;9&quot;:\r\n\t\t\tboard[2][2] = symbol;\r\n\t\t\tbreak;\r\n\r\n\t\tdefault:\r\n\t\t\tSystem.out.println(&quot;:(&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static void printBoard(char[][] board) {\r\n\t\tSystem.out.println(board[0][0] + &quot;|&quot; + board[0][1] + &quot;|&quot; + board[0][2]);\r\n\t\tSystem.out.println(&quot;-+-+-&quot;);\r\n\t\tSystem.out.println(board[1][0] + &quot;|&quot; + board[1][1] + &quot;|&quot; + board[1][2]);\r\n\t\tSystem.out.println(&quot;-+-+-&quot;);\r\n\t\tSystem.out.println(board[2][0] + &quot;|&quot; + board[2][1] + &quot;|&quot; + board[2][2]);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI tried backtracking through my work, undoing what I&#39;ve done, and comparing it to the video tutorial, but am not seeing it.`your text`","title":"TicTacToe game in java, X&#39;s not showing up","body":"<p>I am working on a java assignment. It is a follow along with a video. After adding in the <code>isGameFinished</code> method, my board no longer shows the X's. ( I have been running it as I go along, and haven't had issues until this point)\nAm having trouble seeing what mistake I made.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Random;\nimport java.util.Scanner;\n\npublic class TicTacToe {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        char[][] board = { { ' ', ' ', ' ' }, { ' ', ' ', ' ' }, { ' ', ' ', ' ' } };\n        printBoard(board);\n\n        while (true) {\n            playerMove(board, scanner);\n            if (isGameFinished(board)) {\n                break;\n            }\n\n            printBoard(board);\n\n            computerTurn(board);\n            if (isGameFinished(board)) {\n                break;\n            }\n            printBoard(board);\n        }\n        // print(board);\n        // scanner.close();\n    }\n\n    private static boolean isGameFinished(char[][] board) {\n        for (int i = 0; i &lt; board.length; i++) {\n            for (int j = 0; j &lt; board[i].length; j++) {\n                if (board[i][j] == ' ') {\n                    return false;\n                }\n            }\n        }\n        printBoard(board);\n        System.out.println(&quot;Game ended in a tie&quot;);\n        return true;\n        // TODO Auto-generated method stub\n\n    }\n\n    private static void computerTurn(char[][] board) {\n        Random rand = new Random();\n        int computerMove;\n        while (true) {\n            computerMove = rand.nextInt(9) + 1;\n            if (isValidMove(board, computerMove)) {\n                break;\n            }\n        }\n        System.out.println(&quot;Computer chose space &quot; + computerMove);\n        placeMove(board, Integer.toString(computerMove), 'O');\n    }\n\n    private static boolean isValidMove(char[][] board, int position) {\n        switch (position) {\n        case 1:\n            return (board[0][0] == ' ');\n\n        case 2:\n            return (board[0][1] == ' ');\n\n        case 3:\n            return (board[0][2] == ' ');\n\n        case 4:\n            return (board[1][0] == ' ');\n        case 5:\n            return (board[1][1] == ' ');\n        case 6:\n            return (board[1][2] == ' ');\n        case 7:\n            return (board[2][0] == ' ');\n        case 8:\n            return (board[2][1] == ' ');\n        case 9:\n            return (board[2][2] == ' ');\n\n        default:\n            System.out.println(&quot;:(&quot;);\n        }\n        return false;\n    }\n\n    private static void playerMove(char[][] board, Scanner scanner) {\n        String userInput;\n        while (true) {\n            System.out.println(&quot;Where would you like to play? (1-9)&quot;);\n            userInput = scanner.next();\n            if (isValidMove(board, Integer.parseInt(userInput))) {\n                break;\n            } else {\n                System.out.println(userInput + &quot; is not a valid move. Choose another spot&quot;);\n            }\n            placeMove(board, userInput, 'X');\n        }\n    }\n\n    private static void placeMove(char[][] board, String position, char symbol) {\n        switch (position) {\n        case &quot;1&quot;:\n            board[0][0] = symbol;\n            break;\n        case &quot;2&quot;:\n            board[0][1] = symbol;\n            break;\n        case &quot;3&quot;:\n            board[0][2] = symbol;\n            break;\n        case &quot;4&quot;:\n            board[1][0] = symbol;\n            break;\n        case &quot;5&quot;:\n            board[1][1] = symbol;\n            break;\n        case &quot;6&quot;:\n            board[1][2] = symbol;\n            break;\n        case &quot;7&quot;:\n            board[2][0] = symbol;\n            break;\n        case &quot;8&quot;:\n            board[2][1] = symbol;\n            break;\n        case &quot;9&quot;:\n            board[2][2] = symbol;\n            break;\n\n        default:\n            System.out.println(&quot;:(&quot;);\n        }\n    }\n\n    private static void printBoard(char[][] board) {\n        System.out.println(board[0][0] + &quot;|&quot; + board[0][1] + &quot;|&quot; + board[0][2]);\n        System.out.println(&quot;-+-+-&quot;);\n        System.out.println(board[1][0] + &quot;|&quot; + board[1][1] + &quot;|&quot; + board[1][2]);\n        System.out.println(&quot;-+-+-&quot;);\n        System.out.println(board[2][0] + &quot;|&quot; + board[2][1] + &quot;|&quot; + board[2][2]);\n    }\n\n}\n</code></pre>\n<p>I tried backtracking through my work, undoing what I've done, and comparing it to the video tutorial, but am not seeing it.<code>your text</code></p>\n"},{"tags":["java","kotlin","spring-data"],"answers":[{"tags":[],"owner":{"account_id":2360824,"reputation":17691,"user_id":2067527,"display_name":"mp911de"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1520586195,"creation_date":1520586195,"answer_id":49190067,"question_id":49190066,"body_markdown":"## TL;DR\r\n\r\nKotlin 1.1/1.2 compiles default methods to abstract interface methods in the first place. It&#39;s not possible to use Kotlin&#39;s default methods in Spring Data repository interfaces.\r\n\r\n## Explanation\r\n\r\nKotlin allows default interface methods with a Java runtime version 1.6. JVM-level default interface methods were introduced with Java 1.8. This causes Kotlin to use a different approach to compile default interface methods than Java does.\r\n\r\nThe code from `KotlinUserRepository` compiles to:\r\n\r\n    interface KotlinUserRepository extends Repository {\r\n     \r\n      User findById(String username);\r\n     \r\n      User search(String username);\r\n     \r\n      @Metadata(…)\r\n      public static final class DefaultImpls {\r\n     \r\n        public static User search(KotlinUserRepository $this, String username) {\r\n          Intrinsics.checkParameterIsNotNull(username, &quot;username&quot;);\r\n          return $this.findById(username);\r\n        }\r\n      }\r\n    }\r\n\r\nThe method `search(…)` compiles to an abstract interface method. The implementation bit compiles to a class `DefaultImpls` which reflects the default method signature. A class wanting to implement `KotlinUserRepository` is required to implement `search(…)`. Using the interface in a pure Kotlin environment will let the Kotlin compiler create the implementation bits.\r\n\r\nSpring Data repositories work with proxies underneath. Every method on a repository must be either:\r\n\r\n1. Implemented by the store-specific repository.\r\n2. Implemented by a custom implementation.\r\n3. A Java 8 default method.\r\n4. Be annotated with a query annotation.\r\n5. Fit the method naming scheme to allow query derivation.\r\n\r\nIn this case, `search(…)` is not implemented by any custom code according to how you&#39;d implement a Java interface. Spring Data attempts to derive a query and considers `search(…)` as property of the `User` domain class. Lookup fails and throws `PropertyReferenceException`.\r\n\r\nThis is a known limitation.\r\n\r\n### References\r\n\r\n* [DATACMNS-1223 - Kotlin interface default methods are considered query methods](https://jira.spring.io/browse/DATACMNS-1223).\r\n* [KT-4779 - Generate default methods for implementations in interfaces](https://youtrack.jetbrains.com/issue/KT-4779).","title":"How can I use Kotlin default methods with Spring Data repository interfaces?","body":"<h2>TL;DR</h2>\n\n<p>Kotlin 1.1/1.2 compiles default methods to abstract interface methods in the first place. It's not possible to use Kotlin's default methods in Spring Data repository interfaces.</p>\n\n<h2>Explanation</h2>\n\n<p>Kotlin allows default interface methods with a Java runtime version 1.6. JVM-level default interface methods were introduced with Java 1.8. This causes Kotlin to use a different approach to compile default interface methods than Java does.</p>\n\n<p>The code from <code>KotlinUserRepository</code> compiles to:</p>\n\n<pre><code>interface KotlinUserRepository extends Repository {\n\n  User findById(String username);\n\n  User search(String username);\n\n  @Metadata(…)\n  public static final class DefaultImpls {\n\n    public static User search(KotlinUserRepository $this, String username) {\n      Intrinsics.checkParameterIsNotNull(username, \"username\");\n      return $this.findById(username);\n    }\n  }\n}\n</code></pre>\n\n<p>The method <code>search(…)</code> compiles to an abstract interface method. The implementation bit compiles to a class <code>DefaultImpls</code> which reflects the default method signature. A class wanting to implement <code>KotlinUserRepository</code> is required to implement <code>search(…)</code>. Using the interface in a pure Kotlin environment will let the Kotlin compiler create the implementation bits.</p>\n\n<p>Spring Data repositories work with proxies underneath. Every method on a repository must be either:</p>\n\n<ol>\n<li>Implemented by the store-specific repository.</li>\n<li>Implemented by a custom implementation.</li>\n<li>A Java 8 default method.</li>\n<li>Be annotated with a query annotation.</li>\n<li>Fit the method naming scheme to allow query derivation.</li>\n</ol>\n\n<p>In this case, <code>search(…)</code> is not implemented by any custom code according to how you'd implement a Java interface. Spring Data attempts to derive a query and considers <code>search(…)</code> as property of the <code>User</code> domain class. Lookup fails and throws <code>PropertyReferenceException</code>.</p>\n\n<p>This is a known limitation.</p>\n\n<h3>References</h3>\n\n<ul>\n<li><a href=\"https://jira.spring.io/browse/DATACMNS-1223\" rel=\"noreferrer\">DATACMNS-1223 - Kotlin interface default methods are considered query methods</a>.</li>\n<li><a href=\"https://youtrack.jetbrains.com/issue/KT-4779\" rel=\"noreferrer\">KT-4779 - Generate default methods for implementations in interfaces</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1300282,"reputation":1845,"user_id":1250358,"accept_rate":40,"display_name":"Ben M"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524238542,"creation_date":1524238542,"answer_id":49945211,"question_id":49190066,"body_markdown":"The recently released Kotlin 1.2.40 now supports an experimental feature enabling compilation of Kotlin default methods to Java 8 default methods via the `@JvmDefault` annotation and setting of the feature flag: `Xenable-jvm-default`\r\n\r\nhttps://blog.jetbrains.com/kotlin/2018/04/kotlin-1-2-40-is-out/#more-5922\r\n\r\nI haven&#39;t tried it out yet, but your example theoretically _should_ work like so:\r\n\r\n\r\n    interface KotlinUserRepository : Repository&lt;User, String&gt; {\r\n    \r\n      fun findById(username: String): User\r\n    \r\n      @JvmDefault\r\n      fun search(username: String) = findById(username)\r\n    }\r\n\r\n","title":"How can I use Kotlin default methods with Spring Data repository interfaces?","body":"<p>The recently released Kotlin 1.2.40 now supports an experimental feature enabling compilation of Kotlin default methods to Java 8 default methods via the <code>@JvmDefault</code> annotation and setting of the feature flag: <code>Xenable-jvm-default</code></p>\n\n<p><a href=\"https://blog.jetbrains.com/kotlin/2018/04/kotlin-1-2-40-is-out/#more-5922\" rel=\"nofollow noreferrer\">https://blog.jetbrains.com/kotlin/2018/04/kotlin-1-2-40-is-out/#more-5922</a></p>\n\n<p>I haven't tried it out yet, but your example theoretically <em>should</em> work like so:</p>\n\n<pre><code>interface KotlinUserRepository : Repository&lt;User, String&gt; {\n\n  fun findById(username: String): User\n\n  @JvmDefault\n  fun search(username: String) = findById(username)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":950177,"reputation":256,"user_id":976491,"display_name":"mjavault"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1527179141,"creation_date":1527179141,"answer_id":50514053,"question_id":49190066,"body_markdown":"As Ben pointed out, you can now (Kotlin 1.2.40+) use `@JvmDefault`.\r\n\r\n    interface BatchRepository : PagingAndSortingRepository&lt;Batch, Long&gt; {\r\n        fun getAllByOrderByPriorityAscNameAsc(): List&lt;Batch&gt;\r\n    \r\n        @JvmDefault\r\n        fun getForAdmin() = getAllByOrderByPriorityAscNameAsc()\r\n    }\r\n\r\nYou will need to enable the option in you build.gradle using something like this:\r\n\r\n    tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\r\n        kotlinOptions {\r\n            freeCompilerArgs = [&#39;-Xenable-jvm-default&#39;]\r\n        }\r\n    }\r\n\r\nI just tested it on Kotlin 1.2.41 and it works.","title":"How can I use Kotlin default methods with Spring Data repository interfaces?","body":"<p>As Ben pointed out, you can now (Kotlin 1.2.40+) use <code>@JvmDefault</code>.</p>\n\n<pre><code>interface BatchRepository : PagingAndSortingRepository&lt;Batch, Long&gt; {\n    fun getAllByOrderByPriorityAscNameAsc(): List&lt;Batch&gt;\n\n    @JvmDefault\n    fun getForAdmin() = getAllByOrderByPriorityAscNameAsc()\n}\n</code></pre>\n\n<p>You will need to enable the option in you build.gradle using something like this:</p>\n\n<pre><code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n    kotlinOptions {\n        freeCompilerArgs = ['-Xenable-jvm-default']\n    }\n}\n</code></pre>\n\n<p>I just tested it on Kotlin 1.2.41 and it works.</p>\n"},{"tags":[],"owner":{"account_id":2302993,"reputation":2591,"user_id":2022885,"accept_rate":100,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1609934225,"creation_date":1609934225,"answer_id":65595347,"question_id":49190066,"body_markdown":"FWIW [Kotlin extension methods](https://kotlinlang.org/docs/reference/extensions.html) worked nicely for me here, 1 .kt file:\r\n```kotlin\r\ninterface FooRepository : JpaRepository&lt;FooDb, UUID&gt;\r\n\r\nobject FooRepositoryExtensions {\r\n\r\n  fun FooRepository.doFoo(something: String): FooDb { \r\n      // do whatever you want here, the &#39;FooRepository&#39; instance is available via `this`\r\n}\r\n```","title":"How can I use Kotlin default methods with Spring Data repository interfaces?","body":"<p>FWIW <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"noreferrer\">Kotlin extension methods</a> worked nicely for me here, 1 .kt file:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface FooRepository : JpaRepository&lt;FooDb, UUID&gt;\n\nobject FooRepositoryExtensions {\n\n  fun FooRepository.doFoo(something: String): FooDb { \n      // do whatever you want here, the 'FooRepository' instance is available via `this`\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697401182,"creation_date":1697401182,"answer_id":77298354,"question_id":49190066,"body_markdown":"`@JvmDefault` is now deprecated. Works fine:\r\n\r\n    build.gradle.kts\r\n      kotlinOptions {\r\n        freeCompilerArgs += listOf(&quot;-Xjsr305=strict&quot;, &quot;-Xjvm-default=all&quot;)\r\n      }\r\nand\r\n\r\n    @JvmDefaultWithCompatibility\r\n    interface KotlinRepository&lt;User&gt; : JpaRepository&lt;User, Int?&gt; {\r\n\r\n       fun getExisted(id: Int): User = findById(id).orElseThrow { \r\n                  NotFoundException(&quot;Entity with id=$id not found&quot;) }\r\n\r\nYou need both of jvm option `-Xjvm-default=all` and annotation `@JvmDefaultWithCompatibility` above interface.","title":"How can I use Kotlin default methods with Spring Data repository interfaces?","body":"<p><code>@JvmDefault</code> is now deprecated. Works fine:</p>\n<pre><code>build.gradle.kts\n  kotlinOptions {\n    freeCompilerArgs += listOf(&quot;-Xjsr305=strict&quot;, &quot;-Xjvm-default=all&quot;)\n  }\n</code></pre>\n<p>and</p>\n<pre><code>@JvmDefaultWithCompatibility\ninterface KotlinRepository&lt;User&gt; : JpaRepository&lt;User, Int?&gt; {\n\n   fun getExisted(id: Int): User = findById(id).orElseThrow { \n              NotFoundException(&quot;Entity with id=$id not found&quot;) }\n</code></pre>\n<p>You need both of jvm option <code>-Xjvm-default=all</code> and annotation <code>@JvmDefaultWithCompatibility</code> above interface.</p>\n"}],"owner":{"account_id":2360824,"reputation":17691,"user_id":2067527,"display_name":"mp911de"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5687,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":49190067,"answer_count":5,"score":11,"last_activity_date":1697401182,"creation_date":1520586195,"question_id":49190066,"body_markdown":"Consider the following repository interface declaration: \r\n\r\n    interface KotlinUserRepository : Repository&lt;User, String&gt; {\r\n     \r\n      fun findById(username: String): User\r\n      \r\n      fun search(username: String) = findById(username)\r\n    }\r\n\r\nI&#39;m declaring a default interface method `search(…)` that defaults to invoking `findById(…)`.\r\n\r\nStarting my application fails with:\r\n\r\n`org.springframework.data.mapping.PropertyReferenceException: No property Search found for type User!`\r\n\r\nHow can I use Kotlin default methods with Spring Data repository interfaces and prevent `PropertyReferenceException`?","title":"How can I use Kotlin default methods with Spring Data repository interfaces?","body":"<p>Consider the following repository interface declaration: </p>\n\n<pre><code>interface KotlinUserRepository : Repository&lt;User, String&gt; {\n\n  fun findById(username: String): User\n\n  fun search(username: String) = findById(username)\n}\n</code></pre>\n\n<p>I'm declaring a default interface method <code>search(…)</code> that defaults to invoking <code>findById(…)</code>.</p>\n\n<p>Starting my application fails with:</p>\n\n<p><code>org.springframework.data.mapping.PropertyReferenceException: No property Search found for type User!</code></p>\n\n<p>How can I use Kotlin default methods with Spring Data repository interfaces and prevent <code>PropertyReferenceException</code>?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1578355210,"post_id":59620490,"comment_id":105404426,"body_markdown":"The expected output doesn&#39;t match the problem description.  The first value should be 5.","body":"The expected output doesn&#39;t match the problem description.  The first value should be 5."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1578355244,"post_id":59620490,"comment_id":105404433,"body_markdown":"*which indicates the number of future days that are hotter than the present day.* - I am confused about your output as there are 5 days hotter than day[0]","body":"<i>which indicates the number of future days that are hotter than the present day.</i> - I am confused about your output as there are 5 days hotter than day[0]"},{"owner":{"account_id":4074333,"reputation":888,"user_id":3346394,"display_name":"MadaManu"},"score":0,"creation_date":1578355556,"post_id":59620490,"comment_id":105404512,"body_markdown":"What is present day? Everyone seems to assume present day is the first one in the list... is it?","body":"What is present day? Everyone seems to assume present day is the first one in the list... is it?"},{"owner":{"account_id":4074333,"reputation":888,"user_id":3346394,"display_name":"MadaManu"},"score":0,"creation_date":1578355897,"post_id":59620490,"comment_id":105404597,"body_markdown":"Ah I think I see it. Present day as in which one in the loop one is on. So for each one you need to count how many there are hotter than the one you&#39;re on. Index 0, 5 hotter than it in the whole list, Index 2, 3 hotter than it, etc. But then this doesn&#39;t add up with the expected output. The code sample seems to do a less than comparison too. So, let me ask: Define &#39;hotter&#39;.","body":"Ah I think I see it. Present day as in which one in the loop one is on. So for each one you need to count how many there are hotter than the one you&#39;re on. Index 0, 5 hotter than it in the whole list, Index 2, 3 hotter than it, etc. But then this doesn&#39;t add up with the expected output. The code sample seems to do a less than comparison too. So, let me ask: Define &#39;hotter&#39;."},{"owner":{"account_id":8818198,"reputation":1021,"user_id":6588943,"display_name":"Melvin"},"score":0,"creation_date":1578359229,"post_id":59620490,"comment_id":105405265,"body_markdown":"I determined his needs and edited his informations:\n\nTo clarify the necessary work: We search the position of the next higher temperature. If there is no higher one then return zero. e.g. Index0 is 70. The next temperatur after 70 is higher (71). So we write a 1. 71 is followed by 74 so we write 1 again. 74 is followed by 69 and 70 which are lower but 76 is higher. So we write a 3. And so on ...","body":"I determined his needs and edited his informations:  To clarify the necessary work: We search the position of the next higher temperature. If there is no higher one then return zero. e.g. Index0 is 70. The next temperatur after 70 is higher (71). So we write a 1. 71 is followed by 74 so we write 1 again. 74 is followed by 69 and 70 which are lower but 76 is higher. So we write a 3. And so on ..."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1578366544,"post_id":59620490,"comment_id":105406645,"body_markdown":"I believe you want to use `result.set(i,j-i)` and not `result.add(i,j-i)`  The latter grows the size of the result list which is not what you want.","body":"I believe you want to use <code>result.set(i,j-i)</code> and not <code>result.add(i,j-i)</code>  The latter grows the size of the result list which is not what you want."},{"owner":{"account_id":9032027,"reputation":15,"user_id":6729271,"display_name":"Oskar"},"score":0,"creation_date":1578375327,"post_id":59620490,"comment_id":105408312,"body_markdown":"Sorry for the confusion. The next immediate hotter day should be listed","body":"Sorry for the confusion. The next immediate hotter day should be listed"}],"answers":[{"tags":[],"owner":{"account_id":13211993,"reputation":61,"user_id":9541897,"display_name":"Moustafa Elsayed"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1697401161,"creation_date":1578360562,"answer_id":59621076,"question_id":59620490,"body_markdown":"I&#39;m going to assume you meant you want to know the distance between each element and the next strictly greater element, since this matches your expected output.\r\n\r\nSimply use a stack, first push the very first element into the stack, then start iterating on your array from the second element, check if the current element is greater than the top element in the stack. If it&#39;s greater then the current index is the answer for the top element in the stack, update its answer and pop it, then repeat for the new top element in the stack. Repeat this until the stack is empty or the current element is not greater than the stack top element. After that push the current element to the stack too so that we can find its answer and continue iterating.\r\n\r\nThe complexity of this method is O(n).\r\n\r\nHere&#39;s a code I found at https://www.geeksforgeeks.org/next-greater-element/, it&#39;s slightly modified to meet your exact needs:\r\n\r\n```\r\n//Java program to print next \r\n//greater element using stack \r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\n\r\npublic class NGE\r\n{\r\n    static class stack\r\n    {\r\n        int top;\r\n        int items[] = new int[100];\r\n\r\n        // Stack functions to be used by printNGE\r\n        void push(int x)\r\n        {\r\n            if (top == 99)\r\n            {\r\n                System.out.println(&quot;Stack full&quot;);\r\n            }\r\n            else\r\n            {\r\n                items[++top] = x;\r\n            }\r\n        }\r\n\r\n        int pop()\r\n        {\r\n            if (top == -1)\r\n            {\r\n                System.out.println(&quot;Underflow error&quot;);\r\n                return -1;\r\n            }\r\n            else\r\n            {\r\n                int element = items[top];\r\n                top--;\r\n                return element;\r\n            }\r\n        }\r\n\r\n        boolean isEmpty()\r\n        {\r\n            return (top == -1) ? true : false;\r\n        }\r\n    }\r\n\r\n    /* prints element and NGE pair for\r\n    all elements of arr[] of size n */\r\n    static void printNGE(int arr[], int n)\r\n    {\r\n        int i = 0;\r\n        stack s = new stack();\r\n        s.top = -1;\r\n        int element, next;\r\n\r\n        //answer initialized with zeros\r\n        ArrayList&lt;Integer&gt; answer = new ArrayList&lt;&gt;(Collections.nCopies(n, 0));\r\n\r\n        /* push the first element to stack */\r\n        s.push(0);\r\n\r\n        // iterate for rest of the elements\r\n        for (i = 1; i &lt; n; i++)\r\n        {\r\n            next = i;\r\n\r\n            if (s.isEmpty() == false)\r\n            {\r\n\r\n                // if stack is not empty, then\r\n                // pop an element from stack\r\n                element = s.pop();\r\n\r\n\t\t\t\t/* If the popped element is smaller than \r\n\t\t\t\tnext, then a) print the pair b) keep \r\n\t\t\t\tpopping while elements are smaller and \r\n\t\t\t\tstack is not empty */\r\n                while (arr[element] &lt; arr[next])\r\n                {\r\n                    answer.set(element, next - element);\r\n                    if (s.isEmpty() == true)\r\n                        break;\r\n                    element = s.pop();\r\n                }\r\n\r\n\t\t\t\t/* If element is greater than next, then \r\n\t\t\t\tpush the element back */\r\n                if (arr[element] &gt; arr[next])\r\n                    s.push(element);\r\n            }\r\n\r\n\t\t\t/* push next to stack so that we can find next \r\n\t\t\tgreater for it */\r\n            s.push(next);\r\n        }\r\n\r\n        System.out.println(answer);\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        int arr[] = { 70, 71, 74, 69, 70, 76, 71, 80, 70, 65 };\r\n        int n = arr.length;\r\n        printNGE(arr, n);\r\n    }\r\n}\r\n```","title":"Return a list with next high temperature from a list","body":"<p>I'm going to assume you meant you want to know the distance between each element and the next strictly greater element, since this matches your expected output.</p>\n<p>Simply use a stack, first push the very first element into the stack, then start iterating on your array from the second element, check if the current element is greater than the top element in the stack. If it's greater then the current index is the answer for the top element in the stack, update its answer and pop it, then repeat for the new top element in the stack. Repeat this until the stack is empty or the current element is not greater than the stack top element. After that push the current element to the stack too so that we can find its answer and continue iterating.</p>\n<p>The complexity of this method is O(n).</p>\n<p>Here's a code I found at <a href=\"https://www.geeksforgeeks.org/next-greater-element/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/next-greater-element/</a>, it's slightly modified to meet your exact needs:</p>\n<pre><code>//Java program to print next \n//greater element using stack \n\nimport java.util.ArrayList;\nimport java.util.Collections;\n\npublic class NGE\n{\n    static class stack\n    {\n        int top;\n        int items[] = new int[100];\n\n        // Stack functions to be used by printNGE\n        void push(int x)\n        {\n            if (top == 99)\n            {\n                System.out.println(&quot;Stack full&quot;);\n            }\n            else\n            {\n                items[++top] = x;\n            }\n        }\n\n        int pop()\n        {\n            if (top == -1)\n            {\n                System.out.println(&quot;Underflow error&quot;);\n                return -1;\n            }\n            else\n            {\n                int element = items[top];\n                top--;\n                return element;\n            }\n        }\n\n        boolean isEmpty()\n        {\n            return (top == -1) ? true : false;\n        }\n    }\n\n    /* prints element and NGE pair for\n    all elements of arr[] of size n */\n    static void printNGE(int arr[], int n)\n    {\n        int i = 0;\n        stack s = new stack();\n        s.top = -1;\n        int element, next;\n\n        //answer initialized with zeros\n        ArrayList&lt;Integer&gt; answer = new ArrayList&lt;&gt;(Collections.nCopies(n, 0));\n\n        /* push the first element to stack */\n        s.push(0);\n\n        // iterate for rest of the elements\n        for (i = 1; i &lt; n; i++)\n        {\n            next = i;\n\n            if (s.isEmpty() == false)\n            {\n\n                // if stack is not empty, then\n                // pop an element from stack\n                element = s.pop();\n\n                /* If the popped element is smaller than \n                next, then a) print the pair b) keep \n                popping while elements are smaller and \n                stack is not empty */\n                while (arr[element] &lt; arr[next])\n                {\n                    answer.set(element, next - element);\n                    if (s.isEmpty() == true)\n                        break;\n                    element = s.pop();\n                }\n\n                /* If element is greater than next, then \n                push the element back */\n                if (arr[element] &gt; arr[next])\n                    s.push(element);\n            }\n\n            /* push next to stack so that we can find next \n            greater for it */\n            s.push(next);\n        }\n\n        System.out.println(answer);\n    }\n\n    public static void main(String[] args)\n    {\n        int arr[] = { 70, 71, 74, 69, 70, 76, 71, 80, 70, 65 };\n        int n = arr.length;\n        printNGE(arr, n);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9032027,"reputation":15,"user_id":6729271,"display_name":"Oskar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59621076,"answer_count":1,"score":1,"last_activity_date":1697401161,"creation_date":1578354955,"question_id":59620490,"body_markdown":"I have a list input: [70,71,74,69,70,76,71,80,70,65]\r\nwhich represents the temperatures of the day, I am supposed to return a list which indicates the number of future days that are hotter than the present day. If there no hotter days than the present-day just add 0 to the list.\r\n\r\nFor the above input, the expected output is [ 1, 1, 3, 1, 1, 2, 1, 0, 0, 0]\r\n\r\nTo clarify the necessary work:\r\nWe search the position of the next higher temperature. If there is no higher one then return zero. e.g. Index0 is 70. The next temperatur after 70 is higher (71). So we write a 1. 71 is followed by 74 so we write 1 again. 74 is followed by 69 and 70 which are lower but 76 is higher. So we write a 3. And so on ...\r\n\r\nOne approach I can think of is using two for loops and finding the next higher value.\r\n```\r\n        List&lt;Integer&gt; result =  new ArrayList&lt;&gt;(Collections.nCopies(size,0));\r\n        for(int i = 0; i&lt;list.size();i++){\r\n            for(int j=i+1;j&lt;list.size();j++){\r\n                if(list.get(i)&lt;list.get(j)){\r\n                    result.add(i,j-i);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n```\r\n\r\nThe time complexity of the above approach is O(n^2). I would like to know is there any other method with better Time complexity?\r\n","title":"Return a list with next high temperature from a list","body":"<p>I have a list input: [70,71,74,69,70,76,71,80,70,65]\nwhich represents the temperatures of the day, I am supposed to return a list which indicates the number of future days that are hotter than the present day. If there no hotter days than the present-day just add 0 to the list.</p>\n\n<p>For the above input, the expected output is [ 1, 1, 3, 1, 1, 2, 1, 0, 0, 0]</p>\n\n<p>To clarify the necessary work:\nWe search the position of the next higher temperature. If there is no higher one then return zero. e.g. Index0 is 70. The next temperatur after 70 is higher (71). So we write a 1. 71 is followed by 74 so we write 1 again. 74 is followed by 69 and 70 which are lower but 76 is higher. So we write a 3. And so on ...</p>\n\n<p>One approach I can think of is using two for loops and finding the next higher value.</p>\n\n<pre><code>        List&lt;Integer&gt; result =  new ArrayList&lt;&gt;(Collections.nCopies(size,0));\n        for(int i = 0; i&lt;list.size();i++){\n            for(int j=i+1;j&lt;list.size();j++){\n                if(list.get(i)&lt;list.get(j)){\n                    result.add(i,j-i);\n                    break;\n                }\n            }\n        }\n\n</code></pre>\n\n<p>The time complexity of the above approach is O(n^2). I would like to know is there any other method with better Time complexity?</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":1,"creation_date":1282316998,"post_id":3532161,"comment_id":3696081,"body_markdown":"Are you asking &quot;what are the practical differences?&quot;","body":"Are you asking &quot;what are the practical differences?&quot;"},{"owner":{"account_id":51215,"reputation":8964,"user_id":152993,"accept_rate":93,"display_name":"cesar"},"score":0,"creation_date":1282318169,"post_id":3532161,"comment_id":3696301,"body_markdown":"i&#39;m just curious about the general differences of the two i.e. Is there something unique about a Singleton that makes it different from a class that has all it&#39;s methods and attributes set to static?","body":"i&#39;m just curious about the general differences of the two i.e. Is there something unique about a Singleton that makes it different from a class that has all it&#39;s methods and attributes set to static?"},{"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"score":0,"creation_date":1462799464,"post_id":3532161,"comment_id":61774398,"body_markdown":"DCL way of implementing singleton has only static field instance holding a static reference to the singleton object and then lazily instantiated in static method. In this case this Singleton implementation has only static field and methods and they are same(Not different as question asks). That&#39;s one implementation. Other can be through Enum.","body":"DCL way of implementing singleton has only static field instance holding a static reference to the singleton object and then lazily instantiated in static method. In this case this Singleton implementation has only static field and methods and they are same(Not different as question asks). That&#39;s one implementation. Other can be through Enum."}],"answers":[{"tags":[],"owner":{"account_id":142896,"reputation":35109,"user_id":350890,"accept_rate":100,"display_name":"Peter Tillemans"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1282316911,"creation_date":1282316911,"answer_id":3532184,"question_id":3532161,"body_markdown":"At least you can more easily replace it by a mock or a stub for unit testing. But I am not a big fan of singletons for exactly the reason you are describing : it are global variables in disguise.","title":"What is the difference between a Singleton pattern and a static class in Java?","body":"<p>At least you can more easily replace it by a mock or a stub for unit testing. But I am not a big fan of singletons for exactly the reason you are describing : it are global variables in disguise.</p>\n"},{"tags":[],"owner":{"account_id":16366,"reputation":77097,"user_id":35501,"accept_rate":83,"display_name":"JRL"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1282316955,"creation_date":1282316955,"answer_id":3532192,"question_id":3532161,"body_markdown":"A singleton can be initialized lazily, for one.","title":"What is the difference between a Singleton pattern and a static class in Java?","body":"<p>A singleton can be initialized lazily, for one.</p>\n"},{"tags":[],"owner":{"display_name":"user287466"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1282317499,"creation_date":1282317063,"answer_id":3532211,"question_id":3532161,"body_markdown":"A singleton is a class with just one instance, enforced.  That class may have state (yes I know static variables hold state), not all of the member variables or methods need be static.\r\n\r\nA variation would be a small pool of these objects, which would be impossible if all of the methods were static.","title":"What is the difference between a Singleton pattern and a static class in Java?","body":"<p>A singleton is a class with just one instance, enforced.  That class may have state (yes I know static variables hold state), not all of the member variables or methods need be static.</p>\n\n<p>A variation would be a small pool of these objects, which would be impossible if all of the methods were static.</p>\n"},{"tags":[],"owner":{"account_id":34868,"reputation":1686,"user_id":98606,"accept_rate":80,"display_name":"Numenor"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1282317085,"creation_date":1282317085,"answer_id":3532216,"question_id":3532161,"body_markdown":"The difference is language independent. Singleton is by definition: &quot;Ensure a class has only one instance and provide a global point of access to it. &quot; a class filled with only static fields is not same as singleton but perhaps in your usage scenario they provide the same functionality. But as JRL said lazy initiation is one difference.","title":"What is the difference between a Singleton pattern and a static class in Java?","body":"<p>The difference is language independent. Singleton is by definition: \"Ensure a class has only one instance and provide a global point of access to it. \" a class filled with only static fields is not same as singleton but perhaps in your usage scenario they provide the same functionality. But as JRL said lazy initiation is one difference.</p>\n"},{"tags":[],"owner":{"account_id":38973,"reputation":17442,"user_id":112222,"accept_rate":88,"display_name":"Teja Kantamneni"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1282317156,"creation_date":1282317156,"answer_id":3532229,"question_id":3532161,"body_markdown":"A singleton class will have an instance which generally is one and only one per classloader. So it can have regular methods(non static) ones and they can be invoked on that particular instance.\r\n\r\nWhile a Class with only static methods, there is really no need in creating an instance(for this reason most of the people/frameworks make these kind of Util classes abstract). You will just invoke the methods on class directly.","title":"What is the difference between a Singleton pattern and a static class in Java?","body":"<p>A singleton class will have an instance which generally is one and only one per classloader. So it can have regular methods(non static) ones and they can be invoked on that particular instance.</p>\n\n<p>While a Class with only static methods, there is really no need in creating an instance(for this reason most of the people/frameworks make these kind of Util classes abstract). You will just invoke the methods on class directly.</p>\n"},{"tags":[],"owner":{"account_id":170758,"reputation":4261,"user_id":397707,"accept_rate":50,"display_name":"Raoul Duke"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1282317162,"creation_date":1282317162,"answer_id":3532230,"question_id":3532161,"body_markdown":"The first thing that comes to mind is that if you want to use a class with only static methods and attributes instead of a singleton you will have to use the static initializer to properly initialise certain attributes. Example:\r\n\r\n    class NoSingleton {\r\n      static {\r\n        //initialize foo with something complex that can&#39;t be done otherwise\r\n      }\r\n      static private foo;\r\n    }\r\n\r\nThis will then execute at class load time which is probably not what you want. You have more control over this whole shebang if you implement it as a singleton. However I think using singletons is not a good idea in any case.","title":"What is the difference between a Singleton pattern and a static class in Java?","body":"<p>The first thing that comes to mind is that if you want to use a class with only static methods and attributes instead of a singleton you will have to use the static initializer to properly initialise certain attributes. Example:</p>\n\n<pre><code>class NoSingleton {\n  static {\n    //initialize foo with something complex that can't be done otherwise\n  }\n  static private foo;\n}\n</code></pre>\n\n<p>This will then execute at class load time which is probably not what you want. You have more control over this whole shebang if you implement it as a singleton. However I think using singletons is not a good idea in any case.</p>\n"},{"tags":[],"owner":{"account_id":22902,"reputation":4668,"user_id":56954,"accept_rate":74,"display_name":"jeremyalan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1282318653,"creation_date":1282318653,"answer_id":3532437,"question_id":3532161,"body_markdown":"NOTE: The examples are in C#, as that is what I am more familiar with, but the concept should apply to Java just the same.\r\n\r\nIgnoring the debate on when it is appropriate to use Singleton objects, one primary difference that I am aware of is that a Singleton object has an instance that you can pass around.\r\n\r\nIf you use a static class, you hard-wire yourself to a particular implementation, and there&#39;s no way to alter its behavior at run-time.\r\n\r\nPoor design using static class:\r\n\r\n    public class MyClass\r\n    {\r\n       public void SomeMethod(string filename)\r\n       {\r\n          if (File.Exists(filename))\r\n            // do something\r\n       }\r\n    }\r\n\r\nAlternatively, you could have your constructor take in an instance of a particular interface instead.  In production, you could use a Singleton implementation of that interface, but in unit tests, you can simply mock the interface and alter its behavior to satisfy your needs (making it thrown some obscure exception, for example).\r\n\r\n    public class MyClass\r\n    {\r\n       private IFileSystem m_fileSystem;\r\n\r\n       public MyClass(IFileSystem fileSystem)\r\n       {\r\n          m_fileSystem = fileSystem;\r\n       }\r\n       \r\n       public void SomeMethod(string filename)\r\n       {\r\n          if (m_fileSystem.FileExists(filename))\r\n             // do something\r\n       }\r\n    }\r\n\r\nThis is not to say that static classes are ALWAYS bad, just not a great candidate for things like file systems, database connections, and other lower layer dependencies.","title":"What is the difference between a Singleton pattern and a static class in Java?","body":"<p>NOTE: The examples are in C#, as that is what I am more familiar with, but the concept should apply to Java just the same.</p>\n\n<p>Ignoring the debate on when it is appropriate to use Singleton objects, one primary difference that I am aware of is that a Singleton object has an instance that you can pass around.</p>\n\n<p>If you use a static class, you hard-wire yourself to a particular implementation, and there's no way to alter its behavior at run-time.</p>\n\n<p>Poor design using static class:</p>\n\n<pre><code>public class MyClass\n{\n   public void SomeMethod(string filename)\n   {\n      if (File.Exists(filename))\n        // do something\n   }\n}\n</code></pre>\n\n<p>Alternatively, you could have your constructor take in an instance of a particular interface instead.  In production, you could use a Singleton implementation of that interface, but in unit tests, you can simply mock the interface and alter its behavior to satisfy your needs (making it thrown some obscure exception, for example).</p>\n\n<pre><code>public class MyClass\n{\n   private IFileSystem m_fileSystem;\n\n   public MyClass(IFileSystem fileSystem)\n   {\n      m_fileSystem = fileSystem;\n   }\n\n   public void SomeMethod(string filename)\n   {\n      if (m_fileSystem.FileExists(filename))\n         // do something\n   }\n}\n</code></pre>\n\n<p>This is not to say that static classes are ALWAYS bad, just not a great candidate for things like file systems, database connections, and other lower layer dependencies.</p>\n"},{"tags":[],"owner":{"account_id":121453,"reputation":4475,"user_id":314547,"accept_rate":83,"display_name":"doobop"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1282320220,"creation_date":1282320220,"answer_id":3532661,"question_id":3532161,"body_markdown":"One of the main advantages of singletons is that you can implement interfaces and inherit from other classes.  Sometimes you have a group of singletons that all provide similar functionality that you want to implement a common interface but are responsible for a different resource.   ","title":"What is the difference between a Singleton pattern and a static class in Java?","body":"<p>One of the main advantages of singletons is that you can implement interfaces and inherit from other classes.  Sometimes you have a group of singletons that all provide similar functionality that you want to implement a common interface but are responsible for a different resource.   </p>\n"},{"tags":[],"owner":{"account_id":41594,"reputation":152717,"user_id":120955,"accept_rate":88,"display_name":"StriplingWarrior"},"down_vote_count":1,"up_vote_count":44,"is_accepted":true,"score":43,"last_activity_date":1282320343,"creation_date":1282320343,"answer_id":3532683,"question_id":3532161,"body_markdown":"Almost every time I write a static class, I end up wishing I had implemented it as a non-static class. Consider:\r\n\r\n* A non-static class can be extended. Polymorphism can save a lot of repetition.\r\n* A non-static class can implement an interface, which can come in handy when you want to separate implementation from API.\r\n\r\nBecause of these two points, non-static classes make it possible to write more reliable unit tests for items that depend on them, among other things.\r\n\r\nA singleton pattern is only a half-step away from static classes, however. You *sort of* get these benefits, but if you are accessing them directly within other classes via `ClassName.Instance&#39;, you&#39;re creating an obstacle to accessing these benefits. Like ph0enix pointed out, you&#39;re much better off using a dependency injection pattern. That way, a DI framework can be told that a particular class is (or is not) a singleton. You get all the benefits of mocking, unit testing, polymorphism, and a lot more flexibility.","title":"What is the difference between a Singleton pattern and a static class in Java?","body":"<p>Almost every time I write a static class, I end up wishing I had implemented it as a non-static class. Consider:</p>\n\n<ul>\n<li>A non-static class can be extended. Polymorphism can save a lot of repetition.</li>\n<li>A non-static class can implement an interface, which can come in handy when you want to separate implementation from API.</li>\n</ul>\n\n<p>Because of these two points, non-static classes make it possible to write more reliable unit tests for items that depend on them, among other things.</p>\n\n<p>A singleton pattern is only a half-step away from static classes, however. You <em>sort of</em> get these benefits, but if you are accessing them directly within other classes via `ClassName.Instance', you're creating an obstacle to accessing these benefits. Like ph0enix pointed out, you're much better off using a dependency injection pattern. That way, a DI framework can be told that a particular class is (or is not) a singleton. You get all the benefits of mocking, unit testing, polymorphism, and a lot more flexibility.</p>\n"},{"tags":[],"owner":{"account_id":165118,"reputation":14339,"user_id":388299,"accept_rate":77,"display_name":"YoK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1282321365,"creation_date":1282321365,"answer_id":3532819,"question_id":3532161,"body_markdown":"**Singleton Class :** \r\nSingleton Class is class of which only single instance can exists per classloader.\r\n\r\n\r\n**Helper Class (Class with only static fields/methods) :**\r\nNo instance of this class exists. Only fields and methods can be directly accessed as constants or helper methods.\r\n\r\nThese few lines from this [blog][1] describes it nicely:\r\n\r\n&gt; Firstly the Singleton pattern is very\r\n&gt; useful if you want to create one\r\n&gt; instance of a class. For my helper\r\n&gt; class we don&#39;t really want to\r\n&gt; instantiate any copy&#39;s of the class.\r\n&gt; The reason why you shouldn&#39;t use a\r\n&gt; Singleton class is because for this\r\n&gt; helper class we don&#39;t use any\r\n&gt; variables. The singleton class would\r\n&gt; be useful if it contained a set of\r\n&gt; variables that we wanted only one set\r\n&gt; of and the methods used those\r\n&gt; variables but in our helper class we\r\n&gt; don&#39;t use any variables apart from the\r\n&gt; ones passed in (which we make final).\r\n&gt; For this reason I don&#39;t believe we\r\n&gt; want a singleton Instance because we\r\n&gt; do not want any variables and we don&#39;t\r\n&gt; want anyone instantianting this class.\r\n&gt; So if you don&#39;t want anyone\r\n&gt; instantiating the class, which is\r\n&gt; normally if you have some kind of\r\n&gt; helper/utils class then I use the what\r\n&gt; I call the static class, a class with\r\n&gt; a private constructor and only\r\n&gt; consists of Static methods without any\r\n&gt; any variables.\r\n\r\n\r\n  [1]: http://jroller.com/hoskinator/entry/static_classes_in_java","title":"What is the difference between a Singleton pattern and a static class in Java?","body":"<p><strong>Singleton Class :</strong> \nSingleton Class is class of which only single instance can exists per classloader.</p>\n\n<p><strong>Helper Class (Class with only static fields/methods) :</strong>\nNo instance of this class exists. Only fields and methods can be directly accessed as constants or helper methods.</p>\n\n<p>These few lines from this <a href=\"http://jroller.com/hoskinator/entry/static_classes_in_java\" rel=\"nofollow noreferrer\">blog</a> describes it nicely:</p>\n\n<blockquote>\n  <p>Firstly the Singleton pattern is very\n  useful if you want to create one\n  instance of a class. For my helper\n  class we don't really want to\n  instantiate any copy's of the class.\n  The reason why you shouldn't use a\n  Singleton class is because for this\n  helper class we don't use any\n  variables. The singleton class would\n  be useful if it contained a set of\n  variables that we wanted only one set\n  of and the methods used those\n  variables but in our helper class we\n  don't use any variables apart from the\n  ones passed in (which we make final).\n  For this reason I don't believe we\n  want a singleton Instance because we\n  do not want any variables and we don't\n  want anyone instantianting this class.\n  So if you don't want anyone\n  instantiating the class, which is\n  normally if you have some kind of\n  helper/utils class then I use the what\n  I call the static class, a class with\n  a private constructor and only\n  consists of Static methods without any\n  any variables.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":26261,"reputation":1495,"user_id":68150,"accept_rate":50,"display_name":"instcode"},"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1697400600,"creation_date":1282322180,"answer_id":3532918,"question_id":3532161,"body_markdown":"Let me sum up :)\r\n\r\nThe essential difference is: The existence form of a singleton is an object, static is not. This conduced the following things:\r\n\r\n- Singleton can be extended. Static can&#39;t be.\r\n- Singleton creation may not be threadsafe if it isn&#39;t implemented properly. Static is threadsafe.\r\n- Singleton can be passed around as an object. Static can&#39;t be.\r\n- Singleton can be garbage collected. Static can&#39;t be.\r\n- Singleton is better than static class!\r\n- More here that I haven&#39;t realized yet :)\r\n\r\nLast but not least, whenever you are going to implement a singleton, please consider to redesign your idea to not use this God object (believe me, you will tend to put all the &quot;interesting&quot; stuff in this class) and use a normal class named &quot;Context&quot; or something like that instead.","title":"What is the difference between a Singleton pattern and a static class in Java?","body":"<p>Let me sum up :)</p>\n<p>The essential difference is: The existence form of a singleton is an object, static is not. This conduced the following things:</p>\n<ul>\n<li>Singleton can be extended. Static can't be.</li>\n<li>Singleton creation may not be threadsafe if it isn't implemented properly. Static is threadsafe.</li>\n<li>Singleton can be passed around as an object. Static can't be.</li>\n<li>Singleton can be garbage collected. Static can't be.</li>\n<li>Singleton is better than static class!</li>\n<li>More here that I haven't realized yet :)</li>\n</ul>\n<p>Last but not least, whenever you are going to implement a singleton, please consider to redesign your idea to not use this God object (believe me, you will tend to put all the &quot;interesting&quot; stuff in this class) and use a normal class named &quot;Context&quot; or something like that instead.</p>\n"},{"tags":[],"owner":{"account_id":5821485,"reputation":702,"user_id":4589419,"display_name":"AtaerCaner"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1487321232,"creation_date":1487321232,"answer_id":42293261,"question_id":3532161,"body_markdown":"I think, significant thing is &#39;object&#39; in object oriented programing. Except from few cases we should restrict to usage of static classes. That cases are:\r\n\r\n 1. When the create an object is meaningless. Like methods of *java.lang.Math*. We can use the class like an object. Because the behavior of *Math* class methods doesn&#39;t depend on the state of the objects to be created in this class. \r\n 2. Codes to be used jointly by more than one object method, the codes that do not reach the object&#39;s variables and are likely to be closed out can be static methods\r\n\r\nAnother important thing is singleton is extensible. Singleton can be extended. In the *Math* class, using final methods, the creation and extension of the object of this class has been avoided. The same is true for the *java.lang.System* class. However, the *Runtime* class is a single object, not a static method. In this case you can override the inheritance methods of the *Runtime* class for different purposes. \r\n\r\nYou can delay the creation of a Singleton object until it is needed **(lazy loading)**. However, for static method classes, there is no such thing as a condition. If you reach any static member of the class, the class will be loaded into memory.\r\n\r\n\r\nAs a result, the most basic benefit to the static method class is that you do not have to create an object, but when used improperly, it will remove your code from being object-oriented. \r\n","title":"What is the difference between a Singleton pattern and a static class in Java?","body":"<p>I think, significant thing is 'object' in object oriented programing. Except from few cases we should restrict to usage of static classes. That cases are:</p>\n\n<ol>\n<li>When the create an object is meaningless. Like methods of <em>java.lang.Math</em>. We can use the class like an object. Because the behavior of <em>Math</em> class methods doesn't depend on the state of the objects to be created in this class. </li>\n<li>Codes to be used jointly by more than one object method, the codes that do not reach the object's variables and are likely to be closed out can be static methods</li>\n</ol>\n\n<p>Another important thing is singleton is extensible. Singleton can be extended. In the <em>Math</em> class, using final methods, the creation and extension of the object of this class has been avoided. The same is true for the <em>java.lang.System</em> class. However, the <em>Runtime</em> class is a single object, not a static method. In this case you can override the inheritance methods of the <em>Runtime</em> class for different purposes. </p>\n\n<p>You can delay the creation of a Singleton object until it is needed <strong>(lazy loading)</strong>. However, for static method classes, there is no such thing as a condition. If you reach any static member of the class, the class will be loaded into memory.</p>\n\n<p>As a result, the most basic benefit to the static method class is that you do not have to create an object, but when used improperly, it will remove your code from being object-oriented. </p>\n"}],"owner":{"account_id":51215,"reputation":8964,"user_id":152993,"accept_rate":93,"display_name":"cesar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30327,"favorite_count":0,"down_vote_count":2,"up_vote_count":46,"closed_date":1505432350,"accepted_answer_id":3532683,"answer_count":12,"score":44,"last_activity_date":1697400600,"creation_date":1282316746,"question_id":3532161,"body_markdown":"How is a singleton different from a class filled with only static fields?","title":"What is the difference between a Singleton pattern and a static class in Java?","body":"<p>How is a singleton different from a class filled with only static fields?</p>\n"},{"tags":["java","spring","spring-boot","mongock"],"answers":[{"tags":[],"owner":{"account_id":17889056,"reputation":1273,"user_id":12995983,"display_name":"Mongock team"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697138027,"creation_date":1697138027,"answer_id":77283298,"question_id":77282342,"body_markdown":"Mongock supports spring dependency injections. As explained in the [documentation][1], there are two ways, in the constructor and in the method itself.  In case you have more than one constructor, you need to indicate to Mongock which one you want to use by annotating it with `ChangeUnitConstructor`.\r\n\r\nNote that you don&#39;t need to annotate the injection with `@Autowired`. If it&#39;s injected into the spring context, Mongock is smart enough to infer it.\r\n\r\nHowever, what Mongock does support is the annotation `@Named`, which would make Mongock to look the dependency by type and bean name.\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.mongock.io/v5/features/custom-injections/index.html#with-spring-runner","title":"MongoCK ChangeUnit doesn&#39;t auto wire other spring beans as dependency","body":"<p>Mongock supports spring dependency injections. As explained in the <a href=\"https://docs.mongock.io/v5/features/custom-injections/index.html#with-spring-runner\" rel=\"nofollow noreferrer\">documentation</a>, there are two ways, in the constructor and in the method itself.  In case you have more than one constructor, you need to indicate to Mongock which one you want to use by annotating it with <code>ChangeUnitConstructor</code>.</p>\n<p>Note that you don't need to annotate the injection with <code>@Autowired</code>. If it's injected into the spring context, Mongock is smart enough to infer it.</p>\n<p>However, what Mongock does support is the annotation <code>@Named</code>, which would make Mongock to look the dependency by type and bean name.</p>\n"},{"tags":[],"owner":{"account_id":17889056,"reputation":1273,"user_id":12995983,"display_name":"Mongock team"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697399564,"creation_date":1697399564,"answer_id":77298274,"question_id":77282342,"body_markdown":"You have to take into account that the ChangeUnits aren&#39;t Spring beans. \r\nThey are POJOs managed by Mongock and supports Spring dependencies as explain above, which are retrieved from the ApplicationContext. \r\n\r\nCurrently SpEL is not supported and the ApplicationContext is not injected as it&#39;s where the beans are retrieved from. \r\n\r\nHowever, injecting the ApplicationContext is something that we have in or roadmap and it would be great if you want to contribute and make a pull request. We&#39;ll assist you in anything you need.\r\n\r\n\r\n**Alternatively**, as a workaround in your case, you can create a Bean containing your resource and access it via ApplicationContext.\r\n\r\nSomething like this:\r\n\r\n1. Declare your resource bean in your configuration/context\r\n\r\n\r\n```java\r\n@Bean(&quot;myResource&quot;)\r\npublic Resource myResource(@Value(&quot;classpath:form_layouts.json&quot;) Resource resource) {\r\n  return resource;\r\n}\r\n```\r\n\r\n\r\n\r\n2. And then inject it in the changeunit. Like this\r\n```java\r\npublic LayoutsDataInitializer(\r\n              Jackson2ObjectMapperBuilder objectMapperBuilder,\r\n              AppProperties appProperties,\r\n              @Named(&quot;myResource&quot;) Resource layouts) throws IOException {\r\n  //your constructor&#39;s code\r\n}\r\n```\r\n\r\nI haven&#39;t tested this, but it should work.\r\n","title":"MongoCK ChangeUnit doesn&#39;t auto wire other spring beans as dependency","body":"<p>You have to take into account that the ChangeUnits aren't Spring beans.\nThey are POJOs managed by Mongock and supports Spring dependencies as explain above, which are retrieved from the ApplicationContext.</p>\n<p>Currently SpEL is not supported and the ApplicationContext is not injected as it's where the beans are retrieved from.</p>\n<p>However, injecting the ApplicationContext is something that we have in or roadmap and it would be great if you want to contribute and make a pull request. We'll assist you in anything you need.</p>\n<p><strong>Alternatively</strong>, as a workaround in your case, you can create a Bean containing your resource and access it via ApplicationContext.</p>\n<p>Something like this:</p>\n<ol>\n<li>Declare your resource bean in your configuration/context</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(&quot;myResource&quot;)\npublic Resource myResource(@Value(&quot;classpath:form_layouts.json&quot;) Resource resource) {\n  return resource;\n}\n</code></pre>\n<ol start=\"2\">\n<li>And then inject it in the changeunit. Like this</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public LayoutsDataInitializer(\n              Jackson2ObjectMapperBuilder objectMapperBuilder,\n              AppProperties appProperties,\n              @Named(&quot;myResource&quot;) Resource layouts) throws IOException {\n  //your constructor's code\n}\n</code></pre>\n<p>I haven't tested this, but it should work.</p>\n"}],"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77298274,"answer_count":2,"score":0,"last_activity_date":1697399564,"creation_date":1697128241,"question_id":77282342,"body_markdown":"How do I make the ChangeUnit work with other spring beans in my app? I&#39;ve tried adding dependencies to the ChangeUnit via construction injection and setter injection, and using post construct to build the data I want to seed. But I get a \r\n\r\n`Caused by: java.lang.IllegalArgumentException: documents can not be null`\r\n\r\nexception while running the change unit, at line \r\n\r\n    mongoDatabase.getCollection(&quot;form_layouts&quot;, FormLayout.class)\r\n        .insertMany(clientSession, formLayouts)\r\n        .subscribe(insertSubscriber);\r\n\r\nhere&#39;s the code\r\n\r\n    private List&lt;FormLayout&gt; formLayouts;\r\n\r\n    @Autowired\r\n    private Jackson2ObjectMapperBuilder objectMapperBuilder;\r\n\r\n    @Autowired\r\n    private AppProperties appProperties;\r\n\r\n    @Value(&quot;classpath:form_layouts.json&quot;)\r\n    private Resource layouts;\r\n\r\n    @PostConstruct\r\n    public void initializeLayoutsJson() throws IOException {\r\n        ObjectMapper objectMapper = objectMapperBuilder.failOnUnknownProperties(Boolean.TRUE).build();\r\n        this.formLayouts = objectMapper.readValue(Files.readString(Path.of(layouts.getFile().getAbsolutePath())), new TypeReference&lt;&gt;() {\r\n        });\r\n        for (FormLayout layout : formLayouts) {\r\n            layout.setRealmId(appProperties.getRealmId());\r\n        }\r\n        log.debug(&quot;Loaded {} Layouts from file seeder JSON {}&quot;, formLayouts.size(), layouts.getFilename());\r\n        int i = 0;\r\n        for (FormLayout layout : formLayouts) {\r\n            i++;\r\n            log.debug(&quot;Layout-{} : {}&quot;, i, layout);\r\n        }\r\n    }\r\n\r\n\r\n    @Execution\r\n    public void migrationMethod(ClientSession clientSession, MongoDatabase mongoDatabase) {\r\n        final SubscriberSync&lt;InsertManyResult&gt; insertSubscriber = new MongoSubscriberSync&lt;&gt;();\r\n        mongoDatabase.getCollection(&quot;form_layouts&quot;, FormLayout.class)\r\n                .insertMany(clientSession, this.formLayouts)\r\n                .subscribe(insertSubscriber);\r\n        InsertManyResult result = insertSubscriber.getFirst();\r\n        log.info(&quot;{}.execution() wasAcknowledged: {}&quot;, this.getClass().getSimpleName(), result.wasAcknowledged());\r\n        result.getInsertedIds()\r\n                .forEach((key, value) -&gt; log.info(&quot;Added Object[{}] : {}&quot;, key, value));\r\n    }\r\n\r\nI&#39;ve also tried constructor injection\r\n\r\n    private final List&lt;FormLayout&gt; formLayouts;\r\n\r\n    public LayoutsDataInitializer(@Autowired Jackson2ObjectMapperBuilder objectMapperBuilder, @Autowired AppProperties appProperties,\r\n                                  @Value(&quot;classpath:form_layouts.json&quot;) Resource layouts) throws IOException {\r\n        ObjectMapper objectMapper = objectMapperBuilder.failOnUnknownProperties(Boolean.TRUE).build();\r\n        this.formLayouts = objectMapper.readValue(Files.readString(Path.of(layouts.getFile().getAbsolutePath())), new TypeReference&lt;&gt;() {\r\n        });\r\n        for (FormLayout layout : formLayouts) {\r\n            layout.setRealmId(appProperties.getRealmId());\r\n        }\r\n    }\r\n\r\n    @Execution\r\n    public void migrationMethod(ClientSession clientSession, MongoDatabase mongoDatabase) throws IOException {\r\n        final SubscriberSync&lt;InsertManyResult&gt; insertSubscriber = new MongoSubscriberSync&lt;&gt;();\r\n        mongoDatabase.getCollection(&quot;form_layouts&quot;, FormLayout.class)\r\n                .insertMany(clientSession, formLayouts)\r\n                .subscribe(insertSubscriber);\r\n        InsertManyResult result = insertSubscriber.getFirst();\r\n        log.info(&quot;{}.execution() wasAcknowledged: {}&quot;, this.getClass().getSimpleName(), result.wasAcknowledged());\r\n        result.getInsertedIds()\r\n                .forEach((key, value) -&gt; log.info(&quot;Added Object[{}] : {}&quot;, key, value));\r\n    }\r\n\r\nThis gives a rather cryptic error about wrong Dependency `Caused by: io.mongock.driver.api.common.DependencyInjectionException: Wrong parameter[Resource]. Dependency not found. ` in `ChangeLogRuntimeImpl`.\r\n\r\nMoving the entire logic into execution method also does not help.\r\n\r\n    @Value(&quot;classpath:form_layouts.json&quot;) \r\n    Resource layouts;\r\n    \r\n    @Execution\r\n    public void migrationMethod(ClientSession clientSession, MongoDatabase mongoDatabase) throws IOException {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, Boolean.TRUE);\r\n        List&lt;FormLayout&gt; formLayouts = objectMapper.readValue(Files.readString(Path.of(layouts.getFile().getAbsolutePath())), new TypeReference&lt;&gt;() {\r\n        });\r\n        for (FormLayout layout : formLayouts) {\r\n            layout.setRealmId(REALM_ID);\r\n        }\r\n        final SubscriberSync&lt;InsertManyResult&gt; insertSubscriber = new MongoSubscriberSync&lt;&gt;();\r\n        mongoDatabase.getCollection(&quot;form_layouts&quot;, FormLayout.class)\r\n                .insertMany(clientSession, formLayouts)\r\n                .subscribe(insertSubscriber);\r\n        InsertManyResult result = insertSubscriber.getFirst();\r\n        log.info(&quot;{}.execution() wasAcknowledged: {}&quot;, this.getClass().getSimpleName(), result.wasAcknowledged());\r\n        result.getInsertedIds()\r\n                .forEach((key, value) -&gt; log.info(&quot;Added Object[{}] : {}&quot;, key, value));\r\n    }\r\n\r\nFails as the layouts object is reported Null.","title":"MongoCK ChangeUnit doesn&#39;t auto wire other spring beans as dependency","body":"<p>How do I make the ChangeUnit work with other spring beans in my app? I've tried adding dependencies to the ChangeUnit via construction injection and setter injection, and using post construct to build the data I want to seed. But I get a</p>\n<p><code>Caused by: java.lang.IllegalArgumentException: documents can not be null</code></p>\n<p>exception while running the change unit, at line</p>\n<pre><code>mongoDatabase.getCollection(&quot;form_layouts&quot;, FormLayout.class)\n    .insertMany(clientSession, formLayouts)\n    .subscribe(insertSubscriber);\n</code></pre>\n<p>here's the code</p>\n<pre><code>private List&lt;FormLayout&gt; formLayouts;\n\n@Autowired\nprivate Jackson2ObjectMapperBuilder objectMapperBuilder;\n\n@Autowired\nprivate AppProperties appProperties;\n\n@Value(&quot;classpath:form_layouts.json&quot;)\nprivate Resource layouts;\n\n@PostConstruct\npublic void initializeLayoutsJson() throws IOException {\n    ObjectMapper objectMapper = objectMapperBuilder.failOnUnknownProperties(Boolean.TRUE).build();\n    this.formLayouts = objectMapper.readValue(Files.readString(Path.of(layouts.getFile().getAbsolutePath())), new TypeReference&lt;&gt;() {\n    });\n    for (FormLayout layout : formLayouts) {\n        layout.setRealmId(appProperties.getRealmId());\n    }\n    log.debug(&quot;Loaded {} Layouts from file seeder JSON {}&quot;, formLayouts.size(), layouts.getFilename());\n    int i = 0;\n    for (FormLayout layout : formLayouts) {\n        i++;\n        log.debug(&quot;Layout-{} : {}&quot;, i, layout);\n    }\n}\n\n\n@Execution\npublic void migrationMethod(ClientSession clientSession, MongoDatabase mongoDatabase) {\n    final SubscriberSync&lt;InsertManyResult&gt; insertSubscriber = new MongoSubscriberSync&lt;&gt;();\n    mongoDatabase.getCollection(&quot;form_layouts&quot;, FormLayout.class)\n            .insertMany(clientSession, this.formLayouts)\n            .subscribe(insertSubscriber);\n    InsertManyResult result = insertSubscriber.getFirst();\n    log.info(&quot;{}.execution() wasAcknowledged: {}&quot;, this.getClass().getSimpleName(), result.wasAcknowledged());\n    result.getInsertedIds()\n            .forEach((key, value) -&gt; log.info(&quot;Added Object[{}] : {}&quot;, key, value));\n}\n</code></pre>\n<p>I've also tried constructor injection</p>\n<pre><code>private final List&lt;FormLayout&gt; formLayouts;\n\npublic LayoutsDataInitializer(@Autowired Jackson2ObjectMapperBuilder objectMapperBuilder, @Autowired AppProperties appProperties,\n                              @Value(&quot;classpath:form_layouts.json&quot;) Resource layouts) throws IOException {\n    ObjectMapper objectMapper = objectMapperBuilder.failOnUnknownProperties(Boolean.TRUE).build();\n    this.formLayouts = objectMapper.readValue(Files.readString(Path.of(layouts.getFile().getAbsolutePath())), new TypeReference&lt;&gt;() {\n    });\n    for (FormLayout layout : formLayouts) {\n        layout.setRealmId(appProperties.getRealmId());\n    }\n}\n\n@Execution\npublic void migrationMethod(ClientSession clientSession, MongoDatabase mongoDatabase) throws IOException {\n    final SubscriberSync&lt;InsertManyResult&gt; insertSubscriber = new MongoSubscriberSync&lt;&gt;();\n    mongoDatabase.getCollection(&quot;form_layouts&quot;, FormLayout.class)\n            .insertMany(clientSession, formLayouts)\n            .subscribe(insertSubscriber);\n    InsertManyResult result = insertSubscriber.getFirst();\n    log.info(&quot;{}.execution() wasAcknowledged: {}&quot;, this.getClass().getSimpleName(), result.wasAcknowledged());\n    result.getInsertedIds()\n            .forEach((key, value) -&gt; log.info(&quot;Added Object[{}] : {}&quot;, key, value));\n}\n</code></pre>\n<p>This gives a rather cryptic error about wrong Dependency <code>Caused by: io.mongock.driver.api.common.DependencyInjectionException: Wrong parameter[Resource]. Dependency not found. </code> in <code>ChangeLogRuntimeImpl</code>.</p>\n<p>Moving the entire logic into execution method also does not help.</p>\n<pre><code>@Value(&quot;classpath:form_layouts.json&quot;) \nResource layouts;\n\n@Execution\npublic void migrationMethod(ClientSession clientSession, MongoDatabase mongoDatabase) throws IOException {\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, Boolean.TRUE);\n    List&lt;FormLayout&gt; formLayouts = objectMapper.readValue(Files.readString(Path.of(layouts.getFile().getAbsolutePath())), new TypeReference&lt;&gt;() {\n    });\n    for (FormLayout layout : formLayouts) {\n        layout.setRealmId(REALM_ID);\n    }\n    final SubscriberSync&lt;InsertManyResult&gt; insertSubscriber = new MongoSubscriberSync&lt;&gt;();\n    mongoDatabase.getCollection(&quot;form_layouts&quot;, FormLayout.class)\n            .insertMany(clientSession, formLayouts)\n            .subscribe(insertSubscriber);\n    InsertManyResult result = insertSubscriber.getFirst();\n    log.info(&quot;{}.execution() wasAcknowledged: {}&quot;, this.getClass().getSimpleName(), result.wasAcknowledged());\n    result.getInsertedIds()\n            .forEach((key, value) -&gt; log.info(&quot;Added Object[{}] : {}&quot;, key, value));\n}\n</code></pre>\n<p>Fails as the layouts object is reported Null.</p>\n"},{"tags":["java","java-stream","collectors"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1697398255,"post_id":77298190,"comment_id":136271953,"body_markdown":"Use `printf` instead. You need to access the key and value separately","body":"Use <code>printf</code> instead. You need to access the key and value separately"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697398159,"creation_date":1697398159,"answer_id":77298199,"question_id":77298190,"body_markdown":"The easiest option is to do it when printing:\r\n\r\n```\r\nresult.entrySet().stream().forEach(entry -&gt; {\r\n  System.out.printf(&quot;%s: %.2f%n&quot;, entry.key, entry.value);\r\n});\r\n","title":"How to format double resulting from stream collectors.averagingInt","body":"<p>The easiest option is to do it when printing:</p>\n<pre><code>result.entrySet().stream().forEach(entry -&gt; {\n  System.out.printf(&quot;%s: %.2f%n&quot;, entry.key, entry.value);\n});\n</code></pre>\n"}],"owner":{"account_id":29083434,"reputation":3,"user_id":22278921,"display_name":"rosojit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77298199,"answer_count":1,"score":0,"last_activity_date":1697398159,"creation_date":1697397942,"question_id":77298190,"body_markdown":"I have a map `Map&lt;String,Double&gt;` as a result of a grouping from java stream, which groups players by team and averaging their age as a solution for the task \r\n\r\n&gt; group the players by their respective teams and calculate the average age for each team.\r\n\r\nWhich is:\r\n\r\n\r\n```\r\nMap&lt;String,Double&gt; result = players.stream().collect(\r\n            Collectors.groupingBy(Player::getTeam, Collectors.averagingInt(Player::getAge)));\r\n```\r\n\r\nThe result map, when printed out for sample values shows something like:\r\n\r\n\r\n```\r\nresult.entrySet().stream().forEach(System.out::println);\r\n```\r\n\r\noutput\r\n\r\n\r\n```\r\nTottenham Hotspur=25.333333333333332\r\nLiverpool=26.333333333333332\r\nManchester City=23.666666666666668\r\nArsenal=24.0\r\nChelsea=25.333333333333332\r\nManchester United=23.0\r\n```\r\nI want to limit the decimal part to two decimal places. \r\n\r\nI have searched how to round a double which seems some how not trivial in java. But something like the below works for two decimal places:\r\n\r\n\r\n```\r\ndouble value   = 12.34567\r\ndouble rounded = (double) Math.round(value * 100) / 100;\r\n```\r\n\r\nor alternativley converting it to string with:\r\n\r\n```\r\nString result = String.format(&quot;%.2f&quot;, value);\r\n```\r\n\r\nI&#39;m ok with both solutions, but I don&#39;t know how to combine it in the stream while collecting. Is there a way to have the resulting map limited to two decimal places? \r\n","title":"How to format double resulting from stream collectors.averagingInt","body":"<p>I have a map <code>Map&lt;String,Double&gt;</code> as a result of a grouping from java stream, which groups players by team and averaging their age as a solution for the task</p>\n<blockquote>\n<p>group the players by their respective teams and calculate the average age for each team.</p>\n</blockquote>\n<p>Which is:</p>\n<pre><code>Map&lt;String,Double&gt; result = players.stream().collect(\n            Collectors.groupingBy(Player::getTeam, Collectors.averagingInt(Player::getAge)));\n</code></pre>\n<p>The result map, when printed out for sample values shows something like:</p>\n<pre><code>result.entrySet().stream().forEach(System.out::println);\n</code></pre>\n<p>output</p>\n<pre><code>Tottenham Hotspur=25.333333333333332\nLiverpool=26.333333333333332\nManchester City=23.666666666666668\nArsenal=24.0\nChelsea=25.333333333333332\nManchester United=23.0\n</code></pre>\n<p>I want to limit the decimal part to two decimal places.</p>\n<p>I have searched how to round a double which seems some how not trivial in java. But something like the below works for two decimal places:</p>\n<pre><code>double value   = 12.34567\ndouble rounded = (double) Math.round(value * 100) / 100;\n</code></pre>\n<p>or alternativley converting it to string with:</p>\n<pre><code>String result = String.format(&quot;%.2f&quot;, value);\n</code></pre>\n<p>I'm ok with both solutions, but I don't know how to combine it in the stream while collecting. Is there a way to have the resulting map limited to two decimal places?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1494126176,"post_id":43827391,"comment_id":74692412,"body_markdown":"Try increasing the delay to between 5-16","body":"Try increasing the delay to between 5-16"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1494126275,"post_id":43827391,"comment_id":74692426,"body_markdown":"I&#39;d also consider a &quot;time&quot; based solution, where the animation will run for a fixed period of time, it will generally produce an overall better solution","body":"I&#39;d also consider a &quot;time&quot; based solution, where the animation will run for a fixed period of time, it will generally produce an overall better solution"},{"owner":{"account_id":10242913,"reputation":19,"user_id":7559731,"display_name":"BigV"},"score":0,"creation_date":1494126909,"post_id":43827391,"comment_id":74692506,"body_markdown":"Thanks for the replies! \nI did already experiment with increasing the delay, and tbh, there doesn&#39;t seem to be any difference all the way up to 100. It&#39;s like the EDT is getting choked, but I have no idea why, since it&#39;s really just the opposite of the slide in, which works really well. \n\nIn regards to the time based solution that you are suggesting, could you elaborate a bit further?","body":"Thanks for the replies!  I did already experiment with increasing the delay, and tbh, there doesn&#39;t seem to be any difference all the way up to 100. It&#39;s like the EDT is getting choked, but I have no idea why, since it&#39;s really just the opposite of the slide in, which works really well.   In regards to the time based solution that you are suggesting, could you elaborate a bit further?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1494127642,"post_id":43827391,"comment_id":74692606,"body_markdown":"Remember, the timer is triggered within the EDT. Perhaps consider posting a runnable example","body":"Remember, the timer is triggered within the EDT. Perhaps consider posting a runnable example"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1494129248,"post_id":43827391,"comment_id":74692826,"body_markdown":"[mcve] is the thing we need to be able to help.","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is the thing we need to be able to help."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697397615,"creation_date":1697397615,"answer_id":77298170,"question_id":43827391,"body_markdown":"You say the slide in and the slide out are the same procedures. For the UI they are not, and this by far.\r\n\r\nWhen sliding the menu in, it is gettting wider at every iteration, so the UI needs to repeatedly repaint the menu. The underlying components get hidden bit by bit so nothing needs to be done there.\r\n\r\nWhen sliding out, the menu is getting slimmer at every iteration, so the UI needs to repeatedly repaint the menu. But now that the underlying components are becoming visible, they also need a repaint. Depending on the time it takes to render the whole UI this is noticeable more work for the UI.\r\n\r\nIf you want to prevent that (or speed up), you could\r\n- grab an image (like a screenshot) of the whole menu\r\n- grab an image (like a screenshot) of the whole underlying UI\r\n\r\nWhile sliding out, create a component that covers the whole window. For every iteration of the slide out, repeatedly draw the background image, then draw the menu image on top. This will be much faster, and once finished with the animation you remove this static image and allow the user to access the full UI again.","title":"Swing Timer and poor performance (Java, Swing)","body":"<p>You say the slide in and the slide out are the same procedures. For the UI they are not, and this by far.</p>\n<p>When sliding the menu in, it is gettting wider at every iteration, so the UI needs to repeatedly repaint the menu. The underlying components get hidden bit by bit so nothing needs to be done there.</p>\n<p>When sliding out, the menu is getting slimmer at every iteration, so the UI needs to repeatedly repaint the menu. But now that the underlying components are becoming visible, they also need a repaint. Depending on the time it takes to render the whole UI this is noticeable more work for the UI.</p>\n<p>If you want to prevent that (or speed up), you could</p>\n<ul>\n<li>grab an image (like a screenshot) of the whole menu</li>\n<li>grab an image (like a screenshot) of the whole underlying UI</li>\n</ul>\n<p>While sliding out, create a component that covers the whole window. For every iteration of the slide out, repeatedly draw the background image, then draw the menu image on top. This will be much faster, and once finished with the animation you remove this static image and allow the user to access the full UI again.</p>\n"}],"owner":{"account_id":10242913,"reputation":19,"user_id":7559731,"display_name":"BigV"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1697397615,"creation_date":1494125996,"question_id":43827391,"body_markdown":"I have a problem regarding a **Swing Timer**. I&#39;m trying to create a &quot;sliding&quot; animation for a **JPanel** that comes sliding in from the side when pressing a button. This actually works fine, but when I want it to slide out again, I am hit by extremely poor performance. Note: the JPanel is in a *JLayeredPane* and there are other components beneath it (it that matters at all). \r\n\r\nHere is the code for slide in:\r\n\r\n    int boundsTo = GlobalValue.getLargeInformationBarWidth();\r\n            final int[] boundsNow = {0};\r\n            inSlideTimer = new Timer(1, ae -&gt; {\r\n                if (boundsTo &gt; boundsNow[0]){\r\n                    boundsNow[0] = boundsNow[0] + 3;\r\n                    JourneyPlannerBarController.getInstance().getInformationBar().setBounds(0, 0, boundsNow[0], window.getFrame().getHeight());\r\n                    JourneyPlannerBarController.getInstance().getInformationBar().revalidate();\r\n                    JourneyPlannerBarController.getInstance().getInformationBar().repaint();\r\n                } else {\r\n                    inSlideTimer.stop();\r\n                    inSlideTimer = null;\r\n                }\r\n            });\r\n            inSlideTimer.start();\r\n            JourneyPlannerBarController.getInstance().setupLargeJourneyPlannerBar();\r\n    }\r\n\r\n\r\nand here is the code for the slide out:\r\n\r\n    int boundsTo = 0;\r\n    final int[] boundsNow = {GlobalValue.getLargeInformationBarWidth()};\r\n    inSlideTimer = new Timer(1, ae -&gt; {\r\n            if (boundsTo &lt;= boundsNow[0]) {\r\n                boundsNow[0] = boundsNow[0] - 3;\r\n                JourneyPlannerBarController.getInstance().getInformationBar().setBounds(0, 0, boundsNow[0], window.getFrame().getHeight());\r\n                JourneyPlannerBarController.getInstance().getInformationBar().revalidate();\r\n                JourneyPlannerBarController.getInstance().getInformationBar().repaint();\r\n\r\n            } else {\r\n                inSlideTimer.stop();\r\n                inSlideTimer = null;\r\n                JourneyPlannerBarController.getInstance().clearJourneyPlannerBar();\r\n                CanvasController.repaintCanvas();\r\n            }\r\n    });\r\n    inSlideTimer.start();\r\n    }\r\n\r\nAs can be seen, the two chunks of code are almost identical, but the performance difference really is quite something. I have been trying to read up on SwingWorker, EDT and more, but I have so far not found anything that can help me.","title":"Swing Timer and poor performance (Java, Swing)","body":"<p>I have a problem regarding a <strong>Swing Timer</strong>. I'm trying to create a \"sliding\" animation for a <strong>JPanel</strong> that comes sliding in from the side when pressing a button. This actually works fine, but when I want it to slide out again, I am hit by extremely poor performance. Note: the JPanel is in a <em>JLayeredPane</em> and there are other components beneath it (it that matters at all). </p>\n\n<p>Here is the code for slide in:</p>\n\n<pre><code>int boundsTo = GlobalValue.getLargeInformationBarWidth();\n        final int[] boundsNow = {0};\n        inSlideTimer = new Timer(1, ae -&gt; {\n            if (boundsTo &gt; boundsNow[0]){\n                boundsNow[0] = boundsNow[0] + 3;\n                JourneyPlannerBarController.getInstance().getInformationBar().setBounds(0, 0, boundsNow[0], window.getFrame().getHeight());\n                JourneyPlannerBarController.getInstance().getInformationBar().revalidate();\n                JourneyPlannerBarController.getInstance().getInformationBar().repaint();\n            } else {\n                inSlideTimer.stop();\n                inSlideTimer = null;\n            }\n        });\n        inSlideTimer.start();\n        JourneyPlannerBarController.getInstance().setupLargeJourneyPlannerBar();\n}\n</code></pre>\n\n<p>and here is the code for the slide out:</p>\n\n<pre><code>int boundsTo = 0;\nfinal int[] boundsNow = {GlobalValue.getLargeInformationBarWidth()};\ninSlideTimer = new Timer(1, ae -&gt; {\n        if (boundsTo &lt;= boundsNow[0]) {\n            boundsNow[0] = boundsNow[0] - 3;\n            JourneyPlannerBarController.getInstance().getInformationBar().setBounds(0, 0, boundsNow[0], window.getFrame().getHeight());\n            JourneyPlannerBarController.getInstance().getInformationBar().revalidate();\n            JourneyPlannerBarController.getInstance().getInformationBar().repaint();\n\n        } else {\n            inSlideTimer.stop();\n            inSlideTimer = null;\n            JourneyPlannerBarController.getInstance().clearJourneyPlannerBar();\n            CanvasController.repaintCanvas();\n        }\n});\ninSlideTimer.start();\n}\n</code></pre>\n\n<p>As can be seen, the two chunks of code are almost identical, but the performance difference really is quite something. I have been trying to read up on SwingWorker, EDT and more, but I have so far not found anything that can help me.</p>\n"},{"tags":["java","postgresql","spring-data-jpa","jpa-2.2"],"comments":[{"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"score":0,"creation_date":1562835790,"post_id":56985174,"comment_id":100505666,"body_markdown":"you can do this findAllByStatusOrderByStudentNameAsc","body":"you can do this findAllByStatusOrderByStudentNameAsc"}],"answers":[{"tags":[],"owner":{"account_id":1229279,"reputation":1864,"user_id":1194202,"accept_rate":73,"display_name":"Johna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562835571,"creation_date":1562835571,"answer_id":56985377,"question_id":56985174,"body_markdown":"Just put the following method signature in your repository and call it where you need with argument &#39;Active&#39;.    \r\n\r\n    List&lt;Student&gt; findAllByStatusOrderByStudentNameAsc(String status);","title":"How to sort By Name and status Active for JPA repository query?","body":"<p>Just put the following method signature in your repository and call it where you need with argument 'Active'.    </p>\n\n<pre><code>List&lt;Student&gt; findAllByStatusOrderByStudentNameAsc(String status);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7141303,"reputation":6626,"user_id":5458827,"accept_rate":0,"display_name":"riorio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1562836318,"creation_date":1562835643,"answer_id":56985403,"question_id":56985174,"body_markdown":"In your `StudentRepository` interface, that extends `Repository / JpaRepository` you can add a method signature like that:\r\n\r\n    public interface StudentRepository extends ....{\r\n      List&lt;Student&gt; findAllByStatusOrderByStudentNameAsc(String status);\r\n    }","title":"How to sort By Name and status Active for JPA repository query?","body":"<p>In your <code>StudentRepository</code> interface, that extends <code>Repository / JpaRepository</code> you can add a method signature like that:</p>\n\n<pre><code>public interface StudentRepository extends ....{\n  List&lt;Student&gt; findAllByStatusOrderByStudentNameAsc(String status);\n}\n</code></pre>\n"}],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4727,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56985403,"answer_count":2,"score":0,"last_activity_date":1697396649,"creation_date":1562834931,"question_id":56985174,"body_markdown":"I am developing **Spring Boot + Spring Data JPA + Postgres + Lombok** example. In this example, I want to fetch all student firstName is ASC order and whose status in `Active`.\r\n\r\nI developed below query, which works fine, but I don&#39;t see a way to also use `status=Active` here in `JpaRepository` query.\r\n\r\nNote: In my case, `status` field is `Enum` in Java.\r\n\r\nIs there any way if we can do the same? I know I can fetch all students and then using streams can easily filter, but using JpaRepository query, is there any way?\r\n\r\n\r\n    List&lt;Student&gt; students = studentRepository.findAll(new Sort(Sort.Direction.ASC, &quot;studentName&quot;));","title":"How to sort By Name and status Active for JPA repository query?","body":"<p>I am developing <strong>Spring Boot + Spring Data JPA + Postgres + Lombok</strong> example. In this example, I want to fetch all student firstName is ASC order and whose status in <code>Active</code>.</p>\n<p>I developed below query, which works fine, but I don't see a way to also use <code>status=Active</code> here in <code>JpaRepository</code> query.</p>\n<p>Note: In my case, <code>status</code> field is <code>Enum</code> in Java.</p>\n<p>Is there any way if we can do the same? I know I can fetch all students and then using streams can easily filter, but using JpaRepository query, is there any way?</p>\n<pre><code>List&lt;Student&gt; students = studentRepository.findAll(new Sort(Sort.Direction.ASC, &quot;studentName&quot;));\n</code></pre>\n"},{"tags":["java","testing","libgdx","junit4","entity-component-system"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1696699810,"post_id":77250514,"comment_id":136188067,"body_markdown":"I don&#39;t think JUnit is suitable for testing GUIs. There are GUI testing tools. Maybe this webpage will help: https://www.geeksforgeeks.org/software-testing-gui-testing-tool/","body":"I don&#39;t think JUnit is suitable for testing GUIs. There are GUI testing tools. Maybe this webpage will help: <a href=\"https://www.geeksforgeeks.org/software-testing-gui-testing-tool/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/software-testing-gui-testing-tool</a>"},{"owner":{"account_id":29620553,"reputation":1,"user_id":22701659,"display_name":"Max"},"score":0,"creation_date":1696710294,"post_id":77250514,"comment_id":136189070,"body_markdown":"I am not testing a GUI. I just run my application via a &quot;HeadlessApplication&quot; and the units  (bodies) that I place in the libgdx world are following their behavior tree. But it seems like I am missing something fundamental for reseting the game between two test methods. Thanks for your comment.","body":"I am not testing a GUI. I just run my application via a &quot;HeadlessApplication&quot; and the units  (bodies) that I place in the libgdx world are following their behavior tree. But it seems like I am missing something fundamental for reseting the game between two test methods. Thanks for your comment."},{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1696712671,"post_id":77250514,"comment_id":136189286,"body_markdown":"It&#39;s always better to _show_ concrete code than to describe code in an abstract way. Show your code so that people don&#39;t have to guess what it looks like.","body":"It&#39;s always better to <i>show</i> concrete code than to describe code in an abstract way. Show your code so that people don&#39;t have to guess what it looks like."},{"owner":{"account_id":29620553,"reputation":1,"user_id":22701659,"display_name":"Max"},"score":0,"creation_date":1696714898,"post_id":77250514,"comment_id":136189461,"body_markdown":"I have added code snippets. I hope that helps a bit to understand the issue better. In the end the big question is how to write junit tests for an entity component system that is using libgdx as its engine.","body":"I have added code snippets. I hope that helps a bit to understand the issue better. In the end the big question is how to write junit tests for an entity component system that is using libgdx as its engine."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696849694,"post_id":77250514,"comment_id":136201234,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":29620553,"reputation":1,"user_id":22701659,"display_name":"Max"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697395967,"creation_date":1697395967,"answer_id":77298058,"question_id":77250514,"body_markdown":"I have found the issue in my setup. Actually I had two issues that had an impact on the behavior when performing mulitple test after each other.\r\n\r\n1. I tried to delete entities after the test (for clean up reasons) based on the &quot;SteerableComponent&quot; but this component was already removed when an entity died during the test.\r\n\r\n2. When updating the engine it is important to avoid the below code because the delta time between two test cases is bigger than the usual delta time which can lead to issues. \r\n`engine.update(Gdx.graphics.getDeltaTime());`\r\n","title":"Using Junit4 for game tests based on libgdx/ECS. Tests failing if executed together","body":"<p>I have found the issue in my setup. Actually I had two issues that had an impact on the behavior when performing mulitple test after each other.</p>\n<ol>\n<li><p>I tried to delete entities after the test (for clean up reasons) based on the &quot;SteerableComponent&quot; but this component was already removed when an entity died during the test.</p>\n</li>\n<li><p>When updating the engine it is important to avoid the below code because the delta time between two test cases is bigger than the usual delta time which can lead to issues.\n<code>engine.update(Gdx.graphics.getDeltaTime());</code></p>\n</li>\n</ol>\n"}],"owner":{"account_id":29620553,"reputation":1,"user_id":22701659,"display_name":"Max"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77298058,"answer_count":1,"score":-2,"last_activity_date":1697395967,"creation_date":1696694058,"question_id":77250514,"body_markdown":"Long story short: I am developing a small game with libgdx/ECS (Entity-Component-System) and had now mutiple times the issue that I changed the code and afterwards some other behavior was not working like expected (e.g. units were not able anymore to move to target position).\r\n\r\nTo avoid such issues in the future my idea was to create simple game tests with junit4. After setting up everything I have now the strange issue that the test cases are passing if I execute them separately. As soon as I try to run them together they are failing. \r\n\r\nIn the @BeforeClass method I create the libgdx &quot;world&quot; load the engine and add all required systems for the tests. Each @Test class adds all the entities (including libgdx bodies) required for the test and runs the engine for a specific amount of time. In the @After method I make sure that I delete all entities/bodies that the test has added.\r\n\r\n    @BeforeClass // executed once before all tests are performed \r\n\tpublic static void setupWorld() {\r\n\r\n\t\tworld = new World(new Vector2(0, 0), true);\r\n\t\t//create a pooled engine\r\n\t\tengine = new PooledEngine();\r\n\t\t\r\n\t\ttestUtility = new TestUtility(engine, world);\r\n\r\n\t\t// init factories\r\n\t\tbodyFactory = BodyFactory.getInstance(world);\r\n\t\tunitFactory = UnitFactory.getInstance(bodyFactory, engine);\r\n\t\tbattleMap = new BattleMap(sceneryFactory, engine, 123, 0); // create a battle map without any terrain or scenery\r\n\r\n\t\t// add all the relevant systems our engine should run\r\n\t\tengine.addSystem(new FormationSystem());\r\n        engine.addSystem(new PhysicsSystem(world));\r\n        engine.addSystem(new FollowPathSystem(battleMap));\r\n        engine.addSystem(new FollowFlowFieldSystem()); // this system works only for units!\r\n        engine.addSystem(new ArriveSystem());\r\n        engine.addSystem(new TurnTowardsSystem(engine));\r\n\t\tengine.addSystem(new FightSystem(engine, world));}\r\n\r\n    @After\r\n\tpublic void cleanUp() throws Exception {\r\n\t\t// destroy all bodies in the world\r\n\t\ttestUtility.destroyObsoleteStaticBodies();\r\n\t\ttestUtility.destroyObsoleteDynamicBodies();\r\n\t\t// remove all steerable entities\r\n\t\tengine.removeAllEntities(Family.all(SteerableComponent.class).get());\r\n\t\t// remove all entities that contain the static body components\r\n\t\tengine.removeAllEntities(Family.all(BodyComponent.class).get());\r\n\t\tengine.clearPools();\r\n\t\t// check if world is reset correctly\r\n\t\tassertEquals(&quot;Number of bodies in the world should be zero.&quot;, 0, world.getBodyCount());\r\n\t\tassertEquals(&quot;Number of fixtures in the world should be zero.&quot;, 0, world.getFixtureCount());\r\n\t}\r\n\r\nHere an example of the test (just to get an idea how it looks like)\r\n\r\n    @Test\r\n\tpublic void checkIfUnitTurnTowardsAttackingEnemy() {\r\n\t\tplaceUnits(new Vector2(5,5), new Vector2(5,6));\r\n\t\ttestUtility.runEngine(5, false);\r\n\t\t// get the steerable of the enemy unit to check if it has turned around\r\n\t\tSteerableComponent steerComp = engine.getEntitiesFor(Family.all(Enemy_Tag.class).get()).get(0).getComponent(SteerableComponent.class);\r\n\t\tfloat orientationAngle = MathHelper.simplifyAngle((float)Math.toDegrees(steerComp.body.getAngle()));\r\n\t\tassertTrue(&quot;Enemy unit that got attacked should have turned around. Offset in degrees: &quot; + (orientationAngle-180), orientationAngle &lt;= 180 + SteerableComponent.ANGLE_REACHED_THRESHOLD \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   &amp;&amp; orientationAngle &gt;= 180 - SteerableComponent.ANGLE_REACHED_THRESHOLD);\r\n\t\tassertTrue(&quot;Enemy should have angular velocity of zero.&quot;, steerComp.body.getAngularVelocity() &lt;= SteerableComponent.ZERO_ANGULAR_SPEED_THRESHOLD);\r\n\t}\r\n\r\nWhat else am I missing? Btw I am using the @RunWith([GdxTestRunner.class](https://github.com/TomGrill/gdx-testing/blob/master/tests/src/de/tomgrill/gdxtesting/GdxTestRunner.java)). This is required to be able to access behavior tree files during the tests.\r\n\r\n\r\nI have even tried to remove all code from the @BeforeClass method and put everything in the @Before method but this leads to the same problem. \r\n\r\nMaybe testing libgdx games based on ECS is in general not recommended with junit. Any help is appreciated.\r\n","title":"Using Junit4 for game tests based on libgdx/ECS. Tests failing if executed together","body":"<p>Long story short: I am developing a small game with libgdx/ECS (Entity-Component-System) and had now mutiple times the issue that I changed the code and afterwards some other behavior was not working like expected (e.g. units were not able anymore to move to target position).</p>\n<p>To avoid such issues in the future my idea was to create simple game tests with junit4. After setting up everything I have now the strange issue that the test cases are passing if I execute them separately. As soon as I try to run them together they are failing.</p>\n<p>In the @BeforeClass method I create the libgdx &quot;world&quot; load the engine and add all required systems for the tests. Each @Test class adds all the entities (including libgdx bodies) required for the test and runs the engine for a specific amount of time. In the @After method I make sure that I delete all entities/bodies that the test has added.</p>\n<pre><code>@BeforeClass // executed once before all tests are performed \npublic static void setupWorld() {\n\n    world = new World(new Vector2(0, 0), true);\n    //create a pooled engine\n    engine = new PooledEngine();\n    \n    testUtility = new TestUtility(engine, world);\n\n    // init factories\n    bodyFactory = BodyFactory.getInstance(world);\n    unitFactory = UnitFactory.getInstance(bodyFactory, engine);\n    battleMap = new BattleMap(sceneryFactory, engine, 123, 0); // create a battle map without any terrain or scenery\n\n    // add all the relevant systems our engine should run\n    engine.addSystem(new FormationSystem());\n    engine.addSystem(new PhysicsSystem(world));\n    engine.addSystem(new FollowPathSystem(battleMap));\n    engine.addSystem(new FollowFlowFieldSystem()); // this system works only for units!\n    engine.addSystem(new ArriveSystem());\n    engine.addSystem(new TurnTowardsSystem(engine));\n    engine.addSystem(new FightSystem(engine, world));}\n\n@After\npublic void cleanUp() throws Exception {\n    // destroy all bodies in the world\n    testUtility.destroyObsoleteStaticBodies();\n    testUtility.destroyObsoleteDynamicBodies();\n    // remove all steerable entities\n    engine.removeAllEntities(Family.all(SteerableComponent.class).get());\n    // remove all entities that contain the static body components\n    engine.removeAllEntities(Family.all(BodyComponent.class).get());\n    engine.clearPools();\n    // check if world is reset correctly\n    assertEquals(&quot;Number of bodies in the world should be zero.&quot;, 0, world.getBodyCount());\n    assertEquals(&quot;Number of fixtures in the world should be zero.&quot;, 0, world.getFixtureCount());\n}\n</code></pre>\n<p>Here an example of the test (just to get an idea how it looks like)</p>\n<pre><code>@Test\npublic void checkIfUnitTurnTowardsAttackingEnemy() {\n    placeUnits(new Vector2(5,5), new Vector2(5,6));\n    testUtility.runEngine(5, false);\n    // get the steerable of the enemy unit to check if it has turned around\n    SteerableComponent steerComp = engine.getEntitiesFor(Family.all(Enemy_Tag.class).get()).get(0).getComponent(SteerableComponent.class);\n    float orientationAngle = MathHelper.simplifyAngle((float)Math.toDegrees(steerComp.body.getAngle()));\n    assertTrue(&quot;Enemy unit that got attacked should have turned around. Offset in degrees: &quot; + (orientationAngle-180), orientationAngle &lt;= 180 + SteerableComponent.ANGLE_REACHED_THRESHOLD \n                                                                               &amp;&amp; orientationAngle &gt;= 180 - SteerableComponent.ANGLE_REACHED_THRESHOLD);\n    assertTrue(&quot;Enemy should have angular velocity of zero.&quot;, steerComp.body.getAngularVelocity() &lt;= SteerableComponent.ZERO_ANGULAR_SPEED_THRESHOLD);\n}\n</code></pre>\n<p>What else am I missing? Btw I am using the @RunWith(<a href=\"https://github.com/TomGrill/gdx-testing/blob/master/tests/src/de/tomgrill/gdxtesting/GdxTestRunner.java\" rel=\"nofollow noreferrer\">GdxTestRunner.class</a>). This is required to be able to access behavior tree files during the tests.</p>\n<p>I have even tried to remove all code from the @BeforeClass method and put everything in the @Before method but this leads to the same problem.</p>\n<p>Maybe testing libgdx games based on ECS is in general not recommended with junit. Any help is appreciated.</p>\n"},{"tags":["java","reactjs","database","many-to-one"],"owner":{"account_id":2326248,"reputation":1,"user_id":2040694,"display_name":"Daniel Claire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697395914,"creation_date":1697395914,"question_id":77298053,"body_markdown":"I need to get and put a value from a Java JPA database but cannot. This value (countryId) is an integer which hinges the many to one relationship (product/country). I can get and put the rest of the values from the &#39;product&#39; table no problem.\r\n\r\n[controller](https://i.stack.imgur.com/JQ6zV.jpg)\r\n\r\n[form](https://i.stack.imgur.com/i8F7C.jpg)\r\n\r\nChanging the id value from Postman works.\r\n\r\n[postman](https://i.stack.imgur.com/r3kKd.jpg)\r\n\r\nI just need to know how to handle the getting a putting from the react side.\r\n\r\n```\r\n\r\nimport axios from &#39;axios&#39;\r\nimport React, { useEffect, useState } from &#39;react&#39;\r\nimport { Link, useNavigate, useParams } from &#39;react-router-dom&#39;\r\n\r\nexport default function EditProduct() {\r\n\r\n    let navigate=useNavigate();\r\n    const {id}=useParams();\r\n    \r\n    const [product,setProduct]= useState({\r\n        productName:&quot;&quot;,\r\n        productDescription:&quot;&quot;,\r\n        productPrice:&quot;&quot;,\r\n        transAvailable:&quot;&quot;,\r\n        countryId:0\r\n    });\r\n\r\n    const{productName,productDescription,productPrice,transAvailable,countryId}=product;\r\n\r\n    const onInputChange=(e)=&gt;{\r\n        setProduct({...product,[e.target.name]: e.target.value});\r\n    };\r\n\r\n    useEffect(() =&gt; {\r\n        loadProduct();\r\n    },[]);\r\n\r\n    const onSubmit= async(e)=&gt;{\r\n        e.preventDefault();\r\n        await axios.put(`http://localhost:8080/product/${id}/`, product);\r\n         navigate(`/viewproduct/${id}`);\r\n    };\r\n\r\n    const loadProduct =async ()=&gt;{\r\n        const result=await axios.get(`http://localhost:8080/product/${id}/`);\r\n        setProduct(result.data);\r\n    };\r\n\r\n  return (\r\n    &lt;div className=&quot;container&quot;&gt;\r\n        &lt;div className =&quot;row&quot;&gt;\r\n            &lt;div className=&quot;col-md-6 offset-md-3 border rounded p-4 mt-2 shadow&quot;&gt;\r\n                &lt;h2 className=&quot;text-center&quot;&gt;Edit Product&lt;/h2&gt;\r\n                &lt;form onSubmit={(e) =&gt; onSubmit(e)}&gt;\r\n                &lt;div className=&quot;mb-3 mt-4&quot;&gt;\r\n                    &lt;label htmlFor=&quot;ProductName&quot; className=&quot;form-label&quot;&gt;\r\n                        Product to edit\r\n                    &lt;/label&gt;\r\n                    &lt;input\r\n                        type={&quot;text&quot;}\r\n                        className=&quot;form-control&quot;\r\n                        placeholder=&quot;Enter product&quot;\r\n                        name=&quot;productName&quot;\r\n                        value={productName}\r\n                        onChange={(e)=&gt;onInputChange(e)}\r\n                    /&gt;\r\n                &lt;/div&gt;\r\n\r\n                &lt;div className=&quot;mb-3&quot;&gt;\r\n                    &lt;label htmlFor=&quot;ProductDescription&quot; className=&quot;form-label&quot;&gt;\r\n                        UPC/ID #\r\n                    &lt;/label&gt;\r\n                    &lt;input\r\n                        type={&quot;text&quot;}\r\n                        className=&quot;form-control&quot;\r\n                        placeholder=&quot;Enter UPC/ID #&quot;\r\n                        name=&quot;productDescription&quot;\r\n                        value={productDescription}\r\n                        onChange={(e)=&gt;onInputChange(e)}\r\n                    /&gt;\r\n                &lt;/div&gt;\r\n\r\n                &lt;div className=&quot;mb-3&quot;&gt;\r\n                    &lt;label htmlFor=&quot;Price&quot; className=&quot;form-label&quot;&gt;\r\n                        Price\r\n                    &lt;/label&gt;\r\n                    &lt;input\r\n                        type={&quot;text&quot;}\r\n                        className=&quot;form-control&quot;\r\n                        placeholder=&quot;Enter price&quot;\r\n                        name=&quot;productPrice&quot;\r\n                        value={productPrice}\r\n                        onChange={(e)=&gt;onInputChange(e)}\r\n                    /&gt;\r\n                &lt;/div&gt;\r\n\r\n                &lt;div className=&quot;mb-3&quot;&gt;\r\n                    &lt;label htmlFor=&quot;TransactionAvailable&quot; className=&quot;form-label&quot;&gt;\r\n                     Available Transaction\r\n                    &lt;/label&gt;\r\n                    &lt;input\r\n                        type={&quot;text&quot;}\r\n                        className=&quot;form-control&quot;\r\n                        placeholder=&quot;Enter price&quot;\r\n                        name=&quot;transAvailable&quot;\r\n                        value={transAvailable}\r\n                        onChange={(e)=&gt;onInputChange(e)}\r\n                    /&gt;\r\n                &lt;/div&gt;\r\n\r\n                &lt;div className=&quot;mb-3&quot;&gt;\r\n                    &lt;label htmlFor=&quot;CountryId&quot; className=&quot;form-label&quot;&gt;\r\n                        Country ID\r\n                    &lt;/label&gt;\r\n                    &lt;input\r\n                        type={&quot;number&quot;}\r\n                        className=&quot;form-control&quot;\r\n                        placeholder=&quot;Enter country ID&quot;\r\n                        name=&quot;countryId&quot;\r\n                        value={countryId}\r\n                        onChange={(e)=&gt;onInputChange(e)}\r\n                    /&gt;\r\n                &lt;/div&gt;\r\n\r\n                &lt;button type=&quot;submit&quot; className=&quot;btn btn-outline-primary&quot; &gt;\r\n                    Submit\r\n                &lt;/button&gt;\r\n                &lt;Link className=&quot;btn btn-outline-danger mx-2&quot; to=&quot;/&quot;&gt;\r\n                    Cancel\r\n                &lt;/Link&gt;\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;    \r\n  );\r\n}\r\n```\r\n\r\n","title":"Cannot get or put a value which hinges a many to one JPA DB relationship","body":"<p>I need to get and put a value from a Java JPA database but cannot. This value (countryId) is an integer which hinges the many to one relationship (product/country). I can get and put the rest of the values from the 'product' table no problem.</p>\n<p><a href=\"https://i.stack.imgur.com/JQ6zV.jpg\" rel=\"nofollow noreferrer\">controller</a></p>\n<p><a href=\"https://i.stack.imgur.com/i8F7C.jpg\" rel=\"nofollow noreferrer\">form</a></p>\n<p>Changing the id value from Postman works.</p>\n<p><a href=\"https://i.stack.imgur.com/r3kKd.jpg\" rel=\"nofollow noreferrer\">postman</a></p>\n<p>I just need to know how to handle the getting a putting from the react side.</p>\n<pre><code>\nimport axios from 'axios'\nimport React, { useEffect, useState } from 'react'\nimport { Link, useNavigate, useParams } from 'react-router-dom'\n\nexport default function EditProduct() {\n\n    let navigate=useNavigate();\n    const {id}=useParams();\n    \n    const [product,setProduct]= useState({\n        productName:&quot;&quot;,\n        productDescription:&quot;&quot;,\n        productPrice:&quot;&quot;,\n        transAvailable:&quot;&quot;,\n        countryId:0\n    });\n\n    const{productName,productDescription,productPrice,transAvailable,countryId}=product;\n\n    const onInputChange=(e)=&gt;{\n        setProduct({...product,[e.target.name]: e.target.value});\n    };\n\n    useEffect(() =&gt; {\n        loadProduct();\n    },[]);\n\n    const onSubmit= async(e)=&gt;{\n        e.preventDefault();\n        await axios.put(`http://localhost:8080/product/${id}/`, product);\n         navigate(`/viewproduct/${id}`);\n    };\n\n    const loadProduct =async ()=&gt;{\n        const result=await axios.get(`http://localhost:8080/product/${id}/`);\n        setProduct(result.data);\n    };\n\n  return (\n    &lt;div className=&quot;container&quot;&gt;\n        &lt;div className =&quot;row&quot;&gt;\n            &lt;div className=&quot;col-md-6 offset-md-3 border rounded p-4 mt-2 shadow&quot;&gt;\n                &lt;h2 className=&quot;text-center&quot;&gt;Edit Product&lt;/h2&gt;\n                &lt;form onSubmit={(e) =&gt; onSubmit(e)}&gt;\n                &lt;div className=&quot;mb-3 mt-4&quot;&gt;\n                    &lt;label htmlFor=&quot;ProductName&quot; className=&quot;form-label&quot;&gt;\n                        Product to edit\n                    &lt;/label&gt;\n                    &lt;input\n                        type={&quot;text&quot;}\n                        className=&quot;form-control&quot;\n                        placeholder=&quot;Enter product&quot;\n                        name=&quot;productName&quot;\n                        value={productName}\n                        onChange={(e)=&gt;onInputChange(e)}\n                    /&gt;\n                &lt;/div&gt;\n\n                &lt;div className=&quot;mb-3&quot;&gt;\n                    &lt;label htmlFor=&quot;ProductDescription&quot; className=&quot;form-label&quot;&gt;\n                        UPC/ID #\n                    &lt;/label&gt;\n                    &lt;input\n                        type={&quot;text&quot;}\n                        className=&quot;form-control&quot;\n                        placeholder=&quot;Enter UPC/ID #&quot;\n                        name=&quot;productDescription&quot;\n                        value={productDescription}\n                        onChange={(e)=&gt;onInputChange(e)}\n                    /&gt;\n                &lt;/div&gt;\n\n                &lt;div className=&quot;mb-3&quot;&gt;\n                    &lt;label htmlFor=&quot;Price&quot; className=&quot;form-label&quot;&gt;\n                        Price\n                    &lt;/label&gt;\n                    &lt;input\n                        type={&quot;text&quot;}\n                        className=&quot;form-control&quot;\n                        placeholder=&quot;Enter price&quot;\n                        name=&quot;productPrice&quot;\n                        value={productPrice}\n                        onChange={(e)=&gt;onInputChange(e)}\n                    /&gt;\n                &lt;/div&gt;\n\n                &lt;div className=&quot;mb-3&quot;&gt;\n                    &lt;label htmlFor=&quot;TransactionAvailable&quot; className=&quot;form-label&quot;&gt;\n                     Available Transaction\n                    &lt;/label&gt;\n                    &lt;input\n                        type={&quot;text&quot;}\n                        className=&quot;form-control&quot;\n                        placeholder=&quot;Enter price&quot;\n                        name=&quot;transAvailable&quot;\n                        value={transAvailable}\n                        onChange={(e)=&gt;onInputChange(e)}\n                    /&gt;\n                &lt;/div&gt;\n\n                &lt;div className=&quot;mb-3&quot;&gt;\n                    &lt;label htmlFor=&quot;CountryId&quot; className=&quot;form-label&quot;&gt;\n                        Country ID\n                    &lt;/label&gt;\n                    &lt;input\n                        type={&quot;number&quot;}\n                        className=&quot;form-control&quot;\n                        placeholder=&quot;Enter country ID&quot;\n                        name=&quot;countryId&quot;\n                        value={countryId}\n                        onChange={(e)=&gt;onInputChange(e)}\n                    /&gt;\n                &lt;/div&gt;\n\n                &lt;button type=&quot;submit&quot; className=&quot;btn btn-outline-primary&quot; &gt;\n                    Submit\n                &lt;/button&gt;\n                &lt;Link className=&quot;btn btn-outline-danger mx-2&quot; to=&quot;/&quot;&gt;\n                    Cancel\n                &lt;/Link&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;    \n  );\n}\n</code></pre>\n"},{"tags":["java","spring-boot","asynchronous","process","thread-safety"],"answers":[{"tags":[],"owner":{"account_id":27840255,"reputation":91,"user_id":21256858,"display_name":"Masim207"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697357229,"creation_date":1697357229,"answer_id":77295769,"question_id":77295529,"body_markdown":"you can implement asynchronous client requests using the RestTemplate or the newer WebClient for making HTTP requests.\r\n\r\n","title":"Implementing asynchronous client requests in a Spring Boot application","body":"<p>you can implement asynchronous client requests using the RestTemplate or the newer WebClient for making HTTP requests.</p>\n"},{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697395116,"creation_date":1697395116,"answer_id":77298009,"question_id":77295529,"body_markdown":"Yes, you can achieve this.  \r\n\r\nFirst a sort of sequence diagram of what I think you are wanting to do:\r\n\r\n```\r\n  Client (1)----id----&gt; Server (2)-----id---&gt; Upstream\r\n                               &lt;---ack----(3)\r\n                               &lt;-response-(4) Upstream\r\n                               (5)----ack---&gt;\r\n         &lt;-response-(6)   \r\n\r\n```\r\nTo read my untested code, let&#39;s assume the client sends `id` to the Server and this sends the same identifier to the Upstream, which sends a `UpstreamResponse` that is passed back to the client. \r\n\r\n\r\nI have assumed that the `id` from the client is a unique request and there is no chance of two client requests arriving around the same time with the same `id`, and I am assuming the the upstream calls back to the server with that `id` so you can link up the response to the appropriate client call.\r\n\r\nI suggest you use `ConcurrentHashMap` to hold the a one-slot queue for the pending answer.  (This kind of map is threadsafe.). The `BlockingQueue` is the synchronisation tool - that the original thread waits on for the answer.\r\n\r\n```\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.Map;\r\nimport java.util.concurrent.ArrayBlockingQueue;\r\nimport java.util.concurrent.BlockingQueue;\r\nimport java.util.concurrent.ConcurrentHashMap;\r\n\r\n@RestController\r\n@RequestMapping\r\npublic class MyController {\r\n\r\n    private Map&lt;Integer, BlockingQueue&lt;UpstreamResponse&gt;&gt; queuesById = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    @GetMapping(path = &quot;/endpoint/{id}&quot;)\r\n    public ResponseEntity&lt;UpstreamResponse&gt; getUpstreamAnswer(@PathVariable Integer id) {\r\n        // register interest in later incoming request from upstream service\r\n        BlockingQueue&lt;UpstreamResponse&gt; queue = new ArrayBlockingQueue&lt;&gt;(1);\r\n        if(queuesById.put(id, queue) != null) {\r\n            // there was already another request for the same id waiting for a response from the upstream service\r\n            // now what?\r\n        }\r\n\r\n        // make some upstream request based in the id given\r\n        // upstreamService.invoke(id)\r\n\r\n        // now await the answer from upstream\r\n        // use queue.take() if you want to block forever, else use poll(time, unit)\r\n        try {\r\n            UpstreamResponse upstreamResponse = queue.take();\r\n            // remove used Queue - better to do in an outer `finally`\r\n            queuesById.remove(id);\r\n\r\n            return ResponseEntity.status(HttpStatus.OK).body(upstreamResponse);\r\n        }\r\n        catch(InterruptedException ie) {\r\n            // handle this\r\n        }\r\n    }\r\n\r\n\r\n    @PostMapping(path = &quot;/upstreamWebhook/{id}&quot;)\r\n    public ResponseEntity&lt;Void&gt; runGameAction(@PathVariable Integer id, @ModelAttribute UpstreamResponse upstreamAsyncAnswer) {\r\n        BlockingQueue&lt;UpstreamResponse&gt; queue = queuesById.get(id);\r\n        if(queue!=null) {\r\n            if(!queue.offer(upstreamAsyncAnswer)) {\r\n                // handle error that the queue already had 1 item - expect the offer to be accepted\r\n            }\r\n        }\r\n         else {\r\n            // no thread waiting for this response, what do with the response?\r\n        }\r\n        return ResponseEntity.status(HttpStatus.NO_CONTENT).build();\r\n    }\r\n\r\n\r\n    public static class UpstreamResponse {\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nSeveral edge cases to consider, but this should point you in the right direction.","title":"Implementing asynchronous client requests in a Spring Boot application","body":"<p>Yes, you can achieve this.</p>\n<p>First a sort of sequence diagram of what I think you are wanting to do:</p>\n<pre><code>  Client (1)----id----&gt; Server (2)-----id---&gt; Upstream\n                               &lt;---ack----(3)\n                               &lt;-response-(4) Upstream\n                               (5)----ack---&gt;\n         &lt;-response-(6)   \n\n</code></pre>\n<p>To read my untested code, let's assume the client sends <code>id</code> to the Server and this sends the same identifier to the Upstream, which sends a <code>UpstreamResponse</code> that is passed back to the client.</p>\n<p>I have assumed that the <code>id</code> from the client is a unique request and there is no chance of two client requests arriving around the same time with the same <code>id</code>, and I am assuming the the upstream calls back to the server with that <code>id</code> so you can link up the response to the appropriate client call.</p>\n<p>I suggest you use <code>ConcurrentHashMap</code> to hold the a one-slot queue for the pending answer.  (This kind of map is threadsafe.). The <code>BlockingQueue</code> is the synchronisation tool - that the original thread waits on for the answer.</p>\n<pre><code>import org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.Map;\nimport java.util.concurrent.ArrayBlockingQueue;\nimport java.util.concurrent.BlockingQueue;\nimport java.util.concurrent.ConcurrentHashMap;\n\n@RestController\n@RequestMapping\npublic class MyController {\n\n    private Map&lt;Integer, BlockingQueue&lt;UpstreamResponse&gt;&gt; queuesById = new ConcurrentHashMap&lt;&gt;();\n\n    @GetMapping(path = &quot;/endpoint/{id}&quot;)\n    public ResponseEntity&lt;UpstreamResponse&gt; getUpstreamAnswer(@PathVariable Integer id) {\n        // register interest in later incoming request from upstream service\n        BlockingQueue&lt;UpstreamResponse&gt; queue = new ArrayBlockingQueue&lt;&gt;(1);\n        if(queuesById.put(id, queue) != null) {\n            // there was already another request for the same id waiting for a response from the upstream service\n            // now what?\n        }\n\n        // make some upstream request based in the id given\n        // upstreamService.invoke(id)\n\n        // now await the answer from upstream\n        // use queue.take() if you want to block forever, else use poll(time, unit)\n        try {\n            UpstreamResponse upstreamResponse = queue.take();\n            // remove used Queue - better to do in an outer `finally`\n            queuesById.remove(id);\n\n            return ResponseEntity.status(HttpStatus.OK).body(upstreamResponse);\n        }\n        catch(InterruptedException ie) {\n            // handle this\n        }\n    }\n\n\n    @PostMapping(path = &quot;/upstreamWebhook/{id}&quot;)\n    public ResponseEntity&lt;Void&gt; runGameAction(@PathVariable Integer id, @ModelAttribute UpstreamResponse upstreamAsyncAnswer) {\n        BlockingQueue&lt;UpstreamResponse&gt; queue = queuesById.get(id);\n        if(queue!=null) {\n            if(!queue.offer(upstreamAsyncAnswer)) {\n                // handle error that the queue already had 1 item - expect the offer to be accepted\n            }\n        }\n         else {\n            // no thread waiting for this response, what do with the response?\n        }\n        return ResponseEntity.status(HttpStatus.NO_CONTENT).build();\n    }\n\n\n    public static class UpstreamResponse {\n\n    }\n}\n\n</code></pre>\n<p>Several edge cases to consider, but this should point you in the right direction.</p>\n"}],"owner":{"account_id":11946879,"reputation":23,"user_id":8741792,"display_name":"vamsi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697395116,"creation_date":1697351439,"question_id":77295529,"body_markdown":"Is it possible to implement the following workflow in a Spring Boot application: the client initiates a request to the server, leading to a subsequent call to an upstream service. While the upstream service promptly acknowledges the request, it delivers the actual response to our server through a webhook after a certain delay. \r\n\r\nIn this situation, is it achievable to have the client&#39;s thread pause, waiting for us to append the response received from the webhook, and subsequently resume it to send the complete response back to the client?\r\n\r\n","title":"Implementing asynchronous client requests in a Spring Boot application","body":"<p>Is it possible to implement the following workflow in a Spring Boot application: the client initiates a request to the server, leading to a subsequent call to an upstream service. While the upstream service promptly acknowledges the request, it delivers the actual response to our server through a webhook after a certain delay.</p>\n<p>In this situation, is it achievable to have the client's thread pause, waiting for us to append the response received from the webhook, and subsequently resume it to send the complete response back to the client?</p>\n"},{"tags":["java","hadoop","apache-spark","apache-spark-sql","parquet"],"comments":[{"owner":{"account_id":6886591,"reputation":12914,"user_id":5291448,"display_name":"Glennie Helles Sindholt"},"score":1,"creation_date":1458129925,"post_id":36034928,"comment_id":59719251,"body_markdown":"Hmm, yes - I remember running into this. Am trying to think of what the problem was... Which version of Spark? How many partitions do you have? Are you running on AWS EMR and is `Path` by any chance &quot;s3n://...&quot;?","body":"Hmm, yes - I remember running into this. Am trying to think of what the problem was... Which version of Spark? How many partitions do you have? Are you running on AWS EMR and is <code>Path</code> by any chance &quot;s3n://...&quot;?"},{"owner":{"account_id":3077208,"reputation":496,"user_id":2606255,"accept_rate":8,"display_name":"Aditya Calangutkar"},"score":0,"creation_date":1458131013,"post_id":36034928,"comment_id":59720019,"body_markdown":"Spark version is 1.4.1. I am running this on normal 5 node hadoop cluster.    Path is also normal hdfs path.","body":"Spark version is 1.4.1. I am running this on normal 5 node hadoop cluster.    Path is also normal hdfs path."},{"owner":{"account_id":4166553,"reputation":39856,"user_id":3415409,"accept_rate":93,"display_name":"eliasah"},"score":1,"creation_date":1458131739,"post_id":36034928,"comment_id":59720574,"body_markdown":"can you try to perform an action on the `dataframe` that you want to write into parquet ? (e.g `count`) There is an explainable division by zero somewhere that we need to isolate !","body":"can you try to perform an action on the <code>dataframe</code> that you want to write into parquet ? (e.g <code>count</code>) There is an explainable division by zero somewhere that we need to isolate !"},{"owner":{"account_id":6886591,"reputation":12914,"user_id":5291448,"display_name":"Glennie Helles Sindholt"},"score":1,"creation_date":1458132367,"post_id":36034928,"comment_id":59721097,"body_markdown":"Oh, I completely missed the `ArithmeticException` (thanks for the reformatting @eliasah :)). In that case, it&#39;s not a familiar problem to me, and I agree with @eliasah&#39;s comment.","body":"Oh, I completely missed the <code>ArithmeticException</code> (thanks for the reformatting @eliasah :)). In that case, it&#39;s not a familiar problem to me, and I agree with @eliasah&#39;s comment."},{"owner":{"account_id":4166553,"reputation":39856,"user_id":3415409,"accept_rate":93,"display_name":"eliasah"},"score":0,"creation_date":1458132467,"post_id":36034928,"comment_id":59721186,"body_markdown":"@GlennieHellesSindholt i have developed a pattern recognition in my eyes.  Reformatting helps too ! :))","body":"@GlennieHellesSindholt i have developed a pattern recognition in my eyes.  Reformatting helps too ! :))"},{"owner":{"account_id":3077208,"reputation":496,"user_id":2606255,"accept_rate":8,"display_name":"Aditya Calangutkar"},"score":0,"creation_date":1458132766,"post_id":36034928,"comment_id":59721399,"body_markdown":"Actually I am not using any division logic in my code. I dont know from where it is coming. Any other solution?","body":"Actually I am not using any division logic in my code. I dont know from where it is coming. Any other solution?"},{"owner":{"account_id":3077208,"reputation":496,"user_id":2606255,"accept_rate":8,"display_name":"Aditya Calangutkar"},"score":0,"creation_date":1458196309,"post_id":36034928,"comment_id":59753935,"body_markdown":"Hi Guys, Any help?","body":"Hi Guys, Any help?"},{"owner":{"account_id":6626728,"reputation":4315,"user_id":5116707,"accept_rate":88,"display_name":"WoodChopper"},"score":0,"creation_date":1469426041,"post_id":36034928,"comment_id":64511792,"body_markdown":"Its not just division logic some thing like toInt() or anything Exception will lead the this error. Could you post the code how you created dataframe?","body":"Its not just division logic some thing like toInt() or anything Exception will lead the this error. Could you post the code how you created dataframe?"},{"owner":{"account_id":3077208,"reputation":496,"user_id":2606255,"accept_rate":8,"display_name":"Aditya Calangutkar"},"score":0,"creation_date":1469514814,"post_id":36034928,"comment_id":64553716,"body_markdown":"The problem was parquet schema was not getting generated. so spark tries to find the some statistics from parquet schema and also tries to divide by count or something where this fails as it gets zero as the value.","body":"The problem was parquet schema was not getting generated. so spark tries to find the some statistics from parquet schema and also tries to divide by count or something where this fails as it gets zero as the value."}],"answers":[{"tags":[],"owner":{"account_id":2894895,"reputation":2037,"user_id":2482894,"display_name":"leo9r"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1469760387,"creation_date":1469760387,"answer_id":38649761,"question_id":36034928,"body_markdown":"I found that **disabling speculation** prevents this error from happening. I&#39;m not very sure why. It seems that speculative and non-speculative tasks are conflicting when writing parquet rows.\r\n\r\n    sparkConf.set(&quot;spark.speculation&quot;,&quot;false&quot;)","title":"Spark Exception : Task failed while writing rows","body":"<p>I found that <strong>disabling speculation</strong> prevents this error from happening. I'm not very sure why. It seems that speculative and non-speculative tasks are conflicting when writing parquet rows.</p>\n\n<pre><code>sparkConf.set(\"spark.speculation\",\"false\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3255523,"reputation":4267,"user_id":2744726,"accept_rate":79,"display_name":"Carlos Bribiescas"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1485976893,"creation_date":1485976893,"answer_id":41987935,"question_id":36034928,"body_markdown":"Another possible reason is that you&#39;re hitting s3 request rate limits.  If you look closely at your logs you may see something like this\r\n\r\n```AmazonS3Exception: Please reduce your request rate.```\r\n\r\nWhile the Spark UI will say \r\n\r\n```Task failed while writing rows```\r\n\r\nI doubt its the reason you&#39;re getting an issue, but its a possible reason if you&#39;re running a highly intensive job.  So I included just for answer&#39;s completeness.","title":"Spark Exception : Task failed while writing rows","body":"<p>Another possible reason is that you're hitting s3 request rate limits.  If you look closely at your logs you may see something like this</p>\n\n<p><code>AmazonS3Exception: Please reduce your request rate.</code></p>\n\n<p>While the Spark UI will say </p>\n\n<p><code>Task failed while writing rows</code></p>\n\n<p>I doubt its the reason you're getting an issue, but its a possible reason if you're running a highly intensive job.  So I included just for answer's completeness.</p>\n"},{"tags":[],"owner":{"account_id":2611206,"reputation":12820,"user_id":2261274,"display_name":"stevel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486048004,"creation_date":1486048004,"answer_id":42005664,"question_id":36034928,"body_markdown":"This is where having all the source to hand helps: paste the stack trace in an IDE that can go from stack trace to lines of code, and see what it says. It&#39;s probably just some init/config problem","title":"Spark Exception : Task failed while writing rows","body":"<p>This is where having all the source to hand helps: paste the stack trace in an IDE that can go from stack trace to lines of code, and see what it says. It's probably just some init/config problem</p>\n"},{"tags":[],"owner":{"account_id":3307407,"reputation":654,"user_id":2781787,"display_name":"Julien Nyambal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526297235,"creation_date":1526297235,"answer_id":50329173,"question_id":36034928,"body_markdown":"If ever it is still relavant, the experience I had with this issue was that I did not start hadoop. If you run spark on top of it, it might be worth starting hadoop and check again.","title":"Spark Exception : Task failed while writing rows","body":"<p>If ever it is still relavant, the experience I had with this issue was that I did not start hadoop. If you run spark on top of it, it might be worth starting hadoop and check again.</p>\n"},{"tags":[],"owner":{"account_id":11658730,"reputation":116,"user_id":8537697,"display_name":"Michal Ficek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549898215,"creation_date":1549898215,"answer_id":54633647,"question_id":36034928,"body_markdown":"In my case, I saw this error when I tried to overwrite hdfs directory which belonged to a different user. Deleting the directory a letting my process write it from scratch solved it. So I guess, more digging is appropriate in direction of user permissions on hdfs. \r\n","title":"Spark Exception : Task failed while writing rows","body":"<p>In my case, I saw this error when I tried to overwrite hdfs directory which belonged to a different user. Deleting the directory a letting my process write it from scratch solved it. So I guess, more digging is appropriate in direction of user permissions on hdfs. </p>\n"},{"tags":[],"owner":{"account_id":16378111,"reputation":1,"user_id":11829784,"display_name":"Maciej Grabowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697394498,"creation_date":1697099337,"answer_id":77278926,"question_id":36034928,"body_markdown":"In my case below command solve the issue because of values in date column or timestamp column (noticed date out of range for example 1700-01-01 for date column)\r\n\r\n```\r\n#Set the spark.sql.parquet.int96RebaseModeInWrite property\r\nspark.conf.set(&quot;spark.sql.parquet.int96RebaseModeInWrite&quot;, &quot;CORRECTED&quot;)\r\n```","title":"Spark Exception : Task failed while writing rows","body":"<p>In my case below command solve the issue because of values in date column or timestamp column (noticed date out of range for example 1700-01-01 for date column)</p>\n<pre><code>#Set the spark.sql.parquet.int96RebaseModeInWrite property\nspark.conf.set(&quot;spark.sql.parquet.int96RebaseModeInWrite&quot;, &quot;CORRECTED&quot;)\n</code></pre>\n"}],"owner":{"account_id":3077208,"reputation":496,"user_id":2606255,"accept_rate":8,"display_name":"Aditya Calangutkar"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46075,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":6,"score":11,"last_activity_date":1697394498,"creation_date":1458129132,"question_id":36034928,"body_markdown":"I am reading text files and converting them to parquet files. I am doing it using spark code. But when i try to run the code I get following exception\r\n\r\n    org.apache.spark.SparkException: Job aborted due to stage failure: Task 2 in stage 1.0 failed 4 times, most recent failure: Lost task 2.3 in stage 1.0 (TID 9, XXXX.XXX.XXX.local): org.apache.spark.SparkException: Task failed while writing rows.\r\n        at org.apache.spark.sql.sources.InsertIntoHadoopFsRelation.org$apache$spark$sql$sources$InsertIntoHadoopFsRelation$$writeRows$1(commands.scala:191)\r\n        at org.apache.spark.sql.sources.InsertIntoHadoopFsRelation$$anonfun$insert$1.apply(commands.scala:160)\r\n        at org.apache.spark.sql.sources.InsertIntoHadoopFsRelation$$anonfun$insert$1.apply(commands.scala:160)\r\n        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:63)\r\n        at org.apache.spark.scheduler.Task.run(Task.scala:70)\r\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:213)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n    Caused by: java.lang.ArithmeticException: / by zero\r\n        at parquet.hadoop.InternalParquetRecordWriter.initStore(InternalParquetRecordWriter.java:101)\r\n        at parquet.hadoop.InternalParquetRecordWriter.&lt;init&gt;(InternalParquetRecordWriter.java:94)\r\n        at parquet.hadoop.ParquetRecordWriter.&lt;init&gt;(ParquetRecordWriter.java:64)\r\n        at parquet.hadoop.ParquetOutputFormat.getRecordWriter(ParquetOutputFormat.java:282)\r\n        at parquet.hadoop.ParquetOutputFormat.getRecordWriter(ParquetOutputFormat.java:252)\r\n        at org.apache.spark.sql.parquet.ParquetOutputWriter.&lt;init&gt;(newParquet.scala:83)\r\n        at org.apache.spark.sql.parquet.ParquetRelation2$$anon$4.newInstance(newParquet.scala:229)\r\n        at org.apache.spark.sql.sources.DefaultWriterContainer.initWriters(commands.scala:470)\r\n        at org.apache.spark.sql.sources.BaseWriterContainer.executorSideSetup(commands.scala:360)\r\n        at org.apache.spark.sql.sources.InsertIntoHadoopFsRelation.org$apache$spark$sql$sources$InsertIntoHadoopFsRelation$$writeRows$1(commands.scala:172)\r\n        ... 8 more\r\n\r\nI am trying to write the dataframe in following fashion :\r\n\r\n    dataframe.write().parquet(Path)\r\n\r\nAny help is highly appreciated.\r\n","title":"Spark Exception : Task failed while writing rows","body":"<p>I am reading text files and converting them to parquet files. I am doing it using spark code. But when i try to run the code I get following exception</p>\n\n<pre><code>org.apache.spark.SparkException: Job aborted due to stage failure: Task 2 in stage 1.0 failed 4 times, most recent failure: Lost task 2.3 in stage 1.0 (TID 9, XXXX.XXX.XXX.local): org.apache.spark.SparkException: Task failed while writing rows.\n    at org.apache.spark.sql.sources.InsertIntoHadoopFsRelation.org$apache$spark$sql$sources$InsertIntoHadoopFsRelation$$writeRows$1(commands.scala:191)\n    at org.apache.spark.sql.sources.InsertIntoHadoopFsRelation$$anonfun$insert$1.apply(commands.scala:160)\n    at org.apache.spark.sql.sources.InsertIntoHadoopFsRelation$$anonfun$insert$1.apply(commands.scala:160)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:63)\n    at org.apache.spark.scheduler.Task.run(Task.scala:70)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:213)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.ArithmeticException: / by zero\n    at parquet.hadoop.InternalParquetRecordWriter.initStore(InternalParquetRecordWriter.java:101)\n    at parquet.hadoop.InternalParquetRecordWriter.&lt;init&gt;(InternalParquetRecordWriter.java:94)\n    at parquet.hadoop.ParquetRecordWriter.&lt;init&gt;(ParquetRecordWriter.java:64)\n    at parquet.hadoop.ParquetOutputFormat.getRecordWriter(ParquetOutputFormat.java:282)\n    at parquet.hadoop.ParquetOutputFormat.getRecordWriter(ParquetOutputFormat.java:252)\n    at org.apache.spark.sql.parquet.ParquetOutputWriter.&lt;init&gt;(newParquet.scala:83)\n    at org.apache.spark.sql.parquet.ParquetRelation2$$anon$4.newInstance(newParquet.scala:229)\n    at org.apache.spark.sql.sources.DefaultWriterContainer.initWriters(commands.scala:470)\n    at org.apache.spark.sql.sources.BaseWriterContainer.executorSideSetup(commands.scala:360)\n    at org.apache.spark.sql.sources.InsertIntoHadoopFsRelation.org$apache$spark$sql$sources$InsertIntoHadoopFsRelation$$writeRows$1(commands.scala:172)\n    ... 8 more\n</code></pre>\n\n<p>I am trying to write the dataframe in following fashion :</p>\n\n<pre><code>dataframe.write().parquet(Path)\n</code></pre>\n\n<p>Any help is highly appreciated.</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":22146,"reputation":9092,"user_id":54364,"accept_rate":100,"display_name":"MilkyWayJoe"},"score":0,"creation_date":1335883001,"post_id":10399207,"comment_id":13412256,"body_markdown":"Did you see this: http://stackoverflow.com/questions/3978654/java-string-enum ?","body":"Did you see this: <a href=\"http://stackoverflow.com/questions/3978654/java-string-enum\">stackoverflow.com/questions/3978654/java-string-enum</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1697394267,"creation_date":1335882910,"answer_id":10399226,"question_id":10399207,"body_markdown":"Enum constants must be valid Java identifiers. You can override `toString` if you would like them *displayed* differently.\r\n\r\n    public enum SpecialChars {\r\n\r\n        OPEN_PAREN {\r\n            public String toString() {\r\n                return &quot;(&quot;;\r\n            }\r\n        },\r\n\r\n        CLOSE_PAREN {\r\n            public String toString() {\r\n                return &quot;)&quot;;\r\n            }\r\n        },\r\n\r\n        QUOTE {\r\n            public String toString() {\r\n                return &quot;&#39;&quot;;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nTo check if another string is among the valid special characters, the enum constant must be surrounded with the `String.valueOf()` method and then compared with the `equals()` method.\r\n\r\n    String element = &quot;(&quot;;\r\n    if (element.equals(String.valueOf(SpecialChars.OPEN_PAREN))) {}","title":"Special characters in an enum","body":"<p>Enum constants must be valid Java identifiers. You can override <code>toString</code> if you would like them <em>displayed</em> differently.</p>\n<pre><code>public enum SpecialChars {\n\n    OPEN_PAREN {\n        public String toString() {\n            return &quot;(&quot;;\n        }\n    },\n\n    CLOSE_PAREN {\n        public String toString() {\n            return &quot;)&quot;;\n        }\n    },\n\n    QUOTE {\n        public String toString() {\n            return &quot;'&quot;;\n        }\n    }\n\n}\n</code></pre>\n<p>To check if another string is among the valid special characters, the enum constant must be surrounded with the <code>String.valueOf()</code> method and then compared with the <code>equals()</code> method.</p>\n<pre><code>String element = &quot;(&quot;;\nif (element.equals(String.valueOf(SpecialChars.OPEN_PAREN))) {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":360576,"reputation":60355,"user_id":702638,"accept_rate":98,"display_name":"Hunter McMillen"},"down_vote_count":1,"up_vote_count":27,"is_accepted":true,"score":26,"last_activity_date":1459348785,"creation_date":1335883024,"answer_id":10399247,"question_id":10399207,"body_markdown":"You could do something like this:\r\n\r\n    private enum SpecialChars{\r\n       COMMA(&quot;,&quot;),\r\n       APOSTROPHE(&quot;&#39;&quot;),\r\n       OPEN_PAREN(&quot;(&quot;),\r\n       CLOSE_PAREN(&quot;)&quot;);\r\n    \r\n       private String value;\r\n       private SpecialChars(String value)\r\n       {\r\n          this.value = value;\r\n       }\r\n    \r\n       public String toString()\r\n       {\r\n          return this.value; //will return , or &#39; instead of COMMA or APOSTROPHE\r\n       }\r\n    }\r\n\r\nExample use:\r\n\r\n    public static void main(String[] args)\r\n    {\r\n       String line = //..read a line from STDIN\r\n     \r\n       //check for special characters \r\n       if(line.equals(SpecialChars.COMMA)      \r\n          || line.equals(SpecialChars.APOSTROPHE)\r\n          || line.equals(SpecialChars.OPEN_PAREN) \r\n          || line.equals(SpecialChars.CLOSE_PAREN)\r\n       ) {\r\n            //do something for the special chars\r\n       }\r\n    }","title":"Special characters in an enum","body":"<p>You could do something like this:</p>\n\n<pre><code>private enum SpecialChars{\n   COMMA(\",\"),\n   APOSTROPHE(\"'\"),\n   OPEN_PAREN(\"(\"),\n   CLOSE_PAREN(\")\");\n\n   private String value;\n   private SpecialChars(String value)\n   {\n      this.value = value;\n   }\n\n   public String toString()\n   {\n      return this.value; //will return , or ' instead of COMMA or APOSTROPHE\n   }\n}\n</code></pre>\n\n<p>Example use:</p>\n\n<pre><code>public static void main(String[] args)\n{\n   String line = //..read a line from STDIN\n\n   //check for special characters \n   if(line.equals(SpecialChars.COMMA)      \n      || line.equals(SpecialChars.APOSTROPHE)\n      || line.equals(SpecialChars.OPEN_PAREN) \n      || line.equals(SpecialChars.CLOSE_PAREN)\n   ) {\n        //do something for the special chars\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":78522,"reputation":31537,"user_id":223429,"display_name":"Eugene Kuleshov"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1356627182,"creation_date":1335883073,"answer_id":10399261,"question_id":10399207,"body_markdown":"You should use something like this instead:\r\n\r\n    private enum SpecialChars {\r\n       LEFT_BRACKET(&#39;(&#39;),\r\n       RIGHT_BRACKET(&#39;)&#39;),\r\n       QUOTE(&#39;\\&#39;&#39;);\r\n\r\n       char c;\r\n    \r\n       SpecialChars(char c) {\r\n         this.c = c;\r\n       }\r\n    \r\n       public char getChar() {\r\n         return c;\r\n       }\r\n    }\r\n\r\n","title":"Special characters in an enum","body":"<p>You should use something like this instead:</p>\n\n<pre><code>private enum SpecialChars {\n   LEFT_BRACKET('('),\n   RIGHT_BRACKET(')'),\n   QUOTE('\\'');\n\n   char c;\n\n   SpecialChars(char c) {\n     this.c = c;\n   }\n\n   public char getChar() {\n     return c;\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":1050637,"reputation":495,"user_id":1054677,"accept_rate":60,"display_name":"Confituur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36656,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":10399247,"answer_count":3,"score":20,"last_activity_date":1697394267,"creation_date":1335882835,"question_id":10399207,"body_markdown":"I want to put the special characters, the parentheses ( &#39;(&#39; and &#39;)&#39; ) and the apostrophe (&#39;), in an enum.\r\n\r\nI had this:\r\n\r\n    private enum specialChars{\r\n       &quot;(&quot;, &quot;)&quot;, &quot;&#39;&quot;\r\n    }\r\n\r\nbut it doesn&#39;t work. Java says something about invalid tokens.\r\nHow can I solve this?\r\n\r\nGrtz\r\nme.eatCookie();\r\n","title":"Special characters in an enum","body":"<p>I want to put the special characters, the parentheses ( '(' and ')' ) and the apostrophe ('), in an enum.</p>\n\n<p>I had this:</p>\n\n<pre><code>private enum specialChars{\n   \"(\", \")\", \"'\"\n}\n</code></pre>\n\n<p>but it doesn't work. Java says something about invalid tokens.\nHow can I solve this?</p>\n\n<p>Grtz\nme.eatCookie();</p>\n"},{"tags":["java","spring","junit","integration-testing","autowired"],"answers":[{"tags":[],"owner":{"account_id":6740288,"reputation":2238,"user_id":5193747,"accept_rate":47,"display_name":"Kamil W"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1539594129,"creation_date":1539594129,"answer_id":52813132,"question_id":52813038,"body_markdown":"Besides args constructor you need to have additional one no-args constructor. Try add it and check if this exception still occurcs.\r\n\r\n    @Autowired\r\n    public CoolIntegrationTest(Cool cool) {\r\n            this.cool = cool;\r\n        }\r\n    \r\n    public CoolIntegrationTest() {}","title":"Is there a way to use Autowired constructor in JUnit test using Spring or Spring Boot?","body":"<p>Besides args constructor you need to have additional one no-args constructor. Try add it and check if this exception still occurcs.</p>\n\n<pre><code>@Autowired\npublic CoolIntegrationTest(Cool cool) {\n        this.cool = cool;\n    }\n\npublic CoolIntegrationTest() {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2256418,"reputation":3983,"user_id":1987514,"accept_rate":86,"display_name":"Ben Green"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539595365,"creation_date":1539595365,"answer_id":52813501,"question_id":52813038,"body_markdown":"It&#39;s not the autowiring that&#39;s the problem, it&#39;s the no-arg constructor. JUnit test classes should have a single, no argument constructor. To achieve what you are attempting to do, you should do the following:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringBootTest\r\n    @ActiveProfiles(&quot;TestProfile&quot;)\r\n    @ContextConfiguration(classes = {IntegrationTestConfiguration.class})\r\n    public class CoolIntegrationTest {\r\n\r\n        @Autowired\r\n        private final Cool cool;\r\n\r\n        @Test\r\n        public void testCoolBehavior {\r\n            when(cool.calculateSomeCoolStuff()).thenReturn(42);\r\n            // etc\r\n        }\r\n    }\r\n\r\nThe contextConfiguration annotation tells spring which config to use for the test, and autowiring the field instead of the constructor will allow you to test your spring bean.","title":"Is there a way to use Autowired constructor in JUnit test using Spring or Spring Boot?","body":"<p>It's not the autowiring that's the problem, it's the no-arg constructor. JUnit test classes should have a single, no argument constructor. To achieve what you are attempting to do, you should do the following:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringBootTest\n@ActiveProfiles(\"TestProfile\")\n@ContextConfiguration(classes = {IntegrationTestConfiguration.class})\npublic class CoolIntegrationTest {\n\n    @Autowired\n    private final Cool cool;\n\n    @Test\n    public void testCoolBehavior {\n        when(cool.calculateSomeCoolStuff()).thenReturn(42);\n        // etc\n    }\n}\n</code></pre>\n\n<p>The contextConfiguration annotation tells spring which config to use for the test, and autowiring the field instead of the constructor will allow you to test your spring bean.</p>\n"},{"tags":[],"owner":{"account_id":5144424,"reputation":2664,"user_id":4337151,"display_name":"dehasi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539596476,"creation_date":1539596476,"answer_id":52813855,"question_id":52813038,"body_markdown":"To run a test using Spring you have to add `@RunWith(SpringRunner.class)` and make sure that your class is added to the classpath. There are a few ways to do it. I.e. \r\nAdd class to MVC configuration `@WebMvcTest({Class1.class, Class2.class})` or use `@ContextConfiguration`.\r\n\r\nBut I see your code, I suppose that it would be easier just use `@Mock` or `@MockBean` to mock your beans. It will be much easier.","title":"Is there a way to use Autowired constructor in JUnit test using Spring or Spring Boot?","body":"<p>To run a test using Spring you have to add <code>@RunWith(SpringRunner.class)</code> and make sure that your class is added to the classpath. There are a few ways to do it. I.e. \nAdd class to MVC configuration <code>@WebMvcTest({Class1.class, Class2.class})</code> or use <code>@ContextConfiguration</code>.</p>\n\n<p>But I see your code, I suppose that it would be easier just use <code>@Mock</code> or <code>@MockBean</code> to mock your beans. It will be much easier.</p>\n"},{"tags":[],"owner":{"account_id":298886,"reputation":40470,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539597174,"creation_date":1539597174,"answer_id":52814060,"question_id":52813038,"body_markdown":" JUnit requires the Test case to have a no-arg constructor, so, since you don&#39;t have one, the exception happens before the wiring process.\r\n\r\nSo Constructor-Autowiring just doesn&#39;t work in this case.\r\n\r\nSo what to do?\r\n\r\nThere are many approaches:\r\n\r\nThe easiest one (since you have spring) is taking advantage of @MockBean annotation:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n     ....\r\n    class MyTest {\r\n      \r\n       @MockBean\r\n       private Cool cool;\r\n\r\n       @Test\r\n       void testMe() {\r\n          assert(cool!= null); // its a mock actually\r\n       }\r\n    }\r\n\r\n","title":"Is there a way to use Autowired constructor in JUnit test using Spring or Spring Boot?","body":"<p>JUnit requires the Test case to have a no-arg constructor, so, since you don't have one, the exception happens before the wiring process.</p>\n\n<p>So Constructor-Autowiring just doesn't work in this case.</p>\n\n<p>So what to do?</p>\n\n<p>There are many approaches:</p>\n\n<p>The easiest one (since you have spring) is taking advantage of @MockBean annotation:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n ....\nclass MyTest {\n\n   @MockBean\n   private Cool cool;\n\n   @Test\n   void testMe() {\n      assert(cool!= null); // its a mock actually\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697394141,"creation_date":1697394141,"answer_id":77297959,"question_id":52813038,"body_markdown":"JUnit 5, Spring Boot 3.1.2. Tests passed with non-null repository:\r\n\r\n    @SpringBootTest\r\n    class ProfileControllerTest {\r\n      private final UserRepository repository;\r\n\r\n      @Autowired\r\n      public ProfileControllerTest(UserRepository repository) {\r\n        this.repository = repository;\r\n      }\r\n\r\n      @Test\r\n      void get() throws Exception {\r\n        System.out.println(repository);\r\n      }\r\n    }\r\n\r\n`@Autowired` must present for constructor","title":"Is there a way to use Autowired constructor in JUnit test using Spring or Spring Boot?","body":"<p>JUnit 5, Spring Boot 3.1.2. Tests passed with non-null repository:</p>\n<pre><code>@SpringBootTest\nclass ProfileControllerTest {\n  private final UserRepository repository;\n\n  @Autowired\n  public ProfileControllerTest(UserRepository repository) {\n    this.repository = repository;\n  }\n\n  @Test\n  void get() throws Exception {\n    System.out.println(repository);\n  }\n}\n</code></pre>\n<p><code>@Autowired</code> must present for constructor</p>\n"}],"owner":{"account_id":3507352,"reputation":587,"user_id":2932601,"accept_rate":86,"display_name":"Oleksandr Tarasenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6825,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1697394141,"creation_date":1539593807,"question_id":52813038,"body_markdown":"Assume, that I have a test configuration with several Spring beans, that are actually mocked and I want to specify the behavior of those mocks inside JUnit test suite.\r\n\r\n    @Profile(&quot;TestProfile&quot;)\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @ComponentScan(basePackages = {\r\n            &quot;some.cool.package.*&quot;})\r\n    public class IntegrationTestConfiguration {\r\n\r\n        @Bean\r\n        @Primary\r\n        public Cool cool() {\r\n            return Mockito.mock(Cool.class);\r\n        }\r\n    }\r\n\r\n    // ...\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringBootTest\r\n    @ActiveProfiles(&quot;TestProfile&quot;)\r\n    public class CoolIntegrationTest {\r\n\r\n        private final Cool cool;\r\n\r\n        @Autowired\r\n        public CoolIntegrationTest(Cool cool) {\r\n            this.cool = cool;\r\n        }\r\n\r\n        @Test\r\n        public void testCoolBehavior {\r\n            when(cool.calculateSomeCoolStuff()).thenReturn(42);\r\n            // etc\r\n        }\r\n    }\r\n\r\nIf I run this test I will get:\r\n\r\n    java.lang.Exception: Test class should have exactly one public zero-argument constructor\r\n\r\nI know the workaround like use Autowired fields in tests, but I wonder **if there a way to use Autowired annotation in JUnit tests?**","title":"Is there a way to use Autowired constructor in JUnit test using Spring or Spring Boot?","body":"<p>Assume, that I have a test configuration with several Spring beans, that are actually mocked and I want to specify the behavior of those mocks inside JUnit test suite.</p>\n\n<pre><code>@Profile(\"TestProfile\")\n@Configuration\n@EnableTransactionManagement\n@ComponentScan(basePackages = {\n        \"some.cool.package.*\"})\npublic class IntegrationTestConfiguration {\n\n    @Bean\n    @Primary\n    public Cool cool() {\n        return Mockito.mock(Cool.class);\n    }\n}\n\n// ...\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@SpringBootTest\n@ActiveProfiles(\"TestProfile\")\npublic class CoolIntegrationTest {\n\n    private final Cool cool;\n\n    @Autowired\n    public CoolIntegrationTest(Cool cool) {\n        this.cool = cool;\n    }\n\n    @Test\n    public void testCoolBehavior {\n        when(cool.calculateSomeCoolStuff()).thenReturn(42);\n        // etc\n    }\n}\n</code></pre>\n\n<p>If I run this test I will get:</p>\n\n<pre><code>java.lang.Exception: Test class should have exactly one public zero-argument constructor\n</code></pre>\n\n<p>I know the workaround like use Autowired fields in tests, but I wonder <strong>if there a way to use Autowired annotation in JUnit tests?</strong></p>\n"},{"tags":["java","android","google-mlkit"],"answers":[{"tags":[],"owner":{"account_id":20029443,"reputation":297,"user_id":14682570,"display_name":"Dev007"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697393576,"creation_date":1697393576,"answer_id":77297921,"question_id":77297634,"body_markdown":"In the **setOnTouchListener** you will get **view** coordinate. You need to change the view coordinates to Image coordinates..\r\n\r\nhere is the piece of code you need to update!!\r\n\r\n        // Set a touch listener on the ImageView\r\n        imageView.setOnTouchListener(new View.OnTouchListener() {\r\n            @Override\r\n            public boolean onTouch(View view, MotionEvent motionEvent) {\r\n                // Convert the view coordinates to image coordinates\r\n                Matrix inverse = new Matrix();\r\n                imageView.getImageMatrix().invert(inverse);\r\n                float[] touchPoint = {motionEvent.getX(), motionEvent.getY()};\r\n                inverse.mapPoints(touchPoint);\r\n\r\n                startX = touchPoint[0];\r\n                startY = touchPoint[1];\r\n\r\n                Log.d(&quot;Coordinates&quot;, &quot;X &quot; + startX + &quot; Y &quot; + startY + &quot; height=&quot; + view.getHeight());\r\n                highlightLineContainingTouchPoint(startX, startY);\r\n                return true;\r\n            }\r\n        });\r\n\r\nAnd here is the Output!\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ucyN5.png\r\n\r\nRepo Link - https://github.com/wh173d3v11/LiveTextVisionSample","title":"Problem with matching coordinates of the screen and TextRecognizer","body":"<p>In the <strong>setOnTouchListener</strong> you will get <strong>view</strong> coordinate. You need to change the view coordinates to Image coordinates..</p>\n<p>here is the piece of code you need to update!!</p>\n<pre><code>    // Set a touch listener on the ImageView\n    imageView.setOnTouchListener(new View.OnTouchListener() {\n        @Override\n        public boolean onTouch(View view, MotionEvent motionEvent) {\n            // Convert the view coordinates to image coordinates\n            Matrix inverse = new Matrix();\n            imageView.getImageMatrix().invert(inverse);\n            float[] touchPoint = {motionEvent.getX(), motionEvent.getY()};\n            inverse.mapPoints(touchPoint);\n\n            startX = touchPoint[0];\n            startY = touchPoint[1];\n\n            Log.d(&quot;Coordinates&quot;, &quot;X &quot; + startX + &quot; Y &quot; + startY + &quot; height=&quot; + view.getHeight());\n            highlightLineContainingTouchPoint(startX, startY);\n            return true;\n        }\n    });\n</code></pre>\n<p>And here is the Output!</p>\n<p><a href=\"https://i.stack.imgur.com/ucyN5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ucyN5.png\" alt=\"enter image description here\" /></a></p>\n<p>Repo Link - <a href=\"https://github.com/wh173d3v11/LiveTextVisionSample\" rel=\"nofollow noreferrer\">https://github.com/wh173d3v11/LiveTextVisionSample</a></p>\n"}],"owner":{"account_id":24018446,"reputation":3,"user_id":18001087,"display_name":"shubh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77297921,"answer_count":1,"score":0,"last_activity_date":1697393576,"creation_date":1697388497,"question_id":77297634,"body_markdown":"I am trying to imeplement **liveText** on image, and I have implemented it too. But having problem that the point where I click is not matching with the actual line of text, rather it matches with another line.\r\n\r\nI am using below library for textRecognition\r\n```\r\nimplementation &#39;com.google.android.gms:play-services-vision:20.1.3&#39;\r\n```\r\n\r\nMy code is \r\n```\r\n\r\npublic class ImageViewActivity2 extends AppCompatActivity {\r\n\r\n    private ImageView imageView;\r\n    private Bitmap sampleImage;\r\n    private SparseArray&lt;TextBlock&gt; textBlocks;\r\n\r\n    // Variables to track text selection\r\n    private float startX;\r\n    private float startY;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_image_view);\r\n\r\n        imageView = findViewById(R.id.img);\r\n\r\n        Button ocrButton = findViewById(R.id.ocrButton);\r\n\r\n        sampleImage = BitmapFactory.decodeResource(getResources(), R.drawable.he);\r\n        imageView.setImageBitmap(sampleImage);\r\n\r\n        ocrButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                startTextRecognition();\r\n            }\r\n        });\r\n\r\n        // Initialize textBlocks\r\n        textBlocks = new SparseArray&lt;&gt;();\r\n\r\n        // Set a touch listener on the ImageView\r\n\r\n        imageView.setOnTouchListener(new View.OnTouchListener() {\r\n            @Override\r\n            public boolean onTouch(View view, MotionEvent motionEvent) {\r\n\r\n                startX = motionEvent.getX();\r\n                startY = motionEvent.getY() ;\r\n\r\n                Log.d(&quot;Coordinates&quot;, &quot;X &quot;+ startX + &quot; Y &quot; + startY+&quot; height=&quot;+view.getHeight());\r\n                highlightLineContainingTouchPoint(startX, startY);\r\n                return true;\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void startTextRecognition() {\r\n        // Initialize the TextRecognizer\r\n        TextRecognizer textRecognizer = new TextRecognizer.Builder(getApplicationContext()).build();\r\n\r\n        if (!textRecognizer.isOperational()) {\r\n            // Handle cases where the text recognizer is not operational\r\n            // This may require downloading additional data or checking device settings\r\n            // You can display an error message or prompt the user to enable it\r\n            return;\r\n        }\r\n\r\n        // Create a Frame from the loaded image\r\n        Frame frame = new Frame.Builder().setBitmap(sampleImage).build();\r\n\r\n        // Perform text recognition\r\n        textBlocks = textRecognizer.detect(frame);\r\n    }\r\n\r\n    private void highlightLineContainingTouchPoint(float x, float y) {\r\n        // Initialize a new Bitmap for highlighting\r\n        Bitmap highlightedImage = sampleImage.copy(sampleImage.getConfig(), true);\r\n        Canvas canvas = new Canvas(highlightedImage);\r\n        Paint paint = new Paint();\r\n        paint.setColor(Color.YELLOW);\r\n        paint.setAlpha(128);\r\n\r\n        // Iterate over textBlocks to find the line containing the touch point\r\n        for (int i = 0; i &lt; textBlocks.size(); i++) {\r\n            TextBlock textBlock = textBlocks.valueAt(i);\r\n            for (Text line : textBlock.getComponents()) {\r\n                // Check if the touch point is within the bounding box of the line\r\n                if (x &gt;= line.getBoundingBox().left &amp;&amp;\r\n                        x &lt;= line.getBoundingBox().right &amp;&amp;\r\n                        y &gt;= line.getBoundingBox().top &amp;&amp;\r\n                        y &lt;= line.getBoundingBox().bottom) {\r\n                    float left = line.getBoundingBox().left;\r\n                    float top = line.getBoundingBox().top;\r\n                    float bottom = line.getBoundingBox().bottom;\r\n                    float right = line.getBoundingBox().right;\r\n                    Log.e(&quot;Coordinates&quot;, &quot;Line top&quot;+top+&quot;Bottom&quot;+bottom);\r\n\r\n                    // Highlight the line containing the touch point\r\n                    canvas.drawRect(left, top, right, bottom, paint);\r\n                }\r\n            }\r\n        }\r\n\r\n        // Update the ImageView with the highlighted image\r\n        imageView.setImageBitmap(highlightedImage);\r\n    }\r\n}\r\n\r\n```\r\n\r\nActually what happens is when I first tried to directly highlight all the text lines in the image then it worked perfectly and at precise location, but I want to implement live text. So I am trying to chekc that the co-ordinates at where I touch is in the range of Bounding box of any line. If so then I highlight that line considering that, that is a desired line. But actually what happens is when I click on the first line then it highlight it perfectly, but now when I touch on 3rd line then it highlights 2nd. and when 7th then highlights 3rd and so on.\r\n\r\nSo I am expecting efficient and effective solution to impelement Live Text feature. ","title":"Problem with matching coordinates of the screen and TextRecognizer","body":"<p>I am trying to imeplement <strong>liveText</strong> on image, and I have implemented it too. But having problem that the point where I click is not matching with the actual line of text, rather it matches with another line.</p>\n<p>I am using below library for textRecognition</p>\n<pre><code>implementation 'com.google.android.gms:play-services-vision:20.1.3'\n</code></pre>\n<p>My code is</p>\n<pre><code>\npublic class ImageViewActivity2 extends AppCompatActivity {\n\n    private ImageView imageView;\n    private Bitmap sampleImage;\n    private SparseArray&lt;TextBlock&gt; textBlocks;\n\n    // Variables to track text selection\n    private float startX;\n    private float startY;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_image_view);\n\n        imageView = findViewById(R.id.img);\n\n        Button ocrButton = findViewById(R.id.ocrButton);\n\n        sampleImage = BitmapFactory.decodeResource(getResources(), R.drawable.he);\n        imageView.setImageBitmap(sampleImage);\n\n        ocrButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                startTextRecognition();\n            }\n        });\n\n        // Initialize textBlocks\n        textBlocks = new SparseArray&lt;&gt;();\n\n        // Set a touch listener on the ImageView\n\n        imageView.setOnTouchListener(new View.OnTouchListener() {\n            @Override\n            public boolean onTouch(View view, MotionEvent motionEvent) {\n\n                startX = motionEvent.getX();\n                startY = motionEvent.getY() ;\n\n                Log.d(&quot;Coordinates&quot;, &quot;X &quot;+ startX + &quot; Y &quot; + startY+&quot; height=&quot;+view.getHeight());\n                highlightLineContainingTouchPoint(startX, startY);\n                return true;\n            }\n        });\n\n    }\n\n    private void startTextRecognition() {\n        // Initialize the TextRecognizer\n        TextRecognizer textRecognizer = new TextRecognizer.Builder(getApplicationContext()).build();\n\n        if (!textRecognizer.isOperational()) {\n            // Handle cases where the text recognizer is not operational\n            // This may require downloading additional data or checking device settings\n            // You can display an error message or prompt the user to enable it\n            return;\n        }\n\n        // Create a Frame from the loaded image\n        Frame frame = new Frame.Builder().setBitmap(sampleImage).build();\n\n        // Perform text recognition\n        textBlocks = textRecognizer.detect(frame);\n    }\n\n    private void highlightLineContainingTouchPoint(float x, float y) {\n        // Initialize a new Bitmap for highlighting\n        Bitmap highlightedImage = sampleImage.copy(sampleImage.getConfig(), true);\n        Canvas canvas = new Canvas(highlightedImage);\n        Paint paint = new Paint();\n        paint.setColor(Color.YELLOW);\n        paint.setAlpha(128);\n\n        // Iterate over textBlocks to find the line containing the touch point\n        for (int i = 0; i &lt; textBlocks.size(); i++) {\n            TextBlock textBlock = textBlocks.valueAt(i);\n            for (Text line : textBlock.getComponents()) {\n                // Check if the touch point is within the bounding box of the line\n                if (x &gt;= line.getBoundingBox().left &amp;&amp;\n                        x &lt;= line.getBoundingBox().right &amp;&amp;\n                        y &gt;= line.getBoundingBox().top &amp;&amp;\n                        y &lt;= line.getBoundingBox().bottom) {\n                    float left = line.getBoundingBox().left;\n                    float top = line.getBoundingBox().top;\n                    float bottom = line.getBoundingBox().bottom;\n                    float right = line.getBoundingBox().right;\n                    Log.e(&quot;Coordinates&quot;, &quot;Line top&quot;+top+&quot;Bottom&quot;+bottom);\n\n                    // Highlight the line containing the touch point\n                    canvas.drawRect(left, top, right, bottom, paint);\n                }\n            }\n        }\n\n        // Update the ImageView with the highlighted image\n        imageView.setImageBitmap(highlightedImage);\n    }\n}\n\n</code></pre>\n<p>Actually what happens is when I first tried to directly highlight all the text lines in the image then it worked perfectly and at precise location, but I want to implement live text. So I am trying to chekc that the co-ordinates at where I touch is in the range of Bounding box of any line. If so then I highlight that line considering that, that is a desired line. But actually what happens is when I click on the first line then it highlight it perfectly, but now when I touch on 3rd line then it highlights 2nd. and when 7th then highlights 3rd and so on.</p>\n<p>So I am expecting efficient and effective solution to impelement Live Text feature.</p>\n"},{"tags":["java","spring-boot","maven-plugin","lombok"],"comments":[{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1697398534,"post_id":77297895,"comment_id":136271981,"body_markdown":"Lombok 1.18.20 is a very old version. Upgrade to 1.18.30.","body":"Lombok 1.18.20 is a very old version. Upgrade to 1.18.30."},{"owner":{"account_id":4835491,"reputation":4717,"user_id":3902339,"accept_rate":100,"display_name":"ArifMustafa"},"score":0,"creation_date":1701016683,"post_id":77297895,"comment_id":136720072,"body_markdown":"@rzwitserloot is correct, I was using lombok artifact earlier version `1.18.24` and got this above OP question, simply followed his comment and replaced with `1.18.30` and that worked fine.","body":"@rzwitserloot is correct, I was using lombok artifact earlier version <code>1.18.24</code> and got this above OP question, simply followed his comment and replaced with <code>1.18.30</code> and that worked fine."},{"owner":{"account_id":7184196,"reputation":129,"user_id":5486863,"display_name":"Mark Rensen"},"score":0,"creation_date":1701169076,"post_id":77297895,"comment_id":136739287,"body_markdown":"I have this same error, but it happens when I try to run JUnit tests in maven with jdk 21. The issue has to do with incompatible versions somwhere in the dependencies. Dropping the project&#39;s jdk back to jdk17 solves the issue for me.","body":"I have this same error, but it happens when I try to run JUnit tests in maven with jdk 21. The issue has to do with incompatible versions somwhere in the dependencies. Dropping the project&#39;s jdk back to jdk17 solves the issue for me."}],"owner":{"account_id":25375632,"reputation":41,"user_id":19188819,"display_name":"Bktedr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2358,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":0,"score":2,"last_activity_date":1697393114,"creation_date":1697393114,"question_id":77297895,"body_markdown":"How can i fix &#39;java: java.lang.NoSuchFieldError: Class com.sun.tools.javac.tree.JCTree$JCImport does not have member field &#39;com.sun.tools.javac.tree.JCTree qualid&#39;&#39; error? \r\n\r\n\r\n\r\nWhen I research the problem, I encountered Java version and lombok version incompatibility problem.\r\nI use java 19 and lombok 1.18.20 version in my spring boot project. How can I fix this problem without using jdk21? ","title":"How to fix NoSuchFieldError &#39;com.sun.tools.javac.tree.JCTree","body":"<p>How can i fix 'java: java.lang.NoSuchFieldError: Class com.sun.tools.javac.tree.JCTree$JCImport does not have member field 'com.sun.tools.javac.tree.JCTree qualid'' error?</p>\n<p>When I research the problem, I encountered Java version and lombok version incompatibility problem.\nI use java 19 and lombok 1.18.20 version in my spring boot project. How can I fix this problem without using jdk21?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":7313335,"reputation":4794,"user_id":5571795,"display_name":"Hezy Ziv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697390063,"creation_date":1697390063,"answer_id":77297711,"question_id":77297244,"body_markdown":"try the following\r\n\r\n    // CALLING\r\n    initTimePicker();\r\n    timebtn.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            timepick.show();\r\n        }\r\n    });\r\n    \r\n    private void initTimePicker(){\r\n        TimePickerDialog.OnTimeSetListener timeSetListener=new TimePickerDialog.OnTimeSetListener() {\r\n            @Override\r\n            public void onTimeSet(TimePicker timePicker, int hourOfDay, int minute) {\r\n                // Check if the selected time is within your desired limits\r\n                if (isTimeWithinLimits(hourOfDay, minute)) {\r\n                    timebtn.setText(String.format(&quot;%02d:%02d&quot;, hourOfDay, minute));\r\n                } else {\r\n                    // Display an error message or handle it as needed\r\n                    Toast.makeText(MainActivity.this, &quot;Invalid time selected&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        };\r\n        \r\n        Calendar cal = Calendar.getInstance();\r\n        int hrs = cal.get(Calendar.HOUR_OF_DAY);\r\n        int mins = cal.get(Calendar.MINUTE);\r\n        int style = android.R.style.Theme_Holo_Light_Dialog;\r\n        \r\n        // Set up a custom TimePickerDialog to allow 30-minute intervals\r\n        timepick = new TimePickerDialog(this, style, timeSetListener, hrs, mins, true);\r\n        \r\n        // Set the time picker to allow 30-minute intervals\r\n        timepick.setInterval(30);\r\n    }\r\n    \r\n    private boolean isTimeWithinLimits(int hourOfDay, int minute) {\r\n        // Define your specific time limits here, for example, between 9 AM and 6 PM\r\n        int lowerLimitHour = 9;\r\n        int upperLimitHour = 18;\r\n        \r\n        // Check if the selected time is within the limits\r\n        return hourOfDay &gt;= lowerLimitHour &amp;&amp; hourOfDay &lt;= upperLimitHour &amp;&amp; minute % 30 == 0;\r\n    }\r\n\r\n","title":"I want to create interval of 30 mins and limit the time to specific hours","body":"<p>try the following</p>\n<pre><code>// CALLING\ninitTimePicker();\ntimebtn.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        timepick.show();\n    }\n});\n\nprivate void initTimePicker(){\n    TimePickerDialog.OnTimeSetListener timeSetListener=new TimePickerDialog.OnTimeSetListener() {\n        @Override\n        public void onTimeSet(TimePicker timePicker, int hourOfDay, int minute) {\n            // Check if the selected time is within your desired limits\n            if (isTimeWithinLimits(hourOfDay, minute)) {\n                timebtn.setText(String.format(&quot;%02d:%02d&quot;, hourOfDay, minute));\n            } else {\n                // Display an error message or handle it as needed\n                Toast.makeText(MainActivity.this, &quot;Invalid time selected&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    };\n    \n    Calendar cal = Calendar.getInstance();\n    int hrs = cal.get(Calendar.HOUR_OF_DAY);\n    int mins = cal.get(Calendar.MINUTE);\n    int style = android.R.style.Theme_Holo_Light_Dialog;\n    \n    // Set up a custom TimePickerDialog to allow 30-minute intervals\n    timepick = new TimePickerDialog(this, style, timeSetListener, hrs, mins, true);\n    \n    // Set the time picker to allow 30-minute intervals\n    timepick.setInterval(30);\n}\n\nprivate boolean isTimeWithinLimits(int hourOfDay, int minute) {\n    // Define your specific time limits here, for example, between 9 AM and 6 PM\n    int lowerLimitHour = 9;\n    int upperLimitHour = 18;\n    \n    // Check if the selected time is within the limits\n    return hourOfDay &gt;= lowerLimitHour &amp;&amp; hourOfDay &lt;= upperLimitHour &amp;&amp; minute % 30 == 0;\n}\n</code></pre>\n"}],"owner":{"account_id":21966721,"reputation":1,"user_id":18961686,"display_name":"Lakshit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697393050,"creation_date":1697382771,"question_id":77297244,"body_markdown":"I want to create interval of 30 mins and limit the time to specific hours in my project heres the java code\r\n\r\n```\r\n// CALLING \r\ninitTimePicker();\r\n        timebtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view)\r\n            {\r\n                timepick.show();\r\n            }\r\n        });\r\n\r\n\r\nprivate void initTimePicker(){\r\n        TimePickerDialog.OnTimeSetListener timeSetListener=new TimePickerDialog.OnTimeSetListener() {\r\n            @Override\r\n            public void onTimeSet(TimePicker timePicker, int hourOfDay, int minute) {\r\n                timebtn.setText(hourOfDay+&quot;:&quot;+minute);\r\n            }\r\n        };\r\n        Calendar cal=Calendar.getInstance();\r\n        int hrs=cal.get(Calendar.HOUR);\r\n        int mins=cal.get(Calendar.MINUTE);\r\n        int style= THEME_HOLO_LIGHT;\r\n        timepick = new TimePickerDialog(this,style,timeSetListener,hrs,mins,true);\r\n    }\r\n```","title":"I want to create interval of 30 mins and limit the time to specific hours","body":"<p>I want to create interval of 30 mins and limit the time to specific hours in my project heres the java code</p>\n<pre><code>// CALLING \ninitTimePicker();\n        timebtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view)\n            {\n                timepick.show();\n            }\n        });\n\n\nprivate void initTimePicker(){\n        TimePickerDialog.OnTimeSetListener timeSetListener=new TimePickerDialog.OnTimeSetListener() {\n            @Override\n            public void onTimeSet(TimePicker timePicker, int hourOfDay, int minute) {\n                timebtn.setText(hourOfDay+&quot;:&quot;+minute);\n            }\n        };\n        Calendar cal=Calendar.getInstance();\n        int hrs=cal.get(Calendar.HOUR);\n        int mins=cal.get(Calendar.MINUTE);\n        int style= THEME_HOLO_LIGHT;\n        timepick = new TimePickerDialog(this,style,timeSetListener,hrs,mins,true);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","tomcat"],"comments":[{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":2,"creation_date":1697381467,"post_id":77297139,"comment_id":136270105,"body_markdown":"Can you try adding the spring starter WEB dependency? From your logs, you  application stops instantly, which means there is no webserver starting","body":"Can you try adding the spring starter WEB dependency? From your logs, you  application stops instantly, which means there is no webserver starting"}],"answers":[{"tags":[],"owner":{"account_id":7532601,"reputation":474,"user_id":5720155,"display_name":"ehsan maddahi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697393021,"creation_date":1697393021,"answer_id":77297888,"question_id":77297139,"body_markdown":"please rewrite dependencies part in the pom.xml:\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\nThen in the root package implement `ApplicationLuncher` class:\r\n```\r\n@RestController\r\n@SpringBootApplication\r\npublic class ApplicationLauncher {\r\n  \r\n  public static void main(String[] args) {\r\n     SpringApplication.run(ApplicationLauncher.class, args);\r\n  }\r\n\r\n  @GetMapping\r\n  public String helloWorld() {\r\n    return &quot;Hello World&quot;;\r\n  }\r\n}\r\n```\r\nThen start spring application.\r\nTo get `Hello World` by curl command, please write `curl http://localhost:8080`.","title":"Tomcat doesn&#39;t start in Spring boot application","body":"<p>please rewrite dependencies part in the pom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n       &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Then in the root package implement <code>ApplicationLuncher</code> class:</p>\n<pre><code>@RestController\n@SpringBootApplication\npublic class ApplicationLauncher {\n  \n  public static void main(String[] args) {\n     SpringApplication.run(ApplicationLauncher.class, args);\n  }\n\n  @GetMapping\n  public String helloWorld() {\n    return &quot;Hello World&quot;;\n  }\n}\n</code></pre>\n<p>Then start spring application.\nTo get <code>Hello World</code> by curl command, please write <code>curl http://localhost:8080</code>.</p>\n"}],"owner":{"account_id":29676924,"reputation":3,"user_id":22744621,"display_name":"Pilou"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77297888,"answer_count":1,"score":0,"last_activity_date":1697393021,"creation_date":1697381179,"question_id":77297139,"body_markdown":"I wanted to create a new Spring boot test project with a basic service which returns a message but when I launch the service runs but the Tomcat server does not launch, I don&#39;t understand why.\r\n\r\nI have Spring Boot version 3.1.4 and Java version 17.\r\n\r\nThis is what the console returns :\r\n\r\n \r\n\r\n    :: Spring Boot ::                (v3.1.4)\r\n    \r\n    2023-10-15T16:37:07.111+02:00  INFO 21264 --- [           main] com.example.demo.Demo4Application        : Starting Demo4Application using Java 17.0.8.1 with PID 21264 (C:\\Users\\Pilou\\Documents\\Master2\\TP MicroService\\demo4\\target\\classes started by Pilou in C:\\Users\\Pilou\\Documents\\Master2\\TP MicroService\\demo4)\r\n    2023-10-15T16:37:07.113+02:00  INFO 21264 --- [           main] com.example.demo.Demo4Application        : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-10-15T16:37:07.469+02:00  INFO 21264 --- [           main] com.example.demo.Demo4Application        : Started Demo4Application in 0.61 seconds (process running for 0.954)\r\n    \r\n    Process finished with exit code 0\r\n\r\nI tried to force its use by doing this in the pom.xml:\r\n\r\n         &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n         &lt;/dependency&gt;\r\n\r\nThe server then launches but it systematically returns a 404 error.\r\n\r\nI should point out that I configured the port in application.properties and that I tried several times to clean it with Maven.\r\n\r\nMy pom.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.4&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;demo4&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;demo4&lt;/name&gt;\r\n        &lt;description&gt;demo4&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n                &lt;version&gt;6.0.12&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"Tomcat doesn&#39;t start in Spring boot application","body":"<p>I wanted to create a new Spring boot test project with a basic service which returns a message but when I launch the service runs but the Tomcat server does not launch, I don't understand why.</p>\n<p>I have Spring Boot version 3.1.4 and Java version 17.</p>\n<p>This is what the console returns :</p>\n<pre><code>:: Spring Boot ::                (v3.1.4)\n\n2023-10-15T16:37:07.111+02:00  INFO 21264 --- [           main] com.example.demo.Demo4Application        : Starting Demo4Application using Java 17.0.8.1 with PID 21264 (C:\\Users\\Pilou\\Documents\\Master2\\TP MicroService\\demo4\\target\\classes started by Pilou in C:\\Users\\Pilou\\Documents\\Master2\\TP MicroService\\demo4)\n2023-10-15T16:37:07.113+02:00  INFO 21264 --- [           main] com.example.demo.Demo4Application        : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-10-15T16:37:07.469+02:00  INFO 21264 --- [           main] com.example.demo.Demo4Application        : Started Demo4Application in 0.61 seconds (process running for 0.954)\n\nProcess finished with exit code 0\n</code></pre>\n<p>I tried to force its use by doing this in the pom.xml:</p>\n<pre><code>     &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n</code></pre>\n<p>The server then launches but it systematically returns a 404 error.</p>\n<p>I should point out that I configured the port in application.properties and that I tried several times to clean it with Maven.</p>\n<p>My pom.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo4&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo4&lt;/name&gt;\n    &lt;description&gt;demo4&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;6.0.12&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1697381380,"post_id":77296946,"comment_id":136270094,"body_markdown":"Can you provide the code of the `com.bestteam.urlshorter.exception.ItemNotFoundException` class?","body":"Can you provide the code of the <code>com.bestteam.urlshorter.exception.ItemNotFoundException</code> class?"}],"answers":[{"tags":[],"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697391965,"creation_date":1697391965,"answer_id":77297823,"question_id":77296946,"body_markdown":"The problem is in one of the constructors of the `ItemNotFoundException` class:\r\n\r\n```java\r\npublic ItemNotFoundException(Class&lt;?&gt; entityClass, String id) {\r\n    super(String.format(&quot;%s: {%s, id=%d}&quot;, DEFAULT_MESSAGE, entityClass.getSimpleName(), id));\r\n}\r\n```\r\n\r\nInstead of `%d` you should use `%s`.","title":"IllegalFormatConversionException in rest api service spring boot","body":"<p>The problem is in one of the constructors of the <code>ItemNotFoundException</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ItemNotFoundException(Class&lt;?&gt; entityClass, String id) {\n    super(String.format(&quot;%s: {%s, id=%d}&quot;, DEFAULT_MESSAGE, entityClass.getSimpleName(), id));\n}\n</code></pre>\n<p>Instead of <code>%d</code> you should use <code>%s</code>.</p>\n"}],"owner":{"account_id":29340026,"reputation":13,"user_id":22479646,"display_name":"Foodi0_0"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77297823,"answer_count":1,"score":1,"last_activity_date":1697391965,"creation_date":1697377799,"question_id":77296946,"body_markdown":"I am trying to write tests for my service, and some of them are not passing with desription Unexpected exception type thrown, expected: &lt;com.bestteam.urlshorter.exception.ItemNotFoundException&gt; but was: &lt;java.util.IllegalFormatConversionException&gt;\r\n\r\n```\r\n    @Test\r\n    public void testGetWhenLinkNotFoundThenThrowException() {\r\n        assertThrows(ItemNotFoundException.class, () -&gt; {\r\n            linkService.get(&quot;shortLink&quot;);\r\n        });\r\n        verify(linkRepository, times(0)).save(link);\r\n    }\r\n```\r\nand here is this get method \r\n\r\n```\r\n  public LinkDto get(String shortLink) {\r\n    Link linkEntity = linkRepository.findById(shortLink).orElseThrow(() -&gt; new ItemNotFoundException(Link.class, shortLink));\r\n    linkEntity.setOpenCount(\r\n      linkEntity.getOpenCount() + 1\r\n    );\r\n\r\n    linkRepository.save(linkEntity);\r\n    return linkMapper.toDto(linkEntity);\r\n  }\r\n```\r\nlinkMapper is a custom mapper \r\n\r\n```\r\n  public LinkDto toDto(Link link) {\r\n    if (link == null) {\r\n      return null;\r\n    }\r\n\r\n    LinkDto linkDto = new LinkDto();\r\n    linkDto.setLink(link.getLink());\r\n    linkDto.setShortLink(link.getShortLink());\r\n    linkDto.setOpenCount(link.getOpenCount());\r\n    linkDto.setIsActive(link.getIsActive());\r\n    linkDto.setCreationDateTime(link.getCreationDateTime());\r\n    linkDto.setExpirationDateTime(link.getExpirationDateTime());\r\n\r\n    if (link.getUser() != null) {\r\n      linkDto.setUserId(link.getUser().getId());\r\n    }\r\n\r\n    return linkDto;\r\n  }\r\n```\r\nThe ItemNotFoundException\r\n\r\n        @ResponseStatus(value = HttpStatus.NOT_FOUND)\r\n    public class ItemNotFoundException extends RuntimeException {\r\n      public static final String DEFAULT_MESSAGE = &quot;Entity not found&quot;;\r\n    \r\n      public ItemNotFoundException() {\r\n        super(DEFAULT_MESSAGE);\r\n      }\r\n    \r\n      public ItemNotFoundException(String message) {\r\n        super(message);\r\n      }\r\n    \r\n      public ItemNotFoundException(Class&lt;?&gt; entityClass, Long id) {\r\n        super(String.format(&quot;%s: {%s, id=%d}&quot;, DEFAULT_MESSAGE, entityClass.getSimpleName(), id));\r\n      }\r\n    \r\n      public ItemNotFoundException(Class&lt;?&gt; entityClass, String id) {\r\n        super(String.format(&quot;%s: {%s, id=%d}&quot;, DEFAULT_MESSAGE, entityClass.getSimpleName(), id));\r\n      }\r\n    }\r\n\r\n\r\nI tried to create global exception handler using AdviceController, but it did not help","title":"IllegalFormatConversionException in rest api service spring boot","body":"<p>I am trying to write tests for my service, and some of them are not passing with desription Unexpected exception type thrown, expected: &lt;com.bestteam.urlshorter.exception.ItemNotFoundException&gt; but was: &lt;java.util.IllegalFormatConversionException&gt;</p>\n<pre><code>    @Test\n    public void testGetWhenLinkNotFoundThenThrowException() {\n        assertThrows(ItemNotFoundException.class, () -&gt; {\n            linkService.get(&quot;shortLink&quot;);\n        });\n        verify(linkRepository, times(0)).save(link);\n    }\n</code></pre>\n<p>and here is this get method</p>\n<pre><code>  public LinkDto get(String shortLink) {\n    Link linkEntity = linkRepository.findById(shortLink).orElseThrow(() -&gt; new ItemNotFoundException(Link.class, shortLink));\n    linkEntity.setOpenCount(\n      linkEntity.getOpenCount() + 1\n    );\n\n    linkRepository.save(linkEntity);\n    return linkMapper.toDto(linkEntity);\n  }\n</code></pre>\n<p>linkMapper is a custom mapper</p>\n<pre><code>  public LinkDto toDto(Link link) {\n    if (link == null) {\n      return null;\n    }\n\n    LinkDto linkDto = new LinkDto();\n    linkDto.setLink(link.getLink());\n    linkDto.setShortLink(link.getShortLink());\n    linkDto.setOpenCount(link.getOpenCount());\n    linkDto.setIsActive(link.getIsActive());\n    linkDto.setCreationDateTime(link.getCreationDateTime());\n    linkDto.setExpirationDateTime(link.getExpirationDateTime());\n\n    if (link.getUser() != null) {\n      linkDto.setUserId(link.getUser().getId());\n    }\n\n    return linkDto;\n  }\n</code></pre>\n<p>The ItemNotFoundException</p>\n<pre><code>    @ResponseStatus(value = HttpStatus.NOT_FOUND)\npublic class ItemNotFoundException extends RuntimeException {\n  public static final String DEFAULT_MESSAGE = &quot;Entity not found&quot;;\n\n  public ItemNotFoundException() {\n    super(DEFAULT_MESSAGE);\n  }\n\n  public ItemNotFoundException(String message) {\n    super(message);\n  }\n\n  public ItemNotFoundException(Class&lt;?&gt; entityClass, Long id) {\n    super(String.format(&quot;%s: {%s, id=%d}&quot;, DEFAULT_MESSAGE, entityClass.getSimpleName(), id));\n  }\n\n  public ItemNotFoundException(Class&lt;?&gt; entityClass, String id) {\n    super(String.format(&quot;%s: {%s, id=%d}&quot;, DEFAULT_MESSAGE, entityClass.getSimpleName(), id));\n  }\n}\n</code></pre>\n<p>I tried to create global exception handler using AdviceController, but it did not help</p>\n"},{"tags":["java","http","proxy","cxf","jax-ws"],"answers":[{"tags":[],"owner":{"account_id":10699863,"reputation":8001,"user_id":7875623,"display_name":"Kavithakaran Kanapathippillai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592344274,"creation_date":1592344274,"answer_id":62418147,"question_id":62409824,"body_markdown":"\r\nHere is an example without using 3rd party libraries. \r\n\r\n\r\n&gt; https://github.com/schuch/jaxws-proxy-example/blob/master/jaxws-client-with-proxy/src/main/java/ch/schu/example/helloworld/Client.java\r\n\r\n```\r\npackage ch.schu.example.helloworld;\r\n\r\nimport java.net.ProxySelector;\r\n\r\nimport ch.schu.example.hello.HelloImpl;\r\nimport ch.schu.example.hello.HelloImplService;\r\n\r\npublic class Client {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        ProxySelector.setDefault(new MyProxySelector());\r\n        \r\n        HelloImplService service = new HelloImplService();\r\n        HelloImpl hello = service.getHelloImplPort();\r\n        System.out.println(hello.sayHello(&quot;Howard Wollowitz&quot;));\r\n    }\r\n    \r\n}\r\n```\r\n\r\n&gt; https://github.com/schuch/jaxws-proxy-example/blob/master/jaxws-client-with-proxy/src/main/java/ch/schu/example/helloworld/MyProxySelector.java\r\n\r\n```\r\npackage ch.schu.example.helloworld;\r\n\r\nimport java.io.IOException;\r\nimport java.net.InetSocketAddress;\r\nimport java.net.*;\r\nimport java.util.*;\r\n\r\npublic class MyProxySelector extends ProxySelector {\r\n\r\n    @Override\r\n    public List&lt;Proxy&gt; select(URI uri) \r\n    {\r\n        System.out.println(&quot;select for &quot; + uri.toString());\r\n        Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(&quot;localhost&quot;, 9999));\r\n        ArrayList&lt;Proxy&gt; list = new ArrayList&lt;Proxy&gt;();\r\n        list.add(proxy);\r\n        return list;   \r\n    }\r\n\r\n    @Override\r\n    public void connectFailed(URI uri, SocketAddress sa, IOException ioe) {\r\n        System.err.println(&quot;Connection to &quot; + uri + &quot; failed.&quot;);\r\n    }\r\n}\r\n```","title":"How to add HTTP proxy to JAX-WS?","body":"<p>Here is an example without using 3rd party libraries. </p>\n\n<blockquote>\n  <p><a href=\"https://github.com/schuch/jaxws-proxy-example/blob/master/jaxws-client-with-proxy/src/main/java/ch/schu/example/helloworld/Client.java\" rel=\"nofollow noreferrer\">https://github.com/schuch/jaxws-proxy-example/blob/master/jaxws-client-with-proxy/src/main/java/ch/schu/example/helloworld/Client.java</a></p>\n</blockquote>\n\n<pre><code>package ch.schu.example.helloworld;\n\nimport java.net.ProxySelector;\n\nimport ch.schu.example.hello.HelloImpl;\nimport ch.schu.example.hello.HelloImplService;\n\npublic class Client {\n\n    public static void main(String[] args) {\n\n        ProxySelector.setDefault(new MyProxySelector());\n\n        HelloImplService service = new HelloImplService();\n        HelloImpl hello = service.getHelloImplPort();\n        System.out.println(hello.sayHello(\"Howard Wollowitz\"));\n    }\n\n}\n</code></pre>\n\n<blockquote>\n  <p><a href=\"https://github.com/schuch/jaxws-proxy-example/blob/master/jaxws-client-with-proxy/src/main/java/ch/schu/example/helloworld/MyProxySelector.java\" rel=\"nofollow noreferrer\">https://github.com/schuch/jaxws-proxy-example/blob/master/jaxws-client-with-proxy/src/main/java/ch/schu/example/helloworld/MyProxySelector.java</a></p>\n</blockquote>\n\n<pre><code>package ch.schu.example.helloworld;\n\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.net.*;\nimport java.util.*;\n\npublic class MyProxySelector extends ProxySelector {\n\n    @Override\n    public List&lt;Proxy&gt; select(URI uri) \n    {\n        System.out.println(\"select for \" + uri.toString());\n        Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(\"localhost\", 9999));\n        ArrayList&lt;Proxy&gt; list = new ArrayList&lt;Proxy&gt;();\n        list.add(proxy);\n        return list;   \n    }\n\n    @Override\n    public void connectFailed(URI uri, SocketAddress sa, IOException ioe) {\n        System.err.println(\"Connection to \" + uri + \" failed.\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29442839,"reputation":21,"user_id":22560709,"display_name":"Barguzin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697391158,"creation_date":1697194606,"answer_id":77287177,"question_id":62409824,"body_markdown":"Im find example near your thrid solution, on your semples it be:\r\n\r\n    HelloImplService service = new HelloImplService();\r\n    HelloImpl hello = service.getHelloImplPort();\r\n    ((BindingProvider) client).getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, &quot;http://proxyIp:proxyPort&quot;);\r\n    hello.method(var1, var2);\r\n\r\nYou can look at your current endpoint address by:\r\n\r\n    System.out.println(((BindingProvider) hello).getRequestContext().get(BindingProvider.ENDPOINT_ADDRESS_PROPERTY));\r\n\r\nI found this examples there: [*Changing WSDL url ( endpoint) in JAX-WS client*][1]\r\n\r\nBtw, i have the same problem, but in my case wsdl from my server have 127.0.0.1 endpoint address and i need to replace it. And this solution works on my case.\r\nMaybe you just put a wrong properties...\r\n\r\n\r\n  [1]: https://biemond.blogspot.com/2009/04/changing-wsdl-url-endpoint-in-jax-ws.html?m=1","title":"How to add HTTP proxy to JAX-WS?","body":"<p>Im find example near your thrid solution, on your semples it be:</p>\n<pre><code>HelloImplService service = new HelloImplService();\nHelloImpl hello = service.getHelloImplPort();\n((BindingProvider) client).getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, &quot;http://proxyIp:proxyPort&quot;);\nhello.method(var1, var2);\n</code></pre>\n<p>You can look at your current endpoint address by:</p>\n<pre><code>System.out.println(((BindingProvider) hello).getRequestContext().get(BindingProvider.ENDPOINT_ADDRESS_PROPERTY));\n</code></pre>\n<p>I found this examples there: <a href=\"https://biemond.blogspot.com/2009/04/changing-wsdl-url-endpoint-in-jax-ws.html?m=1\" rel=\"nofollow noreferrer\"><em>Changing WSDL url ( endpoint) in JAX-WS client</em></a></p>\n<p>Btw, i have the same problem, but in my case wsdl from my server have 127.0.0.1 endpoint address and i need to replace it. And this solution works on my case.\nMaybe you just put a wrong properties...</p>\n"}],"owner":{"account_id":18859020,"reputation":1,"user_id":13756305,"display_name":"Aleksandrs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697391158,"creation_date":1592314542,"question_id":62409824,"body_markdown":"I have a WSDL file which I&#39;ve turned into Java code by using WSDL2Java inside SoapUI, it works fine, but now I need to add my company&#39;s proxy to it, so every SOAP http request would go through it (but not other http requests).\r\n\r\nI&#39;ve looked through multiple threads concerning the same issue and found these options:\r\n\r\n1. system wide proxy by adding \r\n\r\n    ```\r\n    System.getProperties().put(&quot;proxySet&quot;, &quot;true&quot;);\r\n    System.getProperties().put(&quot;https.proxyHost&quot;, &quot;10.10.10.10&quot;);\r\n    System.getProperties().put(&quot;https.proxyPort&quot;, &quot;8080&quot;); \r\n    ```\r\nwhich doesn&#39;t work for me, since it affect the whole jvm.\r\n\r\n2. adding the following code\r\n\r\n    ```\r\n   HelloService hello = new HelloService();\r\n   HelloPortType helloPort = cliente.getHelloPort();\r\n   org.apache.cxf.endpoint.Client client = ClientProxy.getClient(helloPort);\r\n   HTTPConduit http = (HTTPConduit) client.getConduit();\r\n   http.getClient().setProxyServer(&quot;proxy&quot;);\r\n   http.getClient().setProxyServerPort(8080);\r\n   http.getProxyAuthorization().setUserName(&quot;user proxy&quot;);\r\n   http.getProxyAuthorization().setPassword(&quot;password proxy&quot;);\r\n    ```\r\nwhich I don&#39;t get how to use. My generated code doesn&#39;t have any traces of **org.apache.cxf**, only **javax.xml.ws**.\r\n\r\n3. Adding this to my port configuration:\r\n\r\n    ```\r\n((BindingProvider) port).getRequestContext().put(&quot;http.proxyHost&quot;, &quot;proxy@example.com&quot;);\r\n((BindingProvider) port).getRequestContext().put(&quot;http.proxyPort&quot;, &quot;80&quot;);\r\n    ```\r\n\r\n Here I use a random non-existing proxy and expect to get an error of any sort(timeout, invalid proxy, etc.), but instead it goes through without any errors. \r\n\r\n","title":"How to add HTTP proxy to JAX-WS?","body":"<p>I have a WSDL file which I've turned into Java code by using WSDL2Java inside SoapUI, it works fine, but now I need to add my company's proxy to it, so every SOAP http request would go through it (but not other http requests).</p>\n\n<p>I've looked through multiple threads concerning the same issue and found these options:</p>\n\n<ol>\n<li><p>system wide proxy by adding </p>\n\n<pre><code>System.getProperties().put(\"proxySet\", \"true\");\nSystem.getProperties().put(\"https.proxyHost\", \"10.10.10.10\");\nSystem.getProperties().put(\"https.proxyPort\", \"8080\"); \n</code></pre>\n\n<p>which doesn't work for me, since it affect the whole jvm.</p></li>\n<li><p>adding the following code</p>\n\n<pre><code>HelloService hello = new HelloService();\nHelloPortType helloPort = cliente.getHelloPort();\norg.apache.cxf.endpoint.Client client = ClientProxy.getClient(helloPort);\nHTTPConduit http = (HTTPConduit) client.getConduit();\nhttp.getClient().setProxyServer(\"proxy\");\nhttp.getClient().setProxyServerPort(8080);\nhttp.getProxyAuthorization().setUserName(\"user proxy\");\nhttp.getProxyAuthorization().setPassword(\"password proxy\");\n</code></pre>\n\n<p>which I don't get how to use. My generated code doesn't have any traces of <strong>org.apache.cxf</strong>, only <strong>javax.xml.ws</strong>.</p></li>\n<li><p>Adding this to my port configuration:</p>\n\n<pre><code>((BindingProvider) port).getRequestContext().put(\"http.proxyHost\", \"proxy@example.com\");\n((BindingProvider) port).getRequestContext().put(\"http.proxyPort\", \"80\");\n</code></pre>\n\n<p>Here I use a random non-existing proxy and expect to get an error of any sort(timeout, invalid proxy, etc.), but instead it goes through without any errors. </p></li>\n</ol>\n"},{"tags":["java","reactjs","spring-boot"],"owner":{"account_id":29677782,"reputation":1,"user_id":22745257,"display_name":"Therese Simon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697391143,"creation_date":1697391143,"question_id":77297772,"body_markdown":"I&#39;m trying to learn ReactJS and SpringBoot. Now I&#39;m working on a small project. However I&#39;ve encountered an issue. I use Spring Security to generate JWT Tokens for authentication in my project. I have specified a certain email and password, when inputted into the login form will generate a token that has payload with Role defined as &quot;ADMIN&quot;. If any other data is inputted, it will generate token with Role defined as &quot;USER&quot;. Now the issue is if the admin credentials are entered the token is generated and it navigates to &quot;/dash&quot; in the frontend and if any user credentials are entered that is navigated to &quot;/dash&quot; as well. How do I set the page to navigate to &quot;/admin&quot; if the admin credentials are given\r\n\r\n\r\n```\r\nimport React, { useState } from &#39;react&#39;;\r\nimport { ToastContainer, toast } from &#39;react-toastify&#39;;\r\nimport &#39;react-toastify/dist/ReactToastify.css&#39;;\r\nimport &#39;../assets/css/login.css&#39;;\r\nimport { Link, useNavigate } from &#39;react-router-dom&#39;;\r\nimport { useDispatch } from &#39;react-redux&#39;;\r\nimport { setEmail } from &#39;../redux/Actions&#39;;\r\nimport Header from &#39;./Header/Header&#39;;\r\nimport axios from &#39;axios&#39;;\r\nconst Login = () =&gt; {\r\n  const [formData, setFormData] = useState({\r\n    email: &#39;&#39;,\r\n    password: &#39;&#39;,\r\n  });\r\n\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  \r\n  const handleChange = (e) =&gt; {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n  \r\n  const isEmailValid = (email) =&gt; {\r\n    const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\r\n    return emailPattern.test(email);\r\n  };\r\n  \r\n  const isPasswordValid = (password) =&gt; {\r\n    return password.length &gt;= 8;\r\n  };\r\n  \r\n  const handleLogin = async () =&gt; {\r\n    const { email, password } = formData;\r\n    \r\n    if (!isEmailValid(email)) {\r\n      toast.error(&#39;Invalid email address&#39;, {\r\n        position: &#39;top-right&#39;,\r\n        autoClose: 3000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n      });\r\n      return;\r\n    }\r\n    \r\n    if (!isPasswordValid(password)) {\r\n      toast.error(&#39;Password must be at least 8 characters long&#39;, {\r\n        position: &#39;bottom-center&#39;,\r\n        autoClose: 3000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n      });\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const response = await axios.post(&#39;http://localhost:8080/api/v1/auth/login&#39;, {\r\n        email: formData.email,\r\n        password: formData.password,\r\n      });\r\n      console.log(&#39;Login Response:&#39;, response);\r\n\r\n      if (response.status === 200) {\r\n        const token = response.data.token;\r\n        const userEmail = formData.email;\r\n        dispatch(setEmail(userEmail));\r\n        \r\n        localStorage.setItem(&#39;isLoggedIn&#39;, &#39;true&#39;);\r\n        localStorage.setItem(&#39;userEmail&#39;, userEmail);\r\n        localStorage.setItem(&#39;authToken&#39;, token);\r\n\r\n        toast.success(&#39;Login successful!&#39;, {\r\n          position: &#39;bottom-center&#39;,\r\n          autoClose: 3000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n        });\r\n\r\n        if (response.data.role === &#39;ADMIN&#39;) {\r\n          navigate(&#39;/admin&#39;);\r\n        } else {\r\n          navigate(&#39;/dash&#39;);\r\n        }\r\n      } else {\r\n        toast.error(&#39;Login failed. Please try again.&#39;, {\r\n          position: &#39;bottom-center&#39;,\r\n          autoClose: 3000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error(&#39;An error occurred while logging in. Please try again.&#39;, {\r\n        position: &#39;bottom-center&#39;,\r\n        autoClose: 3000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    &lt;div className=&#39;main_login&#39;&gt;\r\n      &lt;Header /&gt;\r\n      &lt;div className=&quot;login_cont&quot;&gt;\r\n        &lt;h1 className=&#39;login_title&#39;&gt;Login&lt;/h1&gt;\r\n        &lt;form&gt;\r\n          &lt;input type=&#39;text&#39; name=&quot;email&quot; id=&quot;email&quot; className=&#39;input-fieldx&#39; placeholder=&#39;Email&#39; onChange={handleChange} required /&gt;\r\n          &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;password&quot; className=&#39;input-fieldx&#39; placeholder=&#39;Password&#39; onChange={handleChange} required /&gt;\r\n          &lt;div className=&quot;form-button-container&quot;&gt;\r\n            &lt;button type=&quot;button&quot; className=&quot;login-btn&quot; onClick={handleLogin}&gt;\r\n              Login\r\n            &lt;/button&gt;\r\n          &lt;/div&gt;\r\n          &lt;p className=&#39;no_acc&#39;&gt; &lt;Link to=&quot;/register&quot;&gt;Don&#39;t have an account?&lt;/Link&gt;&lt;/p&gt;\r\n        &lt;/form&gt;\r\n      &lt;/div&gt;\r\n      &lt;ToastContainer /&gt;\r\n    &lt;/div&gt;\r\n  );\r\n};\r\n\r\nexport default Login;\r\n\r\n```\r\n\r\n\r\nI have tried giving `response.data.role === &#39;ADMIN&#39;` but it doesn&#39;t seem to work.","title":"Navigation based on roles in ReactJs App with SpringBoot","body":"<p>I'm trying to learn ReactJS and SpringBoot. Now I'm working on a small project. However I've encountered an issue. I use Spring Security to generate JWT Tokens for authentication in my project. I have specified a certain email and password, when inputted into the login form will generate a token that has payload with Role defined as &quot;ADMIN&quot;. If any other data is inputted, it will generate token with Role defined as &quot;USER&quot;. Now the issue is if the admin credentials are entered the token is generated and it navigates to &quot;/dash&quot; in the frontend and if any user credentials are entered that is navigated to &quot;/dash&quot; as well. How do I set the page to navigate to &quot;/admin&quot; if the admin credentials are given</p>\n<pre><code>import React, { useState } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport '../assets/css/login.css';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { setEmail } from '../redux/Actions';\nimport Header from './Header/Header';\nimport axios from 'axios';\nconst Login = () =&gt; {\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n  });\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  \n  const handleChange = (e) =&gt; {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n  \n  const isEmailValid = (email) =&gt; {\n    const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\n    return emailPattern.test(email);\n  };\n  \n  const isPasswordValid = (password) =&gt; {\n    return password.length &gt;= 8;\n  };\n  \n  const handleLogin = async () =&gt; {\n    const { email, password } = formData;\n    \n    if (!isEmailValid(email)) {\n      toast.error('Invalid email address', {\n        position: 'top-right',\n        autoClose: 3000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n      });\n      return;\n    }\n    \n    if (!isPasswordValid(password)) {\n      toast.error('Password must be at least 8 characters long', {\n        position: 'bottom-center',\n        autoClose: 3000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n      });\n      return;\n    }\n    \n    try {\n      const response = await axios.post('http://localhost:8080/api/v1/auth/login', {\n        email: formData.email,\n        password: formData.password,\n      });\n      console.log('Login Response:', response);\n\n      if (response.status === 200) {\n        const token = response.data.token;\n        const userEmail = formData.email;\n        dispatch(setEmail(userEmail));\n        \n        localStorage.setItem('isLoggedIn', 'true');\n        localStorage.setItem('userEmail', userEmail);\n        localStorage.setItem('authToken', token);\n\n        toast.success('Login successful!', {\n          position: 'bottom-center',\n          autoClose: 3000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n        });\n\n        if (response.data.role === 'ADMIN') {\n          navigate('/admin');\n        } else {\n          navigate('/dash');\n        }\n      } else {\n        toast.error('Login failed. Please try again.', {\n          position: 'bottom-center',\n          autoClose: 3000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n        });\n      }\n    } catch (error) {\n      console.error(error);\n      toast.error('An error occurred while logging in. Please try again.', {\n        position: 'bottom-center',\n        autoClose: 3000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n      });\n    }\n  };\n\n  return (\n    &lt;div className='main_login'&gt;\n      &lt;Header /&gt;\n      &lt;div className=&quot;login_cont&quot;&gt;\n        &lt;h1 className='login_title'&gt;Login&lt;/h1&gt;\n        &lt;form&gt;\n          &lt;input type='text' name=&quot;email&quot; id=&quot;email&quot; className='input-fieldx' placeholder='Email' onChange={handleChange} required /&gt;\n          &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;password&quot; className='input-fieldx' placeholder='Password' onChange={handleChange} required /&gt;\n          &lt;div className=&quot;form-button-container&quot;&gt;\n            &lt;button type=&quot;button&quot; className=&quot;login-btn&quot; onClick={handleLogin}&gt;\n              Login\n            &lt;/button&gt;\n          &lt;/div&gt;\n          &lt;p className='no_acc'&gt; &lt;Link to=&quot;/register&quot;&gt;Don't have an account?&lt;/Link&gt;&lt;/p&gt;\n        &lt;/form&gt;\n      &lt;/div&gt;\n      &lt;ToastContainer /&gt;\n    &lt;/div&gt;\n  );\n};\n\nexport default Login;\n\n</code></pre>\n<p>I have tried giving <code>response.data.role === 'ADMIN'</code> but it doesn't seem to work.</p>\n"},{"tags":["java","exception","javafx","scenebuilder"],"comments":[{"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1697383668,"post_id":77297257,"comment_id":136270331,"body_markdown":"Complete stacktrace please. And complete fxml file please. And the code which is calling changeSceneWelcome() please.","body":"Complete stacktrace please. And complete fxml file please. And the code which is calling changeSceneWelcome() please."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1697397622,"post_id":77297257,"comment_id":136271883,"body_markdown":"In your start method, you have `Parent root = FXMLLoader.load`, which is correct.  In your changeSceneWelcome method, you have `FXMLLoader loader = FXMLLoader.load` which is the source of your problem.  FXMLLoader.load did not return a loader in the first call, so I’m not sure why you thought it would do so in the second call.  Perhaps you should just use `new FXMLLoader` instead of the static `load` method?","body":"In your start method, you have <code>Parent root = FXMLLoader.load</code>, which is correct.  In your changeSceneWelcome method, you have <code>FXMLLoader loader = FXMLLoader.load</code> which is the source of your problem.  FXMLLoader.load did not return a loader in the first call, so I’m not sure why you thought it would do so in the second call.  Perhaps you should just use <code>new FXMLLoader</code> instead of the static <code>load</code> method?"},{"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1697689558,"post_id":77297257,"comment_id":136312072,"body_markdown":"May I introduce you to the JavaFX library &quot;SimpleJavaFxApplicationBase&quot;? Maybe the &quot;SceneAPI&quot; is something for you. You can Switch scenes easily and Pass values to the new scene. https://wedasoft.com/projects/simple-java-fx-application-base/","body":"May I introduce you to the JavaFX library &quot;SimpleJavaFxApplicationBase&quot;? Maybe the &quot;SceneAPI&quot; is something for you. You can Switch scenes easily and Pass values to the new scene. <a href=\"https://wedasoft.com/projects/simple-java-fx-application-base/\" rel=\"nofollow noreferrer\">wedasoft.com/projects/simple-java-fx-application-base</a>"}],"owner":{"account_id":28916138,"reputation":1,"user_id":22148060,"display_name":"Colony"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697390538,"creation_date":1697383014,"question_id":77297257,"body_markdown":"I was using JavaFX to create a login form. After login, the username you wrote will be displayed on the screen as &quot;Welcome, username&quot;. But, when I clicked on the login button, there was an error with the message:\r\n\r\n```\r\nclass javafx.scene.layout.BorderPane cannot be cast to class javafx.fxml.FXMLLoader (javafx.scene.layout.BorderPane is in module javafx.graphics of loader &#39;app&#39;; javafx.fxml.FXMLLoader is in module javafx.fxml of loader &#39;app&#39;)\r\n```\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\npublic class HelloApplication extends Application {\r\n    private static Stage stg;\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        try {\r\n            stg = stage;\r\n            stage.setResizable(false);\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;login.fxml&quot;));\r\n            stage.setTitle(&quot;Login&quot;);\r\n            stage.setScene(new Scene(root, 600, 340));\r\n            stage.show();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    public void changeSceneWelcome(String fxml, String username) {\r\n        try {\r\n            FXMLLoader loader = FXMLLoader.load(getClass().getResource(fxml));\r\n            AfterLoginController afterLoginController = loader.getController();\r\n            afterLoginController.welcomeName(username);\r\n            Parent pane = loader.load();\r\n            stg.setResizable(false);\r\n            stg.setTitle(&quot;Welcome!&quot;);\r\n            stg.setScene(new Scene(pane, 800, 600));\r\n            stg.show();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe error happenned at the `changeSceneWelcome` method.\r\n\r\nWhat should I do to fix this bug? Thanks for reading.","title":"&quot;Class javafx.scene.layout.BorderPane cannot be cast to class javafx.fxml.FXMLLoader&quot;","body":"<p>I was using JavaFX to create a login form. After login, the username you wrote will be displayed on the screen as &quot;Welcome, username&quot;. But, when I clicked on the login button, there was an error with the message:</p>\n<pre><code>class javafx.scene.layout.BorderPane cannot be cast to class javafx.fxml.FXMLLoader (javafx.scene.layout.BorderPane is in module javafx.graphics of loader 'app'; javafx.fxml.FXMLLoader is in module javafx.fxml of loader 'app')\n</code></pre>\n<p>Here's my code:</p>\n<pre><code>public class HelloApplication extends Application {\n    private static Stage stg;\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    @Override\n    public void start(Stage stage) {\n        try {\n            stg = stage;\n            stage.setResizable(false);\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;login.fxml&quot;));\n            stage.setTitle(&quot;Login&quot;);\n            stage.setScene(new Scene(root, 600, 340));\n            stage.show();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    public void changeSceneWelcome(String fxml, String username) {\n        try {\n            FXMLLoader loader = FXMLLoader.load(getClass().getResource(fxml));\n            AfterLoginController afterLoginController = loader.getController();\n            afterLoginController.welcomeName(username);\n            Parent pane = loader.load();\n            stg.setResizable(false);\n            stg.setTitle(&quot;Welcome!&quot;);\n            stg.setScene(new Scene(pane, 800, 600));\n            stg.show();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The error happenned at the <code>changeSceneWelcome</code> method.</p>\n<p>What should I do to fix this bug? Thanks for reading.</p>\n"},{"tags":["java","bouncycastle","des","fips"],"owner":{"account_id":17130699,"reputation":19,"user_id":12396866,"display_name":"Rajasekaran Iyanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697389917,"creation_date":1697389738,"question_id":77297696,"body_markdown":"Is the CMSAlgorithm.DES_CBC supported for encryption by BCFIPS provider ? In a standalone reproducer program, it seem to work fine while the following exception gets thrown in k8s-docker based environment. This occurs despite having the same versioned bc\\* jars in both the environments. Both the environments are having these properties set.\r\n\r\n    java.security.Security.addProvider(new BouncyCastleFipsProvider());\r\n    \r\n    System.setProperty(&quot;org.bouncycastle.fips.approved_only&quot;, &quot;false&quot;);\r\n    \r\n    System.setProperty(&quot;org.bouncycastle.rsa.allow_pkcs15_enc&quot;, &quot;true&quot;);\r\n    \r\n    System.setProperty(&quot;org.bouncycastle.rsa.allow_multi_use&quot;, &quot;true&quot;);\r\n\r\nAny clues on what could be the reason?\r\n\r\n    java.security.NoSuchAlgorithmException: no such algorithm: 1.3.14.3.2.7 for provider BCFIPS\r\n    \r\n    at java.base/sun.security.jca.GetInstance.getService(GetInstance.java:87)\r\n    \r\n    at java.base/javax.crypto.JceSecurity.getInstance(JceSecurity.java:127)\r\n    \r\n    at java.base/javax.crypto.KeyGenerator.getInstance(KeyGenerator.java:286)\r\n    \r\n    at org.bouncycastle.jcajce.util.NamedJcaJceHelper.createKeyGenerator(Unknown Source)\r\n    \r\n    ... 43 common\r\n\r\nStandalone reproducer program works fine\r\n","title":"desCBC algorithm supported by BouncyCastle FIPS in non-approved mode?","body":"<p>Is the CMSAlgorithm.DES_CBC supported for encryption by BCFIPS provider ? In a standalone reproducer program, it seem to work fine while the following exception gets thrown in k8s-docker based environment. This occurs despite having the same versioned bc* jars in both the environments. Both the environments are having these properties set.</p>\n<pre><code>java.security.Security.addProvider(new BouncyCastleFipsProvider());\n\nSystem.setProperty(&quot;org.bouncycastle.fips.approved_only&quot;, &quot;false&quot;);\n\nSystem.setProperty(&quot;org.bouncycastle.rsa.allow_pkcs15_enc&quot;, &quot;true&quot;);\n\nSystem.setProperty(&quot;org.bouncycastle.rsa.allow_multi_use&quot;, &quot;true&quot;);\n</code></pre>\n<p>Any clues on what could be the reason?</p>\n<pre><code>java.security.NoSuchAlgorithmException: no such algorithm: 1.3.14.3.2.7 for provider BCFIPS\n\nat java.base/sun.security.jca.GetInstance.getService(GetInstance.java:87)\n\nat java.base/javax.crypto.JceSecurity.getInstance(JceSecurity.java:127)\n\nat java.base/javax.crypto.KeyGenerator.getInstance(KeyGenerator.java:286)\n\nat org.bouncycastle.jcajce.util.NamedJcaJceHelper.createKeyGenerator(Unknown Source)\n\n... 43 common\n</code></pre>\n<p>Standalone reproducer program works fine</p>\n"},{"tags":["java","json","object","arraylist","arrayobject"],"comments":[{"owner":{"account_id":13282467,"reputation":6102,"user_id":9589593,"display_name":"k_ssb"},"score":0,"creation_date":1524734272,"post_id":50039189,"comment_id":87094476,"body_markdown":"It seems like you want one key (e.g., `poAccount`) to map to two different values (e.g., `050016` and `050017`). This isn&#39;t possible with a `Map&lt;String, Object&gt;`, you&#39;ll probably want `Map&lt;String, List&lt;Object&gt;&gt;`","body":"It seems like you want one key (e.g., <code>poAccount</code>) to map to two different values (e.g., <code>050016</code> and <code>050017</code>). This isn&#39;t possible with a <code>Map&lt;String, Object&gt;</code>, you&#39;ll probably want <code>Map&lt;String, List&lt;Object&gt;&gt;</code>"},{"owner":{"account_id":3406665,"reputation":1692,"user_id":2857556,"accept_rate":11,"display_name":"Alpesh Jikadra"},"score":0,"creation_date":1524734520,"post_id":50039189,"comment_id":87094663,"body_markdown":"**{poAccount=050017, poAmount=12}** this is not a valid JSON format","body":"<b>{poAccount=050017, poAmount=12}</b> this is not a valid JSON format"}],"answers":[{"tags":[],"owner":{"account_id":3500892,"reputation":1750,"user_id":4141883,"accept_rate":57,"display_name":"Danila Zharenkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524734464,"creation_date":1524734464,"answer_id":50039311,"question_id":50039189,"body_markdown":"You shouldn&#39;t use map for your case. \r\nWhen your put the pair with existing in map key, the pair will be overwrited.\r\nFor example\r\n\r\n    map.put (&quot;k1&quot;,&quot;v1&quot;);\r\n\r\nMap contains one pair &quot;k1&quot;:&quot;v1&quot;\r\nThe next call\r\n\r\n    map.put (&quot;k1&quot;,&quot;newV1&quot;);\r\n\r\nThe first pair will be overwrited and map still contains 1 pair: &quot;k1&quot;:&quot;newV1&quot;\r\n\r\nFor your case it&#39;s better to define simple POJO class with 2 fields `poAccount` and `poAmount`. And add them to the JSONArray\r\n","title":"How to add object to JSONArray","body":"<p>You shouldn't use map for your case. \nWhen your put the pair with existing in map key, the pair will be overwrited.\nFor example</p>\n\n<pre><code>map.put (\"k1\",\"v1\");\n</code></pre>\n\n<p>Map contains one pair \"k1\":\"v1\"\nThe next call</p>\n\n<pre><code>map.put (\"k1\",\"newV1\");\n</code></pre>\n\n<p>The first pair will be overwrited and map still contains 1 pair: \"k1\":\"newV1\"</p>\n\n<p>For your case it's better to define simple POJO class with 2 fields <code>poAccount</code> and <code>poAmount</code>. And add them to the JSONArray</p>\n"},{"tags":[],"owner":{"account_id":5037825,"reputation":588,"user_id":4046145,"accept_rate":62,"display_name":"Mithun Debnath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524744819,"creation_date":1524744819,"answer_id":50042733,"question_id":50039189,"body_markdown":"The approach you are following, it will not serve your requirement. You should use pojo to store the records and then populate the Json Array. You can have a look at this code and modify as per your requirements.\r\n\r\n    public class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tMypojo mypojo = new Mypojo();\r\n\t\tGson gson = new Gson();\r\n\t\tJSONArray records = new JSONArray();\r\n\t\tfor (int i = 0; i &lt; 1; i++) {\r\n\t\t\tif (5 &gt; 0) {\r\n\t\t\t\tmypojo.setPoAccount(&quot;050017&quot;);\r\n\t\t\t\tmypojo.setPoAmount(&quot;12&quot;);\r\n\t\t\t\tJSONObject objects = new JSONObject(gson.toJson(mypojo));\r\n\t\t\t\trecords.put(objects);\r\n\t\t\t}\r\n\r\n\t\t\tmypojo.setPoAccount(&quot;050016&quot;);\r\n\t\t\tmypojo.setPoAmount(&quot;800&quot;);\r\n\t\t\tJSONObject objects = new JSONObject(gson.toJson(mypojo));\r\n\t\t\trecords.put(objects);\r\n\t\t}\r\n\r\n\t\tSystem.out.println(records);\r\n\r\n\t}\r\n    \r\n    }\r\n\r\nMypojo Class :\r\n\r\n    public class Mypojo\r\n    {\r\n    private String poAmount;\r\n\r\n    private String poAccount;\r\n\r\n    public String getPoAmount ()\r\n    {\r\n        return poAmount;\r\n    }\r\n\r\n    public void setPoAmount (String poAmount)\r\n    {\r\n        this.poAmount = poAmount;\r\n    }\r\n\r\n    public String getPoAccount ()\r\n    {\r\n        return poAccount;\r\n    }\r\n\r\n    public void setPoAccount (String poAccount)\r\n    {\r\n        this.poAccount = poAccount;\r\n    }\r\n\r\n    @Override\r\n    public String toString()\r\n    {\r\n        return &quot;ClassPojo [poAmount = &quot;+poAmount+&quot;, poAccount = &quot;+poAccount+&quot;]&quot;;\r\n    }\r\n    }","title":"How to add object to JSONArray","body":"<p>The approach you are following, it will not serve your requirement. You should use pojo to store the records and then populate the Json Array. You can have a look at this code and modify as per your requirements.</p>\n\n<pre><code>public class Test {\n\npublic static void main(String[] args) {\n\n    Mypojo mypojo = new Mypojo();\n    Gson gson = new Gson();\n    JSONArray records = new JSONArray();\n    for (int i = 0; i &lt; 1; i++) {\n        if (5 &gt; 0) {\n            mypojo.setPoAccount(\"050017\");\n            mypojo.setPoAmount(\"12\");\n            JSONObject objects = new JSONObject(gson.toJson(mypojo));\n            records.put(objects);\n        }\n\n        mypojo.setPoAccount(\"050016\");\n        mypojo.setPoAmount(\"800\");\n        JSONObject objects = new JSONObject(gson.toJson(mypojo));\n        records.put(objects);\n    }\n\n    System.out.println(records);\n\n}\n\n}\n</code></pre>\n\n<p>Mypojo Class :</p>\n\n<pre><code>public class Mypojo\n{\nprivate String poAmount;\n\nprivate String poAccount;\n\npublic String getPoAmount ()\n{\n    return poAmount;\n}\n\npublic void setPoAmount (String poAmount)\n{\n    this.poAmount = poAmount;\n}\n\npublic String getPoAccount ()\n{\n    return poAccount;\n}\n\npublic void setPoAccount (String poAccount)\n{\n    this.poAccount = poAccount;\n}\n\n@Override\npublic String toString()\n{\n    return \"ClassPojo [poAmount = \"+poAmount+\", poAccount = \"+poAccount+\"]\";\n}\n}\n</code></pre>\n"}],"owner":{"account_id":12715770,"reputation":21,"user_id":9237869,"display_name":"Math 277"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10699,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697389305,"creation_date":1524734079,"question_id":50039189,"body_markdown":"I want to add an object to an array. If the data of `other_amount` is more than zero I want to add one object more. If it&#39;s equal to zero, it should add nothing. This is my code:\r\n\r\n    JSONArray acc_data = new JSONArray();\r\n    Map&lt;String, Object&gt; myaccount = new LinkedHashMap&lt;&gt;();\r\n    for (int i = 0; i &lt; mpay.size(); i++) {\r\n    \tif(other_amount&gt;0){\r\n    \t\tmyaccount.put(&quot;poAccount&quot;, other_account);\r\n    \t\tmyaccount.put(&quot;poAmount&quot;, other_amount);\r\n    \t\tsystem.out.println(myaccount);\r\n    \t\t//{poAccount=050017, poAmount=12}\r\n    \t}\r\n    \t\r\n    \tmyaccount.put(&quot;poAccount&quot;, amount_account);\r\n    \tmyaccount.put(&quot;poAmount&quot;, amount);\r\n    \tsystem.out.println(myaccount);\r\n    \t//{&quot;poAccount&quot;:&quot;050016&quot;,&quot;poAmount&quot;:&quot;800&quot;}\r\n    \t\r\n    \tacc_data.add(myaccount);\r\n    \tsystem.out.println(acc_data);\r\n    \t//[{&quot;poAccount&quot;:&quot;050016&quot;,&quot;poAmount&quot;:&quot;800&quot;}]\r\n    }\r\n\r\n But I need it like this: \r\n\r\n    //[{&quot;poAccount&quot;:&quot;050016&quot;,&quot;poAmount&quot;:&quot;800&quot;},{poAccount=050017, poAmount=12}]\r\n\r\nplease help me to resolve it.","title":"How to add object to JSONArray","body":"<p>I want to add an object to an array. If the data of <code>other_amount</code> is more than zero I want to add one object more. If it's equal to zero, it should add nothing. This is my code:</p>\n\n<pre><code>JSONArray acc_data = new JSONArray();\nMap&lt;String, Object&gt; myaccount = new LinkedHashMap&lt;&gt;();\nfor (int i = 0; i &lt; mpay.size(); i++) {\n    if(other_amount&gt;0){\n        myaccount.put(\"poAccount\", other_account);\n        myaccount.put(\"poAmount\", other_amount);\n        system.out.println(myaccount);\n        //{poAccount=050017, poAmount=12}\n    }\n\n    myaccount.put(\"poAccount\", amount_account);\n    myaccount.put(\"poAmount\", amount);\n    system.out.println(myaccount);\n    //{\"poAccount\":\"050016\",\"poAmount\":\"800\"}\n\n    acc_data.add(myaccount);\n    system.out.println(acc_data);\n    //[{\"poAccount\":\"050016\",\"poAmount\":\"800\"}]\n}\n</code></pre>\n\n<p>But I need it like this: </p>\n\n<pre><code>//[{\"poAccount\":\"050016\",\"poAmount\":\"800\"},{poAccount=050017, poAmount=12}]\n</code></pre>\n\n<p>please help me to resolve it.</p>\n"},{"tags":["java","junit","mocking","mockito","junit5"],"answers":[{"tags":[],"owner":{"account_id":27529235,"reputation":437,"user_id":21008053,"display_name":"subasri_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697388811,"creation_date":1697388811,"answer_id":77297653,"question_id":76614406,"body_markdown":"`FacesContext.getCurrentInstance()` is a static method. So `MockedStatic` can be used to test the required flow\r\n\r\n```   \r\n@Test\r\nvoid testCambiarNombre() {\r\n    try (MockedStatic&lt;FacesContext&gt; context = mockStatic(FacesContext.class)) {\r\n        FacesContext facesContext = mock(FacesContext.class);\r\n        context.when(FacesContext::getInstance()).thenReturn(facesContext);\r\n        when(facesContext.getExternalContext()..).thenReturn(..)\r\n        //...\r\n    }\r\n}\r\n```","title":"How to test a method that uses FacesContext.getCurrentInstance()","body":"<p><code>FacesContext.getCurrentInstance()</code> is a static method. So <code>MockedStatic</code> can be used to test the required flow</p>\n<pre><code>@Test\nvoid testCambiarNombre() {\n    try (MockedStatic&lt;FacesContext&gt; context = mockStatic(FacesContext.class)) {\n        FacesContext facesContext = mock(FacesContext.class);\n        context.when(FacesContext::getInstance()).thenReturn(facesContext);\n        when(facesContext.getExternalContext()..).thenReturn(..)\n        //...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25297861,"reputation":17,"user_id":19122683,"display_name":"Blrackerd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697388811,"creation_date":1688487486,"question_id":76614406,"body_markdown":"I&#39;m trying to test a part of my code that in certain cases ends up calling `FacesContext.getCurrentInstance()` and we are not in a jsf context it gives null and I receive an NullPointerExcetption\r\n\r\nHow can I test that part?\r\n\r\n\r\nMy code\r\n\r\n\r\n*Test Method*\r\n\r\n    @Test\r\n\tvoid testCambiarNombre() {\r\n\t\t\r\n\t\tModificarUsuarioBean modificarUsuarioBean = new ModificarUsuarioBean();\r\n\t\tmodificarUsuarioBean.setFachada(fachada);\r\n\t\tmodificarUsuarioBean.init();\r\n\t\t\r\n\t\tmodificarUsuarioBean.getUsuario().setNombre(null);\r\n\t\tmodificarUsuarioBean.cambiarNombre(); // Here is the problem. See code of method below\r\n\t\t\r\n\t\tassertTrue(fachada.existeUsuario(&quot;admin&quot;, null));\r\n\t}\r\n\r\n*ModificarUsuarioBean.cambiarNombre*\r\n\r\n    public void cambiarNombre() {\r\n\t\tif(StringUtils.isBlank(usuario.getNombre())) {\r\n\t\t\tFacesMessagesUtils.mostrarMensajeDelProperties(&quot;usuario.accion.cambiarNombre.error.VACIO&quot;, &quot;comun.ERROR&quot;, FacesMessage.SEVERITY_WARN); // Here is the problem. See code of method below\r\n\t\t} else {\r\n\t\t\t\r\n\t\t\tif(fachada.modificarNombreUsuario(usuario)) {\r\n\t\t\t\tFacesContext context = FacesContext.getCurrentInstance();\r\n\t\t\t\tUsuarioLogueadoBean usuarioLogueadoBean = (UsuarioLogueadoBean)context.getExternalContext().getSessionMap().get(&quot;usuarioLogueadoBean&quot;);\r\n\t\t\t\tusuarioLogueadoBean.getUsuario().setNombre(usuario.getNombre());\r\n\t\t\t\tFacesMessagesUtils.mostrarMensajeDelProperties(&quot;usuario.accion.cambiarNombre.OK&quot;, &quot;comun.EXITO&quot;, FacesMessage.SEVERITY_INFO);\r\n\t\t\t} else {\r\n\t\t\t\tFacesMessagesUtils.mostrarMensajeDelProperties(&quot;usuario.accion.cambiarNombre.error.REPETIDO&quot;, &quot;comun.ERROR&quot;, FacesMessage.SEVERITY_WARN);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n*FacesMessagesUtils.mostrarMensajeDelProperties*\r\n\r\n    public static void mostrarMensajeDelProperties(String keyMensaje, String keyCabecera,\r\n\t\t\tFacesMessage.Severity severidad) {\r\n\t\tFacesMessage msg = new FacesMessage(severidad, MessageUtils.obtenerMensajeDelProperties(keyCabecera),\r\n\t\t\t\tMessageUtils.obtenerMensajeDelProperties(keyMensaje));\r\n\t\tFacesContext.getCurrentInstance().addMessage(null, msg); // Here is the NullPointerException\r\n\t}\r\n\r\n\r\n*pom.xml*\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.9.3&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.3.1&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-junit-jupiter --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.3.1&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\nMy version os Java is 8","title":"How to test a method that uses FacesContext.getCurrentInstance()","body":"<p>I'm trying to test a part of my code that in certain cases ends up calling <code>FacesContext.getCurrentInstance()</code> and we are not in a jsf context it gives null and I receive an NullPointerExcetption</p>\n<p>How can I test that part?</p>\n<p>My code</p>\n<p><em>Test Method</em></p>\n<pre><code>@Test\nvoid testCambiarNombre() {\n    \n    ModificarUsuarioBean modificarUsuarioBean = new ModificarUsuarioBean();\n    modificarUsuarioBean.setFachada(fachada);\n    modificarUsuarioBean.init();\n    \n    modificarUsuarioBean.getUsuario().setNombre(null);\n    modificarUsuarioBean.cambiarNombre(); // Here is the problem. See code of method below\n    \n    assertTrue(fachada.existeUsuario(&quot;admin&quot;, null));\n}\n</code></pre>\n<p><em>ModificarUsuarioBean.cambiarNombre</em></p>\n<pre><code>public void cambiarNombre() {\n    if(StringUtils.isBlank(usuario.getNombre())) {\n        FacesMessagesUtils.mostrarMensajeDelProperties(&quot;usuario.accion.cambiarNombre.error.VACIO&quot;, &quot;comun.ERROR&quot;, FacesMessage.SEVERITY_WARN); // Here is the problem. See code of method below\n    } else {\n        \n        if(fachada.modificarNombreUsuario(usuario)) {\n            FacesContext context = FacesContext.getCurrentInstance();\n            UsuarioLogueadoBean usuarioLogueadoBean = (UsuarioLogueadoBean)context.getExternalContext().getSessionMap().get(&quot;usuarioLogueadoBean&quot;);\n            usuarioLogueadoBean.getUsuario().setNombre(usuario.getNombre());\n            FacesMessagesUtils.mostrarMensajeDelProperties(&quot;usuario.accion.cambiarNombre.OK&quot;, &quot;comun.EXITO&quot;, FacesMessage.SEVERITY_INFO);\n        } else {\n            FacesMessagesUtils.mostrarMensajeDelProperties(&quot;usuario.accion.cambiarNombre.error.REPETIDO&quot;, &quot;comun.ERROR&quot;, FacesMessage.SEVERITY_WARN);\n        }\n    }\n}\n</code></pre>\n<p><em>FacesMessagesUtils.mostrarMensajeDelProperties</em></p>\n<pre><code>public static void mostrarMensajeDelProperties(String keyMensaje, String keyCabecera,\n        FacesMessage.Severity severidad) {\n    FacesMessage msg = new FacesMessage(severidad, MessageUtils.obtenerMensajeDelProperties(keyCabecera),\n            MessageUtils.obtenerMensajeDelProperties(keyMensaje));\n    FacesContext.getCurrentInstance().addMessage(null, msg); // Here is the NullPointerException\n}\n</code></pre>\n<p><em>pom.xml</em></p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.9.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;5.3.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n            \n    &lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-junit-jupiter --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;5.3.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>My version os Java is 8</p>\n"},{"tags":["java","selenium","google-chrome","electron","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1590400466,"creation_date":1590393456,"answer_id":61998139,"question_id":61852540,"body_markdown":"Seems you were pretty close enough.\r\n\r\nApart from adding the preference of `download.prompt_for_download` to `false` you need to set a couple of more preferences as follows:\r\n\r\n- You need to add the type of file you wish you auto download. As an example to automatically download `xml` files you need to add:\r\n\r\n\t\tprefs.put(&quot;download.extensions_to_open&quot;, &quot;application/xml&quot;);\r\n\t\t\r\n- You need to enable/disable `safebrowsing.enabled` as follows:\r\n\r\n\t\tprefs.put(&quot;safebrowsing.enabled&quot;, true);\r\n\t\t\r\n- Now you need to add the argument to `safebrowsing-disable-download-protection`\r\n\r\n\t\toptions.addArguments(&quot;--safebrowsing-disable-download-protection&quot;);\r\n\t\t\r\n- Next, you need to add the argument to `safebrowsing-disable-extension-blacklist`\r\n\r\n\t\toptions.addArguments(&quot;safebrowsing-disable-extension-blacklist&quot;);\r\n\r\n- Finally, to click on the element to initiate the download, you need to induce [WebDriverWait](https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165) for the `elementToBeClickable()`.\r\n\r\n\t\tnew WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;element_xpath&quot;))).click();\r\n\r\nClubbing it up altogether, as a demonstration, to download a xml file from the [website](http://www.landxmlproject.org/file-cabinet) your effective code block will be:\r\n\r\n\tChromeOptions options = new ChromeOptions();\r\n\tHashMap&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\r\n\tprefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n\tprefs.put(&quot;download.default_directory&quot;, LocationUtil.getDownloadFolderPath());\r\n\tprefs.put(&quot;download.prompt_for_download&quot;, false);\r\n\tprefs.put(&quot;safebrowsing.enabled&quot;, true);\r\n\toptions.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n\tChromeDriver chromeDriver= new ChromeDriver(options);\r\n\tChromeOptions options = new ChromeOptions();\r\n\toptions.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n\toptions.addArguments(&quot;start-maximized&quot;);\r\n\toptions.addArguments(&quot;--safebrowsing-disable-download-protection&quot;);\r\n\toptions.addArguments(&quot;safebrowsing-disable-extension-blacklist&quot;);\r\n\tWebDriver driver =  new ChromeDriver(options); \r\n\tdriver.get(&quot;http://www.landxmlproject.org/file-cabinet&quot;);\r\n\tnew WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[text()=&#39;MntnRoad.xml&#39;]//following::span[1]//a[text()=&#39;Download&#39;]&quot;))).click();\r\n\t\r\nBrowser Snapshot:\r\n\r\n![ChromeDownload](https://i.stack.imgur.com/rlp0o.png)\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a couple of relevant reference discussions in:\r\n\r\n- [How to hide the warning “This type of file can harm your computer” while downloading .xml file using Chrome Chromedriver 79 with Selenium Java](https://stackoverflow.com/questions/59840198/how-to-hide-the-warning-this-type-of-file-can-harm-your-computer-while-downloa/59841109#59841109)\r\n- [How to download XML files avoiding the popup This type of file may harm your computer through ChromeDriver and Chrome using Selenium in Python](https://stackoverflow.com/questions/55407388/how-to-download-xml-files-avoiding-the-popup-this-type-of-file-may-harm-your-com/55413305#55413305)","title":"Could not set download.prompt_for_download false for avoiding popup when downloading a file in an Electron application","body":"<p>Seems you were pretty close enough.</p>\n\n<p>Apart from adding the preference of <code>download.prompt_for_download</code> to <code>false</code> you need to set a couple of more preferences as follows:</p>\n\n<ul>\n<li><p>You need to add the type of file you wish you auto download. As an example to automatically download <code>xml</code> files you need to add:</p>\n\n<pre><code>prefs.put(\"download.extensions_to_open\", \"application/xml\");\n</code></pre></li>\n<li><p>You need to enable/disable <code>safebrowsing.enabled</code> as follows:</p>\n\n<pre><code>prefs.put(\"safebrowsing.enabled\", true);\n</code></pre></li>\n<li><p>Now you need to add the argument to <code>safebrowsing-disable-download-protection</code></p>\n\n<pre><code>options.addArguments(\"--safebrowsing-disable-download-protection\");\n</code></pre></li>\n<li><p>Next, you need to add the argument to <code>safebrowsing-disable-extension-blacklist</code></p>\n\n<pre><code>options.addArguments(\"safebrowsing-disable-extension-blacklist\");\n</code></pre></li>\n<li><p>Finally, to click on the element to initiate the download, you need to induce <a href=\"https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165\">WebDriverWait</a> for the <code>elementToBeClickable()</code>.</p>\n\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(\"element_xpath\"))).click();\n</code></pre></li>\n</ul>\n\n<p>Clubbing it up altogether, as a demonstration, to download a xml file from the <a href=\"http://www.landxmlproject.org/file-cabinet\" rel=\"nofollow noreferrer\">website</a> your effective code block will be:</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\nHashMap&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\nprefs.put(\"profile.default_content_settings.popups\", 0);\nprefs.put(\"download.default_directory\", LocationUtil.getDownloadFolderPath());\nprefs.put(\"download.prompt_for_download\", false);\nprefs.put(\"safebrowsing.enabled\", true);\noptions.setExperimentalOption(\"prefs\", prefs);\nChromeDriver chromeDriver= new ChromeDriver(options);\nChromeOptions options = new ChromeOptions();\noptions.setExperimentalOption(\"prefs\", prefs);\noptions.addArguments(\"start-maximized\");\noptions.addArguments(\"--safebrowsing-disable-download-protection\");\noptions.addArguments(\"safebrowsing-disable-extension-blacklist\");\nWebDriver driver =  new ChromeDriver(options); \ndriver.get(\"http://www.landxmlproject.org/file-cabinet\");\nnew WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(\"//span[text()='MntnRoad.xml']//following::span[1]//a[text()='Download']\"))).click();\n</code></pre>\n\n<p>Browser Snapshot:</p>\n\n<p><img src=\"https://i.stack.imgur.com/rlp0o.png\" alt=\"ChromeDownload\"></p>\n\n<hr>\n\n<h2>References</h2>\n\n<p>You can find a couple of relevant reference discussions in:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/59840198/how-to-hide-the-warning-this-type-of-file-can-harm-your-computer-while-downloa/59841109#59841109\">How to hide the warning “This type of file can harm your computer” while downloading .xml file using Chrome Chromedriver 79 with Selenium Java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/55407388/how-to-download-xml-files-avoiding-the-popup-this-type-of-file-may-harm-your-com/55413305#55413305\">How to download XML files avoiding the popup This type of file may harm your computer through ChromeDriver and Chrome using Selenium in Python</a></li>\n</ul>\n"}],"owner":{"account_id":3091726,"reputation":1288,"user_id":2617690,"display_name":"Filosssof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5878,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61998139,"answer_count":1,"score":2,"last_activity_date":1697388712,"creation_date":1589721960,"question_id":61852540,"body_markdown":"I&#39;m trying to download a file with Selenium Chromedriver through Electron. As we could not handle the popup window with selecting folder to download in, I tried to avoid this popup in this way:\r\n\r\n    prefs.put(&quot;download.prompt_for_download&quot;, false);\r\nBut it doesn&#39;t work. The full code is:\r\n\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    HashMap&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\r\n    prefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n    prefs.put(&quot;download.default_directory&quot;, LocationUtil.getDownloadFolderPath());\r\n    prefs.put(&quot;download.prompt_for_download&quot;, false);\r\n    prefs.put(&quot;safebrowsing.enabled&quot;, false); // to disable security check eg. Keep or cancel button\r\n    options.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n    ChromeDriver chromeDriver= new ChromeDriver(options);\r\n\r\nAlso tried to put these prefs through Capabilities but with no success.\r\n\r\n```((MutableCapabilities) chromeDriver.getCapabilities()).setCapability(ChromeOptions.CAPABILITY, options);```\r\nVersions are:\r\n\r\n - ChromeDriver 80.0.3987.16\r\n - Selenium Java 3.141.59\r\n\r\nHow could I download the file in a specific directory without popup window in an Electron app? \r\nUPD: Tested with browser Chrome - all things are fine.\r\n","title":"Could not set download.prompt_for_download false for avoiding popup when downloading a file in an Electron application","body":"<p>I'm trying to download a file with Selenium Chromedriver through Electron. As we could not handle the popup window with selecting folder to download in, I tried to avoid this popup in this way:</p>\n\n<pre><code>prefs.put(\"download.prompt_for_download\", false);\n</code></pre>\n\n<p>But it doesn't work. The full code is:</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\nHashMap&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\nprefs.put(\"profile.default_content_settings.popups\", 0);\nprefs.put(\"download.default_directory\", LocationUtil.getDownloadFolderPath());\nprefs.put(\"download.prompt_for_download\", false);\nprefs.put(\"safebrowsing.enabled\", false); // to disable security check eg. Keep or cancel button\noptions.setExperimentalOption(\"prefs\", prefs);\nChromeDriver chromeDriver= new ChromeDriver(options);\n</code></pre>\n\n<p>Also tried to put these prefs through Capabilities but with no success.</p>\n\n<p><code>((MutableCapabilities) chromeDriver.getCapabilities()).setCapability(ChromeOptions.CAPABILITY, options);</code>\nVersions are:</p>\n\n<ul>\n<li>ChromeDriver 80.0.3987.16</li>\n<li>Selenium Java 3.141.59</li>\n</ul>\n\n<p>How could I download the file in a specific directory without popup window in an Electron app? \nUPD: Tested with browser Chrome - all things are fine.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697382586,"post_id":77296601,"comment_id":136270216,"body_markdown":"what is `includeBuild` doing here? Can&#39;t you just use a project dependency?","body":"what is <code>includeBuild</code> doing here? Can&#39;t you just use a project dependency?"},{"owner":{"account_id":2185983,"reputation":2728,"user_id":1934402,"accept_rate":92,"display_name":"yaserso"},"score":0,"creation_date":1697386729,"post_id":77296601,"comment_id":136270706,"body_markdown":"Isn&#39;t `settings.gradle` supposed to have `includeBuild` in order to create a composite build? I followed [`this Gradle documentation`](https://docs.gradle.org/current/samples/sample_composite_builds_basics.html).","body":"Isn&#39;t <code>settings.gradle</code> supposed to have <code>includeBuild</code> in order to create a composite build? I followed <a href=\"https://docs.gradle.org/current/samples/sample_composite_builds_basics.html\" rel=\"nofollow noreferrer\"><code>this Gradle documentation</code></a>."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697390739,"post_id":77296601,"comment_id":136271190,"body_markdown":"Sure, but from what you&#39;ve described, I don&#39;t see a *need* for composite builds.","body":"Sure, but from what you&#39;ve described, I don&#39;t see a <i>need</i> for composite builds."}],"owner":{"account_id":2185983,"reputation":2728,"user_id":1934402,"accept_rate":92,"display_name":"yaserso"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697388598,"creation_date":1697372270,"question_id":77296601,"body_markdown":"I want to do the following Gradle folder structure in a project.\r\n\r\n```\r\n.\r\n├── project/\r\n│   ├── fruit/\r\n│   │   ├── banana/\r\n│   │   │   └── build.gradle.kts\r\n│   │   ├── apple/\r\n│   │   │   └── build.gradle.kts\r\n│   │   ├── build.gradle.kts\r\n│   │   └── settings.gradle.kts\r\n│   └── shared/\r\n│       ├── common/\r\n│       │   └── build.gradle.kts\r\n│       ├── util/\r\n│       │   └── build.gradle.kts\r\n│       └── build.gradle.kts\r\n├── build.gradle.kts\r\n└── settings.gradle.kts\r\n```\r\n\r\n\r\nIn the outermost `build.gradle` I want to do `allprojects` and `subprojects` to consolidate dependencies. Then, each `build.gradle` will have the dependencies of its folder/subfolder.\r\n\r\nThis is the outermost `settings.gradle`:\r\n```kts\r\nrootProject.name = &quot;root&quot;\r\n\r\ninclude(&quot;fruit&quot;)\r\ninclude(&quot;fruit:apple&quot;)\r\ninclude(&quot;fruit:banana&quot;)\r\ninclude(&quot;shared&quot;)\r\ninclude(&quot;shared:common&quot;)\r\ninclude(&quot;shared:util&quot;)\r\n```\r\n\r\nFor `apple` and `banana`, I want to use `includeBuild` in the `fruit/settings.gradle` to include the `shared` modules.\r\n\r\nThis is the following `build.gradle` for the `fruit` folder (though it cannot be resolved and it doesn&#39;t work):\r\n\r\n```kts\r\ndependencies {\r\n  implementation(&quot;com.example.shared:common&quot;)\r\n  implementation(&quot;com.example.shared:util&quot;)\r\n}\r\n```\r\n\r\nThis is the following `settings.gradle.kts` for the `fruit` folder:\r\n\r\n```kts\r\nincludeBuild(&quot;../shared/common&quot;)\r\nincludeBuild(&quot;../shared/util&quot;)\r\n```\r\n\r\nThe dependencies in my `project/fruit/apple/src/com.example.fruit.apple/Main.java` file still do not get resolved.","title":"How to do a complex gradle composite build project with include, includeBuild, allProjects, and subProjects?","body":"<p>I want to do the following Gradle folder structure in a project.</p>\n<pre><code>.\n├── project/\n│   ├── fruit/\n│   │   ├── banana/\n│   │   │   └── build.gradle.kts\n│   │   ├── apple/\n│   │   │   └── build.gradle.kts\n│   │   ├── build.gradle.kts\n│   │   └── settings.gradle.kts\n│   └── shared/\n│       ├── common/\n│       │   └── build.gradle.kts\n│       ├── util/\n│       │   └── build.gradle.kts\n│       └── build.gradle.kts\n├── build.gradle.kts\n└── settings.gradle.kts\n</code></pre>\n<p>In the outermost <code>build.gradle</code> I want to do <code>allprojects</code> and <code>subprojects</code> to consolidate dependencies. Then, each <code>build.gradle</code> will have the dependencies of its folder/subfolder.</p>\n<p>This is the outermost <code>settings.gradle</code>:</p>\n<pre><code>rootProject.name = &quot;root&quot;\n\ninclude(&quot;fruit&quot;)\ninclude(&quot;fruit:apple&quot;)\ninclude(&quot;fruit:banana&quot;)\ninclude(&quot;shared&quot;)\ninclude(&quot;shared:common&quot;)\ninclude(&quot;shared:util&quot;)\n</code></pre>\n<p>For <code>apple</code> and <code>banana</code>, I want to use <code>includeBuild</code> in the <code>fruit/settings.gradle</code> to include the <code>shared</code> modules.</p>\n<p>This is the following <code>build.gradle</code> for the <code>fruit</code> folder (though it cannot be resolved and it doesn't work):</p>\n<pre><code>dependencies {\n  implementation(&quot;com.example.shared:common&quot;)\n  implementation(&quot;com.example.shared:util&quot;)\n}\n</code></pre>\n<p>This is the following <code>settings.gradle.kts</code> for the <code>fruit</code> folder:</p>\n<pre><code>includeBuild(&quot;../shared/common&quot;)\nincludeBuild(&quot;../shared/util&quot;)\n</code></pre>\n<p>The dependencies in my <code>project/fruit/apple/src/com.example.fruit.apple/Main.java</code> file still do not get resolved.</p>\n"},{"tags":["java","arrays","arraylist","indexing"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697237121,"creation_date":1697237121,"answer_id":77290993,"question_id":77290988,"body_markdown":"Yes. By using an **array**.\r\n\r\n    int[] array = {1, 2, 3, 4, 5};\r\n    return array[0]; // for 1, for 2 use array[1], etc.\r\n\r\nYou can *also* do it with a `List`. But there you need to call [`List.get(int)`](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#get-int-) instead of `[int]`. Like,\r\n\r\n    List&lt;String&gt; wordList = List.of(&quot;desk&quot;, &quot;monitor&quot;);\r\n    return wordList.get(1); // &quot;monitor&quot;\r\n\r\n**Or** with a `String[]` just like an `int[]`\r\n\r\n    String[] wordArray = { &quot;desk&quot;, &quot;monitor&quot; };\r\n    return wordArray[1]; // &quot;monitor&quot;","title":"Find the value of an array by referring to the index number in Java","body":"<p>Yes. By using an <strong>array</strong>.</p>\n<pre><code>int[] array = {1, 2, 3, 4, 5};\nreturn array[0]; // for 1, for 2 use array[1], etc.\n</code></pre>\n<p>You can <em>also</em> do it with a <code>List</code>. But there you need to call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#get-int-\" rel=\"nofollow noreferrer\"><code>List.get(int)</code></a> instead of <code>[int]</code>. Like,</p>\n<pre><code>List&lt;String&gt; wordList = List.of(&quot;desk&quot;, &quot;monitor&quot;);\nreturn wordList.get(1); // &quot;monitor&quot;\n</code></pre>\n<p><strong>Or</strong> with a <code>String[]</code> just like an <code>int[]</code></p>\n<pre><code>String[] wordArray = { &quot;desk&quot;, &quot;monitor&quot; };\nreturn wordArray[1]; // &quot;monitor&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1958580,"reputation":79,"user_id":3235947,"accept_rate":83,"display_name":"code"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697237628,"creation_date":1697237628,"answer_id":77291011,"question_id":77290988,"body_markdown":"It is because your `wordList` is an Object of type ArrayList (ArrayList Object) and NOT an array.\r\n\r\nTry creating an array of type String: \r\n\r\n    String[] wordList = {&quot;array&quot;, &quot;items&quot;, &quot;here&quot;};\r\n    return wordList[2] //Would equal &quot;here&quot;","title":"Find the value of an array by referring to the index number in Java","body":"<p>It is because your <code>wordList</code> is an Object of type ArrayList (ArrayList Object) and NOT an array.</p>\n<p>Try creating an array of type String:</p>\n<pre><code>String[] wordList = {&quot;array&quot;, &quot;items&quot;, &quot;here&quot;};\nreturn wordList[2] //Would equal &quot;here&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697388104,"creation_date":1697238445,"answer_id":77291047,"question_id":77290988,"body_markdown":"You&#39;re confusing Java array with [`ArrayList`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html). An `ArrayList` is a type of [`Collection`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html) backed by an array. \r\n\r\nI don&#39;t know Python, so I&#39;ll address this only from a Java point of view.\r\n\r\n````\r\n// foo is an array of int, and contains 12 elements\r\nint [] foo = new foo [12]; \r\n\r\n// bar is an array of int, with 7 elements. \r\n// the initial values are specified\r\nint [] bar = {14, 92, -42, 48, 0, 0, 13};\r\n````\r\n\r\nAn element is addressed as you expect:  \r\n`System.out.println (bar [2]); // prints -42`\r\n\r\nIf you want to fix your example using an array, the code might look like this:\r\n````\r\nString [] wordList = {&quot;desk&quot;, &quot;monitor&quot;};\r\nSystem.out.println (wordList[1]); // monitor\r\n````\r\n\r\nCollections are more flexible than arrays. One consideration is that an array has a fixed size, while most Collection Objects will increase their sizes as needed. Suppose an array is used, and it is discovered it is too small. To continue, a new array would have to be created, the contents of the old array would be copied into the new array, and the old array discarded.\r\n\r\n\r\nIf you wanted to fix your Java example to use an ArrayList, it might look like this, with a call to [`get`][1]:\r\n\r\n````\r\nArrayList&lt;String&gt; wordList = new ArrayList&lt;String&gt;();\r\nwordList.add(&quot;desk&quot;);\r\nwordList.add(&quot;monitor&quot;);\r\n\r\nreturn wordList.get(1);\r\n````\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html#get(int)","title":"Find the value of an array by referring to the index number in Java","body":"<p>You're confusing Java array with <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\"><code>ArrayList</code></a>. An <code>ArrayList</code> is a type of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html\" rel=\"nofollow noreferrer\"><code>Collection</code></a> backed by an array.</p>\n<p>I don't know Python, so I'll address this only from a Java point of view.</p>\n<pre><code>// foo is an array of int, and contains 12 elements\nint [] foo = new foo [12]; \n\n// bar is an array of int, with 7 elements. \n// the initial values are specified\nint [] bar = {14, 92, -42, 48, 0, 0, 13};\n</code></pre>\n<p>An element is addressed as you expect:<br />\n<code>System.out.println (bar [2]); // prints -42</code></p>\n<p>If you want to fix your example using an array, the code might look like this:</p>\n<pre><code>String [] wordList = {&quot;desk&quot;, &quot;monitor&quot;};\nSystem.out.println (wordList[1]); // monitor\n</code></pre>\n<p>Collections are more flexible than arrays. One consideration is that an array has a fixed size, while most Collection Objects will increase their sizes as needed. Suppose an array is used, and it is discovered it is too small. To continue, a new array would have to be created, the contents of the old array would be copied into the new array, and the old array discarded.</p>\n<p>If you wanted to fix your Java example to use an ArrayList, it might look like this, with a call to <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html#get(int)\" rel=\"nofollow noreferrer\"><code>get</code></a>:</p>\n<pre><code>ArrayList&lt;String&gt; wordList = new ArrayList&lt;String&gt;();\nwordList.add(&quot;desk&quot;);\nwordList.add(&quot;monitor&quot;);\n\nreturn wordList.get(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697248690,"creation_date":1697248690,"answer_id":77291362,"question_id":77290988,"body_markdown":"&gt; _&quot;... Is there a similar way to do this in java? I have only been able to find calling values of an array and getting their index using indexOf(). ...&quot;_\r\n\r\nNot for a _List_.&amp;nbsp; In _Java_, the _bracket syntax_ is used exclusively for _array notation_.","title":"Find the value of an array by referring to the index number in Java","body":"<blockquote>\n<p><em>&quot;... Is there a similar way to do this in java? I have only been able to find calling values of an array and getting their index using indexOf(). ...&quot;</em></p>\n</blockquote>\n<p>Not for a <em>List</em>.  In <em>Java</em>, the <em>bracket syntax</em> is used exclusively for <em>array notation</em>.</p>\n"}],"owner":{"account_id":25996420,"reputation":7,"user_id":19707719,"display_name":"sentzs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":4,"score":-2,"last_activity_date":1697388104,"creation_date":1697237020,"question_id":77290988,"body_markdown":"In python, calling the value of a list by only referring to its index number is done by\r\n\r\n```\r\narray = [1, 2, 3, 4, 5,]\r\nreturn array[0]\r\n```\r\nreturns \r\n&gt;1\r\n\r\nIs there a similar way to do this in java? I have only been able to find calling values of an array and getting their index using indexOf().\r\n\r\n\r\n```\r\nArrayList&lt;String&gt; wordList = new ArrayList&lt;String&gt;();\r\nwordList.add(&quot;desk&quot;);\r\nwordList.add(&quot;monitor&quot;);\r\n\r\nreturn wordList[1];\r\n```\r\nReturns error\r\n\r\n\r\n\r\n&gt; array required, but ArrayList&lt;String&gt; found\r\n        return wordList[1];\r\n                       ^\r\n\r\nI would want it to return the value that is in index 1, which is &#39;monitor&#39;","title":"Find the value of an array by referring to the index number in Java","body":"<p>In python, calling the value of a list by only referring to its index number is done by</p>\n<pre><code>array = [1, 2, 3, 4, 5,]\nreturn array[0]\n</code></pre>\n<p>returns</p>\n<blockquote>\n<p>1</p>\n</blockquote>\n<p>Is there a similar way to do this in java? I have only been able to find calling values of an array and getting their index using indexOf().</p>\n<pre><code>ArrayList&lt;String&gt; wordList = new ArrayList&lt;String&gt;();\nwordList.add(&quot;desk&quot;);\nwordList.add(&quot;monitor&quot;);\n\nreturn wordList[1];\n</code></pre>\n<p>Returns error</p>\n<blockquote>\n<p>array required, but ArrayList found\nreturn wordList[1];\n^</p>\n</blockquote>\n<p>I would want it to return the value that is in index 1, which is 'monitor'</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":0,"creation_date":1697401939,"post_id":77297610,"comment_id":136272279,"body_markdown":"Welcome to Stack Overflow. \nMy matrix maths is basic but my first question, given you are calculating the determinate is can eigenvalue be calculated for all matrices. Second I would suggest starting with a small matrix and then expanding to your target matrix says. Good luck.","body":"Welcome to Stack Overflow.  My matrix maths is basic but my first question, given you are calculating the determinate is can eigenvalue be calculated for all matrices. Second I would suggest starting with a small matrix and then expanding to your target matrix says. Good luck."}],"owner":{"account_id":29677546,"reputation":1,"user_id":22745075,"display_name":"Евгений Алексндров"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697388040,"creation_date":1697388040,"question_id":77297610,"body_markdown":"There is a code in which the matrix class is implemented, for the convenience of working with operations, there are multiplication functions, differences. The eigenvalue of the matrix is found by the formula det(A - LAMBDA * E), where A is the given matrix, LAMBDA is the desired eigenvalue, E is the unit matrix. The value is found using the function &quot;FindingAnEigenValue&quot; written by me, in which the search goes through all the values with a certain step. The problem is that the value is not found\r\n\r\nBody:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        // Инициализируем переменные\r\n        Matrix _Matrix = new Matrix(3);\r\n        Matrix _DefaultMatrix = new Matrix(3);\r\n        Matrix _SingleMatrix = new Matrix(3);\r\n\r\n        // Задаем переменные матрицы\r\n        _Matrix.setMatrixElem();\r\n        _DefaultMatrix = _Matrix;\r\n\r\n        //Находим собственное значение\r\n        _Matrix.FindingAnEigenValue(_Matrix,_SingleMatrix, _DefaultMatrix);\r\n\r\n    }\r\n}\r\n```\r\n\r\nClass:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Matrix {\r\n    public Scanner _Scanner = new Scanner(System.in);\r\n    private double MatrixDeterminant;\r\n    private int MatrixSize;\r\n    private double[][] MatrixElem;\r\n    private double[][] MatrixToOperation;\r\n    private double EigenValue;\r\n    private double Lymbda;\r\n    Matrix(int MatrixSize){\r\n        this.MatrixSize = MatrixSize;\r\n        MatrixElem = new double[MatrixSize][MatrixSize];\r\n        MatrixToOperation = new double[MatrixSize][MatrixSize];\r\n\r\n    }\r\n    public void setMatrixElem(){\r\n\r\n        for (int i=0;i&lt;MatrixSize;i++){\r\n            for (int j=0;j&lt;MatrixSize;j++){\r\n                MatrixElem[i][j] = _Scanner.nextDouble();\r\n            }\r\n        }\r\n\r\n    }\r\n    public void getMatrixElem(){\r\n        System.out.println(&quot;Матрица имеет вид: &quot;);\r\n        for (int i=0;i&lt;MatrixSize;i++){\r\n            for (int j=0;j&lt;MatrixSize;j++){\r\n                System.out.print(MatrixElem[i][j] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n        System.out.println();\r\n    }\r\n    public void MultiplyToConst(double Lym){\r\n        for (int i=0;i&lt;MatrixSize;i++){\r\n            for (int j=0;j&lt;MatrixSize;j++){\r\n                MatrixElem[i][j] *=Lym;\r\n            }\r\n        }\r\n    }\r\n    public void MatrixSum(Matrix B){\r\n        this.MatrixToOperation = B.MatrixElem;\r\n        for (int i=0;i&lt;MatrixSize;i++){\r\n            for (int j=0;j&lt;MatrixSize;j++){\r\n                MatrixElem[i][j] += MatrixToOperation[i][j];\r\n            }\r\n        }\r\n    }\r\n    public void MatrixDiff(Matrix B){\r\n        this.MatrixToOperation = B.MatrixElem;\r\n        for (int i=0;i&lt;MatrixSize;i++){\r\n            for (int j=0;j&lt;MatrixSize;j++){\r\n                MatrixElem[i][j] -= MatrixToOperation[i][j];\r\n            }\r\n        }\r\n    }\r\n    public void MatrixMultiply(Matrix B){\r\n        this.MatrixToOperation = B.MatrixElem;\r\n        for (int i=0;i&lt;MatrixSize;i++){\r\n            for (int j=0;j&lt;MatrixSize;j++){\r\n                for (int k=0;k&lt;MatrixSize;k++){\r\n                    MatrixElem[i][j] += MatrixElem[k][i] * MatrixToOperation[j][k];\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public double MatrixDeterminant(){\r\n        MatrixDeterminant =\r\n                  MatrixElem[0][0] * MatrixElem[1][1] * MatrixElem[2][2]\r\n                + MatrixElem[1][0] * MatrixElem[2][1] * MatrixElem[0][2]\r\n                + MatrixElem[0][1] * MatrixElem[1][2] * MatrixElem[2][0]\r\n\r\n                -          (MatrixElem[2][0] * MatrixElem[1][1] * MatrixElem[0][2]\r\n                          + MatrixElem[1][0] * MatrixElem[0][1] * MatrixElem[2][2]\r\n                          + MatrixElem[1][2] * MatrixElem[2][1] * MatrixElem[0][0]);\r\n        return MatrixDeterminant;\r\n    }\r\n\r\n    public double getMatrixDeterminant() {\r\n        return MatrixDeterminant;\r\n    }\r\n    public void FindingAnEigenValue(Matrix A, Matrix SingleMatrix, Matrix DefaultMatrix){\r\n\r\n        // Заполняем единичную матрицу\r\n            SingleMatrix.setMatrixSingle();\r\n\r\n        for (double Lymbda = 0; Lymbda &lt;= 10; Lymbda+=0.00001){\r\n\r\n            // 1. Умножаем единичную матрицу на констранту Lym\r\n            // 2. Вычитаем из данной матрицы полученную матрицу\r\n\r\n            SingleMatrix.MultiplyToConst(Lymbda);\r\n            A.MatrixDiff(SingleMatrix);\r\n\r\n            // 1. Находим определитель матрицы, после всех операций, если равен 0, выводим подходящее значение Lymbda\r\n\r\n            if (A.MatrixDeterminant()==0){\r\n\r\n                System.out.println(Lymbda);\r\n\r\n            }\r\n\r\n            // 1. Если цикл продолжается, возвращаем все значение в исходное состояние\r\n\r\n            SingleMatrix.setMatrixSingle();\r\n            A.MatrixDeterminant = 0;\r\n            A = DefaultMatrix;\r\n        }\r\n\r\n    }\r\n    public void setMatrixSingle(){\r\n        for (int i=0;i&lt;MatrixSize;i++){\r\n            for (int j=0;j&lt;MatrixSize;j++){\r\n                if (i==j){\r\n                    MatrixElem[i][j] = 1;\r\n                }\r\n                else {\r\n                    MatrixElem[i][j] = 0;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Finding the eigenvalues of the matrix, can&#39;t get the correct result","body":"<p>There is a code in which the matrix class is implemented, for the convenience of working with operations, there are multiplication functions, differences. The eigenvalue of the matrix is found by the formula det(A - LAMBDA * E), where A is the given matrix, LAMBDA is the desired eigenvalue, E is the unit matrix. The value is found using the function &quot;FindingAnEigenValue&quot; written by me, in which the search goes through all the values with a certain step. The problem is that the value is not found</p>\n<p>Body:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Инициализируем переменные\n        Matrix _Matrix = new Matrix(3);\n        Matrix _DefaultMatrix = new Matrix(3);\n        Matrix _SingleMatrix = new Matrix(3);\n\n        // Задаем переменные матрицы\n        _Matrix.setMatrixElem();\n        _DefaultMatrix = _Matrix;\n\n        //Находим собственное значение\n        _Matrix.FindingAnEigenValue(_Matrix,_SingleMatrix, _DefaultMatrix);\n\n    }\n}\n</code></pre>\n<p>Class:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Matrix {\n    public Scanner _Scanner = new Scanner(System.in);\n    private double MatrixDeterminant;\n    private int MatrixSize;\n    private double[][] MatrixElem;\n    private double[][] MatrixToOperation;\n    private double EigenValue;\n    private double Lymbda;\n    Matrix(int MatrixSize){\n        this.MatrixSize = MatrixSize;\n        MatrixElem = new double[MatrixSize][MatrixSize];\n        MatrixToOperation = new double[MatrixSize][MatrixSize];\n\n    }\n    public void setMatrixElem(){\n\n        for (int i=0;i&lt;MatrixSize;i++){\n            for (int j=0;j&lt;MatrixSize;j++){\n                MatrixElem[i][j] = _Scanner.nextDouble();\n            }\n        }\n\n    }\n    public void getMatrixElem(){\n        System.out.println(&quot;Матрица имеет вид: &quot;);\n        for (int i=0;i&lt;MatrixSize;i++){\n            for (int j=0;j&lt;MatrixSize;j++){\n                System.out.print(MatrixElem[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n        System.out.println();\n    }\n    public void MultiplyToConst(double Lym){\n        for (int i=0;i&lt;MatrixSize;i++){\n            for (int j=0;j&lt;MatrixSize;j++){\n                MatrixElem[i][j] *=Lym;\n            }\n        }\n    }\n    public void MatrixSum(Matrix B){\n        this.MatrixToOperation = B.MatrixElem;\n        for (int i=0;i&lt;MatrixSize;i++){\n            for (int j=0;j&lt;MatrixSize;j++){\n                MatrixElem[i][j] += MatrixToOperation[i][j];\n            }\n        }\n    }\n    public void MatrixDiff(Matrix B){\n        this.MatrixToOperation = B.MatrixElem;\n        for (int i=0;i&lt;MatrixSize;i++){\n            for (int j=0;j&lt;MatrixSize;j++){\n                MatrixElem[i][j] -= MatrixToOperation[i][j];\n            }\n        }\n    }\n    public void MatrixMultiply(Matrix B){\n        this.MatrixToOperation = B.MatrixElem;\n        for (int i=0;i&lt;MatrixSize;i++){\n            for (int j=0;j&lt;MatrixSize;j++){\n                for (int k=0;k&lt;MatrixSize;k++){\n                    MatrixElem[i][j] += MatrixElem[k][i] * MatrixToOperation[j][k];\n                }\n            }\n        }\n    }\n\n    public double MatrixDeterminant(){\n        MatrixDeterminant =\n                  MatrixElem[0][0] * MatrixElem[1][1] * MatrixElem[2][2]\n                + MatrixElem[1][0] * MatrixElem[2][1] * MatrixElem[0][2]\n                + MatrixElem[0][1] * MatrixElem[1][2] * MatrixElem[2][0]\n\n                -          (MatrixElem[2][0] * MatrixElem[1][1] * MatrixElem[0][2]\n                          + MatrixElem[1][0] * MatrixElem[0][1] * MatrixElem[2][2]\n                          + MatrixElem[1][2] * MatrixElem[2][1] * MatrixElem[0][0]);\n        return MatrixDeterminant;\n    }\n\n    public double getMatrixDeterminant() {\n        return MatrixDeterminant;\n    }\n    public void FindingAnEigenValue(Matrix A, Matrix SingleMatrix, Matrix DefaultMatrix){\n\n        // Заполняем единичную матрицу\n            SingleMatrix.setMatrixSingle();\n\n        for (double Lymbda = 0; Lymbda &lt;= 10; Lymbda+=0.00001){\n\n            // 1. Умножаем единичную матрицу на констранту Lym\n            // 2. Вычитаем из данной матрицы полученную матрицу\n\n            SingleMatrix.MultiplyToConst(Lymbda);\n            A.MatrixDiff(SingleMatrix);\n\n            // 1. Находим определитель матрицы, после всех операций, если равен 0, выводим подходящее значение Lymbda\n\n            if (A.MatrixDeterminant()==0){\n\n                System.out.println(Lymbda);\n\n            }\n\n            // 1. Если цикл продолжается, возвращаем все значение в исходное состояние\n\n            SingleMatrix.setMatrixSingle();\n            A.MatrixDeterminant = 0;\n            A = DefaultMatrix;\n        }\n\n    }\n    public void setMatrixSingle(){\n        for (int i=0;i&lt;MatrixSize;i++){\n            for (int j=0;j&lt;MatrixSize;j++){\n                if (i==j){\n                    MatrixElem[i][j] = 1;\n                }\n                else {\n                    MatrixElem[i][j] = 0;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","refactoring","junit5"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1692119638,"post_id":76907706,"comment_id":135580139,"body_markdown":"What does _the map variable gets populated with extra values_ mean?  Based on the type, `map` cannot contain multiple values for the same key.  Also, based on the example, `buildMap()` is probably not thread safe.","body":"What does <i>the map variable gets populated with extra values</i> mean?  Based on the type, <code>map</code> cannot contain multiple values for the same key.  Also, based on the example, <code>buildMap()</code> is probably not thread safe."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1692171272,"post_id":76907706,"comment_id":135586012,"body_markdown":"You are keeping state in a singleton, which is bad unless you need it then you need to design for it (which you didn&#39;t).","body":"You are keeping state in a singleton, which is bad unless you need it then you need to design for it (which you didn&#39;t)."},{"owner":{"account_id":20090406,"reputation":415,"user_id":14731030,"display_name":"pensee"},"score":0,"creation_date":1692383731,"post_id":76907706,"comment_id":135620577,"body_markdown":"@M.Deinum Could you provide some brief points on how could one design for it? For now, to solve this issue I moved the local variable instantiation inside the `buildMap` method. Not sure if that too has some cons","body":"@M.Deinum Could you provide some brief points on how could one design for it? For now, to solve this issue I moved the local variable instantiation inside the <code>buildMap</code> method. Not sure if that too has some cons"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1692607784,"post_id":76907706,"comment_id":135641404,"body_markdown":"That doesn&#39;t solve it unless you also removed the instance variable. You should create the hashmap inside the `genMetFiles` methyod and don&#39;t use an instance variable. You should only have a local variable inside that method.","body":"That doesn&#39;t solve it unless you also removed the instance variable. You should create the hashmap inside the <code>genMetFiles</code> methyod and don&#39;t use an instance variable. You should only have a local variable inside that method."}],"answers":[{"tags":[],"owner":{"account_id":27529235,"reputation":437,"user_id":21008053,"display_name":"subasri_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697387418,"creation_date":1697387418,"answer_id":77297577,"question_id":76907706,"body_markdown":"The suggestions in the comment section can be implemented to improvise your code. \r\n\r\n&gt; I can probably achieve this by removing the @Autowired annotation and making an init() method annotated with @BeforeEach. But not sure how to initialize MService inside this method, as the class MService has @Autowired variables.\r\n\r\n`@InjectMocks` creates instance of the class and to initialize the other Autowired variables in the service class, `MockitoAnnotations.openMocks(this)` would inject the required mock variables.\r\n\r\n```\r\nclass MServiceTest {\r\n    @InjectMocks\r\n    MService service;\r\n\r\n    @Mock\r\n    Foo foo\r\n\r\n    @BeforeEach\r\n    void init() {\r\n        MockitoAnnotations.openMocks(this);\r\n    }\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(...)\r\n    void testM(String ver) {\r\n        List&lt;File&gt; mFiles = service.geMetFiles(ver);\r\n\r\n    }\r\n}\r\n```\r\n\r\nHope this helps","title":"Avoiding a method to repeatedly add values to a map on different calls","body":"<p>The suggestions in the comment section can be implemented to improvise your code.</p>\n<blockquote>\n<p>I can probably achieve this by removing the @Autowired annotation and making an init() method annotated with @BeforeEach. But not sure how to initialize MService inside this method, as the class MService has @Autowired variables.</p>\n</blockquote>\n<p><code>@InjectMocks</code> creates instance of the class and to initialize the other Autowired variables in the service class, <code>MockitoAnnotations.openMocks(this)</code> would inject the required mock variables.</p>\n<pre><code>class MServiceTest {\n    @InjectMocks\n    MService service;\n\n    @Mock\n    Foo foo\n\n    @BeforeEach\n    void init() {\n        MockitoAnnotations.openMocks(this);\n    }\n\n    @ParameterizedTest\n    @MethodSource(...)\n    void testM(String ver) {\n        List&lt;File&gt; mFiles = service.geMetFiles(ver);\n\n    }\n}\n</code></pre>\n<p>Hope this helps</p>\n"}],"owner":{"account_id":20090406,"reputation":415,"user_id":14731030,"display_name":"pensee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697387418,"creation_date":1692118005,"question_id":76907706,"body_markdown":"I have a service class that has a method :  \r\n\r\n    @Service\r\n    class MService {\r\n    private Map&lt;String,String&gt; map=new HashMap&lt;&gt;();\r\n    public List&lt;File&gt; genMetFiles(String ver){\r\n    .\r\n    .\r\n    .\r\n      buildMap(ver);\r\n    .\r\n    .\r\n    }  \r\n\r\nThe buildMap function makes some API calls and populates the map variable.\r\n\r\nRecently I encountered an issue:  \r\nI made a test class \r\n\r\n    class MServiceTest {\r\n    @Autowired\r\n    private MService service;\r\n    @ParameterizedTest\r\n    @MethodSource(...)\r\n    void testM(String ver) {\r\n    List&lt;File&gt; mFiles=service.geMetFiles(ver);\r\n    \r\n    }\r\n    }\r\n\r\nThe Method source has multiple arguments. So each time the testM method is called it calls the service.genMetFiles function which calls the buildMap which populates the map variable. Since there will be multiple calls the map variable gets populated with extra values then is required. It will hold all the previous values generated.  \r\nI discovered this issue while debugging.  \r\nI was wondering if I could have coded in a way so that this issue wouldn&#39;t have occurred.  \r\n\r\n**My Thoughts:**  \r\n- One way could be that I could have written a @pre condition on the method, and also inside the method, the first line could have been the initializer line -&gt; new HashMap&lt;&gt; rather than instantiating it at the top class level.   \r\n- Now since there are multiple Junit tests. I could make it so that each time a test is called it creates a new instance of service. I can probably achieve this by removing the @Autowired annotation and making an init() method annotated with @BeforeEach. But not sure how to initialize MService inside this method, as the class MService has @Autowired variables.\r\n\r\nAny suggestions or thoughts on the above two approaches or any other ideas?  \r\n \r\n_________________________________________________\r\nREPHRASING THE QUESTION FROM A DIFFERENT DIRECTION:  \r\n\r\n    @Service\r\n    class MService {\r\n    private Map&lt;String,String&gt; map=new HashMap&lt;&gt;();\r\n    public List&lt;File&gt; genMetFiles(String ver){\r\n    .\r\n    .\r\n    .\r\n      buildMap(ver);\r\n    .\r\n    .\r\n    }  \r\n\r\nNow if some other class has an Autowired variable of this Mservice class say mService.   \r\nNow if I call mService.buildMap(&quot;1.2.0&quot;) map will get populated with some values, after this if I call mService.buildMap(&quot;1.3.0&quot;) The new values will get added to the map or the size of the map will increase.  \r\nThis is not what I want. Because if I call mService.someOtherMethod() the behavior will change.  \r\nThis method uses a map variable. And that has data generated by call with &quot;1.2.0&quot; and &quot;1.3.0&quot;.  \r\n","title":"Avoiding a method to repeatedly add values to a map on different calls","body":"<p>I have a service class that has a method :</p>\n<pre><code>@Service\nclass MService {\nprivate Map&lt;String,String&gt; map=new HashMap&lt;&gt;();\npublic List&lt;File&gt; genMetFiles(String ver){\n.\n.\n.\n  buildMap(ver);\n.\n.\n}  \n</code></pre>\n<p>The buildMap function makes some API calls and populates the map variable.</p>\n<p>Recently I encountered an issue:<br />\nI made a test class</p>\n<pre><code>class MServiceTest {\n@Autowired\nprivate MService service;\n@ParameterizedTest\n@MethodSource(...)\nvoid testM(String ver) {\nList&lt;File&gt; mFiles=service.geMetFiles(ver);\n\n}\n}\n</code></pre>\n<p>The Method source has multiple arguments. So each time the testM method is called it calls the service.genMetFiles function which calls the buildMap which populates the map variable. Since there will be multiple calls the map variable gets populated with extra values then is required. It will hold all the previous values generated.<br />\nI discovered this issue while debugging.<br />\nI was wondering if I could have coded in a way so that this issue wouldn't have occurred.</p>\n<p><strong>My Thoughts:</strong></p>\n<ul>\n<li>One way could be that I could have written a @pre condition on the method, and also inside the method, the first line could have been the initializer line -&gt; new HashMap&lt;&gt; rather than instantiating it at the top class level.</li>\n<li>Now since there are multiple Junit tests. I could make it so that each time a test is called it creates a new instance of service. I can probably achieve this by removing the @Autowired annotation and making an init() method annotated with @BeforeEach. But not sure how to initialize MService inside this method, as the class MService has @Autowired variables.</li>\n</ul>\n<p>Any suggestions or thoughts on the above two approaches or any other ideas?</p>\n<hr />\n<p>REPHRASING THE QUESTION FROM A DIFFERENT DIRECTION:</p>\n<pre><code>@Service\nclass MService {\nprivate Map&lt;String,String&gt; map=new HashMap&lt;&gt;();\npublic List&lt;File&gt; genMetFiles(String ver){\n.\n.\n.\n  buildMap(ver);\n.\n.\n}  \n</code></pre>\n<p>Now if some other class has an Autowired variable of this Mservice class say mService.<br />\nNow if I call mService.buildMap(&quot;1.2.0&quot;) map will get populated with some values, after this if I call mService.buildMap(&quot;1.3.0&quot;) The new values will get added to the map or the size of the map will increase.<br />\nThis is not what I want. Because if I call mService.someOtherMethod() the behavior will change.<br />\nThis method uses a map variable. And that has data generated by call with &quot;1.2.0&quot; and &quot;1.3.0&quot;.</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":28585246,"reputation":36,"user_id":21885617,"display_name":"krishna.nitheesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697386470,"creation_date":1697386311,"answer_id":77297490,"question_id":77297461,"body_markdown":"In the create method in your machine service are you calling machineRepository.save(machine) at the end? If adding this did not work we will need to see the implementation of the create method here. Also please refer this doc on entity states https://vladmihalcea.com/a-beginners-guide-to-jpa-hibernate-entity-state-transitions/.","title":"How to fix detached entity passed to persist thrown by JPA and Hibernate","body":"<p>In the create method in your machine service are you calling machineRepository.save(machine) at the end? If adding this did not work we will need to see the implementation of the create method here. Also please refer this doc on entity states <a href=\"https://vladmihalcea.com/a-beginners-guide-to-jpa-hibernate-entity-state-transitions/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/a-beginners-guide-to-jpa-hibernate-entity-state-transitions/</a>.</p>\n"}],"owner":{"account_id":913255,"reputation":507,"user_id":946610,"display_name":"xeLL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77297490,"answer_count":1,"score":-1,"last_activity_date":1697386470,"creation_date":1697385935,"question_id":77297461,"body_markdown":"I have a JPA-persisted object model that contains a one-to-one relationship: a Machine has User, who created it. A Machine has one User.\r\n\r\nHere&#39;s a snippet of the code:\r\n```\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @Builder(toBuilder = true)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @EntityListeners({\r\n      AuditingEntityListener.class\r\n    })\r\n    @Table(name = &quot;machines&quot;)\r\n    public class MachineEntity implements Serializable {\r\n    \r\n      @Id\r\n      @Column(name = &quot;id&quot;)\r\n      private Long id;\r\n      @NotNull\r\n      @Column(name = &quot;uid&quot;)\r\n      private UUID uid;\r\n      @NotNull\r\n      @Column(name = &quot;status&quot;)\r\n      private Status status;\r\n      @CreatedDate\r\n      @Column(name = &quot;created_at&quot;)\r\n      private Instant createdAt;\r\n      @OneToOne\r\n      @MapsId\r\n      @JoinColumn(name = &quot;id&quot;)\r\n      private UserEntity createdBy;\r\n      @NotNull\r\n      @Column(name = &quot;active&quot;)\r\n      private Boolean active;\r\n    \r\n      public enum Status {\r\n        STOPPED,\r\n        RUNNING,\r\n      }\r\n    }\r\n```\r\n\r\n```\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @Builder(toBuilder = true)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @EntityListeners({\r\n      AuditingEntityListener.class\r\n    })\r\n    @Table(name = &quot;users&quot;)\r\n    public class UserEntity implements Serializable {\r\n    \r\n      private static final String EMAIL_REGEXP = &quot;^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.(?:[a-zA-Z]{2,6})$&quot;;\r\n    \r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      @Column(name = &quot;id&quot;)\r\n      private Long id;\r\n      @NotNull\r\n      @Length(max = 100)\r\n      @Pattern(regexp = EMAIL_REGEXP, message = &quot;Invalid User name, must be an E-Mail&quot;)\r\n      @Column(name = &quot;username&quot;, length = 100, unique = true)\r\n      private String username;\r\n      @NotNull\r\n      @Column(name = &quot;password&quot;)\r\n      private String password;\r\n      @Length(max = 100)\r\n      @Column(name = &quot;first_name&quot;, length = 100)\r\n      private String firstName;\r\n      @Length(max = 100)\r\n      @Column(name = &quot;last_name&quot;, length = 100)\r\n      private String lastName;\r\n      @OneToOne(mappedBy = &quot;createdBy&quot;, cascade = CascadeType.ALL)\r\n      @PrimaryKeyJoinColumn\r\n      private MachineEntity machine;\r\n    }\r\n```\r\n\r\nI am able to create an User object:\r\n```\r\n{\r\n    &quot;id&quot;: 1,\r\n    &quot;username&quot;: &quot;user@email.com&quot;,\r\n    &quot;password&quot;: &quot;OJ1G-RV488965-1fEtIs8MIokIKaCA&quot;,\r\n    &quot;firstName&quot;: &quot;UserName&quot;,\r\n    &quot;lastName&quot;: &quot;LastName&quot;\r\n}\r\n```\r\nAnd then, when I try to save Machine object, e.g calling my rest api endpoint:\r\n```\r\ncurl -X &#39;POST&#39; \\\r\n  &#39;http://localhost:8080/api/machines&#39; \\\r\n  -H &#39;accept: application/json&#39; \\\r\n  -H &#39;Content-Type: application/json&#39; \\\r\n  -d &#39;{\r\n  &quot;uid&quot;: &quot;3fa85f64-5717-4562-b3fc-2c963f66afa6&quot;,\r\n  &quot;status&quot;: &quot;STOPPED&quot;,\r\n  &quot;createdBy&quot;: {\r\n    &quot;id&quot;: 1,\r\n    &quot;username&quot;: &quot;user@email.com&quot;,\r\n    &quot;password&quot;: &quot;OJ1G-RV488965-1fEtIs8MIokIKaCA&quot;,\r\n    &quot;firstName&quot;: &quot;FirstName&quot;,\r\n    &quot;lastName&quot;: &quot;LastName&quot;\r\n  },\r\n  &quot;createdAt&quot;: &quot;2023-10-15T15:21:22.079Z&quot;,\r\n  &quot;active&quot;: true\r\n}&#39;\r\n```\r\nMeanin I want to persist in my JPA repository, which is available by Spring Data, this object:\r\n```\r\nMachineEntity(id=null, uid=3fa85f64-5717-4562-b3fc-2c963f66afa6, status=STOPPED, createdAt=2023-10-15T15:21:22.079Z, createdBy=UserEntity(id=1, username=user@email.com, password=OJ1G-RV488965-1fEtIs8MIokIKaCA, firstName=FirstName, lastName=LastName, machine=null), active=true)\r\n```\r\nUnforunately, it fails with this error message and I&#39;m a bit lost in how to fix it. Error message:\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.organization.blp.user.UserEntity; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: com.organization.blp.user.UserEntity\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:297)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy158.save(Unknown Source)\r\n\tat com.organization.blp.machine.MachineService.create(MachineService.java:16)\r\n\tat com.organization.blp.machine.MachineRestController.machineCreate(MachineRestController.java:25)\r\n\tat com.organization.blp.machine.MachineRestController$$FastClassBySpringCGLIB$$cd4b53ba.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\r\n\tat com.organization.blp.machine.MachineRestController$$EnhancerBySpringCGLIB$$7d8d90b4.machineCreate(&lt;generated&gt;)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.hibernate.PersistentObjectException: detached entity passed to persist: com.organization.blp.user.UserEntity\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:120)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118)\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:780)\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:748)\r\n\tat org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298)\r\n\tat org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:510)\r\n\tat org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:434)\r\n\tat org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)\r\n\tat org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.cascadeBeforeSave(AbstractSaveEventListener.java:427)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:264)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:135)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756)\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy155.persist(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy155.persist(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\t... 82 common frames omitted\r\n```\r\n\r\nWhat is the correct way to persist Machine entity in my way?\r\n","title":"How to fix detached entity passed to persist thrown by JPA and Hibernate","body":"<p>I have a JPA-persisted object model that contains a one-to-one relationship: a Machine has User, who created it. A Machine has one User.</p>\n<p>Here's a snippet of the code:</p>\n<pre><code>    @Getter\n    @Setter\n    @ToString\n    @Builder(toBuilder = true)\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @Entity\n    @EntityListeners({\n      AuditingEntityListener.class\n    })\n    @Table(name = &quot;machines&quot;)\n    public class MachineEntity implements Serializable {\n    \n      @Id\n      @Column(name = &quot;id&quot;)\n      private Long id;\n      @NotNull\n      @Column(name = &quot;uid&quot;)\n      private UUID uid;\n      @NotNull\n      @Column(name = &quot;status&quot;)\n      private Status status;\n      @CreatedDate\n      @Column(name = &quot;created_at&quot;)\n      private Instant createdAt;\n      @OneToOne\n      @MapsId\n      @JoinColumn(name = &quot;id&quot;)\n      private UserEntity createdBy;\n      @NotNull\n      @Column(name = &quot;active&quot;)\n      private Boolean active;\n    \n      public enum Status {\n        STOPPED,\n        RUNNING,\n      }\n    }\n</code></pre>\n<pre><code>    @Getter\n    @Setter\n    @ToString\n    @Builder(toBuilder = true)\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @Entity\n    @EntityListeners({\n      AuditingEntityListener.class\n    })\n    @Table(name = &quot;users&quot;)\n    public class UserEntity implements Serializable {\n    \n      private static final String EMAIL_REGEXP = &quot;^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.(?:[a-zA-Z]{2,6})$&quot;;\n    \n      @Id\n      @GeneratedValue(strategy = GenerationType.AUTO)\n      @Column(name = &quot;id&quot;)\n      private Long id;\n      @NotNull\n      @Length(max = 100)\n      @Pattern(regexp = EMAIL_REGEXP, message = &quot;Invalid User name, must be an E-Mail&quot;)\n      @Column(name = &quot;username&quot;, length = 100, unique = true)\n      private String username;\n      @NotNull\n      @Column(name = &quot;password&quot;)\n      private String password;\n      @Length(max = 100)\n      @Column(name = &quot;first_name&quot;, length = 100)\n      private String firstName;\n      @Length(max = 100)\n      @Column(name = &quot;last_name&quot;, length = 100)\n      private String lastName;\n      @OneToOne(mappedBy = &quot;createdBy&quot;, cascade = CascadeType.ALL)\n      @PrimaryKeyJoinColumn\n      private MachineEntity machine;\n    }\n</code></pre>\n<p>I am able to create an User object:</p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;username&quot;: &quot;user@email.com&quot;,\n    &quot;password&quot;: &quot;OJ1G-RV488965-1fEtIs8MIokIKaCA&quot;,\n    &quot;firstName&quot;: &quot;UserName&quot;,\n    &quot;lastName&quot;: &quot;LastName&quot;\n}\n</code></pre>\n<p>And then, when I try to save Machine object, e.g calling my rest api endpoint:</p>\n<pre><code>curl -X 'POST' \\\n  'http://localhost:8080/api/machines' \\\n  -H 'accept: application/json' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n  &quot;uid&quot;: &quot;3fa85f64-5717-4562-b3fc-2c963f66afa6&quot;,\n  &quot;status&quot;: &quot;STOPPED&quot;,\n  &quot;createdBy&quot;: {\n    &quot;id&quot;: 1,\n    &quot;username&quot;: &quot;user@email.com&quot;,\n    &quot;password&quot;: &quot;OJ1G-RV488965-1fEtIs8MIokIKaCA&quot;,\n    &quot;firstName&quot;: &quot;FirstName&quot;,\n    &quot;lastName&quot;: &quot;LastName&quot;\n  },\n  &quot;createdAt&quot;: &quot;2023-10-15T15:21:22.079Z&quot;,\n  &quot;active&quot;: true\n}'\n</code></pre>\n<p>Meanin I want to persist in my JPA repository, which is available by Spring Data, this object:</p>\n<pre><code>MachineEntity(id=null, uid=3fa85f64-5717-4562-b3fc-2c963f66afa6, status=STOPPED, createdAt=2023-10-15T15:21:22.079Z, createdBy=UserEntity(id=1, username=user@email.com, password=OJ1G-RV488965-1fEtIs8MIokIKaCA, firstName=FirstName, lastName=LastName, machine=null), active=true)\n</code></pre>\n<p>Unforunately, it fails with this error message and I'm a bit lost in how to fix it. Error message:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.organization.blp.user.UserEntity; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: com.organization.blp.user.UserEntity\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:297)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at jdk.proxy2/jdk.proxy2.$Proxy158.save(Unknown Source)\n    at com.organization.blp.machine.MachineService.create(MachineService.java:16)\n    at com.organization.blp.machine.MachineRestController.machineCreate(MachineRestController.java:25)\n    at com.organization.blp.machine.MachineRestController$$FastClassBySpringCGLIB$$cd4b53ba.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\n    at com.organization.blp.machine.MachineRestController$$EnhancerBySpringCGLIB$$7d8d90b4.machineCreate(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.hibernate.PersistentObjectException: detached entity passed to persist: com.organization.blp.user.UserEntity\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:120)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118)\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:780)\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:748)\n    at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298)\n    at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:510)\n    at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:434)\n    at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)\n    at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153)\n    at org.hibernate.event.internal.AbstractSaveEventListener.cascadeBeforeSave(AbstractSaveEventListener.java:427)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:264)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:135)\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756)\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\n    at jdk.proxy2/jdk.proxy2.$Proxy155.persist(Unknown Source)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\n    at jdk.proxy2/jdk.proxy2.$Proxy155.persist(Unknown Source)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    ... 82 common frames omitted\n</code></pre>\n<p>What is the correct way to persist Machine entity in my way?</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":10699863,"reputation":8001,"user_id":7875623,"display_name":"Kavithakaran Kanapathippillai"},"score":0,"creation_date":1595625868,"post_id":63081569,"comment_id":111550720,"body_markdown":"Can you add your quote entity?","body":"Can you add your quote entity?"},{"owner":{"account_id":11503332,"reputation":741,"user_id":8430441,"display_name":"Nick"},"score":0,"creation_date":1595626542,"post_id":63081569,"comment_id":111550894,"body_markdown":"@Query(value=&quot;select top 1 * from sp_500 order by date desc&quot;, nativeQuery = true)","body":"@Query(value=&quot;select top 1 * from sp_500 order by date desc&quot;, nativeQuery = true)"},{"owner":{"account_id":3886707,"reputation":1216,"user_id":3217883,"accept_rate":76,"display_name":"user3217883"},"score":0,"creation_date":1595630233,"post_id":63081569,"comment_id":111551870,"body_markdown":"I tried your suggestion and it now compiles.  But when I run it gives &quot;java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;1 * from sp_500 order by date desc&#39; at line 1&quot;","body":"I tried your suggestion and it now compiles.  But when I run it gives &quot;java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;1 * from sp_500 order by date desc&#39; at line 1&quot;"}],"answers":[{"tags":[],"owner":{"account_id":16244742,"reputation":179,"user_id":11730191,"display_name":"farftech19"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595629047,"creation_date":1595629047,"answer_id":63082147,"question_id":63081569,"body_markdown":"Can be done in two ways using the ORDER BY\r\n\r\n1) \r\n*Best practice\r\n\r\nYou can SELECT TOP 1 with the ORDER BY date desc.\r\n\r\nRemoving the MAX part of you QUERY \r\n\r\n//If you are using ORACLE i think is ROW COUNT = 1 \r\n\r\n\r\n2) \r\nYou can make the SELECT * ...  ORDER BY date desc\r\nand just grab the first register\r\n","title":"@query to get record with max date","body":"<p>Can be done in two ways using the ORDER BY</p>\n<p>1)\n*Best practice</p>\n<p>You can SELECT TOP 1 with the ORDER BY date desc.</p>\n<p>Removing the MAX part of you QUERY</p>\n<p>//If you are using ORACLE i think is ROW COUNT = 1</p>\n<p>2)\nYou can make the SELECT * ...  ORDER BY date desc\nand just grab the first register</p>\n"},{"tags":[],"owner":{"account_id":3886707,"reputation":1216,"user_id":3217883,"accept_rate":76,"display_name":"user3217883"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595631092,"creation_date":1595631092,"answer_id":63082416,"question_id":63081569,"body_markdown":"Thanks to @Nick and @luisfa19.  You gave me valuable clues.  Here is what worked:\r\n\r\n    @Query(value=&quot;select * from sp_500 order by date desc limit 1&quot;, nativeQuery = true)","title":"@query to get record with max date","body":"<p>Thanks to @Nick and @luisfa19.  You gave me valuable clues.  Here is what worked:</p>\n<pre><code>@Query(value=&quot;select * from sp_500 order by date desc limit 1&quot;, nativeQuery = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8039247,"reputation":76,"user_id":6061468,"display_name":"ZeroOrOne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677241052,"creation_date":1677241052,"answer_id":75556478,"question_id":63081569,"body_markdown":"It would be something like this:\r\n\r\n```\r\nOptional&lt;Quote&gt; findFirstByOrderByDateDesc();\r\n```","title":"@query to get record with max date","body":"<p>It would be something like this:</p>\n<pre><code>Optional&lt;Quote&gt; findFirstByOrderByDateDesc();\n</code></pre>\n"}],"owner":{"account_id":3886707,"reputation":1216,"user_id":3217883,"accept_rate":76,"display_name":"user3217883"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9679,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1697385805,"creation_date":1595625406,"question_id":63081569,"body_markdown":"I have a mysql table called sp_500.  Each record has a unique date.  I want the last record in the table.  It will have the max date.  What is the best query to pull it?  I tried the following HQL:\r\n\r\n    public interface QuoteRepository extends JpaRepository&lt;Quote, Long&gt; {\r\n    \t\r\n    \t@Query(&quot;from sp_500 a where a.date in (select max(b.date) from sp_500 b)&quot;)\r\n    \tQuote getQuote(String symbol);\r\n    }\r\n\r\nbut when I run it, the following error is displayed:\r\n\r\n&gt; Caused by: java.lang.IllegalArgumentException:\r\n&gt; org.hibernate.hql.internal.ast.QuerySyntaxException: sp_500 is not\r\n&gt; mapped [from sp_500 a where a.date in (select max(b.date) from sp_500\r\n&gt; b)]\r\n\r\nSuggestions?","title":"@query to get record with max date","body":"<p>I have a mysql table called sp_500.  Each record has a unique date.  I want the last record in the table.  It will have the max date.  What is the best query to pull it?  I tried the following HQL:</p>\n<pre><code>public interface QuoteRepository extends JpaRepository&lt;Quote, Long&gt; {\n    \n    @Query(&quot;from sp_500 a where a.date in (select max(b.date) from sp_500 b)&quot;)\n    Quote getQuote(String symbol);\n}\n</code></pre>\n<p>but when I run it, the following error is displayed:</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalArgumentException:\norg.hibernate.hql.internal.ast.QuerySyntaxException: sp_500 is not\nmapped [from sp_500 a where a.date in (select max(b.date) from sp_500\nb)]</p>\n</blockquote>\n<p>Suggestions?</p>\n"},{"tags":["java","ubuntu","libgdx","alsa","pulseaudio"],"comments":[{"owner":{"account_id":66939,"reputation":915,"user_id":196133,"display_name":"xebeche"},"score":0,"creation_date":1673465271,"post_id":71407944,"comment_id":132507703,"body_markdown":"Using a Ubuntu based O/S, too, I see the same error using several audio programs **after** waking up from suspend/hibernation. As @londonBadger suggests, restarting the pulseaudio daemon helps.","body":"Using a Ubuntu based O/S, too, I see the same error using several audio programs <b>after</b> waking up from suspend/hibernation. As @londonBadger suggests, restarting the pulseaudio daemon helps."}],"answers":[{"tags":[],"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649148951,"creation_date":1649148951,"answer_id":71748844,"question_id":71407944,"body_markdown":"check everything installed \r\n\r\n```sudo apt install libpulse-dev pulseaudio apulse```\r\n\r\ncheck its started\r\n\r\n```systemctl --user restart pulseaudio```\r\n\r\ncheck you have openJDK if you are using the Oracle one.\r\n\r\nIts not libGDX its a java to pulseaudio issue, or more specifically OpenAL sound that libGDX uses and how it interacts with linux audio.","title":"PulseAudio: Unable to Connect: Connection refused in LibGDX","body":"<p>check everything installed</p>\n<p><code>sudo apt install libpulse-dev pulseaudio apulse</code></p>\n<p>check its started</p>\n<p><code>systemctl --user restart pulseaudio</code></p>\n<p>check you have openJDK if you are using the Oracle one.</p>\n<p>Its not libGDX its a java to pulseaudio issue, or more specifically OpenAL sound that libGDX uses and how it interacts with linux audio.</p>\n"},{"tags":[],"owner":{"account_id":14940561,"reputation":579,"user_id":10787371,"display_name":"aurelia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697385751,"creation_date":1697385751,"answer_id":77297446,"question_id":71407944,"body_markdown":"I had the same problem, running on Fedora.\r\n\r\nApparently the issue might be cause by using `lwjgl` instead of `lwjgl3` ([this issue][1] seems like a usefull thread)\r\n\r\n[this post][2] explains how to switch to `lwjgl3`\r\n\r\n\r\n  [1]: https://github.com/libgdx/libgdx/issues/6426\r\n  [2]: https://gist.github.com/crykn/eb37cb4f7a03d006b3a0ecad27292a2d","title":"PulseAudio: Unable to Connect: Connection refused in LibGDX","body":"<p>I had the same problem, running on Fedora.</p>\n<p>Apparently the issue might be cause by using <code>lwjgl</code> instead of <code>lwjgl3</code> (<a href=\"https://github.com/libgdx/libgdx/issues/6426\" rel=\"nofollow noreferrer\">this issue</a> seems like a usefull thread)</p>\n<p><a href=\"https://gist.github.com/crykn/eb37cb4f7a03d006b3a0ecad27292a2d\" rel=\"nofollow noreferrer\">this post</a> explains how to switch to <code>lwjgl3</code></p>\n"}],"owner":{"account_id":24020483,"reputation":23,"user_id":18002860,"display_name":"Kuumin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697385751,"creation_date":1646822082,"question_id":71407944,"body_markdown":"I got this error in IntelliJ while trying to set up LibGDX. I&#39;m running PopOS (Ubuntu-based). Any help?\r\n\r\n    ALSA lib ../../pulse/pulse.c:242:(pulse_connect) PulseAudio: Unable to connect: Connection refused\r\n    \r\n    AL lib: (EE) ALCplaybackAlsa_open: Could not open playback device &#39;default&#39;: Connection refused","title":"PulseAudio: Unable to Connect: Connection refused in LibGDX","body":"<p>I got this error in IntelliJ while trying to set up LibGDX. I'm running PopOS (Ubuntu-based). Any help?</p>\n<pre><code>ALSA lib ../../pulse/pulse.c:242:(pulse_connect) PulseAudio: Unable to connect: Connection refused\n\nAL lib: (EE) ALCplaybackAlsa_open: Could not open playback device 'default': Connection refused\n</code></pre>\n"},{"tags":["java","try-catch"],"comments":[{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1697385562,"post_id":77297410,"comment_id":136270567,"body_markdown":"`catch (SomeException e) { System.exit(-1); }`","body":"<code>catch (SomeException e) { System.exit(-1); }</code>"}],"owner":{"account_id":27788048,"reputation":1,"user_id":21215053,"display_name":"ghostsushi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697385624,"answer_count":0,"score":0,"last_activity_date":1697385683,"creation_date":1697385165,"question_id":77297410,"body_markdown":"I want the program to end when the user puts in letters and words when they don&#39;t use numbers.\r\n\r\n```\r\ntry {\r\n      // The user is asked to enter a starting and ending number\r\n      System.out.print(&quot;\\n&quot;);\r\n      System.out.println(&quot;\\nNow type a starting number in digit form:&quot;);\r\n      int num1 = myObj.nextInt();\r\n      System.out.println(&quot;Now give an ending number:&quot;);\r\n      int num2 = myObj.nextInt();\r\n      \r\n      // If the first number is less than the second number this block will be used\r\n         if (num1 &lt; num2) {\r\n            for (;num1 &lt; num2; num1++) {\r\n               System.out.print(num1 + &quot; &quot;);\r\n            }\r\n         }\r\n      \r\n      // If the first number is more than the second number this block will be used\r\n         else {\r\n            for (;num1 &gt; num2; num2++) {\r\n               System.out.print(num2 + &quot; &quot;);\r\n            }\r\n         }\r\n      }\r\n      /*catch (InputMismatchException ime) {\r\n            System.out.println(&quot;You need to enter a number like 12.34. Try again.&quot;);\r\n         }*/\r\n      // The user will enter a phrase here\r\n      myObj.nextLine();\r\n      System.out.println(&quot;\\n&quot;);\r\n      System.out.println(&quot;Write a phrase you want.&quot;);\r\n      phrase = myObj.nextLine();\r\n      \r\n      // The user will enter how many times the phrase should be printed\r\n      System.out.println(&quot;How many times would you like this printed?&quot;);\r\n      int rep = myObj.nextInt();\r\n      for (int i = 0; i &lt; rep; i++)\r\n         System.out.println(phrase);\r\n      \r\n      catch (InputMismatchException ime) {\r\n            System.out.println(&quot;You need to enter a number like 12.34. Try again.&quot;);\r\n         }\r\n```\r\nThe first catch in this is commented out for the moment and it works, but the code continues on to the second function when I don&#39;t want it to. The second catch gives me two errors. One at the try saying it doesn&#39;t have a catch and at the catch at the bottom saying it doesn&#39;t have a try. The second catch isn&#39;t commented out. The second function after this does something else and it doesn&#39;t need a try/catch.\r\n\r\n\r\nI&#39;m not sure what else to put to make the catch end the program and not continue to the second function.","title":"Where should I put the catch in my try/catch?","body":"<p>I want the program to end when the user puts in letters and words when they don't use numbers.</p>\n<pre><code>try {\n      // The user is asked to enter a starting and ending number\n      System.out.print(&quot;\\n&quot;);\n      System.out.println(&quot;\\nNow type a starting number in digit form:&quot;);\n      int num1 = myObj.nextInt();\n      System.out.println(&quot;Now give an ending number:&quot;);\n      int num2 = myObj.nextInt();\n      \n      // If the first number is less than the second number this block will be used\n         if (num1 &lt; num2) {\n            for (;num1 &lt; num2; num1++) {\n               System.out.print(num1 + &quot; &quot;);\n            }\n         }\n      \n      // If the first number is more than the second number this block will be used\n         else {\n            for (;num1 &gt; num2; num2++) {\n               System.out.print(num2 + &quot; &quot;);\n            }\n         }\n      }\n      /*catch (InputMismatchException ime) {\n            System.out.println(&quot;You need to enter a number like 12.34. Try again.&quot;);\n         }*/\n      // The user will enter a phrase here\n      myObj.nextLine();\n      System.out.println(&quot;\\n&quot;);\n      System.out.println(&quot;Write a phrase you want.&quot;);\n      phrase = myObj.nextLine();\n      \n      // The user will enter how many times the phrase should be printed\n      System.out.println(&quot;How many times would you like this printed?&quot;);\n      int rep = myObj.nextInt();\n      for (int i = 0; i &lt; rep; i++)\n         System.out.println(phrase);\n      \n      catch (InputMismatchException ime) {\n            System.out.println(&quot;You need to enter a number like 12.34. Try again.&quot;);\n         }\n</code></pre>\n<p>The first catch in this is commented out for the moment and it works, but the code continues on to the second function when I don't want it to. The second catch gives me two errors. One at the try saying it doesn't have a catch and at the catch at the bottom saying it doesn't have a try. The second catch isn't commented out. The second function after this does something else and it doesn't need a try/catch.</p>\n<p>I'm not sure what else to put to make the catch end the program and not continue to the second function.</p>\n"},{"tags":["java","maven","osgi","apache-felix","onos"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1696674382,"post_id":77240062,"comment_id":136185749,"body_markdown":"Where is the error message?","body":"Where is the error message?"},{"owner":{"account_id":29606855,"reputation":1,"user_id":22691095,"display_name":"aitorBoole"},"score":0,"creation_date":1697383602,"post_id":77240062,"comment_id":136270324,"body_markdown":"Sorry, I forgot to attach the file. I have already updated the question with the image of the logs.","body":"Sorry, I forgot to attach the file. I have already updated the question with the image of the logs."},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1697419565,"post_id":77240062,"comment_id":136273505,"body_markdown":"Well done my friend, but try to upload as the plain text format. Images can&#39;t be copied, and it is the policy here :)","body":"Well done my friend, but try to upload as the plain text format. Images can&#39;t be copied, and it is the policy here :)"}],"owner":{"account_id":29606855,"reputation":1,"user_id":22691095,"display_name":"aitorBoole"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697383551,"creation_date":1696534196,"question_id":77240062,"body_markdown":"I&#39;m trying to use [this](https://github.com/jatj/httpDetector) project for some lab tests. The fact is that when I activate the application on my ONOS controller the application crashes with the following error.\r\n\r\n[image-error-karaf][1]\r\n\r\nI have been investigating and searching in various forums but none of them clarify the solution to the error.\r\n\r\nAny help or clarification is appreciated.\r\n\r\nAll the best.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EV0G9.png","title":"ONOS does not find the generated .OAR","body":"<p>I'm trying to use <a href=\"https://github.com/jatj/httpDetector\" rel=\"nofollow noreferrer\">this</a> project for some lab tests. The fact is that when I activate the application on my ONOS controller the application crashes with the following error.</p>\n<p><a href=\"https://i.stack.imgur.com/EV0G9.png\" rel=\"nofollow noreferrer\">image-error-karaf</a></p>\n<p>I have been investigating and searching in various forums but none of them clarify the solution to the error.</p>\n<p>Any help or clarification is appreciated.</p>\n<p>All the best.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1697377117,"post_id":77296833,"comment_id":136269644,"body_markdown":"Stop playing on your computer and procrastinating.  Just go and mow the lawn!!   :-)","body":"Stop playing on your computer and procrastinating.  Just go and mow the lawn!!   :-)"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1697381585,"post_id":77296833,"comment_id":136270122,"body_markdown":"“my code isn`t coding” is not really a problem statement.  What input are you giving your program, and what output are you expecting to see?","body":"“my code isn`t coding” is not really a problem statement.  What input are you giving your program, and what output are you expecting to see?"},{"owner":{"account_id":29676405,"reputation":3,"user_id":22744236,"display_name":"Chip"},"score":0,"creation_date":1697388290,"post_id":77296833,"comment_id":136270899,"body_markdown":"Many thanks all for you comments and help  @user85421 I will reduce those empty lines","body":"Many thanks all for you comments and help  @user85421 I will reduce those empty lines"}],"answers":[{"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697381390,"creation_date":1697381390,"answer_id":77297150,"question_id":77296833,"body_markdown":"Your problem is caused by this format specifier `Mowing time %.0f hour` which will round of your hour value with no digits after the decimal point. For example: \r\n\r\n`lgh = 50.0`, `wdt = 10.0`, So, `area = 500.0`, `mo_time = 500/5 = 100`.\r\n\r\nWhich will trigger the last else if case. Now, when it will try to print `100/60 = 1.6666666...` to 0 digits after decimal point. It would round up to `2`. You can use [Math.floor()](https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#floor-double-) to get the floor value. That will be `1` in this example.\r\n\r\nAlso, in your current code, if the `area` is less than `mo`. It will print `0`. So, you can use [Math.ceil()](https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#ceil-double-) to take the ceiling of the minute value.\r\n\r\nHere is the modified code.\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Tut3 {\r\n\r\n    public static void main(String[] args) {\r\n        double lgh = 0.0, wdt = 0.0, area = 0.0, mo = 5, mo_time = 0.0;\r\n        Scanner key = new Scanner(System.in);\r\n        System.out.print(&quot;\\nPlease enter length in meters\\t&quot;);\r\n        lgh = key.nextDouble();\r\n        System.out.print(&quot;\\nPlease enter width in meters\\t&quot;);\r\n        wdt = key.nextDouble();\r\n        area = lgh * wdt;\r\n        mo_time = area / mo;\r\n\r\n        //add mod to modulate any remaining numbers\r\n        if (mo_time &lt; 60) {\r\n            System.out.printf(&quot;\\nLawn area = %.2f m2\\n\\nMowing time %.0f  mins &quot;, area, Math.ceil(mo_time));\r\n        } else if (mo_time &lt;= 90) {\r\n            System.out.printf(&quot;\\n***Lawn area = %.2f m2\\n\\nMowing time %.0f hour  %.0f  mins &quot;,\r\n                    area, Math.floor(mo_time/60), Math.ceil(mo_time%60));\r\n        } else if (mo_time &gt; 90) {\r\n            System.out.printf(&quot;\\nLawn area = %.2f m2\\n\\nMowing time %.0f hour %.0f  mins \\n\\nTime to purchase a new lawnmower&quot;,\r\n                    area, Math.floor(mo_time/60), Math.ceil(mo_time%60));\r\n        }\r\n        key.close();\r\n    }\r\n}\r\n```\r\n\r\nHope this solves your problem.","title":"Using Mod correctly Java","body":"<p>Your problem is caused by this format specifier <code>Mowing time %.0f hour</code> which will round of your hour value with no digits after the decimal point. For example:</p>\n<p><code>lgh = 50.0</code>, <code>wdt = 10.0</code>, So, <code>area = 500.0</code>, <code>mo_time = 500/5 = 100</code>.</p>\n<p>Which will trigger the last else if case. Now, when it will try to print <code>100/60 = 1.6666666...</code> to 0 digits after decimal point. It would round up to <code>2</code>. You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#floor-double-\" rel=\"nofollow noreferrer\">Math.floor()</a> to get the floor value. That will be <code>1</code> in this example.</p>\n<p>Also, in your current code, if the <code>area</code> is less than <code>mo</code>. It will print <code>0</code>. So, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#ceil-double-\" rel=\"nofollow noreferrer\">Math.ceil()</a> to take the ceiling of the minute value.</p>\n<p>Here is the modified code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Tut3 {\n\n    public static void main(String[] args) {\n        double lgh = 0.0, wdt = 0.0, area = 0.0, mo = 5, mo_time = 0.0;\n        Scanner key = new Scanner(System.in);\n        System.out.print(&quot;\\nPlease enter length in meters\\t&quot;);\n        lgh = key.nextDouble();\n        System.out.print(&quot;\\nPlease enter width in meters\\t&quot;);\n        wdt = key.nextDouble();\n        area = lgh * wdt;\n        mo_time = area / mo;\n\n        //add mod to modulate any remaining numbers\n        if (mo_time &lt; 60) {\n            System.out.printf(&quot;\\nLawn area = %.2f m2\\n\\nMowing time %.0f  mins &quot;, area, Math.ceil(mo_time));\n        } else if (mo_time &lt;= 90) {\n            System.out.printf(&quot;\\n***Lawn area = %.2f m2\\n\\nMowing time %.0f hour  %.0f  mins &quot;,\n                    area, Math.floor(mo_time/60), Math.ceil(mo_time%60));\n        } else if (mo_time &gt; 90) {\n            System.out.printf(&quot;\\nLawn area = %.2f m2\\n\\nMowing time %.0f hour %.0f  mins \\n\\nTime to purchase a new lawnmower&quot;,\n                    area, Math.floor(mo_time/60), Math.ceil(mo_time%60));\n        }\n        key.close();\n    }\n}\n</code></pre>\n<p>Hope this solves your problem.</p>\n"}],"owner":{"account_id":29676405,"reputation":3,"user_id":22744236,"display_name":"Chip"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1697416797,"accepted_answer_id":77297150,"answer_count":1,"score":-4,"last_activity_date":1697382936,"creation_date":1697375788,"question_id":77296833,"body_markdown":"I am trying to use mod to round up my lawn area and mowing time. I am stuck and my code isn`t coding lol\r\n\r\nI tried a nested if but it wouldn&#39;t run either so I commented it out, if anyone can just fix the areas that need amending and not change the code to suit their style, but follow my way. That would help me understand my wrongs better. Thanks\r\n```java\r\npackage Tutorial;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Tut3 {\r\n\r\n    public static void main(String[] args) {\r\n        double lgh = 0.0, wdt = 0.0, area = 0.0, mo = 5, mo_time = 0.0;\r\n        Scanner key = new Scanner(System.in);\r\n        System.out.print(&quot;\\nPlease enter lenght in meters\\t&quot;);\r\n        lgh = key.nextDouble();\r\n        System.out.print(&quot;\\nPlease enter width in meters\\t&quot;);\r\n        wdt = key.nextDouble();\r\n        area = lgh * wdt;\r\n        mo_time = area / mo;\r\n        \r\n        //add mod to modulate any remaining numbers\r\n        if (mo_time &lt; 60) {\r\n            System.out.printf(&quot;\\nLawn area = %.2f m2\\n\\nMowing time %.0f  mins &quot;, area,\r\n                    (mo_time % 60));\r\n        } else if (mo_time &gt;= 60 &amp;&amp; mo_time &lt;= 90) {\r\n            System.out.printf(&quot;\\n***Lawn area = %.2f m2\\n\\nMowing time %.1f hour  %.0f  mins &quot;,area, (mo_time /60  ), (mo_time % 60 ));\r\n        }\r\n            // if time is &gt;=60 use mod to round up in to hours and mins unless time is 60min then time reads 1 hour, not 1 hour 0 mins and so on, if areas sqm is 30.0 round up to 30sqm and so on\r\n            /*if (mo_time % 60 == 0) {\r\n    \t\t\tSystem.out.printf(&quot;\\n###Your lawn area = %.2fm2\\n\\nMowing time %.1f hour&quot;, area, (mo_time / 60));\r\n    \t\t}*/\r\n        else if (mo_time &gt; 90) {\r\n            System.out.printf(&quot;\\nLawn area = %.2f m2\\n\\nMowing time %.0f hour %.0f  mins \\n\\nTime to purchase a new lawnmower&quot;, area, (mo_time / 60), (mo_time % 60));\r\n        }\r\n        key.close();\r\n    }\r\n}\r\n```","title":"Using Mod correctly Java","body":"<p>I am trying to use mod to round up my lawn area and mowing time. I am stuck and my code isn`t coding lol</p>\n<p>I tried a nested if but it wouldn't run either so I commented it out, if anyone can just fix the areas that need amending and not change the code to suit their style, but follow my way. That would help me understand my wrongs better. Thanks</p>\n<pre class=\"lang-java prettyprint-override\"><code>package Tutorial;\n\nimport java.util.Scanner;\n\npublic class Tut3 {\n\n    public static void main(String[] args) {\n        double lgh = 0.0, wdt = 0.0, area = 0.0, mo = 5, mo_time = 0.0;\n        Scanner key = new Scanner(System.in);\n        System.out.print(&quot;\\nPlease enter lenght in meters\\t&quot;);\n        lgh = key.nextDouble();\n        System.out.print(&quot;\\nPlease enter width in meters\\t&quot;);\n        wdt = key.nextDouble();\n        area = lgh * wdt;\n        mo_time = area / mo;\n        \n        //add mod to modulate any remaining numbers\n        if (mo_time &lt; 60) {\n            System.out.printf(&quot;\\nLawn area = %.2f m2\\n\\nMowing time %.0f  mins &quot;, area,\n                    (mo_time % 60));\n        } else if (mo_time &gt;= 60 &amp;&amp; mo_time &lt;= 90) {\n            System.out.printf(&quot;\\n***Lawn area = %.2f m2\\n\\nMowing time %.1f hour  %.0f  mins &quot;,area, (mo_time /60  ), (mo_time % 60 ));\n        }\n            // if time is &gt;=60 use mod to round up in to hours and mins unless time is 60min then time reads 1 hour, not 1 hour 0 mins and so on, if areas sqm is 30.0 round up to 30sqm and so on\n            /*if (mo_time % 60 == 0) {\n                System.out.printf(&quot;\\n###Your lawn area = %.2fm2\\n\\nMowing time %.1f hour&quot;, area, (mo_time / 60));\n            }*/\n        else if (mo_time &gt; 90) {\n            System.out.printf(&quot;\\nLawn area = %.2f m2\\n\\nMowing time %.0f hour %.0f  mins \\n\\nTime to purchase a new lawnmower&quot;, area, (mo_time / 60), (mo_time % 60));\n        }\n        key.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring"],"answers":[{"tags":[],"owner":{"account_id":9333725,"reputation":289,"user_id":6928624,"display_name":"DavElsanto"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1639224885,"creation_date":1541610359,"answer_id":53194358,"question_id":53192560,"body_markdown":"I got it.\r\n\r\nStep 1.\r\nCreate an user on remote mysql server and grant all privileges.\r\n\r\nStep 2.\r\nChange datasource url\r\n\r\n    spring.datasource.url=jdbc:mysql://xxx.xxx.xxx.xxx:3306/dbtest\r\nStep 3.\r\nChange pom.xml mysql\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nCheck that version is changed to `&lt;version&gt;5.1.6&lt;/version&gt;` from `&lt;scope&gt;runtime&lt;/scope&gt;`","title":"Spring boot CLIENT_PLUGIN_AUTH is required","body":"<p>I got it.</p>\n<p>Step 1.\nCreate an user on remote mysql server and grant all privileges.</p>\n<p>Step 2.\nChange datasource url</p>\n<pre><code>spring.datasource.url=jdbc:mysql://xxx.xxx.xxx.xxx:3306/dbtest\n</code></pre>\n<p>Step 3.\nChange pom.xml mysql</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.6&lt;/version&gt;\n&lt;/dependency&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Check that version is changed to <code>&lt;version&gt;5.1.6&lt;/version&gt;</code> from <code>&lt;scope&gt;runtime&lt;/scope&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643717205,"creation_date":1558115116,"answer_id":56191236,"question_id":53192560,"body_markdown":"you need to find a compatible version for your MySQL installed version\r\n\r\nDefault one is\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nChange it to some version\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.46&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nNow remove the default dependency installed. &quot;package explorer&quot;&gt; your project &gt; &quot;Maven dependencies&quot;&gt;type MySql it will come, now delete it(mysql-connector-java-x.y.z.jar)\r\n\r\nTry to give a version nearer to your MySql version &amp; check [maven repository][1] and\r\nfind a nearer version having more usage\r\n\r\nFor me, MySql version is 5.0.27 which you can see from &quot;MySQL command-line client&quot; and the version I tried is 5.1.46 \r\n\r\n1 more thing is to add to the application.proerties\r\n\r\n    spring.datasource.driver-class-name= com.mysql.jdbc.Driver\r\n\r\nBut, if you are taking MySql dependency version nearer to 8 it is\r\n\r\n    spring.datasource.driver-class-name= com.mysql.cj.jdbc.Driver\r\nwhich is not required as it takes internally\r\n\r\nNow do &quot;clean install&quot; your app, right-click &quot;run as&quot;&gt;mvn clean &amp; &quot;run as&quot;&gt;mvn install, then build your application using right-click &quot;maven&quot;&gt;update project(Alt+F5)\r\n\r\nNow to confirm version change, check maven dependency, mysql-connector-java-5.1.46.jar (whichever is your mentioned dependency)\r\n\r\nAnd, if still not working make sure you have checked with some applications having localhost server. Then check /etc/drivers/hosts file &amp; uncomment this line\r\n\r\n    #    127.0.0.1       localhost\r\n\r\n  [1]: https://mvnrepository.com/artifact/mysql/mysql-connector-java","title":"Spring boot CLIENT_PLUGIN_AUTH is required","body":"<p>you need to find a compatible version for your MySQL installed version</p>\n<p>Default one is</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Change it to some version</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.46&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Now remove the default dependency installed. &quot;package explorer&quot;&gt; your project &gt; &quot;Maven dependencies&quot;&gt;type MySql it will come, now delete it(mysql-connector-java-x.y.z.jar)</p>\n<p>Try to give a version nearer to your MySql version &amp; check <a href=\"https://mvnrepository.com/artifact/mysql/mysql-connector-java\" rel=\"nofollow noreferrer\">maven repository</a> and\nfind a nearer version having more usage</p>\n<p>For me, MySql version is 5.0.27 which you can see from &quot;MySQL command-line client&quot; and the version I tried is 5.1.46</p>\n<p>1 more thing is to add to the application.proerties</p>\n<pre><code>spring.datasource.driver-class-name= com.mysql.jdbc.Driver\n</code></pre>\n<p>But, if you are taking MySql dependency version nearer to 8 it is</p>\n<pre><code>spring.datasource.driver-class-name= com.mysql.cj.jdbc.Driver\n</code></pre>\n<p>which is not required as it takes internally</p>\n<p>Now do &quot;clean install&quot; your app, right-click &quot;run as&quot;&gt;mvn clean &amp; &quot;run as&quot;&gt;mvn install, then build your application using right-click &quot;maven&quot;&gt;update project(Alt+F5)</p>\n<p>Now to confirm version change, check maven dependency, mysql-connector-java-5.1.46.jar (whichever is your mentioned dependency)</p>\n<p>And, if still not working make sure you have checked with some applications having localhost server. Then check /etc/drivers/hosts file &amp; uncomment this line</p>\n<pre><code>#    127.0.0.1       localhost\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9322069,"reputation":557,"user_id":6920526,"display_name":"Natty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569921195,"creation_date":1569919414,"answer_id":58181080,"question_id":53192560,"body_markdown":"Check if the following are configured correctly. This solved the problem for me. If you are new to Java environment then you should definitely look for these.\r\n\r\n1) Check if the MySQL-connector-java driver version is suitable for the PySpark version that you are using. If not try changing it.\r\n\r\n2) Make sure only one mysql-connector-java-&lt;version&gt;.jar driver file is present in the folder that you are looking into. Remove the other versions from this location. There is a possibility that the other version is taken by PySpark\r\n\r\n4) Verify if your environment variable SPARK_HOME is set correctly. To check this, copy the location that was given in the environment variable window and paste it in the file explorer (Windows). This should go to the correct location.\r\n\r\n3) Confirm if your environment is using the mysql-connector-java-&lt;version&gt;.jar driver file that you want it to use. One way to test this is to remove the file from this location and see if the error changes. If the same error (an error that was before deleting) occurs, then your environment is not using the driver file that you want it to use. Find the location of the file that your PySpark is using. Try changing this path (either by changing the environment variable or manually give the path in the code) or use this location and paste all the required driver files in that location\r\n\r\nThese were the checks I did and one of the above solutions should solve the issue provided there is nothing wrong with your code.","title":"Spring boot CLIENT_PLUGIN_AUTH is required","body":"<p>Check if the following are configured correctly. This solved the problem for me. If you are new to Java environment then you should definitely look for these.</p>\n\n<p>1) Check if the MySQL-connector-java driver version is suitable for the PySpark version that you are using. If not try changing it.</p>\n\n<p>2) Make sure only one mysql-connector-java-.jar driver file is present in the folder that you are looking into. Remove the other versions from this location. There is a possibility that the other version is taken by PySpark</p>\n\n<p>4) Verify if your environment variable SPARK_HOME is set correctly. To check this, copy the location that was given in the environment variable window and paste it in the file explorer (Windows). This should go to the correct location.</p>\n\n<p>3) Confirm if your environment is using the mysql-connector-java-.jar driver file that you want it to use. One way to test this is to remove the file from this location and see if the error changes. If the same error (an error that was before deleting) occurs, then your environment is not using the driver file that you want it to use. Find the location of the file that your PySpark is using. Try changing this path (either by changing the environment variable or manually give the path in the code) or use this location and paste all the required driver files in that location</p>\n\n<p>These were the checks I did and one of the above solutions should solve the issue provided there is nothing wrong with your code.</p>\n"},{"tags":[],"owner":{"account_id":4980512,"reputation":39,"user_id":4005650,"display_name":"ianeperson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697382514,"creation_date":1593873213,"answer_id":62730400,"question_id":53192560,"body_markdown":"Check that you don&#39;t have a version issue.  \r\n\r\nThe Spring Boot project creator will download the latest MySQL connector (currently Version 8) so if you are running an older version of MySQL then the CLIENT_PLUGIN_AUTH error probably results from this.\r\n\r\nYou can convince maven to use an older version of the connector (as in Satish&#39;s reply) or add the connector outside of Spring Boot:\r\n\r\nRemove the  mysql-connector-java dependency from your pom.xml\r\n\r\nDownload the mysql-connector-java for your MySQL – usually the one from your distro.\r\n\r\nWith:\r\n \t\tProject -&gt; Properties -&gt; Java Build Path\r\n\r\nselect the Libraries tab.\r\n\r\nAnd add External JAR:\r\n\r\n \t\t/usr/share/java/mysql-connector-java-5.1.17.jar\r\n\r\nor something similar.","title":"Spring boot CLIENT_PLUGIN_AUTH is required","body":"<p>Check that you don't have a version issue.</p>\n<p>The Spring Boot project creator will download the latest MySQL connector (currently Version 8) so if you are running an older version of MySQL then the CLIENT_PLUGIN_AUTH error probably results from this.</p>\n<p>You can convince maven to use an older version of the connector (as in Satish's reply) or add the connector outside of Spring Boot:</p>\n<p>Remove the  mysql-connector-java dependency from your pom.xml</p>\n<p>Download the mysql-connector-java for your MySQL – usually the one from your distro.</p>\n<p>With:\nProject -&gt; Properties -&gt; Java Build Path</p>\n<p>select the Libraries tab.</p>\n<p>And add External JAR:</p>\n<pre><code>    /usr/share/java/mysql-connector-java-5.1.17.jar\n</code></pre>\n<p>or something similar.</p>\n"},{"tags":[],"owner":{"account_id":3778959,"reputation":186,"user_id":3138963,"display_name":"Konki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637261168,"creation_date":1637261168,"answer_id":70025159,"question_id":53192560,"body_markdown":"I&#39;ve had similar problem just now.\r\nMy local code was working fine, while my remote code wasn&#39;t working.\r\n\r\nIn local machine I&#39;ve used \r\n- jar: mysql-connector-java-8.0.17.jar\r\n- driver: com.mysql.cj.jdbc.Driver\r\n\r\nWhen I&#39;ve changed jar and drived in remote server it started to work just fine.\r\nI&#39;ve used:\r\n- jar: mysql-connector-java-3.0.17-ga-bin.jar\r\n- driver: com.mysql.jdbc.Driver\r\n\r\nAfter that I didn&#39;t have any issues :) ","title":"Spring boot CLIENT_PLUGIN_AUTH is required","body":"<p>I've had similar problem just now.\nMy local code was working fine, while my remote code wasn't working.</p>\n<p>In local machine I've used</p>\n<ul>\n<li>jar: mysql-connector-java-8.0.17.jar</li>\n<li>driver: com.mysql.cj.jdbc.Driver</li>\n</ul>\n<p>When I've changed jar and drived in remote server it started to work just fine.\nI've used:</p>\n<ul>\n<li>jar: mysql-connector-java-3.0.17-ga-bin.jar</li>\n<li>driver: com.mysql.jdbc.Driver</li>\n</ul>\n<p>After that I didn't have any issues :)</p>\n"},{"tags":[],"owner":{"account_id":19128190,"reputation":11,"user_id":14041648,"display_name":"Venkata Siva Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663827670,"creation_date":1663827670,"answer_id":73810154,"question_id":53192560,"body_markdown":"This could be due to MySql database service itself. To resolve, just **Restart Your MySQL Database** &lt;br/&gt;\r\n\r\n**How to restart the MySQL service** &lt;br/&gt;\r\nOn Windows: https://www.mysqltutorial.org/mysql-adminsitration/restart-mysql &lt;br/&gt;\r\nOn Linux: &amp;emsp;&amp;ensp; https://linuxhint.com/restart-mysql-in-ubuntu/\r\n","title":"Spring boot CLIENT_PLUGIN_AUTH is required","body":"<p>This could be due to MySql database service itself. To resolve, just <strong>Restart Your MySQL Database</strong> <br/></p>\n<p><strong>How to restart the MySQL service</strong> <br/>\nOn Windows: <a href=\"https://www.mysqltutorial.org/mysql-adminsitration/restart-mysql\" rel=\"nofollow noreferrer\">https://www.mysqltutorial.org/mysql-adminsitration/restart-mysql</a> <br/>\nOn Linux:    <a href=\"https://linuxhint.com/restart-mysql-in-ubuntu/\" rel=\"nofollow noreferrer\">https://linuxhint.com/restart-mysql-in-ubuntu/</a></p>\n"},{"tags":[],"owner":{"account_id":27794474,"reputation":1,"user_id":21220308,"display_name":"Vishal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676472707,"creation_date":1676472707,"answer_id":75461561,"question_id":53192560,"body_markdown":"This is just because of higher version,\r\nuse version 5.x.x instead of version 8.\r\n\r\nit will execute properly.","title":"Spring boot CLIENT_PLUGIN_AUTH is required","body":"<p>This is just because of higher version,\nuse version 5.x.x instead of version 8.</p>\n<p>it will execute properly.</p>\n"}],"owner":{"account_id":9333725,"reputation":289,"user_id":6928624,"display_name":"DavElsanto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35378,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":53194358,"answer_count":7,"score":6,"last_activity_date":1697382514,"creation_date":1541604446,"question_id":53192560,"body_markdown":"I have my app working fine on local, but when I tried to connect to remote server I get this error: CLIENT_PLUGIN_AUTH is required.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    server.port=8081\r\n    spring.jpa.hibernate.ddl-auto=none\r\n    #local\r\n    #spring.datasource.url=jdbc:mysql://localhost:3306/dbtest\r\n    #spring.datasource.username=user\r\n    #spring.datasource.password=password\r\n    #remote\r\n    spring.datasource.url=jdbc:mysql://userssh:passwordssh@xxx.xxx.xxx.xxx:3306/dbtest\r\n    spring.datasource.username=userRemote\r\n    spring.datasource.password=passRemote\r\n\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Spring boot CLIENT_PLUGIN_AUTH is required","body":"<p>I have my app working fine on local, but when I tried to connect to remote server I get this error: CLIENT_PLUGIN_AUTH is required.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>server.port=8081\r\nspring.jpa.hibernate.ddl-auto=none\r\n#local\r\n#spring.datasource.url=jdbc:mysql://localhost:3306/dbtest\r\n#spring.datasource.username=user\r\n#spring.datasource.password=password\r\n#remote\r\nspring.datasource.url=jdbc:mysql://userssh:passwordssh@xxx.xxx.xxx.xxx:3306/dbtest\r\nspring.datasource.username=userRemote\r\nspring.datasource.password=passRemote\r\n\r\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","json","spring","rest","multipartform-data"],"comments":[{"owner":{"display_name":"user180100"},"score":0,"creation_date":1447655777,"post_id":33729591,"comment_id":55228313,"body_markdown":"Could be a duplicate of http://stackoverflow.com/questions/4083702/posting-a-file-and-data-to-restful-webservice-as-json","body":"Could be a duplicate of <a href=\"http://stackoverflow.com/questions/4083702/posting-a-file-and-data-to-restful-webservice-as-json\" title=\"posting a file and data to restful webservice as json\">stackoverflow.com/questions/4083702/&hellip;</a>"},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1447655821,"post_id":33729591,"comment_id":55228326,"body_markdown":"see also http://stackoverflow.com/questions/15502054/spring-mvc-requestbody-give-me-an-empty-string-when-use-with-requestparam-mult","body":"see also <a href=\"http://stackoverflow.com/questions/15502054/spring-mvc-requestbody-give-me-an-empty-string-when-use-with-requestparam-mult\" title=\"spring mvc requestbody give me an empty string when use with requestparam mult\">stackoverflow.com/questions/15502054/&hellip;</a>"},{"owner":{"account_id":173081,"reputation":14567,"user_id":401539,"accept_rate":100,"display_name":"tungd"},"score":1,"creation_date":1447656246,"post_id":33729591,"comment_id":55228471,"body_markdown":"The problem is `@RequestBody`, see http://stackoverflow.com/questions/29370143/spring-mvc-upload-file-with-other-fields","body":"The problem is <code>@RequestBody</code>, see <a href=\"http://stackoverflow.com/questions/29370143/spring-mvc-upload-file-with-other-fields\" title=\"spring mvc upload file with other fields\">stackoverflow.com/questions/29370143/&hellip;</a>"},{"owner":{"account_id":1176664,"reputation":20820,"user_id":1152500,"accept_rate":47,"display_name":"Anand"},"score":1,"creation_date":1447663519,"post_id":33729591,"comment_id":55231407,"body_markdown":"Without @RequestBody, objects fields are not getting mapped i.e. DTO&#39;s fields are set to null","body":"Without @RequestBody, objects fields are not getting mapped i.e. DTO&#39;s fields are set to null"}],"answers":[{"tags":[],"owner":{"display_name":"user4933349"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447684978,"creation_date":1447684978,"answer_id":33738012,"question_id":33729591,"body_markdown":"Appending the values to the URL what u have been doing now using @RequestParam.\r\n\r\n@RequestParam annotation will not work for complex JSON Objects , it is specifi for Integer or String .\r\n\r\nIf it is a Http POST method , use of @RequestBody will make the Spring to map the incoming request to the POJO what u have created (condition: if the POJO maps the incoming JSON)","title":"Posting a file and JSON data to Spring rest service","body":"<p>Appending the values to the URL what u have been doing now using @RequestParam.</p>\n\n<p>@RequestParam annotation will not work for complex JSON Objects , it is specifi for Integer or String .</p>\n\n<p>If it is a Http POST method , use of @RequestBody will make the Spring to map the incoming request to the POJO what u have created (condition: if the POJO maps the incoming JSON)</p>\n"},{"tags":[],"owner":{"account_id":4219904,"reputation":2104,"user_id":3454928,"accept_rate":43,"display_name":"Kalaiselvan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499150514,"creation_date":1499149664,"answer_id":44898409,"question_id":33729591,"body_markdown":"create FormData() and append your json and file \r\n\r\n            if (form.validate()) {\r\n            var file = $scope.file;\r\n            var fd = new FormData();\r\n            fd.append(&#39;jsondata&#39;, $scope.jsonData);  \r\n            fd.append(&#39;file&#39;, file);\r\n            MyService.submitFormWithFile(&#39;doc/store.html&#39;, fd, &#39;&#39;, (response){\r\n                 console.log(response)\r\n            });\r\n        }\r\n\r\n//Service called in above\r\n\r\n        MyService.submitFormWithFile = function(url, data, config, callback) {\r\n\t\t$http({\r\n\t\t\tmethod : &#39;POST&#39;,\r\n\t\t\turl : url,\r\n\t\t\theaders : {\r\n\t\t\t\t&#39;Content-Type&#39; : undefined\r\n\t\t\t},\r\n\t\t\tdata : data,\r\n\t\t\ttransformRequest : function(data, headersGetterFunction) {\r\n\t\t\t\treturn data;\r\n\t\t\t}\r\n\t\t}).success(function(response, status, header, config) {\r\n\t\t\tif (status === 200) {\r\n\t\t\t\tcallback(response);\r\n\t\t\t} else {\r\n                console.log(&quot;error&quot;)\r\n\t\t\t}\r\n\t\t}).error(function(response, status, header, config) {\t\t\t\r\n                console.log(response);\r\n\t\t});\r\n\t};\r\n\r\n\r\n// in your java part using ObjectMapper\r\n\r\n    //it is like  string\r\n    fd.append(&#39;jsondata&#39;, JSON.stringify($scope.jsonData));\r\n\r\n      \r\n\r\n      @Autowired\r\n      private ObjectMapper mapper;\r\n\r\n     @RequestMapping(value = &quot;/companies&quot;, method = RequestMethod.POST)\r\n       public void createCompany(@RequestParam String jsondata,\r\n\t\t\t@RequestParam(required = true) MultipartFile file){\r\n       \r\n      \r\n            CompanyDto companyDto=mapper.readValue(jsondata, CompanyDTO.class);\r\n           ......\r\n     }\r\n\r\n\r\n\r\n\r\n","title":"Posting a file and JSON data to Spring rest service","body":"<p>create FormData() and append your json and file </p>\n\n<pre><code>        if (form.validate()) {\n        var file = $scope.file;\n        var fd = new FormData();\n        fd.append('jsondata', $scope.jsonData);  \n        fd.append('file', file);\n        MyService.submitFormWithFile('doc/store.html', fd, '', (response){\n             console.log(response)\n        });\n    }\n</code></pre>\n\n<p>//Service called in above</p>\n\n<pre><code>    MyService.submitFormWithFile = function(url, data, config, callback) {\n    $http({\n        method : 'POST',\n        url : url,\n        headers : {\n            'Content-Type' : undefined\n        },\n        data : data,\n        transformRequest : function(data, headersGetterFunction) {\n            return data;\n        }\n    }).success(function(response, status, header, config) {\n        if (status === 200) {\n            callback(response);\n        } else {\n            console.log(\"error\")\n        }\n    }).error(function(response, status, header, config) {           \n            console.log(response);\n    });\n};\n</code></pre>\n\n<p>// in your java part using ObjectMapper</p>\n\n<pre><code>//it is like  string\nfd.append('jsondata', JSON.stringify($scope.jsonData));\n\n\n\n  @Autowired\n  private ObjectMapper mapper;\n\n @RequestMapping(value = \"/companies\", method = RequestMethod.POST)\n   public void createCompany(@RequestParam String jsondata,\n        @RequestParam(required = true) MultipartFile file){\n\n\n        CompanyDto companyDto=mapper.readValue(jsondata, CompanyDTO.class);\n       ......\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1258769,"reputation":1436,"user_id":1217652,"display_name":"Ankit Adlakha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566510602,"creation_date":1566510602,"answer_id":57617434,"question_id":33729591,"body_markdown":"Use below code snippet:\r\n\r\n        @RequestMapping(value= &quot;/path&quot;, method=RequestMethod.POST, produces=MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic ResponseObject methodName(MyData input, @RequestParam(required=false) MultipartFile file) {\r\n    \t\t// To Do\r\n    \t}","title":"Posting a file and JSON data to Spring rest service","body":"<p>Use below code snippet:</p>\n\n<pre><code>    @RequestMapping(value= \"/path\", method=RequestMethod.POST, produces=MediaType.APPLICATION_JSON_VALUE)\n    public ResponseObject methodName(MyData input, @RequestParam(required=false) MultipartFile file) {\n        // To Do\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29432242,"reputation":1,"user_id":22551716,"display_name":"Ashvin Rokade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694703711,"creation_date":1694623554,"answer_id":77099029,"question_id":33729591,"body_markdown":"While consuming a form-data input, the request parameters can only be in key-value format. Hence, you cannot directly use a POJO as a request parameter. \r\n\r\nFor your use case, you can do something like:\r\n\r\n```java\r\n// RequestBody will be the JSON body which can be mapped to a POJO.\r\npublic void createCompany(Multipart file, String requestBody) {\r\n  // Parse the requestBody into POJO.\r\n}\r\n```","title":"Posting a file and JSON data to Spring rest service","body":"<p>While consuming a form-data input, the request parameters can only be in key-value format. Hence, you cannot directly use a POJO as a request parameter.</p>\n<p>For your use case, you can do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// RequestBody will be the JSON body which can be mapped to a POJO.\npublic void createCompany(Multipart file, String requestBody) {\n  // Parse the requestBody into POJO.\n}\n</code></pre>\n"}],"owner":{"account_id":1176664,"reputation":20820,"user_id":1152500,"accept_rate":47,"display_name":"Anand"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12643,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1697382155,"creation_date":1447655273,"question_id":33729591,"body_markdown":"I am building a Spring rest service for uploading a file. There is a form that consists of various field and one field for uploading a file. On submitting that form, I am sending a multipart form request i.e. `Content-Type` as `multipart/form-data`.\r\n\r\nSo I tried with below\r\n\r\n    @RequestMapping(value = &quot;/companies&quot;, method = RequestMethod.POST)\r\n    \tpublic void createCompany(@RequestBody CompanyDTO companyDTO, @RequestParam(value = &quot;image&quot;, required = false) MultipartFile image){\r\n    .................\t\r\n\r\nBut, the above didn&#39;t work. So for time being,i sent JSON data as String and forming Company Object from that String in rest service like \r\n\r\n   \r\n\r\n     @RequestMapping(value = &quot;/companies&quot;, method = RequestMethod.POST)\r\n        \tpublic void createCompany(@RequestParam(&quot;companyJson&quot;) String companyJson, @RequestParam(value = &quot;image&quot;,required = false) MultipartFile image) throws JsonParseException, JsonMappingException, IOException{\r\n        \t\tCompanyDTO companyDTO =  new ObjectMapper().readValue(companyJson, CompanyDTO.class);\r\n    .............................\r\n\r\nCan&#39;t I send JSON data with @RequestBody without passing JSON as String? ","title":"Posting a file and JSON data to Spring rest service","body":"<p>I am building a Spring rest service for uploading a file. There is a form that consists of various field and one field for uploading a file. On submitting that form, I am sending a multipart form request i.e. <code>Content-Type</code> as <code>multipart/form-data</code>.</p>\n\n<p>So I tried with below</p>\n\n<pre><code>@RequestMapping(value = \"/companies\", method = RequestMethod.POST)\n    public void createCompany(@RequestBody CompanyDTO companyDTO, @RequestParam(value = \"image\", required = false) MultipartFile image){\n.................   \n</code></pre>\n\n<p>But, the above didn't work. So for time being,i sent JSON data as String and forming Company Object from that String in rest service like </p>\n\n<pre><code> @RequestMapping(value = \"/companies\", method = RequestMethod.POST)\n        public void createCompany(@RequestParam(\"companyJson\") String companyJson, @RequestParam(value = \"image\",required = false) MultipartFile image) throws JsonParseException, JsonMappingException, IOException{\n            CompanyDTO companyDTO =  new ObjectMapper().readValue(companyJson, CompanyDTO.class);\n.............................\n</code></pre>\n\n<p>Can't I send JSON data with @RequestBody without passing JSON as String? </p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1697380577,"post_id":77297014,"comment_id":136270003,"body_markdown":"Please add the full stacktrace and the error isn&#39;t related to the methods you shown here. There appears to be a method like `@GetMapping(&quot;/racun/{id}&quot;)` which is being called. The `@{/racun/new(type=&#39;Čistoća&#39;, city=&#39;Rijeka&#39;)}` doesn&#39;t do what you think it does, there is no `type` nor `city` placeholder in your URL template, so it doesn&#39;t do anything. SHould be something like `@{/racun/new/{type}/{city}(type=&#39;Čistoća&#39;, city=&#39;Rijeka&#39;)}` else it would generate parameters not path variables.","body":"Please add the full stacktrace and the error isn&#39;t related to the methods you shown here. There appears to be a method like <code>@GetMapping(&quot;&#47;racun&#47;{id}&quot;)</code> which is being called. The <code>@{&#47;racun&#47;new(type=&#39;Čistoća&#39;, city=&#39;Rijeka&#39;)}</code> doesn&#39;t do what you think it does, there is no <code>type</code> nor <code>city</code> placeholder in your URL template, so it doesn&#39;t do anything. SHould be something like <code>@{&#47;racun&#47;new&#47;{type}&#47;{city}(type=&#39;Čistoća&#39;, city=&#39;Rijeka&#39;)}</code> else it would generate parameters not path variables."},{"owner":{"account_id":18360840,"reputation":81,"user_id":13372981,"display_name":"Marin Jurlina"},"score":0,"creation_date":1697381480,"post_id":77297014,"comment_id":136270109,"body_markdown":"@M.Deinum Yes, you are right. The @{/racun/new/{type}/{city}(type=&#39;Čistoća&#39;, city=&#39;Rijeka&#39;)} worked as intented. Thank you so much...BTW The @GetMapping(&quot;/racun/{id}&quot;) is for calling all the bills (racuni). The &quot;racuni-template&quot;... Thanks for your help tho :)","body":"@M.Deinum Yes, you are right. The @{/racun/new/{type}/{city}(type=&#39;Čistoća&#39;, city=&#39;Rijeka&#39;)} worked as intented. Thank you so much...BTW The @GetMapping(&quot;/racun/{id}&quot;) is for calling all the bills (racuni). The &quot;racuni-template&quot;... Thanks for your help tho :)"}],"answers":[{"tags":[],"owner":{"account_id":18360840,"reputation":81,"user_id":13372981,"display_name":"Marin Jurlina"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697381566,"creation_date":1697381566,"answer_id":77297161,"question_id":77297014,"body_markdown":"The error was in HTML:\r\nI wrote @{/racun/new(type=&#39;Čistoća&#39;, city=&#39;Rijeka&#39;)} but the correct way was @{/racun/new/{type}/{city}(type=&#39;Čistoća&#39;, city=&#39;Rijeka&#39;)}\r\n\r\nCredit: M.Deinum\r\n\r\nThanks to M.Deinum","title":"Trying to pass arguments using PathVariable results in Error Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long&#39;","body":"<p>The error was in HTML:\nI wrote @{/racun/new(type='Čistoća', city='Rijeka')} but the correct way was @{/racun/new/{type}/{city}(type='Čistoća', city='Rijeka')}</p>\n<p>Credit: M.Deinum</p>\n<p>Thanks to M.Deinum</p>\n"}],"owner":{"account_id":18360840,"reputation":81,"user_id":13372981,"display_name":"Marin Jurlina"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697381566,"creation_date":1697378910,"question_id":77297014,"body_markdown":"I&#39;m building this simple application for my parents to have an easier &quot;check list&quot; of what bills have been paid. I&#39;ve taken it upon myself to build it (free of charge, duh), as a mean of practice and a real workflow role play. Everything went smoothly, except few minor errors, but this time I&#39;ve been stuck for a few days and just can&#39;t wrap my head around this problem...\r\n\r\nI try passing arguments using @PathVariable, to setup some default values such as type and city. Everything else is modifiable and should not have a default value. Now, I&#39;ve created 3 cards, each representing it&#39;s own city with a dropdown to select what type of bill you would like to save, write in, whatever you call it. Now, every `&lt;li&gt;` in the dropdown is a type. A type is the name of the bill, such as: water, internet, garbage collection etc. Standard stuff...Now my idea was to have each of the `&lt;li&gt;` be clickable and so that when you click on it, you would be redirected to a page that has already populated the type and city for you, and you only have to fill in the rest, such as price and description.\r\n\r\nI&#39;m using Java Spring Boot and Thymeleaf (I didn&#39;t want to bother using something else other than Thymeleaf because I wanted to try and learn it just a bit).\r\n\r\nHere is the code in question:\r\n\r\ncontroller:\r\n\r\n    @GetMapping(&quot;/racuni&quot;)\r\n        public String getRacuniTemplate(Model model){\r\n            return racunService.getTemplates(model);\r\n        }\r\n\r\n    @GetMapping(&quot;/racun/new/{type}/{city}&quot;)\r\n        public String createRacunForm(Model model, @PathVariable String type, @PathVariable String city) {\r\n            return racunService.createRacunForm(model, type, city);\r\n        }\r\n    \r\n    @PostMapping(&quot;/racun/new&quot;)\r\n        public String createRacun(@ModelAttribute racun racun){\r\n            return racunService.createNewRacun(racun);\r\n        }\r\n\r\nService:\r\n\r\n    public String getTemplates(Model model){\r\n            racun racunZagreb = new racun();\r\n            racun racunSplit = new racun();\r\n            racun racunRijeka = new racun();\r\n    \r\n            model.addAttribute(&quot;racunZagreb&quot;, racunZagreb);\r\n            model.addAttribute(&quot;racunSplit&quot;, racunSplit);\r\n            model.addAttribute(&quot;racunRijeka&quot;, racunRijeka);\r\n    \r\n            return &quot;racuni-template&quot;;\r\n        }\r\n\r\n    public String createRacunForm(Model model, String type, String city){\r\n            racun racun = new racun();\r\n            racun.setType(type);\r\n            racun.setCity(city);\r\n    \r\n            model.addAttribute(&quot;racun&quot;, racun);\r\n            return &quot;racun_new&quot;;\r\n        }\r\n    \r\n    public String createNewRacun(racun racun){\r\n            racunRepository.save(racun);\r\n    \r\n            return &quot;redirect:/racun/&quot; + racun.getId();\r\n        }\r\n\r\nThymeleaf template:\r\n\r\n    &lt;div&gt;\r\n      &lt;div class=&quot;row row-cols-1 row-cols-md-3 g-4&quot;&gt;\r\n        &lt;div class=&quot;col&quot;&gt;\r\n          &lt;div class=&quot;card&quot;&gt;\r\n            &lt;div class=&quot;card-body&quot;&gt;\r\n              &lt;h5 class=&quot;card-title&quot;&gt;Rijeka&lt;/h5&gt;\r\n              &lt;p class=&quot;card-text&quot;&gt;Ovdje možeš odabrati račune za Rijeku&lt;/p&gt;\r\n              &lt;div class=&quot;dropdown&quot;&gt;\r\n                &lt;button class=&quot;dropbtn&quot;&gt;Dropdown&lt;/button&gt;\r\n                &lt;div class=&quot;dropdown-content&quot;&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Čistoća&#39;, city=&#39;Rijeka&#39;)}&quot;&gt;Čistoća&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Komunalije&#39;, city=&#39;Rijeka&#39;)}&quot;&gt;Komunalije&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Voda&#39;, city=&#39;Rijeka&#39;)}&quot;&gt;Voda&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Internet&#39;, city=&#39;Rijeka&#39;)}&quot;&gt;Internet&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Struja&#39;, city=&#39;Rijeka&#39;)}&quot;&gt;Struja&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Ostalo&#39;, city=&#39;Rijeka&#39;)}&quot;&gt;Ostalo&lt;/a&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;col&quot;&gt;\r\n          &lt;div class=&quot;card&quot;&gt;\r\n            &lt;div class=&quot;card-body&quot;&gt;\r\n              &lt;h5 class=&quot;card-title&quot;&gt;Zagreb&lt;/h5&gt;\r\n              &lt;p class=&quot;card-text&quot;&gt;Ovdje možeš odabrati račune za Zagreb&lt;/p&gt;\r\n              &lt;div class=&quot;dropdown&quot;&gt;\r\n                &lt;button class=&quot;dropbtn&quot;&gt;Dropdown&lt;/button&gt;\r\n                &lt;div class=&quot;dropdown-content&quot;&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Čistoća&#39;, city=&#39;Zagreb&#39;)}&quot;&gt;Čistoća&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Komunalije&#39;, city=&#39;Zagreb&#39;)}&quot;&gt;Komunalije&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Voda&#39;, city=&#39;Zagreb&#39;)}&quot;&gt;Voda&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Internet&#39;, city=&#39;Zagreb&#39;)}&quot;&gt;Internet&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Struja&#39;, city=&#39;Zagreb&#39;)}&quot;&gt;Struja&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Ostalo&#39;, city=&#39;Zagreb&#39;)}&quot;&gt;Ostalo&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Maximus&#39;, city=&#39;Zagreb&#39;)}&quot;&gt;Maximus&lt;/a&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;col&quot;&gt;\r\n          &lt;div class=&quot;card&quot;&gt;\r\n            &lt;div class=&quot;card-body&quot;&gt;\r\n              &lt;h5 class=&quot;card-title&quot;&gt;Split&lt;/h5&gt;\r\n              &lt;p class=&quot;card-text&quot;&gt;Ovdje možeš odabrati račune za Split&lt;/p&gt;\r\n              &lt;div class=&quot;dropdown&quot;&gt;\r\n                &lt;button class=&quot;dropbtn&quot;&gt;Dropdown&lt;/button&gt;\r\n                &lt;div class=&quot;dropdown-content&quot;&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Čistoća&#39;, city=&#39;Split&#39;)}&quot;&gt;Čistoća&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Komunalije&#39;, city=&#39;Split&#39;)}&quot;&gt;Komunalije&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Voda&#39;, city=&#39;Split&#39;)}&quot;&gt;Voda&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Internet&#39;, city=&#39;Split&#39;)}&quot;&gt;Internet&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Struja&#39;, city=&#39;Split&#39;)}&quot;&gt;Struja&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Ostalo&#39;, city=&#39;Split&#39;)}&quot;&gt;Ostalo&lt;/a&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\nOnce I run this and try to acces any of the dropdown items, I get hit with this error:\r\n\r\nThere was an unexpected error (type=Bad Request, status=400).\r\nFailed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long&#39;; For input string: &quot;new&quot;\r\norg.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long&#39;; For input string: &quot;new&quot;\r\n\r\nI don&#39;t know why it insists there should be a required type &quot;long&quot; when I pass in String and expect a String. The only thing that comes to my mind is an ID, but I haven&#39;t exposed IDs, so yea...IDK... Please help, I&#39;d really really appreciate it. Thanks in advance\r\n\r\nEDIT: The template is &quot;racuni-template.html&quot;","title":"Trying to pass arguments using PathVariable results in Error Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long&#39;","body":"<p>I'm building this simple application for my parents to have an easier &quot;check list&quot; of what bills have been paid. I've taken it upon myself to build it (free of charge, duh), as a mean of practice and a real workflow role play. Everything went smoothly, except few minor errors, but this time I've been stuck for a few days and just can't wrap my head around this problem...</p>\n<p>I try passing arguments using @PathVariable, to setup some default values such as type and city. Everything else is modifiable and should not have a default value. Now, I've created 3 cards, each representing it's own city with a dropdown to select what type of bill you would like to save, write in, whatever you call it. Now, every <code>&lt;li&gt;</code> in the dropdown is a type. A type is the name of the bill, such as: water, internet, garbage collection etc. Standard stuff...Now my idea was to have each of the <code>&lt;li&gt;</code> be clickable and so that when you click on it, you would be redirected to a page that has already populated the type and city for you, and you only have to fill in the rest, such as price and description.</p>\n<p>I'm using Java Spring Boot and Thymeleaf (I didn't want to bother using something else other than Thymeleaf because I wanted to try and learn it just a bit).</p>\n<p>Here is the code in question:</p>\n<p>controller:</p>\n<pre><code>@GetMapping(&quot;/racuni&quot;)\n    public String getRacuniTemplate(Model model){\n        return racunService.getTemplates(model);\n    }\n\n@GetMapping(&quot;/racun/new/{type}/{city}&quot;)\n    public String createRacunForm(Model model, @PathVariable String type, @PathVariable String city) {\n        return racunService.createRacunForm(model, type, city);\n    }\n\n@PostMapping(&quot;/racun/new&quot;)\n    public String createRacun(@ModelAttribute racun racun){\n        return racunService.createNewRacun(racun);\n    }\n</code></pre>\n<p>Service:</p>\n<pre><code>public String getTemplates(Model model){\n        racun racunZagreb = new racun();\n        racun racunSplit = new racun();\n        racun racunRijeka = new racun();\n\n        model.addAttribute(&quot;racunZagreb&quot;, racunZagreb);\n        model.addAttribute(&quot;racunSplit&quot;, racunSplit);\n        model.addAttribute(&quot;racunRijeka&quot;, racunRijeka);\n\n        return &quot;racuni-template&quot;;\n    }\n\npublic String createRacunForm(Model model, String type, String city){\n        racun racun = new racun();\n        racun.setType(type);\n        racun.setCity(city);\n\n        model.addAttribute(&quot;racun&quot;, racun);\n        return &quot;racun_new&quot;;\n    }\n\npublic String createNewRacun(racun racun){\n        racunRepository.save(racun);\n\n        return &quot;redirect:/racun/&quot; + racun.getId();\n    }\n</code></pre>\n<p>Thymeleaf template:</p>\n<pre><code>&lt;div&gt;\n  &lt;div class=&quot;row row-cols-1 row-cols-md-3 g-4&quot;&gt;\n    &lt;div class=&quot;col&quot;&gt;\n      &lt;div class=&quot;card&quot;&gt;\n        &lt;div class=&quot;card-body&quot;&gt;\n          &lt;h5 class=&quot;card-title&quot;&gt;Rijeka&lt;/h5&gt;\n          &lt;p class=&quot;card-text&quot;&gt;Ovdje možeš odabrati račune za Rijeku&lt;/p&gt;\n          &lt;div class=&quot;dropdown&quot;&gt;\n            &lt;button class=&quot;dropbtn&quot;&gt;Dropdown&lt;/button&gt;\n            &lt;div class=&quot;dropdown-content&quot;&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Čistoća', city='Rijeka')}&quot;&gt;Čistoća&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Komunalije', city='Rijeka')}&quot;&gt;Komunalije&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Voda', city='Rijeka')}&quot;&gt;Voda&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Internet', city='Rijeka')}&quot;&gt;Internet&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Struja', city='Rijeka')}&quot;&gt;Struja&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Ostalo', city='Rijeka')}&quot;&gt;Ostalo&lt;/a&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;col&quot;&gt;\n      &lt;div class=&quot;card&quot;&gt;\n        &lt;div class=&quot;card-body&quot;&gt;\n          &lt;h5 class=&quot;card-title&quot;&gt;Zagreb&lt;/h5&gt;\n          &lt;p class=&quot;card-text&quot;&gt;Ovdje možeš odabrati račune za Zagreb&lt;/p&gt;\n          &lt;div class=&quot;dropdown&quot;&gt;\n            &lt;button class=&quot;dropbtn&quot;&gt;Dropdown&lt;/button&gt;\n            &lt;div class=&quot;dropdown-content&quot;&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Čistoća', city='Zagreb')}&quot;&gt;Čistoća&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Komunalije', city='Zagreb')}&quot;&gt;Komunalije&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Voda', city='Zagreb')}&quot;&gt;Voda&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Internet', city='Zagreb')}&quot;&gt;Internet&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Struja', city='Zagreb')}&quot;&gt;Struja&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Ostalo', city='Zagreb')}&quot;&gt;Ostalo&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Maximus', city='Zagreb')}&quot;&gt;Maximus&lt;/a&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;col&quot;&gt;\n      &lt;div class=&quot;card&quot;&gt;\n        &lt;div class=&quot;card-body&quot;&gt;\n          &lt;h5 class=&quot;card-title&quot;&gt;Split&lt;/h5&gt;\n          &lt;p class=&quot;card-text&quot;&gt;Ovdje možeš odabrati račune za Split&lt;/p&gt;\n          &lt;div class=&quot;dropdown&quot;&gt;\n            &lt;button class=&quot;dropbtn&quot;&gt;Dropdown&lt;/button&gt;\n            &lt;div class=&quot;dropdown-content&quot;&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Čistoća', city='Split')}&quot;&gt;Čistoća&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Komunalije', city='Split')}&quot;&gt;Komunalije&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Voda', city='Split')}&quot;&gt;Voda&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Internet', city='Split')}&quot;&gt;Internet&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Struja', city='Split')}&quot;&gt;Struja&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Ostalo', city='Split')}&quot;&gt;Ostalo&lt;/a&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Once I run this and try to acces any of the dropdown items, I get hit with this error:</p>\n<p>There was an unexpected error (type=Bad Request, status=400).\nFailed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: &quot;new&quot;\norg.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: &quot;new&quot;</p>\n<p>I don't know why it insists there should be a required type &quot;long&quot; when I pass in String and expect a String. The only thing that comes to my mind is an ID, but I haven't exposed IDs, so yea...IDK... Please help, I'd really really appreciate it. Thanks in advance</p>\n<p>EDIT: The template is &quot;racuni-template.html&quot;</p>\n"},{"tags":["java","jframe","location","resize","jlabel"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1697321447,"post_id":77293153,"comment_id":136265879,"body_markdown":"Please edit your question and include code as text, not as images. Images are hard to read, cannot be copied into an editor, and prevent sight impaired users from helping you.","body":"Please edit your question and include code as text, not as images. Images are hard to read, cannot be copied into an editor, and prevent sight impaired users from helping you."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1697430098,"post_id":77293153,"comment_id":136274162,"body_markdown":"I see that you’re adding tuesdayBackground to jPanel.  What is the layout of jPanel?","body":"I see that you’re adding tuesdayBackground to jPanel.  What is the layout of jPanel?"},{"owner":{"account_id":29671025,"reputation":1,"user_id":22740257,"display_name":"Zeeshan Moghal"},"score":0,"creation_date":1697929274,"post_id":77293153,"comment_id":136341438,"body_markdown":"Yes Thank you for replying sorry for the 6 day late reply, My JPanel&#39;s Layout is null. It should of worked since ive done this 2 times before this but i don&#39;t know.","body":"Yes Thank you for replying sorry for the 6 day late reply, My JPanel&#39;s Layout is null. It should of worked since ive done this 2 times before this but i don&#39;t know."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1697930365,"post_id":77293153,"comment_id":136341485,"body_markdown":"setLayout(null) is something you are not supposed to do.  If you just want tuesdayBackground to take up all the space in jPanel, use `jPanel.setLayout(new BorderLayout())`.  It’s much easier to let a layout set position and size correctly, than to try to manage it yourself.","body":"setLayout(null) is something you are not supposed to do.  If you just want tuesdayBackground to take up all the space in jPanel, use <code>jPanel.setLayout(new BorderLayout())</code>.  It’s much easier to let a layout set position and size correctly, than to try to manage it yourself."},{"owner":{"account_id":29671025,"reputation":1,"user_id":22740257,"display_name":"Zeeshan Moghal"},"score":0,"creation_date":1698059029,"post_id":77293153,"comment_id":136352756,"body_markdown":"Thanks Alot , that worked never thought of that.","body":"Thanks Alot , that worked never thought of that."}],"owner":{"account_id":29671025,"reputation":1,"user_id":22740257,"display_name":"Zeeshan Moghal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697381350,"creation_date":1697292756,"question_id":77293153,"body_markdown":"So I have run into a issue in my jLabel. setSize for some reason is changing the location. I have no idea what&#39;s going on. I want to make my image bigger:\r\n\r\n    public void tuesdayOperator() {\r\n        ErrorOperator errorOperator = new ErrorOperator();\r\n\r\n        tuesdayButton.addActionListener(e -&gt; {\r\n            try {\r\n                setPage2ButtonsInvisible();\r\n                jButtonRemoveEvent();\r\n                //tuesdayBackground.setBounds(-500, -300, 1920, 1080);\r\n                tuesdayBackground.setSize(1920, 2080);\r\n                tuesdayBackground.setLocation(-500, -600);\r\n\r\n                jPanel.add(tuesdayBackground);\r\n                tuesdayBackground.setLayout(null);\r\n\r\n                jPanel.setBackground(Color.white);\r\n                System.out.println(&quot;Tuesday Exercise&quot; + Message.success);\r\n            }catch (Exception exception) {\r\n\r\n                errorOperator.emergencyEvent();\r\n            }\r\n        });\r\n    }\r\n\r\nI have tried using `setPreferredSize `\r\n\r\nbut it has not worked. in reference, here&#39;s is the code with `setPreferredSize `. here is the code:\r\n\r\n    public void tuesdayOperator() {\r\n        ErrorOperator errorOperator = new ErrorOperator();\r\n\r\n        tuesdayButton.addActionListener(e -&gt; {\r\n            try {\r\n                setPage2ButtonsInvisible();\r\n                jButtonRemoveEvent();\r\n                tuesdayBackground.setPrefferredSize(new Dimension(1920, 1080));\r\n\r\n                jPanel.add(tuesdayBackground);\r\n                tuesdayBackground.setLayout(null);\r\n\r\n                jPanel.setBackground(Color.white);\r\n                System.out.println(&quot;Tuesday Exercise&quot; + Message.success);\r\n            }catch (Exception exception) {\r\n\r\n                errorOperator.emergencyEvent();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mrKz4.png\r\n  [2]: https://i.stack.imgur.com/S1pbx.png","title":"setSize, is changing the location of a JLabel","body":"<p>So I have run into a issue in my jLabel. setSize for some reason is changing the location. I have no idea what's going on. I want to make my image bigger:</p>\n<pre><code>public void tuesdayOperator() {\n    ErrorOperator errorOperator = new ErrorOperator();\n\n    tuesdayButton.addActionListener(e -&gt; {\n        try {\n            setPage2ButtonsInvisible();\n            jButtonRemoveEvent();\n            //tuesdayBackground.setBounds(-500, -300, 1920, 1080);\n            tuesdayBackground.setSize(1920, 2080);\n            tuesdayBackground.setLocation(-500, -600);\n\n            jPanel.add(tuesdayBackground);\n            tuesdayBackground.setLayout(null);\n\n            jPanel.setBackground(Color.white);\n            System.out.println(&quot;Tuesday Exercise&quot; + Message.success);\n        }catch (Exception exception) {\n\n            errorOperator.emergencyEvent();\n        }\n    });\n}\n</code></pre>\n<p>I have tried using <code>setPreferredSize </code></p>\n<p>but it has not worked. in reference, here's is the code with <code>setPreferredSize </code>. here is the code:</p>\n<pre><code>public void tuesdayOperator() {\n    ErrorOperator errorOperator = new ErrorOperator();\n\n    tuesdayButton.addActionListener(e -&gt; {\n        try {\n            setPage2ButtonsInvisible();\n            jButtonRemoveEvent();\n            tuesdayBackground.setPrefferredSize(new Dimension(1920, 1080));\n\n            jPanel.add(tuesdayBackground);\n            tuesdayBackground.setLayout(null);\n\n            jPanel.setBackground(Color.white);\n            System.out.println(&quot;Tuesday Exercise&quot; + Message.success);\n        }catch (Exception exception) {\n\n            errorOperator.emergencyEvent();\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":4,"creation_date":1434655158,"post_id":30923909,"comment_id":49884692,"body_markdown":"Create a project, then create a Java module. Put your class there and execute it. If you only want/need the IDE for editing the Java file, edit the file accordingly, then compile it using `javac` and execute the class using `java WhateverTheNameOfYourClass`.","body":"Create a project, then create a Java module. Put your class there and execute it. If you only want/need the IDE for editing the Java file, edit the file accordingly, then compile it using <code>javac</code> and execute the class using <code>java WhateverTheNameOfYourClass</code>."},{"owner":{"account_id":5466090,"reputation":580,"user_id":4346886,"accept_rate":74,"display_name":"Adam Griffiths"},"score":0,"creation_date":1434655194,"post_id":30923909,"comment_id":49884713,"body_markdown":"I also tried that, but when I did I was unable to create a Java file, the closest is a Java class file (its a small project so I will only need one file and not multiple classes) and it said unable to create class-file.","body":"I also tried that, but when I did I was unable to create a Java file, the closest is a Java class file (its a small project so I will only need one file and not multiple classes) and it said unable to create class-file."},{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1434655381,"post_id":30923909,"comment_id":49884824,"body_markdown":"Try adding a source root in your project. Put your java file under that","body":"Try adding a source root in your project. Put your java file under that"},{"owner":{"account_id":5466090,"reputation":580,"user_id":4346886,"accept_rate":74,"display_name":"Adam Griffiths"},"score":0,"creation_date":1434655503,"post_id":30923909,"comment_id":49884911,"body_markdown":"What is javac? It seems weird that I have to compile my program every time I want to run it, with other programming languages I&#39;ve been able to run the code in the IDE on the fly without compiling it. I have also put a source root in and it still won&#39;t let me run the file.","body":"What is javac? It seems weird that I have to compile my program every time I want to run it, with other programming languages I&#39;ve been able to run the code in the IDE on the fly without compiling it. I have also put a source root in and it still won&#39;t let me run the file."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1434655509,"post_id":30923909,"comment_id":49884913,"body_markdown":"Are you sure you have a Java **Module** and that the proper JDK is configured in this **Project**?","body":"Are you sure you have a Java <b>Module</b> and that the proper JDK is configured in this <b>Project</b>?"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1434655542,"post_id":30923909,"comment_id":49884939,"body_markdown":"[javac](http://docs.oracle.com/javase/8/docs/technotes/tools/windows/javac.html)","body":"<a href=\"http://docs.oracle.com/javase/8/docs/technotes/tools/windows/javac.html\" rel=\"nofollow noreferrer\">javac</a>"},{"owner":{"account_id":5466090,"reputation":580,"user_id":4346886,"accept_rate":74,"display_name":"Adam Griffiths"},"score":0,"creation_date":1434655812,"post_id":30923909,"comment_id":49885110,"body_markdown":"Do I really need to compile my code every time I want to run it using javac? I thought the point was to be able to test code on the fly?","body":"Do I really need to compile my code every time I want to run it using javac? I thought the point was to be able to test code on the fly?"}],"answers":[{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":1,"up_vote_count":90,"is_accepted":true,"score":89,"last_activity_date":1434656033,"creation_date":1434656033,"answer_id":30924224,"question_id":30923909,"body_markdown":"Move your code inside of the `src` folder.  Once it&#39;s there, it&#39;ll be compiled on-the-fly every time it&#39;s saved.\r\n\r\nIntelliJ only recognizes files in specific locations as part of the project - namely, anything inside of a blue folder is specifically considered to be source code.\r\n\r\nAlso - while I can&#39;t see *all* of your source code - be sure that it&#39;s proper Java syntax, with a class declared the same as the file and that it has a `main` method (specifically `public static void main(String[] args)`).  IntelliJ won&#39;t run code without a `main` method (rather, it *can&#39;t* - neither it nor Java would know where to start).\r\n","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>Move your code inside of the <code>src</code> folder.  Once it's there, it'll be compiled on-the-fly every time it's saved.</p>\n\n<p>IntelliJ only recognizes files in specific locations as part of the project - namely, anything inside of a blue folder is specifically considered to be source code.</p>\n\n<p>Also - while I can't see <em>all</em> of your source code - be sure that it's proper Java syntax, with a class declared the same as the file and that it has a <code>main</code> method (specifically <code>public static void main(String[] args)</code>).  IntelliJ won't run code without a <code>main</code> method (rather, it <em>can't</em> - neither it nor Java would know where to start).</p>\n"},{"tags":[],"owner":{"account_id":99017,"reputation":3387,"user_id":267693,"display_name":"Ken Ratanachai S."},"down_vote_count":4,"up_vote_count":18,"is_accepted":false,"score":14,"last_activity_date":1580871940,"creation_date":1473570106,"answer_id":39433031,"question_id":30923909,"body_markdown":"Don&#39;t forget the `String[] args` in your main method. Otherwise, there&#39;s no option to run your program:\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    }","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>Don't forget the <code>String[] args</code> in your main method. Otherwise, there's no option to run your program:</p>\n\n<pre><code>public static void main(String[] args) {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10427809,"reputation":1136,"user_id":7688506,"display_name":"MamathaMacherla"},"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1490217326,"creation_date":1490191452,"answer_id":42953942,"question_id":30923909,"body_markdown":"My classes contained a `main()` method yet I was unable to see the _Run_ option. That option was enabled once I marked a folder containing my class files as a source folder:\r\n\r\n1. Right click the folder containing your source\r\n1. Select Mark Directory as &amp;rarr; Test Source Root\r\n\r\nSome of the classes in my folder don&#39;t have a `main()` method, but I still see a Run option for those.","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>My classes contained a <code>main()</code> method yet I was unable to see the <em>Run</em> option. That option was enabled once I marked a folder containing my class files as a source folder:</p>\n\n<ol>\n<li>Right click the folder containing your source</li>\n<li>Select Mark Directory as &rarr; Test Source Root</li>\n</ol>\n\n<p>Some of the classes in my folder don't have a <code>main()</code> method, but I still see a Run option for those.</p>\n"},{"tags":[],"owner":{"account_id":4864775,"reputation":35,"user_id":3923410,"display_name":"Niraj Kulkarni"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1513073734,"creation_date":1513073734,"answer_id":47770084,"question_id":30923909,"body_markdown":"If you are just opened a new java project then **create a new folder src/** in the man project location.\r\n\r\nThen **cut and paste all your package in that folder.**\r\n\r\nThen **Right click on src directory and select option Mark Directory As &gt; Sources Root**.\r\n\r\n","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>If you are just opened a new java project then <strong>create a new folder src/</strong> in the man project location.</p>\n\n<p>Then <strong>cut and paste all your package in that folder.</strong></p>\n\n<p>Then <strong>Right click on src directory and select option Mark Directory As > Sources Root</strong>.</p>\n"},{"tags":[],"owner":{"account_id":2193271,"reputation":635,"user_id":8580327,"display_name":"Matthew E"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1523102066,"creation_date":1523102066,"answer_id":49707118,"question_id":30923909,"body_markdown":"right click on the &quot;SRC folder&quot;, select &quot;Mark directory as:, select &quot;Resource Root&quot;.\r\n\r\nThen Edit the run configuration. select Run, run, edit configuration, with the plus button add an application configuration, give it a name (could be any name), and in the main class write down the full name of the main java class for example, com.example.java.MaxValues.\r\n\r\nyou might also need to check file, project structure, project settings-project, give it a folder for the compiler output, preferably a separate folder, under the java folder,","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>right click on the \"SRC folder\", select \"Mark directory as:, select \"Resource Root\".</p>\n\n<p>Then Edit the run configuration. select Run, run, edit configuration, with the plus button add an application configuration, give it a name (could be any name), and in the main class write down the full name of the main java class for example, com.example.java.MaxValues.</p>\n\n<p>you might also need to check file, project structure, project settings-project, give it a folder for the compiler output, preferably a separate folder, under the java folder,</p>\n"},{"tags":[],"owner":{"account_id":15797466,"reputation":21,"user_id":11398918,"display_name":"HappySpaceBoy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560635662,"creation_date":1560635662,"answer_id":56614435,"question_id":30923909,"body_markdown":"Something else that worked for me:\r\n\r\n1. Right click the folder in src containing your main \r\n2. You&#39;ll see an option &quot;run &#39;file.main()&#39;&quot; with the run icon. \r\n3. Click it, and then the run icon in the top right and bottom left will turn green from then on.","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>Something else that worked for me:</p>\n\n<ol>\n<li>Right click the folder in src containing your main </li>\n<li>You'll see an option \"run 'file.main()'\" with the run icon. </li>\n<li>Click it, and then the run icon in the top right and bottom left will turn green from then on.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563441325,"creation_date":1563441325,"answer_id":57091062,"question_id":30923909,"body_markdown":"Sometimes, patience is key.\r\n\r\nI had the same problem with a java project with big node_modules / .m2 directories.  \r\nThe indexing was very long so I paused it and it prevented me from using Run Configurations.\r\n\r\nSo I waited for the indexing to finish and only then I was able to run my main class.\r\n","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>Sometimes, patience is key.</p>\n\n<p>I had the same problem with a java project with big node_modules / .m2 directories.<br>\nThe indexing was very long so I paused it and it prevented me from using Run Configurations.</p>\n\n<p>So I waited for the indexing to finish and only then I was able to run my main class.</p>\n"},{"tags":[],"owner":{"account_id":15207965,"reputation":21,"user_id":10973725,"display_name":"Dipesh Chauhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563612505,"creation_date":1563612505,"answer_id":57123153,"question_id":30923909,"body_markdown":"If you can&#39;t run your correct program and you try all other answers.Click on Edit Configuration and just do following steps-:\r\n\r\n1. Click on add icon and select Application from the list.\r\n2. In configuration name your Main class: as your main class name.\r\n3. Set working directory to your project directory.\r\n4. Others: leave them default and click on apply.\r\nNow you can run your program.[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AzFnj.jpg","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>If you can't run your correct program and you try all other answers.Click on Edit Configuration and just do following steps-:</p>\n\n<ol>\n<li>Click on add icon and select Application from the list.</li>\n<li>In configuration name your Main class: as your main class name.</li>\n<li>Set working directory to your project directory.</li>\n<li>Others: leave them default and click on apply.\nNow you can run your program.<a href=\"https://i.stack.imgur.com/AzFnj.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14747594,"reputation":1,"user_id":11953203,"display_name":"Uğur Abdioğlu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566892797,"creation_date":1566892797,"answer_id":57670138,"question_id":30923909,"body_markdown":"If you use Maven, you must to declare your source and test folder in project directory. \r\n\r\nFor these, click F4 on Intellij Idea and Open Project Structure. Select your project name on the left panel and Mark As your &quot;Source&quot; and &quot;Test&quot; directory.","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>If you use Maven, you must to declare your source and test folder in project directory. </p>\n\n<p>For these, click F4 on Intellij Idea and Open Project Structure. Select your project name on the left panel and Mark As your \"Source\" and \"Test\" directory.</p>\n"},{"tags":[],"owner":{"account_id":1812306,"reputation":1726,"user_id":1648099,"display_name":"iampranabroy"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1569396322,"creation_date":1569396322,"answer_id":58093200,"question_id":30923909,"body_markdown":"I had the similar issue and solved it by doing the below step.\r\n\r\n1. Go to &quot;Run&quot; menu and &quot;Edit configuration&quot;\r\n2. Click on add(+) icon and select Application from the list.\r\n3. In configuration name your Main class: name of your main class.\r\n4. Working Directory : **It should point till the src folder of your project.** *C:\\Users\\name\\Work\\ProjectName\\src*\r\n\r\n\t**This is where I had issue and after correcting this, I could see the run option for that class.**","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>I had the similar issue and solved it by doing the below step.</p>\n\n<ol>\n<li>Go to \"Run\" menu and \"Edit configuration\"</li>\n<li>Click on add(+) icon and select Application from the list.</li>\n<li>In configuration name your Main class: name of your main class.</li>\n<li><p>Working Directory : <strong>It should point till the src folder of your project.</strong> <em>C:\\Users\\name\\Work\\ProjectName\\src</em></p>\n\n<p><strong>This is where I had issue and after correcting this, I could see the run option for that class.</strong></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7180435,"reputation":1104,"user_id":5484609,"accept_rate":80,"display_name":"Kartik Chugh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587069583,"creation_date":1587069583,"answer_id":61259663,"question_id":30923909,"body_markdown":"Last resort option when nothing else seems to work: close and reopen IntelliJ.\r\n\r\nMy issue was with reverting a Git commit, which happened to change the Java SDK configured for the Project to a no longer installed version of the JDK. But fixing that back still didn&#39;t allow me to run the program. Restarting IntelliJ fixed this","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>Last resort option when nothing else seems to work: close and reopen IntelliJ.</p>\n\n<p>My issue was with reverting a Git commit, which happened to change the Java SDK configured for the Project to a no longer installed version of the JDK. But fixing that back still didn't allow me to run the program. Restarting IntelliJ fixed this</p>\n"},{"tags":[],"owner":{"display_name":"user12786901"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590260448,"creation_date":1590249781,"answer_id":61974829,"question_id":30923909,"body_markdown":"-First Move Your Code Files in side the &quot;src&quot; Folder\r\n\r\n-Make sure your Main method is declared like the following\r\n\r\n \r\n\r\n       public class Main {\r\n             public static void main(String []args){\r\n        \r\n                   \r\n           }\r\n        }\r\nthen: \r\n\r\n-  Go to Project configurations\r\n-  select Java application,\r\n-  check allow parallel run\r\n-  and select your main class\r\n\r\nand it should work\r\n\r\n\r\n    ","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>-First Move Your Code Files in side the \"src\" Folder</p>\n\n<p>-Make sure your Main method is declared like the following</p>\n\n<pre><code>   public class Main {\n         public static void main(String []args){\n\n\n       }\n    }\n</code></pre>\n\n<p>then: </p>\n\n<ul>\n<li>Go to Project configurations</li>\n<li>select Java application,</li>\n<li>check allow parallel run</li>\n<li>and select your main class</li>\n</ul>\n\n<p>and it should work</p>\n"},{"tags":[],"owner":{"account_id":28418348,"reputation":1,"user_id":21740764,"display_name":"Kritika Gupta sp1 Kritika Gupt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682477604,"creation_date":1682477604,"answer_id":76106831,"question_id":30923909,"body_markdown":"Go to file- Project Structure - Project and in sdk select your Java jdk file","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>Go to file- Project Structure - Project and in sdk select your Java jdk file</p>\n"},{"tags":[],"owner":{"account_id":28906504,"reputation":1,"user_id":22140443,"display_name":"Lala Sabuhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697380087,"creation_date":1697380087,"answer_id":77297077,"question_id":30923909,"body_markdown":"File--&gt;Settings--&gt;Build, Execution, Deployment --&gt;Compiler--&gt; Java Compiler and \r\nchange &quot;target bytecode version&quot;. in my case, this is 11\r\n","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>File--&gt;Settings--&gt;Build, Execution, Deployment --&gt;Compiler--&gt; Java Compiler and\nchange &quot;target bytecode version&quot;. in my case, this is 11</p>\n"}],"owner":{"account_id":5466090,"reputation":580,"user_id":4346886,"accept_rate":74,"display_name":"Adam Griffiths"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328750,"favorite_count":0,"down_vote_count":0,"up_vote_count":88,"accepted_answer_id":30924224,"answer_count":14,"score":88,"last_activity_date":1697380087,"creation_date":1434655031,"question_id":30923909,"body_markdown":"I have just downloaded the IntelliJ IDEA, and I want to edit my first Java file with it, I&#39;m not interested in creating a whole project, just editing the single file.\r\n\r\nSo I opened the file from my desktop with Intellij IDEA as I set it as my default program for opening .java files.\r\n\r\nI write some code and the main run and debug buttons are greyed out! I can&#39;t run my code!\r\n\r\nI have already installed Java 8 update 45 64-bit (I have a 64 bit OS) as well as the Java Development Kit (J8U45). I have set my global IDE SDK as my JDK installation, and when it prompts me I also set this as my project SDK, but still the run and debug buttons are unable to be used!\r\n\r\nEdit 1:  \r\nI am also unable to run my file regardless of if its in a project or not.\r\n\r\nEdit 2:  \r\nScreenshot of my project setup.\r\n[![Larger Project Setup][1]][1]\r\n[![Run Icons][2]][2]\r\n[![Project Setup][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q1Drq.png\r\n  [2]: https://i.stack.imgur.com/dPR1f.png\r\n  [3]: https://i.stack.imgur.com/699yz.png","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>I have just downloaded the IntelliJ IDEA, and I want to edit my first Java file with it, I'm not interested in creating a whole project, just editing the single file.</p>\n<p>So I opened the file from my desktop with Intellij IDEA as I set it as my default program for opening .java files.</p>\n<p>I write some code and the main run and debug buttons are greyed out! I can't run my code!</p>\n<p>I have already installed Java 8 update 45 64-bit (I have a 64 bit OS) as well as the Java Development Kit (J8U45). I have set my global IDE SDK as my JDK installation, and when it prompts me I also set this as my project SDK, but still the run and debug buttons are unable to be used!</p>\n<p>Edit 1:<br />\nI am also unable to run my file regardless of if its in a project or not.</p>\n<p>Edit 2:<br />\nScreenshot of my project setup.\n<a href=\"https://i.stack.imgur.com/Q1Drq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q1Drq.png\" alt=\"Larger Project Setup\" /></a>\n<a href=\"https://i.stack.imgur.com/dPR1f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dPR1f.png\" alt=\"Run Icons\" /></a>\n<a href=\"https://i.stack.imgur.com/699yz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/699yz.png\" alt=\"Project Setup\" /></a></p>\n"},{"tags":["java","mapping","mapstruct"],"comments":[{"owner":{"account_id":3146381,"reputation":1657,"user_id":2660789,"display_name":"Aman"},"score":0,"creation_date":1603097187,"post_id":64423822,"comment_id":113917922,"body_markdown":"From what I understood you don&#39;t need the fields on the `dtos`s, right?","body":"From what I understood you don&#39;t need the fields on the <code>dtos</code>s, right?"},{"owner":{"account_id":10966315,"reputation":83,"user_id":8057942,"display_name":"rav137"},"score":0,"creation_date":1603097511,"post_id":64423822,"comment_id":113918056,"body_markdown":"Yes, this field is specific for db model.\nE.g:\nDto has fields name, desc and status, db model has id, name, desc, status and version.\nI&#39;d like to map only name, desc and status and ignore id and version in whole project, as they are managed by JPA.","body":"Yes, this field is specific for db model. E.g: Dto has fields name, desc and status, db model has id, name, desc, status and version. I&#39;d like to map only name, desc and status and ignore id and version in whole project, as they are managed by JPA."},{"owner":{"account_id":3146381,"reputation":1657,"user_id":2660789,"display_name":"Aman"},"score":0,"creation_date":1603098043,"post_id":64423822,"comment_id":113918290,"body_markdown":"`@Mapping(target = &quot;version&quot;, ignore = true)` is when you have the field in both classes and don&#39;t want to map it. If a filed is **missing** from one side, it is automatically ignored. So, you don&#39;t have to do anything.","body":"<code>@Mapping(target = &quot;version&quot;, ignore = true)</code> is when you have the field in both classes and don&#39;t want to map it. If a filed is <b>missing</b> from one side, it is automatically ignored. So, you don&#39;t have to do anything."},{"owner":{"account_id":10966315,"reputation":83,"user_id":8057942,"display_name":"rav137"},"score":0,"creation_date":1603102191,"post_id":64423822,"comment_id":113920124,"body_markdown":"I cannot agree - just built project, got warning `warning: Unmapped target properties: &quot;createdAt, modifiedAt, id,` from my mapper dto -&gt; db.","body":"I cannot agree - just built project, got warning <code>warning: Unmapped target properties: &quot;createdAt, modifiedAt, id,</code> from my mapper dto -&gt; db."},{"owner":{"account_id":10966315,"reputation":83,"user_id":8057942,"display_name":"rav137"},"score":0,"creation_date":1603102473,"post_id":64423822,"comment_id":113920237,"body_markdown":"Although, I noticed that when I don&#39;t provide setter for given field, the warning omits scecific field in warning message. It may partially solve the problem, but then there may be trouble with tests, where somewhere I set e.g. id manually.\n\nI believe that automatic ignore is enabled for unmapped source property, for a while I&#39;d have been thinging about enabling property `Amapstruct.unmappedSourcePolicy=WARN&#39;, but decided that it won&#39;t be necessary.","body":"Although, I noticed that when I don&#39;t provide setter for given field, the warning omits scecific field in warning message. It may partially solve the problem, but then there may be trouble with tests, where somewhere I set e.g. id manually.  I believe that automatic ignore is enabled for unmapped source property, for a while I&#39;d have been thinging about enabling property `Amapstruct.unmappedSourcePolicy=WARN&#39;, but decided that it won&#39;t be necessary."},{"owner":{"account_id":3146381,"reputation":1657,"user_id":2660789,"display_name":"Aman"},"score":0,"creation_date":1603104205,"post_id":64423822,"comment_id":113920969,"body_markdown":"Sorry I&#39;m not following, but in case of a test, why don&#39;t you set it manually? btw, `unmappedSourcePolicy` is `WARN`, you don;t have to set this too.","body":"Sorry I&#39;m not following, but in case of a test, why don&#39;t you set it manually? btw, <code>unmappedSourcePolicy</code> is <code>WARN</code>, you don;t have to set this too."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1697379871,"creation_date":1603120379,"answer_id":64430199,"question_id":64423822,"body_markdown":"&gt; Some people may say that these are just warnings, but when there are many of them, it makes it harder to spot mistakes.\r\n\r\nFirst of all, I am glad you don&#39;t ignore warnings.\r\n\r\nAs of MapStruct 1.4 you can create an annotation that is composed of multiple mappings. Read more at the documentation of MapStruct 1.4.1. [3.2. Mapping Composition (experimental)][1]. This configuration can also be *shared* ([11.3. Shared configurations][2]).\r\n\r\n```\r\n@Retention(RetentionPolicy.CLASS)\r\n@Mapping(target = &quot;version&quot;, ignore = true)\r\npublic @interface WithoutVersion { }\r\n```\r\n```\r\n@Mapper\r\npublic interface DtoMapper {\r\n   \r\n   @WithoutVersion\r\n   Dto entityToDto(Entity entity)\r\n}\r\n```\r\n\r\nThis becomes useful for example in the case of multiple fields to be ignored. The biggest advantage is that you take a control over mapping through the explicit use of the annotation and not a global configuration.\r\n\r\n```\r\n@Retention(RetentionPolicy.CLASS)\r\n@Mapping(target = &quot;version&quot;, ignore = true)\r\n@Mapping(target = &quot;createdAt&quot;, ignore = true)\r\n@Mapping(target = &quot;modifiedAt&quot;, ignore = true)\r\n@Mapping(target = &quot;id&quot;, ignore = true)\r\npublic @interface WithoutMetadata { }\r\n```\r\n```\r\n@Mapper\r\npublic interface DtoMapper {\r\n   \r\n   @WithoutMetadata \r\n   Dto entityToDto(Entity entity)\r\n}\r\n```\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#mapping-composition\r\n  [2]: https://mapstruct.org/documentation/stable/reference/html/#shared-configurations","title":"Mapstruct - ignore field by name in whole project","body":"<blockquote>\n<p>Some people may say that these are just warnings, but when there are many of them, it makes it harder to spot mistakes.</p>\n</blockquote>\n<p>First of all, I am glad you don't ignore warnings.</p>\n<p>As of MapStruct 1.4 you can create an annotation that is composed of multiple mappings. Read more at the documentation of MapStruct 1.4.1. <a href=\"https://mapstruct.org/documentation/stable/reference/html/#mapping-composition\" rel=\"nofollow noreferrer\">3.2. Mapping Composition (experimental)</a>. This configuration can also be <em>shared</em> (<a href=\"https://mapstruct.org/documentation/stable/reference/html/#shared-configurations\" rel=\"nofollow noreferrer\">11.3. Shared configurations</a>).</p>\n<pre><code>@Retention(RetentionPolicy.CLASS)\n@Mapping(target = &quot;version&quot;, ignore = true)\npublic @interface WithoutVersion { }\n</code></pre>\n<pre><code>@Mapper\npublic interface DtoMapper {\n   \n   @WithoutVersion\n   Dto entityToDto(Entity entity)\n}\n</code></pre>\n<p>This becomes useful for example in the case of multiple fields to be ignored. The biggest advantage is that you take a control over mapping through the explicit use of the annotation and not a global configuration.</p>\n<pre><code>@Retention(RetentionPolicy.CLASS)\n@Mapping(target = &quot;version&quot;, ignore = true)\n@Mapping(target = &quot;createdAt&quot;, ignore = true)\n@Mapping(target = &quot;modifiedAt&quot;, ignore = true)\n@Mapping(target = &quot;id&quot;, ignore = true)\npublic @interface WithoutMetadata { }\n</code></pre>\n<pre><code>@Mapper\npublic interface DtoMapper {\n   \n   @WithoutMetadata \n   Dto entityToDto(Entity entity)\n}\n</code></pre>\n"}],"owner":{"account_id":10966315,"reputation":83,"user_id":8057942,"display_name":"rav137"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7931,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":64430199,"answer_count":1,"score":8,"last_activity_date":1697379871,"creation_date":1603096589,"question_id":64423822,"body_markdown":"I&#39;ve got project, where I often map dto -&gt; db model. Almost all my db models have some additional fields, like version, which are never mapped from dto.\r\n\r\nIs there any possibility or elegant workaround to ignore target fields globally only by theirs names?\r\n\r\nFor now I have to use `@Mapping(target = &quot;version&quot;, ignore = true)`. Cannot use `@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)`, because I&#39;d like to get warns or errors when I accidentally omit any important property. I control default behavior with `&#39;-Amapstruct.unmappedTargetPolicy=WARN&#39;`, which I change for ERROR during developing new functions.\r\n\r\nSome people may say that these are just warnings, but when there are many of them, it makes it harder to spot mistakes.\r\n\r\nMapstruct 1.3.1.Final, probably will move to 1.4.1.Final in nearest future. Searched through the [docs][1], but couldn&#39;t find anything useful.\r\n\r\nThanks in advance for your answers :)\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/","title":"Mapstruct - ignore field by name in whole project","body":"<p>I've got project, where I often map dto -&gt; db model. Almost all my db models have some additional fields, like version, which are never mapped from dto.</p>\n<p>Is there any possibility or elegant workaround to ignore target fields globally only by theirs names?</p>\n<p>For now I have to use <code>@Mapping(target = &quot;version&quot;, ignore = true)</code>. Cannot use <code>@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)</code>, because I'd like to get warns or errors when I accidentally omit any important property. I control default behavior with <code>'-Amapstruct.unmappedTargetPolicy=WARN'</code>, which I change for ERROR during developing new functions.</p>\n<p>Some people may say that these are just warnings, but when there are many of them, it makes it harder to spot mistakes.</p>\n<p>Mapstruct 1.3.1.Final, probably will move to 1.4.1.Final in nearest future. Searched through the <a href=\"https://mapstruct.org/documentation/stable/reference/html/\" rel=\"noreferrer\">docs</a>, but couldn't find anything useful.</p>\n<p>Thanks in advance for your answers :)</p>\n"},{"tags":["java","regex","string","datetime"],"comments":[{"owner":{"account_id":9660097,"reputation":172,"user_id":7168457,"display_name":"LenosV"},"score":0,"creation_date":1522737245,"post_id":49623597,"comment_id":86254278,"body_markdown":"is valid based on what format? also, what did you tried?","body":"is valid based on what format? also, what did you tried?"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1522748894,"post_id":49623597,"comment_id":86260862,"body_markdown":"Does it have to be a UTC time or are timezone offsets also allowed? What are your validation rules?","body":"Does it have to be a UTC time or are timezone offsets also allowed? What are your validation rules?"}],"answers":[{"tags":[],"owner":{"account_id":4001488,"reputation":137,"user_id":3297419,"display_name":"Akshay Batra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522737393,"creation_date":1522737393,"answer_id":49623685,"question_id":49623597,"body_markdown":"Create a String called &quot;format&quot;, and put the required format there. After that try below code and check if dt returns anything\r\n\r\n    DateTimeFormatter formatter = DateTimeFormat.forPattern(format);//required format\r\n    LocalDateTime dt = formatter.parse(oldstring);","title":"How to validate the DateTime string format &quot;2018-01-22T18:23:00.000Z&quot; in Java?","body":"<p>Create a String called \"format\", and put the required format there. After that try below code and check if dt returns anything</p>\n\n<pre><code>DateTimeFormatter formatter = DateTimeFormat.forPattern(format);//required format\nLocalDateTime dt = formatter.parse(oldstring);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1697379755,"creation_date":1522742714,"answer_id":49625140,"question_id":49623597,"body_markdown":"`2018-01-22T18:23:00.000Z` is the ISO 8601 format for an instant. So you may just use `Instant.parse(&quot;2018-01-22T18:23:00.000Z&quot;)`. Catch a `DateTimeParseException` from the case where the string isn’t valid, either because it’s in the wrong format or the date and time is not valid (like month 13 or hour 25). It will accept `2018-01-22T18:23:00Z` and `2018-01-22T18:23:00.000000000Z` too. This should be OK for most purposes since it is still allowed within the ISO 8601 standard. It will require that seconds are present, though: It will not accept `2018-01-22T18:23Z`. A quick solution if you need this is `OffsetDateTime.parse(&quot;2018-01-22T18:23Z&quot;).toInstant()`. It doesn’t validate that the offset in the string is `Z`, though.\r\n\r\nYou may want to add a range check. Probably instants that are too far into the past or the future should be considered invalid for your application. Use `Instant.isBefore()` and/or `Instant.isAfter()`.\r\n\r\nDon’t use a regular expression. It will be complicated to write and *very, very* complicated to read for those maintaining your code. If you do need more detailed syntax validation, including the case where you need to accept minutes precision with no seconds, use a `DateTimeFormatter` as already mentioned in [Akshay Batra’s answer](https://stackoverflow.com/a/49623685/5772882).","title":"How to validate the DateTime string format &quot;2018-01-22T18:23:00.000Z&quot; in Java?","body":"<p><code>2018-01-22T18:23:00.000Z</code> is the ISO 8601 format for an instant. So you may just use <code>Instant.parse(&quot;2018-01-22T18:23:00.000Z&quot;)</code>. Catch a <code>DateTimeParseException</code> from the case where the string isn’t valid, either because it’s in the wrong format or the date and time is not valid (like month 13 or hour 25). It will accept <code>2018-01-22T18:23:00Z</code> and <code>2018-01-22T18:23:00.000000000Z</code> too. This should be OK for most purposes since it is still allowed within the ISO 8601 standard. It will require that seconds are present, though: It will not accept <code>2018-01-22T18:23Z</code>. A quick solution if you need this is <code>OffsetDateTime.parse(&quot;2018-01-22T18:23Z&quot;).toInstant()</code>. It doesn’t validate that the offset in the string is <code>Z</code>, though.</p>\n<p>You may want to add a range check. Probably instants that are too far into the past or the future should be considered invalid for your application. Use <code>Instant.isBefore()</code> and/or <code>Instant.isAfter()</code>.</p>\n<p>Don’t use a regular expression. It will be complicated to write and <em>very, very</em> complicated to read for those maintaining your code. If you do need more detailed syntax validation, including the case where you need to accept minutes precision with no seconds, use a <code>DateTimeFormatter</code> as already mentioned in <a href=\"https://stackoverflow.com/a/49623685/5772882\">Akshay Batra’s answer</a>.</p>\n"}],"owner":{"account_id":2880906,"reputation":165,"user_id":4673307,"accept_rate":75,"display_name":"Jeevika"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2767,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":49625140,"answer_count":2,"score":3,"last_activity_date":1697379755,"creation_date":1522737011,"question_id":49623597,"body_markdown":"I need to validate in my code if the format of the `DateTime` string `2018-01-22T18:23:00.000Z` is a valid one or not.\r\n\r\nRegex solution or any other solution is fine.Can someone help me doing this?\r\n","title":"How to validate the DateTime string format &quot;2018-01-22T18:23:00.000Z&quot; in Java?","body":"<p>I need to validate in my code if the format of the <code>DateTime</code> string <code>2018-01-22T18:23:00.000Z</code> is a valid one or not.</p>\n\n<p>Regex solution or any other solution is fine.Can someone help me doing this?</p>\n"},{"tags":["java","selenium-webdriver","selenium-firefoxdriver","webdrivermanager-java"],"comments":[{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1697413772,"post_id":77295858,"comment_id":136273121,"body_markdown":"This sounds like a duplicate. Instead of [40067849](https://stackoverflow.com/questions/40067849/org-openqa-selenium-sessionnotcreatedexception-session-not-created-exception) (&quot;upgrade!&quot; 2016 and for [Google Chrome](https://en.wikipedia.org/wiki/Google_Chrome), not Firefox), *[SessionNotCreatedException: Message: Expected browser binary location, but unable to find binary in default location, no &#39;moz:firefoxOptions.binary&#39;](https://stackoverflow.com/questions/64908154/)* (2020) might be more reasonable.","body":"This sounds like a duplicate. Instead of <a href=\"https://stackoverflow.com/questions/40067849/org-openqa-selenium-sessionnotcreatedexception-session-not-created-exception\">40067849</a> (&quot;upgrade!&quot; 2016 and for <a href=\"https://en.wikipedia.org/wiki/Google_Chrome\" rel=\"nofollow noreferrer\">Google Chrome</a>, not Firefox), <i><a href=\"https://stackoverflow.com/questions/64908154/\">SessionNotCreatedException: Message: Expected browser binary location, but unable to find binary in default location, no &#39;moz:firefoxOptions.binary&#39;</a></i> (2020) might be more reasonable."},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1697413924,"post_id":77295858,"comment_id":136273129,"body_markdown":"cont&#39; - [An answer](https://stackoverflow.com/questions/64908154/sessionnotcreatedexception-message-expected-browser-binary-location-but-unabl/64908883#64908883) also references [three other](https://stackoverflow.com/a/64035303) [Stack Overflow](https://stackoverflow.com/a/66000618) [questions](https://stackoverflow.com/a/65322308).","body":"cont&#39; - <a href=\"https://stackoverflow.com/questions/64908154/sessionnotcreatedexception-message-expected-browser-binary-location-but-unabl/64908883#64908883\">An answer</a> also references <a href=\"https://stackoverflow.com/a/64035303\">three other</a> <a href=\"https://stackoverflow.com/a/66000618\">Stack Overflow</a> <a href=\"https://stackoverflow.com/a/65322308\">questions</a>."}],"answers":[{"tags":[],"owner":{"account_id":29674965,"reputation":1,"user_id":22743168,"display_name":"Rahul Kant Jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697367446,"creation_date":1697364428,"answer_id":77296154,"question_id":77295858,"body_markdown":"1. Check if you have the Firefox browser installed\r\n2. Use the Boni Garcia WebDriverManager\r\n3. Update your Selenium version to the latest ","title":"Web application cannot be launched with Firefox","body":"<ol>\n<li>Check if you have the Firefox browser installed</li>\n<li>Use the Boni Garcia WebDriverManager</li>\n<li>Update your Selenium version to the latest</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":29610331,"reputation":36,"user_id":22693750,"display_name":"Rakshasa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697379574,"creation_date":1697379484,"answer_id":77297048,"question_id":77295858,"body_markdown":"1. Please upgrade your firefox driver with latest version.\r\n\r\nFireFox driver link : [Firefox driver download link][1]\r\n\r\n\r\n  [1]: https://github.com/mozilla/geckodriver/releases\r\n\r\nNote: Firefox browser version is same as firefox driver version ","title":"Web application cannot be launched with Firefox","body":"<ol>\n<li>Please upgrade your firefox driver with latest version.</li>\n</ol>\n<p>FireFox driver link : <a href=\"https://github.com/mozilla/geckodriver/releases\" rel=\"nofollow noreferrer\">Firefox driver download link</a></p>\n<p>Note: Firefox browser version is same as firefox driver version</p>\n"}],"owner":{"account_id":15344797,"reputation":1,"user_id":11070560,"display_name":"Achini Meekanda Wattage"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697379574,"creation_date":1697359259,"question_id":77295858,"body_markdown":"I have given following code to launch the application with Firefox\r\n\r\n```java\r\nSystem.setProperty(&quot;webdriver.gecko.driver&quot;,\r\n&quot;C:/Work/Assessment/Automation/Test_2/src/main/resources/geckodriver.exe&quot;);\r\nWebDriver driver = new FirefoxDriver();\r\ndriver.get(&quot;https://google.com&quot;);\r\n```\r\n\r\nI get below error:\r\n\r\n&gt; `org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: Expected browser binary location, but unable to find binary in default location, no &#39;moz:firefoxOptions.binary&#39; capability provided, and no binary flag set on the command line`\r\n\r\nI want to launch the application with the Firefox browser","title":"Web application cannot be launched with Firefox","body":"<p>I have given following code to launch the application with Firefox</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.setProperty(&quot;webdriver.gecko.driver&quot;,\n&quot;C:/Work/Assessment/Automation/Test_2/src/main/resources/geckodriver.exe&quot;);\nWebDriver driver = new FirefoxDriver();\ndriver.get(&quot;https://google.com&quot;);\n</code></pre>\n<p>I get below error:</p>\n<blockquote>\n<p><code>org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: Expected browser binary location, but unable to find binary in default location, no 'moz:firefoxOptions.binary' capability provided, and no binary flag set on the command line</code></p>\n</blockquote>\n<p>I want to launch the application with the Firefox browser</p>\n"},{"tags":["java","spring","transactional"],"comments":[{"owner":{"account_id":7333894,"reputation":1329,"user_id":5585923,"accept_rate":100,"display_name":"Uğur Yeşilyurt"},"score":1,"creation_date":1451316512,"post_id":34496105,"comment_id":56733825,"body_markdown":"This question looks similar to my problem, http://stackoverflow.com/questions/31876975/spring-transactional-timeout-not-working-as-expected","body":"This question looks similar to my problem, <a href=\"http://stackoverflow.com/questions/31876975/spring-transactional-timeout-not-working-as-expected\" title=\"spring transactional timeout not working as expected\">stackoverflow.com/questions/31876975/&hellip;</a>"},{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":0,"creation_date":1451332302,"post_id":34496105,"comment_id":56741112,"body_markdown":"What transaction system are you using?","body":"What transaction system are you using?"},{"owner":{"account_id":7333894,"reputation":1329,"user_id":5585923,"accept_rate":100,"display_name":"Uğur Yeşilyurt"},"score":0,"creation_date":1451370862,"post_id":34496105,"comment_id":56753096,"body_markdown":"I am using JDBC transaction system for db operations.","body":"I am using JDBC transaction system for db operations."},{"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"score":0,"creation_date":1635423867,"post_id":34496105,"comment_id":123297793,"body_markdown":"it works for me, the application throws an exception after the specified timeout time has passed: org.springframework.transaction.TransactionTimedOutException: Transaction timed out: deadline was Thu Oct 28 ...","body":"it works for me, the application throws an exception after the specified timeout time has passed: org.springframework.transaction.TransactionTimedOutException&zwnj;&#8203;: Transaction timed out: deadline was Thu Oct 28 ..."}],"answers":[{"tags":[],"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1532422340,"creation_date":1451423273,"answer_id":34519113,"question_id":34496105,"body_markdown":"Finally I found the solution...\r\n\r\nShort answer is, that the problem is in a way how you are testing the timeout - `Thread.sleep()` cannot be used...\r\n\r\nLong answer:\r\n\r\nWhat I had to use (because I tested with MySQL) was a real statement - `select sleep(5)`. This call ended with:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n\tException in thread &quot;main&quot; org.hibernate.TransactionException: transaction timeout expired\r\n\t\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.determineRemainingTransactionTimeOutPeriod(JdbcCoordinatorImpl.java:271)\r\n\t\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.setStatementTimeout(StatementPreparerImpl.java:208)\r\n\t\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:187)\r\n\t\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:160)\r\n\t\tat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1885)\r\n\t\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1862)\r\n\t\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1839)\r\n\t\tat org.hibernate.loader.Loader.doQuery(Loader.java:910)\r\n\t\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355)\r\n\t\tat org.hibernate.loader.Loader.doList(Loader.java:2554)\r\n\t\tat org.hibernate.loader.Loader.doList(Loader.java:2540)\r\n\t\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2370)\r\n\t\tat org.hibernate.loader.Loader.list(Loader.java:2365)\r\n\t\tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:353)\r\n\t\tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:1909)\r\n\t\tat org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:311)\r\n\t\tat org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:141)\r\n\t\tat org.hibernate.internal.AbstractQueryImpl.uniqueResult(AbstractQueryImpl.java:966)\r\n\t\tat test.Dao.mysqlWait(Dao.java:41)\r\n\t\tat test.Dao$$FastClassBySpringCGLIB$$bb93a016.invoke(&lt;generated&gt;)\r\n\t\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655)\r\n\t\tat test.Dao$$EnhancerBySpringCGLIB$$da2836b3.mysqlWait(&lt;generated&gt;)\r\n\t\tat test.Main.main(Main.java:16)\r\n\r\nFrom stack this got my attention:\r\n   `StatementPreparerImpl$StatementPreparationTemplate.setStatementTimeout(StatementPreparerImpl.java:208)`\r\n\r\n...so I wanted to try with a different use case\r\n\r\n\t@Transactional(timeout=10)\r\n\tpublic void mysqlWait() {\r\n\t\tSystem.out.println(&quot;timeout: &quot; + sessionFactory.getCurrentSession().getTransaction().getTimeout());\r\n\r\n\t\tfor (int i = 0; i &lt; 6; i++) {\r\n\t\t\tSQLQuery query = sessionFactory.getCurrentSession().createSQLQuery(&quot;select sleep(2)&quot;);\r\n\t\t\tSystem.out.println(&quot;executed (&quot; + i + &quot;): &quot; + query.uniqueResult());\r\n\t\t}\r\n\t}\r\n\r\nand it resulted in:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n\tException in thread &quot;main&quot; org.hibernate.exception.GenericJDBCException: could not extract ResultSet\r\n\t\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:54)\r\n\t\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\r\n\t\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\r\n\t\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:91)\r\n\t\tat org.hibernate.loader.Loader.getResultSet(Loader.java:2066)\r\n\t\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1863)\r\n\t\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1839)\r\n\t\tat org.hibernate.loader.Loader.doQuery(Loader.java:910)\r\n\t\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355)\r\n\t\tat org.hibernate.loader.Loader.doList(Loader.java:2554)\r\n\t\tat org.hibernate.loader.Loader.doList(Loader.java:2540)\r\n\t\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2370)\r\n\t\tat org.hibernate.loader.Loader.list(Loader.java:2365)\r\n\t\tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:353)\r\n\t\tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:1909)\r\n\t\tat org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:311)\r\n\t\tat org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:141)\r\n\t\tat org.hibernate.internal.AbstractQueryImpl.uniqueResult(AbstractQueryImpl.java:966)\r\n\t\tat test.Dao.mysqlWait(Dao.java:46)\r\n\t\tat test.Dao$$FastClassBySpringCGLIB$$bb93a016.invoke(&lt;generated&gt;)\r\n\t\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655)\r\n\t\tat test.Dao$$EnhancerBySpringCGLIB$$df6a7e0b.mysqlWait(&lt;generated&gt;)\r\n\t\tat test.Main.main(Main.java:16)\r\n\tCaused by: com.mysql.jdbc.exceptions.MySQLTimeoutException: Statement cancelled due to timeout or client request\r\n\t\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1881)\r\n\t\tat com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1962)\r\n\t\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:82)\r\n\t\t... 26 more\r\n\r\nand in log is also:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n\t22:05:49.322 [main] DEBUG o.h.e.jdbc.spi.SqlExceptionHelper - could not extract ResultSet [n/a]\r\n\tcom.mysql.jdbc.exceptions.MySQLTimeoutException: Statement cancelled due to timeout or client request\r\n\t\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1881) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n\t\tat com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1962) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n\t\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:82) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.loader.Loader.getResultSet(Loader.java:2066) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1863) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1839) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.loader.Loader.doQuery(Loader.java:910) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.loader.Loader.doList(Loader.java:2554) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.loader.Loader.doList(Loader.java:2540) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2370) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.loader.Loader.list(Loader.java:2365) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:353) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:1909) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:311) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:141) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.internal.AbstractQueryImpl.uniqueResult(AbstractQueryImpl.java:966) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat test.Dao.mysqlWait(Dao.java:46) [classes/:na]\r\n\t\tat test.Dao$$FastClassBySpringCGLIB$$bb93a016.invoke(&lt;generated&gt;) [classes/:na]\r\n\t\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720) [spring-aop-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281) [spring-tx-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655) [spring-aop-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n\t\tat test.Dao$$EnhancerBySpringCGLIB$$df6a7e0b.mysqlWait(&lt;generated&gt;) [classes/:na]\r\n\t\tat test.Main.main(Main.java:16) [classes/:na]\r\n\r\nimportant part of spring configuration is (do not expect something special):\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n\t&lt;bean id=&quot;dataSource&quot;\r\n\t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n\t\t&lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n\t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/so&quot; /&gt;\r\n\t\t&lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;hibernateSessionFactory&quot;\r\n\t    class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n\t    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t    &lt;property name=&quot;packagesToScan&quot; value=&quot;test&quot; /&gt;\r\n\t    &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n\t        &lt;props&gt;\r\n\t            &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n\t        &lt;/props&gt;\r\n\t    &lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;tx:annotation-driven transaction-manager=&quot;txManager&quot;/&gt;\r\n\r\n\t&lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n\t    &lt;property name=&quot;sessionFactory&quot; ref=&quot;hibernateSessionFactory&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n","title":"Spring Transactional TimeOut","body":"<p>Finally I found the solution...</p>\n\n<p>Short answer is, that the problem is in a way how you are testing the timeout - <code>Thread.sleep()</code> cannot be used...</p>\n\n<p>Long answer:</p>\n\n<p>What I had to use (because I tested with MySQL) was a real statement - <code>select sleep(5)</code>. This call ended with:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread \"main\" org.hibernate.TransactionException: transaction timeout expired\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.determineRemainingTransactionTimeOutPeriod(JdbcCoordinatorImpl.java:271)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.setStatementTimeout(StatementPreparerImpl.java:208)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:187)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:160)\n    at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1885)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1862)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1839)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:910)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355)\n    at org.hibernate.loader.Loader.doList(Loader.java:2554)\n    at org.hibernate.loader.Loader.doList(Loader.java:2540)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2370)\n    at org.hibernate.loader.Loader.list(Loader.java:2365)\n    at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:353)\n    at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:1909)\n    at org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:311)\n    at org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:141)\n    at org.hibernate.internal.AbstractQueryImpl.uniqueResult(AbstractQueryImpl.java:966)\n    at test.Dao.mysqlWait(Dao.java:41)\n    at test.Dao$$FastClassBySpringCGLIB$$bb93a016.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655)\n    at test.Dao$$EnhancerBySpringCGLIB$$da2836b3.mysqlWait(&lt;generated&gt;)\n    at test.Main.main(Main.java:16)\n</code></pre>\n\n<p>From stack this got my attention:\n   <code>StatementPreparerImpl$StatementPreparationTemplate.setStatementTimeout(StatementPreparerImpl.java:208)</code></p>\n\n<p>...so I wanted to try with a different use case</p>\n\n<pre><code>@Transactional(timeout=10)\npublic void mysqlWait() {\n    System.out.println(\"timeout: \" + sessionFactory.getCurrentSession().getTransaction().getTimeout());\n\n    for (int i = 0; i &lt; 6; i++) {\n        SQLQuery query = sessionFactory.getCurrentSession().createSQLQuery(\"select sleep(2)\");\n        System.out.println(\"executed (\" + i + \"): \" + query.uniqueResult());\n    }\n}\n</code></pre>\n\n<p>and it resulted in:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread \"main\" org.hibernate.exception.GenericJDBCException: could not extract ResultSet\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:54)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:91)\n    at org.hibernate.loader.Loader.getResultSet(Loader.java:2066)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1863)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1839)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:910)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355)\n    at org.hibernate.loader.Loader.doList(Loader.java:2554)\n    at org.hibernate.loader.Loader.doList(Loader.java:2540)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2370)\n    at org.hibernate.loader.Loader.list(Loader.java:2365)\n    at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:353)\n    at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:1909)\n    at org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:311)\n    at org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:141)\n    at org.hibernate.internal.AbstractQueryImpl.uniqueResult(AbstractQueryImpl.java:966)\n    at test.Dao.mysqlWait(Dao.java:46)\n    at test.Dao$$FastClassBySpringCGLIB$$bb93a016.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655)\n    at test.Dao$$EnhancerBySpringCGLIB$$df6a7e0b.mysqlWait(&lt;generated&gt;)\n    at test.Main.main(Main.java:16)\nCaused by: com.mysql.jdbc.exceptions.MySQLTimeoutException: Statement cancelled due to timeout or client request\n    at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1881)\n    at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1962)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:82)\n    ... 26 more\n</code></pre>\n\n<p>and in log is also:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>22:05:49.322 [main] DEBUG o.h.e.jdbc.spi.SqlExceptionHelper - could not extract ResultSet [n/a]\ncom.mysql.jdbc.exceptions.MySQLTimeoutException: Statement cancelled due to timeout or client request\n    at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1881) ~[mysql-connector-java-5.1.38.jar:5.1.38]\n    at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1962) ~[mysql-connector-java-5.1.38.jar:5.1.38]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:82) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.loader.Loader.getResultSet(Loader.java:2066) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1863) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1839) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.loader.Loader.doQuery(Loader.java:910) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2554) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2540) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2370) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.loader.Loader.list(Loader.java:2365) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:353) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:1909) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:311) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:141) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.internal.AbstractQueryImpl.uniqueResult(AbstractQueryImpl.java:966) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at test.Dao.mysqlWait(Dao.java:46) [classes/:na]\n    at test.Dao$$FastClassBySpringCGLIB$$bb93a016.invoke(&lt;generated&gt;) [classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720) [spring-aop-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281) [spring-tx-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655) [spring-aop-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at test.Dao$$EnhancerBySpringCGLIB$$df6a7e0b.mysqlWait(&lt;generated&gt;) [classes/:na]\n    at test.Main.main(Main.java:16) [classes/:na]\n</code></pre>\n\n<p>important part of spring configuration is (do not expect something special):</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=\"dataSource\"\n    class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" /&gt;\n    &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/so\" /&gt;\n    &lt;property name=\"username\" value=\"root\" /&gt;\n    &lt;property name=\"password\" value=\"\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"hibernateSessionFactory\"\n    class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;property name=\"packagesToScan\" value=\"test\" /&gt;\n    &lt;property name=\"hibernateProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;tx:annotation-driven transaction-manager=\"txManager\"/&gt;\n\n&lt;bean id=\"txManager\" class=\"org.springframework.orm.hibernate4.HibernateTransactionManager\"&gt;\n    &lt;property name=\"sessionFactory\" ref=\"hibernateSessionFactory\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7333894,"reputation":1329,"user_id":5585923,"accept_rate":100,"display_name":"Uğur Yeşilyurt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1452586985,"creation_date":1452586985,"answer_id":34738649,"question_id":34496105,"body_markdown":"I solved my problem using `oracle.jdbc.ReadTimeout=60000` on application context. `@Transactional` annotation do not work on jdbc read timeout exception.","title":"Spring Transactional TimeOut","body":"<p>I solved my problem using <code>oracle.jdbc.ReadTimeout=60000</code> on application context. <code>@Transactional</code> annotation do not work on jdbc read timeout exception.</p>\n"},{"tags":[],"owner":{"account_id":23699447,"reputation":11,"user_id":17722795,"display_name":"Sepehr Asadiyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697378891,"creation_date":1697378891,"answer_id":77297013,"question_id":34496105,"body_markdown":"The problem doesn&#39;t seem to be related to the **@Transactional(timeout=20)** or any time-related configuration. In the Spring framework, each transaction requires a database connection to start. If you set **spring.datasource.hikari.maximum-pool-size** to 20 (or its equivalent, **spring.datasource.hikari.maximumPoolSize=20**), and there are already 20 requests using connections, any new request will be stuck waiting for a connection to become available. No error will be raised until a connection is free to process the new request.\r\n\r\nIn this scenario, it&#39;s not a matter of multiple requests coming in and out quickly. The issue is that when all 20 connections are in use, any additional requests must wait until a connection is released, which can cause delays in the processing of those requests. This situation can be mitigated by either adjusting the connection pool size or optimizing the use of database connections in your application.\r\nyou can use AOP to calculate exact time of hole process. and we have another config **spring.datasource.hikari.connection-timeout=20000**. NOTE: the time you wait to connection be released does not count in transaction timeout.","title":"Spring Transactional TimeOut","body":"<p>The problem doesn't seem to be related to the <strong>@Transactional(timeout=20)</strong> or any time-related configuration. In the Spring framework, each transaction requires a database connection to start. If you set <strong>spring.datasource.hikari.maximum-pool-size</strong> to 20 (or its equivalent, <strong>spring.datasource.hikari.maximumPoolSize=20</strong>), and there are already 20 requests using connections, any new request will be stuck waiting for a connection to become available. No error will be raised until a connection is free to process the new request.</p>\n<p>In this scenario, it's not a matter of multiple requests coming in and out quickly. The issue is that when all 20 connections are in use, any additional requests must wait until a connection is released, which can cause delays in the processing of those requests. This situation can be mitigated by either adjusting the connection pool size or optimizing the use of database connections in your application.\nyou can use AOP to calculate exact time of hole process. and we have another config <strong>spring.datasource.hikari.connection-timeout=20000</strong>. NOTE: the time you wait to connection be released does not count in transaction timeout.</p>\n"}],"owner":{"account_id":7333894,"reputation":1329,"user_id":5585923,"accept_rate":100,"display_name":"Uğur Yeşilyurt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49151,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":34738649,"answer_count":3,"score":9,"last_activity_date":1697378891,"creation_date":1451315949,"question_id":34496105,"body_markdown":"I am trying to use spring `@Transactional` annotation and `timeout` parameter. I basically test the code with put some `Thread.sleep()` codes. Then i get timeout exception as i expected. Also i want to get timeout exception when database operations take longer than my timeout period. I lock a record in a table in my database with for update select statement. I try to update that record. But program wait and do nothing. Here my sample code.\r\n\r\n    @Transactional(rollbackFor = Exception.class, timeout=5)\r\n    public void executeService(List&lt;sendData&gt; list) throws Exception{\r\n        List&lt;sendData&gt; newList = gDAO.updateSentList(list);\r\n        \r\n    } \r\n\r\nIn this case the program should throw timeout exception. How can i fix it?","title":"Spring Transactional TimeOut","body":"<p>I am trying to use spring <code>@Transactional</code> annotation and <code>timeout</code> parameter. I basically test the code with put some <code>Thread.sleep()</code> codes. Then i get timeout exception as i expected. Also i want to get timeout exception when database operations take longer than my timeout period. I lock a record in a table in my database with for update select statement. I try to update that record. But program wait and do nothing. Here my sample code.</p>\n\n<pre><code>@Transactional(rollbackFor = Exception.class, timeout=5)\npublic void executeService(List&lt;sendData&gt; list) throws Exception{\n    List&lt;sendData&gt; newList = gDAO.updateSentList(list);\n\n} \n</code></pre>\n\n<p>In this case the program should throw timeout exception. How can i fix it?</p>\n"},{"tags":["java","spring","validation"],"answers":[{"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1594734320,"creation_date":1594733926,"answer_id":62896541,"question_id":62896233,"body_markdown":"Consider the example below where I implemented something like what you asking for:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/accounts&quot;)\r\n    public class SavingsAccountController {\r\n    \r\n       private final BankAccountService accountService;\r\n    \r\n       @Autowired\r\n       public SavingsAccountController(SavingsAccountService accountService) {\r\n           this.accountService = accountService;\r\n       }\r\n    \r\n       @PutMapping(&quot;withdraw&quot;)\r\n       public ResponseEntity&lt;AccountBalance&gt; onMoneyWithdrawal(@RequestBody @Validated WithdrawMoney withdrawal, BindingResult errors) {\r\n    \r\n           //this is the validation barrier\r\n           if (errors.hasErrors()) {\r\n               throw new ValidationException(errors);\r\n           }\r\n    \r\n           double balance = accountService.withdrawMoney(withdrawal);\r\n           return ResponseEntity.ok(new AccountBalance(\r\n                   withdrawal.getAccountNumber(), balance));\r\n       }\r\n    \r\n       @PutMapping(&quot;save&quot;)\r\n       public ResponseEntity&lt;AccountBalance&gt; onMoneySaving(@RequestBody @Validated SaveMoney savings, BindingResult errors) {\r\n    \r\n           //this is the validation barrier\r\n           if (errors.hasErrors()) {\r\n               throw new ValidationException(errors);\r\n           }\r\n    \r\n           double balance = accountService.saveMoney(savings);\r\n           return ResponseEntity.ok(new AccountBalance(\r\n                   savings.getAccountNumber(), balance));\r\n       }\r\n    }\r\n\r\nIn the code above, we&#39;re using Bean Validation to check that the user&#39;s DTO contains valid information. Any errors found in the DTO are provided through the `BindingResult` errors variable, from where the developer can extract all the details of what went wrong during the validation phase. \r\n\r\nTo make it easier for the developers to deal with this pattern, in the code above, I simply wrap the `BindingResult` into a custom `ValidationException` which knows how to extract the validation error details.\r\n\r\n    public class ValidationException extends RuntimeException {\r\n    \r\n       private final BindingResult errors;\r\n    \r\n       public ValidationException(BindingResult errors) {\r\n           this.errors = errors;\r\n       }\r\n    \r\n       public List&lt;String&gt; getMessages() {\r\n           return getValidationMessage(this.errors);\r\n       }\r\n    \r\n    \r\n       @Override\r\n       public String getMessage() {\r\n           return this.getMessages().toString();\r\n       }\r\n    \r\n    \r\n       //demonstrate how to extract a message from the binging result\r\n       private static List&lt;String&gt; getValidationMessage(BindingResult bindingResult) {\r\n           return bindingResult.getAllErrors()\r\n                   .stream()\r\n                   .map(ValidationException::getValidationMessage)\r\n                   .collect(Collectors.toList());\r\n       }\r\n    \r\n       private static String getValidationMessage(ObjectError error) {\r\n           if (error instanceof FieldError) {\r\n               FieldError fieldError = (FieldError) error;\r\n               String className = fieldError.getObjectName();\r\n               String property = fieldError.getField();\r\n               Object invalidValue = fieldError.getRejectedValue();\r\n               String message = fieldError.getDefaultMessage();\r\n               return String.format(&quot;%s.%s %s, but it was %s&quot;, className, property, message, invalidValue);\r\n           }\r\n           return String.format(&quot;%s: %s&quot;, error.getObjectName(), error.getDefaultMessage());\r\n       }\r\n    \r\n    }\r\n\r\nNotice that in my controller definition I do not use Bean Validation&#39;s [@Valid](https://docs.oracle.com/javaee/7/api/javax/validation/Valid.html) annotation, but the Spring counterpart [@Validated](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/validation/annotation/Validated.html), but under the hood Spring will use Bean Validation.\r\n\r\n**How to Serialize the Custom Exception?**\r\n\r\nIn the code above the `ValidationException` will be thrown when the payload is invalid. How should the controller create a response for the client out of this?\r\n\r\nThere are multiple ways to deal with this, but perhaps the simplest solution is to define a class annotated as `@ControllerAdvice`. In this annotated class we will place our exception handlers for any specific exception that we want to handle and turn them into a valid response object to travel back to our clients:\r\n\r\n    @ControllerAdvice\r\n    public class ExceptionHandlers {\r\n    \r\n       @ExceptionHandler\r\n       public ResponseEntity&lt;ErrorModel&gt; handle(ValidationException ex) {\r\n           return ResponseEntity.badRequest()\r\n                                .body(new ErrorModel(ex.getMessages()));\r\n       }\r\n    \r\n       //...\r\n    }\r\n\r\nI wrote a few other examples of this and other validation techniques with Spring in case you may be interested in [reading more about it](https://github.com/edalorzo/fundamental-programming).\r\n","title":"How to throw custom exception in proper way when using @javax.validation.Valid?","body":"<p>Consider the example below where I implemented something like what you asking for:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/accounts&quot;)\npublic class SavingsAccountController {\n\n   private final BankAccountService accountService;\n\n   @Autowired\n   public SavingsAccountController(SavingsAccountService accountService) {\n       this.accountService = accountService;\n   }\n\n   @PutMapping(&quot;withdraw&quot;)\n   public ResponseEntity&lt;AccountBalance&gt; onMoneyWithdrawal(@RequestBody @Validated WithdrawMoney withdrawal, BindingResult errors) {\n\n       //this is the validation barrier\n       if (errors.hasErrors()) {\n           throw new ValidationException(errors);\n       }\n\n       double balance = accountService.withdrawMoney(withdrawal);\n       return ResponseEntity.ok(new AccountBalance(\n               withdrawal.getAccountNumber(), balance));\n   }\n\n   @PutMapping(&quot;save&quot;)\n   public ResponseEntity&lt;AccountBalance&gt; onMoneySaving(@RequestBody @Validated SaveMoney savings, BindingResult errors) {\n\n       //this is the validation barrier\n       if (errors.hasErrors()) {\n           throw new ValidationException(errors);\n       }\n\n       double balance = accountService.saveMoney(savings);\n       return ResponseEntity.ok(new AccountBalance(\n               savings.getAccountNumber(), balance));\n   }\n}\n</code></pre>\n<p>In the code above, we're using Bean Validation to check that the user's DTO contains valid information. Any errors found in the DTO are provided through the <code>BindingResult</code> errors variable, from where the developer can extract all the details of what went wrong during the validation phase.</p>\n<p>To make it easier for the developers to deal with this pattern, in the code above, I simply wrap the <code>BindingResult</code> into a custom <code>ValidationException</code> which knows how to extract the validation error details.</p>\n<pre><code>public class ValidationException extends RuntimeException {\n\n   private final BindingResult errors;\n\n   public ValidationException(BindingResult errors) {\n       this.errors = errors;\n   }\n\n   public List&lt;String&gt; getMessages() {\n       return getValidationMessage(this.errors);\n   }\n\n\n   @Override\n   public String getMessage() {\n       return this.getMessages().toString();\n   }\n\n\n   //demonstrate how to extract a message from the binging result\n   private static List&lt;String&gt; getValidationMessage(BindingResult bindingResult) {\n       return bindingResult.getAllErrors()\n               .stream()\n               .map(ValidationException::getValidationMessage)\n               .collect(Collectors.toList());\n   }\n\n   private static String getValidationMessage(ObjectError error) {\n       if (error instanceof FieldError) {\n           FieldError fieldError = (FieldError) error;\n           String className = fieldError.getObjectName();\n           String property = fieldError.getField();\n           Object invalidValue = fieldError.getRejectedValue();\n           String message = fieldError.getDefaultMessage();\n           return String.format(&quot;%s.%s %s, but it was %s&quot;, className, property, message, invalidValue);\n       }\n       return String.format(&quot;%s: %s&quot;, error.getObjectName(), error.getDefaultMessage());\n   }\n\n}\n</code></pre>\n<p>Notice that in my controller definition I do not use Bean Validation's <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/Valid.html\" rel=\"noreferrer\">@Valid</a> annotation, but the Spring counterpart <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/validation/annotation/Validated.html\" rel=\"noreferrer\">@Validated</a>, but under the hood Spring will use Bean Validation.</p>\n<p><strong>How to Serialize the Custom Exception?</strong></p>\n<p>In the code above the <code>ValidationException</code> will be thrown when the payload is invalid. How should the controller create a response for the client out of this?</p>\n<p>There are multiple ways to deal with this, but perhaps the simplest solution is to define a class annotated as <code>@ControllerAdvice</code>. In this annotated class we will place our exception handlers for any specific exception that we want to handle and turn them into a valid response object to travel back to our clients:</p>\n<pre><code>@ControllerAdvice\npublic class ExceptionHandlers {\n\n   @ExceptionHandler\n   public ResponseEntity&lt;ErrorModel&gt; handle(ValidationException ex) {\n       return ResponseEntity.badRequest()\n                            .body(new ErrorModel(ex.getMessages()));\n   }\n\n   //...\n}\n</code></pre>\n<p>I wrote a few other examples of this and other validation techniques with Spring in case you may be interested in <a href=\"https://github.com/edalorzo/fundamental-programming\" rel=\"noreferrer\">reading more about it</a>.</p>\n"},{"tags":[],"owner":{"account_id":19210994,"reputation":140,"user_id":14036798,"display_name":"CHH"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647782916,"creation_date":1647782916,"answer_id":71547171,"question_id":62896233,"body_markdown":"Here is a solution I used (that might not answer this question directly but possibly help others who get to this page that came with similar intentions as I had):\r\n\r\n**My aim was foremost to respond with a custom error message to the client who sent a request with an invalid object.**\r\n\r\n1. In my controller I use a standard `@Valid` annotation from *javax.validation.Valid* before the parameter\r\n2. In my entity class I use the standard validation constraint, e.g. `@NotNull(message = &quot;Field XYZ has to be provided&quot;)` from *javax.validation.constraints.NotNull*\r\n3. I catch the ValidationException in my ControllerAdvice class:\r\n\r\n```\r\n@ControllerAdvice \r\npublic class MyControllerAdvice extends ResponseEntityExceptionHandler {\r\n\r\n    @Override\r\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(\r\n            MethodArgumentNotValidException exception, \r\n            HttpHeaders headers, \r\n            HttpStatus status, \r\n            WebRequest request) {\r\n        return new ResponseEntity&lt;&gt;(\r\n                new JSONObject().put(&quot;message&quot;, extractValidationMessage(exception)).toString(),\r\n                HttpStatus.BAD_REQUEST);\r\n    }\r\n\r\n    private String extractValidationMessage(MethodArgumentNotValidException exception) {\r\n        String exceptionMessage = exception.getMessage();\r\n        String[] messageParts = exceptionMessage.split(&quot;;&quot;);\r\n        String finalPart = messageParts[messageParts.length -1];\r\n\r\n        return finalPart.trim().replaceAll(&quot;default message \\\\[|]]&quot;,&quot;&quot;);\r\n    } \r\n}\r\n```\r\n\r\n4. This will return a 400 Error code and a body of this style:\r\n&gt; {&quot;message&quot;:&quot;Field XYZ has to be provided&quot;}","title":"How to throw custom exception in proper way when using @javax.validation.Valid?","body":"<p>Here is a solution I used (that might not answer this question directly but possibly help others who get to this page that came with similar intentions as I had):</p>\n<p><strong>My aim was foremost to respond with a custom error message to the client who sent a request with an invalid object.</strong></p>\n<ol>\n<li>In my controller I use a standard <code>@Valid</code> annotation from <em>javax.validation.Valid</em> before the parameter</li>\n<li>In my entity class I use the standard validation constraint, e.g. <code>@NotNull(message = &quot;Field XYZ has to be provided&quot;)</code> from <em>javax.validation.constraints.NotNull</em></li>\n<li>I catch the ValidationException in my ControllerAdvice class:</li>\n</ol>\n<pre><code>@ControllerAdvice \npublic class MyControllerAdvice extends ResponseEntityExceptionHandler {\n\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(\n            MethodArgumentNotValidException exception, \n            HttpHeaders headers, \n            HttpStatus status, \n            WebRequest request) {\n        return new ResponseEntity&lt;&gt;(\n                new JSONObject().put(&quot;message&quot;, extractValidationMessage(exception)).toString(),\n                HttpStatus.BAD_REQUEST);\n    }\n\n    private String extractValidationMessage(MethodArgumentNotValidException exception) {\n        String exceptionMessage = exception.getMessage();\n        String[] messageParts = exceptionMessage.split(&quot;;&quot;);\n        String finalPart = messageParts[messageParts.length -1];\n\n        return finalPart.trim().replaceAll(&quot;default message \\\\[|]]&quot;,&quot;&quot;);\n    } \n}\n</code></pre>\n<ol start=\"4\">\n<li>This will return a 400 Error code and a body of this style:</li>\n</ol>\n<blockquote>\n<p>{&quot;message&quot;:&quot;Field XYZ has to be provided&quot;}</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15782199,"reputation":69,"user_id":11388213,"display_name":"Universe Whole-Xuan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697377585,"creation_date":1697377585,"answer_id":77296935,"question_id":62896233,"body_markdown":"step 1.add the custom exception method in your annotation:\r\n\r\n    @Documented\r\n    @Constraint(validatedBy = {})\r\n    @Target({ FIELD, TYPE_USE,RECORD_COMPONENT })\r\n    @Retention(RUNTIME)\r\n    public @interface ValidIdNumber {\r\n    \tString message() default &quot;The &#39;${validatedValue}&#39; not a valid identification number!&quot;;\r\n    \r\n    \tClass&lt;?&gt;[] groups() default {};\r\n    \r\n    \tClass&lt;? extends Payload&gt;[] payload() default {};\r\n    \t\r\n    \tClass&lt;? extends Throwable&gt; exception() default InvalidIdNumberException.class;\r\n    }\r\n    \r\nstep 2.add AbstractValidator\r\n\r\n    import java.lang.annotation.Annotation;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.lang.reflect.ParameterizedType;\r\n    import java.lang.reflect.Type;\r\n    import java.lang.reflect.WildcardType;\r\n    import java.util.Arrays;\r\n    import java.util.NoSuchElementException;\r\n    import java.util.Set;\r\n    import java.util.function.Consumer;\r\n    \r\n    import javax.validation.Validation;\r\n    import javax.validation.ConstraintViolation;\r\n    import javax.validation.Validator;\r\n    import javax.validation.metadata.ConstraintDescriptor; \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory; \r\n    \r\n    public abstract class AbstractValidator&lt;T&gt; implements Consumer&lt;ConstraintViolation&lt;T&gt;&gt; {\r\n    \tpublic AbstractValidator(){\r\n    \t\t\r\n    \t}\r\n    \tprivate static final Logger LOGGER= LoggerFactory.getLogger(AbstractValidator.class);\r\n    \tprivate static class ExceptionFactory {\r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tprivate static &lt;A extends Annotation, E extends Throwable&gt; Class&lt;E&gt; getExceptionTypeFromAnnotation(\r\n    \t\t\t\tConstraintDescriptor&lt;A&gt; constraintDescriptor) throws E {\r\n    \t\t\tAnnotation annotation = constraintDescriptor.getAnnotation();\r\n    \t\t\tClass&lt;A&gt; type = (Class&lt;A&gt;) annotation.annotationType();\r\n    \t\t\tClass&lt;E&gt; e = Arrays.stream(type.getDeclaredMethods()).filter(method -&gt; {\r\n    \t\t\t\tType genericReturnType = method.getGenericReturnType();\r\n    \t\t\t\tif (genericReturnType instanceof ParameterizedType parameterizedType) {\r\n    \t\t\t\t\tif (parameterizedType.getRawType().equals(Class.class)) {\r\n    \t\t\t\t\t\tType actualTypeArgument = parameterizedType.getActualTypeArguments()[0];\r\n    \t\t\t\t\t\tif (actualTypeArgument instanceof WildcardType wildcardType) {\r\n    \t\t\t\t\t\t\tvar upperBounds = wildcardType.getUpperBounds();\r\n    \t\t\t\t\t\t\tif (upperBounds.length &gt; 0) {\r\n    \t\t\t\t\t\t\t\tClass&lt;?&gt; clazz = (Class&lt;?&gt;) upperBounds[0];\r\n    \t\t\t\t\t\t\t\treturn Throwable.class.isAssignableFrom(clazz);\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\treturn false;\r\n    \t\t\t}).map(method -&gt; {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\treturn (Class&lt;E&gt;) method.invoke(annotation);\r\n    \t\t\t\t} catch (IllegalAccessException | IllegalArgumentException | InvocationTargetException e1) {\r\n    \t\t\t\t\tLOGGER.error(e1.getMessage(), e1); \r\n    \t\t\t\t\treturn null;\r\n    \t\t\t\t}\r\n    \t\t\t}).findFirst().orElseThrow();\r\n    \t\t\treturn e;\r\n    \t\t}\r\n    \r\n    \t\tpublic static &lt;A extends Annotation, E extends Throwable&gt; E create(ConstraintDescriptor&lt;A&gt; constraintDescriptor,\r\n    \t\t\t\tString message) throws NoSuchElementException, E {\r\n    \t\t\tClass&lt;E&gt; e = getExceptionTypeFromAnnotation(constraintDescriptor);\r\n    \t\t\ttry {\r\n    \t\t\t\treturn e.getConstructor(String.class).newInstance(message);\r\n    \t\t\t} catch (InstantiationException | IllegalAccessException | IllegalArgumentException\r\n    \t\t\t\t\t| InvocationTargetException | NoSuchMethodException | SecurityException e1) {\r\n    \t\t\t\tLOGGER.error(e1.getMessage(), e1);\r\n    \t\t\t\te1.printStackTrace();\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n     \r\n    \t@Override\r\n    \tpublic void accept(ConstraintViolation&lt;T&gt; constraintViolation) throws IllegalArgumentException {\r\n    \t\tswitch (constraintViolation.getPropertyPath().toString()) {\r\n    \t\tdefault -&gt; throw new IllegalArgumentException(\r\n    \t\t\t\tconstraintViolation.getPropertyPath().toString() + &quot; &quot; + constraintViolation.getMessage());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic &lt;E extends Throwable&gt; void validate(T obj, Class&lt;?&gt;... groups) throws E {\r\n    \t\tSet&lt;ConstraintViolation&lt;T&gt;&gt; set = Validation.buildDefaultValidatorFactory().getValidator().validate(obj, groups);\r\n    \t\tif (!set.isEmpty()) {\r\n    \t\t\tConstraintViolation&lt;T&gt; constraintViolation = set.iterator().next();\r\n    \t\t\tString message = constraintViolation.getMessage();\r\n    \t\t\ttry {\r\n    \t\t\t\tthrow ExceptionFactory.create(constraintViolation.getConstraintDescriptor(), message);\r\n    \t\t\t} catch (NoSuchElementException e) {  \r\n    \t\t\t\taccept(constraintViolation);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\nstep 3.add a impl of AbstractValidator:\r\n\r\n    public class ValidatorImpl extends AbstractValidator&lt;Object&gt;{\r\n    }\r\nstep 4.test: \r\n   \r\n\r\n     record DTO(@ValidIdNumber String idNumber){} \r\n        public static void main(String[] args) throws InvalidIdNumberException{\r\n            DTO dto=new DTO(&quot;1234&quot;);\r\n            new ValidatorImpl().validate();\r\n        }\r\n    \r\n[source in github][1]\r\n\r\n\r\n  [1]: https://github.com/dekingorg/throwable-validator","title":"How to throw custom exception in proper way when using @javax.validation.Valid?","body":"<p>step 1.add the custom exception method in your annotation:</p>\n<pre><code>@Documented\n@Constraint(validatedBy = {})\n@Target({ FIELD, TYPE_USE,RECORD_COMPONENT })\n@Retention(RUNTIME)\npublic @interface ValidIdNumber {\n    String message() default &quot;The '${validatedValue}' not a valid identification number!&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n    \n    Class&lt;? extends Throwable&gt; exception() default InvalidIdNumberException.class;\n}\n</code></pre>\n<p>step 2.add AbstractValidator</p>\n<pre><code>import java.lang.annotation.Annotation;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.ParameterizedType;\nimport java.lang.reflect.Type;\nimport java.lang.reflect.WildcardType;\nimport java.util.Arrays;\nimport java.util.NoSuchElementException;\nimport java.util.Set;\nimport java.util.function.Consumer;\n\nimport javax.validation.Validation;\nimport javax.validation.ConstraintViolation;\nimport javax.validation.Validator;\nimport javax.validation.metadata.ConstraintDescriptor; \nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory; \n\npublic abstract class AbstractValidator&lt;T&gt; implements Consumer&lt;ConstraintViolation&lt;T&gt;&gt; {\n    public AbstractValidator(){\n        \n    }\n    private static final Logger LOGGER= LoggerFactory.getLogger(AbstractValidator.class);\n    private static class ExceptionFactory {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        private static &lt;A extends Annotation, E extends Throwable&gt; Class&lt;E&gt; getExceptionTypeFromAnnotation(\n                ConstraintDescriptor&lt;A&gt; constraintDescriptor) throws E {\n            Annotation annotation = constraintDescriptor.getAnnotation();\n            Class&lt;A&gt; type = (Class&lt;A&gt;) annotation.annotationType();\n            Class&lt;E&gt; e = Arrays.stream(type.getDeclaredMethods()).filter(method -&gt; {\n                Type genericReturnType = method.getGenericReturnType();\n                if (genericReturnType instanceof ParameterizedType parameterizedType) {\n                    if (parameterizedType.getRawType().equals(Class.class)) {\n                        Type actualTypeArgument = parameterizedType.getActualTypeArguments()[0];\n                        if (actualTypeArgument instanceof WildcardType wildcardType) {\n                            var upperBounds = wildcardType.getUpperBounds();\n                            if (upperBounds.length &gt; 0) {\n                                Class&lt;?&gt; clazz = (Class&lt;?&gt;) upperBounds[0];\n                                return Throwable.class.isAssignableFrom(clazz);\n                            }\n                        }\n                    }\n                }\n                return false;\n            }).map(method -&gt; {\n                try {\n                    return (Class&lt;E&gt;) method.invoke(annotation);\n                } catch (IllegalAccessException | IllegalArgumentException | InvocationTargetException e1) {\n                    LOGGER.error(e1.getMessage(), e1); \n                    return null;\n                }\n            }).findFirst().orElseThrow();\n            return e;\n        }\n\n        public static &lt;A extends Annotation, E extends Throwable&gt; E create(ConstraintDescriptor&lt;A&gt; constraintDescriptor,\n                String message) throws NoSuchElementException, E {\n            Class&lt;E&gt; e = getExceptionTypeFromAnnotation(constraintDescriptor);\n            try {\n                return e.getConstructor(String.class).newInstance(message);\n            } catch (InstantiationException | IllegalAccessException | IllegalArgumentException\n                    | InvocationTargetException | NoSuchMethodException | SecurityException e1) {\n                LOGGER.error(e1.getMessage(), e1);\n                e1.printStackTrace();\n                return null;\n            }\n        }\n    }\n \n    @Override\n    public void accept(ConstraintViolation&lt;T&gt; constraintViolation) throws IllegalArgumentException {\n        switch (constraintViolation.getPropertyPath().toString()) {\n        default -&gt; throw new IllegalArgumentException(\n                constraintViolation.getPropertyPath().toString() + &quot; &quot; + constraintViolation.getMessage());\n        }\n    }\n\n    public &lt;E extends Throwable&gt; void validate(T obj, Class&lt;?&gt;... groups) throws E {\n        Set&lt;ConstraintViolation&lt;T&gt;&gt; set = Validation.buildDefaultValidatorFactory().getValidator().validate(obj, groups);\n        if (!set.isEmpty()) {\n            ConstraintViolation&lt;T&gt; constraintViolation = set.iterator().next();\n            String message = constraintViolation.getMessage();\n            try {\n                throw ExceptionFactory.create(constraintViolation.getConstraintDescriptor(), message);\n            } catch (NoSuchElementException e) {  \n                accept(constraintViolation);\n            }\n        }\n    }\n}\n</code></pre>\n<p>step 3.add a impl of AbstractValidator:</p>\n<pre><code>public class ValidatorImpl extends AbstractValidator&lt;Object&gt;{\n}\n</code></pre>\n<p>step 4.test:</p>\n<pre><code> record DTO(@ValidIdNumber String idNumber){} \n    public static void main(String[] args) throws InvalidIdNumberException{\n        DTO dto=new DTO(&quot;1234&quot;);\n        new ValidatorImpl().validate();\n    }\n</code></pre>\n<p><a href=\"https://github.com/dekingorg/throwable-validator\" rel=\"nofollow noreferrer\">source in github</a></p>\n"}],"owner":{"account_id":13398894,"reputation":129,"user_id":9669026,"display_name":"Garam Choi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28223,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":62896541,"answer_count":3,"score":10,"last_activity_date":1697377585,"creation_date":1594732946,"question_id":62896233,"body_markdown":"How to throw a custom exception in the proper way when using `@javax.validation.Valid`?\r\n\r\n\r\nI&#39;m using `@Valid` in controller, and `@AssertTrue` to validate request body fields.\r\n\r\n```\r\npublic ResponseEntity&lt;Foo&gt; createFoo(\r\n\t@Valid @RequestBody Foo FooRequest ...\r\n```\r\n\r\n```\r\n\t@AssertTrue()\r\n\tpublic boolean isFooValid() {\r\n        if (invalid)\r\n            return false;\r\n        ...\r\n    }\r\n\r\n```\r\n\r\nHowever, I want to throw customized Exception class in some condition.\r\n```\r\n\t@AssertTrue()\r\n\tpublic boolean isFooValid() {\r\n        if (invalid)\r\n            return false;\r\n        ...\r\n\r\n        // note below\r\n        if (invalidInAnotherCondition)\r\n            throw new CustomizedException(...);\r\n    }\r\n\r\n```\r\n\r\nI know this is not desirable way to utilize `@Valid` in controller, and `@AssertTrue`. Nevertheless, as I can make my own Exception class which contains customized error info, with the convenience of `@Valid`.\r\n\r\nHowever the error happens.\r\n```\r\njavax.validation.ValidationException: HV000090: Unable to access isFooValid\r\n\tat org.hibernate.validator.internal.util.ReflectionHelper.getValue(ReflectionHelper.java:245)\r\n\tat org.hibernate.validator.internal.metadata.location.GetterConstraintLocation.getValue(GetterConstraintLocation.java:89)\r\n\tat org.hibernate.validator.internal.engine.ValueContext.getValue(ValueContext.java:235)\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:549)\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:515)\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:485)\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:447)\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:397)\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:173)\r\n\tat org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:117)\r\n\tat org.springframework.boot.autoconfigure.validation.ValidatorAdapter.validate(ValidatorAdapter.java:70)\r\n\tat org.springframework.validation.DataBinder.validate(DataBinder.java:889)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.validateIfApplicable(AbstractMessageConverterMethodArgumentResolver.java:266)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:137)\r\n\tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:167)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:523)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n\tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n\tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n\tat io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n\tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n\tat io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n\tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\r\n\tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n\tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n\tat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n\tat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n\tat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n\tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n\tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n\tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)\r\n\tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.reflect.InvocationTargetException: null\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.hibernate.validator.internal.util.ReflectionHelper.getValue(ReflectionHelper.java:242)\r\n\t... 70 common frames omitted\r\nCaused by: com.finda.services.finda.common.exception.CustomizedException: &#39;df282e0d-1205-4574-adaa-0af819af66c0&#39; \r\n\tat ...\r\n\t... 75 common frames omitted\r\n```\r\n\r\nI think this happens because originally, `@AssertTrue` throws its own Exception itself and it is to be processed through the internal logic; However, customized thrown Exception is not acceptable which can be seen in `Caused by: java.lang.reflect.InvocationTargetException: null` and `javax.validation.ValidationException: HV000090: Unable to access isFooValid`\r\n\r\nSo my final question is below,\r\n\r\n**Can I bypass this error, still throwing customized Exception?**\r\n\r\nI really appreciate that you read this long posting in advance.","title":"How to throw custom exception in proper way when using @javax.validation.Valid?","body":"<p>How to throw a custom exception in the proper way when using <code>@javax.validation.Valid</code>?</p>\n<p>I'm using <code>@Valid</code> in controller, and <code>@AssertTrue</code> to validate request body fields.</p>\n<pre><code>public ResponseEntity&lt;Foo&gt; createFoo(\n    @Valid @RequestBody Foo FooRequest ...\n</code></pre>\n<pre><code>    @AssertTrue()\n    public boolean isFooValid() {\n        if (invalid)\n            return false;\n        ...\n    }\n\n</code></pre>\n<p>However, I want to throw customized Exception class in some condition.</p>\n<pre><code>    @AssertTrue()\n    public boolean isFooValid() {\n        if (invalid)\n            return false;\n        ...\n\n        // note below\n        if (invalidInAnotherCondition)\n            throw new CustomizedException(...);\n    }\n\n</code></pre>\n<p>I know this is not desirable way to utilize <code>@Valid</code> in controller, and <code>@AssertTrue</code>. Nevertheless, as I can make my own Exception class which contains customized error info, with the convenience of <code>@Valid</code>.</p>\n<p>However the error happens.</p>\n<pre><code>javax.validation.ValidationException: HV000090: Unable to access isFooValid\n    at org.hibernate.validator.internal.util.ReflectionHelper.getValue(ReflectionHelper.java:245)\n    at org.hibernate.validator.internal.metadata.location.GetterConstraintLocation.getValue(GetterConstraintLocation.java:89)\n    at org.hibernate.validator.internal.engine.ValueContext.getValue(ValueContext.java:235)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:549)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:515)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:485)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:447)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:397)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:173)\n    at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:117)\n    at org.springframework.boot.autoconfigure.validation.ValidatorAdapter.validate(ValidatorAdapter.java:70)\n    at org.springframework.validation.DataBinder.validate(DataBinder.java:889)\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.validateIfApplicable(AbstractMessageConverterMethodArgumentResolver.java:266)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:137)\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:167)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:523)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\n    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n    at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n    at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\n    at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n    at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n    at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n    at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n    at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.reflect.InvocationTargetException: null\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.hibernate.validator.internal.util.ReflectionHelper.getValue(ReflectionHelper.java:242)\n    ... 70 common frames omitted\nCaused by: com.finda.services.finda.common.exception.CustomizedException: 'df282e0d-1205-4574-adaa-0af819af66c0' \n    at ...\n    ... 75 common frames omitted\n</code></pre>\n<p>I think this happens because originally, <code>@AssertTrue</code> throws its own Exception itself and it is to be processed through the internal logic; However, customized thrown Exception is not acceptable which can be seen in <code>Caused by: java.lang.reflect.InvocationTargetException: null</code> and <code>javax.validation.ValidationException: HV000090: Unable to access isFooValid</code></p>\n<p>So my final question is below,</p>\n<p><strong>Can I bypass this error, still throwing customized Exception?</strong></p>\n<p>I really appreciate that you read this long posting in advance.</p>\n"},{"tags":["java","android","admob"],"answers":[{"tags":[],"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697376418,"creation_date":1697376418,"answer_id":77296876,"question_id":77289802,"body_markdown":"The error you mentioned is quite clear:\r\n\r\n&gt; Interstitial.java:60: error: class MainActivity is public, should be\r\n&gt; declared in a file named MainActivity.java\r\n\r\n**Meaning, that you have declared a class called MainActivity, but the file name of where you placed this class is not called MainActivity.**\r\n\r\nTherefore, either rename the file where you placed the class MainActivity to be called MainActivity.java or create a new filed with that name and move the class there.\r\n\r\nSince I do not know the file names, I can only assume that you placed the MainActivity class in a file named Interstitial.java, which is the problem.","title":"Error trying to use Android admob code for ads with gms 20.2.0","body":"<p>The error you mentioned is quite clear:</p>\n<blockquote>\n<p>Interstitial.java:60: error: class MainActivity is public, should be\ndeclared in a file named MainActivity.java</p>\n</blockquote>\n<p><strong>Meaning, that you have declared a class called MainActivity, but the file name of where you placed this class is not called MainActivity.</strong></p>\n<p>Therefore, either rename the file where you placed the class MainActivity to be called MainActivity.java or create a new filed with that name and move the class there.</p>\n<p>Since I do not know the file names, I can only assume that you placed the MainActivity class in a file named Interstitial.java, which is the problem.</p>\n"}],"owner":{"account_id":2931672,"reputation":1,"user_id":2511756,"display_name":"user2511756"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697376418,"creation_date":1697219787,"question_id":77289802,"body_markdown":"I have a file called\r\n\r\nInterstitial.java that was already present but i amended to fix the new google ads format and on compile i get error...\r\n\r\n```\r\n`Interstitial.java:60: error: class MainActivity is public, should be declared in a file named MainActivity.java`\r\n```\r\n\r\n**do i simply move the code to that file or do i need to change the code as well?**\r\n\r\nthnks!\r\n\r\nNote:I also added a main_activity.xml file - with following content\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.SDLActivity&quot;&gt;\r\n&lt;/LinearLayout&gt;`\r\n```\r\n\r\n```\r\npackage org.libsdl.app;\r\n\r\n\r\n\r\n\r\n//* ADMOB\r\nimport com.google.android.gms.ads.AdListener;\r\nimport com.google.android.gms.ads.AdRequest;\r\n//import com.google.android.gms.ads.InterstitialAd;\r\nimport com.google.android.gms.ads.interstitial.InterstitialAd;\r\nimport com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback;\r\nimport com.google.android.gms.ads.MobileAds;\r\nimport com.google.android.gms.ads.initialization.InitializationStatus;\r\nimport com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\r\n// */\r\n\r\nimport android.app.Activity;\r\n\r\n//* ADMOB\r\nimport android.content.Context;\r\nimport android.util.Log;\r\nimport java.io.IOException;\r\n// */\r\n\r\n\r\npublic class MainActivity extends Activity {\r\n    private static final String TAG = &quot;MyActivity&quot;;\r\n    private InterstitialAd mInterstitialAd;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n            @Override\r\n            public void onInitializationComplete(InitializationStatus initializationStatus) {}\r\n        });\r\n        AdRequest adRequest = new AdRequest.Builder().build();\r\n\r\n        InterstitialAd.load(this,&quot;ca-app-pub-3940256099942544/1033173712&quot;, adRequest,\r\n                new InterstitialAdLoadCallback() {\r\n                    @Override\r\n                    public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\r\n                        // The mInterstitialAd reference will be null until\r\n                        // an ad is loaded.\r\n                        mInterstitialAd = interstitialAd;\r\n                        Log.i(TAG, &quot;onAdLoaded&quot;);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\r\n                        // Handle the error\r\n                        Log.d(TAG, loadAdError.toString());\r\n                        mInterstitialAd = null;\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n// */\r\n    }\r\n}`\r\n```\r\n\r\nno errors are showing the screen in android studio...just when i try to compile","title":"Error trying to use Android admob code for ads with gms 20.2.0","body":"<p>I have a file called</p>\n<p>Interstitial.java that was already present but i amended to fix the new google ads format and on compile i get error...</p>\n<pre><code>`Interstitial.java:60: error: class MainActivity is public, should be declared in a file named MainActivity.java`\n</code></pre>\n<p><strong>do i simply move the code to that file or do i need to change the code as well?</strong></p>\n<p>thnks!</p>\n<p>Note:I also added a main_activity.xml file - with following content</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.SDLActivity&quot;&gt;\n&lt;/LinearLayout&gt;`\n</code></pre>\n<pre><code>package org.libsdl.app;\n\n\n\n\n//* ADMOB\nimport com.google.android.gms.ads.AdListener;\nimport com.google.android.gms.ads.AdRequest;\n//import com.google.android.gms.ads.InterstitialAd;\nimport com.google.android.gms.ads.interstitial.InterstitialAd;\nimport com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback;\nimport com.google.android.gms.ads.MobileAds;\nimport com.google.android.gms.ads.initialization.InitializationStatus;\nimport com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\n// */\n\nimport android.app.Activity;\n\n//* ADMOB\nimport android.content.Context;\nimport android.util.Log;\nimport java.io.IOException;\n// */\n\n\npublic class MainActivity extends Activity {\n    private static final String TAG = &quot;MyActivity&quot;;\n    private InterstitialAd mInterstitialAd;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\n            @Override\n            public void onInitializationComplete(InitializationStatus initializationStatus) {}\n        });\n        AdRequest adRequest = new AdRequest.Builder().build();\n\n        InterstitialAd.load(this,&quot;ca-app-pub-3940256099942544/1033173712&quot;, adRequest,\n                new InterstitialAdLoadCallback() {\n                    @Override\n                    public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\n                        // The mInterstitialAd reference will be null until\n                        // an ad is loaded.\n                        mInterstitialAd = interstitialAd;\n                        Log.i(TAG, &quot;onAdLoaded&quot;);\n                    }\n\n                    @Override\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\n                        // Handle the error\n                        Log.d(TAG, loadAdError.toString());\n                        mInterstitialAd = null;\n                    }\n                });\n    }\n\n\n// */\n    }\n}`\n</code></pre>\n<p>no errors are showing the screen in android studio...just when i try to compile</p>\n"},{"tags":["java","arrays","for-loop","foreach"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1697379072,"post_id":77296788,"comment_id":136269860,"body_markdown":"Does this answer your question? [In detail, how does the &#39;for each&#39; loop work in Java?](https://stackoverflow.com/questions/85190/in-detail-how-does-the-for-each-loop-work-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/85190/in-detail-how-does-the-for-each-loop-work-in-java\">In detail, how does the &#39;for each&#39; loop work in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697375406,"creation_date":1697375406,"answer_id":77296806,"question_id":77296788,"body_markdown":"The `for-each` loop iterates the **values** in the array, not the indices.\r\n\r\n    for(int index : intArr) {\r\n        System.out.println(intArr[index]);\r\n    }\r\n\r\nshould be\r\n\r\n    for(int value : intArr) {\r\n        System.out.println(value);\r\n    }\r\n\r\n","title":"Why does giving my array values with increments of 2 also affect indices in a later for each loop?","body":"<p>The <code>for-each</code> loop iterates the <strong>values</strong> in the array, not the indices.</p>\n<pre><code>for(int index : intArr) {\n    System.out.println(intArr[index]);\n}\n</code></pre>\n<p>should be</p>\n<pre><code>for(int value : intArr) {\n    System.out.println(value);\n}\n</code></pre>\n"}],"owner":{"account_id":17510828,"reputation":1,"user_id":12698962,"display_name":"tsarac"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1697389587,"answer_count":1,"score":-3,"last_activity_date":1697375406,"creation_date":1697375167,"question_id":77296788,"body_markdown":"When i want to add values to my array with a for loop, whatever multiplier the values hold, will also multiply the indices later in the for each loop to print them.\r\n```\r\npublic class Test {\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] intArr = new int[10];\r\n\t\t\r\n\t\tfor(int index = 0; index &lt; intArr.length; index++) {\r\n\t\t\tintArr[index] = index;\r\n\t\t}\r\n\t\tfor(int index : intArr) {\r\n\t\t\tSystem.out.println(intArr[index]);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nout:\r\n\r\n0\r\n1\r\n2\r\n.\r\n.\r\n9\r\n```\r\nHere it&#39;s working as intended since 1 * 1 = 1. But if i want to add values to my array with increments of 2 for example it will print out the indices with increments of two also.\r\n\r\n```\r\npublic class Test {\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] intArr = new int[10];\r\n\t\t\r\n\t\tfor(int index = 0; index &lt; intArr.length; index++) {\r\n\t\t\tintArr[index] = index * 2;\r\n\t\t}\r\n\t\tfor(int index : intArr) {\r\n\t\t\tSystem.out.println(intArr[index]);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nout:\r\n0 (0 * 2 = 0)\r\n4 (2 * 2)\r\n8 (4)\r\n12(6)\r\n16(8)\r\n```\r\nAnd then i get an index out of bounds exception since there isn&#39;t a 10th index. Same will happen with 3 (0,9,27) and higher also. If i write it with a regular for loop instead of a for each, all works well. Why?\r\n\r\n\r\nI would expect the index numbers to be independent from the values they hold.","title":"Why does giving my array values with increments of 2 also affect indices in a later for each loop?","body":"<p>When i want to add values to my array with a for loop, whatever multiplier the values hold, will also multiply the indices later in the for each loop to print them.</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        int[] intArr = new int[10];\n        \n        for(int index = 0; index &lt; intArr.length; index++) {\n            intArr[index] = index;\n        }\n        for(int index : intArr) {\n            System.out.println(intArr[index]);\n        }\n    }\n}\n\nout:\n\n0\n1\n2\n.\n.\n9\n</code></pre>\n<p>Here it's working as intended since 1 * 1 = 1. But if i want to add values to my array with increments of 2 for example it will print out the indices with increments of two also.</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        int[] intArr = new int[10];\n        \n        for(int index = 0; index &lt; intArr.length; index++) {\n            intArr[index] = index * 2;\n        }\n        for(int index : intArr) {\n            System.out.println(intArr[index]);\n        }\n    }\n}\n\nout:\n0 (0 * 2 = 0)\n4 (2 * 2)\n8 (4)\n12(6)\n16(8)\n</code></pre>\n<p>And then i get an index out of bounds exception since there isn't a 10th index. Same will happen with 3 (0,9,27) and higher also. If i write it with a regular for loop instead of a for each, all works well. Why?</p>\n<p>I would expect the index numbers to be independent from the values they hold.</p>\n"},{"tags":["java","cryptography","certificate","bouncycastle","x509"],"answers":[{"tags":[],"owner":{"account_id":3250317,"reputation":1601,"user_id":3385618,"display_name":"Bewusstsein"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1532074700,"creation_date":1429893948,"answer_id":29853068,"question_id":29852290,"body_markdown":"**BEWARE: This answer uses an old version of the library with [11 CVEs][1].**\r\n\r\nHere&#39;s what i&#39;m using (with BouncyCastle v1.38):\r\n\r\n    import java.math.BigInteger;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.KeyPair;\r\n    import java.security.KeyPairGenerator;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.NoSuchProviderException;\r\n    import java.security.SecureRandom;\r\n    import java.security.Security;\r\n    import java.security.SignatureException;\r\n    import java.util.Date;\r\n    \r\n    import javax.security.auth.x500.X500Principal;\r\n    \r\n    import java.security.cert.CertificateEncodingException;\r\n    import java.security.cert.X509Certificate;\r\n    \r\n    import org.bouncycastle.asn1.x509.ExtendedKeyUsage;\r\n    import org.bouncycastle.asn1.x509.KeyPurposeId;\r\n    import org.bouncycastle.asn1.x509.X509Extensions;\r\n    import org.bouncycastle.asn1.x509.X509Name;\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import org.bouncycastle.x509.X509V3CertificateGenerator;\r\n    \r\n    public class BouncyCastle {\r\n    \t\r\n    \tpublic static void main(String[] args) throws CertificateEncodingException, InvalidKeyException, IllegalStateException, NoSuchProviderException, NoSuchAlgorithmException, SignatureException {\r\n    \t\tX509Certificate selfSignedX509Certificate = new BouncyCastle().generateSelfSignedX509Certificate();\r\n    \t\tSystem.out.println(selfSignedX509Certificate);\r\n    \t}\r\n    \r\n    \tpublic X509Certificate generateSelfSignedX509Certificate() throws CertificateEncodingException, InvalidKeyException, IllegalStateException,\r\n    \t\t\tNoSuchProviderException, NoSuchAlgorithmException, SignatureException {\r\n    \t\taddBouncyCastleAsSecurityProvider();\r\n    \r\n    \t\t// generate a key pair\r\n    \t\tKeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;, &quot;BC&quot;);\r\n    \t\tkeyPairGenerator.initialize(4096, new SecureRandom());\r\n    \t\tKeyPair keyPair = keyPairGenerator.generateKeyPair();\r\n    \r\n    \t\t// build a certificate generator\r\n    \t\tX509V3CertificateGenerator certGen = new X509V3CertificateGenerator();\r\n    \t\tX500Principal dnName = new X500Principal(&quot;cn=example&quot;);\r\n    \r\n    \t\t// add some options\r\n    \t\tcertGen.setSerialNumber(BigInteger.valueOf(System.currentTimeMillis()));\r\n    \t\tcertGen.setSubjectDN(new X509Name(&quot;dc=name&quot;));\r\n    \t\tcertGen.setIssuerDN(dnName); // use the same\r\n    \t\t// yesterday\r\n    \t\tcertGen.setNotBefore(new Date(System.currentTimeMillis() - 24 * 60 * 60 * 1000));\r\n    \t\t// in 2 years\r\n    \t\tcertGen.setNotAfter(new Date(System.currentTimeMillis() + 2 * 365 * 24 * 60 * 60 * 1000));\r\n    \t\tcertGen.setPublicKey(keyPair.getPublic());\r\n    \t\tcertGen.setSignatureAlgorithm(&quot;SHA256WithRSAEncryption&quot;);\r\n    \t\tcertGen.addExtension(X509Extensions.ExtendedKeyUsage, true,\r\n    \t\t\t\tnew ExtendedKeyUsage(KeyPurposeId.id_kp_timeStamping));\r\n    \r\n    \t\t// finally, sign the certificate with the private key of the same KeyPair\r\n    \t\tX509Certificate cert = certGen.generate(keyPair.getPrivate(), &quot;BC&quot;);\r\n    \t\treturn cert;\r\n    \t}\r\n    \t\r\n    \tpublic void addBouncyCastleAsSecurityProvider() {\r\n    \t\tSecurity.addProvider(new BouncyCastleProvider());\r\n    \t}\r\n    }\r\n\r\n\r\nFor `certGen.generate(keyPair.getPrivate(), &quot;BC&quot;);` to work, BouncyCastle has to be added as a Security Provider.\r\n\r\nI confirmed that it works with this maven dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bcprov-jdk16&lt;/artifactId&gt;\r\n        &lt;version&gt;1.38&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://nvd.nist.gov/vuln/search/results?adv_search=true&amp;cves=on&amp;cpe_version=cpe%3A%2Fa%3Abouncycastle%3Alegion-of-the-bouncy-castle-java-crytography-api%3A1.38","title":"Self signed X509 Certificate with Bouncy Castle in Java","body":"<p><strong>BEWARE: This answer uses an old version of the library with <a href=\"https://nvd.nist.gov/vuln/search/results?adv_search=true&amp;cves=on&amp;cpe_version=cpe%3A%2Fa%3Abouncycastle%3Alegion-of-the-bouncy-castle-java-crytography-api%3A1.38\" rel=\"nofollow noreferrer\">11 CVEs</a>.</strong></p>\n\n<p>Here's what i'm using (with BouncyCastle v1.38):</p>\n\n<pre><code>import java.math.BigInteger;\nimport java.security.InvalidKeyException;\nimport java.security.KeyPair;\nimport java.security.KeyPairGenerator;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.NoSuchProviderException;\nimport java.security.SecureRandom;\nimport java.security.Security;\nimport java.security.SignatureException;\nimport java.util.Date;\n\nimport javax.security.auth.x500.X500Principal;\n\nimport java.security.cert.CertificateEncodingException;\nimport java.security.cert.X509Certificate;\n\nimport org.bouncycastle.asn1.x509.ExtendedKeyUsage;\nimport org.bouncycastle.asn1.x509.KeyPurposeId;\nimport org.bouncycastle.asn1.x509.X509Extensions;\nimport org.bouncycastle.asn1.x509.X509Name;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.x509.X509V3CertificateGenerator;\n\npublic class BouncyCastle {\n\n    public static void main(String[] args) throws CertificateEncodingException, InvalidKeyException, IllegalStateException, NoSuchProviderException, NoSuchAlgorithmException, SignatureException {\n        X509Certificate selfSignedX509Certificate = new BouncyCastle().generateSelfSignedX509Certificate();\n        System.out.println(selfSignedX509Certificate);\n    }\n\n    public X509Certificate generateSelfSignedX509Certificate() throws CertificateEncodingException, InvalidKeyException, IllegalStateException,\n            NoSuchProviderException, NoSuchAlgorithmException, SignatureException {\n        addBouncyCastleAsSecurityProvider();\n\n        // generate a key pair\n        KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(\"RSA\", \"BC\");\n        keyPairGenerator.initialize(4096, new SecureRandom());\n        KeyPair keyPair = keyPairGenerator.generateKeyPair();\n\n        // build a certificate generator\n        X509V3CertificateGenerator certGen = new X509V3CertificateGenerator();\n        X500Principal dnName = new X500Principal(\"cn=example\");\n\n        // add some options\n        certGen.setSerialNumber(BigInteger.valueOf(System.currentTimeMillis()));\n        certGen.setSubjectDN(new X509Name(\"dc=name\"));\n        certGen.setIssuerDN(dnName); // use the same\n        // yesterday\n        certGen.setNotBefore(new Date(System.currentTimeMillis() - 24 * 60 * 60 * 1000));\n        // in 2 years\n        certGen.setNotAfter(new Date(System.currentTimeMillis() + 2 * 365 * 24 * 60 * 60 * 1000));\n        certGen.setPublicKey(keyPair.getPublic());\n        certGen.setSignatureAlgorithm(\"SHA256WithRSAEncryption\");\n        certGen.addExtension(X509Extensions.ExtendedKeyUsage, true,\n                new ExtendedKeyUsage(KeyPurposeId.id_kp_timeStamping));\n\n        // finally, sign the certificate with the private key of the same KeyPair\n        X509Certificate cert = certGen.generate(keyPair.getPrivate(), \"BC\");\n        return cert;\n    }\n\n    public void addBouncyCastleAsSecurityProvider() {\n        Security.addProvider(new BouncyCastleProvider());\n    }\n}\n</code></pre>\n\n<p>For <code>certGen.generate(keyPair.getPrivate(), \"BC\");</code> to work, BouncyCastle has to be added as a Security Provider.</p>\n\n<p>I confirmed that it works with this maven dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n    &lt;artifactId&gt;bcprov-jdk16&lt;/artifactId&gt;\n    &lt;version&gt;1.38&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4912957,"reputation":4595,"user_id":3957736,"accept_rate":80,"display_name":"always_a_rookie"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1594392623,"creation_date":1494512968,"answer_id":43918337,"question_id":29852290,"body_markdown":"## Using Bouncycastle latest version - &lt;s&gt;1.55&lt;/s&gt; 1.66 ##\r\n\r\nUpdate to the answer by @Bewusstsein. The bouncycastle classes are deprecated in the latest version as of this answer (5/11/2017). If you are using version 1.55 or later:\r\n\r\n    public static Certificate selfSign(KeyPair keyPair, String subjectDN) throws OperatorCreationException, CertificateException, IOException\r\n\t{\r\n\t\tProvider bcProvider = new BouncyCastleProvider();\r\n\t\tSecurity.addProvider(bcProvider);\r\n\r\n\t\tlong now = System.currentTimeMillis();\r\n\t\tDate startDate = new Date(now);\r\n\r\n\t\tX500Name dnName = new X500Name(subjectDN);\r\n\t\tBigInteger certSerialNumber = new BigInteger(Long.toString(now)); // &lt;-- Using the current timestamp as the certificate serial number\r\n\r\n\t\tCalendar calendar = Calendar.getInstance();\r\n\t\tcalendar.setTime(startDate);\r\n\t\tcalendar.add(Calendar.YEAR, 1); // &lt;-- 1 Yr validity\r\n\r\n\t\tDate endDate = calendar.getTime();\r\n\r\n\t\tString signatureAlgorithm = &quot;SHA256WithRSA&quot;; // &lt;-- Use appropriate signature algorithm based on your keyPair algorithm.\r\n\r\n\t\tContentSigner contentSigner = new JcaContentSignerBuilder(signatureAlgorithm).build(keyPair.getPrivate());\r\n\r\n\t\tJcaX509v3CertificateBuilder certBuilder = new JcaX509v3CertificateBuilder(dnName, certSerialNumber, startDate, endDate, dnName, keyPair.getPublic());\r\n\r\n        // Extensions --------------------------\r\n\r\n\t\t// Basic Constraints\r\n\t\tBasicConstraints basicConstraints = new BasicConstraints(true); // &lt;-- true for CA, false for EndEntity\r\n\r\n\t\tcertBuilder.addExtension(new ASN1ObjectIdentifier(&quot;2.5.29.19&quot;), true, basicConstraints); // Basic Constraints is usually marked as critical.\r\n\r\n\t\t// -------------------------------------\r\n\r\n\t\treturn new JcaX509CertificateConverter().setProvider(bcProvider).getCertificate(certBuilder.build(contentSigner));\r\n\t}","title":"Self signed X509 Certificate with Bouncy Castle in Java","body":"<h2>Using Bouncycastle latest version - <s>1.55</s> 1.66</h2>\n<p>Update to the answer by @Bewusstsein. The bouncycastle classes are deprecated in the latest version as of this answer (5/11/2017). If you are using version 1.55 or later:</p>\n<pre><code>public static Certificate selfSign(KeyPair keyPair, String subjectDN) throws OperatorCreationException, CertificateException, IOException\n{\n    Provider bcProvider = new BouncyCastleProvider();\n    Security.addProvider(bcProvider);\n\n    long now = System.currentTimeMillis();\n    Date startDate = new Date(now);\n\n    X500Name dnName = new X500Name(subjectDN);\n    BigInteger certSerialNumber = new BigInteger(Long.toString(now)); // &lt;-- Using the current timestamp as the certificate serial number\n\n    Calendar calendar = Calendar.getInstance();\n    calendar.setTime(startDate);\n    calendar.add(Calendar.YEAR, 1); // &lt;-- 1 Yr validity\n\n    Date endDate = calendar.getTime();\n\n    String signatureAlgorithm = &quot;SHA256WithRSA&quot;; // &lt;-- Use appropriate signature algorithm based on your keyPair algorithm.\n\n    ContentSigner contentSigner = new JcaContentSignerBuilder(signatureAlgorithm).build(keyPair.getPrivate());\n\n    JcaX509v3CertificateBuilder certBuilder = new JcaX509v3CertificateBuilder(dnName, certSerialNumber, startDate, endDate, dnName, keyPair.getPublic());\n\n    // Extensions --------------------------\n\n    // Basic Constraints\n    BasicConstraints basicConstraints = new BasicConstraints(true); // &lt;-- true for CA, false for EndEntity\n\n    certBuilder.addExtension(new ASN1ObjectIdentifier(&quot;2.5.29.19&quot;), true, basicConstraints); // Basic Constraints is usually marked as critical.\n\n    // -------------------------------------\n\n    return new JcaX509CertificateConverter().setProvider(bcProvider).getCertificate(certBuilder.build(contentSigner));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2248456,"reputation":3409,"user_id":1981276,"accept_rate":75,"display_name":"Robert Važan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1499478016,"creation_date":1499476842,"answer_id":44981616,"question_id":29852290,"body_markdown":"Here&#39;s a complete self-signed ECDSA certificate generator that creates certificates usable in TLS connections on both client and server side. It was tested with BouncyCastle 1.57. Similar code can be used to create RSA certificates.\r\n\r\n    SecureRandom random = new SecureRandom();\r\n\r\n    // create keypair\r\n    KeyPairGenerator keypairGen = KeyPairGenerator.getInstance(&quot;EC&quot;);\r\n    keypairGen.initialize(256, random);\r\n    KeyPair keypair = keypairGen.generateKeyPair();\r\n\r\n    // fill in certificate fields\r\n    X500Name subject = new X500NameBuilder(BCStyle.INSTANCE)\r\n        .addRDN(BCStyle.CN, &quot;stackoverflow.com&quot;)\r\n        .build();\r\n    byte[] id = new byte[20];\r\n    random.nextBytes(id);\r\n    BigInteger serial = new BigInteger(160, random);\r\n    X509v3CertificateBuilder certificate = new JcaX509v3CertificateBuilder(\r\n        subject,\r\n        serial,\r\n        Date.from(LocalDate.of(2000, 1, 1).atStartOfDay(ZoneOffset.UTC).toInstant()),\r\n        Date.from(LocalDate.of(2035, 1, 1).atStartOfDay(ZoneOffset.UTC).toInstant()),\r\n        subject,\r\n        keypair.getPublic());\r\n    certificate.addExtension(Extension.subjectKeyIdentifier, false, id);\r\n    certificate.addExtension(Extension.authorityKeyIdentifier, false, id);\r\n    BasicConstraints constraints = new BasicConstraints(true);\r\n    certificate.addExtension(\r\n        Extension.basicConstraints,\r\n        true,\r\n        constraints.getEncoded());\r\n    KeyUsage usage = new KeyUsage(KeyUsage.keyCertSign | KeyUsage.digitalSignature);\r\n    certificate.addExtension(Extension.keyUsage, false, usage.getEncoded());\r\n    ExtendedKeyUsage usageEx = new ExtendedKeyUsage(new KeyPurposeId[] {\r\n        KeyPurposeId.id_kp_serverAuth,\r\n        KeyPurposeId.id_kp_clientAuth\r\n    });\r\n    certificate.addExtension(\r\n        Extension.extendedKeyUsage,\r\n        false,\r\n        usageEx.getEncoded());\r\n\r\n    // build BouncyCastle certificate\r\n    ContentSigner signer = new JcaContentSignerBuilder(&quot;SHA256withECDSA&quot;)\r\n        .build(keypair.getPrivate());\r\n    X509CertificateHolder holder = certificate.build(signer);\r\n\r\n    // convert to JRE certificate\r\n    JcaX509CertificateConverter converter = new JcaX509CertificateConverter();\r\n    converter.setProvider(new BouncyCastleProvider());\r\n    X509Certificate x509 = converter.getCertificate(holder);\r\n\r\n    // serialize in DER format\r\n    byte[] serialized = x509.getEncoded();\r\n","title":"Self signed X509 Certificate with Bouncy Castle in Java","body":"<p>Here's a complete self-signed ECDSA certificate generator that creates certificates usable in TLS connections on both client and server side. It was tested with BouncyCastle 1.57. Similar code can be used to create RSA certificates.</p>\n\n<pre><code>SecureRandom random = new SecureRandom();\n\n// create keypair\nKeyPairGenerator keypairGen = KeyPairGenerator.getInstance(\"EC\");\nkeypairGen.initialize(256, random);\nKeyPair keypair = keypairGen.generateKeyPair();\n\n// fill in certificate fields\nX500Name subject = new X500NameBuilder(BCStyle.INSTANCE)\n    .addRDN(BCStyle.CN, \"stackoverflow.com\")\n    .build();\nbyte[] id = new byte[20];\nrandom.nextBytes(id);\nBigInteger serial = new BigInteger(160, random);\nX509v3CertificateBuilder certificate = new JcaX509v3CertificateBuilder(\n    subject,\n    serial,\n    Date.from(LocalDate.of(2000, 1, 1).atStartOfDay(ZoneOffset.UTC).toInstant()),\n    Date.from(LocalDate.of(2035, 1, 1).atStartOfDay(ZoneOffset.UTC).toInstant()),\n    subject,\n    keypair.getPublic());\ncertificate.addExtension(Extension.subjectKeyIdentifier, false, id);\ncertificate.addExtension(Extension.authorityKeyIdentifier, false, id);\nBasicConstraints constraints = new BasicConstraints(true);\ncertificate.addExtension(\n    Extension.basicConstraints,\n    true,\n    constraints.getEncoded());\nKeyUsage usage = new KeyUsage(KeyUsage.keyCertSign | KeyUsage.digitalSignature);\ncertificate.addExtension(Extension.keyUsage, false, usage.getEncoded());\nExtendedKeyUsage usageEx = new ExtendedKeyUsage(new KeyPurposeId[] {\n    KeyPurposeId.id_kp_serverAuth,\n    KeyPurposeId.id_kp_clientAuth\n});\ncertificate.addExtension(\n    Extension.extendedKeyUsage,\n    false,\n    usageEx.getEncoded());\n\n// build BouncyCastle certificate\nContentSigner signer = new JcaContentSignerBuilder(\"SHA256withECDSA\")\n    .build(keypair.getPrivate());\nX509CertificateHolder holder = certificate.build(signer);\n\n// convert to JRE certificate\nJcaX509CertificateConverter converter = new JcaX509CertificateConverter();\nconverter.setProvider(new BouncyCastleProvider());\nX509Certificate x509 = converter.getCertificate(holder);\n\n// serialize in DER format\nbyte[] serialized = x509.getEncoded();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12920498,"reputation":5024,"user_id":9343156,"display_name":"whme"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1548670073,"creation_date":1544477835,"answer_id":53714021,"question_id":29852290,"body_markdown":"This is the code used from BouncyCastle it self to generate X.509 Certificates.\r\nYou will need [this][1] and [this][2] library from BC to use it.\r\nFor further details on how to use it, maybe take a look at [this][3] question (Main class).\r\n\r\n        public class BCCertGen {\r\n        public static String _country = &quot;Westeros&quot;,\r\n                             _organisation = &quot;Targaryen&quot;,\r\n                             _location = &quot;Valyria&quot;,\r\n                             _state = &quot;Essos&quot;,\r\n                             _issuer = &quot;Some Trusted CA&quot;;\r\n    \r\n        public BCCertGen(String country, String organisation, String location, String state, String issuer){\r\n            _country = country;\r\n            _organisation = organisation;\r\n            _location = location;\r\n            _state = state;\r\n            _issuer = issuer;\r\n        }\r\n        public static X509Certificate generate(PrivateKey privKey, PublicKey pubKey, int duration, String signAlg, boolean isSelfSigned) throws Exception{\r\n            Provider BC = new BouncyCastleProvider();\r\n    \r\n            // distinguished name table.\r\n            X500NameBuilder builder = createStdBuilder();\r\n    \r\n            // create the certificate\r\n            ContentSigner sigGen = new JcaContentSignerBuilder(signAlg).build(privKey);\r\n            X509v3CertificateBuilder certGen = new JcaX509v3CertificateBuilder(\r\n                    new X500Name(&quot;cn=&quot;+_issuer),    //Issuer\r\n                    BigInteger.valueOf(1),      //Serial\r\n                    new Date(System.currentTimeMillis() - 50000),   //Valid from\r\n                    new Date((long)(System.currentTimeMillis() + duration*8.65*Math.pow(10,7))),    //Valid to\r\n                    builder.build(),    //Subject\r\n                    pubKey              //Publickey to be associated with the certificate\r\n            );\r\n    \r\n            X509Certificate cert = new JcaX509CertificateConverter().setProvider(BC).getCertificate(certGen.build(sigGen));\r\n    \r\n            cert.checkValidity(new Date());\r\n    \r\n            if (isSelfSigned) {\r\n                // check verifies in general\r\n                cert.verify(pubKey);\r\n                // check verifies with contained key\r\n                cert.verify(cert.getPublicKey());\r\n            }\r\n    \r\n            ByteArrayInputStream bIn = new ByteArrayInputStream(cert.getEncoded());\r\n            CertificateFactory fact = CertificateFactory.getInstance(&quot;X.509&quot;, BC);\r\n    \r\n            return (X509Certificate) fact.generateCertificate(bIn);\r\n        }\r\n    \r\n        private static X500NameBuilder createStdBuilder() {\r\n            X500NameBuilder builder = new X500NameBuilder(RFC4519Style.INSTANCE);\r\n    \r\n            builder.addRDN(RFC4519Style.c, _country);\r\n            builder.addRDN(RFC4519Style.o, _organisation);\r\n            builder.addRDN(RFC4519Style.l, _location);\r\n            builder.addRDN(RFC4519Style.st, _state);\r\n    \r\n            return builder;\r\n        }\r\n    }\r\n\r\nEDIT: I can&#39;t remember from which BC test I took it exactly, but here is something similar [https://github.com/bcgit/bc-java/blob/master/prov/src/test/java/org/bouncycastle/pqc/jcajce/provider/test/KeyStoreTest.java][4]\r\n\r\n\r\n  [1]: https://www.bouncycastle.org/download/bcprov-jdk15on-160.jar\r\n  [2]: https://www.bouncycastle.org/download/bcpkix-jdk15on-160.jar\r\n  [3]: https://stackoverflow.com/questions/53706991/bouncy-castle-pqc-xmss-signing-nullpointerexception-after-retrieving-secretkey\r\n  [4]: https://github.com/bcgit/bc-java/blob/master/prov/src/test/java/org/bouncycastle/pqc/jcajce/provider/test/KeyStoreTest.java","title":"Self signed X509 Certificate with Bouncy Castle in Java","body":"<p>This is the code used from BouncyCastle it self to generate X.509 Certificates.\nYou will need <a href=\"https://www.bouncycastle.org/download/bcprov-jdk15on-160.jar\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://www.bouncycastle.org/download/bcpkix-jdk15on-160.jar\" rel=\"nofollow noreferrer\">this</a> library from BC to use it.\nFor further details on how to use it, maybe take a look at <a href=\"https://stackoverflow.com/questions/53706991/bouncy-castle-pqc-xmss-signing-nullpointerexception-after-retrieving-secretkey\">this</a> question (Main class).</p>\n\n<pre><code>    public class BCCertGen {\n    public static String _country = \"Westeros\",\n                         _organisation = \"Targaryen\",\n                         _location = \"Valyria\",\n                         _state = \"Essos\",\n                         _issuer = \"Some Trusted CA\";\n\n    public BCCertGen(String country, String organisation, String location, String state, String issuer){\n        _country = country;\n        _organisation = organisation;\n        _location = location;\n        _state = state;\n        _issuer = issuer;\n    }\n    public static X509Certificate generate(PrivateKey privKey, PublicKey pubKey, int duration, String signAlg, boolean isSelfSigned) throws Exception{\n        Provider BC = new BouncyCastleProvider();\n\n        // distinguished name table.\n        X500NameBuilder builder = createStdBuilder();\n\n        // create the certificate\n        ContentSigner sigGen = new JcaContentSignerBuilder(signAlg).build(privKey);\n        X509v3CertificateBuilder certGen = new JcaX509v3CertificateBuilder(\n                new X500Name(\"cn=\"+_issuer),    //Issuer\n                BigInteger.valueOf(1),      //Serial\n                new Date(System.currentTimeMillis() - 50000),   //Valid from\n                new Date((long)(System.currentTimeMillis() + duration*8.65*Math.pow(10,7))),    //Valid to\n                builder.build(),    //Subject\n                pubKey              //Publickey to be associated with the certificate\n        );\n\n        X509Certificate cert = new JcaX509CertificateConverter().setProvider(BC).getCertificate(certGen.build(sigGen));\n\n        cert.checkValidity(new Date());\n\n        if (isSelfSigned) {\n            // check verifies in general\n            cert.verify(pubKey);\n            // check verifies with contained key\n            cert.verify(cert.getPublicKey());\n        }\n\n        ByteArrayInputStream bIn = new ByteArrayInputStream(cert.getEncoded());\n        CertificateFactory fact = CertificateFactory.getInstance(\"X.509\", BC);\n\n        return (X509Certificate) fact.generateCertificate(bIn);\n    }\n\n    private static X500NameBuilder createStdBuilder() {\n        X500NameBuilder builder = new X500NameBuilder(RFC4519Style.INSTANCE);\n\n        builder.addRDN(RFC4519Style.c, _country);\n        builder.addRDN(RFC4519Style.o, _organisation);\n        builder.addRDN(RFC4519Style.l, _location);\n        builder.addRDN(RFC4519Style.st, _state);\n\n        return builder;\n    }\n}\n</code></pre>\n\n<p>EDIT: I can't remember from which BC test I took it exactly, but here is something similar <a href=\"https://github.com/bcgit/bc-java/blob/master/prov/src/test/java/org/bouncycastle/pqc/jcajce/provider/test/KeyStoreTest.java\" rel=\"nofollow noreferrer\">https://github.com/bcgit/bc-java/blob/master/prov/src/test/java/org/bouncycastle/pqc/jcajce/provider/test/KeyStoreTest.java</a></p>\n"},{"tags":[],"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697375361,"creation_date":1697288785,"answer_id":77292916,"question_id":29852290,"body_markdown":"## Using Bouncycastle version 1.76 (July 2023) ##\r\n\r\nHere&#39;s an update for the latest BC Version.&lt;br&gt;\r\nThis code was tested with JDK 17.&lt;br&gt;\r\nAlso, where possible, I&#39;ve tried to use available constants, rather than Strings.\r\n\r\n    package uk.co.bc;\r\n    \r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.math.BigInteger;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.security.KeyPair;\r\n    import java.security.KeyPairGenerator;\r\n    import java.security.KeyStore;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.Provider;\r\n    import java.security.SecureRandom;\r\n    import java.security.Security;\r\n    import java.security.cert.X509Certificate;\r\n    import java.time.Instant;\r\n    import java.time.ZonedDateTime;\r\n    import java.util.Date;\r\n    import java.util.HexFormat;\r\n    \r\n    import org.bouncycastle.asn1.ASN1InputStream;\r\n    import org.bouncycastle.asn1.ASN1Sequence;\r\n    import org.bouncycastle.asn1.DERUTF8String;\r\n    import org.bouncycastle.asn1.x500.AttributeTypeAndValue;\r\n    import org.bouncycastle.asn1.x500.RDN;\r\n    import org.bouncycastle.asn1.x500.X500Name;\r\n    import org.bouncycastle.asn1.x500.style.BCStyle;\r\n    import org.bouncycastle.asn1.x509.BasicConstraints;\r\n    import org.bouncycastle.asn1.x509.Extension;\r\n    import org.bouncycastle.asn1.x509.SubjectPublicKeyInfo;\r\n    import org.bouncycastle.cert.X509v3CertificateBuilder;\r\n    import org.bouncycastle.cert.bc.BcX509ExtensionUtils;\r\n    import org.bouncycastle.cert.jcajce.JcaX509CertificateConverter;\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import org.bouncycastle.operator.jcajce.JcaContentSignerBuilder;\r\n    \r\n    public class GenerateSelfSigned {\r\n    \r\n    \tprivate static final Provider      BC_PROVIDER = new BouncyCastleProvider();\r\n    \tprivate static final SecureRandom  PRNG        = new SecureRandom();\r\n    \r\n    \tpublic  static void main(final String[] args) throws Exception {\r\n    \r\n    \t\tSecurity.insertProviderAt(BC_PROVIDER, 1);\r\n    \r\n    \t\tfinal var keyPair     = getKeyPair(&quot;RSA&quot;, 4096);\r\n    \r\n    \t\tfinal var x500subject = getSubject();\r\n    \t\tfinal var x509Cert    = getSelfSignedCert(keyPair, x500subject, Validity.ofYears(100), &quot;SHA256WithRSA&quot;);\r\n    \t\t/*\r\n    \t\t * Load Certificate into freshly created Keystore...\r\n    \t\t */\r\n    \t\tfinal var pwChars     = &quot;password&quot;.toCharArray();\r\n    \t\tfinal var keyStore    = getKeyStore(&quot;PKCS12&quot;, keyPair, pwChars, &quot;alias&quot;, x509Cert);\r\n    \t\t/*\r\n    \t\t * Write Certificate &amp; Keystore to disk...\r\n    \t\t */\r\n    \t\tfinal var fileName    = &quot;self.signed.x509_&quot; + HexFormat.of().toHexDigits(System.currentTimeMillis());\r\n    \r\n    \t\tFiles.write   (Path.of(             fileName +&quot;.cer&quot;), x509Cert.getEncoded());\r\n    \r\n    \t\tkeyStore.store(new FileOutputStream(fileName +&quot;.p12&quot;), pwChars);\r\n    \t}\r\n    \r\n    \tprivate static KeyStore getKeyStore(final String keyStoreType, final KeyPair keyPair, final char[] pwChars, final String alias, final X509Certificate x509Cert) throws Exception {\r\n    \r\n    \t\tfinal var keyStore = KeyStore.getInstance(keyStoreType);\r\n    \t\t;         keyStore.load(null, pwChars);\r\n    \t\t;         keyStore.setKeyEntry(alias, keyPair.getPrivate(), pwChars, new X509Certificate[] {x509Cert});\r\n    \r\n    \t\treturn    keyStore;\r\n    \t}\r\n    \r\n    \tprivate static KeyPair getKeyPair(final String algorithm, final int keysize) throws NoSuchAlgorithmException {\r\n    \r\n    \t\tfinal var keyPairGenerator = KeyPairGenerator.getInstance(algorithm, BC_PROVIDER);\r\n    \t\t;         keyPairGenerator.initialize(keysize, PRNG);\r\n    \r\n    \t\treturn    keyPairGenerator.generateKeyPair();\r\n    \t}\r\n    \r\n    \tprivate static  X500Name getSubject() {\r\n    \r\n    \t\treturn  new X500Name(new RDN[] {new RDN (\r\n    \t\t\t\tnew AttributeTypeAndValue[] {\r\n    \r\n    \t\t\t\tnew AttributeTypeAndValue(BCStyle.CN, new DERUTF8String(&quot;Common Name&quot;)),\r\n    \t\t\t\tnew AttributeTypeAndValue(BCStyle.OU, new DERUTF8String(&quot;Organisational Unit name&quot;)),\r\n    \t\t\t\tnew AttributeTypeAndValue(BCStyle.O,  new DERUTF8String(&quot;Organisation&quot;)),\r\n    \t\t\t\tnew AttributeTypeAndValue(BCStyle.L,  new DERUTF8String(&quot;Locality name&quot;)),\r\n    \t\t\t\tnew AttributeTypeAndValue(BCStyle.ST, new DERUTF8String(&quot;State or Province name&quot;)),\r\n    \t\t\t\tnew AttributeTypeAndValue(BCStyle.C,  new DERUTF8String(&quot;uk&quot;))\r\n    \t\t}) });\r\n    \t}\r\n    \r\n    \tprivate static X509Certificate getSelfSignedCert(final KeyPair keyPair, final X500Name subject, final Validity validity, final String signatureAlgorithm) throws Exception {\r\n    \r\n    \t\tfinal var sn               = new BigInteger(Long.SIZE, PRNG);\r\n    \r\n    \t\tfinal var issuer           = subject;\r\n    \r\n    \t\tfinal var keyPublic        = keyPair  .getPublic();\r\n    \t\tfinal var keyPublicEncoded = keyPublic.getEncoded();\r\n    \t\tfinal var keyPublicInfo    = SubjectPublicKeyInfo.getInstance(keyPublicEncoded);\r\n    \t\t/*\r\n    \t\t * First, some fiendish trickery to generate the Subject (Public-) Key Identifier...\r\n    \t\t */\r\n    \t\ttry(final var ist = new ByteArrayInputStream(keyPublicEncoded);\r\n    \t\t\tfinal var ais = new      ASN1InputStream(ist))\r\n    \t\t{\r\n    \t\t\tfinal var asn1Sequence         = (ASN1Sequence) ais.readObject();\r\n    \r\n    \t\t\tfinal var subjectPublicKeyInfo = SubjectPublicKeyInfo.getInstance(asn1Sequence);\r\n    \t\t\tfinal var subjectPublicKeyId   = new BcX509ExtensionUtils().createSubjectKeyIdentifier(subjectPublicKeyInfo);\r\n    \r\n    \t\t\t/*\r\n    \t\t\t * Now build the Certificate, add some Extensions &amp; sign it with our own Private Key...\r\n    \t\t\t */\r\n    \t\t\tfinal var certBuilder          = new X509v3CertificateBuilder(issuer, sn, validity.notBefore, validity.notAfter, subject, keyPublicInfo);\r\n    \t\t\tfinal var contentSigner        = new  JcaContentSignerBuilder(signatureAlgorithm).build(keyPair.getPrivate());\r\n    \t\t\t/*\r\n    \t\t\t * BasicConstraints instantiated with &quot;CA=true&quot;\r\n    \t\t\t * The BasicConstraints Extension is usually marked &quot;critical=true&quot;\r\n    \t\t\t * \r\n    \t\t\t * The Subject Key Identifier extension identifies the public key certified by this certificate.\r\n    \t\t\t * This extension provides a way of distinguishing public keys if more than one is available for\r\n    \t\t\t * a given subject name.\r\n    \t\t\t */\r\n    \t\t\tfinal var certHolder           = certBuilder\r\n    \t\t\t\t\t.addExtension(Extension.basicConstraints,     true,  new BasicConstraints(true))\r\n    \t\t\t\t\t.addExtension(Extension.subjectKeyIdentifier, false, subjectPublicKeyId)\r\n    \t\t\t\t\t.build(contentSigner);\r\n    \r\n    \t\t\treturn new JcaX509CertificateConverter().setProvider(BC_PROVIDER).getCertificate(certHolder);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static final record Validity(Date notBefore, Date notAfter) {\r\n    \r\n    \t\tprivate static Validity ofYears(final int count) {\r\n    \r\n    \t\t\tfinal var zdtNotBefore = ZonedDateTime.now();\r\n    \t\t\tfinal var zdtNotAfter  = zdtNotBefore.plusYears(count);\r\n    \r\n    \t\t\treturn              of(zdtNotBefore.toInstant(), zdtNotAfter.toInstant());\r\n    \t\t}\r\n    \t\tprivate static Validity of(final Instant notBefore,  final Instant notAfter) {\r\n    \t\t\treturn new Validity   (Date.from    (notBefore), Date.from    (notAfter));\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Self signed X509 Certificate with Bouncy Castle in Java","body":"<h2>Using Bouncycastle version 1.76 (July 2023)</h2>\n<p>Here's an update for the latest BC Version.<br>\nThis code was tested with JDK 17.<br>\nAlso, where possible, I've tried to use available constants, rather than Strings.</p>\n<pre><code>package uk.co.bc;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.FileOutputStream;\nimport java.math.BigInteger;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.security.KeyPair;\nimport java.security.KeyPairGenerator;\nimport java.security.KeyStore;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.Provider;\nimport java.security.SecureRandom;\nimport java.security.Security;\nimport java.security.cert.X509Certificate;\nimport java.time.Instant;\nimport java.time.ZonedDateTime;\nimport java.util.Date;\nimport java.util.HexFormat;\n\nimport org.bouncycastle.asn1.ASN1InputStream;\nimport org.bouncycastle.asn1.ASN1Sequence;\nimport org.bouncycastle.asn1.DERUTF8String;\nimport org.bouncycastle.asn1.x500.AttributeTypeAndValue;\nimport org.bouncycastle.asn1.x500.RDN;\nimport org.bouncycastle.asn1.x500.X500Name;\nimport org.bouncycastle.asn1.x500.style.BCStyle;\nimport org.bouncycastle.asn1.x509.BasicConstraints;\nimport org.bouncycastle.asn1.x509.Extension;\nimport org.bouncycastle.asn1.x509.SubjectPublicKeyInfo;\nimport org.bouncycastle.cert.X509v3CertificateBuilder;\nimport org.bouncycastle.cert.bc.BcX509ExtensionUtils;\nimport org.bouncycastle.cert.jcajce.JcaX509CertificateConverter;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.operator.jcajce.JcaContentSignerBuilder;\n\npublic class GenerateSelfSigned {\n\n    private static final Provider      BC_PROVIDER = new BouncyCastleProvider();\n    private static final SecureRandom  PRNG        = new SecureRandom();\n\n    public  static void main(final String[] args) throws Exception {\n\n        Security.insertProviderAt(BC_PROVIDER, 1);\n\n        final var keyPair     = getKeyPair(&quot;RSA&quot;, 4096);\n\n        final var x500subject = getSubject();\n        final var x509Cert    = getSelfSignedCert(keyPair, x500subject, Validity.ofYears(100), &quot;SHA256WithRSA&quot;);\n        /*\n         * Load Certificate into freshly created Keystore...\n         */\n        final var pwChars     = &quot;password&quot;.toCharArray();\n        final var keyStore    = getKeyStore(&quot;PKCS12&quot;, keyPair, pwChars, &quot;alias&quot;, x509Cert);\n        /*\n         * Write Certificate &amp; Keystore to disk...\n         */\n        final var fileName    = &quot;self.signed.x509_&quot; + HexFormat.of().toHexDigits(System.currentTimeMillis());\n\n        Files.write   (Path.of(             fileName +&quot;.cer&quot;), x509Cert.getEncoded());\n\n        keyStore.store(new FileOutputStream(fileName +&quot;.p12&quot;), pwChars);\n    }\n\n    private static KeyStore getKeyStore(final String keyStoreType, final KeyPair keyPair, final char[] pwChars, final String alias, final X509Certificate x509Cert) throws Exception {\n\n        final var keyStore = KeyStore.getInstance(keyStoreType);\n        ;         keyStore.load(null, pwChars);\n        ;         keyStore.setKeyEntry(alias, keyPair.getPrivate(), pwChars, new X509Certificate[] {x509Cert});\n\n        return    keyStore;\n    }\n\n    private static KeyPair getKeyPair(final String algorithm, final int keysize) throws NoSuchAlgorithmException {\n\n        final var keyPairGenerator = KeyPairGenerator.getInstance(algorithm, BC_PROVIDER);\n        ;         keyPairGenerator.initialize(keysize, PRNG);\n\n        return    keyPairGenerator.generateKeyPair();\n    }\n\n    private static  X500Name getSubject() {\n\n        return  new X500Name(new RDN[] {new RDN (\n                new AttributeTypeAndValue[] {\n\n                new AttributeTypeAndValue(BCStyle.CN, new DERUTF8String(&quot;Common Name&quot;)),\n                new AttributeTypeAndValue(BCStyle.OU, new DERUTF8String(&quot;Organisational Unit name&quot;)),\n                new AttributeTypeAndValue(BCStyle.O,  new DERUTF8String(&quot;Organisation&quot;)),\n                new AttributeTypeAndValue(BCStyle.L,  new DERUTF8String(&quot;Locality name&quot;)),\n                new AttributeTypeAndValue(BCStyle.ST, new DERUTF8String(&quot;State or Province name&quot;)),\n                new AttributeTypeAndValue(BCStyle.C,  new DERUTF8String(&quot;uk&quot;))\n        }) });\n    }\n\n    private static X509Certificate getSelfSignedCert(final KeyPair keyPair, final X500Name subject, final Validity validity, final String signatureAlgorithm) throws Exception {\n\n        final var sn               = new BigInteger(Long.SIZE, PRNG);\n\n        final var issuer           = subject;\n\n        final var keyPublic        = keyPair  .getPublic();\n        final var keyPublicEncoded = keyPublic.getEncoded();\n        final var keyPublicInfo    = SubjectPublicKeyInfo.getInstance(keyPublicEncoded);\n        /*\n         * First, some fiendish trickery to generate the Subject (Public-) Key Identifier...\n         */\n        try(final var ist = new ByteArrayInputStream(keyPublicEncoded);\n            final var ais = new      ASN1InputStream(ist))\n        {\n            final var asn1Sequence         = (ASN1Sequence) ais.readObject();\n\n            final var subjectPublicKeyInfo = SubjectPublicKeyInfo.getInstance(asn1Sequence);\n            final var subjectPublicKeyId   = new BcX509ExtensionUtils().createSubjectKeyIdentifier(subjectPublicKeyInfo);\n\n            /*\n             * Now build the Certificate, add some Extensions &amp; sign it with our own Private Key...\n             */\n            final var certBuilder          = new X509v3CertificateBuilder(issuer, sn, validity.notBefore, validity.notAfter, subject, keyPublicInfo);\n            final var contentSigner        = new  JcaContentSignerBuilder(signatureAlgorithm).build(keyPair.getPrivate());\n            /*\n             * BasicConstraints instantiated with &quot;CA=true&quot;\n             * The BasicConstraints Extension is usually marked &quot;critical=true&quot;\n             * \n             * The Subject Key Identifier extension identifies the public key certified by this certificate.\n             * This extension provides a way of distinguishing public keys if more than one is available for\n             * a given subject name.\n             */\n            final var certHolder           = certBuilder\n                    .addExtension(Extension.basicConstraints,     true,  new BasicConstraints(true))\n                    .addExtension(Extension.subjectKeyIdentifier, false, subjectPublicKeyId)\n                    .build(contentSigner);\n\n            return new JcaX509CertificateConverter().setProvider(BC_PROVIDER).getCertificate(certHolder);\n        }\n    }\n\n    private static final record Validity(Date notBefore, Date notAfter) {\n\n        private static Validity ofYears(final int count) {\n\n            final var zdtNotBefore = ZonedDateTime.now();\n            final var zdtNotAfter  = zdtNotBefore.plusYears(count);\n\n            return              of(zdtNotBefore.toInstant(), zdtNotAfter.toInstant());\n        }\n        private static Validity of(final Instant notBefore,  final Instant notAfter) {\n            return new Validity   (Date.from    (notBefore), Date.from    (notAfter));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6198868,"reputation":349,"user_id":4829379,"accept_rate":29,"display_name":"paola91"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39411,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":5,"score":27,"last_activity_date":1697375361,"creation_date":1429891449,"question_id":29852290,"body_markdown":"I need to create a self signed X509 Certificate with Bouncy Castle in Java, but every class I try to include is deprecated. \r\nHow can I solve this? Is there some other class to include? \r\nThanks","title":"Self signed X509 Certificate with Bouncy Castle in Java","body":"<p>I need to create a self signed X509 Certificate with Bouncy Castle in Java, but every class I try to include is deprecated. \nHow can I solve this? Is there some other class to include? \nThanks</p>\n"},{"tags":["java","spring","query-by-example"],"answers":[{"tags":[],"owner":{"account_id":176410,"reputation":322,"user_id":407088,"accept_rate":75,"display_name":"mcpierce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697374447,"creation_date":1697374447,"answer_id":77296734,"question_id":77294285,"body_markdown":"It turns out the issue was that there was a method that was returning a default coverYear value of 0 when no coverDate was provided.\r\n\r\nRemoving that method (it was missed since we&#39;re using Lombok annotations on fields, so that getter method wasn&#39;t overlooked) fixed the problem.","title":"JPA Query By Example Sets Where Clause On Null&#39;d Value","body":"<p>It turns out the issue was that there was a method that was returning a default coverYear value of 0 when no coverDate was provided.</p>\n<p>Removing that method (it was missed since we're using Lombok annotations on fields, so that getter method wasn't overlooked) fixed the problem.</p>\n"}],"owner":{"account_id":176410,"reputation":322,"user_id":407088,"accept_rate":75,"display_name":"mcpierce"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697374447,"creation_date":1697313348,"question_id":77294285,"body_markdown":"For my F/OSS project I&#39;m trying to add a way of loading a single table page worth of data at a time to avoid spending a lot of time loading records. So I settled on JPA Query by Example. And it works for the project.\r\n\r\nThat is, until I added checking for month and year values.\r\n\r\nMy data type is (abbreviated):\r\n```\r\npublic class ComicDetail {\r\n  @Column(name = &quot;CoverDate&quot;, nullable = true)\r\n  private Date coverDate;\r\n\r\n  @Formula(&quot;(YEAR(CoverDate))&quot;)\r\n  private Integer yearPublisheds;\r\n\r\n  @Formula(&quot;(MONTH(CoverDate))&quot;\r\n  private Integer monthPublished;\r\n}\r\n```\r\n\r\nI then setup my Example object by setting the coverDate, yearPublished, and monthPublished fields to null and only adding them to the matcher when a value is provided:\r\n\r\n```\r\nfinal ComicDetail detail = new ComicDetail();\r\ndetail.setCoverDate(null);\r\ndetail.setYearPublished(null);\r\ndetail.setMonthPublished(null);\r\n\r\nExampleMatcher matcher = ExampleMatch.matching();\r\n\r\nif (coverYear != null) {\r\n  log.debug(&quot;Setting cover year filter: {}&quot;, coverYear);\r\n  detail.setYearPublished(coverYear);\r\n  matcher = matcher.withMatcher(&quot;coverYear&quot;, ExampleMatcher.GenericPropertyMatchers.exact());\r\n}\r\n\r\nif (coverMonth != null) {\r\n  log.debug(&quot;Setting cover month filter: {}&quot;, coverMonth);\r\n  detail.setMonthPublished(coverMonth);\r\n  matcher = matcher.withMatcher(&quot;coverMonth&quot;, ExampleMatcher.GenericPropertyMatchers.exact());\r\n}\r\n\r\n\r\nthis.comicDetailRepository.findAll(Example.of(detail, matcher));\r\n```\r\n\r\nEven when no coverYear or coverMonth value is provided when setting up the example, though, every query generated has the following condition in it:\r\n\r\n```\r\nSELECT comicdetai0_.id                   AS id1_2_,\r\n ...\r\nFROM   comicdetails comicdetai0_\r\nWHERE  ( Year(comicdetai0_.coverdate) ) = 0\r\n\r\n```\r\n\r\nThe only way I can get it to work is to comment out the ```yearPublished``` field from the ```ComicDetail``` class. But I don&#39;t have to do the same thing with the ```monthPublished``` field; i.e., that one only shows up when it&#39;s explicitly provided and a matcher is defined. And then it&#39;s always the value specified, i.e.:\r\n\r\n```\r\nWHERE  ( Year(comicdetai0_.coverdate) ) = 0\r\n       AND ( Month(comicdetai0_.coverdate) ) = 3\r\n```\r\n\r\nAny idea on why the one field is always being included in the where clause?","title":"JPA Query By Example Sets Where Clause On Null&#39;d Value","body":"<p>For my F/OSS project I'm trying to add a way of loading a single table page worth of data at a time to avoid spending a lot of time loading records. So I settled on JPA Query by Example. And it works for the project.</p>\n<p>That is, until I added checking for month and year values.</p>\n<p>My data type is (abbreviated):</p>\n<pre><code>public class ComicDetail {\n  @Column(name = &quot;CoverDate&quot;, nullable = true)\n  private Date coverDate;\n\n  @Formula(&quot;(YEAR(CoverDate))&quot;)\n  private Integer yearPublisheds;\n\n  @Formula(&quot;(MONTH(CoverDate))&quot;\n  private Integer monthPublished;\n}\n</code></pre>\n<p>I then setup my Example object by setting the coverDate, yearPublished, and monthPublished fields to null and only adding them to the matcher when a value is provided:</p>\n<pre><code>final ComicDetail detail = new ComicDetail();\ndetail.setCoverDate(null);\ndetail.setYearPublished(null);\ndetail.setMonthPublished(null);\n\nExampleMatcher matcher = ExampleMatch.matching();\n\nif (coverYear != null) {\n  log.debug(&quot;Setting cover year filter: {}&quot;, coverYear);\n  detail.setYearPublished(coverYear);\n  matcher = matcher.withMatcher(&quot;coverYear&quot;, ExampleMatcher.GenericPropertyMatchers.exact());\n}\n\nif (coverMonth != null) {\n  log.debug(&quot;Setting cover month filter: {}&quot;, coverMonth);\n  detail.setMonthPublished(coverMonth);\n  matcher = matcher.withMatcher(&quot;coverMonth&quot;, ExampleMatcher.GenericPropertyMatchers.exact());\n}\n\n\nthis.comicDetailRepository.findAll(Example.of(detail, matcher));\n</code></pre>\n<p>Even when no coverYear or coverMonth value is provided when setting up the example, though, every query generated has the following condition in it:</p>\n<pre><code>SELECT comicdetai0_.id                   AS id1_2_,\n ...\nFROM   comicdetails comicdetai0_\nWHERE  ( Year(comicdetai0_.coverdate) ) = 0\n\n</code></pre>\n<p>The only way I can get it to work is to comment out the <code>yearPublished</code> field from the <code>ComicDetail</code> class. But I don't have to do the same thing with the <code>monthPublished</code> field; i.e., that one only shows up when it's explicitly provided and a matcher is defined. And then it's always the value specified, i.e.:</p>\n<pre><code>WHERE  ( Year(comicdetai0_.coverdate) ) = 0\n       AND ( Month(comicdetai0_.coverdate) ) = 3\n</code></pre>\n<p>Any idea on why the one field is always being included in the where clause?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":2,"creation_date":1697374718,"post_id":77295511,"comment_id":136269366,"body_markdown":"the code presented in Spring Security In Action is deprecated, and he is building hiw own authorization server. That is not how you do it, today spring has their own authorization server projekt and this is what should be used instead. The book is 3 years old, lots of things happen in 3 years.","body":"the code presented in Spring Security In Action is deprecated, and he is building hiw own authorization server. That is not how you do it, today spring has their own authorization server projekt and this is what should be used instead. The book is 3 years old, lots of things happen in 3 years."},{"owner":{"account_id":485077,"reputation":537,"user_id":901161,"display_name":"Ali Shirvani"},"score":0,"creation_date":1697375633,"post_id":77295511,"comment_id":136269471,"body_markdown":"Thanks a lot for your comment. Could you please introduce an up-to-date source for studying and solving such problems?","body":"Thanks a lot for your comment. Could you please introduce an up-to-date source for studying and solving such problems?"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1697389537,"post_id":77295511,"comment_id":136271056,"body_markdown":"can i ask why havnt you tried reading the official documentation before asking?","body":"can i ask why havnt you tried reading the official documentation before asking?"},{"owner":{"account_id":485077,"reputation":537,"user_id":901161,"display_name":"Ali Shirvani"},"score":0,"creation_date":1697424098,"post_id":77295511,"comment_id":136273767,"body_markdown":"Thank you for your response. As I mentioned in my question, I have read the deprecation note and related documents. However, I was unable to figure out how to implement my custom scenario. That&#39;s why I decided to ask a question.","body":"Thank you for your response. As I mentioned in my question, I have read the deprecation note and related documents. However, I was unable to figure out how to implement my custom scenario. That&#39;s why I decided to ask a question."},{"owner":{"account_id":485077,"reputation":537,"user_id":901161,"display_name":"Ali Shirvani"},"score":0,"creation_date":1697430737,"post_id":77295511,"comment_id":136274205,"body_markdown":"@Toerktumlare I have just seen the article you wrote about spring boot + JWT, and I wish I had seen it before asking my question. However, the main advantage of asking the question was that I got to know you and I am very happy about this acquaintance.","body":"@Toerktumlare I have just seen the article you wrote about spring boot + JWT, and I wish I had seen it before asking my question. However, the main advantage of asking the question was that I got to know you and I am very happy about this acquaintance."}],"answers":[{"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697374270,"creation_date":1697374270,"answer_id":77296726,"question_id":77295511,"body_markdown":"    @Configuration\r\n    public class SecurityConfiguration {\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http.authenticationProvider(otpAuthenticationProvider)\r\n            .authenticationProvider(usernamePasswordAuthenticationProvider)\r\n                .authorizeHttpRequests((authz) -&gt; authz\r\n                    .anyRequest().authenticated()\r\n                )\r\n                .httpBasic(withDefaults());\r\n            return http.build();\r\n        }\r\n    \r\n    }","title":"Registering multiple AuthenticationProviders regarding WebSecurityConfigurerAdapter deprecation","body":"<pre><code>@Configuration\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authenticationProvider(otpAuthenticationProvider)\n        .authenticationProvider(usernamePasswordAuthenticationProvider)\n            .authorizeHttpRequests((authz) -&gt; authz\n                .anyRequest().authenticated()\n            )\n            .httpBasic(withDefaults());\n        return http.build();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":485077,"reputation":537,"user_id":901161,"display_name":"Ali Shirvani"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1697374270,"creation_date":1697351042,"question_id":77295511,"body_markdown":"I want to register multiple `AuthenticationProvider`s in a Spring Boot security config class, like in the following snippet borrowed from [this repository][1]:\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) {\r\n        auth.authenticationProvider(otpAuthenticationProvider)\r\n            .authenticationProvider(usernamePasswordAuthenticationProvider);\r\n    }\r\n\r\nHowever, I could not find the correct solution from the Spring Boot [deprecation note][2]. Do you know how to register multiple `AuthenticationProvider`s without using `WebSecurityConfigurerAdapter`?\r\n\r\n\r\n  [1]: https://github.com/havinhphu188/spring-security-in-action-source/blob/98a34b30c44c48ddc3ce66bb0f3f932543ff29a7/ssia-ch11-ex1-s2/src/main/java/com/laurentiuspilca/ssia/config/SecurityConfig.java#L32\r\n  [2]: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter","title":"Registering multiple AuthenticationProviders regarding WebSecurityConfigurerAdapter deprecation","body":"<p>I want to register multiple <code>AuthenticationProvider</code>s in a Spring Boot security config class, like in the following snippet borrowed from <a href=\"https://github.com/havinhphu188/spring-security-in-action-source/blob/98a34b30c44c48ddc3ce66bb0f3f932543ff29a7/ssia-ch11-ex1-s2/src/main/java/com/laurentiuspilca/ssia/config/SecurityConfig.java#L32\" rel=\"nofollow noreferrer\">this repository</a>:</p>\n<pre><code>@Override\nprotected void configure(AuthenticationManagerBuilder auth) {\n    auth.authenticationProvider(otpAuthenticationProvider)\n        .authenticationProvider(usernamePasswordAuthenticationProvider);\n}\n</code></pre>\n<p>However, I could not find the correct solution from the Spring Boot <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">deprecation note</a>. Do you know how to register multiple <code>AuthenticationProvider</code>s without using <code>WebSecurityConfigurerAdapter</code>?</p>\n"},{"tags":["java","zip","inputstream","minio"],"answers":[{"tags":[],"owner":{"account_id":23752346,"reputation":11,"user_id":17768928,"display_name":"Amir Rahimpour"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680829348,"creation_date":1680275885,"answer_id":75900163,"question_id":75100873,"body_markdown":"I had same problem in C#, this is how I managed to solve:\r\nIf you go to the MinIO dashboard, you would be able to download the folder as a zipped file:\r\n[![enter image description here][1]][1]\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nNow if you inspect the browser request, it is something like this:\r\n\r\n    curl &#39;*MINIO_URL*/api/v1/buckets/*BUCKET_NAME*/objects/download?prefix=*PREFIX*&#39;\\\r\n      -H &#39;Accept: */*&#39; \\\r\n      -H &#39;Accept-Language: en-US,en;q=0.9,fa;q=0.8&#39; \\\r\n      -H &#39;Connection: keep-alive&#39; \\\r\n      -H &#39;Cookie: token=*TOKEN*&#39; \\\r\n      -H &#39;Referer: MINIO_URL/browser/BUCKET_NAME&#39; \\\r\n      -H &#39;User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) \r\n    AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36&#39; \\\r\n      --compressed \\\r\n      --insecure\r\n\r\nWhere you should replace `MINIO_URL` &amp; `BUCKET_NAME` with values of your own, now the `TOKEN` value is something you get from dashboard login.\r\nthe `PREFIX` value is the base64 conversion of the folder path inside minio&lt;br&gt;\r\n&lt;br&gt;\r\nThis is the code &amp; hope it helps:\r\n\r\n    public async Task&lt;byte[]&gt; DownloadZippedFolder(string filePath)\r\n        {\r\n            var httpContent = new StringContent(\r\n                content: JsonConvert.SerializeObject(\r\n                    new \r\n                    {\r\n                        accessKey = _minIOSetting.DashboardUserName, \r\n                        secretKey = _minIOSetting.DashboardPassword\r\n                    }\r\n                ), \r\n                encoding: Encoding.UTF8, \r\n                mediaType: &quot;application/json&quot;\r\n            );\r\n            try\r\n            {\r\n                var loginResponse = await _httpClient.PostAsync($&quot;{_minIOSetting.LoginUrl}/api/v1/login&quot;, httpContent);\r\n\r\n                string prefix = Convert.ToBase64String(Encoding.UTF8.GetBytes(filePath));\r\n\r\n                loginResponse.Headers.TryGetValues(&quot;Set-Cookie&quot;, out var setCookie);\r\n\r\n                _httpClient.DefaultRequestHeaders.Add(&quot;Cookie&quot;, setCookie.First());\r\n                string url = _minIOSetting.LoginUrl\r\n                    + &quot;/api/v1/buckets/&quot;\r\n                    + _minIOSetting.BucketName\r\n                    + &quot;/objects/download?prefix=&quot;\r\n                    + prefix;\r\n                var dlreq = await _httpClient.GetAsync(url);\r\n                var contentStream = await dlreq.Content.ReadAsStreamAsync();\r\n\r\n                var memStream = new MemoryStream();\r\n                await contentStream.CopyToAsync(memStream);\r\n\r\n                var bs = memStream.ToArray();\r\n                return bs;\r\n            }\r\n            catch (Exception ex)\r\n            {\r\n                Console.WriteLine($&quot;min IO error, DownloadZippedFolder: {ex.Message}&quot;);\r\n                return null;\r\n            }   \r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c6Cgu.png\r\n  [2]: https://i.stack.imgur.com/qaEWY.png","title":"How to download the folder from minio as zip file?","body":"<p>I had same problem in C#, this is how I managed to solve:\nIf you go to the MinIO dashboard, you would be able to download the folder as a zipped file:\n<a href=\"https://i.stack.imgur.com/c6Cgu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c6Cgu.png\" alt=\"enter image description here\" /></a>\n<br>\n<br>\nNow if you inspect the browser request, it is something like this:</p>\n<pre><code>curl '*MINIO_URL*/api/v1/buckets/*BUCKET_NAME*/objects/download?prefix=*PREFIX*'\\\n  -H 'Accept: */*' \\\n  -H 'Accept-Language: en-US,en;q=0.9,fa;q=0.8' \\\n  -H 'Connection: keep-alive' \\\n  -H 'Cookie: token=*TOKEN*' \\\n  -H 'Referer: MINIO_URL/browser/BUCKET_NAME' \\\n  -H 'User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) \nAppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36' \\\n  --compressed \\\n  --insecure\n</code></pre>\n<p>Where you should replace <code>MINIO_URL</code> &amp; <code>BUCKET_NAME</code> with values of your own, now the <code>TOKEN</code> value is something you get from dashboard login.\nthe <code>PREFIX</code> value is the base64 conversion of the folder path inside minio<br>\n<br>\nThis is the code &amp; hope it helps:</p>\n<pre><code>public async Task&lt;byte[]&gt; DownloadZippedFolder(string filePath)\n    {\n        var httpContent = new StringContent(\n            content: JsonConvert.SerializeObject(\n                new \n                {\n                    accessKey = _minIOSetting.DashboardUserName, \n                    secretKey = _minIOSetting.DashboardPassword\n                }\n            ), \n            encoding: Encoding.UTF8, \n            mediaType: &quot;application/json&quot;\n        );\n        try\n        {\n            var loginResponse = await _httpClient.PostAsync($&quot;{_minIOSetting.LoginUrl}/api/v1/login&quot;, httpContent);\n\n            string prefix = Convert.ToBase64String(Encoding.UTF8.GetBytes(filePath));\n\n            loginResponse.Headers.TryGetValues(&quot;Set-Cookie&quot;, out var setCookie);\n\n            _httpClient.DefaultRequestHeaders.Add(&quot;Cookie&quot;, setCookie.First());\n            string url = _minIOSetting.LoginUrl\n                + &quot;/api/v1/buckets/&quot;\n                + _minIOSetting.BucketName\n                + &quot;/objects/download?prefix=&quot;\n                + prefix;\n            var dlreq = await _httpClient.GetAsync(url);\n            var contentStream = await dlreq.Content.ReadAsStreamAsync();\n\n            var memStream = new MemoryStream();\n            await contentStream.CopyToAsync(memStream);\n\n            var bs = memStream.ToArray();\n            return bs;\n        }\n        catch (Exception ex)\n        {\n            Console.WriteLine($&quot;min IO error, DownloadZippedFolder: {ex.Message}&quot;);\n            return null;\n        }   \n    }\n</code></pre>\n"}],"owner":{"account_id":23492374,"reputation":29,"user_id":17543251,"display_name":"Ajay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1852,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697373827,"creation_date":1673548463,"question_id":75100873,"body_markdown":"The steps I followed are.\r\n\r\n1) get all objects from recursive objects\r\n\r\n```\r\nIterable&lt;Result&lt;Item&gt;&gt; results = minioClient.listObjects(ListObjectsArgs.builder()\r\n    .bucket(bucketName).recursive(true).build());\r\n\r\n``` \r\n\r\n2) Then getting all streams of matching the prefix\r\n```\r\n InputStream stream = minioClient.getObject(GetObjectArgs.builder()\r\n.bucket(bucketName).object(objectName).build());\r\n\r\n```\r\n\r\nthe list of multiple stream got by the InputStream stream How do we convert it into zip file ?\r\n\r\ntried the following code but it&#39;s (zipOut) coming as null.\r\ndownloading empty zip, How do we fix this ?\r\n```\r\nByteArrayOutputStream fos = new ByteArrayOutputStream();\r\nZipOutputStream zipOut = new ZipOutputStream(fos);\r\nZipEntry zipEntry1 = new ZipEntry(objectName);\r\nzipEntry1.setSize(resource.contentLength());\r\nzipEntry1.setTime(System.currentTimeMillis());\r\nzipOut.putNextEntry(zipEntry1);\r\nStreamUtils.copy(stream.readAllBytes(), zipOut);\r\nzipOut.closeEntry();\r\n\r\n```\r\n\r\nThanks in advance.\r\n ","title":"How to download the folder from minio as zip file?","body":"<p>The steps I followed are.</p>\n<ol>\n<li>get all objects from recursive objects</li>\n</ol>\n<pre><code>Iterable&lt;Result&lt;Item&gt;&gt; results = minioClient.listObjects(ListObjectsArgs.builder()\n    .bucket(bucketName).recursive(true).build());\n\n</code></pre>\n<ol start=\"2\">\n<li>Then getting all streams of matching the prefix</li>\n</ol>\n<pre><code> InputStream stream = minioClient.getObject(GetObjectArgs.builder()\n.bucket(bucketName).object(objectName).build());\n\n</code></pre>\n<p>the list of multiple stream got by the InputStream stream How do we convert it into zip file ?</p>\n<p>tried the following code but it's (zipOut) coming as null.\ndownloading empty zip, How do we fix this ?</p>\n<pre><code>ByteArrayOutputStream fos = new ByteArrayOutputStream();\nZipOutputStream zipOut = new ZipOutputStream(fos);\nZipEntry zipEntry1 = new ZipEntry(objectName);\nzipEntry1.setSize(resource.contentLength());\nzipEntry1.setTime(System.currentTimeMillis());\nzipOut.putNextEntry(zipEntry1);\nStreamUtils.copy(stream.readAllBytes(), zipOut);\nzipOut.closeEntry();\n\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1628873993,"post_id":68775301,"comment_id":121546029,"body_markdown":"Aside: `map.merge(d, 1, Integer::sum);` is a neater way to build the map of counts.","body":"Aside: <code>map.merge(d, 1, Integer::sum);</code> is a neater way to build the map of counts."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1628874259,"post_id":68775301,"comment_id":121546128,"body_markdown":"(and `map.getOrDefault(c, 0)&gt;=n` is a neater filter function at the end. Or just `get`, `c` will always be in the map).","body":"(and <code>map.getOrDefault(c, 0)&gt;=n</code> is a neater filter function at the end. Or just <code>get</code>, <code>c</code> will always be in the map)."},{"owner":{"account_id":6181814,"reputation":305,"user_id":4817053,"accept_rate":100,"display_name":"DrBrad"},"score":1,"creation_date":1628883316,"post_id":68775301,"comment_id":121548829,"body_markdown":"Your code did run fine for me though.","body":"Your code did run fine for me though."}],"answers":[{"tags":[],"owner":{"account_id":6181814,"reputation":305,"user_id":4817053,"accept_rate":100,"display_name":"DrBrad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628875252,"creation_date":1628875252,"answer_id":68776169,"question_id":68775301,"body_markdown":"This is how I got it to work, you have to work backwards with the array. You need to create another array to check for duplicates to remember them.\r\n\r\n    \r\n    public static int[] solution(int[] data, int n){\r\n        if(n &lt; 1){\r\n            return new int[0];\r\n        }\r\n\r\n        if(data.length &lt; 1){\r\n            return data;\r\n        }\r\n\r\n        List&lt;Integer&gt; a = Arrays.stream(data).boxed().collect(Collectors.toList());\r\n\r\n        for(int i = a.size()-1; i &gt; -1; i--){\r\n            ArrayList&lt;Integer&gt; t = new ArrayList&lt;&gt;();\r\n\r\n            for(int j = 0; j &lt; a.size(); j++){\r\n                if(a.get(j) == a.get(i)){\r\n                    t.add(j);\r\n                }\r\n            }\r\n\r\n\r\n            if(t.size() &gt; n){\r\n                for(int j = t.size()-1; j &gt; -1; j--){\r\n                    a.remove((int) t.get(j));\r\n                }\r\n\r\n                i -= t.size()-1;\r\n            }\r\n        }\r\n\r\n        data = new int[a.size()];\r\n        int c = 0;\r\n        for(int d : a){\r\n            data[c] = d;\r\n            c++;\r\n        }\r\n\r\n        return data;\r\n    }","title":"Google Foobar challenge Minion Work Assignment Java test cases not passing","body":"<p>This is how I got it to work, you have to work backwards with the array. You need to create another array to check for duplicates to remember them.</p>\n<pre><code>public static int[] solution(int[] data, int n){\n    if(n &lt; 1){\n        return new int[0];\n    }\n\n    if(data.length &lt; 1){\n        return data;\n    }\n\n    List&lt;Integer&gt; a = Arrays.stream(data).boxed().collect(Collectors.toList());\n\n    for(int i = a.size()-1; i &gt; -1; i--){\n        ArrayList&lt;Integer&gt; t = new ArrayList&lt;&gt;();\n\n        for(int j = 0; j &lt; a.size(); j++){\n            if(a.get(j) == a.get(i)){\n                t.add(j);\n            }\n        }\n\n\n        if(t.size() &gt; n){\n            for(int j = t.size()-1; j &gt; -1; j--){\n                a.remove((int) t.get(j));\n            }\n\n            i -= t.size()-1;\n        }\n    }\n\n    data = new int[a.size()];\n    int c = 0;\n    for(int d : a){\n        data[c] = d;\n        c++;\n    }\n\n    return data;\n}\n</code></pre>\n"}],"owner":{"account_id":10969645,"reputation":17,"user_id":8060366,"display_name":"Ankit S."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1074,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1697373813,"creation_date":1628870292,"question_id":68775301,"body_markdown":"I have tried solving this problem using Java and for some reason only 2 out of 9 test cases pass but locally all my test cases pass. I am 99% positive that there is some issue with Google Foobar Java test cases for this challenge. **Did someone encounter this and if yes, what did you do to solve it?**\r\n\r\nQuestion was...\r\n```\r\nWrite a function called solution(data, n) that takes in a list of \r\nless than 100 integers and a number n, and returns that same list \r\nbut with all of the numbers that occur more than n times removed \r\nentirely. \r\n\r\nThe returned list should retain the same ordering as the original \r\nlist - you don&#39;t want to mix up those carefully-planned shift \r\nrotations! For instance, if data was [5, 10, 15, 10, 7] and n was 1,\r\nsolution(data, n) would return the list [5, 15, 7] because 10 occurs \r\ntwice, and thus was removed from the list entirely.\r\n\r\n-- Java cases --\r\nInput:\r\nSolution.solution({1, 2, 3}, 0)\r\nOutput:\r\n    \r\n\r\nInput:\r\nSolution.solution({1, 2, 2, 3, 3, 3, 4, 5, 5}, 1)\r\nOutput:\r\n    1,4\r\n\r\nThere are 6 more test cases that are hidden.\r\n```\r\n\r\nBelow is the solution I created.\r\n```\r\npublic class MinionShift {\r\n    public static int[] solution(int[] data, int n) {\r\n        if(n&lt;1)\r\n            return new int[0];\r\n\r\n        if(data.length &lt; 1)\r\n            return data;\r\n\r\n        Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n\r\n        for(int d: data) {\r\n                map.put(d, map.getOrDefault(d, 0) + 1);\r\n        }\r\n\r\n        return Arrays.stream(data).filter(c-&gt;map.containsKey(c) &amp;&amp; !(map.get(c)&gt;n)).toArray();\r\n    }\r\n}\r\n```\r\n\r\nTest cases that I have tried...\r\n```\r\n[{1, 2, 3}, 0]\r\n[{1, 2, 2, 3, 3, 3, 4, 5, 5}, 1]\r\n[{1, 2, 2, 3, 3, 3, 4, 5, 5}, 10]\r\n[{1, 2, 2, 3, 3, 3, 4, 5, 5}, -1]\r\n[{}, 5]\r\n[{1, 1, 1, 1, 1}, 5]\r\n[{101, 102, 103, 104, 105}, 5]\r\n```\r\n\r\n**Edit...**\r\nI tried a Java stream based solution as follows but unfortunately the challenge went away as I submitted a Python solution. But I am posting it here anyways.\r\n```\r\npublic class MinionShift {\r\n    public static int[] solution(int[] data, int n) {\r\n        if(n&lt;1)\r\n            return new int[0];\r\n\r\n        if(data.length &lt; 1)\r\n            return data;\r\n\r\n        return Arrays.stream(data).filter(d-&gt;Arrays.stream(data).filter(i-&gt;i==d).count()&lt;=n).toArray();\r\n    }\r\n}\r\n```","title":"Google Foobar challenge Minion Work Assignment Java test cases not passing","body":"<p>I have tried solving this problem using Java and for some reason only 2 out of 9 test cases pass but locally all my test cases pass. I am 99% positive that there is some issue with Google Foobar Java test cases for this challenge. <strong>Did someone encounter this and if yes, what did you do to solve it?</strong></p>\n<p>Question was...</p>\n<pre><code>Write a function called solution(data, n) that takes in a list of \nless than 100 integers and a number n, and returns that same list \nbut with all of the numbers that occur more than n times removed \nentirely. \n\nThe returned list should retain the same ordering as the original \nlist - you don't want to mix up those carefully-planned shift \nrotations! For instance, if data was [5, 10, 15, 10, 7] and n was 1,\nsolution(data, n) would return the list [5, 15, 7] because 10 occurs \ntwice, and thus was removed from the list entirely.\n\n-- Java cases --\nInput:\nSolution.solution({1, 2, 3}, 0)\nOutput:\n    \n\nInput:\nSolution.solution({1, 2, 2, 3, 3, 3, 4, 5, 5}, 1)\nOutput:\n    1,4\n\nThere are 6 more test cases that are hidden.\n</code></pre>\n<p>Below is the solution I created.</p>\n<pre><code>public class MinionShift {\n    public static int[] solution(int[] data, int n) {\n        if(n&lt;1)\n            return new int[0];\n\n        if(data.length &lt; 1)\n            return data;\n\n        Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n\n        for(int d: data) {\n                map.put(d, map.getOrDefault(d, 0) + 1);\n        }\n\n        return Arrays.stream(data).filter(c-&gt;map.containsKey(c) &amp;&amp; !(map.get(c)&gt;n)).toArray();\n    }\n}\n</code></pre>\n<p>Test cases that I have tried...</p>\n<pre><code>[{1, 2, 3}, 0]\n[{1, 2, 2, 3, 3, 3, 4, 5, 5}, 1]\n[{1, 2, 2, 3, 3, 3, 4, 5, 5}, 10]\n[{1, 2, 2, 3, 3, 3, 4, 5, 5}, -1]\n[{}, 5]\n[{1, 1, 1, 1, 1}, 5]\n[{101, 102, 103, 104, 105}, 5]\n</code></pre>\n<p><strong>Edit...</strong>\nI tried a Java stream based solution as follows but unfortunately the challenge went away as I submitted a Python solution. But I am posting it here anyways.</p>\n<pre><code>public class MinionShift {\n    public static int[] solution(int[] data, int n) {\n        if(n&lt;1)\n            return new int[0];\n\n        if(data.length &lt; 1)\n            return data;\n\n        return Arrays.stream(data).filter(d-&gt;Arrays.stream(data).filter(i-&gt;i==d).count()&lt;=n).toArray();\n    }\n}\n</code></pre>\n"},{"tags":["java","constants","final"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1457319273,"post_id":2735736,"comment_id":59337733,"body_markdown":"There *is* a `const` keyword, but there is no underlying feature. Corrected your title and tags accordingly.","body":"There <i>is</i> a <code>const</code> keyword, but there is no underlying feature. Corrected your title and tags accordingly."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":8,"up_vote_count":5,"is_accepted":false,"score":-3,"last_activity_date":1272530717,"creation_date":1272529747,"answer_id":2735794,"question_id":2735736,"body_markdown":"There would be two ways to define constants - `const` and `static final`, with the exact same semantics. Furthermore `static final` describes the behaviour better than `const`","title":"Why is there no Constant feature in Java?","body":"<p>There would be two ways to define constants - <code>const</code> and <code>static final</code>, with the exact same semantics. Furthermore <code>static final</code> describes the behaviour better than <code>const</code></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1364572931,"creation_date":1272530067,"answer_id":2735830,"question_id":2735736,"body_markdown":"The C++ semantics of `const` are very different from Java `final`.  If the designers had used `const` it would have been unnecessarily confusing.\r\n\r\nThe fact that `const` is a reserved word suggests that the designers had ideas for implementing `const`, but they have since decided against it; see [this closed bug][1].  The stated reasons include that adding support for C++ style `const` would cause compatibility problems.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4211070","title":"Why is there no Constant feature in Java?","body":"<p>The C++ semantics of <code>const</code> are very different from Java <code>final</code>.  If the designers had used <code>const</code> it would have been unnecessarily confusing.</p>\n<p>The fact that <code>const</code> is a reserved word suggests that the designers had ideas for implementing <code>const</code>, but they have since decided against it; see <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4211070\" rel=\"nofollow noreferrer\">this closed bug</a>.  The stated reasons include that adding support for C++ style <code>const</code> would cause compatibility problems.</p>\n"},{"tags":[],"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"down_vote_count":5,"up_vote_count":12,"is_accepted":false,"score":7,"last_activity_date":1272551243,"creation_date":1272530293,"answer_id":2735845,"question_id":2735736,"body_markdown":"`const` in C++ does not mean that a value is a constant.\r\n\r\n`const` in C++ implies that the client of a contract undertakes not to alter its value. \r\n\r\nWhether the value of a `const` expression changes becomes more evident if you are in an environment which supports thread based concurrency.\r\n\r\nAs Java was designed from the start to support thread and lock concurrency, it didn&#39;t add to confusion by overloading the term to have the semantics that `final` has. \r\n\r\neg:\r\n\r\n    #include &lt;iostream&gt;\r\n\r\n    int main ()\r\n    {\r\n        volatile const int x = 42;\r\n        \r\n        std::cout &lt;&lt; x &lt;&lt; std::endl;\r\n        \r\n        *const_cast&lt;int*&gt;(&amp;x) = 7;\r\n        \r\n        std::cout &lt;&lt; x &lt;&lt; std::endl;\r\n        \r\n        return 0;\r\n    }\r\n\r\noutputs 42 then 7.\r\n\r\nAlthough `x` marked as `const`, as a non-const alias is created, `x` is not a constant. Not every compiler requires `volatile` for this behaviour (though every compiler is permitted to inline the constant)\r\n\r\nWith more complicated systems you get const/non-const aliases without use of `const_cast`, so getting into the habit of thinking that const means something won&#39;t change becomes more and more dangerous. `const` merely means that your code can&#39;t change it without a cast, not that the value is constant.","title":"Why is there no Constant feature in Java?","body":"<p><code>const</code> in C++ does not mean that a value is a constant.</p>\n\n<p><code>const</code> in C++ implies that the client of a contract undertakes not to alter its value. </p>\n\n<p>Whether the value of a <code>const</code> expression changes becomes more evident if you are in an environment which supports thread based concurrency.</p>\n\n<p>As Java was designed from the start to support thread and lock concurrency, it didn't add to confusion by overloading the term to have the semantics that <code>final</code> has. </p>\n\n<p>eg:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nint main ()\n{\n    volatile const int x = 42;\n\n    std::cout &lt;&lt; x &lt;&lt; std::endl;\n\n    *const_cast&lt;int*&gt;(&amp;x) = 7;\n\n    std::cout &lt;&lt; x &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>outputs 42 then 7.</p>\n\n<p>Although <code>x</code> marked as <code>const</code>, as a non-const alias is created, <code>x</code> is not a constant. Not every compiler requires <code>volatile</code> for this behaviour (though every compiler is permitted to inline the constant)</p>\n\n<p>With more complicated systems you get const/non-const aliases without use of <code>const_cast</code>, so getting into the habit of thinking that const means something won't change becomes more and more dangerous. <code>const</code> merely means that your code can't change it without a cast, not that the value is constant.</p>\n"},{"tags":[],"owner":{"account_id":60234,"reputation":7011,"user_id":179984,"display_name":"Gunslinger47"},"down_vote_count":1,"up_vote_count":157,"is_accepted":true,"score":156,"last_activity_date":1272530997,"creation_date":1272530997,"answer_id":2735906,"question_id":2735736,"body_markdown":"Every time I go from heavy C++ coding to Java, it takes me a little while to adapt to the lack of &lt;a href=&quot;http://en.wikipedia.org/wiki/Const-correctness&quot;&gt;const-correctness&lt;/a&gt; in Java.  This usage of `const` in C++ is much different than just declaring constant variables, if you didn&#39;t know.  Essentially, it ensures that an object is immutable when accessed through a special kind of pointer called a const-pointer  When in Java, in places where I&#39;d normally want to return a const-pointer, I instead return a reference with an interface type containing only methods that shouldn&#39;t have side effects.  Unfortunately, this isn&#39;t enforced by the langauge.\r\n\r\nWikipedia offers the following information on the subject:\r\n\r\n&gt; Interestingly, the Java language specification regards const  as a reserved keyword — i.e., one that cannot be used as variable identifier — but assigns no semantics to it. It is thought that the reservation of the keyword occurred to allow for an extension of the Java language to include C++-style const methods and pointer to const type. The enhancement request ticket in the Java Community Process for implementing const correctness in Java was closed in 2005, implying that const correctness will probably never find its way into the official Java specification.","title":"Why is there no Constant feature in Java?","body":"<p>Every time I go from heavy C++ coding to Java, it takes me a little while to adapt to the lack of <a href=\"http://en.wikipedia.org/wiki/Const-correctness\" rel=\"noreferrer\">const-correctness</a> in Java.  This usage of <code>const</code> in C++ is much different than just declaring constant variables, if you didn't know.  Essentially, it ensures that an object is immutable when accessed through a special kind of pointer called a const-pointer  When in Java, in places where I'd normally want to return a const-pointer, I instead return a reference with an interface type containing only methods that shouldn't have side effects.  Unfortunately, this isn't enforced by the langauge.</p>\n\n<p>Wikipedia offers the following information on the subject:</p>\n\n<blockquote>\n  <p>Interestingly, the Java language specification regards const  as a reserved keyword — i.e., one that cannot be used as variable identifier — but assigns no semantics to it. It is thought that the reservation of the keyword occurred to allow for an extension of the Java language to include C++-style const methods and pointer to const type. The enhancement request ticket in the Java Community Process for implementing const correctness in Java was closed in 2005, implying that const correctness will probably never find its way into the official Java specification.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6664,"reputation":85917,"user_id":11296,"display_name":"Bert F"},"down_vote_count":1,"up_vote_count":90,"is_accepted":false,"score":89,"last_activity_date":1675805359,"creation_date":1272534269,"answer_id":2736231,"question_id":2735736,"body_markdown":"**What does `const` mean**  \r\nFirst, realize that the semantics of a &quot;const&quot; keyword means different things to different people:\r\n\r\n - *read-only reference* - Java `final` semantics - reference variable itself cannot be reassigned to point to another instance (memory location), but the instance itself is modifiable\r\n - *readable-only reference* - C `const` pointer/reference semantics - means this reference cannot be used to modify the instance (e.g. cannot assign to instance variables, cannot invoke mutable methods) - affects the reference variable only, so a non-const reference pointing to the same instance could modify the instance\r\n - *immutable object* - means the instance itself cannot be modified - applies to instance, so any non-const reference would not be allowed or could not be used to modify the instance\r\n - *some combination of the the above*?\r\n - *others*?\r\n\r\n**Why or Why Not `const`**  \r\nSecond, if you really want to dig into some of the &quot;pro&quot; vs &quot;con&quot; arguments, see the discussion under this request for enhancement (RFE) &quot;bug&quot;.  This RFE requests a &quot;readable-only reference&quot;-type &quot;const&quot; feature. Opened in 1999 and then closed/rejected by Sun in 2005, the &quot;const&quot; topic was vigorously debated:\r\n\r\n[https://bugs.java.com/bugdatabase/view_bug?bug_id=4211070][1]\r\n\r\nWhile there are a lot of good arguments on both sides, some of the oft-cited (but not necessarily compelling or clear-cut) reasons against `const` include:\r\n\r\n - may have confusing semantics that may be misused and/or abused (see the *What does `const` mean* above)\r\n - may duplicate capability otherwise available (e.g. designing an immutable class, using an immutable interface)\r\n - may be feature creep, leading to a need for other semantic changes such as support for passing objects by value\r\n\r\n---\r\n\r\nBefore anyone tries to debate me about whether these are good or bad reasons, note that these are *not my reasons*. They are simply the &quot;gist&quot; of some of the reasons I gleaned from skimming the RFE discussion.  I don&#39;t necessarily agree with them myself - I&#39;m simply trying to cite why some people (not me) may feel a `const` keyword may not be a good idea.  Personally, I&#39;d love more &quot;const&quot; semantics to be introduced to the language in an unambiguous manner.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20110930062627/https://bugs.java.com/bugdatabase/view_bug?bug_id=4211070","title":"Why is there no Constant feature in Java?","body":"<p><strong>What does <code>const</code> mean</strong><br />\nFirst, realize that the semantics of a &quot;const&quot; keyword means different things to different people:</p>\n<ul>\n<li><em>read-only reference</em> - Java <code>final</code> semantics - reference variable itself cannot be reassigned to point to another instance (memory location), but the instance itself is modifiable</li>\n<li><em>readable-only reference</em> - C <code>const</code> pointer/reference semantics - means this reference cannot be used to modify the instance (e.g. cannot assign to instance variables, cannot invoke mutable methods) - affects the reference variable only, so a non-const reference pointing to the same instance could modify the instance</li>\n<li><em>immutable object</em> - means the instance itself cannot be modified - applies to instance, so any non-const reference would not be allowed or could not be used to modify the instance</li>\n<li><em>some combination of the the above</em>?</li>\n<li><em>others</em>?</li>\n</ul>\n<p><strong>Why or Why Not <code>const</code></strong><br />\nSecond, if you really want to dig into some of the &quot;pro&quot; vs &quot;con&quot; arguments, see the discussion under this request for enhancement (RFE) &quot;bug&quot;.  This RFE requests a &quot;readable-only reference&quot;-type &quot;const&quot; feature. Opened in 1999 and then closed/rejected by Sun in 2005, the &quot;const&quot; topic was vigorously debated:</p>\n<p><a href=\"https://web.archive.org/web/20110930062627/https://bugs.java.com/bugdatabase/view_bug?bug_id=4211070\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=4211070</a></p>\n<p>While there are a lot of good arguments on both sides, some of the oft-cited (but not necessarily compelling or clear-cut) reasons against <code>const</code> include:</p>\n<ul>\n<li>may have confusing semantics that may be misused and/or abused (see the <em>What does <code>const</code> mean</em> above)</li>\n<li>may duplicate capability otherwise available (e.g. designing an immutable class, using an immutable interface)</li>\n<li>may be feature creep, leading to a need for other semantic changes such as support for passing objects by value</li>\n</ul>\n<hr />\n<p>Before anyone tries to debate me about whether these are good or bad reasons, note that these are <em>not my reasons</em>. They are simply the &quot;gist&quot; of some of the reasons I gleaned from skimming the RFE discussion.  I don't necessarily agree with them myself - I'm simply trying to cite why some people (not me) may feel a <code>const</code> keyword may not be a good idea.  Personally, I'd love more &quot;const&quot; semantics to be introduced to the language in an unambiguous manner.</p>\n"},{"tags":[],"owner":{"account_id":1473546,"reputation":1151,"user_id":1384513,"display_name":"hamish"},"down_vote_count":6,"up_vote_count":5,"is_accepted":false,"score":-1,"last_activity_date":1562092601,"creation_date":1365870283,"answer_id":15990047,"question_id":2735736,"body_markdown":"You can use static final to create something that works similar to Const, I have used this in the past.\r\n\r\n    protected static final int cOTHER = 0;\r\n    protected static final int cRPM = 1;\r\n    protected static final int cSPEED = 2;\r\n    protected static final int cTPS = 3;\r\n    protected int DataItemEnum = 0;\r\n\r\n    public static final int INVALID_PIN = -1;\r\n    public static final int LED_PIN = 0;\r\n","title":"Why is there no Constant feature in Java?","body":"<p>You can use static final to create something that works similar to Const, I have used this in the past.</p>\n\n<pre><code>protected static final int cOTHER = 0;\nprotected static final int cRPM = 1;\nprotected static final int cSPEED = 2;\nprotected static final int cTPS = 3;\nprotected int DataItemEnum = 0;\n\npublic static final int INVALID_PIN = -1;\npublic static final int LED_PIN = 0;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1137268,"reputation":1777,"user_id":1122069,"accept_rate":68,"display_name":"user1122069"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1457316892,"creation_date":1457316892,"answer_id":35835148,"question_id":2735736,"body_markdown":"There is a way to create &quot;const&quot; variables in Java, but only for specific classes. Just define a class with final properties and subclass it. Then use the base class where you would want to use &quot;const&quot;. Likewise, if you need to use &quot;const&quot; methods, add them to the base class. The compiler will not allow you to modify what it thinks is the final methods of the base class, but it will read and call methods on the subclass.","title":"Why is there no Constant feature in Java?","body":"<p>There is a way to create \"const\" variables in Java, but only for specific classes. Just define a class with final properties and subclass it. Then use the base class where you would want to use \"const\". Likewise, if you need to use \"const\" methods, add them to the base class. The compiler will not allow you to modify what it thinks is the final methods of the base class, but it will read and call methods on the subclass.</p>\n"},{"tags":[],"owner":{"account_id":4145727,"reputation":480,"user_id":3399519,"display_name":"grego"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1465328162,"creation_date":1465328162,"answer_id":37687858,"question_id":2735736,"body_markdown":"This is a bit of an old question, but I thought I would contribute my 2 cents anyway since this thread came up in conversation today.\r\n\r\nThis doesn&#39;t exactly answer *why is there no const?* but *how* to make your classes immutable. (Unfortunately I have not enough reputation yet to post as a comment to the accepted answer)\r\n\r\nThe way to guarantee immutability on an object is to design your classes more carefully to be immutable. This requires a bit more care than a mutable class.\r\n\r\nThis goes back to Josh Bloch&#39;s *Effective Java* **Item 15 - Minimize Mutability**. If you haven&#39;t read the book, pick up a copy and read it over a few times I guarantee it will up your figurative *&quot;java game&quot;*.\r\n\r\nIn item 15 Bloch suggest that you should limit the mutability of classes to ensure the object&#39;s state.\r\n\r\nTo quote the book directly:\r\n\r\n&gt; An immutable class is simply a class whose instances cannot be modified. All of the information contained in each instance is provided when it is created and is fixed for the lifetime of the object. The Java platform libraries contain many immutable classes, including String, the boxed primitive classes, and BigInte- ger and BigDecimal. There are many good reasons for this: Immutable classes are easier to design, implement, and use than mutable classes. They are less prone to error and are more secure.\r\n\r\nBloch then describes how to make your classes immutable, by following 5 simple rules:\r\n\r\n1. Don’t provide any methods that modify the object’s state (i.e., setters, aka *mutators*)\r\n2. Ensure that the class can’t be extended (this means declaring the class itself as `final`).\r\n3. Make all fields `final`.\r\n4. Make all fields `private`. \r\n5. Ensure exclusive access to any mutable components. (by making defensive copies of the objects)\r\n\r\nFor more details I highly recommend picking up a copy of the book.","title":"Why is there no Constant feature in Java?","body":"<p>This is a bit of an old question, but I thought I would contribute my 2 cents anyway since this thread came up in conversation today.</p>\n\n<p>This doesn't exactly answer <em>why is there no const?</em> but <em>how</em> to make your classes immutable. (Unfortunately I have not enough reputation yet to post as a comment to the accepted answer)</p>\n\n<p>The way to guarantee immutability on an object is to design your classes more carefully to be immutable. This requires a bit more care than a mutable class.</p>\n\n<p>This goes back to Josh Bloch's <em>Effective Java</em> <strong>Item 15 - Minimize Mutability</strong>. If you haven't read the book, pick up a copy and read it over a few times I guarantee it will up your figurative <em>\"java game\"</em>.</p>\n\n<p>In item 15 Bloch suggest that you should limit the mutability of classes to ensure the object's state.</p>\n\n<p>To quote the book directly:</p>\n\n<blockquote>\n  <p>An immutable class is simply a class whose instances cannot be modified. All of the information contained in each instance is provided when it is created and is fixed for the lifetime of the object. The Java platform libraries contain many immutable classes, including String, the boxed primitive classes, and BigInte- ger and BigDecimal. There are many good reasons for this: Immutable classes are easier to design, implement, and use than mutable classes. They are less prone to error and are more secure.</p>\n</blockquote>\n\n<p>Bloch then describes how to make your classes immutable, by following 5 simple rules:</p>\n\n<ol>\n<li>Don’t provide any methods that modify the object’s state (i.e., setters, aka <em>mutators</em>)</li>\n<li>Ensure that the class can’t be extended (this means declaring the class itself as <code>final</code>).</li>\n<li>Make all fields <code>final</code>.</li>\n<li>Make all fields <code>private</code>. </li>\n<li>Ensure exclusive access to any mutable components. (by making defensive copies of the objects)</li>\n</ol>\n\n<p>For more details I highly recommend picking up a copy of the book.</p>\n"},{"tags":[],"owner":{"account_id":27687275,"reputation":1,"user_id":21134784,"display_name":"Anish Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697373759,"creation_date":1697373759,"answer_id":77296696,"question_id":2735736,"body_markdown":"According to one of the text book that I have refered tells that,\r\n&quot;const is a Java keyword but it is not being used now to create constants. so, you need to use final keyword&quot; ","title":"Why is there no Constant feature in Java?","body":"<p>According to one of the text book that I have refered tells that,\n&quot;const is a Java keyword but it is not being used now to create constants. so, you need to use final keyword&quot;</p>\n"}],"owner":{"account_id":85376,"reputation":15716,"user_id":238052,"accept_rate":66,"display_name":"gmhk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148754,"favorite_count":0,"down_vote_count":0,"up_vote_count":158,"accepted_answer_id":2735906,"answer_count":9,"score":158,"last_activity_date":1697373759,"creation_date":1272529177,"question_id":2735736,"body_markdown":"I was trying to identify the reason behind constants in Java\r\nI have learned that Java allows us to declare constants by using `final` keyword.\r\n\r\nMy question is why didn&#39;t Java introduce a Constant (`const`) feature. Since many people say it has come from C++, in C++ we have `const` keyword.\r\n\r\nPlease share your thoughts.\r\n","title":"Why is there no Constant feature in Java?","body":"<p>I was trying to identify the reason behind constants in Java\nI have learned that Java allows us to declare constants by using <code>final</code> keyword.</p>\n\n<p>My question is why didn't Java introduce a Constant (<code>const</code>) feature. Since many people say it has come from C++, in C++ we have <code>const</code> keyword.</p>\n\n<p>Please share your thoughts.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697266098,"creation_date":1697248950,"answer_id":77291370,"question_id":77256849,"body_markdown":"You should use `@GenericGenerator` instead of going for `@SequenceGenerator` to get more granular control to generate sequences.\r\n\r\nFound a hacky way via `SequenceStyleGenerator.CONFIG_SEQUENCE_PER_ENTITY_SUFFIX` to generate the sequences for subclasses without even modifying them.\r\n\r\nTry this:\r\n\r\n    import jakarta.persistence.*;\r\n    import org.hibernate.annotations.GenericGenerator;\r\n    import org.hibernate.annotations.Parameter;\r\n    import org.hibernate.id.enhanced.SequenceStyleGenerator;\r\n    \r\n    @MappedSuperclass\r\n    public class BaseIdentifier {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;custom_gen&quot;)\r\n        @GenericGenerator(name = &quot;custom_gen&quot;, strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\r\n                parameters = {\r\n                        @Parameter(name = SequenceStyleGenerator.CONFIG_SEQUENCE_PER_ENTITY_SUFFIX, value = &quot;_seq&quot;),\r\n                        @Parameter(name = SequenceStyleGenerator.INITIAL_PARAM, value = &quot;1&quot;),\r\n                        @Parameter(name = SequenceStyleGenerator.INCREMENT_PARAM, value = &quot;1&quot;)})\r\n        @Column(updatable = false, nullable = false)\r\n        private Long id;\r\n    \r\n    }\r\n\r\nOrder_Table:\r\n\r\n    import jakarta.persistence.Entity;\r\n\r\n    @Entity\r\n    public class Order_Table extends BaseIdentifier {\r\n    \r\n    }\r\n\r\nPurchase:\r\n\r\n    import jakarta.persistence.Entity;\r\n\r\n    @Entity\r\n    public class Purchase extends BaseIdentifier {\r\n    \r\n    }\r\n\r\n\r\nSpring Boot logs:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**I&#39;ve tested with Oracle DB, it&#39;s working.**\r\n\r\nORDER_TABLE:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nPURCHASE:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nORDER_TABLE_SEQ:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nPURCHASE_SEQ:\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QOs9J.png\r\n  [2]: https://i.stack.imgur.com/qMfI9.png\r\n  [3]: https://i.stack.imgur.com/gdarr.png\r\n  [4]: https://i.stack.imgur.com/oG2FT.png\r\n  [5]: https://i.stack.imgur.com/tY8YB.png","title":"Set Sequence Generator allocationSize to 1 for all subclasses via parent class","body":"<p>You should use <code>@GenericGenerator</code> instead of going for <code>@SequenceGenerator</code> to get more granular control to generate sequences.</p>\n<p>Found a hacky way via <code>SequenceStyleGenerator.CONFIG_SEQUENCE_PER_ENTITY_SUFFIX</code> to generate the sequences for subclasses without even modifying them.</p>\n<p>Try this:</p>\n<pre><code>import jakarta.persistence.*;\nimport org.hibernate.annotations.GenericGenerator;\nimport org.hibernate.annotations.Parameter;\nimport org.hibernate.id.enhanced.SequenceStyleGenerator;\n\n@MappedSuperclass\npublic class BaseIdentifier {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;custom_gen&quot;)\n    @GenericGenerator(name = &quot;custom_gen&quot;, strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\n            parameters = {\n                    @Parameter(name = SequenceStyleGenerator.CONFIG_SEQUENCE_PER_ENTITY_SUFFIX, value = &quot;_seq&quot;),\n                    @Parameter(name = SequenceStyleGenerator.INITIAL_PARAM, value = &quot;1&quot;),\n                    @Parameter(name = SequenceStyleGenerator.INCREMENT_PARAM, value = &quot;1&quot;)})\n    @Column(updatable = false, nullable = false)\n    private Long id;\n\n}\n</code></pre>\n<p>Order_Table:</p>\n<pre><code>import jakarta.persistence.Entity;\n\n@Entity\npublic class Order_Table extends BaseIdentifier {\n\n}\n</code></pre>\n<p>Purchase:</p>\n<pre><code>import jakarta.persistence.Entity;\n\n@Entity\npublic class Purchase extends BaseIdentifier {\n\n}\n</code></pre>\n<p>Spring Boot logs:</p>\n<p><a href=\"https://i.stack.imgur.com/QOs9J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QOs9J.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>I've tested with Oracle DB, it's working.</strong></p>\n<p>ORDER_TABLE:</p>\n<p><a href=\"https://i.stack.imgur.com/qMfI9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qMfI9.png\" alt=\"enter image description here\" /></a></p>\n<p>PURCHASE:</p>\n<p><a href=\"https://i.stack.imgur.com/gdarr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gdarr.png\" alt=\"enter image description here\" /></a></p>\n<p>ORDER_TABLE_SEQ:</p>\n<p><a href=\"https://i.stack.imgur.com/oG2FT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oG2FT.png\" alt=\"enter image description here\" /></a></p>\n<p>PURCHASE_SEQ:</p>\n<p><a href=\"https://i.stack.imgur.com/tY8YB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tY8YB.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":143734,"reputation":751,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77291370,"answer_count":1,"score":2,"last_activity_date":1697373711,"creation_date":1696835250,"question_id":77256849,"body_markdown":"I was going through this Oracle Docs on [`@SequenceGenerator`][1].\r\n\r\nAnd I was wondering on how to override the `@SequenceGenerator` with `allocationSize` to `1` for all entities (let&#39;s say Order &amp; Purchase) at a **global** level. By default it is `50`.\r\n\r\n**BaseIdentifier:**\r\n\r\n    public class BaseIdentifier {\r\n         \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(updatable = false, nullable = false)\r\n        private Long id; \r\n        \r\n        // .... constructors, other member variables, getters and setters\r\n    }\r\n\r\n    \r\n**Order:**\r\n\r\n    @Entity\r\n    public class Order extends BaseIdentifier {\r\n         // .... constructors, member variables, getters and setters\r\n    }\r\n    \r\n**Purchase:**\r\n\r\n    @Entity\r\n    public class Purchase extends BaseIdentifier {\r\n         // .... constructors, member variables, getters and setters\r\n    }\r\n\r\n\r\n**Sample output:**\r\n\r\n   \r\n\r\n     Hibernate: \r\n            create sequence orders_seq start with 1 increment by 50\r\n\r\nI can&#39;t set the `@SequenceGenerator` at the entity level since it inherits the `@Id` definition from Base which is common for all entities\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee%2F6%2Fapi%2F%2F/javax/persistence/SequenceGenerator.html","title":"Set Sequence Generator allocationSize to 1 for all subclasses via parent class","body":"<p>I was going through this Oracle Docs on <a href=\"https://docs.oracle.com/javaee%2F6%2Fapi%2F%2F/javax/persistence/SequenceGenerator.html\" rel=\"nofollow noreferrer\"><code>@SequenceGenerator</code></a>.</p>\n<p>And I was wondering on how to override the <code>@SequenceGenerator</code> with <code>allocationSize</code> to <code>1</code> for all entities (let's say Order &amp; Purchase) at a <strong>global</strong> level. By default it is <code>50</code>.</p>\n<p><strong>BaseIdentifier:</strong></p>\n<pre><code>public class BaseIdentifier {\n     \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(updatable = false, nullable = false)\n    private Long id; \n    \n    // .... constructors, other member variables, getters and setters\n}\n</code></pre>\n<p><strong>Order:</strong></p>\n<pre><code>@Entity\npublic class Order extends BaseIdentifier {\n     // .... constructors, member variables, getters and setters\n}\n</code></pre>\n<p><strong>Purchase:</strong></p>\n<pre><code>@Entity\npublic class Purchase extends BaseIdentifier {\n     // .... constructors, member variables, getters and setters\n}\n</code></pre>\n<p><strong>Sample output:</strong></p>\n<pre><code> Hibernate: \n        create sequence orders_seq start with 1 increment by 50\n</code></pre>\n<p>I can't set the <code>@SequenceGenerator</code> at the entity level since it inherits the <code>@Id</code> definition from Base which is common for all entities</p>\n"},{"tags":["java","android","jks"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1491953607,"post_id":43356191,"comment_id":73778459,"body_markdown":"Can you read the backup versions? If so, use the latest one you can read.","body":"Can you read the backup versions? If so, use the latest one you can read."},{"owner":{"account_id":3293310,"reputation":753,"user_id":2771100,"accept_rate":67,"display_name":"cooler"},"score":0,"creation_date":1491957377,"post_id":43356191,"comment_id":73779354,"body_markdown":"@EJP what do you mean by &quot;read the backup versions&quot;? When I used the keytool explorer, I am getting the errors as shown in the images I attached.","body":"@EJP what do you mean by &quot;read the backup versions&quot;? When I used the keytool explorer, I am getting the errors as shown in the images I attached."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1491961454,"post_id":43356191,"comment_id":73780322,"body_markdown":"You said you had several backups of the file. Can you read *any* of them? It isn&#39;t clear from your post. You&#39;ve only said a couple did this, a couple did that, ...","body":"You said you had several backups of the file. Can you read <i>any</i> of them? It isn&#39;t clear from your post. You&#39;ve only said a couple did this, a couple did that, ..."},{"owner":{"account_id":3293310,"reputation":753,"user_id":2771100,"accept_rate":67,"display_name":"cooler"},"score":0,"creation_date":1491974043,"post_id":43356191,"comment_id":73783707,"body_markdown":"@EJP sorry if it wasn&#39;t clear. Yes I tried all that and couldn&#39;t read any. All of them resulted in some error or the other.","body":"@EJP sorry if it wasn&#39;t clear. Yes I tried all that and couldn&#39;t read any. All of them resulted in some error or the other."}],"answers":[{"tags":[],"owner":{"account_id":2600250,"reputation":55,"user_id":2252866,"display_name":"Mediajon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697373616,"creation_date":1697373616,"answer_id":77296687,"question_id":43356191,"body_markdown":"You are getting error, I also used to get this error, only think s you need to install java or update it, after that, the terminal code will work. At least, that worked for me.","title":"Android Generate Signed APK : keytool error: java.io.IOException: Invalid keystore format","body":"<p>You are getting error, I also used to get this error, only think s you need to install java or update it, after that, the terminal code will work. At least, that worked for me.</p>\n"}],"owner":{"account_id":3293310,"reputation":753,"user_id":2771100,"accept_rate":67,"display_name":"cooler"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1813,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697373616,"creation_date":1491944754,"question_id":43356191,"body_markdown":"We have already spent past week debugging this problem. We have a live android app in the Google Play Store and have pushed a few updates to it already in the past successfully. There has been no changes in the .jks file that we have been using and we have followed the exact same procedure since starting. We are trying to generate the signed APK using Android Studio so we can push updates to production. When we do that, specifying the keystore path, passwords and alias name, it results in following error and we are stuck:\r\n\r\n    java.io.IOException: Invalid keystore format\r\n\r\nEven when I tried to run the below keytool command, I got the same error.\r\n\r\n    keytool -list -keystore &lt;our_keystore&gt;.jks\r\n\r\n**Backup strategy for our jks**\r\n\r\nWe had backups of &lt;our_keystore&gt;.jks file renaming the same file as \r\n&lt;our_keystore&gt;_01.jks\r\n&lt;our_keystore&gt;_02.jks and so on. We had this backup on our own lynux machine for security reasons and we didn&#39;t back this up somewhere like bitbucket.\r\n\r\n**This is what we have done so far:**\r\n\r\n 1. We have copied the &lt;our_keystore&gt;.jks file into different machines and tried executing the above keytool command, but it gives us the same error.\r\n 2. Downloaded this [keytool explorer][1] tool and tried to analyze our backups one by one listed above but a couple of backups gave us the message [![enter image description here][2]][2] and a couple others gave us the message (After it asked to enter the password and we did) - [![enter image description here][3]][3]\r\n\r\nAs mentioned earlier, we have not played with the jks files and have pushed updates in the past as normal. We are frightened to even imagine that we will have to re-publish our app as we have live users using this application. Now all our hope is on this community. Can anyone please help us as to what we should do and what might have happened?\r\n\r\n  [1]: http://keystore-explorer.org/\r\n  [2]: https://i.stack.imgur.com/Letc3.png\r\n  [3]: https://i.stack.imgur.com/0db06.png","title":"Android Generate Signed APK : keytool error: java.io.IOException: Invalid keystore format","body":"<p>We have already spent past week debugging this problem. We have a live android app in the Google Play Store and have pushed a few updates to it already in the past successfully. There has been no changes in the .jks file that we have been using and we have followed the exact same procedure since starting. We are trying to generate the signed APK using Android Studio so we can push updates to production. When we do that, specifying the keystore path, passwords and alias name, it results in following error and we are stuck:</p>\n\n<pre><code>java.io.IOException: Invalid keystore format\n</code></pre>\n\n<p>Even when I tried to run the below keytool command, I got the same error.</p>\n\n<pre><code>keytool -list -keystore &lt;our_keystore&gt;.jks\n</code></pre>\n\n<p><strong>Backup strategy for our jks</strong></p>\n\n<p>We had backups of .jks file renaming the same file as \n_01.jks\n_02.jks and so on. We had this backup on our own lynux machine for security reasons and we didn't back this up somewhere like bitbucket.</p>\n\n<p><strong>This is what we have done so far:</strong></p>\n\n<ol>\n<li>We have copied the .jks file into different machines and tried executing the above keytool command, but it gives us the same error.</li>\n<li>Downloaded this <a href=\"http://keystore-explorer.org/\" rel=\"nofollow noreferrer\">keytool explorer</a> tool and tried to analyze our backups one by one listed above but a couple of backups gave us the message <a href=\"https://i.stack.imgur.com/Letc3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Letc3.png\" alt=\"enter image description here\"></a> and a couple others gave us the message (After it asked to enter the password and we did) - <a href=\"https://i.stack.imgur.com/0db06.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0db06.png\" alt=\"enter image description here\"></a></li>\n</ol>\n\n<p>As mentioned earlier, we have not played with the jks files and have pushed updates in the past as normal. We are frightened to even imagine that we will have to re-publish our app as we have live users using this application. Now all our hope is on this community. Can anyone please help us as to what we should do and what might have happened?</p>\n"},{"tags":["java","android","selinux"],"owner":{"account_id":6468880,"reputation":119,"user_id":5664068,"display_name":"Takshak Rajput"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697373186,"creation_date":1693272924,"question_id":76996823,"body_markdown":"So far I have tried a few methods available on the official website and other online sources. Such as getting the result by executing the `getenforce` command.\r\n\r\n    private fun isSELinuxEnabled(): () -&gt; Boolean {\r\n        return {\r\n            val process = Runtime.getRuntime().exec(arrayOf(&quot;getenforce&quot;))\r\n            val reader = BufferedReader(InputStreamReader(process.inputStream))\r\n            val status = reader.readLine()\r\n            process.waitFor()\r\n\r\n            Log.d(TAG, &quot;isSELinuxEnabled(): $status&quot;)\r\n            status == &quot;enforcing&quot;\r\n        }\r\n    }\r\n\r\nI also tried JNI to get the status using the following:\r\n\r\n    FILE *file = fopen(&quot;/sys/fs/selinux/enforce&quot;, &quot;r&quot;);\r\n    if (file == NULL) {\r\n        return (*env)-&gt;NewStringUTF(env, &quot;Unknown&quot;); // Return &quot;Unknown&quot; if the file cannot be opened\r\n    }\r\n\r\n    char status[10];\r\n    fgets(status, sizeof(status), file);\r\n    fclose(file);\r\n\r\n    if (strcmp(status, &quot;1\\n&quot;) == 0) {\r\n        return (*env)-&gt;NewStringUTF(env, &quot;Enforcing&quot;);\r\n    } else {\r\n        return (*env)-&gt;NewStringUTF(env, &quot;Permissive&quot;);\r\n    }\r\n\r\nAdditionally, there are some properties also available, like `ro.boot.selinux` and `ro.build.selinux` to get the SELinux status. So far no luck, None of the devices produce any result, all of the methods return either null or unknown value and never Enforcing or Permissive, even if the Enforcing is enabled which I verified using `adb shell getenfoce`.\r\n\r\nThe **adb** command works in the terminal of my system but when even that is executed from the app, it produces the same result.\r\n\r\nSo folks, here is my burning question: Is there any reliable way to get the status of SELinux in Android using either JNI or pure Kotlin/Java?\r\n\r\n","title":"How to get SELinux status on Android","body":"<p>So far I have tried a few methods available on the official website and other online sources. Such as getting the result by executing the <code>getenforce</code> command.</p>\n<pre><code>private fun isSELinuxEnabled(): () -&gt; Boolean {\n    return {\n        val process = Runtime.getRuntime().exec(arrayOf(&quot;getenforce&quot;))\n        val reader = BufferedReader(InputStreamReader(process.inputStream))\n        val status = reader.readLine()\n        process.waitFor()\n\n        Log.d(TAG, &quot;isSELinuxEnabled(): $status&quot;)\n        status == &quot;enforcing&quot;\n    }\n}\n</code></pre>\n<p>I also tried JNI to get the status using the following:</p>\n<pre><code>FILE *file = fopen(&quot;/sys/fs/selinux/enforce&quot;, &quot;r&quot;);\nif (file == NULL) {\n    return (*env)-&gt;NewStringUTF(env, &quot;Unknown&quot;); // Return &quot;Unknown&quot; if the file cannot be opened\n}\n\nchar status[10];\nfgets(status, sizeof(status), file);\nfclose(file);\n\nif (strcmp(status, &quot;1\\n&quot;) == 0) {\n    return (*env)-&gt;NewStringUTF(env, &quot;Enforcing&quot;);\n} else {\n    return (*env)-&gt;NewStringUTF(env, &quot;Permissive&quot;);\n}\n</code></pre>\n<p>Additionally, there are some properties also available, like <code>ro.boot.selinux</code> and <code>ro.build.selinux</code> to get the SELinux status. So far no luck, None of the devices produce any result, all of the methods return either null or unknown value and never Enforcing or Permissive, even if the Enforcing is enabled which I verified using <code>adb shell getenfoce</code>.</p>\n<p>The <strong>adb</strong> command works in the terminal of my system but when even that is executed from the app, it produces the same result.</p>\n<p>So folks, here is my burning question: Is there any reliable way to get the status of SELinux in Android using either JNI or pure Kotlin/Java?</p>\n"},{"tags":["java","agents-jade"],"answers":[{"tags":[],"owner":{"account_id":15476638,"reputation":86,"user_id":11165127,"display_name":"Hc."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697372368,"creation_date":1697372368,"answer_id":77296606,"question_id":75461159,"body_markdown":"You have a dependency problem, your project cannot find Jade and its associated classes. \r\nYou should add Jade using maven so that your IDE can update the missing libraries.\r\n\r\n**Repository to add to your pom**\r\n\r\n    &lt;repositories&gt;\r\n    \t&lt;repository&gt;\r\n    \t    &lt;id&gt;jitpack.io&lt;/id&gt;\r\n    \t    &lt;url&gt;https://jitpack.io&lt;/url&gt;\r\n    \t&lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n**Dependency to add to your pom**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.gitlab.jade-project&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jade&lt;/artifactId&gt;\r\n        &lt;version&gt;master-SNAPSHOT&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSee : https://jade-project.gitlab.io/page/download/","title":"How can i resolve these errors got in VS Code for running a java code in JADE platform","body":"<p>You have a dependency problem, your project cannot find Jade and its associated classes.\nYou should add Jade using maven so that your IDE can update the missing libraries.</p>\n<p><strong>Repository to add to your pom</strong></p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;jitpack.io&lt;/id&gt;\n        &lt;url&gt;https://jitpack.io&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p><strong>Dependency to add to your pom</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.gitlab.jade-project&lt;/groupId&gt;\n    &lt;artifactId&gt;jade&lt;/artifactId&gt;\n    &lt;version&gt;master-SNAPSHOT&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>See : <a href=\"https://jade-project.gitlab.io/page/download/\" rel=\"nofollow noreferrer\">https://jade-project.gitlab.io/page/download/</a></p>\n"}],"owner":{"account_id":27794124,"reputation":1,"user_id":21220014,"display_name":"xfull xfullian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697372421,"creation_date":1676470763,"question_id":75461159,"body_markdown":"\r\n```\r\nimport jade.core.Agent;\r\nimport jade.core.Runtime;\r\nimport jade.core.Profile;\r\nimport jade.core.ProfileImpl;\r\nimport jade.core.behaviours.*;\r\nimport jade.lang.acl.ACLMessage;\r\nimport jade.lang.acl.MessageTemplate;\r\npublic class Main {\r\npublic static void main(String[] args) {\r\n    Runtime rt = Runtime.instance();\r\n    Profile p = new ProfileImpl();\r\n    AgentContainer container = rt.createMainContainer(p);\r\n    \r\n    try {\r\n        AgentController seller = jade.core.container.createNewAgent(&quot;Seller&quot;, SellerAgent.class, null);\r\n        seller.start();\r\n    \r\n        String[] buyerArgs = new String[]{&quot;A&quot;};\r\n        AgentController buyer1 = container.createNewAgent(&quot;B1&quot;, BuyerAgent.class, buyerArgs);\r\n        buyer1.start();\r\n    \r\n        buyerArgs[0] = &quot;B&quot;;\r\n        AgentController buyer2 = container.createNewAgent(&quot;B2&quot;, BuyerAgent.class, buyerArgs);\r\n        buyer2.start();\r\n    \r\n        buyerArgs[0] = &quot;A&quot;;\r\n        AgentController buyer3 = container.createNewAgent(&quot;B3&quot;, BuyerAgent.class, buyerArgs);\r\n        buyer3.start();\r\n    \r\n        buyerArgs[0] = &quot;B&quot;;\r\n        AgentController buyer4 = container.createNewAgent(&quot;B4&quot;, BuyerAgent.class, buyerArgs);\r\n        buyer4.start();\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n}\r\n\r\npublic class BuyerAgent extends Agent {\r\n    private String requestedProduct;\r\n    private String sellerName;\r\n    private List&lt;String&gt; purchasedProducts = new ArrayList&lt;&gt;();\r\n\r\n    protected void setup() {\r\n        // Get the requested product name as an argument\r\n        Object[] args = getArguments();\r\n        if (args != null &amp;&amp; args.length &gt; 0) {\r\n            requestedProduct = (String) args[0];\r\n        }\r\n\r\n        // Add the behavior to request the product from the seller\r\n        addBehaviour(new RequestProductBehaviour());\r\n    }\r\n\r\n    private class RequestProductBehaviour extends OneShotBehaviour {\r\n        public void action() {\r\n            ACLMessage message = new ACLMessage(ACLMessage.REQUEST);\r\n            message.setContent(requestedProduct);\r\n            message.addReceiver(sellerName);\r\n            myAgent.send(message);\r\n\r\n            // Wait for the seller&#39;s response\r\n            addBehaviour(new PurchaseResponseBehaviour());\r\n        }\r\n    }\r\n\r\n    private class PurchaseResponseBehaviour extends SimpleBehaviour {\r\n        private boolean receivedResponse = false;\r\n\r\n        public void action() {\r\n            MessageTemplate mt = MessageTemplate.MatchPerformative(ACLMessage.INFORM);\r\n            ACLMessage message = myAgent.receive(mt);\r\n            if (message != null) {\r\n                // Product was available and was sold to this buyer\r\n                purchasedProducts.add(requestedProduct);\r\n                receivedResponse = true;\r\n            } else {\r\n                block();\r\n            }\r\n        }\r\n\r\n        public boolean done() {\r\n            if (receivedResponse) {\r\n                System.out.println(getLocalName() + &quot; purchased: &quot; + purchasedProducts);\r\n            }\r\n            return receivedResponse;\r\n        }\r\n    }\r\n}\r\n\r\npublic class SellerAgent extends Agent {\r\n    private int itemsA = 2;\r\n    private int itemsB = 2;\r\n    private List&lt;String&gt; buyers = new ArrayList&lt;&gt;();\r\n\r\n    protected void setup() {\r\n        // Add the behavior to handle product request messages\r\n        addBehaviour(new HandleRequestBehaviour());\r\n    }\r\n\r\n    private class HandleRequestBehaviour extends CyclicBehaviour {\r\n        public void action() {\r\n            MessageTemplate mt = MessageTemplate.MatchPerformative(ACLMessage.REQUEST);\r\n            ACLMessage message = myAgent.receive(mt);\r\n            if (message != null) {\r\n                String product = message.getContent();\r\n                String buyerName = message.getSender().getLocalName();\r\n                ACLMessage reply = message.createReply();\r\n\r\n                if (buyerName.equals(&quot;B3&quot;) &amp;&amp; product.equals(&quot;B&quot;)) {\r\n                    // Seller cannot sell product B to buyer B3\r\n                    reply.setPerformative(ACLMessage.FAILURE);\r\n                    reply.setContent(&quot;Not allowed&quot;);\r\n                } else if (product.equals(&quot;A&quot;) &amp;&amp; itemsA &gt; 0) {\r\n                    itemsA--;\r\n                    reply.setPerformative(ACLMessage.INFORM);\r\n                    buyers.add(buyerName);\r\n                } else if (product.equals(&quot;B&quot;) &amp;&amp; itemsB &gt;\r\n                0) {\r\n                    itemsB--;\r\n                    reply.setPerformative(ACLMessage.INFORM);\r\n                    buyers.add(buyerName);\r\n                } else {\r\n                    reply.setPerformative(ACLMessage.FAILURE);\r\n                    reply.setContent(&quot;Not available&quot;);\r\n                }\r\n\r\n                myAgent.send(reply);\r\n            } else {\r\n                block();\r\n            }\r\n        }\r\n    }\r\n\r\n    protected void takeDown() {\r\n        System.out.println(&quot;Seller &quot; + getLocalName() + &quot; sold to: &quot; + buyers);\r\n    }\r\n}\r\n\r\n\r\n```\r\nThis code gives me errors below:\r\n\r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n            The method instance() is undefined for the type Runtime\r\n            Profile cannot be resolved to a type\r\n            ProfileImpl cannot be resolved to a type\r\n            AgentContainer cannot be resolved to a type\r\n            AgentController cannot be resolved to a type\r\n            jade cannot be resolved\r\n            AgentController cannot be resolved to a type\r\n            AgentController cannot be resolved to a type\r\n            AgentController cannot be resolved to a type\r\n            AgentController cannot be resolved to a type\r\n    \r\n            at Main.main(main.java:10)","title":"How can i resolve these errors got in VS Code for running a java code in JADE platform","body":"<pre><code>import jade.core.Agent;\nimport jade.core.Runtime;\nimport jade.core.Profile;\nimport jade.core.ProfileImpl;\nimport jade.core.behaviours.*;\nimport jade.lang.acl.ACLMessage;\nimport jade.lang.acl.MessageTemplate;\npublic class Main {\npublic static void main(String[] args) {\n    Runtime rt = Runtime.instance();\n    Profile p = new ProfileImpl();\n    AgentContainer container = rt.createMainContainer(p);\n    \n    try {\n        AgentController seller = jade.core.container.createNewAgent(&quot;Seller&quot;, SellerAgent.class, null);\n        seller.start();\n    \n        String[] buyerArgs = new String[]{&quot;A&quot;};\n        AgentController buyer1 = container.createNewAgent(&quot;B1&quot;, BuyerAgent.class, buyerArgs);\n        buyer1.start();\n    \n        buyerArgs[0] = &quot;B&quot;;\n        AgentController buyer2 = container.createNewAgent(&quot;B2&quot;, BuyerAgent.class, buyerArgs);\n        buyer2.start();\n    \n        buyerArgs[0] = &quot;A&quot;;\n        AgentController buyer3 = container.createNewAgent(&quot;B3&quot;, BuyerAgent.class, buyerArgs);\n        buyer3.start();\n    \n        buyerArgs[0] = &quot;B&quot;;\n        AgentController buyer4 = container.createNewAgent(&quot;B4&quot;, BuyerAgent.class, buyerArgs);\n        buyer4.start();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n}\n\npublic class BuyerAgent extends Agent {\n    private String requestedProduct;\n    private String sellerName;\n    private List&lt;String&gt; purchasedProducts = new ArrayList&lt;&gt;();\n\n    protected void setup() {\n        // Get the requested product name as an argument\n        Object[] args = getArguments();\n        if (args != null &amp;&amp; args.length &gt; 0) {\n            requestedProduct = (String) args[0];\n        }\n\n        // Add the behavior to request the product from the seller\n        addBehaviour(new RequestProductBehaviour());\n    }\n\n    private class RequestProductBehaviour extends OneShotBehaviour {\n        public void action() {\n            ACLMessage message = new ACLMessage(ACLMessage.REQUEST);\n            message.setContent(requestedProduct);\n            message.addReceiver(sellerName);\n            myAgent.send(message);\n\n            // Wait for the seller's response\n            addBehaviour(new PurchaseResponseBehaviour());\n        }\n    }\n\n    private class PurchaseResponseBehaviour extends SimpleBehaviour {\n        private boolean receivedResponse = false;\n\n        public void action() {\n            MessageTemplate mt = MessageTemplate.MatchPerformative(ACLMessage.INFORM);\n            ACLMessage message = myAgent.receive(mt);\n            if (message != null) {\n                // Product was available and was sold to this buyer\n                purchasedProducts.add(requestedProduct);\n                receivedResponse = true;\n            } else {\n                block();\n            }\n        }\n\n        public boolean done() {\n            if (receivedResponse) {\n                System.out.println(getLocalName() + &quot; purchased: &quot; + purchasedProducts);\n            }\n            return receivedResponse;\n        }\n    }\n}\n\npublic class SellerAgent extends Agent {\n    private int itemsA = 2;\n    private int itemsB = 2;\n    private List&lt;String&gt; buyers = new ArrayList&lt;&gt;();\n\n    protected void setup() {\n        // Add the behavior to handle product request messages\n        addBehaviour(new HandleRequestBehaviour());\n    }\n\n    private class HandleRequestBehaviour extends CyclicBehaviour {\n        public void action() {\n            MessageTemplate mt = MessageTemplate.MatchPerformative(ACLMessage.REQUEST);\n            ACLMessage message = myAgent.receive(mt);\n            if (message != null) {\n                String product = message.getContent();\n                String buyerName = message.getSender().getLocalName();\n                ACLMessage reply = message.createReply();\n\n                if (buyerName.equals(&quot;B3&quot;) &amp;&amp; product.equals(&quot;B&quot;)) {\n                    // Seller cannot sell product B to buyer B3\n                    reply.setPerformative(ACLMessage.FAILURE);\n                    reply.setContent(&quot;Not allowed&quot;);\n                } else if (product.equals(&quot;A&quot;) &amp;&amp; itemsA &gt; 0) {\n                    itemsA--;\n                    reply.setPerformative(ACLMessage.INFORM);\n                    buyers.add(buyerName);\n                } else if (product.equals(&quot;B&quot;) &amp;&amp; itemsB &gt;\n                0) {\n                    itemsB--;\n                    reply.setPerformative(ACLMessage.INFORM);\n                    buyers.add(buyerName);\n                } else {\n                    reply.setPerformative(ACLMessage.FAILURE);\n                    reply.setContent(&quot;Not available&quot;);\n                }\n\n                myAgent.send(reply);\n            } else {\n                block();\n            }\n        }\n    }\n\n    protected void takeDown() {\n        System.out.println(&quot;Seller &quot; + getLocalName() + &quot; sold to: &quot; + buyers);\n    }\n}\n\n\n</code></pre>\n<p>This code gives me errors below:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \n        The method instance() is undefined for the type Runtime\n        Profile cannot be resolved to a type\n        ProfileImpl cannot be resolved to a type\n        AgentContainer cannot be resolved to a type\n        AgentController cannot be resolved to a type\n        jade cannot be resolved\n        AgentController cannot be resolved to a type\n        AgentController cannot be resolved to a type\n        AgentController cannot be resolved to a type\n        AgentController cannot be resolved to a type\n\n        at Main.main(main.java:10)\n</code></pre>\n"},{"tags":["java","wicket"],"comments":[{"owner":{"account_id":16514603,"reputation":105,"user_id":11932435,"display_name":"sharonm"},"score":0,"creation_date":1607328540,"post_id":65147420,"comment_id":115227513,"body_markdown":"@martin-g , i tried most of the solutions using Session.getFeedbackMessages () , FeedbackCollector also . Nothing is working . Please help with your inputs .","body":"@martin-g , i tried most of the solutions using Session.getFeedbackMessages () , FeedbackCollector also . Nothing is working . Please help with your inputs ."}],"answers":[{"tags":[],"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1607339728,"creation_date":1607339728,"answer_id":65180710,"question_id":65147420,"body_markdown":"When submitting a Form Wicket runs all configured validators on all FormComponents (like TextInput, TextArea, DropDownChoice, etc.). If there is a validation error then a FeedbackMessage is associated with its respective FormComponent.\r\n\r\nWhen rendering a FeedbackPanel Wicket visits all FormComponents and renders their FeedbackMessages (errors, infos, etc.). \r\n\r\nAt the end of the request cycle Wicket removes all **rendered** FeedbackMessages. If a FeedbackMessage is not rendered by any IFeedback component (like FeedbackPanel) then it will stay for the next request cycle.\r\nThis is done by [DefaultCleanupFeedbackMessageFilter][1].\r\n\r\nPut a breakpoint at DefaultCleanupFeedbackMessageFilter#accept() and see whether the problematic message is being accepted or not.\r\n\r\n\r\n  [1]: https://github.com/apache/wicket/blob/4ab85484b8d7376eafbe68cf1f812d9e87332646/wicket-core/src/main/java/org/apache/wicket/feedback/DefaultCleanupFeedbackMessageFilter.java#L32","title":"Error message displayed by FeedbackPanel does not clear on valid input submission in Wicket","body":"<p>When submitting a Form Wicket runs all configured validators on all FormComponents (like TextInput, TextArea, DropDownChoice, etc.). If there is a validation error then a FeedbackMessage is associated with its respective FormComponent.</p>\n<p>When rendering a FeedbackPanel Wicket visits all FormComponents and renders their FeedbackMessages (errors, infos, etc.).</p>\n<p>At the end of the request cycle Wicket removes all <strong>rendered</strong> FeedbackMessages. If a FeedbackMessage is not rendered by any IFeedback component (like FeedbackPanel) then it will stay for the next request cycle.\nThis is done by <a href=\"https://github.com/apache/wicket/blob/4ab85484b8d7376eafbe68cf1f812d9e87332646/wicket-core/src/main/java/org/apache/wicket/feedback/DefaultCleanupFeedbackMessageFilter.java#L32\" rel=\"nofollow noreferrer\">DefaultCleanupFeedbackMessageFilter</a>.</p>\n<p>Put a breakpoint at DefaultCleanupFeedbackMessageFilter#accept() and see whether the problematic message is being accepted or not.</p>\n"}],"owner":{"account_id":16514603,"reputation":105,"user_id":11932435,"display_name":"sharonm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697372171,"creation_date":1607100314,"question_id":65147420,"body_markdown":"I have a form where there is a dropdown and checkbox. When I don&#39;t provide any input, I get the error message set through the Feedback Panel as below code \r\n\r\n    private Form&lt;ReportCriteria&gt; createCriteriaPanel(String id, IModel&lt;ReportCriteria&gt; model) {\r\n                SelectionForm form = new SelectionForm(id, model);\r\n                ReportCriteria criteria = (ReportCriteria) getDefaultModelObject();\r\n               .......\r\n               FeedbackPanel fb = new FeedbackPanel(&quot;feedback&quot;);\r\n            fb.setOutputMarkupId(true);\r\n            form.add(fb);\r\n           DropDownChoice&lt;Project&gt; billableProjectsList = new DropDownChoice&lt;&gt;(\r\n                        &quot;projectsList&quot;,\r\n                        ......\r\n                        new ChoiceRenderer&lt;Project&gt;(&quot;fullNameWithCustomer&quot;));\r\n               \r\n                form.add(billableProjectsList);\r\n                \r\n                CheckGroup&lt;Project&gt; unbillablePrjct = .......\r\n        \r\n                form.add(new FormComponentValidator(billableProjectsList, unbillablePrjct));\r\n                form.getFeedbackMessages().clear();\r\n        }\r\n        \r\n         protected void onSubmit() {\r\n                    \r\n                   SelectionForm.this.getFeedbackMessages().size());\r\n                  TimesheetExportCriteriaPanel.this.SelectionForm.findForm(&quot;criteriaForm&quot;).getFeedbackMessages();\r\n    }\r\n\r\nAll the feedbackmessages value is empty and not retrieving anything. \r\nI receive the error message from FormValidator correctly when I don&#39;t provide any inputs. When I provide the inputs and submit, the form refreshes and loads with the same error message.\r\n\r\nI want it to clear when we provide valid input. \r\n\r\nWhen checked on forums, I found for Wicket 6.x we need to use `component.getFeedbackMessages()`, but it is empty for me .\r\n\r\nI am new to wicket. Please help with the inputs.\r\n\r\n    public class FormComponentValidator extends AbstractFormValidator {\r\n        private static final long serialVersionUID = 1L;\r\n        private FormComponent&lt;?&gt;[] components;\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public FormComponentValidator(FormComponent&lt;?&gt; selectedBillableProject, FormComponent&lt;?&gt; selectedUnBillableProject) {\r\n            components = new FormComponent[]{selectedBillableProject, selectedUnBillableProject};\r\n        }\r\n    \r\n        /*\r\n         * (non-Javadoc)\r\n         * @see org.apache.wicket.markup.html.form.validation.IFormValidator#getDependentFormComponents()\r\n         */\r\n        public FormComponent&lt;?&gt;[] getDependentFormComponents() {\r\n            return components;\r\n        }\r\n    \r\n        /*\r\n         * (non-Javadoc)\r\n         * @see org.apache.wicket.markup.html.form.validation.IFormValidator#validate(org.apache.wicket.markup.html.form.Form)\r\n         */\r\n        public void validate(Form&lt;?&gt; form ) {\r\n    \r\n            if ((org.apache.commons.lang.StringUtils.isEmpty(components[0].getInput()) || components[0].getInput() == null )\r\n                    &amp;&amp; (org.apache.commons.lang.StringUtils.isEmpty(components[1].getInput()) || components[1].getInput() == null)) {\r\n    \r\n                    error(components[0], &quot;project.Required&quot;);\r\n    \r\n                }\r\n            }\r\n        }\r\n\r\n    private void configureFeedback() {\r\n\r\n        // activate feedback panel\r\n        final FeedbackPanel feedbackPanel = new FeedbackPanel(&quot;feedback&quot;);\r\n        feedbackPanel.setOutputMarkupId(true);\r\n        feedbackPanel.setVisible(false);\r\n\r\n        add(feedbackPanel);\r\n\r\n        // don&#39;t show filtered feedback errors in feedback panel\r\n        final int[] filteredErrorLevels = new int[] { FeedbackMessage.ERROR };\r\n        feedbackPanel.setFilter(new IFeedbackMessageFilter() {\r\n\r\n            @Override\r\n            public boolean accept(FeedbackMessage message) {\r\n\r\n                for (int errorLevel : filteredErrorLevels) {\r\n                    if (message.getLevel() == errorLevel) {\r\n                        return false;\r\n                    }\r\n                }\r\n\r\n                return true;\r\n            }\r\n","title":"Error message displayed by FeedbackPanel does not clear on valid input submission in Wicket","body":"<p>I have a form where there is a dropdown and checkbox. When I don't provide any input, I get the error message set through the Feedback Panel as below code</p>\n<pre><code>private Form&lt;ReportCriteria&gt; createCriteriaPanel(String id, IModel&lt;ReportCriteria&gt; model) {\n            SelectionForm form = new SelectionForm(id, model);\n            ReportCriteria criteria = (ReportCriteria) getDefaultModelObject();\n           .......\n           FeedbackPanel fb = new FeedbackPanel(&quot;feedback&quot;);\n        fb.setOutputMarkupId(true);\n        form.add(fb);\n       DropDownChoice&lt;Project&gt; billableProjectsList = new DropDownChoice&lt;&gt;(\n                    &quot;projectsList&quot;,\n                    ......\n                    new ChoiceRenderer&lt;Project&gt;(&quot;fullNameWithCustomer&quot;));\n           \n            form.add(billableProjectsList);\n            \n            CheckGroup&lt;Project&gt; unbillablePrjct = .......\n    \n            form.add(new FormComponentValidator(billableProjectsList, unbillablePrjct));\n            form.getFeedbackMessages().clear();\n    }\n    \n     protected void onSubmit() {\n                \n               SelectionForm.this.getFeedbackMessages().size());\n              TimesheetExportCriteriaPanel.this.SelectionForm.findForm(&quot;criteriaForm&quot;).getFeedbackMessages();\n}\n</code></pre>\n<p>All the feedbackmessages value is empty and not retrieving anything.\nI receive the error message from FormValidator correctly when I don't provide any inputs. When I provide the inputs and submit, the form refreshes and loads with the same error message.</p>\n<p>I want it to clear when we provide valid input.</p>\n<p>When checked on forums, I found for Wicket 6.x we need to use <code>component.getFeedbackMessages()</code>, but it is empty for me .</p>\n<p>I am new to wicket. Please help with the inputs.</p>\n<pre><code>public class FormComponentValidator extends AbstractFormValidator {\n    private static final long serialVersionUID = 1L;\n    private FormComponent&lt;?&gt;[] components;\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public FormComponentValidator(FormComponent&lt;?&gt; selectedBillableProject, FormComponent&lt;?&gt; selectedUnBillableProject) {\n        components = new FormComponent[]{selectedBillableProject, selectedUnBillableProject};\n    }\n\n    /*\n     * (non-Javadoc)\n     * @see org.apache.wicket.markup.html.form.validation.IFormValidator#getDependentFormComponents()\n     */\n    public FormComponent&lt;?&gt;[] getDependentFormComponents() {\n        return components;\n    }\n\n    /*\n     * (non-Javadoc)\n     * @see org.apache.wicket.markup.html.form.validation.IFormValidator#validate(org.apache.wicket.markup.html.form.Form)\n     */\n    public void validate(Form&lt;?&gt; form ) {\n\n        if ((org.apache.commons.lang.StringUtils.isEmpty(components[0].getInput()) || components[0].getInput() == null )\n                &amp;&amp; (org.apache.commons.lang.StringUtils.isEmpty(components[1].getInput()) || components[1].getInput() == null)) {\n\n                error(components[0], &quot;project.Required&quot;);\n\n            }\n        }\n    }\n\nprivate void configureFeedback() {\n\n    // activate feedback panel\n    final FeedbackPanel feedbackPanel = new FeedbackPanel(&quot;feedback&quot;);\n    feedbackPanel.setOutputMarkupId(true);\n    feedbackPanel.setVisible(false);\n\n    add(feedbackPanel);\n\n    // don't show filtered feedback errors in feedback panel\n    final int[] filteredErrorLevels = new int[] { FeedbackMessage.ERROR };\n    feedbackPanel.setFilter(new IFeedbackMessageFilter() {\n\n        @Override\n        public boolean accept(FeedbackMessage message) {\n\n            for (int errorLevel : filteredErrorLevels) {\n                if (message.getLevel() == errorLevel) {\n                    return false;\n                }\n            }\n\n            return true;\n        }\n</code></pre>\n"},{"tags":["java","junit","junit5"],"comments":[{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1697371941,"post_id":77296544,"comment_id":136269109,"body_markdown":"In my opinion, you&#39;re doing too much work in `init()`, and your test in `testConstructor()` makes no sense: a constructor is guaranteed to return an object, or end abruptly with an exception. If an exception would have been thrown, your test method would not have been called. In any case, there doesn&#39;t seem to be anything to test for `jobTotal`, as your code doesn&#39;t modify it, so it is always 0. It also doesn&#39;t look like the right abstraction to me.","body":"In my opinion, you&#39;re doing too much work in <code>init()</code>, and your test in <code>testConstructor()</code> makes no sense: a constructor is guaranteed to return an object, or end abruptly with an exception. If an exception would have been thrown, your test method would not have been called. In any case, there doesn&#39;t seem to be anything to test for <code>jobTotal</code>, as your code doesn&#39;t modify it, so it is always 0. It also doesn&#39;t look like the right abstraction to me."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1697372221,"post_id":77296544,"comment_id":136269139,"body_markdown":"Also check other questions like https://stackoverflow.com/questions/22677467/junit-do-static-classes-maintain-state-between-test-classes","body":"Also check other questions like <a href=\"https://stackoverflow.com/questions/22677467/junit-do-static-classes-maintain-state-between-test-classes\" title=\"junit do static classes maintain state between test classes\">stackoverflow.com/questions/22677467/&hellip;</a>"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1697373363,"post_id":77296544,"comment_id":136269232,"body_markdown":"Beware of concurrent modification of this value. Consider using AtomicInteger instead.","body":"Beware of concurrent modification of this value. Consider using AtomicInteger instead."}],"answers":[{"tags":[],"owner":{"account_id":16143882,"reputation":31,"user_id":11654174,"display_name":"SPG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697372076,"creation_date":1697372076,"answer_id":77296594,"question_id":77296544,"body_markdown":"\r\nTo test the value of a static attribute like jobTotal in your Job class using JUnit 5, you can use the @BeforeAll and @AfterAll annotations to set and reset the value. These annotations are used for setup and cleanup methods that run once before and after all the test methods in a test class. Here&#39;s how you can do it.\r\n\r\n    @BeforeEach\r\n    void init() {\r\n        Address a = new Address(&quot;street&quot;, 111, &quot;zip&quot;, &quot;city&quot;);\r\n        ArrayList&lt;Equipment&gt; equipment = new ArrayList&lt;&gt;();\r\n        equipment.add(new Torch(&quot;Don&#39;t turn on or it explodes&quot;));\r\n        j1 = new Job(a, &quot;Replace lightbulb&quot;, equipment, new Date(15, 10, 2023));\r\n    }\r\n\r\n    @Test\r\n    void testConstructor() {\r\n        assertFalse(j1 == null);\r\n    }\r\n\r\n    @Test\r\n    void testGetJobTotal() {\r\n        // Assuming you have set up some jobs, you can test the static attribute like this:\r\n        int initialTotal = Job.getJobTotal();\r\n        \r\n        // Perform actions that change the jobTotal, e.g., creating more jobs\r\n\r\n        int updatedTotal = Job.getJobTotal();\r\n\r\n        // Now you can assert the values\r\n        assertEquals(initialTotal + 1, updatedTotal); // Or any expected value based on your test scenario\r\n    }\r\n\r\n    @BeforeAll\r\n    static void setup() {\r\n        // Initialize or set up anything needed before running the tests\r\n    }\r\n\r\n    @AfterAll\r\n    static void cleanup() {\r\n        // Clean up or reset any state that was changed during testing\r\n    }\r\n}\r\n","title":"How can I test the value of a static attribute with JUnit?","body":"<p>To test the value of a static attribute like jobTotal in your Job class using JUnit 5, you can use the @BeforeAll and @AfterAll annotations to set and reset the value. These annotations are used for setup and cleanup methods that run once before and after all the test methods in a test class. Here's how you can do it.</p>\n<pre><code>@BeforeEach\nvoid init() {\n    Address a = new Address(&quot;street&quot;, 111, &quot;zip&quot;, &quot;city&quot;);\n    ArrayList&lt;Equipment&gt; equipment = new ArrayList&lt;&gt;();\n    equipment.add(new Torch(&quot;Don't turn on or it explodes&quot;));\n    j1 = new Job(a, &quot;Replace lightbulb&quot;, equipment, new Date(15, 10, 2023));\n}\n\n@Test\nvoid testConstructor() {\n    assertFalse(j1 == null);\n}\n\n@Test\nvoid testGetJobTotal() {\n    // Assuming you have set up some jobs, you can test the static attribute like this:\n    int initialTotal = Job.getJobTotal();\n    \n    // Perform actions that change the jobTotal, e.g., creating more jobs\n\n    int updatedTotal = Job.getJobTotal();\n\n    // Now you can assert the values\n    assertEquals(initialTotal + 1, updatedTotal); // Or any expected value based on your test scenario\n}\n\n@BeforeAll\nstatic void setup() {\n    // Initialize or set up anything needed before running the tests\n}\n\n@AfterAll\nstatic void cleanup() {\n    // Clean up or reset any state that was changed during testing\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":25112514,"reputation":47,"user_id":18961975,"display_name":"Alexandru Lolea"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1697389673,"answer_count":1,"score":-2,"last_activity_date":1697372076,"creation_date":1697371231,"question_id":77296544,"body_markdown":"I have the following Job class:\r\n\r\n     public class Job {\r\n        static int jobTotal = 0;\r\n\r\n        private int jobNumber;\r\n        private Address location;\r\n        private String description;\r\n        private List&lt;Equipment&gt; requiredEquipment;\r\n        private Date plannedDate;\r\n\r\n        public static int getJobTotal() {\r\n            return jobTotal;\r\n        }\r\n     }\r\n\r\nThis class contains a bunch of other methods, but getJobTotal is the only one that is relevant in this case.\r\n\r\nInside JobTest.java I run a couple of tests for each of these methods (there are around 14 test methods):\r\n\r\n    class JobTest {\r\n        Job j1;\r\n    \r\n        @BeforeEach\r\n        void init() {\r\n            Address a = new Address(&quot;street&quot;, 111, &quot;zip&quot;, &quot;city&quot;);\r\n            ArrayList&lt;Equipment&gt; equipment = new ArrayList&lt;&gt;();\r\n            equipment.add(new Torch(&quot;Don&#39;t turn on or it explodes&quot;));\r\n            j1 = new Job(a, &quot;Replace lightbulb&quot;, equipment, new Date(15, 10, 2023));\r\n        }\r\n    \r\n        @Test\r\n        void testConstructor() {\r\n            assertFalse(j1 == null);\r\n        }\r\n    \r\n        @Test\r\n        void getJobTotal() {\r\n            //? How do I test for getJobTotal?\r\n        }\r\n    }\r\n\r\nHowever, tests are not ran in the order in which they are defined inside the test file. As a result, my BeforeEach could trigger an unknown amount of times before reaching getJobTotal(the test method I mean).\r\n\r\nHow could I test that the getter returns a &quot;correct&quot; value? Because I can&#39;t really place any value inside the &quot;expected&quot; parameter of assertEquals().\r\n\r\nPS: I am using JUnit 5\r\n","title":"How can I test the value of a static attribute with JUnit?","body":"<p>I have the following Job class:</p>\n<pre><code> public class Job {\n    static int jobTotal = 0;\n\n    private int jobNumber;\n    private Address location;\n    private String description;\n    private List&lt;Equipment&gt; requiredEquipment;\n    private Date plannedDate;\n\n    public static int getJobTotal() {\n        return jobTotal;\n    }\n }\n</code></pre>\n<p>This class contains a bunch of other methods, but getJobTotal is the only one that is relevant in this case.</p>\n<p>Inside JobTest.java I run a couple of tests for each of these methods (there are around 14 test methods):</p>\n<pre><code>class JobTest {\n    Job j1;\n\n    @BeforeEach\n    void init() {\n        Address a = new Address(&quot;street&quot;, 111, &quot;zip&quot;, &quot;city&quot;);\n        ArrayList&lt;Equipment&gt; equipment = new ArrayList&lt;&gt;();\n        equipment.add(new Torch(&quot;Don't turn on or it explodes&quot;));\n        j1 = new Job(a, &quot;Replace lightbulb&quot;, equipment, new Date(15, 10, 2023));\n    }\n\n    @Test\n    void testConstructor() {\n        assertFalse(j1 == null);\n    }\n\n    @Test\n    void getJobTotal() {\n        //? How do I test for getJobTotal?\n    }\n}\n</code></pre>\n<p>However, tests are not ran in the order in which they are defined inside the test file. As a result, my BeforeEach could trigger an unknown amount of times before reaching getJobTotal(the test method I mean).</p>\n<p>How could I test that the getter returns a &quot;correct&quot; value? Because I can't really place any value inside the &quot;expected&quot; parameter of assertEquals().</p>\n<p>PS: I am using JUnit 5</p>\n"},{"tags":["java","hibernate","jpa","one-to-many","bag"],"comments":[{"owner":{"account_id":401940,"reputation":13996,"user_id":768795,"display_name":"Thomas W"},"score":2,"creation_date":1516063661,"post_id":4334970,"comment_id":83529089,"body_markdown":"I would ask, what SQL query are you hoping to generate that will retrieve two separate collections simultaneously?  The kinds of SQL that would be able to achieve these would either require a cartesian join (potentially highly inefficient) or a UNION of disjoint columns (also ugly). Presumably the inability to achieve this in SQL in a clean &amp; efficient manner influenced the API design.","body":"I would ask, what SQL query are you hoping to generate that will retrieve two separate collections simultaneously?  The kinds of SQL that would be able to achieve these would either require a cartesian join (potentially highly inefficient) or a UNION of disjoint columns (also ugly). Presumably the inability to achieve this in SQL in a clean &amp; efficient manner influenced the API design."},{"owner":{"account_id":80571,"reputation":11247,"user_id":227755,"accept_rate":90,"display_name":"nurettin"},"score":0,"creation_date":1539520137,"post_id":4334970,"comment_id":92523793,"body_markdown":"@ThomasW These are the sql queries it should generate: `select * from master; select * from child1 where master_id = :master_id; select * from child2 where master_id = :master_id`","body":"@ThomasW These are the sql queries it should generate: <code>select * from master; select * from child1 where master_id = :master_id; select * from child2 where master_id = :master_id</code>"},{"owner":{"account_id":15054416,"reputation":419,"user_id":10865170,"display_name":"Big Zed"},"score":2,"creation_date":1582224116,"post_id":4334970,"comment_id":106713133,"body_markdown":"You can get a simillar error if you have more than one `List&lt;child&gt;` with `fetchType` defined for **more than one** `List&lt;clield&gt;`","body":"You can get a simillar error if you have more than one <code>List&lt;child&gt;</code> with <code>fetchType</code> defined for <b>more than one</b> <code>List&lt;clield&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":7,"up_vote_count":695,"is_accepted":true,"score":688,"last_activity_date":1689892963,"creation_date":1291296630,"answer_id":4335514,"question_id":4334970,"body_markdown":"I think a newer version of hibernate (supporting JPA 2.0) should handle this. But otherwise you can work it around by annotating the collection fields with:\r\n\r\n    @LazyCollection(LazyCollectionOption.FALSE)\r\n\r\nRemember to remove the `fetchType` attribute from the `@*ToMany` annotation.\r\n\r\nBut note that in most cases a `Set&lt;Child&gt;` is more appropriate than `List&lt;Child&gt;`, so unless you really need a `List` - go for `Set`\r\n\r\n#### Use with caution\r\nRemember that using a `Set` **won&#39;t** eliminate the underlying **Cartesian Product** as described by [Vlad Mihalcea in his answer][1]!\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/51055523/1657465","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>I think a newer version of hibernate (supporting JPA 2.0) should handle this. But otherwise you can work it around by annotating the collection fields with:</p>\n<pre><code>@LazyCollection(LazyCollectionOption.FALSE)\n</code></pre>\n<p>Remember to remove the <code>fetchType</code> attribute from the <code>@*ToMany</code> annotation.</p>\n<p>But note that in most cases a <code>Set&lt;Child&gt;</code> is more appropriate than <code>List&lt;Child&gt;</code>, so unless you really need a <code>List</code> - go for <code>Set</code></p>\n<h4>Use with caution</h4>\n<p>Remember that using a <code>Set</code> <strong>won't</strong> eliminate the underlying <strong>Cartesian Product</strong> as described by <a href=\"https://stackoverflow.com/a/51055523/1657465\">Vlad Mihalcea in his answer</a>!</p>\n"},{"tags":[],"owner":{"account_id":222143,"reputation":3512,"user_id":480549,"display_name":"Ahmad Zyoud"},"down_vote_count":19,"up_vote_count":347,"is_accepted":false,"score":328,"last_activity_date":1689892416,"creation_date":1304402107,"answer_id":5865605,"question_id":4334970,"body_markdown":"Simply change from `List` type to `Set` type.\r\n#### Use with caution\r\nThis solution is not recommended as it **won&#39;t** eliminate the underlying **Cartesian Product** as described by [Vlad Mihalcea in his answer][1]!\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/51055523/1657465","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>Simply change from <code>List</code> type to <code>Set</code> type.</p>\n<h4>Use with caution</h4>\n<p>This solution is not recommended as it <strong>won't</strong> eliminate the underlying <strong>Cartesian Product</strong> as described by <a href=\"https://stackoverflow.com/a/51055523/1657465\">Vlad Mihalcea in his answer</a>!</p>\n"},{"tags":[],"owner":{"account_id":451585,"reputation":4900,"user_id":847553,"accept_rate":86,"display_name":"Dave Richardson"},"down_vote_count":1,"up_vote_count":186,"is_accepted":false,"score":185,"last_activity_date":1555598371,"creation_date":1322563562,"answer_id":8309458,"question_id":4334970,"body_markdown":"Add a Hibernate-specific @Fetch annotation to your code:\r\n\r\n    @OneToMany(mappedBy=&quot;parent&quot;, fetch=FetchType.EAGER)\r\n    @Fetch(value = FetchMode.SUBSELECT)\r\n    private List&lt;Child&gt; childs;\r\n\r\nThis should fix the issue, related to Hibernate bug [HHH-1718][1]\r\n\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-1718","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>Add a Hibernate-specific @Fetch annotation to your code:</p>\n\n<pre><code>@OneToMany(mappedBy=\"parent\", fetch=FetchType.EAGER)\n@Fetch(value = FetchMode.SUBSELECT)\nprivate List&lt;Child&gt; childs;\n</code></pre>\n\n<p>This should fix the issue, related to Hibernate bug <a href=\"https://hibernate.atlassian.net/browse/HHH-1718\" rel=\"noreferrer\">HHH-1718</a></p>\n"},{"tags":[],"owner":{"account_id":4093368,"reputation":597,"user_id":3360814,"display_name":"Javier"},"down_vote_count":2,"up_vote_count":50,"is_accepted":false,"score":48,"last_activity_date":1395938774,"creation_date":1393509796,"answer_id":22070858,"question_id":4334970,"body_markdown":"After trying with every single option describe in this posts and others, I came to the conclusion that the the fix is a follows.\r\n\r\nIn every XToMany place @`XXXToMany(mappedBy=&quot;parent&quot;, fetch=FetchType.EAGER)`\r\nand intermediately after\r\n\r\n    @Fetch(value = FetchMode.SUBSELECT)\r\n\r\nThis worked for me","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>After trying with every single option describe in this posts and others, I came to the conclusion that the the fix is a follows.</p>\n\n<p>In every XToMany place @<code>XXXToMany(mappedBy=\"parent\", fetch=FetchType.EAGER)</code>\nand intermediately after</p>\n\n<pre><code>@Fetch(value = FetchMode.SUBSELECT)\n</code></pre>\n\n<p>This worked for me</p>\n"},{"tags":[],"owner":{"account_id":4509757,"reputation":1106,"user_id":3666217,"accept_rate":50,"display_name":"Prateek Singh"},"down_vote_count":7,"up_vote_count":24,"is_accepted":false,"score":17,"last_activity_date":1689892669,"creation_date":1409862598,"answer_id":25674480,"question_id":4334970,"body_markdown":"To fix it simply take `Set` in place of `List` for your nested object.\r\n\r\n    @OneToMany\r\n    Set&lt;Your_object&gt; objectList;\r\n\r\nAnd don&#39;t forget to use `fetch=FetchType.EAGER`, It&#39;ll work.\r\n\r\nThere is one more concept `CollectionId` in Hibernate if you want to stick with list only.\r\n\r\n#### Use with caution \r\nRemember that you **won&#39;t** eliminate the underlying **Cartesian Product** as described by [Vlad Mihalcea in his answer][1]!\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/51055523/1657465","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>To fix it simply take <code>Set</code> in place of <code>List</code> for your nested object.</p>\n<pre><code>@OneToMany\nSet&lt;Your_object&gt; objectList;\n</code></pre>\n<p>And don't forget to use <code>fetch=FetchType.EAGER</code>, It'll work.</p>\n<p>There is one more concept <code>CollectionId</code> in Hibernate if you want to stick with list only.</p>\n<h4>Use with caution</h4>\n<p>Remember that you <strong>won't</strong> eliminate the underlying <strong>Cartesian Product</strong> as described by <a href=\"https://stackoverflow.com/a/51055523/1657465\">Vlad Mihalcea in his answer</a>!</p>\n"},{"tags":[],"owner":{"account_id":6666875,"reputation":121,"user_id":5144274,"display_name":"Felipe Cadena"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1444916301,"creation_date":1444916301,"answer_id":33150111,"question_id":4334970,"body_markdown":"When you have too complex objects with saveral collection could not be good idea to have all of them with EAGER fetchType, better use LAZY and when you really need to load the collections use: `Hibernate.initialize(parent.child)` to fetch the data.","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>When you have too complex objects with saveral collection could not be good idea to have all of them with EAGER fetchType, better use LAZY and when you really need to load the collections use: <code>Hibernate.initialize(parent.child)</code> to fetch the data.</p>\n"},{"tags":[],"owner":{"account_id":1576989,"reputation":1062,"user_id":1463168,"display_name":"Massimo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1493112558,"creation_date":1493110388,"answer_id":43605905,"question_id":4334970,"body_markdown":"you can keep booth EAGER lists in JPA and add to at least one of them the JPA annotation **@OrderColumn** (with obviously the name of a field to be ordered). No need of specific hibernate annotations.\r\nBut keep in mind it could create empty elements in the list if the chosen field does not have values starting from 0\r\n\r\n     [...]\r\n     @OneToMany(mappedBy=&quot;parent&quot;, fetch=FetchType.EAGER)\r\n     @OrderColumn(name=&quot;orderIndex&quot;)\r\n     private List&lt;Child&gt; children;\r\n     [...]\r\n\r\nin Children then you should add the orderIndex field ","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>you can keep booth EAGER lists in JPA and add to at least one of them the JPA annotation <strong>@OrderColumn</strong> (with obviously the name of a field to be ordered). No need of specific hibernate annotations.\nBut keep in mind it could create empty elements in the list if the chosen field does not have values starting from 0</p>\n\n<pre><code> [...]\n @OneToMany(mappedBy=\"parent\", fetch=FetchType.EAGER)\n @OrderColumn(name=\"orderIndex\")\n private List&lt;Child&gt; children;\n [...]\n</code></pre>\n\n<p>in Children then you should add the orderIndex field </p>\n"},{"tags":[],"owner":{"account_id":7517141,"reputation":1,"user_id":5710188,"display_name":"leee41"},"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1504668401,"creation_date":1497410467,"answer_id":44534844,"question_id":4334970,"body_markdown":"You could use a new annotation to solve this:\r\n\r\n    @XXXToXXX(targetEntity = XXXX.class, fetch = FetchType.LAZY)\r\n\r\nIn fact, fetch&#39;s default value is FetchType.LAZY too.","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>You could use a new annotation to solve this:</p>\n\n<pre><code>@XXXToXXX(targetEntity = XXXX.class, fetch = FetchType.LAZY)\n</code></pre>\n\n<p>In fact, fetch's default value is FetchType.LAZY too.</p>\n"},{"tags":[],"owner":{"account_id":10456804,"reputation":67,"user_id":7921777,"display_name":"Mike Dudley"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1541531601,"creation_date":1515592376,"answer_id":48188968,"question_id":4334970,"body_markdown":"We tried **Set** instead of **List** and it is a nightmare: when you add two new objects, **equals**() and **hashCode**() fail to distinguish both of them ! Because they don&#39;t have any id.\r\n\r\ntypical tools like Eclipse generate that kind of code from Database tables:\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        final int prime = 31;\r\n        int result = 1;\r\n        result = prime * result + ((id == null) ? 0 : id.hashCode());\r\n        return result;\r\n    }\r\n\r\nYou may also read [this article][1] that explains properly how messed up JPA/Hibernate is. After reading this, I think this is the last time I use any ORM in my life.\r\n\r\nI&#39;ve also encounter Domain Driven Design guys that basically say ORM are a terrible thing.\r\n\r\n\r\n\r\n  [1]: http://www.onjava.com/pub/a/onjava/2006/09/13/dont-let-hibernate-steal-your-identity.html?page=1","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>We tried <strong>Set</strong> instead of <strong>List</strong> and it is a nightmare: when you add two new objects, <strong>equals</strong>() and <strong>hashCode</strong>() fail to distinguish both of them ! Because they don't have any id.</p>\n\n<p>typical tools like Eclipse generate that kind of code from Database tables:</p>\n\n<pre><code>@Override\npublic int hashCode() {\n    final int prime = 31;\n    int result = 1;\n    result = prime * result + ((id == null) ? 0 : id.hashCode());\n    return result;\n}\n</code></pre>\n\n<p>You may also read <a href=\"http://www.onjava.com/pub/a/onjava/2006/09/13/dont-let-hibernate-steal-your-identity.html?page=1\" rel=\"nofollow noreferrer\">this article</a> that explains properly how messed up JPA/Hibernate is. After reading this, I think this is the last time I use any ORM in my life.</p>\n\n<p>I've also encounter Domain Driven Design guys that basically say ORM are a terrible thing.</p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":207,"is_accepted":false,"score":207,"last_activity_date":1697371675,"creation_date":1530079276,"answer_id":51055523,"question_id":4334970,"body_markdown":"Considering we have the following entities:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd, you want to fetch some parent `Post` entities along with all the `comments` and `tags` collections.\r\n\r\nIf you are using more than one `JOIN FETCH` directives:\r\n\r\n    List&lt;Post&gt; posts = entityManager.createQuery(&quot;&quot;&quot;\r\n        select p\r\n        from Post p\r\n        left join fetch p.comments\r\n        left join fetch p.tags\r\n        where p.id between :minId and :maxId\r\n        &quot;&quot;&quot;, Post.class)\r\n    .setParameter(&quot;minId&quot;, 1L)\r\n    .setParameter(&quot;maxId&quot;, 50L)\r\n    .getResultList();\r\n\r\nHibernate will throw the infamous:\r\n\r\n    org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags [\r\n      com.vladmihalcea.book.hpjp.hibernate.fetching.Post.comments,\r\n      com.vladmihalcea.book.hpjp.hibernate.fetching.Post.tags\r\n    ]\r\n\r\nHibernate doesn&#39;t allow fetching more than one bag because that would generate a Cartesian product.\r\n\r\nThe worst &quot;solution&quot;\r\n--------------------\r\n\r\nNow, you will find lots of answers, blog posts, videos, or other resources telling you to use a `Set` instead of a `List` for your collections.\r\n\r\n**That&#39;s terrible advice. Don&#39;t do that!** \r\n\r\nUsing `Sets` instead of `Lists` will make the `MultipleBagFetchException` go away, but the Cartesian Product will still be there, which is actually even worse, as you&#39;ll find out the performance issue long after you applied this &quot;fix&quot;.\r\n\r\nThe proper Hibernate 6 solution\r\n-------------------------------\r\n\r\nIf you&#39;re using Hibernate 6, then you can fix this issue like this:\r\n\r\n    List&lt;Post&gt; posts = entityManager.createQuery(&quot;&quot;&quot;\r\n    \tselect p\r\n    \tfrom Post p\r\n    \tleft join fetch p.comments\r\n    \twhere p.id between :minId and :maxId\r\n        &quot;&quot;&quot;, Post.class)\r\n    .setParameter(&quot;minId&quot;, 1L)\r\n    .setParameter(&quot;maxId&quot;, 50L)\r\n    .getResultList();\r\n    \r\n    posts = entityManager.createQuery(&quot;&quot;&quot;\r\n    \tselect distinct p\r\n    \tfrom Post p\r\n    \tleft join fetch p.tags t\r\n    \twhere p in :posts \r\n        &quot;&quot;&quot;, Post.class)\r\n    .setParameter(&quot;posts&quot;, posts)\r\n    .getResultList();\r\n\r\nAs long as you fetch at most one collection using `JOIN FETCH` per query, you will be fine.\r\n\r\nBy using multiple queries, you will avoid the Cartesian Product since any other collection, but the first one is fetched using a secondary query.\r\n\r\nThe proper Hibernate 5 solution\r\n-------------------------------\r\n\r\nYou can do the following trick:\r\n\r\n    List&lt;Post&gt; posts = entityManager.createQuery(&quot;&quot;&quot;\r\n    \tselect distinct p\r\n    \tfrom Post p\r\n    \tleft join fetch p.comments\r\n    \twhere p.id between :minId and :maxId\r\n        &quot;&quot;&quot;, Post.class)\r\n    .setParameter(&quot;minId&quot;, 1L)\r\n    .setParameter(&quot;maxId&quot;, 50L)\r\n    .setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\r\n    .getResultList();\r\n    \r\n    posts = entityManager.createQuery(&quot;&quot;&quot;\r\n    \tselect distinct p\r\n    \tfrom Post p\r\n    \tleft join fetch p.tags t\r\n    \twhere p in :posts \r\n        &quot;&quot;&quot;, Post.class)\r\n    .setParameter(&quot;posts&quot;, posts)\r\n    .setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\r\n    .getResultList();\r\n\r\n&gt; In the first JPQL query, `distinct` DOES NOT go to the SQL statement. That&#39;s why we set the `PASS_DISTINCT_THROUGH` JPA query hint to `false`. \r\n&gt; \r\n&gt; DISTINCT has two meanings in JPQL, and here, we need it to deduplicate the Java object references returned by `getResultList` on the Java side, not the SQL side.\r\n\r\nBy using multiple queries, you will avoid the Cartesian Product since any other collection, but the first one is fetched using a secondary query.\r\n\r\nThere&#39;s more you could do\r\n-------------------------\r\n\r\nIf you&#39;re using the `FetchType.EAGER` strategy at mapping time for `@OneToMany` or `@ManyToMany` associations, then you could easily end up with a `MultipleBagFetchException`.\r\n\r\nYou are better off switching from `FetchType.EAGER` to `Fetchype.LAZY` since eager fetching is a terrible idea that can lead to critical application performance issues.\r\n\r\nConclusion\r\n----------\r\n\r\nAvoid `FetchType.EAGER` and don&#39;t switch from `List` to `Set` just because doing so will make Hibernate hide the `MultipleBagFetchException` under the carpet. Fetch just one collection at a time, and you&#39;ll be fine. \r\n\r\nAs long as you do it with the same number of queries as you have collections to initialize, you are fine. Just don&#39;t initialize the collections in a loop, as that will trigger N+1 query issues, which are also bad for performance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fVIXG.png","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>Considering we have the following entities:</p>\n<p><a href=\"https://i.stack.imgur.com/fVIXG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fVIXG.png\" alt=\"enter image description here\" /></a></p>\n<p>And, you want to fetch some parent <code>Post</code> entities along with all the <code>comments</code> and <code>tags</code> collections.</p>\n<p>If you are using more than one <code>JOIN FETCH</code> directives:</p>\n<pre><code>List&lt;Post&gt; posts = entityManager.createQuery(&quot;&quot;&quot;\n    select p\n    from Post p\n    left join fetch p.comments\n    left join fetch p.tags\n    where p.id between :minId and :maxId\n    &quot;&quot;&quot;, Post.class)\n.setParameter(&quot;minId&quot;, 1L)\n.setParameter(&quot;maxId&quot;, 50L)\n.getResultList();\n</code></pre>\n<p>Hibernate will throw the infamous:</p>\n<pre><code>org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags [\n  com.vladmihalcea.book.hpjp.hibernate.fetching.Post.comments,\n  com.vladmihalcea.book.hpjp.hibernate.fetching.Post.tags\n]\n</code></pre>\n<p>Hibernate doesn't allow fetching more than one bag because that would generate a Cartesian product.</p>\n<h2>The worst &quot;solution&quot;</h2>\n<p>Now, you will find lots of answers, blog posts, videos, or other resources telling you to use a <code>Set</code> instead of a <code>List</code> for your collections.</p>\n<p><strong>That's terrible advice. Don't do that!</strong></p>\n<p>Using <code>Sets</code> instead of <code>Lists</code> will make the <code>MultipleBagFetchException</code> go away, but the Cartesian Product will still be there, which is actually even worse, as you'll find out the performance issue long after you applied this &quot;fix&quot;.</p>\n<h2>The proper Hibernate 6 solution</h2>\n<p>If you're using Hibernate 6, then you can fix this issue like this:</p>\n<pre><code>List&lt;Post&gt; posts = entityManager.createQuery(&quot;&quot;&quot;\n    select p\n    from Post p\n    left join fetch p.comments\n    where p.id between :minId and :maxId\n    &quot;&quot;&quot;, Post.class)\n.setParameter(&quot;minId&quot;, 1L)\n.setParameter(&quot;maxId&quot;, 50L)\n.getResultList();\n\nposts = entityManager.createQuery(&quot;&quot;&quot;\n    select distinct p\n    from Post p\n    left join fetch p.tags t\n    where p in :posts \n    &quot;&quot;&quot;, Post.class)\n.setParameter(&quot;posts&quot;, posts)\n.getResultList();\n</code></pre>\n<p>As long as you fetch at most one collection using <code>JOIN FETCH</code> per query, you will be fine.</p>\n<p>By using multiple queries, you will avoid the Cartesian Product since any other collection, but the first one is fetched using a secondary query.</p>\n<h2>The proper Hibernate 5 solution</h2>\n<p>You can do the following trick:</p>\n<pre><code>List&lt;Post&gt; posts = entityManager.createQuery(&quot;&quot;&quot;\n    select distinct p\n    from Post p\n    left join fetch p.comments\n    where p.id between :minId and :maxId\n    &quot;&quot;&quot;, Post.class)\n.setParameter(&quot;minId&quot;, 1L)\n.setParameter(&quot;maxId&quot;, 50L)\n.setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\n.getResultList();\n\nposts = entityManager.createQuery(&quot;&quot;&quot;\n    select distinct p\n    from Post p\n    left join fetch p.tags t\n    where p in :posts \n    &quot;&quot;&quot;, Post.class)\n.setParameter(&quot;posts&quot;, posts)\n.setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\n.getResultList();\n</code></pre>\n<blockquote>\n<p>In the first JPQL query, <code>distinct</code> DOES NOT go to the SQL statement. That's why we set the <code>PASS_DISTINCT_THROUGH</code> JPA query hint to <code>false</code>.</p>\n<p>DISTINCT has two meanings in JPQL, and here, we need it to deduplicate the Java object references returned by <code>getResultList</code> on the Java side, not the SQL side.</p>\n</blockquote>\n<p>By using multiple queries, you will avoid the Cartesian Product since any other collection, but the first one is fetched using a secondary query.</p>\n<h2>There's more you could do</h2>\n<p>If you're using the <code>FetchType.EAGER</code> strategy at mapping time for <code>@OneToMany</code> or <code>@ManyToMany</code> associations, then you could easily end up with a <code>MultipleBagFetchException</code>.</p>\n<p>You are better off switching from <code>FetchType.EAGER</code> to <code>Fetchype.LAZY</code> since eager fetching is a terrible idea that can lead to critical application performance issues.</p>\n<h2>Conclusion</h2>\n<p>Avoid <code>FetchType.EAGER</code> and don't switch from <code>List</code> to <code>Set</code> just because doing so will make Hibernate hide the <code>MultipleBagFetchException</code> under the carpet. Fetch just one collection at a time, and you'll be fine.</p>\n<p>As long as you do it with the same number of queries as you have collections to initialize, you are fine. Just don't initialize the collections in a loop, as that will trigger N+1 query issues, which are also bad for performance.</p>\n"},{"tags":[],"owner":{"display_name":"user10812734"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547316595,"creation_date":1547316595,"answer_id":54162482,"question_id":4334970,"body_markdown":"For me, the problem was having nested *EAGER* fetches.\r\n\r\nOne solution is to set the nested fields to *LAZY* and use Hibernate.initialize() to load the nested field(s):\r\n\r\n    x = session.get(ClassName.class, id);\r\n    Hibernate.initialize(x.getNestedField());\r\n\r\n","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>For me, the problem was having nested <em>EAGER</em> fetches.</p>\n\n<p>One solution is to set the nested fields to <em>LAZY</em> and use Hibernate.initialize() to load the nested field(s):</p>\n\n<pre><code>x = session.get(ClassName.class, id);\nHibernate.initialize(x.getNestedField());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7008520,"reputation":1104,"user_id":5372188,"display_name":"JAD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578777275,"creation_date":1578777275,"answer_id":59698683,"question_id":4334970,"body_markdown":"At my end, this happened when I had multiple collections with FetchType.EAGER, like this:\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, targetEntity = className.class)\r\n    @JoinColumn(name = &quot;myClass_id&quot;)\r\n    @JsonView(SerializationView.Summary.class)\r\n    private Collection&lt;Model&gt; ModelObjects;\r\n\r\nAdditionally, the collections were joining on the same column.\r\n\r\nTo solve this issue, I changed one of the collections to FetchType.LAZY since it was okay for my use-case.\r\n\r\nGoodluck!\r\n~J","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>At my end, this happened when I had multiple collections with FetchType.EAGER, like this:</p>\n\n<pre><code>@ManyToMany(fetch = FetchType.EAGER, targetEntity = className.class)\n@JoinColumn(name = \"myClass_id\")\n@JsonView(SerializationView.Summary.class)\nprivate Collection&lt;Model&gt; ModelObjects;\n</code></pre>\n\n<p>Additionally, the collections were joining on the same column.</p>\n\n<p>To solve this issue, I changed one of the collections to FetchType.LAZY since it was okay for my use-case.</p>\n\n<p>Goodluck!\n~J</p>\n"},{"tags":[],"owner":{"account_id":4868086,"reputation":3099,"user_id":3925626,"display_name":"prisar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582782463,"creation_date":1582782463,"answer_id":60426976,"question_id":4334970,"body_markdown":"Commenting both `Fetch` and `LazyCollection` sometimes helps to run project.\r\n\r\n    @Fetch(FetchMode.JOIN)\r\n    @LazyCollection(LazyCollectionOption.FALSE)","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>Commenting both <code>Fetch</code> and <code>LazyCollection</code> sometimes helps to run project.</p>\n\n<pre><code>@Fetch(FetchMode.JOIN)\n@LazyCollection(LazyCollectionOption.FALSE)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586879020,"creation_date":1586879020,"answer_id":61211712,"question_id":4334970,"body_markdown":"One good thing about `@LazyCollection(LazyCollectionOption.FALSE)` is that several fields with this annotation can coexist while `FetchType.EAGER` cannot, even in the situations where such coexistence is legit.\r\n\r\nFor example, an `Order` may have a list of `OrderGroup`(a short one) as well as a list of `Promotions`(also short). `@LazyCollection(LazyCollectionOption.FALSE)` can be used on both without causing `LazyInitializationException` neither `MultipleBagFetchException`.\r\n\r\n\r\nIn my case `@Fetch` did solve my problem of `MultipleBacFetchException` but then causes `LazyInitializationException`, the infamous `no Session` error.\r\n","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>One good thing about <code>@LazyCollection(LazyCollectionOption.FALSE)</code> is that several fields with this annotation can coexist while <code>FetchType.EAGER</code> cannot, even in the situations where such coexistence is legit.</p>\n\n<p>For example, an <code>Order</code> may have a list of <code>OrderGroup</code>(a short one) as well as a list of <code>Promotions</code>(also short). <code>@LazyCollection(LazyCollectionOption.FALSE)</code> can be used on both without causing <code>LazyInitializationException</code> neither <code>MultipleBagFetchException</code>.</p>\n\n<p>In my case <code>@Fetch</code> did solve my problem of <code>MultipleBacFetchException</code> but then causes <code>LazyInitializationException</code>, the infamous <code>no Session</code> error.</p>\n"},{"tags":[],"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611915162,"creation_date":1611915162,"answer_id":65952492,"question_id":4334970,"body_markdown":"I solved by annotating:\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>I solved by annotating:</p>\n<pre><code>@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8872042,"reputation":21,"user_id":6625488,"display_name":"Karen Hechter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629979901,"creation_date":1629979901,"answer_id":68938285,"question_id":4334970,"body_markdown":"Ok so here&#39;s my 2 cents. I had the Fetch Lazy annotations in my Entity but I also duplicated the fetch lazy in the session bean thus causing a multiple bag issue. So I just removed the lines in my SessionBean\r\n\r\ncriteria.createAlias(&quot;FIELD&quot;, &quot;ALIAS&quot;, JoinType.LEFT_OUTER_JOIN);  //REMOVED\r\n\r\nAnd I used Hibernate.initialize on the list I wanted to retrieve after the List parent = criteria.list was called.\r\nHibernate.initialize(parent.getChildList());","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>Ok so here's my 2 cents. I had the Fetch Lazy annotations in my Entity but I also duplicated the fetch lazy in the session bean thus causing a multiple bag issue. So I just removed the lines in my SessionBean</p>\n<p>criteria.createAlias(&quot;FIELD&quot;, &quot;ALIAS&quot;, JoinType.LEFT_OUTER_JOIN);  //REMOVED</p>\n<p>And I used Hibernate.initialize on the list I wanted to retrieve after the List parent = criteria.list was called.\nHibernate.initialize(parent.getChildList());</p>\n"},{"tags":[],"owner":{"account_id":16960504,"reputation":11,"user_id":12267767,"display_name":"alxkudin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634899741,"creation_date":1634899741,"answer_id":69675555,"question_id":4334970,"body_markdown":"You can also try to make fetch=FetchType.LAZY and just add @Transactional(readOnly = true) to method where you get child","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>You can also try to make fetch=FetchType.LAZY and just add @Transactional(readOnly = true) to method where you get child</p>\n"},{"tags":[],"owner":{"account_id":1192298,"reputation":2149,"user_id":1512168,"accept_rate":96,"display_name":"Mario B"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1689893119,"creation_date":1682944096,"answer_id":76146939,"question_id":4334970,"body_markdown":"\r\n#### TLDR: Don&#39;t use EAGER. Always fetch things **only when you really need them**!\r\n\r\n---\r\nA lot of mentions here about `FetchType.EAGER` and I wanted to go a bit more into detail why this is a bad idea and on what to use alternatively. Hopefully after reading this you realize that really you should absolutely **NEVER** use `FetchType.EAGER`.\r\n\r\nThere is just no good reason to! It&#39;s a mayor pitfall that can bite you (or even worse: someone else) down the road. Imagine you chose FetchType.EAGER for a Student -&gt; Teacher relation, because you think every time you need to fetch a Student you also need his Teachers. Now even if you are 100% sure you never need students without teachers **right now**, you simply can&#39;t foresee how requirements change. FetchType.EAGER violates the [Open-closed principle][1]! Your code is no longer **open for extension** - if later the need for loading Students without Teachers arise it&#39;s difficult do to that without reworking (and possibly breaking) existing code!\r\n\r\nAn even bigger problem you have is that you basically created an n+1 select problem for possible future queries, that (rightfully) already fetched another bag in the basic query. Let&#39;s say in the future someone wants to load all Students with their grades and there are 30000 of them. Since you told Hibernate to EAGER fetch all Teachers it has to do that. But since you already fetched another &quot;bag&quot; (the grades) within the same query this actually results in 30001 queries - for data that wasn&#39;t even needed in that scenario! The first query for loading all Students+Grades and then a separate query for each Student to fetch his teachers. Needless to say that this is horrendous for performance. In my opinion this is the sole reason for people to believe that &quot;Hibernate is slow&quot; - they just don&#39;t realize how incredible inefficient it **might** query stuff in some situations. You really have to be careful with 1:n relations.\r\n\r\n3 Alternatives (manually fetch stuff when needed):\r\n\r\n 1. Use JOIN FETCH to fetch a collection. To stick with the example `SELECT stud FROM STUDENT stud JOIN FETCH stud.teachers` would do the trick. This will always fire a single query to fetch students AND teachers. Just be mindful to only fetch **one** collection that way (explanation would go too far for this answer).\r\n 2. If you use Spring-JPA you can use @EntityGraph(attributePaths = {&quot;teachers&quot;}) to do the same.\r\n 3. You could call Hibernate.initialize(oneStudent.getTeachers()) with the Hibernate-proxy to fetch the relation manually. This will always create a separate query, so don&#39;t do it in a loop or you just created a n+1 select problem yourself.\r\n\r\n---\r\n\r\nAlso one final tip in general: turn the logging for org.hibernate.SQL to DEBUG to see when/what queries are fired and make sure your local dev setup has a reasonable amount of data. When you test your code with only 2 students and don&#39;t check the queries that are fired you might miss something like that and end up having issues on real systems with more data.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Open%E2%80%93closed_principle","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<h4>TLDR: Don't use EAGER. Always fetch things <strong>only when you really need them</strong>!</h4>\n<hr />\n<p>A lot of mentions here about <code>FetchType.EAGER</code> and I wanted to go a bit more into detail why this is a bad idea and on what to use alternatively. Hopefully after reading this you realize that really you should absolutely <strong>NEVER</strong> use <code>FetchType.EAGER</code>.</p>\n<p>There is just no good reason to! It's a mayor pitfall that can bite you (or even worse: someone else) down the road. Imagine you chose FetchType.EAGER for a Student -&gt; Teacher relation, because you think every time you need to fetch a Student you also need his Teachers. Now even if you are 100% sure you never need students without teachers <strong>right now</strong>, you simply can't foresee how requirements change. FetchType.EAGER violates the <a href=\"https://en.wikipedia.org/wiki/Open%E2%80%93closed_principle\" rel=\"nofollow noreferrer\">Open-closed principle</a>! Your code is no longer <strong>open for extension</strong> - if later the need for loading Students without Teachers arise it's difficult do to that without reworking (and possibly breaking) existing code!</p>\n<p>An even bigger problem you have is that you basically created an n+1 select problem for possible future queries, that (rightfully) already fetched another bag in the basic query. Let's say in the future someone wants to load all Students with their grades and there are 30000 of them. Since you told Hibernate to EAGER fetch all Teachers it has to do that. But since you already fetched another &quot;bag&quot; (the grades) within the same query this actually results in 30001 queries - for data that wasn't even needed in that scenario! The first query for loading all Students+Grades and then a separate query for each Student to fetch his teachers. Needless to say that this is horrendous for performance. In my opinion this is the sole reason for people to believe that &quot;Hibernate is slow&quot; - they just don't realize how incredible inefficient it <strong>might</strong> query stuff in some situations. You really have to be careful with 1:n relations.</p>\n<p>3 Alternatives (manually fetch stuff when needed):</p>\n<ol>\n<li>Use JOIN FETCH to fetch a collection. To stick with the example <code>SELECT stud FROM STUDENT stud JOIN FETCH stud.teachers</code> would do the trick. This will always fire a single query to fetch students AND teachers. Just be mindful to only fetch <strong>one</strong> collection that way (explanation would go too far for this answer).</li>\n<li>If you use Spring-JPA you can use @EntityGraph(attributePaths = {&quot;teachers&quot;}) to do the same.</li>\n<li>You could call Hibernate.initialize(oneStudent.getTeachers()) with the Hibernate-proxy to fetch the relation manually. This will always create a separate query, so don't do it in a loop or you just created a n+1 select problem yourself.</li>\n</ol>\n<hr />\n<p>Also one final tip in general: turn the logging for org.hibernate.SQL to DEBUG to see when/what queries are fired and make sure your local dev setup has a reasonable amount of data. When you test your code with only 2 students and don't check the queries that are fired you might miss something like that and end up having issues on real systems with more data.</p>\n"}],"owner":{"account_id":66555,"reputation":12901,"user_id":195176,"accept_rate":88,"display_name":"blow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":477080,"favorite_count":0,"down_vote_count":0,"up_vote_count":609,"accepted_answer_id":4335514,"answer_count":18,"score":609,"last_activity_date":1697371675,"creation_date":1291292899,"question_id":4334970,"body_markdown":"Hibernate throws this exception during SessionFactory creation:\r\n\r\n&gt; org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags\r\n\r\nThis is my test case:\r\n\r\n**Parent.java**\r\n\r\n    @Entity\r\n    public Parent {\r\n     \r\n     @Id\r\n     @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n     private Long id;\r\n    \r\n     @OneToMany(mappedBy=&quot;parent&quot;, fetch=FetchType.EAGER)\r\n     // @IndexColumn(name=&quot;INDEX_COL&quot;) if I had this the problem solve but I retrieve more children than I have, one child is null.\r\n     private List&lt;Child&gt; children;\r\n    \r\n    }\r\n    \r\n\r\n**Child.java**\r\n\r\n    @Entity\r\n    public Child {\r\n     \r\n     @Id\r\n     @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n     private Long id;\r\n    \r\n     @ManyToOne\r\n     private Parent parent;\r\n    \r\n    }\r\n\r\nHow about this problem? What can I do?\r\n\r\n\r\n----------\r\n\r\n\r\n**EDIT**\r\n\r\nOK, the problem I have is that another &quot;parent&quot; entity is inside my parent, my real behavior is this:\r\n\r\n**Parent.java**\r\n\r\n    @Entity\r\n    public Parent {\r\n     \r\n     @Id\r\n     @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n     private Long id;\r\n\r\n     @ManyToOne\r\n     private AnotherParent anotherParent;\r\n    \r\n     @OneToMany(mappedBy=&quot;parent&quot;, fetch=FetchType.EAGER)\r\n     private List&lt;Child&gt; children;\r\n    \r\n    }\r\n\r\n**AnotherParent.java**\r\n\r\n    @Entity\r\n    public AnotherParent {\r\n     \r\n     @Id\r\n     @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n     private Long id;\r\n    \r\n     @OneToMany(mappedBy=&quot;parent&quot;, fetch=FetchType.EAGER)\r\n     private List&lt;AnotherChild&gt; anotherChildren;\r\n    \r\n    }\r\n\r\nHibernate doesn&#39;t like two collections with `FetchType.EAGER`, but this seems to be a bug, I&#39;m not doing unusual things...\r\n\r\nRemoving `FetchType.EAGER` from `Parent` or `AnotherParent` solves the problem, but I need it, so real solution is to use `@LazyCollection(LazyCollectionOption.FALSE)` instead of `FetchType` (thanks to [Bozho][1] for the solution).\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/203907/bozho","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>Hibernate throws this exception during SessionFactory creation:</p>\n\n<blockquote>\n  <p>org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags</p>\n</blockquote>\n\n<p>This is my test case:</p>\n\n<p><strong>Parent.java</strong></p>\n\n<pre><code>@Entity\npublic Parent {\n\n @Id\n @GeneratedValue(strategy=GenerationType.IDENTITY)\n private Long id;\n\n @OneToMany(mappedBy=\"parent\", fetch=FetchType.EAGER)\n // @IndexColumn(name=\"INDEX_COL\") if I had this the problem solve but I retrieve more children than I have, one child is null.\n private List&lt;Child&gt; children;\n\n}\n</code></pre>\n\n<p><strong>Child.java</strong></p>\n\n<pre><code>@Entity\npublic Child {\n\n @Id\n @GeneratedValue(strategy=GenerationType.IDENTITY)\n private Long id;\n\n @ManyToOne\n private Parent parent;\n\n}\n</code></pre>\n\n<p>How about this problem? What can I do?</p>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>OK, the problem I have is that another \"parent\" entity is inside my parent, my real behavior is this:</p>\n\n<p><strong>Parent.java</strong></p>\n\n<pre><code>@Entity\npublic Parent {\n\n @Id\n @GeneratedValue(strategy=GenerationType.IDENTITY)\n private Long id;\n\n @ManyToOne\n private AnotherParent anotherParent;\n\n @OneToMany(mappedBy=\"parent\", fetch=FetchType.EAGER)\n private List&lt;Child&gt; children;\n\n}\n</code></pre>\n\n<p><strong>AnotherParent.java</strong></p>\n\n<pre><code>@Entity\npublic AnotherParent {\n\n @Id\n @GeneratedValue(strategy=GenerationType.IDENTITY)\n private Long id;\n\n @OneToMany(mappedBy=\"parent\", fetch=FetchType.EAGER)\n private List&lt;AnotherChild&gt; anotherChildren;\n\n}\n</code></pre>\n\n<p>Hibernate doesn't like two collections with <code>FetchType.EAGER</code>, but this seems to be a bug, I'm not doing unusual things...</p>\n\n<p>Removing <code>FetchType.EAGER</code> from <code>Parent</code> or <code>AnotherParent</code> solves the problem, but I need it, so real solution is to use <code>@LazyCollection(LazyCollectionOption.FALSE)</code> instead of <code>FetchType</code> (thanks to <a href=\"https://stackoverflow.com/users/203907/bozho\">Bozho</a> for the solution).</p>\n"},{"tags":["java","oracle","out-of-memory","clob"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1681167612,"post_id":75981282,"comment_id":134010069,"body_markdown":"The “LOB” stands for ‘large object.’  They are not supposed to be held in program memory all at once.  That’s why CLOB has methods that return Reader or InputStream.  (You really should prefer Reader over InputStream to avoid charset conversion issues.)  Either change your method so it returns a Reader instead of `byte[]`, or pass an object which can process a Reader.  Both approaches allow you to read the CLOB without keeping it all in memory at once.","body":"The “LOB” stands for ‘large object.’  They are not supposed to be held in program memory all at once.  That’s why CLOB has methods that return Reader or InputStream.  (You really should prefer Reader over InputStream to avoid charset conversion issues.)  Either change your method so it returns a Reader instead of <code>byte[]</code>, or pass an object which can process a Reader.  Both approaches allow you to read the CLOB without keeping it all in memory at once."},{"owner":{"account_id":1000404,"reputation":1347,"user_id":1015388,"accept_rate":15,"display_name":"user1015388"},"score":0,"creation_date":1681220825,"post_id":75981282,"comment_id":134018899,"body_markdown":"@VGR, thank you. Do you suggest any example where I can use Reader","body":"@VGR, thank you. Do you suggest any example where I can use Reader"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1681225796,"post_id":75981282,"comment_id":134020434,"body_markdown":"You can learn how Reader works by reading [the documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/Reader.html).  Exactly how you should use it will depend on what your application is doing with the CLOB data.","body":"You can learn how Reader works by reading <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/Reader.html\" rel=\"nofollow noreferrer\">the documentation</a>.  Exactly how you should use it will depend on what your application is doing with the CLOB data."}],"owner":{"account_id":1000404,"reputation":1347,"user_id":1015388,"accept_rate":15,"display_name":"user1015388"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":660,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697371628,"creation_date":1681166959,"question_id":75981282,"body_markdown":"I am trying to retrieve a CLOB from Oracle SQL table. Clob is of around 25MB. I am getting an error :\r\n\r\n&gt; WARNING: Resolved [org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.OutOfMemoryError: Java heap space]\r\n\r\nIs there any way to retrieve the file?\r\n\r\nAny other alternative approaches using Springboot.\r\n\r\nThis is the code:\r\n\r\n    public byte[] getData(String task) {\r\n    \tStringBuilder sb = new StringBuilder();\r\n    \tsb.append(&quot;select OUTPUT_file from tablea where task = ?&quot;);\r\n    \t\r\n    \tbyte[] fileBytes = jdbcTemplate.query(sb.toString(), new Object[]{task}, (rs) -&gt;{\r\n    \t\tif(rs.next()){\r\n    \t\t\r\n    \t\t\tbyte[] resByteArry =new byte[0];\r\n    \t\tClob clob = rs.getClob(&quot;OUTPUT_file&quot;);\r\n    \t\tresByteArry =getByteArrayByStream(clob.getAsciiStream());\r\n    \t\treturn resByteArry;\r\n    \t\t}else {\r\n    \t\t\treturn new byte[0];\r\n    \t\t}\r\n    \t\t\r\n    \t});\r\n    \t\r\n    \treturn fileBytes;\r\n    }\r\n\r\n\tprivate byte[] getByteArrayByStream(InputStream ins) {\r\n\t\r\n\tByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\ttry {\r\n\t\tbyte[] buffer = new byte[1024];\r\n\t\tint length =0;\r\n\t\twhile( (length = ins.read(buffer,0,buffer.length)) !=-1){\r\n\t\t\t\r\n\t\t\tout.write(buffer,0,length);\r\n\t\t\t\r\n\t\t}\r\n\t\tout.flush();\r\n\t\tout.close();\r\n\t} catch (IOException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n\treturn out.toByteArray();\r\n\r\n    }\r\n","title":"WARNING: Resolved nested exception is java.lang.OutOfMemoryError: Java heap space]","body":"<p>I am trying to retrieve a CLOB from Oracle SQL table. Clob is of around 25MB. I am getting an error :</p>\n<blockquote>\n<p>WARNING: Resolved [org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.OutOfMemoryError: Java heap space]</p>\n</blockquote>\n<p>Is there any way to retrieve the file?</p>\n<p>Any other alternative approaches using Springboot.</p>\n<p>This is the code:</p>\n<pre><code>public byte[] getData(String task) {\n    StringBuilder sb = new StringBuilder();\n    sb.append(&quot;select OUTPUT_file from tablea where task = ?&quot;);\n    \n    byte[] fileBytes = jdbcTemplate.query(sb.toString(), new Object[]{task}, (rs) -&gt;{\n        if(rs.next()){\n        \n            byte[] resByteArry =new byte[0];\n        Clob clob = rs.getClob(&quot;OUTPUT_file&quot;);\n        resByteArry =getByteArrayByStream(clob.getAsciiStream());\n        return resByteArry;\n        }else {\n            return new byte[0];\n        }\n        \n    });\n    \n    return fileBytes;\n}\n\nprivate byte[] getByteArrayByStream(InputStream ins) {\n\nByteArrayOutputStream out = new ByteArrayOutputStream();\ntry {\n    byte[] buffer = new byte[1024];\n    int length =0;\n    while( (length = ins.read(buffer,0,buffer.length)) !=-1){\n        \n        out.write(buffer,0,length);\n        \n    }\n    out.flush();\n    out.close();\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\nreturn out.toByteArray();\n\n}\n</code></pre>\n"},{"tags":["java","json","selenium-webdriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686315254,"post_id":76439353,"comment_id":134785770,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28556930,"reputation":1,"user_id":21861011,"display_name":"user21861011"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697371484,"creation_date":1686306319,"question_id":76439353,"body_markdown":"I have 3 dropdown (select classes). After the selection of 1st dropdown have to verify, `{ &quot;IsActive&quot; : &quot;True&quot; }` and continue to get the 2nd dropdown values. Could you please suggest how to retrieve the values in code.\r\n\r\nFor example:\r\n\r\n    {\r\n        abc: 1,\r\n        cbd: 2\r\n    },\r\n    {\r\n        Isactive: true,\r\n        data 2 : [\r\n                   abc,\r\n                   bcd\r\n                 ]\r\n    }","title":"How to fetch json data for dropdown in ui","body":"<p>I have 3 dropdown (select classes). After the selection of 1st dropdown have to verify, <code>{ &quot;IsActive&quot; : &quot;True&quot; }</code> and continue to get the 2nd dropdown values. Could you please suggest how to retrieve the values in code.</p>\n<p>For example:</p>\n<pre><code>{\n    abc: 1,\n    cbd: 2\n},\n{\n    Isactive: true,\n    data 2 : [\n               abc,\n               bcd\n             ]\n}\n</code></pre>\n"},{"tags":["java","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":5717088,"reputation":6957,"user_id":4516887,"display_name":"fateddy"},"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1546019350,"creation_date":1457076885,"answer_id":35790468,"question_id":35788856,"body_markdown":"**Option1:** You could use named-queries (see [Using JPA Named Queries][1]):\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Entity\r\n    @NamedQuery(name = &quot;User.findByEmailAddress&quot;,\r\n      query = &quot;select u from User u where u.emailAddress = ?1&quot;)\r\n    public class User {\r\n\r\n    }\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n\r\n       User findByEmailAddress(String emailAddress);\r\n    }\r\n\r\n**Option2**: use `@Query` to write your custom queries (see [Using @Query][2])\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n\r\n       @Query(&quot;select u from User u where u.emailAddress = ?1&quot;)\r\n       User findByEmailAddress(String emailAddress);\r\n    }\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.named-queries\r\n  [2]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query","title":"How to combine multiple And and Or through method name","body":"<p><strong>Option1:</strong> You could use named-queries (see <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.named-queries\" rel=\"noreferrer\">Using JPA Named Queries</a>):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@NamedQuery(name = \"User.findByEmailAddress\",\n  query = \"select u from User u where u.emailAddress = ?1\")\npublic class User {\n\n}\n\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n\n   User findByEmailAddress(String emailAddress);\n}\n</code></pre>\n\n<p><strong>Option2</strong>: use <code>@Query</code> to write your custom queries (see <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query\" rel=\"noreferrer\">Using @Query</a>)</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n\n   @Query(\"select u from User u where u.emailAddress = ?1\")\n   User findByEmailAddress(String emailAddress);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9744,"reputation":80826,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1457089081,"creation_date":1457089081,"answer_id":35794304,"question_id":35788856,"body_markdown":"It&#39;s currently not possible and also won&#39;t be in the future. I&#39;d argue that even if it was possible, with a more complex query you wouldn&#39;t want to artificially squeeze all query complexity into the method name. Not only because it becomes hard to digest what&#39;s actually going on in the query but also from a client code point of view: you want to use expressive method names, which — in case of a simple `findByUsername(…)` — the query derivation allows you to create.\r\n\r\nFor more complex stuff you&#39; just elevate query complexity into the calling code and it&#39;s advisable to rather move to a readable method name that semantically expresses what the query does and keep the query complexity in a manually declared query either using `@Query`, named queries or the like.","title":"How to combine multiple And and Or through method name","body":"<p>It's currently not possible and also won't be in the future. I'd argue that even if it was possible, with a more complex query you wouldn't want to artificially squeeze all query complexity into the method name. Not only because it becomes hard to digest what's actually going on in the query but also from a client code point of view: you want to use expressive method names, which — in case of a simple <code>findByUsername(…)</code> — the query derivation allows you to create.</p>\n\n<p>For more complex stuff you' just elevate query complexity into the calling code and it's advisable to rather move to a readable method name that semantically expresses what the query does and keep the query complexity in a manually declared query either using <code>@Query</code>, named queries or the like.</p>\n"},{"tags":[],"owner":{"account_id":10467487,"reputation":700,"user_id":7716459,"display_name":"Damir Djordjev"},"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1697370667,"creation_date":1489597685,"answer_id":42816356,"question_id":35788856,"body_markdown":"I agree with Oliver on long and unreadable method names, but nevertheless and for the sake of argument, you can achieve desired result by using the equivalency \r\n\r\n    A /\\ (B \\/ C) &lt;=&gt; (A /\\ B) \\/ (A /\\ C)\r\n    A and (B or C) &lt;=&gt; (A and B) or (A and C)\r\n\r\nSo in your case it should look something like this:    \r\n\r\n    findByPlan_PlanTypeInAndSetupStepIsNullOrPlan_PlanTypeInAndStepupStepIs(...)","title":"How to combine multiple And and Or through method name","body":"<p>I agree with Oliver on long and unreadable method names, but nevertheless and for the sake of argument, you can achieve desired result by using the equivalency</p>\n<pre><code>A /\\ (B \\/ C) &lt;=&gt; (A /\\ B) \\/ (A /\\ C)\nA and (B or C) &lt;=&gt; (A and B) or (A and C)\n</code></pre>\n<p>So in your case it should look something like this:</p>\n<pre><code>findByPlan_PlanTypeInAndSetupStepIsNullOrPlan_PlanTypeInAndStepupStepIs(...)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8825915,"reputation":707,"user_id":6594174,"display_name":"leonardo rey"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1524491688,"creation_date":1524491688,"answer_id":49982953,"question_id":35788856,"body_markdown":"Use something like\r\n\r\n    findByFirstElementAndCriteriaOrSecondElementAndCriteria\r\n\r\nis like (first &amp; condition) OR ( second &amp; condition) --&gt; condition &amp; ( first or second)","title":"How to combine multiple And and Or through method name","body":"<p>Use something like</p>\n\n<pre><code>findByFirstElementAndCriteriaOrSecondElementAndCriteria\n</code></pre>\n\n<p>is like (first &amp; condition) OR ( second &amp; condition) --> condition &amp; ( first or second)</p>\n"},{"tags":[],"owner":{"account_id":11450501,"reputation":311,"user_id":8423371,"display_name":"SM. Hosseini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697368511,"creation_date":1697368511,"answer_id":77296388,"question_id":35788856,"body_markdown":"imagine you have this method in Spring Repository class:\r\n\r\n    Page&lt;SystemEntity&gt;  findByNameContainsAndFlagIsFalseOrFamilyContainsAndFlagIsFalseOrEmailContainsAndFlagIsFalse(String name, String family ,String email, Pageable pageable); \r\n\r\none good practice is to break big query into its parts, then use them in this way:\r\n\r\n    Page&lt;SystemEntity&gt; findByNameContainsAndFlagIsFalse(String name, Pageable pageable); \r\n    \r\n    Page&lt;SystemEntity&gt; findByFamilyContainsAndFlagIsFalse(String family, Pageable pageable); \r\n    \r\n    Page&lt;SystemEntity&gt; findByEmailContainsAndFlagIsFals(String email, Pageable pageable); \r\n    \r\n    \r\n    // Combine results from above methods\r\n    default Page&lt;SystemEntity&gt; findByPrimaryLogicalCondition(String name, String family ,String email, Pageable pageable){\r\n    \tPage&lt;SystemEntity&gt; pageName = findByNameContainsAndFlagIsFalse(name, pageable);\r\n    \tPage&lt;SystemEntity&gt; pageFamily = findByFamilyContainsAndFlagIsFalse(family, pageable);\r\n    \tPage&lt;SystemEntity&gt; pageEmail = findByEmailContainsAndFlagIsFals(email, pageable);\r\n    \t\r\n    \t// Combine the results from both queries\r\n    \tList&lt;SystemEntity&gt; combinedResults = new ArrayList&lt;&gt;(pageName.getContent());\r\n    \tcombinedResults.addAll(pageFamily.getContent());\r\n    \tcombinedResults.addAll(pageEmail.getContent());\r\n    \t\r\n    \treturn new PageImpl&lt;&gt;(combinedResults, pageable, combinedResults.size());\r\n    }\r\n\r\nThis approach allows you to reuse the smaller methods for other queries if needed and keeps your code more modular and maintainable. ","title":"How to combine multiple And and Or through method name","body":"<p>imagine you have this method in Spring Repository class:</p>\n<pre><code>Page&lt;SystemEntity&gt;  findByNameContainsAndFlagIsFalseOrFamilyContainsAndFlagIsFalseOrEmailContainsAndFlagIsFalse(String name, String family ,String email, Pageable pageable); \n</code></pre>\n<p>one good practice is to break big query into its parts, then use them in this way:</p>\n<pre><code>Page&lt;SystemEntity&gt; findByNameContainsAndFlagIsFalse(String name, Pageable pageable); \n\nPage&lt;SystemEntity&gt; findByFamilyContainsAndFlagIsFalse(String family, Pageable pageable); \n\nPage&lt;SystemEntity&gt; findByEmailContainsAndFlagIsFals(String email, Pageable pageable); \n\n\n// Combine results from above methods\ndefault Page&lt;SystemEntity&gt; findByPrimaryLogicalCondition(String name, String family ,String email, Pageable pageable){\n    Page&lt;SystemEntity&gt; pageName = findByNameContainsAndFlagIsFalse(name, pageable);\n    Page&lt;SystemEntity&gt; pageFamily = findByFamilyContainsAndFlagIsFalse(family, pageable);\n    Page&lt;SystemEntity&gt; pageEmail = findByEmailContainsAndFlagIsFals(email, pageable);\n    \n    // Combine the results from both queries\n    List&lt;SystemEntity&gt; combinedResults = new ArrayList&lt;&gt;(pageName.getContent());\n    combinedResults.addAll(pageFamily.getContent());\n    combinedResults.addAll(pageEmail.getContent());\n    \n    return new PageImpl&lt;&gt;(combinedResults, pageable, combinedResults.size());\n}\n</code></pre>\n<p>This approach allows you to reuse the smaller methods for other queries if needed and keeps your code more modular and maintainable.</p>\n"}],"owner":{"account_id":7284152,"reputation":641,"user_id":5552812,"display_name":"Preethi Ramanujam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82605,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"answer_count":5,"score":64,"last_activity_date":1697370667,"creation_date":1457070418,"question_id":35788856,"body_markdown":"I am trying to migrate the application. I am working on from Hibernate to Spring Data JPA. \r\n\r\nThough Spring Data JPA offers simple methods for query building, I am stuck up in creating query method that uses both `And` and `Or` operator. \r\n\r\nMethodName - `findByPlan_PlanTypeInAndSetupStepIsNullOrStepupStepIs(...)`\r\n\r\nWhen it converts into the query, the first two expressions are combined and it executes as `[(exp1 and exp2) or (exp3)]`, whereas required is `](exp1) and (exp2 or exp3)]`.\r\n\r\nCan anyone please let me know if this is achievable through Spring Data JPA?","title":"How to combine multiple And and Or through method name","body":"<p>I am trying to migrate the application. I am working on from Hibernate to Spring Data JPA.</p>\n<p>Though Spring Data JPA offers simple methods for query building, I am stuck up in creating query method that uses both <code>And</code> and <code>Or</code> operator.</p>\n<p>MethodName - <code>findByPlan_PlanTypeInAndSetupStepIsNullOrStepupStepIs(...)</code></p>\n<p>When it converts into the query, the first two expressions are combined and it executes as <code>[(exp1 and exp2) or (exp3)]</code>, whereas required is <code>](exp1) and (exp2 or exp3)]</code>.</p>\n<p>Can anyone please let me know if this is achievable through Spring Data JPA?</p>\n"},{"tags":["java","selenium-webdriver","testng","maven-surefire-plugin"],"comments":[{"owner":{"account_id":5006535,"reputation":1029,"user_id":4024038,"accept_rate":83,"display_name":"Nael Marwan"},"score":0,"creation_date":1697369933,"post_id":77280407,"comment_id":136268912,"body_markdown":"What command are you running from the command line?","body":"What command are you running from the command line?"}],"answers":[{"tags":[],"owner":{"account_id":5006535,"reputation":1029,"user_id":4024038,"accept_rate":83,"display_name":"Nael Marwan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697370079,"creation_date":1697370079,"answer_id":77296470,"question_id":77280407,"body_markdown":"Your question is not detailed enough, please try below:\r\n\r\nCheck if you have defined the xml suite file in the pom.xml:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M3&lt;/version&gt; &lt;!-- Adjust the version as needed --&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;suiteXmlFiles&gt;\r\n                        &lt;suiteXmlFile&gt;src/test/resources/testng.xml&lt;/suiteXmlFile&gt;\r\n                    &lt;/suiteXmlFiles&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\nTo run your TestNG tests using Maven, you can use the following Maven command:\r\n\r\n    mvn test\r\n\r\nThis command will trigger the test phase of the Maven build lifecycle, and it will execute your TestNG tests based on your project configuration, including the TestNG suite XML file specified in the pom.xml configuration.\r\n\r\nMake sure you are in your project&#39;s root directory where the pom.xml file is located before running this command. If your TestNG suite XML file is named testng.xml and is located in the src/test/resources directory, the Maven Surefire Plugin will automatically look for it and execute the tests defined in the XML file.\r\n\r\nIf you have multiple TestNG suite XML files or want to specify a different suite XML file, you can use the -Dtest option to specify the file as follows:\r\n\r\n    mvn test -DsuiteXmlFile=src/test/resources/your-testng-suite.xml\r\n\r\n","title":"Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-","body":"<p>Your question is not detailed enough, please try below:</p>\n<p>Check if you have defined the xml suite file in the pom.xml:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M3&lt;/version&gt; &lt;!-- Adjust the version as needed --&gt;\n            &lt;configuration&gt;\n                &lt;suiteXmlFiles&gt;\n                    &lt;suiteXmlFile&gt;src/test/resources/testng.xml&lt;/suiteXmlFile&gt;\n                &lt;/suiteXmlFiles&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>To run your TestNG tests using Maven, you can use the following Maven command:</p>\n<pre><code>mvn test\n</code></pre>\n<p>This command will trigger the test phase of the Maven build lifecycle, and it will execute your TestNG tests based on your project configuration, including the TestNG suite XML file specified in the pom.xml configuration.</p>\n<p>Make sure you are in your project's root directory where the pom.xml file is located before running this command. If your TestNG suite XML file is named testng.xml and is located in the src/test/resources directory, the Maven Surefire Plugin will automatically look for it and execute the tests defined in the XML file.</p>\n<p>If you have multiple TestNG suite XML files or want to specify a different suite XML file, you can use the -Dtest option to specify the file as follows:</p>\n<pre><code>mvn test -DsuiteXmlFile=src/test/resources/your-testng-suite.xml\n</code></pre>\n"}],"owner":{"account_id":26262586,"reputation":1,"user_id":19933651,"display_name":"Suraj Nepali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697370079,"creation_date":1697112214,"question_id":77280407,"body_markdown":"I was tring to execute the `BuyCourse.java` file located in the file path `meropadhaiseleniumframework/src/test/java/clinchtech/Tests/BuyCourse.java`. I have my `testng.xml` file in `meropadhaiseleniumframework/src/test/resources/testng.xml`\r\n\r\nMy `testng.xml` file has code:\r\n\r\n\r\n```xml\r\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;!-- To run the tests parallely, we need to add parallel=&quot;tests&quot; thread-count=&quot;2&quot;, it means 2 &lt;test&gt;&lt;/test&gt;s are running parallely, which is not suggested in real world systems --&gt;\r\n&lt;suite name=&quot;MyTestSuite&quot;&gt;\r\n    &lt;parameter name=&quot;URL&quot; value=&quot;https://demo.meropadhai.com&quot;/&gt;\r\n    &lt;listeners&gt;\r\n        &lt;listener class-name=&#39;TestComponents.Listeners&#39;/&gt;\r\n    &lt;/listeners&gt;\r\n    &lt;test name=&quot;java&quot;&gt;\r\n        &lt;classes&gt;\r\n            &lt;!-- Use the fully qualified class name including the package --&gt;\r\n            &lt;class name=&quot;Tests.BuyCourse&quot; /&gt;\r\n            &lt;!-- &lt;class name=&quot;TestNG.Tut1&quot;/&gt; --&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt;\r\n```\r\n\r\n\r\nWhen I tries to execute the code by running `mvn test` from the terminal I got the following error\r\n\r\n```\r\nFailed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M3:test (default-test) on project meropadhaiseleniumframework: There are test failures.\r\n[ERROR] \r\n[ERROR] Please refer to /Users/meropadhai6/Documents/GitHub/meropadhai-selenium/meropadhaiseleniumframework/target/surefire-reports for the individual test results.\r\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\r\n[ERROR] There was an error in the forked process\r\n[ERROR] Suite file /src/test/resources/testng.xml is not a valid file\r\n[ERROR] org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\r\n[ERROR] Suite file /src/test/resources/testng.xml is not a valid file\r\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:657)\r\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:283)\r\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:246)\r\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1161)\r\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:1002)\r\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:848)\r\n[ERROR]         at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:328)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:316)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:174)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:75)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:162)\r\n[ERROR]         at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:159)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\r\n[ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\r\n[ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\r\n[ERROR]         at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\r\n[ERROR]         at org.apache.maven.cli.MavenCli.execute(MavenCli.java:906)\r\n[ERROR]         at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:283)\r\n[ERROR]         at org.apache.maven.cli.MavenCli.main(MavenCli.java:206)\r\n[ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n[ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n[ERROR]         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n[ERROR]         at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:283)\r\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:226)\r\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:407)\r\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:348)\r\n```","title":"Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-","body":"<p>I was tring to execute the <code>BuyCourse.java</code> file located in the file path <code>meropadhaiseleniumframework/src/test/java/clinchtech/Tests/BuyCourse.java</code>. I have my <code>testng.xml</code> file in <code>meropadhaiseleniumframework/src/test/resources/testng.xml</code></p>\n<p>My <code>testng.xml</code> file has code:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;!-- To run the tests parallely, we need to add parallel=&quot;tests&quot; thread-count=&quot;2&quot;, it means 2 &lt;test&gt;&lt;/test&gt;s are running parallely, which is not suggested in real world systems --&gt;\n&lt;suite name=&quot;MyTestSuite&quot;&gt;\n    &lt;parameter name=&quot;URL&quot; value=&quot;https://demo.meropadhai.com&quot;/&gt;\n    &lt;listeners&gt;\n        &lt;listener class-name='TestComponents.Listeners'/&gt;\n    &lt;/listeners&gt;\n    &lt;test name=&quot;java&quot;&gt;\n        &lt;classes&gt;\n            &lt;!-- Use the fully qualified class name including the package --&gt;\n            &lt;class name=&quot;Tests.BuyCourse&quot; /&gt;\n            &lt;!-- &lt;class name=&quot;TestNG.Tut1&quot;/&gt; --&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>When I tries to execute the code by running <code>mvn test</code> from the terminal I got the following error</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M3:test (default-test) on project meropadhaiseleniumframework: There are test failures.\n[ERROR] \n[ERROR] Please refer to /Users/meropadhai6/Documents/GitHub/meropadhai-selenium/meropadhaiseleniumframework/target/surefire-reports for the individual test results.\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\n[ERROR] There was an error in the forked process\n[ERROR] Suite file /src/test/resources/testng.xml is not a valid file\n[ERROR] org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\n[ERROR] Suite file /src/test/resources/testng.xml is not a valid file\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:657)\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:283)\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:246)\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1161)\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:1002)\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:848)\n[ERROR]         at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:328)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:316)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:174)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:75)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:162)\n[ERROR]         at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:159)\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\n[ERROR]         at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\n[ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\n[ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\n[ERROR]         at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\n[ERROR]         at org.apache.maven.cli.MavenCli.execute(MavenCli.java:906)\n[ERROR]         at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:283)\n[ERROR]         at org.apache.maven.cli.MavenCli.main(MavenCli.java:206)\n[ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n[ERROR]         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[ERROR]         at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:283)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:226)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:407)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:348)\n</code></pre>\n"},{"tags":["java","android-studio","bottom-navigation-bar"],"owner":{"account_id":23025741,"reputation":21,"user_id":17146022,"display_name":"D Com"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697369321,"creation_date":1697369321,"question_id":77296434,"body_markdown":"I&#39;m trying to create a Bottom Navigation Bar with FloatingActionButton like this:\r\n[![enter image description here][1]][1]\r\n\r\nBut my result is different:\r\n\r\n[![enter image description here][2]][2]\r\n. \r\n\r\n  [1]: https://i.stack.imgur.com/GDJg4.png\r\n  [2]: https://i.stack.imgur.com/dpQhg.png\r\n\r\nWhy is this the result?\r\nAttach the XML file:\r\n``` \r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n\r\n        &lt;FrameLayout\r\n            android:id=&quot;@+id/nav_host_fragment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginBottom=&quot;?attr/actionBarSize&quot;\r\n            app:layout_behavior=&quot;com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior&quot;\r\n            /&gt;\r\n\r\n\r\n        &lt;com.google.android.material.bottomappbar.BottomAppBar\r\n            android:id=&quot;@+id/bottomAppBar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;bottom&quot;\r\n            app:contentInsetEnd=&quot;0dp&quot;\r\n            app:contentInsetStart=&quot;0dp&quot;\r\n            app:elevation=&quot;0dp&quot;\r\n            app:fabAlignmentMode=&quot;center&quot;\r\n            app:fabAnimationMode=&quot;scale&quot;\r\n            app:fabCradleMargin=&quot;10dp&quot;\r\n            app:fabCradleRoundedCornerRadius=&quot;25dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n            &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n                android:id=&quot;@+id/bottomNavigationView&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                app:labelVisibilityMode=&quot;labeled&quot;\r\n                app:menu=&quot;@menu/bottom_menu&quot; /&gt;\r\n\r\n\r\n        &lt;/com.google.android.material.bottomappbar.BottomAppBar&gt;\r\n\r\n\r\n        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n            android:id=&quot;@+id/fab&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:contentDescription=&quot;@string/app_name&quot;\r\n            android:src=&quot;@drawable/baseline_rocket_24&quot;\r\n            app:backgroundTint=&quot;@color/blue&quot;\r\n            app:elevation=&quot;5dp&quot;\r\n            app:fabSize=&quot;normal&quot;\r\n            app:layout_anchor=&quot;@id/bottomAppBar&quot; /&gt;\r\n\r\n\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n\r\n&lt;/androidx. coordinator layout.widget.CoordinatorLayout&gt;\r\n``` \r\nThese are the dependencies :\r\n``` \r\ndependencies {\r\n\r\n    implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\r\n    implementation(&quot;com.google.android.material:material:1.9.0&quot;)\r\n    implementation(&quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;)\r\n    implementation(&quot;com.google.firebase:firebase-database:20.2.2&quot;)\r\n    implementation(&quot;com.google.firebase:firebase-auth:22.1.2&quot;)\r\n    implementation(&quot;com.google.firebase:firebase-auth-ktx:22.1.2&quot;)\r\n    testImplementation(&quot;junit:junit:4.13.2&quot;)\r\n    androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\r\n    androidTestImplementation(&quot;com.google.android.material:material:1.3.0-alpha03&quot;)\r\n    androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\r\n    implementation(&quot;androidx.compose.material:material:1.6.0-alpha07&quot;)\r\n    implementation(platform(&quot;com.google.firebase:firebase-bom:32.3.1&quot;))\r\n    implementation(&quot;com.google.firebase:firebase-analytics&quot;)\r\n}\r\n``` \r\n\r\nThe components don&#39;t seem to connect together and just rest on top of each other. So far I haven&#39;t found the reason why it doesn&#39;t work, so I&#39;m asking you for help.","title":"Bottom Navigation Bar , FloatingActionButton &amp; layout_anchor not working","body":"<p>I'm trying to create a Bottom Navigation Bar with FloatingActionButton like this:\n<a href=\"https://i.stack.imgur.com/GDJg4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GDJg4.png\" alt=\"enter image description here\" /></a></p>\n<p>But my result is different:</p>\n<p><a href=\"https://i.stack.imgur.com/dpQhg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dpQhg.png\" alt=\"enter image description here\" /></a>\n.</p>\n<p>Why is this the result?\nAttach the XML file:</p>\n<pre><code>&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n        android:id=&quot;@+id/container&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n\n        &lt;FrameLayout\n            android:id=&quot;@+id/nav_host_fragment&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginBottom=&quot;?attr/actionBarSize&quot;\n            app:layout_behavior=&quot;com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior&quot;\n            /&gt;\n\n\n        &lt;com.google.android.material.bottomappbar.BottomAppBar\n            android:id=&quot;@+id/bottomAppBar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;bottom&quot;\n            app:contentInsetEnd=&quot;0dp&quot;\n            app:contentInsetStart=&quot;0dp&quot;\n            app:elevation=&quot;0dp&quot;\n            app:fabAlignmentMode=&quot;center&quot;\n            app:fabAnimationMode=&quot;scale&quot;\n            app:fabCradleMargin=&quot;10dp&quot;\n            app:fabCradleRoundedCornerRadius=&quot;25dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n            &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n                android:id=&quot;@+id/bottomNavigationView&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                app:labelVisibilityMode=&quot;labeled&quot;\n                app:menu=&quot;@menu/bottom_menu&quot; /&gt;\n\n\n        &lt;/com.google.android.material.bottomappbar.BottomAppBar&gt;\n\n\n        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n            android:id=&quot;@+id/fab&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:contentDescription=&quot;@string/app_name&quot;\n            android:src=&quot;@drawable/baseline_rocket_24&quot;\n            app:backgroundTint=&quot;@color/blue&quot;\n            app:elevation=&quot;5dp&quot;\n            app:fabSize=&quot;normal&quot;\n            app:layout_anchor=&quot;@id/bottomAppBar&quot; /&gt;\n\n\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n\n\n&lt;/androidx. coordinator layout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>These are the dependencies :</p>\n<pre><code>dependencies {\n\n    implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\n    implementation(&quot;com.google.android.material:material:1.9.0&quot;)\n    implementation(&quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;)\n    implementation(&quot;com.google.firebase:firebase-database:20.2.2&quot;)\n    implementation(&quot;com.google.firebase:firebase-auth:22.1.2&quot;)\n    implementation(&quot;com.google.firebase:firebase-auth-ktx:22.1.2&quot;)\n    testImplementation(&quot;junit:junit:4.13.2&quot;)\n    androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\n    androidTestImplementation(&quot;com.google.android.material:material:1.3.0-alpha03&quot;)\n    androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\n    implementation(&quot;androidx.compose.material:material:1.6.0-alpha07&quot;)\n    implementation(platform(&quot;com.google.firebase:firebase-bom:32.3.1&quot;))\n    implementation(&quot;com.google.firebase:firebase-analytics&quot;)\n}\n</code></pre>\n<p>The components don't seem to connect together and just rest on top of each other. So far I haven't found the reason why it doesn't work, so I'm asking you for help.</p>\n"},{"tags":["java","selenium-webdriver","testing","automated-tests","testng"],"comments":[{"owner":{"account_id":6244293,"reputation":3872,"user_id":4856814,"display_name":"murali selenium"},"score":0,"creation_date":1697252132,"post_id":77291433,"comment_id":136260253,"body_markdown":"check this https://stackoverflow.com/questions/57433307/maven-command-to-run-specific-test-class-got-org-testng-testngexception","body":"check this <a href=\"https://stackoverflow.com/questions/57433307/maven-command-to-run-specific-test-class-got-org-testng-testngexception\" title=\"maven command to run specific test class got org testng testngexception\">stackoverflow.com/questions/57433307/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5006535,"reputation":1029,"user_id":4024038,"accept_rate":83,"display_name":"Nael Marwan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697369294,"creation_date":1697369294,"answer_id":77296431,"question_id":77291433,"body_markdown":"Not sure regarding the xml file you have but let&#39;s assume it as below:\r\n\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;MyTestSuite&quot;&gt;\r\n        &lt;test name=&quot;MyTest&quot;&gt;\r\n            &lt;classes&gt;\r\n                &lt;class name=&quot;com.example.TestClass1&quot;&gt;\r\n                    &lt;methods&gt;\r\n                        &lt;include name=&quot;testMethod1&quot; /&gt;\r\n                        &lt;include name=&quot;testMethod2&quot; /&gt;\r\n                    &lt;/methods&gt;\r\n                &lt;/class&gt;\r\n                &lt;class name=&quot;com.example.TestClass2&quot; /&gt;\r\n            &lt;/classes&gt;\r\n        &lt;/test&gt;\r\n    &lt;/suite&gt;\r\n\r\n\r\nUse the following Maven command to run the specific tests defined in the XML file:\r\n\r\n    mvn test -DsuiteXmlFile=path/to/your/testng.xml -Dtest=testClass1#testMethod1,testClass1#testMethod2,testClass2\r\n\r\nReplace path/to/your/testng.xml with the actual path to your TestNG XML file, and specify the test classes and methods you want to run after the -Dtest= option, separated by commas.\r\n\r\nIn the example above, it will run testMethod1 and testMethod2 from TestClass1 and the entire TestClass2.","title":"How can I run a specific test from testng.xml file which has multiple test?","body":"<p>Not sure regarding the xml file you have but let's assume it as below:</p>\n<pre><code>&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;MyTestSuite&quot;&gt;\n    &lt;test name=&quot;MyTest&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.example.TestClass1&quot;&gt;\n                &lt;methods&gt;\n                    &lt;include name=&quot;testMethod1&quot; /&gt;\n                    &lt;include name=&quot;testMethod2&quot; /&gt;\n                &lt;/methods&gt;\n            &lt;/class&gt;\n            &lt;class name=&quot;com.example.TestClass2&quot; /&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>Use the following Maven command to run the specific tests defined in the XML file:</p>\n<pre><code>mvn test -DsuiteXmlFile=path/to/your/testng.xml -Dtest=testClass1#testMethod1,testClass1#testMethod2,testClass2\n</code></pre>\n<p>Replace path/to/your/testng.xml with the actual path to your TestNG XML file, and specify the test classes and methods you want to run after the -Dtest= option, separated by commas.</p>\n<p>In the example above, it will run testMethod1 and testMethod2 from TestClass1 and the entire TestClass2.</p>\n"}],"owner":{"account_id":10663145,"reputation":1,"user_id":7850522,"display_name":"Mathivarma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697369294,"creation_date":1697251626,"question_id":77291433,"body_markdown":"Can&#39;t run directly mvn clean test -Dtest=&quot;com.dot.Management_Test&quot;. It has dependency in my application suite to pass suiteXml. Is there a way to run only the specific test in the SuiteXml by mentioning the SuiteXml in maven command &quot;mvn clean test -DSuiteXml=school-mgmt.xml&quot;\r\n\r\nTried this didn&#39;t help, mvn clean test -DSuiteXml=corex-cert-mgmt.xml -testnames subjectTest","title":"How can I run a specific test from testng.xml file which has multiple test?","body":"<p>Can't run directly mvn clean test -Dtest=&quot;com.dot.Management_Test&quot;. It has dependency in my application suite to pass suiteXml. Is there a way to run only the specific test in the SuiteXml by mentioning the SuiteXml in maven command &quot;mvn clean test -DSuiteXml=school-mgmt.xml&quot;</p>\n<p>Tried this didn't help, mvn clean test -DSuiteXml=corex-cert-mgmt.xml -testnames subjectTest</p>\n"},{"tags":["java","selenium-webdriver","automated-tests","user-defined-functions"],"owner":{"account_id":29673805,"reputation":1,"user_id":22742312,"display_name":"Jane Pit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697367659,"creation_date":1697336976,"question_id":77295125,"body_markdown":"\r\n```\r\nSub SearchMenu(varSearchItem, varApp)\r\n   ` Call LinkClick(&quot;name&quot;,&quot;Search&quot;)\r\n    Call WebEditSet(&quot;name&quot;,&quot;searchTerm&quot;, varSearchItem)\r\n    If LCase(varApp) = &quot;bk&quot; Then\r\n        Call ImageClick(&quot;title&quot;,&quot;Search&quot;)\r\n    Else`your text`\r\n        Call WebButtonClick(&quot;name&quot;,&quot;Search&quot;)\r\n    End If\r\n    &#39;&#39;clicks link on search results page\r\n    Call LinkClick(&quot;name&quot;,varSearchItem)\r\nEnd Sub\r\n```\r\nI wanted to create a user defined search method in Java that can be used by multiple applications in Selenium for web applications. I am new to selenium. I wanted to pass two argument. I am converting UFT script sub routine for search menu to search method.\r\n\r\nThis is my code in UFT I wanted to rewrite in Java. I need help to write in the Java Selenium.\r\n\r\n","title":"I wanted to create search functionality common method","body":"<pre><code>Sub SearchMenu(varSearchItem, varApp)\n   ` Call LinkClick(&quot;name&quot;,&quot;Search&quot;)\n    Call WebEditSet(&quot;name&quot;,&quot;searchTerm&quot;, varSearchItem)\n    If LCase(varApp) = &quot;bk&quot; Then\n        Call ImageClick(&quot;title&quot;,&quot;Search&quot;)\n    Else`your text`\n        Call WebButtonClick(&quot;name&quot;,&quot;Search&quot;)\n    End If\n    ''clicks link on search results page\n    Call LinkClick(&quot;name&quot;,varSearchItem)\nEnd Sub\n</code></pre>\n<p>I wanted to create a user defined search method in Java that can be used by multiple applications in Selenium for web applications. I am new to selenium. I wanted to pass two argument. I am converting UFT script sub routine for search menu to search method.</p>\n<p>This is my code in UFT I wanted to rewrite in Java. I need help to write in the Java Selenium.</p>\n"},{"tags":["java","unit-testing","mockito","quarkus","quarkus-rest-client"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1697358292,"post_id":77294966,"comment_id":136267783,"body_markdown":"According to documentation `Use {@link io.quarkus.test.InjectMock} and {@link MockitoConfig} instead.`","body":"According to documentation <code>Use {@link io.quarkus.test.InjectMock} and {@link MockitoConfig} instead.</code>"}],"answers":[{"tags":[],"owner":{"account_id":17757866,"reputation":11,"user_id":12894533,"display_name":"Natan"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1697331809,"creation_date":1697331420,"answer_id":77294995,"question_id":77294966,"body_markdown":"I found a way. I&#39;m not using something deprecated.\r\n\r\n[Mocking with QuarkusMock][1]\r\n\r\nMy example:\r\n\r\n```\r\n ExtensionsService customMock = new ExtensionsService() {\r\n            @Override\r\n            public JsonObject getForbiddenNumbers() {\r\n                return new JsonObject(&quot;{\\&quot;forbiddenNumbers\\&quot;:[5,7,23]}&quot;);\r\n            }\r\n        };\r\n        QuarkusMock.installMockForType(customMock, ExtensionsService.class, RestClient.LITERAL);\r\n```\r\n\r\nIn this example ExtensionsService is the rest client.\r\n\r\nFor more information:\r\n[Quarkus documentation][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Zfrmz.png\r\n  [2]: https://quarkus.io/guides/rest-client-reactive#mocking-with-quarkusmock","title":"quarkus-junit5-mockito is deprecated - How to mock rest clients when unittesting a Quarkus application?","body":"<p>I found a way. I'm not using something deprecated.</p>\n<p><a href=\"https://i.stack.imgur.com/Zfrmz.png\" rel=\"nofollow noreferrer\">Mocking with QuarkusMock</a></p>\n<p>My example:</p>\n<pre><code> ExtensionsService customMock = new ExtensionsService() {\n            @Override\n            public JsonObject getForbiddenNumbers() {\n                return new JsonObject(&quot;{\\&quot;forbiddenNumbers\\&quot;:[5,7,23]}&quot;);\n            }\n        };\n        QuarkusMock.installMockForType(customMock, ExtensionsService.class, RestClient.LITERAL);\n</code></pre>\n<p>In this example ExtensionsService is the rest client.</p>\n<p>For more information:\n<a href=\"https://quarkus.io/guides/rest-client-reactive#mocking-with-quarkusmock\" rel=\"nofollow noreferrer\">Quarkus documentation</a></p>\n"},{"tags":[],"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1697366782,"creation_date":1697366782,"answer_id":77296288,"question_id":77294966,"body_markdown":"`quarkus-junit5-mockito` is _NOT_ deprecated.\r\n\r\nWhat is deprecated is the `io.quarkus.test.junit.mockito.InjectMock` annotation, nothing else.\r\n\r\nThe replacement is the `io.quarkus.test.InjectMock` annotation, together with `io.quarkus.test.junit.mockito.InjectMock` if you need the extra options.","title":"quarkus-junit5-mockito is deprecated - How to mock rest clients when unittesting a Quarkus application?","body":"<p><code>quarkus-junit5-mockito</code> is <em>NOT</em> deprecated.</p>\n<p>What is deprecated is the <code>io.quarkus.test.junit.mockito.InjectMock</code> annotation, nothing else.</p>\n<p>The replacement is the <code>io.quarkus.test.InjectMock</code> annotation, together with <code>io.quarkus.test.junit.mockito.InjectMock</code> if you need the extra options.</p>\n"}],"owner":{"account_id":17757866,"reputation":11,"user_id":12894533,"display_name":"Natan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697366782,"creation_date":1697330657,"question_id":77294966,"body_markdown":"I&#39;m using the latest version of quarkus (3.4 at this moment) and as usual I used the following dependency:\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-junit5-mockito&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n[mockito is deprecated](https://i.stack.imgur.com/DQvdL.png)\r\n\r\nWhen I imported it I had this issue, it is deprecated from version 3.2 of Quarkus.\r\n\r\nAnd now how to mock ?\r\n\r\n\r\n\r\n\r\nI tried using mockito but in new versions of quarkus it is deprecated.\r\nI hope I can mock it somehow without using something deprecated.","title":"quarkus-junit5-mockito is deprecated - How to mock rest clients when unittesting a Quarkus application?","body":"<p>I'm using the latest version of quarkus (3.4 at this moment) and as usual I used the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-junit5-mockito&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DQvdL.png\" rel=\"nofollow noreferrer\">mockito is deprecated</a></p>\n<p>When I imported it I had this issue, it is deprecated from version 3.2 of Quarkus.</p>\n<p>And now how to mock ?</p>\n<p>I tried using mockito but in new versions of quarkus it is deprecated.\nI hope I can mock it somehow without using something deprecated.</p>\n"},{"tags":["java","geometry","processing","computational-geometry"],"comments":[{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1697261225,"post_id":77289538,"comment_id":136260674,"body_markdown":"what do you think `p &lt; (c * c) / 4` does in your `if` statement when your `p = (c * c) / 4` if I put aside your missing brackets then still `(c * c) / 4 &lt; (c * c) / 4` is never true so you have no points rendered ... I assume the `p` should be the product of distances instead ... You are attempting to render the boundary `p == c*c/4` instead of interrior `p &lt; c*c/4` so based on threshold and `p,c ` magnitudes rounding errors might cause to stop this working once your `p,c` got bigger. To remedy just increase `threshold` or compute its size as fraction of `c` value so it scale with size ...","body":"what do you think <code>p &lt; (c * c) &#47; 4</code> does in your <code>if</code> statement when your <code>p = (c * c) &#47; 4</code> if I put aside your missing brackets then still <code>(c * c) &#47; 4 &lt; (c * c) &#47; 4</code> is never true so you have no points rendered ... I assume the <code>p</code> should be the product of distances instead ... You are attempting to render the boundary <code>p == c*c&#47;4</code> instead of interrior <code>p &lt; c*c&#47;4</code> so based on threshold and <code>p,c </code> magnitudes rounding errors might cause to stop this working once your <code>p,c</code> got bigger. To remedy just increase <code>threshold</code> or compute its size as fraction of <code>c</code> value so it scale with size ..."},{"owner":{"account_id":26506839,"reputation":1,"user_id":20142867,"display_name":"Anon"},"score":0,"creation_date":1697392357,"post_id":77289538,"comment_id":136271358,"body_markdown":"Thank you very much, I made corrections, but still I can&#39;t see desired set of points.\nI have changed this lines:\nfloat p = dist(x1, y, x2, y);\n\nfloat threshold = 0.2 * c;\n\nif (d1 * d2 == p &amp;&amp; p &lt; (c * c) / 4) {\n      stroke(255, 0, 0);\n      point(x, y);\n    }\n\nWhat might be the problem?","body":"Thank you very much, I made corrections, but still I can&#39;t see desired set of points. I have changed this lines: float p = dist(x1, y, x2, y);  float threshold = 0.2 * c;  if (d1 * d2 == p &amp;&amp; p &lt; (c * c) / 4) {       stroke(255, 0, 0);       point(x, y);     }  What might be the problem?"},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1697438523,"post_id":77289538,"comment_id":136275040,"body_markdown":"@Anon still the same error The `if` should be according to your description like this: `if (d1 * d2  &lt; ((c * c) / 4))` where `d1,d2` are the distances between rendered point and two focal points (similar to ellipse) the result should be an oval or something similar to character `8` depending on the `c` value and distance between focal points ...","body":"@Anon still the same error The <code>if</code> should be according to your description like this: <code>if (d1 * d2  &lt; ((c * c) &#47; 4))</code> where <code>d1,d2</code> are the distances between rendered point and two focal points (similar to ellipse) the result should be an oval or something similar to character <code>8</code> depending on the <code>c</code> value and distance between focal points ..."},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1697438800,"post_id":77289538,"comment_id":136275071,"body_markdown":"Also beware if you using pixels as units the values of `d1*d2` and `(c*c/4)` can get really big so using just `float` might still cause rounding errors with bigger `c` using `double` or  64bit integers is safer. Especially if you optimize out the `sqrt` from `d1,d2` for speed (on integers its a ~10x speed boost)","body":"Also beware if you using pixels as units the values of <code>d1*d2</code> and <code>(c*c&#47;4)</code> can get really big so using just <code>float</code> might still cause rounding errors with bigger <code>c</code> using <code>double</code> or  64bit integers is safer. Especially if you optimize out the <code>sqrt</code> from <code>d1,d2</code> for speed (on integers its a ~10x speed boost)"},{"owner":{"account_id":26506839,"reputation":1,"user_id":20142867,"display_name":"Anon"},"score":0,"creation_date":1697457624,"post_id":77289538,"comment_id":136278319,"body_markdown":"@user85421 can you please show your code with Java solution? I will try to run and debug it to better understand how to implement this in processing","body":"@user85421 can you please show your code with Java solution? I will try to run and debug it to better understand how to implement this in processing"},{"owner":{"account_id":26506839,"reputation":1,"user_id":20142867,"display_name":"Anon"},"score":0,"creation_date":1697470523,"post_id":77289538,"comment_id":136280865,"body_markdown":"@user85421 I tried to write this like this [link](https://github.com/afigonimus/geometry/blob/main/CustomPanel.java)\nbut I didn`t get the result I wanted","body":"@user85421 I tried to write this like this <a href=\"https://github.com/afigonimus/geometry/blob/main/CustomPanel.java\" rel=\"nofollow noreferrer\">link</a> but I didn`t get the result I wanted"},{"owner":{"account_id":26506839,"reputation":1,"user_id":20142867,"display_name":"Anon"},"score":0,"creation_date":1697478740,"post_id":77289538,"comment_id":136282316,"body_markdown":"@user85421 The task I&#39;ve described involves two fixed points on a horizontal line, with a constant distance between them - &quot;c.&quot; I want to find the set of points on this line for which the product of the distances to these two given points is equal to a specific value, denoted as &quot;p,&quot; where p &lt; c^2/4.","body":"@user85421 The task I&#39;ve described involves two fixed points on a horizontal line, with a constant distance between them - &quot;c.&quot; I want to find the set of points on this line for which the product of the distances to these two given points is equal to a specific value, denoted as &quot;p,&quot; where p &lt; c^2/4."},{"owner":{"account_id":26506839,"reputation":1,"user_id":20142867,"display_name":"Anon"},"score":0,"creation_date":1697554003,"post_id":77289538,"comment_id":136292871,"body_markdown":"@Spektre as you mentioned the result should be an oval or something similar to character 8 depending on the c value and distance between focal points, it seems that my task with p = c^2/4(i provided code in post) was wrong. In this case it should look like as task p&lt;c^2/4?","body":"@Spektre as you mentioned the result should be an oval or something similar to character 8 depending on the c value and distance between focal points, it seems that my task with p = c^2/4(i provided code in post) was wrong. In this case it should look like as task p&lt;c^2/4?"},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1697556297,"post_id":77289538,"comment_id":136293397,"body_markdown":"@Anon only if your  `p = d1 * d2;`","body":"@Anon only if your  <code>p = d1 * d2;</code>"},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1697609613,"post_id":77289538,"comment_id":136299678,"body_markdown":"@user85421 no `c` is constant similar to &quot;radius&quot; the OP definition is almost identical to ellipse defined by two focal points and length `c` with the difference that ellipse is `d1+d2 &lt;= 2*c`  where `c` is major semi axis size and OP has `d1*d2 &lt;= (c/2)*(c/2)` (s)he&#39;s code is aleady almost working the only stuff what needs to be changed is the condition to `if ((d1*d2)&lt;=(c*c/4.0))` which I already commented before ... Your screenshot is different to what is the true result (but similar)","body":"@user85421 no <code>c</code> is constant similar to &quot;radius&quot; the OP definition is almost identical to ellipse defined by two focal points and length <code>c</code> with the difference that ellipse is <code>d1+d2 &lt;= 2*c</code>  where <code>c</code> is major semi axis size and OP has <code>d1*d2 &lt;= (c&#47;2)*(c&#47;2)</code> (s)he&#39;s code is aleady almost working the only stuff what needs to be changed is the condition to <code>if ((d1*d2)&lt;=(c*c&#47;4.0))</code> which I already commented before ... Your screenshot is different to what is the true result (but similar)"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1697610504,"post_id":77289538,"comment_id":136299783,"body_markdown":"@Spektre and `c` is the distance between the two points, as specified in first sentence of the question (and [comment](https://stackoverflow.com/questions/77289538/draw-the-set-of-points-for-which-the-product-of-the-distances-to-two-given-point?noredirect=1#comment136282316_77289538)) - my screenshot is from code doing exactly as specified, additionally I added some coloring - there is at least one significant difference between `d1+d2 &lt; 2*c` and `d1*d2 &lt; c*c/4`","body":"@Spektre and <code>c</code> is the distance between the two points, as specified in first sentence of the question (and <a href=\"https://stackoverflow.com/questions/77289538/draw-the-set-of-points-for-which-the-product-of-the-distances-to-two-given-point?noredirect=1#comment136282316_77289538\">comment</a>) - my screenshot is from code doing exactly as specified, additionally I added some coloring - there is at least one significant difference between <code>d1+d2 &lt; 2*c</code> and <code>d1*d2 &lt; c*c&#47;4</code>"},{"owner":{"account_id":26506839,"reputation":1,"user_id":20142867,"display_name":"Anon"},"score":0,"creation_date":1697622067,"post_id":77289538,"comment_id":136301910,"body_markdown":"@user85421 and how did you get the result in the new screenshot? what have you changed in the code?","body":"@user85421 and how did you get the result in the new screenshot? what have you changed in the code?"},{"owner":{"account_id":26506839,"reputation":1,"user_id":20142867,"display_name":"Anon"},"score":0,"creation_date":1697629628,"post_id":77289538,"comment_id":136303326,"body_markdown":"I tried to do the same task but with the requirement p == c^2/4. If I set if d== c^2/4, I have only a few points because the coordinates of the points that are multiplied to get d are limited to the number of decimal places, so with d=d1*d2, even with rounding d, there aren&#39;t many points with the value I need for d=c^2/4. \nI tried to solve this by using var d = Math.round(d1*d2);\n                d  /= 10;\n                d = Math.round(d);\n                d *= 10;\n\nBut are there any other ways to solve this problem?","body":"I tried to do the same task but with the requirement p == c^2/4. If I set if d== c^2/4, I have only a few points because the coordinates of the points that are multiplied to get d are limited to the number of decimal places, so with d=d1*d2, even with rounding d, there aren&#39;t many points with the value I need for d=c^2/4.  I tried to solve this by using var d = Math.round(d1*d2);                 d  /= 10;                 d = Math.round(d);                 d *= 10;  But are there any other ways to solve this problem?"},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1697635700,"post_id":77289538,"comment_id":136304715,"body_markdown":"@user85421 You&#39;re right I missed that ... I used c  as input constant instead so I could achieve both ovals and 8 like shapes (however the 8 like shape was slightly different ) ... now with `c` as focal distance the shape will be always the same just scaled ...","body":"@user85421 You&#39;re right I missed that ... I used c  as input constant instead so I could achieve both ovals and 8 like shapes (however the 8 like shape was slightly different ) ... now with <code>c</code> as focal distance the shape will be always the same just scaled ..."}],"owner":{"account_id":26506839,"reputation":1,"user_id":20142867,"display_name":"Anon"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697365955,"creation_date":1697216549,"question_id":77289538,"body_markdown":"Two points are set on a horizontal line, the distance between which is `c`.\r\nDraw the set of points for which the product of the distances to two given points is equal to `p &lt; c^2/4`.\r\n\r\nI have problem with this, because in the output I have line without points. I&#39;m using Processing.\r\n\r\n```\r\nvoid setup() {\r\n  size(800, 600);\r\n  background(255);\r\n  stroke(0);\r\n  float c = 700;\r\n  float p = (c * c) / 4;\r\n  float x1 = (width - c) / 2;\r\n  float x2 = x1 + c;\r\n  float y = height / 2;\r\n  fill(0, 0, 255);\r\n  stroke(0, 0, 255);\r\n  ellipse(x1, y, 10, 10);\r\n  ellipse(x2, y, 10, 10);\r\n  line(x1, y, x2, height / 2);\r\n  strokeWeight(4);\r\n  float threshold = 30.0; // Increased threshold for better visibility\r\n\r\n  for (float x = x1; x &lt;= x2; x += 1) {\r\n    float d1 = dist(x, y, x1, y);\r\n    float d2 = dist(x, y, x2, y);\r\n\r\n    // Calculate the product of distances\r\n    float product = d1 * d2;\r\n\r\n    // Check if the product is equal to p and p &lt; c^2/4\r\n    if (abs(product - p) &lt; threshold &amp;&amp; p &lt; (c * c) / 4) {\r\n      stroke(255, 0, 0);\r\n      point(x, y);\r\n    }\r\n  }\r\n}\r\n\r\nvoid draw() {\r\n  \r\n}\r\n```\r\n\r\n\r\nI made the same task but with `p = c^2/4` like this:\r\n\r\n\r\n```\r\nvoid setup() {\r\n  size(800, 600);\r\n  background(255);\r\n  stroke(0);\r\n  float c = 700;\r\n  float p = (c * c)/4;\r\n  float x1 = (width - c) / 2;\r\n  float x2 = x1 + c;\r\n  float y = height / 2;\r\n  fill(0, 0, 255);\r\n  stroke(0, 0, 255);\r\n  ellipse(x1, y, 10, 10);\r\n  ellipse(x2, y, 10, 10);\r\n  line(x1, y, x2, height / 2);\r\n  float threshold = 30.0; // Increased threshold for better visibility\r\n\r\n  for (float x = x1; x &lt;= x2; x += 1) {\r\n    float d1 = dist(x, y, x1, y);\r\n    float d2 = dist(x, y, x2, y);\r\n    \r\n    // Calculate the product of distances\r\n    float product = d1 * d2;\r\n    \r\n    // Check if the product is within a certain range of p\r\n    if (abs(product - p) &lt; threshold) {\r\n      stroke(255, 0, 0); \r\n      ellipse(x, y, 5, 5);\r\n    }\r\n  }\r\n}\r\n\r\nvoid draw() {\r\n}\r\n```\r\nI think it is working well. I have red points in the middle of the line. Then, I changed the requirements for `p&lt;c^2/4` and it is not working. What might be the problem?\r\n\r\n","title":"Draw the set of points for which the product of the distances to two given points is equal to p &lt; c^2/4","body":"<p>Two points are set on a horizontal line, the distance between which is <code>c</code>.\nDraw the set of points for which the product of the distances to two given points is equal to <code>p &lt; c^2/4</code>.</p>\n<p>I have problem with this, because in the output I have line without points. I'm using Processing.</p>\n<pre><code>void setup() {\n  size(800, 600);\n  background(255);\n  stroke(0);\n  float c = 700;\n  float p = (c * c) / 4;\n  float x1 = (width - c) / 2;\n  float x2 = x1 + c;\n  float y = height / 2;\n  fill(0, 0, 255);\n  stroke(0, 0, 255);\n  ellipse(x1, y, 10, 10);\n  ellipse(x2, y, 10, 10);\n  line(x1, y, x2, height / 2);\n  strokeWeight(4);\n  float threshold = 30.0; // Increased threshold for better visibility\n\n  for (float x = x1; x &lt;= x2; x += 1) {\n    float d1 = dist(x, y, x1, y);\n    float d2 = dist(x, y, x2, y);\n\n    // Calculate the product of distances\n    float product = d1 * d2;\n\n    // Check if the product is equal to p and p &lt; c^2/4\n    if (abs(product - p) &lt; threshold &amp;&amp; p &lt; (c * c) / 4) {\n      stroke(255, 0, 0);\n      point(x, y);\n    }\n  }\n}\n\nvoid draw() {\n  \n}\n</code></pre>\n<p>I made the same task but with <code>p = c^2/4</code> like this:</p>\n<pre><code>void setup() {\n  size(800, 600);\n  background(255);\n  stroke(0);\n  float c = 700;\n  float p = (c * c)/4;\n  float x1 = (width - c) / 2;\n  float x2 = x1 + c;\n  float y = height / 2;\n  fill(0, 0, 255);\n  stroke(0, 0, 255);\n  ellipse(x1, y, 10, 10);\n  ellipse(x2, y, 10, 10);\n  line(x1, y, x2, height / 2);\n  float threshold = 30.0; // Increased threshold for better visibility\n\n  for (float x = x1; x &lt;= x2; x += 1) {\n    float d1 = dist(x, y, x1, y);\n    float d2 = dist(x, y, x2, y);\n    \n    // Calculate the product of distances\n    float product = d1 * d2;\n    \n    // Check if the product is within a certain range of p\n    if (abs(product - p) &lt; threshold) {\n      stroke(255, 0, 0); \n      ellipse(x, y, 5, 5);\n    }\n  }\n}\n\nvoid draw() {\n}\n</code></pre>\n<p>I think it is working well. I have red points in the middle of the line. Then, I changed the requirements for <code>p&lt;c^2/4</code> and it is not working. What might be the problem?</p>\n"},{"tags":["java","spring","rest","spring-mvc"],"comments":[{"owner":{"account_id":2381622,"reputation":21322,"user_id":2083523,"accept_rate":68,"display_name":"Avi"},"score":3,"creation_date":1442752652,"post_id":32679451,"comment_id":53203406,"body_markdown":"The number is not a Long but rather a Float/Double. Because of the floating point the number cannot be converted to Long (from the string it is received originally)","body":"The number is not a Long but rather a Float/Double. Because of the floating point the number cannot be converted to Long (from the string it is received originally)"},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1442752663,"post_id":32679451,"comment_id":53203412,"body_markdown":"I imagine you&#39;d want to use something like a `Double` for coordinate values.  Otherwise you&#39;re going to lose a *lot* of precision in your location.  (If you succeed in your effort to round coordinates to the nearest whole number then you&#39;re going to have a margin of error of approximately +/- 35 miles in each direction.)","body":"I imagine you&#39;d want to use something like a <code>Double</code> for coordinate values.  Otherwise you&#39;re going to lose a <i>lot</i> of precision in your location.  (If you succeed in your effort to round coordinates to the nearest whole number then you&#39;re going to have a margin of error of approximately +/- 35 miles in each direction.)"}],"answers":[{"tags":[],"owner":{"account_id":4806580,"reputation":1001,"user_id":3881432,"accept_rate":33,"display_name":"zulkarnain shah"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1442753625,"creation_date":1442753625,"answer_id":32679630,"question_id":32679451,"body_markdown":"You need to make sure that the String that you&#39;re converting to Long contains **only** numbers.  That means for example  a string like this,  **&quot;10d&quot;** isn&#39;t convertible to a Long,  hence the exception. ","title":"Spring NumberFormatException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long","body":"<p>You need to make sure that the String that you're converting to Long contains <strong>only</strong> numbers.  That means for example  a string like this,  <strong>\"10d\"</strong> isn't convertible to a Long,  hence the exception. </p>\n"},{"tags":[],"owner":{"account_id":4641056,"reputation":2363,"user_id":3760899,"accept_rate":52,"display_name":"Aditya Singh"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1442756460,"creation_date":1442754382,"answer_id":32679731,"question_id":32679451,"body_markdown":"The number you are trying to convert to `java.lang.Long` is `-26.2041028`.  \r\n  \r\nYour number contains a `.`(decimal). This is not allowed for `Long`s. You need to use `java.lang.Double`. \r\n \r\nAnd also succeed your number with an `L` for `Long` or a `D` for `Double` for static initializations. Even though not required, it makes the code more readable.  \r\n  \r\nLike, `-26.2041028D` for `Double`.","title":"Spring NumberFormatException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long","body":"<p>The number you are trying to convert to <code>java.lang.Long</code> is <code>-26.2041028</code>.  </p>\n\n<p>Your number contains a <code>.</code>(decimal). This is not allowed for <code>Long</code>s. You need to use <code>java.lang.Double</code>. </p>\n\n<p>And also succeed your number with an <code>L</code> for <code>Long</code> or a <code>D</code> for <code>Double</code> for static initializations. Even though not required, it makes the code more readable.  </p>\n\n<p>Like, <code>-26.2041028D</code> for <code>Double</code>.</p>\n"},{"tags":[],"owner":{"account_id":29448860,"reputation":1,"user_id":22565640,"display_name":"朱可夫"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697365351,"creation_date":1697365351,"answer_id":77296210,"question_id":32679451,"body_markdown":"It seems that you might be using a GET request instead of a POST request.\r\n","title":"Spring NumberFormatException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long","body":"<p>It seems that you might be using a GET request instead of a POST request.</p>\n"}],"owner":{"account_id":3834174,"reputation":19718,"user_id":3178944,"accept_rate":61,"display_name":"Simon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84099,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":32679731,"answer_count":3,"score":10,"last_activity_date":1697365351,"creation_date":1442752368,"question_id":32679451,"body_markdown":"I&#39;m not sure if I&#39;m missing something really basic but this is what I would like to do.\r\n\r\nI would like to make a rest API call to this address:\r\n\r\nhttps://localhost:8080/fetchlocation?lat=-26.2041028&amp;lng=28.0473051&amp;radius=500\r\n\r\nMy rest method is:\r\n\r\n    public void fetchlocation(@RequestParam Long lat, @RequestParam Long lng, @RequestParam int radius){ //fetches location}\r\n\r\nI get this error:\r\n\r\n&gt; &quot;timestamp&quot;: 1442751996949,   &quot;status&quot;: 400,   &quot;error&quot;: &quot;Bad Request&quot;,\r\n&gt; &quot;exception&quot;: &quot;org.springframework.beans.TypeMismatchException&quot;,  \r\n&gt; &quot;message&quot;: &quot;Failed to convert value of type &#39;java.lang.String&#39; to\r\n&gt; required type &#39;java.lang.Long&#39;; nested exception is\r\n&gt; java.lang.NumberFormatException: For input string: \\&quot;-26.2041028\\&quot;&quot;,  \r\n&gt; &quot;path&quot;: &quot;/fetchlocation&quot;\r\n\r\nI guess it is because rest API receives the co-ordinates as Strings instead of Longs when I make the GET call. How do I ensure that the rest API gets the Longs and not the String value when the call is made?\r\n\r\nI could easily get the method to work when I change the rest API method to take Strings as the parameters, but for type checking, I would prefer to use Longs.\r\n\r\n    public void fetchlocation(@RequestParam String lat, @RequestParam String lng, @RequestParam String radius){ //fetches location}","title":"Spring NumberFormatException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long","body":"<p>I'm not sure if I'm missing something really basic but this is what I would like to do.</p>\n\n<p>I would like to make a rest API call to this address:</p>\n\n<p><a href=\"https://localhost:8080/fetchlocation?lat=-26.2041028&amp;lng=28.0473051&amp;radius=500\" rel=\"noreferrer\">https://localhost:8080/fetchlocation?lat=-26.2041028&amp;lng=28.0473051&amp;radius=500</a></p>\n\n<p>My rest method is:</p>\n\n<pre><code>public void fetchlocation(@RequestParam Long lat, @RequestParam Long lng, @RequestParam int radius){ //fetches location}\n</code></pre>\n\n<p>I get this error:</p>\n\n<blockquote>\n  <p>\"timestamp\": 1442751996949,   \"status\": 400,   \"error\": \"Bad Request\",\n  \"exception\": \"org.springframework.beans.TypeMismatchException\",<br>\n  \"message\": \"Failed to convert value of type 'java.lang.String' to\n  required type 'java.lang.Long'; nested exception is\n  java.lang.NumberFormatException: For input string: \\\"-26.2041028\\\"\",<br>\n  \"path\": \"/fetchlocation\"</p>\n</blockquote>\n\n<p>I guess it is because rest API receives the co-ordinates as Strings instead of Longs when I make the GET call. How do I ensure that the rest API gets the Longs and not the String value when the call is made?</p>\n\n<p>I could easily get the method to work when I change the rest API method to take Strings as the parameters, but for type checking, I would prefer to use Longs.</p>\n\n<pre><code>public void fetchlocation(@RequestParam String lat, @RequestParam String lng, @RequestParam String radius){ //fetches location}\n</code></pre>\n"},{"tags":["java","maven","google-app-engine","google-cloud-storage"],"answers":[{"tags":[],"owner":{"account_id":2141692,"reputation":3200,"user_id":1900169,"accept_rate":88,"display_name":"Frank Wilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480810876,"creation_date":1480810876,"answer_id":40954036,"question_id":40886468,"body_markdown":"Have you tried depending on [guava 19](https://mvnrepository.com/artifact/com.google.guava/guava/19.0) instead of 19-rc1? i.e.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;version&gt;19.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIt is possible that the JAR bundled in eclipse is different from the one in your .m2repo. [According to the version 19 javadoc](https://google.github.io/guava/releases/19.0/api/docs/com/google/common/base/Stopwatch.html#createUnstarted()) the missing method should be there.","title":"How to fix my Maven dependencies, if methods from &#39;com.google.common.base.Stopwatch&#39; are not found?","body":"<p>Have you tried depending on <a href=\"https://mvnrepository.com/artifact/com.google.guava/guava/19.0\" rel=\"nofollow noreferrer\">guava 19</a> instead of 19-rc1? i.e.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;19.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>It is possible that the JAR bundled in eclipse is different from the one in your .m2repo. <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/base/Stopwatch.html#createUnstarted()\" rel=\"nofollow noreferrer\">According to the version 19 javadoc</a> the missing method should be there.</p>\n"}],"owner":{"account_id":6343137,"reputation":11,"user_id":4924474,"display_name":"Shay Rubin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8277,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697364240,"creation_date":1480503212,"question_id":40886468,"body_markdown":"I use google cloud storage to read file from it. It&#39;s working when i build it from within Eclipse. But when i build it with maven, it compiles but fails at runtime **(when i build with eclipse no runtime exceptions at all)**\r\n\r\nI need help, see the exception after the build is conducted via Maven:\r\n\r\n    java.lang.NoSuchMethodError: com.google.common.base.Stopwatch.createUnstarted()Lcom/google/common/base/Stopwatch;\r\n        \tat com.google.appengine.tools.cloudstorage.RetryHelper.runWithRetries(RetryHelper.java:156)\r\n        \tat com.google.appengine.tools.cloudstorage.GcsServiceImpl.getMetadata(GcsServiceImpl.java:132)\r\n        \r\nHere is the related Maven POM that I use:           \r\n            \r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n          &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n          &lt;groupId&gt;selectmediaservers&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selectmediaservers&lt;/artifactId&gt;\r\n          &lt;version&gt;1&lt;/version&gt;\r\n          &lt;packaging&gt;war&lt;/packaging&gt;\r\n          &lt;properties&gt;  &lt;!-- App Engine Standard currently requires Java 7 --&gt;\r\n          &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n          &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n          &lt;project.build.sourceEncoding&gt;ISO-8859-1&lt;/project.build.sourceEncoding&gt;\r\n         \r\n         &lt;/properties&gt;\r\n          \t&lt;build&gt;\r\n        \t&lt;directory&gt;${project.basedir}/Server/Cloud/selectmediaservers/target&lt;/directory&gt;\r\n            &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\r\n        \t&lt;sourceDirectory&gt;Server/Cloud/selectmediaservers&lt;/sourceDirectory&gt;\r\n          &lt;plugins&gt;\r\n        \t\r\n        \t&lt;plugin&gt;\r\n        \t\t&lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;1.9.46&lt;/version&gt;\r\n        \t\t\t&lt;configuration&gt;\r\n        \t\t\t\t\t&lt;gcloud_verbosity&gt;debug&lt;/gcloud_verbosity&gt;\r\n        \t\t\t\t\t&lt;set_default&gt;false&lt;/set_default&gt;\r\n        \t\t\t\t\t&lt;log_level&gt;info&lt;/log_level&gt;\r\n        \t\t\t\t\t&lt;max_module_instances&gt;2&lt;/max_module_instances&gt;\r\n        \t\t\t\t\t&lt;version&gt;${VER}&lt;/version&gt;\r\n        \t\t\t&lt;/configuration&gt;\r\n        \t&lt;/plugin&gt;\r\n        \r\n        \t&lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;webXml&gt;${project.basedir}/Server/Cloud/selectmediaservers/war/WEB-INF/web.xml&lt;/webXml&gt;\r\n        \t\t  &lt;warSourceDirectory&gt;${project.basedir}/Server/Cloud/selectmediaservers/war&lt;/warSourceDirectory&gt;\r\n                  &lt;webResources&gt;\r\n                    &lt;resource&gt;\r\n                      &lt;directory&gt;${project.basedir}/Server/Cloud/selectmediaservers/war&lt;/directory&gt;\r\n                      &lt;includes&gt;\r\n                        &lt;include&gt;${project.basedir}/Server/Cloud/selectmediaservers/war/WEB-INF/appengine-web.xml&lt;/include&gt;\r\n                        &lt;include&gt;${project.basedir}/Server/Cloud/selectmediaservers/war/WEB-INF/web.xml&lt;/include&gt;\r\n                      &lt;/includes&gt;\r\n                    &lt;/resource&gt;\r\n                  &lt;/webResources&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n          \t&lt;/build&gt;\r\n         \r\n          &lt;dependencies&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;19.0-rc1&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.sendgrid&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;sendgrid-java&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.2.1&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.8.5&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n        \t\t\t\t&lt;exclusion&gt;\r\n        \t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        \t\t\t\t\t&lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;/exclusion&gt;\r\n        \t\t\t&lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n        \t\t\t\t&lt;exclusion&gt;\r\n        \t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        \t\t\t\t\t&lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;/exclusion&gt;\r\n        \t\t\t&lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\t\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.7&lt;/version&gt;\r\n        \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n        \t\t\t\t&lt;exclusion&gt;\r\n        \t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        \t\t\t\t\t&lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;/exclusion&gt;\r\n        \t\t\t&lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;google-api-services-bigquery&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;v2-rev330-1.22.0&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n        \t\t\t\t&lt;exclusion&gt;\r\n        \t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        \t\t\t\t\t&lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;/exclusion&gt;\r\n        \t\t\t&lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.9.46&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n        \t\t\t\t&lt;exclusion&gt;\r\n        \t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        \t\t\t\t\t&lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;/exclusion&gt;\r\n        \t\t\t&lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;appengine-api-labs&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.9.46&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n        \t\t\t\t&lt;exclusion&gt;\r\n        \t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        \t\t\t\t\t&lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;/exclusion&gt;\r\n        \t\t\t&lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;`enter code here`\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;nl.bitwalker&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;UserAgentUtils&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.2.4&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n        \t\t\t\t&lt;exclusion&gt;\r\n        \t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        \t\t\t\t\t&lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;/exclusion&gt;\r\n        \t\t\t&lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\t\t\t\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.appengine.tools&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;appengine-gcs-client&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;0.6&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n        \t\t\t\t&lt;exclusion&gt;\r\n        \t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        \t\t\t\t\t&lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;/exclusion&gt;\r\n        \t\t\t&lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.9.6&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;google-api-services-storage&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;v1-rev92-1.22.0&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n        \t\t\t\t&lt;exclusion&gt;\r\n        \t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        \t\t\t\t\t&lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;/exclusion&gt;\r\n        \t\t\t&lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n                    &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.22.0&lt;/version&gt;\r\n                    &lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n                &lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;google-api-client-servlet&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.22.0&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;google-api-client-appengine&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.22.0&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;google-http-client-jackson2&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.22.0&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.8.5&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.code.findbugs&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;jsr305&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.22.0&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;google-oauth-client-appengine&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.22.0&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;google-http-client-jdo&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.22.0&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n          &lt;/dependencies&gt;\r\n        &lt;/project&gt;","title":"How to fix my Maven dependencies, if methods from &#39;com.google.common.base.Stopwatch&#39; are not found?","body":"<p>I use google cloud storage to read file from it. It's working when i build it from within Eclipse. But when i build it with maven, it compiles but fails at runtime <strong>(when i build with eclipse no runtime exceptions at all)</strong></p>\n\n<p>I need help, see the exception after the build is conducted via Maven:</p>\n\n<pre><code>java.lang.NoSuchMethodError: com.google.common.base.Stopwatch.createUnstarted()Lcom/google/common/base/Stopwatch;\n        at com.google.appengine.tools.cloudstorage.RetryHelper.runWithRetries(RetryHelper.java:156)\n        at com.google.appengine.tools.cloudstorage.GcsServiceImpl.getMetadata(GcsServiceImpl.java:132)\n</code></pre>\n\n<p>Here is the related Maven POM that I use:           </p>\n\n<pre><code>    &lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n      &lt;groupId&gt;selectmediaservers&lt;/groupId&gt;\n      &lt;artifactId&gt;selectmediaservers&lt;/artifactId&gt;\n      &lt;version&gt;1&lt;/version&gt;\n      &lt;packaging&gt;war&lt;/packaging&gt;\n      &lt;properties&gt;  &lt;!-- App Engine Standard currently requires Java 7 --&gt;\n      &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n      &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n      &lt;project.build.sourceEncoding&gt;ISO-8859-1&lt;/project.build.sourceEncoding&gt;\n\n     &lt;/properties&gt;\n        &lt;build&gt;\n        &lt;directory&gt;${project.basedir}/Server/Cloud/selectmediaservers/target&lt;/directory&gt;\n        &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\n        &lt;sourceDirectory&gt;Server/Cloud/selectmediaservers&lt;/sourceDirectory&gt;\n      &lt;plugins&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n            &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.9.46&lt;/version&gt;\n                &lt;configuration&gt;\n                        &lt;gcloud_verbosity&gt;debug&lt;/gcloud_verbosity&gt;\n                        &lt;set_default&gt;false&lt;/set_default&gt;\n                        &lt;log_level&gt;info&lt;/log_level&gt;\n                        &lt;max_module_instances&gt;2&lt;/max_module_instances&gt;\n                        &lt;version&gt;${VER}&lt;/version&gt;\n                &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3&lt;/version&gt;\n            &lt;configuration&gt;\n              &lt;webXml&gt;${project.basedir}/Server/Cloud/selectmediaservers/war/WEB-INF/web.xml&lt;/webXml&gt;\n              &lt;warSourceDirectory&gt;${project.basedir}/Server/Cloud/selectmediaservers/war&lt;/warSourceDirectory&gt;\n              &lt;webResources&gt;\n                &lt;resource&gt;\n                  &lt;directory&gt;${project.basedir}/Server/Cloud/selectmediaservers/war&lt;/directory&gt;\n                  &lt;includes&gt;\n                    &lt;include&gt;${project.basedir}/Server/Cloud/selectmediaservers/war/WEB-INF/appengine-web.xml&lt;/include&gt;\n                    &lt;include&gt;${project.basedir}/Server/Cloud/selectmediaservers/war/WEB-INF/web.xml&lt;/include&gt;\n                  &lt;/includes&gt;\n                &lt;/resource&gt;\n              &lt;/webResources&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n      &lt;/plugins&gt;\n        &lt;/build&gt;\n\n      &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\n                &lt;version&gt;19.0-rc1&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.sendgrid&lt;/groupId&gt;\n                &lt;artifactId&gt;sendgrid-java&lt;/artifactId&gt;\n                &lt;version&gt;2.2.1&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n                &lt;version&gt;2.8.5&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;   \n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\n                &lt;version&gt;2.7&lt;/version&gt;\n                &lt;scope&gt;compile&lt;/scope&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n                &lt;artifactId&gt;google-api-services-bigquery&lt;/artifactId&gt;\n                &lt;version&gt;v2-rev330-1.22.0&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n                &lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;\n                &lt;version&gt;1.9.46&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n                &lt;artifactId&gt;appengine-api-labs&lt;/artifactId&gt;\n                &lt;version&gt;1.9.46&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;`enter code here`\n            &lt;dependency&gt;\n                &lt;groupId&gt;nl.bitwalker&lt;/groupId&gt;\n                &lt;artifactId&gt;UserAgentUtils&lt;/artifactId&gt;\n                &lt;version&gt;1.2.4&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;           \n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.appengine.tools&lt;/groupId&gt;\n                &lt;artifactId&gt;appengine-gcs-client&lt;/artifactId&gt;\n                &lt;version&gt;0.6&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;joda-time&lt;/groupId&gt;\n                &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n                &lt;version&gt;2.9.6&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n                &lt;artifactId&gt;google-api-services-storage&lt;/artifactId&gt;\n                &lt;version&gt;v1-rev92-1.22.0&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n                &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n                &lt;version&gt;1.22.0&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n                &lt;artifactId&gt;google-api-client-servlet&lt;/artifactId&gt;\n                &lt;version&gt;1.22.0&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n                &lt;artifactId&gt;google-api-client-appengine&lt;/artifactId&gt;\n                &lt;version&gt;1.22.0&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n                &lt;artifactId&gt;google-http-client-jackson2&lt;/artifactId&gt;\n                &lt;version&gt;1.22.0&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                &lt;version&gt;2.8.5&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.code.findbugs&lt;/groupId&gt;\n                &lt;artifactId&gt;jsr305&lt;/artifactId&gt;\n                &lt;version&gt;3.0.1&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n                &lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\n                &lt;version&gt;1.22.0&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n                &lt;artifactId&gt;google-oauth-client-appengine&lt;/artifactId&gt;\n                &lt;version&gt;1.22.0&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n                &lt;artifactId&gt;google-http-client-jdo&lt;/artifactId&gt;\n                &lt;version&gt;1.22.0&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n      &lt;/dependencies&gt;\n    &lt;/project&gt;\n</code></pre>\n"},{"tags":["java","logging","logback","appender"],"answers":[{"tags":[],"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427871750,"creation_date":1427871750,"answer_id":29384763,"question_id":29374139,"body_markdown":"How would you set the **filename** where you want to write there are lots of other issues when you extend `OutputStreamAppender` I would rather extend FileAppender(which intern extension of outputsteamappender) and override write method to perfrom custom task.\r\n\r\n    public class MyAppender&lt;E&gt; extends FileAppender&lt;E&gt; {\r\n    \r\n     @Override\r\n      protected void writeOut(E event) throws IOException {\r\n        /**if (prudent) {\r\n          safeWrite(event);\r\n        } else {\r\n          super.writeOut(event);\r\n        } */\r\n    \tthrow new UnsupportedOperationException();\r\n      }\r\n        \r\n    }\r\n\r\n\r\n\r\n ","title":"Custom OutputStreamAppender not run: LOGBACK: No context given for &lt;MYAPPENDER&gt;","body":"<p>How would you set the <strong>filename</strong> where you want to write there are lots of other issues when you extend <code>OutputStreamAppender</code> I would rather extend FileAppender(which intern extension of outputsteamappender) and override write method to perfrom custom task.</p>\n\n<pre><code>public class MyAppender&lt;E&gt; extends FileAppender&lt;E&gt; {\n\n @Override\n  protected void writeOut(E event) throws IOException {\n    /**if (prudent) {\n      safeWrite(event);\n    } else {\n      super.writeOut(event);\n    } */\n    throw new UnsupportedOperationException();\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1200939,"reputation":29479,"user_id":1171620,"accept_rate":43,"display_name":"Suzan Cioc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427881750,"creation_date":1427881750,"answer_id":29387612,"question_id":29374139,"body_markdown":"Sorry, this was my fault: I forgot to set my custom appender in `&lt;root&gt;` tag.","title":"Custom OutputStreamAppender not run: LOGBACK: No context given for &lt;MYAPPENDER&gt;","body":"<p>Sorry, this was my fault: I forgot to set my custom appender in <code>&lt;root&gt;</code> tag.</p>\n"}],"owner":{"account_id":1200939,"reputation":29479,"user_id":1171620,"accept_rate":43,"display_name":"Suzan Cioc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9245,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1697364240,"creation_date":1427820720,"question_id":29374139,"body_markdown":"I wish to write custom appender on the basis of [`OutputStreamAppender`][1]. I wrote the following class\r\n\r\n    package tests;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    \r\n    import ch.qos.logback.core.OutputStreamAppender;\r\n    \r\n    public class MyAppender&lt;E&gt; extends OutputStreamAppender&lt;E&gt; {\r\n    \tpublic MyAppender() {\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;MyAppender created&quot;);\r\n    \t\t\r\n    \t\tsetOutputStream(new OutputStream() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void write(int b) throws IOException {\r\n    \t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\nthen I wrote the following runner:\r\n\r\n    package tests;\r\n    \r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import ch.qos.logback.classic.Logger;\r\n    \r\n    public class Runner {\r\n    \t\r\n    \tprivate static final Logger log = (Logger) LoggerFactory.getLogger(Runner.class);\r\n    \t\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\t//log.addAppender(new MyAppender&lt;ILoggingEvent&gt;());\r\n    \t\t\r\n    \t\tlog.info(&quot;Hello world&quot;);\r\n    \t}\r\n    }\r\n\r\nfinally I wrote the following `logback.xml`:\r\n\r\n    &lt;configuration&gt;\r\n    \r\n    \t&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    \t\t&lt;encoder&gt;\r\n    \t\t\t&lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{0} - %msg%n&lt;/pattern&gt;\r\n    \t\t&lt;/encoder&gt;\r\n    \t&lt;/appender&gt;\r\n    \t\r\n    \t&lt;appender name=&quot;MYAPPENDER&quot; class=&quot;tests.MyAppender&quot;&gt;\r\n    \t\t&lt;encoder&gt;\r\n    \t\t\t&lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{0} - %msg%n&lt;/pattern&gt;\r\n    \t\t&lt;/encoder&gt;\r\n    \t&lt;/appender&gt;\r\n    \r\n    \r\n    \r\n    \t&lt;root level=&quot;debug&quot;&gt;\r\n    \t\t&lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    \t&lt;/root&gt;\r\n    \r\n    &lt;/configuration&gt;\r\n\r\nand got the following output:\r\n\r\n    MyAppender created\r\n    LOGBACK: No context given for tests.MyAppender[null]\r\n    20:45:29.957 [main] INFO  Runner - Hello world\r\n\r\nit indicates that appender is instantiated. But absence of exceptions mean it is never called.\r\n\r\nProbably this is related with error message which I don&#39;t understand: &quot;LOGBACK: No context given for tests.MyAppender[null]&quot;\r\n\r\nWhat is it mean and how to fix?\r\n\r\n  [1]: http://logback.qos.ch/apidocs/ch/qos/logback/core/OutputStreamAppender.html\r\n","title":"Custom OutputStreamAppender not run: LOGBACK: No context given for &lt;MYAPPENDER&gt;","body":"<p>I wish to write custom appender on the basis of <a href=\"http://logback.qos.ch/apidocs/ch/qos/logback/core/OutputStreamAppender.html\" rel=\"nofollow\"><code>OutputStreamAppender</code></a>. I wrote the following class</p>\n\n<pre><code>package tests;\n\nimport java.io.IOException;\nimport java.io.OutputStream;\n\nimport ch.qos.logback.core.OutputStreamAppender;\n\npublic class MyAppender&lt;E&gt; extends OutputStreamAppender&lt;E&gt; {\n    public MyAppender() {\n\n        System.out.println(\"MyAppender created\");\n\n        setOutputStream(new OutputStream() {\n\n            @Override\n            public void write(int b) throws IOException {\n                throw new UnsupportedOperationException();\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>then I wrote the following runner:</p>\n\n<pre><code>package tests;\n\nimport org.slf4j.LoggerFactory;\n\nimport ch.qos.logback.classic.Logger;\n\npublic class Runner {\n\n    private static final Logger log = (Logger) LoggerFactory.getLogger(Runner.class);\n\n\n    public static void main(String[] args) {\n\n        //log.addAppender(new MyAppender&lt;ILoggingEvent&gt;());\n\n        log.info(\"Hello world\");\n    }\n}\n</code></pre>\n\n<p>finally I wrote the following <code>logback.xml</code>:</p>\n\n<pre><code>&lt;configuration&gt;\n\n    &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{0} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=\"MYAPPENDER\" class=\"tests.MyAppender\"&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{0} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n\n\n    &lt;root level=\"debug\"&gt;\n        &lt;appender-ref ref=\"STDOUT\" /&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n\n<p>and got the following output:</p>\n\n<pre><code>MyAppender created\nLOGBACK: No context given for tests.MyAppender[null]\n20:45:29.957 [main] INFO  Runner - Hello world\n</code></pre>\n\n<p>it indicates that appender is instantiated. But absence of exceptions mean it is never called.</p>\n\n<p>Probably this is related with error message which I don't understand: \"LOGBACK: No context given for tests.MyAppender[null]\"</p>\n\n<p>What is it mean and how to fix?</p>\n"},{"tags":["java","callback","rmi","functional-interface"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697108073,"post_id":77267799,"comment_id":136239461,"body_markdown":"The function objects you pass need to be exported remote objects, and their methods need to defined in a remote interface, which means they must all throw `RemoteException`, which in turn means they can’t be functional interfaces.","body":"The function objects you pass need to be exported remote objects, and their methods need to defined in a remote interface, which means they must all throw <code>RemoteException</code>, which in turn means they can’t be functional interfaces."}],"answers":[{"tags":[],"owner":{"account_id":15894544,"reputation":21,"user_id":11468630,"display_name":"nicolasCDT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697363977,"creation_date":1697363977,"answer_id":77296122,"question_id":77267799,"body_markdown":"Solution : \r\nYou have to share a interface like this :\r\n\r\n```\r\nimport java.rmi.Remote;\r\nimport java.rmi.RemoteException;\r\n\r\npublic interface CallbackInterface extends Remote {\r\n\r\n    void handler(String string) throws RemoteException;\r\n}\r\n```\r\n\r\nSender have to use a class like :\r\n```\r\nimport java.rmi.RemoteException;\r\nimport java.rmi.server.UnicastRemoteObject;\r\n\r\n@FunctionalInterface\r\ninterface LambdaFunction {\r\n    void handler(String string);\r\n}\r\n\r\npublic class Callback extends UnicastRemoteObject implements CallbackInterface {\r\n    LambdaFunction function;\r\n\r\n    public Callback(LambdaFunction function) throws RemoteException {\r\n        this.function = function;\r\n    }\r\n\r\n    public void handler(String result) {\r\n        this.function.handler(result);\r\n    }\r\n}\r\n```\r\n\r\nAnd you can use it with : \r\n```\r\n// Sender : \r\nserver.submitTask(task, new Callback(Client::method));\r\n// Receiver : \r\ncallback.handler(...);\r\n```\r\n\r\n","title":"Make a callback with JAVA RMI","body":"<p>Solution :\nYou have to share a interface like this :</p>\n<pre><code>import java.rmi.Remote;\nimport java.rmi.RemoteException;\n\npublic interface CallbackInterface extends Remote {\n\n    void handler(String string) throws RemoteException;\n}\n</code></pre>\n<p>Sender have to use a class like :</p>\n<pre><code>import java.rmi.RemoteException;\nimport java.rmi.server.UnicastRemoteObject;\n\n@FunctionalInterface\ninterface LambdaFunction {\n    void handler(String string);\n}\n\npublic class Callback extends UnicastRemoteObject implements CallbackInterface {\n    LambdaFunction function;\n\n    public Callback(LambdaFunction function) throws RemoteException {\n        this.function = function;\n    }\n\n    public void handler(String result) {\n        this.function.handler(result);\n    }\n}\n</code></pre>\n<p>And you can use it with :</p>\n<pre><code>// Sender : \nserver.submitTask(task, new Callback(Client::method));\n// Receiver : \ncallback.handler(...);\n</code></pre>\n"}],"owner":{"account_id":15894544,"reputation":21,"user_id":11468630,"display_name":"nicolasCDT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77296122,"answer_count":1,"score":1,"last_activity_date":1697363977,"creation_date":1696958281,"question_id":77267799,"body_markdown":"I am currently implementing a kind of bag of tasks using Java RMI. The goal is for a &quot;Client&quot; to submit &quot;Task&quot; objects to a &quot;Server,&quot; and on the other hand, I have &quot;Workers&quot; that pick up tasks to execute them.\r\n\r\nHowever, I would like to implement a callback so that the Workers can send a result back to the clients (if it needs to go through the server, that&#39;s possible too). I&#39;m not sure how to achieve this, though.\r\nI should mention that the tasks performed by the workers can take several hours, so I would like the result to reach the client at the end. \r\n\r\nI tried to add a TaksCallBack object, which is a FunctionalInterface, to my &quot;Task&quot; object sent to the server and pass anonymous functions, but it tells me that these are not serializable.\r\n\r\nI&#39;m not necessarily looking to proceed like this; I&#39;m looking for a way to do it. I&#39;m not very familiar with JAVA, and I&#39;m required to do it with JAVA RMI.\r\n\r\nFor now, I&#39;m just trying to understand how everything works, so my Task object is relatively simple:\r\n\r\n```java\r\npublic Task(int taskId, String query, TaskCallback callback) {\r\n    this.taskId = taskId;\r\n    this.query = query;\r\n    this.callback = callback;\r\n}\r\n```","title":"Make a callback with JAVA RMI","body":"<p>I am currently implementing a kind of bag of tasks using Java RMI. The goal is for a &quot;Client&quot; to submit &quot;Task&quot; objects to a &quot;Server,&quot; and on the other hand, I have &quot;Workers&quot; that pick up tasks to execute them.</p>\n<p>However, I would like to implement a callback so that the Workers can send a result back to the clients (if it needs to go through the server, that's possible too). I'm not sure how to achieve this, though.\nI should mention that the tasks performed by the workers can take several hours, so I would like the result to reach the client at the end.</p>\n<p>I tried to add a TaksCallBack object, which is a FunctionalInterface, to my &quot;Task&quot; object sent to the server and pass anonymous functions, but it tells me that these are not serializable.</p>\n<p>I'm not necessarily looking to proceed like this; I'm looking for a way to do it. I'm not very familiar with JAVA, and I'm required to do it with JAVA RMI.</p>\n<p>For now, I'm just trying to understand how everything works, so my Task object is relatively simple:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Task(int taskId, String query, TaskCallback callback) {\n    this.taskId = taskId;\n    this.query = query;\n    this.callback = callback;\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":28059522,"reputation":71,"user_id":21433949,"display_name":"Somogyi Botond"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697321039,"creation_date":1697321039,"answer_id":77294643,"question_id":77294594,"body_markdown":"Your Java code appears to be correct and is functioning well for me. You might want to consider waiting for the page to fully load using the following code:\r\n\r\n```java\r\n\r\nWebDriverWait wait = new WebDriverWait(driver, 10);\r\nwait.until(ExpectedConditions.urlMatches(&quot;expected_home_page_url&quot;));\r\n\r\n```\r\nIf it still doesn&#39;t work, the issue might not be with the HTML code. Please ensure that only one button has the &quot;Login&quot; id.\r\n\r\nAdditionally, could you please provide information about the frontend framework or technology you are using? This could help in further troubleshooting.\r\n\r\n","title":"I am trying to write a selenium test case in jave for loging to a homepage..But my homepage is not loading..how to do it?","body":"<p>Your Java code appears to be correct and is functioning well for me. You might want to consider waiting for the page to fully load using the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nWebDriverWait wait = new WebDriverWait(driver, 10);\nwait.until(ExpectedConditions.urlMatches(&quot;expected_home_page_url&quot;));\n\n</code></pre>\n<p>If it still doesn't work, the issue might not be with the HTML code. Please ensure that only one button has the &quot;Login&quot; id.</p>\n<p>Additionally, could you please provide information about the frontend framework or technology you are using? This could help in further troubleshooting.</p>\n"}],"owner":{"account_id":29673039,"reputation":1,"user_id":22741754,"display_name":"pinky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697363747,"creation_date":1697319685,"question_id":77294594,"body_markdown":"&lt;input class=&quot;button r4 wide primary&quot; type=&quot;submit&quot; id=&quot;Login&quot; name=&quot;Login&quot; value=&quot;Log In&quot;&gt;\r\nThis is the outer HTML code for my Login button..\r\ni wrote the following code\r\n\r\n```java\r\nWebElement loginButton = driver.findElement(By.id(&quot;Login&quot;));\r\nloginButton.click();\r\n\r\nSystem.out.println(&quot;button is clicked&quot;);\r\n```\r\nI am getting the output as\r\nbutton is clicked\r\nbut i can not see the home page.\r\ni tried to get current url but it is still showing login page..\r\nplease help..\r\n\r\ni want to see the home page but i am still under login page..not able to understand the reason","title":"I am trying to write a selenium test case in jave for loging to a homepage..But my homepage is not loading..how to do it?","body":"\nThis is the outer HTML code for my Login button..\ni wrote the following code\n<pre class=\"lang-java prettyprint-override\"><code>WebElement loginButton = driver.findElement(By.id(&quot;Login&quot;));\nloginButton.click();\n\nSystem.out.println(&quot;button is clicked&quot;);\n</code></pre>\n<p>I am getting the output as\nbutton is clicked\nbut i can not see the home page.\ni tried to get current url but it is still showing login page..\nplease help..</p>\n<p>i want to see the home page but i am still under login page..not able to understand the reason</p>\n"},{"tags":["java","automated-tests","playwright","playwright-test","playwright-java"],"answers":[{"tags":[],"owner":{"account_id":16493531,"reputation":51,"user_id":11916657,"display_name":"akshat narang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692782986,"creation_date":1692782930,"answer_id":76960031,"question_id":76933469,"body_markdown":"I don&#39;t see a call to the `initilizeBrowser()` method that calls the `getPage()` method that is initialising the page. Since, the page is not initialised the connection seems to be closing before launching the browser","title":"Playwright connection closed when executing the test","body":"<p>I don't see a call to the <code>initilizeBrowser()</code> method that calls the <code>getPage()</code> method that is initialising the page. Since, the page is not initialised the connection seems to be closing before launching the browser</p>\n"}],"owner":{"account_id":7065506,"reputation":454,"user_id":5408955,"display_name":"Deepak_Mahalingam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697362942,"creation_date":1692415633,"question_id":76933469,"body_markdown":"I&#39;m creating a framework with Playwright, Java and testNG. I&#39;m initialising driver class where the browser is initialised and have wrapper methods where the playwright functions are defined. In test class where the test is triggered.\r\n\r\nI&#39;m getting playwright connection closed error without launching the browser\r\n\r\n**Driver initialisation class**\r\n\r\n    public class DriverFactory {\r\n    public static ThreadLocal&lt;Page&gt; currentPage = new ThreadLocal&lt;&gt;();\r\n    public Page page = null;\r\n    private PropertyReader propertyReader = new PropertyReader();\r\n    Environment environment;\r\n    \r\n        public DriverFactory() {\r\n            environment = propertyReader.getEnvironment();\r\n        }\r\n    \r\n    public Page getCurrentPage() {\r\n        page = currentPage.get();\r\n        if(page!=null) {\r\n            return page;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n    public void initilizeBrowser(){\r\n        currentPage.set(getPage(environment.getPlatform()));\r\n    }\r\n    \r\n    public Page getPage(String browserName) {\r\n        try (Playwright playwright = Playwright.create()) {\r\n            Browser browser = null;\r\n            if (browserName.equalsIgnoreCase(&quot;Chrome&quot;)) {\r\n                browser = playwright.chromium().launch(new BrowserType.LaunchOptions().setHeadless(false));\r\n                page = browser.newPage();\r\n            } else if (browserName.equalsIgnoreCase(&quot;Firefox&quot;)) {\r\n                browser = playwright.firefox().launch();\r\n                page = browser.newPage();\r\n            } else if (browserName.equalsIgnoreCase(&quot;edge&quot;)) {\r\n                browser = playwright.chromium().launch(new BrowserType.LaunchOptions().setChannel(&quot;msedge&quot;));\r\n                page = browser.newPage();\r\n            } else if (browserName.equalsIgnoreCase(&quot;safari&quot;)) {\r\n                browser = playwright.webkit().launch();\r\n                page = browser.newPage();\r\n            }\r\n        }\r\n        System.out.println(&quot;Page ID &quot;+page);\r\n        return page;\r\n    }\r\n    }\r\n\r\n\r\n**Wrapper Methods**\r\n\r\npublic class WrapperMethods {\r\n\r\n    private DriverFactory driverFactory;\r\n    public WrapperMethods() {\r\n        driverFactory = new DriverFactory();\r\n    }\r\n    private Page page;\r\n\r\n    public void openApplication(String url) throws InterruptedException {\r\n        page = driverFactory.getCurrentPage();\r\n        System.out.println(page.toString());\r\n        page.navigate(url);\r\n        Thread.sleep(500000);\r\n    }\r\n}\r\n\r\n**Test class**\r\n\r\n    public class DesktopTest extends BaseTest {\r\n        private WrapperMethods wrapper = new WrapperMethods();\r\n        @Test\r\n        public void navigateToWebPage() throws InterruptedException {\r\n            wrapper.openApplication(&quot;https://www.youtube.com&quot;);\r\n        }\r\n    }\r\n\r\n**Error faced**\r\n\r\n**\r\n\r\n    Page ID com.microsoft.playwright.impl.PageImpl@22b53226\r\n    com.microsoft.playwright.impl.PageImpl@22b53226\r\n\r\n**\r\n\r\n    com.microsoft.playwright.PlaywrightException: Playwright connection closed\r\n    \r\n    \tat com.microsoft.playwright.impl.PipeTransport.send(PipeTransport.java:50)\r\n    \tat com.microsoft.playwright.impl.Connection.internalSendMessage(Connection.java:164)\r\n    \tat com.microsoft.playwright.impl.Connection.sendMessageAsync(Connection.java:130)\r\n    \tat com.microsoft.playwright.impl.Connection.sendMessage(Connection.java:126)\r\n    \tat com.microsoft.playwright.impl.ChannelOwner.sendMessage(ChannelOwner.java:102)\r\n    \tat com.microsoft.playwright.impl.FrameImpl.navigateImpl(FrameImpl.java:463)\r\n    \tat com.microsoft.playwright.impl.PageImpl.lambda$navigate$45(PageImpl.java:836)\r\n    \tat com.microsoft.playwright.impl.LoggingSupport.withLogging(LoggingSupport.java:47)\r\n    \tat com.microsoft.playwright.impl.ChannelOwner.withLogging(ChannelOwner.java:87)\r\n    \tat com.microsoft.playwright.impl.PageImpl.navigate(PageImpl.java:836)\r\n    \tat com.microsoft.playwright.impl.PageImpl.navigate(PageImpl.java:42)\r\n    \tat com.microsoft.playwright.Page.navigate(Page.java:5282)\r\n    \tat org.redwind.autoTest.orca.utils.WrapperMethods.openApplication(WrapperMethods.java:18)\r\n    \tat org.redwind.autoTest.orca.testContainer.DesktopTest.navigateToWebPage(DesktopTest.java:12)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n    \tat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:664)\r\n    \tat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:227)\r\n    \tat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n    \tat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:957)\r\n    \tat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:200)\r\n    \tat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n    \tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.testng.TestRunner.privateRun(TestRunner.java:848)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:621)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:336)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1114)\r\n    \tat org.testng.TestNG.run(TestNG.java:1082)\r\n    \tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n    \tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:105)\r\n\r\n","title":"Playwright connection closed when executing the test","body":"<p>I'm creating a framework with Playwright, Java and testNG. I'm initialising driver class where the browser is initialised and have wrapper methods where the playwright functions are defined. In test class where the test is triggered.</p>\n<p>I'm getting playwright connection closed error without launching the browser</p>\n<p><strong>Driver initialisation class</strong></p>\n<pre><code>public class DriverFactory {\npublic static ThreadLocal&lt;Page&gt; currentPage = new ThreadLocal&lt;&gt;();\npublic Page page = null;\nprivate PropertyReader propertyReader = new PropertyReader();\nEnvironment environment;\n\n    public DriverFactory() {\n        environment = propertyReader.getEnvironment();\n    }\n\npublic Page getCurrentPage() {\n    page = currentPage.get();\n    if(page!=null) {\n        return page;\n    } else {\n        return null;\n    }\n}\npublic void initilizeBrowser(){\n    currentPage.set(getPage(environment.getPlatform()));\n}\n\npublic Page getPage(String browserName) {\n    try (Playwright playwright = Playwright.create()) {\n        Browser browser = null;\n        if (browserName.equalsIgnoreCase(&quot;Chrome&quot;)) {\n            browser = playwright.chromium().launch(new BrowserType.LaunchOptions().setHeadless(false));\n            page = browser.newPage();\n        } else if (browserName.equalsIgnoreCase(&quot;Firefox&quot;)) {\n            browser = playwright.firefox().launch();\n            page = browser.newPage();\n        } else if (browserName.equalsIgnoreCase(&quot;edge&quot;)) {\n            browser = playwright.chromium().launch(new BrowserType.LaunchOptions().setChannel(&quot;msedge&quot;));\n            page = browser.newPage();\n        } else if (browserName.equalsIgnoreCase(&quot;safari&quot;)) {\n            browser = playwright.webkit().launch();\n            page = browser.newPage();\n        }\n    }\n    System.out.println(&quot;Page ID &quot;+page);\n    return page;\n}\n}\n</code></pre>\n<p><strong>Wrapper Methods</strong></p>\n<p>public class WrapperMethods {</p>\n<pre><code>private DriverFactory driverFactory;\npublic WrapperMethods() {\n    driverFactory = new DriverFactory();\n}\nprivate Page page;\n\npublic void openApplication(String url) throws InterruptedException {\n    page = driverFactory.getCurrentPage();\n    System.out.println(page.toString());\n    page.navigate(url);\n    Thread.sleep(500000);\n}\n</code></pre>\n<p>}</p>\n<p><strong>Test class</strong></p>\n<pre><code>public class DesktopTest extends BaseTest {\n    private WrapperMethods wrapper = new WrapperMethods();\n    @Test\n    public void navigateToWebPage() throws InterruptedException {\n        wrapper.openApplication(&quot;https://www.youtube.com&quot;);\n    }\n}\n</code></pre>\n<p><strong>Error faced</strong></p>\n<p>**</p>\n<pre><code>Page ID com.microsoft.playwright.impl.PageImpl@22b53226\ncom.microsoft.playwright.impl.PageImpl@22b53226\n</code></pre>\n<p>**</p>\n<pre><code>com.microsoft.playwright.PlaywrightException: Playwright connection closed\n\n    at com.microsoft.playwright.impl.PipeTransport.send(PipeTransport.java:50)\n    at com.microsoft.playwright.impl.Connection.internalSendMessage(Connection.java:164)\n    at com.microsoft.playwright.impl.Connection.sendMessageAsync(Connection.java:130)\n    at com.microsoft.playwright.impl.Connection.sendMessage(Connection.java:126)\n    at com.microsoft.playwright.impl.ChannelOwner.sendMessage(ChannelOwner.java:102)\n    at com.microsoft.playwright.impl.FrameImpl.navigateImpl(FrameImpl.java:463)\n    at com.microsoft.playwright.impl.PageImpl.lambda$navigate$45(PageImpl.java:836)\n    at com.microsoft.playwright.impl.LoggingSupport.withLogging(LoggingSupport.java:47)\n    at com.microsoft.playwright.impl.ChannelOwner.withLogging(ChannelOwner.java:87)\n    at com.microsoft.playwright.impl.PageImpl.navigate(PageImpl.java:836)\n    at com.microsoft.playwright.impl.PageImpl.navigate(PageImpl.java:42)\n    at com.microsoft.playwright.Page.navigate(Page.java:5282)\n    at org.redwind.autoTest.orca.utils.WrapperMethods.openApplication(WrapperMethods.java:18)\n    at org.redwind.autoTest.orca.testContainer.DesktopTest.navigateToWebPage(DesktopTest.java:12)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n    at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:664)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:227)\n    at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:957)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:200)\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.testng.TestRunner.privateRun(TestRunner.java:848)\n    at org.testng.TestRunner.run(TestRunner.java:621)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:336)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\n    at org.testng.TestNG.runSuites(TestNG.java:1114)\n    at org.testng.TestNG.run(TestNG.java:1082)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:105)\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":7229794,"reputation":2298,"user_id":5517088,"accept_rate":72,"display_name":"Kevin"},"score":0,"creation_date":1564643095,"post_id":57303391,"comment_id":101099857,"body_markdown":"why didn&#39;t you provide the error messages?","body":"why didn&#39;t you provide the error messages?"},{"owner":{"account_id":29207,"reputation":8998,"user_id":78712,"accept_rate":90,"display_name":"elcuco"},"score":0,"creation_date":1564643602,"post_id":57303391,"comment_id":101100078,"body_markdown":"Please format the question better next time, I fixed it for you now. Welcome to StackOverflow!","body":"Please format the question better next time, I fixed it for you now. Welcome to StackOverflow!"}],"answers":[{"tags":[],"owner":{"account_id":29207,"reputation":8998,"user_id":78712,"accept_rate":90,"display_name":"elcuco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564643566,"creation_date":1564643566,"answer_id":57303595,"question_id":57303391,"body_markdown":"The problem you face is that you have 2 activities with the same name `MainActivity` - one in Java, and second in Koltin. Both classes (activities in this case) are compiled into the same application - you have 2 symbols with the same name.\r\n\r\nyes, Koltin and Java look the same after the compiler finish with them :)","title":"How do I resolve a Redeclaration Error in Android Studio","body":"<p>The problem you face is that you have 2 activities with the same name <code>MainActivity</code> - one in Java, and second in Koltin. Both classes (activities in this case) are compiled into the same application - you have 2 symbols with the same name.</p>\n\n<p>yes, Koltin and Java look the same after the compiler finish with them :)</p>\n"},{"tags":[],"owner":{"account_id":15835253,"reputation":71,"user_id":11425292,"display_name":"Ehsan Haghdoust"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697362094,"creation_date":1581328472,"answer_id":60147803,"question_id":57303391,"body_markdown":"The question was for 6 months ago, but I write my answer for others facing this problem in the future. I have had challenges with this error, I checked every possible way suggested by others and I FINALLY had to delete build folders in \r\n\r\n&gt; projectFolder/\r\n\r\n and \r\n\r\n&gt; projectFolder/app/\r\n\r\nmanually and rebuild the project again.","title":"How do I resolve a Redeclaration Error in Android Studio","body":"<p>The question was for 6 months ago, but I write my answer for others facing this problem in the future. I have had challenges with this error, I checked every possible way suggested by others and I FINALLY had to delete build folders in</p>\n<blockquote>\n<p>projectFolder/</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>projectFolder/app/</p>\n</blockquote>\n<p>manually and rebuild the project again.</p>\n"},{"tags":[],"owner":{"account_id":6717940,"reputation":1946,"user_id":5179140,"accept_rate":71,"display_name":"Mohammad Elsayed"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1647266049,"creation_date":1582972073,"answer_id":60464108,"question_id":57303391,"body_markdown":"1. File tab -&gt; Invalidate Caches/Restart (then choose invalidate and restart from the dialog that will appear)\r\n2. Build tab -&gt; Clean Project  \r\n3. Build tab -&gt; Rebuild Project\r\n\r\nThis solution is just the same as @Ehsan_Haghdoust solution but letting Android Studio do that for me instead of doing that my self.","title":"How do I resolve a Redeclaration Error in Android Studio","body":"<ol>\n<li>File tab -&gt; Invalidate Caches/Restart (then choose invalidate and restart from the dialog that will appear)</li>\n<li>Build tab -&gt; Clean Project</li>\n<li>Build tab -&gt; Rebuild Project</li>\n</ol>\n<p>This solution is just the same as @Ehsan_Haghdoust solution but letting Android Studio do that for me instead of doing that my self.</p>\n"},{"tags":[],"owner":{"account_id":1816049,"reputation":1032,"user_id":2404063,"accept_rate":42,"display_name":"Kannan_SJD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626273627,"creation_date":1626273627,"answer_id":68380146,"question_id":57303391,"body_markdown":"In my case, I was running the app in debug mode and a direction class was generated for debug. Then I tried generating a signed APK in release mode. Then a similar class was generated in same package  for release mode which caused the issue. I manually deleted just the debug folder in the Java folder(root) and the build was successful. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WQZoA.png","title":"How do I resolve a Redeclaration Error in Android Studio","body":"<p>In my case, I was running the app in debug mode and a direction class was generated for debug. Then I tried generating a signed APK in release mode. Then a similar class was generated in same package  for release mode which caused the issue. I manually deleted just the debug folder in the Java folder(root) and the build was successful.</p>\n<p><a href=\"https://i.stack.imgur.com/WQZoA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WQZoA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":21375099,"reputation":1,"user_id":15741991,"display_name":"jagguwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669736245,"creation_date":1669736245,"answer_id":74616550,"question_id":57303391,"body_markdown":"Build -&gt; Select Build Variant. It was in debug, I just changed it to release mode and done.","title":"How do I resolve a Redeclaration Error in Android Studio","body":"<p>Build -&gt; Select Build Variant. It was in debug, I just changed it to release mode and done.</p>\n"}],"owner":{"account_id":14461258,"reputation":121,"user_id":11867543,"display_name":"Jame"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16343,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":5,"score":12,"last_activity_date":1697362094,"creation_date":1564642683,"question_id":57303391,"body_markdown":"This code is for a button that would be on the android emulator. However, when I place this code in the main activity.kt it gives me multiple errors. The first error I experience is a redeclaration error on line 9 on the main activity \r\n\r\n\tpackage com.example.android.justjava\r\n\r\n\timport android.R\r\n\timport android.os.Bundle\r\n\timport android.support.v7.app.ActionBarActivity\r\n\timport android.view.View\r\n\timport android.widget.TextView\r\n\t\r\n\t// This activity displays an order form to order coffee.\r\n\tclass MainActivity : ActionBarActivity() {\r\n    \tprotected fun onCreate(savedInstanceState: Bundle) {\r\n\t      super.onCreate(savedInstanceState)\r\n       \t  setContentView(R.layout.activity_main)\r\n\t    }\r\n\t\r\n        // this method is called when the order button is clicked.\r\n\t    fun submitOrder(view: View) {\r\n\t      display(1)\r\n\t    }\r\n\t\r\n   \t    // This method displays the given quantity value on the screen.\r\n  \t    private fun display(number: Int) {\r\n\t      val quantityTextView = findViewById(R.id.quantity_text_view as TextView\r\n  \t      quantityTextView.text = &quot;&quot; + number\r\n\t    }\r\n\t}\r\n\r\n\t\r\nThis activity displays an order form to order coffee.\r\n\t\r\n\tpublic class MainActivity extends ActionBarActivity {\r\n  \t   @Override\r\n\t   protected void onCreate(Bundle savedInstanceState) {\r\n\t      super.onCreate(savedInstanceState);\r\n          setContentView(R.layout.activity_main);\r\n\t   }\r\n\r\n       // This method is called when the order button is clicked.\r\n   \t   public void submitOrder(View view) {\r\n\t       display(1);\r\n\t   }\r\n\r\n  \t   // This method displays the given quantity value on the screen.\r\n \t   private void display(int number) {\r\n\t      TextView quantityTextView =(TextView) findViewById (R.id.quantity_text_view);\r\n\t      quantityTextView.setText(&quot;&quot; + number);\r\n\t   }\r\n\t}\r\n","title":"How do I resolve a Redeclaration Error in Android Studio","body":"<p>This code is for a button that would be on the android emulator. However, when I place this code in the main activity.kt it gives me multiple errors. The first error I experience is a redeclaration error on line 9 on the main activity </p>\n\n<pre><code>package com.example.android.justjava\n\nimport android.R\nimport android.os.Bundle\nimport android.support.v7.app.ActionBarActivity\nimport android.view.View\nimport android.widget.TextView\n\n// This activity displays an order form to order coffee.\nclass MainActivity : ActionBarActivity() {\n    protected fun onCreate(savedInstanceState: Bundle) {\n      super.onCreate(savedInstanceState)\n      setContentView(R.layout.activity_main)\n    }\n\n    // this method is called when the order button is clicked.\n    fun submitOrder(view: View) {\n      display(1)\n    }\n\n    // This method displays the given quantity value on the screen.\n    private fun display(number: Int) {\n      val quantityTextView = findViewById(R.id.quantity_text_view as TextView\n      quantityTextView.text = \"\" + number\n    }\n}\n</code></pre>\n\n<p>This activity displays an order form to order coffee.</p>\n\n<pre><code>public class MainActivity extends ActionBarActivity {\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n      super.onCreate(savedInstanceState);\n      setContentView(R.layout.activity_main);\n   }\n\n   // This method is called when the order button is clicked.\n   public void submitOrder(View view) {\n       display(1);\n   }\n\n   // This method displays the given quantity value on the screen.\n   private void display(int number) {\n      TextView quantityTextView =(TextView) findViewById (R.id.quantity_text_view);\n      quantityTextView.setText(\"\" + number);\n   }\n}\n</code></pre>\n"},{"tags":["java","arrays","loops","if-statement","while-loop"],"answers":[{"tags":[],"owner":{"account_id":1281728,"reputation":73126,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697354497,"creation_date":1697354497,"answer_id":77295642,"question_id":77295618,"body_markdown":"The `username` and `password` fields are being added to the `users` and `passes` lists **before** the user has a chance to input their credentials so the fields were empty at that time. You should move it to after checking for the `OK_OPTION`.\r\n\r\n```java\r\nwhile (true) {\r\n    if (options01 == 0) {\r\n        JTextField username = new JTextField();\r\n        JTextField password = new JPasswordField();\r\n        JTextField confpass = new JPasswordField();\r\n        Object[] message = {\r\n                &quot;Username: &quot;, username,\r\n                &quot;Password: &quot;, password,\r\n                &quot;Confirm Password: &quot;, confpass,\r\n        };\r\n        int signup1 = JOptionPane.showConfirmDialog(null, message, &quot;Sign up&quot;, JOptionPane.OK_CANCEL_OPTION);\r\n        if (signup1 == JOptionPane.OK_OPTION) {\r\n            if (password.getText().equals(confpass.getText()) &amp;&amp; !password.getText().isEmpty() &amp;&amp; !confpass.getText().isEmpty()) {\r\n                users.add(username.getText());\r\n                passes.add(password.getText());\r\n                JOptionPane.showMessageDialog(null, &quot;Sign up was successful! \\n Welcome to Beansie&#39;s Bank. \\n Please log in to access your account!&quot;);\r\n                break;\r\n            } //... rest of your code\r\n        }\r\n    }\r\n}\r\n```","title":"How to capture a variable from within a while loop/for loop","body":"<p>The <code>username</code> and <code>password</code> fields are being added to the <code>users</code> and <code>passes</code> lists <strong>before</strong> the user has a chance to input their credentials so the fields were empty at that time. You should move it to after checking for the <code>OK_OPTION</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (true) {\n    if (options01 == 0) {\n        JTextField username = new JTextField();\n        JTextField password = new JPasswordField();\n        JTextField confpass = new JPasswordField();\n        Object[] message = {\n                &quot;Username: &quot;, username,\n                &quot;Password: &quot;, password,\n                &quot;Confirm Password: &quot;, confpass,\n        };\n        int signup1 = JOptionPane.showConfirmDialog(null, message, &quot;Sign up&quot;, JOptionPane.OK_CANCEL_OPTION);\n        if (signup1 == JOptionPane.OK_OPTION) {\n            if (password.getText().equals(confpass.getText()) &amp;&amp; !password.getText().isEmpty() &amp;&amp; !confpass.getText().isEmpty()) {\n                users.add(username.getText());\n                passes.add(password.getText());\n                JOptionPane.showMessageDialog(null, &quot;Sign up was successful! \\n Welcome to Beansie's Bank. \\n Please log in to access your account!&quot;);\n                break;\n            } //... rest of your code\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697361517,"creation_date":1697361517,"answer_id":77295990,"question_id":77295618,"body_markdown":"There are two problems in your code.\r\n\r\nFirst is that in here:\r\n\r\n    JTextField username = new JTextField();\r\n    users.add(username.getText());\r\n    JTextField password = new JPasswordField();\r\n    passes.add(password.getText());\r\n\r\nyou are adding username/password to array list before they are actually know. At this point user didnt yet specify its username/password. You should move the lines `users.add(username.getText());` and `passes.add(password.getText());` to after the user has confirmed their input. The fixed code should look like this:\r\n\r\n    int signup1 = JOptionPane.showConfirmDialog(null, message, &quot;Sign up&quot;, JOptionPane.OK_CANCEL_OPTION);\r\n      if (signup1 == JOptionPane.OK_OPTION) {\r\n         if (password.getText().equals(confpass.getText()) &amp;&amp; !password.getText().isEmpty() &amp;&amp; !confpass.getText().isEmpty()) {\r\n             users.add(username.getText()); // !!\r\n            passes.add(password.getText()); // !!\r\n\r\nSecond is this code:\r\n\r\n\r\n    if (username.getText().equals(users) &amp;&amp; password.getText().equals(passes)) {\r\n                          ^^^^^^^^^^^^^                       ^^^^^^^^^^^^^^^\r\n\r\n`users` and `passes` are declared as:\r\n\r\n        ArrayList&lt;String&gt; users = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;String&gt; passes = new ArrayList&lt;&gt;();\r\n\r\nso you cannot compare `username.getText()` or `password.getText()` (a `String`) with any of them. This wont issue a compiler error, or a runtime exception, `equals` will simply always return false here. You should iterate over the array lists and compare the user input to each element. Like that:\r\n\r\n    for (int i = 0; i &lt; users.size(); i++) {\r\n        if (username.getText().equals(users.get(i)) &amp;&amp; password.getText().equals(passes.get(i))) {\r\n            JOptionPane.showMessageDialog(null, &quot;Login successful, welcome back &quot; + username.getText() + &quot;.&quot;);\r\n            break;\r\n        }\r\n    }","title":"How to capture a variable from within a while loop/for loop","body":"<p>There are two problems in your code.</p>\n<p>First is that in here:</p>\n<pre><code>JTextField username = new JTextField();\nusers.add(username.getText());\nJTextField password = new JPasswordField();\npasses.add(password.getText());\n</code></pre>\n<p>you are adding username/password to array list before they are actually know. At this point user didnt yet specify its username/password. You should move the lines <code>users.add(username.getText());</code> and <code>passes.add(password.getText());</code> to after the user has confirmed their input. The fixed code should look like this:</p>\n<pre><code>int signup1 = JOptionPane.showConfirmDialog(null, message, &quot;Sign up&quot;, JOptionPane.OK_CANCEL_OPTION);\n  if (signup1 == JOptionPane.OK_OPTION) {\n     if (password.getText().equals(confpass.getText()) &amp;&amp; !password.getText().isEmpty() &amp;&amp; !confpass.getText().isEmpty()) {\n         users.add(username.getText()); // !!\n        passes.add(password.getText()); // !!\n</code></pre>\n<p>Second is this code:</p>\n<pre><code>if (username.getText().equals(users) &amp;&amp; password.getText().equals(passes)) {\n                      ^^^^^^^^^^^^^                       ^^^^^^^^^^^^^^^\n</code></pre>\n<p><code>users</code> and <code>passes</code> are declared as:</p>\n<pre><code>    ArrayList&lt;String&gt; users = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; passes = new ArrayList&lt;&gt;();\n</code></pre>\n<p>so you cannot compare <code>username.getText()</code> or <code>password.getText()</code> (a <code>String</code>) with any of them. This wont issue a compiler error, or a runtime exception, <code>equals</code> will simply always return false here. You should iterate over the array lists and compare the user input to each element. Like that:</p>\n<pre><code>for (int i = 0; i &lt; users.size(); i++) {\n    if (username.getText().equals(users.get(i)) &amp;&amp; password.getText().equals(passes.get(i))) {\n        JOptionPane.showMessageDialog(null, &quot;Login successful, welcome back &quot; + username.getText() + &quot;.&quot;);\n        break;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29668911,"reputation":13,"user_id":22738664,"display_name":"beansies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1697472683,"accepted_answer_id":77295642,"answer_count":2,"score":-2,"last_activity_date":1697361517,"creation_date":1697353782,"question_id":77295618,"body_markdown":"I&#39;m making a little project just to practice arrays/loops. It&#39;s basically a bank page that you can sign up and log into. I want to be able to store the user inputs of their username and password into the array lists when they sign up, then when the user logs in - the system will check if the username matches a name in the database (users array list) or if the password matches (passes array list). However, I discovered that the variables aren&#39;t being stored in the arrays when I tried testing it by printing out the array list. How do I properly store the user values into the arrays so I can use them later on? Hopefully that all made sense. Thank you. \r\n\r\n    import javax.swing.*;\r\n    import java.util.ArrayList;\r\n\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            ImageIcon icon = new ImageIcon(&quot;cutepig.jpg&quot;);\r\n            String[] response1 = {&quot;Sign up&quot;, &quot;Log in&quot;, &quot;Exit&quot;};\r\n            int options01 = JOptionPane.showOptionDialog(null, &quot;Welcome to Beanie&#39;s Bank!&quot;, &quot;Beanie&#39;s Bank&quot;, JOptionPane.YES_NO_CANCEL_OPTION, JOptionPane.INFORMATION_MESSAGE, icon, response1, 0);\r\n            ArrayList&lt;String&gt; users = new ArrayList&lt;&gt;();\r\n            ArrayList&lt;String&gt; passes = new ArrayList&lt;&gt;();\r\n\r\n            while (true) {\r\n                if (options01 == 0) {\r\n                    JTextField username = new JTextField();\r\n                    users.add(username.getText());\r\n                    JTextField password = new JPasswordField();\r\n                    passes.add(password.getText());\r\n                    JTextField confpass = new JPasswordField();\r\n                    Object[] message = {\r\n                            &quot;Username: &quot;, username,\r\n                            &quot;Password: &quot;, password,\r\n                            &quot;Confirm Password: &quot;, confpass,\r\n                    };\r\n                    int signup1 = JOptionPane.showConfirmDialog(null, message, &quot;Sign up&quot;, JOptionPane.OK_CANCEL_OPTION);\r\n                    if (signup1 == JOptionPane.OK_OPTION) {\r\n                        if (password.getText().equals(confpass.getText()) &amp;&amp; !password.getText().isEmpty() &amp;&amp; !confpass.getText().isEmpty()) {\r\n                            JOptionPane.showMessageDialog(null, &quot;Sign up was successful! \\n Welcome to Beansie&#39;s Bank. \\n Please log in to access your account!&quot;);\r\n                            break;\r\n                        } else if (password.getText().isEmpty() || confpass.getText().isEmpty() || username.getText().isEmpty()) {\r\n                            JOptionPane.showMessageDialog(null, &quot;Input cannot be empty, please enter a valid input.&quot;);\r\n                            continue;\r\n                        } else if (!password.getText().equals(confpass.getText())) {\r\n                            JOptionPane.showMessageDialog(null, &quot;Your passwords do not match! Please try again.&quot;);\r\n                            continue;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n\r\n            while(true){\r\n            JTextField username = new JTextField();\r\n            JTextField password = new JPasswordField();\r\n            Object[] message = {\r\n                    &quot;Username: &quot;, username,\r\n                    &quot;Password: &quot;, password\r\n            };\r\n\r\n            int option = JOptionPane.showConfirmDialog(null, message, &quot;login&quot;, JOptionPane.OK_CANCEL_OPTION);\r\n\r\n                if (username.getText().equals(users) &amp;&amp; password.getText().equals(passes)) {\r\n                    JOptionPane.showMessageDialog(null, &quot;Login successful, welcome back &quot; + username + &quot;.&quot;);\r\n                    break;\r\n                } else if (!username.getText().equals(users) &amp;&amp; !password.getText().equals(passes)){\r\n                    JOptionPane.showMessageDialog(null,&quot;Login failed, please try again.&quot;);\r\n                    continue;\r\n                }\r\n                else{\r\n                System.out.println(&quot;Login canceled&quot;);\r\n                continue;\r\n                }\r\n        }\r\n    }}","title":"How to capture a variable from within a while loop/for loop","body":"<p>I'm making a little project just to practice arrays/loops. It's basically a bank page that you can sign up and log into. I want to be able to store the user inputs of their username and password into the array lists when they sign up, then when the user logs in - the system will check if the username matches a name in the database (users array list) or if the password matches (passes array list). However, I discovered that the variables aren't being stored in the arrays when I tried testing it by printing out the array list. How do I properly store the user values into the arrays so I can use them later on? Hopefully that all made sense. Thank you.</p>\n<pre><code>import javax.swing.*;\nimport java.util.ArrayList;\n\n\npublic class Main {\n    public static void main(String[] args) {\n        ImageIcon icon = new ImageIcon(&quot;cutepig.jpg&quot;);\n        String[] response1 = {&quot;Sign up&quot;, &quot;Log in&quot;, &quot;Exit&quot;};\n        int options01 = JOptionPane.showOptionDialog(null, &quot;Welcome to Beanie's Bank!&quot;, &quot;Beanie's Bank&quot;, JOptionPane.YES_NO_CANCEL_OPTION, JOptionPane.INFORMATION_MESSAGE, icon, response1, 0);\n        ArrayList&lt;String&gt; users = new ArrayList&lt;&gt;();\n        ArrayList&lt;String&gt; passes = new ArrayList&lt;&gt;();\n\n        while (true) {\n            if (options01 == 0) {\n                JTextField username = new JTextField();\n                users.add(username.getText());\n                JTextField password = new JPasswordField();\n                passes.add(password.getText());\n                JTextField confpass = new JPasswordField();\n                Object[] message = {\n                        &quot;Username: &quot;, username,\n                        &quot;Password: &quot;, password,\n                        &quot;Confirm Password: &quot;, confpass,\n                };\n                int signup1 = JOptionPane.showConfirmDialog(null, message, &quot;Sign up&quot;, JOptionPane.OK_CANCEL_OPTION);\n                if (signup1 == JOptionPane.OK_OPTION) {\n                    if (password.getText().equals(confpass.getText()) &amp;&amp; !password.getText().isEmpty() &amp;&amp; !confpass.getText().isEmpty()) {\n                        JOptionPane.showMessageDialog(null, &quot;Sign up was successful! \\n Welcome to Beansie's Bank. \\n Please log in to access your account!&quot;);\n                        break;\n                    } else if (password.getText().isEmpty() || confpass.getText().isEmpty() || username.getText().isEmpty()) {\n                        JOptionPane.showMessageDialog(null, &quot;Input cannot be empty, please enter a valid input.&quot;);\n                        continue;\n                    } else if (!password.getText().equals(confpass.getText())) {\n                        JOptionPane.showMessageDialog(null, &quot;Your passwords do not match! Please try again.&quot;);\n                        continue;\n                    }\n                }\n            }\n        }\n\n\n\n        while(true){\n        JTextField username = new JTextField();\n        JTextField password = new JPasswordField();\n        Object[] message = {\n                &quot;Username: &quot;, username,\n                &quot;Password: &quot;, password\n        };\n\n        int option = JOptionPane.showConfirmDialog(null, message, &quot;login&quot;, JOptionPane.OK_CANCEL_OPTION);\n\n            if (username.getText().equals(users) &amp;&amp; password.getText().equals(passes)) {\n                JOptionPane.showMessageDialog(null, &quot;Login successful, welcome back &quot; + username + &quot;.&quot;);\n                break;\n            } else if (!username.getText().equals(users) &amp;&amp; !password.getText().equals(passes)){\n                JOptionPane.showMessageDialog(null,&quot;Login failed, please try again.&quot;);\n                continue;\n            }\n            else{\n            System.out.println(&quot;Login canceled&quot;);\n            continue;\n            }\n    }\n}}\n</code></pre>\n"},{"tags":["java","spring","intellij-idea"],"comments":[{"owner":{"account_id":29140726,"reputation":1,"user_id":22323766,"display_name":"MeLoveCats"},"score":0,"creation_date":1697358307,"post_id":77295814,"comment_id":136267785,"body_markdown":"Update, I found a existing question. Already answered here. https://stackoverflow.com/questions/75493999/intellij-compiler-automake-allow-app-running-settings-is-not-available-in-inte","body":"Update, I found a existing question. Already answered here. <a href=\"https://stackoverflow.com/questions/75493999/intellij-compiler-automake-allow-app-running-settings-is-not-available-in-inte\" title=\"intellij compiler automake allow app running settings is not available in inte\">stackoverflow.com/questions/75493999/&hellip;</a>"}],"owner":{"account_id":29140726,"reputation":1,"user_id":22323766,"display_name":"MeLoveCats"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697358708,"answer_count":0,"score":0,"last_activity_date":1697358235,"creation_date":1697358235,"question_id":77295814,"body_markdown":"Trying to enable hot reload for my spring app project, I can&#39;t find compiler.automake.allow.app.running\r\n\r\nTried some tutorials but it&#39;s not in the registry tab as specified in \r\nhttps://www.jhipster.tech/configuring-ide-idea/\r\n\r\nMaybe I missed some documentation to fix this, please do let me know, thank you.  \r\n\r\n","title":"Where to find compiler.automake.allow.app.running in IntelliJ IDEA 2022.3.2 (Community Edition)","body":"<p>Trying to enable hot reload for my spring app project, I can't find compiler.automake.allow.app.running</p>\n<p>Tried some tutorials but it's not in the registry tab as specified in\n<a href=\"https://www.jhipster.tech/configuring-ide-idea/\" rel=\"nofollow noreferrer\">https://www.jhipster.tech/configuring-ide-idea/</a></p>\n<p>Maybe I missed some documentation to fix this, please do let me know, thank you.</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1696442544,"post_id":77231106,"comment_id":136154857,"body_markdown":"Update your question with full debug logs from the server, not some strange incomplete stacktrace please","body":"Update your question with full debug logs from the server, not some strange incomplete stacktrace please"},{"owner":{"account_id":5048606,"reputation":313,"user_id":4053840,"accept_rate":11,"display_name":"Ivajlo Iliev"},"score":0,"creation_date":1696502699,"post_id":77231106,"comment_id":136162558,"body_markdown":"Thank you for helping me with this issue. I am not sure what do you mean with &quot;full debug logs from the server&quot;, because I run the unit tests locally, and I add them in the description","body":"Thank you for helping me with this issue. I am not sure what do you mean with &quot;full debug logs from the server&quot;, because I run the unit tests locally, and I add them in the description"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1696504792,"post_id":77231106,"comment_id":136162959,"body_markdown":"`preAuthFilter` what is this, why have you written some custom security solution, you are aware that writing custom security is bad practice?","body":"<code>preAuthFilter</code> what is this, why have you written some custom security solution, you are aware that writing custom security is bad practice?"},{"owner":{"account_id":5048606,"reputation":313,"user_id":4053840,"accept_rate":11,"display_name":"Ivajlo Iliev"},"score":0,"creation_date":1697357219,"post_id":77231106,"comment_id":136267706,"body_markdown":"I &quot;inherited&quot; the application, and my task is to update to java 17 and Spring boot 3. And actually I found the error - it was I hadn&#39;t replaced &quot;javax.servlet.request.X509Certificate&quot; with &quot;jakarta.servlet.request.X509Certificate&quot;, when calling httpServletRequest.getAttribute(CERTIFICATE_ATTRIBUTE_NAME)","body":"I &quot;inherited&quot; the application, and my task is to update to java 17 and Spring boot 3. And actually I found the error - it was I hadn&#39;t replaced &quot;javax.servlet.request.X509Certificate&quot; with &quot;jakarta.servlet.request.X509Certificate&quot;, when calling httpServletRequest.getAttribute(CERTIFICATE_ATTRIBUTE_NAME)"}],"answers":[{"tags":[],"owner":{"account_id":5048606,"reputation":313,"user_id":4053840,"accept_rate":11,"display_name":"Ivajlo Iliev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697357295,"creation_date":1697357295,"answer_id":77295775,"question_id":77231106,"body_markdown":"Actually I found the error - it was I hadn&#39;t replaced &quot;javax.servlet.request.X509Certificate&quot; with &quot;jakarta.servlet.request.X509Certificate&quot;, when calling httpServletRequest.getAttribute(CERTIFICATE_ATTRIBUTE_NAME) in a custom implementation of the PreAuthFilter","title":"Updating to Spring Security 6.0 - failing unit tests after the refactoring the source code - getting &quot;Access Denied&quot;","body":"<p>Actually I found the error - it was I hadn't replaced &quot;javax.servlet.request.X509Certificate&quot; with &quot;jakarta.servlet.request.X509Certificate&quot;, when calling httpServletRequest.getAttribute(CERTIFICATE_ATTRIBUTE_NAME) in a custom implementation of the PreAuthFilter</p>\n"}],"owner":{"account_id":5048606,"reputation":313,"user_id":4053840,"accept_rate":11,"display_name":"Ivajlo Iliev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697357295,"creation_date":1696434732,"question_id":77231106,"body_markdown":"I&#39;m trying to upgrade to Spring Boot 3.0.0 and Spring Security 6.0. The old version of a configuration file looks like this:\r\n``` \r\n\r\nimport somecompany.verification.components.PreAuthFilter;\r\nimport somecompany.verification.environments.VerificationProperties;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.boot.autoconfigure.AutoConfiguration;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\nimport static org.springframework.security.config.http.SessionCreationPolicy.STATELESS;\r\n\r\n@Slf4j\r\n@RequiredArgsConstructor\r\n@Order(1)\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n@AutoConfiguration(after = {VerificationProperties.class, VerificationConfig.class})\r\npublic class VerificationSecurityConfig {\r\n\r\n    private final PreAuthFilter preAuthFilter;\r\n    private final VerificationProperties verificationProperties;\r\n\r\n    @Bean\r\n    protected SecurityFilterChain verificationFilterChain(HttpSecurity http) throws Exception {\r\n        log.info(&quot;Configuring endpoints security access&quot;);\r\n\r\n        var pathExpressions = verificationProperties.getPathExpressions();\r\n\r\n        return http.requestMatchers().antMatchers(pathExpressions)\r\n                .and().authorizeRequests().antMatchers(pathExpressions).fullyAuthenticated()\r\n                .and().sessionManagement().sessionCreationPolicy(STATELESS)\r\n                .and().csrf().disable()\r\n                .addFilter(preAuthFilter)\r\n                .build();\r\n    }\r\n}\r\n``` \r\nAfter moving to Spring boot 3.0.0 and respectively spring security 6.0.0. I refactored the method like this:\r\n\r\n```\r\n    @Bean\r\n    protected SecurityFilterChain verificationFilterChain(HttpSecurity http) throws Exception {\r\n        log.info(&quot;Configuring endpoints security access&quot;);\r\n\r\n        var pathExpressions = verificationProperties.getPathExpressions();\r\n\r\n        http.securityMatchers(request -&gt; {\r\n                    request.requestMatchers(pathExpressions);\r\n                })\r\n                .authorizeHttpRequests(request -&gt; {\r\n                    request.requestMatchers(pathExpressions).fullyAuthenticated();\r\n                });\r\n        http.sessionManagement(s -&gt; s.sessionCreationPolicy(STATELESS));\r\n        http.csrf(AbstractHttpConfigurer::disable);\r\n        http.addFilter(preAuthFilter);\r\n        return http.build();\r\n    }\r\n```\r\nLooking at this : https://stackoverflow.com/questions/74683225/updating-to-spring-security-6-0-replacing-removed-and-deprecated-functionality\r\n\r\nand the links, provided there, I changed\r\n```\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n```\r\nwith\r\n```\r\n@EnableMethodSecurity\r\n```\r\nand added the following property in the test application.properties file:\r\n```\r\n  mvc:\r\n    pathmatch:\r\n      matching-strategy: ant_path_matcher\r\n```\r\nbecause this is the path expression &quot;/api/**/*&quot;.\r\n\r\nBut since then, some of the unit tests are failing.\r\nHere is one unit test, which uses jwt token:\r\n\r\n```\r\n  @SneakyThrows\r\n    @Test\r\n    void getForCustomer_Forbidden_WhenUserIsNotCustomer() {\r\n        var token = createToken(AZN, ABS_KUNDENNUMMER, MFA.getAscValue(), CIM_UUID, INTERESSENT);\r\n\r\n        mvc.perform(get(&quot;/api/some/endpoint/customer&quot;)\r\n                        .with(x509(&quot;/testclient.crt&quot;))\r\n                        .header(AUTHORIZATION, &quot;Bearer &quot; + token))\r\n                .andExpect(status().isForbidden());\r\n    }\r\n```\r\n\r\nAfter debugging, I found, that the issue comes from the fact, that the method authenticate \r\n\r\n```\r\npublic Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n```\r\nof the class PreAuthenticatedAuthenticationProvider\r\n\r\nis called with no certificate\r\n```\r\nPreAuthenticatedAuthenticationToken [Principal=PreAuthPrincipal(certificate=null, jwToken=de.company.portal.security.jwt.validation.azd.AzdJWToken@6a4f7c17, name=-::-::allowedJwtUser), Credentials=[PROTECTED], Authenticated=false, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[]]\r\n```\r\nand I am wondering why....\r\n\r\nHere is the stack trace:\r\n```\r\n\r\nauthenticate:78, PreAuthenticatedAuthenticationProvider (org.springframework.security.web.authentication.preauth)\r\nauthenticate:182, ProviderManager (org.springframework.security.authentication)\r\ndoAuthenticate:200, AbstractPreAuthenticatedProcessingFilter (org.springframework.security.web.authentication.preauth)\r\ndoFilter:142, AbstractPreAuthenticatedProcessingFilter (org.springframework.security.web.authentication.preauth)\r\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:173, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\r\ndoFilter:107, LogoutFilter (org.springframework.security.web.authentication.logout)\r\ndoFilter:93, LogoutFilter (org.springframework.security.web.authentication.logout)\r\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:173, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\r\ndoHeadersAfter:90, HeaderWriterFilter (org.springframework.security.web.header)\r\ndoFilterInternal:75, HeaderWriterFilter (org.springframework.security.web.header)\r\ndoFilter:116, OncePerRequestFilter (org.springframework.web.filter)\r\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:173, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\r\ndoFilterInternal:69, SecurityContextHolderFilter (org.springframework.security.web.context)\r\ndoFilter:116, OncePerRequestFilter (org.springframework.web.filter)\r\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:173, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\r\ndoFilterInternal:62, WebAsyncManagerIntegrationFilter (org.springframework.security.web.context.request.async)\r\ndoFilter:116, OncePerRequestFilter (org.springframework.web.filter)\r\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:173, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\r\ndoFilterInternal:42, DisableEncodeUrlFilter (org.springframework.security.web.session)\r\ndoFilter:116, OncePerRequestFilter (org.springframework.web.filter)\r\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:-1, ObservationFilterChainDecorator$ObservationFilter$$Lambda$1456/0x00000001367d1a38 (org.springframework.security.web)\r\nlambda$wrap$0:278, ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation (org.springframework.security.web)\r\ndoFilter:-1, ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation$$Lambda$1457/0x00000001367d1c80 (org.springframework.security.web)\r\ndoFilter:170, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\r\ndoFilterInternal:233, FilterChainProxy (org.springframework.security.web)\r\ndoFilter:191, FilterChainProxy (org.springframework.security.web)\r\ndoFilter:132, SecurityMockMvcConfigurer$DelegateFilter (org.springframework.security.test.web.servlet.setup)\r\ndoFilter:132, MockFilterChain (org.springframework.mock.web)\r\nperform:201, MockMvc (org.springframework.test.web.servlet)\r\ngetForCustomer_Success_WhenUserIsCustomer:107, VerificationIntegrationTest (company.verification)\r\n```\r\n\r\nI checked and in the current version of the implementation the &quot;authenticate&quot; method of the PreAuthenticatedAuthenticationProvider is called with the argument Authentication containing the certificate.\r\n\r\nAny ideas why this happens and how to fix this?\r\nI add logs from the console, when I set \r\nlogging.level.org.springframework.security = TRACE\r\n\r\n\r\n\r\n```\r\n********************************************************************\r\n**********        Security debugging is enabled.       *************\r\n**********    This may include sensitive information.  *************\r\n**********      Do not use in a production system!     *************\r\n********************************************************************\r\n\r\n\r\n2023-10-05T13:42:42.712+03:00  INFO 9595 --- [           main] d.a.m.v.VerificationIntegrationTest      : Started VerificationIntegrationTest in 3.949 seconds (process running for 6.741)\r\n2023-10-05T13:42:43.406+03:00  INFO 9595 --- [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet &#39;&#39;\r\n2023-10-05T13:42:43.406+03:00  INFO 9595 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet &#39;&#39;\r\n2023-10-05T13:42:43.407+03:00  INFO 9595 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms\r\n2023-10-05T13:42:43.487+03:00  INFO 9595 --- [           main] Spring Security Debugger                 : \r\n\r\n************************************************************\r\n\r\nRequest received for GET &#39;/api/some/endpoint/customer&#39;:\r\n\r\norg.springframework.mock.web.MockHttpServletRequest@5dd2ea0a\r\n\r\nservletPath:\r\npathInfo:/api/some/endpoint/customer\r\nheaders: \r\nAuthorization: Bearer &lt;somebearer&gt;\r\n\r\nSecurity filter chain: [\r\n  DisableEncodeUrlFilter\r\n  WebAsyncManagerIntegrationFilter\r\n  SecurityContextHolderFilter\r\n  HeaderWriterFilter\r\n  LogoutFilter\r\n  PreAuthFilter\r\n  RequestCacheAwareFilter\r\n  SecurityContextHolderAwareRequestFilter\r\n  AnonymousAuthenticationFilter\r\n  SessionManagementFilter\r\n  ExceptionTranslationFilter\r\n  AuthorizationFilter\r\n]\r\n\r\n\r\n************************************************************\r\n\r\n\r\n2023-10-05T13:42:43.489+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Or [Mvc [pattern=&#39;/secured/nonapi/endpoint/**&#39;], Mvc [pattern=&#39;/unsecured/nonapi/endpoint/**&#39;]], Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@118cbded, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4cc26df, org.springframework.security.web.context.SecurityContextHolderFilter@5aa6da2, org.springframework.security.web.header.HeaderWriterFilter@708dfe10, org.springframework.security.web.authentication.logout.LogoutFilter@194911c1, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@121ddca4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13908f9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@329b331f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7848321e, org.springframework.security.web.session.SessionManagementFilter@5c8b10b4, org.springframework.security.web.access.ExceptionTranslationFilter@625264ed, org.springframework.security.web.access.intercept.AuthorizationFilter@46c662f2]] (1/3)\r\n2023-10-05T13:42:43.491+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Or [Mvc [pattern=&#39;/health&#39;], Mvc [pattern=&#39;/prometheus&#39;]], Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2e159116, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d1f23a0, org.springframework.security.web.context.SecurityContextHolderFilter@280d5a82, org.springframework.security.web.header.HeaderWriterFilter@6cc8adff, org.springframework.security.web.authentication.logout.LogoutFilter@6efd0a6e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@28bd5015, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a34a51e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@333a44f2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2976ca51, org.springframework.security.web.session.SessionManagementFilter@6b2e9db2, org.springframework.security.web.access.ExceptionTranslationFilter@120411ec, org.springframework.security.web.access.intercept.AuthorizationFilter@30228de7]] (2/3)\r\n2023-10-05T13:42:43.492+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Or [Mvc [pattern=&#39;/api/**/*&#39;]], Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1d0b447b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4de158ca, org.springframework.security.web.context.SecurityContextHolderFilter@2f61de04, org.springframework.security.web.header.HeaderWriterFilter@3c3cd13a, org.springframework.security.web.authentication.logout.LogoutFilter@48d31d25, de.company.verification.components.PreAuthFilter@4f2fdf3d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f5a33ed, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b59c3d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d180961, org.springframework.security.web.session.SessionManagementFilter@56b751b1, org.springframework.security.web.access.ExceptionTranslationFilter@405603b6, org.springframework.security.web.access.intercept.AuthorizationFilter@6f65a203]] (3/3)\r\n2023-10-05T13:42:43.493+03:00 DEBUG 9595 --- [           main] o.s.security.web.FilterChainProxy        : Securing GET /api/some/endpoint/customer\r\n2023-10-05T13:42:43.495+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/12)\r\n2023-10-05T13:42:43.510+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/12)\r\n2023-10-05T13:42:43.512+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/12)\r\n2023-10-05T13:42:43.513+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/12)\r\n2023-10-05T13:42:43.514+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/12)\r\n2023-10-05T13:42:43.514+03:00 TRACE 9595 --- [           main] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern=&#39;/logout&#39;, GET], Ant [pattern=&#39;/logout&#39;, POST], Ant [pattern=&#39;/logout&#39;, PUT], Ant [pattern=&#39;/logout&#39;, DELETE]]\r\n2023-10-05T13:42:43.514+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking PreAuthFilter (6/12)\r\n2023-10-05T13:42:43.515+03:00 TRACE 9595 --- [           main] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\r\n2023-10-05T13:42:43.547+03:00 TRACE 9595 --- [           main] o.s.s.authentication.ProviderManager     : Authenticating request with PreAuthenticatedAuthenticationProvider (1/1)\r\n2023-10-05T13:42:43.548+03:00 DEBUG 9595 --- [           main] p.PreAuthenticatedAuthenticationProvider : PreAuthenticated authentication request: PreAuthenticatedAuthenticationToken [Principal=PreAuthPrincipal(certificate=null, jwToken=de.company.portal.security.jwt.validation.azd.AzdJWToken@7e84a52b, name=-::-::allowedJwtUser), Credentials=[PROTECTED], Authenticated=false, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[]]\r\n2023-10-05T13:42:43.548+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (7/12)\r\n2023-10-05T13:42:43.549+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (8/12)\r\n2023-10-05T13:42:43.550+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (9/12)\r\n2023-10-05T13:42:43.550+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (10/12)\r\n2023-10-05T13:42:43.551+03:00 TRACE 9595 --- [           main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\n2023-10-05T13:42:43.552+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (11/12)\r\n2023-10-05T13:42:43.553+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (12/12)\r\n2023-10-05T13:42:43.555+03:00 TRACE 9595 --- [           main] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@5773f83d]\r\n2023-10-05T13:42:43.556+03:00 TRACE 9595 --- [           main] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@5773f83d] using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7fcfe065\r\n2023-10-05T13:42:43.562+03:00 TRACE 9595 --- [           main] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied\r\n\r\norg.springframework.security.access.AccessDeniedException: Access Denied\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:150)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilterInternal(SecurityContextHolderFilter.java:69)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:278)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:170)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\r\n\tat org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)\r\n\tat org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:78)\r\n\tat org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:67)\r\n\tat org.springframework.security.test.web.servlet.setup.SecurityMockMvcConfigurer$DelegateFilter.doFilter(SecurityMockMvcConfigurer.java:132)\r\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\r\n\tat org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\r\n\tat de.project.verification.VerificationIntegrationTest.getForCustomer_Success_WhenUserIsCustomer(VerificationIntegrationTest.java:107)\r\n\r\n```","title":"Updating to Spring Security 6.0 - failing unit tests after the refactoring the source code - getting &quot;Access Denied&quot;","body":"<p>I'm trying to upgrade to Spring Boot 3.0.0 and Spring Security 6.0. The old version of a configuration file looks like this:</p>\n<pre><code>\nimport somecompany.verification.components.PreAuthFilter;\nimport somecompany.verification.environments.VerificationProperties;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.boot.autoconfigure.AutoConfiguration;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\n\nimport static org.springframework.security.config.http.SessionCreationPolicy.STATELESS;\n\n@Slf4j\n@RequiredArgsConstructor\n@Order(1)\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@AutoConfiguration(after = {VerificationProperties.class, VerificationConfig.class})\npublic class VerificationSecurityConfig {\n\n    private final PreAuthFilter preAuthFilter;\n    private final VerificationProperties verificationProperties;\n\n    @Bean\n    protected SecurityFilterChain verificationFilterChain(HttpSecurity http) throws Exception {\n        log.info(&quot;Configuring endpoints security access&quot;);\n\n        var pathExpressions = verificationProperties.getPathExpressions();\n\n        return http.requestMatchers().antMatchers(pathExpressions)\n                .and().authorizeRequests().antMatchers(pathExpressions).fullyAuthenticated()\n                .and().sessionManagement().sessionCreationPolicy(STATELESS)\n                .and().csrf().disable()\n                .addFilter(preAuthFilter)\n                .build();\n    }\n}\n</code></pre>\n<p>After moving to Spring boot 3.0.0 and respectively spring security 6.0.0. I refactored the method like this:</p>\n<pre><code>    @Bean\n    protected SecurityFilterChain verificationFilterChain(HttpSecurity http) throws Exception {\n        log.info(&quot;Configuring endpoints security access&quot;);\n\n        var pathExpressions = verificationProperties.getPathExpressions();\n\n        http.securityMatchers(request -&gt; {\n                    request.requestMatchers(pathExpressions);\n                })\n                .authorizeHttpRequests(request -&gt; {\n                    request.requestMatchers(pathExpressions).fullyAuthenticated();\n                });\n        http.sessionManagement(s -&gt; s.sessionCreationPolicy(STATELESS));\n        http.csrf(AbstractHttpConfigurer::disable);\n        http.addFilter(preAuthFilter);\n        return http.build();\n    }\n</code></pre>\n<p>Looking at this : <a href=\"https://stackoverflow.com/questions/74683225/updating-to-spring-security-6-0-replacing-removed-and-deprecated-functionality\">Updating to Spring Security 6.0 - replacing Removed and Deprecated functionality for securing requests</a></p>\n<p>and the links, provided there, I changed</p>\n<pre><code>@EnableGlobalMethodSecurity(prePostEnabled = true)\n</code></pre>\n<p>with</p>\n<pre><code>@EnableMethodSecurity\n</code></pre>\n<p>and added the following property in the test application.properties file:</p>\n<pre><code>  mvc:\n    pathmatch:\n      matching-strategy: ant_path_matcher\n</code></pre>\n<p>because this is the path expression &quot;/api/**/*&quot;.</p>\n<p>But since then, some of the unit tests are failing.\nHere is one unit test, which uses jwt token:</p>\n<pre><code>  @SneakyThrows\n    @Test\n    void getForCustomer_Forbidden_WhenUserIsNotCustomer() {\n        var token = createToken(AZN, ABS_KUNDENNUMMER, MFA.getAscValue(), CIM_UUID, INTERESSENT);\n\n        mvc.perform(get(&quot;/api/some/endpoint/customer&quot;)\n                        .with(x509(&quot;/testclient.crt&quot;))\n                        .header(AUTHORIZATION, &quot;Bearer &quot; + token))\n                .andExpect(status().isForbidden());\n    }\n</code></pre>\n<p>After debugging, I found, that the issue comes from the fact, that the method authenticate</p>\n<pre><code>public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n</code></pre>\n<p>of the class PreAuthenticatedAuthenticationProvider</p>\n<p>is called with no certificate</p>\n<pre><code>PreAuthenticatedAuthenticationToken [Principal=PreAuthPrincipal(certificate=null, jwToken=de.company.portal.security.jwt.validation.azd.AzdJWToken@6a4f7c17, name=-::-::allowedJwtUser), Credentials=[PROTECTED], Authenticated=false, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[]]\n</code></pre>\n<p>and I am wondering why....</p>\n<p>Here is the stack trace:</p>\n<pre><code>\nauthenticate:78, PreAuthenticatedAuthenticationProvider (org.springframework.security.web.authentication.preauth)\nauthenticate:182, ProviderManager (org.springframework.security.authentication)\ndoAuthenticate:200, AbstractPreAuthenticatedProcessingFilter (org.springframework.security.web.authentication.preauth)\ndoFilter:142, AbstractPreAuthenticatedProcessingFilter (org.springframework.security.web.authentication.preauth)\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:173, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\ndoFilter:107, LogoutFilter (org.springframework.security.web.authentication.logout)\ndoFilter:93, LogoutFilter (org.springframework.security.web.authentication.logout)\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:173, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\ndoHeadersAfter:90, HeaderWriterFilter (org.springframework.security.web.header)\ndoFilterInternal:75, HeaderWriterFilter (org.springframework.security.web.header)\ndoFilter:116, OncePerRequestFilter (org.springframework.web.filter)\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:173, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\ndoFilterInternal:69, SecurityContextHolderFilter (org.springframework.security.web.context)\ndoFilter:116, OncePerRequestFilter (org.springframework.web.filter)\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:173, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\ndoFilterInternal:62, WebAsyncManagerIntegrationFilter (org.springframework.security.web.context.request.async)\ndoFilter:116, OncePerRequestFilter (org.springframework.web.filter)\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:173, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\ndoFilterInternal:42, DisableEncodeUrlFilter (org.springframework.security.web.session)\ndoFilter:116, OncePerRequestFilter (org.springframework.web.filter)\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:-1, ObservationFilterChainDecorator$ObservationFilter$$Lambda$1456/0x00000001367d1a38 (org.springframework.security.web)\nlambda$wrap$0:278, ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation (org.springframework.security.web)\ndoFilter:-1, ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation$$Lambda$1457/0x00000001367d1c80 (org.springframework.security.web)\ndoFilter:170, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\ndoFilterInternal:233, FilterChainProxy (org.springframework.security.web)\ndoFilter:191, FilterChainProxy (org.springframework.security.web)\ndoFilter:132, SecurityMockMvcConfigurer$DelegateFilter (org.springframework.security.test.web.servlet.setup)\ndoFilter:132, MockFilterChain (org.springframework.mock.web)\nperform:201, MockMvc (org.springframework.test.web.servlet)\ngetForCustomer_Success_WhenUserIsCustomer:107, VerificationIntegrationTest (company.verification)\n</code></pre>\n<p>I checked and in the current version of the implementation the &quot;authenticate&quot; method of the PreAuthenticatedAuthenticationProvider is called with the argument Authentication containing the certificate.</p>\n<p>Any ideas why this happens and how to fix this?\nI add logs from the console, when I set\nlogging.level.org.springframework.security = TRACE</p>\n<pre><code>********************************************************************\n**********        Security debugging is enabled.       *************\n**********    This may include sensitive information.  *************\n**********      Do not use in a production system!     *************\n********************************************************************\n\n\n2023-10-05T13:42:42.712+03:00  INFO 9595 --- [           main] d.a.m.v.VerificationIntegrationTest      : Started VerificationIntegrationTest in 3.949 seconds (process running for 6.741)\n2023-10-05T13:42:43.406+03:00  INFO 9595 --- [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''\n2023-10-05T13:42:43.406+03:00  INFO 9595 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''\n2023-10-05T13:42:43.407+03:00  INFO 9595 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms\n2023-10-05T13:42:43.487+03:00  INFO 9595 --- [           main] Spring Security Debugger                 : \n\n************************************************************\n\nRequest received for GET '/api/some/endpoint/customer':\n\norg.springframework.mock.web.MockHttpServletRequest@5dd2ea0a\n\nservletPath:\npathInfo:/api/some/endpoint/customer\nheaders: \nAuthorization: Bearer &lt;somebearer&gt;\n\nSecurity filter chain: [\n  DisableEncodeUrlFilter\n  WebAsyncManagerIntegrationFilter\n  SecurityContextHolderFilter\n  HeaderWriterFilter\n  LogoutFilter\n  PreAuthFilter\n  RequestCacheAwareFilter\n  SecurityContextHolderAwareRequestFilter\n  AnonymousAuthenticationFilter\n  SessionManagementFilter\n  ExceptionTranslationFilter\n  AuthorizationFilter\n]\n\n\n************************************************************\n\n\n2023-10-05T13:42:43.489+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Or [Mvc [pattern='/secured/nonapi/endpoint/**'], Mvc [pattern='/unsecured/nonapi/endpoint/**']], Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@118cbded, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4cc26df, org.springframework.security.web.context.SecurityContextHolderFilter@5aa6da2, org.springframework.security.web.header.HeaderWriterFilter@708dfe10, org.springframework.security.web.authentication.logout.LogoutFilter@194911c1, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@121ddca4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13908f9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@329b331f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7848321e, org.springframework.security.web.session.SessionManagementFilter@5c8b10b4, org.springframework.security.web.access.ExceptionTranslationFilter@625264ed, org.springframework.security.web.access.intercept.AuthorizationFilter@46c662f2]] (1/3)\n2023-10-05T13:42:43.491+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Or [Mvc [pattern='/health'], Mvc [pattern='/prometheus']], Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2e159116, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d1f23a0, org.springframework.security.web.context.SecurityContextHolderFilter@280d5a82, org.springframework.security.web.header.HeaderWriterFilter@6cc8adff, org.springframework.security.web.authentication.logout.LogoutFilter@6efd0a6e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@28bd5015, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a34a51e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@333a44f2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2976ca51, org.springframework.security.web.session.SessionManagementFilter@6b2e9db2, org.springframework.security.web.access.ExceptionTranslationFilter@120411ec, org.springframework.security.web.access.intercept.AuthorizationFilter@30228de7]] (2/3)\n2023-10-05T13:42:43.492+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Or [Mvc [pattern='/api/**/*']], Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1d0b447b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4de158ca, org.springframework.security.web.context.SecurityContextHolderFilter@2f61de04, org.springframework.security.web.header.HeaderWriterFilter@3c3cd13a, org.springframework.security.web.authentication.logout.LogoutFilter@48d31d25, de.company.verification.components.PreAuthFilter@4f2fdf3d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f5a33ed, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b59c3d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d180961, org.springframework.security.web.session.SessionManagementFilter@56b751b1, org.springframework.security.web.access.ExceptionTranslationFilter@405603b6, org.springframework.security.web.access.intercept.AuthorizationFilter@6f65a203]] (3/3)\n2023-10-05T13:42:43.493+03:00 DEBUG 9595 --- [           main] o.s.security.web.FilterChainProxy        : Securing GET /api/some/endpoint/customer\n2023-10-05T13:42:43.495+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/12)\n2023-10-05T13:42:43.510+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/12)\n2023-10-05T13:42:43.512+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/12)\n2023-10-05T13:42:43.513+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/12)\n2023-10-05T13:42:43.514+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/12)\n2023-10-05T13:42:43.514+03:00 TRACE 9595 --- [           main] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]\n2023-10-05T13:42:43.514+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking PreAuthFilter (6/12)\n2023-10-05T13:42:43.515+03:00 TRACE 9595 --- [           main] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\n2023-10-05T13:42:43.547+03:00 TRACE 9595 --- [           main] o.s.s.authentication.ProviderManager     : Authenticating request with PreAuthenticatedAuthenticationProvider (1/1)\n2023-10-05T13:42:43.548+03:00 DEBUG 9595 --- [           main] p.PreAuthenticatedAuthenticationProvider : PreAuthenticated authentication request: PreAuthenticatedAuthenticationToken [Principal=PreAuthPrincipal(certificate=null, jwToken=de.company.portal.security.jwt.validation.azd.AzdJWToken@7e84a52b, name=-::-::allowedJwtUser), Credentials=[PROTECTED], Authenticated=false, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[]]\n2023-10-05T13:42:43.548+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (7/12)\n2023-10-05T13:42:43.549+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (8/12)\n2023-10-05T13:42:43.550+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (9/12)\n2023-10-05T13:42:43.550+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (10/12)\n2023-10-05T13:42:43.551+03:00 TRACE 9595 --- [           main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\n2023-10-05T13:42:43.552+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (11/12)\n2023-10-05T13:42:43.553+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (12/12)\n2023-10-05T13:42:43.555+03:00 TRACE 9595 --- [           main] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@5773f83d]\n2023-10-05T13:42:43.556+03:00 TRACE 9595 --- [           main] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@5773f83d] using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7fcfe065\n2023-10-05T13:42:43.562+03:00 TRACE 9595 --- [           main] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied\n\norg.springframework.security.access.AccessDeniedException: Access Denied\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:150)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilterInternal(SecurityContextHolderFilter.java:69)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:278)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:170)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n    at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)\n    at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:78)\n    at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:67)\n    at org.springframework.security.test.web.servlet.setup.SecurityMockMvcConfigurer$DelegateFilter.doFilter(SecurityMockMvcConfigurer.java:132)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n    at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\n    at de.project.verification.VerificationIntegrationTest.getForCustomer_Success_WhenUserIsCustomer(VerificationIntegrationTest.java:107)\n\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":1555458,"reputation":3321,"user_id":1446725,"accept_rate":30,"display_name":"Ivan Ursul"},"score":1,"creation_date":1442953669,"post_id":32726207,"comment_id":53294935,"body_markdown":"Possible solution could be here - http://stackoverflow.com/questions/13243037/issue-with-i-o-no-serializer-found-for-class-org-json-jsonobject-and-no-properti","body":"Possible solution could be here - <a href=\"http://stackoverflow.com/questions/13243037/issue-with-i-o-no-serializer-found-for-class-org-json-jsonobject-and-no-properti\" title=\"issue with i o no serializer found for class org json jsonobject and no properti\">stackoverflow.com/questions/13243037/&hellip;</a>"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1442953672,"post_id":32726207,"comment_id":53294938,"body_markdown":"Which libarary are you using? If you use the built in HTTP library you will get back an InputStream you can copy into a String.","body":"Which libarary are you using? If you use the built in HTTP library you will get back an InputStream you can copy into a String."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":4,"creation_date":1442953720,"post_id":32726207,"comment_id":53294958,"body_markdown":"Wow, that&#39;s an impressibly inefficient way to specify the type.","body":"Wow, that&#39;s an impressibly inefficient way to specify the type."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1442956294,"post_id":32726207,"comment_id":53296369,"body_markdown":"I dont see rest related thing here","body":"I dont see rest related thing here"},{"owner":{"account_id":2123477,"reputation":378,"user_id":1886240,"accept_rate":79,"display_name":"Ed_"},"score":0,"creation_date":1442957085,"post_id":32726207,"comment_id":53296718,"body_markdown":"Sorry, now it is as it should in the beggining (hope you dont mind the spanish in the code)","body":"Sorry, now it is as it should in the beggining (hope you dont mind the spanish in the code)"},{"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"score":1,"creation_date":1442958173,"post_id":32726207,"comment_id":53297234,"body_markdown":"In order to have Jackson deserialize a JSONObject you need to register the JSON.org Jackson Module (https://github.com/FasterXML/jackson-datatype-json-org). Code looks like this -\n\n      ObjectMapper mapper = new ObjectMapper();\n      mapper.registerModule(new JsonOrgModule());","body":"In order to have Jackson deserialize a JSONObject you need to register the JSON.org Jackson Module (<a href=\"https://github.com/FasterXML/jackson-datatype-json-org\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-datatype-json-org</a>). Code looks like this -        ObjectMapper mapper = new ObjectMapper();       mapper.registerModule(new JsonOrgModule());"},{"owner":{"account_id":16198723,"reputation":45,"user_id":11695641,"display_name":"Wade"},"score":0,"creation_date":1561467771,"post_id":32726207,"comment_id":100066999,"body_markdown":"https://stackoverflow.com/q/56754562/11695641 please help!!","body":"<a href=\"https://stackoverflow.com/q/56754562/11695641\">stackoverflow.com/q/56754562/11695641</a> please help!!"},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1561471012,"post_id":32726207,"comment_id":100069166,"body_markdown":"Have you tried @Produces(&quot;application/json&quot;) on your service method and returning a String. That should have the desired effect. If not, please try and check.","body":"Have you tried @Produces(&quot;application/json&quot;) on your service method and returning a String. That should have the desired effect. If not, please try and check."}],"answers":[{"tags":[],"owner":{"account_id":5841137,"reputation":1232,"user_id":4602706,"display_name":"Marco Vargas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461223823,"creation_date":1461187070,"answer_id":36755376,"question_id":32726207,"body_markdown":"I had a similar requirement, but what I did was just to serialized it from the Gson to the entity to handle it internally, and when print it or save it, just serializes it back to GSON, the logic is something like this (*by the way, I used Gson for both ways*):\r\n\r\n\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.GsonBuilder;\r\n    import com.data.repository;\r\n    import com.data.Entity;\r\n    \r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.PathParam;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.core.Response;\r\n    \r\n    @Path(&quot;/rest&quot;)\r\n    public class RestService {    \r\n        /*\r\n        ... Other calls\r\n        */\r\n        private String toJson(Object entity) {\r\n            Gson gson = new GsonBuilder()\r\n                    .setDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS zzz&quot;)\r\n                    .setPrettyPrinting()\r\n                    .create();\r\n            String result = gson.toJson(entity);\r\n            return result.replace(&quot;\\\\\\&quot;&quot;, &quot;&quot;);\r\n        }\r\n    \r\n        @GET\r\n        @Path(&quot;/{param1}/{param2}&quot;)\r\n        @Produces({&quot;application/xml&quot;, &quot;application/json&quot;, &quot;text/plain&quot;, &quot;text/html&quot;})\r\n        public Response getEntity(@PathParam(&quot;param1&quot;) String param1, \r\n                                  @PathParam(&quot;param2&quot;) String param2) {\r\n            Entity entity = repository.getEntity(param1, param2);\r\n            if (entity == null) {\r\n                return Response\r\n                        .status(Response.Status.NOT_FOUND)\r\n                        .entity(\r\n                        String.format(\r\n                        &quot;param1 %s does not have a valid record for param2 %s&quot;, \r\n                        param1, param2))\r\n                        .build();\r\n            }\r\n            return Response.ok(this.toJson(entity)).build();\r\n        }\r\n    }\r\n\r\n    \r\nAnd here the entity:\r\n\r\n    \r\n    import com.google.gson.Gson;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    import java.util.Date;\r\n    \r\n    public class Entity {\r\n    \r\n        @SerializedName(&quot;Field1&quot;)\r\n        private String field1;\r\n    \r\n        @SerializedName(&quot;Field2&quot;)\r\n        private int field2;\r\n    \r\n        @SerializedName(&quot;Field3&quot;)\r\n        private int field3;\r\n        \r\n        @SerializedName(&quot;Field4&quot;)\r\n        private Date field4;\r\n    \r\n        public Entity() {\r\n        }\r\n    \r\n        /*\r\n        ... \r\n        ... Gets and Sets\r\n        ...\r\n        */\r\n\r\n        @Override\r\n        public String toString() {\r\n            Gson gson = new Gson();\r\n            String json = gson.toJson(this, Entity.class);\r\n            return json;\r\n        }\r\n    }\r\n\r\nAnd the logic to get the json and translate it to the entity is as simple as this:\r\n\r\n    Gson gson = new Gson();\r\n    Entity repoSequence = gson.fromJson(jsonString, Entity.class);\r\n","title":"Java REST API return JSON from string","body":"<p>I had a similar requirement, but what I did was just to serialized it from the Gson to the entity to handle it internally, and when print it or save it, just serializes it back to GSON, the logic is something like this (<em>by the way, I used Gson for both ways</em>):</p>\n\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\nimport com.data.repository;\nimport com.data.Entity;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.PathParam;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.Response;\n\n@Path(\"/rest\")\npublic class RestService {    \n    /*\n    ... Other calls\n    */\n    private String toJson(Object entity) {\n        Gson gson = new GsonBuilder()\n                .setDateFormat(\"yyyy-MM-dd HH:mm:ss.SSS zzz\")\n                .setPrettyPrinting()\n                .create();\n        String result = gson.toJson(entity);\n        return result.replace(\"\\\\\\\"\", \"\");\n    }\n\n    @GET\n    @Path(\"/{param1}/{param2}\")\n    @Produces({\"application/xml\", \"application/json\", \"text/plain\", \"text/html\"})\n    public Response getEntity(@PathParam(\"param1\") String param1, \n                              @PathParam(\"param2\") String param2) {\n        Entity entity = repository.getEntity(param1, param2);\n        if (entity == null) {\n            return Response\n                    .status(Response.Status.NOT_FOUND)\n                    .entity(\n                    String.format(\n                    \"param1 %s does not have a valid record for param2 %s\", \n                    param1, param2))\n                    .build();\n        }\n        return Response.ok(this.toJson(entity)).build();\n    }\n}\n</code></pre>\n\n<p>And here the entity:</p>\n\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.annotations.SerializedName;\n\nimport java.util.Date;\n\npublic class Entity {\n\n    @SerializedName(\"Field1\")\n    private String field1;\n\n    @SerializedName(\"Field2\")\n    private int field2;\n\n    @SerializedName(\"Field3\")\n    private int field3;\n\n    @SerializedName(\"Field4\")\n    private Date field4;\n\n    public Entity() {\n    }\n\n    /*\n    ... \n    ... Gets and Sets\n    ...\n    */\n\n    @Override\n    public String toString() {\n        Gson gson = new Gson();\n        String json = gson.toJson(this, Entity.class);\n        return json;\n    }\n}\n</code></pre>\n\n<p>And the logic to get the json and translate it to the entity is as simple as this:</p>\n\n<pre><code>Gson gson = new Gson();\nEntity repoSequence = gson.fromJson(jsonString, Entity.class);\n</code></pre>\n"}],"owner":{"account_id":2123477,"reputation":378,"user_id":1886240,"accept_rate":79,"display_name":"Ed_"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17414,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697356980,"creation_date":1442953527,"question_id":32726207,"body_markdown":"I have a JSON stored in my database, I want to return that json as it is in a jax-rs get service, without using a POJO. Is there any way to do that? I tried just setting it in a String, but the result is escaped. I also tried returning a JSONObject, but I got &quot;org.codehaus.jackson.map.JsonMappingException: No serializer found for class org.json.JSONObject&quot;, so I guess I cant use that object type. Finally I used a JSONNode, and it returned my data like this:\r\n\r\n    {\r\n          &quot;nodeType&quot;: &quot;OBJECT&quot;,\r\n          &quot;int&quot;: false,\r\n          &quot;object&quot;: true,\r\n          &quot;valueNode&quot;: false,\r\n          &quot;missingNode&quot;: false,\r\n          &quot;containerNode&quot;: true,\r\n          &quot;pojo&quot;: false,\r\n          &quot;number&quot;: false,\r\n          &quot;integralNumber&quot;: false,\r\n          &quot;floatingPointNumber&quot;: false,\r\n          &quot;short&quot;: false,\r\n          &quot;long&quot;: false,\r\n          &quot;double&quot;: false,\r\n          &quot;bigDecimal&quot;: false,\r\n          &quot;bigInteger&quot;: false,\r\n          &quot;textual&quot;: false,\r\n          &quot;boolean&quot;: false,\r\n          &quot;binary&quot;: false,\r\n          &quot;null&quot;: false,\r\n          &quot;float&quot;: false,\r\n          &quot;array&quot;: false\r\n        }\r\n\r\nThe code.\r\n\r\n    @GET\r\n    @Path(&quot;/campanas&quot;)\r\n    public Response obtenerCampanas(@HeaderParam(&quot;Authorization&quot;) String sessionId) {\r\n        ResponseBase response = new ResponseBase();\r\n        int requestStatus = 200;\r\n        CampanaResponse campanaResponse = campanasFacade.obtenerCampanas();\r\n        response.setData(campanaResponse);\r\n        response.setRequestInfo(GlosaCodigoRequest.OPERACION_EXITOSA);\r\n        return Response.status(requestStatus).entity(response).build();\r\n    }\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlRootElement(name = &quot;Campanas&quot;)\r\n    public class CampanaResponse implements Serializable {\r\n        private static final long serialVersionUID = -7414170846816649055L;\r\n        @XmlElement(name = &quot;campanas&quot;, required = true)\r\n        private List&lt;Campana&gt; campanas;\r\n        @XmlElement(name = &quot;fecha&quot;, required = true)\r\n        private Date fecha;\r\n    \r\n        //getters.. setters\r\n    \r\n        public static class Campana {\r\n            private String idCampana;\r\n            private String nombre;\r\n            private String urlBanner;\r\n            private String global;\r\n            private String numeroCuenta;\r\n            private Date fechaDonaciones;\r\n            private Date fechaInicio;\r\n            private Date fechaFin;\r\n            private JSONObject config;\r\n    \r\n            //getters..setters\r\n         }\r\n    }\r\n\r\nIs there any way to do that? Thanks.\r\n\r\njax-rs, weblogic 12.1.3","title":"Java REST API return JSON from string","body":"<p>I have a JSON stored in my database, I want to return that json as it is in a jax-rs get service, without using a POJO. Is there any way to do that? I tried just setting it in a String, but the result is escaped. I also tried returning a JSONObject, but I got \"org.codehaus.jackson.map.JsonMappingException: No serializer found for class org.json.JSONObject\", so I guess I cant use that object type. Finally I used a JSONNode, and it returned my data like this:</p>\n\n<pre><code>{\n      \"nodeType\": \"OBJECT\",\n      \"int\": false,\n      \"object\": true,\n      \"valueNode\": false,\n      \"missingNode\": false,\n      \"containerNode\": true,\n      \"pojo\": false,\n      \"number\": false,\n      \"integralNumber\": false,\n      \"floatingPointNumber\": false,\n      \"short\": false,\n      \"long\": false,\n      \"double\": false,\n      \"bigDecimal\": false,\n      \"bigInteger\": false,\n      \"textual\": false,\n      \"boolean\": false,\n      \"binary\": false,\n      \"null\": false,\n      \"float\": false,\n      \"array\": false\n    }\n</code></pre>\n\n<p>The code.</p>\n\n<pre><code>@GET\n@Path(\"/campanas\")\npublic Response obtenerCampanas(@HeaderParam(\"Authorization\") String sessionId) {\n    ResponseBase response = new ResponseBase();\n    int requestStatus = 200;\n    CampanaResponse campanaResponse = campanasFacade.obtenerCampanas();\n    response.setData(campanaResponse);\n    response.setRequestInfo(GlosaCodigoRequest.OPERACION_EXITOSA);\n    return Response.status(requestStatus).entity(response).build();\n}\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = \"Campanas\")\npublic class CampanaResponse implements Serializable {\n    private static final long serialVersionUID = -7414170846816649055L;\n    @XmlElement(name = \"campanas\", required = true)\n    private List&lt;Campana&gt; campanas;\n    @XmlElement(name = \"fecha\", required = true)\n    private Date fecha;\n\n    //getters.. setters\n\n    public static class Campana {\n        private String idCampana;\n        private String nombre;\n        private String urlBanner;\n        private String global;\n        private String numeroCuenta;\n        private Date fechaDonaciones;\n        private Date fechaInicio;\n        private Date fechaFin;\n        private JSONObject config;\n\n        //getters..setters\n     }\n}\n</code></pre>\n\n<p>Is there any way to do that? Thanks.</p>\n\n<p>jax-rs, weblogic 12.1.3</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1697127914,"post_id":77282253,"comment_id":136243845,"body_markdown":"If you have a `List&lt;T&gt;`, then you can make a new `List&lt;T&gt;` via `new ArrayList&lt;&gt;(yourList);`. The generics are inferable for the list as well. If you want to modify or read from this generic list, you&#39;ll be interested in java [PECS](https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super) regarding `List&lt;? extends T&gt;` vs `List&lt;? super T&gt;`","body":"If you have a <code>List&lt;T&gt;</code>, then you can make a new <code>List&lt;T&gt;</code> via <code>new ArrayList&lt;&gt;(yourList);</code>. The generics are inferable for the list as well. If you want to modify or read from this generic list, you&#39;ll be interested in java <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">PECS</a> regarding <code>List&lt;? extends T&gt;</code> vs <code>List&lt;? super T&gt;</code>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1697128173,"post_id":77282253,"comment_id":136243888,"body_markdown":"... A good point (that your `List&lt;T&gt;` is not `java.util.List&lt;T&gt;`). For the sake of a custom `List`, see how `ArrayList` was implemented: it uses `Object[]`/`Object` under the hood, as generic types are erased at runtime anyhow. These `Object`s are &quot;unsafely&quot; casted upon retrieval/storage, leading to a CCE if you start playing dirty with the generics.","body":"... A good point (that your <code>List&lt;T&gt;</code> is not <code>java.util.List&lt;T&gt;</code>). For the sake of a custom <code>List</code>, see how <code>ArrayList</code> was implemented: it uses <code>Object[]</code>/<code>Object</code> under the hood, as generic types are erased at runtime anyhow. These <code>Object</code>s are &quot;unsafely&quot; casted upon retrieval/storage, leading to a CCE if you start playing dirty with the generics."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1697129136,"post_id":77282253,"comment_id":136244036,"body_markdown":"You cannot copy the T, but you can have two nodes with independent references to the same T that can be independently changed.","body":"You cannot copy the T, but you can have two nodes with independent references to the same T that can be independently changed."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1697132889,"post_id":77282253,"comment_id":136244748,"body_markdown":"Off-topic: By the way, what you call a &quot;container&quot; is referred to as a &quot;[Collection](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html)&quot; in Java.","body":"Off-topic: By the way, what you call a &quot;container&quot; is referred to as a &quot;<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html\" rel=\"nofollow noreferrer\">Collection</a>&quot; in Java."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1697132920,"post_id":77282253,"comment_id":136244758,"body_markdown":"In C++, the elements of the container themselves have copy constructors. In Java, to do a deep copy, you would either have to use `item.clone()` (but then the class would need to implement `Cloneable` properly to get a true deep copy), or the class would have to have some other method, perhaps `.copy()` that would make a copy, and the list would have to limit itself to types that implement an interface with that, i.e. `List&lt;T extends Copyable&gt;`.","body":"In C++, the elements of the container themselves have copy constructors. In Java, to do a deep copy, you would either have to use <code>item.clone()</code> (but then the class would need to implement <code>Cloneable</code> properly to get a true deep copy), or the class would have to have some other method, perhaps <code>.copy()</code> that would make a copy, and the list would have to limit itself to types that implement an interface with that, i.e. <code>List&lt;T extends Copyable&gt;</code>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1697133005,"post_id":77282253,"comment_id":136244778,"body_markdown":"But I think the better approach would be to restrict yourself to lists of immutable objects and then you don&#39;t have to worry about the distinction between shallow and deep copies. Of course, that&#39;s not always possible. But I would strive to define my data model to make it possible.","body":"But I think the better approach would be to restrict yourself to lists of immutable objects and then you don&#39;t have to worry about the distinction between shallow and deep copies. Of course, that&#39;s not always possible. But I would strive to define my data model to make it possible."}],"owner":{"account_id":29657726,"reputation":11,"user_id":22730100,"display_name":"Mhwwhu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697356444,"creation_date":1697127363,"question_id":77282253,"body_markdown":"When I&#39;m writing a generic collection like list, I met a problem. How can I make a copy constructor? \r\nIn cpp, I can use &#39;*&#39; to get the value of a pointer. So if item and new_item are pointers to generic type values, then simply use `*new_item = *item` to complete the copy. But in java, I can&#39;t copy generic variables so I can&#39;t make a copy constructor correctly.\r\n\r\n```\r\npublic List(List&lt;T&gt; l) {\r\n    this();\r\n    _size = l._size;\r\n    ListNode&lt;T&gt; l_node = l._head;\r\n    ListNode&lt;T&gt; node = _head;\r\n    while((l_node = l_node.next) != l._head) {\r\n        node.next = new ListNode&lt;T&gt;(l_node.item, _head, node);\r\n        node = node.next;\r\n    }\r\n}\r\n```\r\nThis is the constructor of ListNode:\r\n\r\n```\r\n//this is incorrect\r\npublic ListNode(T item, ListNode&lt;T&gt; next, ListNode&lt;T&gt; prev) {\r\n    this.item = item;\r\n    this.next = next;\r\n    this.prev = prev;\r\n}\r\n```\r\nWhen generating a new node, I actually pass the address of l_node.item. So if I change elements in this new list, the old list will be changed.\r\nIs there any way to generate a new node with the same value but different address?","title":"How can I copy generic collections in java?","body":"<p>When I'm writing a generic collection like list, I met a problem. How can I make a copy constructor?\nIn cpp, I can use '*' to get the value of a pointer. So if item and new_item are pointers to generic type values, then simply use <code>*new_item = *item</code> to complete the copy. But in java, I can't copy generic variables so I can't make a copy constructor correctly.</p>\n<pre><code>public List(List&lt;T&gt; l) {\n    this();\n    _size = l._size;\n    ListNode&lt;T&gt; l_node = l._head;\n    ListNode&lt;T&gt; node = _head;\n    while((l_node = l_node.next) != l._head) {\n        node.next = new ListNode&lt;T&gt;(l_node.item, _head, node);\n        node = node.next;\n    }\n}\n</code></pre>\n<p>This is the constructor of ListNode:</p>\n<pre><code>//this is incorrect\npublic ListNode(T item, ListNode&lt;T&gt; next, ListNode&lt;T&gt; prev) {\n    this.item = item;\n    this.next = next;\n    this.prev = prev;\n}\n</code></pre>\n<p>When generating a new node, I actually pass the address of l_node.item. So if I change elements in this new list, the old list will be changed.\nIs there any way to generate a new node with the same value but different address?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":2,"creation_date":1697354946,"post_id":77295341,"comment_id":136267546,"body_markdown":"What version of `Spring` do you use? If it is 6+ then you should jakarta.persistence.* package instead of javax.persistence.*","body":"What version of <code>Spring</code> do you use? If it is 6+ then you should jakarta.persistence.* package instead of javax.persistence.*"}],"answers":[{"tags":[],"owner":{"account_id":1798188,"reputation":103,"user_id":1637118,"display_name":"Timur Celikel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697355619,"creation_date":1697351158,"answer_id":77295520,"question_id":77295341,"body_markdown":"Looking at your annotations on your Spring Boot main class, it appears that many of these are unnecessary. Because the entity, repository, service classes all hang off of the same package structure as ShareSmilesApplication.java you really only need @SpringBootApplication like so:\r\n\r\n    @SpringBootApplication\r\n    public class ShareSmilesApplication {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(ShareSmilesApplication.class, args);\r\n        }\r\n    }\r\n\r\nYou didn&#39;t include your Controller code but I&#39;m wondering if it&#39;s possible your repository is getting wired first with @EnableJpaRepositories before your User Entity is getting wired with EntityScan. You could try changing the order in your annotations but I&#39;d first try with just @SpringBootApplication.\r\n\r\nEdit:\r\n\r\nI suspect the issue is with mixing the Javax Peristence dependency with the Spring Boot Starter Data JPA dependency that comes with jakarta.persistence. \r\n\r\nI ran your project locally and removed the Javax Persistence dependency and refactored the User entity to use jakarta.persistence and the entity got wired up correctly. &#160;\r\n","title":"Not a managed type: class com.sharesmiles.model.User","body":"<p>Looking at your annotations on your Spring Boot main class, it appears that many of these are unnecessary. Because the entity, repository, service classes all hang off of the same package structure as ShareSmilesApplication.java you really only need @SpringBootApplication like so:</p>\n<pre><code>@SpringBootApplication\npublic class ShareSmilesApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(ShareSmilesApplication.class, args);\n    }\n}\n</code></pre>\n<p>You didn't include your Controller code but I'm wondering if it's possible your repository is getting wired first with @EnableJpaRepositories before your User Entity is getting wired with EntityScan. You could try changing the order in your annotations but I'd first try with just @SpringBootApplication.</p>\n<p>Edit:</p>\n<p>I suspect the issue is with mixing the Javax Peristence dependency with the Spring Boot Starter Data JPA dependency that comes with jakarta.persistence.</p>\n<p>I ran your project locally and removed the Javax Persistence dependency and refactored the User entity to use jakarta.persistence and the entity got wired up correctly.  </p>\n"}],"owner":{"account_id":29674223,"reputation":21,"user_id":22742633,"display_name":"Yanting"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697355619,"creation_date":1697345601,"question_id":77295341,"body_markdown":"```\r\npackage com.sharesmiles.model;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\npublic class User {\r\n    @Id \r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\n    private Long userId;\r\n    private String username;\r\n    private String password;\r\n    private String email;\r\n```\r\n\r\n```\r\npackage com.sharesmiles;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\n@ComponentScan(basePackages = {“com.sharesmiles”})\r\n@EnableJpaRepositories(basePackages = {“com.sharesmiles.repository”})\r\n@EntityScan(”com.sharesmiles.model“)\r\npublic class ShareSmilesApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ShareSmilesApplication.class, args);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage com.sharesmiles.repository;\r\n\r\nimport java.util.Optional;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport com.sharesmiles.model.User;\r\n\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt;{\r\n    Optional&lt;User&gt; findByUsername(String username);\r\n    Optional&lt;User&gt; findByEmail(String email);\r\n}\r\n```\r\n\r\n\r\n```\r\npackage com.sharesmiles.service;\r\nimport com.sharesmiles.model.User;\r\nimport com.sharesmiles.repository.UserRepository;\r\n\r\nimport jakarta.persistence.EntityNotFoundException;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.redis.core.RedisTemplate;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.security.authentication.BadCredentialsException;\r\n\r\nimport java.time.Duration;\r\nimport java.util.Optional;\r\nimport java.util.regex.Pattern;\r\n\r\n@Service\r\npublic class UserService {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private RedisTemplate&lt;String, User&gt; userRedisTemplate;\r\n\r\n    private BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\r\n    \r\n    private boolean isValidPassword(String password) {\r\n        return (password.length() &gt;= 6);\r\n    }\r\n    // 用户注册方法。\r\n    public User userRegister(User user) {\r\n        // 1. 检查username的格式\r\n        if (!isValidName(user.getUsername()))\r\n            throw new IllegalArgumentException(&quot;Username is not valid&quot;);\r\n\r\n        // 2.检查email的格式\r\n        if (!isValidEmail(user.getEmail()))\r\n            throw new IllegalArgumentException(&quot;Email is not valid&quot;);\r\n        \r\n        // 3. 检查password的格式\r\n        if (!isValidPassword(user.getPassword()))\r\n            throw new IllegalArgumentException(&quot;Password is not valid&quot;);\r\n\r\n        // 4. 检查email是否已经被使用\r\n        Optional&lt;User&gt; existingUser = userRepository.findByEmail(user.getEmail());\r\n        if (existingUser.isPresent()) \r\n            // 非法状态异常，newEmail参数本身有效，但又有数据库状态，我们无法继续使用\r\n            throw new IllegalStateException(&quot;Email already in use&quot;);\r\n        \r\n        // 处理与注册相关的业务逻辑，例如密码哈希、验证输入等。\r\n        String hashedPassword = passwordEncoder.encode(user.getPassword());\r\n        user.setPassword(hashedPassword);\r\n\r\n        // 处理完上述逻辑后，将user保存用户信息到数据库\r\n        return userRepository.save(user);\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage com.sharesmiles.controller;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.PutMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.sharesmiles.dto.LoginRequest;\r\nimport com.sharesmiles.model.User;\r\nimport com.sharesmiles.service.UserService;\r\n\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/user&quot;)\r\npublic class UserController {\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    // 以POST方法发送到/api/users/register的HTTP请求\r\n    @PostMapping(&quot;/register&quot;)\r\n    public ResponseEntity&lt;User&gt; register(@RequestBody User user) {\r\n        User registeredUser = userService.userRegister(user);\r\n        return new ResponseEntity&lt;User&gt;(registeredUser, HttpStatus.CREATED);\r\n    }\r\n\r\n```\r\n\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt;\r\n            &lt;artifactId&gt;zookeeper&lt;/artifactId&gt;\r\n            &lt;version&gt;3.7.0&lt;/version&gt; \r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.26&lt;/version&gt; \r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.redisson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;redisson&lt;/artifactId&gt;\r\n            &lt;version&gt;3.16.4&lt;/version&gt; \r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\n\r\n\r\nwhen I run mvn spring-boot:run“ in terminal, it show me the error message like “org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userController&#39;: Unsatisfied dependency expressed through field &#39;userService&#39;: Error creating bean with name &#39;userService&#39;: Unsatisfied dependency expressed through field &#39;userRepository&#39;: Error creating bean with name &#39;userRepository&#39; defined in com.sharesmiles.repository.UserRepository defined in @EnableJpaRepositories declared on ShareSmilesApplication: Not a managed type: class com.sharesmiles.model.User\r\n\r\nwould you mind provide some help about this issue?","title":"Not a managed type: class com.sharesmiles.model.User","body":"<pre><code>package com.sharesmiles.model;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n@Entity\npublic class User {\n    @Id \n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n\n    private Long userId;\n    private String username;\n    private String password;\n    private String email;\n</code></pre>\n<pre><code>package com.sharesmiles;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\n@ComponentScan(basePackages = {“com.sharesmiles”})\n@EnableJpaRepositories(basePackages = {“com.sharesmiles.repository”})\n@EntityScan(”com.sharesmiles.model“)\npublic class ShareSmilesApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(ShareSmilesApplication.class, args);\n    }\n}\n\n</code></pre>\n<pre><code>package com.sharesmiles.repository;\n\nimport java.util.Optional;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport com.sharesmiles.model.User;\n\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt;{\n    Optional&lt;User&gt; findByUsername(String username);\n    Optional&lt;User&gt; findByEmail(String email);\n}\n</code></pre>\n<pre><code>package com.sharesmiles.service;\nimport com.sharesmiles.model.User;\nimport com.sharesmiles.repository.UserRepository;\n\nimport jakarta.persistence.EntityNotFoundException;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.redis.core.RedisTemplate;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.stereotype.Service;\nimport org.springframework.security.authentication.BadCredentialsException;\n\nimport java.time.Duration;\nimport java.util.Optional;\nimport java.util.regex.Pattern;\n\n@Service\npublic class UserService {\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    private RedisTemplate&lt;String, User&gt; userRedisTemplate;\n\n    private BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\n    \n    private boolean isValidPassword(String password) {\n        return (password.length() &gt;= 6);\n    }\n    // 用户注册方法。\n    public User userRegister(User user) {\n        // 1. 检查username的格式\n        if (!isValidName(user.getUsername()))\n            throw new IllegalArgumentException(&quot;Username is not valid&quot;);\n\n        // 2.检查email的格式\n        if (!isValidEmail(user.getEmail()))\n            throw new IllegalArgumentException(&quot;Email is not valid&quot;);\n        \n        // 3. 检查password的格式\n        if (!isValidPassword(user.getPassword()))\n            throw new IllegalArgumentException(&quot;Password is not valid&quot;);\n\n        // 4. 检查email是否已经被使用\n        Optional&lt;User&gt; existingUser = userRepository.findByEmail(user.getEmail());\n        if (existingUser.isPresent()) \n            // 非法状态异常，newEmail参数本身有效，但又有数据库状态，我们无法继续使用\n            throw new IllegalStateException(&quot;Email already in use&quot;);\n        \n        // 处理与注册相关的业务逻辑，例如密码哈希、验证输入等。\n        String hashedPassword = passwordEncoder.encode(user.getPassword());\n        user.setPassword(hashedPassword);\n\n        // 处理完上述逻辑后，将user保存用户信息到数据库\n        return userRepository.save(user);\n    }\n}\n</code></pre>\n<pre><code>package com.sharesmiles.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.sharesmiles.dto.LoginRequest;\nimport com.sharesmiles.model.User;\nimport com.sharesmiles.service.UserService;\n\n\n@RestController\n@RequestMapping(&quot;/api/user&quot;)\npublic class UserController {\n    @Autowired\n    private UserService userService;\n\n    // 以POST方法发送到/api/users/register的HTTP请求\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;User&gt; register(@RequestBody User user) {\n        User registeredUser = userService.userRegister(user);\n        return new ResponseEntity&lt;User&gt;(registeredUser, HttpStatus.CREATED);\n    }\n\n</code></pre>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt;\n            &lt;artifactId&gt;zookeeper&lt;/artifactId&gt;\n            &lt;version&gt;3.7.0&lt;/version&gt; \n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.26&lt;/version&gt; \n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.redisson&lt;/groupId&gt;\n            &lt;artifactId&gt;redisson&lt;/artifactId&gt;\n            &lt;version&gt;3.16.4&lt;/version&gt; \n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n</code></pre>\n<p>when I run mvn spring-boot:run“ in terminal, it show me the error message like “org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userController': Unsatisfied dependency expressed through field 'userService': Error creating bean with name 'userService': Unsatisfied dependency expressed through field 'userRepository': Error creating bean with name 'userRepository' defined in com.sharesmiles.repository.UserRepository defined in @EnableJpaRepositories declared on ShareSmilesApplication: Not a managed type: class com.sharesmiles.model.User</p>\n<p>would you mind provide some help about this issue?</p>\n"},{"tags":["java","spring","hibernate","spring-data"],"comments":[{"owner":{"account_id":6937666,"reputation":949,"user_id":5325086,"accept_rate":75,"display_name":"lenach87"},"score":0,"creation_date":1462825157,"post_id":37124425,"comment_id":61790287,"body_markdown":"You can use already available repository interfaces of Spring Data - for example JpaRepository. Try creating a specific interface for your Table class - something like &quot;TableRepository extends JpaRepository&lt;Table, Long&gt;&quot; and annotate it with @Repository annotation.","body":"You can use already available repository interfaces of Spring Data - for example JpaRepository. Try creating a specific interface for your Table class - something like &quot;TableRepository extends JpaRepository&lt;Table, Long&gt;&quot; and annotate it with @Repository annotation."},{"owner":{"account_id":11729259,"reputation":392,"user_id":8618438,"display_name":"chill appreciator"},"score":1,"creation_date":1645437926,"post_id":37124425,"comment_id":125862803,"body_markdown":"If you get this error trying to implement repository hierarchy, put `@NoRepositoryBean` annotation on your custom parent repository interface.","body":"If you get this error trying to implement repository hierarchy, put <code>@NoRepositoryBean</code> annotation on your custom parent repository interface."}],"answers":[{"tags":[],"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1462826134,"creation_date":1462825812,"answer_id":37124905,"question_id":37124425,"body_markdown":"That&#39;s not possible the way you are trying. Since `T` needs to be an [`Entity`][1], you need to type-restrict it. One option would be to make one repository per concrete Entity, but here you have a more generic way of implementing it:\r\n\r\nUse a BaseClass for your entities:\r\n\r\n    @Entity\r\n    public abstract class BaseClass&lt;IdType extends Serializable&gt;{\r\n    \t\r\n    \tprivate IdType id;\r\n    \t\r\n    \t//Getter and setters\r\n    \t\r\n    }\r\n\r\nDefine a [`@Repository`][2] for your base class:\r\n\r\n\t@Repository\r\n\tpublic interface Dao&lt;T extends BaseClass, IdType extends Serializable&gt; extends\r\n\t\t\tCrudRepository&lt;T, IdType&gt; {\r\n\r\n\t}\r\n\r\nYou can define the shared entity operations in this interface and inherit from them for more concrete ones in the cases demanding it.\r\n\r\n**See also:**\r\n\r\n - https://stackoverflow.com/questions/27545276/how-to-implement-a-spring-data-repository-for-a-mappedsuperclass\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/persistence/Entity.html\r\n  [2]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/stereotype/Repository.html","title":"Spring Data: Not an managed type: class java.lang.Object","body":"<p>That's not possible the way you are trying. Since <code>T</code> needs to be an <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/Entity.html\" rel=\"noreferrer\"><code>Entity</code></a>, you need to type-restrict it. One option would be to make one repository per concrete Entity, but here you have a more generic way of implementing it:</p>\n\n<p>Use a BaseClass for your entities:</p>\n\n<pre><code>@Entity\npublic abstract class BaseClass&lt;IdType extends Serializable&gt;{\n\n    private IdType id;\n\n    //Getter and setters\n\n}\n</code></pre>\n\n<p>Define a <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/stereotype/Repository.html\" rel=\"noreferrer\"><code>@Repository</code></a> for your base class:</p>\n\n<pre><code>@Repository\npublic interface Dao&lt;T extends BaseClass, IdType extends Serializable&gt; extends\n        CrudRepository&lt;T, IdType&gt; {\n\n}\n</code></pre>\n\n<p>You can define the shared entity operations in this interface and inherit from them for more concrete ones in the cases demanding it.</p>\n\n<p><strong>See also:</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/27545276/how-to-implement-a-spring-data-repository-for-a-mappedsuperclass\">How to implement a Spring Data repository for a @MappedSuperclass</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5537973,"reputation":73,"user_id":4395614,"accept_rate":75,"display_name":"sebastian89n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697355337,"creation_date":1697355337,"answer_id":77295678,"question_id":37124425,"body_markdown":"It&#39;s an old post, but I encoutered the same problem so let me share the current solution.\r\n\r\nThere&#39;s a new annotation @NoRepositoryBean to handle this case. It can be added on interfaces that extends Repository, but it instructs context not to initialize it as actual Spring Data JPA Repository.\r\n\r\nhttps://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/NoRepositoryBean.html\r\n\r\nYou just need to annotate your custom repository with this annotation and later extend it for actual JPA repositories.","title":"Spring Data: Not an managed type: class java.lang.Object","body":"<p>It's an old post, but I encoutered the same problem so let me share the current solution.</p>\n<p>There's a new annotation @NoRepositoryBean to handle this case. It can be added on interfaces that extends Repository, but it instructs context not to initialize it as actual Spring Data JPA Repository.</p>\n<p><a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/NoRepositoryBean.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/NoRepositoryBean.html</a></p>\n<p>You just need to annotate your custom repository with this annotation and later extend it for actual JPA repositories.</p>\n"}],"owner":{"account_id":236909,"reputation":8312,"user_id":504717,"accept_rate":56,"display_name":"Em Ae"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27262,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":37124905,"answer_count":2,"score":12,"last_activity_date":1697355337,"creation_date":1462823940,"question_id":37124425,"body_markdown":"I am trying to expose my db tables via spring boot by following different spring tutorials and I am running into following exception (I will post exception at the end). \r\n\r\nHere are the classes that I am using\r\n\r\n    package com.xxx.xxx.db;\r\n    \r\n    import org.springframework.data.repository.Repository;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    public interface BaseRepository&lt;T, ID extends Serializable&gt; extends Repository&lt;T, ID&gt;{\r\n      T findOne(ID id);\r\n      T save(T entity);\r\n    }\r\n\r\nAnd here is my specific service class\r\n\r\n    package com.xxx.xxx.tablename;\r\n    \r\n    import com.xxx.xxx.db.BaseRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class TableNameService {\r\n    \r\n      @Autowired\r\n      private BaseRepository&lt;TableName, Long&gt; repository;\r\n    \r\n      public TableName findById(Long id){\r\n        return repository.findOne(id);\r\n      }\r\n    }\r\n\r\nand here is my entity\r\n\r\n    package com.xxx.xxx.tablename;\r\n    \r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    import javax.validation.constraints.NotNull;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name=&quot;table_name&quot;)\r\n    public class TableName {\r\n    \r\n      @Id\r\n      private long id;\r\n    \r\n      @NotNull\r\n      private String name;\r\n    \r\n      public TableName() {\r\n      }\r\n    \r\n      public TableName(long id){\r\n        this.id = id;\r\n      }\r\n    \r\n      public TableName(String name){\r\n        this.name = name;\r\n      }\r\n    \r\n      public TableName(long id, String name){\r\n        this.id = id;\r\n        this.name = name;\r\n      }\r\n    }\r\n\r\nMy spring configurations are being done by `application.yml` file. The file currently have only `database` connection informaiton and nothing more than that\r\n\r\nI also have a class named `BeansConfig` which is annotated by `@Configuration`. But this class is being used to validate if db properties which are being provided by `application.yml` are valid. \r\n\r\nAnd now here is the exception\r\n\r\n\r\n    springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;TableNameService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.xxx.xxx.db.BaseRepository com.xxx.xxx.tablename.TableNameService.repository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;baseRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not an managed type: class java.lang.Object\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:118)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:766)\r\n    \tat org.springframework.boot.SpringApplication.createAndRefreshContext(SpringApplication.java:361)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1191)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1180)\r\n    \tat com.xxx.xxx.Application.main(Application.java:12)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.xxx.xxx.db.BaseRepository com.xxx.xxx.tablename.TableNameService.repository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;baseRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not an managed type: class java.lang.Object\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:573)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\r\n    \t... 17 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;baseRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not an managed type: class java.lang.Object\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1199)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545)\r\n    \t... 19 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: Not an managed type: class java.lang.Object\r\n    \tat org.hibernate.jpa.internal.metamodel.MetamodelImpl.managedType(MetamodelImpl.java:219)\r\n    \tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:68)\r\n    \tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:67)\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:152)\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:99)\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:185)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.initAndReturn(RepositoryFactoryBeanSupport.java:251)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:237)\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:92)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)\r\n    \t... 29 common frames omitted\r\n\r\n","title":"Spring Data: Not an managed type: class java.lang.Object","body":"<p>I am trying to expose my db tables via spring boot by following different spring tutorials and I am running into following exception (I will post exception at the end). </p>\n\n<p>Here are the classes that I am using</p>\n\n<pre><code>package com.xxx.xxx.db;\n\nimport org.springframework.data.repository.Repository;\n\nimport java.io.Serializable;\n\npublic interface BaseRepository&lt;T, ID extends Serializable&gt; extends Repository&lt;T, ID&gt;{\n  T findOne(ID id);\n  T save(T entity);\n}\n</code></pre>\n\n<p>And here is my specific service class</p>\n\n<pre><code>package com.xxx.xxx.tablename;\n\nimport com.xxx.xxx.db.BaseRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class TableNameService {\n\n  @Autowired\n  private BaseRepository&lt;TableName, Long&gt; repository;\n\n  public TableName findById(Long id){\n    return repository.findOne(id);\n  }\n}\n</code></pre>\n\n<p>and here is my entity</p>\n\n<pre><code>package com.xxx.xxx.tablename;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport javax.validation.constraints.NotNull;\n\n@Getter\n@Setter\n@Entity\n@Table(name=\"table_name\")\npublic class TableName {\n\n  @Id\n  private long id;\n\n  @NotNull\n  private String name;\n\n  public TableName() {\n  }\n\n  public TableName(long id){\n    this.id = id;\n  }\n\n  public TableName(String name){\n    this.name = name;\n  }\n\n  public TableName(long id, String name){\n    this.id = id;\n    this.name = name;\n  }\n}\n</code></pre>\n\n<p>My spring configurations are being done by <code>application.yml</code> file. The file currently have only <code>database</code> connection informaiton and nothing more than that</p>\n\n<p>I also have a class named <code>BeansConfig</code> which is annotated by <code>@Configuration</code>. But this class is being used to validate if db properties which are being provided by <code>application.yml</code> are valid. </p>\n\n<p>And now here is the exception</p>\n\n<pre><code>springframework.beans.factory.BeanCreationException: Error creating bean with name 'TableNameService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.xxx.xxx.db.BaseRepository com.xxx.xxx.tablename.TableNameService.repository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'baseRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not an managed type: class java.lang.Object\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:118)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:766)\n    at org.springframework.boot.SpringApplication.createAndRefreshContext(SpringApplication.java:361)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1191)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1180)\n    at com.xxx.xxx.Application.main(Application.java:12)\nCaused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.xxx.xxx.db.BaseRepository com.xxx.xxx.tablename.TableNameService.repository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'baseRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not an managed type: class java.lang.Object\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:573)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\n    ... 17 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'baseRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not an managed type: class java.lang.Object\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1199)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545)\n    ... 19 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Not an managed type: class java.lang.Object\n    at org.hibernate.jpa.internal.metamodel.MetamodelImpl.managedType(MetamodelImpl.java:219)\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:68)\n    at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:67)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:152)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:99)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:185)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.initAndReturn(RepositoryFactoryBeanSupport.java:251)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:237)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:92)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)\n    ... 29 common frames omitted\n</code></pre>\n"},{"tags":["c#","java","c","ternary-operator"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1232486559,"post_id":463155,"comment_id":281674,"body_markdown":"should &quot;Java&quot;, &quot;C&quot; and a lot of other language be added as well? Since they all support the ternary operator pretty much the same way.","body":"should &quot;Java&quot;, &quot;C&quot; and a lot of other language be added as well? Since they all support the ternary operator pretty much the same way."},{"owner":{"account_id":15935,"reputation":346512,"user_id":34211,"accept_rate":83,"display_name":"Andrew Hare"},"score":0,"creation_date":1232486768,"post_id":463155,"comment_id":281689,"body_markdown":"Not to be too picky but &quot;(condition) ? :&quot; is a conditional expression in the form of a ternary operator.  It is in the form of a ternary operator because it takes 3 arguments.","body":"Not to be too picky but &quot;(condition) ? :&quot; is a conditional expression in the form of a ternary operator.  It is in the form of a ternary operator because it takes 3 arguments."},{"owner":{"account_id":16125,"reputation":64077,"user_id":34824,"accept_rate":80,"display_name":"abelenky"},"score":0,"creation_date":1232487007,"post_id":463155,"comment_id":281704,"body_markdown":"This is valid use of the ternary operator, but a less-than-stellar-example, because the conditional-expression itself is boolean.  Testing it to resolve to true/false is kinda redundant.  This would be best written as:  Boolean isValueBig = (value &gt; 100);","body":"This is valid use of the ternary operator, but a less-than-stellar-example, because the conditional-expression itself is boolean.  Testing it to resolve to true/false is kinda redundant.  This would be best written as:  Boolean isValueBig = (value &gt; 100);"},{"owner":{"account_id":17179,"reputation":114983,"user_id":38206,"accept_rate":80,"display_name":"Brian Rasmussen"},"score":0,"creation_date":1232487375,"post_id":463155,"comment_id":281740,"body_markdown":"That is a bad example of as it could more easily have been written as IsValueBig = value &gt; 100; No need to assign bools based on an evaluation of a bool.","body":"That is a bad example of as it could more easily have been written as IsValueBig = value &gt; 100; No need to assign bools based on an evaluation of a bool."},{"owner":{"account_id":15392,"reputation":37928,"user_id":32465,"accept_rate":83,"display_name":"Samuel"},"score":0,"creation_date":1232487565,"post_id":463155,"comment_id":281752,"body_markdown":"A better example would be int biggerValue = value &gt; 100 ? value : 100 or string humanDiff = value &gt; 100 ? &quot;bigger than 100&quot; : &quot;less than 100&quot;","body":"A better example would be int biggerValue = value &gt; 100 ? value : 100 or string humanDiff = value &gt; 100 ? &quot;bigger than 100&quot; : &quot;less than 100&quot;"},{"owner":{"account_id":1910,"reputation":91828,"user_id":2635,"accept_rate":65,"display_name":"mmcdole"},"score":1,"creation_date":1232488309,"post_id":463155,"comment_id":281806,"body_markdown":"Duplicate of: http://stackoverflow.com/questions/392932/how-do-i-use-the-ternary-operator.","body":"Duplicate of: <a href=\"http://stackoverflow.com/questions/392932/how-do-i-use-the-ternary-operator\" title=\"how do i use the ternary operator\">stackoverflow.com/questions/392932/&hellip;</a>."},{"owner":{"account_id":1345,"reputation":20408,"user_id":1796,"accept_rate":92,"display_name":"Andrei R&#238;nea"},"score":0,"creation_date":1232489201,"post_id":463155,"comment_id":281866,"body_markdown":"I don&#39;t mean to be annoying (there&#39;s another word for that too) but wasn&#39;t there a rule that stated that you should try and document yourself BEFORE posting a question on Stackoverflow?!","body":"I don&#39;t mean to be annoying (there&#39;s another word for that too) but wasn&#39;t there a rule that stated that you should try and document yourself BEFORE posting a question on Stackoverflow?!"},{"owner":{"account_id":22560,"reputation":56311,"user_id":55774,"accept_rate":62,"display_name":"Frederik Gheysels"},"score":0,"creation_date":1232566433,"post_id":463155,"comment_id":284752,"body_markdown":"I don&#39;t want to be annoying as well, but I believe that you could have gotten the answer to that question much quicker if you just looked in the help or msdn for the ternary operator.","body":"I don&#39;t want to be annoying as well, but I believe that you could have gotten the answer to that question much quicker if you just looked in the help or msdn for the ternary operator."},{"owner":{"account_id":7727,"reputation":7891,"user_id":13491,"accept_rate":100,"display_name":"WolfmanDragon"},"score":0,"creation_date":1232569853,"post_id":463155,"comment_id":284925,"body_markdown":"I remember what my Java instructor told us. &quot;Here is how you use a ternary operator .......... Now that you know what it is, don&#39;t EVER use it!&quot; Sugar rots the best code.","body":"I remember what my Java instructor told us. &quot;Here is how you use a ternary operator .......... Now that you know what it is, don&#39;t EVER use it!&quot; Sugar rots the best code."},{"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"score":0,"creation_date":1232654356,"post_id":463155,"comment_id":288114,"body_markdown":"I can&#39;t imagine NOT using it.  It&#39;s simple to read once you get used to it.  Nice and short, more code stays on screen.  Can insert where needed much easier.  One of the best features of the C language family!","body":"I can&#39;t imagine NOT using it.  It&#39;s simple to read once you get used to it.  Nice and short, more code stays on screen.  Can insert where needed much easier.  One of the best features of the C language family!"},{"owner":{"account_id":4848,"reputation":6831,"user_id":7495,"accept_rate":100,"display_name":"John Kraft"},"score":0,"creation_date":1237218048,"post_id":463155,"comment_id":464273,"body_markdown":"People who say not to use it do not understand it.  These are, generally, the people that use it for flow control: (Condition) ? DoThis() : DoThat();","body":"People who say not to use it do not understand it.  These are, generally, the people that use it for flow control: (Condition) ? DoThis() : DoThat();"}],"answers":[{"tags":[],"owner":{"account_id":22243,"reputation":265881,"user_id":54680,"accept_rate":98,"display_name":"Sampson"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1232487391,"creation_date":1232486387,"answer_id":463160,"question_id":463155,"body_markdown":"**PHP Example**\r\n\r\n    &lt;?php\r\n    \r\n      // Example usage for: Ternary Operator\r\n      $action = (empty($_POST[&#39;action&#39;])) ? &#39;default&#39; : $_POST[&#39;action&#39;];\r\n    \r\n      // The above is identical to this if/else statement\r\n      if (empty($_POST[&#39;action&#39;])) {\r\n        $action = &#39;default&#39;;\r\n      } else {\r\n        $action = $_POST[&#39;action&#39;];\r\n      }\r\n    \r\n    ?&gt;\r\n\r\n&gt; &quot;The expression *(expr1) ? (expr2) : (expr3)* evaluates to *expr2* if *expr1* evaluates to **TRUE**, and *expr3* if *expr1* evaluates to **FALSE**.&quot;\r\n\r\n[PHP Documentation on Comparison Operators][1]\r\n\r\n\r\n  [1]: http://us.php.net/manual/da/language.operators.comparison.php","title":"How does the ternary operator work?","body":"<p><strong>PHP Example</strong></p>\n\n<pre><code>&lt;?php\n\n  // Example usage for: Ternary Operator\n  $action = (empty($_POST['action'])) ? 'default' : $_POST['action'];\n\n  // The above is identical to this if/else statement\n  if (empty($_POST['action'])) {\n    $action = 'default';\n  } else {\n    $action = $_POST['action'];\n  }\n\n?&gt;\n</code></pre>\n\n<blockquote>\n  <p>\"The expression <em>(expr1) ? (expr2) : (expr3)</em> evaluates to <em>expr2</em> if <em>expr1</em> evaluates to <strong>TRUE</strong>, and <em>expr3</em> if <em>expr1</em> evaluates to <strong>FALSE</strong>.\"</p>\n</blockquote>\n\n<p><a href=\"http://us.php.net/manual/da/language.operators.comparison.php\" rel=\"nofollow noreferrer\">PHP Documentation on Comparison Operators</a></p>\n"},{"tags":[],"owner":{"account_id":8615,"reputation":56564,"user_id":15614,"display_name":"Kent Fredric"},"down_vote_count":3,"up_vote_count":33,"is_accepted":true,"score":30,"last_activity_date":1683727707,"creation_date":1232486390,"answer_id":463161,"question_id":463155,"body_markdown":"    Boolean isValueBig = ( value &gt; 100  ) ? true : false;\r\n    \r\n    // above line is same as:\r\n\r\n    Boolean isValueBig;\r\n\r\n    if(  value &gt; 100 ) { \r\n          isValueBig = true;\r\n    } else { \r\n         isValueBig = false;\r\n    }","title":"How does the ternary operator work?","body":"<pre><code>Boolean isValueBig = ( value &gt; 100  ) ? true : false;\n\n// above line is same as:\n\nBoolean isValueBig;\n\nif(  value &gt; 100 ) { \n      isValueBig = true;\n} else { \n     isValueBig = false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22234,"reputation":4398,"user_id":54650,"accept_rate":100,"display_name":"user54650"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1232486396,"creation_date":1232486396,"answer_id":463162,"question_id":463155,"body_markdown":"    Boolean isValueBig;\r\n    \r\n    if(value &gt; 100) { isValueBig = true; } else { isValueBig = false; }","title":"How does the ternary operator work?","body":"<pre><code>Boolean isValueBig;\n\nif(value &gt; 100) { isValueBig = true; } else { isValueBig = false; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20503,"reputation":15775,"user_id":49048,"accept_rate":88,"display_name":"empi"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1232486453,"creation_date":1232486453,"answer_id":463163,"question_id":463155,"body_markdown":"    Boolean isValueBig;\r\n    \r\n    if (value &gt; 100)\r\n    {\r\n       isValueBig = true;\r\n    }\r\n    else \r\n    {\r\n       isValueBig = false;\r\n    }\r\n","title":"How does the ternary operator work?","body":"<pre><code>Boolean isValueBig;\n\nif (value &gt; 100)\n{\n   isValueBig = true;\n}\nelse \n{\n   isValueBig = false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1475,"reputation":533744,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1232486487,"creation_date":1232486487,"answer_id":463167,"question_id":463155,"body_markdown":"When I was new to C++, I found that it helped to read this construct as follows:\r\n\r\n    Boolean isValueBig = if condition ? then x else: y;\r\n\r\n(Notice that this isn&#39;t valid code. It&#39;s just what I trained myself to read in my head.)","title":"How does the ternary operator work?","body":"<p>When I was new to C++, I found that it helped to read this construct as follows:</p>\n\n<pre><code>Boolean isValueBig = if condition ? then x else: y;\n</code></pre>\n\n<p>(Notice that this isn't valid code. It's just what I trained myself to read in my head.)</p>\n"},{"tags":[],"owner":{"account_id":15487,"reputation":9745,"user_id":32771,"accept_rate":78,"display_name":"Dan Monego"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1232486744,"creation_date":1232486744,"answer_id":463182,"question_id":463155,"body_markdown":"The difference between the ternary operation and if/else is that the ternary expression is a statement that evaluates to a value, while if/else is not.\r\n\r\nTo use your example, changing from the use of a ternary expression to if/else you could use this statement:\r\n\r\n    Boolean isValueBig = null;\r\n    if(value &gt; 100)\r\n    { \r\n        isValueBig = true \r\n    }\r\n    else\r\n    {\r\n        isValueBig = false;\r\n    }\r\n\r\nIn this case, though, your statement is equivalent to this:\r\n\r\n    Boolean isValueBig = (value &gt; 100);","title":"How does the ternary operator work?","body":"<p>The difference between the ternary operation and if/else is that the ternary expression is a statement that evaluates to a value, while if/else is not.</p>\n\n<p>To use your example, changing from the use of a ternary expression to if/else you could use this statement:</p>\n\n<pre><code>Boolean isValueBig = null;\nif(value &gt; 100)\n{ \n    isValueBig = true \n}\nelse\n{\n    isValueBig = false;\n}\n</code></pre>\n\n<p>In this case, though, your statement is equivalent to this:</p>\n\n<pre><code>Boolean isValueBig = (value &gt; 100);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1530,"reputation":4343,"user_id":2047,"accept_rate":88,"display_name":"Craig"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1232487004,"creation_date":1232487004,"answer_id":463203,"question_id":463155,"body_markdown":"As quoted from the &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/ty67wk28(VS.80).aspx&quot;&gt;?: Operator MSDN page&lt;/a&gt;, &quot;the conditional operator (?:) returns one of two values depending on the value of a Boolean expression.&quot;\r\n\r\nSo you can use the ternary operator to return more than just booleans:\r\n\r\n       string result = (value &gt; 100 ) ? &quot;value is big&quot; : &quot;value is small&quot;;","title":"How does the ternary operator work?","body":"<p>As quoted from the <a href=\"http://msdn.microsoft.com/en-us/library/ty67wk28(VS.80).aspx\" rel=\"nofollow noreferrer\">?: Operator MSDN page</a>, \"the conditional operator (?:) returns one of two values depending on the value of a Boolean expression.\"</p>\n\n<p>So you can use the ternary operator to return more than just booleans:</p>\n\n<pre><code>   string result = (value &gt; 100 ) ? \"value is big\" : \"value is small\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13367,"reputation":3609,"user_id":26805,"accept_rate":75,"display_name":"billb"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1232487638,"creation_date":1232487638,"answer_id":463247,"question_id":463155,"body_markdown":"I was never a fan of the ternary operator because I thought it was hard to read.  As it so happens, Jon Skeet and his book, *C# in Depth* finally hit this old dog over the head and got it to sink in.  Jon said, and I paraphrase, think of it as a question.\r\n\r\n&gt; value &gt; 100?\r\n&gt; \r\n&gt; &quot;yes&quot; : &quot;no&quot;\r\n\r\nNow the blind can see.\r\n\r\nHope this helps you make it second nature.","title":"How does the ternary operator work?","body":"<p>I was never a fan of the ternary operator because I thought it was hard to read.  As it so happens, Jon Skeet and his book, <em>C# in Depth</em> finally hit this old dog over the head and got it to sink in.  Jon said, and I paraphrase, think of it as a question.</p>\n\n<blockquote>\n  <p>value > 100?</p>\n  \n  <p>\"yes\" : \"no\"</p>\n</blockquote>\n\n<p>Now the blind can see.</p>\n\n<p>Hope this helps you make it second nature.</p>\n"},{"tags":[],"owner":{"account_id":15593,"reputation":6172,"user_id":33114,"display_name":"Brian Rudolph"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1232566189,"creation_date":1232564604,"answer_id":466541,"question_id":463155,"body_markdown":"Bad example, because you could easily write\r\n\r\n    Boolean isValueBig = value &gt; 100 ? true : false;\r\n\r\nas:\r\n\r\n    bool isValueBig = value &gt; 100\r\n\r\nBeyond that, everyone else has already answered it.  I would just not recommend using ternary operators to set bool values, since what you are evaluating is already a boolean value.\r\n\r\nI realize it was just an example, but it was worth pointing out.","title":"How does the ternary operator work?","body":"<p>Bad example, because you could easily write</p>\n\n<pre><code>Boolean isValueBig = value &gt; 100 ? true : false;\n</code></pre>\n\n<p>as:</p>\n\n<pre><code>bool isValueBig = value &gt; 100\n</code></pre>\n\n<p>Beyond that, everyone else has already answered it.  I would just not recommend using ternary operators to set bool values, since what you are evaluating is already a boolean value.</p>\n\n<p>I realize it was just an example, but it was worth pointing out.</p>\n"},{"tags":[],"owner":{"account_id":19947,"reputation":32593,"user_id":47190,"accept_rate":80,"display_name":"Peter Štibran&#253;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1232564869,"creation_date":1232564869,"answer_id":466557,"question_id":463155,"body_markdown":"Make sure you don&#39;t mix types in true/false parts in Java. It produces weird results :-(","title":"How does the ternary operator work?","body":"<p>Make sure you don't mix types in true/false parts in Java. It produces weird results :-(</p>\n"},{"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1232568158,"creation_date":1232568158,"answer_id":466744,"question_id":463155,"body_markdown":"Others have answered it already but here&#39;s one thing you should really know about ternary&#39;s usage and by that I mean don&#39;t ever do it.\r\n\r\nLets assume that you have a piece of code which is supposed to return a different object for each possible variation of some value, lets say for simpliticy&#39;s sake an integer between 1 and 5. Your code looks like this:\r\n\r\n    if(i==1) {\r\n    \treturn new ObjectOne();\r\n    } else if(i==2) {\r\n    \treturn new ObjectTwo();\r\n    } else if(i==3) {\r\n    \treturn new ObjectThree();\r\n    } else if(i==4) {\r\n    \treturn new ObjectFour();\r\n    } else if(i==5) {\r\n    \treturn new ObjectFive();\r\n    } else {\r\n    \treturn new DefaultObject();\r\n    }\r\n\r\nIt&#39;s easy to understand but a bit heavy. Since *ternary is just another way of writing an if..else statement* that can be refactored to this\r\n\r\n    return (i==1) ? new ObjectOne() :\r\n           (i==2) ? new ObjectTwo() :\r\n           (i==3) ? new ObjectThree() :\r\n           (i==4) ? new ObjectFour() :\r\n           (i==5) ? new ObjectFive() : new DefaultObject();\r\n\r\nIt&#39;s called **nested ternary**. It&#39;s evil, now that you know about it please never use it. It may seem to have its uses like the case above but it&#39;s very likely that in real life situations you would need to use it somewhere where it loses readability (think altering configurations with variable amount of parameters and such).\r\n\r\nBonus sector: Never set attribute values inside if(), just look at this: `if(bool=true!=false) { .. }`","title":"How does the ternary operator work?","body":"<p>Others have answered it already but here's one thing you should really know about ternary's usage and by that I mean don't ever do it.</p>\n\n<p>Lets assume that you have a piece of code which is supposed to return a different object for each possible variation of some value, lets say for simpliticy's sake an integer between 1 and 5. Your code looks like this:</p>\n\n<pre><code>if(i==1) {\n    return new ObjectOne();\n} else if(i==2) {\n    return new ObjectTwo();\n} else if(i==3) {\n    return new ObjectThree();\n} else if(i==4) {\n    return new ObjectFour();\n} else if(i==5) {\n    return new ObjectFive();\n} else {\n    return new DefaultObject();\n}\n</code></pre>\n\n<p>It's easy to understand but a bit heavy. Since <em>ternary is just another way of writing an if..else statement</em> that can be refactored to this</p>\n\n<pre><code>return (i==1) ? new ObjectOne() :\n       (i==2) ? new ObjectTwo() :\n       (i==3) ? new ObjectThree() :\n       (i==4) ? new ObjectFour() :\n       (i==5) ? new ObjectFive() : new DefaultObject();\n</code></pre>\n\n<p>It's called <strong>nested ternary</strong>. It's evil, now that you know about it please never use it. It may seem to have its uses like the case above but it's very likely that in real life situations you would need to use it somewhere where it loses readability (think altering configurations with variable amount of parameters and such).</p>\n\n<p>Bonus sector: Never set attribute values inside if(), just look at this: <code>if(bool=true!=false) { .. }</code></p>\n"},{"tags":[],"owner":{"display_name":"Matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1237217727,"creation_date":1237217727,"answer_id":650932,"question_id":463155,"body_markdown":"As quoted from MSDN (noted in a previous post)\r\n\r\nstring result = (value &gt; 100 ) ? &quot;value is big&quot; : &quot;value is small&quot;;\r\n\r\nCould be read as:\r\n\r\nIs value greater than 100? If yes, string result is &quot;value is big&quot;, if no, string result is &quot;value is small&quot;.\r\n","title":"How does the ternary operator work?","body":"<p>As quoted from MSDN (noted in a previous post)</p>\n\n<p>string result = (value > 100 ) ? \"value is big\" : \"value is small\";</p>\n\n<p>Could be read as:</p>\n\n<p>Is value greater than 100? If yes, string result is \"value is big\", if no, string result is \"value is small\".</p>\n"},{"tags":[],"owner":{"account_id":27510125,"reputation":1,"user_id":20992184,"display_name":"Terrecruis"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697355240,"creation_date":1697355240,"answer_id":77295673,"question_id":463155,"body_markdown":"the ternary operator comes from functional paradigm. To prove this makes a example in smlnj :\r\n\r\n`\r\nfun ternary(cond, trueVal, falseVal) =\r\n    if cond then trueVal else falseVal;\r\n`\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How does the ternary operator work?","body":"<p>the ternary operator comes from functional paradigm. To prove this makes a example in smlnj :</p>\n<p><code>fun ternary(cond, trueVal, falseVal) = if cond then trueVal else falseVal;</code></p>\n"}],"owner":{"account_id":22921,"reputation":127,"user_id":57006,"display_name":"Sara S"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14316,"favorite_count":0,"down_vote_count":3,"up_vote_count":13,"accepted_answer_id":463161,"answer_count":13,"score":10,"last_activity_date":1697355240,"creation_date":1232486294,"question_id":463155,"body_markdown":"Please demonstrate how the ternary operator works with a regular if/else block. Example:\r\n\r\n    Boolean isValueBig = value &gt; 100 ? true : false;\r\n\r\n\r\n----------\r\n**Exact Duplicate:** [How do I use the ternary operator?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/392932/how-do-i-use-the-ternary-operator","title":"How does the ternary operator work?","body":"<p>Please demonstrate how the ternary operator works with a regular if/else block. Example:</p>\n\n<pre><code>Boolean isValueBig = value &gt; 100 ? true : false;\n</code></pre>\n\n<hr>\n\n<p><strong>Exact Duplicate:</strong> <a href=\"https://stackoverflow.com/questions/392932/how-do-i-use-the-ternary-operator\">How do I use the ternary operator?</a></p>\n"},{"tags":["java","jpanel","display"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1697319179,"post_id":77294180,"comment_id":136265726,"body_markdown":"1) *I can&#39;t see the things I have drawn on the panel.* - because you didn&#39;t override the `getPreferredSize()` method of your panel. When you do custom painting you need to determine its preferred size so the layout manager can work properly. 2) Why are you creating the &quot;panel&quot; variable? You are doing your custom painting on a JPanel so just add that panel to the scroll pane. Read the Swing tutorial on [Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for more information and working examples.","body":"1) <i>I can&#39;t see the things I have drawn on the panel.</i> - because you didn&#39;t override the <code>getPreferredSize()</code> method of your panel. When you do custom painting you need to determine its preferred size so the layout manager can work properly. 2) Why are you creating the &quot;panel&quot; variable? You are doing your custom painting on a JPanel so just add that panel to the scroll pane. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Custom Painting</a> for more information and working examples."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697355025,"creation_date":1697315595,"answer_id":77294408,"question_id":77294180,"body_markdown":"Do not create a JFrame of that size. Instead tell your Planzeichner the size you prefer so the layout manager can do it&#39;s job.\r\n\r\nFinally just make up your mind whether you want to use that panel in a JFrame and use the JFrame&#39;s pack() method to size it accordingly, or whether you stuff it into a JScrollPane before adding it to the JFrame.\r\n\r\nIn code this might look like this:\r\n\r\nPlanzeichner.java:\r\n\r\n    public class Planzeichner extends JPanel{\r\n        ...\r\n        int secondsPerPixel = 30;\r\n\r\n        public void setZoom(int secondsPerPixel) {\r\n           this.secondsPerPixel = secondsPerPixel;\r\n        }\r\n\r\n        public Dimension getPreferredSize() {\r\n            return new Dimension(20 + (86400 / secondsPerPixel), 800);\r\n        }\r\n    }\r\n\r\nApplication code:\r\n\r\n    Planzeichner dp = new Planzeichner(Uml&#228;ufe); \r\n\r\n    JFrame f = new JFrame();\r\n    f.setLayout(new BorderLayout());\r\n\r\n    // use either one of these two lines            \r\n    f.add(dp);\r\n    f.add(new JScrollPane(dp));\r\n\r\n    f.pack();\r\n    f.setLocationRelativeTo(null);\r\n    f.setVisible(true);\r\n","title":"JFrame Window size","body":"<p>Do not create a JFrame of that size. Instead tell your Planzeichner the size you prefer so the layout manager can do it's job.</p>\n<p>Finally just make up your mind whether you want to use that panel in a JFrame and use the JFrame's pack() method to size it accordingly, or whether you stuff it into a JScrollPane before adding it to the JFrame.</p>\n<p>In code this might look like this:</p>\n<p>Planzeichner.java:</p>\n<pre><code>public class Planzeichner extends JPanel{\n    ...\n    int secondsPerPixel = 30;\n\n    public void setZoom(int secondsPerPixel) {\n       this.secondsPerPixel = secondsPerPixel;\n    }\n\n    public Dimension getPreferredSize() {\n        return new Dimension(20 + (86400 / secondsPerPixel), 800);\n    }\n}\n</code></pre>\n<p>Application code:</p>\n<pre><code>Planzeichner dp = new Planzeichner(Umläufe); \n\nJFrame f = new JFrame();\nf.setLayout(new BorderLayout());\n\n// use either one of these two lines            \nf.add(dp);\nf.add(new JScrollPane(dp));\n\nf.pack();\nf.setLocationRelativeTo(null);\nf.setVisible(true);\n</code></pre>\n"}],"owner":{"account_id":19349067,"reputation":95,"user_id":14146888,"display_name":"Tjum28"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77294408,"answer_count":1,"score":0,"last_activity_date":1697355025,"creation_date":1697311341,"question_id":77294180,"body_markdown":"I&#39;m trying to visualise a Plan for Busservices. For that I need to create a Graphic Panel that is at least 2900 Pixels wide (to show 24h, 1 Pixel = 30sec). First I tried it with a &quot;normal&quot; JFrame, but this didn&#39;t want to create a window wider as my Monitor even tho i set the size to 2900. Then I tried to go around the problem by using scroll bars, but there I&#39;m stuck now.\r\nI&#39;m not very experienced in java, I only had a beginners course that told me the basic stuff for little programs but nothing more.\r\nHope you can help me with this, thanks in advance!\r\n\r\n```java\t\t\r\n\t\t\t\tJFrame f = new JFrame();\r\n\t\t\tf.setSize(1000, 800);\r\n\t\t\t\t\r\n\t\t\tJPanel panel= new JPanel();\r\n\t\t\tpanel.setSize(2900,800);\r\n\t\t\t\r\n\t\t\tpanel.setPreferredSize(new Dimension(2900,800));\r\n\t\t\t\r\n\t\t\tPlanzeichner dp = new Planzeichner(Uml&#228;ufe); \r\n\t\t\tpanel.add(dp);\r\n\r\n\t\t\tJScrollPane scPa = new JScrollPane (panel, ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED,ScrollPaneConstants.HORIZONTAL_SCROLLBAR_ALWAYS);\r\n\t\t\tf.getContentPane().add(scPa);\r\n\t\t\t\r\n\t\t\tf.setVisible(true);\r\n```\r\nPlanzeichner.java:\r\n```java\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\nimport javax.swing.JPanel;\r\nimport java.awt.Graphics2D;\r\nimport java.util.Vector;\r\n\r\npublic class Planzeichner extends JPanel{\r\n\t\r\n\t//Aus &quot;Main&quot; &#252;bertragene Variablen\t\r\n\tprivate Vector Uml&#228;ufe;\r\n\t\r\n\t//Konstruktor zum Annehmen der Werte\r\n\t\tpublic Planzeichner(Vector Uml&#228;ufe) {\r\n\t\t\tsuper();\r\n\t\t\tthis.Uml&#228;ufe = Uml&#228;ufe;\r\n\t\t\t}\r\n\t\t\r\n\t//Laufvariablen\r\n\tint k = 0;\r\n\tint i = 0;\r\n\tint j = 0;\r\n\t\r\n\tprotected void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\t\r\n\t\tGraphics2D g2d = (Graphics2D) g;\r\n\t\t\r\n\t\t//Koordinatensystem\r\n\t\tg.setColor(Color.black);\r\n\t\tg.drawLine(10, 10, 2890, 10);\r\n\t\tg.setColor(Color.LIGHT_GRAY);\r\n\t\tfor(i=0; i&lt;24; i++) {;\r\n\t\tg.drawLine(10+i*120,10,10+i*120,900);\r\n\t\tString Stunde = String.valueOf(i+5);\r\n\t\tg.drawString(Stunde, 10+i*120, 9);\r\n\t\t}\r\n\t}\r\n}\r\n","title":"JFrame Window size","body":"<p>I'm trying to visualise a Plan for Busservices. For that I need to create a Graphic Panel that is at least 2900 Pixels wide (to show 24h, 1 Pixel = 30sec). First I tried it with a &quot;normal&quot; JFrame, but this didn't want to create a window wider as my Monitor even tho i set the size to 2900. Then I tried to go around the problem by using scroll bars, but there I'm stuck now.\nI'm not very experienced in java, I only had a beginners course that told me the basic stuff for little programs but nothing more.\nHope you can help me with this, thanks in advance!</p>\n<pre class=\"lang-java prettyprint-override\"><code>                JFrame f = new JFrame();\n            f.setSize(1000, 800);\n                \n            JPanel panel= new JPanel();\n            panel.setSize(2900,800);\n            \n            panel.setPreferredSize(new Dimension(2900,800));\n            \n            Planzeichner dp = new Planzeichner(Umläufe); \n            panel.add(dp);\n\n            JScrollPane scPa = new JScrollPane (panel, ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED,ScrollPaneConstants.HORIZONTAL_SCROLLBAR_ALWAYS);\n            f.getContentPane().add(scPa);\n            \n            f.setVisible(true);\n</code></pre>\n<p>Planzeichner.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Color;\nimport java.awt.Graphics;\nimport javax.swing.JPanel;\nimport java.awt.Graphics2D;\nimport java.util.Vector;\n\npublic class Planzeichner extends JPanel{\n    \n    //Aus &quot;Main&quot; übertragene Variablen  \n    private Vector Umläufe;\n    \n    //Konstruktor zum Annehmen der Werte\n        public Planzeichner(Vector Umläufe) {\n            super();\n            this.Umläufe = Umläufe;\n            }\n        \n    //Laufvariablen\n    int k = 0;\n    int i = 0;\n    int j = 0;\n    \n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        \n        Graphics2D g2d = (Graphics2D) g;\n        \n        //Koordinatensystem\n        g.setColor(Color.black);\n        g.drawLine(10, 10, 2890, 10);\n        g.setColor(Color.LIGHT_GRAY);\n        for(i=0; i&lt;24; i++) {;\n        g.drawLine(10+i*120,10,10+i*120,900);\n        String Stunde = String.valueOf(i+5);\n        g.drawString(Stunde, 10+i*120, 9);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","unit-testing","mockito","spring-mvc-test","junit-jupiter"],"comments":[{"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"score":0,"creation_date":1603923528,"post_id":64580745,"comment_id":114193563,"body_markdown":"Looks like it might be a versioning issue between the junit Jupiter libs and mockito.","body":"Looks like it might be a versioning issue between the junit Jupiter libs and mockito."},{"owner":{"account_id":18564009,"reputation":51,"user_id":13527388,"display_name":"vnavs"},"score":0,"creation_date":1603930193,"post_id":64580745,"comment_id":114195233,"body_markdown":"Do you know which versions of each go together?","body":"Do you know which versions of each go together?"}],"answers":[{"tags":[],"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603953338,"creation_date":1603953338,"answer_id":64586118,"question_id":64580745,"body_markdown":"The use case you want to test is not what `@InjectMocks` in combination with `@Mock` is made for. You use this setup whenever you want to mock a **collaborator** of your class under test. \r\n\r\nLet&#39;s say your `AppController` would inject (e.g. via constructor) a `UserService` to fetch data. For this scenario, you could then use `@Mock` for the `UserService` and mock the behavior of this service throughout your whole unit test for your `AppController`. \r\n\r\nThe `Model` is **not** a collaborator of your `AppController`, but rather injected by Spring to your method. \r\n\r\nIn your test scenario, mocking the `Model` does not make much sense. Rather use `@WebMvcTest` to start a sliced Spring Context and then use `MockMvc` to access your endpoint. You can then use verification methods of `MockMvc` to check the `Model`, the view name, the response code.\r\n\r\nAn example of this might look like the following:\r\n\r\n\r\n    @WebMvcTest(DashboardController.class)\r\n    class DashboardControllerTest {\r\n     \r\n      @Autowired\r\n      private MockMvc mockMvc;\r\n     \r\n      @MockBean\r\n      private DashboardService dashboardService;\r\n     \r\n      @Test\r\n      public void shouldReturnViewWithPrefilledData() throws Exception {\r\n        when(dashboardService.getAnalyticsGraphData()).thenReturn(new Integer[]{13, 42});\r\n     \r\n        this.mockMvc\r\n          .perform(get(&quot;/dashboard&quot;))\r\n          .andExpect(status().isOk())\r\n          .andExpect(view().name(&quot;dashboard&quot;))\r\n          .andExpect(model().attribute(&quot;user&quot;, &quot;Duke&quot;))\r\n          .andExpect(model().attribute(&quot;analyticsGraph&quot;, Matchers.arrayContaining(13, 42)))\r\n          .andExpect(model().attributeExists(&quot;quickNote&quot;));\r\n      }\r\n    }\r\n\r\nYou can find more information in this [MockMvc guide][1].\r\n\r\nPS: `@RunWith(MockitoRunner.class)` is for JUnit 4, you can remove it if you use JUnit Jupiter.\r\n\r\n\r\n  [1]: https://rieckpil.de/guide-to-testing-spring-boot-applications-with-mockmvc/","title":"java.lang.ExceptionInInitializerError when trying to mock","body":"<p>The use case you want to test is not what <code>@InjectMocks</code> in combination with <code>@Mock</code> is made for. You use this setup whenever you want to mock a <strong>collaborator</strong> of your class under test.</p>\n<p>Let's say your <code>AppController</code> would inject (e.g. via constructor) a <code>UserService</code> to fetch data. For this scenario, you could then use <code>@Mock</code> for the <code>UserService</code> and mock the behavior of this service throughout your whole unit test for your <code>AppController</code>.</p>\n<p>The <code>Model</code> is <strong>not</strong> a collaborator of your <code>AppController</code>, but rather injected by Spring to your method.</p>\n<p>In your test scenario, mocking the <code>Model</code> does not make much sense. Rather use <code>@WebMvcTest</code> to start a sliced Spring Context and then use <code>MockMvc</code> to access your endpoint. You can then use verification methods of <code>MockMvc</code> to check the <code>Model</code>, the view name, the response code.</p>\n<p>An example of this might look like the following:</p>\n<pre><code>@WebMvcTest(DashboardController.class)\nclass DashboardControllerTest {\n \n  @Autowired\n  private MockMvc mockMvc;\n \n  @MockBean\n  private DashboardService dashboardService;\n \n  @Test\n  public void shouldReturnViewWithPrefilledData() throws Exception {\n    when(dashboardService.getAnalyticsGraphData()).thenReturn(new Integer[]{13, 42});\n \n    this.mockMvc\n      .perform(get(&quot;/dashboard&quot;))\n      .andExpect(status().isOk())\n      .andExpect(view().name(&quot;dashboard&quot;))\n      .andExpect(model().attribute(&quot;user&quot;, &quot;Duke&quot;))\n      .andExpect(model().attribute(&quot;analyticsGraph&quot;, Matchers.arrayContaining(13, 42)))\n      .andExpect(model().attributeExists(&quot;quickNote&quot;));\n  }\n}\n</code></pre>\n<p>You can find more information in this <a href=\"https://rieckpil.de/guide-to-testing-spring-boot-applications-with-mockmvc/\" rel=\"nofollow noreferrer\">MockMvc guide</a>.</p>\n<p>PS: <code>@RunWith(MockitoRunner.class)</code> is for JUnit 4, you can remove it if you use JUnit Jupiter.</p>\n"},{"tags":[],"owner":{"account_id":18564009,"reputation":51,"user_id":13527388,"display_name":"vnavs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604963320,"creation_date":1604963320,"answer_id":64760546,"question_id":64580745,"body_markdown":"Code referenced in my comment above:\r\n\r\n\r\n**AppControllerTest.java**\r\n```\r\n\r\n\t@Test\r\n\tvoid testAddItem_Attributes() {\r\n\t\tLong crust = Long.valueOf(0L);\r\n\t\tLong sauce = Long.valueOf(1L);\r\n\t\tLong size = Long.valueOf(2L);\r\n\t\tLong cheese = Long.valueOf(3L);\r\n\r\n\t\tPizzaToppingAssociationVo ptavBothSides = new PizzaToppingAssociationVo();\r\n\t\tPizzaToppingAssociationVo ptavLeftOnly = new PizzaToppingAssociationVo();\r\n\t\tPizzaToppingAssociationVo ptavRightOnly = new PizzaToppingAssociationVo();\r\n\r\n\t\tptavBothSides.setLeft(true);\r\n\t\tptavBothSides.setRight(true);\r\n\t\tptavBothSides.setToppingsId(5L);\r\n\r\n\t\tptavLeftOnly.setLeft(true);\r\n\t\tptavLeftOnly.setRight(false);\r\n\t\tptavLeftOnly.setToppingsId(6L);\r\n\r\n\t\tptavRightOnly.setLeft(false);\r\n\t\tptavRightOnly.setRight(true);\r\n\t\tptavRightOnly.setToppingsId(8L);\r\n\r\n\t\tPizzaToppingAssociationVo [] toppingsArray = {ptavBothSides, ptavLeftOnly, ptavRightOnly};\r\n\r\n\t\ttry {\r\n\t\t\tObjectMapper objectMapper = new ObjectMapper();\r\n\t\t\tString jsonToppings = objectMapper.writeValueAsString(toppingsArray);\r\n\t\t\t\r\n            //this line throws the IllegalStateException with these parameters, but not if called with only &quot;/addItem&quot;\r\n\t\t\tResultActions ra = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/addItem&quot;, crust, sauce, size, cheese, jsonToppings));\r\n\t\t\tra.andExpect(MockMvcResultMatchers.status().is3xxRedirection());\r\n\t\t\tra.andExpect(MockMvcResultMatchers.redirectedUrl(&quot;/menu&quot;));\r\n\t\t\tra.andExpect(model().attribute(&quot;crust&quot;, crust));\r\n\r\n\t\t\tMap&lt;String, Object&gt; modelMap = ra.andReturn().getModelAndView().getModel();\r\n\t\t\tassertEquals(modelMap.size(), 1);\r\n\t\t\tassert(modelMap.containsKey(&quot;itemCount&quot;));\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tfail();\r\n\t\t}\r\n\t}\r\n```","title":"java.lang.ExceptionInInitializerError when trying to mock","body":"<p>Code referenced in my comment above:</p>\n<p><strong>AppControllerTest.java</strong></p>\n<pre><code>\n    @Test\n    void testAddItem_Attributes() {\n        Long crust = Long.valueOf(0L);\n        Long sauce = Long.valueOf(1L);\n        Long size = Long.valueOf(2L);\n        Long cheese = Long.valueOf(3L);\n\n        PizzaToppingAssociationVo ptavBothSides = new PizzaToppingAssociationVo();\n        PizzaToppingAssociationVo ptavLeftOnly = new PizzaToppingAssociationVo();\n        PizzaToppingAssociationVo ptavRightOnly = new PizzaToppingAssociationVo();\n\n        ptavBothSides.setLeft(true);\n        ptavBothSides.setRight(true);\n        ptavBothSides.setToppingsId(5L);\n\n        ptavLeftOnly.setLeft(true);\n        ptavLeftOnly.setRight(false);\n        ptavLeftOnly.setToppingsId(6L);\n\n        ptavRightOnly.setLeft(false);\n        ptavRightOnly.setRight(true);\n        ptavRightOnly.setToppingsId(8L);\n\n        PizzaToppingAssociationVo [] toppingsArray = {ptavBothSides, ptavLeftOnly, ptavRightOnly};\n\n        try {\n            ObjectMapper objectMapper = new ObjectMapper();\n            String jsonToppings = objectMapper.writeValueAsString(toppingsArray);\n            \n            //this line throws the IllegalStateException with these parameters, but not if called with only &quot;/addItem&quot;\n            ResultActions ra = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/addItem&quot;, crust, sauce, size, cheese, jsonToppings));\n            ra.andExpect(MockMvcResultMatchers.status().is3xxRedirection());\n            ra.andExpect(MockMvcResultMatchers.redirectedUrl(&quot;/menu&quot;));\n            ra.andExpect(model().attribute(&quot;crust&quot;, crust));\n\n            Map&lt;String, Object&gt; modelMap = ra.andReturn().getModelAndView().getModel();\n            assertEquals(modelMap.size(), 1);\n            assert(modelMap.containsKey(&quot;itemCount&quot;));\n        } catch (Exception e) {\n            e.printStackTrace();\n            fail();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":249137,"reputation":392,"user_id":524975,"accept_rate":0,"display_name":"Tamer Awad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684316119,"creation_date":1684316119,"answer_id":76270625,"question_id":64580745,"body_markdown":"In most cases this a dependency issue.\r\n\r\nI faced same issue and my issue was the I was using the wrong version of the JDK. Mine was 19 while I should have used v 11.\r\n\r\nGive it a try. :)","title":"java.lang.ExceptionInInitializerError when trying to mock","body":"<p>In most cases this a dependency issue.</p>\n<p>I faced same issue and my issue was the I was using the wrong version of the JDK. Mine was 19 while I should have used v 11.</p>\n<p>Give it a try. :)</p>\n"}],"owner":{"account_id":18564009,"reputation":51,"user_id":13527388,"display_name":"vnavs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16691,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1697353295,"creation_date":1603916630,"question_id":64580745,"body_markdown":"I&#39;m running into this issue when trying to mock an object of the interface `org.springframework.ui.Model`.  I&#39;m using Mockito `3.5.15` w/Java 8 and JUnit Jupiter.  I&#39;ve tried using both `@Mock` and `Mockito.mock()`, globally and inside a method, but get the error regardless.  Since `initMocks()` is deprecated, I am using `Mockito.openMocks()`.  I know that the contents of `testGetMenu()` aren&#39;t causing the error, because I get it even when the method body is empty.  The class being tested is a Spring MVC controller.\r\n\r\n**Stacktrace when mocking:**\r\n\r\n```\r\njava.lang.ExceptionInInitializerError\r\n\tat org.mockito.internal.exceptions.stacktrace.ConditionalStackTraceFilter.&lt;init&gt;(ConditionalStackTraceFilter.java:17)\r\n\tat org.mockito.exceptions.base.MockitoException.filterStackTrace(MockitoException.java:41)\r\n\tat org.mockito.exceptions.base.MockitoException.&lt;init&gt;(MockitoException.java:30)\r\n\tat org.mockito.exceptions.misusing.MockitoConfigurationException.&lt;init&gt;(MockitoConfigurationException.java:18)\r\n\tat org.mockito.internal.configuration.plugins.PluginLoader.loadImpl(PluginLoader.java:66)\r\n\tat org.mockito.internal.configuration.plugins.PluginLoader.loadPlugin(PluginLoader.java:24)\r\n\tat org.mockito.internal.configuration.plugins.PluginRegistry.&lt;init&gt;(PluginRegistry.java:12)\r\n\tat org.mockito.internal.configuration.plugins.Plugins.&lt;clinit&gt;(Plugins.java:11)\r\n\tat org.mockito.internal.util.MockUtil.&lt;clinit&gt;(MockUtil.java:24)\r\n\tat org.mockito.internal.stubbing.defaultanswers.ReturnsEmptyValues.&lt;init&gt;(ReturnsEmptyValues.java:58)\r\n\tat org.mockito.internal.stubbing.defaultanswers.ReturnsMoreEmptyValues.&lt;init&gt;(ReturnsMoreEmptyValues.java:51)\r\n\tat org.mockito.internal.stubbing.defaultanswers.ReturnsSmartNulls.&lt;init&gt;(ReturnsSmartNulls.java:40)\r\n\tat org.mockito.Answers.&lt;clinit&gt;(Answers.java:43)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat java.lang.Class.getEnumConstantsShared(Class.java:3320)\r\n\tat java.lang.Class.enumConstantDirectory(Class.java:3341)\r\n\tat java.lang.Enum.valueOf(Enum.java:232)\r\n\tat sun.reflect.annotation.AnnotationParser.parseEnumValue(AnnotationParser.java:483)\r\n\tat sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:347)\r\n\tat java.lang.reflect.Method.getDefaultValue(Method.java:606)\r\n\tat sun.reflect.annotation.AnnotationType.&lt;init&gt;(AnnotationType.java:132)\r\n\tat sun.reflect.annotation.AnnotationType.getInstance(AnnotationType.java:85)\r\n\tat sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:266)\r\n\tat sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:120)\r\n\tat sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:72)\r\n\tat java.lang.reflect.Field.declaredAnnotations(Field.java:1150)\r\n\tat java.lang.reflect.Field.declaredAnnotations(Field.java:1148)\r\n\tat java.lang.reflect.Field.getAnnotation(Field.java:1120)\r\n\tat java.lang.reflect.AccessibleObject.getDeclaredAnnotation(AccessibleObject.java:219)\r\n\tat org.junit.platform.commons.util.AnnotationUtils.findAnnotation(AnnotationUtils.java:128)\r\n\tat org.junit.platform.commons.util.AnnotationUtils.findAnnotation(AnnotationUtils.java:115)\r\n\tat org.junit.platform.commons.util.AnnotationUtils.isAnnotated(AnnotationUtils.java:93)\r\n\tat org.junit.platform.commons.util.AnnotationUtils.lambda$findAnnotatedFields$6(AnnotationUtils.java:369)\r\n\tat java.util.function.Predicate.lambda$and$0(Predicate.java:69)\r\n\tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:174)\r\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.findFields(ReflectionUtils.java:1137)\r\n\tat org.junit.platform.commons.util.AnnotationUtils.findAnnotatedFields(AnnotationUtils.java:371)\r\n\tat org.junit.platform.commons.util.AnnotationUtils.findAnnotatedFields(AnnotationUtils.java:348)\r\n\tat org.junit.jupiter.engine.descriptor.ExtensionUtils.registerExtensionsFromFields(ExtensionUtils.java:99)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.prepare(ClassBasedTestDescriptor.java:148)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.prepare(ClassBasedTestDescriptor.java:78)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:107)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:107)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:75)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:141)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\nCaused by: java.lang.NullPointerException\r\n\tat org.mockito.internal.configuration.plugins.Plugins.getStackTraceCleanerProvider(Plugins.java:17)\r\n\tat org.mockito.internal.exceptions.stacktrace.StackTraceFilter.&lt;clinit&gt;(StackTraceFilter.java:21)\r\n\t... 78 more\r\n```\r\n\r\n\r\n**AppControllerTest.java**\r\n```\r\nimport static org.junit.Assert.assertEquals;\r\nimport static org.mockito.Mockito.times;\r\nimport static org.mockito.Mockito.verify;\r\n\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.MockedStatic;\r\nimport org.mockito.Mockito;\r\nimport org.mockito.MockitoAnnotations;\r\nimport org.mockito.junit.MockitoJUnitRunner;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\nimport org.springframework.ui.Model;\r\n\r\nimport com.javaduckspizza.OnlineOrderingApplication.common.TypesCache;\r\nimport com.javaduckspizza.OnlineOrderingApplication.main.AppController;\r\n\r\n@ExtendWith(MockitoExtension.class)\r\n@RunWith(MockitoJUnitRunner.class)\r\nclass AppControllerTest {\r\n\t@InjectMocks\r\n\tAppController appController = new AppController();\r\n\t@Mock\r\n\tModel model;\r\n\r\n\t@BeforeEach\r\n\tvoid setUp() throws Exception {\r\n//\t\tmodel = Mockito.mock(Model.class);\r\n\t\tMockitoAnnotations.openMocks(this); //using because initMocks() is deprecated\r\n\t}\r\n\r\n\t@AfterEach\r\n\tvoid tearDown() throws Exception {\r\n\t}\r\n\r\n\t@Test\r\n\tvoid testGetMenu() {\r\n\t\tString result = appController.getMenu(model);\r\n\t\tassertEquals(result, &quot;/menu.&quot;);\r\n\t\tverify(model, times(5)).addAttribute(Mockito.anyString(), Mockito.any());\r\n\t\tverify(model, times(1)).addAttribute(Mockito.anyString(), Mockito.anyInt());\r\n\t\tMockedStatic&lt;TypesCache&gt; mockedTypesCache = Mockito.mockStatic(TypesCache.class);\r\n\t\tmockedTypesCache.verify(Mockito.times(5), () -&gt; TypesCache.getActiveTypesByCategory(Mockito.anyString()));\r\n\t}\r\n}\r\n```\r\n\r\n\r\n**AppController.java**\r\n```\r\nimport java.math.BigDecimal;\r\nimport java.util.Date;\r\nimport java.sql.Timestamp;\r\nimport java.util.Calendar;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\nimport javax.ws.rs.GET;\r\nimport javax.ws.rs.POST;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.JsonMappingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.javaduckspizza.OnlineOrderingApplication.common.TypesCache;\r\nimport com.javaduckspizza.service.dao.ModifierServiceDao;\r\nimport com.javaduckspizza.service.dao.OrderServiceDao;\r\nimport com.javaduckspizza.vo.ModifierVo;\r\nimport com.javaduckspizza.vo.OrdersVo;\r\nimport com.javaduckspizza.vo.PizzaToppingAssociationVo;\r\nimport com.javaduckspizza.vo.PizzaVo;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/&quot;)\r\npublic class AppController {\r\n\tprotected Map&lt;PizzaVo, List&lt;PizzaToppingAssociationVo&gt;&gt; mapShoppingCart =\r\n\t\t\tnew HashMap&lt;PizzaVo, List&lt;PizzaToppingAssociationVo&gt;&gt;();\r\n\r\n\t@GET\r\n\t@RequestMapping(&quot;/menu&quot;)\r\n\tpublic String getMenu(Model model) {\r\n\t\tSystem.err.println(&quot;In AppController.getMenu()&quot;);\r\n\t\taddAttributesForMenu(model);\r\n\t\tmodel.addAttribute(&quot;itemCount&quot;, mapShoppingCart.size());\r\n\r\n\t\treturn &quot;/menu.&quot;;  //I probably messed up something in the configuration.  If written without / and ., it tries to get WEB-INF/jspmenujsp\r\n\t}\r\n\r\n\tpublic void addAttributesForMenu(Model model) {\r\n\t\tmodel.addAttribute(&quot;sizes&quot;, TypesCache.getActiveTypesByCategory(&quot;SIZE&quot;));\r\n\t\tmodel.addAttribute(&quot;crusts&quot;, TypesCache.getActiveTypesByCategory(&quot;CRST&quot;));\r\n\t\tmodel.addAttribute(&quot;cheeses&quot;, TypesCache.getActiveTypesByCategory(&quot;CHES&quot;));\r\n\t\tmodel.addAttribute(&quot;sauces&quot;, TypesCache.getActiveTypesByCategory(&quot;SAUC&quot;));\r\n\t\tmodel.addAttribute(&quot;toppings&quot;, TypesCache.getActiveTypesByCategory(&quot;TOPP&quot;));\r\n\t}\r\n}\r\n```\r\n\r\n\r\n**pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.javaduckspizza&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;OnlineOrderingApplication&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;OnlineOrderingApplication&lt;/name&gt;\r\n\t&lt;description&gt;Online ordering application for Java Ducks Pizza&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.5.15&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.5.15&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.5.15&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.13&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.1.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.7.0&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.7.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;2.22.2&lt;/version&gt;\r\n\t\t    &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**Stacktrace if I don&#39;t mock**\r\n\r\n```\r\njava.lang.NoSuchMethodError: org.mockito.Mockito.mockitoSession()Lorg/mockito/session/MockitoSessionBuilder;\r\n\tat org.mockito.junit.jupiter.MockitoExtension.beforeEach(MockitoExtension.java:149)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$1(TestMethodTestDescriptor.java:154)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$5(TestMethodTestDescriptor.java:190)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:190)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:153)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:71)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:141)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\tSuppressed: java.lang.NullPointerException\r\n\t\tat org.mockito.junit.jupiter.MockitoExtension.afterEach(MockitoExtension.java:184)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachCallbacks$11(TestMethodTestDescriptor.java:248)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:268)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$14(TestMethodTestDescriptor.java:268)\r\n\t\tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:267)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachCallbacks(TestMethodTestDescriptor.java:247)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:143)\r\n\t\t... 43 more\r\n```","title":"java.lang.ExceptionInInitializerError when trying to mock","body":"<p>I'm running into this issue when trying to mock an object of the interface <code>org.springframework.ui.Model</code>.  I'm using Mockito <code>3.5.15</code> w/Java 8 and JUnit Jupiter.  I've tried using both <code>@Mock</code> and <code>Mockito.mock()</code>, globally and inside a method, but get the error regardless.  Since <code>initMocks()</code> is deprecated, I am using <code>Mockito.openMocks()</code>.  I know that the contents of <code>testGetMenu()</code> aren't causing the error, because I get it even when the method body is empty.  The class being tested is a Spring MVC controller.</p>\n<p><strong>Stacktrace when mocking:</strong></p>\n<pre><code>java.lang.ExceptionInInitializerError\n    at org.mockito.internal.exceptions.stacktrace.ConditionalStackTraceFilter.&lt;init&gt;(ConditionalStackTraceFilter.java:17)\n    at org.mockito.exceptions.base.MockitoException.filterStackTrace(MockitoException.java:41)\n    at org.mockito.exceptions.base.MockitoException.&lt;init&gt;(MockitoException.java:30)\n    at org.mockito.exceptions.misusing.MockitoConfigurationException.&lt;init&gt;(MockitoConfigurationException.java:18)\n    at org.mockito.internal.configuration.plugins.PluginLoader.loadImpl(PluginLoader.java:66)\n    at org.mockito.internal.configuration.plugins.PluginLoader.loadPlugin(PluginLoader.java:24)\n    at org.mockito.internal.configuration.plugins.PluginRegistry.&lt;init&gt;(PluginRegistry.java:12)\n    at org.mockito.internal.configuration.plugins.Plugins.&lt;clinit&gt;(Plugins.java:11)\n    at org.mockito.internal.util.MockUtil.&lt;clinit&gt;(MockUtil.java:24)\n    at org.mockito.internal.stubbing.defaultanswers.ReturnsEmptyValues.&lt;init&gt;(ReturnsEmptyValues.java:58)\n    at org.mockito.internal.stubbing.defaultanswers.ReturnsMoreEmptyValues.&lt;init&gt;(ReturnsMoreEmptyValues.java:51)\n    at org.mockito.internal.stubbing.defaultanswers.ReturnsSmartNulls.&lt;init&gt;(ReturnsSmartNulls.java:40)\n    at org.mockito.Answers.&lt;clinit&gt;(Answers.java:43)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at java.lang.Class.getEnumConstantsShared(Class.java:3320)\n    at java.lang.Class.enumConstantDirectory(Class.java:3341)\n    at java.lang.Enum.valueOf(Enum.java:232)\n    at sun.reflect.annotation.AnnotationParser.parseEnumValue(AnnotationParser.java:483)\n    at sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:347)\n    at java.lang.reflect.Method.getDefaultValue(Method.java:606)\n    at sun.reflect.annotation.AnnotationType.&lt;init&gt;(AnnotationType.java:132)\n    at sun.reflect.annotation.AnnotationType.getInstance(AnnotationType.java:85)\n    at sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:266)\n    at sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:120)\n    at sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:72)\n    at java.lang.reflect.Field.declaredAnnotations(Field.java:1150)\n    at java.lang.reflect.Field.declaredAnnotations(Field.java:1148)\n    at java.lang.reflect.Field.getAnnotation(Field.java:1120)\n    at java.lang.reflect.AccessibleObject.getDeclaredAnnotation(AccessibleObject.java:219)\n    at org.junit.platform.commons.util.AnnotationUtils.findAnnotation(AnnotationUtils.java:128)\n    at org.junit.platform.commons.util.AnnotationUtils.findAnnotation(AnnotationUtils.java:115)\n    at org.junit.platform.commons.util.AnnotationUtils.isAnnotated(AnnotationUtils.java:93)\n    at org.junit.platform.commons.util.AnnotationUtils.lambda$findAnnotatedFields$6(AnnotationUtils.java:369)\n    at java.util.function.Predicate.lambda$and$0(Predicate.java:69)\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:174)\n    at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n    at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n    at org.junit.platform.commons.util.ReflectionUtils.findFields(ReflectionUtils.java:1137)\n    at org.junit.platform.commons.util.AnnotationUtils.findAnnotatedFields(AnnotationUtils.java:371)\n    at org.junit.platform.commons.util.AnnotationUtils.findAnnotatedFields(AnnotationUtils.java:348)\n    at org.junit.jupiter.engine.descriptor.ExtensionUtils.registerExtensionsFromFields(ExtensionUtils.java:99)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.prepare(ClassBasedTestDescriptor.java:148)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.prepare(ClassBasedTestDescriptor.java:78)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:107)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:107)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:75)\n    at java.util.ArrayList.forEach(ArrayList.java:1257)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:141)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: java.lang.NullPointerException\n    at org.mockito.internal.configuration.plugins.Plugins.getStackTraceCleanerProvider(Plugins.java:17)\n    at org.mockito.internal.exceptions.stacktrace.StackTraceFilter.&lt;clinit&gt;(StackTraceFilter.java:21)\n    ... 78 more\n</code></pre>\n<p><strong>AppControllerTest.java</strong></p>\n<pre><code>import static org.junit.Assert.assertEquals;\nimport static org.mockito.Mockito.times;\nimport static org.mockito.Mockito.verify;\n\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.MockedStatic;\nimport org.mockito.Mockito;\nimport org.mockito.MockitoAnnotations;\nimport org.mockito.junit.MockitoJUnitRunner;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.springframework.ui.Model;\n\nimport com.javaduckspizza.OnlineOrderingApplication.common.TypesCache;\nimport com.javaduckspizza.OnlineOrderingApplication.main.AppController;\n\n@ExtendWith(MockitoExtension.class)\n@RunWith(MockitoJUnitRunner.class)\nclass AppControllerTest {\n    @InjectMocks\n    AppController appController = new AppController();\n    @Mock\n    Model model;\n\n    @BeforeEach\n    void setUp() throws Exception {\n//      model = Mockito.mock(Model.class);\n        MockitoAnnotations.openMocks(this); //using because initMocks() is deprecated\n    }\n\n    @AfterEach\n    void tearDown() throws Exception {\n    }\n\n    @Test\n    void testGetMenu() {\n        String result = appController.getMenu(model);\n        assertEquals(result, &quot;/menu.&quot;);\n        verify(model, times(5)).addAttribute(Mockito.anyString(), Mockito.any());\n        verify(model, times(1)).addAttribute(Mockito.anyString(), Mockito.anyInt());\n        MockedStatic&lt;TypesCache&gt; mockedTypesCache = Mockito.mockStatic(TypesCache.class);\n        mockedTypesCache.verify(Mockito.times(5), () -&gt; TypesCache.getActiveTypesByCategory(Mockito.anyString()));\n    }\n}\n</code></pre>\n<p><strong>AppController.java</strong></p>\n<pre><code>import java.math.BigDecimal;\nimport java.util.Date;\nimport java.sql.Timestamp;\nimport java.util.Calendar;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.POST;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.javaduckspizza.OnlineOrderingApplication.common.TypesCache;\nimport com.javaduckspizza.service.dao.ModifierServiceDao;\nimport com.javaduckspizza.service.dao.OrderServiceDao;\nimport com.javaduckspizza.vo.ModifierVo;\nimport com.javaduckspizza.vo.OrdersVo;\nimport com.javaduckspizza.vo.PizzaToppingAssociationVo;\nimport com.javaduckspizza.vo.PizzaVo;\n\n@Controller\n@RequestMapping(&quot;/&quot;)\npublic class AppController {\n    protected Map&lt;PizzaVo, List&lt;PizzaToppingAssociationVo&gt;&gt; mapShoppingCart =\n            new HashMap&lt;PizzaVo, List&lt;PizzaToppingAssociationVo&gt;&gt;();\n\n    @GET\n    @RequestMapping(&quot;/menu&quot;)\n    public String getMenu(Model model) {\n        System.err.println(&quot;In AppController.getMenu()&quot;);\n        addAttributesForMenu(model);\n        model.addAttribute(&quot;itemCount&quot;, mapShoppingCart.size());\n\n        return &quot;/menu.&quot;;  //I probably messed up something in the configuration.  If written without / and ., it tries to get WEB-INF/jspmenujsp\n    }\n\n    public void addAttributesForMenu(Model model) {\n        model.addAttribute(&quot;sizes&quot;, TypesCache.getActiveTypesByCategory(&quot;SIZE&quot;));\n        model.addAttribute(&quot;crusts&quot;, TypesCache.getActiveTypesByCategory(&quot;CRST&quot;));\n        model.addAttribute(&quot;cheeses&quot;, TypesCache.getActiveTypesByCategory(&quot;CHES&quot;));\n        model.addAttribute(&quot;sauces&quot;, TypesCache.getActiveTypesByCategory(&quot;SAUC&quot;));\n        model.addAttribute(&quot;toppings&quot;, TypesCache.getActiveTypesByCategory(&quot;TOPP&quot;));\n    }\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.javaduckspizza&lt;/groupId&gt;\n    &lt;artifactId&gt;OnlineOrderingApplication&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;OnlineOrderingApplication&lt;/name&gt;\n    &lt;description&gt;Online ordering application for Java Ducks Pizza&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;3.5.15&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;version&gt;3.5.15&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;3.5.15&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.7.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.7.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>Stacktrace if I don't mock</strong></p>\n<pre><code>java.lang.NoSuchMethodError: org.mockito.Mockito.mockitoSession()Lorg/mockito/session/MockitoSessionBuilder;\n    at org.mockito.junit.jupiter.MockitoExtension.beforeEach(MockitoExtension.java:149)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$1(TestMethodTestDescriptor.java:154)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$5(TestMethodTestDescriptor.java:190)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:190)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:153)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:71)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.util.ArrayList.forEach(ArrayList.java:1257)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.util.ArrayList.forEach(ArrayList.java:1257)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:141)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n    Suppressed: java.lang.NullPointerException\n        at org.mockito.junit.jupiter.MockitoExtension.afterEach(MockitoExtension.java:184)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachCallbacks$11(TestMethodTestDescriptor.java:248)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:268)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$14(TestMethodTestDescriptor.java:268)\n        at java.util.ArrayList.forEach(ArrayList.java:1257)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:267)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachCallbacks(TestMethodTestDescriptor.java:247)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:143)\n        ... 43 more\n</code></pre>\n"},{"tags":["java","android","codenameone","nfc"],"comments":[{"owner":{"account_id":22861875,"reputation":65,"user_id":17005813,"display_name":"Chief O"},"score":0,"creation_date":1697500066,"post_id":77295409,"comment_id":136285075,"body_markdown":"Yes. Thank you very much. I discarded everything and wrote a new one using  &#39;enableReaderMode&#39; with a callback instead of enableForegroundDispatch with intents.","body":"Yes. Thank you very much. I discarded everything and wrote a new one using  &#39;enableReaderMode&#39; with a callback instead of enableForegroundDispatch with intents."},{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1697500323,"post_id":77295409,"comment_id":136285088,"body_markdown":"Yes `enableReaderMode` is much better to use and does not have the problem of `PendingIntent.FLAG_IMMUTABLE`","body":"Yes <code>enableReaderMode</code> is much better to use and does not have the problem of <code>PendingIntent.FLAG_IMMUTABLE</code>"}],"owner":{"account_id":22861875,"reputation":65,"user_id":17005813,"display_name":"Chief O"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1697500115,"answer_count":0,"score":1,"last_activity_date":1697353177,"creation_date":1697347678,"question_id":77295409,"body_markdown":"I wanted to write to an NFC tag using a call to the native interface\r\nHere is my Native impl file for android\r\nThe entrypoint function is `bindNFCwriter()`.\r\n```\r\n\r\n\r\npublic class NewInterfaceImpl {\r\n\r\npublic String message=&quot;&quot;;\r\n\r\n \r\n\r\n  public String Target = &quot;Text to Write&quot;;\r\n  private NfcAdapter     NFC_Adapter;\r\n  private PendingIntent  NFC_PendingIntent;\r\n  \r\n  private boolean        writeMode = false;\r\n\r\n\r\nLifecycleListener listener = new LifecycleListener() {\r\n    public void onCreate(Bundle savedInstanceState) {\r\nmessage = &quot;onCreate Served&quot;;\r\n\r\n}\r\n    public void onPause() {\r\nmessage = &quot;onPause&quot;;\r\n  NFC_Adapter.disableForegroundDispatch(AndroidNativeUtil.getActivity());\r\n}\r\n    public void onDestroy() {\r\nmessage = &quot;onDestroy&quot;;\r\n}\r\n    public void onSaveInstanceState(Bundle b) { message = &quot;onSaveInstanceState&quot;;   }\r\n    public void onLowMemory() {message = &quot;onLowMemory&quot;; }\r\n\r\n    public void onResume() \r\n{ \r\n\r\n  Activity myActivity = AndroidNativeUtil.getActivity(); \r\ntry{\r\n    Intent intent = myActivity.getIntent(); \r\n\r\n  if (writeMode)\r\n    { \r\nif (intent.getAction() != null){ \r\n     if (intent.getAction().equals(NfcAdapter.ACTION_TAG_DISCOVERED))\r\n      {\r\n        Tag detectedTag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\r\nif(detectedTag == null){ \r\nmessage = &quot;Tag is null&quot;; \r\nreturn;}\r\n     \r\n  if(writeTag(buildNdefMessage(), detectedTag)){\r\nmessage = &quot;Success!&quot;;}else{\r\nmessage = &quot;Error: &quot;+errorMsg;} ;\r\n\r\n   \r\n      }\r\n}\r\n    }\r\n}catch(Exception xxx){message = &quot;Exception: &quot;+xxx.getMessage(); }\r\n \r\n\r\n    }\r\n};\r\n\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n   \r\n\r\n    public void bindNFCwriter() {\r\n\r\nAndroidNativeUtil.addLifecycleListener(listener);\r\n\r\n        if(AndroidNativeUtil.checkForPermission(Manifest.permission.NFC, &quot;...&quot;)) { \r\n NFC_Adapter = NfcAdapter.getDefaultAdapter(AndroidNativeUtil.getActivity().getApplicationContext());\r\n  \r\n\r\n    if (NFC_Adapter == null)\r\n    {\r\nmessage =  &quot;Adapter is Null&quot;;\r\n    \r\n      return;\r\n    }\r\n\r\ntry{\r\nfinal Intent intent = new Intent(AndroidNativeUtil.getActivity().getApplicationContext(),AndroidNativeUtil.getActivity().getClass());\r\nintent.addCategory(Intent.CATEGORY_DEFAULT);\r\nintent.setAction (&quot;android.nfc.action.TAG_DISCOVERED&quot;);\r\n\r\n    NFC_PendingIntent = PendingIntent.getActivity(AndroidNativeUtil.getActivity().getApplicationContext(), 0, intent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), PendingIntent.FLAG_IMMUTABLE);\r\n}catch(Exception xxc){message =  &quot;Error: &quot;+xxc.getMessage(); return;}\r\n\r\nenableTagWriteMode();\r\n\r\n        }else{ message =  &quot;no permission&quot;;}\r\n    }\r\n\r\n\r\n    public void unbindNFCwriter() {\r\n  \r\n    }\r\n\r\n    public boolean isSupported() {\r\n        return true;\r\n    }\r\n\r\n\r\nprivate void enableTagWriteMode()\r\n  {\r\n    writeMode = true;\r\n    NFC_Adapter.enableForegroundDispatch(AndroidNativeUtil.getActivity(), NFC_PendingIntent, null, null);\r\n\r\n  \r\n  }\r\n\r\nprivate void disableTagWriteMode()\r\n  {\r\n    writeMode = false;\r\n   NFC_Adapter.disableForegroundDispatch(AndroidNativeUtil.getActivity());\r\n\r\n  }\r\n\r\nboolean writeTag(NdefMessage message, Tag tag)\r\n  {\r\n    int size = message.toByteArray().length;\r\n\r\n    try\r\n    {\r\n      Ndef ndef = Ndef.get(tag);\r\n      if (ndef != null)\r\n      {\r\n        ndef.connect();\r\n\r\n        if (!ndef.isWritable())\r\n        {\r\n  \r\nerrorMsg = &quot;Cannot write to this tag. This tag is read-only.&quot;;\r\n          return false;\r\n        }\r\n\r\n        if (ndef.getMaxSize() &lt; size)\r\n        {\r\n       errorMsg = &quot;Greater than MaxSize.&quot;;\r\n          return false;\r\n        }\r\n\r\n        ndef.writeNdefMessage(message);\r\n       \r\n        return true;\r\n      }\r\n\r\n     \r\n      return false;\r\n\r\n    }\r\n    catch (Exception e)\r\n    {\r\nerrorMsg = &quot;Cannot write to this tag due to an Exception: &quot;+e.getMessage();\r\n    \r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\nString errorMsg=&quot;&quot;;\r\nprivate NdefMessage buildNdefMessage()\r\n  {\r\n    String data = Target;\r\n\r\n    String mimeType = &quot;text/plain&quot;;\r\n\r\n    byte[] mimeBytes = mimeType.getBytes(Charset.forName(&quot;UTF-8&quot;));\r\n    byte[] dataBytes = data.getBytes(Charset.forName(&quot;UTF-8&quot;));\r\n    byte[] id = new byte[0];\r\n\r\n    NdefRecord record = new NdefRecord(NdefRecord.TNF_MIME_MEDIA, mimeBytes, id, dataBytes);\r\n    NdefMessage message = new NdefMessage(new NdefRecord[]{record});\r\n\r\n    return message;\r\n  }\r\n\r\n\r\n private void checkNfcEnabled()\r\n  {\r\n    Boolean nfcEnabled = NFC_Adapter.isEnabled();\r\n    if (!nfcEnabled)\r\n    {\r\n    \r\n    }\r\n  }\r\n\r\n}\r\n```\r\nIt rightly triggers if I bring my Tag close to my phone, but stops at `Tag = null`, on the onResume method. Why is `Tag = null`. With that it does not write to the tag. Please help and point me in the right direction.\r\n\r\n","title":"Codenameone NFC TAG Writer Native Interface call Tag is null Error","body":"<p>I wanted to write to an NFC tag using a call to the native interface\nHere is my Native impl file for android\nThe entrypoint function is <code>bindNFCwriter()</code>.</p>\n<pre><code>\n\npublic class NewInterfaceImpl {\n\npublic String message=&quot;&quot;;\n\n \n\n  public String Target = &quot;Text to Write&quot;;\n  private NfcAdapter     NFC_Adapter;\n  private PendingIntent  NFC_PendingIntent;\n  \n  private boolean        writeMode = false;\n\n\nLifecycleListener listener = new LifecycleListener() {\n    public void onCreate(Bundle savedInstanceState) {\nmessage = &quot;onCreate Served&quot;;\n\n}\n    public void onPause() {\nmessage = &quot;onPause&quot;;\n  NFC_Adapter.disableForegroundDispatch(AndroidNativeUtil.getActivity());\n}\n    public void onDestroy() {\nmessage = &quot;onDestroy&quot;;\n}\n    public void onSaveInstanceState(Bundle b) { message = &quot;onSaveInstanceState&quot;;   }\n    public void onLowMemory() {message = &quot;onLowMemory&quot;; }\n\n    public void onResume() \n{ \n\n  Activity myActivity = AndroidNativeUtil.getActivity(); \ntry{\n    Intent intent = myActivity.getIntent(); \n\n  if (writeMode)\n    { \nif (intent.getAction() != null){ \n     if (intent.getAction().equals(NfcAdapter.ACTION_TAG_DISCOVERED))\n      {\n        Tag detectedTag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\nif(detectedTag == null){ \nmessage = &quot;Tag is null&quot;; \nreturn;}\n     \n  if(writeTag(buildNdefMessage(), detectedTag)){\nmessage = &quot;Success!&quot;;}else{\nmessage = &quot;Error: &quot;+errorMsg;} ;\n\n   \n      }\n}\n    }\n}catch(Exception xxx){message = &quot;Exception: &quot;+xxx.getMessage(); }\n \n\n    }\n};\n\n\n    public String getMessage() {\n        return message;\n    }\n\n   \n\n    public void bindNFCwriter() {\n\nAndroidNativeUtil.addLifecycleListener(listener);\n\n        if(AndroidNativeUtil.checkForPermission(Manifest.permission.NFC, &quot;...&quot;)) { \n NFC_Adapter = NfcAdapter.getDefaultAdapter(AndroidNativeUtil.getActivity().getApplicationContext());\n  \n\n    if (NFC_Adapter == null)\n    {\nmessage =  &quot;Adapter is Null&quot;;\n    \n      return;\n    }\n\ntry{\nfinal Intent intent = new Intent(AndroidNativeUtil.getActivity().getApplicationContext(),AndroidNativeUtil.getActivity().getClass());\nintent.addCategory(Intent.CATEGORY_DEFAULT);\nintent.setAction (&quot;android.nfc.action.TAG_DISCOVERED&quot;);\n\n    NFC_PendingIntent = PendingIntent.getActivity(AndroidNativeUtil.getActivity().getApplicationContext(), 0, intent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), PendingIntent.FLAG_IMMUTABLE);\n}catch(Exception xxc){message =  &quot;Error: &quot;+xxc.getMessage(); return;}\n\nenableTagWriteMode();\n\n        }else{ message =  &quot;no permission&quot;;}\n    }\n\n\n    public void unbindNFCwriter() {\n  \n    }\n\n    public boolean isSupported() {\n        return true;\n    }\n\n\nprivate void enableTagWriteMode()\n  {\n    writeMode = true;\n    NFC_Adapter.enableForegroundDispatch(AndroidNativeUtil.getActivity(), NFC_PendingIntent, null, null);\n\n  \n  }\n\nprivate void disableTagWriteMode()\n  {\n    writeMode = false;\n   NFC_Adapter.disableForegroundDispatch(AndroidNativeUtil.getActivity());\n\n  }\n\nboolean writeTag(NdefMessage message, Tag tag)\n  {\n    int size = message.toByteArray().length;\n\n    try\n    {\n      Ndef ndef = Ndef.get(tag);\n      if (ndef != null)\n      {\n        ndef.connect();\n\n        if (!ndef.isWritable())\n        {\n  \nerrorMsg = &quot;Cannot write to this tag. This tag is read-only.&quot;;\n          return false;\n        }\n\n        if (ndef.getMaxSize() &lt; size)\n        {\n       errorMsg = &quot;Greater than MaxSize.&quot;;\n          return false;\n        }\n\n        ndef.writeNdefMessage(message);\n       \n        return true;\n      }\n\n     \n      return false;\n\n    }\n    catch (Exception e)\n    {\nerrorMsg = &quot;Cannot write to this tag due to an Exception: &quot;+e.getMessage();\n    \n    }\n\n    return false;\n  }\n\nString errorMsg=&quot;&quot;;\nprivate NdefMessage buildNdefMessage()\n  {\n    String data = Target;\n\n    String mimeType = &quot;text/plain&quot;;\n\n    byte[] mimeBytes = mimeType.getBytes(Charset.forName(&quot;UTF-8&quot;));\n    byte[] dataBytes = data.getBytes(Charset.forName(&quot;UTF-8&quot;));\n    byte[] id = new byte[0];\n\n    NdefRecord record = new NdefRecord(NdefRecord.TNF_MIME_MEDIA, mimeBytes, id, dataBytes);\n    NdefMessage message = new NdefMessage(new NdefRecord[]{record});\n\n    return message;\n  }\n\n\n private void checkNfcEnabled()\n  {\n    Boolean nfcEnabled = NFC_Adapter.isEnabled();\n    if (!nfcEnabled)\n    {\n    \n    }\n  }\n\n}\n</code></pre>\n<p>It rightly triggers if I bring my Tag close to my phone, but stops at <code>Tag = null</code>, on the onResume method. Why is <code>Tag = null</code>. With that it does not write to the tag. Please help and point me in the right direction.</p>\n"},{"tags":["java","mysql","intellij-idea","jconnect"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1514423423,"post_id":48000401,"comment_id":82969393,"body_markdown":"What is shown if you click on view?","body":"What is shown if you click on view?"},{"owner":{"account_id":10092343,"reputation":424,"user_id":7458914,"accept_rate":86,"display_name":"excelsiorious"},"score":0,"creation_date":1514423570,"post_id":48000401,"comment_id":82969427,"body_markdown":"@RomanC connection error. It is on second screen.","body":"@RomanC connection error. It is on second screen."},{"owner":{"account_id":4014683,"reputation":646,"user_id":4590215,"display_name":"Tim Strawbridge"},"score":1,"creation_date":1514423669,"post_id":48000401,"comment_id":82969451,"body_markdown":"I ran into that once or twice and I didn&#39;t have the correct JAVA_HOME set after updating. Since your on Windows, have you tried restarting? Also, if you are programming for Android, do you have the correct Android SDK installed?","body":"I ran into that once or twice and I didn&#39;t have the correct JAVA_HOME set after updating. Since your on Windows, have you tried restarting? Also, if you are programming for Android, do you have the correct Android SDK installed?"},{"owner":{"account_id":10092343,"reputation":424,"user_id":7458914,"accept_rate":86,"display_name":"excelsiorious"},"score":0,"creation_date":1514450347,"post_id":48000401,"comment_id":82976474,"body_markdown":"@TBridges no, JDK was reinstalled and JAVA_HOME checked.","body":"@TBridges no, JDK was reinstalled and JAVA_HOME checked."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514424366,"creation_date":1514423850,"answer_id":48000490,"question_id":48000401,"body_markdown":"If you configured data sources from IJ folder then a new version of IJ might contain newer versions of libraries and you should recreate you DS after upgrade.\n\nTo make a connection to databases from IJ you need to configure data sources first. A datasource contains a path to the library with drivers needed to make a connection to the server. \n\nYou can read [how to connect to databases in IJ][1].\n\n&gt;To be able to work with your database, define it as a data source.\n&gt;\n&gt;In the lower part of the dialog, within Download missing driver files, click the Download link.\n&gt;\n&gt;![](https://www.jetbrains.com/help/img/idea/2017.3/DBDownloadMissingDriverFiles.png)\n\n\n  [1]: https://www.jetbrains.com/help/idea/connecting-to-a-database.html","title":"Can&#39;t connect to MySQL in IntelliJ IDEA","body":"<p>If you configured data sources from IJ folder then a new version of IJ might contain newer versions of libraries and you should recreate you DS after upgrade.</p>\n<p>To make a connection to databases from IJ you need to configure data sources first. A datasource contains a path to the library with drivers needed to make a connection to the server.</p>\n<p>You can read <a href=\"https://www.jetbrains.com/help/idea/connecting-to-a-database.html\" rel=\"nofollow noreferrer\">how to connect to databases in IJ</a>.</p>\n<blockquote>\n<p>To be able to work with your database, define it as a data source.</p>\n<p>In the lower part of the dialog, within Download missing driver files, click the Download link.</p>\n<p><img src=\"https://www.jetbrains.com/help/img/idea/2017.3/DBDownloadMissingDriverFiles.png\" alt=\"\" /></p>\n</blockquote>\n"}],"owner":{"account_id":10092343,"reputation":424,"user_id":7458914,"accept_rate":86,"display_name":"excelsiorious"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697350727,"creation_date":1514422977,"question_id":48000401,"body_markdown":"I have this problem:\r\n\r\n![image1][1]\r\n\r\n![image2][2]\r\n\r\nThis issue (cannot find specified file) appeared when I updated IntelliJ IDEA to version 2017.3.2. \r\n\r\n    IntelliJ IDEA 2017.3.2 (Ultimate Edition)\r\n    Build #IU-173.4127.27, built on December 25, 2017\r\n    JRE: 1.8.0_152-release-1024-b8 amd64\r\n    JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\r\n    Windows 10 10.0\r\n\r\nAll input data is correct. What is the reason?\r\n\r\n  [1]: https://i.stack.imgur.com/2VqrQ.png\r\n  [2]: https://i.stack.imgur.com/sOSZY.png","title":"Can&#39;t connect to MySQL in IntelliJ IDEA","body":"<p>I have this problem:</p>\n<p><img src=\"https://i.stack.imgur.com/2VqrQ.png\" alt=\"image1\" /></p>\n<p><img src=\"https://i.stack.imgur.com/sOSZY.png\" alt=\"image2\" /></p>\n<p>This issue (cannot find specified file) appeared when I updated IntelliJ IDEA to version 2017.3.2.</p>\n<pre><code>IntelliJ IDEA 2017.3.2 (Ultimate Edition)\nBuild #IU-173.4127.27, built on December 25, 2017\nJRE: 1.8.0_152-release-1024-b8 amd64\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\nWindows 10 10.0\n</code></pre>\n<p>All input data is correct. What is the reason?</p>\n"},{"tags":["java","class","program-entry-point","rational-number"],"comments":[{"owner":{"account_id":4890736,"reputation":466,"user_id":3941955,"accept_rate":75,"display_name":"George Eco"},"score":0,"creation_date":1415668206,"post_id":26855854,"comment_id":42273877,"body_markdown":"Good thing you actually tried something. \nWhat is the error that is returned?","body":"Good thing you actually tried something.  What is the error that is returned?"},{"owner":{"account_id":5193462,"reputation":63,"user_id":4155629,"accept_rate":40,"display_name":"Somone"},"score":0,"creation_date":1415668418,"post_id":26855854,"comment_id":42273934,"body_markdown":"The error in the class says &quot;Temp might not have been initialized&quot;","body":"The error in the class says &quot;Temp might not have been initialized&quot;"},{"owner":{"account_id":4890736,"reputation":466,"user_id":3941955,"accept_rate":75,"display_name":"George Eco"},"score":0,"creation_date":1415668497,"post_id":26855854,"comment_id":42273951,"body_markdown":"See my answer, try instantiating C too. If that doesn&#39;t work I am actually studying your code.","body":"See my answer, try instantiating C too. If that doesn&#39;t work I am actually studying your code."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1415668511,"post_id":26855854,"comment_id":42273954,"body_markdown":"You need `Rational temp = new Rational();`","body":"You need <code>Rational temp = new Rational();</code>"},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1415668709,"post_id":26855854,"comment_id":42274001,"body_markdown":"as @ajb mentioned, you need to add `new Rational()` in various places, including add method, subtract method","body":"as @ajb mentioned, you need to add <code>new Rational()</code> in various places, including add method, subtract method"}],"answers":[{"tags":[],"owner":{"account_id":4890736,"reputation":466,"user_id":3941955,"accept_rate":75,"display_name":"George Eco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415670780,"creation_date":1415668276,"answer_id":26855895,"question_id":26855854,"body_markdown":"    //Here goes commented code:\r\n    \r\n    \r\n    public class Rational \r\n    \t{\r\n    \r\n    \t\tprivate int numerator; // You can declare private variables here all right\r\n    \t\tprivate int denominator;\r\n    \r\n    \t\t\r\n    \t\t// This constructor creates a new object of the class Rational. Objects are instances of that class, all right? \r\n    \t\tpublic Rational()\r\n    \t\t\t{\r\n    \t\t\t\tnumerator = 0;\r\n    \t\t\t\tdenominator = 1;\t\t\t\t\r\n    \t\t\t\t//private int numerator = 0; \r\n    \t\t\t\t//private int denominator = 1; // I get it, you need them even when not giving arguments, but it is better to do stuff in constructors. You better try to make declarations in the constructor and not in the begining of a class, if possible.\r\n\r\n    \t\t\t} \r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t// Here is the constructor overriden, so you can create an instance that contains 4 arguments. (n,d,num,denom) Good.\r\n    \t\tpublic Rational(int n, int d, int num, int denom)\r\n    \t\t{\r\n    \t\t\t// You repeat yourself in the constructor.\r\n    \t\t\t// public void setDenominator(int n, int d, int num, int denom) does the same thing right?\r\n    \t\t\t// I don&#39;t remember now, but I think that on instantiation you can&#39;t use methods, if you don&#39;t add the word static.\r\n    \t\t\t// public static void setDenominator(int n, int d, int num, int denom) will make you able to call it in the constructor!\r\n    \t\t\tif (d &lt; 0)\r\n    \t\t\t{\r\n    \t\t\t\tnum = -n;\r\n    \t\t\t\tdenom = d;\r\n    \t\t\t}\r\n    \r\n    \t\t\telse if (d == 0)\r\n    \t\t\t{\r\n    \t\t\t\tnum = n;\r\n    \t\t\t\tdenom = 1;\r\n    \t\t\t}\r\n    \r\n    \t\t\telse \r\n    \t\t\t{\r\n    \t\t\t\tnum = n;\r\n    \t\t\t\tdenom = 0;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    public int getNumerator()\r\n    {\r\n        return numerator;\r\n    }\r\n    \r\n    \r\n    public int getDenominator()\r\n    {\r\n        return denominator;\r\n    }\r\n    \r\n    public void setNumerator(int n)\r\n    {\r\n        numerator = n;\r\n    }\r\n    \r\n    public void setDenominator(int n, int d, int num, int denom) // FIX IT. ADD STATIC\r\n    {\r\n        denominator = d;\r\n        if (d &lt; 0)\r\n        {\r\n            num = -n;\r\n            denom = d;\r\n        }\r\n    \r\n        else if (d == 0)\r\n        {\r\n            num = n;\r\n            denom = 1;\r\n        }\r\n    \r\n        else\r\n        {\r\n            num = n;\r\n            denom = 0;\r\n        }\r\n    }\r\n    \r\n    public String toString()\r\n    {\r\n        return numerator + &quot;/&quot; + denominator; \r\n    }\r\n    \r\n    public boolean equals (Rational other)\r\n    {\r\n        if(numerator * other.denominator == denominator * other.numerator)\r\n            return true;\r\n        else \r\n            return false;\r\n    }\r\n    \r\n    public boolean notequals(Rational other)\r\n    {\r\n        if (numerator * other.denominator != denominator * other.numerator)\r\n            return true;\r\n        else \r\n            return false;\r\n    }\r\n    \r\n    //subtract method\r\n    public Rational subtract(Rational other)\r\n    {\r\n        Rational temp;\r\n        temp.numerator = numerator * other.denominator - denominator * other.numerator;\r\n        temp.denominator = denominator * other.denominator;\r\n        return temp;\r\n    } // THIS RETURNS temp THAT IS AN OBJECT OF THE TYPE Rational!!! Remember that.\r\n    \r\n    \r\n    //add method\r\n    public Rational add(Rational other)\r\n    {\r\n        Rational temp;\r\n        temp.numerator = numerator * other.denominator + denominator * other.numerator;\r\n        temp.denominator = denominator * other.denominator;\r\n        return temp;\r\n    }// THIS RETURNS temp THAT IS AN OBJECT OF THE TYPE Rational!!! Remember that.\r\n    \r\n    public boolean lessThan(Rational other)\r\n    {\r\n        return(numerator * other.denominator &lt; denominator * other.numerator);\r\n    }// What type is this method return? Here is the gap you must fill. If you learn how to handel what methods return, you will be fine. Try stuff out.\r\n    \r\n    public boolean greterThan(Rational other)\r\n    {\r\n        return(numerator * other.denominator &gt; denominator * other.numerator);\r\n    }\r\n    \r\n    public boolean lessThanEqualTo(Rational other)\r\n    {\r\n        return(numerator * other.denominator &lt;= denominator * other.numerator);\r\n    }\r\n    \r\n    public boolean greaterThanEqual(Rational other)\r\n    {\r\n        return(numerator * other.denominator &gt;= denominator * other.numerator);\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    }","title":"Rational Number Java Project","body":"<pre><code>//Here goes commented code:\n\n\npublic class Rational \n    {\n\n        private int numerator; // You can declare private variables here all right\n        private int denominator;\n\n\n        // This constructor creates a new object of the class Rational. Objects are instances of that class, all right? \n        public Rational()\n            {\n                numerator = 0;\n                denominator = 1;                \n                //private int numerator = 0; \n                //private int denominator = 1; // I get it, you need them even when not giving arguments, but it is better to do stuff in constructors. You better try to make declarations in the constructor and not in the begining of a class, if possible.\n\n            } \n\n\n\n        // Here is the constructor overriden, so you can create an instance that contains 4 arguments. (n,d,num,denom) Good.\n        public Rational(int n, int d, int num, int denom)\n        {\n            // You repeat yourself in the constructor.\n            // public void setDenominator(int n, int d, int num, int denom) does the same thing right?\n            // I don't remember now, but I think that on instantiation you can't use methods, if you don't add the word static.\n            // public static void setDenominator(int n, int d, int num, int denom) will make you able to call it in the constructor!\n            if (d &lt; 0)\n            {\n                num = -n;\n                denom = d;\n            }\n\n            else if (d == 0)\n            {\n                num = n;\n                denom = 1;\n            }\n\n            else \n            {\n                num = n;\n                denom = 0;\n            }\n        }\n\npublic int getNumerator()\n{\n    return numerator;\n}\n\n\npublic int getDenominator()\n{\n    return denominator;\n}\n\npublic void setNumerator(int n)\n{\n    numerator = n;\n}\n\npublic void setDenominator(int n, int d, int num, int denom) // FIX IT. ADD STATIC\n{\n    denominator = d;\n    if (d &lt; 0)\n    {\n        num = -n;\n        denom = d;\n    }\n\n    else if (d == 0)\n    {\n        num = n;\n        denom = 1;\n    }\n\n    else\n    {\n        num = n;\n        denom = 0;\n    }\n}\n\npublic String toString()\n{\n    return numerator + \"/\" + denominator; \n}\n\npublic boolean equals (Rational other)\n{\n    if(numerator * other.denominator == denominator * other.numerator)\n        return true;\n    else \n        return false;\n}\n\npublic boolean notequals(Rational other)\n{\n    if (numerator * other.denominator != denominator * other.numerator)\n        return true;\n    else \n        return false;\n}\n\n//subtract method\npublic Rational subtract(Rational other)\n{\n    Rational temp;\n    temp.numerator = numerator * other.denominator - denominator * other.numerator;\n    temp.denominator = denominator * other.denominator;\n    return temp;\n} // THIS RETURNS temp THAT IS AN OBJECT OF THE TYPE Rational!!! Remember that.\n\n\n//add method\npublic Rational add(Rational other)\n{\n    Rational temp;\n    temp.numerator = numerator * other.denominator + denominator * other.numerator;\n    temp.denominator = denominator * other.denominator;\n    return temp;\n}// THIS RETURNS temp THAT IS AN OBJECT OF THE TYPE Rational!!! Remember that.\n\npublic boolean lessThan(Rational other)\n{\n    return(numerator * other.denominator &lt; denominator * other.numerator);\n}// What type is this method return? Here is the gap you must fill. If you learn how to handel what methods return, you will be fine. Try stuff out.\n\npublic boolean greterThan(Rational other)\n{\n    return(numerator * other.denominator &gt; denominator * other.numerator);\n}\n\npublic boolean lessThanEqualTo(Rational other)\n{\n    return(numerator * other.denominator &lt;= denominator * other.numerator);\n}\n\npublic boolean greaterThanEqual(Rational other)\n{\n    return(numerator * other.denominator &gt;= denominator * other.numerator);\n}\n\n\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":5193462,"reputation":63,"user_id":4155629,"accept_rate":40,"display_name":"Somone"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14341,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1697350020,"creation_date":1415668005,"question_id":26855854,"body_markdown":"For this project I have to create a rational number class that has 2 parts an int numerator and int denominator. I had to add two contractions where the negative denominator has to be moved to the numerator. I also added getters and setters and a toString(). The data should print as numerator/denominator. \r\nI also had to code member methods for addition, subtraction, multiplications, and division and negate(?) I am not sure what that last part means.\r\n\r\nI have the class done already but Eclipse is giving me an error with the add and subtract method around the part where I typed &quot;temp&quot;. Please let me know if I have anything that is incorrect or if I am missing something.\r\n    \r\n    public class Rational {\t\t\r\n      \tprivate int numerator;\r\n      \tprivate int denominator;\r\n    \t\r\n    \tpublic Rational()\r\n    \t{\r\n    \t\tnumerator = 0;\r\n    \t\tdenominator = 1;\r\n    \t}\r\n    \t\r\n    \tpublic Rational(int n, int d, int num, int denom)\r\n    \t{\r\n    \t\tif (d &lt; 0)\r\n    \t\t{\r\n    \t\t\tnum = -n;\r\n    \t\t\tdenom = d;\r\n    \t\t}    \t\t\r\n    \t\telse if (d == 0)\r\n    \t\t{\r\n    \t\t\tnum = n;\r\n    \t\t\tdenom = 1;\r\n    \t\t}    \t\t\r\n    \t\telse \r\n    \t\t{\r\n    \t\t\tnum = n;\r\n    \t\t\tdenom = 0;\r\n    \t\t}\r\n    \t}\r\n    \t\t\r\n    \tpublic int getNumerator()\r\n    \t{\r\n    \t\treturn numerator;\r\n    \t}\r\n    \t\r\n    \tpublic int getDenominator()\r\n    \t{\r\n    \t\treturn denominator;\r\n    \t}\r\n    \t\r\n    \tpublic void setNumerator(int n)\r\n    \t{\r\n    \t\tnumerator = n;\r\n    \t}\r\n    \t\r\n    \tpublic void setDenominator(int n, int d, int num, int denom) \r\n    \t{\r\n    \t\tdenominator = d;\r\n    \t\tif (d &lt; 0)\r\n    \t\t{\r\n    \t\t\tnum = -n;\r\n    \t\t\tdenom = d;\r\n    \t\t}    \t\t\r\n    \t\telse if (d == 0)\r\n    \t\t{\r\n    \t\t\tnum = n;\r\n    \t\t\tdenom = 1;\r\n    \t\t}    \t\t\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tnum = n;\r\n    \t\t\tdenom = 0;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic String toString()\r\n    \t{\r\n    \t\treturn numerator + &quot;/&quot; + denominator; \r\n    \t}\r\n    \t\r\n    \tpublic boolean equals (Rational other)\r\n    \t{\r\n    \t\tif(numerator * other.denominator == denominator * other.numerator)\r\n    \t\t\treturn true;\r\n    \t\telse \r\n    \t\t\treturn false;\r\n    \t}\r\n    \t\r\n    \tpublic boolean notequals(Rational other)\r\n    \t{\r\n    \t\tif (numerator * other.denominator != denominator * other.numerator)\r\n    \t\t\treturn true;\r\n    \t\telse \r\n    \t\t\treturn false;\r\n    \t}\r\n    \t\r\n    \t//subtract method\r\n    \tpublic Rational subtract(Rational other)\r\n    \t{\r\n    \t\tRational temp;\r\n    \t\ttemp.numerator = numerator * other.denominator - denominator * other.numerator;\r\n    \t\ttemp.denominator = denominator * other.denominator;\r\n    \t\treturn temp;\r\n    \t}\r\n\r\n    \t//add method\r\n    \tpublic Rational add(Rational other)\r\n    \t{\r\n    \t\tRational temp;\r\n    \t\ttemp.numerator = numerator * other.denominator + denominator * other.numerator;\r\n    \t\ttemp.denominator = denominator * other.denominator;\r\n    \t\treturn temp;\r\n    \t}\r\n    \t\r\n    \tpublic boolean lessThan(Rational other)\r\n    \t{\r\n    \t\treturn(numerator * other.denominator &lt; denominator * other.numerator);\r\n    \t}\r\n    \t\r\n    \tpublic boolean greterThan(Rational other)\r\n    \t{\r\n    \t\treturn(numerator * other.denominator &gt; denominator * other.numerator);\r\n    \t}\r\n    \t\r\n    \tpublic boolean lessThanEqualTo(Rational other)\r\n    \t{\r\n    \t\treturn(numerator * other.denominator &lt;= denominator * other.numerator);\r\n    \t}\r\n    \t\r\n    \tpublic boolean greaterThanEqual(Rational other)\r\n    \t{\r\n    \t\treturn(numerator * other.denominator &gt;= denominator * other.numerator);\r\n    \t}\r\n    }\r\n\r\nI am however struggling with the main to test each method.\r\nHere is what I have so far:\r\n\r\n\r\n    public class Project4 {\r\n        public static void main(String[] args) {\r\n        \tRational a = new Rational();\r\n    \t    Rational b = new Rational();\r\n        \tRational c;\r\n        \tc = a.add(b);\r\n        }   \r\n    }\r\n","title":"Rational Number Java Project","body":"<p>For this project I have to create a rational number class that has 2 parts an int numerator and int denominator. I had to add two contractions where the negative denominator has to be moved to the numerator. I also added getters and setters and a toString(). The data should print as numerator/denominator. \nI also had to code member methods for addition, subtraction, multiplications, and division and negate(?) I am not sure what that last part means.</p>\n\n<p>I have the class done already but Eclipse is giving me an error with the add and subtract method around the part where I typed \"temp\". Please let me know if I have anything that is incorrect or if I am missing something.</p>\n\n<pre><code>public class Rational {     \n    private int numerator;\n    private int denominator;\n\n    public Rational()\n    {\n        numerator = 0;\n        denominator = 1;\n    }\n\n    public Rational(int n, int d, int num, int denom)\n    {\n        if (d &lt; 0)\n        {\n            num = -n;\n            denom = d;\n        }           \n        else if (d == 0)\n        {\n            num = n;\n            denom = 1;\n        }           \n        else \n        {\n            num = n;\n            denom = 0;\n        }\n    }\n\n    public int getNumerator()\n    {\n        return numerator;\n    }\n\n    public int getDenominator()\n    {\n        return denominator;\n    }\n\n    public void setNumerator(int n)\n    {\n        numerator = n;\n    }\n\n    public void setDenominator(int n, int d, int num, int denom) \n    {\n        denominator = d;\n        if (d &lt; 0)\n        {\n            num = -n;\n            denom = d;\n        }           \n        else if (d == 0)\n        {\n            num = n;\n            denom = 1;\n        }           \n        else\n        {\n            num = n;\n            denom = 0;\n        }\n    }\n\n    public String toString()\n    {\n        return numerator + \"/\" + denominator; \n    }\n\n    public boolean equals (Rational other)\n    {\n        if(numerator * other.denominator == denominator * other.numerator)\n            return true;\n        else \n            return false;\n    }\n\n    public boolean notequals(Rational other)\n    {\n        if (numerator * other.denominator != denominator * other.numerator)\n            return true;\n        else \n            return false;\n    }\n\n    //subtract method\n    public Rational subtract(Rational other)\n    {\n        Rational temp;\n        temp.numerator = numerator * other.denominator - denominator * other.numerator;\n        temp.denominator = denominator * other.denominator;\n        return temp;\n    }\n\n    //add method\n    public Rational add(Rational other)\n    {\n        Rational temp;\n        temp.numerator = numerator * other.denominator + denominator * other.numerator;\n        temp.denominator = denominator * other.denominator;\n        return temp;\n    }\n\n    public boolean lessThan(Rational other)\n    {\n        return(numerator * other.denominator &lt; denominator * other.numerator);\n    }\n\n    public boolean greterThan(Rational other)\n    {\n        return(numerator * other.denominator &gt; denominator * other.numerator);\n    }\n\n    public boolean lessThanEqualTo(Rational other)\n    {\n        return(numerator * other.denominator &lt;= denominator * other.numerator);\n    }\n\n    public boolean greaterThanEqual(Rational other)\n    {\n        return(numerator * other.denominator &gt;= denominator * other.numerator);\n    }\n}\n</code></pre>\n\n<p>I am however struggling with the main to test each method.\nHere is what I have so far:</p>\n\n<pre><code>public class Project4 {\n    public static void main(String[] args) {\n        Rational a = new Rational();\n        Rational b = new Rational();\n        Rational c;\n        c = a.add(b);\n    }   \n}\n</code></pre>\n"},{"tags":["java","uima"],"answers":[{"tags":[],"owner":{"account_id":2930965,"reputation":10535,"user_id":2511197,"accept_rate":50,"display_name":"rec"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697349990,"creation_date":1697349990,"answer_id":77295482,"question_id":77253588,"body_markdown":"The views are part of the CAS object, so you should not consider them thread-safe either.\r\n\r\nThe common approach to using CAS objects in a multi-threaded environment is to either the trivial way:\r\n\r\n* process one CAS per thread\r\n\r\nor the sophisticated way:\r\n\r\n* using a CasMultiplier to split a CAS up into multiple CASes\r\n* processing each of the split CASes one-per-thread\r\n* merging the results back into a single CAS using a CasMultiplier\r\n\r\nThe CasMultiplier would typically internally use the CasCopier to transfer FeatureStructures between source and target CAS objects.\r\n\r\nOf course, you can use a CAS without UIMA&#39;s pipelining model (i.e. without CasMultiplier), but the approach using the CasCopier to first distribute data from a source CAS to multiple target CASes, processing these individually and then merging back remains the same.\r\n\r\nNote that you can set a mark in a CAS to tell UIMA to track any FeatureStructures that have added after the creatio of the mark. You can set this mark after each of the split-up CASes have been created to help you discovering which are the new FeatureStructures in each of the copy and then only merge those new ones back into the original CAS using the CasCopier in the final step.\r\n\r\nComing back to your original question: if you would be working with views, the CasCopier would also be the way to go for copying data between views.\r\n\r\n*Disclosure: I am a contributor to the Apache UIMA project.*","title":"UIMA CAS FSIndexRepository Merging","body":"<p>The views are part of the CAS object, so you should not consider them thread-safe either.</p>\n<p>The common approach to using CAS objects in a multi-threaded environment is to either the trivial way:</p>\n<ul>\n<li>process one CAS per thread</li>\n</ul>\n<p>or the sophisticated way:</p>\n<ul>\n<li>using a CasMultiplier to split a CAS up into multiple CASes</li>\n<li>processing each of the split CASes one-per-thread</li>\n<li>merging the results back into a single CAS using a CasMultiplier</li>\n</ul>\n<p>The CasMultiplier would typically internally use the CasCopier to transfer FeatureStructures between source and target CAS objects.</p>\n<p>Of course, you can use a CAS without UIMA's pipelining model (i.e. without CasMultiplier), but the approach using the CasCopier to first distribute data from a source CAS to multiple target CASes, processing these individually and then merging back remains the same.</p>\n<p>Note that you can set a mark in a CAS to tell UIMA to track any FeatureStructures that have added after the creatio of the mark. You can set this mark after each of the split-up CASes have been created to help you discovering which are the new FeatureStructures in each of the copy and then only merge those new ones back into the original CAS using the CasCopier in the final step.</p>\n<p>Coming back to your original question: if you would be working with views, the CasCopier would also be the way to go for copying data between views.</p>\n<p><em>Disclosure: I am a contributor to the Apache UIMA project.</em></p>\n"}],"owner":{"account_id":28272739,"reputation":13,"user_id":21615663,"display_name":"dawit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77295482,"answer_count":1,"score":0,"last_activity_date":1697349990,"creation_date":1696767600,"question_id":77253588,"body_markdown":"I&#39;m currently working in a project with the UIMA framework in JAVA 11. \r\n\r\nAn interesting avenue for us is multithreading, specifically using CAS-objects in a multithreaded environment. Since CAS-objects are not thread-safe, we considered using Views to write to and then merge the different Views. \r\n\r\nThe merge step is necessary because at some point in the pipeline a node may depend on two parent nodes annotation to proceed. \r\n\r\nI have gathered that CAS-objects store the annotations inside of the FSIndexRepository and that every View of a CAS-object has its own FSIndexRepository. \r\n\r\nThat is how I came to the question, wether there is a way of merging two CAS-Views?","title":"UIMA CAS FSIndexRepository Merging","body":"<p>I'm currently working in a project with the UIMA framework in JAVA 11.</p>\n<p>An interesting avenue for us is multithreading, specifically using CAS-objects in a multithreaded environment. Since CAS-objects are not thread-safe, we considered using Views to write to and then merge the different Views.</p>\n<p>The merge step is necessary because at some point in the pipeline a node may depend on two parent nodes annotation to proceed.</p>\n<p>I have gathered that CAS-objects store the annotations inside of the FSIndexRepository and that every View of a CAS-object has its own FSIndexRepository.</p>\n<p>That is how I came to the question, wether there is a way of merging two CAS-Views?</p>\n"},{"tags":["java","postgresql","spring-boot","maven","jpa"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1697368755,"post_id":77295233,"comment_id":136268796,"body_markdown":"Extremely out of date all the frameworks you are usign Spring Framework or spring Boot are ancient old... Which Maven plugin? (assumption surefire 2.22.0) also ancient old... JDK version 1.8 .. is not even on current state (1.8....382??) ... Also the code has some design flaws because eaiting up exceptions and returning  null is a really bad idea... there are optionals or just giving back an empty list for not finding something. The so called checked code? Is this a kind of unit test?","body":"Extremely out of date all the frameworks you are usign Spring Framework or spring Boot are ancient old... Which Maven plugin? (assumption surefire 2.22.0) also ancient old... JDK version 1.8 .. is not even on current state (1.8....382??) ... Also the code has some design flaws because eaiting up exceptions and returning  null is a really bad idea... there are optionals or just giving back an empty list for not finding something. The so called checked code? Is this a kind of unit test?"}],"answers":[{"tags":[],"owner":{"account_id":1798188,"reputation":103,"user_id":1637118,"display_name":"Timur Celikel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697349884,"creation_date":1697349884,"answer_id":77295476,"question_id":77295233,"body_markdown":"It might be helpful if you provide a little more information on what the master seat table is represented as. Is your master seat table represented as a JPA Entity? Is that what Seat is?\r\n\r\nIn any case if you are setting some data on a Seat object it&#39;s quite possible that it&#39;s getting persisted after a flush. It can be flushed by some triggering event or if your code is wrapped in @Transactional. \r\n\r\nYou might also look for any CascadeType.PERSIST on any of your entities as this will also potentially add additional data to other entities that you may not be expecting.\r\n\r\nOne thing to try would be to turn on the debug log level with hibernate show queries set to true. This may help you track down where in your code the errant persistence is happening. ","title":"Spring Boot data in the database is updated after running the data status checking process","body":"<p>It might be helpful if you provide a little more information on what the master seat table is represented as. Is your master seat table represented as a JPA Entity? Is that what Seat is?</p>\n<p>In any case if you are setting some data on a Seat object it's quite possible that it's getting persisted after a flush. It can be flushed by some triggering event or if your code is wrapped in @Transactional.</p>\n<p>You might also look for any CascadeType.PERSIST on any of your entities as this will also potentially add additional data to other entities that you may not be expecting.</p>\n<p>One thing to try would be to turn on the debug log level with hibernate show queries set to true. This may help you track down where in your code the errant persistence is happening.</p>\n"}],"owner":{"account_id":4586302,"reputation":11,"user_id":3720851,"display_name":"David Sinaga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697349884,"creation_date":1697341240,"question_id":77295233,"body_markdown":"I am frustrated because of these blocks of Java code that I write. I write these blocks of code to check the seat availability status of data and then save the reservation data. After the comparison process, I noticed that the data in my master seat table have been updated and I am pretty sure that the code is not supposed to update the data in my master seat table. Here is the snippet of the code.\r\n\r\n```\r\npublic List&lt;CheckInSeatResponse&gt; getGroupSeatData(Long serviceId, Date departDate, String departGroup, String destinationGroup, Long busId) {\r\n    try {\r\n        List&lt;CheckInSeatResponse&gt; manifestData = manifestPassengerRepository.getGroupSeatData( departDate, departGroup, destinationGroup, busId, serviceId);\r\n        return manifestData;\r\n    } catch (Exception e) {\r\n        log.error(e.getMessage());\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic List&lt;Seat&gt; getGroupSeatMap(Long serviceId, Date departDate, String departGroup, String destinationGroup, Long busId) {\r\n    try {\r\n        List&lt;CheckInSeatResponse&gt; manifestData = getGroupSeatData( serviceId, departDate, departGroup, destinationGroup, busId);\r\n        List&lt;Seat&gt; seatData = seatBusRepository.findByBusIdOrderByIdAsc(busId);\r\n        List&lt;Seat&gt; seatMap = new ArrayList&lt;&gt;();\r\n        if (manifestData != null) {\r\n            for (Seat seat : seatData) {\r\n                Seat newSeat = seat;\r\n                for (CheckInSeatResponse seatCheck : manifestData) {\r\n                    if (seatCheck.getSeatNumber() != null &amp;&amp; seatCheck.getSeatNumber().equals(seat.getSeatNumber())) {\r\n                        newSeat.setSeatStatus(&quot;notAvailable&quot;);\r\n                    }\r\n                }\r\n                seatMap.add(newSeat);\r\n            }\r\n            return seatMap;\r\n        } else {\r\n            return seatData;\r\n        }\r\n    } catch (Exception e) {\r\n        log.error(e.getMessage());\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nAnd here the check process code\r\n\r\n```\r\nList&lt;Seat&gt; seats = manifestService.getGroupSeatMap(\r\n        reservation.getServiceBusId(),\r\n        reservation.getDepartureDate(),\r\n        depart.getGroupDestination(),\r\n        destination.getGroupDestination(),\r\n        request.getDepartBusId());\r\nfor (DetailCheckInResultResponse passenger : request.getPassenggerDepart()) {\r\n    for (Seat seat : seats) {\r\n        if (passenger.getSeat().equals(seat.getSeatNumber()) &amp;&amp; &quot;notAvailable&quot;.equals(seat.getSeatStatus())) {\r\n            response.setStatus(&quot;failed&quot;);\r\n            response.setMessage(&quot;Seat &quot; + seat.getSeatNumber() + &quot; not available&quot;);\r\n            return response;\r\n        }\r\n    }\r\n}\r\nif (reservation.getReservationType()) {\r\n    List&lt;Seat&gt; seatRets = manifestService.getGroupSeatMap(\r\n            reservation.getServiceBusId(),\r\n            reservation.getReturnDate(),\r\n            destination.getGroupDestination(),\r\n            depart.getGroupDestination(),\r\n            request.getReturnBusId());\r\n    for (DetailCheckInResultResponse passenger : request.getPassenggerReturn()) {\r\n        for (Seat seat : seatRets) {\r\n            if (passenger.getSeat().equals(seat.getSeatNumber()) &amp;&amp; &quot;notAvailable&quot;.equals(seat.getSeatStatus())) {\r\n                response.setStatus(&quot;failed&quot;);\r\n                response.setMessage(&quot;Seat &quot; + seat.getSeatNumber() + &quot; not available&quot;);\r\n                return response;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhat am I doing wrong with this code block?\r\n\r\nMy env detail\r\n\r\n- Spring Framework : 2.3.1\r\n\r\n- Java : 1.8.0_211\r\n\r\n- Maven plugin : 2.22.0\r\n\r\n- DBMS : PostgreSQL 13.8\r\n\r\nPlease help. Thank you in advanced.\r\n\r\nRegards,\r\n\r\nDavid\r\n\r\nI&#39;ve tried to convert the data into list of string and parse it into JSON so the data won&#39;t be changed. It works but I am sure that requires much more resources so I&#39;m expecting the seat status in the master seat table was not updated after saving reservation data with my current code.","title":"Spring Boot data in the database is updated after running the data status checking process","body":"<p>I am frustrated because of these blocks of Java code that I write. I write these blocks of code to check the seat availability status of data and then save the reservation data. After the comparison process, I noticed that the data in my master seat table have been updated and I am pretty sure that the code is not supposed to update the data in my master seat table. Here is the snippet of the code.</p>\n<pre><code>public List&lt;CheckInSeatResponse&gt; getGroupSeatData(Long serviceId, Date departDate, String departGroup, String destinationGroup, Long busId) {\n    try {\n        List&lt;CheckInSeatResponse&gt; manifestData = manifestPassengerRepository.getGroupSeatData( departDate, departGroup, destinationGroup, busId, serviceId);\n        return manifestData;\n    } catch (Exception e) {\n        log.error(e.getMessage());\n        return null;\n    }\n}\n</code></pre>\n<pre><code>public List&lt;Seat&gt; getGroupSeatMap(Long serviceId, Date departDate, String departGroup, String destinationGroup, Long busId) {\n    try {\n        List&lt;CheckInSeatResponse&gt; manifestData = getGroupSeatData( serviceId, departDate, departGroup, destinationGroup, busId);\n        List&lt;Seat&gt; seatData = seatBusRepository.findByBusIdOrderByIdAsc(busId);\n        List&lt;Seat&gt; seatMap = new ArrayList&lt;&gt;();\n        if (manifestData != null) {\n            for (Seat seat : seatData) {\n                Seat newSeat = seat;\n                for (CheckInSeatResponse seatCheck : manifestData) {\n                    if (seatCheck.getSeatNumber() != null &amp;&amp; seatCheck.getSeatNumber().equals(seat.getSeatNumber())) {\n                        newSeat.setSeatStatus(&quot;notAvailable&quot;);\n                    }\n                }\n                seatMap.add(newSeat);\n            }\n            return seatMap;\n        } else {\n            return seatData;\n        }\n    } catch (Exception e) {\n        log.error(e.getMessage());\n        return null;\n    }\n}\n</code></pre>\n<p>And here the check process code</p>\n<pre><code>List&lt;Seat&gt; seats = manifestService.getGroupSeatMap(\n        reservation.getServiceBusId(),\n        reservation.getDepartureDate(),\n        depart.getGroupDestination(),\n        destination.getGroupDestination(),\n        request.getDepartBusId());\nfor (DetailCheckInResultResponse passenger : request.getPassenggerDepart()) {\n    for (Seat seat : seats) {\n        if (passenger.getSeat().equals(seat.getSeatNumber()) &amp;&amp; &quot;notAvailable&quot;.equals(seat.getSeatStatus())) {\n            response.setStatus(&quot;failed&quot;);\n            response.setMessage(&quot;Seat &quot; + seat.getSeatNumber() + &quot; not available&quot;);\n            return response;\n        }\n    }\n}\nif (reservation.getReservationType()) {\n    List&lt;Seat&gt; seatRets = manifestService.getGroupSeatMap(\n            reservation.getServiceBusId(),\n            reservation.getReturnDate(),\n            destination.getGroupDestination(),\n            depart.getGroupDestination(),\n            request.getReturnBusId());\n    for (DetailCheckInResultResponse passenger : request.getPassenggerReturn()) {\n        for (Seat seat : seatRets) {\n            if (passenger.getSeat().equals(seat.getSeatNumber()) &amp;&amp; &quot;notAvailable&quot;.equals(seat.getSeatStatus())) {\n                response.setStatus(&quot;failed&quot;);\n                response.setMessage(&quot;Seat &quot; + seat.getSeatNumber() + &quot; not available&quot;);\n                return response;\n            }\n        }\n    }\n}\n</code></pre>\n<p>What am I doing wrong with this code block?</p>\n<p>My env detail</p>\n<ul>\n<li><p>Spring Framework : 2.3.1</p>\n</li>\n<li><p>Java : 1.8.0_211</p>\n</li>\n<li><p>Maven plugin : 2.22.0</p>\n</li>\n<li><p>DBMS : PostgreSQL 13.8</p>\n</li>\n</ul>\n<p>Please help. Thank you in advanced.</p>\n<p>Regards,</p>\n<p>David</p>\n<p>I've tried to convert the data into list of string and parse it into JSON so the data won't be changed. It works but I am sure that requires much more resources so I'm expecting the seat status in the master seat table was not updated after saving reservation data with my current code.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":4,"creation_date":1697347216,"post_id":77295357,"comment_id":136267124,"body_markdown":"Possible, yes. Probable, no.","body":"Possible, yes. Probable, no."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1697347839,"post_id":77295357,"comment_id":136267158,"body_markdown":"We cannot tell you whether it will work.  It depends on the application, how the JAR file was created, the bug you are trying to fix ... and your ingenuity.  On problem is that decompilers often don&#39;t produce correct Java code that is functionality equivalent to the bytecodes.","body":"We cannot tell you whether it will work.  It depends on the application, how the JAR file was created, the bug you are trying to fix ... and your ingenuity.  On problem is that decompilers often don&#39;t produce correct Java code that is functionality equivalent to the bytecodes."}],"answers":[{"tags":[],"owner":{"account_id":20313653,"reputation":848,"user_id":14900042,"display_name":"user-id-14900042"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697347879,"creation_date":1697347263,"answer_id":77295394,"question_id":77295357,"body_markdown":"Your best bet is obtain the original source code.\r\n\r\nHowever, if that&#39;s not possible, the following is how you can archive source:\r\n\r\n1. Run `mvn dependency:get \\\r\n  -DrepoUrl=https://www.jetbrains.com/intellij-repository/releases/ \\\r\n  -Dartifact=com.jetbrains.intellij.java:java-decompiler-engine:LATEST \\\r\n  -Ddest=.` in your terminal. This will download JetBrains&#39; decompiler (also known as [fernflower](https://github.com/JetBrains/intellij-community/tree/master/plugins/java-decompiler)).\r\n2. Run it: `java -jar java-decompiler-engine -dgs=1 -ind=4 your-spring-project.jar your-spring-project-decompiled.jar`. `-dgs=1` is recommended because it includes generic signature (you don&#39;t need care if your project does not use them). `-ind=4` is also recommended because it will emit **3 spaces** per indentation on default configuration.\r\n3. You will get source code in `your-spring-project-decompiled.jar`. You need to extract them as if it was ZIP archive (you don&#39;t have to rename them) to access decompiled source code.","title":"Is possible to decompiled jar is to recompile it","body":"<p>Your best bet is obtain the original source code.</p>\n<p>However, if that's not possible, the following is how you can archive source:</p>\n<ol>\n<li>Run <code>mvn dependency:get \\ -DrepoUrl=https://www.jetbrains.com/intellij-repository/releases/ \\ -Dartifact=com.jetbrains.intellij.java:java-decompiler-engine:LATEST \\ -Ddest=.</code> in your terminal. This will download JetBrains' decompiler (also known as <a href=\"https://github.com/JetBrains/intellij-community/tree/master/plugins/java-decompiler\" rel=\"nofollow noreferrer\">fernflower</a>).</li>\n<li>Run it: <code>java -jar java-decompiler-engine -dgs=1 -ind=4 your-spring-project.jar your-spring-project-decompiled.jar</code>. <code>-dgs=1</code> is recommended because it includes generic signature (you don't need care if your project does not use them). <code>-ind=4</code> is also recommended because it will emit <strong>3 spaces</strong> per indentation on default configuration.</li>\n<li>You will get source code in <code>your-spring-project-decompiled.jar</code>. You need to extract them as if it was ZIP archive (you don't have to rename them) to access decompiled source code.</li>\n</ol>\n"}],"owner":{"account_id":29672194,"reputation":1,"user_id":22741150,"display_name":"Maran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1697350163,"answer_count":1,"score":-3,"last_activity_date":1697347879,"creation_date":1697346139,"question_id":77295357,"body_markdown":"I have a JAR file. I want to decompile it and resolve the bugs and then recompile it. Is it possible? And how?\r\n\r\nI have a spring boot project l make. It has a JAR. I want to decompile the JAR, resolve the bug and then need recompile it.","title":"Is possible to decompiled jar is to recompile it","body":"<p>I have a JAR file. I want to decompile it and resolve the bugs and then recompile it. Is it possible? And how?</p>\n<p>I have a spring boot project l make. It has a JAR. I want to decompile the JAR, resolve the bug and then need recompile it.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5018541,"reputation":12086,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":1,"creation_date":1697234385,"post_id":77290808,"comment_id":136259256,"body_markdown":"I&#39;m not sure I understand the question. Are you saying that it doesn&#39;t work, or that you&#39;re not sure whether it works or not and want help testing it?","body":"I&#39;m not sure I understand the question. Are you saying that it doesn&#39;t work, or that you&#39;re not sure whether it works or not and want help testing it?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697271600,"post_id":77290808,"comment_id":136261305,"body_markdown":"The code you posted should work fine. What is your question?","body":"The code you posted should work fine. What is your question?"},{"owner":{"account_id":15389687,"reputation":21,"user_id":22061256,"display_name":"Rodrigo Santos"},"score":0,"creation_date":1697279336,"post_id":77290808,"comment_id":136261848,"body_markdown":"My question is: in this code, how do I &quot;catch&quot; the date and other questions. Because any value I put differently breaks it.","body":"My question is: in this code, how do I &quot;catch&quot; the date and other questions. Because any value I put differently breaks it."},{"owner":{"account_id":15389687,"reputation":21,"user_id":22061256,"display_name":"Rodrigo Santos"},"score":0,"creation_date":1697279899,"post_id":77290808,"comment_id":136261877,"body_markdown":"Example: \n\n```System.out.print(&quot;Contract date dd/MM/yyyy: &quot;);\nLocalDate data = LocalDate.parse(sc.next(),fmt);\n\nSystem.out.print(&quot;Enter the contract value: &quot;);\ndoubletotalValue = sc.nextDouble();```","body":"Example:   <code>System.out.print(&quot;Contract date dd&#47;MM&#47;yyyy: &quot;); LocalDate data = LocalDate.parse(sc.next(),fmt);  System.out.print(&quot;Enter the contract value: &quot;); doubletotalValue = sc.nextDouble();</code>"},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1697295231,"post_id":77290808,"comment_id":136263291,"body_markdown":"Please [add](https://stackoverflow.com/posts/77290808/edit) and/or [change](https://stackoverflow.com/posts/77290808/edit) the relevant information to/in the question (comments may be deleted at any time). But *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***[without](https://meta.stackexchange.com/a/131011)*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** &quot;Edit:&quot;, &quot;Update:&quot;, or similar - the question should appear as if it was written right now.","body":"Please <a href=\"https://stackoverflow.com/posts/77290808/edit\">add</a> and/or <a href=\"https://stackoverflow.com/posts/77290808/edit\">change</a> the relevant information to/in the question (comments may be deleted at any time). But *** *** *** *** *** *** *** *** *** *** *** *** *** *** <b><i><a href=\"https://meta.stackexchange.com/a/131011\">without</a></i></b> *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** &quot;Edit:&quot;, &quot;Update:&quot;, or similar - the question should appear as if it was written right now."},{"owner":{"account_id":15389687,"reputation":21,"user_id":22061256,"display_name":"Rodrigo Santos"},"score":0,"creation_date":1697309710,"post_id":77290808,"comment_id":136264892,"body_markdown":"I&#39;m going comments the question. Is better.","body":"I&#39;m going comments the question. Is better."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697345956,"creation_date":1697345956,"answer_id":77295352,"question_id":77290808,"body_markdown":"&gt; _&quot;... I would like to use &quot;try catch&quot; to validate that all the entries are correct (contract number, date and contract value). ...&quot;_\r\n\r\nTry the following.\r\n\r\n```java\r\nimport static java.math.BigDecimal.ZERO;\r\nimport static java.math.RoundingMode.HALF_EVEN;\r\nimport static java.time.format.DateTimeFormatter.ofPattern;\r\n```\r\n\r\n```java\r\nScanner sc = new Scanner (System.in);\r\nboolean exit = false;\r\nBigDecimal number = ZERO, totalValue = ZERO;\r\nString s, date = null;\r\ndo {\r\n    System.out.print(&quot;Numero do contrato: &quot;);\r\n    s = sc.nextLine();\r\n    try {\r\n        number = new BigDecimal(s);\r\n        exit = true;\r\n    } catch (NumberFormatException e) {\r\n        System.out.println(&quot;try again&quot;);\r\n    }\r\n} while (!exit);\r\nexit = false;\r\ndo {\r\n    System.out.print(&quot;Data (dd/MM/yyyy)&quot;);\r\n    try {\r\n        LocalDate.parse(date = sc.nextLine(), ofPattern(&quot;dd/MM/yyy&quot;));\r\n        exit = true;\r\n    } catch (DateTimeParseException e) {\r\n        System.out.println(&quot;try again&quot;);\r\n    }\r\n} while (!exit);\r\nexit = false;\r\ndo {\r\n    System.out.print(&quot;Entre com o valor do contrato: &quot;);\r\n    s = sc.nextLine();\r\n    try {\r\n        totalValue = new BigDecimal(s).setScale(2, HALF_EVEN);\r\n        exit = true;\r\n    } catch (NumberFormatException e) {\r\n        System.out.println(&quot;try again&quot;);\r\n    }\r\n} while (!exit);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nNumero do contrato: abc\r\ntry again\r\nNumero do contrato: 123\r\nData (dd/MM/yyyy)15/10/2023\r\nEntre com o valor do contrato: 123\r\nnumber = 123\r\ndate = 15/10/2023\r\ntotalValue = 123.00\r\n```","title":"Using try catch in various validation","body":"<blockquote>\n<p><em>&quot;... I would like to use &quot;try catch&quot; to validate that all the entries are correct (contract number, date and contract value). ...&quot;</em></p>\n</blockquote>\n<p>Try the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.math.BigDecimal.ZERO;\nimport static java.math.RoundingMode.HALF_EVEN;\nimport static java.time.format.DateTimeFormatter.ofPattern;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner sc = new Scanner (System.in);\nboolean exit = false;\nBigDecimal number = ZERO, totalValue = ZERO;\nString s, date = null;\ndo {\n    System.out.print(&quot;Numero do contrato: &quot;);\n    s = sc.nextLine();\n    try {\n        number = new BigDecimal(s);\n        exit = true;\n    } catch (NumberFormatException e) {\n        System.out.println(&quot;try again&quot;);\n    }\n} while (!exit);\nexit = false;\ndo {\n    System.out.print(&quot;Data (dd/MM/yyyy)&quot;);\n    try {\n        LocalDate.parse(date = sc.nextLine(), ofPattern(&quot;dd/MM/yyy&quot;));\n        exit = true;\n    } catch (DateTimeParseException e) {\n        System.out.println(&quot;try again&quot;);\n    }\n} while (!exit);\nexit = false;\ndo {\n    System.out.print(&quot;Entre com o valor do contrato: &quot;);\n    s = sc.nextLine();\n    try {\n        totalValue = new BigDecimal(s).setScale(2, HALF_EVEN);\n        exit = true;\n    } catch (NumberFormatException e) {\n        System.out.println(&quot;try again&quot;);\n    }\n} while (!exit);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Numero do contrato: abc\ntry again\nNumero do contrato: 123\nData (dd/MM/yyyy)15/10/2023\nEntre com o valor do contrato: 123\nnumber = 123\ndate = 15/10/2023\ntotalValue = 123.00\n</code></pre>\n"}],"owner":{"account_id":15389687,"reputation":21,"user_id":22061256,"display_name":"Rodrigo Santos"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697345956,"creation_date":1697233648,"question_id":77290808,"body_markdown":"Could you help me with this validation with try catch please?\r\n\r\n```\r\npackage application;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.Locale;\r\nimport java.util.Scanner;\r\n\r\nimport entities.Contract;\r\nimport entities.Instatllment;\r\nimport services.ContractServices;\r\nimport services.PaypalService;\r\n\r\npublic class Program {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\r\n\t\tLocale.setDefault(Locale.US);\r\n\t\tScanner sc = new Scanner (System.in);\r\n\t\t\r\n\t\t/*Para ler a data precisa dessa fun&#231;ao*/\r\n\t\tDateTimeFormatter fmt = DateTimeFormatter.ofPattern(&quot;dd/MM/yyy&quot;);\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;Entre com o n&#250;mero do contrato: &quot;);\r\n\t\tSystem.out.print(&quot;Numero do contrato: &quot;);\r\n\t\tint number = sc.nextInt();\r\n\t\tSystem.out.print(&quot;Data (dd/MM/yyyy)&quot;);\r\n\t\tLocalDate date = LocalDate.parse(sc.next(),fmt);\r\n\t\tSystem.out.print(&quot;Entre com o valor do contrato: &quot;);\r\n\t\tdouble totalValue = sc.nextDouble();\r\n\t\t\r\n\t\tContract obj = new Contract(number, date, totalValue); \r\n\t\t\r\n\t\tSystem.out.print(&quot;Entre com o n&#250;mero de parcelas: &quot;);\r\n\t\tint n = sc.nextInt();\r\n\t\t\r\n\t\tContractServices contractServices = new ContractServices(new PaypalService());\r\n\t\t\r\n\t\tcontractServices.processContract(obj, n);\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;____Parcelas______&quot;);\r\n\t\tfor (Instatllment instatllment : obj.getInstatllment()) {\r\n\t\t\tSystem.out.println(instatllment);\r\n\t\t}\r\n\t\tsc.close();\r\n\r\n\t}\r\n\t\r\n\r\n}\r\n\r\n```\r\n\r\nI would like to use &quot;try catch&quot; to validate that all the entries are correct (contract number, date and contract value).\r\n\r\n\r\nI tried so far and work\r\n\r\n\r\n```\r\nboolean entradaValida = false;\r\n\t        int numero = 0;\r\n\r\n\t        while (!entradaValida) {\r\n\t            System.out.print(&quot;Digite um n&#250;mero: &quot;);\r\n\t            String input = sc.nextLine();\r\n\r\n\t            try {\r\n\t                // Tenta converter a entrada para um n&#250;mero inteiro\r\n\t                numero = Integer.parseInt(input);\r\n\t                entradaValida = true; // Se a convers&#227;o for bem-sucedida, saia do loop\r\n\t            } catch (NumberFormatException e) {\r\n\t                // Se a entrada n&#227;o puder ser convertida para um n&#250;mero, imprima uma mensagem de erro\r\n\t                System.out.println(&quot;Por favor, digite um n&#250;mero v&#225;lido.&quot;);\r\n\t            }\r\n\t        }\r\n```\r\n\r\nBut the rest I couldn&#39;t\r\nExemple:\r\n```\r\nboolean entradaValida = false;\r\n\t        int numero = 0;\r\n\r\n\t        while (!entradaValida) {\r\n\t            System.out.print(&quot;Digite um n&#250;mero: &quot;);\r\n\t            String input = sc.nextLine();\r\n\r\n\t            try {\r\n\t                // Tenta converter a entrada para um n&#250;mero inteiro\r\n\t                numero = Integer.parseInt(input);\r\n\t                entradaValida = true; // Se a convers&#227;o for bem-sucedida, saia do loop\r\n\t            } catch (NumberFormatException e) {\r\n\t                // Se a entrada n&#227;o puder ser convertida para um n&#250;mero, imprima uma mensagem de erro\r\n\t                System.out.println(&quot;Por favor, digite um n&#250;mero v&#225;lido.&quot;);\r\n```\r\n\r\nThe try I do is to validate the code&#39;s data input. I need all inputs to be validated. Example:\r\n```\r\nCatch  (NumberFormatException e){\r\nSystem.out.print(&quot;Data (dd/MM/yyyy)&quot;)}:\r\nCatch (DateFromatException e){\r\n        LocalDate date = LocalDate.parse(sc.next(),fmt);\r\n        System.out.print(&quot;Entre com o valor do contrato: &quot;);\r\n        double totalValue = sc.nextDouble()};\r\n```","title":"Using try catch in various validation","body":"<p>Could you help me with this validation with try catch please?</p>\n<pre><code>package application;\n\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\nimport java.util.Scanner;\n\nimport entities.Contract;\nimport entities.Instatllment;\nimport services.ContractServices;\nimport services.PaypalService;\n\npublic class Program {\n\n    public static void main(String[] args) {\n    \n        Locale.setDefault(Locale.US);\n        Scanner sc = new Scanner (System.in);\n        \n        /*Para ler a data precisa dessa funçao*/\n        DateTimeFormatter fmt = DateTimeFormatter.ofPattern(&quot;dd/MM/yyy&quot;);\n        \n        \n        System.out.println(&quot;Entre com o número do contrato: &quot;);\n        System.out.print(&quot;Numero do contrato: &quot;);\n        int number = sc.nextInt();\n        System.out.print(&quot;Data (dd/MM/yyyy)&quot;);\n        LocalDate date = LocalDate.parse(sc.next(),fmt);\n        System.out.print(&quot;Entre com o valor do contrato: &quot;);\n        double totalValue = sc.nextDouble();\n        \n        Contract obj = new Contract(number, date, totalValue); \n        \n        System.out.print(&quot;Entre com o número de parcelas: &quot;);\n        int n = sc.nextInt();\n        \n        ContractServices contractServices = new ContractServices(new PaypalService());\n        \n        contractServices.processContract(obj, n);\n        \n        \n        System.out.println(&quot;____Parcelas______&quot;);\n        for (Instatllment instatllment : obj.getInstatllment()) {\n            System.out.println(instatllment);\n        }\n        sc.close();\n\n    }\n    \n\n}\n\n</code></pre>\n<p>I would like to use &quot;try catch&quot; to validate that all the entries are correct (contract number, date and contract value).</p>\n<p>I tried so far and work</p>\n<pre><code>boolean entradaValida = false;\n            int numero = 0;\n\n            while (!entradaValida) {\n                System.out.print(&quot;Digite um número: &quot;);\n                String input = sc.nextLine();\n\n                try {\n                    // Tenta converter a entrada para um número inteiro\n                    numero = Integer.parseInt(input);\n                    entradaValida = true; // Se a conversão for bem-sucedida, saia do loop\n                } catch (NumberFormatException e) {\n                    // Se a entrada não puder ser convertida para um número, imprima uma mensagem de erro\n                    System.out.println(&quot;Por favor, digite um número válido.&quot;);\n                }\n            }\n</code></pre>\n<p>But the rest I couldn't\nExemple:</p>\n<pre><code>boolean entradaValida = false;\n            int numero = 0;\n\n            while (!entradaValida) {\n                System.out.print(&quot;Digite um número: &quot;);\n                String input = sc.nextLine();\n\n                try {\n                    // Tenta converter a entrada para um número inteiro\n                    numero = Integer.parseInt(input);\n                    entradaValida = true; // Se a conversão for bem-sucedida, saia do loop\n                } catch (NumberFormatException e) {\n                    // Se a entrada não puder ser convertida para um número, imprima uma mensagem de erro\n                    System.out.println(&quot;Por favor, digite um número válido.&quot;);\n</code></pre>\n<p>The try I do is to validate the code's data input. I need all inputs to be validated. Example:</p>\n<pre><code>Catch  (NumberFormatException e){\nSystem.out.print(&quot;Data (dd/MM/yyyy)&quot;)}:\nCatch (DateFromatException e){\n        LocalDate date = LocalDate.parse(sc.next(),fmt);\n        System.out.print(&quot;Entre com o valor do contrato: &quot;);\n        double totalValue = sc.nextDouble()};\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9895,"page":122,"page_size":100}
