{"items":[{"tags":["java","spring-boot","spring-security","keycloak"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665896891,"creation_date":1665896891,"answer_id":74084734,"question_id":74084614,"body_markdown":"You can have a look at the `api` module of https://github.com/ch4mpy/user-proxies. \r\n\r\nIn this project, I define a custom mapper for keycloak to add a custom claim to access tokens and then use it in spring-security SpEL. ","title":"Fine grained access control with Spring Boot managed custom permissions and Keycloak","body":"<p>You can have a look at the <code>api</code> module of <a href=\"https://github.com/ch4mpy/user-proxies\" rel=\"nofollow noreferrer\">https://github.com/ch4mpy/user-proxies</a>.</p>\n<p>In this project, I define a custom mapper for keycloak to add a custom claim to access tokens and then use it in spring-security SpEL.</p>\n"}],"owner":{"account_id":1100573,"reputation":1,"user_id":1093059,"display_name":"Ramanan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665896891,"creation_date":1665894519,"question_id":74084614,"body_markdown":"I&#39;m working on a Spring Boot / Spring Security application which uses Keycloak as Identity and Access Management (IAM) component. We have a user interface where admin can define the sub users and relevant permissions to view, edit, and delete different modules. These permissions can be updated time to time and currently maintained in our application&#39;s Postgres database.\r\n\r\nI have done the initial implementation with Spring Security generated JWT token where I added these permissions as Granted Authorities and used the annotations such as `@PreAuthorize(&quot;hasAuthority(&#39;LIST_CURRENCIES&#39;)&quot;)` at method level to achieve this. But when I offloaded the IAM to Keycloak so far it has not been successful to enforce method level security. \r\n\r\nHow could we sync these permissions to Keycloak so that list of permissions for each user can be included in the JWT token as claims that can be enforced by Spring Security?\r\n","title":"Fine grained access control with Spring Boot managed custom permissions and Keycloak","body":"<p>I'm working on a Spring Boot / Spring Security application which uses Keycloak as Identity and Access Management (IAM) component. We have a user interface where admin can define the sub users and relevant permissions to view, edit, and delete different modules. These permissions can be updated time to time and currently maintained in our application's Postgres database.</p>\n<p>I have done the initial implementation with Spring Security generated JWT token where I added these permissions as Granted Authorities and used the annotations such as <code>@PreAuthorize(&quot;hasAuthority('LIST_CURRENCIES')&quot;)</code> at method level to achieve this. But when I offloaded the IAM to Keycloak so far it has not been successful to enforce method level security.</p>\n<p>How could we sync these permissions to Keycloak so that list of permissions for each user can be included in the JWT token as claims that can be enforced by Spring Security?</p>\n"},{"tags":["java","path"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1516424387,"post_id":48351529,"comment_id":83692216,"body_markdown":"Consider posting [mcve]. Most of the code posted in not relevant to the question &quot;how to copy all the files in a directory using the Path object?\n&quot;","body":"Consider posting <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Most of the code posted in not relevant to the question &quot;how to copy all the files in a directory using the Path object? &quot;"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1516424919,"post_id":48351529,"comment_id":83692320,"body_markdown":"[This](http://www.java2s.com/Tutorials/Java/java.nio.file/Files/Java_Files_copy_Path_source_Path_target_CopyOption_options_.htm)  may help","body":"<a href=\"http://www.java2s.com/Tutorials/Java/java.nio.file/Files/Java_Files_copy_Path_source_Path_target_CopyOption_options_.htm\" rel=\"nofollow noreferrer\">This</a>  may help"}],"answers":[{"comments":[{"owner":{"account_id":5583238,"reputation":1337,"user_id":4424515,"accept_rate":77,"display_name":"Chol Nhial"},"score":0,"creation_date":1516414293,"post_id":48351615,"comment_id":83690641,"body_markdown":"instead of the strings to `copyDirectory` you can just change them to `(Path sourceDirPath, Path destDirPath)` then remove the local variables inside the function. That would still work, and it&#39;s closer to what your question asks.","body":"instead of the strings to <code>copyDirectory</code> you can just change them to <code>(Path sourceDirPath, Path destDirPath)</code> then remove the local variables inside the function. That would still work, and it&#39;s closer to what your question asks."},{"owner":{"account_id":10250248,"reputation":21,"user_id":7564736,"accept_rate":0,"display_name":"Huckleberry"},"score":0,"creation_date":1516415210,"post_id":48351615,"comment_id":83690777,"body_markdown":"Thanks!  You&#39;ve give me a different angle to approach this problem.  Again, thanks!","body":"Thanks!  You&#39;ve give me a different angle to approach this problem.  Again, thanks!"}],"tags":[],"owner":{"account_id":5583238,"reputation":1337,"user_id":4424515,"accept_rate":77,"display_name":"Chol Nhial"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516413725,"creation_date":1516410356,"answer_id":48351615,"question_id":48351529,"body_markdown":"Here&#39;s my slightly long code that does this.\r\nThe example can be run right away, just \r\nmake sure to provide it src and dest directories.\r\n\r\n        package copytodir;\r\n\r\n    import static java.nio.file.StandardCopyOption.*;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Files;\r\n    import java.io.*;\r\n    import java.nio.file.Paths;\r\n    import java.util.Scanner;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n\r\n    /**\r\n     *\r\n     * @author Chol\r\n     */\r\n    public class CopyToDir {\r\n\r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) throws IOException {\r\n            Scanner keyboard = new Scanner(System.in);\r\n            System.out.print(&quot;Enter source: &quot;);\r\n            String srcDir = keyboard.nextLine();\r\n            System.out.print(&quot;Enter destination: &quot;);\r\n            String destDir = keyboard.nextLine();\r\n            copyDirectory(srcDir, destDir);\r\n        }\r\n\r\n        public static void copyDirectory(String sourceDir, String destDir) throws IOException {\r\n            Path sourceDirPath = Paths.get(sourceDir);\r\n            Path destDirPath = Paths.get(destDir);\r\n\r\n            Files.copy(sourceDirPath, destDirPath, REPLACE_EXISTING);\r\n            Files.list(sourceDirPath)\r\n            .forEach(pathOfFile -&gt; {\r\n                try {\r\n                    copyFile(pathOfFile, Paths.get(destDirPath.toFile().getAbsolutePath() + File.separator + pathOfFile.toFile().getName()));\r\n                } catch (IOException ex) {\r\n                    Logger.getLogger(CopyToDir.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        public static void copyFile(Path srcFile, Path destFile) throws IOException {\r\n            Files.copy(srcFile, destFile, REPLACE_EXISTING);\r\n        }\r\n    }\r\n","title":"In Java, how to copy all the files in a directory using the Path object?","body":"<p>Here's my slightly long code that does this.\nThe example can be run right away, just \nmake sure to provide it src and dest directories.</p>\n\n<pre><code>    package copytodir;\n\nimport static java.nio.file.StandardCopyOption.*;\nimport java.nio.file.Path;\nimport java.nio.file.Files;\nimport java.io.*;\nimport java.nio.file.Paths;\nimport java.util.Scanner;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\n/**\n *\n * @author Chol\n */\npublic class CopyToDir {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) throws IOException {\n        Scanner keyboard = new Scanner(System.in);\n        System.out.print(\"Enter source: \");\n        String srcDir = keyboard.nextLine();\n        System.out.print(\"Enter destination: \");\n        String destDir = keyboard.nextLine();\n        copyDirectory(srcDir, destDir);\n    }\n\n    public static void copyDirectory(String sourceDir, String destDir) throws IOException {\n        Path sourceDirPath = Paths.get(sourceDir);\n        Path destDirPath = Paths.get(destDir);\n\n        Files.copy(sourceDirPath, destDirPath, REPLACE_EXISTING);\n        Files.list(sourceDirPath)\n        .forEach(pathOfFile -&gt; {\n            try {\n                copyFile(pathOfFile, Paths.get(destDirPath.toFile().getAbsolutePath() + File.separator + pathOfFile.toFile().getName()));\n            } catch (IOException ex) {\n                Logger.getLogger(CopyToDir.class.getName()).log(Level.SEVERE, null, ex);\n            }\n        });\n\n    }\n\n    public static void copyFile(Path srcFile, Path destFile) throws IOException {\n        Files.copy(srcFile, destFile, REPLACE_EXISTING);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2074809,"reputation":11,"user_id":1848484,"display_name":"Andrzej Jarmoniuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665896776,"creation_date":1665896776,"answer_id":74084729,"question_id":48351529,"body_markdown":"An old post, but I&#39;ve seen plenty of similar posts, so I&#39;ll share nonetheless. The following has become a common used idiom for what you want to do.\r\n\r\n```\r\npublic static void copyDir( Path src, Path dst ) throws IOException {\r\n\r\n    Files.walkFileTree( src, new SimpleFileVisitor&lt;Path&gt;() {\r\n        @Override\r\n        public FileVisitResult preVisitDirectory( Path dir, BasicFileAttributes attrs ) throws IOException {\r\n            Files.createDirectories( dst.resolve( src.relativize( dir ) ) );\r\n            return CONTINUE;\r\n        }\r\n\r\n        @Override\r\n        public FileVisitResult visitFile( Path file, BasicFileAttributes attrs ) throws IOException {\r\n            Files.copy( file, dst.resolve( src.relativize( file ) ), REPLACE_EXISTING );\r\n            return CONTINUE;\r\n        }\r\n    } );\r\n}\r\n```","title":"In Java, how to copy all the files in a directory using the Path object?","body":"<p>An old post, but I've seen plenty of similar posts, so I'll share nonetheless. The following has become a common used idiom for what you want to do.</p>\n<pre><code>public static void copyDir( Path src, Path dst ) throws IOException {\n\n    Files.walkFileTree( src, new SimpleFileVisitor&lt;Path&gt;() {\n        @Override\n        public FileVisitResult preVisitDirectory( Path dir, BasicFileAttributes attrs ) throws IOException {\n            Files.createDirectories( dst.resolve( src.relativize( dir ) ) );\n            return CONTINUE;\n        }\n\n        @Override\n        public FileVisitResult visitFile( Path file, BasicFileAttributes attrs ) throws IOException {\n            Files.copy( file, dst.resolve( src.relativize( file ) ), REPLACE_EXISTING );\n            return CONTINUE;\n        }\n    } );\n}\n</code></pre>\n"}],"owner":{"account_id":10250248,"reputation":21,"user_id":7564736,"accept_rate":0,"display_name":"Huckleberry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1665896776,"creation_date":1516409434,"question_id":48351529,"body_markdown":"Please be kind, I&#39;m new to Java.  I&#39;m looking for a way to copy all the files from a source directory to a target directory using the Path object. I looked around and saw older solutions to this problem (using the older java,io), but not the (newer java.nio) Path object.  Here&#39;s what I have so far. \r\n\r\n    // copyFiles - Copies files from source directory/folder to destination directory/folder\r\n    // Requires:\r\n    //      import java.nio.file.Path;\r\n    //      import java.nio.file.Paths;\r\n    //      import java.nio.file.Files;\r\n    public static void copyFiles(String OSType, String source, String destination)throws IOException {\r\n        Path sourcePath = Paths.get(source);\r\n        Path destinationPath = Paths.get(destination);\r\n\r\n        if (!Files.exists(sourcePath) || !Files.isDirectory(sourcePath)) {\r\n            System.out.println(&quot;Source directory/Folder &quot; + source + &quot; does not exists.&quot;);\r\n        } else if (!Files.exists(destinationPath) || !Files.isDirectory(destinationPath)) {\r\n            System.out.println(&quot;Destination directory/Folder &quot; + source + &quot; does not exists.&quot;);\r\n        } else if (Files.list(sourcePath).count() &gt; 0) {\r\n\r\n            List&lt;Path&gt; sourceLocationContent = new ArrayList&lt;&gt;();\r\n            try (DirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream(sourcePath)) {\r\n                for (Path file : stream) {\r\n                // System.out.println(file.getFileName());\r\n                sourceLocationContent.add( file.getFileName());\r\n            }\r\n\r\n            System.out.println(&quot;sourceLocationContent.size() = &quot; + sourceLocationContent.size());\r\n            for (int i=0 ; sourceLocationContent.size() &gt; i ; i++){\r\n                System.out.println(&quot;sourceLocationContent.get(&quot;+i+&quot;) = &quot; + sourceLocationContent.get(i));\r\n                Files.copy(sourceLocationContent.get(i),destinationPath);\r\n            }\r\n        } catch (IOException | DirectoryIteratorException exception) {\r\n            System.out.println(exception);\r\n        }\r\n    } else {\r\n        System.out.println(&quot;Source directory/Folder &quot; + source + &quot; is empty.&quot;);\r\n    }\r\n}","title":"In Java, how to copy all the files in a directory using the Path object?","body":"<p>Please be kind, I'm new to Java.  I'm looking for a way to copy all the files from a source directory to a target directory using the Path object. I looked around and saw older solutions to this problem (using the older java,io), but not the (newer java.nio) Path object.  Here's what I have so far. </p>\n\n<pre><code>// copyFiles - Copies files from source directory/folder to destination directory/folder\n// Requires:\n//      import java.nio.file.Path;\n//      import java.nio.file.Paths;\n//      import java.nio.file.Files;\npublic static void copyFiles(String OSType, String source, String destination)throws IOException {\n    Path sourcePath = Paths.get(source);\n    Path destinationPath = Paths.get(destination);\n\n    if (!Files.exists(sourcePath) || !Files.isDirectory(sourcePath)) {\n        System.out.println(\"Source directory/Folder \" + source + \" does not exists.\");\n    } else if (!Files.exists(destinationPath) || !Files.isDirectory(destinationPath)) {\n        System.out.println(\"Destination directory/Folder \" + source + \" does not exists.\");\n    } else if (Files.list(sourcePath).count() &gt; 0) {\n\n        List&lt;Path&gt; sourceLocationContent = new ArrayList&lt;&gt;();\n        try (DirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream(sourcePath)) {\n            for (Path file : stream) {\n            // System.out.println(file.getFileName());\n            sourceLocationContent.add( file.getFileName());\n        }\n\n        System.out.println(\"sourceLocationContent.size() = \" + sourceLocationContent.size());\n        for (int i=0 ; sourceLocationContent.size() &gt; i ; i++){\n            System.out.println(\"sourceLocationContent.get(\"+i+\") = \" + sourceLocationContent.get(i));\n            Files.copy(sourceLocationContent.get(i),destinationPath);\n        }\n    } catch (IOException | DirectoryIteratorException exception) {\n        System.out.println(exception);\n    }\n} else {\n    System.out.println(\"Source directory/Folder \" + source + \" is empty.\");\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","heap-memory"],"answers":[{"comments":[{"owner":{"account_id":4761053,"reputation":43,"user_id":3993643,"display_name":"Daniel"},"score":0,"creation_date":1409436198,"post_id":25587126,"comment_id":39964967,"body_markdown":"-Xmx4g it doesnt make a difference, it still doesnt work","body":"-Xmx4g it doesnt make a difference, it still doesnt work"},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1409446559,"post_id":25587126,"comment_id":39966754,"body_markdown":"@Daniel if it does not help, then you are maybe passing the arguments in the wrong way? Can you give us the whole command line you are using? You must set the argument before the class name. If you put it after, it would explain why it did not fail with your superflous blank.","body":"@Daniel if it does not help, then you are maybe passing the arguments in the wrong way? Can you give us the whole command line you are using? You must set the argument before the class name. If you put it after, it would explain why it did not fail with your superflous blank."}],"tags":[],"owner":{"account_id":258602,"reputation":20902,"user_id":540873,"display_name":"Thomas Jungblut"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1409436109,"creation_date":1409436109,"answer_id":25587126,"question_id":25587106,"body_markdown":"It is `-Xmx4g`, without a space in between.","title":"Java heap space does not get increased using -Xmx 1g","body":"<p>It is <code>-Xmx4g</code>, without a space in between.</p>\n"},{"comments":[{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1409446513,"post_id":25587966,"comment_id":39966743,"body_markdown":"maxMemory() is supposed to show the -Xmx setting even when the memory was not commited or used. So I guess the Xms was not the problem here, but it is good to point out.","body":"maxMemory() is supposed to show the -Xmx setting even when the memory was not commited or used. So I guess the Xms was not the problem here, but it is good to point out."}],"tags":[],"owner":{"account_id":472197,"reputation":84,"user_id":880527,"display_name":"msduk"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409445325,"creation_date":1409445325,"answer_id":25587966,"question_id":25587106,"body_markdown":"-Xmx4g (with no space, as has been pointed out already) will only set a maxium for the heap size not automatically assign the full amount on startup.\r\n\r\n-Xms4g may well do this, as this sets the initial heap size.\r\n\r\nTypically people set these as a pair on app startup. For example when launching servers using classes that generate a lot of runtime-generated classes...\r\n\r\n-Xms256m -Xmx2048m -XX:MaxPermSize=256m\r\n\r\nhttp://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html","title":"Java heap space does not get increased using -Xmx 1g","body":"<p>-Xmx4g (with no space, as has been pointed out already) will only set a maxium for the heap size not automatically assign the full amount on startup.</p>\n\n<p>-Xms4g may well do this, as this sets the initial heap size.</p>\n\n<p>Typically people set these as a pair on app startup. For example when launching servers using classes that generate a lot of runtime-generated classes...</p>\n\n<p>-Xms256m -Xmx2048m -XX:MaxPermSize=256m</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html</a></p>\n"},{"tags":[],"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1409446733,"creation_date":1409446733,"answer_id":25588080,"question_id":25587106,"body_markdown":"Tell us your whole command line, I suspect you use:\r\n\r\n    java -jar file.jar -Xmx 4G\r\n\r\nor\r\n\r\n    java -cp file.jar package.Main -Xmx 4G\r\n\r\nBoth are wrong, you can use one of the following instead:\r\n\r\n    java -Xmx4G -jar file.jar\r\n    java -Xmx4G -cp file.jar package.Main\r\n\r\n","title":"Java heap space does not get increased using -Xmx 1g","body":"<p>Tell us your whole command line, I suspect you use:</p>\n\n<pre><code>java -jar file.jar -Xmx 4G\n</code></pre>\n\n<p>or</p>\n\n<pre><code>java -cp file.jar package.Main -Xmx 4G\n</code></pre>\n\n<p>Both are wrong, you can use one of the following instead:</p>\n\n<pre><code>java -Xmx4G -jar file.jar\njava -Xmx4G -cp file.jar package.Main\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665894630,"creation_date":1409455179,"answer_id":25588664,"question_id":25587106,"body_markdown":"The `-Xmx` option sets the *maximum* size of the heap.  But the JVM typically starts with a smaller heap, and expands it as required.\r\n\r\nTo tell the JVM the initial size of the heap, use the `-Xms` option as well; e.g.\r\n\r\n       java -Xmx4g -Xms4g ...\r\n\r\ntells Java to us a 4g heap, and set that size from the start.  Note that this doesn&#39;t necessarily cause all of that physical / virtual memory to be allocated to the process immediately.  However the heap&#39;s space sizes should be set in proportion to the nominal initial size.\r\n\r\n(As others have noted, these are atomic options; i.e. don&#39;t put a space before `4g`.)\r\n\r\n-------------\r\n\r\nIf you *know* that you will need a large part of the requested heap &quot;pretty soon&quot;, then setting `-Xms` avoids (repeated) resizing of the heap during start-up.  But if your `-Xms` value is significantly more than you are likely to need, then you may end up using system resources unnecessarily.","title":"Java heap space does not get increased using -Xmx 1g","body":"<p>The <code>-Xmx</code> option sets the <em>maximum</em> size of the heap.  But the JVM typically starts with a smaller heap, and expands it as required.</p>\n<p>To tell the JVM the initial size of the heap, use the <code>-Xms</code> option as well; e.g.</p>\n<pre><code>   java -Xmx4g -Xms4g ...\n</code></pre>\n<p>tells Java to us a 4g heap, and set that size from the start.  Note that this doesn't necessarily cause all of that physical / virtual memory to be allocated to the process immediately.  However the heap's space sizes should be set in proportion to the nominal initial size.</p>\n<p>(As others have noted, these are atomic options; i.e. don't put a space before <code>4g</code>.)</p>\n<hr />\n<p>If you <em>know</em> that you will need a large part of the requested heap &quot;pretty soon&quot;, then setting <code>-Xms</code> avoids (repeated) resizing of the heap during start-up.  But if your <code>-Xms</code> value is significantly more than you are likely to need, then you may end up using system resources unnecessarily.</p>\n"}],"owner":{"account_id":4761053,"reputation":43,"user_id":3993643,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17563,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1665894630,"creation_date":1409435997,"question_id":25587106,"body_markdown":"I am doing some fancy stuff, where I really need to allocate about 1 GB. \r\n\r\nMy Computer has 8GB 64 bit System, so that&#39;s not a problem. \r\n\r\nI use `-Xmx 4g` to increase my heap space, but sadly enough that doesn&#39;t work at all.\r\n\r\nI use:\r\n\r\n    Runtime rt = Runtime.getRuntime();\r\n    long totalMem = rt.totalMemory();\r\n    long maxMem = rt.maxMemory();\r\n    long freeMem = rt.freeMemory();\r\n    double megs = 1048576.0;\r\n    \r\n    System.out.println (&quot;Total Memory: &quot; + totalMem + &quot; (&quot; + (totalMem/megs) + &quot; MiB)&quot;);\r\n    System.out.println (&quot;Max Memory:   &quot; + maxMem + &quot; (&quot; + (maxMem/megs) + &quot; MiB)&quot;);\r\n    System.out.println (&quot;Free Memory:  &quot; + freeMem + &quot; (&quot; + (freeMem/megs) + &quot; MiB)&quot;);\r\n\r\nWhich shows me:\r\n\r\n    Total Memory: 259522560 (247.5 MiB\r\n    Max Memory:   259522560 (247.5 MiB)\r\n    Free Memory:  0 (0 MiB)\r\n\r\nI really don&#39;t know what I am doing wrong. Does anyone of you have an idea?\r\n\r\nThanks a lot!\r\n","title":"Java heap space does not get increased using -Xmx 1g","body":"<p>I am doing some fancy stuff, where I really need to allocate about 1 GB. </p>\n\n<p>My Computer has 8GB 64 bit System, so that's not a problem. </p>\n\n<p>I use <code>-Xmx 4g</code> to increase my heap space, but sadly enough that doesn't work at all.</p>\n\n<p>I use:</p>\n\n<pre><code>Runtime rt = Runtime.getRuntime();\nlong totalMem = rt.totalMemory();\nlong maxMem = rt.maxMemory();\nlong freeMem = rt.freeMemory();\ndouble megs = 1048576.0;\n\nSystem.out.println (\"Total Memory: \" + totalMem + \" (\" + (totalMem/megs) + \" MiB)\");\nSystem.out.println (\"Max Memory:   \" + maxMem + \" (\" + (maxMem/megs) + \" MiB)\");\nSystem.out.println (\"Free Memory:  \" + freeMem + \" (\" + (freeMem/megs) + \" MiB)\");\n</code></pre>\n\n<p>Which shows me:</p>\n\n<pre><code>Total Memory: 259522560 (247.5 MiB\nMax Memory:   259522560 (247.5 MiB)\nFree Memory:  0 (0 MiB)\n</code></pre>\n\n<p>I really don't know what I am doing wrong. Does anyone of you have an idea?</p>\n\n<p>Thanks a lot!</p>\n"},{"tags":["java","spring","spring-boot","google-cloud-platform"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665803966,"post_id":74076015,"comment_id":130789732,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":26627531,"reputation":11,"user_id":20245288,"display_name":"Edjoe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665893479,"creation_date":1665893479,"answer_id":74084557,"question_id":74076015,"body_markdown":"My god I&#39;ve done it. Somehow through use of collecting my thoughts on this post and a combination of the methods below I got it to deploy. Specifically, I added these following two dependencies to my pom.xml: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs well as editing my application.properties as so:\r\n```\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.datasource.url=jdbc:mysql://PUBLIC_IP_ADDRESS/sparks\r\nspring.datasource.username=root\r\nspring.datasource.password=******\r\nspring.cloud.gcp.project-id=PROJECT_ID_FROM_GCP_PROJECT\r\nspring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\r\nspring.cloud.gcp.sql.instance-connection-name=CONNECTION_NAME_FROM_GCP_DATABASE\r\nspring.cloud.gcp.sql.database-name=sparks\r\nspring.cloud.gcp.logging.enabled=true\r\nspring.sql.init.mode=always\r\n```\r\nThis is what let the gcloud app deploy work. I hope that somehow my ramblings help someone as dumb and inept as myself deploy their spring app to GCP and properly detect their database.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Madk8.png","title":"&quot;Unable to detect database type&quot; error when deploying Spring Boot project to GCP","body":"<p>My god I've done it. Somehow through use of collecting my thoughts on this post and a combination of the methods below I got it to deploy. Specifically, I added these following two dependencies to my pom.xml:</p>\n<p><a href=\"https://i.stack.imgur.com/Madk8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Madk8.png\" alt=\"enter image description here\" /></a></p>\n<p>As well as editing my application.properties as so:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mysql://PUBLIC_IP_ADDRESS/sparks\nspring.datasource.username=root\nspring.datasource.password=******\nspring.cloud.gcp.project-id=PROJECT_ID_FROM_GCP_PROJECT\nspring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\nspring.cloud.gcp.sql.instance-connection-name=CONNECTION_NAME_FROM_GCP_DATABASE\nspring.cloud.gcp.sql.database-name=sparks\nspring.cloud.gcp.logging.enabled=true\nspring.sql.init.mode=always\n</code></pre>\n<p>This is what let the gcloud app deploy work. I hope that somehow my ramblings help someone as dumb and inept as myself deploy their spring app to GCP and properly detect their database.</p>\n"}],"owner":{"account_id":26627531,"reputation":11,"user_id":20245288,"display_name":"Edjoe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74084557,"answer_count":1,"score":1,"last_activity_date":1665893508,"creation_date":1665796316,"question_id":74076015,"body_markdown":"I am currently trying to deploy my Spring Boot app to GCP, however I receive an unable to detect database type error upon doing so. \r\nThe process for deploying is as follows, I am using the Google Cloud SDK shell and deploying with the command: &quot;gcloud app deploy&quot;. The GCP project I am deploying to already contains the MySql database instance. Note that running the Spring Boot app locally and connecting to the GCP database works fine, but actually deploying the app to GCP causes some errors.\r\n\r\nFor context, here are my applications.properties and pom.xml files.\r\n\r\napplication.properties:\r\n\r\n```\r\n#spring.cloud.gcp.sql.enabled=false\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.datasource.url=jdbc:mysql://PUBLIC_IP_ADDRESS_FOR_GCP_DATABASE/sparks\r\nspring.datasource.username=root\r\nspring.datasource.password=******\r\nspring.session.store-type=jdbc\r\nspring.session.jdbc.initialize-schema=always\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.6&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;sparks&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;sparks&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- &lt;dependency&gt;\r\n \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n \t\t\t&lt;artifactId&gt;spring-cloud-gcp-starter-sql-mysql&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\r\n \t\t&lt;/dependency&gt; --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20180130&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-session-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;  \r\n\t\t\t&lt;groupId&gt;org.javatuples&lt;/groupId&gt;  \r\n\t\t\t&lt;artifactId&gt;javatuples&lt;/artifactId&gt;  \r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;  \r\n\t\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nFirst line of error logs:\r\n\r\n\r\n```\r\n2022-10-14 05:59:51 default[20221014t015109]  2022-10-14 05:59:51.808 ERROR 11 --- [           main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. \r\nException: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: \r\nError creating bean with name &#39;sessionRepositoryFilterRegistration&#39; defined in class path resource [org/springframework/boot/autoconfigure/session/SessionRepositoryFilterConfiguration.class]: \r\nUnsatisfied dependency expressed through method &#39;sessionRepositoryFilterRegistration&#39; parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.session.JdbcSessionConfiguration$SpringBootJdbcHttpSessionConfiguration&#39;: \r\nUnsatisfied dependency expressed through method &#39;setTransactionManager&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: \r\nError creating bean with name &#39;transactionManager&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: \r\nInitialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jdbcSessionDataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/session/JdbcSessionConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: \r\nFailed to instantiate [org.springframework.boot.autoconfigure.session.JdbcSessionDataSourceScriptDatabaseInitializer]: \r\nFactory method &#39;jdbcSessionDataSourceScriptDatabaseInitializer&#39; threw exception; nested exception is java.lang.IllegalStateException: Unable to detect database type\r\n```\r\n\r\nError Logs in Full:\r\n\r\n[Logs](https://gist.github.com/Ed-joe/e7c1586d23a1af93c36fabb23adb29b9)\r\n\r\nAs for what I have already tried:\r\n\r\nI read on [this](https://docs.spring.io/spring-cloud-gcp/docs/current/reference/html/sql.html) page that spring.datasource.url will be ignored unless I use &quot;spring.cloud.gcp.sql.enabled=false&quot;, however this solution seemed to have no effect. I have the commented out line in my application.properties and dependency at the bottom of the pom.xml.\r\n\r\nI have tried using cloud run with this [tutorial](https://cloud.google.com/sql/docs/mysql/connect-instance-cloud-run) and the error messages turned out the same. My thought process behind using this method was that somehow the server did not have access being deployed on the gcp project as opposed to my local computer, which I have as an approved ip address on the mysql gcp instance.\r\n\r\nI have tried using a few different variations of the applications.properties file as described [here](https://codelabs.developers.google.com/codelabs/cloud-spring-petclinic-cloudsql#4), however this only seemed to cause more issues.\r\n\r\nI am new to GCP and Spring boot, and this is my first time posting on stack overflow. Any advice is appreciated both on my posts quality and how I might fix this issue. I would sincerely appreciate any and all feedback, and I thank anyone who takes the time to read my post. Additionally, if anymore information would help for the resolution of my post I would gladly provide it, so please let me know feedback in that area as well.\r\n\r\nThank you for your time.\r\n\r\nEDIT:\r\nAs per the comment below, I want to clarify that I believe I am missing a dependency of some kind or that my application.properties needs additional information in order to work on GCP, and so I am looking if anyone has advice of things to add or change in this regard.  I also want to reiterate that my app works with the GCP database I have setup when I run the server locally with the current pom.xml and application.properties.\r\n\r\nEDIT #2: After some more investigation I believe that for some reason connecting to the sql gcp server with the spring.datasource.url is somehow different and is the cause of this issue. [This](https://stackoverflow.com/questions/64544191/google-cloud-platform-spring-boot-application-connection-issues-with-mysql-on) post seems too have a similar issue with a solution although it doesn&#39;t seem to have solved my problem or I am just replicating the change incorrectly.","title":"&quot;Unable to detect database type&quot; error when deploying Spring Boot project to GCP","body":"<p>I am currently trying to deploy my Spring Boot app to GCP, however I receive an unable to detect database type error upon doing so.\nThe process for deploying is as follows, I am using the Google Cloud SDK shell and deploying with the command: &quot;gcloud app deploy&quot;. The GCP project I am deploying to already contains the MySql database instance. Note that running the Spring Boot app locally and connecting to the GCP database works fine, but actually deploying the app to GCP causes some errors.</p>\n<p>For context, here are my applications.properties and pom.xml files.</p>\n<p>application.properties:</p>\n<pre><code>#spring.cloud.gcp.sql.enabled=false\nspring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mysql://PUBLIC_IP_ADDRESS_FOR_GCP_DATABASE/sparks\nspring.datasource.username=root\nspring.datasource.password=******\nspring.session.store-type=jdbc\nspring.session.jdbc.initialize-schema=always\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;sparks&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;sparks&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter-sql-mysql&lt;/artifactId&gt;\n            &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt; --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20180130&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-session-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;  \n            &lt;groupId&gt;org.javatuples&lt;/groupId&gt;  \n            &lt;artifactId&gt;javatuples&lt;/artifactId&gt;  \n            &lt;version&gt;1.2&lt;/version&gt;  \n            &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>First line of error logs:</p>\n<pre><code>2022-10-14 05:59:51 default[20221014t015109]  2022-10-14 05:59:51.808 ERROR 11 --- [           main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. \nException: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: \nError creating bean with name 'sessionRepositoryFilterRegistration' defined in class path resource [org/springframework/boot/autoconfigure/session/SessionRepositoryFilterConfiguration.class]: \nUnsatisfied dependency expressed through method 'sessionRepositoryFilterRegistration' parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.session.JdbcSessionConfiguration$SpringBootJdbcHttpSessionConfiguration': \nUnsatisfied dependency expressed through method 'setTransactionManager' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: \nError creating bean with name 'transactionManager' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: \nInitialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jdbcSessionDataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/session/JdbcSessionConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: \nFailed to instantiate [org.springframework.boot.autoconfigure.session.JdbcSessionDataSourceScriptDatabaseInitializer]: \nFactory method 'jdbcSessionDataSourceScriptDatabaseInitializer' threw exception; nested exception is java.lang.IllegalStateException: Unable to detect database type\n</code></pre>\n<p>Error Logs in Full:</p>\n<p><a href=\"https://gist.github.com/Ed-joe/e7c1586d23a1af93c36fabb23adb29b9\" rel=\"nofollow noreferrer\">Logs</a></p>\n<p>As for what I have already tried:</p>\n<p>I read on <a href=\"https://docs.spring.io/spring-cloud-gcp/docs/current/reference/html/sql.html\" rel=\"nofollow noreferrer\">this</a> page that spring.datasource.url will be ignored unless I use &quot;spring.cloud.gcp.sql.enabled=false&quot;, however this solution seemed to have no effect. I have the commented out line in my application.properties and dependency at the bottom of the pom.xml.</p>\n<p>I have tried using cloud run with this <a href=\"https://cloud.google.com/sql/docs/mysql/connect-instance-cloud-run\" rel=\"nofollow noreferrer\">tutorial</a> and the error messages turned out the same. My thought process behind using this method was that somehow the server did not have access being deployed on the gcp project as opposed to my local computer, which I have as an approved ip address on the mysql gcp instance.</p>\n<p>I have tried using a few different variations of the applications.properties file as described <a href=\"https://codelabs.developers.google.com/codelabs/cloud-spring-petclinic-cloudsql#4\" rel=\"nofollow noreferrer\">here</a>, however this only seemed to cause more issues.</p>\n<p>I am new to GCP and Spring boot, and this is my first time posting on stack overflow. Any advice is appreciated both on my posts quality and how I might fix this issue. I would sincerely appreciate any and all feedback, and I thank anyone who takes the time to read my post. Additionally, if anymore information would help for the resolution of my post I would gladly provide it, so please let me know feedback in that area as well.</p>\n<p>Thank you for your time.</p>\n<p>EDIT:\nAs per the comment below, I want to clarify that I believe I am missing a dependency of some kind or that my application.properties needs additional information in order to work on GCP, and so I am looking if anyone has advice of things to add or change in this regard.  I also want to reiterate that my app works with the GCP database I have setup when I run the server locally with the current pom.xml and application.properties.</p>\n<p>EDIT #2: After some more investigation I believe that for some reason connecting to the sql gcp server with the spring.datasource.url is somehow different and is the cause of this issue. <a href=\"https://stackoverflow.com/questions/64544191/google-cloud-platform-spring-boot-application-connection-issues-with-mysql-on\">This</a> post seems too have a similar issue with a solution although it doesn't seem to have solved my problem or I am just replicating the change incorrectly.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":324610,"reputation":18889,"user_id":645270,"accept_rate":100,"display_name":"keyser"},"score":2,"creation_date":1399449176,"post_id":23511877,"comment_id":36060842,"body_markdown":"I&#39;ve never done anything graphical in java, but it seems like [JTextField](http://docs.oracle.com/javase/7/docs/api/javax/swing/JTextField.html) doesn&#39;t have a method called `length`, just like the error said. You should learn how to utilize the documentation.","body":"I&#39;ve never done anything graphical in java, but it seems like <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JTextField.html\" rel=\"nofollow noreferrer\">JTextField</a> doesn&#39;t have a method called <code>length</code>, just like the error said. You should learn how to utilize the documentation."},{"owner":{"account_id":4231838,"reputation":37,"user_id":3528319,"accept_rate":75,"display_name":"user5000"},"score":0,"creation_date":1399449630,"post_id":23511877,"comment_id":36061082,"body_markdown":"thanks i use int length = txtInput.getText().length(); it worked","body":"thanks i use int length = txtInput.getText().length(); it worked"}],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399449187,"creation_date":1399449187,"answer_id":23511944,"question_id":23511877,"body_markdown":"Use `int length = txtInput.getText().length();`\r\n\r\nWhen in doubt, read the [API Documentation](http://docs.oracle.com/javase/7/docs/api/javax/swing/JTextField.html)","title":"Error: &quot;Cannot find symbol - method length()&quot; when applied on JTextField","body":"<p>Use <code>int length = txtInput.getText().length();</code></p>\n\n<p>When in doubt, read the <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JTextField.html\" rel=\"nofollow\">API Documentation</a></p>\n"},{"tags":[],"owner":{"account_id":170809,"reputation":16057,"user_id":397786,"display_name":"Tassos Bassoukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399449197,"creation_date":1399449197,"answer_id":23511946,"question_id":23511877,"body_markdown":"The field you reference (`txtInput`) is a `JTextField`, which has no method `length()` - it&#39;s an on-screen widdget, what do you expect?\r\n\r\nIt looks like you want to get its text...","title":"Error: &quot;Cannot find symbol - method length()&quot; when applied on JTextField","body":"<p>The field you reference (<code>txtInput</code>) is a <code>JTextField</code>, which has no method <code>length()</code> - it's an on-screen widdget, what do you expect?</p>\n\n<p>It looks like you want to get its text...</p>\n"},{"tags":[],"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1399449199,"creation_date":1399449199,"answer_id":23511948,"question_id":23511877,"body_markdown":"You want to do:\r\n\r\n    int length = txtInput.getText().length();\r\n\r\nWhen you have problem like that, the best thing you can do is visit the docs, see [`JTextField`][1] and you&#39;ll conclude that there is no such a method `length()` that can be applied on *object* of type `JTextField`.\r\n\r\nBut you&#39;ll notice that there exists a method called [`getText()`][2] that gets the text in the component, it returns a `String`, then you can have the known [`length()`][3] method for `String`.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/javax/swing/JTextField.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/javax/swing/text/JTextComponent.html#getText%28%29\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#length%28%29","title":"Error: &quot;Cannot find symbol - method length()&quot; when applied on JTextField","body":"<p>You want to do:</p>\n\n<pre><code>int length = txtInput.getText().length();\n</code></pre>\n\n<p>When you have problem like that, the best thing you can do is visit the docs, see <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JTextField.html\" rel=\"nofollow\"><code>JTextField</code></a> and you'll conclude that there is no such a method <code>length()</code> that can be applied on <em>object</em> of type <code>JTextField</code>.</p>\n\n<p>But you'll notice that there exists a method called <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/text/JTextComponent.html#getText%28%29\" rel=\"nofollow\"><code>getText()</code></a> that gets the text in the component, it returns a <code>String</code>, then you can have the known <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#length%28%29\" rel=\"nofollow\"><code>length()</code></a> method for <code>String</code>.</p>\n"},{"tags":[],"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399449207,"creation_date":1399449207,"answer_id":23511952,"question_id":23511877,"body_markdown":"Try this instead: `txtInput.getText().length()`\r\n\r\n\r\n\r\n","title":"Error: &quot;Cannot find symbol - method length()&quot; when applied on JTextField","body":"<p>Try this instead: <code>txtInput.getText().length()</code></p>\n"},{"tags":[],"owner":{"account_id":1593148,"reputation":9800,"user_id":1519458,"accept_rate":67,"display_name":"Nuri Tasdemir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399449360,"creation_date":1399449360,"answer_id":23511988,"question_id":23511877,"body_markdown":"Do it as follows\r\n\r\n    int length = txtInput.getText().length();","title":"Error: &quot;Cannot find symbol - method length()&quot; when applied on JTextField","body":"<p>Do it as follows</p>\n\n<pre><code>int length = txtInput.getText().length();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2305567,"reputation":1651,"user_id":2024925,"accept_rate":47,"display_name":"vITs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399449537,"creation_date":1399449537,"answer_id":23512042,"question_id":23511877,"body_markdown":"You cannot calculate length on JTextField\r\ninstead use getText on JTextField,then calculate length.","title":"Error: &quot;Cannot find symbol - method length()&quot; when applied on JTextField","body":"<p>You cannot calculate length on JTextField\ninstead use getText on JTextField,then calculate length.</p>\n"},{"tags":[],"owner":{"account_id":3461491,"reputation":41,"user_id":2898449,"display_name":"oluwaremieo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665891977,"creation_date":1400534849,"answer_id":23747504,"question_id":23511877,"body_markdown":"Use `int length = txtInput.getText().length()`\r\n\r\n\r\n`txtInput.getText()` returns a string and you can call the `length()` method to determine the length.\r\n","title":"Error: &quot;Cannot find symbol - method length()&quot; when applied on JTextField","body":"<p>Use <code>int length = txtInput.getText().length()</code></p>\n<p><code>txtInput.getText()</code> returns a string and you can call the <code>length()</code> method to determine the length.</p>\n"}],"owner":{"account_id":4231838,"reputation":37,"user_id":3528319,"accept_rate":75,"display_name":"user5000"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23511948,"answer_count":7,"score":1,"last_activity_date":1665891977,"creation_date":1399449010,"question_id":23511877,"body_markdown":"I want to create a `PaliodromeChecker` but there is an error on\r\n\r\n    int length = txtInput.length(); \r\n\r\nIn `public void actionPerformed(ActionEvent e)`. The error is \r\n\r\n&gt; cannot find symbol - method length()\r\n\r\nDid I do any wrong with code?\r\n\r\n\r\n\r\n    public class checker extends JFrame implements ActionListener {\r\n\r\n    private JButton btnCheck;\r\n    private JLabel lblInput, lblOutput;\r\n    private JTextField txtInput;\r\n\r\n    public Q4() {\r\n        Container c = getContentPane();\r\n        c.setLayout(new GridLayout(3,1));\r\n        JPanel p1 = new JPanel();\r\n        JPanel p2 = new JPanel();\r\n        JPanel p3 = new JPanel();\r\n        lblInput = new JLabel(&quot;Enter a word:&quot;);\r\n        lblOutput = new JLabel(&quot;Welcome to check palindrome&quot;);\r\n        btnCheck = new JButton(&quot;Check Palindrome&quot;);\r\n        \r\n        txtInput = new JTextField(15);\r\n        p1.add(lblInput);\r\n        p1.add(txtInput);\r\n        p2.add(btnCheck);\r\n        p3.add(lblOutput);\r\n        c.add(p1);\r\n        c.add(p2);\r\n        c.add(p3);\r\n        btnCheck.addActionListener(this);\r\n         \r\n    }\r\n    \r\n    \r\n        public void actionPerformed(ActionEvent e){\r\n       int length = txtInput.length();\r\n        String reverse = &quot;&quot;; \r\n         for ( int i = length - 1 ; i &gt;= 0 ; i-- )\r\n         reverse = reverse + txtInput.charAt(i); \r\n         \r\n        if(txtInput.equals(reverse))\r\n         lblOutput.setText(txtInput.getText() + &quot;is paliodrome&quot;);\r\n         else\r\n          lblOutput.setText(txtInput.getText() + &quot;is not paliodrome&quot;);\r\n        }\r\n    \r\n    \r\n    public static void main(String[] args){\r\n        Q4 myGUI = new Q4();\r\n        myGUI.setTitle(&quot;PaliodromeChecker&quot;);\r\n        myGUI.setSize(350,150);\r\n        myGUI.setVisible(true);\r\n    }","title":"Error: &quot;Cannot find symbol - method length()&quot; when applied on JTextField","body":"<p>I want to create a <code>PaliodromeChecker</code> but there is an error on</p>\n\n<pre><code>int length = txtInput.length(); \n</code></pre>\n\n<p>In <code>public void actionPerformed(ActionEvent e)</code>. The error is </p>\n\n<blockquote>\n  <p>cannot find symbol - method length()</p>\n</blockquote>\n\n<p>Did I do any wrong with code?</p>\n\n<pre><code>public class checker extends JFrame implements ActionListener {\n\nprivate JButton btnCheck;\nprivate JLabel lblInput, lblOutput;\nprivate JTextField txtInput;\n\npublic Q4() {\n    Container c = getContentPane();\n    c.setLayout(new GridLayout(3,1));\n    JPanel p1 = new JPanel();\n    JPanel p2 = new JPanel();\n    JPanel p3 = new JPanel();\n    lblInput = new JLabel(\"Enter a word:\");\n    lblOutput = new JLabel(\"Welcome to check palindrome\");\n    btnCheck = new JButton(\"Check Palindrome\");\n\n    txtInput = new JTextField(15);\n    p1.add(lblInput);\n    p1.add(txtInput);\n    p2.add(btnCheck);\n    p3.add(lblOutput);\n    c.add(p1);\n    c.add(p2);\n    c.add(p3);\n    btnCheck.addActionListener(this);\n\n}\n\n\n    public void actionPerformed(ActionEvent e){\n   int length = txtInput.length();\n    String reverse = \"\"; \n     for ( int i = length - 1 ; i &gt;= 0 ; i-- )\n     reverse = reverse + txtInput.charAt(i); \n\n    if(txtInput.equals(reverse))\n     lblOutput.setText(txtInput.getText() + \"is paliodrome\");\n     else\n      lblOutput.setText(txtInput.getText() + \"is not paliodrome\");\n    }\n\n\npublic static void main(String[] args){\n    Q4 myGUI = new Q4();\n    myGUI.setTitle(\"PaliodromeChecker\");\n    myGUI.setSize(350,150);\n    myGUI.setVisible(true);\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver","testng"],"answers":[{"tags":[],"owner":{"account_id":6836018,"reputation":803,"user_id":5257981,"display_name":"kaweesha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665890645,"creation_date":1665890645,"answer_id":74084390,"question_id":74080639,"body_markdown":"If you need to run a method after each `Test` method is executed, You have to give the `AfterMethod` annotation to instead of `AfterTest` annotation.\r\n\r\nCheck [TestNG annotation hierarchy][1]\r\n\r\n\r\n\r\n    package testcases;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.testng.Assert;\r\n    import org.testng.annotations.AfterTest;\r\n    import org.testng.annotations.BeforeTest;\r\n    import org.testng.annotations.Test;\r\n    \r\n    import functions.LoginPageFunctions;\r\n    import resources.BaseClass;\r\n    \r\n    public class LoginPageTests extends BaseClass {\r\n        public WebDriver driver;\r\n    \r\n        @BeforeMethod\r\n        public void initialize() {\r\n        }\r\n    \r\n        @Test(priority=0)\r\n        public void checkLoginSuccessful() {\r\n        }\r\n    \r\n        @Test(priority=1)\r\n        public void checkLoginUnsuccessful() {\r\n        }\r\n    \r\n        @AfterMethod\r\n        public void teardown() {\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://www.toolsqa.com/testng/testng-annotations/","title":"TestNG AfterMethod does not works as expected","body":"<p>If you need to run a method after each <code>Test</code> method is executed, You have to give the <code>AfterMethod</code> annotation to instead of <code>AfterTest</code> annotation.</p>\n<p>Check <a href=\"https://www.toolsqa.com/testng/testng-annotations/\" rel=\"nofollow noreferrer\">TestNG annotation hierarchy</a></p>\n<pre><code>package testcases;\nimport org.openqa.selenium.WebDriver;\nimport org.testng.Assert;\nimport org.testng.annotations.AfterTest;\nimport org.testng.annotations.BeforeTest;\nimport org.testng.annotations.Test;\n\nimport functions.LoginPageFunctions;\nimport resources.BaseClass;\n\npublic class LoginPageTests extends BaseClass {\n    public WebDriver driver;\n\n    @BeforeMethod\n    public void initialize() {\n    }\n\n    @Test(priority=0)\n    public void checkLoginSuccessful() {\n    }\n\n    @Test(priority=1)\n    public void checkLoginUnsuccessful() {\n    }\n\n    @AfterMethod\n    public void teardown() {\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6783365,"reputation":5546,"user_id":5222902,"accept_rate":100,"display_name":"AVI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74084390,"answer_count":1,"score":0,"last_activity_date":1665890645,"creation_date":1665846766,"question_id":74080639,"body_markdown":"Im creating a Selenium POM based framework from the scratch where i define Pages,Pages related functions, Tests in three different packages. \r\n\r\nWith in Tests defined class, I&#39;m writing multiple test cases. So After i run a test class once, i&#39;m hoping it would execute `@AfterTest` every time after a `@Test` method finishes its execution. But its not happening as expected.\r\n\r\nLoginPageTests.java in testcases package\r\n\r\n    package testcases;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.testng.Assert;\r\n    import org.testng.annotations.AfterTest;\r\n    import org.testng.annotations.BeforeTest;\r\n    import org.testng.annotations.Test;\r\n    \r\n    import functions.LoginPageFunctions;\r\n    import resources.BaseClass;\r\n    \r\n    public class LoginPageTests extends BaseClass {\r\n     public WebDriver driver;\r\n    \t\r\n    \t@BeforeTest\r\n    \tpublic void initialize() {\r\n    \t\tdriver = initializeDriver();\t\t\r\n    \t}\r\n    \t\r\n    \t@Test(priority=0)\r\n    \tpublic void checkLoginSuccessful() {\r\n    \t\tLoginPageFunctions lpf = new LoginPageFunctions(driver);\r\n    \t\tlpf.loginToPortal();\r\n    \t\tString logoutText = lpf.locateLogoutBtn();\r\n    \t\tString expectedText = &quot;Logout&quot;;\r\n    \t\t\r\n    \t\tAssert.assertEquals(expectedText,logoutText);\r\n    \t}\r\n    \t\r\n    \t@Test(priority=1)\r\n    \tpublic void checkLoginUnsuccessful() {\r\n    \t\tLoginPageFunctions lpf = new LoginPageFunctions(driver);\r\n    \t\tlpf.loginWithInvalidData();\r\n    \t\tString incorrectText = &quot;Invalid credentials&quot;;\r\n    \t\tString expectedIncorrectText = lpf.locateInvalidLoginButton();\r\n    \t\t\r\n    \t\tAssert.assertEquals(expectedIncorrectText,incorrectText);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@AfterTest\r\n    \tpublic void teardown() {\r\n    \t\tdriver.close();\r\n    \t\tSystem.out.println(&quot;You have closed the broswer&quot;);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\nLoginPageFunctions.java in Functions package\r\n\r\n    package functions;\r\n    import org.openqa.selenium.WebDriver;\r\n    import pages.LoginPage;\r\n    \r\n    public class LoginPageFunctions {\r\n      \r\n      WebDriver driver;\r\n      LoginPage lp ;\r\n      \r\n      public LoginPageFunctions(WebDriver driver) {\r\n    \t  this.driver = driver;\r\n      }\r\n      \r\n      public void loginToPortal() {\r\n          lp= new LoginPage(driver);\r\n    \t  lp.enterUsername();\r\n    \t  lp.enterPassword();\r\n    \t  lp.clickSubmitBtn();\r\n      }\r\n      \r\n      public String locateLogoutBtn() {\r\n    \t  lp= new LoginPage(driver);\r\n    \t  lp.clickUserSettingsBtn();\r\n    \t  return lp.locateLogOutBtn();\r\n      }\r\n      \r\n      public void loginWithInvalidData() {\r\n    \t  lp = new LoginPage(driver);\r\n    \t  lp.enterUsername();\r\n    \t  lp.enterInvalidPassword();\r\n    \t  lp.clickSubmitBtn();\r\n      }\r\n      \r\n      public String locateInvalidLoginButton() {\r\n    \t  return lp.locateInvalidLoginText();\r\n      }\r\n      \r\n    }\r\n\r\n\r\nLoginPage.java in pages package\r\n\r\n    package pages;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.support.FindBy;\r\n    \r\n    public class LoginPage {\t\r\n    \t\t\r\n    \tBy txt_username = By.name(&quot;username&quot;);\r\n    \tBy txt_password = By.name(&quot;password&quot;);\r\n    \tBy btn_submit = By.xpath(&quot;//button[1]&quot;);\r\n    \tBy btn_userSettings = By.xpath(&quot;//p[text()=&#39;Paul Collings&#39;]&quot;);\r\n    \tBy btn_logout = By.xpath(&quot;//a[text()=&#39;Logout&#39;]&quot;);\r\n    \tBy txt_invalidtxt = By.xpath(&quot;//p[text()=&#39;Invalid credentials&#39;]&quot;);\r\n    \t\r\n    \t\r\n    \tpublic WebDriver driver;\r\n    \t\r\n    \tpublic LoginPage(WebDriver driver) {\r\n    \t\tthis.driver = driver;\r\n    \t}\r\n    \t\r\n    \t  public void enterUsername() {\r\n    \t\t   driver.findElement(txt_username).sendKeys(&quot;Admin&quot;);\r\n    \t\t   System.out.println(&quot;Entered Username&quot;);\r\n    \t   }\r\n    \t  \r\n    \t  public void enterPassword() {\r\n    \t\t  driver.findElement(txt_password).sendKeys(&quot;admin123&quot;);\r\n    \t\t  System.out.println(&quot;Entered Password&quot;);\r\n    \t  }\r\n    \t  \r\n    \t  public void clickSubmitBtn() {\r\n    \t\t  driver.findElement(btn_submit).click();\r\n    \t\t  System.out.println(&quot;Clicked Submit button&quot;);\r\n    \t  }\r\n    \t  \r\n    \t  //We are using this to validate whether user is logged in\r\n    \t  public void clickUserSettingsBtn() {\r\n    \t\t  driver.findElement(btn_userSettings).click();\r\n    \t  }\r\n    \t  \r\n    \t  //We are using this to validate whether user is logged in\r\n    \t  public String locateLogOutBtn() {\r\n    \t\t String logoutText= driver.findElement(btn_logout).getText();\r\n    \t\t return logoutText;\r\n    \t  }\r\n    \t  \r\n    \t  \r\n    \t  public String locateInvalidLoginText() {\r\n    \t\t  String invalidText = driver.findElement(txt_invalidtxt).getText();\r\n    \t\t  return invalidText;\r\n    \t  }\r\n    \t  \r\n    \t  public void enterInvalidPassword() {\r\n    \t\t  driver.findElement(txt_password).sendKeys(&quot;xxx123&quot;);\r\n    \t\t  System.out.println(&quot;Entered Password&quot;);\r\n    \t  }\r\n    \r\n    }\r\n\r\n\r\nBase.java in resources package\r\n\r\n    package resources;\r\n    \r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    import io.github.bonigarcia.wdm.WebDriverManager;\r\n    \r\n    public class BaseClass {\r\n    WebDriver driver;\r\n    String url = &quot;https://opensource-demo.orangehrmlive.com/web/auth/login&quot;;\r\n    \r\n    public WebDriver initializeDriver() {\r\n    \tWebDriverManager.chromedriver().setup();\t\t\r\n    \tdriver = new ChromeDriver();\r\n    \tdriver.navigate().to(url);\r\n    \tdriver.manage().window().maximize();\r\n    \tdriver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\r\n    \treturn driver;\r\n      }\r\n    }\r\n\r\nIf i run individual test cases, it gets passed. If i run all in LoginPageTests class, one gets passed, other will get failed. How to use `@Test` and `@AfterTest` affectively.\r\n","title":"TestNG AfterMethod does not works as expected","body":"<p>Im creating a Selenium POM based framework from the scratch where i define Pages,Pages related functions, Tests in three different packages.</p>\n<p>With in Tests defined class, I'm writing multiple test cases. So After i run a test class once, i'm hoping it would execute <code>@AfterTest</code> every time after a <code>@Test</code> method finishes its execution. But its not happening as expected.</p>\n<p>LoginPageTests.java in testcases package</p>\n<pre><code>package testcases;\nimport org.openqa.selenium.WebDriver;\nimport org.testng.Assert;\nimport org.testng.annotations.AfterTest;\nimport org.testng.annotations.BeforeTest;\nimport org.testng.annotations.Test;\n\nimport functions.LoginPageFunctions;\nimport resources.BaseClass;\n\npublic class LoginPageTests extends BaseClass {\n public WebDriver driver;\n    \n    @BeforeTest\n    public void initialize() {\n        driver = initializeDriver();        \n    }\n    \n    @Test(priority=0)\n    public void checkLoginSuccessful() {\n        LoginPageFunctions lpf = new LoginPageFunctions(driver);\n        lpf.loginToPortal();\n        String logoutText = lpf.locateLogoutBtn();\n        String expectedText = &quot;Logout&quot;;\n        \n        Assert.assertEquals(expectedText,logoutText);\n    }\n    \n    @Test(priority=1)\n    public void checkLoginUnsuccessful() {\n        LoginPageFunctions lpf = new LoginPageFunctions(driver);\n        lpf.loginWithInvalidData();\n        String incorrectText = &quot;Invalid credentials&quot;;\n        String expectedIncorrectText = lpf.locateInvalidLoginButton();\n        \n        Assert.assertEquals(expectedIncorrectText,incorrectText);\n        \n    }\n    \n    \n    @AfterTest\n    public void teardown() {\n        driver.close();\n        System.out.println(&quot;You have closed the broswer&quot;);\n    }\n    \n}\n</code></pre>\n<p>LoginPageFunctions.java in Functions package</p>\n<pre><code>package functions;\nimport org.openqa.selenium.WebDriver;\nimport pages.LoginPage;\n\npublic class LoginPageFunctions {\n  \n  WebDriver driver;\n  LoginPage lp ;\n  \n  public LoginPageFunctions(WebDriver driver) {\n      this.driver = driver;\n  }\n  \n  public void loginToPortal() {\n      lp= new LoginPage(driver);\n      lp.enterUsername();\n      lp.enterPassword();\n      lp.clickSubmitBtn();\n  }\n  \n  public String locateLogoutBtn() {\n      lp= new LoginPage(driver);\n      lp.clickUserSettingsBtn();\n      return lp.locateLogOutBtn();\n  }\n  \n  public void loginWithInvalidData() {\n      lp = new LoginPage(driver);\n      lp.enterUsername();\n      lp.enterInvalidPassword();\n      lp.clickSubmitBtn();\n  }\n  \n  public String locateInvalidLoginButton() {\n      return lp.locateInvalidLoginText();\n  }\n  \n}\n</code></pre>\n<p>LoginPage.java in pages package</p>\n<pre><code>package pages;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.FindBy;\n\npublic class LoginPage {    \n        \n    By txt_username = By.name(&quot;username&quot;);\n    By txt_password = By.name(&quot;password&quot;);\n    By btn_submit = By.xpath(&quot;//button[1]&quot;);\n    By btn_userSettings = By.xpath(&quot;//p[text()='Paul Collings']&quot;);\n    By btn_logout = By.xpath(&quot;//a[text()='Logout']&quot;);\n    By txt_invalidtxt = By.xpath(&quot;//p[text()='Invalid credentials']&quot;);\n    \n    \n    public WebDriver driver;\n    \n    public LoginPage(WebDriver driver) {\n        this.driver = driver;\n    }\n    \n      public void enterUsername() {\n           driver.findElement(txt_username).sendKeys(&quot;Admin&quot;);\n           System.out.println(&quot;Entered Username&quot;);\n       }\n      \n      public void enterPassword() {\n          driver.findElement(txt_password).sendKeys(&quot;admin123&quot;);\n          System.out.println(&quot;Entered Password&quot;);\n      }\n      \n      public void clickSubmitBtn() {\n          driver.findElement(btn_submit).click();\n          System.out.println(&quot;Clicked Submit button&quot;);\n      }\n      \n      //We are using this to validate whether user is logged in\n      public void clickUserSettingsBtn() {\n          driver.findElement(btn_userSettings).click();\n      }\n      \n      //We are using this to validate whether user is logged in\n      public String locateLogOutBtn() {\n         String logoutText= driver.findElement(btn_logout).getText();\n         return logoutText;\n      }\n      \n      \n      public String locateInvalidLoginText() {\n          String invalidText = driver.findElement(txt_invalidtxt).getText();\n          return invalidText;\n      }\n      \n      public void enterInvalidPassword() {\n          driver.findElement(txt_password).sendKeys(&quot;xxx123&quot;);\n          System.out.println(&quot;Entered Password&quot;);\n      }\n\n}\n</code></pre>\n<p>Base.java in resources package</p>\n<pre><code>package resources;\n\nimport java.util.concurrent.TimeUnit;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\nimport io.github.bonigarcia.wdm.WebDriverManager;\n\npublic class BaseClass {\nWebDriver driver;\nString url = &quot;https://opensource-demo.orangehrmlive.com/web/auth/login&quot;;\n\npublic WebDriver initializeDriver() {\n    WebDriverManager.chromedriver().setup();        \n    driver = new ChromeDriver();\n    driver.navigate().to(url);\n    driver.manage().window().maximize();\n    driver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\n    return driver;\n  }\n}\n</code></pre>\n<p>If i run individual test cases, it gets passed. If i run all in LoginPageTests class, one gets passed, other will get failed. How to use <code>@Test</code> and <code>@AfterTest</code> affectively.</p>\n"},{"tags":["java","css","javafx","fxml"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1566078106,"post_id":57537228,"comment_id":101544419,"body_markdown":"Unfortunately, the only styleable property of `ImageView`, other than those inherited from `Node`, is the `image` property (though it&#39;s a little more complicated than that internally). This means you can&#39;t set properties such as `fitWidth` via CSS. You also can&#39;t affect the `Image` itself via CSS as it&#39;s not even `Styleable`; on top of that, the requested width/height values are used during construction and don&#39;t change over time. I&#39;m afraid, outside of writing a wrapper class, you&#39;ll have to keep using FXML or Java to configure the size of the image.","body":"Unfortunately, the only styleable property of <code>ImageView</code>, other than those inherited from <code>Node</code>, is the <code>image</code> property (though it&#39;s a little more complicated than that internally). This means you can&#39;t set properties such as <code>fitWidth</code> via CSS. You also can&#39;t affect the <code>Image</code> itself via CSS as it&#39;s not even <code>Styleable</code>; on top of that, the requested width/height values are used during construction and don&#39;t change over time. I&#39;m afraid, outside of writing a wrapper class, you&#39;ll have to keep using FXML or Java to configure the size of the image."},{"owner":{"account_id":1277754,"reputation":366,"user_id":10639502,"display_name":"alehel"},"score":1,"creation_date":1566081677,"post_id":57537228,"comment_id":101545043,"body_markdown":"Well, at least I know not to waste any more time on it. Thanks.","body":"Well, at least I know not to waste any more time on it. Thanks."}],"answers":[{"comments":[{"owner":{"account_id":18269280,"reputation":55,"user_id":13300361,"display_name":"Ultra"},"score":1,"creation_date":1665890629,"post_id":74084366,"comment_id":130803498,"body_markdown":"Using an Imageview text inside a button with text may experience unwanted results.","body":"Using an Imageview text inside a button with text may experience unwanted results."}],"tags":[],"owner":{"account_id":18269280,"reputation":55,"user_id":13300361,"display_name":"Ultra"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665890231,"creation_date":1665890231,"answer_id":74084366,"question_id":57537228,"body_markdown":"You can use:\r\n\r\n    -fx-scale-x: 1; &lt;!-- Range 1 = 100%&gt;\r\n    \r\n    -fx-scale-y: 0; &lt;!-- Range 0 = 0%&gt;\r\n\r\nImageView has all Node properties. https://openjfx.io/javadoc/11/javafx.graphics/javafx/scene/doc-files/cssref.html#node","title":"Image tag in FXML (JavaFX), how to set size using css?","body":"<p>You can use:</p>\n<pre><code>-fx-scale-x: 1; &lt;!-- Range 1 = 100%&gt;\n\n-fx-scale-y: 0; &lt;!-- Range 0 = 0%&gt;\n</code></pre>\n<p>ImageView has all Node properties. <a href=\"https://openjfx.io/javadoc/11/javafx.graphics/javafx/scene/doc-files/cssref.html#node\" rel=\"nofollow noreferrer\">https://openjfx.io/javadoc/11/javafx.graphics/javafx/scene/doc-files/cssref.html#node</a></p>\n"}],"owner":{"account_id":1277754,"reputation":366,"user_id":10639502,"display_name":"alehel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1016,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1665890231,"creation_date":1566052588,"question_id":57537228,"body_markdown":"I&#39;m learning to use CSS with FXML and I&#39;m having trouble setting the size of an Image. I have four images, and I want them all to be the same size. But I can&#39;t get the CSS to work. My FXML is as follows.\r\n```xml\r\n&lt;HBox styleClass=&quot;sidebar-item&quot; &gt;\r\n    &lt;ImageView styleClass=&quot;icon&quot; preserveRatio=&quot;true&quot;&gt;\r\n        &lt;Image url=&quot;@assets/settings.png&quot; /&gt;\r\n    &lt;/ImageView&gt;\r\n    &lt;Label text=&quot;%settings&quot; /&gt;\r\n&lt;/HBox&gt;\r\n```\r\nThe following is my CSS for the icon class.\r\n```css\r\n.icon {\r\n    -fx-pref-height: 20px;\r\n    -fx-pref-width: 20px;\r\n    -fx-max-width: 20px;\r\n    -fx-max-height: 20px;\r\n    -fx-min-width: 20px;\r\n    -fx-min-height: 20px;\r\n}\r\n```\r\nNothing actually happens. The size remains the same. If however, I add requestedHeight=&quot;20&quot; and requestedWidth=&quot;20&quot; on in the ImageView xml tag, the image resizes. \r\n```xml\r\n&lt;HBox styleClass=&quot;sidebar-item&quot; &gt;\r\n    &lt;ImageView styleClass=&quot;icon&quot; preserveRatio=&quot;true&quot;&gt;\r\n        &lt;Image url=&quot;@assets/settings.png&quot; requestedHeight=&quot;20&quot; requestedWidth=&quot;20&quot;/&gt;\r\n    &lt;/ImageView&gt;\r\n    &lt;Label text=&quot;%settings&quot; /&gt;\r\n&lt;/HBox&gt;\r\n```\r\nIs it not possible to achieve the same using css? I can&#39;t find any CSS tags relating to requestedWidth, and I&#39;m also not allowed to set a CSS class on the Image tag. Only the ImageView tag.","title":"Image tag in FXML (JavaFX), how to set size using css?","body":"<p>I'm learning to use CSS with FXML and I'm having trouble setting the size of an Image. I have four images, and I want them all to be the same size. But I can't get the CSS to work. My FXML is as follows.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;HBox styleClass=&quot;sidebar-item&quot; &gt;\n    &lt;ImageView styleClass=&quot;icon&quot; preserveRatio=&quot;true&quot;&gt;\n        &lt;Image url=&quot;@assets/settings.png&quot; /&gt;\n    &lt;/ImageView&gt;\n    &lt;Label text=&quot;%settings&quot; /&gt;\n&lt;/HBox&gt;\n</code></pre>\n<p>The following is my CSS for the icon class.</p>\n<pre class=\"lang-css prettyprint-override\"><code>.icon {\n    -fx-pref-height: 20px;\n    -fx-pref-width: 20px;\n    -fx-max-width: 20px;\n    -fx-max-height: 20px;\n    -fx-min-width: 20px;\n    -fx-min-height: 20px;\n}\n</code></pre>\n<p>Nothing actually happens. The size remains the same. If however, I add requestedHeight=&quot;20&quot; and requestedWidth=&quot;20&quot; on in the ImageView xml tag, the image resizes.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;HBox styleClass=&quot;sidebar-item&quot; &gt;\n    &lt;ImageView styleClass=&quot;icon&quot; preserveRatio=&quot;true&quot;&gt;\n        &lt;Image url=&quot;@assets/settings.png&quot; requestedHeight=&quot;20&quot; requestedWidth=&quot;20&quot;/&gt;\n    &lt;/ImageView&gt;\n    &lt;Label text=&quot;%settings&quot; /&gt;\n&lt;/HBox&gt;\n</code></pre>\n<p>Is it not possible to achieve the same using css? I can't find any CSS tags relating to requestedWidth, and I'm also not allowed to set a CSS class on the Image tag. Only the ImageView tag.</p>\n"},{"tags":["java","rest","filter","jwt","secret-key"],"comments":[{"owner":{"account_id":25844643,"reputation":1,"user_id":19579687,"display_name":"Pablo Elia"},"score":1,"creation_date":1665753060,"post_id":74043873,"comment_id":130777694,"body_markdown":"I already solved the issue, the token I was passing through the HTTP request didn&#39;t had the &#39;Bearer&#39; in front of it so it wasn&#39;t being set as the Authorization header, the rest of the code works just fine","body":"I already solved the issue, the token I was passing through the HTTP request didn&#39;t had the &#39;Bearer&#39; in front of it so it wasn&#39;t being set as the Authorization header, the rest of the code works just fine"}],"owner":{"account_id":25844643,"reputation":1,"user_id":19579687,"display_name":"Pablo Elia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665889777,"creation_date":1665586080,"question_id":74043873,"body_markdown":"I am working in a REST endpoint and I&#39;m implementing JWT as a form to validate session and inativity. I generate a token with a short expire date and a refresh token with a longer one, to stay connected the user will update the token with the refresh token and keep connected. \r\nThe problem is, when the user logs in it generates both tokens with the same signature but when I was working at the request filter I can validate the token but the refresh token presents this exception: \r\n\r\n&gt; &quot;JWT signature does not match locally computed signature. JWT validity\r\n&gt; cannot be asserted and should not be trusted.&quot;\r\n\r\nThe code that generate both tokens is this:\r\n\r\n    public String generateToken(String usuario, String session, Date expiration, Map claims) throws NoSuchAlgorithmException{\r\n            \r\n            String secret = jpaService.getSecret();        \r\n            SecretKey secretKey = generateSecretKey(secret + session);\r\n            System.out.println(&quot;SecretKey: &quot; + Base64.getEncoder().encodeToString(secretKey.getEncoded())); // This is for checking if the secret key is the same\r\n            String token = Jwts.builder()\r\n                    .setHeaderParam(Header.TYPE, Header.JWT_TYPE)\r\n                    .setSubject(usuario)\r\n                    .setClaims(claims)\r\n                    .setIssuer(uriInfo.getAbsolutePath().toString())\r\n                    .setIssuedAt(new Date())\r\n                    .setExpiration(expiration) // Date.from(LocalDateTime.now().plusWeeks(1).atZone(ZoneId.systemDefault()).toInstant())\r\n                    .signWith(secretKey, SignatureAlgorithm.HS256)                \r\n                    .compact();\r\n            \r\n            return token;\r\n        }\r\n\r\nAs I said, the regular token can be read, but the refresh token can&#39;t. This is the code in the request filter that reads the token:\r\n\r\n    private void readToken(ContainerRequestContext requestContext, String secret, String session, String token, String message) {\r\n            try {\r\n                SecretKey secretKey = security.generateSecretKey(secret + session);\r\n                System.out.println(&quot;SecretKey: &quot; + Base64.getEncoder().encodeToString(secretKey.getEncoded())); // This is for checking if the secret key is the same\r\n                Jws jws = Jwts.parserBuilder().setSigningKey(secretKey).build().parseClaimsJws(token);\r\n                System.out.println(&quot;jws&quot; + jws);\r\n                System.out.println(&quot;Body JWS: &quot; + jws.getBody());\r\n                \r\n            } catch (ExpiredJwtException | MalformedJwtException | UnsupportedJwtException | SignatureException | IllegalArgumentException | NoSuchAlgorithmException ex) {\r\n                System.out.println(&quot;EXCEPTION&quot; + ex);\r\n                JsonObject json = new JsonObject();\r\n                json.addProperty(&quot;serviceResponse&quot;, &quot;ERROR&quot;);\r\n                json.addProperty(&quot;message&quot;, message);\r\n                json.addProperty(&quot;exception&quot;, ex.getMessage());\r\n                requestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).entity(json.toString()).build());\r\n            }\r\n        }","title":"JWT signature does not match locally computed signature but signing key is the same as generated","body":"<p>I am working in a REST endpoint and I'm implementing JWT as a form to validate session and inativity. I generate a token with a short expire date and a refresh token with a longer one, to stay connected the user will update the token with the refresh token and keep connected.\nThe problem is, when the user logs in it generates both tokens with the same signature but when I was working at the request filter I can validate the token but the refresh token presents this exception:</p>\n<blockquote>\n<p>&quot;JWT signature does not match locally computed signature. JWT validity\ncannot be asserted and should not be trusted.&quot;</p>\n</blockquote>\n<p>The code that generate both tokens is this:</p>\n<pre><code>public String generateToken(String usuario, String session, Date expiration, Map claims) throws NoSuchAlgorithmException{\n        \n        String secret = jpaService.getSecret();        \n        SecretKey secretKey = generateSecretKey(secret + session);\n        System.out.println(&quot;SecretKey: &quot; + Base64.getEncoder().encodeToString(secretKey.getEncoded())); // This is for checking if the secret key is the same\n        String token = Jwts.builder()\n                .setHeaderParam(Header.TYPE, Header.JWT_TYPE)\n                .setSubject(usuario)\n                .setClaims(claims)\n                .setIssuer(uriInfo.getAbsolutePath().toString())\n                .setIssuedAt(new Date())\n                .setExpiration(expiration) // Date.from(LocalDateTime.now().plusWeeks(1).atZone(ZoneId.systemDefault()).toInstant())\n                .signWith(secretKey, SignatureAlgorithm.HS256)                \n                .compact();\n        \n        return token;\n    }\n</code></pre>\n<p>As I said, the regular token can be read, but the refresh token can't. This is the code in the request filter that reads the token:</p>\n<pre><code>private void readToken(ContainerRequestContext requestContext, String secret, String session, String token, String message) {\n        try {\n            SecretKey secretKey = security.generateSecretKey(secret + session);\n            System.out.println(&quot;SecretKey: &quot; + Base64.getEncoder().encodeToString(secretKey.getEncoded())); // This is for checking if the secret key is the same\n            Jws jws = Jwts.parserBuilder().setSigningKey(secretKey).build().parseClaimsJws(token);\n            System.out.println(&quot;jws&quot; + jws);\n            System.out.println(&quot;Body JWS: &quot; + jws.getBody());\n            \n        } catch (ExpiredJwtException | MalformedJwtException | UnsupportedJwtException | SignatureException | IllegalArgumentException | NoSuchAlgorithmException ex) {\n            System.out.println(&quot;EXCEPTION&quot; + ex);\n            JsonObject json = new JsonObject();\n            json.addProperty(&quot;serviceResponse&quot;, &quot;ERROR&quot;);\n            json.addProperty(&quot;message&quot;, message);\n            json.addProperty(&quot;exception&quot;, ex.getMessage());\n            requestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).entity(json.toString()).build());\n        }\n    }\n</code></pre>\n"},{"tags":["java","walmart-api"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1665890088,"post_id":74083498,"comment_id":130803455,"body_markdown":"Don&#39;t swallow exceptions unless you really know what you&#39;re doing, especially not when you&#39;re trying to debug a problem. Either catch it and _display_ it (most easily with e.printStackTrace()), or let it propagate out of main() and the JVM will display it for you.","body":"Don&#39;t swallow exceptions unless you really know what you&#39;re doing, especially not when you&#39;re trying to debug a problem. Either catch it and <i>display</i> it (most easily with e.printStackTrace()), or let it propagate out of main() and the JVM will display it for you."}],"answers":[{"tags":[],"owner":{"account_id":26234856,"reputation":1,"user_id":19910190,"display_name":"user19910190"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665889600,"creation_date":1665889600,"answer_id":74084335,"question_id":74083498,"body_markdown":"Looks like private key you are using is not valid. Could you please regenerate public/private key pair and input valid private key. It will generate signature\r\n \r\nPlease follow the instructions listed here\r\nhttps://walmart.io/docs/affiliate/quick-start-guide\r\nhttps://walmart.io/key-tutorial\r\n \r\nRegards,\r\nFirdos\r\nIO Support","title":"Trying to generate WM_SEC.AUTH_SIGNATURE (Walmart.io)","body":"<p>Looks like private key you are using is not valid. Could you please regenerate public/private key pair and input valid private key. It will generate signature</p>\n<p>Please follow the instructions listed here\n<a href=\"https://walmart.io/docs/affiliate/quick-start-guide\" rel=\"nofollow noreferrer\">https://walmart.io/docs/affiliate/quick-start-guide</a>\n<a href=\"https://walmart.io/key-tutorial\" rel=\"nofollow noreferrer\">https://walmart.io/key-tutorial</a></p>\n<p>Regards,\nFirdos\nIO Support</p>\n"}],"owner":{"account_id":19891553,"reputation":15,"user_id":14573509,"display_name":"Alex 111"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665889600,"creation_date":1665873720,"question_id":74083498,"body_markdown":"Has anyone here successfully generated the Walmart.io API signature key?\r\n\r\nI have tried to wrap my head around the java example but I am not having any luck of it as I have no Java experience.\r\n\r\nI saw that there is a Python example here on StackOverFlow which would be interesting too, but it didn&#39;t work for me. \r\n\r\n**The result I&#39;m getting with Walmart Java code:**\r\n\r\nconsumerId: 36e010ef-0026-4713-9365-231323116afd\r\n\r\nintimestamp: 1665872674888\r\n\r\nSignature: null\r\n\r\n\r\n**My code:**\r\n\r\n    package com.walmart.platform.common;\r\n    \r\n    import java.io.ObjectStreamException;\r\n    import java.security.KeyRep;\r\n    import java.security.PrivateKey;\r\n    import java.security.Signature;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    import java.util.SortedSet;\r\n    import java.util.TreeSet;\r\n    \r\n    import org.apache.commons.codec.binary.Base64;\r\n    \r\n    public class SignatureGenerator {\r\n    \r\n        public static void main(String[] args) {\r\n            SignatureGenerator generator = new SignatureGenerator();\r\n    \r\n            String consumerId = &quot;36e010ef-0026-4713-9365-231323116afd&quot;;\r\n            String priviateKeyVersion = &quot;2&quot;;\r\n            String key = &quot;jUiewb1+QbHl7ls+LoBO...O4j2NVjC2If4Z/r5FrykDVcO+nxb8G95X+zl&quot;;\r\n    \r\n            long intimestamp = System.currentTimeMillis();\r\n    \r\n            System.out.println(&quot;consumerId: &quot; + consumerId);\r\n            System.out.println(&quot;intimestamp: &quot; + intimestamp);\r\n    \r\n            Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n            map.put(&quot;WM_CONSUMER.ID&quot;, consumerId);\r\n            map.put(&quot;WM_CONSUMER.INTIMESTAMP&quot;, Long.toString(intimestamp));\r\n            map.put(&quot;WM_SEC.KEY_VERSION&quot;, priviateKeyVersion);\r\n    \r\n            String[] array = canonicalize(map);\r\n    \r\n            String data = null;\r\n    \r\n            try {\r\n                data = generator.generateSignature(key, array[1]);\r\n            } catch(Exception e) { }\r\n            System.out.println(&quot;Signature: &quot; + data);\r\n        }\r\n        public String generateSignature(String key, String stringToSign) throws Exception {\r\n            Signature signatureInstance = Signature.getInstance(&quot;SHA256WithRSA&quot;);\r\n    \r\n            ServiceKeyRep keyRep = new ServiceKeyRep(KeyRep.Type.PRIVATE, &quot;RSA&quot;, &quot;PKCS#8&quot;, Base64.decodeBase64(key));\r\n    \r\n            PrivateKey resolvedPrivateKey = (PrivateKey) keyRep.readResolve();\r\n    \r\n            signatureInstance.initSign(resolvedPrivateKey);\r\n    \r\n            byte[] bytesToSign = stringToSign.getBytes(&quot;UTF-8&quot;);\r\n            signatureInstance.update(bytesToSign);\r\n            byte[] signatureBytes = signatureInstance.sign();\r\n    \r\n            String signatureString = Base64.encodeBase64String(signatureBytes);\r\n    \r\n            return signatureString;\r\n        }\r\n        protected static String[] canonicalize(Map&lt;String, String&gt; headersToSign) {\r\n            StringBuffer canonicalizedStrBuffer=new StringBuffer();\r\n            StringBuffer parameterNamesBuffer=new StringBuffer();\r\n            Set&lt;String&gt; keySet=headersToSign.keySet();\r\n    \r\n            // Create sorted key set to enforce order on the key names\r\n            SortedSet&lt;String&gt; sortedKeySet=new TreeSet&lt;String&gt;(keySet);\r\n            for (String key :sortedKeySet) {\r\n                Object val=headersToSign.get(key);\r\n                parameterNamesBuffer.append(key.trim()).append(&quot;;&quot;);\r\n                canonicalizedStrBuffer.append(val.toString().trim()).append(&quot;\\n&quot;);\r\n            }\r\n            return new String[] {parameterNamesBuffer.toString(), canonicalizedStrBuffer.toString()};\r\n        }\r\n    \r\n        class ServiceKeyRep extends KeyRep  {\r\n            private static final long serialVersionUID = -7213340660431987616L;\r\n            public ServiceKeyRep(Type type, String algorithm, String format, byte[] encoded) {\r\n                super(type, algorithm, format, encoded);\r\n            }\r\n            protected Object readResolve() throws ObjectStreamException {\r\n                return super.readResolve();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Trying to generate WM_SEC.AUTH_SIGNATURE (Walmart.io)","body":"<p>Has anyone here successfully generated the Walmart.io API signature key?</p>\n<p>I have tried to wrap my head around the java example but I am not having any luck of it as I have no Java experience.</p>\n<p>I saw that there is a Python example here on StackOverFlow which would be interesting too, but it didn't work for me.</p>\n<p><strong>The result I'm getting with Walmart Java code:</strong></p>\n<p>consumerId: 36e010ef-0026-4713-9365-231323116afd</p>\n<p>intimestamp: 1665872674888</p>\n<p>Signature: null</p>\n<p><strong>My code:</strong></p>\n<pre><code>package com.walmart.platform.common;\n\nimport java.io.ObjectStreamException;\nimport java.security.KeyRep;\nimport java.security.PrivateKey;\nimport java.security.Signature;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.SortedSet;\nimport java.util.TreeSet;\n\nimport org.apache.commons.codec.binary.Base64;\n\npublic class SignatureGenerator {\n\n    public static void main(String[] args) {\n        SignatureGenerator generator = new SignatureGenerator();\n\n        String consumerId = &quot;36e010ef-0026-4713-9365-231323116afd&quot;;\n        String priviateKeyVersion = &quot;2&quot;;\n        String key = &quot;jUiewb1+QbHl7ls+LoBO...O4j2NVjC2If4Z/r5FrykDVcO+nxb8G95X+zl&quot;;\n\n        long intimestamp = System.currentTimeMillis();\n\n        System.out.println(&quot;consumerId: &quot; + consumerId);\n        System.out.println(&quot;intimestamp: &quot; + intimestamp);\n\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;WM_CONSUMER.ID&quot;, consumerId);\n        map.put(&quot;WM_CONSUMER.INTIMESTAMP&quot;, Long.toString(intimestamp));\n        map.put(&quot;WM_SEC.KEY_VERSION&quot;, priviateKeyVersion);\n\n        String[] array = canonicalize(map);\n\n        String data = null;\n\n        try {\n            data = generator.generateSignature(key, array[1]);\n        } catch(Exception e) { }\n        System.out.println(&quot;Signature: &quot; + data);\n    }\n    public String generateSignature(String key, String stringToSign) throws Exception {\n        Signature signatureInstance = Signature.getInstance(&quot;SHA256WithRSA&quot;);\n\n        ServiceKeyRep keyRep = new ServiceKeyRep(KeyRep.Type.PRIVATE, &quot;RSA&quot;, &quot;PKCS#8&quot;, Base64.decodeBase64(key));\n\n        PrivateKey resolvedPrivateKey = (PrivateKey) keyRep.readResolve();\n\n        signatureInstance.initSign(resolvedPrivateKey);\n\n        byte[] bytesToSign = stringToSign.getBytes(&quot;UTF-8&quot;);\n        signatureInstance.update(bytesToSign);\n        byte[] signatureBytes = signatureInstance.sign();\n\n        String signatureString = Base64.encodeBase64String(signatureBytes);\n\n        return signatureString;\n    }\n    protected static String[] canonicalize(Map&lt;String, String&gt; headersToSign) {\n        StringBuffer canonicalizedStrBuffer=new StringBuffer();\n        StringBuffer parameterNamesBuffer=new StringBuffer();\n        Set&lt;String&gt; keySet=headersToSign.keySet();\n\n        // Create sorted key set to enforce order on the key names\n        SortedSet&lt;String&gt; sortedKeySet=new TreeSet&lt;String&gt;(keySet);\n        for (String key :sortedKeySet) {\n            Object val=headersToSign.get(key);\n            parameterNamesBuffer.append(key.trim()).append(&quot;;&quot;);\n            canonicalizedStrBuffer.append(val.toString().trim()).append(&quot;\\n&quot;);\n        }\n        return new String[] {parameterNamesBuffer.toString(), canonicalizedStrBuffer.toString()};\n    }\n\n    class ServiceKeyRep extends KeyRep  {\n        private static final long serialVersionUID = -7213340660431987616L;\n        public ServiceKeyRep(Type type, String algorithm, String format, byte[] encoded) {\n            super(type, algorithm, format, encoded);\n        }\n        protected Object readResolve() throws ObjectStreamException {\n            return super.readResolve();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase-realtime-database","firebase-analytics"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1641831256,"post_id":70655438,"comment_id":124903663,"body_markdown":"did you add the json file?","body":"did you add the json file?"},{"owner":{"account_id":21327936,"reputation":43,"user_id":15700081,"display_name":"Bryne Phiri"},"score":0,"creation_date":1641852940,"post_id":70655438,"comment_id":124911394,"body_markdown":"@SambhavKhandelwal yes i did","body":"@SambhavKhandelwal yes i did"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1641884559,"post_id":70655438,"comment_id":124917165,"body_markdown":"You say &quot;I am trying to insert user data into the real-time database(Firebase)&quot; but I cannot see any code that writes data to Firebase. Can you share it?","body":"You say &quot;I am trying to insert user data into the real-time database(Firebase)&quot; but I cannot see any code that writes data to Firebase. Can you share it?"},{"owner":{"account_id":21327936,"reputation":43,"user_id":15700081,"display_name":"Bryne Phiri"},"score":0,"creation_date":1641939369,"post_id":70655438,"comment_id":124938489,"body_markdown":"@AlexMamo Both inserting and retrieving isn&#39;t working but let me copy it and i will add it to the original post","body":"@AlexMamo Both inserting and retrieving isn&#39;t working but let me copy it and i will add it to the original post"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1641974571,"post_id":70655438,"comment_id":124945512,"body_markdown":"I still cannot see any code that writes data to the database.","body":"I still cannot see any code that writes data to the database."},{"owner":{"account_id":21327936,"reputation":43,"user_id":15700081,"display_name":"Bryne Phiri"},"score":0,"creation_date":1642117262,"post_id":70655438,"comment_id":124993488,"body_markdown":"@AlexMamo in the signUp code i am updating the children of a phone number(userId) that doesn&#39;t exist so that&#39;s creating that user and adding the information using a HashMap","body":"@AlexMamo in the signUp code i am updating the children of a phone number(userId) that doesn&#39;t exist so that&#39;s creating that user and adding the information using a HashMap"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1642143831,"post_id":70655438,"comment_id":124997625,"body_markdown":"Instead of describing what you are doing, add the corresponding code.","body":"Instead of describing what you are doing, add the corresponding code."},{"owner":{"account_id":21327936,"reputation":43,"user_id":15700081,"display_name":"Bryne Phiri"},"score":0,"creation_date":1642302595,"post_id":70655438,"comment_id":125033935,"body_markdown":"@AlexMamo its alright sir I managed to fix it thanks","body":"@AlexMamo its alright sir I managed to fix it thanks"}],"answers":[{"tags":[],"owner":{"account_id":21327936,"reputation":43,"user_id":15700081,"display_name":"Bryne Phiri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642302976,"creation_date":1642302976,"answer_id":70727122,"question_id":70655438,"body_markdown":"I don&#39;t know exactly what went wrong as I ran through every little thing over 5 times looking for where I went wrong. I fixed it by removing firebase and letting the assistant add it for me. I also removed the Jcenter repository plus I changed the email I was using for android studio to correspond with the email I was using for the project.","title":"Firebase not responding in android studio","body":"<p>I don't know exactly what went wrong as I ran through every little thing over 5 times looking for where I went wrong. I fixed it by removing firebase and letting the assistant add it for me. I also removed the Jcenter repository plus I changed the email I was using for android studio to correspond with the email I was using for the project.</p>\n"}],"owner":{"account_id":21327936,"reputation":43,"user_id":15700081,"display_name":"Bryne Phiri"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":679,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70727122,"answer_count":1,"score":0,"last_activity_date":1665888413,"creation_date":1641830860,"question_id":70655438,"body_markdown":"I am trying to insert user data into the real-time database(Firebase). But when I run the app on an emulator or on my phone it just keeps loading(I set up a loadingBar to dismiss when a response is received) I tried going through the logcat to find an error message I got this\r\n\r\n&gt; Fetching config failed. code, error: 0, java.net.UnknownHostException: Unable to resolve host &quot;app-measurement.com&quot;: No address associated with hostname: com.google.android.gms.measurement.internal.zzeq.run(com.google.android.gms:play-services-measurement@@20.0.0:26)\r\n\r\nI checked the rules, the dependencies looked through the web I can&#39;t seem to find what I missed.\r\n\r\nI thought I should mention the first time I tried using firebase I faced the same problem on a less serious project so I didn&#39;t sort it out. That time I was using FIrebaseAuth so I decided to use a different approach this time.\r\nhere is the signIn code. \r\n\r\n    private void allowAccessAccount(String phoneNumber, String password) {\r\n        final DatabaseReference rootRef;\r\n        rootRef = FirebaseDatabase.getInstance().getReference();\r\n\r\n        rootRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n\r\n                if (dataSnapshot.child(PARENT_DB_NAME).child(phoneNumber).exists()) {\r\n\r\n                    User userData = dataSnapshot.child(PARENT_DB_NAME).child(phoneNumber)\r\n                            .getValue(User.class);\r\n\r\n                    if (userData.getPhone().equals(phoneNumber)) {\r\n\r\n                        if (userData.getPassword().equals(password)) {\r\n\r\n                            if (PARENT_DB_NAME.equals(&quot;Admins&quot;)) {\r\n\r\n                                Toast.makeText(SignInActivity.this, &quot;Success&quot;, Toast.LENGTH_SHORT).show();\r\n                                loadingBar.dismiss();\r\n\r\n                                //Open Home Activity\r\n                                startActivity(new Intent(SignInActivity.this, AdminPanel.class));\r\n                                finish();\r\n\r\n\r\n                            } else if (PARENT_DB_NAME.equals(&quot;Users&quot;)) {\r\n\r\n                                Toast.makeText(SignInActivity.this, &quot;Success&quot;, Toast.LENGTH_SHORT).show();\r\n                                loadingBar.dismiss();\r\n\r\n                                //Get User Data\r\n                                Prevalent.currentOnlineUsr = userData;\r\n\r\n                                //Open Home Activity\r\n                                startActivity(new Intent(SignInActivity.this, HomeActivity.class));\r\n                                finish();\r\n\r\n                            }\r\n                        } else {\r\n\r\n                            loadingBar.dismiss();\r\n                            inputPassword.setError(&quot;Incorrect password&quot;);\r\n\r\n                        }\r\n                    }\r\n                } else {\r\n\r\n                    inputPhoneNumber.setError(&quot;Not registered&quot;);\r\n                    loadingBar.dismiss();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                Toast.makeText(SignInActivity.this, error.getMessage(), Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n    }\r\nHere is the signUp code\r\n\r\n    private void signUpUser(String username, String phoneNumber, String password) {\r\n        final DatabaseReference rootRef;\r\n        rootRef = FirebaseDatabase.getInstance().getReference();\r\n\r\n        rootRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n\r\n                if (!(dataSnapshot.child(&quot;Users&quot;).child(phoneNumber).exists())){\r\n\r\n                    HashMap&lt;String, Object&gt; userDataMap = new HashMap&lt;&gt;();\r\n\r\n                    userDataMap.put(&quot;username&quot;, username);\r\n                    userDataMap.put(&quot;phone&quot;, phoneNumber);\r\n                    userDataMap.put(&quot;password&quot;, password);\r\n\r\n                    rootRef.child(&quot;Users&quot;).child(phoneNumber).updateChildren(userDataMap)\r\n                            .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                    if (task.isSuccessful()){\r\n\r\n                                        //Account creation successful\r\n                                        Toast.makeText(SignUpActivity.this, &quot;Success&quot;, Toast.LENGTH_SHORT).show();\r\n                                        loadingBar.dismiss();\r\n\r\n                                        //Open Sign In Activity\r\n                                        startActivity(new Intent(SignUpActivity.this,SignInActivity.class));\r\n                                    }\r\n                                    else {\r\n                                        //Account creation Failed\r\n                                        loadingBar.dismiss();\r\n                                        Toast.makeText(SignUpActivity.this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\r\n                                    }\r\n                                }\r\n                            });\r\n                } else {\r\n                    inputPhoneNumber.setError(&quot;Already registered&quot;);\r\n                    loadingBar.dismiss();\r\n                }\r\n            }\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n    }","title":"Firebase not responding in android studio","body":"<p>I am trying to insert user data into the real-time database(Firebase). But when I run the app on an emulator or on my phone it just keeps loading(I set up a loadingBar to dismiss when a response is received) I tried going through the logcat to find an error message I got this</p>\n<blockquote>\n<p>Fetching config failed. code, error: 0, java.net.UnknownHostException: Unable to resolve host &quot;app-measurement.com&quot;: No address associated with hostname: com.google.android.gms.measurement.internal.zzeq.run(com.google.android.gms:play-services-measurement@@20.0.0:26)</p>\n</blockquote>\n<p>I checked the rules, the dependencies looked through the web I can't seem to find what I missed.</p>\n<p>I thought I should mention the first time I tried using firebase I faced the same problem on a less serious project so I didn't sort it out. That time I was using FIrebaseAuth so I decided to use a different approach this time.\nhere is the signIn code.</p>\n<pre><code>private void allowAccessAccount(String phoneNumber, String password) {\n    final DatabaseReference rootRef;\n    rootRef = FirebaseDatabase.getInstance().getReference();\n\n    rootRef.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n            if (dataSnapshot.child(PARENT_DB_NAME).child(phoneNumber).exists()) {\n\n                User userData = dataSnapshot.child(PARENT_DB_NAME).child(phoneNumber)\n                        .getValue(User.class);\n\n                if (userData.getPhone().equals(phoneNumber)) {\n\n                    if (userData.getPassword().equals(password)) {\n\n                        if (PARENT_DB_NAME.equals(&quot;Admins&quot;)) {\n\n                            Toast.makeText(SignInActivity.this, &quot;Success&quot;, Toast.LENGTH_SHORT).show();\n                            loadingBar.dismiss();\n\n                            //Open Home Activity\n                            startActivity(new Intent(SignInActivity.this, AdminPanel.class));\n                            finish();\n\n\n                        } else if (PARENT_DB_NAME.equals(&quot;Users&quot;)) {\n\n                            Toast.makeText(SignInActivity.this, &quot;Success&quot;, Toast.LENGTH_SHORT).show();\n                            loadingBar.dismiss();\n\n                            //Get User Data\n                            Prevalent.currentOnlineUsr = userData;\n\n                            //Open Home Activity\n                            startActivity(new Intent(SignInActivity.this, HomeActivity.class));\n                            finish();\n\n                        }\n                    } else {\n\n                        loadingBar.dismiss();\n                        inputPassword.setError(&quot;Incorrect password&quot;);\n\n                    }\n                }\n            } else {\n\n                inputPhoneNumber.setError(&quot;Not registered&quot;);\n                loadingBar.dismiss();\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n            Toast.makeText(SignInActivity.this, error.getMessage(), Toast.LENGTH_SHORT).show();\n\n        }\n    });\n}\n</code></pre>\n<p>Here is the signUp code</p>\n<pre><code>private void signUpUser(String username, String phoneNumber, String password) {\n    final DatabaseReference rootRef;\n    rootRef = FirebaseDatabase.getInstance().getReference();\n\n    rootRef.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n            if (!(dataSnapshot.child(&quot;Users&quot;).child(phoneNumber).exists())){\n\n                HashMap&lt;String, Object&gt; userDataMap = new HashMap&lt;&gt;();\n\n                userDataMap.put(&quot;username&quot;, username);\n                userDataMap.put(&quot;phone&quot;, phoneNumber);\n                userDataMap.put(&quot;password&quot;, password);\n\n                rootRef.child(&quot;Users&quot;).child(phoneNumber).updateChildren(userDataMap)\n                        .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                if (task.isSuccessful()){\n\n                                    //Account creation successful\n                                    Toast.makeText(SignUpActivity.this, &quot;Success&quot;, Toast.LENGTH_SHORT).show();\n                                    loadingBar.dismiss();\n\n                                    //Open Sign In Activity\n                                    startActivity(new Intent(SignUpActivity.this,SignInActivity.class));\n                                }\n                                else {\n                                    //Account creation Failed\n                                    loadingBar.dismiss();\n                                    Toast.makeText(SignUpActivity.this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\n                                }\n                            }\n                        });\n            } else {\n                inputPhoneNumber.setError(&quot;Already registered&quot;);\n                loadingBar.dismiss();\n            }\n        }\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n\n}\n</code></pre>\n"},{"tags":["java","android","excel","apache-poi"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1665889392,"post_id":74084216,"comment_id":130803395,"body_markdown":"I can&#39;t reproduce the error by editing a simple xlsx file with your code on my computer. It correctly increments the value of the first cell; there are no errors upon opening the edited file.","body":"I can&#39;t reproduce the error by editing a simple xlsx file with your code on my computer. It correctly increments the value of the first cell; there are no errors upon opening the edited file."},{"owner":{"account_id":14435837,"reputation":103,"user_id":10778387,"display_name":"BBeast"},"score":0,"creation_date":1665893942,"post_id":74084216,"comment_id":130803789,"body_markdown":"@JanezKuhar Hmm, odd.","body":"@JanezKuhar Hmm, odd."},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":1,"creation_date":1665919809,"post_id":74084216,"comment_id":130807386,"body_markdown":"Have you tried running your example in a standalone Java desktop project? Just the part that makes use of the Apache POI API.","body":"Have you tried running your example in a standalone Java desktop project? Just the part that makes use of the Apache POI API."},{"owner":{"account_id":14435837,"reputation":103,"user_id":10778387,"display_name":"BBeast"},"score":0,"creation_date":1665964017,"post_id":74084216,"comment_id":130816014,"body_markdown":"@JanezKuhar Not yet. I&#39;m yet to set up any standalone Java desktop projects. That would probably help narrow down where the problem is, though.","body":"@JanezKuhar Not yet. I&#39;m yet to set up any standalone Java desktop projects. That would probably help narrow down where the problem is, though."},{"owner":{"account_id":14435837,"reputation":103,"user_id":10778387,"display_name":"BBeast"},"score":0,"creation_date":1665995437,"post_id":74084216,"comment_id":130821392,"body_markdown":"I&#39;ve inspected the damaged file. There seems to be some corruption in how the files have been zipped (.xlsx is a ZIP archive of XML files) (Unix unzip says &quot;mismatch between local and central GPF bit 11 (&quot;UTF-8&quot;)&quot;), suggesting some kind of encoding error.","body":"I&#39;ve inspected the damaged file. There seems to be some corruption in how the files have been zipped (.xlsx is a ZIP archive of XML files) (Unix unzip says &quot;mismatch between local and central GPF bit 11 (&quot;UTF-8&quot;)&quot;), suggesting some kind of encoding error."}],"owner":{"account_id":14435837,"reputation":103,"user_id":10778387,"display_name":"BBeast"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665887214,"creation_date":1665887214,"question_id":74084216,"body_markdown":"I am attempting to build an Android app as a convenience wrapper for editing an Excel spreadsheet. I am using the Apache POI to interface with Excel in Java, which [should be able to edit an existing workbook][1]. The spreadsheet has no fancy formatting and the editing just changes or adds numbers. I can successfully read and write data to file. However, when I open the file in Microsoft Excel (either on mobile or on PC after transferring the file), I receive the following error message:\r\n\r\n&gt; We found a problem with some content in &#39;filename.xlsx&#39;. Do you want us to try to recover as much as we can? If you trust the source of this workbook, click Yes.\r\n\r\nIf I click yes, it opens the file in Read-only mode. All the data is there, nothing is missing. However, to edit the file in Excel, I must save it to a different filename, which is rather inconvenient. While I could in-principle work around it (I shouldn&#39;t need to open the file in Excel often), it seems symptomatic of more serious problems.\r\n\r\nI have a hunch it is tangentially related to [this question][2], where Excel was suspicious of a file which had been edited by an &quot;untrusted&quot; program. However, unlike that question where the file was opened in Protected Mode, here Excel is implying that the file is somehow damaged. Perhaps the issue is in the metadata?\r\n\r\nBelow is a minimum working example. When the user clicks on a button the selectFile method is called. This uses the [Storage Access Framework][3] to obtain the URI of the .xlsx file I want to edit, which is an Excel spreadsheet I created in Excel to be blank except for a number in cell A1 in Sheet1. The file is stored locally on my device (although I get the same problem when it is on OneDrive, which is where I actually want the file). This URI is then passed to the doEverything method, which does the actual work of editing the Excel file. (It also updates a textView with ID textView_data, which displays the value found in cell A1. This shows that it is reading the data properly.)\r\n\r\n```java\r\nimport androidx.activity.result.ActivityResultCallback;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\n\r\nimport org.apache.poi.ss.usermodel.WorkbookFactory;\r\nimport org.apache.poi.xssf.usermodel.XSSFCell;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private TextView mText;\r\n\r\n    /**\r\n     * Opens the given workbook, increments the cell by 1, then writes and closes it.\r\n     *\r\n     * @param uri URI of XLSX file\r\n     */\r\n    private void doEverything(Uri uri) {\r\n        if (uri == null) {\r\n            return;\r\n        }\r\n        XSSFWorkbook wb = null;\r\n        // Open the workbook\r\n        try (InputStream inp = getContentResolver().openInputStream(uri)) {\r\n            wb = (XSSFWorkbook) WorkbookFactory.create(inp);\r\n            // Increment cell A1 by 1.\r\n            XSSFCell cell = wb.getSheetAt(0).getRow(0).getCell(0);\r\n            cell.setCellValue(cell.getNumericCellValue()+1);\r\n            // Write the value of the cell to the saved textView.\r\n            mText.setText(Double.toString(cell.getNumericCellValue()));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        if (wb != null) {\r\n            try (OutputStream fileOut = getContentResolver().openOutputStream(uri)) {\r\n                // Write to file.\r\n                wb.write(fileOut);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        // Record the various Views we&#39;ll need later\r\n        mText = findViewById(R.id.textView_data);\r\n    }\r\n\r\n    /**\r\n     * Asks the user to select a .xlsx file. Called when the user presses a button.\r\n     */\r\n    public void selectFile(View view) {\r\n        // Open an .xlsx file\r\n        openDoc.launch(new String[]{&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;});\r\n    }\r\n\r\n    // GetContent creates an ActivityResultLauncher&lt;String&gt; to allow you to pass\r\n    // in the mime type you&#39;d like to allow the user to select\r\n    ActivityResultLauncher&lt;String[]&gt; openDoc = registerForActivityResult(new ActivityResultContracts.OpenDocument(),\r\n            new ActivityResultCallback&lt;Uri&gt;() {\r\n                @Override\r\n                public void onActivityResult(Uri uri) {\r\n                    doEverything(uri);\r\n                }\r\n            });\r\n}\r\n```\r\n\r\nI am using Apache POI version 5.2.3. I am using the Microsoft Excel mobile app (Version 1.0.1 (16.0.15629.20092), 2018) and Excel 365 on desktop (Version 2209), both of which give the same issue. My phone uses Android 12 with SDK 31.\r\n\r\nHow can I edit the file without Excel thinking the file is broken?\r\n\r\n\r\n  [1]: https://poi.apache.org/components/spreadsheet/quick-guide.html#ReadWriteWorkbook\r\n  [2]: https://stackoverflow.com/questions/22294690/apache-poi-enable-excel-editing\r\n  [3]: https://developer.android.com/training/data-storage/shared/documents-files","title":"Editing Excel spreadsheet in Java/Android using Apache POI writes data but Excel demands repairs","body":"<p>I am attempting to build an Android app as a convenience wrapper for editing an Excel spreadsheet. I am using the Apache POI to interface with Excel in Java, which <a href=\"https://poi.apache.org/components/spreadsheet/quick-guide.html#ReadWriteWorkbook\" rel=\"nofollow noreferrer\">should be able to edit an existing workbook</a>. The spreadsheet has no fancy formatting and the editing just changes or adds numbers. I can successfully read and write data to file. However, when I open the file in Microsoft Excel (either on mobile or on PC after transferring the file), I receive the following error message:</p>\n<blockquote>\n<p>We found a problem with some content in 'filename.xlsx'. Do you want us to try to recover as much as we can? If you trust the source of this workbook, click Yes.</p>\n</blockquote>\n<p>If I click yes, it opens the file in Read-only mode. All the data is there, nothing is missing. However, to edit the file in Excel, I must save it to a different filename, which is rather inconvenient. While I could in-principle work around it (I shouldn't need to open the file in Excel often), it seems symptomatic of more serious problems.</p>\n<p>I have a hunch it is tangentially related to <a href=\"https://stackoverflow.com/questions/22294690/apache-poi-enable-excel-editing\">this question</a>, where Excel was suspicious of a file which had been edited by an &quot;untrusted&quot; program. However, unlike that question where the file was opened in Protected Mode, here Excel is implying that the file is somehow damaged. Perhaps the issue is in the metadata?</p>\n<p>Below is a minimum working example. When the user clicks on a button the selectFile method is called. This uses the <a href=\"https://developer.android.com/training/data-storage/shared/documents-files\" rel=\"nofollow noreferrer\">Storage Access Framework</a> to obtain the URI of the .xlsx file I want to edit, which is an Excel spreadsheet I created in Excel to be blank except for a number in cell A1 in Sheet1. The file is stored locally on my device (although I get the same problem when it is on OneDrive, which is where I actually want the file). This URI is then passed to the doEverything method, which does the actual work of editing the Excel file. (It also updates a textView with ID textView_data, which displays the value found in cell A1. This shows that it is reading the data properly.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import androidx.activity.result.ActivityResultCallback;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.TextView;\n\nimport org.apache.poi.ss.usermodel.WorkbookFactory;\nimport org.apache.poi.xssf.usermodel.XSSFCell;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private TextView mText;\n\n    /**\n     * Opens the given workbook, increments the cell by 1, then writes and closes it.\n     *\n     * @param uri URI of XLSX file\n     */\n    private void doEverything(Uri uri) {\n        if (uri == null) {\n            return;\n        }\n        XSSFWorkbook wb = null;\n        // Open the workbook\n        try (InputStream inp = getContentResolver().openInputStream(uri)) {\n            wb = (XSSFWorkbook) WorkbookFactory.create(inp);\n            // Increment cell A1 by 1.\n            XSSFCell cell = wb.getSheetAt(0).getRow(0).getCell(0);\n            cell.setCellValue(cell.getNumericCellValue()+1);\n            // Write the value of the cell to the saved textView.\n            mText.setText(Double.toString(cell.getNumericCellValue()));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        if (wb != null) {\n            try (OutputStream fileOut = getContentResolver().openOutputStream(uri)) {\n                // Write to file.\n                wb.write(fileOut);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        // Record the various Views we'll need later\n        mText = findViewById(R.id.textView_data);\n    }\n\n    /**\n     * Asks the user to select a .xlsx file. Called when the user presses a button.\n     */\n    public void selectFile(View view) {\n        // Open an .xlsx file\n        openDoc.launch(new String[]{&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;});\n    }\n\n    // GetContent creates an ActivityResultLauncher&lt;String&gt; to allow you to pass\n    // in the mime type you'd like to allow the user to select\n    ActivityResultLauncher&lt;String[]&gt; openDoc = registerForActivityResult(new ActivityResultContracts.OpenDocument(),\n            new ActivityResultCallback&lt;Uri&gt;() {\n                @Override\n                public void onActivityResult(Uri uri) {\n                    doEverything(uri);\n                }\n            });\n}\n</code></pre>\n<p>I am using Apache POI version 5.2.3. I am using the Microsoft Excel mobile app (Version 1.0.1 (16.0.15629.20092), 2018) and Excel 365 on desktop (Version 2209), both of which give the same issue. My phone uses Android 12 with SDK 31.</p>\n<p>How can I edit the file without Excel thinking the file is broken?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1665753270,"post_id":74069553,"comment_id":130777795,"body_markdown":"Perhaps class [javafx.scene.robot.Robot](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/robot/Robot.html) can help?","body":"Perhaps class <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/robot/Robot.html\" rel=\"nofollow noreferrer\">javafx.scene.robot.Robot</a> can help?"},{"owner":{"account_id":25480234,"reputation":73,"user_id":19276721,"display_name":"ILikeTrains"},"score":0,"creation_date":1665754161,"post_id":74069553,"comment_id":130778156,"body_markdown":"Good idea, thanks, but I should have added that I am using javafx 8.","body":"Good idea, thanks, but I should have added that I am using javafx 8."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1665754454,"post_id":74069553,"comment_id":130778279,"body_markdown":"_Image is in the (0.0, 0.0) coordinate (top left corner) until I move the mouse_ maybe because that&#39;s where the mouse is initially :) Register a mouse filter and grab the initial enter - when stuck, provide a  [mcve] please ...","body":"<i>Image is in the (0.0, 0.0) coordinate (top left corner) until I move the mouse</i> maybe because that&#39;s where the mouse is initially :) Register a mouse filter and grab the initial enter - when stuck, provide a  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please ..."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1665757129,"post_id":74069553,"comment_id":130779343,"body_markdown":"The position of the mouse relative to what? What if the mouse is not even in the bounds of your application when the application starts?","body":"The position of the mouse relative to what? What if the mouse is not even in the bounds of your application when the application starts?"}],"answers":[{"tags":[],"owner":{"account_id":14797172,"reputation":49,"user_id":10962532,"display_name":"Gleidson Neves da Silveira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665886692,"creation_date":1665886692,"answer_id":74084189,"question_id":74069553,"body_markdown":"Well, what is your purpose here? I don&#39;t know any methods that you can get this... but you can relocate your image if you have a visible background. \r\nWhen you start this example the image will relocate from your cursor locate.       \r\n\r\n            ImageView imageView = new ImageView(new Image(&quot;/image.jpg&quot;, 300, 300, false, false));\r\n            Button btn = new Button(&quot;Action&quot;);\r\n    \r\n            AnchorPane root = new AnchorPane(imageView, btn);\r\n            root.setStyle(&quot;-fx-background-color: transparent;&quot;);\r\n    \r\n            Rectangle2D screen = Screen.getPrimary().getVisualBounds();\r\n            Scene scene = new Scene(root, screen.getWidth(), screen.getHeight());\r\n            stage.setTitle(&quot;Hello!&quot;);\r\n            stage.setScene(scene);\r\n            stage.setMaximized(true);\r\n    \r\n            scene.setOnMouseEntered(new EventHandler&lt;MouseEvent&gt;() {\r\n                @Override\r\n                public void handle(MouseEvent event) {\r\n                    // Only works if your region does not manage your children.\r\n                    imageView.setLayoutX(event.getX());\r\n                    imageView.setLayoutY(event.getY());\r\n    \r\n                }\r\n            });\r\n    \r\n            stage.show();","title":"JavaFX get mouse position on application start","body":"<p>Well, what is your purpose here? I don't know any methods that you can get this... but you can relocate your image if you have a visible background.\nWhen you start this example the image will relocate from your cursor locate.</p>\n<pre><code>        ImageView imageView = new ImageView(new Image(&quot;/image.jpg&quot;, 300, 300, false, false));\n        Button btn = new Button(&quot;Action&quot;);\n\n        AnchorPane root = new AnchorPane(imageView, btn);\n        root.setStyle(&quot;-fx-background-color: transparent;&quot;);\n\n        Rectangle2D screen = Screen.getPrimary().getVisualBounds();\n        Scene scene = new Scene(root, screen.getWidth(), screen.getHeight());\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.setMaximized(true);\n\n        scene.setOnMouseEntered(new EventHandler&lt;MouseEvent&gt;() {\n            @Override\n            public void handle(MouseEvent event) {\n                // Only works if your region does not manage your children.\n                imageView.setLayoutX(event.getX());\n                imageView.setLayoutY(event.getY());\n\n            }\n        });\n\n        stage.show();\n</code></pre>\n"}],"owner":{"account_id":25480234,"reputation":73,"user_id":19276721,"display_name":"ILikeTrains"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665886692,"creation_date":1665752006,"question_id":74069553,"body_markdown":"There are many eventhandlers for the mouse to retrieve its position, like when the mouse was moved.\r\nBut I need the position of the Mouse at the start of the application and I can&#39;t seem to find any eventhandler for it.  \r\n\r\nAs an example, i have an Image that should always be at the position of the Mouse, but currently when the Application is started, the Image is in the (0.0, 0.0) coordinate (top left corner) until I move the mouse.  \r\nThis is not the desired outcome.  \r\nThe desired outcome should be, that the Image is placed at the position of the mouse directly at start of the Application.  \r\nSo the question is: How can i get the Position of the Mouse directly at the start of the Application?  \r\n\r\nThanks in advance!","title":"JavaFX get mouse position on application start","body":"<p>There are many eventhandlers for the mouse to retrieve its position, like when the mouse was moved.\nBut I need the position of the Mouse at the start of the application and I can't seem to find any eventhandler for it.</p>\n<p>As an example, i have an Image that should always be at the position of the Mouse, but currently when the Application is started, the Image is in the (0.0, 0.0) coordinate (top left corner) until I move the mouse.<br />\nThis is not the desired outcome.<br />\nThe desired outcome should be, that the Image is placed at the position of the mouse directly at start of the Application.<br />\nSo the question is: How can i get the Position of the Mouse directly at the start of the Application?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","zipkin","brave"],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1848,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665885713,"creation_date":1650694094,"question_id":71977298,"body_markdown":"Small Zipkin question, how to set the time out please?\r\n\r\nI am writing a very simple piece of code, where I am the **client**, and sending requests to a server.\r\n\r\n```\r\nimport brave.Span;\r\nimport brave.Tracing;\r\nimport zipkin2.reporter.AsyncReporter;\r\nimport zipkin2.reporter.okhttp3.OkHttpSender;\r\n\r\npublic class QuestionApplication {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        var sender = OkHttpSender.newBuilder().endpoint(&quot;http://zipkin-server:9411/api/v2/spans&quot;).build();\r\n        var reporter = AsyncReporter.builder(sender).build();\r\n        \r\n        var tracing = Tracing.newBuilder().localServiceName(&quot;component-test&quot;).spanReporter(reporter).build();\r\n        \r\n        // Create parent span and his child --------------------\r\n        \r\n        // Parent\r\n        tracing.tracer().startScopedSpan(&quot;parentSpan&quot;);\r\n        Span span =  tracing.tracer().currentSpan();\r\n        span.tag(&quot;key&quot;, &quot;firstBiz&quot;);\r\n        \r\n        // Child\r\n        tracing.tracer().startScopedSpanWithParent(&quot;childSpan&quot;, tracing.tracer().currentSpan().context());\r\n        Span childSpan =  tracing.tracer().currentSpan();\r\n        childSpan.tag(&quot;key&quot;, &quot;secondBiz&quot;);\r\n        childSpan.finish();\r\n        System.out.println(&quot;id:&quot; + childSpan.context().traceIdString());\r\n      final var response      = webClient.post().uri(&quot;http://the-server.com/api/route&quot;).header(&quot;X-B3-TraceId&quot;, childSpan.context().traceIdString()).body(BodyInserters.fromValue(jsonPayload)).retrieve().bodyToMono(String.class).block();\r\n        System.out.println(response);\r\n        \r\n        // Finish span\r\n        span.finish();\r\n        \r\n       \r\n    }\r\n\r\n}\r\n```\r\n\r\nReproducible 100%, I am always getting this error:\r\n\r\n```\r\nzipkin2.reporter.AsyncReporter$BoundedAsyncReporter flush\r\nWARNING: Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.\r\nzipkin2.reporter.AsyncReporter$BoundedAsyncReporter flush\r\nWARNING: Dropped 1 spans due to SocketTimeoutException(connect timed out)\r\njava.net.SocketTimeoutException: connect timed out\r\n\tat java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n\tat java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\r\n\tat java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\r\n\tat java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\r\n\tat java.base/java.net.Socket.connect(Socket.java:609)\r\n\tat okhttp3.internal.platform.Platform.connectSocket(Platform.java:130)\r\n\tat okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:263)\r\n\tat okhttp3.internal.connection.RealConnection.connect(RealConnection.java:183)\r\n\tat okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.java:224)\r\n\tat okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.java:108)\r\n\tat okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.java:88)\r\n\tat okhttp3.internal.connection.Transmitter.newExchange(Transmitter.java:169)\r\n\tat okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:41)\r\n\tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\n\tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\r\n\tat okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:94)\r\n\tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\n\tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\r\n\tat okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\r\n\tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\n\tat okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:88)\r\n\tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\n\tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\r\n\tat okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:229)\r\n\tat okhttp3.RealCall.execute(RealCall.java:81)\r\n\tat zipkin2.reporter.okhttp3.HttpCall.execute(HttpCall.java:34)\r\n\tat zipkin2.reporter.okhttp3.HttpCall.execute(HttpCall.java:25)\r\n\tat zipkin2.reporter.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:299)\r\n\tat zipkin2.reporter.AsyncReporter$Flusher.run(AsyncReporter.java:378)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\nzipkin2.reporter.AsyncReporter$BoundedAsyncReporter close\r\nWARNING: Timed out waiting for in-flight spans to send\r\n```\r\n\r\nI tried looking at the internal API for a method to set the time out, but no luck.\r\n\r\nMay I ask what is the proper way to set the time out please?\r\n\r\nThank you","title":"Zipkin : zipkin2.reporter.AsyncReporter$BoundedAsyncReporter flush Dropped 1 spans due to SocketTimeoutException(connect timed out)","body":"<p>Small Zipkin question, how to set the time out please?</p>\n<p>I am writing a very simple piece of code, where I am the <strong>client</strong>, and sending requests to a server.</p>\n<pre><code>import brave.Span;\nimport brave.Tracing;\nimport zipkin2.reporter.AsyncReporter;\nimport zipkin2.reporter.okhttp3.OkHttpSender;\n\npublic class QuestionApplication {\n\n    public static void main(String[] args) {\n        \n        var sender = OkHttpSender.newBuilder().endpoint(&quot;http://zipkin-server:9411/api/v2/spans&quot;).build();\n        var reporter = AsyncReporter.builder(sender).build();\n        \n        var tracing = Tracing.newBuilder().localServiceName(&quot;component-test&quot;).spanReporter(reporter).build();\n        \n        // Create parent span and his child --------------------\n        \n        // Parent\n        tracing.tracer().startScopedSpan(&quot;parentSpan&quot;);\n        Span span =  tracing.tracer().currentSpan();\n        span.tag(&quot;key&quot;, &quot;firstBiz&quot;);\n        \n        // Child\n        tracing.tracer().startScopedSpanWithParent(&quot;childSpan&quot;, tracing.tracer().currentSpan().context());\n        Span childSpan =  tracing.tracer().currentSpan();\n        childSpan.tag(&quot;key&quot;, &quot;secondBiz&quot;);\n        childSpan.finish();\n        System.out.println(&quot;id:&quot; + childSpan.context().traceIdString());\n      final var response      = webClient.post().uri(&quot;http://the-server.com/api/route&quot;).header(&quot;X-B3-TraceId&quot;, childSpan.context().traceIdString()).body(BodyInserters.fromValue(jsonPayload)).retrieve().bodyToMono(String.class).block();\n        System.out.println(response);\n        \n        // Finish span\n        span.finish();\n        \n       \n    }\n\n}\n</code></pre>\n<p>Reproducible 100%, I am always getting this error:</p>\n<pre><code>zipkin2.reporter.AsyncReporter$BoundedAsyncReporter flush\nWARNING: Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.\nzipkin2.reporter.AsyncReporter$BoundedAsyncReporter flush\nWARNING: Dropped 1 spans due to SocketTimeoutException(connect timed out)\njava.net.SocketTimeoutException: connect timed out\n    at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\n    at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\n    at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\n    at java.base/java.net.Socket.connect(Socket.java:609)\n    at okhttp3.internal.platform.Platform.connectSocket(Platform.java:130)\n    at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:263)\n    at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:183)\n    at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.java:224)\n    at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.java:108)\n    at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.java:88)\n    at okhttp3.internal.connection.Transmitter.newExchange(Transmitter.java:169)\n    at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:41)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\n    at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:94)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\n    at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\n    at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:88)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\n    at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:229)\n    at okhttp3.RealCall.execute(RealCall.java:81)\n    at zipkin2.reporter.okhttp3.HttpCall.execute(HttpCall.java:34)\n    at zipkin2.reporter.okhttp3.HttpCall.execute(HttpCall.java:25)\n    at zipkin2.reporter.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:299)\n    at zipkin2.reporter.AsyncReporter$Flusher.run(AsyncReporter.java:378)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n\nzipkin2.reporter.AsyncReporter$BoundedAsyncReporter close\nWARNING: Timed out waiting for in-flight spans to send\n</code></pre>\n<p>I tried looking at the internal API for a method to set the time out, but no luck.</p>\n<p>May I ask what is the proper way to set the time out please?</p>\n<p>Thank you</p>\n"},{"tags":["java","bean-io"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1665505840,"post_id":74028488,"comment_id":130714478,"body_markdown":"Probably you should show the Java code too.","body":"Probably you should show the Java code too."},{"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"score":0,"creation_date":1665552891,"post_id":74028488,"comment_id":130724484,"body_markdown":"I updated with java code pls check thanks for reply","body":"I updated with java code pls check thanks for reply"}],"answers":[{"comments":[{"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"score":0,"creation_date":1665552735,"post_id":74031637,"comment_id":130724458,"body_markdown":"Already it is set in code but not working","body":"Already it is set in code but not working"}],"tags":[],"owner":{"account_id":21395875,"reputation":1,"user_id":15758952,"display_name":"Vinicius Duarte"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665852388,"creation_date":1665507519,"answer_id":74031637,"question_id":74028488,"body_markdown":"Change age attribute to `required=&quot;false&quot;` or remove it.\r\n``` lang-xml\r\n&lt;record name=&quot;detail&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot; class=&quot;com.test.Person&quot;&gt;\r\n    &lt;field name=&quot;firstName&quot;/&gt;\r\n    &lt;field name=&quot;surname&quot;/&gt;\r\n    &lt;field name=&quot;salary&quot; minLength=&quot;1&quot;/&gt;        \r\n    &lt;field name=&quot;age&quot;/&gt;\r\n&lt;/record&gt;\r\n```","title":"How do I use BeanIO minLength record level","body":"<p>Change age attribute to <code>required=&quot;false&quot;</code> or remove it.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;record name=&quot;detail&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot; class=&quot;com.test.Person&quot;&gt;\n    &lt;field name=&quot;firstName&quot;/&gt;\n    &lt;field name=&quot;surname&quot;/&gt;\n    &lt;field name=&quot;salary&quot; minLength=&quot;1&quot;/&gt;        \n    &lt;field name=&quot;age&quot;/&gt;\n&lt;/record&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2300510,"reputation":2416,"user_id":2020886,"display_name":"nicoschl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665884990,"creation_date":1665884990,"answer_id":74084108,"question_id":74028488,"body_markdown":"You need to include the `required=&quot;true&quot;` attribute on the `salary` field.\r\n\r\n    &lt;field name=&quot;salary&quot; minLength=&quot;1&quot; required=&quot;true&quot; /&gt;\r\n\r\nThis then defines the field as required and having a minimum length of 1. This will give you the required behaviour.\r\n\r\nThe field is treated as optional if you don&#39;t set required to true. Even though a field may be optional, it may still have a minimum length  requirement, when the field is present. \r\n\r\nPlay around with the different combinations of required and minLength and you will understand how BeanIO treat these values, for example try\r\n\r\n    &lt;field name=&quot;salary&quot; minLength=&quot;1&quot;/&gt;\r\n    &lt;field name=&quot;salary&quot; minLength=&quot;1&quot; required=&quot;true&quot; /&gt;\r\n    &lt;field name=&quot;salary&quot; minLength=&quot;5&quot;/&gt;\r\n    &lt;field name=&quot;salary&quot; minLength=&quot;5&quot; required=&quot;true&quot; /&gt;\r\n\r\nand this input:\r\n\r\n    John|Smith|300000.00|34\r\n    Peter|William|800000.00|\r\n    Gregory|Rocky||30\r\n    John|Doe|1|30\r\n    Jane|Doe|100.00|30\r\n\r\nThe [reference guide][1] has the following to say about the required attribute on a field:\r\n\r\n&gt; Set to true if this field is required. If a field is required and its\r\n&gt; field text is empty, a BeanReader will throw an InvalidRecordException\r\n&gt; when reading the record. Defaults to false.\r\n\r\n  [1]: https://beanio.github.io/docs/reference-guide/#a12-field","title":"How do I use BeanIO minLength record level","body":"<p>You need to include the <code>required=&quot;true&quot;</code> attribute on the <code>salary</code> field.</p>\n<pre><code>&lt;field name=&quot;salary&quot; minLength=&quot;1&quot; required=&quot;true&quot; /&gt;\n</code></pre>\n<p>This then defines the field as required and having a minimum length of 1. This will give you the required behaviour.</p>\n<p>The field is treated as optional if you don't set required to true. Even though a field may be optional, it may still have a minimum length  requirement, when the field is present.</p>\n<p>Play around with the different combinations of required and minLength and you will understand how BeanIO treat these values, for example try</p>\n<pre><code>&lt;field name=&quot;salary&quot; minLength=&quot;1&quot;/&gt;\n&lt;field name=&quot;salary&quot; minLength=&quot;1&quot; required=&quot;true&quot; /&gt;\n&lt;field name=&quot;salary&quot; minLength=&quot;5&quot;/&gt;\n&lt;field name=&quot;salary&quot; minLength=&quot;5&quot; required=&quot;true&quot; /&gt;\n</code></pre>\n<p>and this input:</p>\n<pre><code>John|Smith|300000.00|34\nPeter|William|800000.00|\nGregory|Rocky||30\nJohn|Doe|1|30\nJane|Doe|100.00|30\n</code></pre>\n<p>The <a href=\"https://beanio.github.io/docs/reference-guide/#a12-field\" rel=\"nofollow noreferrer\">reference guide</a> has the following to say about the required attribute on a field:</p>\n<blockquote>\n<p>Set to true if this field is required. If a field is required and its\nfield text is empty, a BeanReader will throw an InvalidRecordException\nwhen reading the record. Defaults to false.</p>\n</blockquote>\n"}],"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665884990,"creation_date":1665492759,"question_id":74028488,"body_markdown":"I have beanio mappings file for delimeted file and required check is working but minLength is not working. Could you help with this? **Geroge person record line is not showing minLength error for salary empty**.\r\n\r\n      &lt;record name=&quot;detail&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;\r\n       class=&quot;com.test.Person&quot;&gt;\r\n       &lt;field name=&quot;firstName&quot;/&gt;\r\n       &lt;field name=&quot;surname&quot;/&gt;\r\n       &lt;field name=&quot;salary&quot; minLength=&quot;1&quot;/&gt;\r\n       &lt;field name=&quot;age&quot; required=&quot;true&quot;/&gt;\r\n      &lt;/record&gt;\r\nInput:\r\n\r\n    John|Smith|300000.00|34\r\n    Peter|William|800000.00|\r\n    Gregory|Rocky||30\r\n\r\nOutput:\r\n\r\n    [Person [firstName=John, surname=Smith, salary=300000.0, aget=34], Person [firstName=Gregory, surname=Rocky, salary=0.0, aget=30]]\r\n    Errors:\r\n    3 : age : [Required field not set]\r\n\r\nJava Code: Update\r\n\r\n    public void readCSVFileUsingBeanIo() throws FileNotFoundException {\r\n    \t\tStreamFactory factory = StreamFactory.newInstance();\r\n    \t\tfactory.loadResource(&quot;person.xml&quot;);\r\n    \t\tStringBuilder rejects = new StringBuilder();\r\n    \r\n    \t\t// read it from the classpath : src/main/resources\r\n    \t\tInputStream in = new FileInputStream(new File(\r\n    \t\t\t\t&quot;person.csv&quot;));\r\n    \t\tBeanReader reader = factory.createReader(&quot;persons&quot;, new InputStreamReader(in));\r\n    \t\treader.setErrorHandler(new BeanReaderErrorHandlerSupport() {\r\n    \t\t\tpublic void invalidRecord(InvalidRecordException ex) throws Exception {\r\n    \t\t\t\tfor (int i = 0, j = ex.getRecordCount(); i &lt; j; i++) {\r\n    \t\t\t\t\tfinal int ii = i;\r\n    \t\t\t\t\tif (ex.getRecordContext(i).hasErrors()) {\r\n    \r\n    \t\t\t\t\t\tex.getRecordContext(i).getFieldErrors().keySet().stream().forEach(key -&gt; {\r\n    \t\t\t\t\t\t\trejects.append(&quot;\\n&quot;);\r\n    \t\t\t\t\t\t\trejects.append(ex.getRecordContext(ii).getLineNumber() + &quot; : &quot;);\r\n    \t\t\t\t\t\t\trejects.append(ex.getRecordContext(ii).getRecordText() + &quot; Field(&quot; + key + &quot;) : Error &quot;\r\n    \t\t\t\t\t\t\t\t\t+ ex.getRecordContext(ii).getFieldErrors(key));\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t});\r\n    \t\t\t\t\t\trejects.append(&quot;\\n&quot;);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tObject record = null;\r\n    \t\tList&lt;Person&gt; persons = new ArrayList&lt;Person&gt;();\r\n    \r\n    \t\twhile ((record = reader.read()) != null) {\r\n    \t\t\tif (&quot;header&quot;.equals(reader.getRecordName())) {\r\n    \r\n    \t\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\t\t\tMap&lt;String, Object&gt; header = (Map&lt;String, Object&gt;) record;\r\n    \t\t\t\tSystem.out.println(header.get(&quot;fileDate&quot;));\r\n    \t\t\t} else if (&quot;detail&quot;.equals(reader.getRecordName())) {\r\n    \t\t\t\tPerson person = (Person) record;\r\n    \t\t\t\tpersons.add(person);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(persons);\r\n    \t\tSystem.out.println(&quot;Errors:&quot;);\r\n    \t\tSystem.out.println(rejects);\r\n    \t}","title":"How do I use BeanIO minLength record level","body":"<p>I have beanio mappings file for delimeted file and required check is working but minLength is not working. Could you help with this? <strong>Geroge person record line is not showing minLength error for salary empty</strong>.</p>\n<pre><code>  &lt;record name=&quot;detail&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;\n   class=&quot;com.test.Person&quot;&gt;\n   &lt;field name=&quot;firstName&quot;/&gt;\n   &lt;field name=&quot;surname&quot;/&gt;\n   &lt;field name=&quot;salary&quot; minLength=&quot;1&quot;/&gt;\n   &lt;field name=&quot;age&quot; required=&quot;true&quot;/&gt;\n  &lt;/record&gt;\n</code></pre>\n<p>Input:</p>\n<pre><code>John|Smith|300000.00|34\nPeter|William|800000.00|\nGregory|Rocky||30\n</code></pre>\n<p>Output:</p>\n<pre><code>[Person [firstName=John, surname=Smith, salary=300000.0, aget=34], Person [firstName=Gregory, surname=Rocky, salary=0.0, aget=30]]\nErrors:\n3 : age : [Required field not set]\n</code></pre>\n<p>Java Code: Update</p>\n<pre><code>public void readCSVFileUsingBeanIo() throws FileNotFoundException {\n        StreamFactory factory = StreamFactory.newInstance();\n        factory.loadResource(&quot;person.xml&quot;);\n        StringBuilder rejects = new StringBuilder();\n\n        // read it from the classpath : src/main/resources\n        InputStream in = new FileInputStream(new File(\n                &quot;person.csv&quot;));\n        BeanReader reader = factory.createReader(&quot;persons&quot;, new InputStreamReader(in));\n        reader.setErrorHandler(new BeanReaderErrorHandlerSupport() {\n            public void invalidRecord(InvalidRecordException ex) throws Exception {\n                for (int i = 0, j = ex.getRecordCount(); i &lt; j; i++) {\n                    final int ii = i;\n                    if (ex.getRecordContext(i).hasErrors()) {\n\n                        ex.getRecordContext(i).getFieldErrors().keySet().stream().forEach(key -&gt; {\n                            rejects.append(&quot;\\n&quot;);\n                            rejects.append(ex.getRecordContext(ii).getLineNumber() + &quot; : &quot;);\n                            rejects.append(ex.getRecordContext(ii).getRecordText() + &quot; Field(&quot; + key + &quot;) : Error &quot;\n                                    + ex.getRecordContext(ii).getFieldErrors(key));\n                            \n                        });\n                        rejects.append(&quot;\\n&quot;);\n                    }\n                }\n            }\n        });\n        Object record = null;\n        List&lt;Person&gt; persons = new ArrayList&lt;Person&gt;();\n\n        while ((record = reader.read()) != null) {\n            if (&quot;header&quot;.equals(reader.getRecordName())) {\n\n                @SuppressWarnings(&quot;unchecked&quot;)\n                Map&lt;String, Object&gt; header = (Map&lt;String, Object&gt;) record;\n                System.out.println(header.get(&quot;fileDate&quot;));\n            } else if (&quot;detail&quot;.equals(reader.getRecordName())) {\n                Person person = (Person) record;\n                persons.add(person);\n            }\n        }\n\n        System.out.println(persons);\n        System.out.println(&quot;Errors:&quot;);\n        System.out.println(rejects);\n    }\n</code></pre>\n"},{"tags":["java","encoding","cryptography","bouncycastle"],"answers":[{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1434188525,"post_id":30811560,"comment_id":49681192,"body_markdown":"I presume it *did* return DER? You don&#39;t say in the answer. I guess the reason that somebody downvoted is that you can expect a PKCS#10 defined certificate request to be returned when `getEncoded()` is called. That&#39;s what the class is there for. You only need to look at the PKCS#10 standard to see what&#39;s in it.","body":"I presume it <i>did</i> return DER? You don&#39;t say in the answer. I guess the reason that somebody downvoted is that you can expect a PKCS#10 defined certificate request to be returned when <code>getEncoded()</code> is called. That&#39;s what the class is there for. You only need to look at the PKCS#10 standard to see what&#39;s in it."}],"tags":[],"owner":{"account_id":2156215,"reputation":4605,"user_id":1911388,"accept_rate":67,"display_name":"0xbe5077ed"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1665884497,"creation_date":1434140390,"answer_id":30811560,"question_id":30810218,"body_markdown":"At least for v1.52, [`org.bouncycastle.pkcs.PKCS10CertificationRequest#getEncoded()`](http://grepcode.com/file/repo1.maven.org/maven2/org.bouncycastle/bcpkix-jdk15on/1.52/org/bouncycastle/pkcs/PKCS10CertificationRequest.java#PKCS10CertificationRequest.getEncoded%28%29) is implemented as:\r\n\r\n    public byte[] More ...getEncoded()\r\n        throws IOException\r\n    {\r\n        return certificationRequest.getEncoded();\r\n    }\r\n\r\nThis calls `org.bouncycastle.asn1.pkcs.CertificationRequest#getEncoded()`, which results in the inherited method [`org.bouncycastle.asn1.ASN1Object#getEncoded()`](http://grepcode.com/file/repo1.maven.org/maven2/org.bouncycastle/bcprov-jdk15on/1.52/org/bouncycastle/asn1/ASN1Object.java#ASN1Object.getEncoded%28%29). This method actually has some Javadoc, and it states &quot;Return the default BER or DER encoding for this object&quot;.\r\n\r\nI wasn&#39;t completely sure whether this guarantees DER encoding, so I did the following:\r\n\r\n    private byte[] makeDEREncodedRequest(final PKCS10CertificationRequest request) {\r\n        try {\r\n            return request.toASN1Structure().getEncoded(ASN1Encoding.DER);\r\n        } catch (IOException e) {\r\n            // ... &lt;Exception handling code&gt; ...\r\n        }\r\n    }\r\n\r\n","title":"What encoding does [BouncyCastle] PKCS10CertificationRequest.getEncoded() return?","body":"<p>At least for v1.52, <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.bouncycastle/bcpkix-jdk15on/1.52/org/bouncycastle/pkcs/PKCS10CertificationRequest.java#PKCS10CertificationRequest.getEncoded%28%29\" rel=\"nofollow noreferrer\"><code>org.bouncycastle.pkcs.PKCS10CertificationRequest#getEncoded()</code></a> is implemented as:</p>\n<pre><code>public byte[] More ...getEncoded()\n    throws IOException\n{\n    return certificationRequest.getEncoded();\n}\n</code></pre>\n<p>This calls <code>org.bouncycastle.asn1.pkcs.CertificationRequest#getEncoded()</code>, which results in the inherited method <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.bouncycastle/bcprov-jdk15on/1.52/org/bouncycastle/asn1/ASN1Object.java#ASN1Object.getEncoded%28%29\" rel=\"nofollow noreferrer\"><code>org.bouncycastle.asn1.ASN1Object#getEncoded()</code></a>. This method actually has some Javadoc, and it states &quot;Return the default BER or DER encoding for this object&quot;.</p>\n<p>I wasn't completely sure whether this guarantees DER encoding, so I did the following:</p>\n<pre><code>private byte[] makeDEREncodedRequest(final PKCS10CertificationRequest request) {\n    try {\n        return request.toASN1Structure().getEncoded(ASN1Encoding.DER);\n    } catch (IOException e) {\n        // ... &lt;Exception handling code&gt; ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2156215,"reputation":4605,"user_id":1911388,"accept_rate":67,"display_name":"0xbe5077ed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":932,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":30811560,"answer_count":1,"score":0,"last_activity_date":1665884497,"creation_date":1434135020,"question_id":30810218,"body_markdown":"Does it return [DER encoded](https://en.wikipedia.org/wiki/X.690#DER_encoding) data, or some other format?\r\n\r\nThe [Javadoc](https://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/pkcs/PKCS10CertificationRequest.html#getEncoded()) I&#39;ve been able to find leaves something to be desired details-wise...\r\n\r\n","title":"What encoding does [BouncyCastle] PKCS10CertificationRequest.getEncoded() return?","body":"<p>Does it return <a href=\"https://en.wikipedia.org/wiki/X.690#DER_encoding\" rel=\"nofollow\">DER encoded</a> data, or some other format?</p>\n\n<p>The <a href=\"https://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/pkcs/PKCS10CertificationRequest.html#getEncoded()\" rel=\"nofollow\">Javadoc</a> I've been able to find leaves something to be desired details-wise...</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":3,"creation_date":1579533626,"post_id":39690595,"comment_id":105789251,"body_markdown":"How does one use this to declare multiple active profiles to be used by the annotation?","body":"How does one use this to declare multiple active profiles to be used by the annotation?"},{"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"score":0,"creation_date":1661351845,"post_id":39690595,"comment_id":129752529,"body_markdown":"meta-annotations reference: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/AnnotationUtils.html","body":"meta-annotations reference: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/AnnotationUtils.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"}],"tags":[],"owner":{"account_id":7007911,"reputation":11794,"user_id":5371736,"accept_rate":56,"display_name":"Mathias Dpunkt"},"comment_count":2,"down_vote_count":0,"up_vote_count":142,"is_accepted":true,"score":142,"last_activity_date":1540896600,"creation_date":1474829642,"answer_id":39690595,"question_id":39690094,"body_markdown":"As far as I know there is nothing directly addressing your request - but I can suggest a proposal that could help:\r\n\r\nYou could use your own test annotation that is a [meta annotation][1] comprising `@SpringBootTest` and `@ActiveProfiles(&quot;test&quot;)`. So you still need the dedicated profile but avoid scattering the profile definition across all your test.\r\n\r\nThis annotation will default to the profile `test` and you can override the profile using the meta annotation.\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.TYPE)\r\n    @SpringBootTest\r\n    @ActiveProfiles\r\n    public @interface MyApplicationTest {\r\n      @AliasFor(annotation = ActiveProfiles.class, attribute = &quot;profiles&quot;) String[] activeProfiles() default {&quot;test&quot;};\r\n    }\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#beans-meta-annotations\r\n","title":"Spring-boot default profile for integration tests","body":"<p>As far as I know there is nothing directly addressing your request - but I can suggest a proposal that could help:</p>\n\n<p>You could use your own test annotation that is a <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#beans-meta-annotations\" rel=\"noreferrer\">meta annotation</a> comprising <code>@SpringBootTest</code> and <code>@ActiveProfiles(\"test\")</code>. So you still need the dedicated profile but avoid scattering the profile definition across all your test.</p>\n\n<p>This annotation will default to the profile <code>test</code> and you can override the profile using the meta annotation.</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\n@SpringBootTest\n@ActiveProfiles\npublic @interface MyApplicationTest {\n  @AliasFor(annotation = ActiveProfiles.class, attribute = \"profiles\") String[] activeProfiles() default {\"test\"};\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2279724,"reputation":861,"user_id":2005127,"display_name":"Compito"},"score":0,"creation_date":1474958519,"post_id":39697026,"comment_id":66732952,"body_markdown":"I use this entry in my testcases if I want to avoid to set @ActiveProfiles(&quot;test&quot;). Does it not work for you?","body":"I use this entry in my testcases if I want to avoid to set @ActiveProfiles(&quot;test&quot;). Does it not work for you?"},{"owner":{"account_id":94255,"reputation":1353,"user_id":257443,"display_name":"ciastek"},"score":60,"creation_date":1488465750,"post_id":39697026,"comment_id":72251065,"body_markdown":"If I create `src/test/resources/application.properties` file, `src/main/resources/application.properties` content is ignored when running tests.","body":"If I create <code>src&#47;test&#47;resources&#47;application.properties</code> file, <code>src&#47;main&#47;resources&#47;application.properties</code> content is ignored when running tests."},{"owner":{"account_id":1174825,"reputation":1310,"user_id":1151067,"accept_rate":90,"display_name":"Advicer"},"score":7,"creation_date":1523438159,"post_id":39697026,"comment_id":86557130,"body_markdown":"@ciastek You can add `application-test.properties` for tests and override only the properties you need.","body":"@ciastek You can add <code>application-test.properties</code> for tests and override only the properties you need."},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":13,"creation_date":1552926851,"post_id":39697026,"comment_id":97186690,"body_markdown":"@Advicer which doesn&#39;t get picked up unless the default properties specify `spring.profiles.active=test` like the answer says.","body":"@Advicer which doesn&#39;t get picked up unless the default properties specify <code>spring.profiles.active=test</code> like the answer says."},{"owner":{"account_id":1284624,"reputation":2007,"user_id":1237974,"accept_rate":67,"display_name":"joensson"},"score":6,"creation_date":1557149066,"post_id":39697026,"comment_id":98657836,"body_markdown":"@OrangeDog exactly - maybe you can make use of the profile &#39;default&#39; which is active by default. So you could add such a line in test/resources/application-default.properties (unless of course you already have a src/main/application-default.properties file :-)","body":"@OrangeDog exactly - maybe you can make use of the profile &#39;default&#39; which is active by default. So you could add such a line in test/resources/application-default.properties (unless of course you already have a src/main/application-default.properties file :-)"}],"tags":[],"owner":{"account_id":2279724,"reputation":861,"user_id":2005127,"display_name":"Compito"},"comment_count":5,"down_vote_count":10,"up_vote_count":75,"is_accepted":false,"score":65,"last_activity_date":1474875005,"creation_date":1474875005,"answer_id":39697026,"question_id":39690094,"body_markdown":"You could put an application.properties file in your test/resources folder. There you set \r\n\r\n    spring.profiles.active=test\r\n\r\nThis is kind of a default test profile while running tests.","title":"Spring-boot default profile for integration tests","body":"<p>You could put an application.properties file in your test/resources folder. There you set </p>\n\n<pre><code>spring.profiles.active=test\n</code></pre>\n\n<p>This is kind of a default test profile while running tests.</p>\n"},{"comments":[{"owner":{"account_id":2842013,"reputation":1289,"user_id":2441441,"accept_rate":65,"display_name":"user2441441"},"score":1,"creation_date":1654619189,"post_id":41673895,"comment_id":128131742,"body_markdown":"can we have an interface instead of a class here?","body":"can we have an interface instead of a class here?"}],"tags":[],"owner":{"account_id":122100,"reputation":16858,"user_id":315677,"accept_rate":81,"display_name":"Pierre Henry"},"comment_count":1,"down_vote_count":0,"up_vote_count":73,"is_accepted":false,"score":73,"last_activity_date":1492999022,"creation_date":1484561367,"answer_id":41673895,"question_id":39690094,"body_markdown":"Another way to do this is to define a base (abstract) test class that your actual test classes will extend :\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest()\r\n    @ActiveProfiles(&quot;staging&quot;)\r\n    public abstract class BaseIntegrationTest {\r\n    }\r\n\r\nConcrete test : \r\n\r\n    public class SampleSearchServiceTest extends BaseIntegrationTest{\r\n    \r\n        @Inject\r\n        private SampleSearchService service;\r\n    \r\n        @Test\r\n        public void shouldInjectService(){\r\n            assertThat(this.service).isNotNull();\r\n        }\r\n    } \r\n\r\nThis allows you to extract more than just the `@ActiveProfiles` annotation. You could also imagine more specialised base classes for different kinds of integration tests, e.g. data access layer vs service layer, or for functional specialties (common `@Before` or `@After` methods etc).","title":"Spring-boot default profile for integration tests","body":"<p>Another way to do this is to define a base (abstract) test class that your actual test classes will extend :</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest()\n@ActiveProfiles(\"staging\")\npublic abstract class BaseIntegrationTest {\n}\n</code></pre>\n\n<p>Concrete test : </p>\n\n<pre><code>public class SampleSearchServiceTest extends BaseIntegrationTest{\n\n    @Inject\n    private SampleSearchService service;\n\n    @Test\n    public void shouldInjectService(){\n        assertThat(this.service).isNotNull();\n    }\n} \n</code></pre>\n\n<p>This allows you to extract more than just the <code>@ActiveProfiles</code> annotation. You could also imagine more specialised base classes for different kinds of integration tests, e.g. data access layer vs service layer, or for functional specialties (common <code>@Before</code> or <code>@After</code> methods etc).</p>\n"},{"comments":[{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1552926891,"post_id":47310046,"comment_id":97186713,"body_markdown":"You should use `@ActiveProfiles`, not `@TestPropertySource`.","body":"You should use <code>@ActiveProfiles</code>, not <code>@TestPropertySource</code>."},{"owner":{"account_id":7671820,"reputation":479,"user_id":5813801,"display_name":"soyphea"},"score":0,"creation_date":1554623951,"post_id":47310046,"comment_id":97814371,"body_markdown":"I think it doesn&#39;t mind for using @TestPropertiesSource. It&#39;s also the way to load the configuration between the profile test configuration.","body":"I think it doesn&#39;t mind for using @TestPropertiesSource. It&#39;s also the way to load the configuration between the profile test configuration."}],"tags":[],"owner":{"account_id":3652290,"reputation":2120,"user_id":3044117,"accept_rate":38,"display_name":"Eduardo"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1510756247,"creation_date":1510756247,"answer_id":47310046,"question_id":39690094,"body_markdown":"In my case I have different application.properties depending on the environment, something like:\r\n\r\n    application.properties (base file)\r\n    application-dev.properties\r\n    application-qa.properties\r\n    application-prod.properties\r\n\r\nand application.properties contains a property spring.profiles.active to pick the proper file.\r\n\r\nFor my integration tests, I created a new `application-test.properties` file inside `test/resources` and with the `@TestPropertySource({ &quot;/application-test.properties&quot; })` annotation this is the file who is in charge of picking the application.properties I want depending on my needs for those tests","title":"Spring-boot default profile for integration tests","body":"<p>In my case I have different application.properties depending on the environment, something like:</p>\n\n<pre><code>application.properties (base file)\napplication-dev.properties\napplication-qa.properties\napplication-prod.properties\n</code></pre>\n\n<p>and application.properties contains a property spring.profiles.active to pick the proper file.</p>\n\n<p>For my integration tests, I created a new <code>application-test.properties</code> file inside <code>test/resources</code> and with the <code>@TestPropertySource({ \"/application-test.properties\" })</code> annotation this is the file who is in charge of picking the application.properties I want depending on my needs for those tests</p>\n"},{"tags":[],"owner":{"account_id":145181,"reputation":1559,"user_id":354806,"display_name":"Valtoni Boaventura"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1534508030,"creation_date":1534508030,"answer_id":51895219,"question_id":39690094,"body_markdown":"Another programatically way to do that:\r\n\r\n      import static org.springframework.core.env.AbstractEnvironment.DEFAULT_PROFILES_PROPERTY_NAME;\r\n\r\n      @BeforeClass\r\n      public static void setupTest() {\r\n        System.setProperty(DEFAULT_PROFILES_PROPERTY_NAME, &quot;test&quot;);\r\n      }\r\n\r\nIt works great.","title":"Spring-boot default profile for integration tests","body":"<p>Another programatically way to do that:</p>\n\n<pre><code>  import static org.springframework.core.env.AbstractEnvironment.DEFAULT_PROFILES_PROPERTY_NAME;\n\n  @BeforeClass\n  public static void setupTest() {\n    System.setProperty(DEFAULT_PROFILES_PROPERTY_NAME, \"test\");\n  }\n</code></pre>\n\n<p>It works great.</p>\n"},{"tags":[],"owner":{"account_id":10897577,"reputation":1704,"user_id":8010985,"display_name":"Bishal Jaiswal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554618430,"creation_date":1554618430,"answer_id":55556230,"question_id":39690094,"body_markdown":"Add `spring.profiles.active=tests` in your application.properties file, you can add multiple properties file in your spring boot application like  `application-stage.properties`, `application-prod.properties`, etc. And you can specify in your application.properties file while file to refer by adding `spring.profiles.active=stage` or `spring.profiles.active=prod`\r\n\r\nyou can also pass the profile at the time running the spring boot application by providing the command:\r\n\r\n`java -jar  `**`-Dspring.profiles.active=local`**` build/libs/turtle-rnr-0.0.1-SNAPSHOT.jar` \r\n\r\nAccording to the profile name the properties file is picked up, in the above case passing profile `local` consider the `application-local.properties` file","title":"Spring-boot default profile for integration tests","body":"<p>Add <code>spring.profiles.active=tests</code> in your application.properties file, you can add multiple properties file in your spring boot application like  <code>application-stage.properties</code>, <code>application-prod.properties</code>, etc. And you can specify in your application.properties file while file to refer by adding <code>spring.profiles.active=stage</code> or <code>spring.profiles.active=prod</code></p>\n\n<p>you can also pass the profile at the time running the spring boot application by providing the command:</p>\n\n<p><code>java -jar</code><strong><code>-Dspring.profiles.active=local</code></strong><code>build/libs/turtle-rnr-0.0.1-SNAPSHOT.jar</code> </p>\n\n<p>According to the profile name the properties file is picked up, in the above case passing profile <code>local</code> consider the <code>application-local.properties</code> file</p>\n"},{"tags":[],"owner":{"account_id":6119678,"reputation":157,"user_id":4773603,"display_name":"Demel"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1555646075,"creation_date":1555646075,"answer_id":55756388,"question_id":39690094,"body_markdown":"To activate &quot;test&quot; profile write in your build.gradle:\r\n\r\n        test.doFirst {\r\n            systemProperty &#39;spring.profiles.active&#39;, &#39;test&#39;\r\n            activeProfiles = &#39;test&#39;\r\n        }","title":"Spring-boot default profile for integration tests","body":"<p>To activate \"test\" profile write in your build.gradle:</p>\n\n<pre><code>    test.doFirst {\n        systemProperty 'spring.profiles.active', 'test'\n        activeProfiles = 'test'\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2580719,"reputation":5582,"user_id":2237467,"accept_rate":60,"display_name":"Snackoverflow"},"score":2,"creation_date":1578090926,"post_id":55938293,"comment_id":105338697,"body_markdown":"Does it mean the default `application.properties` in the classpath gets parsed too, then the `test/resources/application-default.properties` and then, because the profile &quot;test&quot; is detected, the `test/resources/application-test.properties` gets parsed? Otherwise it would not solve @ciastek&#39;s issue as commented under [@Compito&#39;s answer](https://stackoverflow.com/a/39697026/2237467).","body":"Does it mean the default <code>application.properties</code> in the classpath gets parsed too, then the <code>test&#47;resources&#47;application-default.properties</code> and then, because the profile &quot;test&quot; is detected, the <code>test&#47;resources&#47;application-test.properties</code> gets parsed? Otherwise it would not solve @ciastek&#39;s issue as commented under <a href=\"https://stackoverflow.com/a/39697026/2237467\">@Compito&#39;s answer</a>."},{"owner":{"account_id":6980681,"reputation":2784,"user_id":5353734,"display_name":"Nima Ajdari"},"score":3,"creation_date":1621609826,"post_id":55938293,"comment_id":119555897,"body_markdown":"I am getting this error with Spring Boot 2.4.5: &quot;Property &#39;spring.profiles.active&#39; imported from location &#39;class path resource [application-default.yml]&#39; is invalid in a profile specific resource [origin: class path resource [application-default.yml]&quot;","body":"I am getting this error with Spring Boot 2.4.5: &quot;Property &#39;spring.profiles.active&#39; imported from location &#39;class path resource [application-default.yml]&#39; is invalid in a profile specific resource [origin: class path resource [application-default.yml]&quot;"},{"owner":{"account_id":6158622,"reputation":381,"user_id":4800887,"accept_rate":40,"display_name":"dmitryb"},"score":0,"creation_date":1678528103,"post_id":55938293,"comment_id":133552665,"body_markdown":"this doesn&#39;t work unfortunately","body":"this doesn&#39;t work unfortunately"}],"tags":[],"owner":{"account_id":973763,"reputation":614,"user_id":5791581,"display_name":"JohnW"},"comment_count":3,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1556722892,"creation_date":1556722892,"answer_id":55938293,"question_id":39690094,"body_markdown":"A delarative way to do that (In fact, a minor tweek to @Compito&#39;s original answer):\r\n\r\n1. Set `spring.profiles.active=test` in `test/resources/application-default.properties`.\r\n2. Add `test/resources/application-test.properties` for tests and override only the properties you need.","title":"Spring-boot default profile for integration tests","body":"<p>A delarative way to do that (In fact, a minor tweek to @Compito's original answer):</p>\n\n<ol>\n<li>Set <code>spring.profiles.active=test</code> in <code>test/resources/application-default.properties</code>.</li>\n<li>Add <code>test/resources/application-test.properties</code> for tests and override only the properties you need.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":7160062,"reputation":4423,"user_id":5471104,"accept_rate":64,"display_name":"Mohammed Atif"},"score":1,"creation_date":1564125304,"post_id":56442693,"comment_id":100934782,"body_markdown":"Worked for me, but had to add configurations to surefire plugin too along with failsafe.","body":"Worked for me, but had to add configurations to surefire plugin too along with failsafe."}],"tags":[],"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1664445013,"creation_date":1559646618,"answer_id":56442693,"question_id":39690094,"body_markdown":"If you use maven, you can add this in pom.xml:\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;argLine&gt;-Dspring.profiles.active=test ${argLine}&lt;/argLine&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n            ...\r\n\r\nThen, maven should run your integration tests (*IT.java) using this arugument, and also IntelliJ will start with this profile activated - so you can then specify all properties inside\r\n\r\n    application-test.yml\r\n\r\nand you should not need &quot;-default&quot; properties.\r\n\r\n**UPDATE**\r\n\r\nadded `${argLine}` for this to work together with other plugins (e.g. jacoco)","title":"Spring-boot default profile for integration tests","body":"<p>If you use maven, you can add this in pom.xml:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;argLine&gt;-Dspring.profiles.active=test ${argLine}&lt;/argLine&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        ...\n</code></pre>\n<p>Then, maven should run your integration tests (*IT.java) using this arugument, and also IntelliJ will start with this profile activated - so you can then specify all properties inside</p>\n<pre><code>application-test.yml\n</code></pre>\n<p>and you should not need &quot;-default&quot; properties.</p>\n<p><strong>UPDATE</strong></p>\n<p>added <code>${argLine}</code> for this to work together with other plugins (e.g. jacoco)</p>\n"},{"tags":[],"owner":{"account_id":17146850,"reputation":21,"user_id":12409648,"display_name":"Rajan Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588533658,"creation_date":1588533658,"answer_id":61580328,"question_id":39690094,"body_markdown":"If you simply want to set/use default profile at the time of making build through maven then, pass the argument \r\n`-Dspring.profiles.active=test`\r\nJust like\r\n\r\n&gt; mvn clean install -Dspring.profiles.active=dev","title":"Spring-boot default profile for integration tests","body":"<p>If you simply want to set/use default profile at the time of making build through maven then, pass the argument \n<code>-Dspring.profiles.active=test</code>\nJust like</p>\n\n<blockquote>\n  <p>mvn clean install -Dspring.profiles.active=dev</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":984229,"reputation":171,"user_id":1003157,"display_name":"Raymond Naseef"},"score":0,"creation_date":1589476908,"post_id":61589691,"comment_id":109317268,"body_markdown":"Many good ideas here useful for many cases. IMHO @Matze answer is the most concise and straightforward answer for this question, No Profiles Needed, No Modifying Test Code Needed...  Also logging is cleaner (so confusing in my case that Spring logs Using dialect: org.hibernate.dialect.PostgreSQL93Dialect when my test is, thankfully, using the test H2 database instead).","body":"Many good ideas here useful for many cases. IMHO @Matze answer is the most concise and straightforward answer for this question, No Profiles Needed, No Modifying Test Code Needed...  Also logging is cleaner (so confusing in my case that Spring logs Using dialect: org.hibernate.dialect.PostgreSQL93Dialect when my test is, thankfully, using the test H2 database instead)."},{"owner":{"account_id":1106092,"reputation":12882,"user_id":1097451,"accept_rate":95,"display_name":"Martin Drozdik"},"score":0,"creation_date":1644511938,"post_id":61589691,"comment_id":125632184,"body_markdown":"Wow, I did not expect to find THE right answer so deep in the list.","body":"Wow, I did not expect to find THE right answer so deep in the list."}],"tags":[],"owner":{"account_id":15467720,"reputation":363,"user_id":11158624,"display_name":"Matze"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1588586743,"creation_date":1588586743,"answer_id":61589691,"question_id":39690094,"body_markdown":"You can put your test specific properties into `src/test/resources/config/application.properties`.\r\n\r\nThe properties defined in this file will override those defined in `src/main/resources/application.properties` during testing.\r\n\r\nFor more information on why this works have a look at [Spring Boots docs][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config-application-property-files","title":"Spring-boot default profile for integration tests","body":"<p>You can put your test specific properties into <code>src/test/resources/config/application.properties</code>.</p>\n\n<p>The properties defined in this file will override those defined in <code>src/main/resources/application.properties</code> during testing.</p>\n\n<p>For more information on why this works have a look at <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config-application-property-files\" rel=\"noreferrer\">Spring Boots docs</a>.</p>\n"},{"comments":[{"owner":{"account_id":1832530,"reputation":4265,"user_id":1663614,"accept_rate":100,"display_name":"Suzana"},"score":3,"creation_date":1626438952,"post_id":66324710,"comment_id":120899853,"body_markdown":"It&#39;s strange that without the `src/test/resources/application.yml` file, `environment.getActiveProfiles()` will still return the correct test profile but if I get the active profile via `@Value(&quot;${spring.profiles.active:}&quot;)` annotation, it will be null.","body":"It&#39;s strange that without the <code>src&#47;test&#47;resources&#47;application.yml</code> file, <code>environment.getActiveProfiles()</code> will still return the correct test profile but if I get the active profile via <code>@Value(&quot;${spring.profiles.active:}&quot;)</code> annotation, it will be null."},{"owner":{"account_id":1425338,"reputation":241,"user_id":1349021,"display_name":"sn1987a"},"score":0,"creation_date":1668696520,"post_id":66324710,"comment_id":131473131,"body_markdown":"By following your example, in my `src/test/resources/application-test.properties`, I put `spring.config.import:file:src/main/resources/application-${spring.profiles.active}.properties`. It allows me to run my test suite with the active profile. Thank you !","body":"By following your example, in my <code>src&#47;test&#47;resources&#47;application-test.properties</code>, I put <code>spring.config.import:file:src&#47;main&#47;resources&#47;application-${s&zwnj;&#8203;pring.profiles.activ&zwnj;&#8203;e}.properties</code>. It allows me to run my test suite with the active profile. Thank you !"}],"tags":[],"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"comment_count":2,"down_vote_count":1,"up_vote_count":48,"is_accepted":false,"score":47,"last_activity_date":1651823528,"creation_date":1614035061,"answer_id":66324710,"question_id":39690094,"body_markdown":"There are two approaches.\r\n\r\n\r\n## Load from `config/`\r\n\r\n*(2022 update, tested against Spring Boot 2.6)*\r\n\r\nAlong with the approach below, you can also add config to `src/test/resources/config/application.yml`\r\n\r\n\r\n```none\r\nsrc/\r\n├── main/\r\n│   ├── java/\r\n│   │   └── ...\r\n│   └── resources/\r\n│       └── application.yml &lt;- default properties, always loaded\r\n└── test/\r\n    ├── java/\r\n    │   └── ...\r\n    └── resources/\r\n        └── config/\r\n            └── application.yml &lt;- test properties, will override the defaults\r\n```\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files\r\n\r\n&gt; Spring Boot will automatically find and load `application.properties` and `application.yaml` files from the following locations when your application starts:\r\n&gt; \r\n&gt; 1. From the classpath\r\n&gt;    1. The classpath root\r\n&gt;    2. The classpath `/config` package\r\n&gt; 2. From the current directory\r\n&gt;    1. The current directory\r\n&gt;    2. The `/config` subdirectory in the current directory\r\n&gt;    3. Immediate child directories of the `/config` subdirectory\r\n&gt;\r\n&gt; The list is ordered by precedence (with values from lower items overriding earlier ones). Documents from the loaded files are added as `PropertySources` to the Spring `Environment`.\r\n\r\n\r\n\r\n### Manual import using `spring.config.import`\r\n\r\n*(original answer from 2021, tested against Spring Boot 2.4)*\r\n\r\nOne solution is to have 3 properties files and to import \r\n\r\n* `src/main/resources/application.yml` - contains the application&#39;s default props\r\n* `src/test/resources/application.yml` - sets the profile to &#39;test&#39;, and imports properties from &#39;main&#39;\r\n* `src/test/resources/application-test.yml` - contains test-specific profiles, which will override &#39;main&#39;\r\n\r\n\r\nHere is the content of `src/test/resources/application.yml`:\r\n\r\n```yml\r\n# for testing, set default profile to &#39;test&#39;\r\nspring.profiles.active: &quot;test&quot;\r\n# and import the &#39;main&#39; properties\r\nspring.config.import: file:src/main/resources/application.yml\r\n```\r\n\r\nFor example, if `src/main/resources/application.yml` has the content\r\n\r\n```yml\r\nip-address: &quot;10.7.0.1&quot;\r\nusername: admin\r\n```\r\n\r\nand `src/test/resources/application-test.yml` has\r\n\r\n```yml\r\nip-address: &quot;999.999.999.999&quot;\r\nrun-integration-test: true\r\n```\r\n\r\nThen (assuming there are no other profiles)...\r\n\r\nwhen running tests, \r\n```\r\nprofiles=test\r\n--\r\nip-address=999.999.999.999\r\nusername=admin\r\nrun-integration-test=true\r\n```\r\n\r\nand when running the application normally\r\n\r\n```\r\nprofiles=none\r\n--\r\nip-address=10.7.0.1\r\nusername=admin\r\nrun-integration-test &lt;undefined&gt;\r\n```\r\n\r\n---\r\n\r\nNote: if `src/main/resources/application.yml` contains `spring.profiles.active: &quot;dev&quot;`, then this won&#39;t be overwritten by `src/test/resources/application-test.yml`\r\n","title":"Spring-boot default profile for integration tests","body":"<p>There are two approaches.</p>\n<h2>Load from <code>config/</code></h2>\n<p><em>(2022 update, tested against Spring Boot 2.6)</em></p>\n<p>Along with the approach below, you can also add config to <code>src/test/resources/config/application.yml</code></p>\n<pre class=\"lang-none prettyprint-override\"><code>src/\n├── main/\n│   ├── java/\n│   │   └── ...\n│   └── resources/\n│       └── application.yml &lt;- default properties, always loaded\n└── test/\n    ├── java/\n    │   └── ...\n    └── resources/\n        └── config/\n            └── application.yml &lt;- test properties, will override the defaults\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files</a></p>\n<blockquote>\n<p>Spring Boot will automatically find and load <code>application.properties</code> and <code>application.yaml</code> files from the following locations when your application starts:</p>\n<ol>\n<li>From the classpath\n<ol>\n<li>The classpath root</li>\n<li>The classpath <code>/config</code> package</li>\n</ol>\n</li>\n<li>From the current directory\n<ol>\n<li>The current directory</li>\n<li>The <code>/config</code> subdirectory in the current directory</li>\n<li>Immediate child directories of the <code>/config</code> subdirectory</li>\n</ol>\n</li>\n</ol>\n<p>The list is ordered by precedence (with values from lower items overriding earlier ones). Documents from the loaded files are added as <code>PropertySources</code> to the Spring <code>Environment</code>.</p>\n</blockquote>\n<h3>Manual import using <code>spring.config.import</code></h3>\n<p><em>(original answer from 2021, tested against Spring Boot 2.4)</em></p>\n<p>One solution is to have 3 properties files and to import</p>\n<ul>\n<li><code>src/main/resources/application.yml</code> - contains the application's default props</li>\n<li><code>src/test/resources/application.yml</code> - sets the profile to 'test', and imports properties from 'main'</li>\n<li><code>src/test/resources/application-test.yml</code> - contains test-specific profiles, which will override 'main'</li>\n</ul>\n<p>Here is the content of <code>src/test/resources/application.yml</code>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># for testing, set default profile to 'test'\nspring.profiles.active: &quot;test&quot;\n# and import the 'main' properties\nspring.config.import: file:src/main/resources/application.yml\n</code></pre>\n<p>For example, if <code>src/main/resources/application.yml</code> has the content</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>ip-address: &quot;10.7.0.1&quot;\nusername: admin\n</code></pre>\n<p>and <code>src/test/resources/application-test.yml</code> has</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>ip-address: &quot;999.999.999.999&quot;\nrun-integration-test: true\n</code></pre>\n<p>Then (assuming there are no other profiles)...</p>\n<p>when running tests,</p>\n<pre><code>profiles=test\n--\nip-address=999.999.999.999\nusername=admin\nrun-integration-test=true\n</code></pre>\n<p>and when running the application normally</p>\n<pre><code>profiles=none\n--\nip-address=10.7.0.1\nusername=admin\nrun-integration-test &lt;undefined&gt;\n</code></pre>\n<hr />\n<p>Note: if <code>src/main/resources/application.yml</code> contains <code>spring.profiles.active: &quot;dev&quot;</code>, then this won't be overwritten by <code>src/test/resources/application-test.yml</code></p>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1618248099,"creation_date":1618248099,"answer_id":67062887,"question_id":39690094,"body_markdown":"I&#39;ve usually done a base class for all integration tests with common code and annotations. Do not forget make it `abstract` in order not to instatiate. E.g:\r\n```\r\n@SpringBootTest\r\n@Transactional\r\n@AutoConfigureMockMvc\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic abstract class AbstractControllerTest {\r\n\r\n    @Autowired\r\n    protected MockMvc mockMvc;\r\n\r\n    protected ResultActions perform(MockHttpServletRequestBuilder builder) throws Exception {\r\n        return mockMvc.perform(builder);\r\n    }\r\n}\r\n\r\n// All annotations are inherited\r\nclass AccountControllerTest extends AbstractControllerTest {\r\n....\r\n```","title":"Spring-boot default profile for integration tests","body":"<p>I've usually done a base class for all integration tests with common code and annotations. Do not forget make it <code>abstract</code> in order not to instatiate. E.g:</p>\n<pre><code>@SpringBootTest\n@Transactional\n@AutoConfigureMockMvc\n@ActiveProfiles(&quot;test&quot;)\npublic abstract class AbstractControllerTest {\n\n    @Autowired\n    protected MockMvc mockMvc;\n\n    protected ResultActions perform(MockHttpServletRequestBuilder builder) throws Exception {\n        return mockMvc.perform(builder);\n    }\n}\n\n// All annotations are inherited\nclass AccountControllerTest extends AbstractControllerTest {\n....\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4022713,"reputation":121,"user_id":6600884,"display_name":"Michael Knopf"},"score":0,"creation_date":1650936455,"post_id":71965273,"comment_id":127236232,"body_markdown":"Actually, looks like this is no longer supported as of Spring Boot 2.4... https://stackoverflow.com/questions/67935961/property-spring-profiles-active-imported-from-location-class-path-resource-a","body":"Actually, looks like this is no longer supported as of Spring Boot 2.4... <a href=\"https://stackoverflow.com/questions/67935961/property-spring-profiles-active-imported-from-location-class-path-resource-a\" title=\"property spring profiles active imported from location class path resource a\">stackoverflow.com/questions/67935961/&hellip;</a>"}],"tags":[],"owner":{"account_id":4022713,"reputation":121,"user_id":6600884,"display_name":"Michael Knopf"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650614028,"creation_date":1650614028,"answer_id":71965273,"question_id":39690094,"body_markdown":"The best solution I have found is the last suggestion here: https://inspeerity.com/blog/setting-default-spring-profile-for-tests-with-override-option/\r\nThe author also desribes the problem very clearly and discusses the downside of every other approach I can think of.\r\n\r\nCreate a file `application-default.properties` in your test resources, containing a single line:\r\n```\r\nspring.profiles.active=test\r\n```\r\n\r\nThis takes advantage of the fact that Spring automatically enables a &quot;default&quot; profile if no other profiles were explicitly set. Now, your `application-test.properties` file will be used by default, for all tests.","title":"Spring-boot default profile for integration tests","body":"<p>The best solution I have found is the last suggestion here: <a href=\"https://inspeerity.com/blog/setting-default-spring-profile-for-tests-with-override-option/\" rel=\"nofollow noreferrer\">https://inspeerity.com/blog/setting-default-spring-profile-for-tests-with-override-option/</a>\nThe author also desribes the problem very clearly and discusses the downside of every other approach I can think of.</p>\n<p>Create a file <code>application-default.properties</code> in your test resources, containing a single line:</p>\n<pre><code>spring.profiles.active=test\n</code></pre>\n<p>This takes advantage of the fact that Spring automatically enables a &quot;default&quot; profile if no other profiles were explicitly set. Now, your <code>application-test.properties</code> file will be used by default, for all tests.</p>\n"}],"owner":{"account_id":456046,"reputation":3611,"user_id":854603,"accept_rate":79,"display_name":"Piotr Zakrzewski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227440,"favorite_count":0,"down_vote_count":0,"up_vote_count":157,"accepted_answer_id":39690595,"answer_count":14,"score":157,"last_activity_date":1665883437,"creation_date":1474826754,"question_id":39690094,"body_markdown":"Spring-boot utilizes [Spring profiles](http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-profiles.html) which allows to have separate config for different environments. \r\nOne way I use this feature is to configure the test database to be used by integration tests.\r\nI wonder, however: is it necessary to create my own profile &#39;test&#39; and explicitly activate this profile in each test file? \r\nRight now, I do it in the following way:\r\n \r\n\r\n 1. Create application-test.properties inside `src/main/resources`\r\n 2. Write test-specific config there (just the database name for now)\r\n 3. In every test file, include:\r\n\r\n        @ActiveProfiles(&quot;test&quot;)\r\n\r\nIs there a smarter / more concise way? For instance, a default test profile?\r\n\r\nEdit 1: This question pertains to Spring-Boot 1.4.1","title":"Spring-boot default profile for integration tests","body":"<p>Spring-boot utilizes <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-profiles.html\" rel=\"noreferrer\">Spring profiles</a> which allows to have separate config for different environments.\nOne way I use this feature is to configure the test database to be used by integration tests.\nI wonder, however: is it necessary to create my own profile 'test' and explicitly activate this profile in each test file?\nRight now, I do it in the following way:</p>\n<ol>\n<li><p>Create application-test.properties inside <code>src/main/resources</code></p>\n</li>\n<li><p>Write test-specific config there (just the database name for now)</p>\n</li>\n<li><p>In every test file, include:</p>\n<pre><code>@ActiveProfiles(&quot;test&quot;)\n</code></pre>\n</li>\n</ol>\n<p>Is there a smarter / more concise way? For instance, a default test profile?</p>\n<p>Edit 1: This question pertains to Spring-Boot 1.4.1</p>\n"},{"tags":["java","equals"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1665796081,"post_id":74075979,"comment_id":130788885,"body_markdown":"`instead of someone else&#39;s that I don&#39;t have control of?` Generally speaking, classes of different types (`MyClass` vs `YourClass`) cannot be compared.  They are always not equal.","body":"<code>instead of someone else&#39;s that I don&#39;t have control of?</code> Generally speaking, classes of different types (<code>MyClass</code> vs <code>YourClass</code>) cannot be compared.  They are always not equal."},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1665796082,"post_id":74075979,"comment_id":130788887,"body_markdown":"How exactly can it make sense that a `MyClass` instance is equal to an instance of the foreign class? Is `MyClass` a subclass?","body":"How exactly can it make sense that a <code>MyClass</code> instance is equal to an instance of the foreign class? Is <code>MyClass</code> a subclass?"},{"owner":{"account_id":3538580,"reputation":248,"user_id":15072863,"display_name":"Dmitry"},"score":0,"creation_date":1665796263,"post_id":74075979,"comment_id":130788902,"body_markdown":"In addition to the John&#39;s answer: Take a look at &quot;Effective Java&quot;. This is a very cool book, and in 3rd edition, Item 10, it describes this issue.","body":"In addition to the John&#39;s answer: Take a look at &quot;Effective Java&quot;. This is a very cool book, and in 3rd edition, Item 10, it describes this issue."}],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665796079,"creation_date":1665796079,"answer_id":74075998,"question_id":74075979,"body_markdown":"The code is written to give you the maximum amount of control. When you call `contains`, you choose what object you pass as an argument, and the Java queue implementation calls (virtually) the `equals` method *on that* object. If you don&#39;t like how `foreignObj.equals` is implemented, then wrap `foreignObj` in a minimal class that contains it and that overrides `equals` to do whatever you want.\r\n\r\n```\r\npublic class MyObject {\r\n  private ForeignObject foreignObj;\r\n\r\n  public MyObject(ForeignObject foreignObj) {\r\n    this.foreignObj = foreignObj;\r\n  }\r\n\r\n  @Override\r\n  public boolean equals(Object that) {\r\n    // ... Whatever you want ...\r\n  }\r\n\r\n}","title":"Calling the equals the wrong way?","body":"<p>The code is written to give you the maximum amount of control. When you call <code>contains</code>, you choose what object you pass as an argument, and the Java queue implementation calls (virtually) the <code>equals</code> method <em>on that</em> object. If you don't like how <code>foreignObj.equals</code> is implemented, then wrap <code>foreignObj</code> in a minimal class that contains it and that overrides <code>equals</code> to do whatever you want.</p>\n<pre><code>public class MyObject {\n  private ForeignObject foreignObj;\n\n  public MyObject(ForeignObject foreignObj) {\n    this.foreignObj = foreignObj;\n  }\n\n  @Override\n  public boolean equals(Object that) {\n    // ... Whatever you want ...\n  }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":3,"creation_date":1665796225,"post_id":74076002,"comment_id":130788897,"body_markdown":"And in practice it&#39;s almost impossible to meet this criteria with different types (different classes).  Unless you control both classes and are *very careful* with how they are implemented.","body":"And in practice it&#39;s almost impossible to meet this criteria with different types (different classes).  Unless you control both classes and are <i>very careful</i> with how they are implemented."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":1,"creation_date":1665890587,"post_id":74076002,"comment_id":130803490,"body_markdown":"@markspace or if both classes implement an interface that defines how it&#39;s equals work (as the JDK collection interfaces do).","body":"@markspace or if both classes implement an interface that defines how it&#39;s equals work (as the JDK collection interfaces do)."}],"tags":[],"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1665883424,"creation_date":1665796117,"answer_id":74076002,"question_id":74075979,"body_markdown":"Callers can expect `a.equals(b)` and `b.equals(a)` to have the same result no matter what `a` and `b` are, as long as they&#39;re non-null. It is guaranteed by the contract of the `equals` method.\r\n\r\nYour implementation is not legal because it isn&#39;t *symmetric*. Per the [API documentation](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)):\r\n\r\n&gt; The `equals` method implements an equivalence relation on non-null object references:\r\n&gt;\r\n&gt; * It is *reflexive*: for any non-null reference value `x`, `x.equals(x)` should return `true`.\r\n&gt; * It is *symmetric*: for any non-null reference values `x` and `y`, `x.equals(y)` should return `true` if and only if `y.equals(x)` returns `true`.\r\n&gt; * It is *transitive*: for any non-null reference values `x`, `y`, and `z`, if `x.equals(y)` returns `true` and `y.equals(z)` returns `true`, then `x.equals(z)` should return `true`.\r\n","title":"Calling the equals the wrong way?","body":"<p>Callers can expect <code>a.equals(b)</code> and <code>b.equals(a)</code> to have the same result no matter what <code>a</code> and <code>b</code> are, as long as they're non-null. It is guaranteed by the contract of the <code>equals</code> method.</p>\n<p>Your implementation is not legal because it isn't <em>symmetric</em>. Per the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">API documentation</a>:</p>\n<blockquote>\n<p>The <code>equals</code> method implements an equivalence relation on non-null object references:</p>\n<ul>\n<li>It is <em>reflexive</em>: for any non-null reference value <code>x</code>, <code>x.equals(x)</code> should return <code>true</code>.</li>\n<li>It is <em>symmetric</em>: for any non-null reference values <code>x</code> and <code>y</code>, <code>x.equals(y)</code> should return <code>true</code> if and only if <code>y.equals(x)</code> returns <code>true</code>.</li>\n<li>It is <em>transitive</em>: for any non-null reference values <code>x</code>, <code>y</code>, and <code>z</code>, if <code>x.equals(y)</code> returns <code>true</code> and <code>y.equals(z)</code> returns <code>true</code>, then <code>x.equals(z)</code> should return <code>true</code>.</li>\n</ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21889,"reputation":30982,"user_id":53538,"accept_rate":88,"display_name":"Guss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665796311,"creation_date":1665796311,"answer_id":74076014,"question_id":74075979,"body_markdown":"The idea for Java containers are that you expect all objects in the container to be of the same type (or if they have different types, that instances of different types will never be equal), so it doesn&#39;t really matter on which direction you call `equals()` (as it is supposed to be insensitive to the order of arguments).\r\n\r\nWhat you are trying to do goes against this basic assumption. If you are doing weird things, you might as well make it weirder and use a wrapper class that just reverses the order of `equals()` and use that to wrap your foreign object:\r\n\r\n```java\r\nclass UndirectEq {\r\nprivate Object v;\r\npublic UndirectEq(Object val) { v = val; }\r\nboolean equals(Object o) { return o.equals(v); }\r\n}\r\n\r\n...\r\n\r\nif (pq.contains(new UndirectEq(foreignObj))) { ...\r\n```\r\n","title":"Calling the equals the wrong way?","body":"<p>The idea for Java containers are that you expect all objects in the container to be of the same type (or if they have different types, that instances of different types will never be equal), so it doesn't really matter on which direction you call <code>equals()</code> (as it is supposed to be insensitive to the order of arguments).</p>\n<p>What you are trying to do goes against this basic assumption. If you are doing weird things, you might as well make it weirder and use a wrapper class that just reverses the order of <code>equals()</code> and use that to wrap your foreign object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class UndirectEq {\nprivate Object v;\npublic UndirectEq(Object val) { v = val; }\nboolean equals(Object o) { return o.equals(v); }\n}\n\n...\n\nif (pq.contains(new UndirectEq(foreignObj))) { ...\n</code></pre>\n"}],"owner":{"account_id":3925274,"reputation":481,"user_id":3246004,"accept_rate":11,"display_name":"Nathan W"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74076002,"answer_count":3,"score":1,"last_activity_date":1665883424,"creation_date":1665795757,"question_id":74075979,"body_markdown":"I was using a PriorityQueue, and I overrode the equals in MyClass,\r\n```\r\nPriorityQueue&lt;MyClass&gt; pq = ...\r\n```\r\nI wanted to make some foreign objects equals to MyClass,\r\n```\r\nif (pq.contains(foreignObj)) {\r\n   ...\r\n}\r\n```\r\nWhen I looked into the implementation of PriorityQueue, it called this way,\r\n```\r\no.equals(queue[i])\r\n```\r\nWhere &#39;o&#39; was the foreignObj and &#39;queue[i]&#39; was an instance of MyClass.  That caused a major problem, because I expected it called MyClass&#39;s equals because I own that so I could make any types of objects &#39;equals&#39; to mine.  And, I don&#39;t own the foreign class&#39;s source code and could not change anything over there.\r\n\r\nWhy it didn&#39;t code as below, so it&#39;d call my equals instead of someone else&#39;s that I don&#39;t have control of?\r\n```\r\nqueue[i].equals(o)\r\n```\r\n\r\n","title":"Calling the equals the wrong way?","body":"<p>I was using a PriorityQueue, and I overrode the equals in MyClass,</p>\n<pre><code>PriorityQueue&lt;MyClass&gt; pq = ...\n</code></pre>\n<p>I wanted to make some foreign objects equals to MyClass,</p>\n<pre><code>if (pq.contains(foreignObj)) {\n   ...\n}\n</code></pre>\n<p>When I looked into the implementation of PriorityQueue, it called this way,</p>\n<pre><code>o.equals(queue[i])\n</code></pre>\n<p>Where 'o' was the foreignObj and 'queue[i]' was an instance of MyClass.  That caused a major problem, because I expected it called MyClass's equals because I own that so I could make any types of objects 'equals' to mine.  And, I don't own the foreign class's source code and could not change anything over there.</p>\n<p>Why it didn't code as below, so it'd call my equals instead of someone else's that I don't have control of?</p>\n<pre><code>queue[i].equals(o)\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1511788863,"post_id":47511919,"comment_id":81979629,"body_markdown":"You already know you may use `{0,1}` to match 1 or 0 occurrences. Why not use it in your current regex? Or its equivalent, `?`? `[-_\\\\s]` =&gt; `[-_\\\\s]?`","body":"You already know you may use <code>{0,1}</code> to match 1 or 0 occurrences. Why not use it in your current regex? Or its equivalent, <code>?</code>? <code>[-_\\\\s]</code> =&gt; <code>[-_\\\\s]?</code>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1511788905,"post_id":47511919,"comment_id":81979649,"body_markdown":"`zipcode.matches(&quot;\\\\d{5}([-_\\\\s]?\\\\d{4})?&quot;);`","body":"<code>zipcode.matches(&quot;\\\\d{5}([-_\\\\s]?\\\\d{4})?&quot;);</code>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1511788985,"post_id":47511919,"comment_id":81979696,"body_markdown":"@JoopEggen the`?` after the character class is missing: `zipcode.matches(&quot;\\\\d{5}([-_\\\\s]?\\\\d{4})?&quot;);` - your expression is basically the same as the OP&#39;s.","body":"@JoopEggen the<code>?</code> after the character class is missing: <code>zipcode.matches(&quot;\\\\d{5}([-_\\\\s]?\\\\d{4})?&quot;);</code> - your expression is basically the same as the OP&#39;s."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1511789073,"post_id":47511919,"comment_id":81979748,"body_markdown":"Yes, I checked all bullets, but not the next addition. Corrected","body":"Yes, I checked all bullets, but not the next addition. Corrected"}],"answers":[{"tags":[],"owner":{"account_id":7007843,"reputation":234,"user_id":5371691,"display_name":"Kenil Fadia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511789126,"creation_date":1511789126,"answer_id":47512047,"question_id":47511919,"body_markdown":"Use the following regex: \r\n    \r\n    ^\\\\d{5}(?:[-_\\\\s]?\\\\d{4})?$\r\n\r\nIt has been tested on [https://regex101.com][1]\r\n\r\n\r\n  [1]: https://regex101.com/","title":"One Regular Expression to validate Zip code not working","body":"<p>Use the following regex: </p>\n\n<pre><code>^\\\\d{5}(?:[-_\\\\s]?\\\\d{4})?$\n</code></pre>\n\n<p>It has been tested on <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com</a></p>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511789426,"creation_date":1511789426,"answer_id":47512152,"question_id":47511919,"body_markdown":"Try to break down your expression and it should become easier to see: \r\n\r\n 1. always 5 digits (probably the first not being 0), \r\n 2. a group of 4 digits preceded by either nothing or one of 3 characters. \r\n\r\nIf you translate that to regex you should get something like (I included the non-0 first digit as well): \r\n\r\n 1. `[1-9]\\d{4}`\r\n 2. `(x\\d{4})?` - that&#39;s the optional (`?`) group (`(...)`) with `x` being a placeholder. Now translate &quot;either nothing or one of a 3 characters&quot; into an expression and you get `[-_ ]?`. (Note that I replaced `\\s` with a space because `\\s` includes tabs and other whitespace.\r\n\r\nIf you take that all to gether you get `[1-9]\\d{4}([-_ ]?\\d{4})?`.\r\n\r\nSide note: `\\d` matches other digits as well, e.g. arabic ones. You might want to use `[0-9]` instead.","title":"One Regular Expression to validate Zip code not working","body":"<p>Try to break down your expression and it should become easier to see: </p>\n\n<ol>\n<li>always 5 digits (probably the first not being 0), </li>\n<li>a group of 4 digits preceded by either nothing or one of 3 characters. </li>\n</ol>\n\n<p>If you translate that to regex you should get something like (I included the non-0 first digit as well): </p>\n\n<ol>\n<li><code>[1-9]\\d{4}</code></li>\n<li><code>(x\\d{4})?</code> - that's the optional (<code>?</code>) group (<code>(...)</code>) with <code>x</code> being a placeholder. Now translate \"either nothing or one of a 3 characters\" into an expression and you get <code>[-_ ]?</code>. (Note that I replaced <code>\\s</code> with a space because <code>\\s</code> includes tabs and other whitespace.</li>\n</ol>\n\n<p>If you take that all to gether you get <code>[1-9]\\d{4}([-_ ]?\\d{4})?</code>.</p>\n\n<p>Side note: <code>\\d</code> matches other digits as well, e.g. arabic ones. You might want to use <code>[0-9]</code> instead.</p>\n"},{"comments":[{"owner":{"account_id":2714615,"reputation":345,"user_id":2342259,"accept_rate":36,"display_name":"user2342259"},"score":0,"creation_date":1511790295,"post_id":47512170,"comment_id":81980525,"body_markdown":"If I try with 12345-6789 I will still endup with two matches. That&#39;s no good.","body":"If I try with 12345-6789 I will still endup with two matches. That&#39;s no good."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1511790492,"post_id":47512170,"comment_id":81980658,"body_markdown":"I can&#39;t reproduce this. Did you delete the |? @user2342259","body":"I can&#39;t reproduce this. Did you delete the |? @user2342259"},{"owner":{"account_id":2714615,"reputation":345,"user_id":2342259,"accept_rate":36,"display_name":"user2342259"},"score":0,"creation_date":1513766861,"post_id":47512170,"comment_id":82775088,"body_markdown":"had to go back again to this regex and came across your last replay, spot on. That&#39;s the accepted answer. Thanks","body":"had to go back again to this regex and came across your last replay, spot on. That&#39;s the accepted answer. Thanks"}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1511789479,"creation_date":1511789479,"answer_id":47512170,"question_id":47511919,"body_markdown":"I think you shouldn&#39;t have a `|` there:\r\n\r\n    ^[0-9]{5}(_|-|\\s){0,1}|[0-9]{4}\r\n                          ^\r\n                        here!\r\n\r\nDelete that and everything should work.\r\n\r\nWith that `|` being there, it means that matching `[0-9]{4}` is an alternative. So it will _either_ match 5 digits or 4. That&#39;s why you end up with 2 matches.","title":"One Regular Expression to validate Zip code not working","body":"<p>I think you shouldn't have a <code>|</code> there:</p>\n\n<pre><code>^[0-9]{5}(_|-|\\s){0,1}|[0-9]{4}\n                      ^\n                    here!\n</code></pre>\n\n<p>Delete that and everything should work.</p>\n\n<p>With that <code>|</code> being there, it means that matching <code>[0-9]{4}</code> is an alternative. So it will <em>either</em> match 5 digits or 4. That's why you end up with 2 matches.</p>\n"},{"tags":[],"owner":{"account_id":2714615,"reputation":345,"user_id":2342259,"accept_rate":36,"display_name":"user2342259"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665883293,"creation_date":1511790685,"answer_id":47512543,"question_id":47511919,"body_markdown":"I come up with a 2nd method which validate against 9 digits only so somewhere in my code I do something like below. Is not the most elegant way but it does what is supposed to...\r\n\r\n \r\n\r\n \r\n\r\n          if(!isUsaZipCodeValid(bo.getZipCode())){\r\n                                                if((isValidDigit9Only(bo.getZipCode()))){\r\n                                                    //do nothing\r\n                                                } else {\r\n                                                    errors.add(&quot;zipCode&quot;, new ActionMessage(&quot;error.label.zipcode.usa.digits.only&quot;));\r\n                                                }\r\n                                            }\r\n    \r\n    \r\n    //and these are the two methods.\r\n    \r\n    public static boolean isUsaZipCodeValid(String zipcode){\r\n          /*Below regex will satisfy all three condtions for zip-code. E.g-\r\n            12345\r\n            12345-6789\r\n            12345_6789\r\n            12345 1234\r\n            */\r\n            return zipcode.matches(&quot;^\\\\d{5}(?:[-_\\\\s]\\\\d{4})?$&quot;);\r\n        }\r\n    \r\n        public static boolean isValidDigit9Only(String zipcode){\r\n          /*Below regex will satisfy the below condition for the for zip-code. E.g-\r\n            123456789\r\n            */\r\n            return zipcode.matches(&quot;[0-9]{9}&quot;);\r\n        }\r\n\r\n","title":"One Regular Expression to validate Zip code not working","body":"<p>I come up with a 2nd method which validate against 9 digits only so somewhere in my code I do something like below. Is not the most elegant way but it does what is supposed to...</p>\n<pre><code>      if(!isUsaZipCodeValid(bo.getZipCode())){\n                                            if((isValidDigit9Only(bo.getZipCode()))){\n                                                //do nothing\n                                            } else {\n                                                errors.add(&quot;zipCode&quot;, new ActionMessage(&quot;error.label.zipcode.usa.digits.only&quot;));\n                                            }\n                                        }\n\n\n//and these are the two methods.\n\npublic static boolean isUsaZipCodeValid(String zipcode){\n      /*Below regex will satisfy all three condtions for zip-code. E.g-\n        12345\n        12345-6789\n        12345_6789\n        12345 1234\n        */\n        return zipcode.matches(&quot;^\\\\d{5}(?:[-_\\\\s]\\\\d{4})?$&quot;);\n    }\n\n    public static boolean isValidDigit9Only(String zipcode){\n      /*Below regex will satisfy the below condition for the for zip-code. E.g-\n        123456789\n        */\n        return zipcode.matches(&quot;[0-9]{9}&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":2714615,"reputation":345,"user_id":2342259,"accept_rate":36,"display_name":"user2342259"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":47512170,"answer_count":4,"score":0,"last_activity_date":1665883293,"creation_date":1511788690,"question_id":47511919,"body_markdown":"Below regex (see code snippet) will satisfy all following four conditions:\r\n\r\n - 12345 \r\n - 12345-6789  \r\n - 12345_6789  \r\n - 12345 1234\r\n\r\nI need to include a 5th condition which is 123456789 (hence, 9 digits only, no space) I&#39;ve tried to change the current regex to this ^[0-9]{5}(_|-|\\s){0,1}|[0-9]{4} but this doesn&#39;t work\r\n\r\n            \r\n\r\n    public static boolean isZipCodeValid(String zipcode) {\r\n        return zipcode.matches(&quot;^\\\\d{5}(?:[-_\\\\s]\\\\d{4})?$&quot;);\r\n    }","title":"One Regular Expression to validate Zip code not working","body":"<p>Below regex (see code snippet) will satisfy all following four conditions:</p>\n\n<ul>\n<li>12345 </li>\n<li>12345-6789  </li>\n<li>12345_6789  </li>\n<li>12345 1234</li>\n</ul>\n\n<p>I need to include a 5th condition which is 123456789 (hence, 9 digits only, no space) I've tried to change the current regex to this ^[0-9]{5}(_|-|\\s){0,1}|[0-9]{4} but this doesn't work</p>\n\n<pre><code>public static boolean isZipCodeValid(String zipcode) {\n    return zipcode.matches(\"^\\\\d{5}(?:[-_\\\\s]\\\\d{4})?$\");\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":0,"creation_date":1665839659,"post_id":74079704,"comment_id":130795184,"body_markdown":"You set ```s``` to max_sum, regardless of your if statement. Start by not doing that :)","body":"You set <code>s</code> to max_sum, regardless of your if statement. Start by not doing that :)"},{"owner":{"account_id":26631761,"reputation":11,"user_id":20248855,"display_name":"powpow1145"},"score":0,"creation_date":1665839771,"post_id":74079704,"comment_id":130795217,"body_markdown":"How can i  let those exceptional condition return 0?","body":"How can i  let those exceptional condition return 0?"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1665841280,"post_id":74079704,"comment_id":130795519,"body_markdown":"The obvious way is &quot;write an if statement&quot;, so why are you opposed to that?   You yourself describe them as &quot;exceptional conditions&quot;, meaning not a result reachable by the normal processing.","body":"The obvious way is &quot;write an if statement&quot;, so why are you opposed to that?   You yourself describe them as &quot;exceptional conditions&quot;, meaning not a result reachable by the normal processing."},{"owner":{"account_id":26631761,"reputation":11,"user_id":20248855,"display_name":"powpow1145"},"score":0,"creation_date":1665841551,"post_id":74079704,"comment_id":130795568,"body_markdown":"mmm yes i will update my code. soon","body":"mmm yes i will update my code. soon"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1665844658,"post_id":74079704,"comment_id":130796281,"body_markdown":"WHy cannot you not use a standard feature of the langauge. Use an IF statement!","body":"WHy cannot you not use a standard feature of the langauge. Use an IF statement!"},{"owner":{"account_id":3535938,"reputation":4707,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"score":0,"creation_date":1665856050,"post_id":74079704,"comment_id":130798694,"body_markdown":"Please try to fix your weird code formatting. It tames the motivation to read the code.","body":"Please try to fix your weird code formatting. It tames the motivation to read the code."}],"answers":[{"tags":[],"owner":{"account_id":17628634,"reputation":2611,"user_id":12793185,"display_name":"ardget"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665881047,"creation_date":1665881047,"answer_id":74083927,"question_id":74079704,"body_markdown":"If somehow needed, it would be possible to write them all without `if statement` though...?\r\n\r\n    public static int maxSubsequence(int[] arr) {\r\n\r\n        int s;\r\n        int max_sum = Integer.MIN_VALUE;\r\n\r\n        int end_sum = 0;\r\n        int neg_sum = 0;\r\n\r\n        for(int k : arr) {\r\n            neg_sum += Math.max(-1, k);\r\n            end_sum = Math.max(end_sum + k, k);\r\n\r\n            max_sum = Math.max(end_sum, max_sum);\r\n        }\r\n        s = Math.min(neg_sum + arr.length, 1) * max_sum;\r\n        return s;\r\n    }","title":"Without using if statement, how can i return value with exceptional condition","body":"<p>If somehow needed, it would be possible to write them all without <code>if statement</code> though...?</p>\n<pre><code>public static int maxSubsequence(int[] arr) {\n\n    int s;\n    int max_sum = Integer.MIN_VALUE;\n\n    int end_sum = 0;\n    int neg_sum = 0;\n\n    for(int k : arr) {\n        neg_sum += Math.max(-1, k);\n        end_sum = Math.max(end_sum + k, k);\n\n        max_sum = Math.max(end_sum, max_sum);\n    }\n    s = Math.min(neg_sum + arr.length, 1) * max_sum;\n    return s;\n}\n</code></pre>\n"}],"owner":{"account_id":26631761,"reputation":11,"user_id":20248855,"display_name":"powpow1145"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1665881047,"creation_date":1665839068,"question_id":74079704,"body_markdown":"    package src;\r\n    import java.util.Arrays;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n\r\n\r\n    public class Sum {\r\n\r\n    public static int maxSubsequence(int[] arr) {\r\n        int s;\r\n        \r\n        \r\n        if(){\r\n         for(int i =0;i&lt;arr.length;i++){\r\n        if((arr[i]&lt;0)||(arr.length==0)){\r\n           s=0;\r\n        }\r\n         }\r\n        \r\n        \r\n        else{\r\n        int max_sum = Integer.MIN_VALUE;\r\n\r\n        int end_sum = 0;\r\n\r\n       for(int k : arr){\r\n\r\n           end_sum = Math.max(end_sum+k, k);\r\n\r\n           max_sum = Math.max(end_sum,max_sum);\r\n       }\r\n       s = max_sum;\r\n        }\r\n        \r\n        \r\n        \r\n       \r\n      return s;\r\n\r\n    }\r\n    }\r\n\r\n\r\nProblem\r\n\r\nIt&#39;s Kadane algorithm.\r\nWith the two exceptional condition.\r\n\r\ncondition 1: if all array is empty, return 0.\r\n\r\ncondition 2: if all array value is negative, return 0.\r\n\r\nwhat can i do for the first if() condition? \r\n ","title":"Without using if statement, how can i return value with exceptional condition","body":"<pre><code>package src;\nimport java.util.Arrays;\nimport java.util.ArrayList;\nimport java.util.List;\n\n\n\npublic class Sum {\n\npublic static int maxSubsequence(int[] arr) {\n    int s;\n    \n    \n    if(){\n     for(int i =0;i&lt;arr.length;i++){\n    if((arr[i]&lt;0)||(arr.length==0)){\n       s=0;\n    }\n     }\n    \n    \n    else{\n    int max_sum = Integer.MIN_VALUE;\n\n    int end_sum = 0;\n\n   for(int k : arr){\n\n       end_sum = Math.max(end_sum+k, k);\n\n       max_sum = Math.max(end_sum,max_sum);\n   }\n   s = max_sum;\n    }\n    \n    \n    \n   \n  return s;\n\n}\n}\n</code></pre>\n<p>Problem</p>\n<p>It's Kadane algorithm.\nWith the two exceptional condition.</p>\n<p>condition 1: if all array is empty, return 0.</p>\n<p>condition 2: if all array value is negative, return 0.</p>\n<p>what can i do for the first if() condition?</p>\n"},{"tags":["java","awt"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665879475,"post_id":74083713,"comment_id":130802425,"body_markdown":"*I&#39;d like to create a calculator using Java AWT library* Don&#39;t - that&#39;s an absolute dinosaur ;)","body":"<i>I&#39;d like to create a calculator using Java AWT library</i> Don&#39;t - that&#39;s an absolute dinosaur ;)"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1665881130,"post_id":74083713,"comment_id":130802592,"body_markdown":"1) Components need to be added to the frame BEFORE the frame is made visible. 2) You should invoke pack() BEFORE making the frame visible, so all the components are displayed at their preferred size. 3) Use Swing not AWT. Swing components start with &quot;J&quot;. 4) Read the [Swing tutorial](https://docs.oracle.com/javase/tutorial/uiswing/TOC.html) for more information and examples. The `GridBagLayout` will show you how to better structure your class. 5) Don&#39;t use multiple add(...) statements for each component. The component should be added with a constraint the first time.","body":"1) Components need to be added to the frame BEFORE the frame is made visible. 2) You should invoke pack() BEFORE making the frame visible, so all the components are displayed at their preferred size. 3) Use Swing not AWT. Swing components start with &quot;J&quot;. 4) Read the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/TOC.html\" rel=\"nofollow noreferrer\">Swing tutorial</a> for more information and examples. The <code>GridBagLayout</code> will show you how to better structure your class. 5) Don&#39;t use multiple add(...) statements for each component. The component should be added with a constraint the first time."}],"owner":{"account_id":24430540,"reputation":3,"user_id":18355534,"display_name":"assblaster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665880723,"creation_date":1665877054,"question_id":74083713,"body_markdown":"I&#39;d like to create a calculator using Java AWT library, however I&#39;m having problems putting a label and a textfield on the same row. Also, everything is mixing up. When I run the program, at first it shows 2 labels and 2 textfields on the same row, but if I resize it, the labels, buttons &amp; textfields are one on top of another. Could you please help me?\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.WindowAdapter;\r\n    import java.awt.event.WindowEvent;\r\n    \r\n    public  class Calculator extends Frame {\r\n    \r\n        public static void main(String[] args) {\r\n            Frame frame= new Frame();\r\n            frame.setTitle(&quot;Mini Calculator App&quot;);\r\n            frame.setVisible(true);\r\n            frame.setSize(300,300);\r\n    \r\n            LayoutManager gridBagLayout = new GridBagLayout();\r\n            frame.setLayout(gridBagLayout);\r\n    \r\n            Label firstNumber = new Label(&quot;Add a number&quot;);\r\n            frame.add(firstNumber);\r\n    \r\n            TextField numar1 = new TextField();\r\n            frame.add(numar1);\r\n    \r\n            Label secondNumber = new Label(&quot;Add another number&quot;);\r\n            frame.add(secondNumber);\r\n    \r\n            TextField numar2 = new TextField();\r\n            frame.add(numar2);\r\n    \r\n            Choice operatie = new Choice();\r\n            operatie.add(&quot;+&quot;); operatie.add(&quot;-&quot;);\r\n            operatie.add(&quot;*&quot;); operatie.add(&quot;/&quot;);\r\n            frame.add(operatie);\r\n    \r\n            Button calcul = new Button(&quot;Calculate&quot;);\r\n            frame.add(calcul);\r\n    \r\n            Label result = new Label(&quot;Result is&quot;);\r\n            frame.add(result);\r\n    \r\n            GridBagConstraints afisare;\r\n    \r\n            afisare = new GridBagConstraints();\r\n            afisare.gridx = 0;\r\n            afisare.gridy = 0;\r\n            frame.add(firstNumber, afisare);\r\n    \r\n            afisare = new GridBagConstraints();\r\n            afisare.gridx = 0;\r\n            afisare.gridy = 1;\r\n            afisare.gridwidth = 10;\r\n            afisare.gridheight = 10;\r\n            frame.add(numar1, afisare);\r\n    \r\n            afisare = new GridBagConstraints();\r\n            afisare.gridx = 1;\r\n            afisare.gridy = 0;\r\n            frame.add(secondNumber, afisare);\r\n    \r\n            afisare = new GridBagConstraints();\r\n            afisare.gridx = 1;\r\n            afisare.gridy = 1;\r\n            frame.add(numar2, afisare);\r\n    \r\n            afisare = new GridBagConstraints();\r\n            afisare.gridx = 2;\r\n            afisare.gridy = 1;\r\n            frame.add(operatie, afisare);\r\n    \r\n            afisare = new GridBagConstraints();\r\n            afisare.gridx = 4;\r\n            afisare.gridy = 0;\r\n            frame.add(result, afisare);\r\n    \r\n            frame.addWindowListener(new WindowAdapter() {\r\n                @Override\r\n                public void windowClosing(WindowEvent e) {\r\n                    System.exit(0);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n[enter image description here][1]\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IYm8b.png\r\n  [2]: https://i.stack.imgur.com/T5CGj.png\r\n","title":"Java AWT controls issue","body":"<p>I'd like to create a calculator using Java AWT library, however I'm having problems putting a label and a textfield on the same row. Also, everything is mixing up. When I run the program, at first it shows 2 labels and 2 textfields on the same row, but if I resize it, the labels, buttons &amp; textfields are one on top of another. Could you please help me?</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\n\npublic  class Calculator extends Frame {\n\n    public static void main(String[] args) {\n        Frame frame= new Frame();\n        frame.setTitle(&quot;Mini Calculator App&quot;);\n        frame.setVisible(true);\n        frame.setSize(300,300);\n\n        LayoutManager gridBagLayout = new GridBagLayout();\n        frame.setLayout(gridBagLayout);\n\n        Label firstNumber = new Label(&quot;Add a number&quot;);\n        frame.add(firstNumber);\n\n        TextField numar1 = new TextField();\n        frame.add(numar1);\n\n        Label secondNumber = new Label(&quot;Add another number&quot;);\n        frame.add(secondNumber);\n\n        TextField numar2 = new TextField();\n        frame.add(numar2);\n\n        Choice operatie = new Choice();\n        operatie.add(&quot;+&quot;); operatie.add(&quot;-&quot;);\n        operatie.add(&quot;*&quot;); operatie.add(&quot;/&quot;);\n        frame.add(operatie);\n\n        Button calcul = new Button(&quot;Calculate&quot;);\n        frame.add(calcul);\n\n        Label result = new Label(&quot;Result is&quot;);\n        frame.add(result);\n\n        GridBagConstraints afisare;\n\n        afisare = new GridBagConstraints();\n        afisare.gridx = 0;\n        afisare.gridy = 0;\n        frame.add(firstNumber, afisare);\n\n        afisare = new GridBagConstraints();\n        afisare.gridx = 0;\n        afisare.gridy = 1;\n        afisare.gridwidth = 10;\n        afisare.gridheight = 10;\n        frame.add(numar1, afisare);\n\n        afisare = new GridBagConstraints();\n        afisare.gridx = 1;\n        afisare.gridy = 0;\n        frame.add(secondNumber, afisare);\n\n        afisare = new GridBagConstraints();\n        afisare.gridx = 1;\n        afisare.gridy = 1;\n        frame.add(numar2, afisare);\n\n        afisare = new GridBagConstraints();\n        afisare.gridx = 2;\n        afisare.gridy = 1;\n        frame.add(operatie, afisare);\n\n        afisare = new GridBagConstraints();\n        afisare.gridx = 4;\n        afisare.gridy = 0;\n        frame.add(result, afisare);\n\n        frame.addWindowListener(new WindowAdapter() {\n            @Override\n            public void windowClosing(WindowEvent e) {\n                System.exit(0);\n            }\n        });\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/IYm8b.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/T5CGj.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","bluej"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1424311273,"post_id":28597469,"comment_id":45501323,"body_markdown":"Please start by reading the Help Center. Your question, as it&#39;s currently presented, is not appropriate for this site.","body":"Please start by reading the Help Center. Your question, as it&#39;s currently presented, is not appropriate for this site."},{"owner":{"account_id":2673598,"reputation":3890,"user_id":2310450,"accept_rate":92,"display_name":"mbdavis"},"score":0,"creation_date":1424311445,"post_id":28597469,"comment_id":45501358,"body_markdown":"@user4582044 post your code in the question, formatted, and show what you have tried and what is going wrong","body":"@user4582044 post your code in the question, formatted, and show what you have tried and what is going wrong"},{"owner":{"account_id":5810963,"reputation":13,"user_id":4582044,"display_name":"user4582044"},"score":0,"creation_date":1424311717,"post_id":28597469,"comment_id":45501433,"body_markdown":"We have been on break for a while and I don&#39;t remember where to begin. Up until now we&#39;ve really only had fill in the blank type coding with templated stuff","body":"We have been on break for a while and I don&#39;t remember where to begin. Up until now we&#39;ve really only had fill in the blank type coding with templated stuff"},{"owner":{"account_id":5546231,"reputation":4303,"user_id":4400820,"accept_rate":89,"display_name":"D. Ben Knoble"},"score":0,"creation_date":1424311946,"post_id":28597469,"comment_id":45501490,"body_markdown":"So far it looks ok; you need to add some parameters to your constructor to allow it to set instance vars to what gets passed in. Honestly, id go back and look at some lessons or try searching for a java tutorial. Or a object oriented programming tutorial","body":"So far it looks ok; you need to add some parameters to your constructor to allow it to set instance vars to what gets passed in. Honestly, id go back and look at some lessons or try searching for a java tutorial. Or a object oriented programming tutorial"},{"owner":{"account_id":5810963,"reputation":13,"user_id":4582044,"display_name":"user4582044"},"score":0,"creation_date":1424312156,"post_id":28597469,"comment_id":45501561,"body_markdown":"So I am on the right path @BenKnoble ? Im really just trying to get started","body":"So I am on the right path @BenKnoble ? Im really just trying to get started"},{"owner":{"account_id":5546231,"reputation":4303,"user_id":4400820,"accept_rate":89,"display_name":"D. Ben Knoble"},"score":0,"creation_date":1424312355,"post_id":28597469,"comment_id":45501607,"body_markdown":"So far, you have instance vars (check) and some setters (check). You need a constructor that will actually get values and initialize the right vars, and some getters that will return appropriate data. Sounds like almost halfway there.","body":"So far, you have instance vars (check) and some setters (check). You need a constructor that will actually get values and initialize the right vars, and some getters that will return appropriate data. Sounds like almost halfway there."},{"owner":{"account_id":5546231,"reputation":4303,"user_id":4400820,"accept_rate":89,"display_name":"D. Ben Knoble"},"score":0,"creation_date":1424312586,"post_id":28597469,"comment_id":45501653,"body_markdown":"Would it help if i put together some generic object code to demonstrate? Like some kinda cat class/object or something?","body":"Would it help if i put together some generic object code to demonstrate? Like some kinda cat class/object or something?"},{"owner":{"account_id":5810963,"reputation":13,"user_id":4582044,"display_name":"user4582044"},"score":0,"creation_date":1424312993,"post_id":28597469,"comment_id":45501750,"body_markdown":"Yes @BenKnoble that would be helpful.","body":"Yes @BenKnoble that would be helpful."},{"owner":{"account_id":5810963,"reputation":13,"user_id":4582044,"display_name":"user4582044"},"score":0,"creation_date":1424313035,"post_id":28597469,"comment_id":45501765,"body_markdown":"I&#39;m working on my getters and setters but I&#39;ve only got the first 3","body":"I&#39;m working on my getters and setters but I&#39;ve only got the first 3"},{"owner":{"account_id":5810963,"reputation":13,"user_id":4582044,"display_name":"user4582044"},"score":0,"creation_date":1424313668,"post_id":28597469,"comment_id":45501925,"body_markdown":"The library is about to close so I&#39;m going to have to drive home. Thank you for your help","body":"The library is about to close so I&#39;m going to have to drive home. Thank you for your help"}],"answers":[{"tags":[],"owner":{"account_id":5546231,"reputation":4303,"user_id":4400820,"accept_rate":89,"display_name":"D. Ben Knoble"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1665880462,"creation_date":1424314576,"answer_id":28597919,"question_id":28597469,"body_markdown":"Some quick code (explanations in comments):\r\n\r\n    public class Cat\r\n    {\r\n        //instance variables: each object will have its own unique copies with different data\r\n        String name, type, furColor;\r\n        int age;\r\n\r\n        //default constructor (basic cats with no info)\r\n        public Cat()\r\n        {\r\n            this.name = null;//default for object types is null, String is object type\r\n            this.type = null;\r\n            this.furColor = null;\r\n            this.age = 0;//default for int types is 0 or equivalent\r\n        }\r\n\r\n        //normal constructor: used for most constructions, takes parameters to initialize data \r\n        //(this is what you need for your basketball guy, although not every instance var needs a parameter in the constructor--refer to task guidelines)\r\n        public Cat(String name, String type, String furColor, int age)\r\n        {\r\n            this.name = name;//if this confuses you, remember, this refers to current object instance,\r\n            //but name will just search in scope, starting with lowest, til it finds reference. So it finds String name in param list first and uses that\r\n            this.type = type;//bad example; type could now technically be &quot;aslkdjf&quot;\r\n            this.furColor = furColor;\r\n            this.age = age;\r\n        }\r\n\r\n        //an example getter/setter\r\n        public void setName(String name){this.name = name;}//i&#39;m not making pretty cuz time\r\n        public String getName(){return this.name;}\r\n        //if you decide to actually mess with this, add getters/setters for the rest of the data for the cat to really feel power\r\n        //example cat method(s)--you can add more\r\n        public String Meow(){return (this.name + &quot; says, \\&quot;Meow!\\&quot;&quot;);}//returns string so main can print\r\n        public String Eat(){return (this.name + &quot; licks the bowl greedily...&quot;);}\r\n\r\n        public static void main(String[] args)\r\n        {\r\n            Cat cat1 = new Cat();//data is blank\r\n            cat1.setName(&quot;Jack&quot;);//if you comment this line out and run, you should get a null reference error because the name is null\r\n            //please try messing with getters/setters so you can initialize all the data if you have time\r\n            System.out.println(cat1.Meow() + &quot;\\n&quot; + cat1.Eat());\r\n            Cat cat2 = new Cat(&quot;Boris&quot;, &quot;Calico&quot;, &quot;White/Blonde&quot;, 13);//has actual data now because of constructor\r\n            System.out.println(cat2.getName() + &quot;&#39;s day: \\n&quot; + cat2.Meow() + &quot;\\n&quot; + cat2.Eat());\r\n        }\r\n    }\r\n\r\nThis should compile in BlueJ and be runnable. Feel free to play with main(String[]) and class Cat to help yourself figure everything out.\r\n\r\nOk yeah it looks/sounds ridiculous, but hopefully points you in right direction","title":"BlueJ beginner how to start","body":"<p>Some quick code (explanations in comments):</p>\n<pre><code>public class Cat\n{\n    //instance variables: each object will have its own unique copies with different data\n    String name, type, furColor;\n    int age;\n\n    //default constructor (basic cats with no info)\n    public Cat()\n    {\n        this.name = null;//default for object types is null, String is object type\n        this.type = null;\n        this.furColor = null;\n        this.age = 0;//default for int types is 0 or equivalent\n    }\n\n    //normal constructor: used for most constructions, takes parameters to initialize data \n    //(this is what you need for your basketball guy, although not every instance var needs a parameter in the constructor--refer to task guidelines)\n    public Cat(String name, String type, String furColor, int age)\n    {\n        this.name = name;//if this confuses you, remember, this refers to current object instance,\n        //but name will just search in scope, starting with lowest, til it finds reference. So it finds String name in param list first and uses that\n        this.type = type;//bad example; type could now technically be &quot;aslkdjf&quot;\n        this.furColor = furColor;\n        this.age = age;\n    }\n\n    //an example getter/setter\n    public void setName(String name){this.name = name;}//i'm not making pretty cuz time\n    public String getName(){return this.name;}\n    //if you decide to actually mess with this, add getters/setters for the rest of the data for the cat to really feel power\n    //example cat method(s)--you can add more\n    public String Meow(){return (this.name + &quot; says, \\&quot;Meow!\\&quot;&quot;);}//returns string so main can print\n    public String Eat(){return (this.name + &quot; licks the bowl greedily...&quot;);}\n\n    public static void main(String[] args)\n    {\n        Cat cat1 = new Cat();//data is blank\n        cat1.setName(&quot;Jack&quot;);//if you comment this line out and run, you should get a null reference error because the name is null\n        //please try messing with getters/setters so you can initialize all the data if you have time\n        System.out.println(cat1.Meow() + &quot;\\n&quot; + cat1.Eat());\n        Cat cat2 = new Cat(&quot;Boris&quot;, &quot;Calico&quot;, &quot;White/Blonde&quot;, 13);//has actual data now because of constructor\n        System.out.println(cat2.getName() + &quot;'s day: \\n&quot; + cat2.Meow() + &quot;\\n&quot; + cat2.Eat());\n    }\n}\n</code></pre>\n<p>This should compile in BlueJ and be runnable. Feel free to play with main(String[]) and class Cat to help yourself figure everything out.</p>\n<p>Ok yeah it looks/sounds ridiculous, but hopefully points you in right direction</p>\n"}],"owner":{"account_id":5810963,"reputation":13,"user_id":4582044,"display_name":"user4582044"},"comment_count":10,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":591,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1424363200,"accepted_answer_id":28597919,"answer_count":1,"score":-2,"last_activity_date":1665880462,"creation_date":1424311208,"question_id":28597469,"body_markdown":"I have been in my computer science class for almost 3 months and I cant even begin a code. If someone could help walk me through this, that&#39;d be great. There is 3 parts to this assignment and I only posted the first part. I figure once I understand the first part, I can figure out the rest.\r\n\r\nCreate a class definition\r\n\r\nCreate a class definition for a basketball player named BasketballPlayer\r\n\r\nIt&#39;s fields are:\r\n\r\n    name, a String\r\n    height (in inches), an int\r\n    weight (in pounds), an int\r\n    freeThrowsAttempted, an int\r\n    freeThrowsMade, an int\r\n    twoPointFieldGoalsAttempted, an int\r\n    twoPointFfieldGoalsMade, an int\r\n    threePointersAttempted, an int\r\n    threePointersMade, an int\r\n    turnovers, an int\r\n    assists, an int\r\n\r\nInclude a constructor that creates instances of BasketballPlayer.  The constructor should have only 3 parameters: the value for name (a String) and the values for height and weight (ints).  It should set all the other fields to 0.\r\n\r\nInclude the expected &quot;getters&quot; and &quot;setters&quot; for each of the statistical categories (free throw made/attempted, 3-pointer, assist, etc).  \r\n\r\nAlso, include a getStats() method that returns a string formatted as follows:\r\n\r\nName:  xxxxxxxxxxxxx\r\n\r\nField Goal Percentage:    xxxxx.xx%\r\n\r\n3 Pointer Percentage:  xxxxx.xx%\r\n\r\nFree Throw Percentage:  xxxxx.xx%\r\n\r\nAssist-to-Turnover Ratio:   xxx.xx\r\n\r\nNOTE:  Field Goal Percentage is computed using total of two-point goals and 3-point goals.\r\n This is what I have so far\r\n   \r\n     public class BasketballPlayer extends Team\r\n    {\r\n      String name;\r\n    int height;\r\n    int weight;\r\n    int freeThrowsAttempted;\r\n    int freeThrowsMade;\r\n    int twoPointFieldGoalsAttempted;\r\n    int twoPointFieldGoalsMade;\r\n    int threePointersAttempted;\r\n    int threePointersMade;\r\n    int turnovers;\r\n    int assists;\r\n    public BasketballPlayer(){\r\n        this.name = null;\r\n        this.height = 0;\r\n        this.weight = 0;\r\n        }\r\n     public BasketballPlayer(String name, int weight, int height){\r\n       this.name = name;\r\n       this.height = height;\r\n       this.weight = weight;}\r\n    public void setName(String aName){\r\n    name = aName;}\r\n    public void setHeight(int aHeight){\r\n    height = aHeight;}\r\n    public void setWeight(int aWeight){\r\n    weight = aWeight;}\r\n    private void setFreeThrowsAttempted(int aFreeThrowsAttempted){\r\n    freeThrowsAttempted = aFreeThrowsAttempted;}\r\n    public void setFreeThrowsMade(int aFreeThrowsMade){\r\n    freeThrowsMade = aFreeThrowsMade;}\r\n    public void setTwoPointFieldGoalsAttempted(int aTwoPointFieldGoalsAttempted){\r\n    twoPointFieldGoalsAttempted = aTwoPointFieldGoalsAttempted;}\r\n    public void setTwoPointFieldGoalsMade(int aTwoPointFieldGoalsMade){\r\n    twoPointFieldGoalsMade = aTwoPointFieldGoalsMade;}\r\n    public void setThreePointersAttempted(int aThreePointersAttempted){\r\n    threePointersAttempted = aThreePointersAttempted;}\r\n    public void setThreePointersMade(int aThreePointersMade){\r\n    threePointersMade = aThreePointersMade;}\r\n    public void setTurnovers(int aTurnovers){\r\n    turnovers = aTurnovers;}\r\n    public void setAssists(int aAssists){\r\n    assists = aAssists;}\r\n    public String getName(){\r\n      return name;}\r\n    public int getHeight(){\r\n      return height;}\r\n    public int getWeight(){\r\n      return weight;}\r\n    public int getFreeThrowsAttempted(){\r\n    return freeThrowsAttempted;}\r\n    public int getFreeThrowsMade(){\r\n        return freeThrowsMade;}\r\n    public int getTwoPointFieldGoalsAttempted(){\r\n    return twoPointFieldGoalsAttempted;}\r\n    public int getTwoPointFieldGoalsMade(){\r\n    return twoPointFieldGoalsMade;}\r\n    public int getThreePointersAttempted(){\r\n    return threePointersAttempted;}\r\n    public int getThreePointersMade(){\r\n    return threePointersMade;}\r\n    public int getTurnovers(){\r\n    return turnovers;}\r\n    public int getAssists(){\r\n    return assists;}\r\n\r\n    int FGP = (twoPointFieldGoalsMade + threePointersMade / twoPointFieldGoalsAttempted + threePointersAttempted);\r\n    int threePP = (threePointersMade / threePointersAttempted);\r\n    int FTP = (freeThrowsMade / freeThrowsAttempted);\r\n\r\n    public int getStats(){\r\n    return\r\n    System.out.println(&quot;Name: &quot; + this.name);\r\n    System.out.println(&quot;Field Goal Percentage: &quot; + FGP + &quot;%&quot;);\r\n    System.out.println(&quot;3 Pointer Percentage: &quot; + threePP + &quot;%&quot;);\r\n    System.out.println(&quot;Free Throw Percentage: &quot; + FTP + &quot;%&quot;);\r\n    System.out.println(&quot;Assist-to-Turnover Ratio: &quot; + (assists + &quot;:&quot; + turnovers));}}","title":"BlueJ beginner how to start","body":"<p>I have been in my computer science class for almost 3 months and I cant even begin a code. If someone could help walk me through this, that'd be great. There is 3 parts to this assignment and I only posted the first part. I figure once I understand the first part, I can figure out the rest.</p>\n\n<p>Create a class definition</p>\n\n<p>Create a class definition for a basketball player named BasketballPlayer</p>\n\n<p>It's fields are:</p>\n\n<pre><code>name, a String\nheight (in inches), an int\nweight (in pounds), an int\nfreeThrowsAttempted, an int\nfreeThrowsMade, an int\ntwoPointFieldGoalsAttempted, an int\ntwoPointFfieldGoalsMade, an int\nthreePointersAttempted, an int\nthreePointersMade, an int\nturnovers, an int\nassists, an int\n</code></pre>\n\n<p>Include a constructor that creates instances of BasketballPlayer.  The constructor should have only 3 parameters: the value for name (a String) and the values for height and weight (ints).  It should set all the other fields to 0.</p>\n\n<p>Include the expected \"getters\" and \"setters\" for each of the statistical categories (free throw made/attempted, 3-pointer, assist, etc).  </p>\n\n<p>Also, include a getStats() method that returns a string formatted as follows:</p>\n\n<p>Name:  xxxxxxxxxxxxx</p>\n\n<p>Field Goal Percentage:    xxxxx.xx%</p>\n\n<p>3 Pointer Percentage:  xxxxx.xx%</p>\n\n<p>Free Throw Percentage:  xxxxx.xx%</p>\n\n<p>Assist-to-Turnover Ratio:   xxx.xx</p>\n\n<p>NOTE:  Field Goal Percentage is computed using total of two-point goals and 3-point goals.\n This is what I have so far</p>\n\n<pre><code> public class BasketballPlayer extends Team\n{\n  String name;\nint height;\nint weight;\nint freeThrowsAttempted;\nint freeThrowsMade;\nint twoPointFieldGoalsAttempted;\nint twoPointFieldGoalsMade;\nint threePointersAttempted;\nint threePointersMade;\nint turnovers;\nint assists;\npublic BasketballPlayer(){\n    this.name = null;\n    this.height = 0;\n    this.weight = 0;\n    }\n public BasketballPlayer(String name, int weight, int height){\n   this.name = name;\n   this.height = height;\n   this.weight = weight;}\npublic void setName(String aName){\nname = aName;}\npublic void setHeight(int aHeight){\nheight = aHeight;}\npublic void setWeight(int aWeight){\nweight = aWeight;}\nprivate void setFreeThrowsAttempted(int aFreeThrowsAttempted){\nfreeThrowsAttempted = aFreeThrowsAttempted;}\npublic void setFreeThrowsMade(int aFreeThrowsMade){\nfreeThrowsMade = aFreeThrowsMade;}\npublic void setTwoPointFieldGoalsAttempted(int aTwoPointFieldGoalsAttempted){\ntwoPointFieldGoalsAttempted = aTwoPointFieldGoalsAttempted;}\npublic void setTwoPointFieldGoalsMade(int aTwoPointFieldGoalsMade){\ntwoPointFieldGoalsMade = aTwoPointFieldGoalsMade;}\npublic void setThreePointersAttempted(int aThreePointersAttempted){\nthreePointersAttempted = aThreePointersAttempted;}\npublic void setThreePointersMade(int aThreePointersMade){\nthreePointersMade = aThreePointersMade;}\npublic void setTurnovers(int aTurnovers){\nturnovers = aTurnovers;}\npublic void setAssists(int aAssists){\nassists = aAssists;}\npublic String getName(){\n  return name;}\npublic int getHeight(){\n  return height;}\npublic int getWeight(){\n  return weight;}\npublic int getFreeThrowsAttempted(){\nreturn freeThrowsAttempted;}\npublic int getFreeThrowsMade(){\n    return freeThrowsMade;}\npublic int getTwoPointFieldGoalsAttempted(){\nreturn twoPointFieldGoalsAttempted;}\npublic int getTwoPointFieldGoalsMade(){\nreturn twoPointFieldGoalsMade;}\npublic int getThreePointersAttempted(){\nreturn threePointersAttempted;}\npublic int getThreePointersMade(){\nreturn threePointersMade;}\npublic int getTurnovers(){\nreturn turnovers;}\npublic int getAssists(){\nreturn assists;}\n\nint FGP = (twoPointFieldGoalsMade + threePointersMade / twoPointFieldGoalsAttempted + threePointersAttempted);\nint threePP = (threePointersMade / threePointersAttempted);\nint FTP = (freeThrowsMade / freeThrowsAttempted);\n\npublic int getStats(){\nreturn\nSystem.out.println(\"Name: \" + this.name);\nSystem.out.println(\"Field Goal Percentage: \" + FGP + \"%\");\nSystem.out.println(\"3 Pointer Percentage: \" + threePP + \"%\");\nSystem.out.println(\"Free Throw Percentage: \" + FTP + \"%\");\nSystem.out.println(\"Assist-to-Turnover Ratio: \" + (assists + \":\" + turnovers));}}\n</code></pre>\n"},{"tags":["java","concurrency","parallel-processing","forkjoinpool","recursivetask"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1665834799,"post_id":74079029,"comment_id":130794170,"body_markdown":"You should show a complete, runnable example which reproduces the issue. My guess is that the summations happen in a different order, causing a loss of precision, as intermediate values are larger in one of the cases.","body":"You should show a complete, runnable example which reproduces the issue. My guess is that the summations happen in a different order, causing a loss of precision, as intermediate values are larger in one of the cases."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1665851641,"post_id":74079029,"comment_id":130797763,"body_markdown":"When dealing with floating point numbers like `double`, the result very much depends on order of operation. So, when you parallelize, operations will occur in different order, with different combinations of numbers, slightly changing the outcomes, and with a large amount of numbers (why else would you parallelize), these small differences will compound.","body":"When dealing with floating point numbers like <code>double</code>, the result very much depends on order of operation. So, when you parallelize, operations will occur in different order, with different combinations of numbers, slightly changing the outcomes, and with a large amount of numbers (why else would you parallelize), these small differences will compound."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1665873701,"post_id":74079029,"comment_id":130801836,"body_markdown":"IMO, this question is not a duplicate of &quot;[Is Floating Point Math Broken](https://stackoverflow.com/q/588004/801894).&quot; That question asked why `0.1+0.2` prints out something other than just `&quot;0.3&quot;`, and the answers all swirl around the inability of a place-value number system to represent an arbitrary rational number in a finite number of digits. The true answer to _this_ question though must be about the limited precision of floating point numbers, and especially, about how precision is lost when adding floating point values with significantly different exponents.","body":"IMO, this question is not a duplicate of &quot;<a href=\"https://stackoverflow.com/q/588004/801894\">Is Floating Point Math Broken</a>.&quot; That question asked why <code>0.1+0.2</code> prints out something other than just <code>&quot;0.3&quot;</code>, and the answers all swirl around the inability of a place-value number system to represent an arbitrary rational number in a finite number of digits. The true answer to <i>this</i> question though must be about the limited precision of floating point numbers, and especially, about how precision is lost when adding floating point values with significantly different exponents."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665880454,"creation_date":1665880454,"answer_id":74083906,"question_id":74079029,"body_markdown":"I&#39;m guessing that you might be trying to sum a list of millions of numbers. You wrote a multi-threaded, divide-and-conquer routine that stops dividing when the list gets to be less than 100,000 long (`int&#160;min=100000;`) so if it&#39;s worth splitting the list in to chunks of that size, there must be at least a few of those chunks, right?\r\n\r\nSo, here&#39;s the issue: Let&#39;s say you want to add up a million numbers that are around the same order of magnitude. Maybe they&#39;re all readings from the same sensor. Let&#39;s say that the arithmetic mean of the whole list is X. If were to simply run down that list, from beginning to end, accumulating numbers,...\r\n\r\n* ...The expected value of the first sum is X+X,\r\n* ...of the next sum, X+2X\r\n* ...\r\n* ...of the last sum, X+999999X\r\n\r\nOK, but 999999X is six orders of magnitude greater than X. In binary floating point, the [exponent](https://en.wikipedia.org/wiki/Floating-point_arithmetic#Floating-point_numbers) of 999999X is going to be greater than the exponent of X by about 20. That is to say, the binary value of 999999X is approximately the value of X shifted left by 20 bits.\r\n\r\nIn order to [do the addition](https://en.wikipedia.org/wiki/Floating-point_arithmetic#Addition_and_subtraction) both numbers must have the _same_ exponent, and the way that is accomplished is to _denormalize_ X. If you shift the [mantissa](https://en.wikipedia.org/wiki/Floating-point_arithmetic#Floating-point_numbers) of X to the _right_ by 20 bits, and then you add 20 to its exponent, it should, in theory, still represent the same number. Only problem is, you&#39;ve just shifted away the 20 least-significant bits.\r\n\r\nIf you&#39;re using `double`, the original X had 54 bits of precision, but the de-normalized X that you can use in the addition only has 34 bits. If you&#39;re using `float`,\\* the original X had 23 bits, and the denormalized X has only _three_ bits of precision.\r\n\r\n-------------\r\n\r\nYour goal in writing your &quot;divide-and-conquer&quot; algorithm was to break the problem into tasks that could be given to different threads. But a side-effect was, you also got a more accurate answer. More accurate because, for each chunk, the last step is to compute X&#160;+&#160;99999X. The exponent mismatch there is only 16 or 17 bits instead of 19 or 20 bits. You threw away three fewer bits of precision.\r\n\r\nTo get the best possible precision, start by sorting the list—smallest numbers first. (NOTE: smallest means, closest to zero—least absolute value.) Then, remove the first two numbers from the list, add them, and insert the sum back into the list, in the correct place to keep the list sorted. (those inserts go a lot faster if you use a _linked_ list.) Finally, repeat those steps until the list contains only one number, and that&#39;s the most accurate sum you can get without using a wider data type.\r\n\r\n------------\r\n\r\n_Wider data type!!_ That&#39;s what you _really_ want. If you can accumulate your sum in an [IEEE Quad float](https://en.wikipedia.org/wiki/Quadruple-precision_floating-point_format), you&#39;ve got 112 bits of precision to work with. Adding up a million numbers? Lost 20 bits of precision? No problem! The 92 bits you&#39;ve got at the end still is more than the 54 bits in the doubles that you started with. You could literally add lists of a trillion numbers before you started to lose precision as compared to `double` floats.\r\n\r\nUsing a wider data type if you&#39;ve got one, will give you far better performance than the crazy sorted-list algorithm that I gave you above.\r\n\r\n-------------\r\n\r\n\\* Don&#39;t do math on `float` values. The only use for `float` is to save space in huge binary files and huge arrays. If you&#39;ve got an array of `float` and you want to do math on them, convert to `double`, do the math, and convert back to `float` when you&#39;re done.","title":"The results differ with parallel summation in Java","body":"<p>I'm guessing that you might be trying to sum a list of millions of numbers. You wrote a multi-threaded, divide-and-conquer routine that stops dividing when the list gets to be less than 100,000 long (<code>int min=100000;</code>) so if it's worth splitting the list in to chunks of that size, there must be at least a few of those chunks, right?</p>\n<p>So, here's the issue: Let's say you want to add up a million numbers that are around the same order of magnitude. Maybe they're all readings from the same sensor. Let's say that the arithmetic mean of the whole list is X. If were to simply run down that list, from beginning to end, accumulating numbers,...</p>\n<ul>\n<li>...The expected value of the first sum is X+X,</li>\n<li>...of the next sum, X+2X</li>\n<li>...</li>\n<li>...of the last sum, X+999999X</li>\n</ul>\n<p>OK, but 999999X is six orders of magnitude greater than X. In binary floating point, the <a href=\"https://en.wikipedia.org/wiki/Floating-point_arithmetic#Floating-point_numbers\" rel=\"nofollow noreferrer\">exponent</a> of 999999X is going to be greater than the exponent of X by about 20. That is to say, the binary value of 999999X is approximately the value of X shifted left by 20 bits.</p>\n<p>In order to <a href=\"https://en.wikipedia.org/wiki/Floating-point_arithmetic#Addition_and_subtraction\" rel=\"nofollow noreferrer\">do the addition</a> both numbers must have the <em>same</em> exponent, and the way that is accomplished is to <em>denormalize</em> X. If you shift the <a href=\"https://en.wikipedia.org/wiki/Floating-point_arithmetic#Floating-point_numbers\" rel=\"nofollow noreferrer\">mantissa</a> of X to the <em>right</em> by 20 bits, and then you add 20 to its exponent, it should, in theory, still represent the same number. Only problem is, you've just shifted away the 20 least-significant bits.</p>\n<p>If you're using <code>double</code>, the original X had 54 bits of precision, but the de-normalized X that you can use in the addition only has 34 bits. If you're using <code>float</code>,* the original X had 23 bits, and the denormalized X has only <em>three</em> bits of precision.</p>\n<hr />\n<p>Your goal in writing your &quot;divide-and-conquer&quot; algorithm was to break the problem into tasks that could be given to different threads. But a side-effect was, you also got a more accurate answer. More accurate because, for each chunk, the last step is to compute X + 99999X. The exponent mismatch there is only 16 or 17 bits instead of 19 or 20 bits. You threw away three fewer bits of precision.</p>\n<p>To get the best possible precision, start by sorting the list—smallest numbers first. (NOTE: smallest means, closest to zero—least absolute value.) Then, remove the first two numbers from the list, add them, and insert the sum back into the list, in the correct place to keep the list sorted. (those inserts go a lot faster if you use a <em>linked</em> list.) Finally, repeat those steps until the list contains only one number, and that's the most accurate sum you can get without using a wider data type.</p>\n<hr />\n<p><em>Wider data type!!</em> That's what you <em>really</em> want. If you can accumulate your sum in an <a href=\"https://en.wikipedia.org/wiki/Quadruple-precision_floating-point_format\" rel=\"nofollow noreferrer\">IEEE Quad float</a>, you've got 112 bits of precision to work with. Adding up a million numbers? Lost 20 bits of precision? No problem! The 92 bits you've got at the end still is more than the 54 bits in the doubles that you started with. You could literally add lists of a trillion numbers before you started to lose precision as compared to <code>double</code> floats.</p>\n<p>Using a wider data type if you've got one, will give you far better performance than the crazy sorted-list algorithm that I gave you above.</p>\n<hr />\n<p>* Don't do math on <code>float</code> values. The only use for <code>float</code> is to save space in huge binary files and huge arrays. If you've got an array of <code>float</code> and you want to do math on them, convert to <code>double</code>, do the math, and convert back to <code>float</code> when you're done.</p>\n"}],"owner":{"account_id":26630890,"reputation":1,"user_id":20248100,"display_name":"GangYeah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665880454,"creation_date":1665833377,"question_id":74079029,"body_markdown":"I made class Sum extends RecursiveTask. The task is to calculate sum of 1 / a[i]. \r\n\r\n    public class Sum extends RecursiveAction {\r\n        int[] items;\r\n        double result;\r\n        int min = 100000;\r\n        int from, to;\r\n    \r\n        Sum(int[] items, int from, int to) {\r\n            this.items = items;\r\n            this.from = from;\r\n            this.to = to;\r\n        }\r\n    \r\n        @Override\r\n        protected void compute() {\r\n            if (to - from &lt;= min) {\r\n                for (int i = from; i &lt; to; i++) {\r\n                    result += 1d / items[i];\r\n                }\r\n            } else {\r\n                var mid = (from + to) / 2;\r\n                var left = new Sum(items, from, mid);\r\n                var right = new Sum(items, mid, to);\r\n                invokeAll(left, right);\r\n                result += left.result + right.result;\r\n            }\r\n        }\r\n    }\r\n\r\nResults:\r\n\r\n    Single:   1.3180710500108106E8\r\n    Total time: 0.612\r\n    Parallel: 1.3180710501986596E8\r\n    Total time: 0.18 \r\n\r\nThe numbers are very close and differ by a small accuracy. What could this be related to? I noticed that if you remove 1 / a[i], it will be calculated correctly","title":"The results differ with parallel summation in Java","body":"<p>I made class Sum extends RecursiveTask. The task is to calculate sum of 1 / a[i].</p>\n<pre><code>public class Sum extends RecursiveAction {\n    int[] items;\n    double result;\n    int min = 100000;\n    int from, to;\n\n    Sum(int[] items, int from, int to) {\n        this.items = items;\n        this.from = from;\n        this.to = to;\n    }\n\n    @Override\n    protected void compute() {\n        if (to - from &lt;= min) {\n            for (int i = from; i &lt; to; i++) {\n                result += 1d / items[i];\n            }\n        } else {\n            var mid = (from + to) / 2;\n            var left = new Sum(items, from, mid);\n            var right = new Sum(items, mid, to);\n            invokeAll(left, right);\n            result += left.result + right.result;\n        }\n    }\n}\n</code></pre>\n<p>Results:</p>\n<pre><code>Single:   1.3180710500108106E8\nTotal time: 0.612\nParallel: 1.3180710501986596E8\nTotal time: 0.18 \n</code></pre>\n<p>The numbers are very close and differ by a small accuracy. What could this be related to? I noticed that if you remove 1 / a[i], it will be calculated correctly</p>\n"},{"tags":["java","matrix"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1417301087,"post_id":27207965,"comment_id":42897812,"body_markdown":"With a linear search (for example, iterating the matrix with a loop)?","body":"With a linear search (for example, iterating the matrix with a loop)?"}],"answers":[{"comments":[{"owner":{"account_id":5354142,"reputation":3,"user_id":4267378,"display_name":"Seran "},"score":0,"creation_date":1417301598,"post_id":27207992,"comment_id":42897950,"body_markdown":"Thank you for your answer.I am new around here so that I don&#39;t know ask questions in a proper way.","body":"Thank you for your answer.I am new around here so that I don&#39;t know ask questions in a proper way."},{"owner":{"account_id":2972927,"reputation":1413,"user_id":2524630,"display_name":"David.Jones"},"score":0,"creation_date":1417302049,"post_id":27207992,"comment_id":42898061,"body_markdown":"No problem! We were all new here once (I&#39;ve only been a member for 18 days). Did this solve your question? If so please feel free to upvote/accept my answer. This will give you a better approval rating which will persuade others to answer your questions in the future.","body":"No problem! We were all new here once (I&#39;ve only been a member for 18 days). Did this solve your question? If so please feel free to upvote/accept my answer. This will give you a better approval rating which will persuade others to answer your questions in the future."}],"tags":[],"owner":{"account_id":2972927,"reputation":1413,"user_id":2524630,"display_name":"David.Jones"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665880328,"creation_date":1417301331,"answer_id":27207992,"question_id":27207965,"body_markdown":"\r\n\r\n    int[][] matrix = new int[sizeX][sizeY]\r\n \r\n    for (int i = 0; i &lt; matrix.length; i++) {\r\n        for (int j = 0; j &lt; matrix[i].length; j++) {\r\n            //do matrix processing here with matrix[i][j]\r\n        }\r\n    }\r\n\r\n","title":"Without binarysearch,how can I do a search in matrix?","body":"<pre><code>int[][] matrix = new int[sizeX][sizeY]\n\nfor (int i = 0; i &lt; matrix.length; i++) {\n    for (int j = 0; j &lt; matrix[i].length; j++) {\n        //do matrix processing here with matrix[i][j]\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5354142,"reputation":3,"user_id":4267378,"display_name":"Seran "},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1417351108,"accepted_answer_id":27207992,"answer_count":1,"score":-4,"last_activity_date":1665880328,"creation_date":1417301055,"question_id":27207965,"body_markdown":"As I told in the title,how can I do that in Java ? Is that possible ?","title":"Without binarysearch,how can I do a search in matrix?","body":"<p>As I told in the title,how can I do that in Java ? Is that possible ?</p>\n"},{"tags":["java","linux","shell"],"comments":[{"owner":{"account_id":962030,"reputation":13691,"user_id":986169,"accept_rate":75,"display_name":"giorashc"},"score":0,"creation_date":1374228392,"post_id":17743430,"comment_id":25868481,"body_markdown":"is &quot;my class&quot; is a java file or a class file ?","body":"is &quot;my class&quot; is a java file or a class file ?"},{"owner":{"account_id":1649504,"reputation":31606,"user_id":1520364,"accept_rate":70,"display_name":"Karthik T"},"score":0,"creation_date":1374228403,"post_id":17743430,"comment_id":25868483,"body_markdown":"Did you compile it first? (`javac`)","body":"Did you compile it first? (<code>javac</code>)"},{"owner":{"account_id":1828131,"reputation":747,"user_id":1660325,"accept_rate":68,"display_name":"user1660325"},"score":0,"creation_date":1374228736,"post_id":17743430,"comment_id":25868680,"body_markdown":"i have compiled it in windows environment and uploaded the class file to linux system and com.util.Hello is .class file","body":"i have compiled it in windows environment and uploaded the class file to linux system and com.util.Hello is .class file"},{"owner":{"account_id":447475,"reputation":1,"user_id":841108,"accept_rate":61,"display_name":"Basile Starynkevitch"},"score":1,"creation_date":1374228826,"post_id":17743430,"comment_id":25868720,"body_markdown":"Where exactly is your `hello.class` file? Give it entire file path please, and edit your question to improve it...","body":"Where exactly is your <code>hello.class</code> file? Give it entire file path please, and edit your question to improve it..."}],"answers":[{"tags":[],"owner":{"account_id":2725528,"reputation":1293,"user_id":2350719,"accept_rate":100,"display_name":"L. Quastana"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1374228937,"creation_date":1374228937,"answer_id":17743644,"question_id":17743430,"body_markdown":"At first you must generate your .class file : \r\n\r\njavac ./hello.java\r\n\r\nThis command has generated hello.class file\r\nAnd after you can run your class file ! :) \r\n\r\njava hello\r\n\r\n","title":"Error: Could not find or load main class xxx Linux","body":"<p>At first you must generate your .class file : </p>\n\n<p>javac ./hello.java</p>\n\n<p>This command has generated hello.class file\nAnd after you can run your class file ! :) </p>\n\n<p>java hello</p>\n"},{"comments":[{"owner":{"account_id":1828131,"reputation":747,"user_id":1660325,"accept_rate":68,"display_name":"user1660325"},"score":0,"creation_date":1374229610,"post_id":17743645,"comment_id":25869142,"body_markdown":"i have copied class file into /home/scripts/com/util/ path and i tried this java -cp /home/scripts com.util.Hello but still same error is observed","body":"i have copied class file into /home/scripts/com/util/ path and i tried this java -cp /home/scripts com.util.Hello but still same error is observed"}],"tags":[],"owner":{"account_id":1653169,"reputation":9535,"user_id":1523342,"accept_rate":91,"display_name":"mthmulders"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374228938,"creation_date":1374228938,"answer_id":17743645,"question_id":17743430,"body_markdown":"Your `.class` file should not reside in `/home/scripts/`, but in `/home/scripts/com/util/`. Take a look at [this document](http://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html#Understanding) that explains the relation between classpath, packages and directories.","title":"Error: Could not find or load main class xxx Linux","body":"<p>Your <code>.class</code> file should not reside in <code>/home/scripts/</code>, but in <code>/home/scripts/com/util/</code>. Take a look at <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html#Understanding\" rel=\"nofollow\">this document</a> that explains the relation between classpath, packages and directories.</p>\n"},{"tags":[],"owner":{"account_id":39037,"reputation":12517,"user_id":112500,"accept_rate":94,"display_name":"Batakj"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1374230154,"creation_date":1374229847,"answer_id":17743942,"question_id":17743430,"body_markdown":"navigate to /home/scripts using terminal\r\n\r\n    javac com/util/Hello.java \r\n   \r\nthen\r\n\r\n    cd /home/scripts\r\n    java -cp . com.util.Hello\r\n\r\nOr,\r\n   \r\n    java -cp &quot;/home/scripts&quot; com.util.Hello   ","title":"Error: Could not find or load main class xxx Linux","body":"<p>navigate to /home/scripts using terminal</p>\n\n<pre><code>javac com/util/Hello.java \n</code></pre>\n\n<p>then</p>\n\n<pre><code>cd /home/scripts\njava -cp . com.util.Hello\n</code></pre>\n\n<p>Or,</p>\n\n<pre><code>java -cp \"/home/scripts\" com.util.Hello   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1815931,"reputation":27,"user_id":1651008,"display_name":"user1651008"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1665880267,"creation_date":1375963579,"answer_id":18125613,"question_id":17743430,"body_markdown":"if you want to run program in current working directory where your class reside.\r\n\r\njava gives three options.\r\n\r\nfirst option\r\n\r\njava -cp Tester\r\n\r\nSecond option for current working directory\r\n\r\njava -cp . Tester\r\n\r\nThird option export CLASSPATH variable\r\n\r\nexport CLASSPATH=$CLASSPATH:. (this is the best one if your directory changes) or\r\n\r\nexport CLASSPATH=$PWD\r\n\r\nor\r\n\r\nexport CLASSPATH=\r\n\r\nafter that you must sorce the bashrc or bashprofile.\r\n","title":"Error: Could not find or load main class xxx Linux","body":"<p>if you want to run program in current working directory where your class reside.</p>\n<p>java gives three options.</p>\n<p>first option</p>\n<p>java -cp Tester</p>\n<p>Second option for current working directory</p>\n<p>java -cp . Tester</p>\n<p>Third option export CLASSPATH variable</p>\n<p>export CLASSPATH=$CLASSPATH:. (this is the best one if your directory changes) or</p>\n<p>export CLASSPATH=$PWD</p>\n<p>or</p>\n<p>export CLASSPATH=</p>\n<p>after that you must sorce the bashrc or bashprofile.</p>\n"},{"tags":[],"owner":{"account_id":3371159,"reputation":21,"user_id":2830330,"display_name":"James Liu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380526852,"creation_date":1380526852,"answer_id":19088890,"question_id":17743430,"body_markdown":"We first know javac command work well.\r\n\r\nI also met this error,and i have resolved this.Let me share this.\r\n\r\nFirst we need to find the parent path of your package in your java codes.\r\n\r\nThen cd to that path using java package + fileName should work well at that moment.\r\n","title":"Error: Could not find or load main class xxx Linux","body":"<p>We first know javac command work well.</p>\n\n<p>I also met this error,and i have resolved this.Let me share this.</p>\n\n<p>First we need to find the parent path of your package in your java codes.</p>\n\n<p>Then cd to that path using java package + fileName should work well at that moment.</p>\n"},{"tags":[],"owner":{"account_id":3557535,"reputation":2460,"user_id":2970890,"accept_rate":71,"display_name":"Ascendant"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1391813819,"creation_date":1391813819,"answer_id":21639299,"question_id":17743430,"body_markdown":"I had the exact same issue on windows, and I solved it by adding path &quot;.&quot; to both CLASSPATH and PATH, maybe you can try this on Linux as well.","title":"Error: Could not find or load main class xxx Linux","body":"<p>I had the exact same issue on windows, and I solved it by adding path \".\" to both CLASSPATH and PATH, maybe you can try this on Linux as well.</p>\n"},{"tags":[],"owner":{"account_id":6999154,"reputation":132,"user_id":5365761,"accept_rate":50,"display_name":"Chaitanya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443325946,"creation_date":1443325946,"answer_id":32804399,"question_id":17743430,"body_markdown":"Before Specifying the path,ensure you follow these three things meticulously,\r\n1. **Close the *command prompt window*, before specifying the path.\r\n2. When *adding path, add bin and semi- colon at the end*  and\r\n3. If JAVAC command has worked properly, try java -cp class name.**","title":"Error: Could not find or load main class xxx Linux","body":"<p>Before Specifying the path,ensure you follow these three things meticulously,\n1. <strong>Close the <em>command prompt window</em>, before specifying the path.\n2. When <em>adding path, add bin and semi- colon at the end</em>  and\n3. If JAVAC command has worked properly, try java -cp class name.</strong></p>\n"}],"owner":{"account_id":1828131,"reputation":747,"user_id":1660325,"accept_rate":68,"display_name":"user1660325"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64632,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":17743942,"answer_count":7,"score":13,"last_activity_date":1665880267,"creation_date":1374228330,"question_id":17743430,"body_markdown":"I am very new to linux environment.\r\n\r\nI am trying to run an simple hello world java class in linux environment.\r\n\r\nHello .java\r\n===========\r\n\r\n\r\n     package com.util;\r\n        \r\n        public class Hello {\r\n        \r\n        \t/**\r\n        \t * @param args\r\n        \t */\r\n        \tpublic static void main(String[] args) {\r\n        \t\tSystem.out.println(&quot;hi&quot;);\r\n        \r\n        \t}\r\n    \r\n        }\r\n\r\n\t\r\nI have compiled java class in windows environment and uploaded the .class file to linux system into /home/scripts path.\r\n\r\nmy command is as follows,\r\n\r\n    java -cp /home/scripts com.util.Hello\r\n\r\nwhen i am executing this command from this same /home/scripts where Hello.class is there i am getting,\r\n\r\nError: Could not find or load main class com.util.Hello and not able to proceed further.\r\n\r\ncan some one help me in this issue?","title":"Error: Could not find or load main class xxx Linux","body":"<p>I am very new to linux environment.</p>\n\n<p>I am trying to run an simple hello world java class in linux environment.</p>\n\n<h1>Hello .java</h1>\n\n<pre><code> package com.util;\n\n    public class Hello {\n\n        /**\n         * @param args\n         */\n        public static void main(String[] args) {\n            System.out.println(\"hi\");\n\n        }\n\n    }\n</code></pre>\n\n<p>I have compiled java class in windows environment and uploaded the .class file to linux system into /home/scripts path.</p>\n\n<p>my command is as follows,</p>\n\n<pre><code>java -cp /home/scripts com.util.Hello\n</code></pre>\n\n<p>when i am executing this command from this same /home/scripts where Hello.class is there i am getting,</p>\n\n<p>Error: Could not find or load main class com.util.Hello and not able to proceed further.</p>\n\n<p>can some one help me in this issue?</p>\n"},{"tags":["java","apache-spark","java-pair-rdd"],"answers":[{"tags":[],"owner":{"account_id":12822272,"reputation":1463,"user_id":19625832,"display_name":"vilalabinot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665879244,"creation_date":1665879244,"answer_id":74083845,"question_id":74082560,"body_markdown":"Let&#39;s say you have these `RDD&lt;Int,Int&gt;` tuples:\r\n\r\n```\r\n(4,5)\r\n(1,7)\r\n(1,3)\r\n(3,4)\r\n(2,3)\r\n(1,2)\r\n```\r\n\r\nFrom what I understood, you want to count how many times `key` is repeated, therefore the result should be something like this:\r\n\r\n```\r\n1, 3\r\n2, 1\r\n3, 1\r\n4, 1\r\n```\r\n\r\nIf this is what you want, you can do it through:\r\n\r\n```\r\nmedia.map(x =&gt; x._1).countByValue()\r\n```\r\n\r\nGood luck!","title":"How to count instances of a key in a JavaPairRDD Java Spark","body":"<p>Let's say you have these <code>RDD&lt;Int,Int&gt;</code> tuples:</p>\n<pre><code>(4,5)\n(1,7)\n(1,3)\n(3,4)\n(2,3)\n(1,2)\n</code></pre>\n<p>From what I understood, you want to count how many times <code>key</code> is repeated, therefore the result should be something like this:</p>\n<pre><code>1, 3\n2, 1\n3, 1\n4, 1\n</code></pre>\n<p>If this is what you want, you can do it through:</p>\n<pre><code>media.map(x =&gt; x._1).countByValue()\n</code></pre>\n<p>Good luck!</p>\n"}],"owner":{"account_id":26634554,"reputation":1,"user_id":20251218,"display_name":"user20020"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665879244,"creation_date":1665863731,"question_id":74082560,"body_markdown":"To elaborate on what I&#39;m stuck on or unsure of how to approach, I currently have a JavaPairRDD &quot;media&quot; that contains two integer values, an followed id and a follower id. What I&#39;m trying to do is count the number of times the key integer (followed id) appears in &quot;media&quot;. The problem is that each key&#39;s value is another id and not simply the value 1. That being said, what I have attempted to do is use .mapToPair and extracting the key value to create a new tuple2&lt;&gt;(p._1, 1), where each key will now hold the value 1 to make the process of counting easier. I then follow this up using reduceByKey(), but I keep getting an error and I&#39;m not too sure how to return the new JavaPairRDD as &lt;id, count&gt;. Attached is some code I have written up to this point:\r\n\r\n```\r\nJavaPairRDD&lt;Integer, Integer&gt; socials = \r\n     media.mapToPair(p -&gt; new Tuple2&lt;&gt;(p._1, 1))\r\n     .reduceByKey(p2 -&gt; p._1 + p._2);\r\n```","title":"How to count instances of a key in a JavaPairRDD Java Spark","body":"<p>To elaborate on what I'm stuck on or unsure of how to approach, I currently have a JavaPairRDD &quot;media&quot; that contains two integer values, an followed id and a follower id. What I'm trying to do is count the number of times the key integer (followed id) appears in &quot;media&quot;. The problem is that each key's value is another id and not simply the value 1. That being said, what I have attempted to do is use .mapToPair and extracting the key value to create a new tuple2&lt;&gt;(p._1, 1), where each key will now hold the value 1 to make the process of counting easier. I then follow this up using reduceByKey(), but I keep getting an error and I'm not too sure how to return the new JavaPairRDD as &lt;id, count&gt;. Attached is some code I have written up to this point:</p>\n<pre><code>JavaPairRDD&lt;Integer, Integer&gt; socials = \n     media.mapToPair(p -&gt; new Tuple2&lt;&gt;(p._1, 1))\n     .reduceByKey(p2 -&gt; p._1 + p._2);\n</code></pre>\n"},{"tags":["java","linked-list","runtime"],"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1665869939,"post_id":74082938,"comment_id":130801360,"body_markdown":"&quot;Can you optimize this code, except, you can&#39;t change anything&quot;. Obviously, there is possible way to answer this question. You can make this process the file in a few milliseconds, _if_ we can get rid of the silly data structure usage here. Why do you say _ I understand that linked list is not the best way to go, but it is my only choice._ ? This question needs way more context. If it was just: I want this, but faster - easy. But it&#39;s some weird mix of: &quot;I want this, but faster, but there are nebulously stated bizarro requirements&quot;.","body":"&quot;Can you optimize this code, except, you can&#39;t change anything&quot;. Obviously, there is possible way to answer this question. You can make this process the file in a few milliseconds, <i>if</i> we can get rid of the silly data structure usage here. Why do you say _ I understand that linked list is not the best way to go, but it is my only choice._ ? This question needs way more context. If it was just: I want this, but faster - easy. But it&#39;s some weird mix of: &quot;I want this, but faster, but there are nebulously stated bizarro requirements&quot;."},{"owner":{"account_id":21245087,"reputation":1,"user_id":15627884,"display_name":"blurpex"},"score":0,"creation_date":1665872139,"post_id":74082938,"comment_id":130801668,"body_markdown":"Because my assignment is to use linked list, I just want to go above and beyond.","body":"Because my assignment is to use linked list, I just want to go above and beyond."},{"owner":{"account_id":4739822,"reputation":517,"user_id":3832994,"accept_rate":0,"display_name":"Danyial Shahid Ali"},"score":0,"creation_date":1665904221,"post_id":74082938,"comment_id":130804883,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665878394,"creation_date":1665878394,"answer_id":74083803,"question_id":74082938,"body_markdown":"The obv. part is to use a Map for this problem. Its made for this.\r\n\r\nIf you really only are able to use a LinkedList, you could sort the input values and then you can just iterate over the list a single time and count these words until you get a different word:\r\n\r\ninput:\r\n\r\nB A F O B O R B \r\n\r\nsort:\r\n\r\nA B B B F R O O\r\n\r\niterating and counting:\r\n\r\nA=1 B=3 F=1 R=1 O=2\r\n","title":"Linked-List: How to reduce execution time?","body":"<p>The obv. part is to use a Map for this problem. Its made for this.</p>\n<p>If you really only are able to use a LinkedList, you could sort the input values and then you can just iterate over the list a single time and count these words until you get a different word:</p>\n<p>input:</p>\n<p>B A F O B O R B</p>\n<p>sort:</p>\n<p>A B B B F R O O</p>\n<p>iterating and counting:</p>\n<p>A=1 B=3 F=1 R=1 O=2</p>\n"}],"owner":{"account_id":21245087,"reputation":1,"user_id":15627884,"display_name":"blurpex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665878394,"creation_date":1665867082,"question_id":74082938,"body_markdown":"I am making a word suggestion program where a user enters a word and I display relevant next words. I am generating the words from a novel, first I delete words that do not add much meaning, then I insert pair of words into a linked list and give them an `order` of how many time they appear. If there is a duplicate pair of word, I increase the `order` and skip over them. My biggest issue is time complexity, I have already managed to cut running time from 30 minutes to 12 minutes with a 3MB .txt file, but I want to go further. From my understanding `if(myList.contains(prevWord, currWord));` is taking the most time.\r\n\r\n```java\r\nwhile(stopScan.hasNext()) {\r\n     stopWord.add(stopScan.next());\r\n}\r\nString prevWord = textScan.next().toLowerCase().replaceAll(&quot;[^a-z ]&quot;, &quot;&quot;), currWord = &quot;&quot;;\r\nwhile(textScan.hasNext()) {\r\n     while(stopWord.contains(prevWord)) {\r\n          prevWord = textScan.next().toLowerCase().replaceAll(&quot;[^a-z ]&quot;, &quot;&quot;);\r\n     }\r\n     currWord = textScan.next().toLowerCase().replaceAll(&quot;[^a-z ]&quot;, &quot;&quot;);\r\n     while(stopWord.contains(currWord)) {\r\n          currWord = textScan.next().toLowerCase().replaceAll(&quot;[^a-z ]&quot;, &quot;&quot;);\r\n     }\r\n     if(myList.contains(prevWord, currWord));\r\n     else myList.insertTail(prevWord, currWord);\r\n     prevWord = currWord;\r\n}\r\nmyList.sort();\r\n```\r\n\r\n```java\r\nboolean contains(T wordOne, T wordTwo) {\r\n     Node&lt;T&gt; temp = head;\r\n     while(temp != null) {\r\n          if(temp.wordOne.equals(wordOne) &amp;&amp; temp.wordTwo.equals(wordTwo)) {\r\n               temp.order++;\r\n               return true;\r\n          }\r\n          temp = temp.next;\r\n     }\r\n     return false;\r\n}\r\n```\r\n\r\n```java\r\nvoid sort() {\r\n     Node&lt;T&gt; temp = head;\r\n     while(temp!=null) {\r\n          if(temp.prev!=null &amp;&amp; temp.order&gt;temp.prev.order) {\r\n               swap(temp, temp.prev);\r\n               temp = temp.prev;\r\n          }\r\n          else temp = temp.next;\r\n        }\r\n    }\r\n```\r\n\r\nAlso, I am implementing my own linked list except for storing words that do not add much meaning. I understand that linked list is not the best way to go, but it is my only choice. Thankyou!","title":"Linked-List: How to reduce execution time?","body":"<p>I am making a word suggestion program where a user enters a word and I display relevant next words. I am generating the words from a novel, first I delete words that do not add much meaning, then I insert pair of words into a linked list and give them an <code>order</code> of how many time they appear. If there is a duplicate pair of word, I increase the <code>order</code> and skip over them. My biggest issue is time complexity, I have already managed to cut running time from 30 minutes to 12 minutes with a 3MB .txt file, but I want to go further. From my understanding <code>if(myList.contains(prevWord, currWord));</code> is taking the most time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>while(stopScan.hasNext()) {\n     stopWord.add(stopScan.next());\n}\nString prevWord = textScan.next().toLowerCase().replaceAll(&quot;[^a-z ]&quot;, &quot;&quot;), currWord = &quot;&quot;;\nwhile(textScan.hasNext()) {\n     while(stopWord.contains(prevWord)) {\n          prevWord = textScan.next().toLowerCase().replaceAll(&quot;[^a-z ]&quot;, &quot;&quot;);\n     }\n     currWord = textScan.next().toLowerCase().replaceAll(&quot;[^a-z ]&quot;, &quot;&quot;);\n     while(stopWord.contains(currWord)) {\n          currWord = textScan.next().toLowerCase().replaceAll(&quot;[^a-z ]&quot;, &quot;&quot;);\n     }\n     if(myList.contains(prevWord, currWord));\n     else myList.insertTail(prevWord, currWord);\n     prevWord = currWord;\n}\nmyList.sort();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>boolean contains(T wordOne, T wordTwo) {\n     Node&lt;T&gt; temp = head;\n     while(temp != null) {\n          if(temp.wordOne.equals(wordOne) &amp;&amp; temp.wordTwo.equals(wordTwo)) {\n               temp.order++;\n               return true;\n          }\n          temp = temp.next;\n     }\n     return false;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>void sort() {\n     Node&lt;T&gt; temp = head;\n     while(temp!=null) {\n          if(temp.prev!=null &amp;&amp; temp.order&gt;temp.prev.order) {\n               swap(temp, temp.prev);\n               temp = temp.prev;\n          }\n          else temp = temp.next;\n        }\n    }\n</code></pre>\n<p>Also, I am implementing my own linked list except for storing words that do not add much meaning. I understand that linked list is not the best way to go, but it is my only choice. Thankyou!</p>\n"},{"tags":["java","xml","android","database","database-design"],"answers":[{"comments":[{"owner":{"account_id":44851,"reputation":14892,"user_id":131871,"accept_rate":55,"display_name":"CodeFusionMobile"},"score":0,"creation_date":1276815877,"post_id":3066109,"comment_id":3140681,"body_markdown":"This is what I do already.  I have each list and then each note in that list as an element of that list.  My problem isn&#39;t duplicate notes, it&#39;s the loss of information when I lose the many-to-many relationship.","body":"This is what I do already.  I have each list and then each note in that list as an element of that list.  My problem isn&#39;t duplicate notes, it&#39;s the loss of information when I lose the many-to-many relationship."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1276817667,"post_id":3066109,"comment_id":3140808,"body_markdown":"@CSharperWithJava: I don&#39;t understand what information you&#39;re losing.  Any notes child can have more than one list parent.  That notes child would be listed as a child of all of the lists that it has a relationship with.","body":"@CSharperWithJava: I don&#39;t understand what information you&#39;re losing.  Any notes child can have more than one list parent.  That notes child would be listed as a child of all of the lists that it has a relationship with."},{"owner":{"account_id":44851,"reputation":14892,"user_id":131871,"accept_rate":55,"display_name":"CodeFusionMobile"},"score":0,"creation_date":1276827011,"post_id":3066109,"comment_id":3141346,"body_markdown":"I can&#39;t assume that two identical note elements are in fact the same note.  In your example, both noteB&#39;s could be the same note in both lists, while noteC is in fact two different notes.","body":"I can&#39;t assume that two identical note elements are in fact the same note.  In your example, both noteB&#39;s could be the same note in both lists, while noteC is in fact two different notes."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1276844832,"post_id":3066109,"comment_id":3142318,"body_markdown":"@CSharperWithJava:  I only put a name attribute in my example.  If you list all of the columns of your table as attributes of an element, then you can&#39;t have &quot;two different noteC&#39;s&quot;.","body":"@CSharperWithJava:  I only put a name attribute in my example.  If you list all of the columns of your table as attributes of an element, then you can&#39;t have &quot;two different noteC&#39;s&quot;."},{"owner":{"account_id":44851,"reputation":14892,"user_id":131871,"accept_rate":55,"display_name":"CodeFusionMobile"},"score":0,"creation_date":1276950596,"post_id":3066109,"comment_id":3151389,"body_markdown":"All the columns of my table could be identical as well, but still be two separate Notes","body":"All the columns of my table could be identical as well, but still be two separate Notes"}],"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1276817995,"creation_date":1276813399,"answer_id":3066109,"question_id":3066024,"body_markdown":"The only way I can think of to truly represent a many-to-many relationship in an XML, or any other hierarchical structure, is to use many one-to-many relationships.\r\n\r\nHere&#39;s a simple example:\r\n\r\n    &lt;list name=&quot;listA&quot;&gt;\r\n        &lt;notes name=&quot;noteA&quot; /&gt;\r\n        &lt;notes name=&quot;noteB&quot; /&gt;\r\n        &lt;notes name=&quot;noteC&quot; /&gt;\r\n    &lt;/list&gt;\r\n    &lt;list name=&quot;listB&quot;&gt;\r\n        &lt;notes name=&quot;noteB&quot; /&gt;\r\n        &lt;notes name=&quot;noteC&quot; /&gt;\r\n        &lt;notes name=&quot;noteD&quot; /&gt;\r\n    &lt;/list&gt;\r\n\r\nIn other words, each list would have its notes as child nodes.\r\n\r\nMany of the notes child nodes would be duplicated in the XML file.  The process that populates the database from the XML file would have to take duplicate notes child nodes into account.\r\n\r\nThe other alternative is to pick one list for each of the notes.  A note would be the child node of only one of the lists.  The advantage is that there aren&#39;t any duplicate notes.  The disadvantage is that the XML file does not represent the note to list relationships properly, which may or may not be important.","title":"How to represent a Many-To-Many relationship in XML or other simple file format?","body":"<p>The only way I can think of to truly represent a many-to-many relationship in an XML, or any other hierarchical structure, is to use many one-to-many relationships.</p>\n\n<p>Here's a simple example:</p>\n\n<pre><code>&lt;list name=\"listA\"&gt;\n    &lt;notes name=\"noteA\" /&gt;\n    &lt;notes name=\"noteB\" /&gt;\n    &lt;notes name=\"noteC\" /&gt;\n&lt;/list&gt;\n&lt;list name=\"listB\"&gt;\n    &lt;notes name=\"noteB\" /&gt;\n    &lt;notes name=\"noteC\" /&gt;\n    &lt;notes name=\"noteD\" /&gt;\n&lt;/list&gt;\n</code></pre>\n\n<p>In other words, each list would have its notes as child nodes.</p>\n\n<p>Many of the notes child nodes would be duplicated in the XML file.  The process that populates the database from the XML file would have to take duplicate notes child nodes into account.</p>\n\n<p>The other alternative is to pick one list for each of the notes.  A note would be the child node of only one of the lists.  The advantage is that there aren't any duplicate notes.  The disadvantage is that the XML file does not represent the note to list relationships properly, which may or may not be important.</p>\n"},{"comments":[{"owner":{"account_id":13841,"reputation":16201,"user_id":28006,"accept_rate":83,"display_name":"Godeke"},"score":1,"creation_date":1276814726,"post_id":3066115,"comment_id":3140585,"body_markdown":"The final suggestion here is how relational databases would do it: you define two tables, &quot;notes&quot; and &quot;lists&quot; and then a join table with &quot;noteId&quot;, &quot;listId&quot; as the primary key (and likely only data). \n\nThe problem here is that most XML based solutions will make such things harder to query that a relational database would. If I was forced to use XML I would stick with the &quot;note_ref&quot; approach (assuming that lists drive the display and the notes are something you could keep in memory). \n\nOtherwise I would switch to a database and join tables. XML is great for some things, but not every thing.","body":"The final suggestion here is how relational databases would do it: you define two tables, &quot;notes&quot; and &quot;lists&quot; and then a join table with &quot;noteId&quot;, &quot;listId&quot; as the primary key (and likely only data).   The problem here is that most XML based solutions will make such things harder to query that a relational database would. If I was forced to use XML I would stick with the &quot;note_ref&quot; approach (assuming that lists drive the display and the notes are something you could keep in memory).   Otherwise I would switch to a database and join tables. XML is great for some things, but not every thing."},{"owner":{"account_id":44851,"reputation":14892,"user_id":131871,"accept_rate":55,"display_name":"CodeFusionMobile"},"score":0,"creation_date":1276815756,"post_id":3066115,"comment_id":3140666,"body_markdown":"@Godeke The data is stored in a relational database already.  This is simply an exported file format.","body":"@Godeke The data is stored in a relational database already.  This is simply an exported file format."},{"owner":{"account_id":13841,"reputation":16201,"user_id":28006,"accept_rate":83,"display_name":"Godeke"},"score":0,"creation_date":1276893004,"post_id":3066115,"comment_id":3148294,"body_markdown":"@CSharperWithJava In that case 99% of my comment is mooted and I will simply agree that the Note_Ref approach above will allow you to ensure you don&#39;t lose the detail structure of the original (the fact notes were singular entities that were linked to).","body":"@CSharperWithJava In that case 99% of my comment is mooted and I will simply agree that the Note_Ref approach above will allow you to ensure you don&#39;t lose the detail structure of the original (the fact notes were singular entities that were linked to)."}],"tags":[],"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1276814489,"creation_date":1276813454,"answer_id":3066115,"question_id":3066024,"body_markdown":"I think your XML format must make use of some sort of &quot;references&quot;. If you prefer the list-to-notes relationship to be visible, then something like the following can be suitable:\r\n\r\n    &lt;notes&gt;\r\n        &lt;note id=&quot;Note1&quot;&gt; ... &lt;/note&gt;\r\n        &lt;note id=&quot;Note2&quot;&gt; ... &lt;/note&gt;\r\n        ...\r\n    &lt;/notes&gt;\r\n    \r\n    &lt;lists&gt;\r\n        &lt;list id=&quot;List1&quot;&gt;\r\n            &lt;note_refs&gt;\r\n                &lt;note_ref id=&quot;Note1&quot;/&gt;\r\n                &lt;note_ref id=&quot;Note4&quot;/&gt;\r\n            &lt;/note_refs&gt;\r\n        &lt;/list&gt;\r\n        ...\r\n    &lt;/lists&gt;\r\n\r\nIf on the other hand you want to see easily the lists associated with a given note, then you can simply invert the roles of lists and notes in my example.\r\n\r\nAlternatively, you can represent the many-to-many relationship more symmetrically as a mathematical relation: define all notes, define all lists, and then define a mapping consisting of [list reference, note reference] pairs.","title":"How to represent a Many-To-Many relationship in XML or other simple file format?","body":"<p>I think your XML format must make use of some sort of \"references\". If you prefer the list-to-notes relationship to be visible, then something like the following can be suitable:</p>\n\n<pre><code>&lt;notes&gt;\n    &lt;note id=\"Note1\"&gt; ... &lt;/note&gt;\n    &lt;note id=\"Note2\"&gt; ... &lt;/note&gt;\n    ...\n&lt;/notes&gt;\n\n&lt;lists&gt;\n    &lt;list id=\"List1\"&gt;\n        &lt;note_refs&gt;\n            &lt;note_ref id=\"Note1\"/&gt;\n            &lt;note_ref id=\"Note4\"/&gt;\n        &lt;/note_refs&gt;\n    &lt;/list&gt;\n    ...\n&lt;/lists&gt;\n</code></pre>\n\n<p>If on the other hand you want to see easily the lists associated with a given note, then you can simply invert the roles of lists and notes in my example.</p>\n\n<p>Alternatively, you can represent the many-to-many relationship more symmetrically as a mathematical relation: define all notes, define all lists, and then define a mapping consisting of [list reference, note reference] pairs.</p>\n"},{"tags":[],"owner":{"account_id":42317,"reputation":3593,"user_id":123248,"accept_rate":86,"display_name":"William Pietri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1276813764,"creation_date":1276813764,"answer_id":3066133,"question_id":3066024,"body_markdown":"My first step would be something simple:\r\n\r\n    &lt;notes&gt;\r\n      &lt;note&gt;\r\n        &lt;title&gt;Groceries to get&lt;/title&gt;\r\n        &lt;list&gt;shopping&lt;/list&gt;\r\n        &lt;list&gt;urgent&lt;/list&gt;\r\n        &lt;body&gt;eggs, cheese, milk&lt;/body&gt;\r\n      &lt;/note&gt;\r\n    &lt;/notes&gt;\r\n\r\nWould that fit your needs? ","title":"How to represent a Many-To-Many relationship in XML or other simple file format?","body":"<p>My first step would be something simple:</p>\n\n<pre><code>&lt;notes&gt;\n  &lt;note&gt;\n    &lt;title&gt;Groceries to get&lt;/title&gt;\n    &lt;list&gt;shopping&lt;/list&gt;\n    &lt;list&gt;urgent&lt;/list&gt;\n    &lt;body&gt;eggs, cheese, milk&lt;/body&gt;\n  &lt;/note&gt;\n&lt;/notes&gt;\n</code></pre>\n\n<p>Would that fit your needs? </p>\n"},{"tags":[],"owner":{"account_id":10305,"reputation":95008,"user_id":19403,"accept_rate":59,"display_name":"Robert Rossney"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665878127,"creation_date":1276888057,"answer_id":3072417,"question_id":3066024,"body_markdown":"In a database, the tool for representing many-to-many relationships is an association table.  Each row in the table represents an association between two objects.  Thus if a note with an ID of 1 appears in lists with IDs of 1, 2, and 3, there would be three rows in the association table:\r\n\r\n     ID  NoteID  ListID\r\n     --  ------  ------\r\n      1       1       1\r\n      2       1       2\r\n      3       1       3\r\n\r\nYou can get a note and all of its related lists with a query like this:\r\n\r\n    SELECT [columns] FROM Association\r\n       JOIN Notes ON Note.ID = Association.NoteID\r\n       JOIN Lists ON List.ID = Association.ListID\r\n    WHERE Association.NoteID = @NoteID\r\n\r\nAnd all the notes for a list:\r\n\r\n    SELECT [columns] FROM Association\r\n       JOIN Notes ON Note.ID = Association.NoteID\r\n       JOIN Lists ON List.ID = Association.ListID\r\n    WHERE Association.ListID = @ListID\r\n\r\nThat&#39;s how you&#39;d represent it in XML:\r\n\r\n    &lt;Lists&gt;\r\n      &lt;List ID=&#39;1&#39;&gt;...&lt;/List&gt;\r\n      &lt;List ID=&#39;2&#39;&gt;...&lt;/List&gt;\r\n      &lt;List ID=&#39;3&#39;&gt;...&lt;/List&gt;\r\n      ...\r\n    &lt;Lists&gt;  \r\n    &lt;Notes&gt;\r\n      &lt;Note ID=&#39;1&#39;&gt;...&lt;/Note&gt;\r\n    &lt;/Notes&gt;\r\n    &lt;Associations&gt;\r\n       &lt;Association ID=&#39;1&#39; NoteID=&#39;1&#39; ListID=&#39;1&#39;/&gt;\r\n       &lt;Association ID=&#39;2&#39; NoteID=&#39;1&#39; ListID=&#39;2&#39;/&gt;\r\n       &lt;Association ID=&#39;3&#39; NoteID=&#39;1&#39; ListID=&#39;3&#39;/&gt;\r\n    &lt;/Associations&gt;\r\n\r\nIn, XSLT, you could access this association like this:\r\n&lt;!-- language: xslt --&gt;\r\n    &lt;xsl:template match=&quot;List&quot; mode=&quot;AssociatedNotes&quot;&gt;\r\n       &lt;xsl:variable name=&quot;Associations&quot; select=&quot;/*/Associations/Association[@ListID=current()/@ID]&quot;/&gt;\r\n       &lt;xsl:apply-templates select=&quot;/*/Notes[@ID=$Associations/@NoteID]&quot;/&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\n    &lt;xsl:template match=&quot;Note&quot; mode=&quot;AssociatedLists&quot;&gt;\r\n       &lt;xsl:variable name=&quot;Associations&quot;  select=&quot;/*/Associations/Association[@NoteID=current()/@ID]&quot;/&gt;\r\n       &lt;xsl:apply-templates select=&quot;/*/Lists[@ID=$Associations/@ListID]&quot;/&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\n(Note the use of the `mode` attribute to keep these templates from calling each other until you get a stack overflow.)","title":"How to represent a Many-To-Many relationship in XML or other simple file format?","body":"<p>In a database, the tool for representing many-to-many relationships is an association table.  Each row in the table represents an association between two objects.  Thus if a note with an ID of 1 appears in lists with IDs of 1, 2, and 3, there would be three rows in the association table:</p>\n<pre><code> ID  NoteID  ListID\n --  ------  ------\n  1       1       1\n  2       1       2\n  3       1       3\n</code></pre>\n<p>You can get a note and all of its related lists with a query like this:</p>\n<pre><code>SELECT [columns] FROM Association\n   JOIN Notes ON Note.ID = Association.NoteID\n   JOIN Lists ON List.ID = Association.ListID\nWHERE Association.NoteID = @NoteID\n</code></pre>\n<p>And all the notes for a list:</p>\n<pre><code>SELECT [columns] FROM Association\n   JOIN Notes ON Note.ID = Association.NoteID\n   JOIN Lists ON List.ID = Association.ListID\nWHERE Association.ListID = @ListID\n</code></pre>\n<p>That's how you'd represent it in XML:</p>\n<pre><code>&lt;Lists&gt;\n  &lt;List ID='1'&gt;...&lt;/List&gt;\n  &lt;List ID='2'&gt;...&lt;/List&gt;\n  &lt;List ID='3'&gt;...&lt;/List&gt;\n  ...\n&lt;Lists&gt;  \n&lt;Notes&gt;\n  &lt;Note ID='1'&gt;...&lt;/Note&gt;\n&lt;/Notes&gt;\n&lt;Associations&gt;\n   &lt;Association ID='1' NoteID='1' ListID='1'/&gt;\n   &lt;Association ID='2' NoteID='1' ListID='2'/&gt;\n   &lt;Association ID='3' NoteID='1' ListID='3'/&gt;\n&lt;/Associations&gt;\n</code></pre>\n<p>In, XSLT, you could access this association like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xsl:template match=&quot;List&quot; mode=&quot;AssociatedNotes&quot;&gt;\n   &lt;xsl:variable name=&quot;Associations&quot; select=&quot;/*/Associations/Association[@ListID=current()/@ID]&quot;/&gt;\n   &lt;xsl:apply-templates select=&quot;/*/Notes[@ID=$Associations/@NoteID]&quot;/&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template match=&quot;Note&quot; mode=&quot;AssociatedLists&quot;&gt;\n   &lt;xsl:variable name=&quot;Associations&quot;  select=&quot;/*/Associations/Association[@NoteID=current()/@ID]&quot;/&gt;\n   &lt;xsl:apply-templates select=&quot;/*/Lists[@ID=$Associations/@ListID]&quot;/&gt;\n&lt;/xsl:template&gt;\n</code></pre>\n<p>(Note the use of the <code>mode</code> attribute to keep these templates from calling each other until you get a stack overflow.)</p>\n"},{"tags":[],"owner":{"account_id":2468530,"reputation":188,"user_id":2151019,"accept_rate":75,"display_name":"Andrew Miller"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398092579,"creation_date":1398091526,"answer_id":23199694,"question_id":3066024,"body_markdown":"Just do it simply like this:\r\n\r\n    &lt;notes&gt;\r\n    \t&lt;note id=&quot;1&quot;&gt;\r\n    \t\t&lt;name&gt;George&lt;/name&gt;\r\n    \t\t&lt;text&gt;1984&lt;/text&gt;\r\n    \t\t&lt;notesLinks&gt;\r\n    \t\t\t&lt;listId id=&quot;1&quot;/&gt;\r\n    \t\t&lt;/notesLinks&gt;\r\n    \t&lt;/note&gt;\r\n    \t&lt;note id=&quot;2&quot;&gt;\r\n    \t\t&lt;name&gt;George&lt;/name&gt;\r\n    \t\t&lt;text&gt;animal farm&lt;/text&gt;\r\n    \t\t&lt;notesLinks&gt;&lt;/notesLinks&gt;\r\n    \t&lt;/note&gt;\r\n    &lt;/notes&gt;\r\n    &lt;lists&gt;\r\n    \t&lt;list id=&quot;1&quot;&gt;\r\n    \t\t&lt;notesLinks&gt;\r\n    \t\t\t&lt;noteId id=&quot;1&quot;/&gt;\r\n    \t\t\t&lt;noteId id=&quot;2&quot;/&gt;\r\n    \t\t&lt;/notesLinks&gt;\r\n    \t\t&lt;name&gt;some info&lt;/name&gt;\r\n    \t&lt;/list&gt;\r\n    &lt;/lists&gt;","title":"How to represent a Many-To-Many relationship in XML or other simple file format?","body":"<p>Just do it simply like this:</p>\n\n<pre><code>&lt;notes&gt;\n    &lt;note id=\"1\"&gt;\n        &lt;name&gt;George&lt;/name&gt;\n        &lt;text&gt;1984&lt;/text&gt;\n        &lt;notesLinks&gt;\n            &lt;listId id=\"1\"/&gt;\n        &lt;/notesLinks&gt;\n    &lt;/note&gt;\n    &lt;note id=\"2\"&gt;\n        &lt;name&gt;George&lt;/name&gt;\n        &lt;text&gt;animal farm&lt;/text&gt;\n        &lt;notesLinks&gt;&lt;/notesLinks&gt;\n    &lt;/note&gt;\n&lt;/notes&gt;\n&lt;lists&gt;\n    &lt;list id=\"1\"&gt;\n        &lt;notesLinks&gt;\n            &lt;noteId id=\"1\"/&gt;\n            &lt;noteId id=\"2\"/&gt;\n        &lt;/notesLinks&gt;\n        &lt;name&gt;some info&lt;/name&gt;\n    &lt;/list&gt;\n&lt;/lists&gt;\n</code></pre>\n"}],"owner":{"account_id":44851,"reputation":14892,"user_id":131871,"accept_rate":55,"display_name":"CodeFusionMobile"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4798,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":3066115,"answer_count":5,"score":5,"last_activity_date":1665878127,"creation_date":1276812502,"question_id":3066024,"body_markdown":"I have a list management appliaction that stores its data in a many-to-many relationship database.\r\n\r\nI.E. A note can be in any number of lists, and a list can have any number of notes.\r\n\r\nI also can export this data to and XML file and import it in another instance of my app for sharing lists between users.  However, this is based on a legacy system where the list to note relationship was one-to-many (ideal for XML).\r\n\r\nNow a note that is in multiple lists is esentially split into two identical rows in the DB and all relation between them is lost.\r\n\r\n**Question: How can I represent this many-to-many relationship in a simple, standard file format? (Preferably XML to maintain backwards compatibility)**","title":"How to represent a Many-To-Many relationship in XML or other simple file format?","body":"<p>I have a list management appliaction that stores its data in a many-to-many relationship database.</p>\n\n<p>I.E. A note can be in any number of lists, and a list can have any number of notes.</p>\n\n<p>I also can export this data to and XML file and import it in another instance of my app for sharing lists between users.  However, this is based on a legacy system where the list to note relationship was one-to-many (ideal for XML).</p>\n\n<p>Now a note that is in multiple lists is esentially split into two identical rows in the DB and all relation between them is lost.</p>\n\n<p><strong>Question: How can I represent this many-to-many relationship in a simple, standard file format? (Preferably XML to maintain backwards compatibility)</strong></p>\n"},{"tags":["java","usernametoken"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":3,"creation_date":1665875141,"post_id":74083561,"comment_id":130801991,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nPlease show your attempts you have tried and the problems/error messages you get from your attempts.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Please show your attempts you have tried and the problems/error messages you get from your attempts."}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1665881281,"post_id":74083768,"comment_id":130802606,"body_markdown":"Answering questions with no context whatsoever isn&#39;t a good way to answer questions. Especially questions that smell of homework.","body":"Answering questions with no context whatsoever isn&#39;t a good way to answer questions. Especially questions that smell of homework."},{"owner":{"display_name":"user20146539"},"score":0,"creation_date":1665881354,"post_id":74083768,"comment_id":130802616,"body_markdown":"technically it is extra credit on a 30 point assingment","body":"technically it is extra credit on a 30 point assingment"}],"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1665877975,"creation_date":1665877975,"answer_id":74083768,"question_id":74083561,"body_markdown":"    public static boolean isCorrectUsername(String username){\r\n        var atPosition = username.indexOf(&quot;@&quot;);\r\n        return atPosition &gt; 0 &amp;&amp; username.endsWith(&quot;.com&quot;) &amp;&amp;  username.length() &gt; atPosition + 5;\r\n    }","title":"How to determine if a username is correct?","body":"<pre><code>public static boolean isCorrectUsername(String username){\n    var atPosition = username.indexOf(&quot;@&quot;);\n    return atPosition &gt; 0 &amp;&amp; username.endsWith(&quot;.com&quot;) &amp;&amp;  username.length() &gt; atPosition + 5;\n}\n</code></pre>\n"}],"owner":{"display_name":"user20146539"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1665881286,"accepted_answer_id":74083768,"answer_count":1,"score":-2,"last_activity_date":1665877975,"creation_date":1665874580,"question_id":74083561,"body_markdown":"I need to determine if a username in the form of an email (something@something.com) is in the correct form. The necessary parameters for the username being correct are as follows:\r\n1. there is something before the @ symbol\r\n2. there is text between the @ symbol and the &quot;.com&quot;\r\n3. the username ends in .com\r\n\r\nThese are the only parameters, if they are met the method will return true and if they are all not met it will return false.","title":"How to determine if a username is correct?","body":"<p>I need to determine if a username in the form of an email (something@something.com) is in the correct form. The necessary parameters for the username being correct are as follows:</p>\n<ol>\n<li>there is something before the @ symbol</li>\n<li>there is text between the @ symbol and the &quot;.com&quot;</li>\n<li>the username ends in .com</li>\n</ol>\n<p>These are the only parameters, if they are met the method will return true and if they are all not met it will return false.</p>\n"},{"tags":["java","repository","filereader","opencsv"],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665876642,"creation_date":1665876642,"answer_id":74083691,"question_id":74082131,"body_markdown":"You may want to have different readers/factories dependending on the contents of some String. That is, the String acts as identifier for the reader/factory to use.\r\n\r\nYou can use a map to map identifiers (keys) to readers/factories (values). As the latter must be registered, I&#39;d use the service loader mechanism as described in [ServiceLoader](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html), and iterate over all services to register them in this map. \r\n\r\nHaving this, you can look up the needed reader/factory in the map and use it to read/create new Fruit instances.\r\n\r\nStep #1: Service Provider Interface\r\n\r\n```\r\npackage com.mycompany.fruit;\r\n\r\npublic interface FruitFactory {\r\n    String getIdentifier();\r\n    Fruit createFruit(String[] attributes); // change params to your needs\r\n}\r\n```\r\n\r\nStep #2: Service implementation\r\n\r\n```\r\npackage com.mycompany.fruit;\r\n\r\npublic class AppleFactory implements FruitFactory {\r\n    public String getIdentifier() { return &quot;Apple&quot;; }\r\n    public Fruit createFruit(String[] attributes) {\r\n        Apple apple = new Apple();\r\n        apple.setCommonAttribute(attributes[1]);\r\n        apple.setSpecificAttribute(attributes[2]);\r\n        // ...\r\n        return apple;\r\n    }\r\n}\r\n```\r\n\r\nStep #3: Register factories\r\n\r\nPut a file `com.mycompany.fruit.FruitFactory` in `META-INF/services`. Put the fully qualified class name of each implementation of FruitFactory on separate lines in this file. For example:\r\n\r\n```\r\ncom.mycompany.fruit.AppleFactory\r\ncom.mycompany.fruit.OrangeFactory\r\n...\r\n```\r\n\r\nStep #4: Load the services and use them\r\n```\r\npublic class MyFruitReader {\r\n    Map&lt;String, FruitFactory&gt; factories;\r\n\r\n    public MyFruitReader(...) {\r\n        ServiceLoader&lt;FruitFactory&gt; loader = new ServiceLoader(FruitFactory.class);\r\n        for (FruitFactory factory : loader) {\r\n            factories.put(factory.getIdentifier(), factory);\r\n        }\r\n\r\n    // usage \r\n    private Fruit getFruit(String[] row) {\r\n        String fruitType = row[0];\r\n        FruitFactory factory = factories.get(fruitType);\r\n        if (factory == null) {\r\n            return null;\r\n        }\r\n        return factory.createFruit(row);\r\n    }\r\n\r\n    // read the CSV file and call getFruit()\r\n    // ...\r\n```\r\n\r\nKeep in mind, that this are just sketches to provide a rough overview of this topic. You&#39;ll have to adapt it to your needs, add exception handling, fix errors, and so on.","title":"Generic methods to read/write to file all classes that extend X","body":"<p>You may want to have different readers/factories dependending on the contents of some String. That is, the String acts as identifier for the reader/factory to use.</p>\n<p>You can use a map to map identifiers (keys) to readers/factories (values). As the latter must be registered, I'd use the service loader mechanism as described in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">ServiceLoader</a>, and iterate over all services to register them in this map.</p>\n<p>Having this, you can look up the needed reader/factory in the map and use it to read/create new Fruit instances.</p>\n<p>Step #1: Service Provider Interface</p>\n<pre><code>package com.mycompany.fruit;\n\npublic interface FruitFactory {\n    String getIdentifier();\n    Fruit createFruit(String[] attributes); // change params to your needs\n}\n</code></pre>\n<p>Step #2: Service implementation</p>\n<pre><code>package com.mycompany.fruit;\n\npublic class AppleFactory implements FruitFactory {\n    public String getIdentifier() { return &quot;Apple&quot;; }\n    public Fruit createFruit(String[] attributes) {\n        Apple apple = new Apple();\n        apple.setCommonAttribute(attributes[1]);\n        apple.setSpecificAttribute(attributes[2]);\n        // ...\n        return apple;\n    }\n}\n</code></pre>\n<p>Step #3: Register factories</p>\n<p>Put a file <code>com.mycompany.fruit.FruitFactory</code> in <code>META-INF/services</code>. Put the fully qualified class name of each implementation of FruitFactory on separate lines in this file. For example:</p>\n<pre><code>com.mycompany.fruit.AppleFactory\ncom.mycompany.fruit.OrangeFactory\n...\n</code></pre>\n<p>Step #4: Load the services and use them</p>\n<pre><code>public class MyFruitReader {\n    Map&lt;String, FruitFactory&gt; factories;\n\n    public MyFruitReader(...) {\n        ServiceLoader&lt;FruitFactory&gt; loader = new ServiceLoader(FruitFactory.class);\n        for (FruitFactory factory : loader) {\n            factories.put(factory.getIdentifier(), factory);\n        }\n\n    // usage \n    private Fruit getFruit(String[] row) {\n        String fruitType = row[0];\n        FruitFactory factory = factories.get(fruitType);\n        if (factory == null) {\n            return null;\n        }\n        return factory.createFruit(row);\n    }\n\n    // read the CSV file and call getFruit()\n    // ...\n</code></pre>\n<p>Keep in mind, that this are just sketches to provide a rough overview of this topic. You'll have to adapt it to your needs, add exception handling, fix errors, and so on.</p>\n"}],"owner":{"account_id":18176407,"reputation":1,"user_id":20250612,"display_name":"Arthur Krelling"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665876642,"creation_date":1665859617,"question_id":74082131,"body_markdown":"sorry if this is a duplicate question, but I&#39;m getting kind of desperate to solve a problem for a school project (due date tomorrow).\r\nI&#39;m very new to Java and this project involves storing data from certain objects to a local repository and also reading the data from the repo.\r\nThe repository handler class is in one package and the objects are in another. \r\n\r\nMy problem is that I don&#39;t know how to make generic methods in the handler to be able to read and write any object that extends X.\r\n\r\nFor example, let&#39;s say I have Fruit.\r\n\r\nApple extends Fruit.\r\nOrange extends Fruit.\r\n\r\nBoth have their own unique attributes that I need to write/read to/from a file.\r\n\r\nI wanted to have a method like\r\nArrayList&lt;Fruit&gt; repo_reader(String filepath)\r\nThat reads from a file and returns Apples and Oranges.\r\n\r\nThe only way that I know how to do this is having a field in the file stating which type of fruit it is, reading it and throwing it to a switch case like\r\n\r\nswitch (fruit_type){\r\n    case &quot;Orange&quot;:\r\n        Orange orange = new Orange();  orange.setOrangeSpecificAttribute(&quot;ble&quot;);\r\n        FruitBasket.add(orange);\r\n    case &quot;Apple&quot;:\r\n       Apple apple = new Apple();        apple.setAppleSpecificAttribute(&quot;bla&quot;);\r\n       FruitBasket.add(apple);\r\n\r\nBut then the method wouldn&#39;t be generic. Everytime that someone creates a new Fruit class, they would have to also change the repo_handler methods accordingly. The same would also happen with the writing method.\r\n\r\nI could have the Fruit classes all implement their own method to write and read, but I don&#39;t want that. I want repo_handler class to deal with all the file reading and writing.\r\n\r\nAgain, sorry if it&#39;s a stupid question, and thanks for your guys&#39; attention!\r\n\r\nBtw, it&#39;s a CSV file, forgot to mention.\r\n\r\n","title":"Generic methods to read/write to file all classes that extend X","body":"<p>sorry if this is a duplicate question, but I'm getting kind of desperate to solve a problem for a school project (due date tomorrow).\nI'm very new to Java and this project involves storing data from certain objects to a local repository and also reading the data from the repo.\nThe repository handler class is in one package and the objects are in another.</p>\n<p>My problem is that I don't know how to make generic methods in the handler to be able to read and write any object that extends X.</p>\n<p>For example, let's say I have Fruit.</p>\n<p>Apple extends Fruit.\nOrange extends Fruit.</p>\n<p>Both have their own unique attributes that I need to write/read to/from a file.</p>\n<p>I wanted to have a method like\nArrayList repo_reader(String filepath)\nThat reads from a file and returns Apples and Oranges.</p>\n<p>The only way that I know how to do this is having a field in the file stating which type of fruit it is, reading it and throwing it to a switch case like</p>\n<p>switch (fruit_type){\ncase &quot;Orange&quot;:\nOrange orange = new Orange();  orange.setOrangeSpecificAttribute(&quot;ble&quot;);\nFruitBasket.add(orange);\ncase &quot;Apple&quot;:\nApple apple = new Apple();        apple.setAppleSpecificAttribute(&quot;bla&quot;);\nFruitBasket.add(apple);</p>\n<p>But then the method wouldn't be generic. Everytime that someone creates a new Fruit class, they would have to also change the repo_handler methods accordingly. The same would also happen with the writing method.</p>\n<p>I could have the Fruit classes all implement their own method to write and read, but I don't want that. I want repo_handler class to deal with all the file reading and writing.</p>\n<p>Again, sorry if it's a stupid question, and thanks for your guys' attention!</p>\n<p>Btw, it's a CSV file, forgot to mention.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":3,"creation_date":1665335558,"post_id":74006808,"comment_id":130671163,"body_markdown":"1. Java is not JavaScript. 2. The list created by `Arrays.asList(array)` is immutable, you cannot add more elements to it. 3. `list.add(rep)` should probably be `arrayList.add(rep)`. Also, you can simply do `List&lt;String&gt; arrayList = new ArrayList&lt;&gt;();`. There&#39;s no need for that whole setup before.","body":"1. Java is not JavaScript. 2. The list created by <code>Arrays.asList(array)</code> is immutable, you cannot add more elements to it. 3. <code>list.add(rep)</code> should probably be <code>arrayList.add(rep)</code>. Also, you can simply do <code>List&lt;String&gt; arrayList = new ArrayList&lt;&gt;();</code>. There&#39;s no need for that whole setup before."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667578985,"post_id":74006808,"comment_id":131207400,"body_markdown":"@QBrute a list created with `Arrays.asList` is not immutable. It has a fixed length, so you cannot add or remove items, but you can *replace* items on existing indexes.","body":"@QBrute a list created with <code>Arrays.asList</code> is not immutable. It has a fixed length, so you cannot add or remove items, but you can <i>replace</i> items on existing indexes."}],"answers":[{"tags":[],"owner":{"account_id":20859888,"reputation":36,"user_id":15322375,"display_name":"Alpha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665336167,"creation_date":1665336113,"answer_id":74006931,"question_id":74006808,"body_markdown":"You don&#39;t need so many lists that don&#39;t seem to do anything. It is much easier simply to do this:\r\n```lang-java\r\npublic static void main(String[] args) {\r\n    \r\n    \r\n    Scanner scan = new Scanner(System.in);\r\n    \r\n    ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(); //The list needs to be of type integer\r\n    \r\n    int rep = scan.nextInt();\r\n    \r\n    while (rep != 0)\r\n    {\r\n        System.out.println(&quot;Enter your number: &quot;);\r\n        rep = scan.nextInt();\r\n        list.add(rep);\r\n        scan.nextLine();\r\n    }\r\n    \r\n    scan.close();\r\n    System.out.println(&quot;ArrayList: &quot; + list);\r\n    \r\n}\r\n```","title":"How can i add integers in my arraylist without list.add()?","body":"<p>You don't need so many lists that don't seem to do anything. It is much easier simply to do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    \n    \n    Scanner scan = new Scanner(System.in);\n    \n    ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(); //The list needs to be of type integer\n    \n    int rep = scan.nextInt();\n    \n    while (rep != 0)\n    {\n        System.out.println(&quot;Enter your number: &quot;);\n        rep = scan.nextInt();\n        list.add(rep);\n        scan.nextLine();\n    }\n    \n    scan.close();\n    System.out.println(&quot;ArrayList: &quot; + list);\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665336166,"creation_date":1665336166,"answer_id":74006936,"question_id":74006808,"body_markdown":"The issue is that you have a `List&lt;String&gt;` and are adding an `int` to it.  It sounds like you should have a `List&lt;Integer&gt;` instead.","title":"How can i add integers in my arraylist without list.add()?","body":"<p>The issue is that you have a <code>List&lt;String&gt;</code> and are adding an <code>int</code> to it.  It sounds like you should have a <code>List&lt;Integer&gt;</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":13028609,"reputation":36,"user_id":9415746,"display_name":"silencelover"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665336661,"creation_date":1665336476,"answer_id":74006970,"question_id":74006808,"body_markdown":"Initially for ArrayList there are a lot of possibilities to add values, some of them:\r\n\r\nyourArrayList.add(yourValue);\r\n\r\nyourArrayList.addAll(anotherCollectionWithValues);\r\n\r\nYou can find all possible variants here: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html;\r\n\r\nTo answer your question - yes, your code won&#39;t work.\r\nIf you can use ArrayList - here would be working example for your task:\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    try ( Scanner scan = new Scanner(System.in) ) {\r\n      List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\r\n      // you should always read all line because the task say this to you\r\n      // and scanner.nextInt() would not read the whole line.\r\n      String input = scanner.nextLine();\r\n\r\n      while (!&quot;0&quot;.equals(input)) {\r\n         integerList.add(Integer.parseInt(input));\r\n         input = scanner.nextLine();\r\n      }\r\n    } catch( NumberFormatException ex ) {\r\n      // do some logging here, System.err as an example\r\n    }\r\n    System.out.println(integerList);\r\n    }","title":"How can i add integers in my arraylist without list.add()?","body":"<p>Initially for ArrayList there are a lot of possibilities to add values, some of them:</p>\n<p>yourArrayList.add(yourValue);</p>\n<p>yourArrayList.addAll(anotherCollectionWithValues);</p>\n<p>You can find all possible variants here: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html;\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html;</a></p>\n<p>To answer your question - yes, your code won't work.\nIf you can use ArrayList - here would be working example for your task:</p>\n<pre><code>public static void main(String[] args) {\n\ntry ( Scanner scan = new Scanner(System.in) ) {\n  List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\n  // you should always read all line because the task say this to you\n  // and scanner.nextInt() would not read the whole line.\n  String input = scanner.nextLine();\n\n  while (!&quot;0&quot;.equals(input)) {\n     integerList.add(Integer.parseInt(input));\n     input = scanner.nextLine();\n  }\n} catch( NumberFormatException ex ) {\n  // do some logging here, System.err as an example\n}\nSystem.out.println(integerList);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26013810,"reputation":7,"user_id":19722401,"display_name":"Arun KB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665875115,"creation_date":1665338172,"answer_id":74007208,"question_id":74006808,"body_markdown":"There is a problem in initialing ArrayList in your code \r\n\r\n    import java.util.*;\r\n    class Add{\r\n             public static void main(String[] args) {\r\n     \r\n             Scanner scan = new Scanner(System.in);\r\n             ArrayList&lt;Integer&gt; list= new ArrayList&lt;&gt;();\r\n             System.out.println(&quot;Enter your number&quot;);\r\n             int rep=scan.nextInt();\r\n             list.add(rep);\r\n    \r\n             while (rep != 0)\r\n             {\r\n                 System.out.println(&quot;Enter your number:&quot;);\r\n                 rep=scan.nextInt();\r\n                 scan.nextLine();\r\n                 list.add(rep);\r\n             }\r\n    \r\n             //to remove last element\r\n             int index= list.size()-1;\r\n             list.remove(index);\r\n    \r\n             scan.close();\r\n             System.out.println(&quot;ArrayList: &quot; + list);\r\n    \r\n         }\r\n     }","title":"How can i add integers in my arraylist without list.add()?","body":"<p>There is a problem in initialing ArrayList in your code</p>\n<pre><code>import java.util.*;\nclass Add{\n         public static void main(String[] args) {\n \n         Scanner scan = new Scanner(System.in);\n         ArrayList&lt;Integer&gt; list= new ArrayList&lt;&gt;();\n         System.out.println(&quot;Enter your number&quot;);\n         int rep=scan.nextInt();\n         list.add(rep);\n\n         while (rep != 0)\n         {\n             System.out.println(&quot;Enter your number:&quot;);\n             rep=scan.nextInt();\n             scan.nextLine();\n             list.add(rep);\n         }\n\n         //to remove last element\n         int index= list.size()-1;\n         list.remove(index);\n\n         scan.close();\n         System.out.println(&quot;ArrayList: &quot; + list);\n\n     }\n }\n</code></pre>\n"}],"owner":{"account_id":26573113,"reputation":1,"user_id":20199025,"display_name":"vaylonn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1665339639,"answer_count":4,"score":-4,"last_activity_date":1665875115,"creation_date":1665335185,"question_id":74006808,"body_markdown":"I don&#39;t know how to add int values into my ArrayList without this code..\r\n\r\nI&#39;m new to javascript and this is my homework.\r\n(Write a program that reads the integer numbers from stdin (one number per line). Input ends with a single zero being entered.)\r\n\r\nIs there anything wrong there ?\r\n\r\nThanks !\r\n\r\n    public static void main(String[] args) {\r\n\t\t\r\n\t\t\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\t\r\n\t\tString array[] = {};\r\n\t\tList&lt;String&gt; list = Arrays.asList(array);\r\n\t\tList&lt;String&gt; arraylist = new ArrayList&lt;&gt;(list);\r\n\t\t\r\n\t\tint rep=scan.nextInt();\r\n\t\t\r\n\t\twhile (rep != 0)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Enter your number:&quot;);\r\n\t\t\trep=scan.nextInt();\r\n\t\t\tscan.nextLine();\r\n            //the error is just below\r\n\t\t\tlist.add(rep);\r\n\t\t}\r\n\t\t\r\n\t\tscan.close();\r\n\t\tSystem.out.println(&quot;ArrayList: &quot; + list);\r\n\t\t\r\n\t}","title":"How can i add integers in my arraylist without list.add()?","body":"<p>I don't know how to add int values into my ArrayList without this code..</p>\n<p>I'm new to javascript and this is my homework.\n(Write a program that reads the integer numbers from stdin (one number per line). Input ends with a single zero being entered.)</p>\n<p>Is there anything wrong there ?</p>\n<p>Thanks !</p>\n<pre><code>public static void main(String[] args) {\n    \n    \n    Scanner scan = new Scanner(System.in);\n    \n    String array[] = {};\n    List&lt;String&gt; list = Arrays.asList(array);\n    List&lt;String&gt; arraylist = new ArrayList&lt;&gt;(list);\n    \n    int rep=scan.nextInt();\n    \n    while (rep != 0)\n    {\n        System.out.println(&quot;Enter your number:&quot;);\n        rep=scan.nextInt();\n        scan.nextLine();\n        //the error is just below\n        list.add(rep);\n    }\n    \n    scan.close();\n    System.out.println(&quot;ArrayList: &quot; + list);\n    \n}\n</code></pre>\n"},{"tags":["java","treap"],"comments":[{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":2,"creation_date":1665875725,"post_id":74083586,"comment_id":130802057,"body_markdown":"*&quot;I found that the height of my Treaps were almost always double the log2(size), which is double the expected height.&quot;* What is the reason for expecting that? The Wikipedia article on Treaps only says that the expected height is *proportional* to this logarithm, not equal to it; if you have some other source which says it should be equal, please cite it. Otherwise the error may just be that you are expecting the wrong thing. *&quot;Assuming my insertion, height, and randomPriority methods are all correct&quot;* - if you believe the height of your tree is wrong, then how can you assume this?","body":"<i>&quot;I found that the height of my Treaps were almost always double the log2(size), which is double the expected height.&quot;</i> What is the reason for expecting that? The Wikipedia article on Treaps only says that the expected height is <i>proportional</i> to this logarithm, not equal to it; if you have some other source which says it should be equal, please cite it. Otherwise the error may just be that you are expecting the wrong thing. <i>&quot;Assuming my insertion, height, and randomPriority methods are all correct&quot;</i> - if you believe the height of your tree is wrong, then how can you assume this?"},{"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"score":1,"creation_date":1665877997,"post_id":74083586,"comment_id":130802277,"body_markdown":"You&#39;re correct, I was assuming the wrong thing. Thank you for clarifying that for me.","body":"You&#39;re correct, I was assuming the wrong thing. Thank you for clarifying that for me."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1665882134,"post_id":74083586,"comment_id":130802705,"body_markdown":"The `log2(size)` is the _perfect_ height for a perfect heap.","body":"The <code>log2(size)</code> is the <i>perfect</i> height for a perfect heap."}],"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665874941,"creation_date":1665874941,"question_id":74083586,"body_markdown":"I was coding up a Generic Treap data structure as an exercise, and then performed an analysis on the size (number of elements) of the treap, height of the treap, as well as the treap constant (height / log10(size)). I found that the height of my Treaps were almost always double the log2(size), which is double the expected height. \r\n\r\nFor example, inserting the same 934 elements (size = 934) in the treap 10 times, the height of the treap was around the range [19, 26], and my treap constant was roughly around 6-7. \r\n\r\nAssuming my insertion, height, and randomPriority methods are all correct, might there be another reason that my Treap height is so tall?\r\n\r\nI have also tried this with numerous data types and found that my heights were always around double the expected height.\r\n","title":"Why is the height of my Treap almost double the expected height?","body":"<p>I was coding up a Generic Treap data structure as an exercise, and then performed an analysis on the size (number of elements) of the treap, height of the treap, as well as the treap constant (height / log10(size)). I found that the height of my Treaps were almost always double the log2(size), which is double the expected height.</p>\n<p>For example, inserting the same 934 elements (size = 934) in the treap 10 times, the height of the treap was around the range [19, 26], and my treap constant was roughly around 6-7.</p>\n<p>Assuming my insertion, height, and randomPriority methods are all correct, might there be another reason that my Treap height is so tall?</p>\n<p>I have also tried this with numerous data types and found that my heights were always around double the expected height.</p>\n"},{"tags":["java","resourcebundle"],"comments":[{"owner":{"account_id":2788141,"reputation":524,"user_id":2398993,"accept_rate":55,"display_name":"lvr123"},"score":0,"creation_date":1665874631,"post_id":74083473,"comment_id":130801930,"body_markdown":"Partially. See my comment in the proposed answer.","body":"Partially. See my comment in the proposed answer."}],"answers":[{"comments":[{"owner":{"account_id":2788141,"reputation":524,"user_id":2398993,"accept_rate":55,"display_name":"lvr123"},"score":0,"creation_date":1665874611,"post_id":74083531,"comment_id":130801929,"body_markdown":"The limitation is that this doesn&#39;t apply to ResourceBundle, because the `ResourceBundle.Control` class is explicitly calling `is = classLoader.getResourceAsStream(resourceName)` meaning that it is not able to detect the right resource bundle to use. I guess a solution would be to override `ResourceBundle.Control` by a subclass using that technic to identify the right resource bundle ?","body":"The limitation is that this doesn&#39;t apply to ResourceBundle, because the <code>ResourceBundle.Control</code> class is explicitly calling <code>is = classLoader.getResourceAsStream(resourceName)</code> meaning that it is not able to detect the right resource bundle to use. I guess a solution would be to override <code>ResourceBundle.Control</code> by a subclass using that technic to identify the right resource bundle ?"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1665884426,"post_id":74083531,"comment_id":130802942,"body_markdown":"Yup, if code you didn&#39;t write does the wrong thing, you either stop making it to the wrong thing, fork it, or hack it.","body":"Yup, if code you didn&#39;t write does the wrong thing, you either stop making it to the wrong thing, fork it, or hack it."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665874042,"creation_date":1665874042,"answer_id":74083531,"question_id":74083473,"body_markdown":"you need `getResources`. Note the plural. Unfortunately, whilst `MyLibrary.class.getResource` is right, class does not have the `getResources` method copied over from `ClassLoader`. So, you do have to go via classloader. This is annoying, because in admittedly exotic (Agents, bootstrap classes) situations, `MyClass.class.getClassLoader()` will be `null`, so then you need to write code to defer to the system loader instead. For bonus annoyance, the method predates iterators, so it returns an `Enumeration` instead.\r\n\r\nThus, the full treatment:\r\n\r\n```\r\nClassLoader cl = MyClass.class.getClassLoader();\r\nif (cl == null) cl = ClassLoader.getSystemClassLoader();\r\nvar resources = cl.getResources(&quot;config.properties&quot;); // No slash! See footnote 1\r\nwhile (resources.hasNextElement()) {\r\n  URL resource = resources.nextElement();\r\n  try (var in = resource.openStream()) {\r\n    // yay we can read it now!\r\n  }\r\n}\r\n```\r\n\r\n\r\nIn admittedly really exotic context\r\n\r\n[1] Loading via the classloader already starts at the classloader&#39;s root, so the leading slash is not required. In fact, if you use it, it&#39;ll fail. So, `MyClass.class.getLoader().getResource(&quot;foo&quot;)` is the same as `MyClass.class.getResource(&quot;/foo&quot;)`, except that the first snippet fails in agent/bootstrap situations.","title":"getResourceAsStream returns a stream to the first matching file","body":"<p>you need <code>getResources</code>. Note the plural. Unfortunately, whilst <code>MyLibrary.class.getResource</code> is right, class does not have the <code>getResources</code> method copied over from <code>ClassLoader</code>. So, you do have to go via classloader. This is annoying, because in admittedly exotic (Agents, bootstrap classes) situations, <code>MyClass.class.getClassLoader()</code> will be <code>null</code>, so then you need to write code to defer to the system loader instead. For bonus annoyance, the method predates iterators, so it returns an <code>Enumeration</code> instead.</p>\n<p>Thus, the full treatment:</p>\n<pre><code>ClassLoader cl = MyClass.class.getClassLoader();\nif (cl == null) cl = ClassLoader.getSystemClassLoader();\nvar resources = cl.getResources(&quot;config.properties&quot;); // No slash! See footnote 1\nwhile (resources.hasNextElement()) {\n  URL resource = resources.nextElement();\n  try (var in = resource.openStream()) {\n    // yay we can read it now!\n  }\n}\n</code></pre>\n<p>In admittedly really exotic context</p>\n<p>[1] Loading via the classloader already starts at the classloader's root, so the leading slash is not required. In fact, if you use it, it'll fail. So, <code>MyClass.class.getLoader().getResource(&quot;foo&quot;)</code> is the same as <code>MyClass.class.getResource(&quot;/foo&quot;)</code>, except that the first snippet fails in agent/bootstrap situations.</p>\n"}],"owner":{"account_id":2788141,"reputation":524,"user_id":2398993,"accept_rate":55,"display_name":"lvr123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1665902808,"accepted_answer_id":74083531,"answer_count":1,"score":-1,"last_activity_date":1665874866,"creation_date":1665873390,"question_id":74083473,"body_markdown":"In my application, several libraries are assembled.\r\nWhenever those libraries comes with resources having a same name, ```getResourceAsStream(&quot;myfile&quot;)``` seems to return a stream to whatever file come first.\r\nThis is true for any file, including Resource bundles.\r\n\r\nIn the following example, a [library with a MyMibrary class](https://github.com/lgvr123/mygroup_mylibrary) has a file called &quot;config.properties&quot;. And does \r\n```\r\nInputStream is = MyLibrary.class.getResourceAsStream(&quot;/config.properties&quot;)\r\n```\r\nWhen called in a standalone context, the right config file is used.\r\n\r\nBut when loaded as a dependency from an [application](https://github.com/lgvr123/mygroup_myapplication) having its own &quot;config.properties&quot;, the same statement returns the config file **of the application** instead of the one of the library.\r\n\r\nThe same applies also for ResourceBundles (which is using `getResourceAsStream` too) :\r\nIf both the library and the application are using Resource bundles named the same way, when called from the application, the library will be using the application resource bundle instead of its own.\r\n\r\nMy question is how to instruct `getResourceAsStream` (especially in the context of Resource bundle loading) to use the right resource ?\r\n\r\nEDIT: this question differs partially from [How to read several resource files with the same name from different](https://stackoverflow.com/questions/6730580/how-to-read-several-resource-files-with-the-same-name-from-different-jars) in the way the latter question deals only with resources while my question deals also with **ResourceBundles**. \r\n","title":"getResourceAsStream returns a stream to the first matching file","body":"<p>In my application, several libraries are assembled.\nWhenever those libraries comes with resources having a same name, <code>getResourceAsStream(&quot;myfile&quot;)</code> seems to return a stream to whatever file come first.\nThis is true for any file, including Resource bundles.</p>\n<p>In the following example, a <a href=\"https://github.com/lgvr123/mygroup_mylibrary\" rel=\"nofollow noreferrer\">library with a MyMibrary class</a> has a file called &quot;config.properties&quot;. And does</p>\n<pre><code>InputStream is = MyLibrary.class.getResourceAsStream(&quot;/config.properties&quot;)\n</code></pre>\n<p>When called in a standalone context, the right config file is used.</p>\n<p>But when loaded as a dependency from an <a href=\"https://github.com/lgvr123/mygroup_myapplication\" rel=\"nofollow noreferrer\">application</a> having its own &quot;config.properties&quot;, the same statement returns the config file <strong>of the application</strong> instead of the one of the library.</p>\n<p>The same applies also for ResourceBundles (which is using <code>getResourceAsStream</code> too) :\nIf both the library and the application are using Resource bundles named the same way, when called from the application, the library will be using the application resource bundle instead of its own.</p>\n<p>My question is how to instruct <code>getResourceAsStream</code> (especially in the context of Resource bundle loading) to use the right resource ?</p>\n<p>EDIT: this question differs partially from <a href=\"https://stackoverflow.com/questions/6730580/how-to-read-several-resource-files-with-the-same-name-from-different-jars\">How to read several resource files with the same name from different</a> in the way the latter question deals only with resources while my question deals also with <strong>ResourceBundles</strong>.</p>\n"},{"tags":["java","mysql","design-patterns","database-design","relational-database"],"comments":[{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1665864693,"post_id":74082487,"comment_id":130800375,"body_markdown":"@Akina: Good question, the way that it is now is that `321` is introduced as extending the overal &quot;space&quot; of `123` so whatever is `321` is also `123` so if it turns out that `321` was a bad choice then we can remove anything associated to `321` without affecting `123` except by &quot;reducing&quot; its space.","body":"@Akina: Good question, the way that it is now is that <code>321</code> is introduced as extending the overal &quot;space&quot; of <code>123</code> so whatever is <code>321</code> is also <code>123</code> so if it turns out that <code>321</code> was a bad choice then we can remove anything associated to <code>321</code> without affecting <code>123</code> except by &quot;reducing&quot; its space."},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1665865614,"post_id":74082487,"comment_id":130800538,"body_markdown":"@Akina: No I don&#39;t think it is bidirectional.","body":"@Akina: No I don&#39;t think it is bidirectional."},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1665865761,"post_id":74082487,"comment_id":130800569,"body_markdown":"@Akina: would the parent/child relationship be resolved within the application code or within SQL queries? I can&#39;t recall seeing a recursive SQL query","body":"@Akina: would the parent/child relationship be resolved within the application code or within SQL queries? I can&#39;t recall seeing a recursive SQL query"},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1665867453,"post_id":74082487,"comment_id":130800913,"body_markdown":"@Akina: and should I keep references to tag names or tag ids within the application code for more robust approach?","body":"@Akina: and should I keep references to tag names or tag ids within the application code for more robust approach?"}],"answers":[{"comments":[{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1665920831,"post_id":74083536,"comment_id":130807618,"body_markdown":"What about how to keep the tags within the application code? E.g should I keep the `id=7` or the string `winter sports` and use it whenever the application needs to do something specific to `winter sports`? Or is there some other approach that mitigates hardcoding either ids or strings?Or should I post this as a separate question?","body":"What about how to keep the tags within the application code? E.g should I keep the <code>id=7</code> or the string <code>winter sports</code> and use it whenever the application needs to do something specific to <code>winter sports</code>? Or is there some other approach that mitigates hardcoding either ids or strings?Or should I post this as a separate question?"},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1665921712,"post_id":74083536,"comment_id":130807788,"body_markdown":"@Jim I can say nothing about the app level - this is too opinion-based.","body":"@Jim I can say nothing about the app level - this is too opinion-based."},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1665924157,"post_id":74083536,"comment_id":130808204,"body_markdown":"So if want to be able to keep the base tags within the application code so that the code can process things differently e.g. for `winter sports` that approach and how it should be done is opinion based? There is no specific way that is less prone to errors and maintainance?","body":"So if want to be able to keep the base tags within the application code so that the code can process things differently e.g. for <code>winter sports</code> that approach and how it should be done is opinion based? There is no specific way that is less prone to errors and maintainance?"},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666084528,"post_id":74083536,"comment_id":130845939,"body_markdown":"Do you have some good example of how to load the data when the table is in that structure? I have an idea of doing recursion within the application code but I was wondering what other approaches are there and some good example","body":"Do you have some good example of how to load the data when the table is in that structure? I have an idea of doing recursion within the application code but I was wondering what other approaches are there and some good example"},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1666085740,"post_id":74083536,"comment_id":130846323,"body_markdown":"@Jim *how to load the data* This is separate question. Create new topic. Show clearly where the data should be loaded from, and with what method.","body":"@Jim <i>how to load the data</i> This is separate question. Create new topic. Show clearly where the data should be loaded from, and with what method."}],"tags":[],"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665874113,"creation_date":1665874113,"answer_id":74083536,"question_id":74082487,"body_markdown":"If the relation between tags is not bi-directional then you may use parent-child reference scheme:\r\n```sql\r\nCREATE TABLE `CustomTags` (\r\n  `id` int unsigned AUTO_INCREMENT,\r\n  `tag_name` varchar(255) NOT NULL,\r\n  `parent_id` INT UNSIGNED,\r\n  PRIMARY KEY (`id`),\r\n  FOREIGN KEY (`parent_id`) REFERENCES `CustomTags` (`id`))\r\n```\r\nYour data will look like:\r\n\r\n|     id              |     tag_name      | parent_id\r\n|---------------------|-------------------|-\r\n|          1          |restaurants        |NULL\r\n|          ...        |    ... | ...\r\n|          7          |winter sports      |   NULL\r\n|          8          |winter sports lakes     |  7\r\n\r\n---\r\nIf the relation is bi-directional then I&#39;d recommend to create an entity &quot;tags group&quot; stored in separate table:\r\n```sql\r\nCREATE TABLE `CustomTags` (\r\n  `id` int unsigned NOT NULL AUTO_INCREMENT,\r\n  `tag_name` varchar(255) NOT NULL,\r\n  PRIMARY KEY (`id`));\r\n\r\nCREATE TABLE tags_groups (\r\n    tag_id INT UNSIGNED,\r\n    group_id INT UNSIGNED NOT NULL,\r\n    PRIMARY KEY (tag_id),\r\n    FOREIGN KEY (tag_id) REFERENCES `CustomTags` (id)\r\n);\r\n```\r\nYour data will look like:\r\n\r\n|     id              |     tag_name      \r\n|---------------------|-------------------\r\n|          1          |restaurants        \r\n|          ...        |    ... \r\n|          7          |winter sports      \r\n|          8          |winter sports lakes     \r\n\r\ntag_id|group_id\r\n-|-\r\n1|123\r\n...|...\r\n7|456\r\n8|456","title":"Associate metadata tags with other tags and coding references","body":"<p>If the relation between tags is not bi-directional then you may use parent-child reference scheme:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE `CustomTags` (\n  `id` int unsigned AUTO_INCREMENT,\n  `tag_name` varchar(255) NOT NULL,\n  `parent_id` INT UNSIGNED,\n  PRIMARY KEY (`id`),\n  FOREIGN KEY (`parent_id`) REFERENCES `CustomTags` (`id`))\n</code></pre>\n<p>Your data will look like:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>tag_name</th>\n<th>parent_id</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>restaurants</td>\n<td>NULL</td>\n</tr>\n<tr>\n<td>...</td>\n<td>...</td>\n<td>...</td>\n</tr>\n<tr>\n<td>7</td>\n<td>winter sports</td>\n<td>NULL</td>\n</tr>\n<tr>\n<td>8</td>\n<td>winter sports lakes</td>\n<td>7</td>\n</tr>\n</tbody>\n</table>\n</div><hr />\n<p>If the relation is bi-directional then I'd recommend to create an entity &quot;tags group&quot; stored in separate table:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE `CustomTags` (\n  `id` int unsigned NOT NULL AUTO_INCREMENT,\n  `tag_name` varchar(255) NOT NULL,\n  PRIMARY KEY (`id`));\n\nCREATE TABLE tags_groups (\n    tag_id INT UNSIGNED,\n    group_id INT UNSIGNED NOT NULL,\n    PRIMARY KEY (tag_id),\n    FOREIGN KEY (tag_id) REFERENCES `CustomTags` (id)\n);\n</code></pre>\n<p>Your data will look like:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>tag_name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>restaurants</td>\n</tr>\n<tr>\n<td>...</td>\n<td>...</td>\n</tr>\n<tr>\n<td>7</td>\n<td>winter sports</td>\n</tr>\n<tr>\n<td>8</td>\n<td>winter sports lakes</td>\n</tr>\n</tbody>\n</table>\n</div><div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>tag_id</th>\n<th>group_id</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>123</td>\n</tr>\n<tr>\n<td>...</td>\n<td>...</td>\n</tr>\n<tr>\n<td>7</td>\n<td>456</td>\n</tr>\n<tr>\n<td>8</td>\n<td>456</td>\n</tr>\n</tbody>\n</table>\n</div>"}],"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74083536,"answer_count":1,"score":0,"last_activity_date":1665874113,"creation_date":1665863082,"question_id":74082487,"body_markdown":"I have a series of tags that are to be associated to various other entities.\r\n\r\n    CREATE TABLE `CustomTags` (\r\n      `id` int unsigned NOT NULL AUTO_INCREMENT,\r\n      `tag_name` varchar(255) NOT NULL,\r\n      PRIMARY KEY (`id`))\r\n\r\n|     id              |     tag_name      | \r\n|---------------------|-------------------|\r\n|          1          |restaurants        |\r\n|          2          |    sunsets        | \r\n|          3          |business meetings  | \r\n|          4          |     nature        | \r\n|          5          |       snow        | \r\n|          6          |friendly gatherings| \r\n|          7          |winter sports      |        \r\n\r\nI have other tables linked with a N:N relationship with this table (i.e. there is an intermediate table that links the ids of each of the table for each relationship).\r\nWhen I load the data I need to be able to add a new tag:\r\n \r\n|     id      |     tag_name    | \r\n|---------------------|------------------|\r\n|          8         |         winter sports lakes        |\r\n \r\nand be able to:\r\n1) Load the new tag and associate it with an existing tag conditionally, e.g. if I have a set of other data linked with tag_id `7` then if new data are inserted that are associated with something similar, e.g. `8`, I want to be able to group them all as one logical entity i.e. associate `&lt;7, winter sports&gt;` with `&lt;8, winter sports lakes&gt;` as in `winter sports lakes` is an extension of `winter sports`. And I would like to be able to do it conditionally, e.g. if in the end I want to remove anything associated to tag_id `8` I&#39;d like to be able to do it without other impact.\r\n2) I&#39;d like to be able in the code to be able to know when I am processing, e.g. `restaurants` vs `business meeting`. Originally in the code I used hard-coded `id` but this doesn&#39;t work well because the code is coupled with the ids in the database. The original issue I was trying to avoid is to use hard-coded strings in the code, e.g. `restaurants` or `winter sports` that could end up due to a typo to cause a problem in the data. I am not sure how to be able to have the code understand what kind of data it is processing when required.\r\n\r\nHow can I set my DB tables and definitions in the code to achieve this?\r\n","title":"Associate metadata tags with other tags and coding references","body":"<p>I have a series of tags that are to be associated to various other entities.</p>\n<pre><code>CREATE TABLE `CustomTags` (\n  `id` int unsigned NOT NULL AUTO_INCREMENT,\n  `tag_name` varchar(255) NOT NULL,\n  PRIMARY KEY (`id`))\n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>tag_name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>restaurants</td>\n</tr>\n<tr>\n<td>2</td>\n<td>sunsets</td>\n</tr>\n<tr>\n<td>3</td>\n<td>business meetings</td>\n</tr>\n<tr>\n<td>4</td>\n<td>nature</td>\n</tr>\n<tr>\n<td>5</td>\n<td>snow</td>\n</tr>\n<tr>\n<td>6</td>\n<td>friendly gatherings</td>\n</tr>\n<tr>\n<td>7</td>\n<td>winter sports</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I have other tables linked with a N:N relationship with this table (i.e. there is an intermediate table that links the ids of each of the table for each relationship).\nWhen I load the data I need to be able to add a new tag:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>tag_name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>8</td>\n<td>winter sports lakes</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>and be able to:</p>\n<ol>\n<li>Load the new tag and associate it with an existing tag conditionally, e.g. if I have a set of other data linked with tag_id <code>7</code> then if new data are inserted that are associated with something similar, e.g. <code>8</code>, I want to be able to group them all as one logical entity i.e. associate <code>&lt;7, winter sports&gt;</code> with <code>&lt;8, winter sports lakes&gt;</code> as in <code>winter sports lakes</code> is an extension of <code>winter sports</code>. And I would like to be able to do it conditionally, e.g. if in the end I want to remove anything associated to tag_id <code>8</code> I'd like to be able to do it without other impact.</li>\n<li>I'd like to be able in the code to be able to know when I am processing, e.g. <code>restaurants</code> vs <code>business meeting</code>. Originally in the code I used hard-coded <code>id</code> but this doesn't work well because the code is coupled with the ids in the database. The original issue I was trying to avoid is to use hard-coded strings in the code, e.g. <code>restaurants</code> or <code>winter sports</code> that could end up due to a typo to cause a problem in the data. I am not sure how to be able to have the code understand what kind of data it is processing when required.</li>\n</ol>\n<p>How can I set my DB tables and definitions in the code to achieve this?</p>\n"},{"tags":["java","linux","shell","centos"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1439936155,"post_id":32083378,"comment_id":52063110,"body_markdown":"The for loop isn&#39;t necessary. You can simply write `String arg0 = args.length &gt; 0 ? args[0] : null;`, `String arg1 = args.length &gt; 1 ? args[1] : null` etc.","body":"The for loop isn&#39;t necessary. You can simply write <code>String arg0 = args.length &gt; 0 ? args[0] : null;</code>, <code>String arg1 = args.length &gt; 1 ? args[1] : null</code> etc."}],"answers":[{"comments":[{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1439936660,"post_id":32083441,"comment_id":52063298,"body_markdown":"Can you show the actual code?  Shell scripts are new to me.  I need to see what the shell script looks like, and what the java has to look like to get the right value into the shell.  I imagine others finding this will have a similar need for clarity. Thank you.","body":"Can you show the actual code?  Shell scripts are new to me.  I need to see what the shell script looks like, and what the java has to look like to get the right value into the shell.  I imagine others finding this will have a similar need for clarity. Thank you."},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1439938928,"post_id":32083441,"comment_id":52064010,"body_markdown":"Are you saying to write: `$RESULT = java -cp $CLASSPATH my.package.SomeClass ARG0 ARG1 ARG2`?  Somehow I think the syntax to populate the variable is a little different.  **Can you please show the correct syntax for populating the $? variable to use inside the shell script?**  Including a valid example of a name for the variable.  Thank you.","body":"Are you saying to write: <code>$RESULT = java -cp $CLASSPATH my.package.SomeClass ARG0 ARG1 ARG2</code>?  Somehow I think the syntax to populate the variable is a little different.  <b>Can you please show the correct syntax for populating the $? variable to use inside the shell script?</b>  Including a valid example of a name for the variable.  Thank you."},{"owner":{"account_id":2468174,"reputation":9217,"user_id":2150749,"accept_rate":100,"display_name":"Jashaszun"},"score":0,"creation_date":1439939171,"post_id":32083441,"comment_id":52064082,"body_markdown":"@CodeMed Just running the `java -cp ...` command (just like running any command) *sets `$?` for you*. No need to store it. Take a look at the examples [here](http://tldp.org/LDP/abs/html/exit-status.html).","body":"@CodeMed Just running the <code>java -cp ...</code> command (just like running any command) <i>sets <code>$?</code> for you</i>. No need to store it. Take a look at the examples <a href=\"http://tldp.org/LDP/abs/html/exit-status.html\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1439939415,"post_id":32083441,"comment_id":52064142,"body_markdown":"For this to be a usable answer, the shell needs to be able to perform abc if `$?` returns `true`, but perform xyz if `$?` returns `false`.  I assumed that meant populating the variable.  Can you please at least show how to do the `if...else` in the shell script with the returned value if you do not think it should be stored?","body":"For this to be a usable answer, the shell needs to be able to perform abc if <code>$?</code> returns <code>true</code>, but perform xyz if <code>$?</code> returns <code>false</code>.  I assumed that meant populating the variable.  Can you please at least show how to do the <code>if...else</code> in the shell script with the returned value if you do not think it should be stored?"},{"owner":{"account_id":2468174,"reputation":9217,"user_id":2150749,"accept_rate":100,"display_name":"Jashaszun"},"score":0,"creation_date":1439939660,"post_id":32083441,"comment_id":52064207,"body_markdown":"@CodeMed What I meant by my last comment was that *you* do not need to store it yourself, not that it doesn&#39;t need to be stored at *all*. What I was saying is that the status code of the last command is *always* available to you through the use of the `$?` variable. Anyway, I edited my answer.","body":"@CodeMed What I meant by my last comment was that <i>you</i> do not need to store it yourself, not that it doesn&#39;t need to be stored at <i>all</i>. What I was saying is that the status code of the last command is <i>always</i> available to you through the use of the <code>$?</code> variable. Anyway, I edited my answer."},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1439939986,"post_id":32083441,"comment_id":52064298,"body_markdown":"Thank you and +1 for being so responsive.","body":"Thank you and +1 for being so responsive."},{"owner":{"account_id":2468174,"reputation":9217,"user_id":2150749,"accept_rate":100,"display_name":"Jashaszun"},"score":0,"creation_date":1439940014,"post_id":32083441,"comment_id":52064310,"body_markdown":"@CodeMed Happy to help!","body":"@CodeMed Happy to help!"}],"tags":[],"owner":{"account_id":2468174,"reputation":9217,"user_id":2150749,"accept_rate":100,"display_name":"Jashaszun"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1439939612,"creation_date":1439935969,"answer_id":32083441,"question_id":32083378,"body_markdown":"You can use the [`System.exit(int)`](http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#exit%28int%29) function to return a status code. This is done instead of `main` returning an `int`, as in C, C++, C#, etc.\r\n\r\nNormally, `0` means success and anything else means failure.\r\n\r\nHere, it looks like at the end of your `main` method you&#39;ll want to `System.exit(passes ? 0 : 1);`\r\n\r\nIn bash you can read the status code by using the `$?` variable. How you use it really depends on, well, how you use it later in your script. However, you don&#39;t need to change anything in the line that starts your Java program.\r\n\r\nIf you want a conditional based on the status code of your Java program, you can do the following after your `java -cp ... ` call:\r\n\r\n    if [ $? -eq 0 ]\r\n    then\r\n        abc\r\n    else\r\n        xyz\r\n    fi","title":"How do I return a boolean from a Java program to a CentOS shell script?","body":"<p>You can use the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#exit%28int%29\" rel=\"nofollow\"><code>System.exit(int)</code></a> function to return a status code. This is done instead of <code>main</code> returning an <code>int</code>, as in C, C++, C#, etc.</p>\n\n<p>Normally, <code>0</code> means success and anything else means failure.</p>\n\n<p>Here, it looks like at the end of your <code>main</code> method you'll want to <code>System.exit(passes ? 0 : 1);</code></p>\n\n<p>In bash you can read the status code by using the <code>$?</code> variable. How you use it really depends on, well, how you use it later in your script. However, you don't need to change anything in the line that starts your Java program.</p>\n\n<p>If you want a conditional based on the status code of your Java program, you can do the following after your <code>java -cp ...</code> call:</p>\n\n<pre><code>if [ $? -eq 0 ]\nthen\n    abc\nelse\n    xyz\nfi\n</code></pre>\n"},{"comments":[{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":1,"creation_date":1439936688,"post_id":32083450,"comment_id":52063302,"body_markdown":"So then what does the shell program need to look like in order to harvest this value?","body":"So then what does the shell program need to look like in order to harvest this value?"}],"tags":[],"owner":{"account_id":6411785,"reputation":1903,"user_id":4971315,"accept_rate":45,"display_name":"Roberto Attias"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439936036,"creation_date":1439936036,"answer_id":32083450,"question_id":32083378,"body_markdown":"A java program can return a value by explicitly calling `System.exit(ret_value)`, where `ret_value` is an integer. So, you could do this at the end of main:\r\n\r\n    int ret = passes ? 1 : 0;\r\n    System.exit(ret);\r\n\r\n\r\n","title":"How do I return a boolean from a Java program to a CentOS shell script?","body":"<p>A java program can return a value by explicitly calling <code>System.exit(ret_value)</code>, where <code>ret_value</code> is an integer. So, you could do this at the end of main:</p>\n\n<pre><code>int ret = passes ? 1 : 0;\nSystem.exit(ret);\n</code></pre>\n"}],"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":32083441,"answer_count":2,"score":2,"last_activity_date":1665873379,"creation_date":1439935659,"question_id":32083378,"body_markdown":"A shell script run on a CentOS 7 server needs to pass three parameters to a Java program, and then read a Boolean value returned by the Java program as a result of operations done on the three parameters.  **What specific changes do I need to make to the code below in order to return the Boolean value into the shell script?**  \r\n  \r\nHere is a first attempt at the shell script:  \r\n  \r\n    #!/bin/bash\r\n    ARG0=0\r\n    ARG1=0 \r\n    ARG2=0\r\n    CLASSPATH=/path/to/classes\r\n    echo -n &quot;Enter zeroth arg: &quot;\r\n    read ARG0\r\n    echo -n &quot;Enter first arg: &quot;\r\n    read ARG1\r\n    echo -n &quot;Enter second arg: &quot;\r\n    read ARG2\r\n    java -cp $CLASSPATH my.package.SomeClass[ARG0, ARG1, ARG2]\r\n    #How do I return the Boolean from the Java class into this shell script\r\n  \r\nHere is the Java class:  \r\n  \r\n    public class SomeClass {\r\n\t\r\n\tprivate static Boolean passes = false;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString arg0 = null;\r\n\t\tString arg1 = null;\r\n\t\tString arg2 = null;\r\n\r\n\t    for (int i = 0; i &lt; args.length; i++){\r\n\t    \tif(i==0){arg0=args[i];}\r\n\t    \tif(i==1){arg1=args[i];}\r\n\t    \tif(i==2){arg2=args[i];}\r\n\t    }\r\n\t    \r\n\t\tif(!arg0.equals(null) &amp;&amp; !arg1.equals(null) &amp;&amp; !arg2.equals(null)){\r\n\t\t\tpasses = doSomeTest(arg0, arg1, arg2);\r\n\t\t}\r\n\t\telse{passes = false;}\r\n\t}\r\n\t\r\n\tpublic static boolean doSomeTest(String arg0, String arg1, String arg2){\r\n\t\tif(passes_test){return true;}\r\n\t\telse{return false;}\r\n\t}\r\n\t\r\n\tpublic static boolean getPasses(){return passes;}\r\n\r\n    }\r\n","title":"How do I return a boolean from a Java program to a CentOS shell script?","body":"<p>A shell script run on a CentOS 7 server needs to pass three parameters to a Java program, and then read a Boolean value returned by the Java program as a result of operations done on the three parameters.  <strong>What specific changes do I need to make to the code below in order to return the Boolean value into the shell script?</strong></p>\n<p>Here is a first attempt at the shell script:</p>\n<pre><code>#!/bin/bash\nARG0=0\nARG1=0 \nARG2=0\nCLASSPATH=/path/to/classes\necho -n &quot;Enter zeroth arg: &quot;\nread ARG0\necho -n &quot;Enter first arg: &quot;\nread ARG1\necho -n &quot;Enter second arg: &quot;\nread ARG2\njava -cp $CLASSPATH my.package.SomeClass[ARG0, ARG1, ARG2]\n#How do I return the Boolean from the Java class into this shell script\n</code></pre>\n<p>Here is the Java class:</p>\n<pre><code>public class SomeClass {\n\nprivate static Boolean passes = false;\n\npublic static void main(String[] args) {\n    String arg0 = null;\n    String arg1 = null;\n    String arg2 = null;\n\n    for (int i = 0; i &lt; args.length; i++){\n        if(i==0){arg0=args[i];}\n        if(i==1){arg1=args[i];}\n        if(i==2){arg2=args[i];}\n    }\n    \n    if(!arg0.equals(null) &amp;&amp; !arg1.equals(null) &amp;&amp; !arg2.equals(null)){\n        passes = doSomeTest(arg0, arg1, arg2);\n    }\n    else{passes = false;}\n}\n\npublic static boolean doSomeTest(String arg0, String arg1, String arg2){\n    if(passes_test){return true;}\n    else{return false;}\n}\n\npublic static boolean getPasses(){return passes;}\n\n}\n</code></pre>\n"},{"tags":["java","loops","while-loop"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1665514711,"post_id":74032843,"comment_id":130717471,"body_markdown":"`int input = kbd.nextInt(); int rNum = generator.nextInt(100)+1; int counter = 0; while (input != rNum &amp;&amp; counter &lt; 10 )` 1% chance to enter the loop. The random value is 1..100. If you input the wrong number, the loop&#39;s condition is not satisfied and the loop will not be entered.","body":"<code>int input = kbd.nextInt(); int rNum = generator.nextInt(100)+1; int counter = 0; while (input != rNum &amp;&amp; counter &lt; 10 )</code> 1% chance to enter the loop. The random value is 1..100. If you input the wrong number, the loop&#39;s condition is not satisfied and the loop will not be entered."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665515324,"creation_date":1665515324,"answer_id":74032990,"question_id":74032843,"body_markdown":"With the statement `int input = kbd.nextInt();` before the while loop you are already waiting for user input - without prompting the user. I bet you application is waiting for you to enter the first int. Since you are waiting for while loop to start and the application is waiting for you there is a deadlock.\r\n\r\nFigure out how to run a debugger to execute your code step by step. It will help a lot.","title":"Why can I not enter the while loop? (Java)","body":"<p>With the statement <code>int input = kbd.nextInt();</code> before the while loop you are already waiting for user input - without prompting the user. I bet you application is waiting for you to enter the first int. Since you are waiting for while loop to start and the application is waiting for you there is a deadlock.</p>\n<p>Figure out how to run a debugger to execute your code step by step. It will help a lot.</p>\n"},{"tags":[],"owner":{"account_id":21010283,"reputation":38,"user_id":15439049,"display_name":"shivam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665872835,"creation_date":1665516020,"answer_id":74033114,"question_id":74032843,"body_markdown":"Whenever you use a statement which takes input (in your case - `int input = kbd.nextInt();`) the Java application stops executing right there and waits for a input from the specified source (System.in here). Try executing the code again and this time input a random number which will be the value of input variable. After that the loop will start.\r\nAlso, in this case of the game you should change `int input = kbd.nextInt(); ` to \r\n\r\n    int input = -1; \r\nThat will kill the 1 percent chance of the random number being same as the number entered before the loop (game) starts. Or you could put an if condition checking if input and the random number are equal and if they are take a new random number and check again (in a loop). ","title":"Why can I not enter the while loop? (Java)","body":"<p>Whenever you use a statement which takes input (in your case - <code>int input = kbd.nextInt();</code>) the Java application stops executing right there and waits for a input from the specified source (System.in here). Try executing the code again and this time input a random number which will be the value of input variable. After that the loop will start.\nAlso, in this case of the game you should change <code>int input = kbd.nextInt(); </code> to</p>\n<pre><code>int input = -1; \n</code></pre>\n<p>That will kill the 1 percent chance of the random number being same as the number entered before the loop (game) starts. Or you could put an if condition checking if input and the random number are equal and if they are take a new random number and check again (in a loop).</p>\n"}],"owner":{"account_id":26593567,"reputation":3,"user_id":20216347,"display_name":"chenflec"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74033114,"answer_count":2,"score":-1,"last_activity_date":1665872835,"creation_date":1665514453,"question_id":74032843,"body_markdown":"I want to prompt the user to enter their value within the while loop. The error is caused from trying to receive the user&#39;s values using input = kbd.nextInt() and then trying to use that object name in the condition within my while loop (caused a deadlock). Therefore, when trying to run it, the console was blank. Thank you for the help! \r\n\r\n\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\r\n\t\tScanner keyboard = new Scanner(System.in);\t\r\n\t\t\r\n\t\t \r\n\t\tint input = keyboard.nextInt(); \r\n\t\t\r\n\t\t\r\n\t\tRandom generator = new Random(); \r\n\t\tint num = generator.nextInt(100);\r\n\t\t\t\t\r\n\t\t\r\n\t\tint counter = 10;\r\n\t\t\r\n\t\t\r\n\t\twhile (input != num &amp;&amp; counter &gt; 0 )\r\n\t\t{\r\n\t\t\r\n\t\t\tSystem.out.print(&quot;Enter your guess at my number &quot;);\r\n\t\t\tinput = keyboard.nextInt(); \r\n\t\t\t\r\n\t\t\tcounter--; \r\n\t\t\t\r\n\t\t}\r\n\t\t\t\r\n\t\t//close scanner \r\n\t\tkbd.close();\r\n\r\n\t}\r\n}","title":"Why can I not enter the while loop? (Java)","body":"<p>I want to prompt the user to enter their value within the while loop. The error is caused from trying to receive the user's values using input = kbd.nextInt() and then trying to use that object name in the condition within my while loop (caused a deadlock). Therefore, when trying to run it, the console was blank. Thank you for the help!</p>\n<pre><code>public static void main(String[] args) {\n    \n\n    Scanner keyboard = new Scanner(System.in);  \n    \n     \n    int input = keyboard.nextInt(); \n    \n    \n    Random generator = new Random(); \n    int num = generator.nextInt(100);\n            \n    \n    int counter = 10;\n    \n    \n    while (input != num &amp;&amp; counter &gt; 0 )\n    {\n    \n        System.out.print(&quot;Enter your guess at my number &quot;);\n        input = keyboard.nextInt(); \n        \n        counter--; \n        \n    }\n        \n    //close scanner \n    kbd.close();\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","java-7","utc","datetime-parsing","parseexception"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1527135413,"post_id":50498949,"comment_id":88014271,"body_markdown":"While you can remove `T`, `Z` is the offset and should be parsed as such, or incorrect results are most likely. As an aside consider throwing away the long outmoded and notoriously troublesome `SimpleDateFormat` and friends, and adding [ThreeTen Backport](http://www.threeten.org/threetenbp/) to your project in order to use `java.time`, the modern Java date and time API. It is so much nicer to work with.","body":"While you can remove <code>T</code>, <code>Z</code> is the offset and should be parsed as such, or incorrect results are most likely. As an aside consider throwing away the long outmoded and notoriously troublesome <code>SimpleDateFormat</code> and friends, and adding <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport</a> to your project in order to use <code>java.time</code>, the modern Java date and time API. It is so much nicer to work with."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1527135684,"post_id":50498949,"comment_id":88014343,"body_markdown":"Coincidentally I just yesterday wrote [this answer](https://stackoverflow.com/a/50481735/5772882) that shows the correct,  modern, good and simple way to parse your string.","body":"Coincidentally I just yesterday wrote <a href=\"https://stackoverflow.com/a/50481735/5772882\">this answer</a> that shows the correct,  modern, good and simple way to parse your string."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1527135967,"post_id":50498949,"comment_id":88014408,"body_markdown":"Your input date-time string is in UTC (denoted by the `Z` suffix). Do you want your output in your local time zone? Or which time zone?","body":"Your input date-time string is in UTC (denoted by the <code>Z</code> suffix). Do you want your output in your local time zone? Or which time zone?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1527138870,"post_id":50498949,"comment_id":88015171,"body_markdown":"FYI, the troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."}],"answers":[{"comments":[{"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"score":0,"creation_date":1527120178,"post_id":50499008,"comment_id":88010955,"body_markdown":"Thank you Manh, but this prints out as May 23 11:18:31 PDT 2018 - I just want it to be 2018-05-23 23:18:31","body":"Thank you Manh, but this prints out as May 23 11:18:31 PDT 2018 - I just want it to be 2018-05-23 23:18:31"},{"owner":{"account_id":11583471,"reputation":17797,"user_id":8486518,"display_name":"Mạnh Quyết Nguyễn"},"score":0,"creation_date":1527120289,"post_id":50499008,"comment_id":88010977,"body_markdown":"You must provide a format to it. `SimpleDateFormat sdf2 = new SimpleDateFormat(&#39;yyyy-MM-dd HH:mm:ss&#39;); return sdf2.format(convertedDate);`","body":"You must provide a format to it. <code>SimpleDateFormat sdf2 = new SimpleDateFormat(&#39;yyyy-MM-dd HH:mm:ss&#39;); return sdf2.format(convertedDate);</code>"},{"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"score":0,"creation_date":1527137654,"post_id":50499008,"comment_id":88014834,"body_markdown":"Tried that before responding to you earlier and it still gave a ParseException.","body":"Tried that before responding to you earlier and it still gave a ParseException."},{"owner":{"account_id":11583471,"reputation":17797,"user_id":8486518,"display_name":"Mạnh Quyết Nguyễn"},"score":0,"creation_date":1527137832,"post_id":50499008,"comment_id":88014878,"body_markdown":"It works as intended. Which part did you stuck at? I have a typo at above `SimpleDateFormat`, it needs 4 `y` instead of `yyy`","body":"It works as intended. Which part did you stuck at? I have a typo at above <code>SimpleDateFormat</code>, it needs 4 <code>y</code> instead of <code>yyy</code>"}],"tags":[],"owner":{"account_id":11583471,"reputation":17797,"user_id":8486518,"display_name":"Mạnh Quyết Nguyễn"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527119500,"creation_date":1527119500,"answer_id":50499008,"question_id":50498949,"body_markdown":"`YYYY` does not match with year part. In java 7 you need `yyyy`.\r\n\r\nFor `T`, use `&#39;T&#39;` to match it\r\n\r\nYou&#39;re also missing the faction of millsecond part: `.SSS`\r\n\r\nTry this:\r\n\r\n    String dateStr=&quot;2018-05-23T23:18:31.000Z&quot;;\r\n    TimeZone utc = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\n    sdf.setTimeZone(utc);\r\n    Date convertedDate = sdf.parse(dateStr);\r\n    convertedDate.toString();","title":"How to convert UTC Date String and remove the T and Z in Java?","body":"<p><code>YYYY</code> does not match with year part. In java 7 you need <code>yyyy</code>.</p>\n\n<p>For <code>T</code>, use <code>'T'</code> to match it</p>\n\n<p>You're also missing the faction of millsecond part: <code>.SSS</code></p>\n\n<p>Try this:</p>\n\n<pre><code>String dateStr=\"2018-05-23T23:18:31.000Z\";\nTimeZone utc = TimeZone.getTimeZone(\"UTC\");\nSimpleDateFormat sdf = new SimpleDateFormat(\"yyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\nsdf.setTimeZone(utc);\nDate convertedDate = sdf.parse(dateStr);\nconvertedDate.toString();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4859711,"reputation":1497,"user_id":8956093,"display_name":"Ramakrishna Joshi"},"score":0,"creation_date":1596045839,"post_id":50499083,"comment_id":111687254,"body_markdown":"Same code in kotlin : val utc = TimeZone.getTimeZone(&quot;UTC&quot;)\nval sourceFormat =  SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;)\nval destFormat =  SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;)\nsourceFormat.setTimeZone(utc)\nval convertedDate : Date = sourceFormat.parse(dateStr)\nval result = destFormat.format(convertedDate)","body":"Same code in kotlin : val utc = TimeZone.getTimeZone(&quot;UTC&quot;) val sourceFormat =  SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;) val destFormat =  SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;) sourceFormat.setTimeZone(utc) val convertedDate : Date = sourceFormat.parse(dateStr) val result = destFormat.format(convertedDate)"}],"tags":[],"owner":{"account_id":7795985,"reputation":784,"user_id":5897052,"display_name":"J K"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1527136400,"creation_date":1527120134,"answer_id":50499083,"question_id":50498949,"body_markdown":"Try this. You have to use one pattern for parsing and another for formatting.\r\n\r\n    public static String convertToNewFormat(String dateStr) throws ParseException {\r\n        TimeZone utc = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n        SimpleDateFormat sourceFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\n        SimpleDateFormat destFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        sourceFormat.setTimeZone(utc);\r\n        Date convertedDate = sourceFormat.parse(dateStr);\r\n        return destFormat.format(convertedDate);\r\n    }","title":"How to convert UTC Date String and remove the T and Z in Java?","body":"<p>Try this. You have to use one pattern for parsing and another for formatting.</p>\n\n<pre><code>public static String convertToNewFormat(String dateStr) throws ParseException {\n    TimeZone utc = TimeZone.getTimeZone(\"UTC\");\n    SimpleDateFormat sourceFormat = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n    SimpleDateFormat destFormat = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n    sourceFormat.setTimeZone(utc);\n    Date convertedDate = sourceFormat.parse(dateStr);\n    return destFormat.format(convertedDate);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1527138850,"post_id":50499108,"comment_id":88015161,"body_markdown":"Using `LocalDateTime` means you are throwing away important information, with nothing gained.","body":"Using <code>LocalDateTime</code> means you are throwing away important information, with nothing gained."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1527139605,"post_id":50499108,"comment_id":88015424,"body_markdown":"This will work nicely in Java 1.7 too when you add [ThreeTen Backport](http://www.threeten.org/threetenbp/) to your project. You don’t need a formatter for the input. `Instant.parse` and the one-arg `OffsetDateTime.parse` will parse the source string without any explicit formatter.","body":"This will work nicely in Java 1.7 too when you add <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport</a> to your project. You don’t need a formatter for the input. <code>Instant.parse</code> and the one-arg <code>OffsetDateTime.parse</code> will parse the source string without any explicit formatter."},{"owner":{"account_id":1494363,"reputation":2486,"user_id":1400672,"accept_rate":61,"display_name":"Rami.Q"},"score":0,"creation_date":1527209565,"post_id":50499108,"comment_id":88052599,"body_markdown":"@BasilBourque See my Edit!. @ OleV.V: if a user ask such simple Question, so its better to give him/her the straight and informative Answer, so he/she can understand the functionality. After that he/she could compare other Classes/methods available out there. You said &quot;you don&#39;t need a formatter for the input&quot; this is only true if the input is always with this &quot;standard format&quot;, otherwise you need a formatter, so i mentioned it in my Answer. Thank you","body":"@BasilBourque See my Edit!. @ OleV.V: if a user ask such simple Question, so its better to give him/her the straight and informative Answer, so he/she can understand the functionality. After that he/she could compare other Classes/methods available out there. You said &quot;you don&#39;t need a formatter for the input&quot; this is only true if the input is always with this &quot;standard format&quot;, otherwise you need a formatter, so i mentioned it in my Answer. Thank you"}],"tags":[],"owner":{"account_id":1494363,"reputation":2486,"user_id":1400672,"accept_rate":61,"display_name":"Rami.Q"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1527209655,"creation_date":1527120414,"answer_id":50499108,"question_id":50498949,"body_markdown":"For others without Java 1.7 Restrictions:\r\n\r\nSince Java 1.8 you can do it using `LocalDateTime` and `ZonedDateTime` from the package `java.time`\r\n\r\n    public static void main(String[] args) {\r\n    \tString sourceDateTime\t\t\t= &quot;2018-05-23T23:18:31.000Z&quot;;\r\n\t\tDateTimeFormatter sourceFormat \t= DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\n\t\tDateTimeFormatter targetFormat \t= DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\t\t\r\n\t\tLocalDateTime dateTime\t        = LocalDateTime.parse(sourceDateTime, sourceFormat);\r\n\t\tString formatedDateTime         = dateTime.atZone(ZoneId.of(&quot;UTC&quot;)).format(targetFormat);\r\n\t\tSystem.out.println(formatedDateTime);\r\n    }\r\n\r\nEDIT: (see Comments)\r\n\r\nQuote from the Oracle Java documentation of [LocalDateTime][1]:\r\n&gt; LocalDateTime is an immutable date-time object that represents a\r\n&gt; date-time, often viewed as year-month-day-hour-minute-second. Other\r\n&gt; date and time fields, such as day-of-year, day-of-week and\r\n&gt; week-of-year, can also be accessed. Time is represented to nanosecond\r\n&gt; precision. For example, the value &quot;2nd October 2007 at\r\n&gt; 13:45.30.123456789&quot; can be stored in a LocalDateTime.\r\n&gt; \r\n&gt; This class does not store or represent a time-zone. Instead, it is a\r\n&gt; description of the date, as used for birthdays, combined with the\r\n&gt; local time as seen on a wall clock. It cannot represent an instant on\r\n&gt; the time-line without additional information such as an offset or\r\n&gt; time-zone.\r\n\r\nthe OP is asking to JUST parsing an Input String to a date-time (as year-month-day-hour-minute-second) and the Documentation says \r\n\r\n&gt; LocalDateTime ... represents a date-time, often viewed as\r\n&gt; year-month-day-hour-minute-second\r\n\r\nso no important information are lost here. And the part `dateTime.atZone(ZoneId.of(&quot;UTC&quot;))` returns a `ZonedDateTime` so the ZimeZone is handled at this point again if the user needs to work with the timezone ...etc.\r\n\r\nso don&#39;t try to force users to use the &quot;One and Only&quot; solution you present in your answer.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html","title":"How to convert UTC Date String and remove the T and Z in Java?","body":"<p>For others without Java 1.7 Restrictions:</p>\n\n<p>Since Java 1.8 you can do it using <code>LocalDateTime</code> and <code>ZonedDateTime</code> from the package <code>java.time</code></p>\n\n<pre><code>public static void main(String[] args) {\n    String sourceDateTime           = \"2018-05-23T23:18:31.000Z\";\n    DateTimeFormatter sourceFormat  = DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n    DateTimeFormatter targetFormat  = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\");\n\n    LocalDateTime dateTime          = LocalDateTime.parse(sourceDateTime, sourceFormat);\n    String formatedDateTime         = dateTime.atZone(ZoneId.of(\"UTC\")).format(targetFormat);\n    System.out.println(formatedDateTime);\n}\n</code></pre>\n\n<p>EDIT: (see Comments)</p>\n\n<p>Quote from the Oracle Java documentation of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\">LocalDateTime</a>:</p>\n\n<blockquote>\n  <p>LocalDateTime is an immutable date-time object that represents a\n  date-time, often viewed as year-month-day-hour-minute-second. Other\n  date and time fields, such as day-of-year, day-of-week and\n  week-of-year, can also be accessed. Time is represented to nanosecond\n  precision. For example, the value \"2nd October 2007 at\n  13:45.30.123456789\" can be stored in a LocalDateTime.</p>\n  \n  <p>This class does not store or represent a time-zone. Instead, it is a\n  description of the date, as used for birthdays, combined with the\n  local time as seen on a wall clock. It cannot represent an instant on\n  the time-line without additional information such as an offset or\n  time-zone.</p>\n</blockquote>\n\n<p>the OP is asking to JUST parsing an Input String to a date-time (as year-month-day-hour-minute-second) and the Documentation says </p>\n\n<blockquote>\n  <p>LocalDateTime ... represents a date-time, often viewed as\n  year-month-day-hour-minute-second</p>\n</blockquote>\n\n<p>so no important information are lost here. And the part <code>dateTime.atZone(ZoneId.of(\"UTC\"))</code> returns a <code>ZonedDateTime</code> so the ZimeZone is handled at this point again if the user needs to work with the timezone ...etc.</p>\n\n<p>so don't try to force users to use the \"One and Only\" solution you present in your answer.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1594938175,"creation_date":1527139085,"answer_id":50501489,"question_id":50498949,"body_markdown":"# tl;dr\r\n\r\n    Instant.parse( &quot;2018-05-23T23:18:31.000Z&quot; )                // Parse this String in standard ISO 8601 format as a `Instant`, a point on the timeline in UTC. The `Z` means UTC.\r\n    .atOffset( ZoneOffset.UTC )                                // Change from `Instant` to the more flexible `OffsetDateTime`.\r\n    .format(                                                   // Generate a String representing the value of this `OffsetDateTime` object.\r\n        DateTimeFormatter.ofPattern( &quot;uuuu-MM-dd HH:mm:ss&quot; )   // Specify a formatting pattern as desired.\r\n    )                                                          // Returns a `String` object.\r\n\r\n&gt;2018-05-23 23:18:31\r\n\r\n# ISO 8601 \r\n\r\nYour input string is in standard [ISO 8601][1] format.\r\n\r\nThe *java.time* classes use these standard formats by default when parsing/generating strings.\r\n\r\nThe `T` separates the year-month-day portion from the hour-minute-second. The `Z` is pronounced `Zulu` and means [UTC][2].\r\n\r\n# java.time\r\n\r\nYou are using troublesome old date-time classes that were supplanted years ago by the *java.time* classes. The Apache `DateUtils` is also no longer needed, as you will find its functionality in *java.time* as well. \r\n\r\nParse that input string as a `Instant` object. The [`Instant`](http://docs.oracle.com/javase/10/docs/api/java/time/Instant.html) class represents a moment on the timeline in [UTC](https://en.wikipedia.org/wiki/Coordinated_Universal_Time) with a resolution of [nanoseconds](https://en.wikipedia.org/wiki/Nanosecond) (up to nine (9) digits of a decimal fraction). \r\n\r\n    String input = &quot;2018-05-23T23:18:31.000Z&quot; ;\r\n    Instant instant = Instant.parse( input ) ;\r\n\r\nTo generate a string in another format, we need a more flexible object. The `Instant` class is meant to be a basic building block. Let`s convert it to a `OffsetDateTime`, using UTC itself as the specified offset-from-UTC.\r\n\r\n    OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ; \r\n\r\nDefine a formatting pattern to match your desired output.\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;uuuu-MM-dd HH:mm:ss&quot; ) ;\r\n    String output = odt.format( f ) ;\r\n\r\nTip: Consider using `DateTimeFormatter::ofLocalized…` methods to automatically localize the String generation per some `Locale` rather than hard-coding a formatting pattern.\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), a process known as [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time","title":"How to convert UTC Date String and remove the T and Z in Java?","body":"<h1>tl;dr</h1>\n<pre><code>Instant.parse( &quot;2018-05-23T23:18:31.000Z&quot; )                // Parse this String in standard ISO 8601 format as a `Instant`, a point on the timeline in UTC. The `Z` means UTC.\n.atOffset( ZoneOffset.UTC )                                // Change from `Instant` to the more flexible `OffsetDateTime`.\n.format(                                                   // Generate a String representing the value of this `OffsetDateTime` object.\n    DateTimeFormatter.ofPattern( &quot;uuuu-MM-dd HH:mm:ss&quot; )   // Specify a formatting pattern as desired.\n)                                                          // Returns a `String` object.\n</code></pre>\n<blockquote>\n<p>2018-05-23 23:18:31</p>\n</blockquote>\n<h1>ISO 8601</h1>\n<p>Your input string is in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> format.</p>\n<p>The <em>java.time</em> classes use these standard formats by default when parsing/generating strings.</p>\n<p>The <code>T</code> separates the year-month-day portion from the hour-minute-second. The <code>Z</code> is pronounced <code>Zulu</code> and means <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a>.</p>\n<h1>java.time</h1>\n<p>You are using troublesome old date-time classes that were supplanted years ago by the <em>java.time</em> classes. The Apache <code>DateUtils</code> is also no longer needed, as you will find its functionality in <em>java.time</em> as well.</p>\n<p>Parse that input string as a <code>Instant</code> object. The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> class represents a moment on the timeline in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> with a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a> (up to nine (9) digits of a decimal fraction).</p>\n<pre><code>String input = &quot;2018-05-23T23:18:31.000Z&quot; ;\nInstant instant = Instant.parse( input ) ;\n</code></pre>\n<p>To generate a string in another format, we need a more flexible object. The <code>Instant</code> class is meant to be a basic building block. Let<code>s convert it to a </code>OffsetDateTime`, using UTC itself as the specified offset-from-UTC.</p>\n<pre><code>OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ; \n</code></pre>\n<p>Define a formatting pattern to match your desired output.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;uuuu-MM-dd HH:mm:ss&quot; ) ;\nString output = odt.format( f ) ;\n</code></pre>\n<p>Tip: Consider using <code>DateTimeFormatter::ofLocalized…</code> methods to automatically localize the String generation per some <code>Locale</code> rather than hard-coding a formatting pattern.</p>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), a process known as <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6361169,"reputation":2529,"user_id":4936616,"display_name":"Jose"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575343165,"creation_date":1575343165,"answer_id":59149713,"question_id":50498949,"body_markdown":"In Kotlin and using ThreeTenABP,\r\n\r\n```kotlin\r\nfun getIsoString(year: Int, month: Int, day: Int): String {\r\n    val localTime = ZonedDateTime.of(year, month, day, 0, 0, 0, 0, ZoneId.of(&quot;Z&quot;))\r\n\r\n    val utcTime = localTime.toOffsetDateTime().withOffsetSameInstant(ZoneOffset.UTC)\r\n\r\n    val isoString = utcTime.toInstant().toString() // 1940-15-12T00:00:00Z\r\n\r\n    val formattedIsoString = val formattedIsoString =\r\n        Instant.parse(isoString)\r\n            .atOffset(ZoneOffset.UTC)\r\n            .format(DateTimeFormatter\r\n                .ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss&quot;)) // &#39;T&#39; in quotes so that it is retained.\r\n    \r\n    return formattedIsoString\r\n}\r\n\r\n// print it\r\nprint(getIsoString(1940, 15, 12)) // 1940-15-12T00:00:00\r\n```","title":"How to convert UTC Date String and remove the T and Z in Java?","body":"<p>In Kotlin and using ThreeTenABP,</p>\n\n<pre><code>fun getIsoString(year: Int, month: Int, day: Int): String {\n    val localTime = ZonedDateTime.of(year, month, day, 0, 0, 0, 0, ZoneId.of(\"Z\"))\n\n    val utcTime = localTime.toOffsetDateTime().withOffsetSameInstant(ZoneOffset.UTC)\n\n    val isoString = utcTime.toInstant().toString() // 1940-15-12T00:00:00Z\n\n    val formattedIsoString = val formattedIsoString =\n        Instant.parse(isoString)\n            .atOffset(ZoneOffset.UTC)\n            .format(DateTimeFormatter\n                .ofPattern(\"uuuu-MM-dd'T'HH:mm:ss\")) // 'T' in quotes so that it is retained.\n\n    return formattedIsoString\n}\n\n// print it\nprint(getIsoString(1940, 15, 12)) // 1940-15-12T00:00:00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3149308,"reputation":2907,"user_id":2663073,"display_name":"Ajay Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600167343,"creation_date":1600166387,"answer_id":63900132,"question_id":50498949,"body_markdown":"You can try this below the idea.\r\nI am not an expert in JAVA but I did it in javascript/node.js\r\n\r\n    \r\n    import * as momentTimeZone from &#39;moment-timezone&#39;;\r\n    \r\n    let d = new Data(); // d = &#39;2018-05-23T23:18:31.000Z&#39;; or we can take this date\r\n    let finalOutput = momentTimeZone(d).tz(this.locationService.locationTimeZone).utc().format(&#39;YYYY-MM-DD HH:mm:ss&#39;);\r\n    console.log(&#39;Result: &#39;, finalOutput); // Result: &quot;2018-05-23 23:18:31&quot;;\r\n    \r\nIt also works with `moment.js`.\r\nHere is more about [format][1].\r\n\r\n\r\n  [1]: https://momentjs.com/docs/#/displaying/format/","title":"How to convert UTC Date String and remove the T and Z in Java?","body":"<p>You can try this below the idea.\nI am not an expert in JAVA but I did it in javascript/node.js</p>\n<pre><code>import * as momentTimeZone from 'moment-timezone';\n\nlet d = new Data(); // d = '2018-05-23T23:18:31.000Z'; or we can take this date\nlet finalOutput = momentTimeZone(d).tz(this.locationService.locationTimeZone).utc().format('YYYY-MM-DD HH:mm:ss');\nconsole.log('Result: ', finalOutput); // Result: &quot;2018-05-23 23:18:31&quot;;\n</code></pre>\n<p>It also works with <code>moment.js</code>.\nHere is more about <a href=\"https://momentjs.com/docs/#/displaying/format/\" rel=\"nofollow noreferrer\">format</a>.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665871523,"creation_date":1665871523,"answer_id":74083346,"question_id":50498949,"body_markdown":"# *java.time*\r\n\r\nThe `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html).\r\n\r\nAlso, quoted below is a notice from the [Home Page of **Joda-Time**](https://www.joda.org/joda-time/):\r\n\r\n&gt; Note that from Java SE 8 onwards, users are asked to migrate to java.time (JSR-310) - a core part of the JDK which replaces this project.\r\n\r\n**Solution using `java.time`, the modern Date-Time API:**\r\n\r\n    ZonedDateTime.parse(&quot;2018-05-23T23:18:31.000Z&quot;)\r\n         .format(DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;, Locale.ENGLISH));\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/Aow4T1)\r\n\r\nNote that you do not need a custom `DateTimeFormatter` to parse the date-time string, 2018-05-23T23:18:31.000Z as it is already in the default pattern used by `ZonedDateTime`. The modern date-time API is based on [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601).\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\nSome helpful answers using `java.time` API:\r\n\r\n 1. [`&#39;Z&#39;` is not the same as `Z`](https://stackoverflow.com/a/67953075/10819573).\r\n 2. [Never use SimpleDateFormat or DateTimeFormatter without a Locale](https://stackoverflow.com/a/65544056/10819573).\r\n 3. I [prefer u to y](https://stackoverflow.com/questions/65908827/kotlin-datetimeparseexception/65928023#65928023) with a `DateTimeFormatter`.\r\n\r\n---\r\nFor the sake of completeness\r\n--\r\n\r\nFor the sake of completeness, given below is a solution using the legacy date-time API:\r\n\r\n    DateFormat parser = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;, Locale.ENGLISH);\r\n    parser.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    Date dateTime = parser.parse(&quot;2018-05-23T23:18:31.000Z&quot;);\r\n    \r\n    DateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;, Locale.ENGLISH);\r\n    formatter.setTimeZone(parser.getTimeZone());\r\n    String formattedDateTimeString = formatter.format(dateTime);\r\n    System.out.println(formattedDateTimeString);\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/9wlOrX)","title":"How to convert UTC Date String and remove the T and Z in Java?","body":"<h1><em>java.time</em></h1>\n<p>The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a>.</p>\n<p>Also, quoted below is a notice from the <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Home Page of <strong>Joda-Time</strong></a>:</p>\n<blockquote>\n<p>Note that from Java SE 8 onwards, users are asked to migrate to java.time (JSR-310) - a core part of the JDK which replaces this project.</p>\n</blockquote>\n<p><strong>Solution using <code>java.time</code>, the modern Date-Time API:</strong></p>\n<pre><code>ZonedDateTime.parse(&quot;2018-05-23T23:18:31.000Z&quot;)\n     .format(DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;, Locale.ENGLISH));\n</code></pre>\n<p><a href=\"https://ideone.com/Aow4T1\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Note that you do not need a custom <code>DateTimeFormatter</code> to parse the date-time string, 2018-05-23T23:18:31.000Z as it is already in the default pattern used by <code>ZonedDateTime</code>. The modern date-time API is based on <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a>.</p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<p>Some helpful answers using <code>java.time</code> API:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/a/67953075/10819573\"><code>'Z'</code> is not the same as <code>Z</code></a>.</li>\n<li><a href=\"https://stackoverflow.com/a/65544056/10819573\">Never use SimpleDateFormat or DateTimeFormatter without a Locale</a>.</li>\n<li>I <a href=\"https://stackoverflow.com/questions/65908827/kotlin-datetimeparseexception/65928023#65928023\">prefer u to y</a> with a <code>DateTimeFormatter</code>.</li>\n</ol>\n<hr />\n<h2>For the sake of completeness</h2>\n<p>For the sake of completeness, given below is a solution using the legacy date-time API:</p>\n<pre><code>DateFormat parser = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSX&quot;, Locale.ENGLISH);\nparser.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\nDate dateTime = parser.parse(&quot;2018-05-23T23:18:31.000Z&quot;);\n\nDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;, Locale.ENGLISH);\nformatter.setTimeZone(parser.getTimeZone());\nString formattedDateTimeString = formatter.format(dateTime);\nSystem.out.println(formattedDateTimeString);\n</code></pre>\n<p><a href=\"https://ideone.com/9wlOrX\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n"}],"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49770,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":50499083,"answer_count":7,"score":7,"last_activity_date":1665871523,"creation_date":1527118976,"question_id":50498949,"body_markdown":"Am using Java 1.7. \r\n\r\nTrying to convert:\r\n \r\n    2018-05-23T23:18:31.000Z \r\n\r\ninto\r\n\r\n    2018-05-23 23:18:31\r\n\r\nDateUtils class:\r\n\r\n\tpublic class DateUtils {\r\n\r\n\t\tpublic static String convertToNewFormat(String dateStr) throws ParseException {\r\n\t\t\tTimeZone utc = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n\t\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;YYYY-MM-dd HH:mm:ss&quot;);\r\n\t\t\tsdf.setTimeZone(utc);\r\n\t    \tDate convertedDate = sdf.parse(dateStr);\r\n\t\t\treturn convertedDate.toString();\r\n\t\t}\r\n\t}\r\n\r\nWhen trying to use it:\r\n\r\n\tString convertedDate = DateUtils.convertToNewFormat(&quot;2018-05-23T23:18:31.000Z&quot;);\r\n\tSystem.out.println(convertedDate);\r\n\r\nGet the following exception:\r\n\r\n    Exception in thread &quot;main&quot; java.text.ParseException: Unparseable date: &quot;2018-05-23T23:22:16.000Z&quot;\r\n\t   at java.text.DateFormat.parse(DateFormat.java:366)\r\n\t   at com.myapp.utils.DateUtils.convertToNewFormat(DateUtils.java:7)\r\n\r\nWhat am I possibly doing wrong? \r\n\r\nIs there an easier way to do is (e.g. Apache Commons lib)? ","title":"How to convert UTC Date String and remove the T and Z in Java?","body":"<p>Am using Java 1.7. </p>\n\n<p>Trying to convert:</p>\n\n<pre><code>2018-05-23T23:18:31.000Z \n</code></pre>\n\n<p>into</p>\n\n<pre><code>2018-05-23 23:18:31\n</code></pre>\n\n<p>DateUtils class:</p>\n\n<pre><code>public class DateUtils {\n\n    public static String convertToNewFormat(String dateStr) throws ParseException {\n        TimeZone utc = TimeZone.getTimeZone(\"UTC\");\n        SimpleDateFormat sdf = new SimpleDateFormat(\"YYYY-MM-dd HH:mm:ss\");\n        sdf.setTimeZone(utc);\n        Date convertedDate = sdf.parse(dateStr);\n        return convertedDate.toString();\n    }\n}\n</code></pre>\n\n<p>When trying to use it:</p>\n\n<pre><code>String convertedDate = DateUtils.convertToNewFormat(\"2018-05-23T23:18:31.000Z\");\nSystem.out.println(convertedDate);\n</code></pre>\n\n<p>Get the following exception:</p>\n\n<pre><code>Exception in thread \"main\" java.text.ParseException: Unparseable date: \"2018-05-23T23:22:16.000Z\"\n   at java.text.DateFormat.parse(DateFormat.java:366)\n   at com.myapp.utils.DateUtils.convertToNewFormat(DateUtils.java:7)\n</code></pre>\n\n<p>What am I possibly doing wrong? </p>\n\n<p>Is there an easier way to do is (e.g. Apache Commons lib)? </p>\n"},{"tags":["java","spring","spring-boot","servlet-filters"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1631243010,"post_id":69126647,"comment_id":122175279,"body_markdown":"*NOT using spring boot web* So are you running Netty in Servlet mode or not? If no, then your Filter is meaningless; if you are, you don&#39;t need any of the registration business, just put a bean into the Spring context and Boot will do it automatically.","body":"<i>NOT using spring boot web</i> So are you running Netty in Servlet mode or not? If no, then your Filter is meaningless; if you are, you don&#39;t need any of the registration business, just put a bean into the Spring context and Boot will do it automatically."},{"owner":{"account_id":8516118,"reputation":555,"user_id":6384491,"display_name":"Daniel Kang"},"score":0,"creation_date":1631249231,"post_id":69126647,"comment_id":122176269,"body_markdown":"@chrylis-cautiouslyoptimistic- I am using webflux so reactor netty should be configured automatically; however, even with or without the registration business the servlet filter is not invoked","body":"@chrylis-cautiouslyoptimistic- I am using webflux so reactor netty should be configured automatically; however, even with or without the registration business the servlet filter is not invoked"},{"owner":{"account_id":3508628,"reputation":501,"user_id":2933553,"accept_rate":50,"display_name":"SaleemKhair"},"score":1,"creation_date":1631257896,"post_id":69126647,"comment_id":122178312,"body_markdown":"Try using the `org.springframework.web.server.WebFilter` interface from the [WebHadler API](https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-web-handler-api)","body":"Try using the <code>org.springframework.web.server.WebFilter</code> interface from the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-web-handler-api\" rel=\"nofollow noreferrer\">WebHadler API</a>"},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1631280626,"post_id":69126647,"comment_id":122186793,"body_markdown":"If you aren&#39;t using Servlets, then Servlet filters won&#39;t work. Use Saleem&#39;s suggestion.","body":"If you aren&#39;t using Servlets, then Servlet filters won&#39;t work. Use Saleem&#39;s suggestion."},{"owner":{"account_id":8516118,"reputation":555,"user_id":6384491,"display_name":"Daniel Kang"},"score":0,"creation_date":1631493626,"post_id":69126647,"comment_id":122229005,"body_markdown":"@SaleemKhair Thank you. Using WebFilter Solved the Problem","body":"@SaleemKhair Thank you. Using WebFilter Solved the Problem"}],"answers":[{"tags":[],"owner":{"account_id":26635214,"reputation":1,"user_id":20251760,"display_name":"Habtom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665871274,"creation_date":1665871274,"answer_id":74083326,"question_id":69126647,"body_markdown":"*Try this one it it gonna work. You forgot to inject the DeviceFilter*\r\n\r\n        @Configuration\r\n    public class FilterConfig {\r\n    @Autowired\r\n    DeviceFilter deviceFilter\r\n        @Bean\r\n        public FilterRegistrationBean&lt;DeviceFilter&gt; filterRegistrationBean(){\r\n            FilterRegistrationBean&lt;DeviceFilter&gt; registrationBean = new \r\n               FilterRegistrationBean&lt;&gt;();\r\n            registrationBean.setFilter(deviceFilter);\r\n            registrationBean.addUrlPatterns(&quot;/*&quot;);\r\n            return registrationBean;\r\n        }\r\n    }","title":"Spring Boot Servlet Filter Not Called","body":"<p><em>Try this one it it gonna work. You forgot to inject the DeviceFilter</em></p>\n<pre><code>    @Configuration\npublic class FilterConfig {\n@Autowired\nDeviceFilter deviceFilter\n    @Bean\n    public FilterRegistrationBean&lt;DeviceFilter&gt; filterRegistrationBean(){\n        FilterRegistrationBean&lt;DeviceFilter&gt; registrationBean = new \n           FilterRegistrationBean&lt;&gt;();\n        registrationBean.setFilter(deviceFilter);\n        registrationBean.addUrlPatterns(&quot;/*&quot;);\n        return registrationBean;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8516118,"reputation":555,"user_id":6384491,"display_name":"Daniel Kang"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2842,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665871274,"creation_date":1631242007,"question_id":69126647,"body_markdown":"Hello I am new to Spring Boot and I am struggling creating a filter; the filter class I have created is not invoked when the project starts or even when I am sending API requests (Is not calling init, doFilter, and destroy).\r\nCurrently I am NOT using spring boot web and I am BUILDING spring boot with gradle and running React front-end and Spring boot as back end. I have created a Filter Class where it implements Filter from ```import javax.servlet.*``` and uses ```@Components```. Like shown below. \r\n```\r\n@Component\r\npublic class DeviceFilter implements Filter{\r\n    @Autowired\r\n    DeviceRepository deviceRepository;\r\n    private static final Logger LOG = LoggerFactory.getLogger(DeviceFilter.class);\r\n\r\n    @Override\r\n    public void init(FilterConfig filterConfig) throws ServletException {\r\n        System.out.println(&quot;INIT FILTER.....&quot;);\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n        System.out.println(&quot;DO FILTER.....&quot;);\r\n        LOG.info(&quot;Logging&quot;);\r\n        System.out.println(&quot;INFO&quot;);\r\n        chain.doFilter(request, response);\r\n    }\r\n\r\n    @Override\r\n    public void destroy() {\r\n        System.out.println(&quot;DESTORY FILTER.....&quot;);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nFurthermore I think I am suppose to add/ map filter in web.xml but since I built the project with gradle the project doesn&#39;t have web.xml so I have created a ```@Configuration``` class where I have mapped the filter like shown below. \r\n```\r\n@Configuration\r\npublic class FilterConfig {\r\n    @Bean\r\n    public FilterRegistrationBean&lt;DeviceFilter&gt; filterRegistrationBean(){\r\n        FilterRegistrationBean&lt;DeviceFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\r\n        registrationBean.setFilter(new DeviceFilter());\r\n        registrationBean.addUrlPatterns(&quot;/*&quot;);\r\n        return registrationBean;\r\n    }\r\n}\r\n\r\n```\r\nAm I missing something or am I doing something wrong? Please Help Thank you!\r\nPS: Also when I run spring boot from main class the console prints like shown below\r\n```\r\n2021-09-10 11:27:51.725  INFO 66959 --- [main] a.m.s.Project    : Starting Project using Java 16 on Bob-MBP-2 with PID 66959 (/Users/bob/Development/project/build/classes/java/main started by bob in /Users/bob/Development/project)\r\n2021-09-10 11:27:51.727  INFO 66959 --- [main] a.m.s.Project    : The following profiles are active: dev\r\n2021-09-10 11:27:52.422  INFO 66959 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\r\n2021-09-10 11:27:52.521  INFO 66959 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 96 ms. Found 16 R2DBC repository interfaces.\r\n2021-09-10 11:27:54.725  INFO 66959 --- [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 9020\r\n2021-09-10 11:27:54.736  INFO 66959 --- [main] a.m.s.Project    : Started Project in 3.355 seconds (JVM running for 4.041)\r\n\r\n```\r\n\r\n","title":"Spring Boot Servlet Filter Not Called","body":"<p>Hello I am new to Spring Boot and I am struggling creating a filter; the filter class I have created is not invoked when the project starts or even when I am sending API requests (Is not calling init, doFilter, and destroy).\nCurrently I am NOT using spring boot web and I am BUILDING spring boot with gradle and running React front-end and Spring boot as back end. I have created a Filter Class where it implements Filter from <code>import javax.servlet.*</code> and uses <code>@Components</code>. Like shown below.</p>\n<pre><code>@Component\npublic class DeviceFilter implements Filter{\n    @Autowired\n    DeviceRepository deviceRepository;\n    private static final Logger LOG = LoggerFactory.getLogger(DeviceFilter.class);\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        System.out.println(&quot;INIT FILTER.....&quot;);\n    }\n\n\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        System.out.println(&quot;DO FILTER.....&quot;);\n        LOG.info(&quot;Logging&quot;);\n        System.out.println(&quot;INFO&quot;);\n        chain.doFilter(request, response);\n    }\n\n    @Override\n    public void destroy() {\n        System.out.println(&quot;DESTORY FILTER.....&quot;);\n    }\n}\n\n\n</code></pre>\n<p>Furthermore I think I am suppose to add/ map filter in web.xml but since I built the project with gradle the project doesn't have web.xml so I have created a <code>@Configuration</code> class where I have mapped the filter like shown below.</p>\n<pre><code>@Configuration\npublic class FilterConfig {\n    @Bean\n    public FilterRegistrationBean&lt;DeviceFilter&gt; filterRegistrationBean(){\n        FilterRegistrationBean&lt;DeviceFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\n        registrationBean.setFilter(new DeviceFilter());\n        registrationBean.addUrlPatterns(&quot;/*&quot;);\n        return registrationBean;\n    }\n}\n\n</code></pre>\n<p>Am I missing something or am I doing something wrong? Please Help Thank you!\nPS: Also when I run spring boot from main class the console prints like shown below</p>\n<pre><code>2021-09-10 11:27:51.725  INFO 66959 --- [main] a.m.s.Project    : Starting Project using Java 16 on Bob-MBP-2 with PID 66959 (/Users/bob/Development/project/build/classes/java/main started by bob in /Users/bob/Development/project)\n2021-09-10 11:27:51.727  INFO 66959 --- [main] a.m.s.Project    : The following profiles are active: dev\n2021-09-10 11:27:52.422  INFO 66959 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\n2021-09-10 11:27:52.521  INFO 66959 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 96 ms. Found 16 R2DBC repository interfaces.\n2021-09-10 11:27:54.725  INFO 66959 --- [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 9020\n2021-09-10 11:27:54.736  INFO 66959 --- [main] a.m.s.Project    : Started Project in 3.355 seconds (JVM running for 4.041)\n\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1665863712,"post_id":74082518,"comment_id":130800178,"body_markdown":"can you share your runing code","body":"can you share your runing code"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665867253,"post_id":74082518,"comment_id":130800864,"body_markdown":"[Avoid null layouts in Swing](https://technojeeves.com/index.php/aliasjava1/114-avoid-null-layouts-in-swing)\nAlso, in ```JPanel``` you need to override ```paintComponent```","body":"<a href=\"https://technojeeves.com/index.php/aliasjava1/114-avoid-null-layouts-in-swing\" rel=\"nofollow noreferrer\">Avoid null layouts in Swing</a> Also, in <code>JPanel</code> you need to override <code>paintComponent</code>"},{"owner":{"account_id":25650095,"reputation":11,"user_id":19417494,"display_name":"Demo User"},"score":0,"creation_date":1665870327,"post_id":74082518,"comment_id":130801414,"body_markdown":"Updated the post with the entire code, it is structured in  3 classes. Apologies if it&#39;s more annoying to work with like this.","body":"Updated the post with the entire code, it is structured in  3 classes. Apologies if it&#39;s more annoying to work with like this."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1665870394,"post_id":74082518,"comment_id":130801432,"body_markdown":"Your ActionListener code is wrong. If you want animation, you can&#39;t use a loop since the GUI will not repaint itself until the entire loop is finished. Instead, you need to schedule the animation by using a `Swing Timer`. When the Timer fires you change the position of the image and repaint. Check out: https://stackoverflow.com/questions/54028090/get-width-and-height-of-jpanel-outside-of-the-class/54028681#54028681 for an example of using a Timer to animate the motion of objects.","body":"Your ActionListener code is wrong. If you want animation, you can&#39;t use a loop since the GUI will not repaint itself until the entire loop is finished. Instead, you need to schedule the animation by using a <code>Swing Timer</code>. When the Timer fires you change the position of the image and repaint. Check out: <a href=\"https://stackoverflow.com/questions/54028090/get-width-and-height-of-jpanel-outside-of-the-class/54028681#54028681\" title=\"get width and height of jpanel outside of the class\">stackoverflow.com/questions/54028090/&hellip;</a> for an example of using a Timer to animate the motion of objects."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1665871002,"post_id":74082518,"comment_id":130801521,"body_markdown":"Just looked more closely at your added code and I don&#39;t understand what you are doing. You have loops and a Timer. Again, you don&#39;t need the loop, only the Timer. Take the time to understand the code from the above link. Note, your class should NOT implement ActionListener. Your class needs an ActionListener for the buttons and for the Timer, so you should be using either anonymous inner classes or lambdas for the listeners. Then when you click the button, you start the Timer. When the Timer fires you change the y offset.","body":"Just looked more closely at your added code and I don&#39;t understand what you are doing. You have loops and a Timer. Again, you don&#39;t need the loop, only the Timer. Take the time to understand the code from the above link. Note, your class should NOT implement ActionListener. Your class needs an ActionListener for the buttons and for the Timer, so you should be using either anonymous inner classes or lambdas for the listeners. Then when you click the button, you start the Timer. When the Timer fires you change the y offset."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1665874159,"post_id":74082518,"comment_id":130801878,"body_markdown":"I&#39;d start by looking at [The Event Dispatch Thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html) for reasons why this approach isn&#39;t going to work and then look at [How to Use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) for a possible solution","body":"I&#39;d start by looking at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">The Event Dispatch Thread</a> for reasons why this approach isn&#39;t going to work and then look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a> for a possible solution"},{"owner":{"account_id":25650095,"reputation":11,"user_id":19417494,"display_name":"Demo User"},"score":0,"creation_date":1665914097,"post_id":74082518,"comment_id":130806401,"body_markdown":"Oh, so my approach was completely wrong. I did not know I can do such things with the Java timer, since I am self learning java and I figure myself how deep I go into each class that java has. Very useful information, this is definitely gonna help me .                     FYI - The loops at the top are just to show my ways of trying to do the motion of the image, they are not in the actual code, each of them were at some point, tho :D","body":"Oh, so my approach was completely wrong. I did not know I can do such things with the Java timer, since I am self learning java and I figure myself how deep I go into each class that java has. Very useful information, this is definitely gonna help me .                     FYI - The loops at the top are just to show my ways of trying to do the motion of the image, they are not in the actual code, each of them were at some point, tho :D"}],"owner":{"account_id":25650095,"reputation":11,"user_id":19417494,"display_name":"Demo User"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665870383,"creation_date":1665863393,"question_id":74082518,"body_markdown":"I am learning java for like 3 months already, and this is my second project in swing. My problem now is that I don&#39;t know how to make a JButton move some image by redrawing it, to make it look like a motion movement, so far everything I could do is make it move while hovering on the button, or when I keep it pressed, but the motion doesn&#39;t happen just when I click the button. Basically the button is supposed to be part of an elevator console, which by clicking on it makes the elevator move to the specified floor. Lemme know if u have an idea, or if it is possible at all to do what I am looking for. \r\nMaybe this whole thing has to be done in a completely different manner, I am open to suggestions and I appreciate the help.\r\n\r\n\r\nMany thanks, and kind regards!\r\n\r\n```\r\n\r\nThings I tried:\r\n\r\n◘ JButton.getModel().isArmed();\r\n\r\n◘ JButton.getModel().isRollOver();\r\n\r\n◘ JButton.getModel().isClicked();\r\n\r\n◘ while loop(it made the elvator teleport directly) - in button&#39;s action listener and in the method:\r\n\r\nJButton.addActionListener(new ActionListener() {\r\npublic void actionPerformed(ActionEvent e) {\r\nwhile(yPosition!=300){\r\nyPosition = yPosition - yVelocity;\r\nrepaint();\r\n}\r\n}\r\n} );\r\n\r\n◘ for loop - as in the button&#39;s action listener and in the method:\r\n\r\nfloor1.addActionListener(new ActionListener() {\r\npublic void actionPerformed(ActionEvent e) {\r\nfor(int i = 500; i &lt;= 300; i--){\r\n\r\nyPosition = yPosition - yVelocity;\r\nrepaint();\r\n}\r\n}\r\n} );\r\n```\r\n/////////////////////////////////////////////////////////////////////////\r\n\r\nActual code(there is a separate frame class where this panel is added to):\r\n```\r\n// MainClass\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        new Frame();\r\n    }\r\n}\r\n\r\n// FrameClass\r\nimport javax.swing.*;\r\n\r\npublic class Frame extends JFrame {\r\n\r\n    Frame(){\r\n    ElevatorPanel elevatorPanel = new ElevatorPanel();\r\n\r\n        this.setSize(elevatorPanel.PANEL_WIDTH, elevatorPanel.PANEL_HEIGHT);\r\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        this.setResizable(false);\r\n        this.setLocationRelativeTo(null);\r\n        this.add(elevatorPanel);\r\n        this.setVisible(true);\r\n\r\n    }\r\n\r\n}\r\n\r\n// PanelClass\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\n\r\npublic class ElevatorPanel extends JPanel implements ActionListener {\r\n    /*final int r = 1;\r\n    final int g = 100;\r\n    final int b = 100;\r\n    final int a = 100;\r\n     */\r\n    final int PANEL_HEIGHT = 800;\r\n    final int PANEL_WIDTH = 800;\r\n    final int BUTTON_HEIGHT = 40;\r\n    final int BUTTON_WIDTH = 130;\r\n    int xVelocity = 1;\r\n    int yVelocity = 1;\r\n    int xPosition = 120;\r\n    int yPosition = 500;\r\n    Image elevator;\r\n    JButton groundLvl = new JButton();\r\n    JButton floor1 = new JButton();\r\n    JButton floor2 = new JButton();\r\n\r\n\r\n    ElevatorPanel() {\r\n        Timer time = new Timer(20, this);\r\n        time.start();\r\n\r\n        elevator = new ImageIcon(&quot;Elevator\\\\Resources\\\\elevator.png&quot;).getImage();\r\n\r\n        groundLvl.setBounds(500, 550, BUTTON_WIDTH, BUTTON_HEIGHT);\r\n        groundLvl.setText(&quot;Ground level&quot;);\r\n        groundLvl.setFocusable(false);\r\n\r\n        floor1.setBounds(500, 500, BUTTON_WIDTH, BUTTON_HEIGHT);\r\n        floor1.setText(&quot;1st Floor&quot;);\r\n        floor1.setFocusable(false);\r\n        floor1.addActionListener(this);\r\n        /*floor1.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                for(int i = 500; i &lt;= 300; i--){\r\n\r\n                    yPosition = yPosition - yVelocity;\r\n                    repaint();\r\n\r\n                }\r\n\r\n            }\r\n        } );\r\n         */\r\n\r\n        floor2.setBounds(500, 450, BUTTON_WIDTH, BUTTON_HEIGHT);\r\n        floor2.setText(&quot;2nd Floor&quot;);\r\n        floor2.setFocusable(false);\r\n\r\n        this.add(groundLvl);\r\n        this.add(floor1);\r\n        this.add(floor2);\r\n        this.setOpaque(false);\r\n        this.setPreferredSize(new Dimension(PANEL_WIDTH, PANEL_HEIGHT));\r\n        this.setLayout(null);\r\n    }\r\n    @Override\r\n    public void paint(Graphics g) {\r\n        super.paint(g);\r\n        Graphics2D g2D = (Graphics2D) g;\r\n        //g2D.drawImage(bg,0,0,null);\r\n        g2D.drawImage(elevator, xPosition, yPosition, null);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent ex) {\r\n        if (ex.getSource() == floor1) {\r\n\r\n            yPosition = yPosition - yVelocity;\r\n            repaint();\r\n\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Make JButton move image on click action","body":"<p>I am learning java for like 3 months already, and this is my second project in swing. My problem now is that I don't know how to make a JButton move some image by redrawing it, to make it look like a motion movement, so far everything I could do is make it move while hovering on the button, or when I keep it pressed, but the motion doesn't happen just when I click the button. Basically the button is supposed to be part of an elevator console, which by clicking on it makes the elevator move to the specified floor. Lemme know if u have an idea, or if it is possible at all to do what I am looking for.\nMaybe this whole thing has to be done in a completely different manner, I am open to suggestions and I appreciate the help.</p>\n<p>Many thanks, and kind regards!</p>\n<pre><code>\nThings I tried:\n\n◘ JButton.getModel().isArmed();\n\n◘ JButton.getModel().isRollOver();\n\n◘ JButton.getModel().isClicked();\n\n◘ while loop(it made the elvator teleport directly) - in button's action listener and in the method:\n\nJButton.addActionListener(new ActionListener() {\npublic void actionPerformed(ActionEvent e) {\nwhile(yPosition!=300){\nyPosition = yPosition - yVelocity;\nrepaint();\n}\n}\n} );\n\n◘ for loop - as in the button's action listener and in the method:\n\nfloor1.addActionListener(new ActionListener() {\npublic void actionPerformed(ActionEvent e) {\nfor(int i = 500; i &lt;= 300; i--){\n\nyPosition = yPosition - yVelocity;\nrepaint();\n}\n}\n} );\n</code></pre>\n<p>/////////////////////////////////////////////////////////////////////////</p>\n<p>Actual code(there is a separate frame class where this panel is added to):</p>\n<pre><code>// MainClass\n\npublic class Main {\n    public static void main(String[] args) {\n\n        new Frame();\n    }\n}\n\n// FrameClass\nimport javax.swing.*;\n\npublic class Frame extends JFrame {\n\n    Frame(){\n    ElevatorPanel elevatorPanel = new ElevatorPanel();\n\n        this.setSize(elevatorPanel.PANEL_WIDTH, elevatorPanel.PANEL_HEIGHT);\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        this.setResizable(false);\n        this.setLocationRelativeTo(null);\n        this.add(elevatorPanel);\n        this.setVisible(true);\n\n    }\n\n}\n\n// PanelClass\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\n\npublic class ElevatorPanel extends JPanel implements ActionListener {\n    /*final int r = 1;\n    final int g = 100;\n    final int b = 100;\n    final int a = 100;\n     */\n    final int PANEL_HEIGHT = 800;\n    final int PANEL_WIDTH = 800;\n    final int BUTTON_HEIGHT = 40;\n    final int BUTTON_WIDTH = 130;\n    int xVelocity = 1;\n    int yVelocity = 1;\n    int xPosition = 120;\n    int yPosition = 500;\n    Image elevator;\n    JButton groundLvl = new JButton();\n    JButton floor1 = new JButton();\n    JButton floor2 = new JButton();\n\n\n    ElevatorPanel() {\n        Timer time = new Timer(20, this);\n        time.start();\n\n        elevator = new ImageIcon(&quot;Elevator\\\\Resources\\\\elevator.png&quot;).getImage();\n\n        groundLvl.setBounds(500, 550, BUTTON_WIDTH, BUTTON_HEIGHT);\n        groundLvl.setText(&quot;Ground level&quot;);\n        groundLvl.setFocusable(false);\n\n        floor1.setBounds(500, 500, BUTTON_WIDTH, BUTTON_HEIGHT);\n        floor1.setText(&quot;1st Floor&quot;);\n        floor1.setFocusable(false);\n        floor1.addActionListener(this);\n        /*floor1.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                for(int i = 500; i &lt;= 300; i--){\n\n                    yPosition = yPosition - yVelocity;\n                    repaint();\n\n                }\n\n            }\n        } );\n         */\n\n        floor2.setBounds(500, 450, BUTTON_WIDTH, BUTTON_HEIGHT);\n        floor2.setText(&quot;2nd Floor&quot;);\n        floor2.setFocusable(false);\n\n        this.add(groundLvl);\n        this.add(floor1);\n        this.add(floor2);\n        this.setOpaque(false);\n        this.setPreferredSize(new Dimension(PANEL_WIDTH, PANEL_HEIGHT));\n        this.setLayout(null);\n    }\n    @Override\n    public void paint(Graphics g) {\n        super.paint(g);\n        Graphics2D g2D = (Graphics2D) g;\n        //g2D.drawImage(bg,0,0,null);\n        g2D.drawImage(elevator, xPosition, yPosition, null);\n\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent ex) {\n        if (ex.getSource() == floor1) {\n\n            yPosition = yPosition - yVelocity;\n            repaint();\n\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","websocket"],"comments":[{"owner":{"account_id":11177216,"reputation":1733,"user_id":8202380,"display_name":"Edwin Diaz"},"score":0,"creation_date":1524590224,"post_id":50004504,"comment_id":87031353,"body_markdown":"I saw that bounty on the question you linked, did my answer help? I want to ensure before providing a similar answer here.","body":"I saw that bounty on the question you linked, did my answer help? I want to ensure before providing a similar answer here."}],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1524598999,"post_id":50007439,"comment_id":87035926,"body_markdown":"I can&#39;t find dependency for class **AbstractSecurityWebSocketMessageBrokerConfigurer**","body":"I can&#39;t find dependency for class <b>AbstractSecurityWebSocketMessageBrokerConfigurer</b>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1524599104,"post_id":50007439,"comment_id":87035968,"body_markdown":"Now I have: *compile(&#39;org.springframework.boot:spring-boot-starter-websocket&#39;)\n    compile (&#39;org.springframework.security:spring-security-messaging:4.0.1.RELEASE&#39;)*","body":"Now I have: <i>compile(&#39;org.springframework.boot:spring-boot-starter-websoc&zwnj;&#8203;ket&#39;)     compile (&#39;org.springframework.security:spring-security-messaging:4.0&zwnj;&#8203;.1.RELEASE&#39;)</i>"},{"owner":{"account_id":2052160,"reputation":2825,"user_id":1830916,"display_name":"locus2k"},"score":0,"creation_date":1524601218,"post_id":50007439,"comment_id":87036935,"body_markdown":"`AbstractSecurityWebSocketMessageBrokerConfigurer ` Is in the spring-security-config dependency. See my edit","body":"<code>AbstractSecurityWebSocketMessageBrokerConfigurer </code> Is in the spring-security-config dependency. See my edit"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1524646967,"post_id":50007439,"comment_id":87052380,"body_markdown":"In method **configureInbound**,  **authorities** could not be resolved","body":"In method <b>configureInbound</b>,  <b>authorities</b> could not be resolved"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1524647818,"post_id":50007439,"comment_id":87052885,"body_markdown":"Also I can&#39;t find dependency with class **WebsocketOutboundChannelInterceptor**","body":"Also I can&#39;t find dependency with class <b>WebsocketOutboundChannelInterceptor</b>"},{"owner":{"account_id":2052160,"reputation":2825,"user_id":1830916,"display_name":"locus2k"},"score":0,"creation_date":1524659710,"post_id":50007439,"comment_id":87060919,"body_markdown":"See my edits, as far as `WebsocketOutboundChannelInterceptor ` goes you can remove that override its not needed and was a custom class I created. `authorties` is an object that defines authorities assigned. If you do not use `GrantedAuthority` you can remove that line as well.","body":"See my edits, as far as <code>WebsocketOutboundChannelInterceptor </code> goes you can remove that override its not needed and was a custom class I created. <code>authorties</code> is an object that defines authorities assigned. If you do not use <code>GrantedAuthority</code> you can remove that line as well."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1524660253,"post_id":50007439,"comment_id":87061343,"body_markdown":"How can I understand whether I use GrantedAuthority or not?","body":"How can I understand whether I use GrantedAuthority or not?"},{"owner":{"account_id":2052160,"reputation":2825,"user_id":1830916,"display_name":"locus2k"},"score":0,"creation_date":1524662654,"post_id":50007439,"comment_id":87063164,"body_markdown":"`GrantedAuthority` is used in an Authentication Provider. Are you using any components that implements `AuthenticationProvider`?","body":"<code>GrantedAuthority</code> is used in an Authentication Provider. Are you using any components that implements <code>AuthenticationProvider</code>?"},{"owner":{"account_id":2052160,"reputation":2825,"user_id":1830916,"display_name":"locus2k"},"score":0,"creation_date":1524663709,"post_id":50007439,"comment_id":87063810,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/169767/discussion-between-locus2k-and-gstackoverflow).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/169767/discussion-between-locus2k-and-gstackoverflow\">continue this discussion in chat</a>."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1524666141,"post_id":50007439,"comment_id":87065422,"body_markdown":"I don&#39;t have any components that implements `AuthenticationProvider`","body":"I don&#39;t have any components that implements <code>AuthenticationProvider</code>"}],"tags":[],"owner":{"account_id":2052160,"reputation":2825,"user_id":1830916,"display_name":"locus2k"},"comment_count":10,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647991201,"creation_date":1524590039,"answer_id":50007439,"question_id":50004504,"body_markdown":"The posts you linked works for Spring 5 websockets as well and is the simplest solution to extend\r\n`AbstractSecurityWebSocketMessageBrokerConfigurer`\r\n\r\nFor example:\r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfig extends AbstractSecurityWebSocketMessageBrokerConfigurer {\r\n    \r\n      @Override\r\n      public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.enableSimpleBroker(&quot;/topic&quot;);\r\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n      }\r\n    \r\n      @Override\r\n      public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/stomp&quot;)\r\n          .setAllowedOrigins(&quot;*&quot;)\r\n          .withSockJS();\r\n      }\r\n\r\n      @Override\r\n      protected void configureInbound(MessageSecurityMetadataSourceRegistry message) {\r\n        message\r\n          .nullDestMatcher().permitAll()\r\n          .simpDestMatchers(&quot;/app/**&quot;).hasAnyAuthority(authorities)\r\n          .simpSubscribeDestMatchers(&quot;/topic/&quot; + &quot;**&quot;).permitAll()\r\n          .anyMessage().denyAll();\r\n       }\r\n\r\n       @Override\r\n       protected boolean sameOriginDisabled() {\r\n         return true;\r\n       }    \r\n    }\r\n\r\nThe security check is performed in the `configureInbound` method and you&#39;ll have to tailor it to your application.\r\n\r\nThe `authorties` is a string array object defining what is authorized for example:\r\n\r\n    private static String[] authorities = new String[] {\r\n      &quot;VIEW_SCRIPT_TAB&quot;, &quot;VIEW_CREDS_TAB&quot;\r\n    };\r\n\r\nThese authorities are what you define in your `GrantedAuthorty` object.\r\n\r\nIf you did not use `GrantedAuthorty` then you can remove that object.\r\n\r\nMake sure you include the spring-security-config dependency in your project\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring.security.version}&lt;/version&gt;\r\n      &lt;type&gt;jar&lt;/type&gt;\r\n    &lt;/dependency&gt;","title":"How to add security for spring 5 websockets","body":"<p>The posts you linked works for Spring 5 websockets as well and is the simplest solution to extend\n<code>AbstractSecurityWebSocketMessageBrokerConfigurer</code></p>\n<p>For example:</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig extends AbstractSecurityWebSocketMessageBrokerConfigurer {\n\n  @Override\n  public void configureMessageBroker(MessageBrokerRegistry config) {\n    config.enableSimpleBroker(&quot;/topic&quot;);\n    config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n  }\n\n  @Override\n  public void registerStompEndpoints(StompEndpointRegistry registry) {\n    registry.addEndpoint(&quot;/stomp&quot;)\n      .setAllowedOrigins(&quot;*&quot;)\n      .withSockJS();\n  }\n\n  @Override\n  protected void configureInbound(MessageSecurityMetadataSourceRegistry message) {\n    message\n      .nullDestMatcher().permitAll()\n      .simpDestMatchers(&quot;/app/**&quot;).hasAnyAuthority(authorities)\n      .simpSubscribeDestMatchers(&quot;/topic/&quot; + &quot;**&quot;).permitAll()\n      .anyMessage().denyAll();\n   }\n\n   @Override\n   protected boolean sameOriginDisabled() {\n     return true;\n   }    \n}\n</code></pre>\n<p>The security check is performed in the <code>configureInbound</code> method and you'll have to tailor it to your application.</p>\n<p>The <code>authorties</code> is a string array object defining what is authorized for example:</p>\n<pre><code>private static String[] authorities = new String[] {\n  &quot;VIEW_SCRIPT_TAB&quot;, &quot;VIEW_CREDS_TAB&quot;\n};\n</code></pre>\n<p>These authorities are what you define in your <code>GrantedAuthorty</code> object.</p>\n<p>If you did not use <code>GrantedAuthorty</code> then you can remove that object.</p>\n<p>Make sure you include the spring-security-config dependency in your project</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n  &lt;version&gt;${spring.security.version}&lt;/version&gt;\n  &lt;type&gt;jar&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1524908679,"creation_date":1524908679,"answer_id":50075112,"question_id":50004504,"body_markdown":"Provided stacktrace related with the incompatible library versions.\r\n\r\nIt works if to use correct dependencies. For example:\r\n\r\n    compile (&#39;org.springframework.security:spring-security-messaging:5.0.4.RELEASE&#39;)\r\n    compile (&#39;org.springframework.security:spring-security-web: 5.0.4.RELEASE&#39;)","title":"How to add security for spring 5 websockets","body":"<p>Provided stacktrace related with the incompatible library versions.</p>\n\n<p>It works if to use correct dependencies. For example:</p>\n\n<pre><code>compile ('org.springframework.security:spring-security-messaging:5.0.4.RELEASE')\ncompile ('org.springframework.security:spring-security-web: 5.0.4.RELEASE')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15511867,"reputation":111,"user_id":11190435,"display_name":"Cihat &#214;zdenoğlu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665870299,"creation_date":1665498970,"answer_id":74029908,"question_id":50004504,"body_markdown":"In my case the error was;\r\n\r\n**java.lang.ClassNotFoundException: org.springframework.security.messaging.access.intercept.MessageSecurityMetadataSource**\r\n\r\nI realized the following dependency was missing. I added it and then it worked for me (version is inherited from parent Spring pom.xml).\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-messaging&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;","title":"How to add security for spring 5 websockets","body":"<p>In my case the error was;</p>\n<p><strong>java.lang.ClassNotFoundException: org.springframework.security.messaging.access.intercept.MessageSecurityMetadataSource</strong></p>\n<p>I realized the following dependency was missing. I added it and then it worked for me (version is inherited from parent Spring pom.xml).</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-messaging&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7625,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":50075112,"answer_count":3,"score":7,"last_activity_date":1665870299,"creation_date":1524580957,"question_id":50004504,"body_markdown":"I followed the following tutorial: [Using WebSocket to build an interactive web application][1]\r\n\r\nEverything works as described and aplication looks fine. I just have a nice controller:\r\n\r\n    @Controller\r\n    public class GreetingController {    \r\n    \r\n        @MessageMapping(&quot;/hello&quot;)\r\n        @SendTo(&quot;/topic/greetings&quot;)\r\n        public Greeting greeting(HelloMessage message) throws Exception {\r\n            Thread.sleep(1000); // simulated delay\r\n            return new Greeting(&quot;Hello, &quot; + HtmlUtils.htmlEscape(message.getName()) + &quot;!&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nAnd a bit configuration.\r\n\r\n\r\nNow I want to add security for this simple application. I spent time to find an example but I could not find it.\r\n\r\nGenerally I&#39;ve found the tutorial:\r\n\r\n[Preview Spring Security WebSocket Support][2]\r\n\r\nBut looks like this example relevant for spring 4 only rather than spring 5. And I don&#39;t understand where should I provide credentials and so on. Description is not enough detailed to apply it for my example.\r\n\r\nOne more tutorial I&#39;ve found:\r\n[Websocket Authentication and Authorization in Spring\r\nAsk][3]\r\n\r\nIt looks more clear but I am not sure that it is the best solution for now.\r\n\r\nCan you advise the simplest way to configure spring security for my application?\r\n\r\n**P.S.** Also I&#39;ve found not the same but familiar question https://stackoverflow.com/questions/48903044/how-to-secure-websocket-application-spring-boot-stomp but there are no answers at the moment.\r\n\r\n\r\nUPDATE for **locus2k**\r\n---\r\n\r\n\r\nNow I have following configuration:\r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfig extends AbstractSecurityWebSocketMessageBrokerConfigurer {\r\n        private static String[] authorities = new String[]{\r\n                &quot;VIEW_SCRIPT_TAB&quot;, &quot;VIEW_CREDS_TAB&quot;\r\n        };\r\n    \r\n        @Override\r\n        public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n            registry\r\n                    .addEndpoint(&quot;/gs-guide-websocket&quot;)\r\n                    .addInterceptors(new HandshakeInterceptor() {\r\n                        @Override\r\n                        public boolean beforeHandshake(ServerHttpRequest request, ServerHttpResponse response, WebSocketHandler wsHandler, Map&lt;String, Object&gt; attributes) throws Exception {\r\n                            System.out.println(&quot;Handshake interceptor beforeHandshake&quot;);\r\n                            return true;\r\n                        }\r\n    \r\n                        @Override\r\n                        public void afterHandshake(ServerHttpRequest request, ServerHttpResponse response, WebSocketHandler wsHandler, @Nullable Exception exception) {\r\n                            System.out.println(&quot;Handshake interceptor after&quot;);\r\n                        }\r\n                    })\r\n                    .withSockJS();\r\n        }\r\n    \r\n        @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry registry) {\r\n            registry.enableSimpleBroker(&quot;/topic&quot;);\r\n            registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void configureInbound(MessageSecurityMetadataSourceRegistry message) {\r\n    \r\n            message\r\n                    .nullDestMatcher().permitAll()\r\n                    .simpDestMatchers(&quot;/app/**&quot;).hasAnyAuthority(authorities)\r\n                    .simpSubscribeDestMatchers(&quot;/topic/**&quot;).permitAll()\r\n                    .anyMessage().denyAll();\r\n        }\r\n    }\r\n\r\n\r\nBit when I start application I see stacktrace:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;stompWebSocketHandlerMapping&#39; defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method &#39;stompWebSocketHandlerMapping&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;subProtocolWebSocketHandler&#39; defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.socket.WebSocketHandler]: Factory method &#39;subProtocolWebSocketHandler&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;clientInboundChannel&#39; defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.messaging.support.AbstractSubscribableChannel]: Factory method &#39;clientInboundChannel&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;clientInboundChannelExecutor&#39; defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor]: Factory method &#39;clientInboundChannelExecutor&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;inboundChannelSecurity&#39; defined in class path resource [com/my/ws/example/ws_example/hello/WebSocketConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.ChannelSecurityInterceptor]: Factory method &#39;inboundChannelSecurity&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;inboundMessageSecurityMetadataSource&#39; defined in class path resource [com/my/ws/example/ws_example/hello/WebSocketConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.MessageSecurityMetadataSource]: Factory method &#39;inboundMessageSecurityMetadataSource&#39; threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.security.messaging.access.expression.ExpressionBasedMessageSecurityMetadataSourceFactory.createExpressionMessageMetadataSource(Ljava/util/LinkedHashMap;Lorg/springframework/security/access/expression/SecurityExpressionHandler;)Lorg/springframework/security/messaging/access/intercept/MessageSecurityMetadataSource;\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:587) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \t....\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method &#39;stompWebSocketHandlerMapping&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;subProtocolWebSocketHandler&#39; defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.socket.WebSocketHandler]: Factory method &#39;subProtocolWebSocketHandler&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;clientInboundChannel&#39; defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.messaging.support.AbstractSubscribableChannel]: Factory method &#39;clientInboundChannel&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;clientInboundChannelExecutor&#39; defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor]: Factory method &#39;clientInboundChannelExecutor&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;inboundChannelSecurity&#39; defined in class path resource [com/my/ws/example/ws_example/hello/WebSocketConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.ChannelSecurityInterceptor]: Factory method &#39;inboundChannelSecurity&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;inboundMessageSecurityMetadataSource&#39; defined in class path resource [com/my/ws/example/ws_example/hello/WebSocketConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.MessageSecurityMetadataSource]: Factory method &#39;inboundMessageSecurityMetadataSource&#39; threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.security.messaging.access.expression.ExpressionBasedMessageSecurityMetadataSourceFactory.createExpressionMessageMetadataSource(Ljava/util/LinkedHashMap;Lorg/springframework/security/access/expression/SecurityExpressionHandler;)Lorg/springframework/security/messaging/access/intercept/MessageSecurityMetadataSource;\r\n    \t... 18 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;subProtocolWebSocketHandler&#39; defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.socket.WebSocketHandler]: Factory method &#39;subProtocolWebSocketHandler&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;clientInboundChannel&#39; defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.messaging.support.AbstractSubscribableChannel]: Factory method &#39;clientInboundChannel&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;clientInboundChannelExecutor&#39; defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor]: Factory method &#39;clientInboundChannelExecutor&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;inboundChannelSecurity&#39; defined in class path resource [com/my/ws/example/ws_example/hello/WebSocketConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.ChannelSecurityInterceptor]: Factory method &#39;inboundChannelSecurity&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;inboundMessageSecurityMetadataSource&#39; defined in class path resource [com/my/ws/example/ws_example/hello/WebSocketConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.MessageSecurityMetadataSource]: Factory method &#39;inboundMessageSecurityMetadataSource&#39; threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.security.messaging.access.expression.ExpressionBasedMessageSecurityMetadataSourceFactory.createExpressionMessageMetadataSource(Ljava/util/LinkedHashMap;Lorg/springframework/security/access/expression/SecurityExpressionHandler;)Lorg/springframework/security/messaging/access/intercept/MessageSecurityMetadataSource;\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:587) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\t\r\n    \t... 19 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.socket.WebSocketHandler]: Factory method &#39;subProtocolWebSocketHandler&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;clientInboundChannel&#39; defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.messaging.support.AbstractSubscribableChannel]: Factory method &#39;clientInboundChannel&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;clientInboundChannelExecutor&#39; defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor]: Factory method &#39;clientInboundChannelExecutor&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;inboundChannelSecurity&#39; defined in class path resource [com/my/ws/example/ws_example/hello/WebSocketConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.ChannelSecurityInterceptor]: Factory method &#39;inboundChannelSecurity&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;inboundMessageSecurityMetadataSource&#39; defined in class path resource [com/my/ws/example/ws_example/hello/WebSocketConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.MessageSecurityMetadataSource]: Factory method &#39;inboundMessageSecurityMetadataSource&#39; threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.security.messaging.access.expression.ExpressionBasedMessageSecurityMetadataSourceFactory.createExpressionMessageMetadataSource(Ljava/util/LinkedHashMap;Lorg/springframework/security/access/expression/SecurityExpressionHandler;)Lorg/springframework/security/messaging/access/intercept/MessageSecurityMetadataSource;\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \t... 41 common frames omitted\r\n    ....\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.ChannelSecurityInterceptor]: Factory method &#39;inboundChannelSecurity&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;inboundMessageSecurityMetadataSource&#39; defined in class path resource [com/my/ws/example/ws_example/hello/WebSocketConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.MessageSecurityMetadataSource]: Factory method &#39;inboundMessageSecurityMetadataSource&#39; threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.security.messaging.access.expression.ExpressionBasedMessageSecurityMetadataSourceFactory.createExpressionMessageMetadataSource(Ljava/util/LinkedHashMap;Lorg/springframework/security/access/expression/SecurityExpressionHandler;)Lorg/springframework/security/messaging/access/intercept/MessageSecurityMetadataSource;\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \t... 113 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;inboundMessageSecurityMetadataSource&#39; defined in class path resource [com/my/ws/example/ws_example/hello/WebSocketConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.MessageSecurityMetadataSource]: Factory method &#39;inboundMessageSecurityMetadataSource&#39; threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.security.messaging.access.expression.ExpressionBasedMessageSecurityMetadataSourceFactory.createExpressionMessageMetadataSource(Ljava/util/LinkedHashMap;Lorg/springframework/security/access/expression/SecurityExpressionHandler;)Lorg/springframework/security/messaging/access/intercept/MessageSecurityMetadataSource;\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:587) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \t... 114 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.MessageSecurityMetadataSource]: Factory method &#39;inboundMessageSecurityMetadataSource&#39; threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.security.messaging.access.expression.ExpressionBasedMessageSecurityMetadataSourceFactory.createExpressionMessageMetadataSource(Ljava/util/LinkedHashMap;Lorg/springframework/security/access/expression/SecurityExpressionHandler;)Lorg/springframework/security/messaging/access/intercept/MessageSecurityMetadataSource;\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \t... 136 common frames omitted\r\n    Caused by: java.lang.NoSuchMethodError: org.springframework.security.messaging.access.expression.ExpressionBasedMessageSecurityMetadataSourceFactory.createExpressionMessageMetadataSource(Ljava/util/LinkedHashMap;Lorg/springframework/security/access/expression/SecurityExpressionHandler;)Lorg/springframework/security/messaging/access/intercept/MessageSecurityMetadataSource;\r\n    \tat org.springframework.security.config.annotation.web.messaging.MessageSecurityMetadataSourceRegistry.createMetadataSource(MessageSecurityMetadataSourceRegistry.java:242) ~[spring-security-config-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.security.config.annotation.web.socket.AbstractSecurityWebSocketMessageBrokerConfigurer$WebSocketMessageSecurityMetadataSourceRegistry.createMetadataSource(AbstractSecurityWebSocketMessageBrokerConfigurer.java:193) ~[spring-security-config-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat org.springframework.security.config.annotation.web.socket.AbstractSecurityWebSocketMessageBrokerConfigurer.inboundMessageSecurityMetadataSource(AbstractSecurityWebSocketMessageBrokerConfigurer.java:179) ~[spring-security-config-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n    \tat com.my.ws.example.ws_example.hello.WebSocketConfig$$EnhancerBySpringCGLIB$$1ebc3c92.CGLIB$inboundMessageSecurityMetadataSource$6(&lt;generated&gt;) ~[classes/:na]\r\n    \tat com.my.ws.example.ws_example.hello.WebSocketConfig$$EnhancerBySpringCGLIB$$1ebc3c92$$FastClassBySpringCGLIB$$6d713310.invoke(&lt;generated&gt;) ~[classes/:na]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:361) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat com.my.ws.example.ws_example.hello.WebSocketConfig$$EnhancerBySpringCGLIB$$1ebc3c92.inboundMessageSecurityMetadataSource(&lt;generated&gt;) ~[classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \t... 137 common frames omitted\r\n\r\n  [1]: https://spring.io/guides/gs/messaging-stomp-websocket/\r\n  [2]: https://spring.io/blog/2014/08/21/preview-spring-security-websocket-support\r\n  [3]: https://stackoverflow.com/questions/45405332/websocket-authentication-and-authorization-in-spring?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa","title":"How to add security for spring 5 websockets","body":"<p>I followed the following tutorial: <a href=\"https://spring.io/guides/gs/messaging-stomp-websocket/\" rel=\"noreferrer\">Using WebSocket to build an interactive web application</a></p>\n\n<p>Everything works as described and aplication looks fine. I just have a nice controller:</p>\n\n<pre><code>@Controller\npublic class GreetingController {    \n\n    @MessageMapping(\"/hello\")\n    @SendTo(\"/topic/greetings\")\n    public Greeting greeting(HelloMessage message) throws Exception {\n        Thread.sleep(1000); // simulated delay\n        return new Greeting(\"Hello, \" + HtmlUtils.htmlEscape(message.getName()) + \"!\");\n    }\n\n}\n</code></pre>\n\n<p>And a bit configuration.</p>\n\n<p>Now I want to add security for this simple application. I spent time to find an example but I could not find it.</p>\n\n<p>Generally I've found the tutorial:</p>\n\n<p><a href=\"https://spring.io/blog/2014/08/21/preview-spring-security-websocket-support\" rel=\"noreferrer\">Preview Spring Security WebSocket Support</a></p>\n\n<p>But looks like this example relevant for spring 4 only rather than spring 5. And I don't understand where should I provide credentials and so on. Description is not enough detailed to apply it for my example.</p>\n\n<p>One more tutorial I've found:\n<a href=\"https://stackoverflow.com/questions/45405332/websocket-authentication-and-authorization-in-spring?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">Websocket Authentication and Authorization in Spring\nAsk</a></p>\n\n<p>It looks more clear but I am not sure that it is the best solution for now.</p>\n\n<p>Can you advise the simplest way to configure spring security for my application?</p>\n\n<p><strong>P.S.</strong> Also I've found not the same but familiar question <a href=\"https://stackoverflow.com/questions/48903044/how-to-secure-websocket-application-spring-boot-stomp\">How to secure websocket application [Spring boot + STOMP]</a> but there are no answers at the moment.</p>\n\n<h2>UPDATE for <strong>locus2k</strong></h2>\n\n<p>Now I have following configuration:</p>\n\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig extends AbstractSecurityWebSocketMessageBrokerConfigurer {\n    private static String[] authorities = new String[]{\n            \"VIEW_SCRIPT_TAB\", \"VIEW_CREDS_TAB\"\n    };\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry\n                .addEndpoint(\"/gs-guide-websocket\")\n                .addInterceptors(new HandshakeInterceptor() {\n                    @Override\n                    public boolean beforeHandshake(ServerHttpRequest request, ServerHttpResponse response, WebSocketHandler wsHandler, Map&lt;String, Object&gt; attributes) throws Exception {\n                        System.out.println(\"Handshake interceptor beforeHandshake\");\n                        return true;\n                    }\n\n                    @Override\n                    public void afterHandshake(ServerHttpRequest request, ServerHttpResponse response, WebSocketHandler wsHandler, @Nullable Exception exception) {\n                        System.out.println(\"Handshake interceptor after\");\n                    }\n                })\n                .withSockJS();\n    }\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\n        registry.enableSimpleBroker(\"/topic\");\n        registry.setApplicationDestinationPrefixes(\"/app\");\n    }\n\n    @Override\n    protected void configureInbound(MessageSecurityMetadataSourceRegistry message) {\n\n        message\n                .nullDestMatcher().permitAll()\n                .simpDestMatchers(\"/app/**\").hasAnyAuthority(authorities)\n                .simpSubscribeDestMatchers(\"/topic/**\").permitAll()\n                .anyMessage().denyAll();\n    }\n}\n</code></pre>\n\n<p>Bit when I start application I see stacktrace:</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'stompWebSocketHandlerMapping' defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method 'stompWebSocketHandlerMapping' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'subProtocolWebSocketHandler' defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.socket.WebSocketHandler]: Factory method 'subProtocolWebSocketHandler' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'clientInboundChannel' defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.messaging.support.AbstractSubscribableChannel]: Factory method 'clientInboundChannel' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'clientInboundChannelExecutor' defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor]: Factory method 'clientInboundChannelExecutor' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'inboundChannelSecurity' defined in class path resource [com/my/ws/example/ws_example/hello/WebSocketConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.ChannelSecurityInterceptor]: Factory method 'inboundChannelSecurity' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'inboundMessageSecurityMetadataSource' defined in class path resource [com/my/ws/example/ws_example/hello/WebSocketConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.MessageSecurityMetadataSource]: Factory method 'inboundMessageSecurityMetadataSource' threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.security.messaging.access.expression.ExpressionBasedMessageSecurityMetadataSourceFactory.createExpressionMessageMetadataSource(Ljava/util/LinkedHashMap;Lorg/springframework/security/access/expression/SecurityExpressionHandler;)Lorg/springframework/security/messaging/access/intercept/MessageSecurityMetadataSource;\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:587) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    ....\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method 'stompWebSocketHandlerMapping' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'subProtocolWebSocketHandler' defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.socket.WebSocketHandler]: Factory method 'subProtocolWebSocketHandler' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'clientInboundChannel' defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.messaging.support.AbstractSubscribableChannel]: Factory method 'clientInboundChannel' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'clientInboundChannelExecutor' defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor]: Factory method 'clientInboundChannelExecutor' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'inboundChannelSecurity' defined in class path resource [com/my/ws/example/ws_example/hello/WebSocketConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.ChannelSecurityInterceptor]: Factory method 'inboundChannelSecurity' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'inboundMessageSecurityMetadataSource' defined in class path resource [com/my/ws/example/ws_example/hello/WebSocketConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.MessageSecurityMetadataSource]: Factory method 'inboundMessageSecurityMetadataSource' threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.security.messaging.access.expression.ExpressionBasedMessageSecurityMetadataSourceFactory.createExpressionMessageMetadataSource(Ljava/util/LinkedHashMap;Lorg/springframework/security/access/expression/SecurityExpressionHandler;)Lorg/springframework/security/messaging/access/intercept/MessageSecurityMetadataSource;\n    ... 18 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'subProtocolWebSocketHandler' defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.socket.WebSocketHandler]: Factory method 'subProtocolWebSocketHandler' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'clientInboundChannel' defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.messaging.support.AbstractSubscribableChannel]: Factory method 'clientInboundChannel' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'clientInboundChannelExecutor' defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor]: Factory method 'clientInboundChannelExecutor' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'inboundChannelSecurity' defined in class path resource [com/my/ws/example/ws_example/hello/WebSocketConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.ChannelSecurityInterceptor]: Factory method 'inboundChannelSecurity' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'inboundMessageSecurityMetadataSource' defined in class path resource [com/my/ws/example/ws_example/hello/WebSocketConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.MessageSecurityMetadataSource]: Factory method 'inboundMessageSecurityMetadataSource' threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.security.messaging.access.expression.ExpressionBasedMessageSecurityMetadataSourceFactory.createExpressionMessageMetadataSource(Ljava/util/LinkedHashMap;Lorg/springframework/security/access/expression/SecurityExpressionHandler;)Lorg/springframework/security/messaging/access/intercept/MessageSecurityMetadataSource;\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:587) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]    \n    ... 19 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.socket.WebSocketHandler]: Factory method 'subProtocolWebSocketHandler' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'clientInboundChannel' defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.messaging.support.AbstractSubscribableChannel]: Factory method 'clientInboundChannel' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'clientInboundChannelExecutor' defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor]: Factory method 'clientInboundChannelExecutor' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'inboundChannelSecurity' defined in class path resource [com/my/ws/example/ws_example/hello/WebSocketConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.ChannelSecurityInterceptor]: Factory method 'inboundChannelSecurity' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'inboundMessageSecurityMetadataSource' defined in class path resource [com/my/ws/example/ws_example/hello/WebSocketConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.MessageSecurityMetadataSource]: Factory method 'inboundMessageSecurityMetadataSource' threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.security.messaging.access.expression.ExpressionBasedMessageSecurityMetadataSourceFactory.createExpressionMessageMetadataSource(Ljava/util/LinkedHashMap;Lorg/springframework/security/access/expression/SecurityExpressionHandler;)Lorg/springframework/security/messaging/access/intercept/MessageSecurityMetadataSource;\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    ... 41 common frames omitted\n....\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.ChannelSecurityInterceptor]: Factory method 'inboundChannelSecurity' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'inboundMessageSecurityMetadataSource' defined in class path resource [com/my/ws/example/ws_example/hello/WebSocketConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.MessageSecurityMetadataSource]: Factory method 'inboundMessageSecurityMetadataSource' threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.security.messaging.access.expression.ExpressionBasedMessageSecurityMetadataSourceFactory.createExpressionMessageMetadataSource(Ljava/util/LinkedHashMap;Lorg/springframework/security/access/expression/SecurityExpressionHandler;)Lorg/springframework/security/messaging/access/intercept/MessageSecurityMetadataSource;\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    ... 113 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'inboundMessageSecurityMetadataSource' defined in class path resource [com/my/ws/example/ws_example/hello/WebSocketConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.MessageSecurityMetadataSource]: Factory method 'inboundMessageSecurityMetadataSource' threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.security.messaging.access.expression.ExpressionBasedMessageSecurityMetadataSourceFactory.createExpressionMessageMetadataSource(Ljava/util/LinkedHashMap;Lorg/springframework/security/access/expression/SecurityExpressionHandler;)Lorg/springframework/security/messaging/access/intercept/MessageSecurityMetadataSource;\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:587) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    ... 114 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.messaging.access.intercept.MessageSecurityMetadataSource]: Factory method 'inboundMessageSecurityMetadataSource' threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.security.messaging.access.expression.ExpressionBasedMessageSecurityMetadataSourceFactory.createExpressionMessageMetadataSource(Ljava/util/LinkedHashMap;Lorg/springframework/security/access/expression/SecurityExpressionHandler;)Lorg/springframework/security/messaging/access/intercept/MessageSecurityMetadataSource;\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    ... 136 common frames omitted\nCaused by: java.lang.NoSuchMethodError: org.springframework.security.messaging.access.expression.ExpressionBasedMessageSecurityMetadataSourceFactory.createExpressionMessageMetadataSource(Ljava/util/LinkedHashMap;Lorg/springframework/security/access/expression/SecurityExpressionHandler;)Lorg/springframework/security/messaging/access/intercept/MessageSecurityMetadataSource;\n    at org.springframework.security.config.annotation.web.messaging.MessageSecurityMetadataSourceRegistry.createMetadataSource(MessageSecurityMetadataSourceRegistry.java:242) ~[spring-security-config-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.security.config.annotation.web.socket.AbstractSecurityWebSocketMessageBrokerConfigurer$WebSocketMessageSecurityMetadataSourceRegistry.createMetadataSource(AbstractSecurityWebSocketMessageBrokerConfigurer.java:193) ~[spring-security-config-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at org.springframework.security.config.annotation.web.socket.AbstractSecurityWebSocketMessageBrokerConfigurer.inboundMessageSecurityMetadataSource(AbstractSecurityWebSocketMessageBrokerConfigurer.java:179) ~[spring-security-config-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n    at com.my.ws.example.ws_example.hello.WebSocketConfig$$EnhancerBySpringCGLIB$$1ebc3c92.CGLIB$inboundMessageSecurityMetadataSource$6(&lt;generated&gt;) ~[classes/:na]\n    at com.my.ws.example.ws_example.hello.WebSocketConfig$$EnhancerBySpringCGLIB$$1ebc3c92$$FastClassBySpringCGLIB$$6d713310.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:361) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at com.my.ws.example.ws_example.hello.WebSocketConfig$$EnhancerBySpringCGLIB$$1ebc3c92.inboundMessageSecurityMetadataSource(&lt;generated&gt;) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    ... 137 common frames omitted\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1665859291,"post_id":74082023,"comment_id":130799330,"body_markdown":"What should be the output for the input array you&#39;ve provided?","body":"What should be the output for the input array you&#39;ve provided?"},{"owner":{"account_id":84196,"reputation":3264,"user_id":235532,"accept_rate":93,"display_name":"stefanosn"},"score":0,"creation_date":1665859419,"post_id":74082023,"comment_id":130799357,"body_markdown":"[1, 6, 4] is the output. Brings back all number that have only one occurrence. If i put 2 then it will return [2, 5]","body":"[1, 6, 4] is the output. Brings back all number that have only one occurrence. If i put 2 then it will return [2, 5]"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1665859465,"post_id":74082023,"comment_id":130799363,"body_markdown":"And are there any constraints regarding *min/max* values of the array elements?","body":"And are there any constraints regarding <i>min/max</i> values of the array elements?"},{"owner":{"account_id":84196,"reputation":3264,"user_id":235532,"accept_rate":93,"display_name":"stefanosn"},"score":0,"creation_date":1665859522,"post_id":74082023,"comment_id":130799375,"body_markdown":"Maximum number of items in the array 99. That is the constraint.","body":"Maximum number of items in the array 99. That is the constraint."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1665860058,"post_id":74082023,"comment_id":130799478,"body_markdown":"I was asking **not** about the size of the array, but is it specified what could be the range of values, like from `-1000` to `1000`?","body":"I was asking <b>not</b> about the size of the array, but is it specified what could be the range of values, like from <code>-1000</code> to <code>1000</code>?"},{"owner":{"account_id":84196,"reputation":3264,"user_id":235532,"accept_rate":93,"display_name":"stefanosn"},"score":0,"creation_date":1665860128,"post_id":74082023,"comment_id":130799491,"body_markdown":"I have no specification for the range of values in the description...","body":"I have no specification for the range of values in the description..."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1665860313,"post_id":74082023,"comment_id":130799528,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/248833/discussion-between-alexander-ivanchenko-and-stefanosn).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/248833/discussion-between-alexander-ivanchenko-and-stefanosn\">continue this discussion in chat</a>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665862028,"post_id":74082023,"comment_id":130799845,"body_markdown":"BTW find number of occurrences using streams: `Arrays.stream(arr).boxed().collect(groupingBy(Function.identity(), counting()))`","body":"BTW find number of occurrences using streams: <code>Arrays.stream(arr).boxed().collect(groupingBy(Function.ident&zwnj;&#8203;ity(), counting()))</code>"}],"answers":[{"tags":[],"owner":{"account_id":17912125,"reputation":68,"user_id":13013982,"display_name":"schmeekygeek"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665859098,"creation_date":1665859098,"answer_id":74082082,"question_id":74082023,"body_markdown":"You can use a hashmap to store the numbers as keys and frequencies as values.\r\nTake a look at the 2nd method of [this article][1] that covers this in detail\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/java-program-to-print-all-the-repeated-numbers-with-frequency-in-an-array/","title":"Find n number of occurrences of numbers Int inside a non sorted java array","body":"<p>You can use a hashmap to store the numbers as keys and frequencies as values.\nTake a look at the 2nd method of <a href=\"https://www.geeksforgeeks.org/java-program-to-print-all-the-repeated-numbers-with-frequency-in-an-array/\" rel=\"nofollow noreferrer\">this article</a> that covers this in detail</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665869992,"creation_date":1665862794,"answer_id":74082466,"question_id":74082023,"body_markdown":"The original requirement for problem has been provided by OP in [this comment](https://chat.stackoverflow.com/transcript/message/55379848#55379848).\r\n\r\nIt turns out that **imports are allowed** contrary to what was specified in the question.\r\n\r\nSo instead of performing redundant brute-force iterations in the nested loop, you can generate a `Map` of occurrences of each element in the given array.\r\n\r\nThe next step is to find the number of *values* of the `Map` that are less than `n`, that would be the size of the resulting array.\r\n\r\nThen, to preserve the order, iterate over the given array and filter out elements that have the number of occurrences greater than `n`. The elements having the number of occurrences less or equal to `n` can be stored into the array.\r\n\r\nThat&#39;s how the implementation might look like:\r\n\r\n    public int[] solution(int[] data, int n) {\r\n        Map&lt;Integer, Integer&gt; frequencies = new HashMap&lt;&gt;();\r\n        for (int next: data) {\r\n            frequencies.merge(next, 1, Integer::sum);\r\n        }\r\n    \r\n        int[] result = new int[getArraySize(frequencies, n)];\r\n        int index = 0;\r\n        for (int next: data) {\r\n            if (frequencies.get(next) &lt;= n) {\r\n                result[index++] = next;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    public int getArraySize(Map&lt;Integer, Integer&gt; frequencies, int n) {\r\n        int size = 0;\r\n        for (int freq: frequencies.values()) {\r\n            if (freq &lt;= n) size++;\r\n        }\r\n        return size;\r\n    }\r\n\r\nThe same logic can be implemented using Stream API:\r\n\r\n    public static int[] solution(int[] data, int n) {\r\n        Map&lt;Integer, Integer&gt; frequencies = getFrequencies(data);\r\n\r\n        return Arrays.stream(data)\r\n            .filter(i -&gt; frequencies.get(i) &lt;= n)\r\n            .toArray();\r\n    }\r\n    \r\n    public static Map&lt;Integer, Integer&gt; getFrequencies(int[] data) {\r\n        \r\n        return Arrays.stream(data)\r\n            .boxed()\r\n            .collect(Collectors.toMap(\r\n                Function.identity(),\r\n                i -&gt; 1,\r\n                Integer::sum\r\n            ));\r\n    }","title":"Find n number of occurrences of numbers Int inside a non sorted java array","body":"<p>The original requirement for problem has been provided by OP in <a href=\"https://chat.stackoverflow.com/transcript/message/55379848#55379848\">this comment</a>.</p>\n<p>It turns out that <strong>imports are allowed</strong> contrary to what was specified in the question.</p>\n<p>So instead of performing redundant brute-force iterations in the nested loop, you can generate a <code>Map</code> of occurrences of each element in the given array.</p>\n<p>The next step is to find the number of <em>values</em> of the <code>Map</code> that are less than <code>n</code>, that would be the size of the resulting array.</p>\n<p>Then, to preserve the order, iterate over the given array and filter out elements that have the number of occurrences greater than <code>n</code>. The elements having the number of occurrences less or equal to <code>n</code> can be stored into the array.</p>\n<p>That's how the implementation might look like:</p>\n<pre><code>public int[] solution(int[] data, int n) {\n    Map&lt;Integer, Integer&gt; frequencies = new HashMap&lt;&gt;();\n    for (int next: data) {\n        frequencies.merge(next, 1, Integer::sum);\n    }\n\n    int[] result = new int[getArraySize(frequencies, n)];\n    int index = 0;\n    for (int next: data) {\n        if (frequencies.get(next) &lt;= n) {\n            result[index++] = next;\n        }\n    }\n    return result;\n}\n\npublic int getArraySize(Map&lt;Integer, Integer&gt; frequencies, int n) {\n    int size = 0;\n    for (int freq: frequencies.values()) {\n        if (freq &lt;= n) size++;\n    }\n    return size;\n}\n</code></pre>\n<p>The same logic can be implemented using Stream API:</p>\n<pre><code>public static int[] solution(int[] data, int n) {\n    Map&lt;Integer, Integer&gt; frequencies = getFrequencies(data);\n\n    return Arrays.stream(data)\n        .filter(i -&gt; frequencies.get(i) &lt;= n)\n        .toArray();\n}\n\npublic static Map&lt;Integer, Integer&gt; getFrequencies(int[] data) {\n    \n    return Arrays.stream(data)\n        .boxed()\n        .collect(Collectors.toMap(\n            Function.identity(),\n            i -&gt; 1,\n            Integer::sum\n        ));\n}\n</code></pre>\n"}],"owner":{"account_id":84196,"reputation":3264,"user_id":235532,"accept_rate":93,"display_name":"stefanosn"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665869992,"creation_date":1665858534,"question_id":74082023,"body_markdown":"I created a class that finds the number of n occurrences for numbers in an Int non sorted Java array. I need to improve it so i do not have to use for loop inside another for. The array can take maximum 99 items. The array can not be sorted. So no sorting allowed by the use cases. Also no imports allowed. You can run the code [here][1]. Any help appreciated.\r\n\r\n        import java.util.Arrays;\r\n        \r\n        public class Solution {\r\n            \r\n             public static void main(String args[])  \r\n            {  \r\n                Solution newInstance = new Solution();\r\n               int[] myIntArray = {1,2,6,2,3,3,3,4,5,5};\r\n                newInstance.solution( myIntArray ,1);\r\n            }\r\n            \r\n            public static int[] solution(int[] data, int n) {\r\n                        \r\n        \r\n                int newData[] = new int[data.length];\r\n                    int indexOfNewData = 0;\r\n                    int timesCurrentTempItemFound = 0;\r\n        \r\n                     System.out.println (&quot;temp array: &quot; + Arrays.toString(data) + &quot;\\n&quot;);\r\n        \r\n                    for (int k=0; k&lt;data.length; k++) {\r\n        \r\n                        int currentTempItem = data[k];\r\n                        timesCurrentTempItemFound = 0;\r\n        \r\n                        for (int i=0; i&lt;data.length; i++) {\r\n                            if (currentTempItem == data[i]) {\r\n                                timesCurrentTempItemFound++;\r\n                            }\r\n                        }\r\n        \r\n                        if (timesCurrentTempItemFound == n) {\r\n        \r\n                            boolean itemAlreadyExists = false;\r\n        \r\n                            for (int index=0; index&lt;data.length; index++) {\r\n                                if (data[k] == newData[index]) {\r\n                                    itemAlreadyExists = true;\r\n                                }\r\n                            }\r\n        \r\n                            if (itemAlreadyExists == false) {\r\n                                newData[indexOfNewData] = data[k];\r\n                                indexOfNewData++;\r\n                            }\r\n                        }\r\n                    }\r\n                    \r\n                    indexOfNewData = 0;\r\n                    for(int i = 0; i&lt;newData.length; i++) {\r\n                        if(newData[i] != 0) {\r\n                            newData[indexOfNewData] = newData[i];\r\n                            indexOfNewData++;\r\n                        }\r\n        \r\n                    }\r\n                    int totalItemsInDataArrayWithoutZeros = indexOfNewData;\r\n        \r\n                    int newDataArray[] = new int[totalItemsInDataArrayWithoutZeros];\r\n        \r\n                    for (int i=0; i&lt;totalItemsInDataArrayWithoutZeros; i++) {\r\n                        newDataArray[i] = newData[i];\r\n                    }\r\n         System.out.println (&quot;temp array remove zeros: &quot; + Arrays.toString(newDataArray) + &quot;\\n&quot;);\r\n                    return newDataArray;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/compile_java_online.php","title":"Find n number of occurrences of numbers Int inside a non sorted java array","body":"<p>I created a class that finds the number of n occurrences for numbers in an Int non sorted Java array. I need to improve it so i do not have to use for loop inside another for. The array can take maximum 99 items. The array can not be sorted. So no sorting allowed by the use cases. Also no imports allowed. You can run the code <a href=\"https://www.tutorialspoint.com/compile_java_online.php\" rel=\"nofollow noreferrer\">here</a>. Any help appreciated.</p>\n<pre><code>    import java.util.Arrays;\n    \n    public class Solution {\n        \n         public static void main(String args[])  \n        {  \n            Solution newInstance = new Solution();\n           int[] myIntArray = {1,2,6,2,3,3,3,4,5,5};\n            newInstance.solution( myIntArray ,1);\n        }\n        \n        public static int[] solution(int[] data, int n) {\n                    \n    \n            int newData[] = new int[data.length];\n                int indexOfNewData = 0;\n                int timesCurrentTempItemFound = 0;\n    \n                 System.out.println (&quot;temp array: &quot; + Arrays.toString(data) + &quot;\\n&quot;);\n    \n                for (int k=0; k&lt;data.length; k++) {\n    \n                    int currentTempItem = data[k];\n                    timesCurrentTempItemFound = 0;\n    \n                    for (int i=0; i&lt;data.length; i++) {\n                        if (currentTempItem == data[i]) {\n                            timesCurrentTempItemFound++;\n                        }\n                    }\n    \n                    if (timesCurrentTempItemFound == n) {\n    \n                        boolean itemAlreadyExists = false;\n    \n                        for (int index=0; index&lt;data.length; index++) {\n                            if (data[k] == newData[index]) {\n                                itemAlreadyExists = true;\n                            }\n                        }\n    \n                        if (itemAlreadyExists == false) {\n                            newData[indexOfNewData] = data[k];\n                            indexOfNewData++;\n                        }\n                    }\n                }\n                \n                indexOfNewData = 0;\n                for(int i = 0; i&lt;newData.length; i++) {\n                    if(newData[i] != 0) {\n                        newData[indexOfNewData] = newData[i];\n                        indexOfNewData++;\n                    }\n    \n                }\n                int totalItemsInDataArrayWithoutZeros = indexOfNewData;\n    \n                int newDataArray[] = new int[totalItemsInDataArrayWithoutZeros];\n    \n                for (int i=0; i&lt;totalItemsInDataArrayWithoutZeros; i++) {\n                    newDataArray[i] = newData[i];\n                }\n     System.out.println (&quot;temp array remove zeros: &quot; + Arrays.toString(newDataArray) + &quot;\\n&quot;);\n                return newDataArray;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","drools"],"answers":[{"tags":[],"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665582874,"creation_date":1665582874,"answer_id":74043093,"question_id":74035236,"body_markdown":"Not sure what you mean by &quot;need to get field&quot;, but your code shows that you&#39;re inserting a `String card` into working memory. So just update your code to use that.\r\n\r\neg. in addition to:\r\n\r\n```\r\norder: Order\r\n```\r\n\r\nAlso declare your String-type input:\r\n\r\n```\r\ncard: String\r\n```\r\n\r\nand compare as you would normally, replacing the `order.getCard()...` cell.","title":"Drools Decision Table with java variables","body":"<p>Not sure what you mean by &quot;need to get field&quot;, but your code shows that you're inserting a <code>String card</code> into working memory. So just update your code to use that.</p>\n<p>eg. in addition to:</p>\n<pre><code>order: Order\n</code></pre>\n<p>Also declare your String-type input:</p>\n<pre><code>card: String\n</code></pre>\n<p>and compare as you would normally, replacing the <code>order.getCard()...</code> cell.</p>\n"}],"owner":{"account_id":26595327,"reputation":1,"user_id":20217786,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665869240,"creation_date":1665533893,"question_id":74035236,"body_markdown":"How can I use just fields instead of objects in drools decision table?\r\n\r\nFor example, I have this method in the controller\r\n\r\n    @PostMapping(&quot;/order&quot;)\r\n    public Order checkDiscount(@RequestBody Order order) {\r\n        session.insert(order);\r\n        session.fireAllRules();\r\n        return order;\r\n    }\r\n\r\nand my decision table looks like this\r\n\r\n|RuleSet                |       rules                   |                          | \r\n|-----------------------|-------------------------------|--------------------------|\r\n|import                 | com.example.drools.model.Order|                          |\r\n|                       |                               |                          |\r\n|RuleTable OrderDiscount|                               |                          |\r\n|          Name         |           CONDITION           |           ACTION         |\r\n|                       |order : Order                  |                          |\r\n|                       |order.getCard()==($param)      | order.setDiscount($param)|\r\n|                       |                               |                          |\r\n|                       |&quot;MasterCard&quot;                   |              5           |\r\n|                       |&quot;Visa&quot;                         |             15           |\r\n\r\n\r\nBut I need to get field instead of an object:\r\n\r\n    @PostMapping(&quot;/order&quot;)\r\n    public Order checkDiscount(@RequestParam String card) {\r\n        Order order = new Order();\r\n        session.insert(card);\r\n        session.insert(order);\r\n        session.fireAllRules();\r\n        return order;\r\n    }\r\n\r\nWhat should my decision table look like then?","title":"Drools Decision Table with java variables","body":"<p>How can I use just fields instead of objects in drools decision table?</p>\n<p>For example, I have this method in the controller</p>\n<pre><code>@PostMapping(&quot;/order&quot;)\npublic Order checkDiscount(@RequestBody Order order) {\n    session.insert(order);\n    session.fireAllRules();\n    return order;\n}\n</code></pre>\n<p>and my decision table looks like this</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>RuleSet</th>\n<th>rules</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>import</td>\n<td>com.example.drools.model.Order</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>RuleTable OrderDiscount</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>Name</td>\n<td>CONDITION</td>\n<td>ACTION</td>\n</tr>\n<tr>\n<td></td>\n<td>order : Order</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>order.getCard()==($param)</td>\n<td>order.setDiscount($param)</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>&quot;MasterCard&quot;</td>\n<td>5</td>\n</tr>\n<tr>\n<td></td>\n<td>&quot;Visa&quot;</td>\n<td>15</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>But I need to get field instead of an object:</p>\n<pre><code>@PostMapping(&quot;/order&quot;)\npublic Order checkDiscount(@RequestParam String card) {\n    Order order = new Order();\n    session.insert(card);\n    session.insert(order);\n    session.fireAllRules();\n    return order;\n}\n</code></pre>\n<p>What should my decision table look like then?</p>\n"},{"tags":["java","android","android-recyclerview","android-edittext","android-textwatcher"],"answers":[{"comments":[{"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"score":0,"creation_date":1665980878,"post_id":74083096,"comment_id":130818081,"body_markdown":"Ur code is working perfect. Thanks. yes I was doing it in the for loop!...","body":"Ur code is working perfect. Thanks. yes I was doing it in the for loop!..."}],"tags":[],"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665868594,"creation_date":1665868594,"answer_id":74083096,"question_id":74077725,"body_markdown":"You need to do it in the callback `onTextChanged`. I think you tried to do it with the for loop but that is out of the callback and would be called only when creating the `ViewHolder` and even that wouldn&#39;t affect different rows. \r\n\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n          TextView idtxt;\r\n          EditText textView;\r\n          TextView txtsave;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            idtxt = itemView.findViewById(R.id.idttxt);\r\n            textView = itemView.findViewById(R.id.textView);\r\n            txtsave = itemView.findViewById(R.id.txtsave);\r\n            \r\n            textView.addTextChangedListener(new TextWatcher() {\r\n                @Override\r\n                public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {}\r\n\r\n                @Override\r\n                public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n                    productsList.get(getAdapterPosition()).setName(charSequence);\r\n                    txtsave.setText(charSequence)\r\n                }\r\n\r\n                @Override\r\n                public void afterTextChanged(Editable editable) {}\r\n            });\r\n        }\r\n    }","title":"Android-RecyclerView get text and set text in the same row","body":"<p>You need to do it in the callback <code>onTextChanged</code>. I think you tried to do it with the for loop but that is out of the callback and would be called only when creating the <code>ViewHolder</code> and even that wouldn't affect different rows.</p>\n<pre><code>public static class ViewHolder extends RecyclerView.ViewHolder {\n\n      TextView idtxt;\n      EditText textView;\n      TextView txtsave;\n\n    public ViewHolder(@NonNull View itemView) {\n        super(itemView);\n        idtxt = itemView.findViewById(R.id.idttxt);\n        textView = itemView.findViewById(R.id.textView);\n        txtsave = itemView.findViewById(R.id.txtsave);\n        \n        textView.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {}\n\n            @Override\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n                productsList.get(getAdapterPosition()).setName(charSequence);\n                txtsave.setText(charSequence)\n            }\n\n            @Override\n            public void afterTextChanged(Editable editable) {}\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74083096,"answer_count":1,"score":1,"last_activity_date":1665868594,"creation_date":1665820819,"question_id":74077725,"body_markdown":"I am loading editText on click of fab button in recyclerview. I want to setText  on TextView in the same row of recyclerview entered in editText. Currently the text is setting from 2nd textview and previous values from edittext are being set. Basically if I type &quot;One&quot; in 1st editText &quot;One&quot; should be set to textview in the same row, &quot;two&quot; entered in 2nd editText &quot;two&quot; in the 2nd TextView.on click of Fab it should add item in the recyclerview and which will have edittext and textview. Any change in edittext should reflect in textview What changes need to be done? Im using model class\r\nMainActivity.java\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    FloatingActionButton fab;\r\n    RecyclerView recyclerView;\r\n    ArrayList&lt;Product&gt; productsList;\r\n    CustomAdapter adapter;\r\n    EditText editText;\r\n    String edit;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        recyclerView = findViewById(R.id.rec);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        productsList = new ArrayList&lt;&gt;();\r\n\r\n        adapter = new CustomAdapter(MainActivity.this,productsList);\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        fab = findViewById(R.id.fabBtn);\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                editText = new EditText(MainActivity.this);\r\n                edit = editText.getText().toString();\r\n                productsList.add(new Product(0, edit));\r\n                adapter.notifyItemInserted(productsList.size()-1);\r\n\r\n                }\r\n        });\r\n\r\n    }\r\n\r\n}\r\n\r\nCustomAdapter.java\r\n\r\n    public class CustomAdapter extends RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt; {\r\n    public static ArrayList&lt;Product&gt; productsList,filteredList;\r\n    private Context context;\r\n\r\n    public CustomAdapter(Context context,ArrayList&lt;Product&gt; productsList) {\r\n        this.context = context;\r\n        this.productsList = productsList;\r\n    }\r\n\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\r\n        // Create a new view, which defines the UI of the list item\r\n        View view = LayoutInflater.from(viewGroup.getContext())\r\n                .inflate(R.layout.layout_rv, viewGroup, false);\r\n\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(ViewHolder viewHolder, final int position) {\r\n        Product product = productsList.get(position);\r\n        viewHolder.idtxt.setText(String.valueOf(product.getId()));\r\n        viewHolder.textView.setText(productsList.get(position).getName());\r\n       // viewHolder.txtsave.setText(product.getName());\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return productsList.size();\r\n    }\r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n          TextView idtxt;\r\n          EditText textView;\r\n          TextView txtsave;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            idtxt = itemView.findViewById(R.id.idttxt);\r\n            textView = itemView.findViewById(R.id.textView);\r\n            txtsave = itemView.findViewById(R.id.txtsave);\r\n            textView.addTextChangedListener(new TextWatcher() {\r\n                @Override\r\n                public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n                    productsList.get(getAdapterPosition()).setName(textView.getText().toString());\r\n\r\n                }\r\n\r\n                @Override\r\n                public void afterTextChanged(Editable editable) {\r\n                    //viewHolder.textView.getText().toString();\r\n\r\n                }\r\n            });\r\n\r\n\r\n            for (int i = 0; i &lt; productsList.size(); i++){\r\n\r\n                txtsave.setText(txtsave.getText() + &quot; &quot; + productsList.get(i).getName() +System.getProperty(&quot;line.separator&quot;));\r\n\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n}","title":"Android-RecyclerView get text and set text in the same row","body":"<p>I am loading editText on click of fab button in recyclerview. I want to setText  on TextView in the same row of recyclerview entered in editText. Currently the text is setting from 2nd textview and previous values from edittext are being set. Basically if I type &quot;One&quot; in 1st editText &quot;One&quot; should be set to textview in the same row, &quot;two&quot; entered in 2nd editText &quot;two&quot; in the 2nd TextView.on click of Fab it should add item in the recyclerview and which will have edittext and textview. Any change in edittext should reflect in textview What changes need to be done? Im using model class\nMainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nFloatingActionButton fab;\nRecyclerView recyclerView;\nArrayList&lt;Product&gt; productsList;\nCustomAdapter adapter;\nEditText editText;\nString edit;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    recyclerView = findViewById(R.id.rec);\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n    productsList = new ArrayList&lt;&gt;();\n\n    adapter = new CustomAdapter(MainActivity.this,productsList);\n    recyclerView.setAdapter(adapter);\n\n    fab = findViewById(R.id.fabBtn);\n    fab.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            editText = new EditText(MainActivity.this);\n            edit = editText.getText().toString();\n            productsList.add(new Product(0, edit));\n            adapter.notifyItemInserted(productsList.size()-1);\n\n            }\n    });\n\n}\n</code></pre>\n<p>}</p>\n<p>CustomAdapter.java</p>\n<pre><code>public class CustomAdapter extends RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt; {\npublic static ArrayList&lt;Product&gt; productsList,filteredList;\nprivate Context context;\n\npublic CustomAdapter(Context context,ArrayList&lt;Product&gt; productsList) {\n    this.context = context;\n    this.productsList = productsList;\n}\n\n@Override\npublic ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\n    // Create a new view, which defines the UI of the list item\n    View view = LayoutInflater.from(viewGroup.getContext())\n            .inflate(R.layout.layout_rv, viewGroup, false);\n\n    return new ViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(ViewHolder viewHolder, final int position) {\n    Product product = productsList.get(position);\n    viewHolder.idtxt.setText(String.valueOf(product.getId()));\n    viewHolder.textView.setText(productsList.get(position).getName());\n   // viewHolder.txtsave.setText(product.getName());\n\n}\n\n@Override\npublic int getItemCount() {\n    return productsList.size();\n}\npublic static class ViewHolder extends RecyclerView.ViewHolder {\n      TextView idtxt;\n      EditText textView;\n      TextView txtsave;\n    public ViewHolder(@NonNull View itemView) {\n        super(itemView);\n        idtxt = itemView.findViewById(R.id.idttxt);\n        textView = itemView.findViewById(R.id.textView);\n        txtsave = itemView.findViewById(R.id.txtsave);\n        textView.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n            }\n\n            @Override\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n                productsList.get(getAdapterPosition()).setName(textView.getText().toString());\n\n            }\n\n            @Override\n            public void afterTextChanged(Editable editable) {\n                //viewHolder.textView.getText().toString();\n\n            }\n        });\n\n\n        for (int i = 0; i &lt; productsList.size(); i++){\n\n            txtsave.setText(txtsave.getText() + &quot; &quot; + productsList.get(i).getName() +System.getProperty(&quot;line.separator&quot;));\n\n\n        }\n\n    }\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","exception"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1665868848,"post_id":74077826,"comment_id":130801155,"body_markdown":"Please show `CatStrengthCalculatorBeanPostProcessor.postProcessBeforeInitialization(CatStrengthCalculatorBeanPostProcessor.java:20)` ;)","body":"Please show <code>CatStrengthCalculatorBeanPostProcessor.postProcessBeforeInit&zwnj;&#8203;ialization(CatStreng&zwnj;&#8203;thCalculatorBeanPost&zwnj;&#8203;Processor.java:20)</code> ;)"},{"owner":{"account_id":64553,"reputation":2214,"user_id":190499,"display_name":"pete23"},"score":0,"creation_date":1665923004,"post_id":74077826,"comment_id":130808006,"body_markdown":"CatStrangth? is this just a typo perhaps?","body":"CatStrangth? is this just a typo perhaps?"}],"owner":{"account_id":26512784,"reputation":1,"user_id":20147738,"display_name":"koba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665868497,"creation_date":1665821779,"question_id":74077826,"body_markdown":"**StackTrace:**\r\n\r\n&gt;org.springframework.context.support.AbstractApplicationContext refresh\r\n**WARNING: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;loryCat&#39; defined in class path resource [application-context.xml]: Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: bound must be greater than origin**\r\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;loryCat&#39; defined in class path resource [application-context.xml]: Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: bound must be greater than origin\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:85)\r\n\tat com.example.springcontext.Application.main(Application.java:7)\r\nCaused by: java.lang.IllegalArgumentException: bound must be greater than origin\r\n\tat java.base/jdk.internal.util.random.RandomSupport.checkRange(RandomSupport.java:232)\r\n\tat java.base/java.util.random.RandomGenerator.nextInt(RandomGenerator.java:679)\r\n\tat com.example.springcontext.CatStrengthCalculatorBeanPostProcessor.postProcessBeforeInitialization(CatStrengthCalculatorBeanPostProcessor.java:20)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\r\n\t... 11 more\r\n\r\nProcess finished with exit code 1\r\n\r\n\r\n\r\n**application-context.xml:**\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n        &lt;bean class=&quot;com.example.springcontext.CombatCat&quot; id=&quot;loryCat&quot;&gt;\r\n            &lt;property name=&quot;name&quot; value=&quot;Lori&quot;/&gt;\r\n        &lt;/bean&gt;\r\n        &lt;bean class=&quot;com.example.springcontext.CombatCat&quot; id=&quot;baxterCat&quot;&gt;\r\n            &lt;property name=&quot;name&quot; value=&quot;Baxter&quot;/&gt;\r\n        &lt;/bean&gt;\r\n        &lt;bean class=&quot;com.example.springcontext.FightClubImpl&quot; id=&quot;fightClub&quot;&gt;\r\n            &lt;property name=&quot;loryCat&quot; ref=&quot;loryCat&quot;/&gt;\r\n            &lt;property name=&quot;baxterCat&quot; ref=&quot;baxterCat&quot;/&gt;\r\n        &lt;/bean&gt;\r\n        &lt;bean class=&quot;com.example.springcontext.CatStrengthCalculatorBeanPostProcessor&quot;/&gt;\r\n    &lt;/beans&gt;\r\n\r\n\r\n**Class CombatCat:**\r\n\r\n```\r\npackage com.example.springcontext;\r\n\r\npublic class CombatCat {\r\n\r\n    private String name;\r\n\r\n    @CalculateCatStrangth(minStrength = 10, maxStrength = 14)\r\n    private Integer strangth;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public Integer getStrangth() {\r\n        return strangth;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;CombatCat{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, strangth=&quot; + strangth +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```","title":"Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: bound must be greater than origin","body":"<p><strong>StackTrace:</strong></p>\n<blockquote>\n<p>org.springframework.context.support.AbstractApplicationContext refresh\n<strong>WARNING: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loryCat' defined in class path resource [application-context.xml]: Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: bound must be greater than origin</strong>\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'loryCat' defined in class path resource [application-context.xml]: Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: bound must be greater than origin\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\nat org.springframework.context.support.ClassPathXmlApplicationContext.(ClassPathXmlApplicationContext.java:144)\nat org.springframework.context.support.ClassPathXmlApplicationContext.(ClassPathXmlApplicationContext.java:85)\nat com.example.springcontext.Application.main(Application.java:7)\nCaused by: java.lang.IllegalArgumentException: bound must be greater than origin\nat java.base/jdk.internal.util.random.RandomSupport.checkRange(RandomSupport.java:232)\nat java.base/java.util.random.RandomGenerator.nextInt(RandomGenerator.java:679)\nat com.example.springcontext.CatStrengthCalculatorBeanPostProcessor.postProcessBeforeInitialization(CatStrengthCalculatorBeanPostProcessor.java:20)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\n... 11 more</p>\n</blockquote>\n<p>Process finished with exit code 1</p>\n<p><strong>application-context.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n    &lt;bean class=&quot;com.example.springcontext.CombatCat&quot; id=&quot;loryCat&quot;&gt;\n        &lt;property name=&quot;name&quot; value=&quot;Lori&quot;/&gt;\n    &lt;/bean&gt;\n    &lt;bean class=&quot;com.example.springcontext.CombatCat&quot; id=&quot;baxterCat&quot;&gt;\n        &lt;property name=&quot;name&quot; value=&quot;Baxter&quot;/&gt;\n    &lt;/bean&gt;\n    &lt;bean class=&quot;com.example.springcontext.FightClubImpl&quot; id=&quot;fightClub&quot;&gt;\n        &lt;property name=&quot;loryCat&quot; ref=&quot;loryCat&quot;/&gt;\n        &lt;property name=&quot;baxterCat&quot; ref=&quot;baxterCat&quot;/&gt;\n    &lt;/bean&gt;\n    &lt;bean class=&quot;com.example.springcontext.CatStrengthCalculatorBeanPostProcessor&quot;/&gt;\n&lt;/beans&gt;\n</code></pre>\n<p><strong>Class CombatCat:</strong></p>\n<pre><code>package com.example.springcontext;\n\npublic class CombatCat {\n\n    private String name;\n\n    @CalculateCatStrangth(minStrength = 10, maxStrength = 14)\n    private Integer strangth;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Integer getStrangth() {\n        return strangth;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;CombatCat{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, strangth=&quot; + strangth +\n                '}';\n    }\n}\n</code></pre>\n"},{"tags":["java","database","jsp","servlets","jdbc"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665823249,"post_id":74077612,"comment_id":130792184,"body_markdown":"The attribute is not set","body":"The attribute is not set"}],"answers":[{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665867914,"creation_date":1665867914,"answer_id":74083029,"question_id":74077612,"body_markdown":"It seems the attribute is either an `Integer` value or is `null`.\r\n\r\nTry something like the following:\r\n```java\r\nInteger id = (Integer)req.getSession().getAttribute(&quot;user_id&quot;);\r\nif (id != null) {\r\n    int user_id = id;\r\n    // code that uses user_id ...\r\n}\r\nelse {\r\n    // handle the case that there is no user ID.\r\n}\r\n```","title":"How do I convert Object to Integer in Servlet using getAttribute method?","body":"<p>It seems the attribute is either an <code>Integer</code> value or is <code>null</code>.</p>\n<p>Try something like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer id = (Integer)req.getSession().getAttribute(&quot;user_id&quot;);\nif (id != null) {\n    int user_id = id;\n    // code that uses user_id ...\n}\nelse {\n    // handle the case that there is no user ID.\n}\n</code></pre>\n"}],"owner":{"account_id":25974624,"reputation":13,"user_id":19689239,"display_name":"Myron Dsilva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665867914,"creation_date":1665819737,"question_id":74077612,"body_markdown":"    String id = req.getSession().getAttribute(&quot;user_id&quot;).toString();\r\n\t\tint user_id=Integer.parseInt(id);\r\n\r\nThe error :\r\n\r\nCannot invoke &quot;Object.toString()&quot; because the return value of &quot;javax.servlet.http.HttpServletRequest.getAttribute(String)&quot; is null\r\n\r\nI have also tried\r\n\r\n    String id = (String)req.getSession().getAttribute(&quot;user_id&quot;);\r\n\t\tint user_id=Integer.parseInt(id);\r\n\r\nThe error:\r\n\r\nclass java.lang.Integer cannot be cast to class java.lang.String (java.lang.Integer and java.lang.String are in module java.base of loader &#39;bootstrap&#39;)","title":"How do I convert Object to Integer in Servlet using getAttribute method?","body":"<pre><code>String id = req.getSession().getAttribute(&quot;user_id&quot;).toString();\n    int user_id=Integer.parseInt(id);\n</code></pre>\n<p>The error :</p>\n<p>Cannot invoke &quot;Object.toString()&quot; because the return value of &quot;javax.servlet.http.HttpServletRequest.getAttribute(String)&quot; is null</p>\n<p>I have also tried</p>\n<pre><code>String id = (String)req.getSession().getAttribute(&quot;user_id&quot;);\n    int user_id=Integer.parseInt(id);\n</code></pre>\n<p>The error:</p>\n<p>class java.lang.Integer cannot be cast to class java.lang.String (java.lang.Integer and java.lang.String are in module java.base of loader 'bootstrap')</p>\n"},{"tags":["java","android","image","android-recyclerview"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1665860805,"post_id":74082249,"comment_id":130799629,"body_markdown":"&quot;I am storing the path of the image that I want to display in a sqlite database &quot; -- where did this path come from?","body":"&quot;I am storing the path of the image that I want to display in a sqlite database &quot; -- where did this path come from?"},{"owner":{"account_id":26394012,"reputation":31,"user_id":20045441,"display_name":"wuad"},"score":0,"creation_date":1665865426,"post_id":74082249,"comment_id":130800504,"body_markdown":"what happens is that the app has a user profile, so the user can change the profile image of the app by clicking on a button, every time the user clicks on the button the profile image is changed by loading the route of the new image selected from the image gallery (also overwriting it in the database by the path that was previously)","body":"what happens is that the app has a user profile, so the user can change the profile image of the app by clicking on a button, every time the user clicks on the button the profile image is changed by loading the route of the new image selected from the image gallery (also overwriting it in the database by the path that was previously)"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1665865898,"post_id":74082249,"comment_id":130800599,"body_markdown":"&quot;every time the user clicks on the button the profile image is changed by loading the route of the new image selected from the image gallery&quot; -- most likely your problem lies here. You might consider editing your question and expanding your [mcve] to show how you are obtaining and storing this &quot;path&quot;.","body":"&quot;every time the user clicks on the button the profile image is changed by loading the route of the new image selected from the image gallery&quot; -- most likely your problem lies here. You might consider editing your question and expanding your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to show how you are obtaining and storing this &quot;path&quot;."}],"answers":[{"tags":[],"owner":{"account_id":7854911,"reputation":37,"user_id":5937223,"accept_rate":20,"display_name":"Ibernato"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665867335,"creation_date":1665867335,"answer_id":74082966,"question_id":74082249,"body_markdown":"You are saving the user&#39;s gallery image path and this is incorrect. If the user deletes the photo from the gallery, you are unable to recover that image. Either you save the image in your app&#39;s private folder or you save the images on a remote server.","title":"how to display image in recycler view android studio","body":"<p>You are saving the user's gallery image path and this is incorrect. If the user deletes the photo from the gallery, you are unable to recover that image. Either you save the image in your app's private folder or you save the images on a remote server.</p>\n"}],"owner":{"account_id":26394012,"reputation":31,"user_id":20045441,"display_name":"wuad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665867335,"creation_date":1665860725,"question_id":74082249,"body_markdown":"I have a recyclerview in my app in which I want to display an image in an imageview. I am storing the path of the image that I want to display in a sqlite database as a TEXT field, the problem is that it does not display the image in the imageview, being that I correctly read the route from the database, I know this since I am printing the route with a Toast.\r\nI hope you can help me. Greetings\r\n\r\nmy code:\r\n\r\n```\r\npublic class ListAdapter extends RecyclerView.Adapter&lt;ListAdapter.ViewHolder&gt; implements View.OnClickListener {\r\n    private List&lt;ListDebates&gt; data;\r\n    private LayoutInflater inflater;\r\n    private Context context;\r\n    private View.OnClickListener listener;\r\n    public int id;\r\n    public String title_text;\r\n\r\n    public void filteredListTest(List &lt;ListDebates&gt; item){\r\n        this.data = item;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    public ListAdapter(List &lt;ListDebates&gt; itemList,Context context){\r\n        this.inflater = LayoutInflater.from(context);\r\n        this.data = itemList;\r\n        this.context = context;\r\n\r\n    }\r\n\r\n    //onCreateViewHolder enlaza el adaptador con el archivo xml\r\n    @NonNull\r\n    @Override\r\n    public ListAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = inflater.inflate(R.layout.cardview,null);\r\n        view.setOnClickListener(this);\r\n        return new ViewHolder(view);\r\n    }\r\n    //onBindViewHolder establece la comunicaci&#243;n entre el adaptador y la clase ViewHolder\r\n    // .Aqu&#237; se env&#237;a la informaci&#243;n que se quiere mostrar,para ello se ocupa el objeto holder\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        ConexionSQliteHelper conn=new ConexionSQliteHelper(context,&quot;lala&quot;,null,5);\r\n        Toast.makeText(context,&quot;la imagen es&quot;+image_discuss,Toast.LENGTH_SHORT).show();\r\n        //  Glide.with(this).load(personPhoto).override(200, 200).into(image_user);\r\n        Picasso.get().load(data.get(position).getImage_debate()).into(holder.image_post);\r\n\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return data.size();\r\n    }\r\n    public void setOnClickListener(View.OnClickListener listener){\r\n        this.listener=listener;\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        if(listener!=null){\r\n            listener.onClick(v);\r\n        }\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        ImageView image_post;\r\n        TextView title,user,arguments,count_viewer,count_discuss;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            image_post = itemView.findViewById(R.id.image_debate);\r\n            \r\n\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```","title":"how to display image in recycler view android studio","body":"<p>I have a recyclerview in my app in which I want to display an image in an imageview. I am storing the path of the image that I want to display in a sqlite database as a TEXT field, the problem is that it does not display the image in the imageview, being that I correctly read the route from the database, I know this since I am printing the route with a Toast.\nI hope you can help me. Greetings</p>\n<p>my code:</p>\n<pre><code>public class ListAdapter extends RecyclerView.Adapter&lt;ListAdapter.ViewHolder&gt; implements View.OnClickListener {\n    private List&lt;ListDebates&gt; data;\n    private LayoutInflater inflater;\n    private Context context;\n    private View.OnClickListener listener;\n    public int id;\n    public String title_text;\n\n    public void filteredListTest(List &lt;ListDebates&gt; item){\n        this.data = item;\n        notifyDataSetChanged();\n    }\n\n    public ListAdapter(List &lt;ListDebates&gt; itemList,Context context){\n        this.inflater = LayoutInflater.from(context);\n        this.data = itemList;\n        this.context = context;\n\n    }\n\n    //onCreateViewHolder enlaza el adaptador con el archivo xml\n    @NonNull\n    @Override\n    public ListAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = inflater.inflate(R.layout.cardview,null);\n        view.setOnClickListener(this);\n        return new ViewHolder(view);\n    }\n    //onBindViewHolder establece la comunicación entre el adaptador y la clase ViewHolder\n    // .Aquí se envía la información que se quiere mostrar,para ello se ocupa el objeto holder\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        ConexionSQliteHelper conn=new ConexionSQliteHelper(context,&quot;lala&quot;,null,5);\n        Toast.makeText(context,&quot;la imagen es&quot;+image_discuss,Toast.LENGTH_SHORT).show();\n        //  Glide.with(this).load(personPhoto).override(200, 200).into(image_user);\n        Picasso.get().load(data.get(position).getImage_debate()).into(holder.image_post);\n\n    }\n\n\n\n    @Override\n    public int getItemCount() {\n        return data.size();\n    }\n    public void setOnClickListener(View.OnClickListener listener){\n        this.listener=listener;\n    }\n\n    @Override\n    public void onClick(View v) {\n        if(listener!=null){\n            listener.onClick(v);\n        }\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        ImageView image_post;\n        TextView title,user,arguments,count_viewer,count_discuss;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            image_post = itemView.findViewById(R.id.image_debate);\n            \n\n        }\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1665861571,"post_id":74082326,"comment_id":130799765,"body_markdown":"You have a substantial memory leak. Use LeakCanary or the heap analysis tools in Android Studio to try to determine where your memory leak is coming from.","body":"You have a substantial memory leak. Use LeakCanary or the heap analysis tools in Android Studio to try to determine where your memory leak is coming from."},{"owner":{"account_id":21513681,"reputation":13,"user_id":15855935,"display_name":"abo3bdo"},"score":0,"creation_date":1665865087,"post_id":74082326,"comment_id":130800453,"body_markdown":"I used it and the leaks appeared but I don&#39;t know how to solve it, can you help me please","body":"I used it and the leaks appeared but I don&#39;t know how to solve it, can you help me please"}],"answers":[{"tags":[],"owner":{"account_id":7854911,"reputation":37,"user_id":5937223,"accept_rate":20,"display_name":"Ibernato"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665867136,"creation_date":1665867136,"answer_id":74082947,"question_id":74082326,"body_markdown":"Try debugging. \r\n&lt;br&gt;\r\nMemory leake probably happens in the listview when you load the data.\r\nHow much data are you uploading?","title":"Why is the app stopping because of app data?","body":"<p>Try debugging.\n<br>\nMemory leake probably happens in the listview when you load the data.\nHow much data are you uploading?</p>\n"}],"owner":{"account_id":21513681,"reputation":13,"user_id":15855935,"display_name":"abo3bdo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665867136,"creation_date":1665861488,"question_id":74082326,"body_markdown":" When I install the app for the first time it works and everything is fine but when I try to open it the second time the app stops, this problem appears on Android 6.\r\n\r\nAnd if I delete the app&#39;s data and reopen it it works, but I can&#39;t every time I want to open the app to delete its data and then open it.\r\n\r\nKnowing that the size of the application data is very small, about 3 megabytes\r\n\r\nSo please solve this problem, or if the application data can be deleted automatically after exiting it.\r\n\r\nThis is the problem report:\r\n\r\n     \r\n      2022-10-15 21:05:55.389 32404-32404/? E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.my.app, PID: 32404\r\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.my.app/com.my.app.MainActivity}: android.view.InflateException: Binary XML file line #12: Binary XML file line #36: Error inflating class android.widget.ListView\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3253)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349)\r\n            at android.app.ActivityThread.access$1100(ActivityThread.java:221)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)\r\n            at android.os.Handler.dispatchMessage(Handler.java:102)\r\n            at android.os.Looper.loop(Looper.java:158)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7225)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\r\n         Caused by: android.view.InflateException: Binary XML file line #12: Binary XML file line #36: Error inflating class android.widget.ListView\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:551)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:429)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:380)\r\n            at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:696)\r\n            at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:170)\r\n            at com.rif3i.alashaeatliashiratalsaaea.MainActivity.onCreate(MainActivity.java:97)\r\n            at android.app.Activity.performCreate(Activity.java:6876)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1135)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3206)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349)&#160;\r\n            at android.app.ActivityThread.access$1100(ActivityThread.java:221)&#160;\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n            at android.os.Looper.loop(Looper.java:158)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:7225)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)&#160;\r\n         Caused by: android.view.InflateException: Binary XML file line #36: Error inflating class android.widget.ListView\r\n            at android.view.LayoutInflater.createView(LayoutInflater.java:657)\r\n            at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58)\r\n            at android.view.LayoutInflater.onCreateView(LayoutInflater.java:706)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:774)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:716)\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:847)\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:810)\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:855)\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:810)\r\n            at android.view.LayoutInflater.parseInclude(LayoutInflater.java:1001)\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:843)\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:810)\r\n            at android.view.LayoutInflater.parseInclude(LayoutInflater.java:1001)\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:843)\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:810)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:527)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:429)&#160;\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:380)&#160;\r\n            at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:696)&#160;\r\n            at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:170)&#160;\r\n            at com.rif3i.alashaeatliashiratalsaaea.MainActivity.onCreate(MainActivity.java:97)&#160;\r\n            at android.app.Activity.performCreate(Activity.java:6876)&#160;\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1135)&#160;\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3206)&#160;\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349)&#160;\r\n            at android.app.ActivityThread.access$1100(ActivityThread.java:221)&#160;\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n            at android.os.Looper.loop(Looper.java:158)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:7225)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)&#160;\r\n         Caused by: java.lang.reflect.InvocationTargetException\r\n            at java.lang.reflect.Constructor.newInstance(Native Method)\r\n            at android.view.LayoutInflater.createView(LayoutInflater.java:631)\r\n            at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58)&#160;\r\n            at android.view.LayoutInflater.onCreateView(LayoutInflater.java:706)&#160;\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:774)&#160;\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:716)&#160;\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:847)&#160;\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:810)&#160;\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:855)&#160;\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:810)&#160;\r\n            at android.view.LayoutInflater.parseInclude(LayoutInflater.java:1001)&#160;\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:843)&#160;\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:810)&#160;\r\n            at android.view.LayoutInflater.parseInclude(LayoutInflater.java:1001)&#160;\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:843)&#160;\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:810)&#160;\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:527)&#160;\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:429)&#160;\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:380)&#160;\r\n            at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:696)&#160;\r\n            at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:170)&#160;\r\n            at com.rif3i.alashaeatliashiratalsaaea.MainActivity.onCreate(MainActivity.java:97)&#160;\r\n            at android.app.Activity.performCreate(Activity.java:6876)&#160;\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1135)&#160;\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3206)&#160;\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349)&#160;\r\n            at android.app.ActivityThread.access$1100(ActivityThread.java:221)&#160;\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n            at android.os.Looper.loop(Looper.java:158)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:7225)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)&#160;\r\n         Caused by: java.lang.OutOfMemoryError: Failed to allocate a 756236 byte allocation with 275456 free bytes and 269KB until OOM\r\n            at dalvik.system.VMRuntime.newNonMovableArray(Native Method)\r\n            at android.graphics.BitmapFactory.nativeDecodeAsset(Native Method)\r\n            at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:856)\r\n            at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:675)\r\n            at android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:2228)\r\n            at android.content.res.Resources.loadDrawableForCookie(Resources.java:4215)\r\n            at android.content.res.Resources.loadDrawable(Resources.java:4089)\r\n            at android.content.res.Resources.loadDrawable(Resources.java:3939)\r\n        \tat android.content.res","title":"Why is the app stopping because of app data?","body":"<p>When I install the app for the first time it works and everything is fine but when I try to open it the second time the app stops, this problem appears on Android 6.</p>\n<p>And if I delete the app's data and reopen it it works, but I can't every time I want to open the app to delete its data and then open it.</p>\n<p>Knowing that the size of the application data is very small, about 3 megabytes</p>\n<p>So please solve this problem, or if the application data can be deleted automatically after exiting it.</p>\n<p>This is the problem report:</p>\n<pre><code>  2022-10-15 21:05:55.389 32404-32404/? E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.my.app, PID: 32404\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.my.app/com.my.app.MainActivity}: android.view.InflateException: Binary XML file line #12: Binary XML file line #36: Error inflating class android.widget.ListView\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3253)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349)\n        at android.app.ActivityThread.access$1100(ActivityThread.java:221)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:158)\n        at android.app.ActivityThread.main(ActivityThread.java:7225)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\n     Caused by: android.view.InflateException: Binary XML file line #12: Binary XML file line #36: Error inflating class android.widget.ListView\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:551)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:429)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:380)\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:696)\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:170)\n        at com.rif3i.alashaeatliashiratalsaaea.MainActivity.onCreate(MainActivity.java:97)\n        at android.app.Activity.performCreate(Activity.java:6876)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1135)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3206)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349) \n        at android.app.ActivityThread.access$1100(ActivityThread.java:221) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794) \n        at android.os.Handler.dispatchMessage(Handler.java:102) \n        at android.os.Looper.loop(Looper.java:158) \n        at android.app.ActivityThread.main(ActivityThread.java:7225) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120) \n     Caused by: android.view.InflateException: Binary XML file line #36: Error inflating class android.widget.ListView\n        at android.view.LayoutInflater.createView(LayoutInflater.java:657)\n        at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58)\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:706)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:774)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:716)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:847)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:810)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:855)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:810)\n        at android.view.LayoutInflater.parseInclude(LayoutInflater.java:1001)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:843)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:810)\n        at android.view.LayoutInflater.parseInclude(LayoutInflater.java:1001)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:843)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:810)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:527)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:429) \n        at android.view.LayoutInflater.inflate(LayoutInflater.java:380) \n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:696) \n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:170) \n        at com.rif3i.alashaeatliashiratalsaaea.MainActivity.onCreate(MainActivity.java:97) \n        at android.app.Activity.performCreate(Activity.java:6876) \n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1135) \n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3206) \n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349) \n        at android.app.ActivityThread.access$1100(ActivityThread.java:221) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794) \n        at android.os.Handler.dispatchMessage(Handler.java:102) \n        at android.os.Looper.loop(Looper.java:158) \n        at android.app.ActivityThread.main(ActivityThread.java:7225) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120) \n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance(Native Method)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:631)\n        at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58) \n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:706) \n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:774) \n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:716) \n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:847) \n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:810) \n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:855) \n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:810) \n        at android.view.LayoutInflater.parseInclude(LayoutInflater.java:1001) \n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:843) \n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:810) \n        at android.view.LayoutInflater.parseInclude(LayoutInflater.java:1001) \n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:843) \n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:810) \n        at android.view.LayoutInflater.inflate(LayoutInflater.java:527) \n        at android.view.LayoutInflater.inflate(LayoutInflater.java:429) \n        at android.view.LayoutInflater.inflate(LayoutInflater.java:380) \n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:696) \n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:170) \n        at com.rif3i.alashaeatliashiratalsaaea.MainActivity.onCreate(MainActivity.java:97) \n        at android.app.Activity.performCreate(Activity.java:6876) \n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1135) \n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3206) \n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349) \n        at android.app.ActivityThread.access$1100(ActivityThread.java:221) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794) \n        at android.os.Handler.dispatchMessage(Handler.java:102) \n        at android.os.Looper.loop(Looper.java:158) \n        at android.app.ActivityThread.main(ActivityThread.java:7225) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120) \n     Caused by: java.lang.OutOfMemoryError: Failed to allocate a 756236 byte allocation with 275456 free bytes and 269KB until OOM\n        at dalvik.system.VMRuntime.newNonMovableArray(Native Method)\n        at android.graphics.BitmapFactory.nativeDecodeAsset(Native Method)\n        at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:856)\n        at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:675)\n        at android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:2228)\n        at android.content.res.Resources.loadDrawableForCookie(Resources.java:4215)\n        at android.content.res.Resources.loadDrawable(Resources.java:4089)\n        at android.content.res.Resources.loadDrawable(Resources.java:3939)\n        at android.content.res\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":18716710,"reputation":1336,"user_id":14291243,"display_name":"Abhishek Dutt"},"score":0,"creation_date":1665829668,"post_id":74074919,"comment_id":130793295,"body_markdown":"Does this answer your question? [Class file has wrong version 52.0, should be 50.0](https://stackoverflow.com/questions/28180915/class-file-has-wrong-version-52-0-should-be-50-0)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28180915/class-file-has-wrong-version-52-0-should-be-50-0\">Class file has wrong version 52.0, should be 50.0</a>"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665782561,"creation_date":1665782561,"answer_id":74074995,"question_id":74074919,"body_markdown":"The essential part of your error is\r\n\r\n    class file has wrong version 62.0, should be 55.0\r\n\r\nSo check the JDK and JRE versions you use to compile and run the project.\r\n","title":"Why cannot access Expression","body":"<p>The essential part of your error is</p>\n<pre><code>class file has wrong version 62.0, should be 55.0\n</code></pre>\n<p>So check the JDK and JRE versions you use to compile and run the project.</p>\n"}],"owner":{"account_id":22067665,"reputation":1,"user_id":16329267,"display_name":"Lorenzo Medici"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665865659,"creation_date":1665782019,"question_id":74074919,"body_markdown":"I am getting the below error:\r\n```\r\nC:\\Users\\Think\\AndroidStudioProjects\\Calculator\\app\\src\\main\\java\\com\\lolodmc70\\HomeActivity.java:84: error: cannot access Expression\r\n                Expression exp = new Expression(userexp);\r\n                ^\r\n  bad class file: C:\\Users\\Think\\AndroidStudioProjects\\Calculator\\app\\libs\\MathParser.org-mXparser.jar(/org/mariuszgromada/math/mxparser/Expression.class)\r\n    class file has wrong version 62.0, should be 55.0\r\n    Please remove or make sure it appears in the correct subdirectory of the classpath.\r\n```\r\nHere is the code\r\n```\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nequals.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                String userexp = operation.getText().toString();\r\n                userexp.replaceAll(&quot;&#247;&quot;,&quot;/&quot;);\r\n                userexp.replaceAll(&quot;&#215;&quot;,&quot;*&quot;);\r\n\r\n                Expression exp = new Expression(userexp);\r\n                String result = String.valueOf(exp.calculate());\r\n\r\n                operation.setText(result);\r\n                operation.setSelection(result.length());\r\n\r\n            }\r\n        });\r\n```","title":"Why cannot access Expression","body":"<p>I am getting the below error:</p>\n<pre><code>C:\\Users\\Think\\AndroidStudioProjects\\Calculator\\app\\src\\main\\java\\com\\lolodmc70\\HomeActivity.java:84: error: cannot access Expression\n                Expression exp = new Expression(userexp);\n                ^\n  bad class file: C:\\Users\\Think\\AndroidStudioProjects\\Calculator\\app\\libs\\MathParser.org-mXparser.jar(/org/mariuszgromada/math/mxparser/Expression.class)\n    class file has wrong version 62.0, should be 55.0\n    Please remove or make sure it appears in the correct subdirectory of the classpath.\n</code></pre>\n<p>Here is the code</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\nequals.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                String userexp = operation.getText().toString();\n                userexp.replaceAll(&quot;÷&quot;,&quot;/&quot;);\n                userexp.replaceAll(&quot;×&quot;,&quot;*&quot;);\n\n                Expression exp = new Expression(userexp);\n                String result = String.valueOf(exp.calculate());\n\n                operation.setText(result);\n                operation.setSelection(result.length());\n\n            }\n        });\n</code></pre>\n"},{"tags":["java","locking","exclusive-lock"],"answers":[{"tags":[],"owner":{"account_id":7457974,"reputation":149,"user_id":5670576,"display_name":"Roberto Fronteddu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665865634,"creation_date":1665865634,"answer_id":74082763,"question_id":74082180,"body_markdown":"FileLock does not generally use mandatory locks. This means that FileLock will generally provide locking only against other applications that use FileLock or equivalent.\r\n\r\nDepending on the OS, there may be different system calls to lock files. For example fcntl or lockf. \r\n\r\nTo summarize, you may not safely assume that FileLock is a mandatory lock in every platform.\r\n","title":"Exclusive locking of file from Java code doesn&#39;t work","body":"<p>FileLock does not generally use mandatory locks. This means that FileLock will generally provide locking only against other applications that use FileLock or equivalent.</p>\n<p>Depending on the OS, there may be different system calls to lock files. For example fcntl or lockf.</p>\n<p>To summarize, you may not safely assume that FileLock is a mandatory lock in every platform.</p>\n"}],"owner":{"account_id":15010219,"reputation":55,"user_id":10834931,"display_name":"Darian Pudic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665865634,"creation_date":1665860035,"question_id":74082180,"body_markdown":"I want to exclusively lock text file from Java code, so I found following example:\r\n```\r\npublic class Main \r\n{ \r\n    public static void main(String args[]) throws IOException \r\n    { \r\n    \t\r\n\t\t\r\n    \tString strFilePath = &quot;M:/Projects/SafeFile/ClientSide/dump/data6.txt&quot;;\r\n    \twriteFileWithLock(new File(strFilePath), &quot;some_content&quot;);\r\n    }   \r\n    \r\n    public static void writeFileWithLock(File file, String content) {\r\n\r\n\t\t// auto close and release the lock\r\n        try (RandomAccessFile reader = new RandomAccessFile(file, &quot;rw&quot;);\r\n             FileLock lock = reader.getChannel().lock()) {\r\n \r\n            // Simulate a 10s locked\r\n            TimeUnit.SECONDS.sleep(10);\r\n\r\n            reader.write(content.getBytes());\r\n\r\n        } catch (IOException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n}\r\n```\r\nWhen I double click on data6.txt before 10 seconds elapse, my expectation is that I will receive some message like &quot;File already opened by other process&quot; or something similar. But I manage to open it without any problems. Does anybody see what is wrong with this code? Thanks! ","title":"Exclusive locking of file from Java code doesn&#39;t work","body":"<p>I want to exclusively lock text file from Java code, so I found following example:</p>\n<pre><code>public class Main \n{ \n    public static void main(String args[]) throws IOException \n    { \n        \n        \n        String strFilePath = &quot;M:/Projects/SafeFile/ClientSide/dump/data6.txt&quot;;\n        writeFileWithLock(new File(strFilePath), &quot;some_content&quot;);\n    }   \n    \n    public static void writeFileWithLock(File file, String content) {\n\n        // auto close and release the lock\n        try (RandomAccessFile reader = new RandomAccessFile(file, &quot;rw&quot;);\n             FileLock lock = reader.getChannel().lock()) {\n \n            // Simulate a 10s locked\n            TimeUnit.SECONDS.sleep(10);\n\n            reader.write(content.getBytes());\n\n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n<p>When I double click on data6.txt before 10 seconds elapse, my expectation is that I will receive some message like &quot;File already opened by other process&quot; or something similar. But I manage to open it without any problems. Does anybody see what is wrong with this code? Thanks!</p>\n"},{"tags":["java","mongodb","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":26633391,"reputation":13,"user_id":20250240,"display_name":"jannath hussain"},"score":0,"creation_date":1665995518,"post_id":74082698,"comment_id":130821426,"body_markdown":"I need a mongodb query to search in studio 3t GUI,using any other parameters, such as &quot;name&quot;, instead of the ID.","body":"I need a mongodb query to search in studio 3t GUI,using any other parameters, such as &quot;name&quot;, instead of the ID."},{"owner":{"account_id":23203964,"reputation":3257,"user_id":17298437,"display_name":"Fabian Strathaus"},"score":0,"creation_date":1666004232,"post_id":74082698,"comment_id":130824390,"body_markdown":"Well, you can simply pass in `db.getCollections(&quot;collectionName&quot;).find({name: &quot;nameXY&quot;})` in order to query in 3T. I am not sure what the actual problem is here.","body":"Well, you can simply pass in <code>db.getCollections(&quot;collectionName&quot;).find({name: &quot;nameXY&quot;})</code> in order to query in 3T. I am not sure what the actual problem is here."},{"owner":{"account_id":23203964,"reputation":3257,"user_id":17298437,"display_name":"Fabian Strathaus"},"score":1,"creation_date":1666945667,"post_id":74082698,"comment_id":131059204,"body_markdown":"Then you should swap &quot;collectionName&quot; with &quot;asset&quot;. I think your question (which is not really a question though), is lacking important information here.","body":"Then you should swap &quot;collectionName&quot; with &quot;asset&quot;. I think your question (which is not really a question though), is lacking important information here."},{"owner":{"account_id":26633391,"reputation":13,"user_id":20250240,"display_name":"jannath hussain"},"score":0,"creation_date":1666948000,"post_id":74082698,"comment_id":131059957,"body_markdown":"Sorry it was incomplete","body":"Sorry it was incomplete"},{"owner":{"account_id":26633391,"reputation":13,"user_id":20250240,"display_name":"jannath hussain"},"score":0,"creation_date":1666976983,"post_id":74082698,"comment_id":131069767,"body_markdown":"2 collection = asset and assetVersion, both having fields like asset has {_id, name, url} , assetVersion has {id, asset, operation, message},as you can see asset is holding the DBref in assetVersion, when user updated name or url in asset table, a new entry will be created in assetVersion table for that same element with different id, if a user wants to list all the versions of the particular asset, They need to take the id of this version and list it assetVersion table, But the problem is we do not disclose the id of any entry of the db to the user, We want to run a query instead of asset.id","body":"2 collection = asset and assetVersion, both having fields like asset has {_id, name, url} , assetVersion has {id, asset, operation, message},as you can see asset is holding the DBref in assetVersion, when user updated name or url in asset table, a new entry will be created in assetVersion table for that same element with different id, if a user wants to list all the versions of the particular asset, They need to take the id of this version and list it assetVersion table, But the problem is we do not disclose the id of any entry of the db to the user, We want to run a query instead of asset.id"},{"owner":{"account_id":26633391,"reputation":13,"user_id":20250240,"display_name":"jannath hussain"},"score":0,"creation_date":1667192901,"post_id":74082698,"comment_id":131104372,"body_markdown":"This is the question continued from above one,any idea?","body":"This is the question continued from above one,any idea?"},{"owner":{"account_id":23203964,"reputation":3257,"user_id":17298437,"display_name":"Fabian Strathaus"},"score":0,"creation_date":1667193302,"post_id":74082698,"comment_id":131104436,"body_markdown":"Sorry, but I do not know what your exact question ist. SO is not a platform where people write code for you. You should at least provide some effort, like what you tried and what error you are facing. You should also include this in your original question and don‘t „hide“ it in some comments.","body":"Sorry, but I do not know what your exact question ist. SO is not a platform where people write code for you. You should at least provide some effort, like what you tried and what error you are facing. You should also include this in your original question and don‘t „hide“ it in some comments."}],"tags":[],"owner":{"account_id":23203964,"reputation":3257,"user_id":17298437,"display_name":"Fabian Strathaus"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665864905,"creation_date":1665864905,"answer_id":74082698,"question_id":74081363,"body_markdown":"I assume your question is targeted for the official mongodb client library for Java (found here: https://www.mongodb.com/developer/languages/java/)\r\n\r\n1. Yes, you can. Basically you can query on any property using the following statement (as described in the docs): `Document student1 = gradesCollection.find(new Document(&quot;name&quot;, &quot;NameXY&quot;)`\r\n2. As stated in 1. it is possible.\r\n3. That is not correct. ReactJS is a frontend framework, mongoose is a library to be included in node.js.\r\n\r\nNote: If you are using Spring Data MongoDB you have the possibilites to derive queries from function names (as explained in https://spring.io/guides/gs/accessing-data-mongodb/ under &quot;Create Simple Queries). There is actually an example where the exact use case you stated is contained.","title":"DBRef records can be queried using any other parameters, such as &quot;name&quot;, instead of the ID","body":"<p>I assume your question is targeted for the official mongodb client library for Java (found here: <a href=\"https://www.mongodb.com/developer/languages/java/\" rel=\"nofollow noreferrer\">https://www.mongodb.com/developer/languages/java/</a>)</p>\n<ol>\n<li>Yes, you can. Basically you can query on any property using the following statement (as described in the docs): <code>Document student1 = gradesCollection.find(new Document(&quot;name&quot;, &quot;NameXY&quot;)</code></li>\n<li>As stated in 1. it is possible.</li>\n<li>That is not correct. ReactJS is a frontend framework, mongoose is a library to be included in node.js.</li>\n</ol>\n<p>Note: If you are using Spring Data MongoDB you have the possibilites to derive queries from function names (as explained in <a href=\"https://spring.io/guides/gs/accessing-data-mongodb/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/accessing-data-mongodb/</a> under &quot;Create Simple Queries). There is actually an example where the exact use case you stated is contained.</p>\n"}],"owner":{"account_id":26633391,"reputation":13,"user_id":20250240,"display_name":"jannath hussain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665864905,"creation_date":1665852793,"question_id":74081363,"body_markdown":"In Mongodb\r\n1. In a collection having the records with a DBRef value, try to find out a way to query the field on the &quot;name&quot; parameter, instead of the ID.\r\n\r\n2. In case, there is no other way to query the records for the DBRef except the ID, provide a valid/official documentation stating the reason behind it,\r\n\r\n3. For reference, there is a library for ReactJS, called Mongoose, where the DBRef records can be queried using any other parameters, such as &quot;name&quot;, instead of the ID. Try to find out if there is any other alternative for the same in SpringBoot.\r\n\r\nThe above mentioned tasks are listed in descending order of priority.","title":"DBRef records can be queried using any other parameters, such as &quot;name&quot;, instead of the ID","body":"<p>In Mongodb</p>\n<ol>\n<li><p>In a collection having the records with a DBRef value, try to find out a way to query the field on the &quot;name&quot; parameter, instead of the ID.</p>\n</li>\n<li><p>In case, there is no other way to query the records for the DBRef except the ID, provide a valid/official documentation stating the reason behind it,</p>\n</li>\n<li><p>For reference, there is a library for ReactJS, called Mongoose, where the DBRef records can be queried using any other parameters, such as &quot;name&quot;, instead of the ID. Try to find out if there is any other alternative for the same in SpringBoot.</p>\n</li>\n</ol>\n<p>The above mentioned tasks are listed in descending order of priority.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","pom.xml"],"answers":[{"comments":[{"owner":{"account_id":22619547,"reputation":25,"user_id":16798578,"display_name":"marwan steam"},"score":0,"creation_date":1665896920,"post_id":74081923,"comment_id":130804054,"body_markdown":"if you look in my class course I extended from base entity class this class has id and I put the annotation @id with this javax.persistence.Id so still same error","body":"if you look in my class course I extended from base entity class this class has id and I put the annotation @id with this javax.persistence.Id so still same error"},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1665915009,"post_id":74081923,"comment_id":130806549,"body_markdown":"Does your COURSE table, have id field in your database? If it does your entity should as well. Try to add it to your course entity, not in your BaseEntities","body":"Does your COURSE table, have id field in your database? If it does your entity should as well. Try to add it to your course entity, not in your BaseEntities"}],"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665857621,"creation_date":1665857621,"answer_id":74081923,"question_id":74081661,"body_markdown":"You are missing id field in your entity\r\n   \r\n\r\n        @Id\r\n    \t@Column(name=&quot;id&quot;)&lt;---- this &quot;id&quot; value should match the id from your database\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate int id;\r\nMake sure that import is `javax.persistence.Id`","title":"Error creating bean with name &#39;entityManagerFactory&#39; Invocation of init method No identifier specified for entity","body":"<p>You are missing id field in your entity</p>\n<pre><code>    @Id\n    @Column(name=&quot;id&quot;)&lt;---- this &quot;id&quot; value should match the id from your database\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int id;\n</code></pre>\n<p>Make sure that import is <code>javax.persistence.Id</code></p>\n"},{"comments":[{"owner":{"account_id":22619547,"reputation":25,"user_id":16798578,"display_name":"marwan steam"},"score":0,"creation_date":1665896762,"post_id":74082593,"comment_id":130804045,"body_markdown":"if you look in my class course I extended from base entity class this class has id and I put the annotation @id with this javax.persistence.Id so still same error","body":"if you look in my class course I extended from base entity class this class has id and I put the annotation @id with this javax.persistence.Id so still same error"}],"tags":[],"owner":{"account_id":18368156,"reputation":303,"user_id":13378772,"display_name":"Aman Mehta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665864039,"creation_date":1665864039,"answer_id":74082593,"question_id":74081661,"body_markdown":"There is no field having ```@Id``` annotation defined in your entity class. \r\nThe field annotated with ```@Id``` is the **primary key** of your SQL table. \r\n\r\nHere is the correct code -\r\n\r\n```\r\npackage com.example.demo.entities.courses;\r\nimport java.math.BigDecimal;\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.DecimalMin;\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.NotNull;\r\nimport javax.validation.constraints.Size;\r\nimport com.example.demo.entities.BaseEntities;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\n@Entity\r\n@Table(name = &quot;courses&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n\r\npublic class Course extends BaseEntities {\r\n\r\n@Id\r\n@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n@Column(name=&quot;course_id&quot;)\r\nprivate Integer courseId\r\n    \r\n@NotNull\r\n@NotBlank\r\n@Column(name=&quot;title&quot;, length=100)\r\n@Size(max=100, message =&quot;Title must be less than 100 charachters&quot;)\r\n\r\nprivate String title;\r\n\r\n//public String getTitle() {\r\n//  // TODO Auto-generated method stub\r\n//  return null;\r\n//}\r\n\r\n@NotNull\r\n@NotBlank\r\n@Column(name=&quot;description&quot;, length=1000)\r\n@Size(max=1000, message =&quot;Title must be less than 1000 charachters&quot;)\r\n\r\nprivate String description;\r\n\r\n\r\n@NotNull(message =&quot;Price must not be null&quot;)\r\n@DecimalMin(&quot;1.00&quot;)\r\nprivate BigDecimal price;\r\n}\r\n```","title":"Error creating bean with name &#39;entityManagerFactory&#39; Invocation of init method No identifier specified for entity","body":"<p>There is no field having <code>@Id</code> annotation defined in your entity class.\nThe field annotated with <code>@Id</code> is the <strong>primary key</strong> of your SQL table.</p>\n<p>Here is the correct code -</p>\n<pre><code>package com.example.demo.entities.courses;\nimport java.math.BigDecimal;\nimport javax.persistence.*;\nimport javax.validation.constraints.DecimalMin;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Size;\nimport com.example.demo.entities.BaseEntities;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Entity\n@Table(name = &quot;courses&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n\npublic class Course extends BaseEntities {\n\n@Id\n@GeneratedValue(strategy=GenerationType.IDENTITY)\n@Column(name=&quot;course_id&quot;)\nprivate Integer courseId\n    \n@NotNull\n@NotBlank\n@Column(name=&quot;title&quot;, length=100)\n@Size(max=100, message =&quot;Title must be less than 100 charachters&quot;)\n\nprivate String title;\n\n//public String getTitle() {\n//  // TODO Auto-generated method stub\n//  return null;\n//}\n\n@NotNull\n@NotBlank\n@Column(name=&quot;description&quot;, length=1000)\n@Size(max=1000, message =&quot;Title must be less than 1000 charachters&quot;)\n\nprivate String description;\n\n\n@NotNull(message =&quot;Price must not be null&quot;)\n@DecimalMin(&quot;1.00&quot;)\nprivate BigDecimal price;\n}\n</code></pre>\n"}],"owner":{"account_id":22619547,"reputation":25,"user_id":16798578,"display_name":"marwan steam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665864039,"creation_date":1665855367,"question_id":74081661,"body_markdown":"&gt;  Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: No identifier specified for entity: com.example.demo.entities.courses.Course\r\n\r\n**Courses Class**\r\n\r\n    package com.example.demo.entities.courses;\r\n    import java.math.BigDecimal;\r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.DecimalMin;\r\n    import javax.validation.constraints.NotBlank;\r\n    import javax.validation.constraints.NotNull;\r\n    import javax.validation.constraints.Size;\r\n    import com.example.demo.entities.BaseEntities;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;courses&quot;)\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    \r\n    public class Course extends BaseEntities {\r\n    \t\r\n    @NotNull\r\n    @NotBlank\r\n    @Column(name=&quot;title&quot;, length=100)\r\n    @Size(max=100, message =&quot;Title must be less than 100 charachters&quot;)\r\n    \r\n    private String title;\r\n    \r\n    //public String getTitle() {\r\n    //\t// TODO Auto-generated method stub\r\n    //\treturn null;\r\n    //}\r\n    \r\n    @NotNull\r\n    @NotBlank\r\n    @Column(name=&quot;description&quot;, length=1000)\r\n    @Size(max=1000, message =&quot;Title must be less than 1000 charachters&quot;)\r\n    \r\n    private String description;\r\n    \r\n    \r\n    @NotNull(message =&quot;Price must not be null&quot;)\r\n    @DecimalMin(&quot;1.00&quot;)\r\n    private BigDecimal price;\r\n    }\r\n     \r\n   **pom.xml**\r\n\r\n   \r\n\r\n     \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n**application pro**\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/iAcademy?  createDatabaseIfNotExist=true\r\n    spring.datasource.username=root\r\n    spring.datasource.password=pass\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.jpa.show-sql=true\r\n\r\n\r\n\r\n","title":"Error creating bean with name &#39;entityManagerFactory&#39; Invocation of init method No identifier specified for entity","body":"<blockquote>\n<p>Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: No identifier specified for entity: com.example.demo.entities.courses.Course</p>\n</blockquote>\n<p><strong>Courses Class</strong></p>\n<pre><code>package com.example.demo.entities.courses;\nimport java.math.BigDecimal;\nimport javax.persistence.*;\nimport javax.validation.constraints.DecimalMin;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Size;\nimport com.example.demo.entities.BaseEntities;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Entity\n@Table(name = &quot;courses&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n\npublic class Course extends BaseEntities {\n    \n@NotNull\n@NotBlank\n@Column(name=&quot;title&quot;, length=100)\n@Size(max=100, message =&quot;Title must be less than 100 charachters&quot;)\n\nprivate String title;\n\n//public String getTitle() {\n//  // TODO Auto-generated method stub\n//  return null;\n//}\n\n@NotNull\n@NotBlank\n@Column(name=&quot;description&quot;, length=1000)\n@Size(max=1000, message =&quot;Title must be less than 1000 charachters&quot;)\n\nprivate String description;\n\n\n@NotNull(message =&quot;Price must not be null&quot;)\n@DecimalMin(&quot;1.00&quot;)\nprivate BigDecimal price;\n}\n \n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n&lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>application pro</strong></p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/iAcademy?  createDatabaseIfNotExist=true\nspring.datasource.username=root\nspring.datasource.password=pass\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\n</code></pre>\n"},{"tags":["java","class","arraylist","jackson"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":2,"creation_date":1665857457,"post_id":74081767,"comment_id":130798976,"body_markdown":"*&quot;the arraylist isn&#39;t written in the file&quot;* - can&#39;t reproduce the issue. Do you have all getters in place?","body":"<i>&quot;the arraylist isn&#39;t written in the file&quot;</i> - can&#39;t reproduce the issue. Do you have all getters in place?"},{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":1,"creation_date":1665860556,"post_id":74081767,"comment_id":130799575,"body_markdown":"As a suggestion, Try to use `List&lt;String&gt;` instead of `ArrayList&lt;String&gt;` as `List&lt;String&gt; ucurriculares = new ArrayList&lt;&gt;();` basically use interface instead of concrete types as you can easily change your List implementation in future.","body":"As a suggestion, Try to use <code>List&lt;String&gt;</code> instead of <code>ArrayList&lt;String&gt;</code> as <code>List&lt;String&gt; ucurriculares = new ArrayList&lt;&gt;();</code> basically use interface instead of concrete types as you can easily change your List implementation in future."},{"owner":{"account_id":25556605,"reputation":21,"user_id":19340016,"display_name":"gabriel"},"score":0,"creation_date":1665862991,"post_id":74081767,"comment_id":130800042,"body_markdown":"I do have all getters and setters in place and the output is still the same (without the arraylist witch contains the two string &quot;ingles&quot; and &quot;espanholes&quot;). And I changed the `ArrayList&lt;String&gt;` to `List&lt;String&gt;` as suggested. Thank you for the insight aswell.","body":"I do have all getters and setters in place and the output is still the same (without the arraylist witch contains the two string &quot;ingles&quot; and &quot;espanholes&quot;). And I changed the <code>ArrayList&lt;String&gt;</code> to <code>List&lt;String&gt;</code> as suggested. Thank you for the insight aswell."}],"answers":[{"comments":[{"owner":{"account_id":25556605,"reputation":21,"user_id":19340016,"display_name":"gabriel"},"score":0,"creation_date":1665862117,"post_id":74081995,"comment_id":130799861,"body_markdown":"I have getters and setters (it&#39;s updated on the question now), maybe there is something wrong with how I did it im not sure. I have also tried the second approach but I don&#39;t understand if I remove all getters and setters and even then I get an error on the &quot;PropertyAccessor&quot; witch I don&#39;t really understand what it does.","body":"I have getters and setters (it&#39;s updated on the question now), maybe there is something wrong with how I did it im not sure. I have also tried the second approach but I don&#39;t understand if I remove all getters and setters and even then I get an error on the &quot;PropertyAccessor&quot; witch I don&#39;t really understand what it does."},{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":1,"creation_date":1665862842,"post_id":74081995,"comment_id":130800013,"body_markdown":"@gabriel As I can see in your code you have not created the getter and setter method for `private ArrayList&lt;String&gt; unidadesCurriculares` List field, that&#39;s why you are not getting it in the json created. Please create the getter and setter for it and it will get resolved.","body":"@gabriel As I can see in your code you have not created the getter and setter method for <code>private ArrayList&lt;String&gt; unidadesCurriculares</code> List field, that&#39;s why you are not getting it in the json created. Please create the getter and setter for it and it will get resolved."},{"owner":{"account_id":25556605,"reputation":21,"user_id":19340016,"display_name":"gabriel"},"score":0,"creation_date":1665863091,"post_id":74081995,"comment_id":130800068,"body_markdown":"Wow, thank you I really did not expect to forget the arraylist","body":"Wow, thank you I really did not expect to forget the arraylist"},{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":1,"creation_date":1665863184,"post_id":74081995,"comment_id":130800079,"body_markdown":"@gabriel And for the 2nd approach, you need to add one dependency in pom.xml which i have updated in the answer itself.","body":"@gabriel And for the 2nd approach, you need to add one dependency in pom.xml which i have updated in the answer itself."}],"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665863385,"creation_date":1665858294,"answer_id":74081995,"question_id":74081767,"body_markdown":"**You can try any of these two approaches with your existing code:**\r\n\r\n**Approach 1:** Create `getters and setters` for all the attributes of the Estudante.java class\r\n\r\n**Approach 2:** Use `mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);` on the `ObjectMapper`.*(No need to create getter and setter)*\r\n\r\n**For Approach 2 :** As I have used `ObjectMapper` from different package, \r\n\r\n    import com.fasterxml.jackson.annotation.PropertyAccessor;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\n*Need to add this dependency in pom.xml*\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;version&gt;2.13.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n**Output in the file with both approaches:**\r\n\r\n    &quot;{\\&quot;nrEstudante\\&quot;:1234,\\&quot;nome\\&quot;:\\&quot;Student\\&quot;,\\&quot;idade\\&quot;:16,\\&quot;unidadesCurriculares\\&quot;:[\\&quot;ingles\\&quot;,\\&quot;Espanhol\\&quot;]}&quot;","title":"Trying to write a json file using an Object with an arraylist","body":"<p><strong>You can try any of these two approaches with your existing code:</strong></p>\n<p><strong>Approach 1:</strong> Create <code>getters and setters</code> for all the attributes of the Estudante.java class</p>\n<p><strong>Approach 2:</strong> Use <code>mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);</code> on the <code>ObjectMapper</code>.<em>(No need to create getter and setter)</em></p>\n<p><strong>For Approach 2 :</strong> As I have used <code>ObjectMapper</code> from different package,</p>\n<pre><code>import com.fasterxml.jackson.annotation.PropertyAccessor;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n</code></pre>\n<p><em>Need to add this dependency in pom.xml</em></p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.13.4&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p><strong>Output in the file with both approaches:</strong></p>\n<pre><code>&quot;{\\&quot;nrEstudante\\&quot;:1234,\\&quot;nome\\&quot;:\\&quot;Student\\&quot;,\\&quot;idade\\&quot;:16,\\&quot;unidadesCurriculares\\&quot;:[\\&quot;ingles\\&quot;,\\&quot;Espanhol\\&quot;]}&quot;\n</code></pre>\n"}],"owner":{"account_id":25556605,"reputation":21,"user_id":19340016,"display_name":"gabriel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74081995,"answer_count":1,"score":-2,"last_activity_date":1665863829,"creation_date":1665856165,"question_id":74081767,"body_markdown":"I have a class called &quot;Estudante&quot; and I&#39;m trying to write a file in json using a object of the class &quot;Estudante&quot;. My problem is, when I try to write the value to json, the strings and ints are written but the arraylist isn&#39;t written in the file.\r\n\r\nheres the code:\r\n\r\n```\r\npackage org.example;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Objects;\r\n\r\npublic class Estudante {\r\n    //attributes of the class Estudante\r\n    private int nrEstudante;\r\n    private String nome;\r\n    private int idade;\r\n    private ArrayList&lt;String&gt; unidadesCurriculares;\r\n\r\n    //default constructor (good practice)\r\n\r\n    public Estudante() {\r\n\r\n    }\r\n    public Estudante(int nrEstudante, String nome, int idade, ArrayList&lt;String&gt;unidadesCurriculares) {\r\n        this.nrEstudante = nrEstudante;\r\n        this.nome = nome;\r\n        this.idade = idade;\r\n        this.unidadesCurriculares = unidadesCurriculares;\r\n    }\r\n\r\n    public int getNrEstudante() {\r\n        return nrEstudante;\r\n    }\r\n\r\n    public void setNrEstudante(int nrEstudante) {\r\n        this.nrEstudante = nrEstudante;\r\n    }\r\n\r\n    public String getNome() {\r\n        return nome;\r\n    }\r\n\r\n    public void setNome(String nome) {\r\n        this.nome = nome;\r\n    }\r\n\r\n    public int getIdade() {\r\n        return idade;\r\n    }\r\n\r\n    public void setIdade(int idade) {\r\n        this.idade = idade;\r\n    }\r\n}\r\n```\r\nNext I have my Main Class where I try to make the file in json with the data from the new object\r\n``` \r\npackage org.example;\r\n\r\nimport org.codehaus.jackson.map.ObjectMapper;\r\n\r\nimport java.io.File;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        ArrayList&lt;String&gt; ucurriculares = new ArrayList&lt;String&gt;();\r\n        ucurriculares.add(&quot;ingles&quot;);\r\n        ucurriculares.add(&quot;Espanhol&quot;);\r\n        //ArrayList&lt;Object&gt; unidade = new ArrayList&lt;Object&gt;();\r\n        //unidade.add(ucurriculares);\r\n\r\n        Estudante estudante;\r\n        estudante = new Estudante(1234,&quot;Student&quot;,16,ucurriculares);\r\n        try{\r\n\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            String StrJson = mapper.writeValueAsString(estudante);\r\n            mapper.writeValue(new File(&quot;estudante.json&quot;),StrJson);\r\n        }catch(Exception ex)\r\n        {\r\n            System.out.println(ex.getMessage());\r\n        }\r\n\r\n    }\r\n}\r\n```\r\nThis is the current output of my file:\r\n``` \r\n&quot;{\\&quot;nrEstudante\\&quot;:1234,\\&quot;nome\\&quot;:\\&quot;Student\\&quot;,\\&quot;idade\\&quot;:16}&quot; \r\n```\r\nTurns out I forgot to make setters and getters for the ArrayList","title":"Trying to write a json file using an Object with an arraylist","body":"<p>I have a class called &quot;Estudante&quot; and I'm trying to write a file in json using a object of the class &quot;Estudante&quot;. My problem is, when I try to write the value to json, the strings and ints are written but the arraylist isn't written in the file.</p>\n<p>heres the code:</p>\n<pre><code>package org.example;\n\nimport java.util.ArrayList;\nimport java.util.Objects;\n\npublic class Estudante {\n    //attributes of the class Estudante\n    private int nrEstudante;\n    private String nome;\n    private int idade;\n    private ArrayList&lt;String&gt; unidadesCurriculares;\n\n    //default constructor (good practice)\n\n    public Estudante() {\n\n    }\n    public Estudante(int nrEstudante, String nome, int idade, ArrayList&lt;String&gt;unidadesCurriculares) {\n        this.nrEstudante = nrEstudante;\n        this.nome = nome;\n        this.idade = idade;\n        this.unidadesCurriculares = unidadesCurriculares;\n    }\n\n    public int getNrEstudante() {\n        return nrEstudante;\n    }\n\n    public void setNrEstudante(int nrEstudante) {\n        this.nrEstudante = nrEstudante;\n    }\n\n    public String getNome() {\n        return nome;\n    }\n\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n\n    public int getIdade() {\n        return idade;\n    }\n\n    public void setIdade(int idade) {\n        this.idade = idade;\n    }\n}\n</code></pre>\n<p>Next I have my Main Class where I try to make the file in json with the data from the new object</p>\n<pre><code>package org.example;\n\nimport org.codehaus.jackson.map.ObjectMapper;\n\nimport java.io.File;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        ArrayList&lt;String&gt; ucurriculares = new ArrayList&lt;String&gt;();\n        ucurriculares.add(&quot;ingles&quot;);\n        ucurriculares.add(&quot;Espanhol&quot;);\n        //ArrayList&lt;Object&gt; unidade = new ArrayList&lt;Object&gt;();\n        //unidade.add(ucurriculares);\n\n        Estudante estudante;\n        estudante = new Estudante(1234,&quot;Student&quot;,16,ucurriculares);\n        try{\n\n            ObjectMapper mapper = new ObjectMapper();\n            String StrJson = mapper.writeValueAsString(estudante);\n            mapper.writeValue(new File(&quot;estudante.json&quot;),StrJson);\n        }catch(Exception ex)\n        {\n            System.out.println(ex.getMessage());\n        }\n\n    }\n}\n</code></pre>\n<p>This is the current output of my file:</p>\n<pre><code>&quot;{\\&quot;nrEstudante\\&quot;:1234,\\&quot;nome\\&quot;:\\&quot;Student\\&quot;,\\&quot;idade\\&quot;:16}&quot; \n</code></pre>\n<p>Turns out I forgot to make setters and getters for the ArrayList</p>\n"},{"tags":["java","postgresql","hibernate","spring-boot","h2"],"answers":[{"tags":[],"owner":{"account_id":17525841,"reputation":55,"user_id":12710946,"display_name":"Aman Kumar Soni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579073635,"creation_date":1579073635,"answer_id":59746849,"question_id":59405704,"body_markdown":"you can read about ddl-auto-generation in spring doc\r\n\r\nlink: https://docs.spring.io/spring-boot/docs/1.0.x-SNAPSHOT/reference/html/howto-database-initialization.html\r\n\r\nOr \r\n\r\nhttps://www.baeldung.com/spring-boot-data-sql-and-schema-sql\r\n","title":"Hibernate does not generate sequences when update value is provided to the property spring.jpa.hibernate.ddl-auto for Postgres DBs","body":"<p>you can read about ddl-auto-generation in spring doc</p>\n\n<p>link: <a href=\"https://docs.spring.io/spring-boot/docs/1.0.x-SNAPSHOT/reference/html/howto-database-initialization.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/1.0.x-SNAPSHOT/reference/html/howto-database-initialization.html</a></p>\n\n<p>Or </p>\n\n<p><a href=\"https://www.baeldung.com/spring-boot-data-sql-and-schema-sql\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-data-sql-and-schema-sql</a></p>\n"},{"tags":[],"owner":{"account_id":17343603,"reputation":1,"user_id":12563676,"display_name":"Mashish091"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581412518,"creation_date":1581412518,"answer_id":60165334,"question_id":59405704,"body_markdown":"There was a bug in hibernate related to Postgres dialect. Below is the method in PostgresSQLDialect to check if sequence is present in schema (which is wrong by the way):\r\n\r\n    @Override\r\n    \tpublic String getQuerySequencesString() {\r\n    \t\treturn &quot;select relname from pg_class where relkind=&#39;S&#39;&quot;;\r\n    \t}\r\n\r\nThe above query returns sequences if there is any sequence present in any schema in the database. And if there is any schema containing any sequence, it won&#39;t create sequences in the specified schema of that Database. To resolve this, I wrote a custom Postgres dialect and changed the query to following:\r\n\r\n    @Override\r\n    public String getQuerySequencesString() {\r\n    \treturn &quot;select sequencename from pg_catalog.pg_sequences where schemaname=&#39;&quot;+schemaName+&quot;&#39;&quot;;\r\n    }\r\n\r\nIt resolves the issue when ddl-auto is set to update. The sequences are getting created now.","title":"Hibernate does not generate sequences when update value is provided to the property spring.jpa.hibernate.ddl-auto for Postgres DBs","body":"<p>There was a bug in hibernate related to Postgres dialect. Below is the method in PostgresSQLDialect to check if sequence is present in schema (which is wrong by the way):</p>\n\n<pre><code>@Override\n    public String getQuerySequencesString() {\n        return \"select relname from pg_class where relkind='S'\";\n    }\n</code></pre>\n\n<p>The above query returns sequences if there is any sequence present in any schema in the database. And if there is any schema containing any sequence, it won't create sequences in the specified schema of that Database. To resolve this, I wrote a custom Postgres dialect and changed the query to following:</p>\n\n<pre><code>@Override\npublic String getQuerySequencesString() {\n    return \"select sequencename from pg_catalog.pg_sequences where schemaname='\"+schemaName+\"'\";\n}\n</code></pre>\n\n<p>It resolves the issue when ddl-auto is set to update. The sequences are getting created now.</p>\n"},{"tags":[],"owner":{"account_id":23523979,"reputation":3,"user_id":17570756,"display_name":"Sukru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665863422,"creation_date":1665496523,"answer_id":74029341,"question_id":59405704,"body_markdown":"For anyone who is interested:\r\n\r\nhibernate checks for all tables which has `hibernate_sequence`. However, it needs to check only `currentSchema` on PostgreSQL. Just changed the query over Mashish091&#39;s solution.\r\n\r\n    return &quot;select * from information_schema.sequences where sequence_schema =&#39;&quot; + schemaName + &quot;&#39;&quot;;\r\n","title":"Hibernate does not generate sequences when update value is provided to the property spring.jpa.hibernate.ddl-auto for Postgres DBs","body":"<p>For anyone who is interested:</p>\n<p>hibernate checks for all tables which has <code>hibernate_sequence</code>. However, it needs to check only <code>currentSchema</code> on PostgreSQL. Just changed the query over Mashish091's solution.</p>\n<pre><code>return &quot;select * from information_schema.sequences where sequence_schema ='&quot; + schemaName + &quot;'&quot;;\n</code></pre>\n"}],"owner":{"account_id":17343603,"reputation":1,"user_id":12563676,"display_name":"Mashish091"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1665863422,"creation_date":1576743495,"question_id":59405704,"body_markdown":"When I use spring.jpa.hibernate.ddl-auto=create, sequences and tables are both created but when this property is set to update, only the tables are getting created. I have created a spring boot application and for DB, I am using Postgres. But when I check the same for h2 database (which is embedded), the sequences and the tables get created for the update value as well. I can not set the property to create as it will drop the tables when the application restarts. Can somebody please enlighten me?\r\nThanks in advance.","title":"Hibernate does not generate sequences when update value is provided to the property spring.jpa.hibernate.ddl-auto for Postgres DBs","body":"<p>When I use spring.jpa.hibernate.ddl-auto=create, sequences and tables are both created but when this property is set to update, only the tables are getting created. I have created a spring boot application and for DB, I am using Postgres. But when I check the same for h2 database (which is embedded), the sequences and the tables get created for the update value as well. I can not set the property to create as it will drop the tables when the application restarts. Can somebody please enlighten me?\nThanks in advance.</p>\n"},{"tags":["python","java","html","opensea"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665888266,"post_id":74082494,"comment_id":130803282,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"display_name":"user20251159"},"score":0,"creation_date":1665901216,"post_id":74082494,"comment_id":130804501,"body_markdown":"The main question is how do i get it to show up on a local server","body":"The main question is how do i get it to show up on a local server"}],"owner":{"display_name":"user20251159"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665863156,"creation_date":1665863156,"question_id":74082494,"body_markdown":"How can i use Opensea.io SDK in my localhost.. i am trying to check for vulnerabilities in the code and want to see it from my local web server. so basically after cloning the github or downloading the zip from the project opensea github ( https://github.com/ProjectOpenSea/opensea-js ) how do i get it to show on my local host.. also can you try it and give me steps to reproduce.. I know at first i do npm i to install all dependencies then it shows some dependencies are out of date so i npx npm-check-updates -u then i do npm update but thats all i know what next should i do to make it show on my local server. also what cd should i use is it cd opensea-js. I tried npm start but it gave me error codes","title":"How to use Opensea.io in my local web server (localhost 8000)","body":"<p>How can i use Opensea.io SDK in my localhost.. i am trying to check for vulnerabilities in the code and want to see it from my local web server. so basically after cloning the github or downloading the zip from the project opensea github ( <a href=\"https://github.com/ProjectOpenSea/opensea-js\" rel=\"nofollow noreferrer\">https://github.com/ProjectOpenSea/opensea-js</a> ) how do i get it to show on my local host.. also can you try it and give me steps to reproduce.. I know at first i do npm i to install all dependencies then it shows some dependencies are out of date so i npx npm-check-updates -u then i do npm update but thats all i know what next should i do to make it show on my local server. also what cd should i use is it cd opensea-js. I tried npm start but it gave me error codes</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"score":3,"creation_date":1665861634,"post_id":74082320,"comment_id":130799778,"body_markdown":"Annotate your `StudentService` with `@Service`.","body":"Annotate your <code>StudentService</code> with <code>@Service</code>."},{"owner":{"account_id":14203544,"reputation":942,"user_id":10260806,"display_name":"RedRum"},"score":0,"creation_date":1665862000,"post_id":74082320,"comment_id":130799837,"body_markdown":"ahah that worked! I guess the &#39;&#39;&#39;@RestController &#39;&#39;&#39;in the StudentController.java file is the equalivent of &#39;&#39;&#39;@Service&#39;&#39;&#39; in the StudentService! The tutorial I&#39;m following doesn&#39;t mention &#39;&#39;&#39;@Service&#39;&#39;&#39;! many thanks!","body":"ahah that worked! I guess the &#39;&#39;&#39;@RestController &#39;&#39;&#39;in the StudentController.java file is the equalivent of &#39;&#39;&#39;@Service&#39;&#39;&#39; in the StudentService! The tutorial I&#39;m following doesn&#39;t mention &#39;&#39;&#39;@Service&#39;&#39;&#39;! many thanks!"}],"answers":[{"comments":[{"owner":{"account_id":14203544,"reputation":942,"user_id":10260806,"display_name":"RedRum"},"score":0,"creation_date":1665862262,"post_id":74082366,"comment_id":130799894,"body_markdown":"```@Component```  also  worked and ```@Autowried``` is something new I&#39;ll have to research, thanks!","body":"<code>@Component</code>  also  worked and <code>@Autowried</code> is something new I&#39;ll have to research, thanks!"}],"tags":[],"owner":{"account_id":18368156,"reputation":303,"user_id":13378772,"display_name":"Aman Mehta"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665861978,"creation_date":1665861978,"answer_id":74082366,"question_id":74082320,"body_markdown":"You can use ```@Component``` or ```@Service``` annotation over you service class to tell Spring IOC container to create bean of it.\r\n\r\nThen you can use ```@Autowired``` annotation in your Component class to inject the bean of your service class.\r\n\r\nHere is the updated code of it -\r\n\r\n**Controller Class -** \r\n\r\n```\r\npackage com.example.demo.student;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\n\r\n// @RestController makes the bellow class serve Rest endpoints (@GetMapping)\r\n@RestController\r\n@RequestMapping(path = &quot;api/v1/student&quot;)\r\npublic class StudentController {\r\n    //reference\r\n    @Autowired\r\n    private final StudentService studentService;\r\n    // add to constructor\r\n    public StudentController() {\r\n \r\n    }\r\n\r\n    //In order for ths method to be served as a RESTful endpoint, we annotate with:\r\n    @GetMapping\r\n    //We now have a GetMapping for Studentcontroller\r\n    public List&lt;Student&gt; getStudents() {\r\n        return studentService.getStudents();\r\n    }\r\n}\r\n```\r\n\r\n**Service Class -**\r\n\r\n```\r\npackage com.example.demo.student;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.Month;\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class StudentService {\r\n    public List&lt;Student&gt; getStudents() {\r\n        return List.of(\r\n                new Student(\r\n                        1L,\r\n                        &quot;Mariam&quot;,\r\n                        &quot;mariam.jamal@gmail.com&quot;,\r\n                        LocalDate.of(2000, Month.JANUARY, 5),\r\n                        21\r\n                )\r\n        );\r\n    }\r\n}\r\n```","title":"Parameter 0 of constructor in .. required a bean type of.. Spring Boot","body":"<p>You can use <code>@Component</code> or <code>@Service</code> annotation over you service class to tell Spring IOC container to create bean of it.</p>\n<p>Then you can use <code>@Autowired</code> annotation in your Component class to inject the bean of your service class.</p>\n<p>Here is the updated code of it -</p>\n<p><strong>Controller Class -</strong></p>\n<pre><code>package com.example.demo.student;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n// @RestController makes the bellow class serve Rest endpoints (@GetMapping)\n@RestController\n@RequestMapping(path = &quot;api/v1/student&quot;)\npublic class StudentController {\n    //reference\n    @Autowired\n    private final StudentService studentService;\n    // add to constructor\n    public StudentController() {\n \n    }\n\n    //In order for ths method to be served as a RESTful endpoint, we annotate with:\n    @GetMapping\n    //We now have a GetMapping for Studentcontroller\n    public List&lt;Student&gt; getStudents() {\n        return studentService.getStudents();\n    }\n}\n</code></pre>\n<p><strong>Service Class -</strong></p>\n<pre><code>package com.example.demo.student;\n\nimport java.time.LocalDate;\nimport java.time.Month;\nimport java.util.List;\n\n@Service\npublic class StudentService {\n    public List&lt;Student&gt; getStudents() {\n        return List.of(\n                new Student(\n                        1L,\n                        &quot;Mariam&quot;,\n                        &quot;mariam.jamal@gmail.com&quot;,\n                        LocalDate.of(2000, Month.JANUARY, 5),\n                        21\n                )\n        );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665862477,"creation_date":1665862477,"answer_id":74082427,"question_id":74082320,"body_markdown":"Regarding to answer of @void void I want to add a few option on your spring knowledge. when you create any instance of the classes in project you must annotate it prototype annotation in spring boot, otherwise you face a problem, which you see. Spring must know on own container where programmer define beans them? @Service @Repository @RestController are prototype annotation in spring boot keep it mind!","title":"Parameter 0 of constructor in .. required a bean type of.. Spring Boot","body":"<p>Regarding to answer of @void void I want to add a few option on your spring knowledge. when you create any instance of the classes in project you must annotate it prototype annotation in spring boot, otherwise you face a problem, which you see. Spring must know on own container where programmer define beans them? @Service @Repository @RestController are prototype annotation in spring boot keep it mind!</p>\n"}],"owner":{"account_id":14203544,"reputation":942,"user_id":10260806,"display_name":"RedRum"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8827,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1665870954,"accepted_answer_id":74082366,"answer_count":2,"score":0,"last_activity_date":1665862477,"creation_date":1665861456,"question_id":74082320,"body_markdown":"I am fairly new to Java so sorry if this is not well described. I was initially able to get the Student list to appear in localhost:8080/api/v1/student when the list was in the StudentController file. \r\n\r\nBut for best practice, it was advised that it is good to split the files into Controller and Service files and move the list into the StudentService.java file, which is what I did, but now I am receiving an error saying:\r\n\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 0 of constructor in com.example.demo.student.StudentController required a bean of type &#39;com.example.demo.student.StudentService&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.example.demo.student.StudentService&#39; in your configuration.\r\n    \r\n    \r\n    Process finished with exit code 1\r\n\r\n\r\n\r\nThe error specifies &quot;Consider defining a bean of type &#39;com.example.demo.student.StudentService&#39; in your configuration&quot; but the error doesn&#39;t say which file this is specified. \r\n\r\nOther similar Stackoverflow questions have solutions that involve import @Component or importing something. \r\nI think it may be due to a missing import so I tried adding &#39;import com.example.demo.student.StudentService&#39; into the StudentController.java file but I&#39;m still getting the error so I&#39;ve just removed the import line.  The files are below.. thanks!\r\n\r\n# DemoApplication.java\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    \r\n    public class DemoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n\r\n# StudentController.java\r\n\r\n    package com.example.demo.student;\r\n    \r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.List;\r\n    \r\n    // @RestController makes the bellow class serve Rest endpoints (@GetMapping)\r\n    @RestController\r\n    @RequestMapping(path = &quot;api/v1/student&quot;)\r\n    public class StudentController {\r\n        //reference\r\n        private final StudentService studentService;\r\n        // add to constructor\r\n        public StudentController(StudentService studentService) {\r\n            // Initializing Private Final StudentService variable\r\n            this.studentService = studentService;\r\n        }\r\n    \r\n        //In order for ths method to be served as a RESTful endpoint, we annotate with:\r\n        @GetMapping\r\n        //We now have a GetMapping for Studentcontroller\r\n        public List&lt;Student&gt; getStudents() {\r\n            return studentService.getStudents();\r\n        }\r\n    }\r\n\r\n# StudentService.java\r\n\r\n    package com.example.demo.student;\r\n    \r\n    import java.time.LocalDate;\r\n    import java.time.Month;\r\n    import java.util.List;\r\n    \r\n    public class StudentService {\r\n        public List&lt;Student&gt; getStudents() {\r\n            return List.of(\r\n                    new Student(\r\n                            1L,\r\n                            &quot;Mariam&quot;,\r\n                            &quot;mariam.jamal@gmail.com&quot;,\r\n                            LocalDate.of(2000, Month.JANUARY, 5),\r\n                            21\r\n                    )\r\n            );\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Parameter 0 of constructor in .. required a bean type of.. Spring Boot","body":"<p>I am fairly new to Java so sorry if this is not well described. I was initially able to get the Student list to appear in localhost:8080/api/v1/student when the list was in the StudentController file.</p>\n<p>But for best practice, it was advised that it is good to split the files into Controller and Service files and move the list into the StudentService.java file, which is what I did, but now I am receiving an error saying:</p>\n<pre><code>APPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in com.example.demo.student.StudentController required a bean of type 'com.example.demo.student.StudentService' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.example.demo.student.StudentService' in your configuration.\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>The error specifies &quot;Consider defining a bean of type 'com.example.demo.student.StudentService' in your configuration&quot; but the error doesn't say which file this is specified.</p>\n<p>Other similar Stackoverflow questions have solutions that involve import @Component or importing something.\nI think it may be due to a missing import so I tried adding 'import com.example.demo.student.StudentService' into the StudentController.java file but I'm still getting the error so I've just removed the import line.  The files are below.. thanks!</p>\n<h1>DemoApplication.java</h1>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\n\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n<h1>StudentController.java</h1>\n<pre><code>package com.example.demo.student;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n// @RestController makes the bellow class serve Rest endpoints (@GetMapping)\n@RestController\n@RequestMapping(path = &quot;api/v1/student&quot;)\npublic class StudentController {\n    //reference\n    private final StudentService studentService;\n    // add to constructor\n    public StudentController(StudentService studentService) {\n        // Initializing Private Final StudentService variable\n        this.studentService = studentService;\n    }\n\n    //In order for ths method to be served as a RESTful endpoint, we annotate with:\n    @GetMapping\n    //We now have a GetMapping for Studentcontroller\n    public List&lt;Student&gt; getStudents() {\n        return studentService.getStudents();\n    }\n}\n</code></pre>\n<h1>StudentService.java</h1>\n<pre><code>package com.example.demo.student;\n\nimport java.time.LocalDate;\nimport java.time.Month;\nimport java.util.List;\n\npublic class StudentService {\n    public List&lt;Student&gt; getStudents() {\n        return List.of(\n                new Student(\n                        1L,\n                        &quot;Mariam&quot;,\n                        &quot;mariam.jamal@gmail.com&quot;,\n                        LocalDate.of(2000, Month.JANUARY, 5),\n                        21\n                )\n        );\n    }\n}\n</code></pre>\n"},{"tags":["java","linux","sockets","tcp","keep-alive"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":1,"creation_date":1333115496,"post_id":9943817,"comment_id":12696820,"body_markdown":"the SocketOption value is irrelevant, it is mapped to the platform specific value in the native code.","body":"the SocketOption value is irrelevant, it is mapped to the platform specific value in the native code."},{"owner":{"account_id":251932,"reputation":37692,"user_id":529630,"accept_rate":86,"display_name":"Dunes"},"score":1,"creation_date":1333117043,"post_id":9943817,"comment_id":12697489,"body_markdown":"What different configurations of host/client have your tried? The timeout for keep alive can vary from platform to platform. It may be that the linux host has a longer timeout, and that the client machine is terminating the connection because it thinks the connection is dead.","body":"What different configurations of host/client have your tried? The timeout for keep alive can vary from platform to platform. It may be that the linux host has a longer timeout, and that the client machine is terminating the connection because it thinks the connection is dead."}],"answers":[{"tags":[],"owner":{"account_id":555818,"reputation":582,"user_id":1220879,"display_name":"Johnlcf"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1665862375,"creation_date":1334548167,"answer_id":10168508,"question_id":9943817,"body_markdown":"I would suggest you can use &quot;netstat -anpo&quot; on linux to check if the keepalive Timer really turned on for your connection. If it is enabled, it would show &quot;keepalive&quot; in the &quot;Timer&quot; column. Otherwise it would be &quot;off&quot;.","title":"Socket keep alive not working on Linux","body":"<p>I would suggest you can use &quot;netstat -anpo&quot; on linux to check if the keepalive Timer really turned on for your connection. If it is enabled, it would show &quot;keepalive&quot; in the &quot;Timer&quot; column. Otherwise it would be &quot;off&quot;.</p>\n"}],"owner":{"account_id":231667,"reputation":3233,"user_id":496015,"accept_rate":83,"display_name":"Marc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2900,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1665862375,"creation_date":1333113626,"question_id":9943817,"body_markdown":"We have a Java app that uses sockets with TCP keep alive enabled\r\n\r\nSocket.setKeepAlive(true)\r\nhttp://docs.oracle.com/javase/6/docs/api/java/net/Socket.html#setKeepAlive(boolean)\r\n\r\nOur tests show the keep alive functionality is working correctly on a windows host, but not on a Linux host (Ubuntu Lucid).\r\n\r\nDigging in we found that the SO_KEEPALIVE numerical constant used in Java does not seem to match the constant used in Linux\r\n\r\nIn java: jdk/src/share/classes/java/net/SocketOptions.java:\r\n\r\n    public final static int SO_KEEPALIVE = 0x0008;\r\n\r\nIn Solaris: include/sys/socket.h\r\n\r\n    #define    SO_KEEPALIVE    0x0008        /* keep connections alive */\r\n\r\nIn Linux Sparc, MIPS, Alpha and PARISC: /usr/src//linux-headers-2.6.32-19/arch/sparc/include/asm/socket.h:\r\n\r\n    #define SO_KEEPALIVE    0x0008\r\n\r\nIn other Linux (x86 and amd64): /usr/include/asm-generic/socket.h:\r\n\r\n    \\#define SO_KEEPALIVE    9\r\n\r\nWe think this would explain why keep alive isn&#39;t working on Linux. Can anyone suggest another cause or a solution?\r\n\r\nCheers\r\nMarc","title":"Socket keep alive not working on Linux","body":"<p>We have a Java app that uses sockets with TCP keep alive enabled</p>\n\n<p>Socket.setKeepAlive(true)\n<a href=\"http://docs.oracle.com/javase/6/docs/api/java/net/Socket.html#setKeepAlive(boolean\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/net/Socket.html#setKeepAlive(boolean</a>)</p>\n\n<p>Our tests show the keep alive functionality is working correctly on a windows host, but not on a Linux host (Ubuntu Lucid).</p>\n\n<p>Digging in we found that the SO_KEEPALIVE numerical constant used in Java does not seem to match the constant used in Linux</p>\n\n<p>In java: jdk/src/share/classes/java/net/SocketOptions.java:</p>\n\n<pre><code>public final static int SO_KEEPALIVE = 0x0008;\n</code></pre>\n\n<p>In Solaris: include/sys/socket.h</p>\n\n<pre><code>#define    SO_KEEPALIVE    0x0008        /* keep connections alive */\n</code></pre>\n\n<p>In Linux Sparc, MIPS, Alpha and PARISC: /usr/src//linux-headers-2.6.32-19/arch/sparc/include/asm/socket.h:</p>\n\n<pre><code>#define SO_KEEPALIVE    0x0008\n</code></pre>\n\n<p>In other Linux (x86 and amd64): /usr/include/asm-generic/socket.h:</p>\n\n<pre><code>\\#define SO_KEEPALIVE    9\n</code></pre>\n\n<p>We think this would explain why keep alive isn't working on Linux. Can anyone suggest another cause or a solution?</p>\n\n<p>Cheers\nMarc</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":2,"creation_date":1338369052,"post_id":10813196,"comment_id":14072449,"body_markdown":"Check out `values()` function of `HashMap`.","body":"Check out <code>values()</code> function of <code>HashMap</code>."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1338369140,"post_id":10813196,"comment_id":14072485,"body_markdown":"Could you provide more of the code that gives you `null`?  Where does `wKey` come from?  Which date type are you using, and does its `equals()` method do what you think it does?","body":"Could you provide more of the code that gives you <code>null</code>?  Where does <code>wKey</code> come from?  Which date type are you using, and does its <code>equals()</code> method do what you think it does?"},{"owner":{"account_id":485524,"reputation":4470,"user_id":1277859,"accept_rate":75,"display_name":"Joe"},"score":0,"creation_date":1338369339,"post_id":10813196,"comment_id":14072570,"body_markdown":"Iterator&lt;String&gt; workingDayIterator = workingdayMap.keySet().iterator();\n\t        \t while(workingDayIterator.hasNext()){\n\t        \t\t String wKey= workingDayIterator.next();\n\t        \t\t \n\t        \t\t if(!employeeMap.containsValue(workingdayMap.get(wKey))){\n\t \t        \t\t// get the values\n\t  \t  \t       }\n\t        \t\t \n\t        \t }","body":"Iterator&lt;String&gt; workingDayIterator = workingdayMap.keySet().iterator(); \t        \t while(workingDayIterator.hasNext()){ \t        \t\t String wKey= workingDayIterator.next(); \t        \t\t  \t        \t\t if(!employeeMap.containsValue(workingdayMap.get(wKey))){ \t \t        \t\t// get the values \t  \t  \t       } \t        \t\t  \t        \t }"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1338375684,"post_id":10813196,"comment_id":14075087,"body_markdown":"Okay, that code looks good.  What do you mean by &quot;it gives you null&quot;?  Is there an exception?  Can we get the stack trace?","body":"Okay, that code looks good.  What do you mean by &quot;it gives you null&quot;?  Is there an exception?  Can we get the stack trace?"}],"answers":[{"tags":[],"owner":{"account_id":1524511,"reputation":6343,"user_id":1423274,"display_name":"Jeff Watkins"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338369128,"creation_date":1338369128,"answer_id":10813269,"question_id":10813196,"body_markdown":"Are the Values Date objects? If so you&#39;re attempting to see if the map contains the same object (well its hash, which will be different unless you stored the EXACT same instance in both maps) rather than the value of the object.","title":"How to compare two hashmaps in java?","body":"<p>Are the Values Date objects? If so you're attempting to see if the map contains the same object (well its hash, which will be different unless you stored the EXACT same instance in both maps) rather than the value of the object.</p>\n"},{"tags":[],"owner":{"account_id":2288,"reputation":191205,"user_id":3171,"accept_rate":92,"display_name":"David Webb"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338369901,"creation_date":1338369901,"answer_id":10813470,"question_id":10813196,"body_markdown":"Something like this should work:\r\n\r\n    Set workingValues = new HashSet(workingdayMap.values());\r\n    workingValues.removeAll(employeeMap.values());\r\n\r\nWe get all the values out of `workingdayMap` using the `values()` method.  We don&#39;t want to modify this `Collection` directly as this will modify `workingdayMap` so we create a `Set` of our values called `workingValues`.\r\n\r\nWe then remove all the values found in `employeeMap` which will leave the values which are in `workingdayMap` but not in `employeeMap` in `workingValues`.","title":"How to compare two hashmaps in java?","body":"<p>Something like this should work:</p>\n\n<pre><code>Set workingValues = new HashSet(workingdayMap.values());\nworkingValues.removeAll(employeeMap.values());\n</code></pre>\n\n<p>We get all the values out of <code>workingdayMap</code> using the <code>values()</code> method.  We don't want to modify this <code>Collection</code> directly as this will modify <code>workingdayMap</code> so we create a <code>Set</code> of our values called <code>workingValues</code>.</p>\n\n<p>We then remove all the values found in <code>employeeMap</code> which will leave the values which are in <code>workingdayMap</code> but not in <code>employeeMap</code> in <code>workingValues</code>.</p>\n"},{"tags":[],"owner":{"account_id":1506950,"reputation":2350,"user_id":1410115,"accept_rate":89,"display_name":"Ramaraj Karuppusamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338370218,"creation_date":1338370218,"answer_id":10813547,"question_id":10813196,"body_markdown":"Can you please try like this.\r\n\r\n\r\n\t\tHashMap&lt;String, Date&gt; employeeMap = new HashMap&lt;String, Date&gt;();\r\n\r\n\t\tHashMap&lt;String, Date&gt; workingdaymap = new HashMap&lt;String, Date&gt;();\r\n\r\n\t\tSet&lt;String&gt; values1 = new HashSet&lt;String&gt;(employeeMap.values());\r\n\t\tSet&lt;String&gt; values2 = new HashSet&lt;String&gt;(workingdaymap.values());\r\n\t\tboolean equal = values1.equals(value2);","title":"How to compare two hashmaps in java?","body":"<p>Can you please try like this.</p>\n\n<pre><code>    HashMap&lt;String, Date&gt; employeeMap = new HashMap&lt;String, Date&gt;();\n\n    HashMap&lt;String, Date&gt; workingdaymap = new HashMap&lt;String, Date&gt;();\n\n    Set&lt;String&gt; values1 = new HashSet&lt;String&gt;(employeeMap.values());\n    Set&lt;String&gt; values2 = new HashSet&lt;String&gt;(workingdaymap.values());\n    boolean equal = values1.equals(value2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":485524,"reputation":4470,"user_id":1277859,"accept_rate":75,"display_name":"Joe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665861300,"creation_date":1338380519,"answer_id":10816193,"question_id":10813196,"body_markdown":"below is the code which works perfectly, the reason why the comparison failed is the map value is different .\r\n\r\n    Key : 27 : Value : 27/4/2012, Key : 1_18 : Value : 27/04/2012\r\n    \r\n\r\nif we see the dates, the difference is clearly seen.  `27/4/2012` is different from  `27/04/2012` since i stored it as a string.\r\n\r\n    Iterator&lt;Map.Entry&lt;String,String&gt;&gt; holyDayiterator = workingdayMap.entrySet().iterator();\r\n    \t        \t \r\n    \t        \t while (holyDayiterator.hasNext()) {\r\n    \t \t\t\t\tMap.Entry holiDayEntry = holyDayiterator.next();\r\n    \t \t\t\t\tif(!employeeMap.containsValue((holiDayEntry.getValue()))){\r\n    \t \t\t\t\t\tSystem.out.println(&quot;works perfect&quot;);\r\n    \t \t\t\t\t}\r\n","title":"How to compare two hashmaps in java?","body":"<p>below is the code which works perfectly, the reason why the comparison failed is the map value is different .</p>\n<pre><code>Key : 27 : Value : 27/4/2012, Key : 1_18 : Value : 27/04/2012\n</code></pre>\n<p>if we see the dates, the difference is clearly seen.  <code>27/4/2012</code> is different from  <code>27/04/2012</code> since i stored it as a string.</p>\n<pre><code>Iterator&lt;Map.Entry&lt;String,String&gt;&gt; holyDayiterator = workingdayMap.entrySet().iterator();\n                 \n                 while (holyDayiterator.hasNext()) {\n                    Map.Entry holiDayEntry = holyDayiterator.next();\n                    if(!employeeMap.containsValue((holiDayEntry.getValue()))){\n                        System.out.println(&quot;works perfect&quot;);\n                    }\n</code></pre>\n"}],"owner":{"account_id":485524,"reputation":4470,"user_id":1277859,"accept_rate":75,"display_name":"Joe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10816193,"answer_count":4,"score":0,"last_activity_date":1665861300,"creation_date":1338368869,"question_id":10813196,"body_markdown":"I have two hash maps like the following: \r\n\r\n    1.=============Employee=================\r\n    \r\n\r\n    Key : 1_10 : Value : 13/04/2012\r\n    Key : 1_11 : Value : 18/04/2012\r\n    Key : 1_12 : Value : 19/04/2012\r\n    Key : 1_14 : Value : 23/04/2012\r\n    Key : 1_13 : Value : 20/04/2012\r\n    Key : 1_16 : Value : 25/04/2012\r\n    Key : 1_1  : Value : 02/04/2012\r\n    Key : 1_15 : Value : 24/04/2012\r\n    Key : 1_18 : Value : 27/04/2012\r\n    Key : 1_3  : Value : 04/04/2012\r\n    Key : 1_17 : Value : 26/04/2012\r\n    Key : 1_2  : Value : 03/04/2012\r\n    Key : 1_5  : Value : 06/04/2012\r\n    Key : 1_19 : Value : 30/04/2012\r\n    Key : 1_4  : Value : 05/04/2012\r\n    Key : 1_7  : Value : 10/04/2012\r\n    Key : 1_6  : Value : 09/04/2012\r\n    Key : 1_9  : Value : 12/04/2012\r\n    Key : 1_8  : Value : 11/04/2012\r\n\r\n    2.=============Working day=================\r\n\r\n    Key : 27 : Value : 27/4/2012\r\n    Key : 02 : Value : 02/4/2012\r\n    Key : 26 : Value : 26/4/2012\r\n    Key : 19 : Value : 19/4/2012\r\n    Key : 11 : Value : 11/4/2012\r\n    Key : 04 : Value : 04/4/2012\r\n    Key : 30 : Value : 30/4/2012\r\n    Key : 06 : Value : 06/4/2012\r\n    Key : 13 : Value : 13/4/2012\r\n    Key : 09 : Value : 09/4/2012\r\n    Key : 03 : Value : 03/4/2012\r\n    Key : 23 : Value : 23/4/2012\r\n    Key : 20 : Value : 20/4/2012\r\n    Key : 16 : Value : 16/4/2012\r\n    Key : 10 : Value : 10/4/2012\r\n    Key : 18 : Value : 18/4/2012\r\n    Key : 25 : Value : 25/4/2012\r\n    Key : 17 : Value : 17/4/2012\r\n    Key : 12 : Value : 12/4/2012\r\n    Key : 24 : Value : 24/4/2012\r\n    Key : 05 : Value : 05/4/2012\r\n\r\nKeys are not same but the values are same and sometime the values are not same.\r\n\r\ni want to find out the value which are not present in `employeemap` when  comparing with `workingdaymap`\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    if (!employeeMap.containsValue(workingdayMap.get(wKey))) {\r\n        //take the value which is not present in employeeMap which is present in workingdayMap\r\n    }\r\n\r\nbut it gives me null from employeeMap.\r\n\r\nCould you please help me to solve this?\r\n\r\nRegards\r\nTony","title":"How to compare two hashmaps in java?","body":"<p>I have two hash maps like the following: </p>\n\n<pre><code>1.=============Employee=================\n\n\nKey : 1_10 : Value : 13/04/2012\nKey : 1_11 : Value : 18/04/2012\nKey : 1_12 : Value : 19/04/2012\nKey : 1_14 : Value : 23/04/2012\nKey : 1_13 : Value : 20/04/2012\nKey : 1_16 : Value : 25/04/2012\nKey : 1_1  : Value : 02/04/2012\nKey : 1_15 : Value : 24/04/2012\nKey : 1_18 : Value : 27/04/2012\nKey : 1_3  : Value : 04/04/2012\nKey : 1_17 : Value : 26/04/2012\nKey : 1_2  : Value : 03/04/2012\nKey : 1_5  : Value : 06/04/2012\nKey : 1_19 : Value : 30/04/2012\nKey : 1_4  : Value : 05/04/2012\nKey : 1_7  : Value : 10/04/2012\nKey : 1_6  : Value : 09/04/2012\nKey : 1_9  : Value : 12/04/2012\nKey : 1_8  : Value : 11/04/2012\n\n2.=============Working day=================\n\nKey : 27 : Value : 27/4/2012\nKey : 02 : Value : 02/4/2012\nKey : 26 : Value : 26/4/2012\nKey : 19 : Value : 19/4/2012\nKey : 11 : Value : 11/4/2012\nKey : 04 : Value : 04/4/2012\nKey : 30 : Value : 30/4/2012\nKey : 06 : Value : 06/4/2012\nKey : 13 : Value : 13/4/2012\nKey : 09 : Value : 09/4/2012\nKey : 03 : Value : 03/4/2012\nKey : 23 : Value : 23/4/2012\nKey : 20 : Value : 20/4/2012\nKey : 16 : Value : 16/4/2012\nKey : 10 : Value : 10/4/2012\nKey : 18 : Value : 18/4/2012\nKey : 25 : Value : 25/4/2012\nKey : 17 : Value : 17/4/2012\nKey : 12 : Value : 12/4/2012\nKey : 24 : Value : 24/4/2012\nKey : 05 : Value : 05/4/2012\n</code></pre>\n\n<p>Keys are not same but the values are same and sometime the values are not same.</p>\n\n<p>i want to find out the value which are not present in <code>employeemap</code> when  comparing with <code>workingdaymap</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>if (!employeeMap.containsValue(workingdayMap.get(wKey))) {\n    //take the value which is not present in employeeMap which is present in workingdayMap\n}\n</code></pre>\n\n<p>but it gives me null from employeeMap.</p>\n\n<p>Could you please help me to solve this?</p>\n\n<p>Regards\nTony</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":26634246,"reputation":1,"user_id":20250951,"display_name":"Simrandeep Singh Thapar"},"score":0,"creation_date":1665966685,"post_id":74082281,"comment_id":130816327,"body_markdown":"Thanks that worked, i was trying to figure out any alternative of whether name of the array element( for eg. sum) can be printed without it giving its value ie. aa+bb.","body":"Thanks that worked, i was trying to figure out any alternative of whether name of the array element( for eg. sum) can be printed without it giving its value ie. aa+bb."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665861014,"creation_date":1665861014,"answer_id":74082281,"question_id":74082231,"body_markdown":"Items in the array have no name. Only indices. Which you don&#39;t have with a `for-each` loop. Option 1 (and my prefence) use a `Map` instead. Like,\r\n\r\n\tMap&lt;String, Integer&gt; operMap = new HashMap&lt;&gt;();\r\n\toperMap.put(&quot;sum&quot;, sum);\r\n\toperMap.put(&quot;sub&quot;, sub);\r\n\toperMap.put(&quot;mult&quot;, mult);\r\n\toperMap.put(&quot;div&quot;, div);\r\n\toperMap.put(&quot;mod&quot;, mod);\r\n\r\n\tfor (Map.Entry&lt;String, Integer&gt; e : operMap.entrySet()) {\r\n\t\tSystem.out.println(e.getKey() + &quot; of &quot; + aa \r\n\t\t\t\t+ &quot; and &quot; + bb + &quot; is : &quot; + e.getValue());\r\n\t}\r\n\r\nOption 2 use parallel arrays. Like,\r\n\r\n\tString[] operName = { &quot;sum&quot;, &quot;sub&quot;, &quot;mult&quot;, &quot;div&quot;, &quot;mod&quot; };\r\n\tint[] operation = { sum, sub, mult, div, mod };\r\n\r\n\tfor (int i = 0; i &lt; operation.length; i++) {\r\n\t\tSystem.out.println(operName[i] + &quot; of &quot; + aa\r\n\t\t\t\t+ &quot; and &quot; + bb + &quot; is : &quot; + operation[i]);\r\n\t}\r\n\r\n","title":"Hi, I am trying to print the name of an item of integer array, where item is a name given to math expression(sum etc)","body":"<p>Items in the array have no name. Only indices. Which you don't have with a <code>for-each</code> loop. Option 1 (and my prefence) use a <code>Map</code> instead. Like,</p>\n<pre><code>Map&lt;String, Integer&gt; operMap = new HashMap&lt;&gt;();\noperMap.put(&quot;sum&quot;, sum);\noperMap.put(&quot;sub&quot;, sub);\noperMap.put(&quot;mult&quot;, mult);\noperMap.put(&quot;div&quot;, div);\noperMap.put(&quot;mod&quot;, mod);\n\nfor (Map.Entry&lt;String, Integer&gt; e : operMap.entrySet()) {\n    System.out.println(e.getKey() + &quot; of &quot; + aa \n            + &quot; and &quot; + bb + &quot; is : &quot; + e.getValue());\n}\n</code></pre>\n<p>Option 2 use parallel arrays. Like,</p>\n<pre><code>String[] operName = { &quot;sum&quot;, &quot;sub&quot;, &quot;mult&quot;, &quot;div&quot;, &quot;mod&quot; };\nint[] operation = { sum, sub, mult, div, mod };\n\nfor (int i = 0; i &lt; operation.length; i++) {\n    System.out.println(operName[i] + &quot; of &quot; + aa\n            + &quot; and &quot; + bb + &quot; is : &quot; + operation[i]);\n}\n</code></pre>\n"}],"owner":{"account_id":26634246,"reputation":1,"user_id":20250951,"display_name":"Simrandeep Singh Thapar"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1665877307,"answer_count":1,"score":-3,"last_activity_date":1665861014,"creation_date":1665860542,"question_id":74082231,"body_markdown":"System.out.println(&quot;Enter two numbers (aa,bb): &quot;);\r\n\t\t\r\n\t\tint aa = sc.nextInt();\r\n\t\tint bb = sc.nextInt();\r\n\t\tint sum = aa + bb, sub = aa - bb, mult = aa * bb, div = aa / bb, mod = aa % bb;\r\n\t\tint[] operation = { sum, sub, mult, div, mod };\r\n\t\t\r\n\t\tfor (int arr : operation) {\r\n\t\t\tSystem.out.println( arr+&quot; of &quot; + aa + &quot; and &quot; + bb + &quot; is : &quot; + arr);\r\n\t\t}","title":"Hi, I am trying to print the name of an item of integer array, where item is a name given to math expression(sum etc)","body":"<p>System.out.println(&quot;Enter two numbers (aa,bb): &quot;);</p>\n<pre><code>    int aa = sc.nextInt();\n    int bb = sc.nextInt();\n    int sum = aa + bb, sub = aa - bb, mult = aa * bb, div = aa / bb, mod = aa % bb;\n    int[] operation = { sum, sub, mult, div, mod };\n    \n    for (int arr : operation) {\n        System.out.println( arr+&quot; of &quot; + aa + &quot; and &quot; + bb + &quot; is : &quot; + arr);\n    }\n</code></pre>\n"},{"tags":["java","file","yaml"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1665849160,"post_id":74080741,"comment_id":130797204,"body_markdown":"Are you sure that the file that you posted is correct? Those lines are &quot;suspicious&quot; to me: \n#4, #6, #(16/17), #(22/23), #(28/29) and #(34/35). At first sight it looked like a properties file to me but then I saw that there are repeating keys, some lines don&#39;t seem to have a value while others have no key. And as you are mentioning yaml: does the file have any indenting? You will have to format it as &quot;code&quot; in your question (and so without line numbers) to get indenting right.","body":"Are you sure that the file that you posted is correct? Those lines are &quot;suspicious&quot; to me:  #4, #6, #(16/17), #(22/23), #(28/29) and #(34/35). At first sight it looked like a properties file to me but then I saw that there are repeating keys, some lines don&#39;t seem to have a value while others have no key. And as you are mentioning yaml: does the file have any indenting? You will have to format it as &quot;code&quot; in your question (and so without line numbers) to get indenting right."},{"owner":{"account_id":23941040,"reputation":1,"user_id":17934153,"display_name":"Mukul Sharma"},"score":0,"creation_date":1665853091,"post_id":74080741,"comment_id":130798086,"body_markdown":"I have updated the Post and provided example of yaml file, that is to be produced. And as of #4 - it is List of project with parameters ( name , List of Topics). I have provded all classes for better understanding.","body":"I have updated the Post and provided example of yaml file, that is to be produced. And as of #4 - it is List of project with parameters ( name , List of Topics). I have provded all classes for better understanding."}],"answers":[{"comments":[{"owner":{"account_id":23941040,"reputation":1,"user_id":17934153,"display_name":"Mukul Sharma"},"score":0,"creation_date":1665853249,"post_id":74081195,"comment_id":130798107,"body_markdown":"As I have listed all the classes , you can see that in Topic class there is Schemas parameter, so   Topic -&gt; Schemas -&gt; Value(have two parameter i.e. String format and Schema class) -&gt; And inside Schema -&gt; String file.   And Relation of project and topic is -&gt; Projects is a parent list and Topics is list inside Project. (I hope that i Have answered your question}","body":"As I have listed all the classes , you can see that in Topic class there is Schemas parameter, so   Topic -&gt; Schemas -&gt; Value(have two parameter i.e. String format and Schema class) -&gt; And inside Schema -&gt; String file.   And Relation of project and topic is -&gt; Projects is a parent list and Topics is list inside Project. (I hope that i Have answered your question}"}],"tags":[],"owner":{"account_id":21989530,"reputation":23,"user_id":16263216,"display_name":"Euxinos"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665851403,"creation_date":1665851403,"answer_id":74081195,"question_id":74080741,"body_markdown":"In yaml you should have nested parameters also. So you should add child parameters to your Parameter class like:\r\n\r\n```\r\npublic class Parameter {\r\n    private String context;\r\n    private String region;\r\n    private String lob;\r\n    private List&lt;Project&gt; topics;\r\n    private Set&lt;Parameter&gt; subParameters;\r\n\r\n}\r\n```\r\n\r\nSo in line 35,36. They are child of value parameter.\r\n\r\nAnd how Projects and Topics related to each other? Can you give any example for it","title":"How do I Read a text File with below structure and assign in to Object class","body":"<p>In yaml you should have nested parameters also. So you should add child parameters to your Parameter class like:</p>\n<pre><code>public class Parameter {\n    private String context;\n    private String region;\n    private String lob;\n    private List&lt;Project&gt; topics;\n    private Set&lt;Parameter&gt; subParameters;\n\n}\n</code></pre>\n<p>So in line 35,36. They are child of value parameter.</p>\n<p>And how Projects and Topics related to each other? Can you give any example for it</p>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665860933,"creation_date":1665859400,"answer_id":74082112,"question_id":74080741,"body_markdown":"If you just want to convert the input file to yaml, you don&#39;t need to completely deserialize it into objects first.\r\n\r\nYou only need to add various prefixes / indenting depending on the key. To distinguish the project from the topic, I simply relied on the order of keys: if `name` comes in the line following `dataType` I let it be an element of  topic, otherwise it&#39;s an element of project.\r\n\r\n\r\n``` lang-java\r\npublic static void convertToYaml(Reader input, Writer output) throws IOException {\r\n  var reader = new BufferedReader(input);\r\n  var line = reader.readLine();\r\n  var lastLineDataType = false;\r\n\r\n  while(null != line) {\r\n    var pos = line.indexOf(&#39;:&#39;);\r\n    var key = (pos &gt;= 0 ? line.substring(0, pos) : line).trim();\r\n    var value = (pos &gt;= 0) &amp;&amp; (pos &lt; line.length()) ? line.substring(pos + 1) : &quot;&quot;;\r\n\r\n    var prefix = switch(key) {\r\n      case &quot;name&quot; -&gt; lastLineDataType ? &quot;      &quot; : &quot;  - &quot;;\r\n      case &quot;topics&quot; -&gt; &quot;    &quot;;\r\n      case &quot;dataType&quot; -&gt; &quot;    - &quot;;\r\n      case &quot;plan&quot;, &quot;schemas&quot; -&gt; &quot;      &quot;;\r\n      case &quot;value.schema.file&quot;, &quot;value.format&quot; -&gt; &quot;        &quot;;\r\n      default -&gt; &quot;&quot;;\r\n    };\r\n\r\n    lastLineDataType = &quot;dataType&quot;.equals(key);\r\n\r\n    if (!key.isEmpty()) {\r\n      output.write(prefix + key + &quot;: &quot;);\r\n      output.write(value.isBlank() ? &quot;&quot; : &#39;&quot;&#39; + value.trim() + &#39;&quot;&#39;);\r\n    }\r\n    output.write(&quot;\\n&quot;);\r\n    line = reader.readLine();\r\n  }\r\n}\r\n```\r\n\r\nNo validation of the input happens, so the &quot;sh\\*t in -&gt; sh\\*t out&quot; principle fully applies ;-)\r\n\r\nThis code makes use of Java 17 features, so you might have to change the `switch` a bit to work with older Java versions.","title":"How do I Read a text File with below structure and assign in to Object class","body":"<p>If you just want to convert the input file to yaml, you don't need to completely deserialize it into objects first.</p>\n<p>You only need to add various prefixes / indenting depending on the key. To distinguish the project from the topic, I simply relied on the order of keys: if <code>name</code> comes in the line following <code>dataType</code> I let it be an element of  topic, otherwise it's an element of project.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void convertToYaml(Reader input, Writer output) throws IOException {\n  var reader = new BufferedReader(input);\n  var line = reader.readLine();\n  var lastLineDataType = false;\n\n  while(null != line) {\n    var pos = line.indexOf(':');\n    var key = (pos &gt;= 0 ? line.substring(0, pos) : line).trim();\n    var value = (pos &gt;= 0) &amp;&amp; (pos &lt; line.length()) ? line.substring(pos + 1) : &quot;&quot;;\n\n    var prefix = switch(key) {\n      case &quot;name&quot; -&gt; lastLineDataType ? &quot;      &quot; : &quot;  - &quot;;\n      case &quot;topics&quot; -&gt; &quot;    &quot;;\n      case &quot;dataType&quot; -&gt; &quot;    - &quot;;\n      case &quot;plan&quot;, &quot;schemas&quot; -&gt; &quot;      &quot;;\n      case &quot;value.schema.file&quot;, &quot;value.format&quot; -&gt; &quot;        &quot;;\n      default -&gt; &quot;&quot;;\n    };\n\n    lastLineDataType = &quot;dataType&quot;.equals(key);\n\n    if (!key.isEmpty()) {\n      output.write(prefix + key + &quot;: &quot;);\n      output.write(value.isBlank() ? &quot;&quot; : '&quot;' + value.trim() + '&quot;');\n    }\n    output.write(&quot;\\n&quot;);\n    line = reader.readLine();\n  }\n}\n</code></pre>\n<p>No validation of the input happens, so the &quot;sh*t in -&gt; sh*t out&quot; principle fully applies ;-)</p>\n<p>This code makes use of Java 17 features, so you might have to change the <code>switch</code> a bit to work with older Java versions.</p>\n"}],"owner":{"account_id":23941040,"reputation":1,"user_id":17934153,"display_name":"Mukul Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1665860933,"creation_date":1665847642,"question_id":74080741,"body_markdown":"The text File to read is provided below -\r\n\r\n 1. context:dev\r\n 2. region:asia\r\n 3. lob:all\r\n 4. projects: (This is a list of project)\r\n 5. name:hub\r\n 6. topics: (List of Topic inside projects)\r\n 7. dataType:0\r\n 8. name:cdc\r\n 9. plan:dev-rack\r\n 10. dataType:0.dlq\r\n 11. name:cdc\r\n 12. plan:rack\r\n 13. dataType:0\r\n 14. name:raw\r\n 15. plan:dev\r\n 16. schemas:\r\n 17. value.schema.file:-data-hub.raw.0-value-v1.json\r\n 18. value.format:JSON\r\n 19. dataType:Produce.dlq\r\n 20. name:raw\r\n 21. plan:ack\r\n 22. schemas:\r\n 23. value.schema.file:hub.raw.0-value-v1.json\r\n 24. value.format:JSON\r\n 25. dataType:0\r\n 26. name:dom\r\n 27. plan:dev\r\n 28. schemas:\r\n 29. value.schema.file:dom.0-value-v1.json\r\n 30. value.format:JSON\r\n 31. dataType:Produce.dlq\r\n 32. name:dom\r\n 33. plan:de\r\n 34. schemas:\r\n 35. value.schema.file:0-value-v1.json\r\n 36. value.format:JSON\r\n\r\n``` lang-java\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Parameter {\r\n    private String context;\r\n    private String region;\r\n    private String lob;\r\n    private List&lt;Project&gt; Project;\r\n}\r\n```\r\n``` lang-java\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Project {\r\n    private String name;\r\n    private List&lt;Topic&gt; topics;\r\n}\r\n```\r\n``` lang-java\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Topic {\r\n    private String dataType;\r\n    private String name;\r\n    private String plan;\r\n    private Schemas schemas;\r\n\r\n    public boolean checkDlq(String dataType) {\r\n        dataType = getDataType();\r\n        if (dataType.contains(&quot;dlq&quot;)) {\r\n            return true;\r\n        }else\r\n            return false;\r\n    }\r\n}\r\n```\r\n``` lang-java\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Schemas {\r\n    private Value value;\r\n}\r\n```\r\n``` lang-java\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Value {\r\n    private Schema schema;\r\n    private String format;\r\n}\r\n```\r\n``` lang-java\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Schema {\r\n    private String file;\r\n}\r\n```\r\n\r\nDetails : So I have to read above file line by line and add all the  details in Parameters class and print it.\r\n\r\nExample:  context:dev so i have to read the dev part and put it inside parameter.setContext(&quot;dev&quot;); but without hard coding it.\r\n\r\nI Tried reading it but i was not able to find out how do we apply nested hashMap. As there is a list of project and inside there is list of Topics.\r\n\r\nEdit: Purpose of reading this file is that , after reading i have to convert it in Yaml format file.\r\n\r\nEdit: Below is the example i.e. I have to convert the text file into Yaml. The example is of yaml file (I have to convert my plain text file into this).\r\n\r\n\r\n    context: &quot;dev&quot;\r\n    region: &quot;asia&quot;\r\n    lob: &quot;all&quot;\r\n    projects:\r\n      - name: &quot;hub&quot;\r\n        topics:\r\n        - dataType: &quot;0&quot;\r\n          name: &quot;cdc&quot;\r\n          plan: &quot;devrack&quot;\r\n        - dataType: &quot;0.dlq&quot;\r\n          name: &quot;cdc&quot;\r\n          plan: &quot;dev-bronze-rack&quot;  \r\n        - dataType: &quot;0&quot;\r\n          name: &quot;raw&quot;\r\n          plan: &quot;rack&quot;\r\n          schemas:\r\n            value.schema.file: &quot;hub.raw.0-value-v1.json&quot;\r\n            value.format: &quot;JSON&quot; \r\n        - dataType: &quot;Produce.dlq&quot;\r\n          name: &quot;raw&quot;\r\n          plan: &quot;devrack&quot;\r\n          schemas:\r\n            value.schema.file: &quot;raw.0-value-v1.json&quot;\r\n            value.format: &quot;JSON&quot;\r\n        - dataType: &quot;0&quot;\r\n          name: &quot;dom&quot;\r\n          plan: &quot;rack&quot;\r\n          schemas:\r\n            value.schema.file: &quot;0-value-v1.json&quot;\r\n            value.format: &quot;JSON&quot;\r\n        - dataType: &quot;0.dlq&quot;\r\n          name: &quot;dom&quot;\r\n          plan: &quot;dev&quot;\r\n          schemas:\r\n            value.schema.file: &quot;v1.json&quot;\r\n            value.format: &quot;JSON&quot;\r\n\r\nEdit : I Came up with one solution But there is one Problem i.e -&gt; if there is only one project list(starting from name parameter) line 5, the soluition is working fine, but if i put next list of project (starting with -name itself) after line 36. It is not creating next list of project and adding all the details inside list of topics.  **Below is the solution code**\r\n\r\n\r\n    public class YamlProcessor {\r\n    \r\n        public void addToObject() throws IOException {\r\n    \r\n            Parameter parameter = new Parameter();\r\n            FileReader fileReader = new FileReader(&quot;C:/Users/zk72/Desktop/schema.txt&quot;);\r\n            BufferedReader bufferedReader = new BufferedReader(fileReader);\r\n            String line = bufferedReader.readLine();\r\n    \r\n            List&lt;Topic&gt; addTopic = new ArrayList&lt;&gt;();\r\n            List&lt;Project&gt; addProject = new ArrayList&lt;&gt;();\r\n            //Single Variable\r\n            Map&lt;String, String&gt; singleVariable = new HashMap&lt;&gt;();\r\n            //For Project list - eg-&gt; project1 , list of project\r\n            Map&lt;String, Map&lt;String,String&gt;&gt; projects = new HashMap&lt;&gt;();\r\n            Map&lt;String, Map&lt;String,Map&lt;String,String&gt;&gt;&gt; ps = new HashMap&lt;&gt;();\r\n            //For Topics List - eg-&gt; topic1, list of project\r\n            Map&lt;String, Map&lt;String, String&gt;&gt; topics = new HashMap&lt;&gt;();\r\n    \r\n            while (line != null) {\r\n                String s[] = line.split(&quot;:&quot;);\r\n                switch (s[0]) {\r\n                    case Constants.CONTEXT:\r\n                        singleVariable.put(s[0],s[1]);\r\n                        break;\r\n    \r\n                    case Constants.REGION:\r\n                        singleVariable.put(s[0],s[1]);\r\n                        break;\r\n    \r\n                    case Constants.LOB:\r\n                        singleVariable.put(s[0],s[1]);\r\n                        break;\r\n    \r\n                    case Constants.PROJECTS:\r\n                        Map&lt;String, String&gt; project = new HashMap&lt;&gt;();\r\n                        Map&lt;String, String&gt; topic = new HashMap&lt;&gt;();\r\n                        int projectCount = 1;\r\n                        while ((line = bufferedReader.readLine()) != null) {\r\n                            String ss[] = line.split(&quot;:&quot;);\r\n                            if (ss[0].equals(Constants.NAME)) {\r\n                                if (!project.isEmpty() &amp;&amp; project != null) {\r\n                                    projects.put(&quot;project&quot;+projectCount, project);\r\n                                    projectCount++;\r\n                                    project = new HashMap&lt;&gt;();\r\n                                    project.put(ss[0],ss[1]);\r\n                                }else {\r\n                                    project.put(ss[0],ss[1]);\r\n                                }\r\n                            }else if (ss[0].equals(Constants.TOPICS)) {\r\n                                int topicCount = 1;\r\n                                while((line = bufferedReader.readLine()) != null){\r\n                                    String str[] = line.split(&quot;:&quot;);\r\n                                    if (str[0].equals(Constants.DATA_TYPE) &amp;&amp; !str[0].equals(Constants.NAME)) {\r\n                                        if(!topic.isEmpty() &amp;&amp; topic !=null){\r\n                                            topics.put(&quot;topic&quot;+topicCount, topic);\r\n                                            topicCount++;\r\n                                            topic = new HashMap&lt;&gt;();\r\n                                            topic.put(str[0],str[1]);\r\n                                        } else {\r\n                                            topic.put(str[0],str[1]);\r\n                                        }\r\n                                    } else {\r\n                                        if(str.length &gt; 1)\r\n                                            topic.put(str[0],str[1]);\r\n                                    }\r\n    \r\n                                }\r\n                                topicCount++;\r\n                                topics.put(&quot;topic&quot;+topicCount, topic);\r\n                            }\r\n                        }\r\n                        projectCount++;\r\n                        projects.put(&quot;project&quot;+projectCount, project);\r\n                }\r\n                line = bufferedReader.readLine();\r\n            }\r\n    \r\n            parameter.setContext(singleVariable.get(Constants.CONTEXT));\r\n            parameter.setRegion(singleVariable.get(Constants.REGION));\r\n            parameter.setLob(singleVariable.get(Constants.LOB));\r\n    \r\n            for (Map.Entry&lt;String, Map&lt;String,String&gt;&gt; entry: topics.entrySet()) {\r\n                Topic topic = new Topic();\r\n                topic.setDataType(entry.getValue().get(Constants.DATA_TYPE));\r\n                topic.setName(entry.getValue().get(Constants.NAME));\r\n                topic.setPlan(entry.getValue().get(Constants.PLAN));\r\n    \r\n                Schemas schemas = new Schemas();\r\n                Value value = new Value();\r\n                Schema schema = new Schema();\r\n    \r\n                schema.setFile(entry.getValue().get(Constants.VALUE_SCHEMA_FILE));\r\n                value.setSchema(schema);\r\n                value.setFormat(entry.getValue().get(Constants.VALUE_FORMAT));\r\n                schemas.setValue(value);\r\n    \r\n                topic.setSchemas(schemas);\r\n                addTopic.add(topic);\r\n            }\r\n    \r\n            for (Map.Entry&lt;String, Map&lt;String, String&gt;&gt; entry: projects.entrySet()) {\r\n                Project project = new Project();\r\n                project.setName(entry.getValue().get(Constants.NAME));\r\n                project.setTopics(addTopic);\r\n                addProject.add(project);\r\n            }\r\n    \r\n            parameter.setProjects(addProject);\r\n    \r\n            System.out.println(parameter.toString());\r\n    \r\n            DumperOptions options = new DumperOptions();\r\n            options.setIndent(2);\r\n            options.setPrettyFlow(true);\r\n            options.setDefaultFlowStyle(DumperOptions.FlowStyle.BLOCK);\r\n            PrintWriter writer = new PrintWriter(new File(&quot;./src/main/resources/topology3.yml&quot;));\r\n            Yaml yaml = new Yaml(options);\r\n            yaml.dump(parameter, writer);\r\n            bufferedReader.close();\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            YamlProcessor processor = new YamlProcessor();\r\n            processor.addToObject();\r\n        }\r\n    }\r\n\r\n\r\n","title":"How do I Read a text File with below structure and assign in to Object class","body":"<p>The text File to read is provided below -</p>\n<ol>\n<li>context:dev</li>\n<li>region:asia</li>\n<li>lob:all</li>\n<li>projects: (This is a list of project)</li>\n<li>name:hub</li>\n<li>topics: (List of Topic inside projects)</li>\n<li>dataType:0</li>\n<li>name:cdc</li>\n<li>plan:dev-rack</li>\n<li>dataType:0.dlq</li>\n<li>name:cdc</li>\n<li>plan:rack</li>\n<li>dataType:0</li>\n<li>name:raw</li>\n<li>plan:dev</li>\n<li>schemas:</li>\n<li>value.schema.file:-data-hub.raw.0-value-v1.json</li>\n<li>value.format:JSON</li>\n<li>dataType:Produce.dlq</li>\n<li>name:raw</li>\n<li>plan:ack</li>\n<li>schemas:</li>\n<li>value.schema.file:hub.raw.0-value-v1.json</li>\n<li>value.format:JSON</li>\n<li>dataType:0</li>\n<li>name:dom</li>\n<li>plan:dev</li>\n<li>schemas:</li>\n<li>value.schema.file:dom.0-value-v1.json</li>\n<li>value.format:JSON</li>\n<li>dataType:Produce.dlq</li>\n<li>name:dom</li>\n<li>plan:de</li>\n<li>schemas:</li>\n<li>value.schema.file:0-value-v1.json</li>\n<li>value.format:JSON</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@ToString\npublic class Parameter {\n    private String context;\n    private String region;\n    private String lob;\n    private List&lt;Project&gt; Project;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@ToString\npublic class Project {\n    private String name;\n    private List&lt;Topic&gt; topics;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@ToString\npublic class Topic {\n    private String dataType;\n    private String name;\n    private String plan;\n    private Schemas schemas;\n\n    public boolean checkDlq(String dataType) {\n        dataType = getDataType();\n        if (dataType.contains(&quot;dlq&quot;)) {\n            return true;\n        }else\n            return false;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@ToString\npublic class Schemas {\n    private Value value;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@ToString\npublic class Value {\n    private Schema schema;\n    private String format;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@ToString\npublic class Schema {\n    private String file;\n}\n</code></pre>\n<p>Details : So I have to read above file line by line and add all the  details in Parameters class and print it.</p>\n<p>Example:  context:dev so i have to read the dev part and put it inside parameter.setContext(&quot;dev&quot;); but without hard coding it.</p>\n<p>I Tried reading it but i was not able to find out how do we apply nested hashMap. As there is a list of project and inside there is list of Topics.</p>\n<p>Edit: Purpose of reading this file is that , after reading i have to convert it in Yaml format file.</p>\n<p>Edit: Below is the example i.e. I have to convert the text file into Yaml. The example is of yaml file (I have to convert my plain text file into this).</p>\n<pre><code>context: &quot;dev&quot;\nregion: &quot;asia&quot;\nlob: &quot;all&quot;\nprojects:\n  - name: &quot;hub&quot;\n    topics:\n    - dataType: &quot;0&quot;\n      name: &quot;cdc&quot;\n      plan: &quot;devrack&quot;\n    - dataType: &quot;0.dlq&quot;\n      name: &quot;cdc&quot;\n      plan: &quot;dev-bronze-rack&quot;  \n    - dataType: &quot;0&quot;\n      name: &quot;raw&quot;\n      plan: &quot;rack&quot;\n      schemas:\n        value.schema.file: &quot;hub.raw.0-value-v1.json&quot;\n        value.format: &quot;JSON&quot; \n    - dataType: &quot;Produce.dlq&quot;\n      name: &quot;raw&quot;\n      plan: &quot;devrack&quot;\n      schemas:\n        value.schema.file: &quot;raw.0-value-v1.json&quot;\n        value.format: &quot;JSON&quot;\n    - dataType: &quot;0&quot;\n      name: &quot;dom&quot;\n      plan: &quot;rack&quot;\n      schemas:\n        value.schema.file: &quot;0-value-v1.json&quot;\n        value.format: &quot;JSON&quot;\n    - dataType: &quot;0.dlq&quot;\n      name: &quot;dom&quot;\n      plan: &quot;dev&quot;\n      schemas:\n        value.schema.file: &quot;v1.json&quot;\n        value.format: &quot;JSON&quot;\n</code></pre>\n<p>Edit : I Came up with one solution But there is one Problem i.e -&gt; if there is only one project list(starting from name parameter) line 5, the soluition is working fine, but if i put next list of project (starting with -name itself) after line 36. It is not creating next list of project and adding all the details inside list of topics.  <strong>Below is the solution code</strong></p>\n<pre><code>public class YamlProcessor {\n\n    public void addToObject() throws IOException {\n\n        Parameter parameter = new Parameter();\n        FileReader fileReader = new FileReader(&quot;C:/Users/zk72/Desktop/schema.txt&quot;);\n        BufferedReader bufferedReader = new BufferedReader(fileReader);\n        String line = bufferedReader.readLine();\n\n        List&lt;Topic&gt; addTopic = new ArrayList&lt;&gt;();\n        List&lt;Project&gt; addProject = new ArrayList&lt;&gt;();\n        //Single Variable\n        Map&lt;String, String&gt; singleVariable = new HashMap&lt;&gt;();\n        //For Project list - eg-&gt; project1 , list of project\n        Map&lt;String, Map&lt;String,String&gt;&gt; projects = new HashMap&lt;&gt;();\n        Map&lt;String, Map&lt;String,Map&lt;String,String&gt;&gt;&gt; ps = new HashMap&lt;&gt;();\n        //For Topics List - eg-&gt; topic1, list of project\n        Map&lt;String, Map&lt;String, String&gt;&gt; topics = new HashMap&lt;&gt;();\n\n        while (line != null) {\n            String s[] = line.split(&quot;:&quot;);\n            switch (s[0]) {\n                case Constants.CONTEXT:\n                    singleVariable.put(s[0],s[1]);\n                    break;\n\n                case Constants.REGION:\n                    singleVariable.put(s[0],s[1]);\n                    break;\n\n                case Constants.LOB:\n                    singleVariable.put(s[0],s[1]);\n                    break;\n\n                case Constants.PROJECTS:\n                    Map&lt;String, String&gt; project = new HashMap&lt;&gt;();\n                    Map&lt;String, String&gt; topic = new HashMap&lt;&gt;();\n                    int projectCount = 1;\n                    while ((line = bufferedReader.readLine()) != null) {\n                        String ss[] = line.split(&quot;:&quot;);\n                        if (ss[0].equals(Constants.NAME)) {\n                            if (!project.isEmpty() &amp;&amp; project != null) {\n                                projects.put(&quot;project&quot;+projectCount, project);\n                                projectCount++;\n                                project = new HashMap&lt;&gt;();\n                                project.put(ss[0],ss[1]);\n                            }else {\n                                project.put(ss[0],ss[1]);\n                            }\n                        }else if (ss[0].equals(Constants.TOPICS)) {\n                            int topicCount = 1;\n                            while((line = bufferedReader.readLine()) != null){\n                                String str[] = line.split(&quot;:&quot;);\n                                if (str[0].equals(Constants.DATA_TYPE) &amp;&amp; !str[0].equals(Constants.NAME)) {\n                                    if(!topic.isEmpty() &amp;&amp; topic !=null){\n                                        topics.put(&quot;topic&quot;+topicCount, topic);\n                                        topicCount++;\n                                        topic = new HashMap&lt;&gt;();\n                                        topic.put(str[0],str[1]);\n                                    } else {\n                                        topic.put(str[0],str[1]);\n                                    }\n                                } else {\n                                    if(str.length &gt; 1)\n                                        topic.put(str[0],str[1]);\n                                }\n\n                            }\n                            topicCount++;\n                            topics.put(&quot;topic&quot;+topicCount, topic);\n                        }\n                    }\n                    projectCount++;\n                    projects.put(&quot;project&quot;+projectCount, project);\n            }\n            line = bufferedReader.readLine();\n        }\n\n        parameter.setContext(singleVariable.get(Constants.CONTEXT));\n        parameter.setRegion(singleVariable.get(Constants.REGION));\n        parameter.setLob(singleVariable.get(Constants.LOB));\n\n        for (Map.Entry&lt;String, Map&lt;String,String&gt;&gt; entry: topics.entrySet()) {\n            Topic topic = new Topic();\n            topic.setDataType(entry.getValue().get(Constants.DATA_TYPE));\n            topic.setName(entry.getValue().get(Constants.NAME));\n            topic.setPlan(entry.getValue().get(Constants.PLAN));\n\n            Schemas schemas = new Schemas();\n            Value value = new Value();\n            Schema schema = new Schema();\n\n            schema.setFile(entry.getValue().get(Constants.VALUE_SCHEMA_FILE));\n            value.setSchema(schema);\n            value.setFormat(entry.getValue().get(Constants.VALUE_FORMAT));\n            schemas.setValue(value);\n\n            topic.setSchemas(schemas);\n            addTopic.add(topic);\n        }\n\n        for (Map.Entry&lt;String, Map&lt;String, String&gt;&gt; entry: projects.entrySet()) {\n            Project project = new Project();\n            project.setName(entry.getValue().get(Constants.NAME));\n            project.setTopics(addTopic);\n            addProject.add(project);\n        }\n\n        parameter.setProjects(addProject);\n\n        System.out.println(parameter.toString());\n\n        DumperOptions options = new DumperOptions();\n        options.setIndent(2);\n        options.setPrettyFlow(true);\n        options.setDefaultFlowStyle(DumperOptions.FlowStyle.BLOCK);\n        PrintWriter writer = new PrintWriter(new File(&quot;./src/main/resources/topology3.yml&quot;));\n        Yaml yaml = new Yaml(options);\n        yaml.dump(parameter, writer);\n        bufferedReader.close();\n\n    }\n\n    public static void main(String[] args) throws IOException {\n\n        YamlProcessor processor = new YamlProcessor();\n        processor.addToObject();\n    }\n}\n</code></pre>\n"},{"tags":["java","html"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665888036,"post_id":74081948,"comment_id":130803245,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"comments":[{"owner":{"account_id":17719242,"reputation":1,"user_id":20138418,"display_name":"Aashin Sood"},"score":0,"creation_date":1665859006,"post_id":74082047,"comment_id":130799272,"body_markdown":"Data truncation: Out of range value for column &#39;number&#39; at row 1","body":"Data truncation: Out of range value for column &#39;number&#39; at row 1"},{"owner":{"account_id":17719242,"reputation":1,"user_id":20138418,"display_name":"Aashin Sood"},"score":0,"creation_date":1665859037,"post_id":74082047,"comment_id":130799276,"body_markdown":"now this is the new error i think the last one is solved","body":"now this is the new error i think the last one is solved"},{"owner":{"account_id":8800253,"reputation":11,"user_id":6576707,"display_name":"wadu"},"score":0,"creation_date":1665860005,"post_id":74082047,"comment_id":130799469,"body_markdown":"@AashinSood the data you are trying to insert doesn&#39;t fit. Consider expanding the size of the datatype in your column","body":"@AashinSood the data you are trying to insert doesn&#39;t fit. Consider expanding the size of the datatype in your column"}],"tags":[],"owner":{"account_id":8800253,"reputation":11,"user_id":6576707,"display_name":"wadu"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665858859,"creation_date":1665858763,"answer_id":74082047,"question_id":74081948,"body_markdown":"You omitted a closing bracket before **values**\r\n\r\nupdate your code to\r\n&#39;&#39;&#39;private static final String INSERT_QUERY = &quot;INSERT INTO  USER (email, password, firstname, lastname, address, pincode, state,  number, feedback) values(?,?,?,?,?,?,?,?,?)&quot;;&#39;&#39;&#39;","title":"made a form with java and storing its values in database but it has some database query error?","body":"<p>You omitted a closing bracket before <strong>values</strong></p>\n<p>update your code to\n'''private static final String INSERT_QUERY = &quot;INSERT INTO  USER (email, password, firstname, lastname, address, pincode, state,  number, feedback) values(?,?,?,?,?,?,?,?,?)&quot;;'''</p>\n"}],"owner":{"account_id":17719242,"reputation":1,"user_id":20138418,"display_name":"Aashin Sood"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665860042,"creation_date":1665857836,"question_id":74081948,"body_markdown":"#this is when i didn&#39;t feed any values \r\n\r\nYou have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;values(&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,null,&#39;&#39;,&#39;&#39;,&#39;&#39;))&#39; at line 1\r\n\r\n#this is when i enter the values\r\nYou have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;values(&#39;**********785@gmail.com&#39;,&#39;&#39;,&#39;Aashin&#39;,&#39;sood&#39;,&#39;vpo bhawarn teh palampur di&#39; at line 1\r\n\r\n\r\n#and this is my code \r\npublic class RegisterServlet extends HttpServlet{\r\n\t\r\n\tprivate static final String INSERT_QUERY = &quot;INSERT INTO  USER (email, password, firstname, lastname, address, pincode, state,  number, feedback values(?,?,?,?,?,?,?,?,?))&quot;;\r\n\t\r\n\r\n\r\ni dont know if the reason of error is this or something else","title":"made a form with java and storing its values in database but it has some database query error?","body":"<p>#this is when i didn't feed any values</p>\n<p>You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'values('','','','','',null,'','',''))' at line 1</p>\n<p>#this is when i enter the values\nYou have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'values('**********785@gmail.com','','Aashin','sood','vpo bhawarn teh palampur di' at line 1</p>\n<p>#and this is my code\npublic class RegisterServlet extends HttpServlet{</p>\n<pre><code>private static final String INSERT_QUERY = &quot;INSERT INTO  USER (email, password, firstname, lastname, address, pincode, state,  number, feedback values(?,?,?,?,?,?,?,?,?))&quot;;\n</code></pre>\n<p>i dont know if the reason of error is this or something else</p>\n"},{"tags":["java","amazon-web-services","aws-marketplace","aws-sdk-java"],"owner":{"account_id":1948681,"reputation":522,"user_id":1753273,"accept_rate":86,"display_name":"agaonsindhe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665859507,"creation_date":1665691277,"question_id":74061181,"body_markdown":"My use case requires to publish metering data to AWS hourly, I am a seller on Marketplace where buyers can subscribe to my SaaS application.\r\n\r\nCurrently We are handling the use case by having a TaskTimer class and calling meter-usage command on aws to publish data hourly, now I want to convert this timer class to a RestAPI where i can leverage BatchMeterUsage to send/publish data to AWS, as BatchMeter will allow me to send 25 subscequent requests in a batch instead me having to call MeterUsage 25 times.\r\n\r\nAny suggestions on this are welcomed. It will be great if I can get Java based solution, Complete Rest flow not needed, controller and services are in place just need to integrate BatchMeterUsage utility in that, can any help me with that.","title":"AWS Marketplace : BatchMeterUsage Example Java API","body":"<p>My use case requires to publish metering data to AWS hourly, I am a seller on Marketplace where buyers can subscribe to my SaaS application.</p>\n<p>Currently We are handling the use case by having a TaskTimer class and calling meter-usage command on aws to publish data hourly, now I want to convert this timer class to a RestAPI where i can leverage BatchMeterUsage to send/publish data to AWS, as BatchMeter will allow me to send 25 subscequent requests in a batch instead me having to call MeterUsage 25 times.</p>\n<p>Any suggestions on this are welcomed. It will be great if I can get Java based solution, Complete Rest flow not needed, controller and services are in place just need to integrate BatchMeterUsage utility in that, can any help me with that.</p>\n"},{"tags":["java","mysql","spring-boot","hikaricp","spring-retry"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1607713799,"post_id":65256166,"comment_id":115368702,"body_markdown":"`&gt;retry would grab a new connection from the pool.` Spring Retry knows NOTHING about the code that is being retried or even that a connection is being used. Getting the connection is completely out of retry&#39;s realm. It makes no sense to me that a new REST request works, but retry doesn&#39;t. Perhaps it&#39;s a timing issue. I would run it in a debugger to see what&#39;s going on.","body":"<code>&gt;retry would grab a new connection from the pool.</code> Spring Retry knows NOTHING about the code that is being retried or even that a connection is being used. Getting the connection is completely out of retry&#39;s realm. It makes no sense to me that a new REST request works, but retry doesn&#39;t. Perhaps it&#39;s a timing issue. I would run it in a debugger to see what&#39;s going on."},{"owner":{"account_id":8561384,"reputation":53,"user_id":6415325,"display_name":"Andrew Harrison"},"score":0,"creation_date":1607936524,"post_id":65256166,"comment_id":115418755,"body_markdown":"I get that retry knows nothing about the code being run, I would imagine its just a wrapper around the method.  I can only state what appears to be happening having debugged through the code.  I&#39;m just trying to find reasons for the code not acquiring a new connection from the pool when the current one is dead.","body":"I get that retry knows nothing about the code being run, I would imagine its just a wrapper around the method.  I can only state what appears to be happening having debugged through the code.  I&#39;m just trying to find reasons for the code not acquiring a new connection from the pool when the current one is dead."},{"owner":{"account_id":8561384,"reputation":53,"user_id":6415325,"display_name":"Andrew Harrison"},"score":0,"creation_date":1607946787,"post_id":65256166,"comment_id":115422865,"body_markdown":"It would appear that the thread is holding onto the database connection in some fashion.","body":"It would appear that the thread is holding onto the database connection in some fashion."}],"answers":[{"tags":[],"owner":{"account_id":8561384,"reputation":53,"user_id":6415325,"display_name":"Andrew Harrison"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611070527,"creation_date":1611070527,"answer_id":65794624,"question_id":65256166,"body_markdown":"Ok, after a bit of head scratching I finally think I&#39;ve managed to figure out what&#39;s going on.  It appears that at a failed database connection, the exception is thrown and reported upwards but the Spring retry prevents something happening and a new database connection is not acquired on the subsequent retry through the code.\r\n\r\nThe only solution I could find for this was to replace the Spring-Retry with my own @Retry annotation and aspect for handling the annotation.\r\n\r\nThat is to say:\r\n    \r\n    @Retry\r\n    @RequestMapping(&quot;usageData/load/&quot;)\r\n    public void usageDataFromSource() {\r\n        log.info(&quot;Running usage data live service end point for: usageData&quot;);\r\n        //Sets status of aggregation disabled to false.\r\n        aggregationService.updateAggregationDisabledFlag(&quot;usageData&quot;, false);\r\n    \r\n        usageService.copyUsageDataFromSourceToDestination();\r\n    \r\n    }\r\n\r\nAnd the Annotation:\r\n\r\n    @Documented\r\n    @Target(ElementType.METHOD)\r\n    @Inherited\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface Retry {\r\n        int initialDelay() default 30000;\r\n        int multiplier() default 2;\r\n        int maxInterval() default 500000;\r\n    }\r\n\r\n\r\nAnd the Aspect:\r\n\r\n    @Around(value = &quot;@annotation(retry)&quot;)\r\n    public Object performMethodCallWithRetry(ProceedingJoinPoint joinPoint, Retry retry) throws Throwable {\r\n\r\n        log.debug(&quot;About to try checking the Connection&quot;);\r\n        int initialDelay = retry.initialDelay();\r\n        int multiplier = retry.multiplier();\r\n        int maxInterval = retry.maxInterval();\r\n\r\n        int count = 0;\r\n        long startTime = System.currentTimeMillis();\r\n        int delay = 0;\r\n        Object object = null;\r\n        Throwable throwable;\r\n        do {\r\n            try {\r\n                // Create the future call and wait for the response\r\n                object = CompletableFuture.supplyAsync(() -&gt; {\r\n                    try {\r\n                        return joinPoint.proceed();\r\n                    } catch (Throwable e) {\r\n                        throw new IllegalStateException(e);\r\n                    }\r\n                }).join();\r\n\r\n                throwable = null;\r\n            } catch (Exception e) {\r\n                // catch everything.  If the method has been wrapped in this aspect, we want to catch\r\n                // and retry for all exceptions.\r\n                throwable = e.getCause();\r\n\r\n                log.error(\r\n                    &quot;Failed to process {} on attempt {}&quot;,\r\n                    joinPoint.getSignature().getName(),\r\n                    count + 1,\r\n                    e);\r\n\r\n                delay = count == 0 ? initialDelay : count * multiplier * initialDelay;\r\n                log.info(&quot;Sleeping for {} seconds&quot;, delay);\r\n                Thread.sleep(delay);\r\n            }\r\n            count++;\r\n        } while (Objects.nonNull(throwable) &amp;&amp; count &lt; multiplier\r\n            &amp;&amp; System.currentTimeMillis() - startTime &lt; maxInterval);\r\n        log.debug(&quot;About to exit with success {}, count {} and delay {}ms&quot;, Objects.isNull(throwable),  count, delay);\r\n\r\n        // if we have been through the retry loop and still have an exception, throw it.\r\n        if (throwable != null) {\r\n            throw throwable;\r\n        }\r\n        return object;\r\n    }\r\n\r\nI hope that this may help someone who comes across the a similar problem","title":"Spring-Retry doesn&#39;t get a new database connection from HikariCP","body":"<p>Ok, after a bit of head scratching I finally think I've managed to figure out what's going on.  It appears that at a failed database connection, the exception is thrown and reported upwards but the Spring retry prevents something happening and a new database connection is not acquired on the subsequent retry through the code.</p>\n<p>The only solution I could find for this was to replace the Spring-Retry with my own @Retry annotation and aspect for handling the annotation.</p>\n<p>That is to say:</p>\n<pre><code>@Retry\n@RequestMapping(&quot;usageData/load/&quot;)\npublic void usageDataFromSource() {\n    log.info(&quot;Running usage data live service end point for: usageData&quot;);\n    //Sets status of aggregation disabled to false.\n    aggregationService.updateAggregationDisabledFlag(&quot;usageData&quot;, false);\n\n    usageService.copyUsageDataFromSourceToDestination();\n\n}\n</code></pre>\n<p>And the Annotation:</p>\n<pre><code>@Documented\n@Target(ElementType.METHOD)\n@Inherited\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Retry {\n    int initialDelay() default 30000;\n    int multiplier() default 2;\n    int maxInterval() default 500000;\n}\n</code></pre>\n<p>And the Aspect:</p>\n<pre><code>@Around(value = &quot;@annotation(retry)&quot;)\npublic Object performMethodCallWithRetry(ProceedingJoinPoint joinPoint, Retry retry) throws Throwable {\n\n    log.debug(&quot;About to try checking the Connection&quot;);\n    int initialDelay = retry.initialDelay();\n    int multiplier = retry.multiplier();\n    int maxInterval = retry.maxInterval();\n\n    int count = 0;\n    long startTime = System.currentTimeMillis();\n    int delay = 0;\n    Object object = null;\n    Throwable throwable;\n    do {\n        try {\n            // Create the future call and wait for the response\n            object = CompletableFuture.supplyAsync(() -&gt; {\n                try {\n                    return joinPoint.proceed();\n                } catch (Throwable e) {\n                    throw new IllegalStateException(e);\n                }\n            }).join();\n\n            throwable = null;\n        } catch (Exception e) {\n            // catch everything.  If the method has been wrapped in this aspect, we want to catch\n            // and retry for all exceptions.\n            throwable = e.getCause();\n\n            log.error(\n                &quot;Failed to process {} on attempt {}&quot;,\n                joinPoint.getSignature().getName(),\n                count + 1,\n                e);\n\n            delay = count == 0 ? initialDelay : count * multiplier * initialDelay;\n            log.info(&quot;Sleeping for {} seconds&quot;, delay);\n            Thread.sleep(delay);\n        }\n        count++;\n    } while (Objects.nonNull(throwable) &amp;&amp; count &lt; multiplier\n        &amp;&amp; System.currentTimeMillis() - startTime &lt; maxInterval);\n    log.debug(&quot;About to exit with success {}, count {} and delay {}ms&quot;, Objects.isNull(throwable),  count, delay);\n\n    // if we have been through the retry loop and still have an exception, throw it.\n    if (throwable != null) {\n        throw throwable;\n    }\n    return object;\n}\n</code></pre>\n<p>I hope that this may help someone who comes across the a similar problem</p>\n"},{"comments":[{"owner":{"account_id":8561384,"reputation":53,"user_id":6415325,"display_name":"Andrew Harrison"},"score":0,"creation_date":1670427686,"post_id":74080481,"comment_id":131875030,"body_markdown":"Top Banana..  I&#39;d forgotten about this until recently.  This would indeed explain a lot and should be a good shout out to others too.  Glad I could be of help tracking down the issue...","body":"Top Banana..  I&#39;d forgotten about this until recently.  This would indeed explain a lot and should be a good shout out to others too.  Glad I could be of help tracking down the issue..."}],"tags":[],"owner":{"account_id":26632607,"reputation":26,"user_id":20249572,"display_name":"davidktw"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665858976,"creation_date":1665845476,"answer_id":74080481,"question_id":65256166,"body_markdown":"Reading the solution that uses a separate thread by Andrew Harrison is fantastic. It provided different perspective to the problem and made me dig up more on the issue.\r\n\r\nApparently the issue is because of\r\nspring.jpa.open-in-view by default is enabled. The transaction actually is created much earlier, at the interceptor layer, than what is annotated at the controller or service level method.\r\n\r\nYou will notice this debugging line\r\n\r\n    o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n\r\nAs such when the annotated method either controller or service is retried, the transaction did not cease despite the database connection has been interrupted.\r\n\r\nThis debugging line was never printed\r\n\r\n    o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1649520370&lt;open&gt;)] after transaction\r\n\r\nHence the spring-retry just keep repeating the method attempt to revive the transaction.\r\n\r\nDisabling spring.jpa.open-in-view ensure no transaction has started before the spring-retry point-cut, thus ending of the spring-retry point-cut would result in the transaction ending along with the annotated method and each new iteration of the method would be also a new transaction open hence getting a new connection from the entity manager.\r\n\r\nIf spring.jpa.open-in-view is enabled, spring-retry will keep iterating the annotated method and end with the debugging line\r\n\r\n    o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n\r\nIf it spring.jpa.open-in-view is disabled, each iteration while spring-retry is retrying the method would shows\r\n\r\n    o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1633589911&lt;open&gt;)] after transaction\r\n\r\nand on start of each iteration would shows\r\n\r\n    o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [....]: PROPAGATION....\r\n\r\nI hope this helps to shed light into why it may not be necessary to use Andrew Harrison method. Spring-retry works.\r\n\r\nAndrew Harrison method may have created another problem should your View still requires access to the database. His method created new database connections in the new thread via the thread local EntityManager, but once the original request thread is resumed, the EntityManager in it will still be holding on to a defunct database connection. While I may not have tested, I highly suspect attempting to access the database in the View would result in JDBC errors too.","title":"Spring-Retry doesn&#39;t get a new database connection from HikariCP","body":"<p>Reading the solution that uses a separate thread by Andrew Harrison is fantastic. It provided different perspective to the problem and made me dig up more on the issue.</p>\n<p>Apparently the issue is because of\nspring.jpa.open-in-view by default is enabled. The transaction actually is created much earlier, at the interceptor layer, than what is annotated at the controller or service level method.</p>\n<p>You will notice this debugging line</p>\n<pre><code>o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\n</code></pre>\n<p>As such when the annotated method either controller or service is retried, the transaction did not cease despite the database connection has been interrupted.</p>\n<p>This debugging line was never printed</p>\n<pre><code>o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1649520370&lt;open&gt;)] after transaction\n</code></pre>\n<p>Hence the spring-retry just keep repeating the method attempt to revive the transaction.</p>\n<p>Disabling spring.jpa.open-in-view ensure no transaction has started before the spring-retry point-cut, thus ending of the spring-retry point-cut would result in the transaction ending along with the annotated method and each new iteration of the method would be also a new transaction open hence getting a new connection from the entity manager.</p>\n<p>If spring.jpa.open-in-view is enabled, spring-retry will keep iterating the annotated method and end with the debugging line</p>\n<pre><code>o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\n</code></pre>\n<p>If it spring.jpa.open-in-view is disabled, each iteration while spring-retry is retrying the method would shows</p>\n<pre><code>o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1633589911&lt;open&gt;)] after transaction\n</code></pre>\n<p>and on start of each iteration would shows</p>\n<pre><code>o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [....]: PROPAGATION....\n</code></pre>\n<p>I hope this helps to shed light into why it may not be necessary to use Andrew Harrison method. Spring-retry works.</p>\n<p>Andrew Harrison method may have created another problem should your View still requires access to the database. His method created new database connections in the new thread via the thread local EntityManager, but once the original request thread is resumed, the EntityManager in it will still be holding on to a defunct database connection. While I may not have tested, I highly suspect attempting to access the database in the View would result in JDBC errors too.</p>\n"}],"owner":{"account_id":8561384,"reputation":53,"user_id":6415325,"display_name":"Andrew Harrison"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5099,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74080481,"answer_count":2,"score":0,"last_activity_date":1665858976,"creation_date":1607708698,"question_id":65256166,"body_markdown":"I know that spring-retry doesn&#39;t grab database connections.\r\n\r\nWe&#39;ve wrapped a REST endpoint with @Retryable in an attempt to enact retry functionality but its not quite working as expected. I had anticipated that when a SQLException is thrown due to a `com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure` that the next attempt would grab a new connection from the pool.  I&#39;m facing an issue whereby if we take down the MySQL database part way through processing, spring-retry retries the method call, but does not get a new database connection. As a result all retries fail but new requests to the REST endpoint work successfully. Is there a way I can force a new connection from the datasource.?\r\n\r\nI know that Spring-retry knows nothing about the code being run, but I&#39;m bewildered why the connection, having just thrown an exception, isn&#39;t ditched and a new one pulled from the pool given the datasource configuration. (Its a simple Spring datasource)\r\n\r\nI appreciate that Spring-retry and HikariCP are separate things but I had envisioned that if the database failed for some reason, the Spring-retry would allow us to re-attempt the same processing?\r\n\r\nVersions\r\n\r\n    Mysql connector version: 8.0.18  \r\n    HikariCP version: 3.4.5  \r\n    SpringBoot version: 2.1.9.RELEASE\r\n\r\napplication.yml\r\n\r\n    spring:\r\n      main: \r\n        allow-bean-definition-overriding: true\r\n      jpa:\r\n        database-platform: org.hibernate.dialect.MySQL5Dialect   \r\n        hibernate:\r\n          use-new-id-generator-mappings: false \r\n      boot:\r\n        admin:\r\n          url: http://127.0.0.1:8022\r\n          username: admin\r\n          password: *****\r\n          client:\r\n            name: ${spring.application.name}\r\n      application:\r\n        name: Usage Aggregation\r\n      datasource:\r\n        type: com.zaxxer.hikari.HikariDataSource\r\n        url: jdbc:mysql://localhost:3308/db?createDatabaseIfNotExist=false&amp;autoReconnect=true&amp;autoReconnectForPools=true&amp;socketTimeout=5000&amp;connectTimeout=1000&amp;useSSL=false\r\n        hikari:\r\n          jdbcUrl: jdbc:mysql://localhost:3308/db?createDatabaseIfNotExist=false&amp;autoReconnect=true&amp;autoReconnectForPools=true&amp;socketTimeout=5000&amp;connectTimeout=1000&amp;useSSL=false\r\n          username: root\r\n          password: ****\r\n          register-mbeans: true\r\n          connectionInitSql: SELECT 1 FROM DUAL\r\n          connectionTestQuery: SELECT 1 FROM DUAL\r\n          socketTimeout: 3000\r\n          validationTimeout: 500\r\n          maximumPoolSize: 5\r\n          idleTimeout: 3000\r\n          poolName: SpringBootJPAHikariCP\r\n          maxLifetime: 60000\r\n          connectionTimeout: 1000\r\n\r\n\r\nController\r\n\r\n        @Retryable(exclude = {IllegalStateException.class},\r\n        maxAttemptsExpression = 3,\r\n        backoff = @Backoff(\r\n            delayExpression = 30000,\r\n            maxDelayExpression = 2,\r\n            multiplierExpression = 500000\r\n        ))\r\n    @RequestMapping(&quot;usageData/load/&quot;)\r\n    public void usageDataFromSource() {\r\n        log.info(&quot;Running usage data live service end point for: usageData&quot;);\r\n        //Sets status of aggregation disabled to false.\r\n        aggregationService.updateAggregationDisabledFlag(&quot;usageData&quot;, false);\r\n\r\n        usageService.copyUsageDataFromSourceToDestination();\r\n\r\n    }\r\n\r\nLogs:  \r\n\r\n\r\n    [2020-12-11 16:03:00,933] [http-nio-8095-exec-1] INFO u.b.c.RestController [] -    Running usage data live service end point for: usageData\r\n    [2020-12-11 16:03:09,099] [http-nio-8095-exec-1] DEBUG o.s.retry.support.RetryTemplate [] -    Retry: count=0\r\n    [2020-12-11 16:03:09,099] [http-nio-8095-exec-1] INFO u.b.config.RetryableDataSource [] -    ***************************** Getting a new Database connection *****************************\r\n    [2020-12-11 16:03:09,811] [http-nio-8095-exec-1] INFO u.b.service.UsageDataServiceImpl [] -    aggregation switch is false\r\n    [2020-12-11 16:03:19,906] [http-nio-8095-exec-1] ERROR u.b.service.UsageDataServiceImpl [] -    No usage data file available to process. Setting aggregationDisabled flag to true.\r\n\r\nThe database has already queried for the state of a flag at this point, showing the database connection is working.  The database is stopped at this point in order to simulate a database failure in order to test the fail/retry/recover scenario.  \r\n\r\n     [2020-12-11 16:03:19,929] [http-nio-8095-exec-1] WARN c.zaxxer.hikari.pool.ProxyConnection [] -    SpringBootJPAHikariCP - Connection com.mysql.cj.jdbc.ConnectionImpl@184c1740 marked as broken because of SQLSTATE(08S01), ErrorCode(0) \r\n    com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure  \r\n    \r\n    The last packet successfully received from the server was 10,738 milliseconds ago. The last packet sent successfully to the server was 10,738 milliseconds ago.  \r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)  \r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)  \r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2056)  \r\n    \tat com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:414)  \r\n    \tat com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java)  \r\n        at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:67)  \r\n    \tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:263)  \r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:236)  \r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:86)  \r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:184)   \r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:402)  \r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:378)  \r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:475)  \r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:289)  \r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)  \r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)  \r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)  \r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)  \r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:144)  \r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)  \r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$ExposeRepositoryInvocationInterceptor.invoke(CrudMethodMetadataPostProcessor.java:364)  \r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)  \r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)  \r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)  \r\n    \tat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)  \r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)  \r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)  \r\n    \tat com.sun.proxy.$Proxy133.updateAggregationDisabledFlag(Unknown Source)  \r\n    \tat uk.bobbins.service.AggregationServiceImpl.updateAggregationDisabledFlag(AggregationServiceImpl.java:457)  \r\n    \tat uk.bobbins.service.UsageDataServiceImpl.copyUsageDataFromSourceToDestination(UsageDataServiceImpl.java:94)  \r\n    \tat uk.bobbins.UsageServiceImpl.copyUsageDataFromSourceToDestination(UsageServiceImpl.java:94)  \r\n    \tat uk.bobbins.controller.RestController.UsageDataFromSource(RestController.java:152)  \r\n    \tat uk.bobbins.controller.RestController$$FastClassBySpringCGLIB$$ae255ac.invoke(&lt;generated&gt;)  \r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)  \r\n        ...\r\n        \r\n        ...  \r\n    \tat java.lang.Thread.run(Thread.java:748)  \r\n    Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n    \r\n    The last packet successfully received from the server was 10,738 milliseconds ago. The last packet sent successfully to the server was 10,738 milliseconds ago.\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)  \r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)  \r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)  \r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)  \r\n    \tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)  \r\n    \tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)  \r\n    \tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)  \r\n    \tat com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)  \r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:539)  \r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:703)  \r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:642)  \r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:941)  \r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:887)  \r\n    \tat com.mysql.cj.NativeSession.execSQL(NativeSession.java:1073)  \r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2046)  \r\n    \t... 104 common frames omitted  \r\n    Caused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.  \r\n    \tat com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:67)  \r\n    \tat com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)  \r\n    \tat com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)  \r\n    \tat com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)  \r\n    \tat com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)  \r\n    \tat com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)  \r\n    \tat com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)  \r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:533)  \r\n    \t... 110 common frames omitted  \r\n    [2020-12-11 16:03:19,947] [http-nio-8095-exec-1] DEBUG o.s.r.b.ExponentialBackOffPolicy [] -    Sleeping for 30000\r\nThe database is restarted at this point.  We were hoping that the Spring-retry would grab a new connection and carry on.  This is not the case.  Instead the same dead connection is used for subsequent retries and the process fails accordingly.\r\n\r\n    [2020-12-11 16:03:49,948] [http-nio-8095-exec-1] DEBUG o.s.retry.support.RetryTemplate [] -    Checking for rethrow: count=1\r\n    [2020-12-11 16:03:49,948] [http-nio-8095-exec-1] DEBUG o.s.retry.support.RetryTemplate [] -    Retry: count=1\r\n    [2020-12-11 16:03:49,948] [http-nio-8095-exec-1] INFO u.b.c.RestController [] -    Running usage data live service end point for: usageData\r\n    [2020-12-11 16:03:53,752] [http-nio-8095-exec-1] DEBUG o.s.r.b.ExponentialBackOffPolicy [] -    Sleeping for 60000\r\n    [2020-12-11 16:04:53,753] [http-nio-8095-exec-1] DEBUG o.s.retry.support.RetryTemplate [] -    Checking for rethrow: count=2\r\n    [2020-12-11 16:04:53,753] [http-nio-8095-exec-1] DEBUG o.s.retry.support.RetryTemplate [] -    Retry: count=2\r\n    [2020-12-11 16:04:53,753] [http-nio-8095-exec-1] INFO u.b.c.RestController [] -    Running usage data live service end point for: usageData\r\n    [2020-12-11 16:06:53,609] [SpringBootJPAHikariCP housekeeper] WARN com.zaxxer.hikari.pool.HikariPool [] -    SpringBootJPAHikariCP - Thread starvation or clock leap detected (housekeeper delta=2m3s700ms974&#181;s274ns).\r\n    [2020-12-11 16:06:53,608] [http-nio-8095-exec-1] DEBUG o.s.retry.support.RetryTemplate [] -    Checking for rethrow: count=3\r\n    [2020-12-11 16:06:53,612] [http-nio-8095-exec-1] DEBUG o.s.retry.support.RetryTemplate [] -    Retry failed last attempt: count=3\r\n    [2020-12-11 16:06:53,640] [http-nio-8095-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] [] -    Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.TransactionException: JDBC begin transaction failed: ] with root cause\r\n    java.sql.SQLException: Connection is closed\r\n    \tat com.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:515)\r\n    \tat com.sun.proxy.$Proxy98.setAutoCommit(Unknown Source)\r\n    \tat com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:414)\r\n    \tat com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java)\r\n    \tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:67)\r\n    \tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:263)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:236)\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:86)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:184)\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:402)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:378)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:475)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:289)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:144)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$ExposeRepositoryInvocationInterceptor.invoke(CrudMethodMetadataPostProcessor.java:364)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n    \tat com.sun.proxy.$Proxy133.updateAggregationDisabledFlag(Unknown Source)\r\n    \tat uk.bobbins.service.AggregationServiceImpl.updateAggregationDisabledFlag(AggregationServiceImpl.java:457)\r\n    \tat uk.bobbins.controller.RestController.usageDataFromSource(RestController.java:149)\r\n    \tat uk.bobbins.controller.RestController$$FastClassBySpringCGLIB$$ae255ac.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:91)\r\n    \tat org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:287)\r\n    \tat org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:164)\r\n    \tat org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:118)\r\n    \tat org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:153)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\r\n    \tat uk.bobbins.controller.RestController$$EnhancerBySpringCGLIB$$574fc03d.usageDataFromSource(&lt;generated&gt;)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:88)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114)\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\nIf anyone could shine a light on how I can make the spring-retry functionality acquire a new database connection (even from the pool) I would appreciate the knowledge.\r\n\r\nEdited for a little more clarity.","title":"Spring-Retry doesn&#39;t get a new database connection from HikariCP","body":"<p>I know that spring-retry doesn't grab database connections.</p>\n<p>We've wrapped a REST endpoint with @Retryable in an attempt to enact retry functionality but its not quite working as expected. I had anticipated that when a SQLException is thrown due to a <code>com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure</code> that the next attempt would grab a new connection from the pool.  I'm facing an issue whereby if we take down the MySQL database part way through processing, spring-retry retries the method call, but does not get a new database connection. As a result all retries fail but new requests to the REST endpoint work successfully. Is there a way I can force a new connection from the datasource.?</p>\n<p>I know that Spring-retry knows nothing about the code being run, but I'm bewildered why the connection, having just thrown an exception, isn't ditched and a new one pulled from the pool given the datasource configuration. (Its a simple Spring datasource)</p>\n<p>I appreciate that Spring-retry and HikariCP are separate things but I had envisioned that if the database failed for some reason, the Spring-retry would allow us to re-attempt the same processing?</p>\n<p>Versions</p>\n<pre><code>Mysql connector version: 8.0.18  \nHikariCP version: 3.4.5  \nSpringBoot version: 2.1.9.RELEASE\n</code></pre>\n<p>application.yml</p>\n<pre><code>spring:\n  main: \n    allow-bean-definition-overriding: true\n  jpa:\n    database-platform: org.hibernate.dialect.MySQL5Dialect   \n    hibernate:\n      use-new-id-generator-mappings: false \n  boot:\n    admin:\n      url: http://127.0.0.1:8022\n      username: admin\n      password: *****\n      client:\n        name: ${spring.application.name}\n  application:\n    name: Usage Aggregation\n  datasource:\n    type: com.zaxxer.hikari.HikariDataSource\n    url: jdbc:mysql://localhost:3308/db?createDatabaseIfNotExist=false&amp;autoReconnect=true&amp;autoReconnectForPools=true&amp;socketTimeout=5000&amp;connectTimeout=1000&amp;useSSL=false\n    hikari:\n      jdbcUrl: jdbc:mysql://localhost:3308/db?createDatabaseIfNotExist=false&amp;autoReconnect=true&amp;autoReconnectForPools=true&amp;socketTimeout=5000&amp;connectTimeout=1000&amp;useSSL=false\n      username: root\n      password: ****\n      register-mbeans: true\n      connectionInitSql: SELECT 1 FROM DUAL\n      connectionTestQuery: SELECT 1 FROM DUAL\n      socketTimeout: 3000\n      validationTimeout: 500\n      maximumPoolSize: 5\n      idleTimeout: 3000\n      poolName: SpringBootJPAHikariCP\n      maxLifetime: 60000\n      connectionTimeout: 1000\n</code></pre>\n<p>Controller</p>\n<pre><code>    @Retryable(exclude = {IllegalStateException.class},\n    maxAttemptsExpression = 3,\n    backoff = @Backoff(\n        delayExpression = 30000,\n        maxDelayExpression = 2,\n        multiplierExpression = 500000\n    ))\n@RequestMapping(&quot;usageData/load/&quot;)\npublic void usageDataFromSource() {\n    log.info(&quot;Running usage data live service end point for: usageData&quot;);\n    //Sets status of aggregation disabled to false.\n    aggregationService.updateAggregationDisabledFlag(&quot;usageData&quot;, false);\n\n    usageService.copyUsageDataFromSourceToDestination();\n\n}\n</code></pre>\n<p>Logs:</p>\n<pre><code>[2020-12-11 16:03:00,933] [http-nio-8095-exec-1] INFO u.b.c.RestController [] -    Running usage data live service end point for: usageData\n[2020-12-11 16:03:09,099] [http-nio-8095-exec-1] DEBUG o.s.retry.support.RetryTemplate [] -    Retry: count=0\n[2020-12-11 16:03:09,099] [http-nio-8095-exec-1] INFO u.b.config.RetryableDataSource [] -    ***************************** Getting a new Database connection *****************************\n[2020-12-11 16:03:09,811] [http-nio-8095-exec-1] INFO u.b.service.UsageDataServiceImpl [] -    aggregation switch is false\n[2020-12-11 16:03:19,906] [http-nio-8095-exec-1] ERROR u.b.service.UsageDataServiceImpl [] -    No usage data file available to process. Setting aggregationDisabled flag to true.\n</code></pre>\n<p>The database has already queried for the state of a flag at this point, showing the database connection is working.  The database is stopped at this point in order to simulate a database failure in order to test the fail/retry/recover scenario.</p>\n<pre><code> [2020-12-11 16:03:19,929] [http-nio-8095-exec-1] WARN c.zaxxer.hikari.pool.ProxyConnection [] -    SpringBootJPAHikariCP - Connection com.mysql.cj.jdbc.ConnectionImpl@184c1740 marked as broken because of SQLSTATE(08S01), ErrorCode(0) \ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure  \n\nThe last packet successfully received from the server was 10,738 milliseconds ago. The last packet sent successfully to the server was 10,738 milliseconds ago.  \n    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)  \n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)  \n    at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2056)  \n    at com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:414)  \n    at com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java)  \n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:67)  \n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:263)  \n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:236)  \n    at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:86)  \n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:184)   \n    at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:402)  \n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:378)  \n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:475)  \n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:289)  \n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)  \n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)  \n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)  \n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)  \n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:144)  \n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)  \n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$ExposeRepositoryInvocationInterceptor.invoke(CrudMethodMetadataPostProcessor.java:364)  \n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)  \n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)  \n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)  \n    at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)  \n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)  \n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)  \n    at com.sun.proxy.$Proxy133.updateAggregationDisabledFlag(Unknown Source)  \n    at uk.bobbins.service.AggregationServiceImpl.updateAggregationDisabledFlag(AggregationServiceImpl.java:457)  \n    at uk.bobbins.service.UsageDataServiceImpl.copyUsageDataFromSourceToDestination(UsageDataServiceImpl.java:94)  \n    at uk.bobbins.UsageServiceImpl.copyUsageDataFromSourceToDestination(UsageServiceImpl.java:94)  \n    at uk.bobbins.controller.RestController.UsageDataFromSource(RestController.java:152)  \n    at uk.bobbins.controller.RestController$$FastClassBySpringCGLIB$$ae255ac.invoke(&lt;generated&gt;)  \n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)  \n    ...\n    \n    ...  \n    at java.lang.Thread.run(Thread.java:748)  \nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\nThe last packet successfully received from the server was 10,738 milliseconds ago. The last packet sent successfully to the server was 10,738 milliseconds ago.\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)  \n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)  \n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)  \n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)  \n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)  \n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)  \n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)  \n    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)  \n    at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:539)  \n    at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:703)  \n    at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:642)  \n    at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:941)  \n    at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:887)  \n    at com.mysql.cj.NativeSession.execSQL(NativeSession.java:1073)  \n    at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2046)  \n    ... 104 common frames omitted  \nCaused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.  \n    at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:67)  \n    at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)  \n    at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)  \n    at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)  \n    at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)  \n    at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)  \n    at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)  \n    at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:533)  \n    ... 110 common frames omitted  \n[2020-12-11 16:03:19,947] [http-nio-8095-exec-1] DEBUG o.s.r.b.ExponentialBackOffPolicy [] -    Sleeping for 30000\n</code></pre>\n<p>The database is restarted at this point.  We were hoping that the Spring-retry would grab a new connection and carry on.  This is not the case.  Instead the same dead connection is used for subsequent retries and the process fails accordingly.</p>\n<pre><code>[2020-12-11 16:03:49,948] [http-nio-8095-exec-1] DEBUG o.s.retry.support.RetryTemplate [] -    Checking for rethrow: count=1\n[2020-12-11 16:03:49,948] [http-nio-8095-exec-1] DEBUG o.s.retry.support.RetryTemplate [] -    Retry: count=1\n[2020-12-11 16:03:49,948] [http-nio-8095-exec-1] INFO u.b.c.RestController [] -    Running usage data live service end point for: usageData\n[2020-12-11 16:03:53,752] [http-nio-8095-exec-1] DEBUG o.s.r.b.ExponentialBackOffPolicy [] -    Sleeping for 60000\n[2020-12-11 16:04:53,753] [http-nio-8095-exec-1] DEBUG o.s.retry.support.RetryTemplate [] -    Checking for rethrow: count=2\n[2020-12-11 16:04:53,753] [http-nio-8095-exec-1] DEBUG o.s.retry.support.RetryTemplate [] -    Retry: count=2\n[2020-12-11 16:04:53,753] [http-nio-8095-exec-1] INFO u.b.c.RestController [] -    Running usage data live service end point for: usageData\n[2020-12-11 16:06:53,609] [SpringBootJPAHikariCP housekeeper] WARN com.zaxxer.hikari.pool.HikariPool [] -    SpringBootJPAHikariCP - Thread starvation or clock leap detected (housekeeper delta=2m3s700ms974µs274ns).\n[2020-12-11 16:06:53,608] [http-nio-8095-exec-1] DEBUG o.s.retry.support.RetryTemplate [] -    Checking for rethrow: count=3\n[2020-12-11 16:06:53,612] [http-nio-8095-exec-1] DEBUG o.s.retry.support.RetryTemplate [] -    Retry failed last attempt: count=3\n[2020-12-11 16:06:53,640] [http-nio-8095-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] [] -    Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.TransactionException: JDBC begin transaction failed: ] with root cause\njava.sql.SQLException: Connection is closed\n    at com.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:515)\n    at com.sun.proxy.$Proxy98.setAutoCommit(Unknown Source)\n    at com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:414)\n    at com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java)\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:67)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:263)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:236)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:86)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:184)\n    at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:402)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:378)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:475)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:289)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:144)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$ExposeRepositoryInvocationInterceptor.invoke(CrudMethodMetadataPostProcessor.java:364)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy133.updateAggregationDisabledFlag(Unknown Source)\n    at uk.bobbins.service.AggregationServiceImpl.updateAggregationDisabledFlag(AggregationServiceImpl.java:457)\n    at uk.bobbins.controller.RestController.usageDataFromSource(RestController.java:149)\n    at uk.bobbins.controller.RestController$$FastClassBySpringCGLIB$$ae255ac.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:91)\n    at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:287)\n    at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:164)\n    at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:118)\n    at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:153)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\n    at uk.bobbins.controller.RestController$$EnhancerBySpringCGLIB$$574fc03d.usageDataFromSource(&lt;generated&gt;)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:88)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>If anyone could shine a light on how I can make the spring-retry functionality acquire a new database connection (even from the pool) I would appreciate the knowledge.</p>\n<p>Edited for a little more clarity.</p>\n"},{"tags":["java","java-8","format","string-formatting"],"comments":[{"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":1,"creation_date":1617321612,"post_id":66912882,"comment_id":118279221,"body_markdown":"A couple of suggestions: Slow down, read the error message carefully, and don&#39;t fall into the trap of taking shots in the dark making random adjustments you don&#39;t understand. To start with, you don&#39;t have to guess which line of code is at fault. The error message has the exact file and line number, `Ex4.java:16`. Then there&#39;s the error message, `java.util.IllegalFormatConversionException: f != java.lang.Integer`. What do you make of that? (If it means nothing to you, Google it and see what turns up.)","body":"A couple of suggestions: Slow down, read the error message carefully, and don&#39;t fall into the trap of taking shots in the dark making random adjustments you don&#39;t understand. To start with, you don&#39;t have to guess which line of code is at fault. The error message has the exact file and line number, <code>Ex4.java:16</code>. Then there&#39;s the error message, <code>java.util.IllegalFormatConversionException: f != java.lang.Integer</code>. What do you make of that? (If it means nothing to you, Google it and see what turns up.)"},{"owner":{"account_id":19574455,"reputation":81,"user_id":15474349,"display_name":"Rosie"},"score":0,"creation_date":1617323515,"post_id":66912882,"comment_id":118279535,"body_markdown":"Thank you for the perfectly detailed answer it really helped, I guess I&#39;ve just been in a dizzy working on different code all morning and didn&#39;t realize that the error pointed out the specific spot. I&#39;ll keep that in mind for future programs and try to work on slowly and carefully going through what I&#39;ve written before getting too frustrated haha. Thank you again!!","body":"Thank you for the perfectly detailed answer it really helped, I guess I&#39;ve just been in a dizzy working on different code all morning and didn&#39;t realize that the error pointed out the specific spot. I&#39;ll keep that in mind for future programs and try to work on slowly and carefully going through what I&#39;ve written before getting too frustrated haha. Thank you again!!"}],"answers":[{"tags":[],"owner":{"account_id":11415719,"reputation":7030,"user_id":10584605,"display_name":"ETO"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1617321592,"creation_date":1617321592,"answer_id":66912918,"question_id":66912882,"body_markdown":"Try using `%d` instead of `%f`:\r\n\r\n```java\r\nSystem.out.printf(&quot;nB = %d&quot;, value);\r\n```\r\n\r\nFor more details on formatting consult [this page][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/data/numberformat.html","title":"java.util.IllegalFormatConversionException: f != java.lang.Integer","body":"<p>Try using <code>%d</code> instead of <code>%f</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.printf(&quot;nB = %d&quot;, value);\n</code></pre>\n<p>For more details on formatting consult <a href=\"https://docs.oracle.com/javase/tutorial/java/data/numberformat.html\" rel=\"noreferrer\">this page</a>.</p>\n"}],"owner":{"account_id":19574455,"reputation":81,"user_id":15474349,"display_name":"Rosie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7999,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"closed_date":1617328169,"accepted_answer_id":66912918,"answer_count":1,"score":5,"last_activity_date":1665858773,"creation_date":1617321144,"question_id":66912882,"body_markdown":"I&#39;m trying to create a simple java program that reads a floating-point number, calculates it using an equation with Euler&#39;s number then converts the results from double to int. I can get it to compile without errors but after I input the floating-point numbers I get the error:\r\n\r\n    nB = Exception in thread &quot;main&quot; java.util.IllegalFormatConversionException: f != java.lang.Integer\r\n        at java.util.Formatter$FormatSpecifier.failConversion(Unknown Source)\r\n        at java.util.Formatter$FormatSpecifier.printFloat(Unknown Source)\r\n        at java.util.Formatter$FormatSpecifier.print(Unknown Source)\r\n        at java.util.Formatter.format(Unknown Source)\r\n        at java.io.PrintStream.format(Unknown Source)\r\n        at java.io.PrintStream.printf(Unknown Source)\r\n        at Ex4.main(Ex4.java:16)\r\nIts only a few lines of coding and I just created a similar program that works fine, so I don&#39;t understand what&#39;s wrong here! I&#39;m thinking it might have to do with the line on Euler&#39;s number since I don&#39;t fully understand all the math functions yet, but I&#39;ve used π just fine before the exact same way. Or is it because the final conversion step is wrong? Sorry if it&#39;s something super obvious, i&#39;ve tried my best to debug it so many times but any time I change a part I think could be the issue I end up with so many more errors. Here is the code:\r\n\r\n    import static java.lang.Math.*;\r\n    import java.util.Scanner;\r\n    \r\n    class Ex4\r\n    {\r\n        public static void main( String [ ] args)\r\n        {\r\n            Scanner input = new Scanner(System.in);         //import scanner and ask user to input number\r\n            System.out.print(&quot;Please enter a floating-point number: &quot;);\r\n            double nA = input.nextDouble();     \r\n    \r\n            double nB = Math.pow(E, nA);     //mathematical equation\r\n    \r\n            int value = (int) nB;    //convert nB to an int\r\n    \r\n            System.out.printf(&quot;nB = %f&quot;, value);\r\n        }\r\n    }  \r\n\r\nPitifully small and simple, I know ;_; I also tried looking up similar questions on here but all the errors any commenters found I triple checked were right in mine. Also if anyone could help me understand the error message better as well, i&#39;d really appreciate it. Thank you!!","title":"java.util.IllegalFormatConversionException: f != java.lang.Integer","body":"<p>I'm trying to create a simple java program that reads a floating-point number, calculates it using an equation with Euler's number then converts the results from double to int. I can get it to compile without errors but after I input the floating-point numbers I get the error:</p>\n<pre><code>nB = Exception in thread &quot;main&quot; java.util.IllegalFormatConversionException: f != java.lang.Integer\n    at java.util.Formatter$FormatSpecifier.failConversion(Unknown Source)\n    at java.util.Formatter$FormatSpecifier.printFloat(Unknown Source)\n    at java.util.Formatter$FormatSpecifier.print(Unknown Source)\n    at java.util.Formatter.format(Unknown Source)\n    at java.io.PrintStream.format(Unknown Source)\n    at java.io.PrintStream.printf(Unknown Source)\n    at Ex4.main(Ex4.java:16)\n</code></pre>\n<p>Its only a few lines of coding and I just created a similar program that works fine, so I don't understand what's wrong here! I'm thinking it might have to do with the line on Euler's number since I don't fully understand all the math functions yet, but I've used π just fine before the exact same way. Or is it because the final conversion step is wrong? Sorry if it's something super obvious, i've tried my best to debug it so many times but any time I change a part I think could be the issue I end up with so many more errors. Here is the code:</p>\n<pre><code>import static java.lang.Math.*;\nimport java.util.Scanner;\n\nclass Ex4\n{\n    public static void main( String [ ] args)\n    {\n        Scanner input = new Scanner(System.in);         //import scanner and ask user to input number\n        System.out.print(&quot;Please enter a floating-point number: &quot;);\n        double nA = input.nextDouble();     \n\n        double nB = Math.pow(E, nA);     //mathematical equation\n\n        int value = (int) nB;    //convert nB to an int\n\n        System.out.printf(&quot;nB = %f&quot;, value);\n    }\n}  \n</code></pre>\n<p>Pitifully small and simple, I know ;_; I also tried looking up similar questions on here but all the errors any commenters found I triple checked were right in mine. Also if anyone could help me understand the error message better as well, i'd really appreciate it. Thank you!!</p>\n"},{"tags":["java","rest-assured","rest-assured-jsonpath","json-annotation"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1665849485,"post_id":74080475,"comment_id":130797269,"body_markdown":"Which version of RA, Jackson are you using? I have nothing wrong in my end. And one more thing, this line `public Builder setCreditCycle(FeatureType featureType)` seems wrong.","body":"Which version of RA, Jackson are you using? I have nothing wrong in my end. And one more thing, this line <code>public Builder setCreditCycle(FeatureType featureType)</code> seems wrong."},{"owner":{"account_id":11369816,"reputation":233,"user_id":8335668,"accept_rate":100,"display_name":"SanQA"},"score":0,"creation_date":1665858338,"post_id":74080475,"comment_id":130799146,"body_markdown":"Yes,Changed the original name with demo names,left that alone,changed that now.","body":"Yes,Changed the original name with demo names,left that alone,changed that now."},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1665920454,"post_id":74080475,"comment_id":130807540,"body_markdown":"please re-read my comment. No issue on my machine.","body":"please re-read my comment. No issue on my machine."},{"owner":{"account_id":6836018,"reputation":803,"user_id":5257981,"display_name":"kaweesha"},"score":0,"creation_date":1666983757,"post_id":74080475,"comment_id":131071754,"body_markdown":"Does this answer your question? [Jackson renames primitive boolean field by removing &#39;is&#39;](https://stackoverflow.com/questions/32270422/jackson-renames-primitive-boolean-field-by-removing-is)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/32270422/jackson-renames-primitive-boolean-field-by-removing-is\">Jackson renames primitive boolean field by removing &#39;is&#39;</a>"}],"owner":{"account_id":11369816,"reputation":233,"user_id":8335668,"accept_rate":100,"display_name":"SanQA"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665858233,"creation_date":1665845441,"question_id":74080475,"body_markdown":"I have the `Feature` class as follows:\r\n\r\n    public class Feature {\r\n\t\r\n\tprivate FeatureType featureType;\r\n\tprivate Integer featureNumber;\r\n\t\r\n\t@JsonProperty(&quot;isActive&quot;)\r\n\tprivate boolean isActive;\r\n\t\r\n\t@JsonProperty(&quot;isAutomatedFeature&quot;)\r\n\tprivate boolean isAutomatedFeature;\r\n\t\r\n\tprivate Feature() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic FeatureType getFeatureType() {\r\n\t\treturn featureType;\r\n\t}\r\n\r\n\tpublic Integer getFeatureNumber() {\r\n\t\treturn featureNumber;\r\n\t}\r\n\r\n\t@JsonProperty(&quot;isActive&quot;)\r\n\tpublic boolean isActive() {\r\n\t\treturn isActive;\r\n\t}\r\n\r\n\t@JsonProperty(&quot;isAutomatedFeature&quot;)\r\n\tpublic boolean isAutomatedFeature() {\r\n\t\treturn isAutomatedFeature;\r\n\t}\r\n\t\r\n\t\r\n    public static class Builder {\r\n\t\t\r\n    \tFeature feature=null;\r\n\t\t\r\n    \tpublic Builder() {\r\n    \t\tfeature=new Feature();\r\n    \t}\r\n\t\t\r\n\t\tpublic Builder setFeatureType(FeatureType featureType) {\r\n\t\t\tfeature.featureType=featureType;\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t\r\n\t\tpublic Builder setFeatureNumber(Integer featureNumber) {\r\n\t\t\tfeature.featureNumber=featureNumber;\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t\r\n\t\t@JsonProperty(&quot;isActive&quot;)\r\n\t\tpublic Builder setIsActive(boolean isActive) {\r\n\t\t\tfeature.isActive=isActive;\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t\r\n\t\t@JsonProperty(&quot;isAutomatedFeature&quot;)\r\n\t\tpublic Builder setIsCarryForwardAllowed(boolean isAutomatedFeature) {\r\n\t\t\tfeature.isAutomatedFeature=isAutomatedFeature;\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t\r\n\t\tpublic Feature build() {\r\n\t\t\treturn feature;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nNow to create a feature we have an api called\r\n`api/v1/feature---POST` and its payload will look like below:\r\n\r\n    &quot;feature&quot;:{\r\n            &quot;featureType&quot;:&quot;XYZ&quot;,\r\n            &quot;featureType&quot;:&quot;40&quot;,\r\n            &quot;isActive&quot; :true,\r\n            &quot;isAutomatedFeature&quot; :true\r\n            }\r\n\r\nBut we can&#39;t call this api directly to create a feature so we use **RestAssured RequestSpecificationImpl** to hit the above API.\r\n\r\nIt will be something like this \r\n\r\n    public Response create(Feature feature) {\r\n    \t\treturn post(&quot;api/v1/feature&quot;,feature);\r\n    \t}\r\n\r\nInternally it creates the payload/body for the url and hit the api.So to hit the above method create we need the feature object which I created using builder.\r\n\r\n    Feature feature=new Feature.Builder().setFeatureType(&quot;XYZ&quot;).setFeatureNumber(40).setIsActive(true).setIsCarryForwardAllowed(true).build();\r\n\r\n\r\n I expected the payload to be like above mentioned payload.\r\n\r\nBut the generated payload is something like this:\r\n\r\n    &quot;feature&quot;:{\r\n                &quot;featureType&quot;:&quot;XYZ&quot;,\r\n                &quot;featureType&quot;:&quot;40&quot;,\r\n                &quot;Active&quot; :true,\r\n                &quot;AutomatedFeature&quot; :true\r\n                }\r\n\r\ni.e it removes &quot;is&quot; from &quot;isActive&quot; and &quot;isAutomatedFeature&quot; and make them &quot;Active&quot; and &quot;AutomatedFeature&quot; respectively even when I am using `@JsonProperty`,so the api fails.\r\n\r\nCan anyone guide me what I am doing wrong or how it can be resolved.\r\nThanks in advance.\r\n","title":"RestAssured RequestSpecificationImpl body method removing &quot;is&quot; from the fieldName","body":"<p>I have the <code>Feature</code> class as follows:</p>\n<pre><code>public class Feature {\n\nprivate FeatureType featureType;\nprivate Integer featureNumber;\n\n@JsonProperty(&quot;isActive&quot;)\nprivate boolean isActive;\n\n@JsonProperty(&quot;isAutomatedFeature&quot;)\nprivate boolean isAutomatedFeature;\n\nprivate Feature() {\n    \n}\n\npublic FeatureType getFeatureType() {\n    return featureType;\n}\n\npublic Integer getFeatureNumber() {\n    return featureNumber;\n}\n\n@JsonProperty(&quot;isActive&quot;)\npublic boolean isActive() {\n    return isActive;\n}\n\n@JsonProperty(&quot;isAutomatedFeature&quot;)\npublic boolean isAutomatedFeature() {\n    return isAutomatedFeature;\n}\n\n\npublic static class Builder {\n    \n    Feature feature=null;\n    \n    public Builder() {\n        feature=new Feature();\n    }\n    \n    public Builder setFeatureType(FeatureType featureType) {\n        feature.featureType=featureType;\n        return this;\n    }\n    \n    public Builder setFeatureNumber(Integer featureNumber) {\n        feature.featureNumber=featureNumber;\n        return this;\n    }\n    \n    @JsonProperty(&quot;isActive&quot;)\n    public Builder setIsActive(boolean isActive) {\n        feature.isActive=isActive;\n        return this;\n    }\n    \n    @JsonProperty(&quot;isAutomatedFeature&quot;)\n    public Builder setIsCarryForwardAllowed(boolean isAutomatedFeature) {\n        feature.isAutomatedFeature=isAutomatedFeature;\n        return this;\n    }\n    \n    public Feature build() {\n        return feature;\n    }\n    \n}\n</code></pre>\n<p>Now to create a feature we have an api called\n<code>api/v1/feature---POST</code> and its payload will look like below:</p>\n<pre><code>&quot;feature&quot;:{\n        &quot;featureType&quot;:&quot;XYZ&quot;,\n        &quot;featureType&quot;:&quot;40&quot;,\n        &quot;isActive&quot; :true,\n        &quot;isAutomatedFeature&quot; :true\n        }\n</code></pre>\n<p>But we can't call this api directly to create a feature so we use <strong>RestAssured RequestSpecificationImpl</strong> to hit the above API.</p>\n<p>It will be something like this</p>\n<pre><code>public Response create(Feature feature) {\n        return post(&quot;api/v1/feature&quot;,feature);\n    }\n</code></pre>\n<p>Internally it creates the payload/body for the url and hit the api.So to hit the above method create we need the feature object which I created using builder.</p>\n<pre><code>Feature feature=new Feature.Builder().setFeatureType(&quot;XYZ&quot;).setFeatureNumber(40).setIsActive(true).setIsCarryForwardAllowed(true).build();\n</code></pre>\n<p>I expected the payload to be like above mentioned payload.</p>\n<p>But the generated payload is something like this:</p>\n<pre><code>&quot;feature&quot;:{\n            &quot;featureType&quot;:&quot;XYZ&quot;,\n            &quot;featureType&quot;:&quot;40&quot;,\n            &quot;Active&quot; :true,\n            &quot;AutomatedFeature&quot; :true\n            }\n</code></pre>\n<p>i.e it removes &quot;is&quot; from &quot;isActive&quot; and &quot;isAutomatedFeature&quot; and make them &quot;Active&quot; and &quot;AutomatedFeature&quot; respectively even when I am using <code>@JsonProperty</code>,so the api fails.</p>\n<p>Can anyone guide me what I am doing wrong or how it can be resolved.\nThanks in advance.</p>\n"},{"tags":["java","multithreading","swing","graphics"],"comments":[{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":0,"creation_date":1665859126,"post_id":74081939,"comment_id":130799296,"body_markdown":"Myself I&#39;d scrap all the direct threading (and NEVER extend Thread) and static anything and would simply use a Swing Timer. It is for exactly this situation and would simply everything and reduce threading risks","body":"Myself I&#39;d scrap all the direct threading (and NEVER extend Thread) and static anything and would simply use a Swing Timer. It is for exactly this situation and would simply everything and reduce threading risks"},{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":0,"creation_date":1665859171,"post_id":74081939,"comment_id":130799302,"body_markdown":"In other words if I had your code I&#39;d scrap it completely and start fresh. I&#39;m unfortunately on a cell phone and so that is about all I can suggest: avoid fighting against the library that you use","body":"In other words if I had your code I&#39;d scrap it completely and start fresh. I&#39;m unfortunately on a cell phone and so that is about all I can suggest: avoid fighting against the library that you use"},{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":0,"creation_date":1665859937,"post_id":74081939,"comment_id":130799453,"body_markdown":"Also, your current code looks to not be Swing thread-safe, but I am not sure what the rest of your code looks like (consider creating a [mre]). Also I&#39;m not sure how you are getting the Graphics object, it&#39;s ultimate source, and this matters. Avoid extracting it from a Swing component via getGraphics(). Also Google &quot;concurrency and Swing&quot;","body":"Also, your current code looks to not be Swing thread-safe, but I am not sure what the rest of your code looks like (consider creating a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>). Also I&#39;m not sure how you are getting the Graphics object, it&#39;s ultimate source, and this matters. Avoid extracting it from a Swing component via getGraphics(). Also Google &quot;concurrency and Swing&quot;"},{"owner":{"account_id":24917386,"reputation":11,"user_id":18786117,"display_name":"Danermar"},"score":0,"creation_date":1665864683,"post_id":74081939,"comment_id":130800373,"body_markdown":"@DontKnowMuchButGettingBetter I didn&#39;t know about this thread-safe concepts, just searched them and decided to follow your advice and start from 0, can you give me an example of this Swing Timer, or some place where I can look for an example. Also another question, How do you recommend me to make the graph without using the .getGraphics()?, thank you a lot.","body":"@DontKnowMuchButGettingBetter I didn&#39;t know about this thread-safe concepts, just searched them and decided to follow your advice and start from 0, can you give me an example of this Swing Timer, or some place where I can look for an example. Also another question, How do you recommend me to make the graph without using the .getGraphics()?, thank you a lot."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1665871224,"post_id":74081939,"comment_id":130801546,"body_markdown":"*How do you recommend me to make the graph without using the .getGraphics()?* - custom painting is done by overriding the paintCompnent() method of a JPanel. 2) You then define properties in this panel to control the painting. 3) When the Swing Timer fires you update the properties and then invoke repaint(). Check out: https://stackoverflow.com/questions/54028090/get-width-and-height-of-jpanel-outside-of-the-class/54028681#54028681 which demonstrates the basics of using a Timer for animation. Of course, your painting logic will be different.","body":"<i>How do you recommend me to make the graph without using the .getGraphics()?</i> - custom painting is done by overriding the paintCompnent() method of a JPanel. 2) You then define properties in this panel to control the painting. 3) When the Swing Timer fires you update the properties and then invoke repaint(). Check out: <a href=\"https://stackoverflow.com/questions/54028090/get-width-and-height-of-jpanel-outside-of-the-class/54028681#54028681\" title=\"get width and height of jpanel outside of the class\">stackoverflow.com/questions/54028090/&hellip;</a> which demonstrates the basics of using a Timer for animation. Of course, your painting logic will be different."},{"owner":{"account_id":24917386,"reputation":11,"user_id":18786117,"display_name":"Danermar"},"score":0,"creation_date":1665936701,"post_id":74081939,"comment_id":130810890,"body_markdown":"@camickr Justly checked, tried this and works perfectly, thank you","body":"@camickr Justly checked, tried this and works perfectly, thank you"}],"owner":{"account_id":24917386,"reputation":11,"user_id":18786117,"display_name":"Danermar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665857741,"creation_date":1665857741,"question_id":74081939,"body_markdown":"I am trying to generate two continous graphs in a JPanel without blocking the JFrame, with Graphics and Graphics2D library.\r\nExample of one: https://gyazo.com/2027cab6799d8416b1df8ee953d71b21\r\n\r\nWhat I plan to do with this is to generate the graph at the same time that the user can change values and automatically the graph changes and is generated with these.\r\n\r\nI am trying using Threads \r\n\r\nThread:\r\n```\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.RenderingHints;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\npublic class Thread3 extends Thread {\r\n\r\n    static int state;\r\n    double X = 0;\r\n    // Workspace state = 1\r\n\r\n    @Override\r\n    public void run() {\r\n        if (state == 1) {\r\n            // Graphic 2\r\n            Graphics g = Thread1.ws.graphic2.getGraphics();\r\n            Graphics2D g2 = (Graphics2D) g;\r\n            g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\r\n            double lastX = 3;\r\n            double lastY = 0;\r\n            double Y = 0;\r\n            double XonScreen = 0;\r\n\r\n            int width = Thread1.ws.graphic2.getWidth();\r\n            int height = Thread1.ws.graphic2.getHeight();\r\n\r\n            while (Thread1.active) {\r\n                if (Thread1.ws.graphic2Active) {\r\n                    try {\r\n                        Thread.sleep(1);\r\n                    } catch (InterruptedException ex) {\r\n\r\n                    }\r\n                    g.clearRect(0, 0, width, height);\r\n                    XonScreen = 0;\r\n                    for (int j = 0; j &lt; 48; j++) {\r\n                        lastX = XonScreen;\r\n                        lastY = Y;\r\n\r\n                        X += 0.005 * 10000;\r\n                        XonScreen += 0.005 * 10000;\r\n                        Y = Math.sin(X) * 120;\r\n\r\n                        g2.drawLine(0, height / 2, width, height / 2);\r\n                        g2.drawLine((int) XonScreen, ((int) Y + height / 2), (int) lastX, ((int) lastY + height / 2));\r\n                        g2.drawLine(0, 0, 0, height);\r\n                    }\r\n\r\n                } else {\r\n                    try {\r\n                        Thread.sleep(500);\r\n                    } catch (InterruptedException ex) {\r\n                        Logger.getLogger(Thread3.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn this case I just set the JPanel to public and instantiated the JFrame in a static way. So far it works correctly but when running it, the graph does not update, it only updates when there is an event running.\r\nhttps://gyazo.com/dc72d3c1a119b2ec93b442063f32c797\r\n\r\nI tried using frame.repaint(); but it just makes all the JPanel flick. I also tried using a timer with an ActionPerformed event:\r\n\r\n```\r\n    private Timer timer = new Timer(20, new ActionListener() {\r\n       @Override\r\n       public void actionPerformed(ActionEvent ae) {\r\n           repaint();\r\n       }\r\n    });\r\n```\r\n\r\nbut it also didn&#39;t work (I&#39;m not sure if I implemented it correctly; if you have any suggestions about this, please let me know.)&#160;.\r\n\r\nDo you know of any way that I can make the graphs update constantly and still manage the rest of the frame without any problems?","title":"How can I generate a continous graphic in a JPanel with threads?","body":"<p>I am trying to generate two continous graphs in a JPanel without blocking the JFrame, with Graphics and Graphics2D library.\nExample of one: <a href=\"https://gyazo.com/2027cab6799d8416b1df8ee953d71b21\" rel=\"nofollow noreferrer\">https://gyazo.com/2027cab6799d8416b1df8ee953d71b21</a></p>\n<p>What I plan to do with this is to generate the graph at the same time that the user can change values and automatically the graph changes and is generated with these.</p>\n<p>I am trying using Threads</p>\n<p>Thread:</p>\n<pre><code>import java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class Thread3 extends Thread {\n\n    static int state;\n    double X = 0;\n    // Workspace state = 1\n\n    @Override\n    public void run() {\n        if (state == 1) {\n            // Graphic 2\n            Graphics g = Thread1.ws.graphic2.getGraphics();\n            Graphics2D g2 = (Graphics2D) g;\n            g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n\n            double lastX = 3;\n            double lastY = 0;\n            double Y = 0;\n            double XonScreen = 0;\n\n            int width = Thread1.ws.graphic2.getWidth();\n            int height = Thread1.ws.graphic2.getHeight();\n\n            while (Thread1.active) {\n                if (Thread1.ws.graphic2Active) {\n                    try {\n                        Thread.sleep(1);\n                    } catch (InterruptedException ex) {\n\n                    }\n                    g.clearRect(0, 0, width, height);\n                    XonScreen = 0;\n                    for (int j = 0; j &lt; 48; j++) {\n                        lastX = XonScreen;\n                        lastY = Y;\n\n                        X += 0.005 * 10000;\n                        XonScreen += 0.005 * 10000;\n                        Y = Math.sin(X) * 120;\n\n                        g2.drawLine(0, height / 2, width, height / 2);\n                        g2.drawLine((int) XonScreen, ((int) Y + height / 2), (int) lastX, ((int) lastY + height / 2));\n                        g2.drawLine(0, 0, 0, height);\n                    }\n\n                } else {\n                    try {\n                        Thread.sleep(500);\n                    } catch (InterruptedException ex) {\n                        Logger.getLogger(Thread3.class.getName()).log(Level.SEVERE, null, ex);\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>In this case I just set the JPanel to public and instantiated the JFrame in a static way. So far it works correctly but when running it, the graph does not update, it only updates when there is an event running.\n<a href=\"https://gyazo.com/dc72d3c1a119b2ec93b442063f32c797\" rel=\"nofollow noreferrer\">https://gyazo.com/dc72d3c1a119b2ec93b442063f32c797</a></p>\n<p>I tried using frame.repaint(); but it just makes all the JPanel flick. I also tried using a timer with an ActionPerformed event:</p>\n<pre><code>    private Timer timer = new Timer(20, new ActionListener() {\n       @Override\n       public void actionPerformed(ActionEvent ae) {\n           repaint();\n       }\n    });\n</code></pre>\n<p>but it also didn't work (I'm not sure if I implemented it correctly; if you have any suggestions about this, please let me know.) .</p>\n<p>Do you know of any way that I can make the graphs update constantly and still manage the rest of the frame without any problems?</p>\n"},{"tags":["java","elasticsearch","request","apache-httpasyncclient"],"comments":[{"owner":{"account_id":12678426,"reputation":1029,"user_id":9213148,"display_name":"Pexers"},"score":0,"creation_date":1665834780,"post_id":74079189,"comment_id":130794165,"body_markdown":"Please provide a piece of code so that others can better understand your problem.","body":"Please provide a piece of code so that others can better understand your problem."},{"owner":{"account_id":25398964,"reputation":95,"user_id":19208792,"display_name":"Gourav Kumar"},"score":0,"creation_date":1665835933,"post_id":74079189,"comment_id":130794357,"body_markdown":"Is this better potrayed now?","body":"Is this better potrayed now?"}],"owner":{"account_id":25398964,"reputation":95,"user_id":19208792,"display_name":"Gourav Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665857626,"creation_date":1665834695,"question_id":74079189,"body_markdown":"I am unable to get request body from this `HttpAsyncRequestProducer` of `org.apache.http.nio.protocol`.\r\n\r\nI also want to read the request body multiple times. \r\n\r\n**My Usecase:**\r\n\r\nI am intercepting **execute** method of `InternalHttpAsyncClient` of `org.apache.http.impl.nio.client` (which has an argument called `HttpAsyncRequestProducer`) using Bytebuddy and trying to capture request and response and save it.\r\n\r\nSince ElasticSearch using High level rest-client is ultimately using this client&#39;s method only.\r\nSo, for this purpose I want to read the request body multiple times. \r\n\r\n```java\r\npublic &lt;T&gt; Future&lt;T&gt; execute(HttpAsyncRequestProducer requestProducer, HttpAsyncResponseConsumer&lt;T&gt; responseConsumer, HttpContext context, FutureCallback&lt;T&gt; callback) {\r\n        this.ensureRunning();\r\n        BasicFuture&lt;T&gt; future = new BasicFuture(callback);\r\n        HttpClientContext localcontext = HttpClientContext.adapt((HttpContext)(context != null ? context : new BasicHttpContext()));\r\n        this.setupContext(localcontext);\r\n        DefaultClientExchangeHandlerImpl&lt;T&gt; handler = new DefaultClientExchangeHandlerImpl(this.log, requestProducer, responseConsumer, localcontext, future, this.connmgr, this.connReuseStrategy, this.keepaliveStrategy, this.exec);\r\n\r\n        try {\r\n            handler.start();\r\n        } catch (Exception var9) {\r\n            handler.failed(var9);\r\n        }\r\n\r\n        return new FutureWrapper(future, handler);\r\n    }\r\n```\r\nAbove is the actual method i am intercepting with the below interceptor.\r\n\r\n```\r\n @RuntimeType\r\n    public static Future&lt;Object&gt; doProceed(@Origin Method method, @SuperCall Callable&lt;Future&lt;Object&gt;&gt; callable, @AllArguments Object[] args) throws Exception {\r\n        System.out.println(&quot;Inside ElasticSearchInterceptor&quot;);\r\n\r\n        System.out.println(&quot;ElasticSearchInterceptor: Method-&gt; &quot; + method);\r\n\r\n        int i = 0;\r\n        for (Object obj : args) {\r\n            System.out.println(&quot;Argument[&quot; + i + &quot;]: &quot; + obj);\r\n            i++;\r\n        }\r\n\r\n        HttpAsyncRequestProducer requestProducer = (HttpAsyncRequestProducer) args[0];\r\n\r\n   // how to read the request body?????\r\n\r\n\r\n        HttpRequest httpRequest = requestProducer.generateRequest();\r\n\r\n        System.out.println(&quot;ElasticSearchInterceptor: Request Headers-&gt; &quot; + Arrays.toString(httpRequest.getAllHeaders()));\r\n\r\n\r\n\r\n        System.out.println(&quot;ElasticSearchInterceptor: Before call&quot;);\r\n        Future&lt;Object&gt; call = callable.call();\r\n        HttpResponse res = (HttpResponse) call.get();\r\n        System.out.println(&quot;Response in elastic search &quot; + res);\r\n\r\n        System.out.println(&quot;ElasticSearchInterceptor: After call&quot;);\r\n\r\n        return call;\r\n    }\r\n\r\n```\r\n\r\nAny help would be appreciated.","title":"How to read request body from HttpAsyncRequestProducer?","body":"<p>I am unable to get request body from this <code>HttpAsyncRequestProducer</code> of <code>org.apache.http.nio.protocol</code>.</p>\n<p>I also want to read the request body multiple times.</p>\n<p><strong>My Usecase:</strong></p>\n<p>I am intercepting <strong>execute</strong> method of <code>InternalHttpAsyncClient</code> of <code>org.apache.http.impl.nio.client</code> (which has an argument called <code>HttpAsyncRequestProducer</code>) using Bytebuddy and trying to capture request and response and save it.</p>\n<p>Since ElasticSearch using High level rest-client is ultimately using this client's method only.\nSo, for this purpose I want to read the request body multiple times.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; Future&lt;T&gt; execute(HttpAsyncRequestProducer requestProducer, HttpAsyncResponseConsumer&lt;T&gt; responseConsumer, HttpContext context, FutureCallback&lt;T&gt; callback) {\n        this.ensureRunning();\n        BasicFuture&lt;T&gt; future = new BasicFuture(callback);\n        HttpClientContext localcontext = HttpClientContext.adapt((HttpContext)(context != null ? context : new BasicHttpContext()));\n        this.setupContext(localcontext);\n        DefaultClientExchangeHandlerImpl&lt;T&gt; handler = new DefaultClientExchangeHandlerImpl(this.log, requestProducer, responseConsumer, localcontext, future, this.connmgr, this.connReuseStrategy, this.keepaliveStrategy, this.exec);\n\n        try {\n            handler.start();\n        } catch (Exception var9) {\n            handler.failed(var9);\n        }\n\n        return new FutureWrapper(future, handler);\n    }\n</code></pre>\n<p>Above is the actual method i am intercepting with the below interceptor.</p>\n<pre><code> @RuntimeType\n    public static Future&lt;Object&gt; doProceed(@Origin Method method, @SuperCall Callable&lt;Future&lt;Object&gt;&gt; callable, @AllArguments Object[] args) throws Exception {\n        System.out.println(&quot;Inside ElasticSearchInterceptor&quot;);\n\n        System.out.println(&quot;ElasticSearchInterceptor: Method-&gt; &quot; + method);\n\n        int i = 0;\n        for (Object obj : args) {\n            System.out.println(&quot;Argument[&quot; + i + &quot;]: &quot; + obj);\n            i++;\n        }\n\n        HttpAsyncRequestProducer requestProducer = (HttpAsyncRequestProducer) args[0];\n\n   // how to read the request body?????\n\n\n        HttpRequest httpRequest = requestProducer.generateRequest();\n\n        System.out.println(&quot;ElasticSearchInterceptor: Request Headers-&gt; &quot; + Arrays.toString(httpRequest.getAllHeaders()));\n\n\n\n        System.out.println(&quot;ElasticSearchInterceptor: Before call&quot;);\n        Future&lt;Object&gt; call = callable.call();\n        HttpResponse res = (HttpResponse) call.get();\n        System.out.println(&quot;Response in elastic search &quot; + res);\n\n        System.out.println(&quot;ElasticSearchInterceptor: After call&quot;);\n\n        return call;\n    }\n\n</code></pre>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","function","methods","constructor"],"comments":[{"owner":{"account_id":1394594,"reputation":4069,"user_id":1324631,"accept_rate":73,"display_name":"AJMansfield"},"score":10,"creation_date":1384304079,"post_id":19941825,"comment_id":29680795,"body_markdown":"That is not a constructor. In fact, it doesn&#39;t even construct the class at all. A constructor would look like `public Program(){\\\\...`, and would be invoked `new Program()`.","body":"That is not a constructor. In fact, it doesn&#39;t even construct the class at all. A constructor would look like <code>public Program(){\\\\...</code>, and would be invoked <code>new Program()</code>."}],"answers":[{"comments":[{"owner":{"account_id":1962547,"reputation":3473,"user_id":1763652,"accept_rate":100,"display_name":"gator"},"score":0,"creation_date":1384297803,"post_id":19941847,"comment_id":29678729,"body_markdown":"The way that my professor has taught me is that a constructor is where you call other methods, something like a table of contents.","body":"The way that my professor has taught me is that a constructor is where you call other methods, something like a table of contents."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":13,"creation_date":1384297945,"post_id":19941847,"comment_id":29678790,"body_markdown":"Either you haven&#39;t understood him, or he doesn&#39;t understand what constructors are useful for either. Let&#39;s say your program is a card game: you would like 52 instances of a class named Card, each having a number and a color. A constructor is used to create an instance of the class Card. And you&#39;ll need to call it 52 times to have 52 cards: `new Card(1, &quot;hearts&quot;)`, etc. Now each instance of Player (you also need a constructor for that), can have a List (constructed using a constructor) of cards. Read an introductory Java book, or the official Java tutorial.","body":"Either you haven&#39;t understood him, or he doesn&#39;t understand what constructors are useful for either. Let&#39;s say your program is a card game: you would like 52 instances of a class named Card, each having a number and a color. A constructor is used to create an instance of the class Card. And you&#39;ll need to call it 52 times to have 52 cards: <code>new Card(1, &quot;hearts&quot;)</code>, etc. Now each instance of Player (you also need a constructor for that), can have a List (constructed using a constructor) of cards. Read an introductory Java book, or the official Java tutorial."},{"owner":{"account_id":1962547,"reputation":3473,"user_id":1763652,"accept_rate":100,"display_name":"gator"},"score":3,"creation_date":1384298762,"post_id":19941847,"comment_id":29679084,"body_markdown":"Cheers, this cleared up my confusion. It makes sense for setting default or initial parameters, but in everything we&#39;ve done so far, this wasn&#39;t needed. I guess we were being prepped for when it is required to maintain consistency.","body":"Cheers, this cleared up my confusion. It makes sense for setting default or initial parameters, but in everything we&#39;ve done so far, this wasn&#39;t needed. I guess we were being prepped for when it is required to maintain consistency."},{"owner":{"account_id":3380705,"reputation":2027,"user_id":2865114,"display_name":"LotusUNSW"},"score":2,"creation_date":1384298901,"post_id":19941847,"comment_id":29679134,"body_markdown":"Whoever downvoted me, care to explain why? From my answer, I&#39;m definitely not harming the OP&#39;s knowledge of constructors in any way. :/","body":"Whoever downvoted me, care to explain why? From my answer, I&#39;m definitely not harming the OP&#39;s knowledge of constructors in any way. :/"},{"owner":{"account_id":470330,"reputation":10950,"user_id":877472,"accept_rate":77,"display_name":"Paul Richter"},"score":2,"creation_date":1384302089,"post_id":19941847,"comment_id":29680184,"body_markdown":"@LotusUNSW I have a feeling there&#39;s a downvoter-troll around here. Your answer&#39;s great.","body":"@LotusUNSW I have a feeling there&#39;s a downvoter-troll around here. Your answer&#39;s great."},{"owner":{"account_id":1394594,"reputation":4069,"user_id":1324631,"accept_rate":73,"display_name":"AJMansfield"},"score":0,"creation_date":1384304299,"post_id":19941847,"comment_id":29680862,"body_markdown":"@riista actually, you should _not include_ a constructor whenever possible, so that subclasses can also chose to not include one. If you put a constructor in your class, you can&#39;t use a default constructor for a subclass; the subclass then has to make the constructor explicit.","body":"@riista actually, you should <i>not include</i> a constructor whenever possible, so that subclasses can also chose to not include one. If you put a constructor in your class, you can&#39;t use a default constructor for a subclass; the subclass then has to make the constructor explicit."},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":2,"creation_date":1440001051,"post_id":19941847,"comment_id":52095839,"body_markdown":"@AJMansfield - Not true. You can put additional constructors in a superclass and still use a default constructor in a subclass, as long as the superclass includes an explicit, accessible constructor with no arguments and no `throws` clause. A class can contain more than one constructor. The choice of constructors to provide can be based on what sets of parameters can be used to initialize an instance. Sometimes those parameters *must* be specified in a constructor, because they&#39;re invariant in the instance.","body":"@AJMansfield - Not true. You can put additional constructors in a superclass and still use a default constructor in a subclass, as long as the superclass includes an explicit, accessible constructor with no arguments and no <code>throws</code> clause. A class can contain more than one constructor. The choice of constructors to provide can be based on what sets of parameters can be used to initialize an instance. Sometimes those parameters <i>must</i> be specified in a constructor, because they&#39;re invariant in the instance."},{"owner":{"display_name":"user234736"},"score":0,"creation_date":1450624512,"post_id":19941847,"comment_id":56506195,"body_markdown":"As pointed by @Akira, the *purpose* of a constructor is to ensure that an object is not in an inconsistent state after creation. Stating that a constructor initialises variable doesn&#39;t make this extremely clear.","body":"As pointed by @Akira, the <i>purpose</i> of a constructor is to ensure that an object is not in an inconsistent state after creation. Stating that a constructor initialises variable doesn&#39;t make this extremely clear."}],"tags":[],"owner":{"account_id":3380705,"reputation":2027,"user_id":2865114,"display_name":"LotusUNSW"},"comment_count":8,"down_vote_count":1,"up_vote_count":51,"is_accepted":true,"score":50,"last_activity_date":1665857489,"creation_date":1384297682,"answer_id":19941847,"question_id":19941825,"body_markdown":"Constructors are used to initialize the instances of your classes. You use a constructor to create new objects often with parameters specifying the initial state or other important information about the object\r\n\r\n***From the [official Java tutorial][1]:***\r\n&gt;A *class contains constructors* that are invoked to create objects from the class blueprint. Constructor declarations look like method declarations—except that they use the name of the class and have no return type. For example, Bicycle has one constructor:\r\n&gt;\r\n&gt;     public Bicycle(int startCadence, int startSpeed, int startGear) {\r\n&gt;         gear = startGear;\r\n&gt;         cadence = startCadence;\r\n&gt;         speed = startSpeed;\r\n&gt;     }\r\n&gt;\r\n&gt;To create a new Bicycle object called `myBike`, a constructor is called by the new operator:\r\n&gt;\r\n&gt;     Bicycle myBike = new Bicycle(30, 0, 8);\r\n&gt;    \r\n&gt;`new Bicycle(30, 0, 8)` creates space in memory for the object and initializes its fields.\r\n&gt;\r\n&gt;Although Bicycle only has one constructor, it could have others, including a no-argument constructor:\r\n&gt;\r\n&gt;     public Bicycle() {\r\n&gt;        gear = 1;\r\n&gt;        cadence = 10;\r\n&gt;        speed = 0;\r\n&gt;     }\r\n&gt;\r\n&gt;`Bicycle yourBike = new Bicycle();` invokes the no-argument constructor to create a new Bicycle object called yourBike.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/constructors.html","title":"Purpose of a constructor in Java?","body":"<p>Constructors are used to initialize the instances of your classes. You use a constructor to create new objects often with parameters specifying the initial state or other important information about the object</p>\n<p><em><strong>From the <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/constructors.html\" rel=\"nofollow noreferrer\">official Java tutorial</a>:</strong></em></p>\n<blockquote>\n<p>A <em>class contains constructors</em> that are invoked to create objects from the class blueprint. Constructor declarations look like method declarations—except that they use the name of the class and have no return type. For example, Bicycle has one constructor:</p>\n<pre><code>public Bicycle(int startCadence, int startSpeed, int startGear) {\n    gear = startGear;\n    cadence = startCadence;\n    speed = startSpeed;\n}\n</code></pre>\n<p>To create a new Bicycle object called <code>myBike</code>, a constructor is called by the new operator:</p>\n<pre><code>Bicycle myBike = new Bicycle(30, 0, 8);\n</code></pre>\n<p><code>new Bicycle(30, 0, 8)</code> creates space in memory for the object and initializes its fields.</p>\n<p>Although Bicycle only has one constructor, it could have others, including a no-argument constructor:</p>\n<pre><code>public Bicycle() {\n   gear = 1;\n   cadence = 10;\n   speed = 0;\n}\n</code></pre>\n<p><code>Bicycle yourBike = new Bicycle();</code> invokes the no-argument constructor to create a new Bicycle object called yourBike.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1444876989,"post_id":19941890,"comment_id":54088967,"body_markdown":"Instance initializer scopes can throw exceptions, as long as all the constructors are declared to throw the same exceptions.","body":"Instance initializer scopes can throw exceptions, as long as all the constructors are declared to throw the same exceptions."}],"tags":[],"owner":{"account_id":1205496,"reputation":7798,"user_id":1175253,"display_name":"Sam"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1384298492,"creation_date":1384297861,"answer_id":19941890,"question_id":19941825,"body_markdown":" * Through a constructor (with parameters), you can &#39;ask&#39; the user of that class for required dependencies.\r\n * It is used to initialize instance variables\r\n * and to pass up arguments to the constructor of a super class (`super(...)`), which basically does the same\r\n * It can initialize (final) instance variables with code, that may throw Exceptions, as opposed to [instance initializer][1] scopes\r\n * One should **not** blindly call methods from within the constructor, because initialization may not be finished/sufficient in the local or a derived class.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/1355810/1175253","title":"Purpose of a constructor in Java?","body":"<ul>\n<li>Through a constructor (with parameters), you can 'ask' the user of that class for required dependencies.</li>\n<li>It is used to initialize instance variables</li>\n<li>and to pass up arguments to the constructor of a super class (<code>super(...)</code>), which basically does the same</li>\n<li>It can initialize (final) instance variables with code, that may throw Exceptions, as opposed to <a href=\"https://stackoverflow.com/q/1355810/1175253\">instance initializer</a> scopes</li>\n<li>One should <strong>not</strong> blindly call methods from within the constructor, because initialization may not be finished/sufficient in the local or a derived class.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":342027,"reputation":2802,"user_id":672958,"display_name":"andy.xyz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384298042,"creation_date":1384298042,"answer_id":19941929,"question_id":19941825,"body_markdown":"It&#39;s used to set up the contents and state of your class.\r\nWhilst it&#39;s true you can make the simpler example with the main method you only have 1 main method per app so it does not remain a sensible approach.\r\n\r\nConsider the main method to simply start your program and should know no more than how to do that. Also note that main() is static so cannot call functions that require a class instance and the state associated. The main method should call new Program().function() and the Program constructor should not call function() unless it is required for the setup of the class.","title":"Purpose of a constructor in Java?","body":"<p>It's used to set up the contents and state of your class.\nWhilst it's true you can make the simpler example with the main method you only have 1 main method per app so it does not remain a sensible approach.</p>\n\n<p>Consider the main method to simply start your program and should know no more than how to do that. Also note that main() is static so cannot call functions that require a class instance and the state associated. The main method should call new Program().function() and the Program constructor should not call function() unless it is required for the setup of the class.</p>\n"},{"comments":[{"owner":{"account_id":535282,"reputation":551,"user_id":1710669,"accept_rate":67,"display_name":"shiggity"},"score":1,"creation_date":1433184046,"post_id":19941943,"comment_id":49231453,"body_markdown":"In general, **Constructors (of non-final classes) should call only final or private methods.** http://stackoverflow.com/questions/4893558/calling-setters-from-a-constructor","body":"In general, <b>Constructors (of non-final classes) should call only final or private methods.</b> <a href=\"http://stackoverflow.com/questions/4893558/calling-setters-from-a-constructor\" title=\"calling setters from a constructor\">stackoverflow.com/questions/4893558/&hellip;</a>"},{"owner":{"account_id":1396438,"reputation":2068,"user_id":1326106,"display_name":"Arthur Zennig"},"score":5,"creation_date":1462470215,"post_id":19941943,"comment_id":61660771,"body_markdown":"+1 for the pragmatic answer. This answer satisfied not only the definition, but also my WHY inquire. &quot;To be born valid&quot; was the small piece of &quot;usefulness&quot; that i was missing to inteprid the necessity to use constructors.","body":"+1 for the pragmatic answer. This answer satisfied not only the definition, but also my WHY inquire. &quot;To be born valid&quot; was the small piece of &quot;usefulness&quot; that i was missing to inteprid the necessity to use constructors."},{"owner":{"account_id":10576085,"reputation":415,"user_id":7791368,"accept_rate":100,"display_name":"someguy76"},"score":0,"creation_date":1518447695,"post_id":19941943,"comment_id":84498780,"body_markdown":"I know this is extremely old, but is this a good way of thinking about &quot;why&quot;. Lets say you make a contact list application. You hold addresses of 100 contacts, and a constructor to hold &quot;valid&quot; phone numbers. Every member is being initialised with a valid phone number?","body":"I know this is extremely old, but is this a good way of thinking about &quot;why&quot;. Lets say you make a contact list application. You hold addresses of 100 contacts, and a constructor to hold &quot;valid&quot; phone numbers. Every member is being initialised with a valid phone number?"},{"owner":{"account_id":3413408,"reputation":4021,"user_id":2862892,"accept_rate":75,"display_name":"Akira"},"score":1,"creation_date":1518567923,"post_id":19941943,"comment_id":84557279,"body_markdown":"Correct. If you represent phone numbers as classes or a field of an address class, you may want to validate a phone number before you create an object that holds such information. Think of objects as things that will not be necessarily under your strict control after its creation. Your object may, for instance, end up being used by code that you did not write. So your objects should mean something. A constructor is a way to say that no object is allowed to exist in a way that violates its semantics.","body":"Correct. If you represent phone numbers as classes or a field of an address class, you may want to validate a phone number before you create an object that holds such information. Think of objects as things that will not be necessarily under your strict control after its creation. Your object may, for instance, end up being used by code that you did not write. So your objects should mean something. A constructor is a way to say that no object is allowed to exist in a way that violates its semantics."}],"tags":[],"owner":{"account_id":3413408,"reputation":4021,"user_id":2862892,"accept_rate":75,"display_name":"Akira"},"comment_count":4,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1384304657,"creation_date":1384298107,"answer_id":19941943,"question_id":19941825,"body_markdown":"A constructor is basically a method that you can use to **ensure that objects of your class are born valid**. This is the main motivation for a constructor.\r\n\r\nLet&#39;s say you want your class has a single integer field that should be always larger than zero. How do you do that in a way that is reliable?\r\n\r\n    public class C {\r\n         private int number;\r\n         \r\n         public C(int number) {\r\n            setNumber(number);\r\n         }\r\n         \r\n         public void setNumber(int number) {\r\n            if (number &lt; 1) {\r\n                throws IllegalArgumentException(&quot;C cannot store anything smaller than 1&quot;);\r\n            }\r\n            this.number = number;\r\n         }\r\n    }\r\n\r\n\r\nIn the code above, it may look like you are doing something redundant, but in fact you are ensuring that the number is always valid no matter what.\r\n\r\n&quot;initialize the instances of a class&quot; is **what** a constructor does, but not the reason **why** we have constructors. The question is about the purpose of a constructor. You can also initialize instances of a class externally, using `c.setNumber(10)` in the example above. So a constructor is not the only way to initialize instances.\r\n\r\nThe constructor does that but in a way that is **safe**. In other words, a class alone solves the whole problem of ensuring their objects are always in valid states. Not using a constructor will leave such validation to the outside world, which is bad design.\r\n\r\nHere is another example:\r\n\r\n    public class Interval {\r\n    \tprivate long start;\r\n    \tprivate long end;\r\n    \t\r\n    \tpublic Interval(long start, long end) {\r\n    \t\tchangeInterval(start, end);\r\n    \t}\r\n    \t\r\n    \tpublic void changeInterval(long start, long end) {\r\n    \t\tif (start &gt;= end) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Invalid interval.&quot;);\r\n    \t\t}\r\n    \t\tthis.start = start;\r\n    \t\tthis.end = end;\r\n    \t}\r\n    \tpublic long duration() {\r\n    \t\treturn end - start;\r\n    \t}\r\n    }\r\n\r\nThe Interval class represents a time interval. Time is stored using long. It does not make any sense to have an interval that ends before it starts. By using a constructor like the one above it is impossible to have an instance of Interval at any given moment anywhere in the system that stores an interval that does not make sense.\r\n","title":"Purpose of a constructor in Java?","body":"<p>A constructor is basically a method that you can use to <strong>ensure that objects of your class are born valid</strong>. This is the main motivation for a constructor.</p>\n\n<p>Let's say you want your class has a single integer field that should be always larger than zero. How do you do that in a way that is reliable?</p>\n\n<pre><code>public class C {\n     private int number;\n\n     public C(int number) {\n        setNumber(number);\n     }\n\n     public void setNumber(int number) {\n        if (number &lt; 1) {\n            throws IllegalArgumentException(\"C cannot store anything smaller than 1\");\n        }\n        this.number = number;\n     }\n}\n</code></pre>\n\n<p>In the code above, it may look like you are doing something redundant, but in fact you are ensuring that the number is always valid no matter what.</p>\n\n<p>\"initialize the instances of a class\" is <strong>what</strong> a constructor does, but not the reason <strong>why</strong> we have constructors. The question is about the purpose of a constructor. You can also initialize instances of a class externally, using <code>c.setNumber(10)</code> in the example above. So a constructor is not the only way to initialize instances.</p>\n\n<p>The constructor does that but in a way that is <strong>safe</strong>. In other words, a class alone solves the whole problem of ensuring their objects are always in valid states. Not using a constructor will leave such validation to the outside world, which is bad design.</p>\n\n<p>Here is another example:</p>\n\n<pre><code>public class Interval {\n    private long start;\n    private long end;\n\n    public Interval(long start, long end) {\n        changeInterval(start, end);\n    }\n\n    public void changeInterval(long start, long end) {\n        if (start &gt;= end) {\n            throw new IllegalArgumentException(\"Invalid interval.\");\n        }\n        this.start = start;\n        this.end = end;\n    }\n    public long duration() {\n        return end - start;\n    }\n}\n</code></pre>\n\n<p>The Interval class represents a time interval. Time is stored using long. It does not make any sense to have an interval that ends before it starts. By using a constructor like the one above it is impossible to have an instance of Interval at any given moment anywhere in the system that stores an interval that does not make sense.</p>\n"},{"tags":[],"owner":{"account_id":3132675,"reputation":1916,"user_id":2649963,"accept_rate":75,"display_name":"Prateek"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1384298422,"creation_date":1384298422,"answer_id":19942020,"question_id":19941825,"body_markdown":"As mentioned in LotusUNSW answer **Constructors are used to initialize the instances of a class.** \r\n\r\nExample:\r\n\r\nSay you have an `Animal` class something like\r\n\r\n    class Animal{\r\n       private String name;\r\n       private String type;\r\n    }\r\n\r\nLets see what happens when you try to create an instance of Animal class, say a `Dog` named `Puppy`. Now you have have to initialize `name = Puppy` and `type = Dog`. So, how can you do that. A way of doing it is having a constructor like\r\n\r\n        Animal(String nameProvided, String typeProvided){\r\n             this.name = nameProvided;\r\n             this.type = typeProvided;\r\n         }\r\n\r\nNow when you create an object of class `Animal`, something like `Animal dog = new Animal(&quot;Puppy&quot;, &quot;Dog&quot;);` your constructor is called and initializes name and type to the values you provided i.e. Puppy and Dog respectively.\r\n\r\nNow you might ask what if I didn&#39;t provide an argument to my constructor something like \r\n\r\n    Animal xyz = new Animal();\r\n\r\nThis is a `default Constructor` which initializes the object with default values i.e. in our `Animal` class `name` and `type` values corresponding to `xyz` object would be `name = null` and `type = null`","title":"Purpose of a constructor in Java?","body":"<p>As mentioned in LotusUNSW answer <strong>Constructors are used to initialize the instances of a class.</strong> </p>\n\n<p>Example:</p>\n\n<p>Say you have an <code>Animal</code> class something like</p>\n\n<pre><code>class Animal{\n   private String name;\n   private String type;\n}\n</code></pre>\n\n<p>Lets see what happens when you try to create an instance of Animal class, say a <code>Dog</code> named <code>Puppy</code>. Now you have have to initialize <code>name = Puppy</code> and <code>type = Dog</code>. So, how can you do that. A way of doing it is having a constructor like</p>\n\n<pre><code>    Animal(String nameProvided, String typeProvided){\n         this.name = nameProvided;\n         this.type = typeProvided;\n     }\n</code></pre>\n\n<p>Now when you create an object of class <code>Animal</code>, something like <code>Animal dog = new Animal(\"Puppy\", \"Dog\");</code> your constructor is called and initializes name and type to the values you provided i.e. Puppy and Dog respectively.</p>\n\n<p>Now you might ask what if I didn't provide an argument to my constructor something like </p>\n\n<pre><code>Animal xyz = new Animal();\n</code></pre>\n\n<p>This is a <code>default Constructor</code> which initializes the object with default values i.e. in our <code>Animal</code> class <code>name</code> and <code>type</code> values corresponding to <code>xyz</code> object would be <code>name = null</code> and <code>type = null</code></p>\n"},{"tags":[],"owner":{"account_id":1423067,"reputation":30040,"user_id":1347281,"accept_rate":86,"display_name":"Vidya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384298505,"creation_date":1384298505,"answer_id":19942038,"question_id":19941825,"body_markdown":"The class definition defines the API for your class. In other words, it is a blueprint that defines the contract that exists between the class and its clients--all the other code that uses this class. The contract indicates which methods are available, how to call them, and what to expect in return.\r\n\r\nBut the class definition is a spec. Until you have an actual object of this class, the contract is just &quot;a piece of paper.&quot; This is where the constructor comes in.\r\n\r\nA constructor is the means of creating an instance of your class by creating an object in memory and returning a reference to it. Something that *should* happen in the constructor is that the object is in a proper initial state for the subsequent operations on the object to make sense. \r\n\r\nThis object returned from the constructor will now honor the contract specified in the class definition, and you can use this object to do real work.\r\n\r\nThink of it this way. If you ever look at the Porsche website, you will see what it can do--the horsepower, the torque, etc. But it isn&#39;t fun until you have an actual Porsche to drive.\r\n\r\nHope that helps.","title":"Purpose of a constructor in Java?","body":"<p>The class definition defines the API for your class. In other words, it is a blueprint that defines the contract that exists between the class and its clients--all the other code that uses this class. The contract indicates which methods are available, how to call them, and what to expect in return.</p>\n\n<p>But the class definition is a spec. Until you have an actual object of this class, the contract is just \"a piece of paper.\" This is where the constructor comes in.</p>\n\n<p>A constructor is the means of creating an instance of your class by creating an object in memory and returning a reference to it. Something that <em>should</em> happen in the constructor is that the object is in a proper initial state for the subsequent operations on the object to make sense. </p>\n\n<p>This object returned from the constructor will now honor the contract specified in the class definition, and you can use this object to do real work.</p>\n\n<p>Think of it this way. If you ever look at the Porsche website, you will see what it can do--the horsepower, the torque, etc. But it isn't fun until you have an actual Porsche to drive.</p>\n\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":951727,"reputation":1584,"user_id":3432786,"accept_rate":88,"display_name":"Praveen Srinivasan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424765016,"creation_date":1424765016,"answer_id":28690766,"question_id":19941825,"body_markdown":"Constructor is basicaly used for initialising the variables at the time of creation of object","title":"Purpose of a constructor in Java?","body":"<p>Constructor is basicaly used for initialising the variables at the time of creation of object</p>\n"},{"comments":[{"owner":{"account_id":3239634,"reputation":20214,"user_id":2732991,"accept_rate":80,"display_name":"Halvor Holsten Strand"},"score":2,"creation_date":1427029497,"post_id":29194512,"comment_id":46602461,"body_markdown":"There are some serious formatting issues in this post. Please edit to use code blocks.","body":"There are some serious formatting issues in this post. Please edit to use code blocks."}],"tags":[],"owner":{"account_id":5936832,"reputation":804,"user_id":4669533,"accept_rate":0,"display_name":"Naresh Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1444876390,"creation_date":1427028260,"answer_id":29194512,"question_id":19941825,"body_markdown":"A Java constructor has the same name as the name of the class to   which it belongs.\r\n\r\nConstructor’s syntax does not include a return type, since constructors never return a value. \r\n\r\nConstructor is always called when object is created. **example:- Default constructor**\r\n\r\n\r\n    class Student3{  \r\n        int id;  \r\n        String name;  \r\n        void display(){System.out.println(id+&quot; &quot;+name);}  \r\n        public static void main(String args[]){  \r\n            Student3 s1=new Student3();  \r\n            Student3 s2=new Student3();  \r\n            s1.display();  \r\n            s2.display();  \r\n        }  \r\n    } \r\n\r\nOutput:\r\n\r\n    0 null\r\n    0 null\r\n\r\nExplanation:\r\nIn the above class,you are not creating any constructor so compiler provides you a default constructor.Here 0 and null values are provided by default constructor.\r\n\r\n**Example of parameterized constructor**\r\n\r\nIn this example, we have created the constructor of Student class that have two parameters. We can have any number of parameters in the constructor.\r\n\r\n    class Student4{  \r\n        int id;  \r\n        String name;  \r\n        Student4(int i,String n){  \r\n            id = i;  \r\n            name = n;  \r\n        }  \r\n        void display(){System.out.println(id+&quot; &quot;+name);}  \r\n        public static void main(String args[]){  \r\n            Student4 s1 = new Student4(111,&quot;Karan&quot;);  \r\n            Student4 s2 = new Student4(222,&quot;Aryan&quot;);  \r\n            s1.display();  \r\n            s2.display();  \r\n        }  \r\n    }  \r\n\r\nOutput:\r\n\r\n    111 Karan\r\n    222 Aryan\r\n","title":"Purpose of a constructor in Java?","body":"<p>A Java constructor has the same name as the name of the class to   which it belongs.</p>\n\n<p>Constructor’s syntax does not include a return type, since constructors never return a value. </p>\n\n<p>Constructor is always called when object is created. <strong>example:- Default constructor</strong></p>\n\n<pre><code>class Student3{  \n    int id;  \n    String name;  \n    void display(){System.out.println(id+\" \"+name);}  \n    public static void main(String args[]){  \n        Student3 s1=new Student3();  \n        Student3 s2=new Student3();  \n        s1.display();  \n        s2.display();  \n    }  \n} \n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0 null\n0 null\n</code></pre>\n\n<p>Explanation:\nIn the above class,you are not creating any constructor so compiler provides you a default constructor.Here 0 and null values are provided by default constructor.</p>\n\n<p><strong>Example of parameterized constructor</strong></p>\n\n<p>In this example, we have created the constructor of Student class that have two parameters. We can have any number of parameters in the constructor.</p>\n\n<pre><code>class Student4{  \n    int id;  \n    String name;  \n    Student4(int i,String n){  \n        id = i;  \n        name = n;  \n    }  \n    void display(){System.out.println(id+\" \"+name);}  \n    public static void main(String args[]){  \n        Student4 s1 = new Student4(111,\"Karan\");  \n        Student4 s2 = new Student4(222,\"Aryan\");  \n        s1.display();  \n        s2.display();  \n    }  \n}  \n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>111 Karan\n222 Aryan\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7226413,"reputation":73,"user_id":5514812,"display_name":"Ashish Thapa"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1452088005,"creation_date":1452088005,"answer_id":34634685,"question_id":19941825,"body_markdown":"A constructor initializes an object when it is created . It has the same name as its class and is syntactically similar to a method , but constructor have no expicit return type.**Typically , we use constructor to give initial value to the instance variables defined by the class , or to perform any other startup procedures required to make a fully formed object.**\r\n\r\nHere is an example of constructor:\r\n\r\n    class queen(){\r\n       int beauty;\r\n       \r\n       queen(){ \r\n         beauty = 98;\r\n       }\r\n     }\r\n   \r\n   \r\n    class constructor demo{\r\n        public static void main(String[] args){\r\n           queen arth = new queen();\r\n           queen y = new queen();\r\n      \r\n           System.out.println(arth.beauty+&quot; &quot;+y.beauty);\r\n      \r\n        }\r\n    } \r\n\r\noutput is:\r\n   \r\n    98 98\r\n\r\nHere the construcor is :\r\n\r\n    queen(){\r\n    beauty =98;\r\n    }\r\n\r\n\r\nNow the turn of parameterized constructor.\r\n\r\n      class queen(){\r\n       int beauty;\r\n       \r\n       queen(int x){ \r\n         beauty = x;\r\n       }\r\n     }\r\n   \r\n   \r\n    class constructor demo{\r\n        public static void main(String[] args){\r\n           queen arth = new queen(100);\r\n           queen y = new queen(98);\r\n      \r\n           System.out.println(arth.beauty+&quot; &quot;+y.beauty);\r\n      \r\n        }\r\n    } \r\n\r\n   \r\noutput is:\r\n  \r\n    100 98\r\n   \r\n\r\n\r\n\r\n\r\n\r\n","title":"Purpose of a constructor in Java?","body":"<p>A constructor initializes an object when it is created . It has the same name as its class and is syntactically similar to a method , but constructor have no expicit return type.<strong>Typically , we use constructor to give initial value to the instance variables defined by the class , or to perform any other startup procedures required to make a fully formed object.</strong></p>\n\n<p>Here is an example of constructor:</p>\n\n<pre><code>class queen(){\n   int beauty;\n\n   queen(){ \n     beauty = 98;\n   }\n }\n\n\nclass constructor demo{\n    public static void main(String[] args){\n       queen arth = new queen();\n       queen y = new queen();\n\n       System.out.println(arth.beauty+\" \"+y.beauty);\n\n    }\n} \n</code></pre>\n\n<p>output is:</p>\n\n<pre><code>98 98\n</code></pre>\n\n<p>Here the construcor is :</p>\n\n<pre><code>queen(){\nbeauty =98;\n}\n</code></pre>\n\n<p>Now the turn of parameterized constructor.</p>\n\n<pre><code>  class queen(){\n   int beauty;\n\n   queen(int x){ \n     beauty = x;\n   }\n }\n\n\nclass constructor demo{\n    public static void main(String[] args){\n       queen arth = new queen(100);\n       queen y = new queen(98);\n\n       System.out.println(arth.beauty+\" \"+y.beauty);\n\n    }\n} \n</code></pre>\n\n<p>output is:</p>\n\n<pre><code>100 98\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4626964,"reputation":3650,"user_id":3750500,"accept_rate":80,"display_name":"adao7000"},"score":0,"creation_date":1469657750,"post_id":38623899,"comment_id":64633797,"body_markdown":"This doesn&#39;t answer the question","body":"This doesn&#39;t answer the question"}],"tags":[],"owner":{"account_id":8904677,"reputation":11,"user_id":6646964,"display_name":"user6646964"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469656751,"creation_date":1469656751,"answer_id":38623899,"question_id":19941825,"body_markdown":"I thought a constructor might work like a database in which only it defines variables and methods to control them\r\n\r\nThen I saw objects that use variables and methods not defined in its constructor.  So the discussion that makes the most sense to me is the one that tests variables values for validity, but the class can create variables and methods that are not defined in the constructor - less like a database and more like an over pressure valve on a steam locomotive.  It doesn&#39;t control the wheels,etc.\r\n\r\nFar less of a definition than I thought.","title":"Purpose of a constructor in Java?","body":"<p>I thought a constructor might work like a database in which only it defines variables and methods to control them</p>\n\n<p>Then I saw objects that use variables and methods not defined in its constructor.  So the discussion that makes the most sense to me is the one that tests variables values for validity, but the class can create variables and methods that are not defined in the constructor - less like a database and more like an over pressure valve on a steam locomotive.  It doesn't control the wheels,etc.</p>\n\n<p>Far less of a definition than I thought.</p>\n"},{"tags":[],"owner":{"account_id":3128719,"reputation":560,"user_id":2647080,"accept_rate":45,"display_name":"rinjan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512982758,"creation_date":1506568884,"answer_id":46460448,"question_id":19941825,"body_markdown":"Constructor will be helpful to prevent instances getting unreal values. For an example set a Person class with height , weight. There can&#39;t be a Person with 0m and 0kg","title":"Purpose of a constructor in Java?","body":"<p>Constructor will be helpful to prevent instances getting unreal values. For an example set a Person class with height , weight. There can't be a Person with 0m and 0kg</p>\n"},{"comments":[{"owner":{"account_id":4116899,"reputation":3660,"user_id":3378245,"accept_rate":55,"display_name":"Arun"},"score":1,"creation_date":1514525073,"post_id":48017699,"comment_id":83004617,"body_markdown":"Please check https://meta.stackexchange.com/questions/22186/how-do-i-format-my-code-blocks to get an idea about formatting in stackoverflow.","body":"Please check <a href=\"https://meta.stackexchange.com/questions/22186/how-do-i-format-my-code-blocks\" title=\"how do i format my code blocks\">meta.stackexchange.com/questions/22186/&hellip;</a> to get an idea about formatting in stackoverflow."}],"tags":[],"owner":{"account_id":12581201,"reputation":1,"user_id":9151823,"display_name":"user9151823"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514525344,"creation_date":1514524372,"answer_id":48017699,"question_id":19941825,"body_markdown":"Let us consider we are storing the student details of 3 students. These 3 students are having different values for sno, sname and sage, but all 3 students belongs to same department CSE. So it is better to  initialize &quot;dept&quot; variable inside a constructor so that this value can be taken by all the 3 student objects.\r\n\r\nTo understand clearly, see the below simple example:\r\n    \r\n    class Student\r\n\t{\r\n\t\tint sno,sage;\r\n\t\tString sname,dept;\r\n\t\tStudent()\r\n\t\t{\r\n\t\t\tdept=&quot;CSE&quot;;\r\n\t\t}\r\n\t\tpublic static void main(String a[])\r\n\t\t{\r\n\t\t\tStudent s1=new Student();\r\n\t\t\ts1.sno=101;\r\n\t\t\ts1.sage=33;\r\n\t\t\ts1.sname=&quot;John&quot;;\r\n\r\n\t\t\tStudent s2=new Student();\r\n\t\t\ts2.sno=102;\r\n\t\t\ts2.sage=99;\r\n\t\t\ts2.sname=&quot;Peter&quot;;\r\n\r\n\r\n\t\t\tStudent s3=new Student();\r\n\t\t\ts3.sno=102;\r\n\t\t\ts3.sage=99;\r\n\t\t\ts3.sname=&quot;Peter&quot;;\r\n\t\t\tSystem.out.println(&quot;The details of student1 are&quot;);\r\n\t\t\tSystem.out.println(&quot;The student no is:&quot;+s1.sno);\r\n\t\t\tSystem.out.println(&quot;The student age is:&quot;+s1.sage);\r\n\t\t\tSystem.out.println(&quot;The student name is:&quot;+s1.sname);\r\n\t\t\tSystem.out.println(&quot;The student dept is:&quot;+s1.dept);\r\n\r\n\r\n\t\t\tSystem.out.println(&quot;The details of student2 are&quot;);`enter code here`\r\n\t\t\tSystem.out.println(&quot;The student no is:&quot;+s2.sno);\r\n\t\t\tSystem.out.println(&quot;The student age is:&quot;+s2.sage);\r\n\t\t\tSystem.out.println(&quot;The student name is:&quot;+s2.sname);\r\n\t\t\tSystem.out.println(&quot;The student dept is:&quot;+s2.dept);\r\n\r\n\t\t\tSystem.out.println(&quot;The details of student2 are&quot;);\r\n\t\t\tSystem.out.println(&quot;The student no is:&quot;+s3.sno);\r\n\t\t\tSystem.out.println(&quot;The student age is:&quot;+s3.sage);\r\n\t\t\tSystem.out.println(&quot;The student name is:&quot;+s3.sname);\r\n\t\t\tSystem.out.println(&quot;The student dept is:&quot;+s3.dept);\r\n\t\t}\r\n\t}\r\n\r\nOutput:\r\n\r\n&gt;The details of student1 are  \r\nThe student no is:101  \r\nThe student age is:33  \r\nThe student name is:John  \r\nThe student dept is:CSE  \r\nThe details of student2 are  \r\nThe student no is:102  \r\nThe student age is:99  \r\nThe student name is:Peter  \r\nThe student dept is:CSE  \r\nThe details of student2 are  \r\nThe student no is:102  \r\nThe student age is:99  \r\nThe student name is:Peter  \r\nThe student dept is:CSE  ","title":"Purpose of a constructor in Java?","body":"<p>Let us consider we are storing the student details of 3 students. These 3 students are having different values for sno, sname and sage, but all 3 students belongs to same department CSE. So it is better to  initialize \"dept\" variable inside a constructor so that this value can be taken by all the 3 student objects.</p>\n\n<p>To understand clearly, see the below simple example:</p>\n\n<pre><code>class Student\n{\n    int sno,sage;\n    String sname,dept;\n    Student()\n    {\n        dept=\"CSE\";\n    }\n    public static void main(String a[])\n    {\n        Student s1=new Student();\n        s1.sno=101;\n        s1.sage=33;\n        s1.sname=\"John\";\n\n        Student s2=new Student();\n        s2.sno=102;\n        s2.sage=99;\n        s2.sname=\"Peter\";\n\n\n        Student s3=new Student();\n        s3.sno=102;\n        s3.sage=99;\n        s3.sname=\"Peter\";\n        System.out.println(\"The details of student1 are\");\n        System.out.println(\"The student no is:\"+s1.sno);\n        System.out.println(\"The student age is:\"+s1.sage);\n        System.out.println(\"The student name is:\"+s1.sname);\n        System.out.println(\"The student dept is:\"+s1.dept);\n\n\n        System.out.println(\"The details of student2 are\");`enter code here`\n        System.out.println(\"The student no is:\"+s2.sno);\n        System.out.println(\"The student age is:\"+s2.sage);\n        System.out.println(\"The student name is:\"+s2.sname);\n        System.out.println(\"The student dept is:\"+s2.dept);\n\n        System.out.println(\"The details of student2 are\");\n        System.out.println(\"The student no is:\"+s3.sno);\n        System.out.println(\"The student age is:\"+s3.sage);\n        System.out.println(\"The student name is:\"+s3.sname);\n        System.out.println(\"The student dept is:\"+s3.dept);\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>The details of student1 are<br>\n  The student no is:101<br>\n  The student age is:33<br>\n  The student name is:John<br>\n  The student dept is:CSE<br>\n  The details of student2 are<br>\n  The student no is:102<br>\n  The student age is:99<br>\n  The student name is:Peter<br>\n  The student dept is:CSE<br>\n  The details of student2 are<br>\n  The student no is:102<br>\n  The student age is:99<br>\n  The student name is:Peter<br>\n  The student dept is:CSE  </p>\n</blockquote>\n"}],"owner":{"account_id":1962547,"reputation":3473,"user_id":1763652,"accept_rate":100,"display_name":"gator"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110408,"favorite_count":0,"down_vote_count":5,"up_vote_count":28,"accepted_answer_id":19941847,"answer_count":12,"score":23,"last_activity_date":1665857489,"creation_date":1384297583,"question_id":19941825,"body_markdown":"What is the purpose of a constructor? I&#39;ve been learning Java in school and it seems to me like a constructor is largely redundant in things we&#39;ve done thus far. It remains to be seen if a purpose comes about, but so far it seems meaningless to me. For example, what is the difference between the following two snippets of code?\r\n\r\n    public class Program {    \r\n        public constructor () {\r\n            function();\r\n        }        \r\n        private void function () {\r\n            //do stuff\r\n        }    \r\n        public static void main(String[] args) { \r\n            constructor a = new constructor(); \r\n        }\r\n    }\r\n\r\nThis is how we were taught do to things for assignments, but wouldn&#39;t the below do the same deal?\r\n\r\n    public class Program {    \r\n        public static void main(String[] args) {\r\n            function();\r\n        }        \r\n        private void function() {\r\n            //do stuff\r\n        }\r\n    }\r\n\r\nThe purpose of a constructor escapes me, but then again everything we&#39;ve done thus far has been extremely rudimentary.","title":"Purpose of a constructor in Java?","body":"<p>What is the purpose of a constructor? I've been learning Java in school and it seems to me like a constructor is largely redundant in things we've done thus far. It remains to be seen if a purpose comes about, but so far it seems meaningless to me. For example, what is the difference between the following two snippets of code?</p>\n\n<pre><code>public class Program {    \n    public constructor () {\n        function();\n    }        \n    private void function () {\n        //do stuff\n    }    \n    public static void main(String[] args) { \n        constructor a = new constructor(); \n    }\n}\n</code></pre>\n\n<p>This is how we were taught do to things for assignments, but wouldn't the below do the same deal?</p>\n\n<pre><code>public class Program {    \n    public static void main(String[] args) {\n        function();\n    }        \n    private void function() {\n        //do stuff\n    }\n}\n</code></pre>\n\n<p>The purpose of a constructor escapes me, but then again everything we've done thus far has been extremely rudimentary.</p>\n"},{"tags":["java","encryption","aes"],"comments":[{"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"score":0,"creation_date":1649907732,"post_id":71865785,"comment_id":126995490,"body_markdown":"Have you tried with: &quot;AES/CBC/PKCS5Padding&quot; ?","body":"Have you tried with: &quot;AES/CBC/PKCS5Padding&quot; ?"},{"owner":{"account_id":22397368,"reputation":25,"user_id":16608427,"display_name":"Juan Christopher Bazaldua Rami"},"score":0,"creation_date":1649908963,"post_id":71865785,"comment_id":126995653,"body_markdown":"yes, I tried and I get &quot;javax.crypto.BadPaddingException&quot;","body":"yes, I tried and I get &quot;javax.crypto.BadPaddingException&quot;"}],"answers":[{"comments":[{"owner":{"account_id":22397368,"reputation":25,"user_id":16608427,"display_name":"Juan Christopher Bazaldua Rami"},"score":0,"creation_date":1649920089,"post_id":71867107,"comment_id":126997925,"body_markdown":"I will try and I tell you the results, thanks for your answer","body":"I will try and I tell you the results, thanks for your answer"}],"tags":[],"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1649916021,"creation_date":1649916021,"answer_id":71867107,"question_id":71865785,"body_markdown":"TLDR: **it&#39;s mostly the IV**\r\n\r\nFor encryption modes like CBC that use an IV (initialization vector, or sometimes nonce) decryption must use the same IV (_and_ key) as encryption did. In addition, a block mode like CBC generally requires padding and unpadding the data, and OpenSSL as used by PHP does so using the &#39;standard&#39; PKCS5/7 padding which Java also supports but must select.\r\n```\r\n$ cat 71865785.php\r\n&lt;?php\r\n  $data = &quot;some test data&quot;;\r\n  $cipher = &quot;aes-256-cbc&quot;;\r\n  $key = &quot;reallyrealsekritreallyrealsekrit&quot;; // for test only, real key should not be human-chosen\r\n  $iv = openssl_random_pseudo_bytes(openssl_cipher_iv_length($cipher));\r\n  echo base64_encode($iv).&quot;\\n&quot;.openssl_encrypt($data,$cipher,$key,0,$iv).&quot;\\n&quot;;\r\n?&gt;\r\n$ php 71865785.php\r\nLGQXy7XF8DHBilN4Kb8Xrg==\r\nDWI/F97O5e/NGD2czp2OUA==\r\n$ cat SO71865785.java\r\n//nopackage\r\nimport java.util.Base64;\r\nimport javax.crypto.*;\r\nimport javax.crypto.spec.*;\r\n\r\npublic class SO71865785 /* decrypt from PHP */ {\r\n  public static void main (String[] args) throws Exception {\r\n    byte[] key = &quot;reallyrealsekritreallyrealsekrit&quot;.getBytes(&quot;ASCII&quot;); // for test only\r\n    byte[] iv = Base64.getDecoder().decode(&quot;LGQXy7XF8DHBilN4Kb8Xrg==&quot;);\r\n    byte[] ctext = Base64.getDecoder().decode(&quot;DWI/F97O5e/NGD2czp2OUA==&quot;);\r\n\r\n    Cipher ciph = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n    ciph.init (Cipher.DECRYPT_MODE, new SecretKeySpec(key,&quot;AES&quot;), new IvParameterSpec(iv));\r\n    byte[] plain = ciph.doFinal(ctext);\r\n    System.out.println (&quot;len=&quot;+plain.length+&quot;:&quot;+new String(plain,&quot;ASCII&quot;));\r\n    // if non-ASCII chars are present must use encoding to match encrypting system which is not known\r\n  }\r\n}\r\n$ javac SO71865785.java\r\n$ java -cp . SO71865785\r\nlen=14:some test data\r\n```\r\n\r\nFor a real application of course you wouldn&#39;t use hardcoded data (and usually shouldn&#39;t hardcode key either) and the method of passing the data produced by the PHP app to the Java app varies (a lot!). One not-uncommon way is to concatenate the IV and ciphertext (and preferably a MAC or auth tag as well) for transmission and/or storage and then separate them with code like the two `Arrays.copyOfRange` you have in comments, but for this demo I simply base64-ed each piece (openssl_encrypt already does base64 by default).\r\n\r\nNote for AES-256 the key must be exactly 32 bytes (and should be arbitrary bytes, not characters recognizable to a human). In PHP/OpenSSL if you provide less than required it silently pads with zero bytes (aka NUL), but Java does not; if you have a too-short `byte[]` in Java you can conveniently zero-pad it with e.g. `Arrays.copyOf(poorkey,32)`. ","title":"AES 256 encrypt and Decrypt in Java","body":"<p>TLDR: <strong>it's mostly the IV</strong></p>\n<p>For encryption modes like CBC that use an IV (initialization vector, or sometimes nonce) decryption must use the same IV (<em>and</em> key) as encryption did. In addition, a block mode like CBC generally requires padding and unpadding the data, and OpenSSL as used by PHP does so using the 'standard' PKCS5/7 padding which Java also supports but must select.</p>\n<pre><code>$ cat 71865785.php\n&lt;?php\n  $data = &quot;some test data&quot;;\n  $cipher = &quot;aes-256-cbc&quot;;\n  $key = &quot;reallyrealsekritreallyrealsekrit&quot;; // for test only, real key should not be human-chosen\n  $iv = openssl_random_pseudo_bytes(openssl_cipher_iv_length($cipher));\n  echo base64_encode($iv).&quot;\\n&quot;.openssl_encrypt($data,$cipher,$key,0,$iv).&quot;\\n&quot;;\n?&gt;\n$ php 71865785.php\nLGQXy7XF8DHBilN4Kb8Xrg==\nDWI/F97O5e/NGD2czp2OUA==\n$ cat SO71865785.java\n//nopackage\nimport java.util.Base64;\nimport javax.crypto.*;\nimport javax.crypto.spec.*;\n\npublic class SO71865785 /* decrypt from PHP */ {\n  public static void main (String[] args) throws Exception {\n    byte[] key = &quot;reallyrealsekritreallyrealsekrit&quot;.getBytes(&quot;ASCII&quot;); // for test only\n    byte[] iv = Base64.getDecoder().decode(&quot;LGQXy7XF8DHBilN4Kb8Xrg==&quot;);\n    byte[] ctext = Base64.getDecoder().decode(&quot;DWI/F97O5e/NGD2czp2OUA==&quot;);\n\n    Cipher ciph = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n    ciph.init (Cipher.DECRYPT_MODE, new SecretKeySpec(key,&quot;AES&quot;), new IvParameterSpec(iv));\n    byte[] plain = ciph.doFinal(ctext);\n    System.out.println (&quot;len=&quot;+plain.length+&quot;:&quot;+new String(plain,&quot;ASCII&quot;));\n    // if non-ASCII chars are present must use encoding to match encrypting system which is not known\n  }\n}\n$ javac SO71865785.java\n$ java -cp . SO71865785\nlen=14:some test data\n</code></pre>\n<p>For a real application of course you wouldn't use hardcoded data (and usually shouldn't hardcode key either) and the method of passing the data produced by the PHP app to the Java app varies (a lot!). One not-uncommon way is to concatenate the IV and ciphertext (and preferably a MAC or auth tag as well) for transmission and/or storage and then separate them with code like the two <code>Arrays.copyOfRange</code> you have in comments, but for this demo I simply base64-ed each piece (openssl_encrypt already does base64 by default).</p>\n<p>Note for AES-256 the key must be exactly 32 bytes (and should be arbitrary bytes, not characters recognizable to a human). In PHP/OpenSSL if you provide less than required it silently pads with zero bytes (aka NUL), but Java does not; if you have a too-short <code>byte[]</code> in Java you can conveniently zero-pad it with e.g. <code>Arrays.copyOf(poorkey,32)</code>.</p>\n"}],"owner":{"account_id":22397368,"reputation":25,"user_id":16608427,"display_name":"Juan Christopher Bazaldua Rami"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71867107,"answer_count":1,"score":0,"last_activity_date":1665856334,"creation_date":1649902968,"question_id":71865785,"body_markdown":"Hello I have an issue when I trying to decrypt an Ogg file whit java that was encrypted whit PHP\r\n\r\nthis is the function that creates the encrypted file\r\n\r\n[PHP crypt function][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BQneX.png\r\n\r\nI used this code with java but the generated file is corrupt\r\n\r\n    public static String decrypt(String input, String key){\r\n            byte[] bytes = Base64.getDecoder().decode(input);\r\n            if(bytes.length &lt; 17) {\r\n                return null;\r\n            }\r\n            String result = null;\r\n            //byte[] ivBytes = Arrays.copyOfRange(bytes, 0, 16);\r\n            //byte[] contentBytes = Arrays.copyOfRange(bytes, 16, bytes.length);\r\n    \r\n    \r\n            try {\r\n                //Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n                \r\n    \r\n                Key skey = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\r\n                Cipher cipher = Cipher.getInstance(&quot;AES/CBC/NoPadding&quot;);\r\n                // Set the appropriate size for mInitVec by Generating a New One\r\n                AlgorithmParameters params = cipher.getParameters();\r\n                byte[] mInitVec = params.getParameterSpec(IvParameterSpec.class).getIV();\r\n    \r\n                cipher.init(Cipher.DECRYPT_MODE, skey, new IvParameterSpec(mInitVec));\r\n                byte[] decrypted = cipher.doFinal(bytes);\r\n                \r\n                String uploadedFileLocation = &quot;C:\\\\test3.ogg&quot;;\r\n                \r\n                FileOutputStream fs = new FileOutputStream(new File(uploadedFileLocation));\r\n                fs.write(decrypted);\r\n                fs.close();\r\n                \r\n                result =&quot;decrypted&quot;;\r\n             \r\n            } catch (\r\n                    Exception ex\r\n            ) {\r\n                System.out.println(ex.toString());\r\n            }\r\n            return result;\r\n        }\r\n\r\n","title":"AES 256 encrypt and Decrypt in Java","body":"<p>Hello I have an issue when I trying to decrypt an Ogg file whit java that was encrypted whit PHP</p>\n<p>this is the function that creates the encrypted file</p>\n<p><a href=\"https://i.stack.imgur.com/BQneX.png\" rel=\"nofollow noreferrer\">PHP crypt function</a></p>\n<p>I used this code with java but the generated file is corrupt</p>\n<pre><code>public static String decrypt(String input, String key){\n        byte[] bytes = Base64.getDecoder().decode(input);\n        if(bytes.length &lt; 17) {\n            return null;\n        }\n        String result = null;\n        //byte[] ivBytes = Arrays.copyOfRange(bytes, 0, 16);\n        //byte[] contentBytes = Arrays.copyOfRange(bytes, 16, bytes.length);\n\n\n        try {\n            //Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n            \n\n            Key skey = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/NoPadding&quot;);\n            // Set the appropriate size for mInitVec by Generating a New One\n            AlgorithmParameters params = cipher.getParameters();\n            byte[] mInitVec = params.getParameterSpec(IvParameterSpec.class).getIV();\n\n            cipher.init(Cipher.DECRYPT_MODE, skey, new IvParameterSpec(mInitVec));\n            byte[] decrypted = cipher.doFinal(bytes);\n            \n            String uploadedFileLocation = &quot;C:\\\\test3.ogg&quot;;\n            \n            FileOutputStream fs = new FileOutputStream(new File(uploadedFileLocation));\n            fs.write(decrypted);\n            fs.close();\n            \n            result =&quot;decrypted&quot;;\n         \n        } catch (\n                Exception ex\n        ) {\n            System.out.println(ex.toString());\n        }\n        return result;\n    }\n</code></pre>\n"},{"tags":["java","eclipse","rest","tomcat"],"comments":[{"owner":{"account_id":2269593,"reputation":43917,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1473188281,"post_id":39355878,"comment_id":66042044,"body_markdown":"Have you checked all the log files in tomcat/log?","body":"Have you checked all the log files in tomcat/log?"},{"owner":{"account_id":2850838,"reputation":1053,"user_id":2452417,"accept_rate":100,"display_name":"Azim"},"score":0,"creation_date":1473188297,"post_id":39355878,"comment_id":66042051,"body_markdown":"As of now its difficult to tell what&#39;s the issue is. But for more information about the issue, you can add two properties for debugging purpose in conf/logging.properties and these two properties are\n\n\n\norg.apache.catalina.core.ContainerBase.[Catalina].[localhost].level = INFO\norg.apache.catalina.core.ContainerBase.[Catalina].[localhost].handlers = 2localhost.org.apache.juli.FileHandler, java.util.logging.ConsoleHandler","body":"As of now its difficult to tell what&#39;s the issue is. But for more information about the issue, you can add two properties for debugging purpose in conf/logging.properties and these two properties are    org.apache.catalina.core.ContainerBase.[Catalina].[localhost&zwnj;&#8203;].level = INFO org.apache.catalina.core.ContainerBase.[Catalina].[localhost&zwnj;&#8203;].handlers = 2localhost.org.apache.juli.FileHandler, java.util.logging.ConsoleHandler"},{"owner":{"account_id":9037178,"reputation":181,"user_id":6732666,"accept_rate":6,"display_name":"Doug Greaney"},"score":0,"creation_date":1473220363,"post_id":39355878,"comment_id":66051191,"body_markdown":"I have added full error text and will try to attach the logging files too.","body":"I have added full error text and will try to attach the logging files too."},{"owner":{"account_id":3418957,"reputation":1176,"user_id":4029174,"accept_rate":100,"display_name":"bananas"},"score":0,"creation_date":1473220463,"post_id":39355878,"comment_id":66051217,"body_markdown":"first clean tomcat and then try","body":"first clean tomcat and then try"}],"answers":[{"tags":[],"owner":{"account_id":9037178,"reputation":181,"user_id":6732666,"accept_rate":6,"display_name":"Doug Greaney"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665856086,"creation_date":1473222756,"answer_id":39361246,"question_id":39355878,"body_markdown":"Ok. The answer was that **ALL** the jar&#39;s downloaded for Jersey must be copied into \\WEB-INF\\lib (ie from the Jersey archive the jars in \\lib \\ext and \\api).\r\n\r\nThanks to this thread too.\r\n\r\nhttps://stackoverflow.com/a/21461413/6732666\r\n\r\n","title":"tomcat 8.0.36 server won&#39;t start","body":"<p>Ok. The answer was that <strong>ALL</strong> the jar's downloaded for Jersey must be copied into \\WEB-INF\\lib (ie from the Jersey archive the jars in \\lib \\ext and \\api).</p>\n<p>Thanks to this thread too.</p>\n<p><a href=\"https://stackoverflow.com/a/21461413/6732666\">https://stackoverflow.com/a/21461413/6732666</a></p>\n"}],"owner":{"account_id":9037178,"reputation":181,"user_id":6732666,"accept_rate":6,"display_name":"Doug Greaney"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1846,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665856086,"creation_date":1473187547,"question_id":39355878,"body_markdown":"I am following the tutorial at:\r\n\r\nhttp://www.vogella.com/tutorials/REST/article.html - which is a beginners Jersey/REST tutorial in Eclipse.\r\n\r\nMy tomcat server starts fine on its own, but when I try to run Hello.java in Section 6.5 of the tutorial I get a number of errors and tomcat fails to start [There are several errors - all similar]\r\n\r\n    SEVERE: A child container failed during start\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/com.vogella.jersey.first]]\r\n    \tat java.util.concurrent.FutureTask.report(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.get(Unknown Source)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:915)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:871)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1407)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1397)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/com.vogella.jersey.first]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:153)\r\n    \t... 6 more\r\n    Caused by: java.lang.NoClassDefFoundError: jersey/repackaged/com/google/common/base/Function\r\n    \tat org.glassfish.jersey.internal.ServiceFinder.&lt;clinit&gt;(ServiceFinder.java:165)\r\n    \tat org.glassfish.jersey.servlet.internal.ServletContainerProviderFactory.getAllServletContainerProviders(ServletContainerProviderFactory.java:66)\r\n    \tat org.glassfish.jersey.servlet.init.JerseyServletContainerInitializer.onStartup(JerseyServletContainerInitializer.java:134)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5292)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\r\n    \t... 6 more\r\n    Caused by: java.lang.ClassNotFoundException: jersey.repackaged.com.google.common.base.Function\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1332)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1166)\r\n    \t... 11 more\r\n    \r\n    Sep 07, 2016 6:25:41 AM org.apache.catalina.core.ContainerBase startInternal\r\n    SEVERE: A child container failed during start\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\r\n    \tat java.util.concurrent.FutureTask.report(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.get(Unknown Source)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:915)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:441)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:787)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:629)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:153)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1407)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1397)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:923)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:871)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\r\n    \t... 6 more\r\n    \r\n    Sep 07, 2016 6:25:41 AM org.apache.catalina.startup.Catalina start\r\n    SEVERE: The required Server component failed to start so Tomcat is unable to start.\r\n    org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:153)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:629)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Catalina]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:153)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:787)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\r\n    \t... 7 more\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:153)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:441)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\r\n    \t... 9 more\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:923)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\r\n    \t... 11 more\r\n    \r\n    Sep 07, 2016 6:25:41 AM org.apache.coyote.AbstractProtocol pause\r\n    INFO: Pausing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    Sep 07, 2016 6:25:41 AM org.apache.coyote.AbstractProtocol pause\r\n    INFO: Pausing ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n    Sep 07, 2016 6:25:41 AM org.apache.catalina.core.StandardService stopInternal\r\n    INFO: Stopping service Catalina\r\n    Sep 07, 2016 6:25:41 AM org.apache.coyote.AbstractProtocol destroy\r\n    INFO: Destroying ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    Sep 07, 2016 6:25:41 AM org.apache.coyote.AbstractProtocol destroy\r\n    SEVERE: Failed to destroy end point associated with ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    java.lang.NullPointerException\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.releaseCaches(NioEndpoint.java:316)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.unbind(NioEndpoint.java:492)\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.destroy(AbstractEndpoint.java:821)\r\n    \tat org.apache.coyote.AbstractProtocol.destroy(AbstractProtocol.java:534)\r\n    \tat org.apache.catalina.connector.Connector.destroyInternal(Connector.java:1023)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\r\n    \tat org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:589)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\r\n    \tat org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:877)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:633)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\r\n    \r\n    Sep 07, 2016 6:25:41 AM org.apache.coyote.AbstractProtocol destroy\r\n    INFO: Destroying ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n    Sep 07, 2016 6:25:41 AM org.apache.coyote.AbstractProtocol destroy\r\n    SEVERE: Failed to destroy end point associated with ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n    java.lang.NullPointerException\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.releaseCaches(NioEndpoint.java:316)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.unbind(NioEndpoint.java:492)\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.destroy(AbstractEndpoint.java:821)\r\n    \tat org.apache.coyote.AbstractProtocol.destroy(AbstractProtocol.java:534)\r\n    \tat org.apache.catalina.connector.Connector.destroyInternal(Connector.java:1023)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\r\n    \tat org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:589)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\r\n    \tat org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:877)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:633)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\r\n\r\n[IDE][1]\r\n\r\nMy `WEB-INF\\lib\\` folder contains:\r\n\r\n - `javax.ws.s-api-2.0-sources.jar`\r\n\r\n - `javax.ws.rs-api-2.0.1.jar`\r\n\r\n - `jersey-client.jar`\r\n\r\n - `jersey-common.jar`\r\n\r\n - `jersey-container-servlet-core.jar`\r\n\r\n - `jersey-media-jaxb.jar`\r\n\r\n - `jersey-server.jar`\r\n\r\n`JRE` is `1.8.0_101`\r\n`JAX-RS` is `2.23.2`\r\n`Tomcat` `8.0.36`\r\n\r\nI am wondering if this is my issue: \r\n\r\nhttps://stackoverflow.com/questions/30763928/whenever-i-try-to-run-tomcat-with-jersey-it-refuses-to-load\r\n\r\nBut not sure how to check which versions I need to match?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/pRbFx.jpg","title":"tomcat 8.0.36 server won&#39;t start","body":"<p>I am following the tutorial at:</p>\n\n<p><a href=\"http://www.vogella.com/tutorials/REST/article.html\" rel=\"nofollow noreferrer\">http://www.vogella.com/tutorials/REST/article.html</a> - which is a beginners Jersey/REST tutorial in Eclipse.</p>\n\n<p>My tomcat server starts fine on its own, but when I try to run Hello.java in Section 6.5 of the tutorial I get a number of errors and tomcat fails to start [There are several errors - all similar]</p>\n\n<pre><code>SEVERE: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/com.vogella.jersey.first]]\n    at java.util.concurrent.FutureTask.report(Unknown Source)\n    at java.util.concurrent.FutureTask.get(Unknown Source)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:915)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:871)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1407)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1397)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/com.vogella.jersey.first]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:153)\n    ... 6 more\nCaused by: java.lang.NoClassDefFoundError: jersey/repackaged/com/google/common/base/Function\n    at org.glassfish.jersey.internal.ServiceFinder.&lt;clinit&gt;(ServiceFinder.java:165)\n    at org.glassfish.jersey.servlet.internal.ServletContainerProviderFactory.getAllServletContainerProviders(ServletContainerProviderFactory.java:66)\n    at org.glassfish.jersey.servlet.init.JerseyServletContainerInitializer.onStartup(JerseyServletContainerInitializer.java:134)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5292)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\n    ... 6 more\nCaused by: java.lang.ClassNotFoundException: jersey.repackaged.com.google.common.base.Function\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1332)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1166)\n    ... 11 more\n\nSep 07, 2016 6:25:41 AM org.apache.catalina.core.ContainerBase startInternal\nSEVERE: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\n    at java.util.concurrent.FutureTask.report(Unknown Source)\n    at java.util.concurrent.FutureTask.get(Unknown Source)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:915)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:441)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:787)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:629)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:153)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1407)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1397)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:923)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:871)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\n    ... 6 more\n\nSep 07, 2016 6:25:41 AM org.apache.catalina.startup.Catalina start\nSEVERE: The required Server component failed to start so Tomcat is unable to start.\norg.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:153)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:629)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Catalina]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:153)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:787)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\n    ... 7 more\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:153)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:441)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\n    ... 9 more\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:923)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\n    ... 11 more\n\nSep 07, 2016 6:25:41 AM org.apache.coyote.AbstractProtocol pause\nINFO: Pausing ProtocolHandler [\"http-nio-8080\"]\nSep 07, 2016 6:25:41 AM org.apache.coyote.AbstractProtocol pause\nINFO: Pausing ProtocolHandler [\"ajp-nio-8009\"]\nSep 07, 2016 6:25:41 AM org.apache.catalina.core.StandardService stopInternal\nINFO: Stopping service Catalina\nSep 07, 2016 6:25:41 AM org.apache.coyote.AbstractProtocol destroy\nINFO: Destroying ProtocolHandler [\"http-nio-8080\"]\nSep 07, 2016 6:25:41 AM org.apache.coyote.AbstractProtocol destroy\nSEVERE: Failed to destroy end point associated with ProtocolHandler [\"http-nio-8080\"]\njava.lang.NullPointerException\n    at org.apache.tomcat.util.net.NioEndpoint.releaseCaches(NioEndpoint.java:316)\n    at org.apache.tomcat.util.net.NioEndpoint.unbind(NioEndpoint.java:492)\n    at org.apache.tomcat.util.net.AbstractEndpoint.destroy(AbstractEndpoint.java:821)\n    at org.apache.coyote.AbstractProtocol.destroy(AbstractProtocol.java:534)\n    at org.apache.catalina.connector.Connector.destroyInternal(Connector.java:1023)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\n    at org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:589)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\n    at org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:877)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:633)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\n\nSep 07, 2016 6:25:41 AM org.apache.coyote.AbstractProtocol destroy\nINFO: Destroying ProtocolHandler [\"ajp-nio-8009\"]\nSep 07, 2016 6:25:41 AM org.apache.coyote.AbstractProtocol destroy\nSEVERE: Failed to destroy end point associated with ProtocolHandler [\"ajp-nio-8009\"]\njava.lang.NullPointerException\n    at org.apache.tomcat.util.net.NioEndpoint.releaseCaches(NioEndpoint.java:316)\n    at org.apache.tomcat.util.net.NioEndpoint.unbind(NioEndpoint.java:492)\n    at org.apache.tomcat.util.net.AbstractEndpoint.destroy(AbstractEndpoint.java:821)\n    at org.apache.coyote.AbstractProtocol.destroy(AbstractProtocol.java:534)\n    at org.apache.catalina.connector.Connector.destroyInternal(Connector.java:1023)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\n    at org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:589)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\n    at org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:877)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:633)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/pRbFx.jpg\" rel=\"nofollow noreferrer\">IDE</a></p>\n\n<p>My <code>WEB-INF\\lib\\</code> folder contains:</p>\n\n<ul>\n<li><p><code>javax.ws.s-api-2.0-sources.jar</code></p></li>\n<li><p><code>javax.ws.rs-api-2.0.1.jar</code></p></li>\n<li><p><code>jersey-client.jar</code></p></li>\n<li><p><code>jersey-common.jar</code></p></li>\n<li><p><code>jersey-container-servlet-core.jar</code></p></li>\n<li><p><code>jersey-media-jaxb.jar</code></p></li>\n<li><p><code>jersey-server.jar</code></p></li>\n</ul>\n\n<p><code>JRE</code> is <code>1.8.0_101</code>\n<code>JAX-RS</code> is <code>2.23.2</code>\n<code>Tomcat</code> <code>8.0.36</code></p>\n\n<p>I am wondering if this is my issue: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/30763928/whenever-i-try-to-run-tomcat-with-jersey-it-refuses-to-load\">Whenever I try to run Tomcat with Jersey, it refuses to load</a></p>\n\n<p>But not sure how to check which versions I need to match?</p>\n"},{"tags":["java","android","kotlin","fragment","android-safe-args"],"answers":[{"tags":[],"owner":{"account_id":21072292,"reputation":43,"user_id":15488298,"display_name":"Ibrahim Zulfiqar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665855938,"creation_date":1665855938,"answer_id":74081738,"question_id":74062581,"body_markdown":"Nvm i resolve it, the reason was i used the `&lt;fragment /&gt;` tag for my navHost file inside my main activity xml file. Which for some reason, gives this error. So, it replace it with \r\n\r\n    &lt;androidx.fragment.app.FragmentContainerView /&gt;\r\n\r\nand it works. Still don&#39;t know why `&lt;fragment /&gt;` tag gives error.","title":"When i use FragmentArgs i get this error &#39;java.lang.RuntimeException: java.lang.reflect.InvocationTargetException&#39;","body":"<p>Nvm i resolve it, the reason was i used the <code>&lt;fragment /&gt;</code> tag for my navHost file inside my main activity xml file. Which for some reason, gives this error. So, it replace it with</p>\n<pre><code>&lt;androidx.fragment.app.FragmentContainerView /&gt;\n</code></pre>\n<p>and it works. Still don't know why <code>&lt;fragment /&gt;</code> tag gives error.</p>\n"}],"owner":{"account_id":21072292,"reputation":43,"user_id":15488298,"display_name":"Ibrahim Zulfiqar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":778,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74081738,"answer_count":1,"score":0,"last_activity_date":1665855938,"creation_date":1665701323,"question_id":74062581,"body_markdown":"## Fragment Class\r\nDid make my model class Serializable. Getting the args from another fragment.\r\n```\r\nclass AnimeFragment : Fragment() {\r\n    private lateinit var binding: FragmentAnimeBinding\r\n    val args by navArgs&lt;AnimeFragmentArgs&gt;()\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View {\r\n        binding = FragmentAnimeBinding.inflate(inflater, container, false)\r\n        println(args)\r\n        binding.animeBgDisc.text = args.anime.background\r\n        binding.animeTitle.text = args.anime.titles[0].title\r\n        Glide\r\n            .with(this)\r\n            .load(args.anime.trailer.images.maximum_image_url)\r\n            .placeholder(R.drawable.place_holder)\r\n            .into(binding.animeMaxImg)\r\n\r\n        return binding.root\r\n    }\r\n\r\n}\r\n```\r\n## Navigating from this fragment\r\n\r\n```\r\n    private fun setRecyclerView(anime: List&lt;Anime&gt;) {\r\n        val adapter = AnimeListAdapter(anime) {\r\n            // onClickListener\r\n            val bundle = Bundle().apply {\r\n                putSerializable(&quot;anime&quot;, it)\r\n            }\r\n            findNavController().navigate(\r\n                R.id.action_animeListFragment_to_animeFragment,\r\n                bundle\r\n            )\r\n        }\r\n        binding.rvAnimeList.adapter = adapter\r\n    }\r\n```\r\n### dependencies\r\nThe FragmentArgs was not generated after reBuilding the app. So, i added these dependencies and then after that FragmentArgs class was generated but got the java.lang.reflect.InvocationTargetException error\r\n\r\n    buildscript {\r\n    repositories {\r\n        google()\r\n    }\r\n    dependencies {\r\n        def nav_version = &quot;2.5.2&quot;\r\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\r\n    }\r\n}\r\n    id &#39;androidx.navigation.safeargs&#39;\r\n\r\n### Logcat\r\n`\r\n\r\n    FATAL EXCEPTION: main\r\n                                                                                                    Process: com.example.watchlist, PID: 16344\r\n                                                                                                    java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:558)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n                                                                                                    Caused by: java.lang.reflect.InvocationTargetException\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)&#160;\r\n                                                                                                    Caused by: java.lang.reflect.InvocationTargetException\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat androidx.navigation.NavArgsLazy.getValue(NavArgsLazy.kt:54)\r\n                                                                                                    \tat androidx.navigation.NavArgsLazy.getValue(NavArgsLazy.kt:35)\r\n                                                                                                    \tat com.example.watchlist.ui.anime.AnimeFragment.getArgs(AnimeFragment.kt:17)\r\n                                                                                                    \tat com.example.watchlist.ui.anime.AnimeFragment.onViewCreated(AnimeFragment.kt:31)\r\n                                                                                                    \tat androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3128)\r\n                                                                                                    \tat androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:552)\r\n                                                                                                    \tat androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\r\n                                                                                                    \tat androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1890)\r\n                                                                                                    \tat androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1814)\r\n                                                                                                    \tat androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:1751)\r\n                                                                                                    \tat androidx.fragment.app.FragmentManager$5.run(FragmentManager.java:538)\r\n                                                                                                    \tat android.os.Handler.handleCallback(Handler.java:942)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:201)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:288)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:7898)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)&#160;\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)&#160;\r\n                                                                                                    Caused by: java.lang.ClassCastException: java.lang.Integer cannot be cast to com.example.watchlist.api.apiResponse.Anime\r\n                                                                                                    \tat com.example.watchlist.ui.anime.AnimeFragmentArgs.fromBundle(AnimeFragmentArgs.java:39)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                                                                                                    \tat androidx.navigation.NavArgsLazy.getValue(NavArgsLazy.kt:54)&#160;\r\n                                                                                                    \tat androidx.navigation.NavArgsLazy.getValue(NavArgsLazy.kt:35)&#160;\r\n                                                                                                    \tat com.example.watchlist.ui.anime.AnimeFragment.getArgs(AnimeFragment.kt:17)&#160;\r\n                                                                                                    \tat com.example.watchlist.ui.anime.AnimeFragment.onViewCreated(AnimeFragment.kt:31)&#160;\r\n                                                                                                    \tat androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3128)&#160;\r\n                                                                                                    \tat androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:552)&#160;\r\n                                                                                                    \tat androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)&#160;\r\n                                                                                                    \tat androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1890)&#160;\r\n                                                                                                    \tat androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1814)&#160;\r\n                                                                                                    \tat androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:1751)&#160;\r\n                                                                                                    \tat androidx.fragment.app.FragmentManager$5.run(FragmentManager.java:538)&#160;\r\n                                                                                                    \tat android.os.Handler.handleCallback(Handler.java:942)&#160;\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:99)&#160;\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:201)&#160;\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:288)&#160;\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:7898)&#160;\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)&#160;\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)&#160;\r\n\r\n`\r\n","title":"When i use FragmentArgs i get this error &#39;java.lang.RuntimeException: java.lang.reflect.InvocationTargetException&#39;","body":"<h2>Fragment Class</h2>\n<p>Did make my model class Serializable. Getting the args from another fragment.</p>\n<pre><code>class AnimeFragment : Fragment() {\n    private lateinit var binding: FragmentAnimeBinding\n    val args by navArgs&lt;AnimeFragmentArgs&gt;()\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View {\n        binding = FragmentAnimeBinding.inflate(inflater, container, false)\n        println(args)\n        binding.animeBgDisc.text = args.anime.background\n        binding.animeTitle.text = args.anime.titles[0].title\n        Glide\n            .with(this)\n            .load(args.anime.trailer.images.maximum_image_url)\n            .placeholder(R.drawable.place_holder)\n            .into(binding.animeMaxImg)\n\n        return binding.root\n    }\n\n}\n</code></pre>\n<h2>Navigating from this fragment</h2>\n<pre><code>    private fun setRecyclerView(anime: List&lt;Anime&gt;) {\n        val adapter = AnimeListAdapter(anime) {\n            // onClickListener\n            val bundle = Bundle().apply {\n                putSerializable(&quot;anime&quot;, it)\n            }\n            findNavController().navigate(\n                R.id.action_animeListFragment_to_animeFragment,\n                bundle\n            )\n        }\n        binding.rvAnimeList.adapter = adapter\n    }\n</code></pre>\n<h3>dependencies</h3>\n<p>The FragmentArgs was not generated after reBuilding the app. So, i added these dependencies and then after that FragmentArgs class was generated but got the java.lang.reflect.InvocationTargetException error</p>\n<pre><code>buildscript {\nrepositories {\n    google()\n}\ndependencies {\n    def nav_version = &quot;2.5.2&quot;\n    classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\n}\n</code></pre>\n<p>}\nid 'androidx.navigation.safeargs'</p>\n<h3>Logcat</h3>\n<p>`</p>\n<pre><code>FATAL EXCEPTION: main\n                                                                                                Process: com.example.watchlist, PID: 16344\n                                                                                                java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n                                                                                                    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:558)\n                                                                                                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n                                                                                                Caused by: java.lang.reflect.InvocationTargetException\n                                                                                                    at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n                                                                                                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936) \n                                                                                                Caused by: java.lang.reflect.InvocationTargetException\n                                                                                                    at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                    at androidx.navigation.NavArgsLazy.getValue(NavArgsLazy.kt:54)\n                                                                                                    at androidx.navigation.NavArgsLazy.getValue(NavArgsLazy.kt:35)\n                                                                                                    at com.example.watchlist.ui.anime.AnimeFragment.getArgs(AnimeFragment.kt:17)\n                                                                                                    at com.example.watchlist.ui.anime.AnimeFragment.onViewCreated(AnimeFragment.kt:31)\n                                                                                                    at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3128)\n                                                                                                    at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:552)\n                                                                                                    at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\n                                                                                                    at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1890)\n                                                                                                    at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1814)\n                                                                                                    at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:1751)\n                                                                                                    at androidx.fragment.app.FragmentManager$5.run(FragmentManager.java:538)\n                                                                                                    at android.os.Handler.handleCallback(Handler.java:942)\n                                                                                                    at android.os.Handler.dispatchMessage(Handler.java:99)\n                                                                                                    at android.os.Looper.loopOnce(Looper.java:201)\n                                                                                                    at android.os.Looper.loop(Looper.java:288)\n                                                                                                    at android.app.ActivityThread.main(ActivityThread.java:7898)\n                                                                                                    at java.lang.reflect.Method.invoke(Native Method) \n                                                                                                    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548) \n                                                                                                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936) \n                                                                                                Caused by: java.lang.ClassCastException: java.lang.Integer cannot be cast to com.example.watchlist.api.apiResponse.Anime\n                                                                                                    at com.example.watchlist.ui.anime.AnimeFragmentArgs.fromBundle(AnimeFragmentArgs.java:39)\n                                                                                                    at java.lang.reflect.Method.invoke(Native Method) \n                                                                                                    at androidx.navigation.NavArgsLazy.getValue(NavArgsLazy.kt:54) \n                                                                                                    at androidx.navigation.NavArgsLazy.getValue(NavArgsLazy.kt:35) \n                                                                                                    at com.example.watchlist.ui.anime.AnimeFragment.getArgs(AnimeFragment.kt:17) \n                                                                                                    at com.example.watchlist.ui.anime.AnimeFragment.onViewCreated(AnimeFragment.kt:31) \n                                                                                                    at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3128) \n                                                                                                    at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:552) \n                                                                                                    at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261) \n                                                                                                    at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1890) \n                                                                                                    at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1814) \n                                                                                                    at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:1751) \n                                                                                                    at androidx.fragment.app.FragmentManager$5.run(FragmentManager.java:538) \n                                                                                                    at android.os.Handler.handleCallback(Handler.java:942) \n                                                                                                    at android.os.Handler.dispatchMessage(Handler.java:99) \n                                                                                                    at android.os.Looper.loopOnce(Looper.java:201) \n                                                                                                    at android.os.Looper.loop(Looper.java:288) \n                                                                                                    at android.app.ActivityThread.main(ActivityThread.java:7898) \n                                                                                                    at java.lang.reflect.Method.invoke(Native Method) \n                                                                                                    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548) \n                                                                                                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936) \n</code></pre>\n<p>`</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"score":0,"creation_date":1665828468,"post_id":74077625,"comment_id":130793076,"body_markdown":"Can you also share some output of your program ?","body":"Can you also share some output of your program ?"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665855811,"creation_date":1665855811,"answer_id":74081715,"question_id":74077625,"body_markdown":"It is because `@Tranasctional` does not work if you declare it on the `@Bean` method. It should be annotated on the actual method you want to be executed. So your codes now actually will not have any transaction wrapped around `CommandLineRunner#run()` and dirty checking only works if the entities are modified within a transaction.\r\n\r\nChanging to the following should solve your problem : \r\n\r\n```java\r\npublic class MyCommandLineRunner implements CommandLineRunner {\r\n\r\n\t\tprivate PoiCategoryRepository poiCategoryRepository;\r\n\r\n\t\tpublic MyCommandLineRunner(PoiCategoryRepository poiCategoryRepository) {\r\n\t\t\tthis.poiCategoryRepository = poiCategoryRepository;\r\n\t\t}\r\n\r\n\t\t@Transactional\r\n\t\t@Override\r\n\t\tpublic void run(String... args) throws Exception {\r\n\t\t\t // put your codes that you want to execute within a transaction here.... \r\n\t\t}\r\n\r\n} \r\n```\r\n\r\nAnd define the `MyCommandLineRunner` bean : \r\n\r\n``` java\r\n @Bean\r\n public MyCommandLineRunner myCommandLineRunner(PoiCategoryRepository poiCategoryRepository) {\r\n \treturn new MyCommandLineRunner(poiCategoryRepository);\r\n }\r\n```\r\n\r\nIt will update the parent and the child now if you call `save()` on the `JpaRepository` simply because the implementation already had `@Tranasctional` annotated on this method.\r\n","title":"jpa dirty checking not working in @SpringBootApplication","body":"<p>It is because <code>@Tranasctional</code> does not work if you declare it on the <code>@Bean</code> method. It should be annotated on the actual method you want to be executed. So your codes now actually will not have any transaction wrapped around <code>CommandLineRunner#run()</code> and dirty checking only works if the entities are modified within a transaction.</p>\n<p>Changing to the following should solve your problem :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCommandLineRunner implements CommandLineRunner {\n\n        private PoiCategoryRepository poiCategoryRepository;\n\n        public MyCommandLineRunner(PoiCategoryRepository poiCategoryRepository) {\n            this.poiCategoryRepository = poiCategoryRepository;\n        }\n\n        @Transactional\n        @Override\n        public void run(String... args) throws Exception {\n             // put your codes that you want to execute within a transaction here.... \n        }\n\n} \n</code></pre>\n<p>And define the <code>MyCommandLineRunner</code> bean :</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Bean\n public MyCommandLineRunner myCommandLineRunner(PoiCategoryRepository poiCategoryRepository) {\n    return new MyCommandLineRunner(poiCategoryRepository);\n }\n</code></pre>\n<p>It will update the parent and the child now if you call <code>save()</code> on the <code>JpaRepository</code> simply because the implementation already had <code>@Tranasctional</code> annotated on this method.</p>\n"}],"owner":{"account_id":26053009,"reputation":3,"user_id":19755849,"display_name":"user19755849"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":689,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74081715,"answer_count":1,"score":0,"last_activity_date":1665855811,"creation_date":1665819947,"question_id":74077625,"body_markdown":"jpa dirty checking not working in @SpringBootApplication\r\n\r\nI use initDb in @SpringBootApplication like this\r\n```\r\n@SpringBootApplication\r\n@EnableJpaAuditing\r\n@EnableScheduling\r\n@RequiredArgsConstructor\r\npublic class main {\r\n\r\n    private final PoiRepository poiRepository;\r\n    private final PoiCategoryRepository poiCategoryRepository;\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(main.class, args);\r\n    }\r\n\r\n\r\n    //Dummy data poiCategory\r\n    @Bean\r\n    @Profile(&quot;local&quot;)\r\n    @Transactional\r\n    public CommandLineRunner createPoiCategory(PoiCategoryRepository repository) {\r\n        return args -&gt; {\r\n            if (repository.findAll().size() == 0) {\r\n                PoiCategory parent = repository.save(PoiCategory.builder()\r\n                        .name(&quot;parent&quot;)\r\n                        .imageFileName(&quot;test&quot;)\r\n                        .build());\r\n\r\n\r\n                PoiCategory child = repository.save(PoiCategory.builder()\r\n                        .name(&quot;child&quot;)\r\n                        .imageFileName(&quot;test2&quot;)\r\n                        .build());\r\n\r\n                parent.addChildCategory(child);\r\n                System.out.println(&quot;parent = &quot; + parent);\r\n\r\n                parent.setImageFileName(&quot;1234&quot;);\r\n                System.out.println(&quot;parent.getImageFileName() = &quot; + parent.getImageFileName());\r\n\r\n\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\nparent.addChildCategory(parent) and\r\nparent.setImageFileName(&quot;1234&quot;) is not changed\r\n\r\nbut if I use\r\n```\r\n                repository.save(parent);\r\n                repository.save(child);\r\n```\r\nthen parent and child will update\r\n\r\nwhy jpa&#39;s dirty checking and update is not work?","title":"jpa dirty checking not working in @SpringBootApplication","body":"<p>jpa dirty checking not working in @SpringBootApplication</p>\n<p>I use initDb in @SpringBootApplication like this</p>\n<pre><code>@SpringBootApplication\n@EnableJpaAuditing\n@EnableScheduling\n@RequiredArgsConstructor\npublic class main {\n\n    private final PoiRepository poiRepository;\n    private final PoiCategoryRepository poiCategoryRepository;\n\n    public static void main(String[] args) {\n        SpringApplication.run(main.class, args);\n    }\n\n\n    //Dummy data poiCategory\n    @Bean\n    @Profile(&quot;local&quot;)\n    @Transactional\n    public CommandLineRunner createPoiCategory(PoiCategoryRepository repository) {\n        return args -&gt; {\n            if (repository.findAll().size() == 0) {\n                PoiCategory parent = repository.save(PoiCategory.builder()\n                        .name(&quot;parent&quot;)\n                        .imageFileName(&quot;test&quot;)\n                        .build());\n\n\n                PoiCategory child = repository.save(PoiCategory.builder()\n                        .name(&quot;child&quot;)\n                        .imageFileName(&quot;test2&quot;)\n                        .build());\n\n                parent.addChildCategory(child);\n                System.out.println(&quot;parent = &quot; + parent);\n\n                parent.setImageFileName(&quot;1234&quot;);\n                System.out.println(&quot;parent.getImageFileName() = &quot; + parent.getImageFileName());\n\n\n            }\n        };\n    }\n}\n</code></pre>\n<p>parent.addChildCategory(parent) and\nparent.setImageFileName(&quot;1234&quot;) is not changed</p>\n<p>but if I use</p>\n<pre><code>                repository.save(parent);\n                repository.save(child);\n</code></pre>\n<p>then parent and child will update</p>\n<p>why jpa's dirty checking and update is not work?</p>\n"},{"tags":["java","memory","memory-leaks","jvm"],"comments":[{"owner":{"account_id":423235,"reputation":472,"user_id":802501,"display_name":"telm"},"score":0,"creation_date":1309140260,"post_id":6487802,"comment_id":7628414,"body_markdown":"maybe the problem is eclipse. Have you tried Netbeans or IntelliJ?","body":"maybe the problem is eclipse. Have you tried Netbeans or IntelliJ?"},{"owner":{"account_id":390715,"reputation":6107,"user_id":750965,"accept_rate":94,"display_name":"Johnydep"},"score":0,"creation_date":1310131000,"post_id":6487802,"comment_id":7822665,"body_markdown":"i tried, it&#39;s the same result with any IDE","body":"i tried, it&#39;s the same result with any IDE"},{"owner":{"account_id":1042456,"reputation":3429,"user_id":1048186,"accept_rate":80,"display_name":"Josiah Yoder"},"score":0,"creation_date":1468261299,"post_id":6487802,"comment_id":64043767,"body_markdown":"Runtime has both totalMemory() and maxMemory().  maxMemory is bigger in my experience.","body":"Runtime has both totalMemory() and maxMemory().  maxMemory is bigger in my experience."}],"answers":[{"comments":[{"owner":{"account_id":390715,"reputation":6107,"user_id":750965,"accept_rate":94,"display_name":"Johnydep"},"score":0,"creation_date":1309270934,"post_id":6488187,"comment_id":7656840,"body_markdown":"Yess but it dosent help really. I just want to know total allocated memory to my application by JVM or something like this. From configuration i know if it is less then 512MB, it dosent&#39; work. But how can i check this pragmatically because once this app is packaged, if it is crashing at run time, there should be a mecahnism to prompt user about the nature of error. In worse case i will catch exception and prompt the user to increase memory size, but that would be after the crash, but not before the start. Unfortuanatelly it takes about 30 mins before it crashes and it would be a waste of time.","body":"Yess but it dosent help really. I just want to know total allocated memory to my application by JVM or something like this. From configuration i know if it is less then 512MB, it dosent&#39; work. But how can i check this pragmatically because once this app is packaged, if it is crashing at run time, there should be a mecahnism to prompt user about the nature of error. In worse case i will catch exception and prompt the user to increase memory size, but that would be after the crash, but not before the start. Unfortuanatelly it takes about 30 mins before it crashes and it would be a waste of time."},{"owner":{"account_id":1239155,"reputation":8288,"user_id":1202172,"accept_rate":71,"display_name":"Danijel"},"score":0,"creation_date":1374676008,"post_id":6488187,"comment_id":26034952,"body_markdown":"Did you set your JAVA_OPTS or CATALINA_OPTS? What about `-Xmx` (max heap size) parameter? Maybe it crashes because it is out of memory at some point? What do the log files say, any outOfMemory errors?","body":"Did you set your JAVA_OPTS or CATALINA_OPTS? What about <code>-Xmx</code> (max heap size) parameter? Maybe it crashes because it is out of memory at some point? What do the log files say, any outOfMemory errors?"}],"tags":[],"owner":{"account_id":225463,"reputation":839,"user_id":485957,"display_name":"Mike Lue"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1309143412,"creation_date":1309143412,"answer_id":6488187,"question_id":6487802,"body_markdown":"You could use [JMX][1] to collect the usage of heap memory at runtime. \r\n\r\n---\r\nCode Example:\r\n\r\n    import java.lang.management.ManagementFactory;\r\n    import java.lang.management.MemoryPoolMXBean;\r\n    import java.lang.management.MemoryType;\r\n    import java.lang.management.MemoryUsage;\r\n\r\n    for (MemoryPoolMXBean mpBean: ManagementFactory.getMemoryPoolMXBeans()) {\r\n        if (mpBean.getType() == MemoryType.HEAP) {\r\n            System.out.printf(\r\n                &quot;Name: %s: %s\\n&quot;,\r\n                mpBean.getName(), mpBean.getUsage()\r\n            );\r\n        }\r\n    }\r\n\r\nOutput Example:\r\n\r\n    Name: Eden Space: init = 6619136(6464K) used = 3754304(3666K) committed = 6619136(6464K) max = 186253312(181888K)\r\n    Name: Survivor Space: init = 786432(768K) used = 0(0K) committed = 786432(768K) max = 23265280(22720K)\r\n    Name: Tenured Gen: init = 16449536(16064K) used = 0(0K) committed = 16449536(16064K) max = 465567744(454656K)\r\n\r\n---\r\nIf your have question about &quot;Eden Space&quot; or &quot;Survivor Space&quot;, check out **[How is the java memory pool divided][2]**\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/tech/javamanagement-140525.html\r\n  [2]: https://stackoverflow.com/questions/1262328/how-is-the-java-memory-pool-divided","title":"Check available heapSize programmatically?","body":"<p>You could use <a href=\"http://www.oracle.com/technetwork/java/javase/tech/javamanagement-140525.html\" rel=\"noreferrer\">JMX</a> to collect the usage of heap memory at runtime. </p>\n\n<hr>\n\n<p>Code Example:</p>\n\n<pre><code>import java.lang.management.ManagementFactory;\nimport java.lang.management.MemoryPoolMXBean;\nimport java.lang.management.MemoryType;\nimport java.lang.management.MemoryUsage;\n\nfor (MemoryPoolMXBean mpBean: ManagementFactory.getMemoryPoolMXBeans()) {\n    if (mpBean.getType() == MemoryType.HEAP) {\n        System.out.printf(\n            \"Name: %s: %s\\n\",\n            mpBean.getName(), mpBean.getUsage()\n        );\n    }\n}\n</code></pre>\n\n<p>Output Example:</p>\n\n<pre><code>Name: Eden Space: init = 6619136(6464K) used = 3754304(3666K) committed = 6619136(6464K) max = 186253312(181888K)\nName: Survivor Space: init = 786432(768K) used = 0(0K) committed = 786432(768K) max = 23265280(22720K)\nName: Tenured Gen: init = 16449536(16064K) used = 0(0K) committed = 16449536(16064K) max = 465567744(454656K)\n</code></pre>\n\n<hr>\n\n<p>If your have question about \"Eden Space\" or \"Survivor Space\", check out <strong><a href=\"https://stackoverflow.com/questions/1262328/how-is-the-java-memory-pool-divided\">How is the java memory pool divided</a></strong></p>\n"},{"tags":[],"owner":{"account_id":1396,"reputation":2865,"user_id":1867,"accept_rate":29,"display_name":"Rob Oxspring"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665408296,"creation_date":1665408296,"answer_id":74015662,"question_id":6487802,"body_markdown":"`totalMemory()` returns the _current_ total memory used, and not the total _available_ memory. To query the maximum _available_ memory then use `maxMemory()` (aka `java -Xmx` option):\r\n\r\n```\r\nlong heapSize = Runtime.getRuntime().maxMemory();\r\nSystem.out.println(&quot;Heap Size = &quot; + heapSize);\r\n```\r\n","title":"Check available heapSize programmatically?","body":"<p><code>totalMemory()</code> returns the <em>current</em> total memory used, and not the total <em>available</em> memory. To query the maximum <em>available</em> memory then use <code>maxMemory()</code> (aka <code>java -Xmx</code> option):</p>\n<pre><code>long heapSize = Runtime.getRuntime().maxMemory();\nSystem.out.println(&quot;Heap Size = &quot; + heapSize);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1906784,"reputation":615,"user_id":1721502,"display_name":"Ingo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665855692,"creation_date":1665855692,"answer_id":74081706,"question_id":6487802,"body_markdown":"maybe an useful update using Java 17 to 19:\r\nAfter several trials with getRuntime() and old/Eden/Survivor Space I came back to use getRuntime() which seem to be &#39;faithful&#39; now:\r\n\r\nWith Java 17-19 therefore I propose to use the heap size functions of getRuntime():\r\n\r\n    Runtime env = Runtime.getRuntime();\r\n    \r\n    System.out.println(&quot;Max Heap Size = maxMemory() = &quot; + env.maxMemory()); //max heap size from -Xmx, i.e. is constant during runtime\r\n    System.out.println(&quot;Current Heap Size = totalMemory() = &quot; +  env.totalMemory()); //currently assigned  heap\r\n    System.out.println(&quot;Available in Current Heap = freeMemory() = &quot; + env.freeMemory()); //current heap will extend if no more freeMemory to a maximum of maxMemory\r\n    System.out.println(&quot;Currently Used Heap = &quot; + (env.totalMemory()-env.freeMemory()) );\r\n    System.out.println(&quot;Unassigned Heap = &quot; + (env.maxMemory()-env.totalMemory()));\r\n    System.out.println(&quot;Currently Totally Available Heap Space = &quot;+ ((env.maxMemory()-env.totalMemory()) + env.freeMemory()) ); //available=unassigned + free","title":"Check available heapSize programmatically?","body":"<p>maybe an useful update using Java 17 to 19:\nAfter several trials with getRuntime() and old/Eden/Survivor Space I came back to use getRuntime() which seem to be 'faithful' now:</p>\n<p>With Java 17-19 therefore I propose to use the heap size functions of getRuntime():</p>\n<pre><code>Runtime env = Runtime.getRuntime();\n\nSystem.out.println(&quot;Max Heap Size = maxMemory() = &quot; + env.maxMemory()); //max heap size from -Xmx, i.e. is constant during runtime\nSystem.out.println(&quot;Current Heap Size = totalMemory() = &quot; +  env.totalMemory()); //currently assigned  heap\nSystem.out.println(&quot;Available in Current Heap = freeMemory() = &quot; + env.freeMemory()); //current heap will extend if no more freeMemory to a maximum of maxMemory\nSystem.out.println(&quot;Currently Used Heap = &quot; + (env.totalMemory()-env.freeMemory()) );\nSystem.out.println(&quot;Unassigned Heap = &quot; + (env.maxMemory()-env.totalMemory()));\nSystem.out.println(&quot;Currently Totally Available Heap Space = &quot;+ ((env.maxMemory()-env.totalMemory()) + env.freeMemory()) ); //available=unassigned + free\n</code></pre>\n"}],"owner":{"account_id":390715,"reputation":6107,"user_id":750965,"accept_rate":94,"display_name":"Johnydep"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21436,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1665855692,"creation_date":1309137107,"question_id":6487802,"body_markdown":"I am using Eclipse. The problem is my application crashes if the allocated memory is less then 512MB. Now is there anyway to check the available memory for a program before starting heavy memory exhaustive processing?\r\nFor example, I know we can check available JVM heap size as:\r\n\r\n    long heapSize = Runtime.getRuntime().totalMemory();\r\n    System.out.println(&quot;Heap Size = &quot; + heapSize);\r\n\r\nProblem is, this gives the JVM heap size. Even increasing it does not work using Eclipse. In Eclipse, if I change the VM arguments then it works. However the printout from above statements is always the same. Is there any command through which I can exactly know how much memory I am allocated for a particular application?","title":"Check available heapSize programmatically?","body":"<p>I am using Eclipse. The problem is my application crashes if the allocated memory is less then 512MB. Now is there anyway to check the available memory for a program before starting heavy memory exhaustive processing?\nFor example, I know we can check available JVM heap size as:</p>\n\n<pre><code>long heapSize = Runtime.getRuntime().totalMemory();\nSystem.out.println(\"Heap Size = \" + heapSize);\n</code></pre>\n\n<p>Problem is, this gives the JVM heap size. Even increasing it does not work using Eclipse. In Eclipse, if I change the VM arguments then it works. However the printout from above statements is always the same. Is there any command through which I can exactly know how much memory I am allocated for a particular application?</p>\n"},{"tags":["java","encryption","aes","rsa"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1513785031,"post_id":47909754,"comment_id":82787064,"body_markdown":"It&#39;s my opinion that questions this basic, or *tutorial*, are too broad. But since they sometimes attract good answers I&#39;ll hold off on a close vote. There are many excellent resources online that you can use to get more up to speed.","body":"It&#39;s my opinion that questions this basic, or <i>tutorial</i>, are too broad. But since they sometimes attract good answers I&#39;ll hold off on a close vote. There are many excellent resources online that you can use to get more up to speed."},{"owner":{"account_id":4081547,"reputation":4204,"user_id":3351924,"accept_rate":89,"display_name":"secondbreakfast"},"score":0,"creation_date":1513785191,"post_id":47909754,"comment_id":82787183,"body_markdown":"Spring Security","body":"Spring Security"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1513785288,"post_id":47909754,"comment_id":82787255,"body_markdown":"This *is* too broad. Cryptography is a complicated issue, and you have to understand it before you attempt to program it, at least if you&#39;re hoping to stay secure. For example, you need to understand what [IV](https://en.wikipedia.org/wiki/Initialization_vector) is and why it&#39;s used. Less coding for a while and more reading.","body":"This <i>is</i> too broad. Cryptography is a complicated issue, and you have to understand it before you attempt to program it, at least if you&#39;re hoping to stay secure. For example, you need to understand what <a href=\"https://en.wikipedia.org/wiki/Initialization_vector\" rel=\"nofollow noreferrer\">IV</a> is and why it&#39;s used. Less coding for a while and more reading."},{"owner":{"account_id":203680,"reputation":112068,"user_id":451475,"accept_rate":100,"display_name":"zaph"},"score":0,"creation_date":1513804085,"post_id":47909754,"comment_id":82796631,"body_markdown":"**In general**: Data is encrtypted with AES and keys are encrypted with RSA. AES has one key for both encrtyption and decryption, is fast and has no data size limitation. RSA has two key (one for encryption and another for decryption), is very slow and has a data size limitation to less than the key size.","body":"<b>In general</b>: Data is encrtypted with AES and keys are encrypted with RSA. AES has one key for both encrtyption and decryption, is fast and has no data size limitation. RSA has two key (one for encryption and another for decryption), is very slow and has a data size limitation to less than the key size."}],"answers":[{"comments":[{"owner":{"account_id":12537093,"reputation":7,"user_id":9123428,"display_name":"pest mail"},"score":0,"creation_date":1513788516,"post_id":47909955,"comment_id":82789130,"body_markdown":"I&#39;ve updated my question and a answer about RSA encryption will be great since there is nothing about RSA in https://stackoverflow.com/questions/1205135/how-to-encrypt-string-in-java]","body":"I&#39;ve updated my question and a answer about RSA encryption will be great since there is nothing about RSA in <a href=\"https://stackoverflow.com/questions/1205135/how-to-encrypt-string-in-java]\" title=\"how to encrypt string in java%5d\">stackoverflow.com/questions/1205135/&hellip;</a>"}],"tags":[],"owner":{"account_id":3285875,"reputation":148,"user_id":2765417,"display_name":"smos"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1513786149,"creation_date":1513785387,"answer_id":47909955,"question_id":47909754,"body_markdown":"This is not the recommended way and you will need to change it. You may want to have a better look on StackOverflow. Your question is (in)directly answered in this post https://stackoverflow.com/questions/1205135/how-to-encrypt-string-in-java].\r\n\r\nMake sure you look further down to all the answers. For example [this one will probably help you to understand][1] more. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/43779197/2765417","title":"Right way to do encryption in java","body":"<p>This is not the recommended way and you will need to change it. You may want to have a better look on StackOverflow. Your question is (in)directly answered in this post <a href=\"https://stackoverflow.com/questions/1205135/how-to-encrypt-string-in-java]\">How to encrypt String in Java</a>.</p>\n\n<p>Make sure you look further down to all the answers. For example <a href=\"https://stackoverflow.com/a/43779197/2765417\">this one will probably help you to understand</a> more. </p>\n"},{"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1665879356,"post_id":74081702,"comment_id":130802413,"body_markdown":"**Security warning**: the above code is using SHA-1 for &quot;key derivation&quot; and ECB mode for encryption, both are unsecure in most use cases.","body":"<b>Security warning</b>: the above code is using SHA-1 for &quot;key derivation&quot; and ECB mode for encryption, both are unsecure in most use cases."}],"tags":[],"owner":{"account_id":4606828,"reputation":1240,"user_id":3736063,"display_name":"Malek Tubaisaht"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665855668,"creation_date":1665855668,"answer_id":74081702,"question_id":47909754,"body_markdown":"The most simple is to use the below class\r\n\r\n    package com.toptal.gif_downloader.tools;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.security.MessageDigest;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.util.Arrays;\r\n    import java.util.Base64;\r\n    \r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    public class CipherDecrypt {\r\n    \r\n      private static SecretKeySpec secretKey;\r\n      private static byte[] key;\r\n    \r\n      public static void setKey(final String myKey) {\r\n        MessageDigest sha = null;\r\n        try {\r\n          key = myKey.getBytes(&quot;UTF-8&quot;);\r\n          sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n          key = sha.digest(key);\r\n          key = Arrays.copyOf(key, 16);\r\n          secretKey = new SecretKeySpec(key, &quot;AES&quot;);\r\n        } catch (NoSuchAlgorithmException | UnsupportedEncodingException e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    \r\n      public static String Encrypt(final String strToEncrypt, final String secret) {\r\n        try {\r\n          setKey(secret);\r\n          Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\r\n          cipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n          return Base64.getEncoder()\r\n            .encodeToString(cipher.doFinal(strToEncrypt.getBytes(&quot;UTF-8&quot;)));\r\n        } catch (Exception e) {\r\n          System.out.println(&quot;Error while encrypting: &quot; + e.toString());\r\n        }\r\n        return null;\r\n      }\r\n    \r\n      public static String Decrypt(final String strToDecrypt, final String secret) {\r\n        try {\r\n          setKey(secret);\r\n          Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5PADDING&quot;);\r\n          cipher.init(Cipher.DECRYPT_MODE, secretKey);\r\n          return new String(cipher.doFinal(Base64.getDecoder()\r\n            .decode(strToDecrypt)));\r\n        } catch (Exception e) {\r\n          System.out.println(&quot;Error while decrypting: &quot; + e.toString());\r\n        }\r\n        return null;\r\n      }\r\n    }","title":"Right way to do encryption in java","body":"<p>The most simple is to use the below class</p>\n<pre><code>package com.toptal.gif_downloader.tools;\nimport java.io.UnsupportedEncodingException;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.Arrays;\nimport java.util.Base64;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class CipherDecrypt {\n\n  private static SecretKeySpec secretKey;\n  private static byte[] key;\n\n  public static void setKey(final String myKey) {\n    MessageDigest sha = null;\n    try {\n      key = myKey.getBytes(&quot;UTF-8&quot;);\n      sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\n      key = sha.digest(key);\n      key = Arrays.copyOf(key, 16);\n      secretKey = new SecretKeySpec(key, &quot;AES&quot;);\n    } catch (NoSuchAlgorithmException | UnsupportedEncodingException e) {\n      e.printStackTrace();\n    }\n  }\n\n  public static String Encrypt(final String strToEncrypt, final String secret) {\n    try {\n      setKey(secret);\n      Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\n      cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n      return Base64.getEncoder()\n        .encodeToString(cipher.doFinal(strToEncrypt.getBytes(&quot;UTF-8&quot;)));\n    } catch (Exception e) {\n      System.out.println(&quot;Error while encrypting: &quot; + e.toString());\n    }\n    return null;\n  }\n\n  public static String Decrypt(final String strToDecrypt, final String secret) {\n    try {\n      setKey(secret);\n      Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5PADDING&quot;);\n      cipher.init(Cipher.DECRYPT_MODE, secretKey);\n      return new String(cipher.doFinal(Base64.getDecoder()\n        .decode(strToDecrypt)));\n    } catch (Exception e) {\n      System.out.println(&quot;Error while decrypting: &quot; + e.toString());\n    }\n    return null;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":12537093,"reputation":7,"user_id":9123428,"display_name":"pest mail"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1435,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47909955,"answer_count":2,"score":0,"last_activity_date":1665855668,"creation_date":1513784713,"question_id":47909754,"body_markdown":"I&#39;m completely new with encryption stuff and i have some questions about encryption in java\r\nI use to do this for RSA encryption in java \r\n\r\n    Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n    cipher.init(Cipher.ENCRYPTION_MODE,publicKey);\r\n    byte result = cipher.doFinal(data);\r\nand same way to use AES and I use this code to generate a AES key\r\n\r\n    SecureRandom random = new SecureRandom();\r\n    byte [] key = new byte [16];\r\n    random.nextByte(key);\r\n    SecretKeySpec secretKey = new SecretKeySpec(key,&quot;AES&quot;);\r\n\r\nbut as i saw in other programs code this is not how they use encryption i always see they use something as IV param in AES and they never use &quot;AES&quot; or &quot;RSA&quot; to get a cipher instance.\r\nIs the way i using to encrypt data safe?\r\nI&#39;m sure that i missing something \r\n\r\nUPDATE:\r\n\r\nI also have a question about changing data size in AES encryption in the way that i use to encrypt data with AES it changes the data size from 1024 to 1040 \r\n\r\n        byte key [] = new byte[16];\r\n        SecureRandom random = new SecureRandom();\r\n        random.nextBytes(key);\r\n        SecretKeySpec keySpec = new SecretKeySpec(key,&quot;AES&quot;);\r\n        Cipher c = Cipher.getInstance(&quot;AES&quot;);\r\n        c.init(Cipher.ENCRYPT_MODE,keySpec);\r\n        FileInputStream in = new FileInputStream(&quot;test.txt&quot;);\r\n        byte [] buffer = new byte[1024];\r\n        byte [] encrypted;\r\n        while (in.read()&gt;0){\r\n            encrypted = c.doFinal(buffer);\r\n            System.out.println(encrypted.length);\r\n        }\r\n        \r\nthe out put is:\r\n1040\r\n1040\r\n.\r\n.\r\n1040\r\n\r\nSimply encrypted data size is always 16 bytes more than original data\r\nDo i have to deal with this or it&#39;s because i using Cipher.getInstance(&quot;AES&quot;);\r\n\r\n\r\n","title":"Right way to do encryption in java","body":"<p>I'm completely new with encryption stuff and i have some questions about encryption in java\nI use to do this for RSA encryption in java </p>\n\n<pre><code>Cipher cipher = Cipher.getInstance(\"RSA\");\ncipher.init(Cipher.ENCRYPTION_MODE,publicKey);\nbyte result = cipher.doFinal(data);\n</code></pre>\n\n<p>and same way to use AES and I use this code to generate a AES key</p>\n\n<pre><code>SecureRandom random = new SecureRandom();\nbyte [] key = new byte [16];\nrandom.nextByte(key);\nSecretKeySpec secretKey = new SecretKeySpec(key,\"AES\");\n</code></pre>\n\n<p>but as i saw in other programs code this is not how they use encryption i always see they use something as IV param in AES and they never use \"AES\" or \"RSA\" to get a cipher instance.\nIs the way i using to encrypt data safe?\nI'm sure that i missing something </p>\n\n<p>UPDATE:</p>\n\n<p>I also have a question about changing data size in AES encryption in the way that i use to encrypt data with AES it changes the data size from 1024 to 1040 </p>\n\n<pre><code>    byte key [] = new byte[16];\n    SecureRandom random = new SecureRandom();\n    random.nextBytes(key);\n    SecretKeySpec keySpec = new SecretKeySpec(key,\"AES\");\n    Cipher c = Cipher.getInstance(\"AES\");\n    c.init(Cipher.ENCRYPT_MODE,keySpec);\n    FileInputStream in = new FileInputStream(\"test.txt\");\n    byte [] buffer = new byte[1024];\n    byte [] encrypted;\n    while (in.read()&gt;0){\n        encrypted = c.doFinal(buffer);\n        System.out.println(encrypted.length);\n    }\n</code></pre>\n\n<p>the out put is:\n1040\n1040\n.\n.\n1040</p>\n\n<p>Simply encrypted data size is always 16 bytes more than original data\nDo i have to deal with this or it's because i using Cipher.getInstance(\"AES\");</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":2869610,"reputation":1140,"user_id":2463234,"display_name":"Dhananjay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665855629,"creation_date":1665843434,"answer_id":74080211,"question_id":74050154,"body_markdown":"Depending upon OS, the key might not be allowed, but the one of the option would be to use `SPRING_APPLICATION_JSON`. Check [externalize configuration](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config).\r\n\r\nLets say you have following properties\r\n```\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      globalcors:\r\n        corsConfigurations:\r\n          &#39;[/**]&#39;:\r\n            allowedOrigins: &quot;*&quot;\r\n            allowedHeaders: &quot;*&quot;\r\n            allowedMethods:\r\n            - GET\r\n            - POST\r\n```\r\nConvert this yaml to json. For [eg](https://onlineyamltools.com/convert-yaml-to-json)\r\n```\r\n{\r\n  &quot;spring&quot;: {\r\n    &quot;cloud&quot;: {\r\n      &quot;gateway&quot;: {\r\n        &quot;globalcors&quot;: {\r\n          &quot;corsConfigurations&quot;: {\r\n            &quot;[/**]&quot;: {\r\n              &quot;allowedOrigins&quot;: &quot;*&quot;,\r\n              &quot;allowedHeaders&quot;: &quot;*&quot;,\r\n              &quot;allowedMethods&quot;: [\r\n                &quot;GET&quot;,\r\n                &quot;POST&quot;\r\n              ]\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nTrim any white spaces for [eg using](https://www.browserling.com/tools/remove-all-whitespace)\r\n\r\n```\r\n{&quot;spring&quot;:{&quot;cloud&quot;:{&quot;gateway&quot;:{&quot;globalcors&quot;:{&quot;corsConfigurations&quot;:{&quot;[/**]&quot;:{&quot;allowedOrigins&quot;:&quot;*&quot;,&quot;allowedHeaders&quot;:&quot;*&quot;,&quot;allowedMethods&quot;:[&quot;GET&quot;,&quot;POST&quot;]}}}}}}}\r\n```\r\nNow in your env variable you can set \r\n```\r\nSPRING_APPLICATION_JSON = &#39;{&quot;spring&quot;:{&quot;cloud&quot;:{&quot;gateway&quot;:{&quot;globalcors&quot;:{&quot;corsConfigurations&quot;:{&quot;[/**]&quot;:{&quot;allowedOrigins&quot;:&quot;*&quot;,&quot;allowedHeaders&quot;:&quot;*&quot;,&quot;allowedMethods&quot;:[&quot;GET&quot;,&quot;POST&quot;]}}}}}}}&#39;\r\n```\r\nYou can write some kind of CLI script to do this.","title":"How do I set the value of CORS allowed origin for Spring Cloud Gatweay from the environment?","body":"<p>Depending upon OS, the key might not be allowed, but the one of the option would be to use <code>SPRING_APPLICATION_JSON</code>. Check <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">externalize configuration</a>.</p>\n<p>Lets say you have following properties</p>\n<pre><code>spring:\n  cloud:\n    gateway:\n      globalcors:\n        corsConfigurations:\n          '[/**]':\n            allowedOrigins: &quot;*&quot;\n            allowedHeaders: &quot;*&quot;\n            allowedMethods:\n            - GET\n            - POST\n</code></pre>\n<p>Convert this yaml to json. For <a href=\"https://onlineyamltools.com/convert-yaml-to-json\" rel=\"nofollow noreferrer\">eg</a></p>\n<pre><code>{\n  &quot;spring&quot;: {\n    &quot;cloud&quot;: {\n      &quot;gateway&quot;: {\n        &quot;globalcors&quot;: {\n          &quot;corsConfigurations&quot;: {\n            &quot;[/**]&quot;: {\n              &quot;allowedOrigins&quot;: &quot;*&quot;,\n              &quot;allowedHeaders&quot;: &quot;*&quot;,\n              &quot;allowedMethods&quot;: [\n                &quot;GET&quot;,\n                &quot;POST&quot;\n              ]\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>Trim any white spaces for <a href=\"https://www.browserling.com/tools/remove-all-whitespace\" rel=\"nofollow noreferrer\">eg using</a></p>\n<pre><code>{&quot;spring&quot;:{&quot;cloud&quot;:{&quot;gateway&quot;:{&quot;globalcors&quot;:{&quot;corsConfigurations&quot;:{&quot;[/**]&quot;:{&quot;allowedOrigins&quot;:&quot;*&quot;,&quot;allowedHeaders&quot;:&quot;*&quot;,&quot;allowedMethods&quot;:[&quot;GET&quot;,&quot;POST&quot;]}}}}}}}\n</code></pre>\n<p>Now in your env variable you can set</p>\n<pre><code>SPRING_APPLICATION_JSON = '{&quot;spring&quot;:{&quot;cloud&quot;:{&quot;gateway&quot;:{&quot;globalcors&quot;:{&quot;corsConfigurations&quot;:{&quot;[/**]&quot;:{&quot;allowedOrigins&quot;:&quot;*&quot;,&quot;allowedHeaders&quot;:&quot;*&quot;,&quot;allowedMethods&quot;:[&quot;GET&quot;,&quot;POST&quot;]}}}}}}}'\n</code></pre>\n<p>You can write some kind of CLI script to do this.</p>\n"}],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665855629,"creation_date":1665631501,"question_id":74050154,"body_markdown":"Complements https://stackoverflow.com/questions/74050120/how-do-i-get-the-value-of-cors-allowed-origin-from-spring-cloud-gateway \r\n\r\nWhat environment variable would map to the following point?\r\n\r\n```yaml\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      globalcors:\r\n        cors-configurations:\r\n          &#39;[/**]&#39;:\r\n            allowedOrigins: &quot;*&quot; # &lt;&lt; how do I change this?\r\n```","title":"How do I set the value of CORS allowed origin for Spring Cloud Gatweay from the environment?","body":"<p>Complements <a href=\"https://stackoverflow.com/questions/74050120/how-do-i-get-the-value-of-cors-allowed-origin-from-spring-cloud-gateway\">How do I get the value of CORS allowed origin from spring cloud gateway</a></p>\n<p>What environment variable would map to the following point?</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    gateway:\n      globalcors:\n        cors-configurations:\n          '[/**]':\n            allowedOrigins: &quot;*&quot; # &lt;&lt; how do I change this?\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5781946,"reputation":5687,"user_id":4562287,"accept_rate":43,"display_name":"Vivek Mishra"},"score":0,"creation_date":1482837997,"post_id":41344095,"comment_id":69890527,"body_markdown":"did you tried with regex","body":"did you tried with regex"},{"owner":{"account_id":2493335,"reputation":9184,"user_id":2170392,"accept_rate":73,"display_name":"Edper"},"score":0,"creation_date":1482838104,"post_id":41344095,"comment_id":69890570,"body_markdown":"@VivekMishra I&#39;ll give it a try. Thanks for the idea.","body":"@VivekMishra I&#39;ll give it a try. Thanks for the idea."}],"answers":[{"comments":[{"owner":{"account_id":2493335,"reputation":9184,"user_id":2170392,"accept_rate":73,"display_name":"Edper"},"score":0,"creation_date":1482839248,"post_id":41344543,"comment_id":69891131,"body_markdown":"Thanks for your answer Sagar. But `DecimalFormat` does not allow at least API level 15 as min. I&#39;m using **Android Studio 2.2** by the way.","body":"Thanks for your answer Sagar. But <code>DecimalFormat</code> does not allow at least API level 15 as min. I&#39;m using <b>Android Studio 2.2</b> by the way."},{"owner":{"account_id":7332839,"reputation":1985,"user_id":5585166,"display_name":"Sagar Gangawane"},"score":1,"creation_date":1482839597,"post_id":41344543,"comment_id":69891312,"body_markdown":"@Edper ok thanks for your reply.Please provide the solution if you get.Happy coding.","body":"@Edper ok thanks for your reply.Please provide the solution if you get.Happy coding."}],"tags":[],"owner":{"account_id":7332839,"reputation":1985,"user_id":5585166,"display_name":"Sagar Gangawane"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665855581,"creation_date":1482838954,"answer_id":41344543,"question_id":41344095,"body_markdown":"Hey I have used this code it works on API 17(4.2.2).So i think it should work on API 15 and above.\r\n\r\n      public static String Round(String Rval, int Rpl) {\r\n\r\n        DecimalFormat df = null ;//(&quot;#.00&quot;);\r\n        String finalStr = &quot;&quot;;\r\n\r\n        if(Rval.contains(&quot;.&quot;)){\r\n            String [] inputArr = Rval.split(&quot;\\\\.&quot;);\r\n            String newValue = &quot;&quot;;\r\n            /*if(inputArr[1].length() == 1){\r\n                inputArr[1] = inputArr[1] + &quot;0&quot;;\r\n            }else if(inputArr[1].length() &gt;= 2){\r\n                inputArr[1] = inputArr[1].substring(0,2);\r\n                //inputArr[1] = String.valueOf(Math.round(Integer.parseInt(inputArr[1])));\r\n            }*/\r\n\r\n            int length = inputArr[0].length();\r\n            if(length == 7){\r\n                df = new DecimalFormat(&quot;#,###,###.00&quot;);\r\n                newValue = df.format(Double.parseDouble(Rval));\r\n            }else if(length == 8){\r\n                df = new DecimalFormat(&quot;#,##,##,###.00&quot;);\r\n                newValue = df.format(Double.parseDouble(Rval));\r\n            }else if(length == 9){\r\n                df = new DecimalFormat(&quot;##,##,##,###.00&quot;);\r\n                newValue = df.format(Double.parseDouble(Rval));\r\n            }else if(length == 6){\r\n                df = new DecimalFormat(&quot;###,###.00&quot;);\r\n                newValue = df.format(Double.parseDouble(Rval));\r\n            }else if(length == 5){\r\n                df = new DecimalFormat(&quot;##,###.00&quot;);\r\n                newValue = df.format(Double.parseDouble(Rval));\r\n            }else if(length == 4){\r\n                df = new DecimalFormat(&quot;#,###.00&quot;);\r\n                newValue = df.format(Double.parseDouble(Rval));\r\n            }else{\r\n                df = new DecimalFormat(&quot;#0.00&quot;);\r\n                newValue = df.format(Double.parseDouble(Rval));\r\n            }\r\n\r\n            finalStr = newValue ;//+&quot;.&quot;+ inputArr[1];\r\n\r\n        }else{\r\n            finalStr = Rval + &quot;.00&quot;;\r\n        }\r\n        return finalStr;\r\n\r\n\r\n    }\r\nI have checked on my device right now.","title":"Formatting currency or double for Android API level 15 and above","body":"<p>Hey I have used this code it works on API 17(4.2.2).So i think it should work on API 15 and above.</p>\n<pre><code>  public static String Round(String Rval, int Rpl) {\n\n    DecimalFormat df = null ;//(&quot;#.00&quot;);\n    String finalStr = &quot;&quot;;\n\n    if(Rval.contains(&quot;.&quot;)){\n        String [] inputArr = Rval.split(&quot;\\\\.&quot;);\n        String newValue = &quot;&quot;;\n        /*if(inputArr[1].length() == 1){\n            inputArr[1] = inputArr[1] + &quot;0&quot;;\n        }else if(inputArr[1].length() &gt;= 2){\n            inputArr[1] = inputArr[1].substring(0,2);\n            //inputArr[1] = String.valueOf(Math.round(Integer.parseInt(inputArr[1])));\n        }*/\n\n        int length = inputArr[0].length();\n        if(length == 7){\n            df = new DecimalFormat(&quot;#,###,###.00&quot;);\n            newValue = df.format(Double.parseDouble(Rval));\n        }else if(length == 8){\n            df = new DecimalFormat(&quot;#,##,##,###.00&quot;);\n            newValue = df.format(Double.parseDouble(Rval));\n        }else if(length == 9){\n            df = new DecimalFormat(&quot;##,##,##,###.00&quot;);\n            newValue = df.format(Double.parseDouble(Rval));\n        }else if(length == 6){\n            df = new DecimalFormat(&quot;###,###.00&quot;);\n            newValue = df.format(Double.parseDouble(Rval));\n        }else if(length == 5){\n            df = new DecimalFormat(&quot;##,###.00&quot;);\n            newValue = df.format(Double.parseDouble(Rval));\n        }else if(length == 4){\n            df = new DecimalFormat(&quot;#,###.00&quot;);\n            newValue = df.format(Double.parseDouble(Rval));\n        }else{\n            df = new DecimalFormat(&quot;#0.00&quot;);\n            newValue = df.format(Double.parseDouble(Rval));\n        }\n\n        finalStr = newValue ;//+&quot;.&quot;+ inputArr[1];\n\n    }else{\n        finalStr = Rval + &quot;.00&quot;;\n    }\n    return finalStr;\n\n\n}\n</code></pre>\n<p>I have checked on my device right now.</p>\n"},{"tags":[],"owner":{"account_id":2493335,"reputation":9184,"user_id":2170392,"accept_rate":73,"display_name":"Edper"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1482840357,"creation_date":1482840357,"answer_id":41344879,"question_id":41344095,"body_markdown":"Wow, I thought it was something that I have to make a special utility function.\r\n\r\nIt was simply a `String.format()` method did the trick.\r\n\r\n    Double num = 12345.67;\r\n    String formatted = String.format(&quot;%,.2f&quot;, num);","title":"Formatting currency or double for Android API level 15 and above","body":"<p>Wow, I thought it was something that I have to make a special utility function.</p>\n\n<p>It was simply a <code>String.format()</code> method did the trick.</p>\n\n<pre><code>Double num = 12345.67;\nString formatted = String.format(\"%,.2f\", num);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5363290,"reputation":21,"user_id":4273936,"display_name":"binti achmad"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522902631,"creation_date":1522897204,"answer_id":49663457,"question_id":41344095,"body_markdown":"Use `DecimalFormat` from `java.text` to work on `Minimum API `below 21\r\n\r\n    #import java.text\r\n    ....\r\n    double num = 123456.78;\r\n    String newValue = new DecimalFormat(&quot;##.##&quot;).format(num);","title":"Formatting currency or double for Android API level 15 and above","body":"<p>Use <code>DecimalFormat</code> from <code>java.text</code> to work on <code>Minimum API</code>below 21</p>\n\n<pre><code>#import java.text\n....\ndouble num = 123456.78;\nString newValue = new DecimalFormat(\"##.##\").format(num);\n</code></pre>\n"}],"owner":{"account_id":2493335,"reputation":9184,"user_id":2170392,"accept_rate":73,"display_name":"Edper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2058,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":41344879,"answer_count":3,"score":3,"last_activity_date":1665855581,"creation_date":1482837144,"question_id":41344095,"body_markdown":"I want to format a number in `Android` (or `Java` for that matter) say\r\n\r\n    12345.67\r\n\r\nto\r\n\r\n    12,345.67\r\n\r\n\r\nBut that it will work with lower API level, namely, from API level 15 and up.\r\n\r\nI tried **NumberFormat** `NumberFormat.getInstance().format(myNumber)` or `NumberFormat.getCurrencyInstance().format(myNumber)` to no avail. Also I tried **DecimalFormat** without success also, that is, it will give you a warning `Call requires API level 24 (current min is 15)` which basically means that although my code will work with phone running on API level 24 but not with older version of Android that uses at least API level 15.\r\n\r\nSo, what would be my recourse? I don&#39;t want to use by the way a utility function just for this but preferably a method from a library. Also `System.out.format()` is out of the question, since I want to show it using `Toast`.","title":"Formatting currency or double for Android API level 15 and above","body":"<p>I want to format a number in <code>Android</code> (or <code>Java</code> for that matter) say</p>\n\n<pre><code>12345.67\n</code></pre>\n\n<p>to</p>\n\n<pre><code>12,345.67\n</code></pre>\n\n<p>But that it will work with lower API level, namely, from API level 15 and up.</p>\n\n<p>I tried <strong>NumberFormat</strong> <code>NumberFormat.getInstance().format(myNumber)</code> or <code>NumberFormat.getCurrencyInstance().format(myNumber)</code> to no avail. Also I tried <strong>DecimalFormat</strong> without success also, that is, it will give you a warning <code>Call requires API level 24 (current min is 15)</code> which basically means that although my code will work with phone running on API level 24 but not with older version of Android that uses at least API level 15.</p>\n\n<p>So, what would be my recourse? I don't want to use by the way a utility function just for this but preferably a method from a library. Also <code>System.out.format()</code> is out of the question, since I want to show it using <code>Toast</code>.</p>\n"},{"tags":["java","multithreading"],"answers":[{"comments":[{"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"score":0,"creation_date":1361441357,"post_id":14999254,"comment_id":21068885,"body_markdown":"+1 good points. Except that the last paragraph is not applicable since the OP is interested in a fixed delay and not a fixed rate scheduling scheme.","body":"+1 good points. Except that the last paragraph is not applicable since the OP is interested in a fixed delay and not a fixed rate scheduling scheme."},{"owner":{"account_id":326925,"reputation":14868,"user_id":648955,"accept_rate":62,"display_name":"leventov"},"score":0,"creation_date":1580309368,"post_id":14999254,"comment_id":106055970,"body_markdown":"Approach 2) also has a problem with clock drift. See [this blog post](https://medium.com/@leventov/cronscheduler-a-reliable-java-scheduler-for-external-interactions-cb7ce4a4f2cd) for details.","body":"Approach 2) also has a problem with clock drift. See <a href=\"https://medium.com/@leventov/cronscheduler-a-reliable-java-scheduler-for-external-interactions-cb7ce4a4f2cd\" rel=\"nofollow noreferrer\">this blog post</a> for details."}],"tags":[],"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1361441466,"creation_date":1361440637,"answer_id":14999254,"question_id":14999146,"body_markdown":"Approach 2) is recommended.&lt;br/&gt;\r\n\r\nApproach one is not robust to random awakenings by the underlying threading system (especially on UNIX) and also you would need to implement your own error handling&lt;/br&gt;\r\n\r\nApproach two allows you to abstract from the underlying `Thread` and work with the `Runnable` or `Callable`.&lt;br/&gt;\r\n\r\nFurthermore approach 1) has the problem of clock drift, i.e. your task takes a non-zero time to execute therefore it will **not** execute every ten seconds. The `ScheduledExecutorService` will actually schedule execution every second or, if it&#39;s desired, with a ten second interval.&lt;br/&gt;\r\n\r\nApproach 2) provides for a simple way to schedule the thread to do something for a period of time and them kill it as per the example in the [javadoc](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/ScheduledExecutorService.html).&lt;br/&gt;\r\n\r\nFinally, the `ExecutorSevice` is much easier to shut down that a custom thread, simply calling `executorService.shutdown()` and then `executorService.awaitTermination()` to wait for the last task to finish.&lt;br/&gt;\r\n\r\nOne thing you may want to note is this gem from the javadoc - &quot; If any execution of the task encounters an exception, subsequent executions are suppressed&quot;. This means either that you have to be very careful about `try/catch` in your `Callable` or you need to subclass the `ScheduledExecutorService` thus (taken from the javadoc):\r\n\r\n    public class MyScheduledExecutor extends ScheduledThreadPoolExecutor {\r\n    \r\n        public MyScheduledExecutor(int corePoolSize) {\r\n            super(corePoolSize);\r\n        }\r\n    \r\n        @Override\r\n        protected void afterExecute(Runnable r, Throwable t) {\r\n            super.afterExecute(r, t);\r\n            if (t == null &amp;&amp; r instanceof Future&lt;?&gt;) {\r\n                try {\r\n                    Object result = ((Future&lt;?&gt;) r).get();\r\n                } catch (CancellationException ce) {\r\n                    t = ce;\r\n                } catch (ExecutionException ee) {\r\n                    t = ee.getCause();\r\n                } catch (InterruptedException ie) {\r\n                    Thread.currentThread().interrupt(); // ignore/reset\r\n                }\r\n            }\r\n            if (t != null) {\r\n                System.out.println(t);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Which is better of following two approach to schedule and stop thread","body":"<p>Approach 2) is recommended.<br/></p>\n\n<p>Approach one is not robust to random awakenings by the underlying threading system (especially on UNIX) and also you would need to implement your own error handling</p>\n\n<p>Approach two allows you to abstract from the underlying <code>Thread</code> and work with the <code>Runnable</code> or <code>Callable</code>.<br/></p>\n\n<p>Furthermore approach 1) has the problem of clock drift, i.e. your task takes a non-zero time to execute therefore it will <strong>not</strong> execute every ten seconds. The <code>ScheduledExecutorService</code> will actually schedule execution every second or, if it's desired, with a ten second interval.<br/></p>\n\n<p>Approach 2) provides for a simple way to schedule the thread to do something for a period of time and them kill it as per the example in the <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow\">javadoc</a>.<br/></p>\n\n<p>Finally, the <code>ExecutorSevice</code> is much easier to shut down that a custom thread, simply calling <code>executorService.shutdown()</code> and then <code>executorService.awaitTermination()</code> to wait for the last task to finish.<br/></p>\n\n<p>One thing you may want to note is this gem from the javadoc - \" If any execution of the task encounters an exception, subsequent executions are suppressed\". This means either that you have to be very careful about <code>try/catch</code> in your <code>Callable</code> or you need to subclass the <code>ScheduledExecutorService</code> thus (taken from the javadoc):</p>\n\n<pre><code>public class MyScheduledExecutor extends ScheduledThreadPoolExecutor {\n\n    public MyScheduledExecutor(int corePoolSize) {\n        super(corePoolSize);\n    }\n\n    @Override\n    protected void afterExecute(Runnable r, Throwable t) {\n        super.afterExecute(r, t);\n        if (t == null &amp;&amp; r instanceof Future&lt;?&gt;) {\n            try {\n                Object result = ((Future&lt;?&gt;) r).get();\n            } catch (CancellationException ce) {\n                t = ce;\n            } catch (ExecutionException ee) {\n                t = ee.getCause();\n            } catch (InterruptedException ie) {\n                Thread.currentThread().interrupt(); // ignore/reset\n            }\n        }\n        if (t != null) {\n            System.out.println(t);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665855159,"creation_date":1361440695,"answer_id":14999271,"question_id":14999146,"body_markdown":"&gt; Can first approach cause any memory issues?\r\n\r\nNo. The biggest issue is in managing the visibility of the `flag` variable. The `Thread` class encapsulates the concept of an interrupt flag for a reason.","title":"Which is better of following two approach to schedule and stop thread","body":"<blockquote>\n<p>Can first approach cause any memory issues?</p>\n</blockquote>\n<p>No. The biggest issue is in managing the visibility of the <code>flag</code> variable. The <code>Thread</code> class encapsulates the concept of an interrupt flag for a reason.</p>\n"}],"owner":{"account_id":155915,"reputation":6798,"user_id":372887,"accept_rate":80,"display_name":"RandomQuestion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":14999254,"answer_count":2,"score":2,"last_activity_date":1665855159,"creation_date":1361440311,"question_id":14999146,"body_markdown":"I have generally seen two approaches to implement a daemon which does some work and goes to sleep and wakes up again.\r\n\r\n 1. while(flag) approach where flag is true and is set to false by some other class if we want to stop the daemon.\r\n\r\n        while(flag){\r\n           //do something\r\n           Thread.sleep(10000l);\r\n        }\r\n\r\n 2. Scheduling with ScheduledThreadPoolExecutor using fixed delay.\r\n\r\nIMO, second approach is much more cleaner and easy to test. Could someone compare these two approach. Can first approach cause any memory issues?\r\n\r\nThanks","title":"Which is better of following two approach to schedule and stop thread","body":"<p>I have generally seen two approaches to implement a daemon which does some work and goes to sleep and wakes up again.</p>\n\n<ol>\n<li><p>while(flag) approach where flag is true and is set to false by some other class if we want to stop the daemon.</p>\n\n<pre><code>while(flag){\n   //do something\n   Thread.sleep(10000l);\n}\n</code></pre></li>\n<li><p>Scheduling with ScheduledThreadPoolExecutor using fixed delay.</p></li>\n</ol>\n\n<p>IMO, second approach is much more cleaner and easy to test. Could someone compare these two approach. Can first approach cause any memory issues?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":367982,"reputation":179383,"user_id":714501,"display_name":"cnicutar"},"score":0,"creation_date":1304317921,"post_id":5853989,"comment_id":6726398,"body_markdown":"Duplicate: http://stackoverflow.com/questions/804951/is-it-possible-to-read-from-a-java-inputstream-with-a-timeout","body":"Duplicate: <a href=\"http://stackoverflow.com/questions/804951/is-it-possible-to-read-from-a-java-inputstream-with-a-timeout\" title=\"is it possible to read from a java inputstream with a timeout\">stackoverflow.com/questions/804951/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":364677,"reputation":1317,"user_id":709194,"accept_rate":77,"display_name":"hari"},"score":0,"creation_date":1304318093,"post_id":5854048,"comment_id":6726427,"body_markdown":"Is there any other simpler way?Because I don&#39;t have timer and timertask classes in my java.util package","body":"Is there any other simpler way?Because I don&#39;t have timer and timertask classes in my java.util package"},{"owner":{"account_id":270781,"reputation":11897,"user_id":560934,"accept_rate":61,"display_name":"Nirmal- thInk beYond"},"score":0,"creation_date":1304318856,"post_id":5854048,"comment_id":6726544,"body_markdown":"start thread, simply use while loop for your time and after interval use thread.destroy();","body":"start thread, simply use while loop for your time and after interval use thread.destroy();"},{"owner":{"account_id":364677,"reputation":1317,"user_id":709194,"accept_rate":77,"display_name":"hari"},"score":0,"creation_date":1304329365,"post_id":5854048,"comment_id":6728396,"body_markdown":"i have something to ask u..lets say i have written this - \n                 \nThread t = new Thread();            \nt.start(); //i started a thread     \ndo {//my logic}while(condition);       \nt.destroy();   //i destroyed the thread.but not sure why.     \n\nIs my code skeleton correct? And what is the condition i have to put inside while()?     \n\nCan u pls clear all of my doubts?","body":"i have something to ask u..lets say i have written this -                    Thread t = new Thread();             t.start(); //i started a thread      do {//my logic}while(condition);        t.destroy();   //i destroyed the thread.but not sure why.       Is my code skeleton correct? And what is the condition i have to put inside while()?       Can u pls clear all of my doubts?"},{"owner":{"account_id":270781,"reputation":11897,"user_id":560934,"accept_rate":61,"display_name":"Nirmal- thInk beYond"},"score":0,"creation_date":1304339627,"post_id":5854048,"comment_id":6730737,"body_markdown":"in your case you dont need to use while because you want to exit if user input something, so if user not inputs something then u have to wait for specified time so so your login is right just remove while loop","body":"in your case you dont need to use while because you want to exit if user input something, so if user not inputs something then u have to wait for specified time so so your login is right just remove while loop"},{"owner":{"account_id":364677,"reputation":1317,"user_id":709194,"accept_rate":77,"display_name":"hari"},"score":0,"creation_date":1304396698,"post_id":5854048,"comment_id":6741856,"body_markdown":"I guess i didn&#39;t tell u properly. I want to wait for the user to input some value. But i want to wait only for a few seconds. After that specified time i want to show an error and exit.Also now my problem is, the sysout and sysinread - both come inside a for loop. So is it not possible for me to continue with the next iteration?I have updated my code..","body":"I guess i didn&#39;t tell u properly. I want to wait for the user to input some value. But i want to wait only for a few seconds. After that specified time i want to show an error and exit.Also now my problem is, the sysout and sysinread - both come inside a for loop. So is it not possible for me to continue with the next iteration?I have updated my code.."},{"owner":{"account_id":8355030,"reputation":88,"user_id":6275653,"display_name":"MRazian"},"score":0,"creation_date":1588945362,"post_id":5854048,"comment_id":109102846,"body_markdown":"what is task statement?","body":"what is task statement?"}],"tags":[],"owner":{"account_id":270781,"reputation":11897,"user_id":560934,"accept_rate":61,"display_name":"Nirmal- thInk beYond"},"comment_count":6,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1462318111,"creation_date":1304317361,"answer_id":5854048,"question_id":5853989,"body_markdown":"    import java.util.Timer;\r\n    import java.util.TimerTask;\r\n    import java.io.*;\r\n    public class test\r\n    {\r\n        private String str = &quot;&quot;;\r\n    \r\n        TimerTask task = new TimerTask()\r\n        {\r\n            public void run()\r\n            {\r\n                if( str.equals(&quot;&quot;) )\r\n                {\r\n                    System.out.println( &quot;you input nothing. exit...&quot; );\r\n                    System.exit( 0 );\r\n                }\r\n            }    \r\n        };\r\n    \r\n        public void getInput() throws Exception\r\n        {\r\n            Timer timer = new Timer();\r\n            timer.schedule( task, 10*1000 );\r\n    \r\n            System.out.println( &quot;Input a string within 10 seconds: &quot; );\r\n            BufferedReader in = new BufferedReader(\r\n            new InputStreamReader( System.in ) );\r\n            str = in.readLine();\r\n    \r\n            timer.cancel();\r\n            System.out.println( &quot;you have entered: &quot;+ str ); \r\n        }\r\n    \r\n        public static void main( String[] args )\r\n        {\r\n            try\r\n            {\r\n                (new test()).getInput();\r\n            }\r\n            catch( Exception e )\r\n            {\r\n                System.out.println( e );\r\n            }\r\n            System.out.println( &quot;main exit...&quot; );\r\n        }\r\n    }","title":"Time limit for an input","body":"<pre><code>import java.util.Timer;\nimport java.util.TimerTask;\nimport java.io.*;\npublic class test\n{\n    private String str = \"\";\n\n    TimerTask task = new TimerTask()\n    {\n        public void run()\n        {\n            if( str.equals(\"\") )\n            {\n                System.out.println( \"you input nothing. exit...\" );\n                System.exit( 0 );\n            }\n        }    \n    };\n\n    public void getInput() throws Exception\n    {\n        Timer timer = new Timer();\n        timer.schedule( task, 10*1000 );\n\n        System.out.println( \"Input a string within 10 seconds: \" );\n        BufferedReader in = new BufferedReader(\n        new InputStreamReader( System.in ) );\n        str = in.readLine();\n\n        timer.cancel();\n        System.out.println( \"you have entered: \"+ str ); \n    }\n\n    public static void main( String[] args )\n    {\n        try\n        {\n            (new test()).getInput();\n        }\n        catch( Exception e )\n        {\n            System.out.println( e );\n        }\n        System.out.println( \"main exit...\" );\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":364677,"reputation":1317,"user_id":709194,"accept_rate":77,"display_name":"hari"},"score":0,"creation_date":1304318045,"post_id":5854052,"comment_id":6726417,"body_markdown":"Is there any other simpler way?Because I am not using that maven in my project.","body":"Is there any other simpler way?Because I am not using that maven in my project."},{"owner":{"account_id":67792,"reputation":5168,"user_id":198153,"accept_rate":96,"display_name":"chzbrgla"},"score":0,"creation_date":1304318326,"post_id":5854052,"comment_id":6726461,"body_markdown":"You can use joda-time without maven aswell :p","body":"You can use joda-time without maven aswell :p"}],"tags":[],"owner":{"account_id":67792,"reputation":5168,"user_id":198153,"accept_rate":96,"display_name":"chzbrgla"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1665855125,"creation_date":1304317378,"answer_id":5854052,"question_id":5853989,"body_markdown":"I use joda-time for this kind of stuff:\r\n\r\nmaven:\r\n\r\n      &lt;!--  Joda Time --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nWhen prompting to input, set a LocalDateTime variable:\r\n\r\n     LocalDateTime timeOut = new LocalDateTime().plusSeconds(15);\r\n\r\nAnd loop until user either inputs or the timeout is reached:\r\n     \r\n     if (timeOut.isBefore(new LocalDateTime())) {\r\n     //throw your exception if this case happens\r\n     }\r\n","title":"Time limit for an input","body":"<p>I use joda-time for this kind of stuff:</p>\n<p>maven:</p>\n<pre><code>  &lt;!--  Joda Time --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;joda-time&lt;/groupId&gt;\n        &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n        &lt;version&gt;1.6.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>When prompting to input, set a LocalDateTime variable:</p>\n<pre><code> LocalDateTime timeOut = new LocalDateTime().plusSeconds(15);\n</code></pre>\n<p>And loop until user either inputs or the timeout is reached:</p>\n<pre><code> if (timeOut.isBefore(new LocalDateTime())) {\n //throw your exception if this case happens\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":1,"creation_date":1490720861,"post_id":39631814,"comment_id":73234942,"body_markdown":"This will wait until you provide an input.","body":"This will wait until you provide an input."}],"tags":[],"owner":{"account_id":5269940,"reputation":213,"user_id":4208539,"accept_rate":0,"display_name":"Felix"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1474526321,"creation_date":1474525916,"answer_id":39631814,"question_id":5853989,"body_markdown":"How about something as simple as this:\r\n\r\n        Scanner reader = new Scanner(System.in); \r\n        System.out.println(&quot;Enter a number: &quot;);\r\n        long limit = 5000L;\r\n        long startTime = System.currentTimeMillis();\r\n        Long l = reader.nextLong();\r\n        if ((startTime + limit) &lt; System.currentTimeMillis())\r\n            System.out.println(&quot;Sorry, your answer is too late&quot;);\r\n        else\r\n            System.out.println(&quot;Your answer is on time&quot;);\r\n\r\nThis will not throw an exception, only inform the user about being too late with his answer. (related to another question that was referred to this post).","title":"Time limit for an input","body":"<p>How about something as simple as this:</p>\n\n<pre><code>    Scanner reader = new Scanner(System.in); \n    System.out.println(\"Enter a number: \");\n    long limit = 5000L;\n    long startTime = System.currentTimeMillis();\n    Long l = reader.nextLong();\n    if ((startTime + limit) &lt; System.currentTimeMillis())\n        System.out.println(\"Sorry, your answer is too late\");\n    else\n        System.out.println(\"Your answer is on time\");\n</code></pre>\n\n<p>This will not throw an exception, only inform the user about being too late with his answer. (related to another question that was referred to this post).</p>\n"}],"owner":{"account_id":364677,"reputation":1317,"user_id":709194,"accept_rate":77,"display_name":"hari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16889,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":5854048,"answer_count":3,"score":10,"last_activity_date":1665855125,"creation_date":1304316891,"question_id":5853989,"body_markdown":"Suppose I have a code where it asks the user to give some input, something like this:\r\n\r\n    for (condition) {\r\n    System.out.println(&quot;Please give some input&quot;);\r\n    System.in.read();\r\n    } //lets say this loop repeats 3 times and i face a problem during second iteration\r\n\r\nbut I want to give the user a 60 second time limit, and then throw an exception (in this case, I think its `TimeOutException`). How do I do that?\r\n","title":"Time limit for an input","body":"<p>Suppose I have a code where it asks the user to give some input, something like this:</p>\n\n<pre><code>for (condition) {\nSystem.out.println(\"Please give some input\");\nSystem.in.read();\n} //lets say this loop repeats 3 times and i face a problem during second iteration\n</code></pre>\n\n<p>but I want to give the user a 60 second time limit, and then throw an exception (in this case, I think its <code>TimeOutException</code>). How do I do that?</p>\n"},{"tags":["java","oracle","oracle-ebs"],"answers":[{"tags":[],"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665853954,"creation_date":1493306169,"answer_id":43661739,"question_id":43657887,"body_markdown":"The log path is \r\n\r\n&gt; $FMW_HOME/user_projects/domains/EBS_domain_{sid}/servers/oacore_server1/logs\r\n\r\nFile I was looking for is **&quot;oacore_server1.out&quot;**\r\n\r\n","title":"Log file in EBS R12.2.6 which gives system.out.println statements in side .java files","body":"<p>The log path is</p>\n<blockquote>\n<p>$FMW_HOME/user_projects/domains/EBS_domain_{sid}/servers/oacore_server1/logs</p>\n</blockquote>\n<p>File I was looking for is <strong>&quot;oacore_server1.out&quot;</strong></p>\n"}],"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":558,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":43661739,"answer_count":1,"score":-1,"last_activity_date":1665853954,"creation_date":1493296246,"question_id":43657887,"body_markdown":"can someone help me with the name of the log file and location in EBS R12.2.6 , where the statements inside println statments of JAVA is getting logged.","title":"Log file in EBS R12.2.6 which gives system.out.println statements in side .java files","body":"<p>can someone help me with the name of the log file and location in EBS R12.2.6 , where the statements inside println statments of JAVA is getting logged.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":0,"creation_date":1596433588,"post_id":63224137,"comment_id":111799366,"body_markdown":"Have you checked the resulting jar or the manifest ?","body":"Have you checked the resulting jar or the manifest ?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1596434728,"post_id":63224137,"comment_id":111799617,"body_markdown":"Spring uses the default XML stuff of the JDK it doesn&#39;t use a dependency for that.","body":"Spring uses the default XML stuff of the JDK it doesn&#39;t use a dependency for that."},{"owner":{"account_id":2909775,"reputation":551,"user_id":2494308,"accept_rate":40,"display_name":"Max Li"},"score":0,"creation_date":1596434863,"post_id":63224137,"comment_id":111799647,"body_markdown":"I am using openjdk 1.8. Is xerces included by the JDK installation? Where I can find the default XML?","body":"I am using openjdk 1.8. Is xerces included by the JDK installation? Where I can find the default XML?"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1596440239,"post_id":63224137,"comment_id":111801447,"body_markdown":"Are you using eclipse ?","body":"Are you using eclipse ?"},{"owner":{"account_id":2909775,"reputation":551,"user_id":2494308,"accept_rate":40,"display_name":"Max Li"},"score":1,"creation_date":1596440463,"post_id":63224137,"comment_id":111801522,"body_markdown":"no I am not using eclipse. I simply use gradle to build my java application, which uses spring. And the spring use xerces. I loss the track there. I find out that I don&#39;t know where does the spring pick up xercers nor the version of it.","body":"no I am not using eclipse. I simply use gradle to build my java application, which uses spring. And the spring use xerces. I loss the track there. I find out that I don&#39;t know where does the spring pick up xercers nor the version of it."},{"owner":{"account_id":2909775,"reputation":551,"user_id":2494308,"accept_rate":40,"display_name":"Max Li"},"score":0,"creation_date":1596440579,"post_id":63224137,"comment_id":111801557,"body_markdown":"My build result is an tomcat WAR file. I searched the whole directory tree and found no jar file has xercers in its name.","body":"My build result is an tomcat WAR file. I searched the whole directory tree and found no jar file has xercers in its name."},{"owner":{"account_id":5320261,"reputation":7235,"user_id":4243908,"accept_rate":77,"display_name":"George"},"score":0,"creation_date":1666011308,"post_id":63224137,"comment_id":130826999,"body_markdown":"See https://stackoverflow.com/questions/63243062/how-do-i-figure-out-what-version-of-xerces-used-in-my-openjdk-library/74081475#74081475","body":"See <a href=\"https://stackoverflow.com/questions/63243062/how-do-i-figure-out-what-version-of-xerces-used-in-my-openjdk-library/74081475#74081475\" title=\"how do i figure out what version of xerces used in my openjdk library\">stackoverflow.com/questions/63243062/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2909775,"reputation":551,"user_id":2494308,"accept_rate":40,"display_name":"Max Li"},"score":1,"creation_date":1596441834,"post_id":63225548,"comment_id":111802008,"body_markdown":"Yes, this is very helpful! I have no idea xerces is included inside rt.jar. No online tutorial tells me that. Thanks a lot!","body":"Yes, this is very helpful! I have no idea xerces is included inside rt.jar. No online tutorial tells me that. Thanks a lot!"}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1596440546,"creation_date":1596440546,"answer_id":63225548,"question_id":63224137,"body_markdown":"*It uses the JDK&#39;s default library for XML parser. So, it is not using any third party jar for parsing XML.*\r\n\r\nBasically, it is using the **rt.jar** of your **jdk/../jre/lib** directory for getting classes to parse XML.\r\n\r\nThe package it is using is : `com.sun.org.apache.xerces.*`\r\n\r\n\r\n\r\n","title":"How to find what apache.xerces version does spring-framework use?","body":"<p><em>It uses the JDK's default library for XML parser. So, it is not using any third party jar for parsing XML.</em></p>\n<p>Basically, it is using the <strong>rt.jar</strong> of your <strong>jdk/../jre/lib</strong> directory for getting classes to parse XML.</p>\n<p>The package it is using is : <code>com.sun.org.apache.xerces.*</code></p>\n"}],"owner":{"account_id":2909775,"reputation":551,"user_id":2494308,"accept_rate":40,"display_name":"Max Li"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63225548,"answer_count":1,"score":1,"last_activity_date":1665853840,"creation_date":1596432230,"question_id":63224137,"body_markdown":"I am using Spring-framework v5.2.1.RELEASE. The DefaultDocumentLoader.java in spring bean factory has following code:\r\n\r\n```\r\nimport javax.xml.parsers.DocumentBuilder;\r\n...\r\nDocumentBuilder builder = createDocumentBuilder(factory, entityResolver, errorHandler);\r\n```\r\n\r\nI know that spring uses `apache.xerces.internal.parsers`. But I don&#39;t know which version of Xerces does it use? In spring directory, I did `gradlew -q dependencies` and searched the dependency list.\r\nI did not find xerces or parsers. How to figure out the xerces version in use?","title":"How to find what apache.xerces version does spring-framework use?","body":"<p>I am using Spring-framework v5.2.1.RELEASE. The DefaultDocumentLoader.java in spring bean factory has following code:</p>\n<pre><code>import javax.xml.parsers.DocumentBuilder;\n...\nDocumentBuilder builder = createDocumentBuilder(factory, entityResolver, errorHandler);\n</code></pre>\n<p>I know that spring uses <code>apache.xerces.internal.parsers</code>. But I don't know which version of Xerces does it use? In spring directory, I did <code>gradlew -q dependencies</code> and searched the dependency list.\nI did not find xerces or parsers. How to figure out the xerces version in use?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":11580831,"reputation":2846,"user_id":8484783,"display_name":"Marc"},"score":1,"creation_date":1596531680,"post_id":63243062,"comment_id":111833522,"body_markdown":"Does this answer your question? [How to find what apache.xerces version does spring-framework use?](https://stackoverflow.com/questions/63224137/how-to-find-what-apache-xerces-version-does-spring-framework-use)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/63224137/how-to-find-what-apache-xerces-version-does-spring-framework-use\">How to find what apache.xerces version does spring-framework use?</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1596532956,"post_id":63243062,"comment_id":111834126,"body_markdown":"@marc That doesn&#39;t answer the question which version of Xerces is included in OpenJDK 8.","body":"@marc That doesn&#39;t answer the question which version of Xerces is included in OpenJDK 8."}],"answers":[{"tags":[],"owner":{"account_id":5320261,"reputation":7235,"user_id":4243908,"accept_rate":77,"display_name":"George"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665853730,"creation_date":1665853730,"answer_id":74081475,"question_id":63243062,"body_markdown":"Up to java 8 you check the bundled xerces version with:\r\n\r\n    java com.sun.org.apache.xerces.internal.impl.Version\r\n\r\nAfter java 8 (i.e from java 9 upwards) you can extract the `jmods/java.xml.jmod` with:\r\n\r\n    jmod extract java.xml.jmod\r\n\r\nAnd then look in the just extracted `legal/xerces.md`. Usually the version is on the first line stated as a commented text.\r\n\r\n","title":"how do I figure out what version of xerces used in my OpenJDK library?","body":"<p>Up to java 8 you check the bundled xerces version with:</p>\n<pre><code>java com.sun.org.apache.xerces.internal.impl.Version\n</code></pre>\n<p>After java 8 (i.e from java 9 upwards) you can extract the <code>jmods/java.xml.jmod</code> with:</p>\n<pre><code>jmod extract java.xml.jmod\n</code></pre>\n<p>And then look in the just extracted <code>legal/xerces.md</code>. Usually the version is on the first line stated as a commented text.</p>\n"}],"owner":{"account_id":2909775,"reputation":551,"user_id":2494308,"accept_rate":40,"display_name":"Max Li"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":903,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1665853730,"creation_date":1596530167,"question_id":63243062,"body_markdown":"I am developing a Java application using Spring framework. Spring uses the Apache Xerces library which is included inside rt.jar comes with my java OpenJDK 8 installation. I wonder how do I know what exact version of Xerces is used in rt.jar?\r\n\r\nThe suggested answer at https://stackoverflow.com/questions/63224137/how-to-find-what-apache-xerces-version-does-spring-framework-use does not answer my question here. It does not tell how to find out the xerces version from rt.lib","title":"how do I figure out what version of xerces used in my OpenJDK library?","body":"<p>I am developing a Java application using Spring framework. Spring uses the Apache Xerces library which is included inside rt.jar comes with my java OpenJDK 8 installation. I wonder how do I know what exact version of Xerces is used in rt.jar?</p>\n<p>The suggested answer at <a href=\"https://stackoverflow.com/questions/63224137/how-to-find-what-apache-xerces-version-does-spring-framework-use\">How to find what apache.xerces version does spring-framework use?</a> does not answer my question here. It does not tell how to find out the xerces version from rt.lib</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1665851528,"post_id":74081162,"comment_id":130797733,"body_markdown":"It runs 2 times because you call it 2 times in your code. once directly in the `main` method and once inside the method `arrayskapare()` that you call from your main.","body":"It runs 2 times because you call it 2 times in your code. once directly in the <code>main</code> method and once inside the method <code>arrayskapare()</code> that you call from your main."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665853058,"post_id":74081162,"comment_id":130798077,"body_markdown":"suggest not to create that many instances of `Scanner`, prefer using a single one || this kind of problem is best analyzed using a debugger ((it is running as coded if entering the correct amount of integers - but all methods are being called too often))","body":"suggest not to create that many instances of <code>Scanner</code>, prefer using a single one || this kind of problem is best analyzed using a debugger ((it is running as coded if entering the correct amount of integers - but all methods are being called too often))"}],"answers":[{"tags":[],"owner":{"account_id":1643900,"reputation":13042,"user_id":1515834,"accept_rate":82,"display_name":"Bobulous"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665853354,"creation_date":1665852953,"answer_id":74081385,"question_id":74081162,"body_markdown":"Your main method is calling each method just once, which is what you need. But it&#39;s not actually holding onto any of the values being returned. So the number of heltal (integers in English) is captured from the user but then never actually stored anywhere. And later an array of numbers is captured but not stored anywhere.\r\n\r\nYour second, bigger problem is that your methods are then calling the earlier methods all over again. So instead of asking the user to type in the data just once, you&#39;re forcing them to answer the exact same questions multiple times.\r\n\r\nA much tidier approach is to alter your methods so that they take the required data as a parameter. Which means your `arrayskapare` (array producer) method should take the `antalHeltal` (number of integers) value as a parameter, and then it won&#39;t need to call the `scanInput1` method again. Same thing can be done for your `medelvarde` (mean value) method: have it take the array as a method parameter, so that it won&#39;t need to call `arrayskapare`.\r\n\r\nWith those changes your main method can simply look like this:\r\n\r\n    public static void main(String [] args){\r\n        int antalHeltal = scanInput1();\r\n        List&lt;Integer&gt; heltalArray = arrayskapare(antalHeltal);\r\n        int medelvardet = medelvarde(heltalArray);\r\n        System.out.println(&quot;Medelv&#228;rdet &#228;r &quot; + medelvardet);\r\n    }\r\n\r\nNow each method just gets called once and the data captured from the user gets stored into variables and passed along the river of methods until the final result is reached.","title":"When I run my methods it keeps repeating itself and doesn&#39;t move on java","body":"<p>Your main method is calling each method just once, which is what you need. But it's not actually holding onto any of the values being returned. So the number of heltal (integers in English) is captured from the user but then never actually stored anywhere. And later an array of numbers is captured but not stored anywhere.</p>\n<p>Your second, bigger problem is that your methods are then calling the earlier methods all over again. So instead of asking the user to type in the data just once, you're forcing them to answer the exact same questions multiple times.</p>\n<p>A much tidier approach is to alter your methods so that they take the required data as a parameter. Which means your <code>arrayskapare</code> (array producer) method should take the <code>antalHeltal</code> (number of integers) value as a parameter, and then it won't need to call the <code>scanInput1</code> method again. Same thing can be done for your <code>medelvarde</code> (mean value) method: have it take the array as a method parameter, so that it won't need to call <code>arrayskapare</code>.</p>\n<p>With those changes your main method can simply look like this:</p>\n<pre><code>public static void main(String [] args){\n    int antalHeltal = scanInput1();\n    List&lt;Integer&gt; heltalArray = arrayskapare(antalHeltal);\n    int medelvardet = medelvarde(heltalArray);\n    System.out.println(&quot;Medelvärdet är &quot; + medelvardet);\n}\n</code></pre>\n<p>Now each method just gets called once and the data captured from the user gets stored into variables and passed along the river of methods until the final result is reached.</p>\n"}],"owner":{"account_id":26507739,"reputation":9,"user_id":20143617,"display_name":"teambubbel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1665853354,"creation_date":1665851118,"question_id":74081162,"body_markdown":"\r\nLike the caption said the method &quot;scanInput1&quot; runs two times in a row when it should only run once. Then the method &quot;arrayskapare&quot; runs as intended but after that. instead of running the method &quot;medelvarde&quot; is jumps back and runs &quot;scanInput1&quot; again and again and again\r\n\r\n ``` \r\nimport java.util.*;\r\n\r\nclass Heltalshanterare{\r\n    private static String scanInput1(){\r\n    System.out.print(&quot;Skriv in antal heltal: &quot;);\r\n        Scanner scr = new Scanner(System.in);\r\n        String antalHeltal = scr.next();\r\n\r\n        try {\r\n            Integer.parseInt(antalHeltal);\r\n        }\r\n        catch (NumberFormatException e) {\r\n            System.out.println(&quot;Ogilitigt v&#228;rde&quot;);\r\n            scanInput1();\r\n        }\r\n        return antalHeltal;\r\n\r\n    }\r\n    private static List&lt;Integer&gt; arrayskapare() {\r\n        int antalangivnatal = Integer.parseInt(scanInput1());\r\n        int noll = 1;\r\n        int heltal = 0;\r\n        String tal1 = &quot;&quot;;\r\n\r\n        Scanner tal = new Scanner(System.in);\r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        while (noll &lt;= antalangivnatal) {\r\n            noll++;\r\n            heltal++;\r\n            System.out.print(&quot;ange heltal &quot; + heltal + &quot;: &quot;);\r\n\r\n            tal1 = tal.next();\r\n\r\n            try {\r\n                int num = Integer.parseInt(tal1);\r\n                list.add(num);\r\n            } catch (NumberFormatException e) {\r\n                System.out.println(&quot;Ogiltigt v&#228;rde&quot;);\r\n                noll--;\r\n                heltal--;\r\n            }\r\n\r\n\r\n        }\r\n\r\n        return list;\r\n    }\r\n\r\n    public static int medelvarde(){\r\n        int antalsiffror = arrayskapare().size();\r\n        int sum = 0;\r\n\r\n        for (int i : arrayskapare()){sum += i;}\r\n\r\n        int medelv&#228;rde = sum / antalsiffror;\r\n         System.out.println(&quot;medelv&#228;rdet av dina tal &#228;r &quot; + medelv&#228;rde);\r\n\r\n        return medelvarde();\r\n    }\r\n\r\n    public static void main(String [] args){\r\n        scanInput1();\r\n        arrayskapare();\r\n        medelvarde();\r\n\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nIm sorry that the code is so long but I have been struggling with this for too long and I really need some help. ","title":"When I run my methods it keeps repeating itself and doesn&#39;t move on java","body":"<p>Like the caption said the method &quot;scanInput1&quot; runs two times in a row when it should only run once. Then the method &quot;arrayskapare&quot; runs as intended but after that. instead of running the method &quot;medelvarde&quot; is jumps back and runs &quot;scanInput1&quot; again and again and again</p>\n<pre><code>import java.util.*;\n\nclass Heltalshanterare{\n   private static String scanInput1(){\n   System.out.print(&quot;Skriv in antal heltal: &quot;);\n       Scanner scr = new Scanner(System.in);\n       String antalHeltal = scr.next();\n\n       try {\n           Integer.parseInt(antalHeltal);\n       }\n       catch (NumberFormatException e) {\n           System.out.println(&quot;Ogilitigt värde&quot;);\n           scanInput1();\n       }\n       return antalHeltal;\n\n   }\n   private static List&lt;Integer&gt; arrayskapare() {\n       int antalangivnatal = Integer.parseInt(scanInput1());\n       int noll = 1;\n       int heltal = 0;\n       String tal1 = &quot;&quot;;\n\n       Scanner tal = new Scanner(System.in);\n       List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n       while (noll &lt;= antalangivnatal) {\n           noll++;\n           heltal++;\n           System.out.print(&quot;ange heltal &quot; + heltal + &quot;: &quot;);\n\n           tal1 = tal.next();\n\n           try {\n               int num = Integer.parseInt(tal1);\n               list.add(num);\n           } catch (NumberFormatException e) {\n               System.out.println(&quot;Ogiltigt värde&quot;);\n               noll--;\n               heltal--;\n           }\n\n\n       }\n\n       return list;\n   }\n\n   public static int medelvarde(){\n       int antalsiffror = arrayskapare().size();\n       int sum = 0;\n\n       for (int i : arrayskapare()){sum += i;}\n\n       int medelvärde = sum / antalsiffror;\n        System.out.println(&quot;medelvärdet av dina tal är &quot; + medelvärde);\n\n       return medelvarde();\n   }\n\n   public static void main(String [] args){\n       scanInput1();\n       arrayskapare();\n       medelvarde();\n\n\n   }\n}\n\n</code></pre>\n<p>Im sorry that the code is so long but I have been struggling with this for too long and I really need some help.</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":10936999,"reputation":3954,"user_id":8038345,"display_name":"Gustavo Lopes"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1558465840,"creation_date":1558465840,"answer_id":56244985,"question_id":56244687,"body_markdown":"If they are being pushed, it means they were added at some point to your git.\r\n\r\nTo ignore them, you must remove them from your repository first, commit the changes and then they won&#39;t be added again, as they are on the `.gitignore`.\r\n\r\nTo remove the files from git without deleting them, you can do: `git rm -r --cached .idea`\r\n\r\nPlease, find more about here: http://www.codeblocq.com/2016/01/Untrack-files-already-added-to-git-repository-based-on-gitignore/","title":"gitignore file not hide .idea directory for github","body":"<p>If they are being pushed, it means they were added at some point to your git.</p>\n\n<p>To ignore them, you must remove them from your repository first, commit the changes and then they won't be added again, as they are on the <code>.gitignore</code>.</p>\n\n<p>To remove the files from git without deleting them, you can do: <code>git rm -r --cached .idea</code></p>\n\n<p>Please, find more about here: <a href=\"http://www.codeblocq.com/2016/01/Untrack-files-already-added-to-git-repository-based-on-gitignore/\" rel=\"noreferrer\">http://www.codeblocq.com/2016/01/Untrack-files-already-added-to-git-repository-based-on-gitignore/</a></p>\n"},{"tags":[],"owner":{"account_id":6330306,"reputation":111,"user_id":4915407,"display_name":"S&#248;ren Falch"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1558466250,"creation_date":1558466250,"answer_id":56245078,"question_id":56244687,"body_markdown":".gitignore will only make git ignore files in your local repository, and will not apply to files already pushed to the remote repo. \r\n\r\nIf you wish to remove the files from the remote repository, you can use \r\n```git rm --cached -r .idea```\r\n\r\nPlease also see [this answer][1]\r\n\r\nGood luck! :-)\r\n\r\n  [1]: https://stackoverflow.com/questions/1143796/remove-a-file-from-a-git-repository-without-deleting-it-from-the-local-filesyste","title":"gitignore file not hide .idea directory for github","body":"<p>.gitignore will only make git ignore files in your local repository, and will not apply to files already pushed to the remote repo. </p>\n\n<p>If you wish to remove the files from the remote repository, you can use \n<code>git rm --cached -r .idea</code></p>\n\n<p>Please also see <a href=\"https://stackoverflow.com/questions/1143796/remove-a-file-from-a-git-repository-without-deleting-it-from-the-local-filesyste\">this answer</a></p>\n\n<p>Good luck! :-)</p>\n"},{"tags":[],"owner":{"account_id":1675906,"reputation":398,"user_id":1541494,"accept_rate":50,"display_name":"BartmanDilaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665852952,"creation_date":1665852952,"answer_id":74081384,"question_id":56244687,"body_markdown":"You may had a &quot;/&quot; character after each directory reference.\r\nTo ignore .idea directory, you have to write\r\n\r\n.idea/\r\n","title":"gitignore file not hide .idea directory for github","body":"<p>You may had a &quot;/&quot; character after each directory reference.\nTo ignore .idea directory, you have to write</p>\n<p>.idea/</p>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1864,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56245078,"answer_count":3,"score":2,"last_activity_date":1665852952,"creation_date":1558464566,"question_id":56244687,"body_markdown":"I have a project with `gitignore` file:\r\n\r\n    ### IntelliJ IDEA ###\r\n    .idea\r\n    *.iws\r\n    *.iml\r\n    *.ipr\r\n    Temp*\r\n    RationalValues*\r\n\r\nhttps://github.com/hhlTer/quadraticEquation\r\n\r\nbut `.idea` directory still pushed in my repository...why?\r\n\r\nThis makes coding very difficult and inaccessible in branches.\r\n\r\n----\r\n\r\nI did add to gitignore all files from .idea, but all files still in repository\r\n\r\n    ### IntelliJ IDEA ###\r\n    .idea\r\n    *.iws\r\n    *.iml\r\n    *.ipr\r\n    Temp*\r\n    RationalValues*\r\n    compiler.xml\r\n    encodings.xml\r\n    misc.xml\r\n    uiDesigner.xml\r\n    vcs.xml\r\n    workspace.xml\r\n\r\n\r\n\r\n","title":"gitignore file not hide .idea directory for github","body":"<p>I have a project with <code>gitignore</code> file:</p>\n\n<pre><code>### IntelliJ IDEA ###\n.idea\n*.iws\n*.iml\n*.ipr\nTemp*\nRationalValues*\n</code></pre>\n\n<p><a href=\"https://github.com/hhlTer/quadraticEquation\" rel=\"nofollow noreferrer\">https://github.com/hhlTer/quadraticEquation</a></p>\n\n<p>but <code>.idea</code> directory still pushed in my repository...why?</p>\n\n<p>This makes coding very difficult and inaccessible in branches.</p>\n\n<hr>\n\n<p>I did add to gitignore all files from .idea, but all files still in repository</p>\n\n<pre><code>### IntelliJ IDEA ###\n.idea\n*.iws\n*.iml\n*.ipr\nTemp*\nRationalValues*\ncompiler.xml\nencodings.xml\nmisc.xml\nuiDesigner.xml\nvcs.xml\nworkspace.xml\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":15632869,"reputation":490,"user_id":11278696,"display_name":"Deviprasad Sharma"},"score":0,"creation_date":1615215835,"post_id":66531788,"comment_id":117615626,"body_markdown":"is that all the logs ?... and if this is your code then you might wanna investigate more on this line ```at de.myproject.project.SpringBootproject.main(SpringBootproject.java:40)```","body":"is that all the logs ?... and if this is your code then you might wanna investigate more on this line <code>at de.myproject.project.SpringBootproject.main(SpringBootprojec&zwnj;&#8203;t.java:40)</code>"}],"answers":[{"tags":[],"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615218440,"creation_date":1615218440,"answer_id":66532880,"question_id":66531788,"body_markdown":"Impossible to tell where exact problem is, but\r\n\r\n    Caused by: java.lang.reflect.MalformedParameterizedTypeException: null\r\n        at sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl.validateConstructorArguments(ParameterizedTypeImpl.java:58)\r\n        at sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl.&lt;init&gt;(ParameterizedTypeImpl.java:51)\r\n\r\nIs thrown when you have generic declaration with incorrect (or missing) type arguments. More specifically this declaration seems to be on method return type\r\n\r\n        at sun.reflect.generics.repository.MethodRepository.getReturnType(MethodRepository.java:68)\r\n        at java.lang.reflect.Method.getGenericReturnType(Method.java:255)\r\n\r\nCheck for compiler warnings `uses unchecked or unsafe operations.`\r\n\r\nHere is an example of such problem:\r\n\r\n    public interface Api {\r\n        List&lt;String&gt; methodA();\r\n    }\r\n    \r\n    public class Impl implements Api {\r\n        @Override\r\n        List methodA() { return null; }  //here compiler will issue warning\r\n    }\r\n\r\nNow when Spring try to figure out actual return type arguments of `methodA()` it will throw exception like in your case.\r\n\r\n\r\n## Run your application in debug mode\r\n\r\nYou need to pass `--debug` argument to your program, Spring will be very verbose about what class/bean it is trying to create, which in turn should point to exact problem\r\n","title":"Maven Spring Boot Application startup failed - JmxAutoConfiguration.mbeanExporter","body":"<p>Impossible to tell where exact problem is, but</p>\n<pre><code>Caused by: java.lang.reflect.MalformedParameterizedTypeException: null\n    at sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl.validateConstructorArguments(ParameterizedTypeImpl.java:58)\n    at sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl.&lt;init&gt;(ParameterizedTypeImpl.java:51)\n</code></pre>\n<p>Is thrown when you have generic declaration with incorrect (or missing) type arguments. More specifically this declaration seems to be on method return type</p>\n<pre><code>    at sun.reflect.generics.repository.MethodRepository.getReturnType(MethodRepository.java:68)\n    at java.lang.reflect.Method.getGenericReturnType(Method.java:255)\n</code></pre>\n<p>Check for compiler warnings <code>uses unchecked or unsafe operations.</code></p>\n<p>Here is an example of such problem:</p>\n<pre><code>public interface Api {\n    List&lt;String&gt; methodA();\n}\n\npublic class Impl implements Api {\n    @Override\n    List methodA() { return null; }  //here compiler will issue warning\n}\n</code></pre>\n<p>Now when Spring try to figure out actual return type arguments of <code>methodA()</code> it will throw exception like in your case.</p>\n<h2>Run your application in debug mode</h2>\n<p>You need to pass <code>--debug</code> argument to your program, Spring will be very verbose about what class/bean it is trying to create, which in turn should point to exact problem</p>\n"},{"tags":[],"owner":{"account_id":12061122,"reputation":627,"user_id":8820118,"display_name":"nosTa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615365964,"creation_date":1615365964,"answer_id":66561227,"question_id":66531788,"body_markdown":"Thanks rkosegi.\r\n\r\nI have tried different approaches. The --debug option didn&#39;t help therefore I started by clearing out all pom dependencies with maven enforcer plugin (mvn enforcer:enforce). Afterwards I was going through all the problems that existed in the project and solved one by one.\r\n\r\nNow it is working again.","title":"Maven Spring Boot Application startup failed - JmxAutoConfiguration.mbeanExporter","body":"<p>Thanks rkosegi.</p>\n<p>I have tried different approaches. The --debug option didn't help therefore I started by clearing out all pom dependencies with maven enforcer plugin (mvn enforcer:enforce). Afterwards I was going through all the problems that existed in the project and solved one by one.</p>\n<p>Now it is working again.</p>\n"},{"tags":[],"owner":{"account_id":2638167,"reputation":51,"user_id":8744869,"display_name":"Rauthan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665852742,"creation_date":1665430633,"answer_id":74019938,"question_id":66531788,"body_markdown":"For those who are still facing the issue...\r\nI had two versions of camel added to my `pom.xml`:\r\n\r\n* `camel-spring-boot-starter`\r\n* `camel-cxf`\r\n\r\nSo removing `camel-spring-boot-starter` solved the error.","title":"Maven Spring Boot Application startup failed - JmxAutoConfiguration.mbeanExporter","body":"<p>For those who are still facing the issue...\nI had two versions of camel added to my <code>pom.xml</code>:</p>\n<ul>\n<li><code>camel-spring-boot-starter</code></li>\n<li><code>camel-cxf</code></li>\n</ul>\n<p>So removing <code>camel-spring-boot-starter</code> solved the error.</p>\n"}],"owner":{"account_id":12061122,"reputation":627,"user_id":8820118,"display_name":"nosTa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1627,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1665852742,"creation_date":1615214306,"question_id":66531788,"body_markdown":"I am using a Spring Boot project for 2 years now and I just tried to get a colleague involved but I could not get the repository to run on his computer. Therefore I have deleted my `.m2` folder and cloned the project myself again and I can reproduce the error but the problem is I am not able to fix it.\r\n\r\nSpring Boot Version: 1.5.22.RELEASE . Any suggestions?\r\n\r\n```java\r\n2021-03-08 15:29:48.563 [restartedMain] INFO  d.a.s.SpringBootproject - No active profile set, falling back to default profiles: default\r\n2021-03-08 15:29:48.709 [background-preinit] INFO  o.h.v.internal.util.Version - HV000001: Hibernate Validator 5.3.6.Final\r\n2021-03-08 15:29:48.789 [restartedMain] INFO  o.s.b.c.e.AnnotationConfigEmbeddedWebApplicationContext - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@72d24d6a: startup date [Mon Mar 08 15:29:48 CET 2021]; root of context hierarchy\r\n2021-03-08 15:29:53.456 [restartedMain] INFO  o.s.b.f.x.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]\r\n2021-03-08 15:29:53.677 [restartedMain] ERROR o.s.boot.SpringApplication - Application startup failed\r\njava.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration.mbeanExporter\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)\r\n\tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:102)\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:179)\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:140)\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:116)\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:320)\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:228)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:272)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:92)\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:687)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:524)\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:123)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:666)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:353)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:300)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1082)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1071)\r\n\tat de.myproject.project.SpringBootproject.main(SpringBootproject.java:40)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\nCaused by: java.lang.reflect.MalformedParameterizedTypeException: null\r\n\tat sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl.validateConstructorArguments(ParameterizedTypeImpl.java:58)\r\n\tat sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl.&lt;init&gt;(ParameterizedTypeImpl.java:51)\r\n\tat sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl.make(ParameterizedTypeImpl.java:92)\r\n\tat sun.reflect.generics.factory.CoreReflectionFactory.makeParameterizedType(CoreReflectionFactory.java:105)\r\n\tat sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:140)\r\n\tat sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49)\r\n\tat sun.reflect.generics.repository.MethodRepository.getReturnType(MethodRepository.java:68)\r\n\tat java.lang.reflect.Method.getGenericReturnType(Method.java:255)\r\n\tat org.springframework.core.MethodParameter.getGenericParameterType(MethodParameter.java:397)\r\n\tat org.springframework.core.SerializableTypeWrapper$MethodParameterTypeProvider.getType(SerializableTypeWrapper.java:338)\r\n\tat org.springframework.core.SerializableTypeWrapper.forTypeProvider(SerializableTypeWrapper.java:146)\r\n\tat org.springframework.core.ResolvableType.forType(ResolvableType.java:1346)\r\n\tat org.springframework.core.ResolvableType.forMethodParameter(ResolvableType.java:1249)\r\n\tat org.springframework.core.ResolvableType.forMethodParameter(ResolvableType.java:1217)\r\n\tat org.springframework.core.ResolvableType.forMethodReturnType(ResolvableType.java:1160)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:759)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:638)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:607)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1496)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1018)\r\n\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.addBeanTypeForNonAliasDefinition(BeanTypeRegistry.java:217)\r\n\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.addBeanTypeForNonAliasDefinition(BeanTypeRegistry.java:195)\r\n\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.addBeanType(BeanTypeRegistry.java:188)\r\n\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.updateTypesIfNecessary(BeanTypeRegistry.java:175)\r\n\tat org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.getNamesForType(BeanTypeRegistry.java:112)\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:171)\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:158)\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:128)\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:103)\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\r\n\t... 22 common frames omitted\r\n2021-03-08 15:29:53.679 [restartedMain] INFO  o.s.b.c.e.AnnotationConfigEmbeddedWebApplicationContext - Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@72d24d6a: startup date [Mon Mar 08 15:29:48 CET 2021]; root of context hierarchy\r\n2021-03-08 15:29:53.681 [restartedMain] WARN  o.s.boot.SpringApplication - Unable to close ApplicationContext\r\njava.lang.reflect.MalformedParameterizedTypeException: null\r\n\tat sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl.validateConstructorArguments(ParameterizedTypeImpl.java:58)\r\n\tat sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl.&lt;init&gt;(ParameterizedTypeImpl.java:51)\r\n\tat sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl.make(ParameterizedTypeImpl.java:92)\r\n\tat sun.reflect.generics.factory.CoreReflectionFactory.makeParameterizedType(CoreReflectionFactory.java:105)\r\n\tat sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:140)\r\n\tat sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49)\r\n\tat sun.reflect.generics.repository.MethodRepository.getReturnType(MethodRepository.java:68)\r\n\tat java.lang.reflect.Method.getGenericReturnType(Method.java:255)\r\n\tat org.springframework.core.MethodParameter.getGenericParameterType(MethodParameter.java:397)\r\n\tat org.springframework.core.SerializableTypeWrapper$MethodParameterTypeProvider.getType(SerializableTypeWrapper.java:338)\r\n\tat org.springframework.core.SerializableTypeWrapper.forTypeProvider(SerializableTypeWrapper.java:146)\r\n\tat org.springframework.core.ResolvableType.forType(ResolvableType.java:1346)\r\n\tat org.springframework.core.ResolvableType.forMethodParameter(ResolvableType.java:1249)\r\n\tat org.springframework.core.ResolvableType.forMethodParameter(ResolvableType.java:1217)\r\n\tat org.springframework.core.ResolvableType.forMethodReturnType(ResolvableType.java:1160)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:759)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:638)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:607)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1496)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:425)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:395)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:515)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:508)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1190)\r\n\tat org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:785)\r\n\tat org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:773)\r\n\tat org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:760)\r\n\tat org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:715)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1082)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1071)\r\n\tat de.myproject.project.SpringBootproject.main(SpringBootproject.java:40)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n```\r\n\r\n\r\n\r\nWhat I have done so far:\r\n- Fixed all dependencie warnings/errors with maven-resources-plugin\r\n- Added the following parameter to my `application.yml`\r\n\r\n```yml\r\nspring:\r\n    jmx:\r\n       enabled: false\r\n```\r\n\r\n- Tried to exclude the `JmxAutoConfiguration.class` in the `@SpringBootApplication` class\r\n- Checked that Java 8 is used in Eclipse IDE.\r\n\r\nAny help is appreciated.\r\n\r\n//EDIT\r\n@Deviprasad Sharma\r\n\r\nThis is the spring boot config:\r\n\r\n```\r\npackage de.myproject.project;\r\n\r\nimport org.springframework.beans.factory.InitializingBean;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration;\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.boot.web.support.SpringBootServletInitializer;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Import;\r\nimport org.springframework.core.env.Environment;\r\n\r\nimport de.all4cloud.scan4cloud.config.JpaConfig;\r\nimport de.all4cloud.scan4cloud.tenant.settings.SettingsService;\r\n\r\n@Import(JpaConfig.class)\r\n@SpringBootApplication(scanBasePackages =\r\n{ &quot;de.myproject.project&quot; }, exclude =\r\n{ DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class, DataSourceTransactionManagerAutoConfiguration.class, FlywayAutoConfiguration.class })\r\npublic class SpringBootproject extends SpringBootServletInitializer\r\n{\r\n    @Autowired\r\n    private SettingsService settingsService;\r\n\r\n    @Autowired\r\n    private Environment environment;\r\n\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application)\r\n    {\r\n        return application.sources(SpringBootproject.class);\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception\r\n    {\r\n        SpringApplication.run(SpringBootproject.class, args);\r\n    }\r\n\r\n    @Bean\r\n    public InitializingBean startupDevSettings()\r\n    {\r\n        return () -&gt;\r\n        {\r\n            if (environment.getActiveProfiles().length == 0 || !environment.getActiveProfiles()[0].equals(&quot;production&quot;))\r\n            {\r\n                settingsService.devSettings();\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nLine 40 is SpringApplication.run(SpringBootproject.class, args);","title":"Maven Spring Boot Application startup failed - JmxAutoConfiguration.mbeanExporter","body":"<p>I am using a Spring Boot project for 2 years now and I just tried to get a colleague involved but I could not get the repository to run on his computer. Therefore I have deleted my <code>.m2</code> folder and cloned the project myself again and I can reproduce the error but the problem is I am not able to fix it.</p>\n<p>Spring Boot Version: 1.5.22.RELEASE . Any suggestions?</p>\n<pre class=\"lang-java prettyprint-override\"><code>2021-03-08 15:29:48.563 [restartedMain] INFO  d.a.s.SpringBootproject - No active profile set, falling back to default profiles: default\n2021-03-08 15:29:48.709 [background-preinit] INFO  o.h.v.internal.util.Version - HV000001: Hibernate Validator 5.3.6.Final\n2021-03-08 15:29:48.789 [restartedMain] INFO  o.s.b.c.e.AnnotationConfigEmbeddedWebApplicationContext - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@72d24d6a: startup date [Mon Mar 08 15:29:48 CET 2021]; root of context hierarchy\n2021-03-08 15:29:53.456 [restartedMain] INFO  o.s.b.f.x.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]\n2021-03-08 15:29:53.677 [restartedMain] ERROR o.s.boot.SpringApplication - Application startup failed\njava.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration.mbeanExporter\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:102)\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:179)\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:140)\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:116)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:320)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:228)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:272)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:92)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:687)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:524)\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:123)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:666)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:353)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:300)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1082)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1071)\n    at de.myproject.project.SpringBootproject.main(SpringBootproject.java:40)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: java.lang.reflect.MalformedParameterizedTypeException: null\n    at sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl.validateConstructorArguments(ParameterizedTypeImpl.java:58)\n    at sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl.&lt;init&gt;(ParameterizedTypeImpl.java:51)\n    at sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl.make(ParameterizedTypeImpl.java:92)\n    at sun.reflect.generics.factory.CoreReflectionFactory.makeParameterizedType(CoreReflectionFactory.java:105)\n    at sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:140)\n    at sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49)\n    at sun.reflect.generics.repository.MethodRepository.getReturnType(MethodRepository.java:68)\n    at java.lang.reflect.Method.getGenericReturnType(Method.java:255)\n    at org.springframework.core.MethodParameter.getGenericParameterType(MethodParameter.java:397)\n    at org.springframework.core.SerializableTypeWrapper$MethodParameterTypeProvider.getType(SerializableTypeWrapper.java:338)\n    at org.springframework.core.SerializableTypeWrapper.forTypeProvider(SerializableTypeWrapper.java:146)\n    at org.springframework.core.ResolvableType.forType(ResolvableType.java:1346)\n    at org.springframework.core.ResolvableType.forMethodParameter(ResolvableType.java:1249)\n    at org.springframework.core.ResolvableType.forMethodParameter(ResolvableType.java:1217)\n    at org.springframework.core.ResolvableType.forMethodReturnType(ResolvableType.java:1160)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:759)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:638)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:607)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1496)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1018)\n    at org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.addBeanTypeForNonAliasDefinition(BeanTypeRegistry.java:217)\n    at org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.addBeanTypeForNonAliasDefinition(BeanTypeRegistry.java:195)\n    at org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.addBeanType(BeanTypeRegistry.java:188)\n    at org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.updateTypesIfNecessary(BeanTypeRegistry.java:175)\n    at org.springframework.boot.autoconfigure.condition.BeanTypeRegistry.getNamesForType(BeanTypeRegistry.java:112)\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:171)\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:158)\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:128)\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:103)\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\n    ... 22 common frames omitted\n2021-03-08 15:29:53.679 [restartedMain] INFO  o.s.b.c.e.AnnotationConfigEmbeddedWebApplicationContext - Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@72d24d6a: startup date [Mon Mar 08 15:29:48 CET 2021]; root of context hierarchy\n2021-03-08 15:29:53.681 [restartedMain] WARN  o.s.boot.SpringApplication - Unable to close ApplicationContext\njava.lang.reflect.MalformedParameterizedTypeException: null\n    at sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl.validateConstructorArguments(ParameterizedTypeImpl.java:58)\n    at sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl.&lt;init&gt;(ParameterizedTypeImpl.java:51)\n    at sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl.make(ParameterizedTypeImpl.java:92)\n    at sun.reflect.generics.factory.CoreReflectionFactory.makeParameterizedType(CoreReflectionFactory.java:105)\n    at sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:140)\n    at sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49)\n    at sun.reflect.generics.repository.MethodRepository.getReturnType(MethodRepository.java:68)\n    at java.lang.reflect.Method.getGenericReturnType(Method.java:255)\n    at org.springframework.core.MethodParameter.getGenericParameterType(MethodParameter.java:397)\n    at org.springframework.core.SerializableTypeWrapper$MethodParameterTypeProvider.getType(SerializableTypeWrapper.java:338)\n    at org.springframework.core.SerializableTypeWrapper.forTypeProvider(SerializableTypeWrapper.java:146)\n    at org.springframework.core.ResolvableType.forType(ResolvableType.java:1346)\n    at org.springframework.core.ResolvableType.forMethodParameter(ResolvableType.java:1249)\n    at org.springframework.core.ResolvableType.forMethodParameter(ResolvableType.java:1217)\n    at org.springframework.core.ResolvableType.forMethodReturnType(ResolvableType.java:1160)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:759)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:638)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:607)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1496)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:425)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:395)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:515)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:508)\n    at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1190)\n    at org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:785)\n    at org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:773)\n    at org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:760)\n    at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:715)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1082)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1071)\n    at de.myproject.project.SpringBootproject.main(SpringBootproject.java:40)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\n</code></pre>\n<p>What I have done so far:</p>\n<ul>\n<li>Fixed all dependencie warnings/errors with maven-resources-plugin</li>\n<li>Added the following parameter to my <code>application.yml</code></li>\n</ul>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n    jmx:\n       enabled: false\n</code></pre>\n<ul>\n<li>Tried to exclude the <code>JmxAutoConfiguration.class</code> in the <code>@SpringBootApplication</code> class</li>\n<li>Checked that Java 8 is used in Eclipse IDE.</li>\n</ul>\n<p>Any help is appreciated.</p>\n<p>//EDIT\n@Deviprasad Sharma</p>\n<p>This is the spring boot config:</p>\n<pre><code>package de.myproject.project;\n\nimport org.springframework.beans.factory.InitializingBean;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration;\nimport org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.support.SpringBootServletInitializer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Import;\nimport org.springframework.core.env.Environment;\n\nimport de.all4cloud.scan4cloud.config.JpaConfig;\nimport de.all4cloud.scan4cloud.tenant.settings.SettingsService;\n\n@Import(JpaConfig.class)\n@SpringBootApplication(scanBasePackages =\n{ &quot;de.myproject.project&quot; }, exclude =\n{ DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class, DataSourceTransactionManagerAutoConfiguration.class, FlywayAutoConfiguration.class })\npublic class SpringBootproject extends SpringBootServletInitializer\n{\n    @Autowired\n    private SettingsService settingsService;\n\n    @Autowired\n    private Environment environment;\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application)\n    {\n        return application.sources(SpringBootproject.class);\n    }\n\n    public static void main(String[] args) throws Exception\n    {\n        SpringApplication.run(SpringBootproject.class, args);\n    }\n\n    @Bean\n    public InitializingBean startupDevSettings()\n    {\n        return () -&gt;\n        {\n            if (environment.getActiveProfiles().length == 0 || !environment.getActiveProfiles()[0].equals(&quot;production&quot;))\n            {\n                settingsService.devSettings();\n            }\n        };\n    }\n}\n</code></pre>\n<p>Line 40 is SpringApplication.run(SpringBootproject.class, args);</p>\n"},{"tags":["java","http","tomcat","header"],"comments":[{"owner":{"account_id":5272138,"reputation":2107,"user_id":4210091,"display_name":"Renato"},"score":0,"creation_date":1577720765,"post_id":59532671,"comment_id":105236361,"body_markdown":"The `server.xml` to be edit is in the dir `config` of your server, not in a direcotry of your source code","body":"The <code>server.xml</code> to be edit is in the dir <code>config</code> of your server, not in a direcotry of your source code"},{"owner":{"account_id":8217076,"reputation":291,"user_id":7638209,"display_name":"Bart"},"score":0,"creation_date":1577725899,"post_id":59532671,"comment_id":105238503,"body_markdown":"@Renato I&#39;m using Tomcat Embbeded, is that change the way to configure?","body":"@Renato I&#39;m using Tomcat Embbeded, is that change the way to configure?"},{"owner":{"account_id":7964716,"reputation":145,"user_id":6011275,"accept_rate":0,"display_name":"AndrewG"},"score":0,"creation_date":1577740131,"post_id":59532671,"comment_id":105243388,"body_markdown":"https://community.pivotal.io/s/article/spring-boot-app-rejects-http-request-with-total-header-size-larger-than-8kb","body":"<a href=\"https://community.pivotal.io/s/article/spring-boot-app-rejects-http-request-with-total-header-size-larger-than-8kb\" rel=\"nofollow noreferrer\">community.pivotal.io/s/article/&hellip;</a>"},{"owner":{"account_id":8217076,"reputation":291,"user_id":7638209,"display_name":"Bart"},"score":0,"creation_date":1577799664,"post_id":59532671,"comment_id":105258621,"body_markdown":"@AndrewG I&#39;m not using Spring","body":"@AndrewG I&#39;m not using Spring"}],"answers":[{"comments":[{"owner":{"account_id":8217076,"reputation":291,"user_id":7638209,"display_name":"Bart"},"score":0,"creation_date":1577805312,"post_id":59545067,"comment_id":105260431,"body_markdown":"That worked. It was not clear to be that the method setAttribute is used to set the methods in the link http://tomcat.apache.org/tomcat-9.0-doc/config/http.html =D Thanks!!","body":"That worked. It was not clear to be that the method setAttribute is used to set the methods in the link <a href=\"http://tomcat.apache.org/tomcat-9.0-doc/config/http.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-9.0-doc/config/http.html</a> =D Thanks!!"}],"tags":[],"owner":{"account_id":5272138,"reputation":2107,"user_id":4210091,"display_name":"Renato"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1577800974,"creation_date":1577800974,"answer_id":59545067,"question_id":59532671,"body_markdown":"Looking at [API doc][1] seems that this one\r\n\r\n    Tomcat t = new Tomcat();\r\n    t.getConnector().setAttribute(&quot;maxHttpHeaderSize&quot;,65536);\r\n\r\ncould be a valid solution.\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-9.0-doc/api/overview-summary.html","title":"How to increase header size limit Tomcat Java","body":"<p>Looking at <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/api/overview-summary.html\" rel=\"nofollow noreferrer\">API doc</a> seems that this one</p>\n\n<pre><code>Tomcat t = new Tomcat();\nt.getConnector().setAttribute(\"maxHttpHeaderSize\",65536);\n</code></pre>\n\n<p>could be a valid solution.</p>\n"},{"tags":[],"owner":{"account_id":26586505,"reputation":21,"user_id":20210336,"display_name":"user20210336"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665852714,"creation_date":1665465111,"answer_id":74023238,"question_id":59532671,"body_markdown":"Edit Tomcat&#39;s `server.xml` and add `maxHttpHeaderSize=&quot;65536&quot;`:\r\n\r\n``` lang-xml\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n&lt;Connector \r\n        port=&quot;8080&quot; \r\n        protocol=&quot;HTTP/1.1&quot; \r\n        maxHttpHeaderSize=&quot;65536&quot; \r\n        maxPostSize=&quot;4194304&quot;\r\n        URIEncoding=&quot;UTF-8&quot;/&gt;\r\n```","title":"How to increase header size limit Tomcat Java","body":"<p>Edit Tomcat's <code>server.xml</code> and add <code>maxHttpHeaderSize=&quot;65536&quot;</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;Connector \n        port=&quot;8080&quot; \n        protocol=&quot;HTTP/1.1&quot; \n        maxHttpHeaderSize=&quot;65536&quot; \n        maxPostSize=&quot;4194304&quot;\n        URIEncoding=&quot;UTF-8&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":8217076,"reputation":291,"user_id":7638209,"display_name":"Bart"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11216,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":59545067,"answer_count":2,"score":4,"last_activity_date":1665852714,"creation_date":1577717380,"question_id":59532671,"body_markdown":"Looking at https://tomcat.apache.org/tomcat-9.0-doc/config/http.html I see that 8KB is the default limit of Header Size in Tomcat Apache.\r\n\r\nThe log shows the following when I make a request with headers more than the default 8KB:\r\n`\r\nDec 30, 2019 1:59:26 PM org.apache.coyote.http11.Http11Processor service\r\nINFO: Error parsing HTTP request header\r\n Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\r\njava.lang.IllegalArgumentException: Request header is too large\r\n\tat org.apache.coyote.http11.Http11InputBuffer.fill(Http11InputBuffer.java:720)\r\n\tat org.apache.coyote.http11.Http11InputBuffer.parseHeader(Http11InputBuffer.java:867)\r\n\tat org.apache.coyote.http11.Http11InputBuffer.parseHeaders(Http11InputBuffer.java:563)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:311)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1839)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n`\r\n\r\nMy Java Project does not have a `server.xml` inside `/webapp/WEB-INF`, just the `web.xml`. I tried to create a `server.xml` and add the following like said in this [thread](https://serverfault.com/questions/56691/whats-the-maximum-url-length-in-tomcat):\r\n`\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n&lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; maxHttpHeaderSize=&quot;65536&quot; maxPostSize=&quot;4194304&quot;\r\n           URIEncoding=&quot;UTF-8&quot;/&gt;//webapp/WEB-INF\r\n`\r\n\r\nHow Can I increase the default size limit? I&#39;d like to set 16KB.\r\n\r\nThanks in advance =)\r\n\r\nPS: I am new in Tomcat/Java World, so sorry if I made a horrible mistake =p","title":"How to increase header size limit Tomcat Java","body":"<p>Looking at <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/http.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-9.0-doc/config/http.html</a> I see that 8KB is the default limit of Header Size in Tomcat Apache.</p>\n\n<p>The log shows the following when I make a request with headers more than the default 8KB:\n<code>\nDec 30, 2019 1:59:26 PM org.apache.coyote.http11.Http11Processor service\nINFO: Error parsing HTTP request header\n Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\njava.lang.IllegalArgumentException: Request header is too large\n    at org.apache.coyote.http11.Http11InputBuffer.fill(Http11InputBuffer.java:720)\n    at org.apache.coyote.http11.Http11InputBuffer.parseHeader(Http11InputBuffer.java:867)\n    at org.apache.coyote.http11.Http11InputBuffer.parseHeaders(Http11InputBuffer.java:563)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:311)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1839)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n</code></p>\n\n<p>My Java Project does not have a <code>server.xml</code> inside <code>/webapp/WEB-INF</code>, just the <code>web.xml</code>. I tried to create a <code>server.xml</code> and add the following like said in this <a href=\"https://serverfault.com/questions/56691/whats-the-maximum-url-length-in-tomcat\">thread</a>:\n<code>\n&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;Connector port=\"8080\" protocol=\"HTTP/1.1\" maxHttpHeaderSize=\"65536\" maxPostSize=\"4194304\"\n           URIEncoding=\"UTF-8\"/&gt;//webapp/WEB-INF\n</code></p>\n\n<p>How Can I increase the default size limit? I'd like to set 16KB.</p>\n\n<p>Thanks in advance =)</p>\n\n<p>PS: I am new in Tomcat/Java World, so sorry if I made a horrible mistake =p</p>\n"},{"tags":["java","arraylist","while-loop","txt"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664983172,"post_id":73962013,"comment_id":130594136,"body_markdown":"You&#39;re in the right ballpark but should be using ```java.nio.file.Files.readAllLines```, looking for the element, replacing it and then writing out the collection again. Or use some [string list](https://technojeeves.com/index.php/aliasjava1/40-string-list)\nclass that supports persistence. At the moment you&#39;re replacing *all* lines with &#39;findString&#39; instead of just selected ones, or *a* selected *one*","body":"You&#39;re in the right ballpark but should be using <code>java.nio.file.Files.readAllLines</code>, looking for the element, replacing it and then writing out the collection again. Or use some <a href=\"https://technojeeves.com/index.php/aliasjava1/40-string-list\" rel=\"nofollow noreferrer\">string list</a> class that supports persistence. At the moment you&#39;re replacing <i>all</i> lines with &#39;findString&#39; instead of just selected ones, or <i>a</i> selected <i>one</i>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664984468,"post_id":73962013,"comment_id":130594630,"body_markdown":"It would also help if you explained exactly how your &#39;editing&#39; is meant to work","body":"It would also help if you explained exactly how your &#39;editing&#39; is meant to work"}],"answers":[{"comments":[{"owner":{"account_id":26536070,"reputation":13,"user_id":20167584,"display_name":"chris"},"score":0,"creation_date":1665049638,"post_id":73965818,"comment_id":130610067,"body_markdown":"Hi @DevilsHnd i added in the newline just to test my code, and the comma is added because I create 3 persons objects and write them to a single txt file line otherwise my output would be broken up with spaces&quot; &quot; inbetween the the 3 persons something like this ```Bill,123456,bill@gmail.com,12 Bill road ``` space &quot; &quot; and then ```Jack,456789,jack@gmail.com,23 Jack road```","body":"Hi @DevilsHnd i added in the newline just to test my code, and the comma is added because I create 3 persons objects and write them to a single txt file line otherwise my output would be broken up with spaces&quot; &quot; inbetween the the 3 persons something like this <code>Bill,123456,bill@gmail.com,12 Bill road </code> space &quot; &quot; and then <code>Jack,456789,jack@gmail.com,23 Jack road</code>"},{"owner":{"account_id":26536070,"reputation":13,"user_id":20167584,"display_name":"chris"},"score":0,"creation_date":1665049779,"post_id":73965818,"comment_id":130610116,"body_markdown":"Thanks for the in depth explanation on my question","body":"Thanks for the in depth explanation on my question"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1665069144,"post_id":73965818,"comment_id":130617691,"body_markdown":"Uhhhhh....I see. Your wecome @chris.","body":"Uhhhhh....I see. Your wecome @chris."}],"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665000599,"creation_date":1665000599,"answer_id":73965818,"question_id":73962013,"body_markdown":"Something prevalent within a specific file record has pointed you to the correct (distinct) record in order to carry out a price change, be it an ID number, a name, an Address, or whatever. You need hold whatever that is. Most would go by a distinct record ID number so that you are only changing the data within that specific record alone otherwise you could potentially change several records within the file.\r\n\r\nWithin the `replaceLines()` method, the `findString` parameter holds a new (modified) data line for the file which is to replace and existing line within the same file. The question here would be....replace what line? You don&#39;t pass that information to your method. Change the price for which person, place, or thing? This obviously needs to be determined before any changes can be carried out. For an example, let&#39;s say we want to change the price (at index 6) within the file record with an ID of `1`, the call to the `replaceLines()` method should be:\r\n\r\n    replaceLine( 1, findLines );\r\n\r\nWhat would be easier is if you specified the record, the column that needs changing, and then what the new value might be for that specific column, for example:\r\n\r\n    updateRecord( 1, 6, &quot;111&quot; );\r\n\r\nIt could go something like this:\r\n\r\n    public static void updateRecord(int recordID, int recordColumnIndex, String newValue) throws IOException {\r\n        java.io.PrintWriter writer;\r\n        try (java.io.BufferedReader reader = new java.io.BufferedReader(new java.io.FileReader(&quot;tasks.txt&quot;))) {\r\n            writer = new java.io.PrintWriter(&quot;temp.tmp&quot;);\r\n            String line;\r\n            // Read file line by line...\r\n            while ((line = reader.readLine()) != null) {\r\n                if (line.trim().isEmpty()) {\r\n                    writer.println(line);\r\n                    continue;\r\n                }\r\n                // Split each read line to separate data.\r\n                String[] lineParts = line.split(&quot;\\\\s*,\\\\s*&quot;);\r\n                \r\n                /* If the record ID value matches the supplied ID value\r\n                   then make the desired changes to that line.    */\r\n                if (Integer.parseInt(lineParts[0]) == recordID) {\r\n                    lineParts[recordColumnIndex] = newValue;\r\n                    // Rebuild the data line...\r\n                    StringBuilder sb = new StringBuilder(String.valueOf(recordID));\r\n                    for (int i = 1; i &lt; lineParts.length; i++) {\r\n                        sb.append(&quot;,&quot;).append(lineParts[i]);\r\n                    }\r\n                    line = sb.toString();\r\n                }\r\n                writer.println(line);  // write line to `temp.tmp` file.\r\n                writer.flush();        // Immediate write.\r\n            }\r\n        }\r\n        writer.close();\r\n\r\n        /* Delete the `tasks.txt` file and then rename \r\n           `temp.tmp` to `tasks.txt`.            */\r\n        if (new File(&quot;tasks.txt&quot;).delete()) {\r\n            java.nio.file.Path source = java.nio.file.Paths.get(&quot;temp.tmp&quot;);\r\n            java.nio.file.Files.move(source, source.resolveSibling(&quot;tasks.txt&quot;));\r\n        }\r\n\r\n    }\r\n\r\nIf I&#39;m looking at a list of records originally from the `tasks.txt` file and I can see that the record with the ID of **1** needs to have a price change in column 7  (index 6) from 40000 to 111 then I would call:\r\n\r\n    try {\r\n        updateRecord(1, 6, &quot;111&quot;);\r\n    }\r\n    catch (IOException ex) {\r\n        System.err.println(ex.getMessage());\r\n    }\r\n\r\n**On a Side:** \r\n\r\nJust curious, why do you start your file records with a newline (\\\\n) character and why do you end all your records with a comma (,)??","title":"Why does replacing the file contents within an ArrayList return unwanted results?","body":"<p>Something prevalent within a specific file record has pointed you to the correct (distinct) record in order to carry out a price change, be it an ID number, a name, an Address, or whatever. You need hold whatever that is. Most would go by a distinct record ID number so that you are only changing the data within that specific record alone otherwise you could potentially change several records within the file.</p>\n<p>Within the <code>replaceLines()</code> method, the <code>findString</code> parameter holds a new (modified) data line for the file which is to replace and existing line within the same file. The question here would be....replace what line? You don't pass that information to your method. Change the price for which person, place, or thing? This obviously needs to be determined before any changes can be carried out. For an example, let's say we want to change the price (at index 6) within the file record with an ID of <code>1</code>, the call to the <code>replaceLines()</code> method should be:</p>\n<pre><code>replaceLine( 1, findLines );\n</code></pre>\n<p>What would be easier is if you specified the record, the column that needs changing, and then what the new value might be for that specific column, for example:</p>\n<pre><code>updateRecord( 1, 6, &quot;111&quot; );\n</code></pre>\n<p>It could go something like this:</p>\n<pre><code>public static void updateRecord(int recordID, int recordColumnIndex, String newValue) throws IOException {\n    java.io.PrintWriter writer;\n    try (java.io.BufferedReader reader = new java.io.BufferedReader(new java.io.FileReader(&quot;tasks.txt&quot;))) {\n        writer = new java.io.PrintWriter(&quot;temp.tmp&quot;);\n        String line;\n        // Read file line by line...\n        while ((line = reader.readLine()) != null) {\n            if (line.trim().isEmpty()) {\n                writer.println(line);\n                continue;\n            }\n            // Split each read line to separate data.\n            String[] lineParts = line.split(&quot;\\\\s*,\\\\s*&quot;);\n            \n            /* If the record ID value matches the supplied ID value\n               then make the desired changes to that line.    */\n            if (Integer.parseInt(lineParts[0]) == recordID) {\n                lineParts[recordColumnIndex] = newValue;\n                // Rebuild the data line...\n                StringBuilder sb = new StringBuilder(String.valueOf(recordID));\n                for (int i = 1; i &lt; lineParts.length; i++) {\n                    sb.append(&quot;,&quot;).append(lineParts[i]);\n                }\n                line = sb.toString();\n            }\n            writer.println(line);  // write line to `temp.tmp` file.\n            writer.flush();        // Immediate write.\n        }\n    }\n    writer.close();\n\n    /* Delete the `tasks.txt` file and then rename \n       `temp.tmp` to `tasks.txt`.            */\n    if (new File(&quot;tasks.txt&quot;).delete()) {\n        java.nio.file.Path source = java.nio.file.Paths.get(&quot;temp.tmp&quot;);\n        java.nio.file.Files.move(source, source.resolveSibling(&quot;tasks.txt&quot;));\n    }\n\n}\n</code></pre>\n<p>If I'm looking at a list of records originally from the <code>tasks.txt</code> file and I can see that the record with the ID of <strong>1</strong> needs to have a price change in column 7  (index 6) from 40000 to 111 then I would call:</p>\n<pre><code>try {\n    updateRecord(1, 6, &quot;111&quot;);\n}\ncatch (IOException ex) {\n    System.err.println(ex.getMessage());\n}\n</code></pre>\n<p><strong>On a Side:</strong></p>\n<p>Just curious, why do you start your file records with a newline (\\n) character and why do you end all your records with a comma (,)??</p>\n"}],"owner":{"account_id":26536070,"reputation":13,"user_id":20167584,"display_name":"chris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73965818,"answer_count":1,"score":1,"last_activity_date":1665852585,"creation_date":1664980423,"question_id":73962013,"body_markdown":"How do I add the file line I have edited to the same line I got the contents from my txt file? \r\n``` lang-none\r\n1,House mack,house,123 mack road,155,40000,40000,2022-09-29,no,Bill,123456,bill@gmail.com,12 Bill road,Jack,456789,jack@gmail.com,23 Jack road,John,789632,john@gmail.com,34 John road,\r\n2,House John,house,123 John road,183,50000,50000,2022-09-10,yes,Bill,123456,bill@gmail.com,12 Bill road,Jack,456789,jack@gmail.com,23 Jack road,John,789632,john@gmail.com,34 John road,\r\n```\r\nBut my output to the txt file looks like this\r\n``` lang-none\r\n1,House mack,house,123 mack road,155,40000,111,2022-09-29,no,Bill,123456,bill@gmail.com,12 Bill road,Jack,456789,jack@gmail.com,23 Jack road,John,789632,john@gmail.com,34 John road,\r\n\r\n1,House mack,house,123 mack road,155,40000,111,2022-09-29,no,Bill,123456,bill@gmail.com,12 Bill road,Jack,456789,jack@gmail.com,23 Jack road,John,789632,john@gmail.com,34 John road,\r\n```\r\nHow can I get my program to only replace in the edited line in place of the old line and leave the other file contents alone?\r\n``` lang-java\r\nif (option.equals(&quot;cp&quot;)) {\r\n    Array.set(values, 6, newPaid);\r\n    findString = &quot;\\n&quot; + values[0] + &quot;,&quot; + values[1] + &quot;,&quot; + values[2] + &quot;,&quot;\r\n        + values[3] + &quot;,&quot; + values[4] + &quot;,&quot; + values[5] + &quot;,&quot; + values[6] + &quot;,&quot;\r\n        + values[7] + &quot;,&quot; + values[8] + &quot;,&quot; + values[9] + &quot;,&quot; + values[10] + &quot;,&quot;\r\n        + values[11] + &quot;,&quot; + values[12] + &quot;,&quot; + values[13] + &quot;,&quot; + values[14] + &quot;,&quot;\r\n        + values[15] + &quot;,&quot; + values[16] + &quot;,&quot; + values[17] + &quot;,&quot; + values[18] + &quot;,&quot;\r\n        + values[19] + &quot;,&quot; + values[20] + &quot;,&quot;;\r\n                                \r\n    replaceLines(findString);\r\n    System.out.println(&quot;Your Price has been changed and contents has been successfully updated! &quot;);\r\n    break;\r\n```\r\nMy method that contains all the calculations\r\n``` lang-java\r\npublic static void replaceLines(String findString) {\r\n    try {\r\n        BufferedReader file = new BufferedReader(new FileReader(&quot;tasks.txt&quot;));\r\n        StringBuffer inputBuffer = new StringBuffer();\r\n        String line;\r\n    \r\n        while ((line = file.readLine()) != null) {\r\n            line = findString; \r\n            inputBuffer.append(line);\r\n            inputBuffer.append(&#39;\\n&#39;);\r\n        }\r\n        file.close();\r\n    \r\n        // write the new string with the replaced line OVER the same file\r\n        FileOutputStream fileOut = new FileOutputStream(&quot;tasks.txt&quot;);\r\n        fileOut.write(inputBuffer.toString().getBytes());\r\n        fileOut.close();\r\n    \r\n    } catch (Exception e) {\r\n        System.out.println(&quot;Problem reading file.&quot;);\r\n    }\r\n}\r\n```","title":"Why does replacing the file contents within an ArrayList return unwanted results?","body":"<p>How do I add the file line I have edited to the same line I got the contents from my txt file?</p>\n<pre class=\"lang-none prettyprint-override\"><code>1,House mack,house,123 mack road,155,40000,40000,2022-09-29,no,Bill,123456,bill@gmail.com,12 Bill road,Jack,456789,jack@gmail.com,23 Jack road,John,789632,john@gmail.com,34 John road,\n2,House John,house,123 John road,183,50000,50000,2022-09-10,yes,Bill,123456,bill@gmail.com,12 Bill road,Jack,456789,jack@gmail.com,23 Jack road,John,789632,john@gmail.com,34 John road,\n</code></pre>\n<p>But my output to the txt file looks like this</p>\n<pre class=\"lang-none prettyprint-override\"><code>1,House mack,house,123 mack road,155,40000,111,2022-09-29,no,Bill,123456,bill@gmail.com,12 Bill road,Jack,456789,jack@gmail.com,23 Jack road,John,789632,john@gmail.com,34 John road,\n\n1,House mack,house,123 mack road,155,40000,111,2022-09-29,no,Bill,123456,bill@gmail.com,12 Bill road,Jack,456789,jack@gmail.com,23 Jack road,John,789632,john@gmail.com,34 John road,\n</code></pre>\n<p>How can I get my program to only replace in the edited line in place of the old line and leave the other file contents alone?</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (option.equals(&quot;cp&quot;)) {\n    Array.set(values, 6, newPaid);\n    findString = &quot;\\n&quot; + values[0] + &quot;,&quot; + values[1] + &quot;,&quot; + values[2] + &quot;,&quot;\n        + values[3] + &quot;,&quot; + values[4] + &quot;,&quot; + values[5] + &quot;,&quot; + values[6] + &quot;,&quot;\n        + values[7] + &quot;,&quot; + values[8] + &quot;,&quot; + values[9] + &quot;,&quot; + values[10] + &quot;,&quot;\n        + values[11] + &quot;,&quot; + values[12] + &quot;,&quot; + values[13] + &quot;,&quot; + values[14] + &quot;,&quot;\n        + values[15] + &quot;,&quot; + values[16] + &quot;,&quot; + values[17] + &quot;,&quot; + values[18] + &quot;,&quot;\n        + values[19] + &quot;,&quot; + values[20] + &quot;,&quot;;\n                                \n    replaceLines(findString);\n    System.out.println(&quot;Your Price has been changed and contents has been successfully updated! &quot;);\n    break;\n</code></pre>\n<p>My method that contains all the calculations</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void replaceLines(String findString) {\n    try {\n        BufferedReader file = new BufferedReader(new FileReader(&quot;tasks.txt&quot;));\n        StringBuffer inputBuffer = new StringBuffer();\n        String line;\n    \n        while ((line = file.readLine()) != null) {\n            line = findString; \n            inputBuffer.append(line);\n            inputBuffer.append('\\n');\n        }\n        file.close();\n    \n        // write the new string with the replaced line OVER the same file\n        FileOutputStream fileOut = new FileOutputStream(&quot;tasks.txt&quot;);\n        fileOut.write(inputBuffer.toString().getBytes());\n        fileOut.close();\n    \n    } catch (Exception e) {\n        System.out.println(&quot;Problem reading file.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","object","multidimensional-array"],"comments":[{"owner":{"account_id":21526213,"reputation":1,"user_id":15866447,"display_name":"unlikingly"},"score":0,"creation_date":1665852914,"post_id":74081328,"comment_id":130798049,"body_markdown":"In the dimensionOf() function, the parameter takes in java.lang.Object&#39;s type Object, so I am simple saying I am not passing in an array how you normally would, in my case using int[][] or int[][][], etc. I am passing it in the same way through the loopThroughArray() function.","body":"In the dimensionOf() function, the parameter takes in java.lang.Object&#39;s type Object, so I am simple saying I am not passing in an array how you normally would, in my case using int[][] or int[][][], etc. I am passing it in the same way through the loopThroughArray() function."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665854421,"post_id":74081328,"comment_id":130798337,"body_markdown":"newer version of Java: `if (arr instanceof int[][] twoD) { ... twoD[i][j] ...} else if (arr instanceof int[][][] threeD) { ... threD[i][j][k] ...}` - not so actual version: `if (arr instanceof int[][]) { int[][] twoD = (int[][]) arr; ... twoD[i][j] ...} else ...`  || BTW for any dimension, you can also test `arr instanceof Object[]` to know it has at least one dimension (at least two if the *inner* one is `int[]`), or `instanceof int[]` for only one dimension","body":"newer version of Java: <code>if (arr instanceof int[][] twoD) { ... twoD[i][j] ...} else if (arr instanceof int[][][] threeD) { ... threD[i][j][k] ...}</code> - not so actual version: <code>if (arr instanceof int[][]) { int[][] twoD = (int[][]) arr; ... twoD[i][j] ...} else ...</code>  || BTW for any dimension, you can also test <code>arr instanceof Object[]</code> to know it has at least one dimension (at least two if the <i>inner</i> one is <code>int[]</code>), or <code>instanceof int[]</code> for only one dimension"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665855177,"post_id":74081328,"comment_id":130798508,"body_markdown":"there is also `java.lang.reflect.Array` with helpful methods - I think you&#39;ll find some that fits your actual code (`get()` or `getInt()`) which take an `Object` and an `int` to retrieve the chosen element","body":"there is also <code>java.lang.reflect.Array</code> with helpful methods - I think you&#39;ll find some that fits your actual code (<code>get()</code> or <code>getInt()</code>) which take an <code>Object</code> and an <code>int</code> to retrieve the chosen element"},{"owner":{"account_id":21526213,"reputation":1,"user_id":15866447,"display_name":"unlikingly"},"score":0,"creation_date":1665855772,"post_id":74081328,"comment_id":130798628,"body_markdown":"@user16320675 This does not seem to be working. Getting an exception that says &quot;Argument is not an array of primitive type&quot;: `System.out.print(Array.getInt(arr, x));`","body":"@user16320675 This does not seem to be working. Getting an exception that says &quot;Argument is not an array of primitive type&quot;: <code>System.out.print(Array.getInt(arr, x));</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665855967,"post_id":74081328,"comment_id":130798676,"body_markdown":"that will only work if `arr` is `int[]`, but not for `int[][]` or higher dimensions (an array of arrays)","body":"that will only work if <code>arr</code> is <code>int[]</code>, but not for <code>int[][]</code> or higher dimensions (an array of arrays)"},{"owner":{"account_id":21526213,"reputation":1,"user_id":15866447,"display_name":"unlikingly"},"score":0,"creation_date":1665856007,"post_id":74081328,"comment_id":130798682,"body_markdown":"@user16320675 I have tried your other method and it does work with what I need to do, thank you!","body":"@user16320675 I have tried your other method and it does work with what I need to do, thank you!"},{"owner":{"account_id":21526213,"reputation":1,"user_id":15866447,"display_name":"unlikingly"},"score":0,"creation_date":1665856721,"post_id":74081328,"comment_id":130798838,"body_markdown":"Yes, the `instanceof` method works. Here are my new dimension checks: `if(arr instanceof int[])` and same for a 2d and 3d array. Then my prints are `int[][] twoD = (int[][])arr; System.out.print(twoD[x][y]);` I appreciate the help!","body":"Yes, the <code>instanceof</code> method works. Here are my new dimension checks: <code>if(arr instanceof int[])</code> and same for a 2d and 3d array. Then my prints are <code>int[][] twoD = (int[][])arr; System.out.print(twoD[x][y]);</code> I appreciate the help!"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665858485,"post_id":74081328,"comment_id":130799174,"body_markdown":"my recursive solution: https://i.stack.imgur.com/XFVx5.png (elements must be `int`)","body":"my recursive solution: <a href=\"https://i.stack.imgur.com/XFVx5.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/XFVx5.png</a> (elements must be <code>int</code>)"}],"owner":{"account_id":21526213,"reputation":1,"user_id":15866447,"display_name":"unlikingly"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665852536,"creation_date":1665852536,"question_id":74081328,"body_markdown":"I am trying to make a program that will take any dimension size array, determine the dimension count, then loop through the array without using two for loops. It is an assignment for class. Basically, the assignment is to process a n-D array as if it is a 1-D while keeping the array unchanged. However, to determine the dimension of the array, I have to convert it to an object. Then, I am trying to print out each array value in every space, but can&#39;t cause the array is passed in as an object. Any ideas?\r\n```\r\npublic class Main \r\n{\r\n\t\r\n\tstatic int[][] twoDArray = {\r\n\t\t\t{5,3,6,3,7},\r\n\t\t\t{4,2,1,0,9},\r\n\t\t\t{8,2,1,9,4},\r\n\t};\r\n\t\r\n\tstatic int[][][] threeDArray = {\r\n\t\t\t{{2,4},{1,4},{3,4},{6,4},{7,4}},\r\n\t\t\t{{9,4},{2,4},{8,4},{9,4},{2,4}},\r\n\t\t\t{{7,4},{1,4},{5,4},{3,4},{8,4}},\r\n\t};\r\n\t\r\n\tpublic static void main(String args[])\r\n\t{\r\n\t\tloopThroughArray(twoDArray, 3, 5, 2);\r\n\t}\r\n\t\r\n\tpublic static void loopThroughArray(Object arr, int xLength, int yLength,\r\n\t\t\tint zLength)\r\n\t{\r\n\t\tif(dimensionOf(arr) == 2)\r\n\t\t{\r\n\t\t\tint x = 0;\r\n\t\t\tint z = 0;\r\n\t\t\tfor(int y = 0; y &lt;= yLength; y++)\r\n\t\t\t{\r\n\t\t\t\tif(y == yLength &amp;&amp; x != xLength - 1)\r\n\t\t\t\t{\r\n\t\t\t\t\ty = 0;\r\n\t\t\t\t\tx++;\r\n\t\t\t\t}\r\n\t\t\t\tif(y == yLength &amp;&amp; x == xLength - 1)\r\n\t\t\t\t{\r\n\t\t\t\t\ty = 0;\r\n\t\t\t\t\tx = 0;\r\n\t\t\t\t\tz++;\r\n\t\t\t\t\tif(z == zLength) break;\r\n\t\t\t\t}\r\n\t\t\t\t//System.out.print(arr[x][y]); This line gives me an error.\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if(dimensionOf(arr) == 3)\r\n\t\t{\r\n\t\t\tint x = 0;\r\n\t\t\tint z = 0;\r\n\t\t\tfor(int y = 0; y &lt;= yLength; y++)\r\n\t\t\t{\r\n\t\t\t\tif(y == yLength &amp;&amp; x != xLength - 1)\r\n\t\t\t\t{\r\n\t\t\t\t\ty = 0;\r\n\t\t\t\t\tx++;\r\n\t\t\t\t}\r\n\t\t\t\tif(y == yLength &amp;&amp; x == xLength - 1)\r\n\t\t\t\t{\r\n\t\t\t\t\ty = 0;\r\n\t\t\t\t\tx = 0;\r\n\t\t\t\t\tz++;\r\n\t\t\t\t\tif(z == zLength) break;\r\n\t\t\t\t}\r\n\t\t\t\t//System.out.print(arr[x][y][z]); This line gives me an error.\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\t\r\n\t//This is the function that determines the dimension size of the array.\r\n\tpublic static int dimensionOf(Object arr) {\r\n\t\tint dimensionCount = 0;\r\n\t\tClass c = arr.getClass(); // getting the runtime class of an object\r\n\t\twhile (c.isArray()) // check whether the object is an array\r\n\t\t\t{\r\n\t\t\tc = c.getComponentType(); // returns the class denoting the component type of the array\r\n\t\t    dimensionCount++;\r\n\t\t    }\r\n\t\treturn dimensionCount;\r\n\t}\r\n}\r\n```","title":"Java print array of integers while array is stored as an object","body":"<p>I am trying to make a program that will take any dimension size array, determine the dimension count, then loop through the array without using two for loops. It is an assignment for class. Basically, the assignment is to process a n-D array as if it is a 1-D while keeping the array unchanged. However, to determine the dimension of the array, I have to convert it to an object. Then, I am trying to print out each array value in every space, but can't cause the array is passed in as an object. Any ideas?</p>\n<pre><code>public class Main \n{\n    \n    static int[][] twoDArray = {\n            {5,3,6,3,7},\n            {4,2,1,0,9},\n            {8,2,1,9,4},\n    };\n    \n    static int[][][] threeDArray = {\n            {{2,4},{1,4},{3,4},{6,4},{7,4}},\n            {{9,4},{2,4},{8,4},{9,4},{2,4}},\n            {{7,4},{1,4},{5,4},{3,4},{8,4}},\n    };\n    \n    public static void main(String args[])\n    {\n        loopThroughArray(twoDArray, 3, 5, 2);\n    }\n    \n    public static void loopThroughArray(Object arr, int xLength, int yLength,\n            int zLength)\n    {\n        if(dimensionOf(arr) == 2)\n        {\n            int x = 0;\n            int z = 0;\n            for(int y = 0; y &lt;= yLength; y++)\n            {\n                if(y == yLength &amp;&amp; x != xLength - 1)\n                {\n                    y = 0;\n                    x++;\n                }\n                if(y == yLength &amp;&amp; x == xLength - 1)\n                {\n                    y = 0;\n                    x = 0;\n                    z++;\n                    if(z == zLength) break;\n                }\n                //System.out.print(arr[x][y]); This line gives me an error.\n            }\n        }\n        else if(dimensionOf(arr) == 3)\n        {\n            int x = 0;\n            int z = 0;\n            for(int y = 0; y &lt;= yLength; y++)\n            {\n                if(y == yLength &amp;&amp; x != xLength - 1)\n                {\n                    y = 0;\n                    x++;\n                }\n                if(y == yLength &amp;&amp; x == xLength - 1)\n                {\n                    y = 0;\n                    x = 0;\n                    z++;\n                    if(z == zLength) break;\n                }\n                //System.out.print(arr[x][y][z]); This line gives me an error.\n            }\n        }\n\n    }\n    \n    \n    //This is the function that determines the dimension size of the array.\n    public static int dimensionOf(Object arr) {\n        int dimensionCount = 0;\n        Class c = arr.getClass(); // getting the runtime class of an object\n        while (c.isArray()) // check whether the object is an array\n            {\n            c = c.getComponentType(); // returns the class denoting the component type of the array\n            dimensionCount++;\n            }\n        return dimensionCount;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","retrofit","retrofit2"],"comments":[{"owner":{"account_id":2467229,"reputation":2594,"user_id":2150044,"accept_rate":42,"display_name":"nstosic"},"score":0,"creation_date":1469693707,"post_id":38630649,"comment_id":64645312,"body_markdown":"So you want to have the same function that can convert the JSON response to various, possibly completely unrelated, classes?","body":"So you want to have the same function that can convert the JSON response to various, possibly completely unrelated, classes?"},{"owner":{"account_id":3265858,"reputation":56,"user_id":4140857,"display_name":"Madhav Anadkat"},"score":0,"creation_date":1469694272,"post_id":38630649,"comment_id":64645639,"body_markdown":"actually , if i can pass with ResponseBody&lt;LoginRes&gt; dynamically or a different way .. i need suggestions on that.","body":"actually , if i can pass with ResponseBody&lt;LoginRes&gt; dynamically or a different way .. i need suggestions on that."}],"answers":[{"comments":[{"owner":{"account_id":3265858,"reputation":56,"user_id":4140857,"display_name":"Madhav Anadkat"},"score":0,"creation_date":1469711361,"post_id":38630977,"comment_id":64657683,"body_markdown":"i know this way .. but its a long way to do this.. still thanks for your reply ..","body":"i know this way .. but its a long way to do this.. still thanks for your reply .."},{"owner":{"account_id":1427808,"reputation":2376,"user_id":1350902,"display_name":"dipdipdip"},"score":1,"creation_date":1469712276,"post_id":38630977,"comment_id":64658476,"body_markdown":"Either you know your desired Class before you perfom the request or you have to go this way.","body":"Either you know your desired Class before you perfom the request or you have to go this way."},{"owner":{"account_id":3265858,"reputation":56,"user_id":4140857,"display_name":"Madhav Anadkat"},"score":0,"creation_date":1469773321,"post_id":38630977,"comment_id":64685416,"body_markdown":"thanks for that , i am still looking for some good solution .. i have this way .. for plan b.","body":"thanks for that , i am still looking for some good solution .. i have this way .. for plan b."},{"owner":{"account_id":2892194,"reputation":6142,"user_id":2480714,"accept_rate":67,"display_name":"PGMacDesign"},"score":0,"creation_date":1478208739,"post_id":38630977,"comment_id":68073428,"body_markdown":"Question, if I use this method in mine and some responses I receive from the server will be an object (IE User object, or a List of Event objects), but some will be straight booleans/ Strings), will this approach still work?","body":"Question, if I use this method in mine and some responses I receive from the server will be an object (IE User object, or a List of Event objects), but some will be straight booleans/ Strings), will this approach still work?"}],"tags":[],"owner":{"account_id":1427808,"reputation":2376,"user_id":1350902,"display_name":"dipdipdip"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1469694532,"creation_date":1469694532,"answer_id":38630977,"question_id":38630649,"body_markdown":"This is a bit tricky but you&#39;ll need to use a custom Retrofit Converter Factory with a custom GsonBuilder which uses a custom JsonDeserializer.\r\n\r\nFurthermore you should define an interface (`CustomResonse` in my Example) for which the CustomJsonDeserializer is used. This is not needed, but otherwise the Deserializer gets used for **every** request.\r\n\r\n    public class CustomConverterFactory {\r\n\r\n        public static GsonConverterFactory create() {\r\n            return GsonConverterFactory.create(createGsonCustomDeserializer());\r\n        }\r\n\r\n        public static Gson createGsonCustomJsonDeserializer() {\r\n            return new GsonBuilder()\r\n                .registerTypeAdapter(CustomResponse.class, new CustomJsonDeserializer())\r\n                .serializeNulls()\r\n                .create();\r\n        }\r\n    }\r\n\r\nAnd for the Deserializer:\r\n\r\n    public class CustomJsonDeserializer implements JsonDeserializer&lt;CustomResponse&gt; {\r\n\r\n    @Override\r\n    public CustomResponse deserialize(final JsonElement json, final Type typeOfT,\r\n            final JsonDeserializationContext context) throws JsonParseException {\r\n        if (json.isJsonObject()) {\r\n            JsonObject jsonObject = json.getAsJsonObject();\r\n\r\n            // Here you have to distinguish your class somehow\r\n            // Maybe read some Json field from your response\r\n            if (jsonObject.has(&quot;name&quot;)) {\r\n                JsonElement classes = jsonObject.get(&quot;name&quot;);\r\n                ...\r\n                return context.deserialize(json, MyName.class);\r\n            }\r\n            ...\r\n            // Default fallback: Deserialize as a fallback object\r\n            return context.deserialize(json, MyFallback.class);\r\n        } else {\r\n            throw new IllegalStateException();\r\n        }\r\n    }\r\n\r\n\r\n","title":"Retrofit Dynamic ResponseBody","body":"<p>This is a bit tricky but you'll need to use a custom Retrofit Converter Factory with a custom GsonBuilder which uses a custom JsonDeserializer.</p>\n\n<p>Furthermore you should define an interface (<code>CustomResonse</code> in my Example) for which the CustomJsonDeserializer is used. This is not needed, but otherwise the Deserializer gets used for <strong>every</strong> request.</p>\n\n<pre><code>public class CustomConverterFactory {\n\n    public static GsonConverterFactory create() {\n        return GsonConverterFactory.create(createGsonCustomDeserializer());\n    }\n\n    public static Gson createGsonCustomJsonDeserializer() {\n        return new GsonBuilder()\n            .registerTypeAdapter(CustomResponse.class, new CustomJsonDeserializer())\n            .serializeNulls()\n            .create();\n    }\n}\n</code></pre>\n\n<p>And for the Deserializer:</p>\n\n<pre><code>public class CustomJsonDeserializer implements JsonDeserializer&lt;CustomResponse&gt; {\n\n@Override\npublic CustomResponse deserialize(final JsonElement json, final Type typeOfT,\n        final JsonDeserializationContext context) throws JsonParseException {\n    if (json.isJsonObject()) {\n        JsonObject jsonObject = json.getAsJsonObject();\n\n        // Here you have to distinguish your class somehow\n        // Maybe read some Json field from your response\n        if (jsonObject.has(\"name\")) {\n            JsonElement classes = jsonObject.get(\"name\");\n            ...\n            return context.deserialize(json, MyName.class);\n        }\n        ...\n        // Default fallback: Deserialize as a fallback object\n        return context.deserialize(json, MyFallback.class);\n    } else {\n        throw new IllegalStateException();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3265858,"reputation":56,"user_id":4140857,"display_name":"Madhav Anadkat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665852476,"creation_date":1514294330,"answer_id":47979225,"question_id":38630649,"body_markdown":"\r\n**Handle GET,POST or OTHER method Like this,** \r\n\r\n    if (methodType.equalsIgnoreCase(CommonConfig.WsMethodType.GET)) {\r\n                    apicall = getClient(CommonConfig.WsPrefix).create(ApiInterface.class).makeGetRequest(url + CommonConfig.getQueryString(new Gson().toJson(requestBody)), getAllHeader);\r\n     } else if (methodType.equalsIgnoreCase(CommonConfig.WsMethodType.POST)) {\r\n                    apicall = getClient(CommonConfig.WsPrefix).create(ApiInterface.class).makePostRequest(url, RequestBody.create(MediaType.parse(&quot;application/json&quot;), new Gson().toJson(requestBody)), getAllHeader);\r\n     }\r\n\r\n**Handle Response Like this.**\r\n\r\n    apicall.enqueue(new Callback&lt;ResponseBody&gt;() {\r\n                                    @Override\r\n    public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\r\n    }\r\n    \r\n     @Override\r\n     public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\r\n\r\n    }\r\n    }\r\n\r\n**Retrofit Code**\r\n\r\n    private Retrofit getClient(String WsPrefix) {\r\n            //TODO 60 to 30 second at everywhere\r\n            OkHttpClient okHttpClient = new OkHttpClient().newBuilder()\r\n                    .connectTimeout(60, TimeUnit.SECONDS)\r\n                    .readTimeout(60, TimeUnit.SECONDS)\r\n                    .writeTimeout(60, TimeUnit.SECONDS)\r\n                    .build();\r\n    \r\n            retrofit = new Retrofit.Builder()\r\n                    .baseUrl(WsPrefix)\r\n                    .client(okHttpClient)\r\n                    .build();\r\n            return retrofit;\r\n        }\r\n\r\n**Common Interface**\r\n\r\n    interface ApiInterface {\r\n    \r\n            @GET\r\n            Call&lt;ResponseBody&gt; makeGetRequest(@Url String url, @HeaderMap() Map&lt;String, String&gt; header);\r\n    \r\n            @POST\r\n            Call&lt;ResponseBody&gt; makePostRequest(@Url String url, @Body RequestBody requestBody, @HeaderMap() Map&lt;String, String&gt; header);\r\n    }\r\n\r\n**ApiCallback**\r\n\r\n\r\n    public interface ApiCallback {\r\n          void success(String responseData);\r\n          void failure(String responseData);\r\n    }\r\n\r\n","title":"Retrofit Dynamic ResponseBody","body":"<p><strong>Handle GET,POST or OTHER method Like this,</strong></p>\n<pre><code>if (methodType.equalsIgnoreCase(CommonConfig.WsMethodType.GET)) {\n                apicall = getClient(CommonConfig.WsPrefix).create(ApiInterface.class).makeGetRequest(url + CommonConfig.getQueryString(new Gson().toJson(requestBody)), getAllHeader);\n } else if (methodType.equalsIgnoreCase(CommonConfig.WsMethodType.POST)) {\n                apicall = getClient(CommonConfig.WsPrefix).create(ApiInterface.class).makePostRequest(url, RequestBody.create(MediaType.parse(&quot;application/json&quot;), new Gson().toJson(requestBody)), getAllHeader);\n }\n</code></pre>\n<p><strong>Handle Response Like this.</strong></p>\n<pre><code>apicall.enqueue(new Callback&lt;ResponseBody&gt;() {\n                                @Override\npublic void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\n}\n\n @Override\n public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\n\n}\n}\n</code></pre>\n<p><strong>Retrofit Code</strong></p>\n<pre><code>private Retrofit getClient(String WsPrefix) {\n        //TODO 60 to 30 second at everywhere\n        OkHttpClient okHttpClient = new OkHttpClient().newBuilder()\n                .connectTimeout(60, TimeUnit.SECONDS)\n                .readTimeout(60, TimeUnit.SECONDS)\n                .writeTimeout(60, TimeUnit.SECONDS)\n                .build();\n\n        retrofit = new Retrofit.Builder()\n                .baseUrl(WsPrefix)\n                .client(okHttpClient)\n                .build();\n        return retrofit;\n    }\n</code></pre>\n<p><strong>Common Interface</strong></p>\n<pre><code>interface ApiInterface {\n\n        @GET\n        Call&lt;ResponseBody&gt; makeGetRequest(@Url String url, @HeaderMap() Map&lt;String, String&gt; header);\n\n        @POST\n        Call&lt;ResponseBody&gt; makePostRequest(@Url String url, @Body RequestBody requestBody, @HeaderMap() Map&lt;String, String&gt; header);\n}\n</code></pre>\n<p><strong>ApiCallback</strong></p>\n<pre><code>public interface ApiCallback {\n      void success(String responseData);\n      void failure(String responseData);\n}\n</code></pre>\n"}],"owner":{"account_id":3265858,"reputation":56,"user_id":4140857,"display_name":"Madhav Anadkat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2496,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":47979225,"answer_count":2,"score":0,"last_activity_date":1665852476,"creation_date":1469693547,"question_id":38630649,"body_markdown":"I am planning to make one common service class with the use of Retrofit,\r\n\r\n    @GET\r\n    Call&lt;ResponseBody&gt; makeGetRequest(@Url String url);\r\n\r\n    @POST\r\n    Call&lt;ResponseBody&gt; makePostRequest(@Url String url, @Body RequestBody parameters);\r\n\r\nIn this code i need to pass (ResponseBody) as a dynamic JSON POJO class name , Like LoginRes\r\n\r\nSay for Example ,  \r\n\r\n    Call&lt;LoginRes&gt; // But this class will be dynamic\r\n\r\nI will pass ResponseBody but that ResponseBody does not know which class i wanted to prefer.\r\n\r\nwhy i want this because , after result \r\n\r\n    gson.fromJson(response, LoginRes.class);\r\n\r\nso, after getting result from Retrofit we again need to convert to gson.fromJson.\r\n\r\nso i wanted to pass dynamic Response as Retrofit so that it will response according to my pojo class, \r\n\r\nI know this is working fine when i pass LoginRes instead of ResponseBody because as i already told to Response that we need that response in LoginRes.\r\n\r\nSo if i pass \r\n\r\n    Call&lt;LoginRes&gt; // if i pass this way its working fine no need to convert my response i can access my all properties from that LoginRes class directly. \r\n\r\nThis is my example to call a Web service.\r\n\r\n    Call&lt;ResponseBody&gt; call = apiService.makePostRequest(&quot;/Buyer/LoginApp&quot;, requestBody);\r\n    \r\nThis is how i call the Service.\r\n\r\nLet me know if i am unclear with explanation of my problem.\r\n\r\nwaiting for some good response and suggestions on this.\r\n\r\nThanks \r\nMadhav \r\n\r\n","title":"Retrofit Dynamic ResponseBody","body":"<p>I am planning to make one common service class with the use of Retrofit,</p>\n\n<pre><code>@GET\nCall&lt;ResponseBody&gt; makeGetRequest(@Url String url);\n\n@POST\nCall&lt;ResponseBody&gt; makePostRequest(@Url String url, @Body RequestBody parameters);\n</code></pre>\n\n<p>In this code i need to pass (ResponseBody) as a dynamic JSON POJO class name , Like LoginRes</p>\n\n<p>Say for Example ,  </p>\n\n<pre><code>Call&lt;LoginRes&gt; // But this class will be dynamic\n</code></pre>\n\n<p>I will pass ResponseBody but that ResponseBody does not know which class i wanted to prefer.</p>\n\n<p>why i want this because , after result </p>\n\n<pre><code>gson.fromJson(response, LoginRes.class);\n</code></pre>\n\n<p>so, after getting result from Retrofit we again need to convert to gson.fromJson.</p>\n\n<p>so i wanted to pass dynamic Response as Retrofit so that it will response according to my pojo class, </p>\n\n<p>I know this is working fine when i pass LoginRes instead of ResponseBody because as i already told to Response that we need that response in LoginRes.</p>\n\n<p>So if i pass </p>\n\n<pre><code>Call&lt;LoginRes&gt; // if i pass this way its working fine no need to convert my response i can access my all properties from that LoginRes class directly. \n</code></pre>\n\n<p>This is my example to call a Web service.</p>\n\n<pre><code>Call&lt;ResponseBody&gt; call = apiService.makePostRequest(\"/Buyer/LoginApp\", requestBody);\n</code></pre>\n\n<p>This is how i call the Service.</p>\n\n<p>Let me know if i am unclear with explanation of my problem.</p>\n\n<p>waiting for some good response and suggestions on this.</p>\n\n<p>Thanks \nMadhav </p>\n"},{"tags":["java","combobox","enums","javafx"],"answers":[{"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":10,"creation_date":1420556923,"post_id":27801365,"comment_id":44011494,"body_markdown":"or `cbxStatus.getItems().setAll(Status.values());`","body":"or <code>cbxStatus.getItems().setAll(Status.values());</code>"},{"owner":{"account_id":2069490,"reputation":18155,"user_id":1844265,"accept_rate":72,"display_name":"Roland"},"score":0,"creation_date":1420557168,"post_id":27801365,"comment_id":44011647,"body_markdown":"Oh yes, that one is better :D","body":"Oh yes, that one is better :D"},{"owner":{"account_id":2034,"reputation":26677,"user_id":2796,"accept_rate":84,"display_name":"J&#233;r&#244;me"},"score":0,"creation_date":1420557519,"post_id":27801365,"comment_id":44011882,"body_markdown":"James_D solution is my chosen one ! Thnx","body":"James_D solution is my chosen one ! Thnx"},{"owner":{"account_id":1372373,"reputation":3200,"user_id":1307108,"accept_rate":40,"display_name":"Groostav"},"score":1,"creation_date":1439456242,"post_id":27801365,"comment_id":51872613,"body_markdown":"any way to do it from FXML?","body":"any way to do it from FXML?"},{"owner":{"account_id":5043930,"reputation":582,"user_id":4050538,"accept_rate":33,"display_name":"Agricola"},"score":0,"creation_date":1505324203,"post_id":27801365,"comment_id":79370342,"body_markdown":"It doesn&#39;t make a big deal of difference, but `cbxStatus.getItems().setAll(Arrays.asList(Status.values()));` will avoid a warning that reads &quot;non-varargs call of varags method&quot;.","body":"It doesn&#39;t make a big deal of difference, but <code>cbxStatus.getItems().setAll(Arrays.asList(Status.values()));</code> will avoid a warning that reads &quot;non-varargs call of varags method&quot;."}],"tags":[],"owner":{"account_id":2069490,"reputation":18155,"user_id":1844265,"accept_rate":72,"display_name":"Roland"},"comment_count":5,"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1421071627,"creation_date":1420556635,"answer_id":27801365,"question_id":27801119,"body_markdown":"If setItems requires an ObservableList, then you have to give it one instead of an array.\r\n\r\nTry this:\r\n\r\n\tComboBox&lt;Status&gt; cbxStatus = new ComboBox&lt;&gt;();\r\n    cbxStatus.setItems( FXCollections.observableArrayList( Status.values()));\r\n\r\n \r\nEdit: The solution of James_D (see comment) is the preferred one:\r\n\r\n    cbxStatus.getItems().setAll(Status.values());\r\n\r\n","title":"Populating JavaFX ComboBox or ChoiceBox from enum","body":"<p>If setItems requires an ObservableList, then you have to give it one instead of an array.</p>\n\n<p>Try this:</p>\n\n<pre><code>ComboBox&lt;Status&gt; cbxStatus = new ComboBox&lt;&gt;();\ncbxStatus.setItems( FXCollections.observableArrayList( Status.values()));\n</code></pre>\n\n<p>Edit: The solution of James_D (see comment) is the preferred one:</p>\n\n<pre><code>cbxStatus.getItems().setAll(Status.values());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5237964,"reputation":6741,"user_id":4185959,"accept_rate":64,"display_name":"Itai"},"score":1,"creation_date":1505307401,"post_id":46046878,"comment_id":79358801,"body_markdown":"An arguably more elegant solution would be to use `fx:constant`, so it directly references the enum values rather than rely on the static `valueOf` method. Some editors may even provide completion when using `fx:constant`.","body":"An arguably more elegant solution would be to use <code>fx:constant</code>, so it directly references the enum values rather than rely on the static <code>valueOf</code> method. Some editors may even provide completion when using <code>fx:constant</code>."}],"tags":[],"owner":{"account_id":11046671,"reputation":57,"user_id":8112505,"display_name":"rizcan"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1665851895,"creation_date":1504584358,"answer_id":46046878,"question_id":27801119,"body_markdown":"I used FXML for this. My enum has a constructor\r\n\r\n``` lang-xml\r\n&lt;ComboBox GridPane.rowIndex=&quot;0&quot; GridPane.columnIndex=&quot;1&quot;&gt;\r\n     &lt;items&gt;\r\n         &lt;FXCollections fx:factory=&quot;observableArrayList&quot;&gt;\r\n             &lt;Type fx:value=&quot;ABC&quot;/&gt;\r\n             &lt;Type fx:value=&quot;DEF&quot;/&gt;\r\n             &lt;Type fx:value=&quot;GHI&quot;/&gt;\r\n         &lt;/FXCollections&gt;\r\n     &lt;/items&gt;\r\n&lt;/ComboBox&gt;\r\n```\r\n------------------------------------\r\n``` lang-java\r\npublic enum Type {\r\n    ABC(&quot;abc&quot;), \r\n    DEF(&quot;def&quot;), \r\n    GHI(&quot;ghi&quot;);\r\n\r\n    private String name;\r\n\r\n    private Type(String theType) {\r\n        this.name = theType;\r\n    }\r\n}\r\n```","title":"Populating JavaFX ComboBox or ChoiceBox from enum","body":"<p>I used FXML for this. My enum has a constructor</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ComboBox GridPane.rowIndex=&quot;0&quot; GridPane.columnIndex=&quot;1&quot;&gt;\n     &lt;items&gt;\n         &lt;FXCollections fx:factory=&quot;observableArrayList&quot;&gt;\n             &lt;Type fx:value=&quot;ABC&quot;/&gt;\n             &lt;Type fx:value=&quot;DEF&quot;/&gt;\n             &lt;Type fx:value=&quot;GHI&quot;/&gt;\n         &lt;/FXCollections&gt;\n     &lt;/items&gt;\n&lt;/ComboBox&gt;\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>public enum Type {\n    ABC(&quot;abc&quot;), \n    DEF(&quot;def&quot;), \n    GHI(&quot;ghi&quot;);\n\n    private String name;\n\n    private Type(String theType) {\n        this.name = theType;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26611323,"reputation":26,"user_id":20231479,"display_name":"Youssef Rajoul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665734674,"creation_date":1665667088,"answer_id":74056446,"question_id":27801119,"body_markdown":"You can change it to:\r\n\r\n    ComboBox&lt;Status&gt; cbxStatus = new ComboBox&lt;&gt;();\r\n    cbxStatus.getItems().setAll(Arrays.asList(Status.values()));","title":"Populating JavaFX ComboBox or ChoiceBox from enum","body":"<p>You can change it to:</p>\n<pre><code>ComboBox&lt;Status&gt; cbxStatus = new ComboBox&lt;&gt;();\ncbxStatus.getItems().setAll(Arrays.asList(Status.values()));\n</code></pre>\n"}],"owner":{"account_id":2034,"reputation":26677,"user_id":2796,"accept_rate":84,"display_name":"J&#233;r&#244;me"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28918,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":27801365,"answer_count":3,"score":25,"last_activity_date":1665851895,"creation_date":1420555747,"question_id":27801119,"body_markdown":"Is there a way to populate a JavaFX `ComboBox` or `ChoiceBox` with all enumerations of a enum ?\r\n\r\nHere is what I tried :\r\n\r\n\tpublic class Test {\r\n\r\n\t\tpublic enum Status {\r\n\t\t\tENABLED(&quot;enabled&quot;),\r\n\t\t\tDISABLED(&quot;disabled&quot;),\r\n\t\t\tUNDEFINED(&quot;undefined&quot;);\r\n\r\n\t\t\tprivate String label;\r\n\r\n\t\t\tStatus(String label) {\r\n\t\t\t\tthis.label = label;\r\n\t\t\t}\r\n\r\n\t\t\tpublic String toString() {\r\n\t\t\t\treturn label;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nIn a another class, I&#39;m trying to populate a `ComboBox` :\r\n\r\n        ComboBox&lt;Test.Status&gt; cbxStatus = new ComboBox&lt;&gt;();\r\n        cbxStatus.setItems(Test.Status.values());\r\n\r\nBut I get an error : `incompatible types: Status[] cannot be converted to ObservableList&lt;Status&gt;`\r\n\r\nI obviously get the same problem with a `ChoiceBox`.","title":"Populating JavaFX ComboBox or ChoiceBox from enum","body":"<p>Is there a way to populate a JavaFX <code>ComboBox</code> or <code>ChoiceBox</code> with all enumerations of a enum ?</p>\n\n<p>Here is what I tried :</p>\n\n<pre><code>public class Test {\n\n    public enum Status {\n        ENABLED(\"enabled\"),\n        DISABLED(\"disabled\"),\n        UNDEFINED(\"undefined\");\n\n        private String label;\n\n        Status(String label) {\n            this.label = label;\n        }\n\n        public String toString() {\n            return label;\n        }\n    }\n}\n</code></pre>\n\n<p>In a another class, I'm trying to populate a <code>ComboBox</code> :</p>\n\n<pre><code>    ComboBox&lt;Test.Status&gt; cbxStatus = new ComboBox&lt;&gt;();\n    cbxStatus.setItems(Test.Status.values());\n</code></pre>\n\n<p>But I get an error : <code>incompatible types: Status[] cannot be converted to ObservableList&lt;Status&gt;</code></p>\n\n<p>I obviously get the same problem with a <code>ChoiceBox</code>.</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":11454839,"reputation":3917,"user_id":8396204,"display_name":"Basel Issmail"},"score":0,"creation_date":1571587538,"post_id":58474737,"comment_id":103282626,"body_markdown":"Try to put the id on the label element which wraps the input.","body":"Try to put the id on the label element which wraps the input."},{"owner":{"account_id":497945,"reputation":968,"user_id":1360035,"display_name":"moilejter"},"score":0,"creation_date":1571644078,"post_id":58474737,"comment_id":103295398,"body_markdown":"By.linkText shouldn&#39;t work, since you don&#39;t have a link in that HTML snippet.  By.id should be retrieving the input element with that id - assuming there is only one.  But why would you be clicking on an &lt;input&gt; element?  (I guess I don&#39;t know the frameworks  you are using on that HTM snippet - but maybe neither does Selenium? :-p","body":"By.linkText shouldn&#39;t work, since you don&#39;t have a link in that HTML snippet.  By.id should be retrieving the input element with that id - assuming there is only one.  But why would you be clicking on an &lt;input&gt; element?  (I guess I don&#39;t know the frameworks  you are using on that HTM snippet - but maybe neither does Selenium? :-p"},{"owner":{"account_id":13012771,"reputation":3985,"user_id":9405154,"display_name":"Ishita Shah"},"score":0,"creation_date":1571651789,"post_id":58474737,"comment_id":103298921,"body_markdown":"What type of error or exception you are getting ?","body":"What type of error or exception you are getting ?"}],"answers":[{"tags":[],"owner":{"account_id":8720563,"reputation":423,"user_id":6523855,"display_name":"john"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571609113,"creation_date":1571609113,"answer_id":58477729,"question_id":58474737,"body_markdown":"Try this instead :\r\n\r\n```\r\ndriver.findElement(By.cssSelector(&quot;input[data-dojo-attach-event=&#39;ondijitclick:_onClick&#39;]&quot;));\r\n\r\n\r\n```","title":"java selenum I can&#39;t find the selenium element","body":"<p>Try this instead :</p>\n\n<pre><code>driver.findElement(By.cssSelector(\"input[data-dojo-attach-event='ondijitclick:_onClick']\"));\n\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11961012,"reputation":7343,"user_id":8752062,"display_name":"frianH"},"score":0,"creation_date":1571700450,"post_id":58481472,"comment_id":103320336,"body_markdown":"Is possible to share site?","body":"Is possible to share site?"},{"owner":{"account_id":16570986,"reputation":3,"user_id":11974144,"display_name":"lakomika"},"score":0,"creation_date":1571702819,"post_id":58481472,"comment_id":103320808,"body_markdown":"is the home.pl domain and I wanted to create a slot machine that creates emails, I can download the page using chrome if you want","body":"is the home.pl domain and I wanted to create a slot machine that creates emails, I can download the page using chrome if you want"},{"owner":{"account_id":11961012,"reputation":7343,"user_id":8752062,"display_name":"frianH"},"score":0,"creation_date":1571713225,"post_id":58481472,"comment_id":103322473,"body_markdown":"Yes do it, give us more information for try solve your issue.","body":"Yes do it, give us more information for try solve your issue."},{"owner":{"account_id":16570986,"reputation":3,"user_id":11974144,"display_name":"lakomika"},"score":0,"creation_date":1571780224,"post_id":58481472,"comment_id":103352617,"body_markdown":"i want click &quot;domena&quot;","body":"i want click &quot;domena&quot;"},{"owner":{"account_id":11961012,"reputation":7343,"user_id":8752062,"display_name":"frianH"},"score":0,"creation_date":1571798673,"post_id":58481472,"comment_id":103356488,"body_markdown":"@lakomika It&#39;s inside `iframe`, I&#39;ve updated the answer, please try and info again later what did go.","body":"@lakomika It&#39;s inside <code>iframe</code>, I&#39;ve updated the answer, please try and info again later what did go."}],"tags":[],"owner":{"account_id":11961012,"reputation":7343,"user_id":8752062,"display_name":"frianH"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1571798401,"creation_date":1571642241,"answer_id":58481472,"question_id":58474737,"body_markdown":"It&#39;s inside `iframe`, you need switch first.\r\n\r\nThe `iframe` has the name `http://home.pl/mailboxes`.\r\n\r\nTry the below:\r\n\r\n```\r\ndriver.get(&quot;http://lakomika.pl/inne/inne/home.html&quot;);\r\ndriver.switchTo().frame(&quot;http://home.pl/mailboxes&quot;);\r\ndriver.findElement(By.xpath(&quot;//span[text()=&#39;Domena&#39;]&quot;)).click();\r\n```","title":"java selenum I can&#39;t find the selenium element","body":"<p>It's inside <code>iframe</code>, you need switch first.</p>\n\n<p>The <code>iframe</code> has the name <code>http://home.pl/mailboxes</code>.</p>\n\n<p>Try the below:</p>\n\n<pre><code>driver.get(\"http://lakomika.pl/inne/inne/home.html\");\ndriver.switchTo().frame(\"http://home.pl/mailboxes\");\ndriver.findElement(By.xpath(\"//span[text()='Domena']\")).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26468316,"reputation":1,"user_id":20109250,"display_name":"Akash kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665851860,"creation_date":1665479072,"answer_id":74025583,"question_id":58474737,"body_markdown":"```js\r\ndriver.findElement(By.xpath(&quot;//input[@name=&#39;choose&#39;]&quot;));\r\n```\r\nor\r\n```js\r\ndriver.findElement(By.xpath(&quot;//input[@value=&#39;doamin&#39;]&quot;));\r\n```\r\nAlso, you can try a CSS selector that will exactly hit that element.","title":"java selenum I can&#39;t find the selenium element","body":"<pre class=\"lang-js prettyprint-override\"><code>driver.findElement(By.xpath(&quot;//input[@name='choose']&quot;));\n</code></pre>\n<p>or</p>\n<pre class=\"lang-js prettyprint-override\"><code>driver.findElement(By.xpath(&quot;//input[@value='doamin']&quot;));\n</code></pre>\n<p>Also, you can try a CSS selector that will exactly hit that element.</p>\n"}],"owner":{"account_id":16570986,"reputation":3,"user_id":11974144,"display_name":"lakomika"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58481472,"answer_count":3,"score":0,"last_activity_date":1665851860,"creation_date":1571587010,"question_id":58474737,"body_markdown":"I have problem.\r\nI want click button:\r\n```\r\n&lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;choose&quot; value=&quot;domain&quot; data-dojo-attach-point=&quot;focusNode&quot; data-dojo-attach-event=&quot;ondijitclick:_onClick&quot; tabindex=&quot;0&quot; id=&quot;mailbox-new_mailboxChooseDomainInput&quot;&gt; &lt;span data-dojo-attach-point=&quot;descriptionNode&quot;&gt;Domena&lt;/span&gt;&lt;/label&gt;\r\n```\r\nI tried:\r\n```\r\n    driver.findElement(By.linkText(&quot;Domena&quot;)).click();\r\n```\r\nand\r\n```\r\n driver.findElement(By.id(&quot;mailbox-new_mailboxChooseDomainInput&quot;)).click();\r\n```\r\n\r\nbut don&#39;t work. Please help :) ","title":"java selenum I can&#39;t find the selenium element","body":"<p>I have problem.\nI want click button:</p>\n\n<pre><code>&lt;label&gt;&lt;input type=\"radio\" name=\"choose\" value=\"domain\" data-dojo-attach-point=\"focusNode\" data-dojo-attach-event=\"ondijitclick:_onClick\" tabindex=\"0\" id=\"mailbox-new_mailboxChooseDomainInput\"&gt; &lt;span data-dojo-attach-point=\"descriptionNode\"&gt;Domena&lt;/span&gt;&lt;/label&gt;\n</code></pre>\n\n<p>I tried:</p>\n\n<pre><code>    driver.findElement(By.linkText(\"Domena\")).click();\n</code></pre>\n\n<p>and</p>\n\n<pre><code> driver.findElement(By.id(\"mailbox-new_mailboxChooseDomainInput\")).click();\n</code></pre>\n\n<p>but don't work. Please help :) </p>\n"},{"tags":["java","xml","jaxb"],"answers":[{"comments":[{"owner":{"account_id":12546315,"reputation":4604,"user_id":9269043,"display_name":"Vasilisa"},"score":0,"creation_date":1550663137,"post_id":54785314,"comment_id":96349526,"body_markdown":"While this code may answer the question, providing additional context regarding how and/or why it solves the problem would improve the answer&#39;s long-term value.","body":"While this code may answer the question, providing additional context regarding how and/or why it solves the problem would improve the answer&#39;s long-term value."},{"owner":{"account_id":11841417,"reputation":87,"user_id":11089084,"display_name":"Zhaled Asufian"},"score":0,"creation_date":1550676753,"post_id":54785314,"comment_id":96358152,"body_markdown":"Thank you sir. I&#39;ll try my code again with this data model. Two more things: what if D can be repeated (array of object of class D) and F too? Why some classes such as G does not have the @XmlRootElement?","body":"Thank you sir. I&#39;ll try my code again with this data model. Two more things: what if D can be repeated (array of object of class D) and F too? Why some classes such as G does not have the @XmlRootElement?"},{"owner":{"account_id":15369322,"reputation":1,"user_id":11087820,"display_name":"divya srivastava"},"score":0,"creation_date":1550745041,"post_id":54785314,"comment_id":96386098,"body_markdown":"If you want to repeat D and F you have to take an arraylist of D objects.@XmlRootElement can be skipped for nested objects as it is used as the top(root) level of xml file.","body":"If you want to repeat D and F you have to take an arraylist of D objects.@XmlRootElement can be skipped for nested objects as it is used as the top(root) level of xml file."},{"owner":{"account_id":15369322,"reputation":1,"user_id":11087820,"display_name":"divya srivastava"},"score":0,"creation_date":1550745626,"post_id":54785314,"comment_id":96386469,"body_markdown":"JAXB is a java standard by which we can convert java objects into xml structures.In the above example the class A is the top level class which is the root element of the xml file.For any xml tag e.g &lt;A&gt;&lt;/A&gt; we have to define a class.Since class A has multiple nested xml tags , multiple java classes are defined for each tag.","body":"JAXB is a java standard by which we can convert java objects into xml structures.In the above example the class A is the top level class which is the root element of the xml file.For any xml tag e.g &lt;A&gt;&lt;/A&gt; we have to define a class.Since class A has multiple nested xml tags , multiple java classes are defined for each tag."}],"tags":[],"owner":{"account_id":15369322,"reputation":1,"user_id":11087820,"display_name":"divya srivastava"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550662280,"creation_date":1550662280,"answer_id":54785314,"question_id":54783619,"body_markdown":"import javax.xml.bind.annotation.XmlElement;\r\nimport javax.xml.bind.annotation.XmlRootElement;\r\n\r\n@XmlRootElement(name = &quot;A&quot;)\r\npublic class A {\r\n\r\n    private B b;\r\n\r\n    private E e;\r\n\r\n    private G g;\r\n\r\n    @XmlElement(name = &quot;B&quot;)\r\n    public B getB() {\r\n        return b;\r\n    }\r\n\r\n    public void setB(B b) {\r\n        this.b = b;\r\n    }\r\n\r\n    @XmlElement(name = &quot;E&quot;)\r\n    public E getE() {\r\n        return e;\r\n    }\r\n\r\n    public void setE(E e) {\r\n        this.e = e;\r\n    }\r\n\r\n    @XmlElement(name = &quot;G&quot;)\r\n    public G getG() {\r\n        return g;\r\n    }\r\n\r\n    public void setG(G g) {\r\n        this.g = g;\r\n    }\r\n\r\n}\r\n\r\nimport javax.xml.bind.annotation.XmlElement;\r\n\r\npublic class B {\r\n\r\n    private String B1;\r\n\r\n    private String B2;\r\n    private String B3;\r\n    private String B4;\r\n    private C c;\r\n    private D d;\r\n    private String B5;\r\n    private String B6;\r\n\r\n    @XmlElement(name = &quot;B1&quot;)\r\n    public String getB1() {\r\n        return B1;\r\n    }\r\n\r\n    public void setB1(String b1) {\r\n        B1 = b1;\r\n    }\r\n\r\n    @XmlElement(name = &quot;B2&quot;)\r\n    public String getB2() {\r\n        return B2;\r\n    }\r\n\r\n    public void setB2(String b2) {\r\n        B2 = b2;\r\n    }\r\n\r\n    @XmlElement(name = &quot;B3&quot;)\r\n    public String getB3() {\r\n        return B3;\r\n    }\r\n\r\n    public void setB3(String b3) {\r\n        B3 = b3;\r\n    }\r\n\r\n    @XmlElement(name = &quot;B4&quot;)\r\n    public String getB4() {\r\n        return B4;\r\n    }\r\n\r\n    public void setB4(String b4) {\r\n        B4 = b4;\r\n    }\r\n\r\n    @XmlElement(name = &quot;C&quot;)\r\n    public C getC() {\r\n        return c;\r\n    }\r\n\r\n    public void setC(C c) {\r\n        this.c = c;\r\n    }\r\n\r\n    @XmlElement(name = &quot;B5&quot;)\r\n    public String getB5() {\r\n        return B5;\r\n    }\r\n\r\n    public void setB5(String b5) {\r\n        B5 = b5;\r\n    }\r\n\r\n    @XmlElement(name = &quot;B6&quot;)\r\n    public String getB6() {\r\n        return B6;\r\n    }\r\n\r\n    public void setB6(String b6) {\r\n        B6 = b6;\r\n    }\r\n\r\n\r\n}\r\n\r\nimport javax.xml.bind.annotation.XmlElement;\r\nimport javax.xml.bind.annotation.XmlRootElement;\r\n\r\n@XmlRootElement(name = &quot;C&quot;)\r\npublic class C {\r\n\r\n    private D d;\r\n\r\n    @XmlElement(name = &quot;D&quot;)\r\n    public D getD() {\r\n        return d;\r\n    }\r\n\r\n    public void setD(D d) {\r\n        this.d = d;\r\n    }\r\n}\r\n\r\nimport javax.xml.bind.annotation.XmlElement;\r\nimport javax.xml.bind.annotation.XmlRootElement;\r\n\r\n@XmlRootElement(name = &quot;D&quot;)\r\npublic class D {\r\n\r\n\r\n    private String D1;\r\n    private String D2;\r\n\r\n    @XmlElement(name = &quot;D1&quot;)\r\n    public String getD1() {\r\n        return D1;\r\n    }\r\n\r\n    public void setD1(String d1) {\r\n        D1 = d1;\r\n    }\r\n\r\n    @XmlElement(name = &quot;D2&quot;)\r\n    public String getD2() {\r\n        return D2;\r\n    }\r\n\r\n    public void setD2(String d2) {\r\n        D2 = d2;\r\n    }\r\n}\r\n\r\nimport javax.xml.bind.annotation.XmlElement;\r\nimport javax.xml.bind.annotation.XmlRootElement;\r\n\r\n@XmlRootElement(name = &quot;E&quot;)\r\npublic class E {\r\n\r\n    private F f;\r\n\r\n    @XmlElement(name = &quot;F&quot;)\r\n    public F getF() {\r\n        return f;\r\n    }\r\n\r\n    public void setF(F f) {\r\n        this.f = f;\r\n    }\r\n}\r\n\r\nimport javax.xml.bind.annotation.XmlElement;\r\n\r\npublic class F {\r\n\r\n    private String F1;\r\n    private String F2;\r\n    private String F3;\r\n\r\n    @XmlElement(name = &quot;F1&quot;)\r\n    public String getF1() {\r\n        return F1;\r\n    }\r\n\r\n    public void setF1(String f1) {\r\n        F1 = f1;\r\n    }\r\n\r\n    @XmlElement(name = &quot;F2&quot;)\r\n    public String getF2() {\r\n        return F2;\r\n    }\r\n\r\n    public void setF2(String f2) {\r\n        F2 = f2;\r\n    }\r\n\r\n    @XmlElement(name = &quot;F3&quot;)\r\n    public String getF3() {\r\n        return F3;\r\n    }\r\n\r\n    public void setF3(String f3) {\r\n        F3 = f3;\r\n    }\r\n}\r\n\r\nimport javax.xml.bind.annotation.XmlElement;\r\n\r\npublic class G {\r\n\r\n    private String G1;\r\n\r\n\r\n    private String G2;\r\n    private String G3;\r\n\r\n    @XmlElement(name = &quot;G1&quot;)\r\n    public String getG1() {\r\n        return G1;\r\n    }\r\n\r\n    public void setG1(String g1) {\r\n        G1 = g1;\r\n    }\r\n\r\n    @XmlElement(name = &quot;G2&quot;)\r\n    public String getG2() {\r\n        return G2;\r\n    }\r\n\r\n    public void setG2(String g2) {\r\n        G2 = g2;\r\n    }\r\n\r\n    @XmlElement(name = &quot;G3&quot;)\r\n    public String getG3() {\r\n        return G3;\r\n    }\r\n\r\n    public void setG3(String g3) {\r\n        G3 = g3;\r\n    }\r\n}\r\n\r\n","title":"Nested XML schema, how to use JAXB?","body":"<p>import javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;</p>\n\n<p>@XmlRootElement(name = \"A\")\npublic class A {</p>\n\n<pre><code>private B b;\n\nprivate E e;\n\nprivate G g;\n\n@XmlElement(name = \"B\")\npublic B getB() {\n    return b;\n}\n\npublic void setB(B b) {\n    this.b = b;\n}\n\n@XmlElement(name = \"E\")\npublic E getE() {\n    return e;\n}\n\npublic void setE(E e) {\n    this.e = e;\n}\n\n@XmlElement(name = \"G\")\npublic G getG() {\n    return g;\n}\n\npublic void setG(G g) {\n    this.g = g;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>import javax.xml.bind.annotation.XmlElement;</p>\n\n<p>public class B {</p>\n\n<pre><code>private String B1;\n\nprivate String B2;\nprivate String B3;\nprivate String B4;\nprivate C c;\nprivate D d;\nprivate String B5;\nprivate String B6;\n\n@XmlElement(name = \"B1\")\npublic String getB1() {\n    return B1;\n}\n\npublic void setB1(String b1) {\n    B1 = b1;\n}\n\n@XmlElement(name = \"B2\")\npublic String getB2() {\n    return B2;\n}\n\npublic void setB2(String b2) {\n    B2 = b2;\n}\n\n@XmlElement(name = \"B3\")\npublic String getB3() {\n    return B3;\n}\n\npublic void setB3(String b3) {\n    B3 = b3;\n}\n\n@XmlElement(name = \"B4\")\npublic String getB4() {\n    return B4;\n}\n\npublic void setB4(String b4) {\n    B4 = b4;\n}\n\n@XmlElement(name = \"C\")\npublic C getC() {\n    return c;\n}\n\npublic void setC(C c) {\n    this.c = c;\n}\n\n@XmlElement(name = \"B5\")\npublic String getB5() {\n    return B5;\n}\n\npublic void setB5(String b5) {\n    B5 = b5;\n}\n\n@XmlElement(name = \"B6\")\npublic String getB6() {\n    return B6;\n}\n\npublic void setB6(String b6) {\n    B6 = b6;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>import javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;</p>\n\n<p>@XmlRootElement(name = \"C\")\npublic class C {</p>\n\n<pre><code>private D d;\n\n@XmlElement(name = \"D\")\npublic D getD() {\n    return d;\n}\n\npublic void setD(D d) {\n    this.d = d;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>import javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;</p>\n\n<p>@XmlRootElement(name = \"D\")\npublic class D {</p>\n\n<pre><code>private String D1;\nprivate String D2;\n\n@XmlElement(name = \"D1\")\npublic String getD1() {\n    return D1;\n}\n\npublic void setD1(String d1) {\n    D1 = d1;\n}\n\n@XmlElement(name = \"D2\")\npublic String getD2() {\n    return D2;\n}\n\npublic void setD2(String d2) {\n    D2 = d2;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>import javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;</p>\n\n<p>@XmlRootElement(name = \"E\")\npublic class E {</p>\n\n<pre><code>private F f;\n\n@XmlElement(name = \"F\")\npublic F getF() {\n    return f;\n}\n\npublic void setF(F f) {\n    this.f = f;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>import javax.xml.bind.annotation.XmlElement;</p>\n\n<p>public class F {</p>\n\n<pre><code>private String F1;\nprivate String F2;\nprivate String F3;\n\n@XmlElement(name = \"F1\")\npublic String getF1() {\n    return F1;\n}\n\npublic void setF1(String f1) {\n    F1 = f1;\n}\n\n@XmlElement(name = \"F2\")\npublic String getF2() {\n    return F2;\n}\n\npublic void setF2(String f2) {\n    F2 = f2;\n}\n\n@XmlElement(name = \"F3\")\npublic String getF3() {\n    return F3;\n}\n\npublic void setF3(String f3) {\n    F3 = f3;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>import javax.xml.bind.annotation.XmlElement;</p>\n\n<p>public class G {</p>\n\n<pre><code>private String G1;\n\n\nprivate String G2;\nprivate String G3;\n\n@XmlElement(name = \"G1\")\npublic String getG1() {\n    return G1;\n}\n\npublic void setG1(String g1) {\n    G1 = g1;\n}\n\n@XmlElement(name = \"G2\")\npublic String getG2() {\n    return G2;\n}\n\npublic void setG2(String g2) {\n    G2 = g2;\n}\n\n@XmlElement(name = \"G3\")\npublic String getG3() {\n    return G3;\n}\n\npublic void setG3(String g3) {\n    G3 = g3;\n}\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":11841417,"reputation":87,"user_id":11089084,"display_name":"Zhaled Asufian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2143,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665851851,"creation_date":1550657031,"question_id":54783619,"body_markdown":"I&#39;m facing a quite big problem since even if I do a correct use of JAXB API to mapping an xml string to a java object I get stuck.\r\nTo save time, I will not write the real fields but the general schema of my XML:\r\n\r\n    &lt;A&gt;\r\n       &lt;B&gt;\r\n          &lt;B1&gt;&lt;/B1&gt;\r\n          &lt;B2&gt;&lt;/B2&gt;\r\n          &lt;B3&gt;&lt;/B3&gt;   \r\n          &lt;B4&gt;&lt;/B4&gt;\r\n          &lt;C&gt;  \r\n             &lt;D&gt;\r\n                &lt;D1&gt;&lt;/D1&gt;\r\n                &lt;D2&gt;&lt;/D2&gt; \r\n             &lt;/D&gt;\r\n          &lt;/C&gt;\r\n          &lt;B5&gt;&lt;/B5&gt;\r\n          &lt;B6&gt;&lt;/B6&gt;\r\n       &lt;/B&gt;\r\n       &lt;E&gt; \r\n          &lt;F&gt;\r\n             &lt;F1&gt;&lt;/F1&gt;\r\n             &lt;F2&gt;&lt;/F2&gt;\r\n             &lt;F3&gt;&lt;/F3&gt;\r\n          &lt;/F&gt; \r\n       &lt;/E&gt;\r\n       &lt;G&gt; \r\n          &lt;G1&gt;&lt;/G1&gt;\r\n          &lt;G2&gt;&lt;/G2&gt;\r\n          &lt;G3&gt;&lt;/G3&gt;\r\n        &lt;/G&gt;\r\n    &lt;/A&gt;\r\n\r\n\r\nSo in this situation I have a class A build as,\r\n\r\n    @XmlRootElement(name = &quot;A&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class A{\r\n     \r\n       @XmlElement(name = &quot;B&quot;)\r\n\t   private B objB;\r\n\t\r\n\t\r\n       @XmlElement(name = &quot;C&quot;)\r\n       private String objC= &quot;&quot;;\r\n    \r\n       @XmlElement(name = &quot;E&quot;)\r\n       private String objE= &quot;&quot;;\r\n    \r\n       @XmlElement(name = &quot;F&quot;)\r\n\t   private F objF;\r\n\t\r\n       @XmlElement(name = &quot;D&quot;)\r\n\t   private D objD;\r\n\t\r\n       @XmlElement(name = &quot;G&quot;)\r\n\t   private G objG;\r\n\r\nSo the wrapper class A has an attribute of the object related to the proper portion of XML. Hence, each letter has its own class which represent an object inside my project. \r\nUsing this:\r\n \r\n\r\n    JAXBContext jaxbContext = JAXBContext.newInstance(A.class);\r\n    Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();\r\n\r\n    StringReader reader = new StringReader(&quot;xml string here&quot;);\r\n    A element= (A) unmarshaller.unmarshal(reader);\r\n\r\nI cannot properly map my xml string in my custom nested object. So my goal is to map the whole xml string in the A class which will automatically map its attribute which are xml portion of the string as well. I also declare annotations @Xmlelement for each attribute in each sub-class. Lastly, E and C do not have a proper class since they act just as a sort of separator for respectively D class and F class so they have been simply declared as Strings in the main class A.\r\n\r\nI never used JAXB for such complex data models so I do not know exactly how to proceed. Many thanks to whoever will reply.\r\n","title":"Nested XML schema, how to use JAXB?","body":"<p>I'm facing a quite big problem since even if I do a correct use of JAXB API to mapping an xml string to a java object I get stuck.\nTo save time, I will not write the real fields but the general schema of my XML:</p>\n<pre><code>&lt;A&gt;\n   &lt;B&gt;\n      &lt;B1&gt;&lt;/B1&gt;\n      &lt;B2&gt;&lt;/B2&gt;\n      &lt;B3&gt;&lt;/B3&gt;   \n      &lt;B4&gt;&lt;/B4&gt;\n      &lt;C&gt;  \n         &lt;D&gt;\n            &lt;D1&gt;&lt;/D1&gt;\n            &lt;D2&gt;&lt;/D2&gt; \n         &lt;/D&gt;\n      &lt;/C&gt;\n      &lt;B5&gt;&lt;/B5&gt;\n      &lt;B6&gt;&lt;/B6&gt;\n   &lt;/B&gt;\n   &lt;E&gt; \n      &lt;F&gt;\n         &lt;F1&gt;&lt;/F1&gt;\n         &lt;F2&gt;&lt;/F2&gt;\n         &lt;F3&gt;&lt;/F3&gt;\n      &lt;/F&gt; \n   &lt;/E&gt;\n   &lt;G&gt; \n      &lt;G1&gt;&lt;/G1&gt;\n      &lt;G2&gt;&lt;/G2&gt;\n      &lt;G3&gt;&lt;/G3&gt;\n    &lt;/G&gt;\n&lt;/A&gt;\n</code></pre>\n<p>So in this situation I have a class A build as,</p>\n<pre><code>@XmlRootElement(name = &quot;A&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class A{\n \n   @XmlElement(name = &quot;B&quot;)\n   private B objB;\n\n\n   @XmlElement(name = &quot;C&quot;)\n   private String objC= &quot;&quot;;\n\n   @XmlElement(name = &quot;E&quot;)\n   private String objE= &quot;&quot;;\n\n   @XmlElement(name = &quot;F&quot;)\n   private F objF;\n\n   @XmlElement(name = &quot;D&quot;)\n   private D objD;\n\n   @XmlElement(name = &quot;G&quot;)\n   private G objG;\n</code></pre>\n<p>So the wrapper class A has an attribute of the object related to the proper portion of XML. Hence, each letter has its own class which represent an object inside my project.\nUsing this:</p>\n<pre><code>JAXBContext jaxbContext = JAXBContext.newInstance(A.class);\nUnmarshaller unmarshaller = jaxbContext.createUnmarshaller();\n\nStringReader reader = new StringReader(&quot;xml string here&quot;);\nA element= (A) unmarshaller.unmarshal(reader);\n</code></pre>\n<p>I cannot properly map my xml string in my custom nested object. So my goal is to map the whole xml string in the A class which will automatically map its attribute which are xml portion of the string as well. I also declare annotations @Xmlelement for each attribute in each sub-class. Lastly, E and C do not have a proper class since they act just as a sort of separator for respectively D class and F class so they have been simply declared as Strings in the main class A.</p>\n<p>I never used JAXB for such complex data models so I do not know exactly how to proceed. Many thanks to whoever will reply.</p>\n"},{"tags":["java","selenium","selenium-webdriver","cucumber"],"comments":[{"owner":{"account_id":15157499,"reputation":1444,"user_id":10937788,"display_name":"Jens Dibbern"},"score":0,"creation_date":1551470593,"post_id":54785322,"comment_id":96665855,"body_markdown":"Would you mind sharing the html code and some context with us? Did you try to replace the ```Thread.sleep()``` statements? And I assume that ```wait```is a ```WebDriverWait```instance.","body":"Would you mind sharing the html code and some context with us? Did you try to replace the <code>Thread.sleep()</code> statements? And I assume that <code>wait</code>is a <code>WebDriverWait</code>instance."}],"owner":{"account_id":13383143,"reputation":531,"user_id":9658618,"display_name":"SeekanDestroy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1665851798,"creation_date":1550662313,"question_id":54785322,"body_markdown":"I&#39;m trying to automatize some test in order to open Jstree Nodes, using the Node name\r\nI would like to make it clicking the arrow at the left of the node, instead of double-clicking the node itself.\r\n\r\nHere is the code:\r\n\r\n    public void abrirSistema(String node) {\r\n        Boolean isPresent = driver.findElements(By.xpath(&quot;//*[contains(text(),&#39;&quot; + node + &quot;&#39;)]&quot;)).size() &gt; 0;\r\n        if (isPresent) {\r\n            System.out.println(&quot;System est&#225; abierto&quot;);\r\n        } else {\r\n            System.out.println(&quot;Hay que abrir el sistema&quot;);\r\n            WebElement system = driver.findElement(By.xpath(&quot;//*[contains(text(),&#39;&quot; + node + &quot;&#39;)]&quot;));\r\n            WebElement parent = system.findElement(By.xpath(&quot;..&quot;));\r\n            String parentId = parent.getAttribute(&quot;id&quot;);\r\n            WebElement flecha = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;&quot; + parentId + &quot;\\&quot;]/i&quot;));\r\n            // WebElement arrow = parent.findElement(By.className(&quot;jstree-icon&quot;));\r\n            try {\r\n                Thread.sleep(5000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            js.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, arrow);\r\n            try {\r\n                Thread.sleep(5000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            wait.until(ExpectedConditions.visibilityOf(flecha));\r\n            wait.until(ExpectedConditions.elementToBeClickable(flecha)).click();\r\n            try {\r\n                Thread.sleep(5000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        try {\r\n            Thread.sleep(5000);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nSo basically I locate the Node by the name, cause elements on the tree changes dynamically, then pick the arrow, and click it.\r\nThe thing is that sometimes the code works, sometimes it doesn&#39;t, and I cannot figure it out why. \r\n\r\nI make sure that page is full loaded before trying to run this, and when I run the Scenario, the step is always green although the Node is not opened\r\n\r\nAlso I would like to let you know that this code runs always after opening the root node, which is working properly. Just in case\r\n\r\nHope someone could help me.\r\nThanks in advance","title":"Selenium: Open jstree Nodes using Node name as String","body":"<p>I'm trying to automatize some test in order to open Jstree Nodes, using the Node name\nI would like to make it clicking the arrow at the left of the node, instead of double-clicking the node itself.</p>\n<p>Here is the code:</p>\n<pre><code>public void abrirSistema(String node) {\n    Boolean isPresent = driver.findElements(By.xpath(&quot;//*[contains(text(),'&quot; + node + &quot;')]&quot;)).size() &gt; 0;\n    if (isPresent) {\n        System.out.println(&quot;System está abierto&quot;);\n    } else {\n        System.out.println(&quot;Hay que abrir el sistema&quot;);\n        WebElement system = driver.findElement(By.xpath(&quot;//*[contains(text(),'&quot; + node + &quot;')]&quot;));\n        WebElement parent = system.findElement(By.xpath(&quot;..&quot;));\n        String parentId = parent.getAttribute(&quot;id&quot;);\n        WebElement flecha = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;&quot; + parentId + &quot;\\&quot;]/i&quot;));\n        // WebElement arrow = parent.findElement(By.className(&quot;jstree-icon&quot;));\n        try {\n            Thread.sleep(5000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        js.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, arrow);\n        try {\n            Thread.sleep(5000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        wait.until(ExpectedConditions.visibilityOf(flecha));\n        wait.until(ExpectedConditions.elementToBeClickable(flecha)).click();\n        try {\n            Thread.sleep(5000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n    try {\n        Thread.sleep(5000);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>So basically I locate the Node by the name, cause elements on the tree changes dynamically, then pick the arrow, and click it.\nThe thing is that sometimes the code works, sometimes it doesn't, and I cannot figure it out why.</p>\n<p>I make sure that page is full loaded before trying to run this, and when I run the Scenario, the step is always green although the Node is not opened</p>\n<p>Also I would like to let you know that this code runs always after opening the root node, which is working properly. Just in case</p>\n<p>Hope someone could help me.\nThanks in advance</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1665743417,"post_id":74065824,"comment_id":130774620,"body_markdown":"`this is my code` Where do you have that code? You are not checking the clicked url.","body":"<code>this is my code</code> Where do you have that code? You are not checking the clicked url."},{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1665847899,"post_id":74065824,"comment_id":130796942,"body_markdown":"`Const.PATH_RESTAURANT` seems to imply a constant. Don&#39;t you want to check a variable?","body":"<code>Const.PATH_RESTAURANT</code> seems to imply a constant. Don&#39;t you want to check a variable?"}],"answers":[{"tags":[],"owner":{"account_id":4571218,"reputation":12646,"user_id":3710865,"accept_rate":54,"display_name":"sasikumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665741454,"creation_date":1665733156,"answer_id":74065883,"question_id":74065824,"body_markdown":"Use Intent.ACTION_VIEW\r\n```\r\n//condition to check url\r\nif (Const.PATH_RESTAURANT.contains(&quot;https&quot;)) {\r\n    //open in default web browser\r\n    Intent intent = new Intent(Intent.ACTION_VIEW,Uri.parse(&quot;http://www.example.com&quot;)); \r\n    startActivity(intent);\r\n} else {\r\n    //open in webview\r\n    webv.setWebViewClient(new WebViewClient());\r\n}\r\n```","title":"How to open an URL in my default browser if it&#39;s HTTPS and in the WebView if it&#39;s HTTP","body":"<p>Use Intent.ACTION_VIEW</p>\n<pre><code>//condition to check url\nif (Const.PATH_RESTAURANT.contains(&quot;https&quot;)) {\n    //open in default web browser\n    Intent intent = new Intent(Intent.ACTION_VIEW,Uri.parse(&quot;http://www.example.com&quot;)); \n    startActivity(intent);\n} else {\n    //open in webview\n    webv.setWebViewClient(new WebViewClient());\n}\n</code></pre>\n"}],"owner":{"account_id":22329163,"reputation":379,"user_id":16550668,"display_name":"Mehdi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665851783,"creation_date":1665732855,"question_id":74065824,"body_markdown":"I&#39;m working on a Java-based Android app.\r\n\r\nI wanna open links inside my app&#39;s `WebView` as long as URLs are `HTTP` and open URLs that include `HTTPS` in my default browser. \r\n\r\nI have tried this code but it always opens in WebView even though I open URLs that include `HTTPS`.\r\n\r\nThis is my code:\r\n\r\n``` lang-java\r\n//URLs\r\nwebv.loadUrl(Const.PATH_RESTAURANT + &quot;res.pl?resUID=&quot; + LoginActivity.mUserCD);\r\n\r\n//condition to check url\r\nif (Const.PATH_RESTAURANT.contains(&quot;https&quot;)) {\r\n\t//open in default web browser\r\n\twebv.setWebChromeClient(new WebChromeClient());\r\n} else {\r\n\t//open in webview\r\n\twebv.setWebViewClient(new WebViewClient());\r\n}\r\n```","title":"How to open an URL in my default browser if it&#39;s HTTPS and in the WebView if it&#39;s HTTP","body":"<p>I'm working on a Java-based Android app.</p>\n<p>I wanna open links inside my app's <code>WebView</code> as long as URLs are <code>HTTP</code> and open URLs that include <code>HTTPS</code> in my default browser.</p>\n<p>I have tried this code but it always opens in WebView even though I open URLs that include <code>HTTPS</code>.</p>\n<p>This is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//URLs\nwebv.loadUrl(Const.PATH_RESTAURANT + &quot;res.pl?resUID=&quot; + LoginActivity.mUserCD);\n\n//condition to check url\nif (Const.PATH_RESTAURANT.contains(&quot;https&quot;)) {\n    //open in default web browser\n    webv.setWebChromeClient(new WebChromeClient());\n} else {\n    //open in webview\n    webv.setWebViewClient(new WebViewClient());\n}\n</code></pre>\n"},{"tags":["java","double"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1665826004,"post_id":74078201,"comment_id":130792641,"body_markdown":"If you can live with rounding errors, you can always use `Math.round` or format with `&quot;%.2f&quot;` as format specifier","body":"If you can live with rounding errors, you can always use <code>Math.round</code> or format with <code>&quot;%.2f&quot;</code> as format specifier"},{"owner":{"account_id":12158434,"reputation":41,"user_id":8876722,"display_name":"Dasun.edirisinghe"},"score":0,"creation_date":1665826294,"post_id":74078201,"comment_id":130792703,"body_markdown":"@knittl I have another problem too. Assume that, this happened inside a calculating process and we are expecting 3.6. But java gives that 3.5999999. This means my logic will be runied know?","body":"@knittl I have another problem too. Assume that, this happened inside a calculating process and we are expecting 3.6. But java gives that 3.5999999. This means my logic will be runied know?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1665826627,"post_id":74078201,"comment_id":130792772,"body_markdown":"Yes, because floating point math is not exact. If you need arbitrary precision math, use `BigDecimal`.","body":"Yes, because floating point math is not exact. If you need arbitrary precision math, use <code>BigDecimal</code>."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665830243,"creation_date":1665830243,"answer_id":74078695,"question_id":74078201,"body_markdown":"Here is a method you can use to round double data type values to whatever precision you like. Read the comments in code:\r\n\r\n    /**\r\n     * Will round a double data type value either Up (default) or Down with \r\n     * whatever desired precision.\r\n     * \r\n     * @param value (double) The double data type value to round.\r\n     * \r\n     * @param precision (int) The desired decimal precision. If you provide 0\r\n     * as a precision value then there will be not decimal component, it will \r\n     * be 0, for example if rounding up (default) 3.5 then 4.0 will be returned. \r\n     * If rounding down 3.5 then 3.0 will be returned\r\n     * \r\n     * @param roundDown (Optional varArgs - boolean) Default is false which \r\n     * tells the method to round up if the next digit after the precision is \r\n     * 5 or more. If true is supplied then the value is rounded down but only \r\n     * if the next digit after the precision is 5 or less. If next digit after \r\n     * precision is greater than 5 then the value is rounded up.\r\n     * \r\n     * @return (double) The supplied double type value returned as a rounded \r\n     * double type value.\r\n     */\r\n    public double round(double value, int precision, boolean... roundDown) {\r\n        boolean rndDown = false;\r\n        if (roundDown.length &gt; 0) {\r\n            rndDown = roundDown[0];\r\n        }\r\n        return java.math.BigDecimal.valueOf(value).setScale(precision,\r\n                (rndDown ? java.math.RoundingMode.HALF_DOWN : \r\n                        java.math.RoundingMode.HALF_UP)).doubleValue();\r\n    }\r\n\r\nThis is how you might use the above method:\r\n\r\n    double x = 1.05d;\r\n    double y = 2.55d;\r\n    double sum = x + y;\r\n        \r\n    System.out.println(&quot;Original Sum: &quot; + sum);\r\n\r\n    double val = round(sum, 1);   // Precision of 1.\r\n     \r\n    System.out.println(&quot;Rounded Sum to a precision of 1: &quot; + val);\r\n\r\nThe Console Window should display:\r\n\r\n    Original Sum: 3.5999999999999996\r\n    Rounded Sum to a precision of 1: 3.6\r\n","title":"Prevent automatic rounding off in Java","body":"<p>Here is a method you can use to round double data type values to whatever precision you like. Read the comments in code:</p>\n<pre><code>/**\n * Will round a double data type value either Up (default) or Down with \n * whatever desired precision.\n * \n * @param value (double) The double data type value to round.\n * \n * @param precision (int) The desired decimal precision. If you provide 0\n * as a precision value then there will be not decimal component, it will \n * be 0, for example if rounding up (default) 3.5 then 4.0 will be returned. \n * If rounding down 3.5 then 3.0 will be returned\n * \n * @param roundDown (Optional varArgs - boolean) Default is false which \n * tells the method to round up if the next digit after the precision is \n * 5 or more. If true is supplied then the value is rounded down but only \n * if the next digit after the precision is 5 or less. If next digit after \n * precision is greater than 5 then the value is rounded up.\n * \n * @return (double) The supplied double type value returned as a rounded \n * double type value.\n */\npublic double round(double value, int precision, boolean... roundDown) {\n    boolean rndDown = false;\n    if (roundDown.length &gt; 0) {\n        rndDown = roundDown[0];\n    }\n    return java.math.BigDecimal.valueOf(value).setScale(precision,\n            (rndDown ? java.math.RoundingMode.HALF_DOWN : \n                    java.math.RoundingMode.HALF_UP)).doubleValue();\n}\n</code></pre>\n<p>This is how you might use the above method:</p>\n<pre><code>double x = 1.05d;\ndouble y = 2.55d;\ndouble sum = x + y;\n    \nSystem.out.println(&quot;Original Sum: &quot; + sum);\n\ndouble val = round(sum, 1);   // Precision of 1.\n \nSystem.out.println(&quot;Rounded Sum to a precision of 1: &quot; + val);\n</code></pre>\n<p>The Console Window should display:</p>\n<pre><code>Original Sum: 3.5999999999999996\nRounded Sum to a precision of 1: 3.6\n</code></pre>\n"}],"owner":{"account_id":12158434,"reputation":41,"user_id":8876722,"display_name":"Dasun.edirisinghe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1665831295,"answer_count":1,"score":-2,"last_activity_date":1665851778,"creation_date":1665825768,"question_id":74078201,"body_markdown":"I am trying to prevent automatic rounding off in Java. As mentioned below, I am using 2 variables which is x and y double variables. \r\n\r\n    double x = 1.05d;\r\n    double y = 2.55d;\r\n    \t\r\n    System.out.println(x + y); =&gt; 3.5999999999999996\r\n\r\nWhen I tried to sum these 2 variables, it gave me 3.5999999999999996 like number with higher precision. I want to prevent this behaviour without using BigDecimal. Is there any solution?\r\n","title":"Prevent automatic rounding off in Java","body":"<p>I am trying to prevent automatic rounding off in Java. As mentioned below, I am using 2 variables which is x and y double variables.</p>\n<pre><code>double x = 1.05d;\ndouble y = 2.55d;\n    \nSystem.out.println(x + y); =&gt; 3.5999999999999996\n</code></pre>\n<p>When I tried to sum these 2 variables, it gave me 3.5999999999999996 like number with higher precision. I want to prevent this behaviour without using BigDecimal. Is there any solution?</p>\n"},{"tags":["java","arrays","conditional-statements"],"comments":[{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":1,"creation_date":1665029409,"post_id":73968578,"comment_id":130604625,"body_markdown":"`&amp;&amp; hasLoyaltyCard == true` should better to  use `&amp;&amp; hasLoyaltyCard` instead,and seems you need to put `totalWeight = weight + totalWeight` outside `if`","body":"<code>&amp;&amp; hasLoyaltyCard == true</code> should better to  use <code>&amp;&amp; hasLoyaltyCard</code> instead,and seems you need to put <code>totalWeight = weight + totalWeight</code> outside <code>if</code>"},{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1665029527,"post_id":73968578,"comment_id":130604638,"body_markdown":"*&quot;But when I run it in vocareum, it&#39;s not working&quot;* - so.. call me dumb, but what is this vocareum? do they have some kind web-based java compiler or something?","body":"<i>&quot;But when I run it in vocareum, it&#39;s not working&quot;</i> - so.. call me dumb, but what is this vocareum? do they have some kind web-based java compiler or something?"},{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1665029819,"post_id":73968578,"comment_id":130604677,"body_markdown":"thing is, i take a look on your code and still can&#39;t find whats wrong. i took your code to jdoodle (online java compiler) and it works just fine. thats why i suspect something with the platform (that vocareum) might be the cause, not java itself.","body":"thing is, i take a look on your code and still can&#39;t find whats wrong. i took your code to jdoodle (online java compiler) and it works just fine. thats why i suspect something with the platform (that vocareum) might be the cause, not java itself."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665030407,"post_id":73968578,"comment_id":130604773,"body_markdown":"What does &quot;not working&quot; mean?","body":"What does &quot;not working&quot; mean?"},{"owner":{"account_id":26541411,"reputation":1,"user_id":20172095,"display_name":"francois vang"},"score":0,"creation_date":1665049177,"post_id":73968578,"comment_id":130609894,"body_markdown":"@BagusTesa They don&#39;t compile my code, they give me a set of instructions of what to do then afterwards run a check on it using a bash command. It&#39;ll give two outputs build successful or build failed.","body":"@BagusTesa They don&#39;t compile my code, they give me a set of instructions of what to do then afterwards run a check on it using a bash command. It&#39;ll give two outputs build successful or build failed."},{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1665050153,"post_id":73968578,"comment_id":130610273,"body_markdown":"@francoisvang what error message did you get when it refuse to compile? can you add that information into the question?","body":"@francoisvang what error message did you get when it refuse to compile? can you add that information into the question?"},{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1665055565,"post_id":73968578,"comment_id":130612224,"body_markdown":"@francoisvang so, yeah, the `test` unit failed not the build (or compile). figures. so, its not the &quot;loop&quot; failed but you had trouble implementing the exam. do we know the input and expected output of the program?","body":"@francoisvang so, yeah, the <code>test</code> unit failed not the build (or compile). figures. so, its not the &quot;loop&quot; failed but you had trouble implementing the exam. do we know the input and expected output of the program?"},{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1665055765,"post_id":73968578,"comment_id":130612283,"body_markdown":"*&quot;Create a conditional that checks whether weight is under 20 and whether `hasLoyaltyCard` is true and multiple weight by 0.95 if it is.&quot;* - i think this run-on sentence might cause some confusion. it seems you need to keep adding `totalWeight` regardless of its value. however if current `weight` is under 20 and `hasLoyaltyCard` is `true` **then** multiply it by 0.95. but without input and expected output, its just a guesswork.","body":"<i>&quot;Create a conditional that checks whether weight is under 20 and whether <code>hasLoyaltyCard</code> is true and multiple weight by 0.95 if it is.&quot;</i> - i think this run-on sentence might cause some confusion. it seems you need to keep adding <code>totalWeight</code> regardless of its value. however if current <code>weight</code> is under 20 and <code>hasLoyaltyCard</code> is <code>true</code> <b>then</b> multiply it by 0.95. but without input and expected output, its just a guesswork."},{"owner":{"account_id":26541411,"reputation":1,"user_id":20172095,"display_name":"francois vang"},"score":0,"creation_date":1665100191,"post_id":73968578,"comment_id":130626542,"body_markdown":"@BagusTesa That&#39;s the same sentence that confused me. But I believe it&#39;s asking me to get assign `weight` to match the value of the array given each time the statement loops. Then create an if statement that will apply a 5% discount to the total weight.  Since weight carries the total weight already. The program is asking to assign it to another variable. I am making sure I understand the purpose of this assignment and seeing if I missed something.","body":"@BagusTesa That&#39;s the same sentence that confused me. But I believe it&#39;s asking me to get assign <code>weight</code> to match the value of the array given each time the statement loops. Then create an if statement that will apply a 5% discount to the total weight.  Since weight carries the total weight already. The program is asking to assign it to another variable. I am making sure I understand the purpose of this assignment and seeing if I missed something."},{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1665113202,"post_id":73968578,"comment_id":130628192,"body_markdown":"@francoisvang do the exam provide sample input with it&#39;s expected output? just to make sure we are reading things right.","body":"@francoisvang do the exam provide sample input with it&#39;s expected output? just to make sure we are reading things right."}],"answers":[{"tags":[],"owner":{"account_id":25414593,"reputation":3,"user_id":19221775,"display_name":"ObscuredData"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665690405,"creation_date":1665690405,"answer_id":74061037,"question_id":73968578,"body_markdown":"After reading the comments from your question, let me provide some clarification: it is asking you to add every weight in the array to `totalWeight`, but (before adding the weight) if the weight in at a certain index is `&lt; 20 &amp;&amp; hasLoyaltyCard` then you give a 5% discount (or `weight * 0.95`).\r\n\r\nWith that being clarified, you nearly have the right answer, but your placement of a variable to be updated is a bit off.. The if statement should be for adjusting only the `weight` variable, if needed. Anything else (in this case) should be under the loop code block. I hope this helps direct you to the right answer! \r\n\r\nAlso, one more thing you can do to make your code shorter/cleaner is using `+=` to add `weight` to the `totalWeight`.","title":"How do I get the array value in the array list using a for loop","body":"<p>After reading the comments from your question, let me provide some clarification: it is asking you to add every weight in the array to <code>totalWeight</code>, but (before adding the weight) if the weight in at a certain index is <code>&lt; 20 &amp;&amp; hasLoyaltyCard</code> then you give a 5% discount (or <code>weight * 0.95</code>).</p>\n<p>With that being clarified, you nearly have the right answer, but your placement of a variable to be updated is a bit off.. The if statement should be for adjusting only the <code>weight</code> variable, if needed. Anything else (in this case) should be under the loop code block. I hope this helps direct you to the right answer!</p>\n<p>Also, one more thing you can do to make your code shorter/cleaner is using <code>+=</code> to add <code>weight</code> to the <code>totalWeight</code>.</p>\n"},{"tags":[],"owner":{"account_id":26618151,"reputation":1,"user_id":20237249,"display_name":"binieth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665851507,"creation_date":1665722393,"answer_id":74064385,"question_id":73968578,"body_markdown":"``` lang-java\r\nint i;\r\n\r\nfor (i = 0; i &lt; weights.length; i++) {\r\n    float weight = weights[i]; \r\n    if (weight &lt; 20 &amp;&amp; hasLoyaltyCard) {\r\n        weight *= 0.95;\r\n    } \r\n    totalWeight += weight;\r\n}\r\nreturn totalWeight;\r\n```","title":"How do I get the array value in the array list using a for loop","body":"<pre class=\"lang-java prettyprint-override\"><code>int i;\n\nfor (i = 0; i &lt; weights.length; i++) {\n    float weight = weights[i]; \n    if (weight &lt; 20 &amp;&amp; hasLoyaltyCard) {\n        weight *= 0.95;\n    } \n    totalWeight += weight;\n}\nreturn totalWeight;\n</code></pre>\n"}],"owner":{"account_id":26541411,"reputation":1,"user_id":20172095,"display_name":"francois vang"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1665851507,"creation_date":1665029330,"question_id":73968578,"body_markdown":"I am trying get the array value from the array list by creating a local variable called weight. for example, float weight = weights[i]; \r\nEvery time it loops back it should assign the array value to weights. But when I run it in vocareum, it&#39;s not working. Any advice would help!\r\n\r\n    public class CheckoutMachine {\r\n\r\n\tfloat calculateWeight(float[] weights, boolean hasLoyaltyCard) {\r\n\t\t float totalWeight = 0f;\r\n\t\t // TODO: Step 1 work goes between the two comments\r\n\t\t for (int i = 0; i &lt; weights.length; i++) {\r\n\t\t\t float weight = weights[i];\r\n\t\t\t if (weight &lt; 20 &amp;&amp; hasLoyaltyCard == true) {\r\n\t\t\t\t weight *= 0.95;\r\n\t\t\t\t totalWeight = weight + totalWeight;\r\n\t\t\t }\r\n\t\t }\r\n\t\t\r\n\t\t//\r\n\t\treturn totalWeight;\r\n\t}\r\nError output:\r\n\r\n    ddd_v1_w_lel_1459701@runweb63415:~$ run-workflow step-01                                                                                                              \r\n    Starting a Gradle Daemon, 1 busy and 2 incompatible and 1 stopped Daemons could                                                                                       \r\n                                                                                                                                                                          \r\n    &gt; Task :test FAILED                                                                                                                                                   \r\n                                                                                                                                                                          \r\n    CheckoutMachineTest &gt; calculateWeightTest(float[], boolean, float) &gt; com.ata.Che                                                                                      \r\n        org.opentest4j.AssertionFailedError: expected: &lt;60.0&gt; but was: &lt;0.0&gt;                                                                                              \r\n            at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)                                                                                          \r\n            at org.junit.jupiter.api.AssertionUtils.failNotEqual(AssertionUtils.java                                                                                      \r\n            at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:102                                                                                      \r\n            at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:97)                                                                                      \r\n            at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:714)                                                                                         \r\n            at com.ata.CheckoutMachineTest.calculateWeightTest(CheckoutMachineTest.j                                                                                      \r\n                                                                                                                                                                          \r\n    CheckoutMachineTest &gt; calculateWeightTest(float[], boolean, float) &gt; com.ata.Che                                                                                      \r\n        org.opentest4j.AssertionFailedError: expected: &lt;59.05&gt; but was: &lt;18.05&gt;                                                                                           \r\n            at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)                                                                                          \r\n            at org.junit.jupiter.api.AssertionUtils.failNotEqual(AssertionUtils.java                                                                                      \r\n            at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:102                                                                                      \r\n            at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:97)                                                                                      \r\n            at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:714)                                                                                         \r\n            at com.ata.CheckoutMachineTest.calculateWeightTest(CheckoutMachineTest.j                                                                                      \r\n                                                                                                                                                                          \r\n    CheckoutMachineTest &gt; calculateWeightTest(float[], boolean, float) &gt; com.ata.Che                                                                                      \r\n        org.opentest4j.AssertionFailedError: expected: &lt;19.0&gt; but was: &lt;0.0&gt;                                                                                              \r\n            at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)                                                                                          \r\n            at org.junit.jupiter.api.AssertionUtils.failNotEqual(AssertionUtils.java                                                                                      \r\n            at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:102                                                                                      \r\n            at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:97)                                                                                      \r\n            at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:714)                                                                                         \r\n            at com.ata.CheckoutMachineTest.calculateWeightTest(CheckoutMachineTest.j                                                                                      \r\n                                                                                                                                                                          \r\n    4 tests completed, 3 failed                                                                                                                                           \r\n                                                                                                                                                                          \r\n    FAILURE: Build failed with an exception.    \r\nHere are the instructions, given, I read it over many times and hit a brick wall when it came to solving this error.\r\n\r\n    Create a for loop that goes through the whole weights array.\r\n    Within the for loop, do the following:\r\n    Create a local variable of type float called weight to store the value of weights at a specific index.\r\n    Create a conditional that checks whether weight is under 20 and whether hasLoyaltyCard is true and multiple weight by 0.95 if it is.\r\n    Add weight to totalWeight the variable.","title":"How do I get the array value in the array list using a for loop","body":"<p>I am trying get the array value from the array list by creating a local variable called weight. for example, float weight = weights[i];\nEvery time it loops back it should assign the array value to weights. But when I run it in vocareum, it's not working. Any advice would help!</p>\n<pre><code>public class CheckoutMachine {\n\nfloat calculateWeight(float[] weights, boolean hasLoyaltyCard) {\n     float totalWeight = 0f;\n     // TODO: Step 1 work goes between the two comments\n     for (int i = 0; i &lt; weights.length; i++) {\n         float weight = weights[i];\n         if (weight &lt; 20 &amp;&amp; hasLoyaltyCard == true) {\n             weight *= 0.95;\n             totalWeight = weight + totalWeight;\n         }\n     }\n    \n    //\n    return totalWeight;\n}\n</code></pre>\n<p>Error output:</p>\n<pre><code>ddd_v1_w_lel_1459701@runweb63415:~$ run-workflow step-01                                                                                                              \nStarting a Gradle Daemon, 1 busy and 2 incompatible and 1 stopped Daemons could                                                                                       \n                                                                                                                                                                      \n&gt; Task :test FAILED                                                                                                                                                   \n                                                                                                                                                                      \nCheckoutMachineTest &gt; calculateWeightTest(float[], boolean, float) &gt; com.ata.Che                                                                                      \n    org.opentest4j.AssertionFailedError: expected: &lt;60.0&gt; but was: &lt;0.0&gt;                                                                                              \n        at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)                                                                                          \n        at org.junit.jupiter.api.AssertionUtils.failNotEqual(AssertionUtils.java                                                                                      \n        at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:102                                                                                      \n        at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:97)                                                                                      \n        at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:714)                                                                                         \n        at com.ata.CheckoutMachineTest.calculateWeightTest(CheckoutMachineTest.j                                                                                      \n                                                                                                                                                                      \nCheckoutMachineTest &gt; calculateWeightTest(float[], boolean, float) &gt; com.ata.Che                                                                                      \n    org.opentest4j.AssertionFailedError: expected: &lt;59.05&gt; but was: &lt;18.05&gt;                                                                                           \n        at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)                                                                                          \n        at org.junit.jupiter.api.AssertionUtils.failNotEqual(AssertionUtils.java                                                                                      \n        at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:102                                                                                      \n        at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:97)                                                                                      \n        at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:714)                                                                                         \n        at com.ata.CheckoutMachineTest.calculateWeightTest(CheckoutMachineTest.j                                                                                      \n                                                                                                                                                                      \nCheckoutMachineTest &gt; calculateWeightTest(float[], boolean, float) &gt; com.ata.Che                                                                                      \n    org.opentest4j.AssertionFailedError: expected: &lt;19.0&gt; but was: &lt;0.0&gt;                                                                                              \n        at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)                                                                                          \n        at org.junit.jupiter.api.AssertionUtils.failNotEqual(AssertionUtils.java                                                                                      \n        at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:102                                                                                      \n        at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:97)                                                                                      \n        at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:714)                                                                                         \n        at com.ata.CheckoutMachineTest.calculateWeightTest(CheckoutMachineTest.j                                                                                      \n                                                                                                                                                                      \n4 tests completed, 3 failed                                                                                                                                           \n                                                                                                                                                                      \nFAILURE: Build failed with an exception.    \n</code></pre>\n<p>Here are the instructions, given, I read it over many times and hit a brick wall when it came to solving this error.</p>\n<pre><code>Create a for loop that goes through the whole weights array.\nWithin the for loop, do the following:\nCreate a local variable of type float called weight to store the value of weights at a specific index.\nCreate a conditional that checks whether weight is under 20 and whether hasLoyaltyCard is true and multiple weight by 0.95 if it is.\nAdd weight to totalWeight the variable.\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12468013,"reputation":14,"user_id":9077192,"display_name":"Ionut Adrian Ene"},"score":0,"creation_date":1650542216,"post_id":71953882,"comment_id":127145553,"body_markdown":"is marked as duplicate, you can find the solution\n[here](https://stackoverflow.com/questions/67022118/switching-as-and-bs-in-a-string-c-code-wars-problem)","body":"is marked as duplicate, you can find the solution <a href=\"https://stackoverflow.com/questions/67022118/switching-as-and-bs-in-a-string-c-code-wars-problem\">here</a>"},{"owner":{"account_id":7677847,"reputation":1124,"user_id":5818106,"accept_rate":50,"display_name":"Ryan Dantzler"},"score":0,"creation_date":1650662532,"post_id":71953882,"comment_id":127181227,"body_markdown":"Does this answer your question? [Switching a&#39;s and b&#39;s in a String C++ \\[Code Wars Problem\\]](https://stackoverflow.com/questions/67022118/switching-as-and-bs-in-a-string-c-code-wars-problem)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/67022118/switching-as-and-bs-in-a-string-c-code-wars-problem\">Switching a&#39;s and b&#39;s in a String C++ &#91;Code Wars Problem&#93;</a>"},{"owner":{"account_id":2714076,"reputation":4261,"user_id":2341818,"display_name":"Benson"},"score":0,"creation_date":1650696780,"post_id":71953882,"comment_id":127185456,"body_markdown":"You are evaluating everything except for the last character in the array-converted string with your `for` function with  `(int i=0;i&lt;(x.length()-1);i++){`. Use `x.length()` rather than `(x.length()-1)` to make your switcheroo evaluate every character in the array.","body":"You are evaluating everything except for the last character in the array-converted string with your <code>for</code> function with  <code>(int i=0;i&lt;(x.length()-1);i++){</code>. Use <code>x.length()</code> rather than <code>(x.length()-1)</code> to make your switcheroo evaluate every character in the array."}],"answers":[{"tags":[],"owner":{"account_id":14555688,"reputation":492,"user_id":10513287,"display_name":"ivvija"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650542255,"creation_date":1650542255,"answer_id":71954068,"question_id":71953882,"body_markdown":"The problem ist your loop, when iterating starting at zero only check less than length `i &lt; x.lenth()`. The &quot;length minus one&quot; is needed when starting with one eg: `for (int i = 1; i &lt; (x.length() - 1); i++) ...`. Since you did both the last char is never iterated over and cannot be changed by the code inside your loop.\r\n\r\n```\r\nfor (int i = 0; i &lt; x.length(); i++) {\r\n    if (arr[i] == &#39;a&#39;) {\r\n        arr[i] = &#39;b&#39;;\r\n    }\r\n    else if (arr[i] == &#39;b&#39;) {\r\n        arr[i] = &#39;a&#39;;\r\n    }\r\n}\r\n```","title":"Switching a&#39;s and b&#39;s in a String Java 7KYU Kata Codewars","body":"<p>The problem ist your loop, when iterating starting at zero only check less than length <code>i &lt; x.lenth()</code>. The &quot;length minus one&quot; is needed when starting with one eg: <code>for (int i = 1; i &lt; (x.length() - 1); i++) ...</code>. Since you did both the last char is never iterated over and cannot be changed by the code inside your loop.</p>\n<pre><code>for (int i = 0; i &lt; x.length(); i++) {\n    if (arr[i] == 'a') {\n        arr[i] = 'b';\n    }\n    else if (arr[i] == 'b') {\n        arr[i] = 'a';\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16676962,"reputation":1021,"user_id":12176221,"display_name":"Jacouille"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650542270,"creation_date":1650542270,"answer_id":71954070,"question_id":71953882,"body_markdown":"It seems your problem comes from your index, your are looping on your array but your code stops at ```i &lt; (x.length -1)```. To fix it, you only have to remove the minus one part : ```i &lt; x.length``` or ```i &lt;= (x.length - 1)```","title":"Switching a&#39;s and b&#39;s in a String Java 7KYU Kata Codewars","body":"<p>It seems your problem comes from your index, your are looping on your array but your code stops at <code>i &lt; (x.length -1)</code>. To fix it, you only have to remove the minus one part : <code>i &lt; x.length</code> or <code>i &lt;= (x.length - 1)</code></p>\n"},{"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1685619131,"post_id":71954084,"comment_id":134686981,"body_markdown":"This is c++, not java.","body":"This is c++, not java."}],"tags":[],"owner":{"account_id":12468013,"reputation":14,"user_id":9077192,"display_name":"Ionut Adrian Ene"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650542337,"creation_date":1650542337,"answer_id":71954084,"question_id":71953882,"body_markdown":"you can use the code:\r\n\r\n    #include &lt;string&gt;\r\n    #include &lt;algorithm&gt;\r\n    #include &lt;iterator&gt;\r\n    \r\n    std::string switcheroo(const std::string &amp;s) {\r\n      std::string tmp;\r\n      \r\n      std::transform(s.begin(), s.end(), std::back_inserter(tmp), \r\n                    [](const auto&amp; i) {\r\n                      if (i == &#39;a&#39;) { return &#39;b&#39;; }\r\n                      if (i == &#39;b&#39;) { return &#39;a&#39;; }\r\n                      return i;\r\n                    });\r\n      return tmp;\r\n    }","title":"Switching a&#39;s and b&#39;s in a String Java 7KYU Kata Codewars","body":"<p>you can use the code:</p>\n<pre><code>#include &lt;string&gt;\n#include &lt;algorithm&gt;\n#include &lt;iterator&gt;\n\nstd::string switcheroo(const std::string &amp;s) {\n  std::string tmp;\n  \n  std::transform(s.begin(), s.end(), std::back_inserter(tmp), \n                [](const auto&amp; i) {\n                  if (i == 'a') { return 'b'; }\n                  if (i == 'b') { return 'a'; }\n                  return i;\n                });\n  return tmp;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1665851177,"post_id":74071257,"comment_id":130797657,"body_markdown":"It will work, but  only if the string doesn&#39;t contain any `_` characters beforehand.","body":"It will work, but  only if the string doesn&#39;t contain any <code>_</code> characters beforehand."}],"tags":[],"owner":{"account_id":8225363,"reputation":11,"user_id":6187840,"display_name":"Sourav Ghatak"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665851258,"creation_date":1665759968,"answer_id":74071257,"question_id":71953882,"body_markdown":"You can use a temporary substitution with replacements:\r\n\r\n``` lang-java\r\nreturn x.replace(&#39;a&#39;, &#39;_&#39;).replace(&#39;b&#39;, &#39;a&#39;).replace(&#39;_&#39;, &#39;b&#39;);\r\n```\r\n\r\n\r\nthis should work well.","title":"Switching a&#39;s and b&#39;s in a String Java 7KYU Kata Codewars","body":"<p>You can use a temporary substitution with replacements:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return x.replace('a', '_').replace('b', 'a').replace('_', 'b');\n</code></pre>\n<p>this should work well.</p>\n"}],"owner":{"account_id":25035736,"reputation":3,"user_id":18893141,"display_name":"Kuldeep Aher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":886,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71954068,"answer_count":4,"score":0,"last_activity_date":1665851258,"creation_date":1650541413,"question_id":71953882,"body_markdown":"    Given a string made up of letters a, b, and/or c, switch the position of letters a and b (change a to b and vice versa). Leave any incidence of c untouched.\r\n    \r\n    Example:\r\n    \r\n    &#39;acb&#39; --&gt; &#39;bca&#39;\r\n    &#39;aabacbaa&#39; --&gt; &#39;bbabcabb&#39;\r\n\r\nMy Code -&gt;\r\n\r\n   \r\n            public class Switch {\r\n            public static String switcheroo(String x) {\r\n            \r\n                char[] arr = x.toCharArray();\r\n             for (int i=0;i&lt;(x.length()-1);i++){\r\n                if(arr[i]==&#39;a&#39;){\r\n                  arr[i]=&#39;b&#39;;\r\n                }\r\n                else if(arr[i]==&#39;b&#39;){\r\n                  arr[i]=&#39;a&#39;;\r\n                }\r\n              }\r\n            x = String.valueOf(arr);\r\n            \r\n            return x;\r\n          }\r\n        }\r\n      \r\n\r\nIm getting an error\r\n\r\n`expected:&lt;aaabcccbaa[a]&gt; but was:&lt;aaabcccbaa[b]&gt;`\r\n\r\nI am Unable to figure out this please help.\r\nLink to question - [https://www.codewars.com/kata/57f759bb664021a30300007d/train/java][1]\r\n\r\n\r\n  [1]: https://www.codewars.com/kata/57f759bb664021a30300007d/train/java","title":"Switching a&#39;s and b&#39;s in a String Java 7KYU Kata Codewars","body":"<pre><code>Given a string made up of letters a, b, and/or c, switch the position of letters a and b (change a to b and vice versa). Leave any incidence of c untouched.\n\nExample:\n\n'acb' --&gt; 'bca'\n'aabacbaa' --&gt; 'bbabcabb'\n</code></pre>\n<p>My Code -&gt;</p>\n<pre><code>        public class Switch {\n        public static String switcheroo(String x) {\n        \n            char[] arr = x.toCharArray();\n         for (int i=0;i&lt;(x.length()-1);i++){\n            if(arr[i]=='a'){\n              arr[i]='b';\n            }\n            else if(arr[i]=='b'){\n              arr[i]='a';\n            }\n          }\n        x = String.valueOf(arr);\n        \n        return x;\n      }\n    }\n  \n</code></pre>\n<p>Im getting an error</p>\n<p><code>expected:&lt;aaabcccbaa[a]&gt; but was:&lt;aaabcccbaa[b]&gt;</code></p>\n<p>I am Unable to figure out this please help.\nLink to question - <a href=\"https://www.codewars.com/kata/57f759bb664021a30300007d/train/java\" rel=\"nofollow noreferrer\">https://www.codewars.com/kata/57f759bb664021a30300007d/train/java</a></p>\n"},{"tags":["java","toggle","capslock"],"comments":[{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":1,"creation_date":1316108980,"post_id":7435221,"comment_id":8989338,"body_markdown":"Have you looked at `getLockingKeyState()`? http://download.oracle.com/javase/1.5.0/docs/api/java/awt/Toolkit.html#getLockingKeyState(int)","body":"Have you looked at <code>getLockingKeyState()</code>? <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/awt/Toolkit.html#getLockingKeyState(int)\" rel=\"nofollow noreferrer\">download.oracle.com/javase/1.5.0/docs/api/java/awt/&hellip;</a>"},{"owner":{"account_id":553368,"reputation":521,"user_id":918806,"accept_rate":80,"display_name":"Mike George"},"score":0,"creation_date":1316110585,"post_id":7435221,"comment_id":8989759,"body_markdown":"I actually tried using that but I had trouble putting it in an if else statement for some reason. I would like to use it this way. I was able to use that as a boolean and tried to do it that way. Do you have an example where you would check the state of the caps lock toggle and if it was already on you would just continue else use the method I listed above to turn it on. Thanks for your help. I will look at your link now too.","body":"I actually tried using that but I had trouble putting it in an if else statement for some reason. I would like to use it this way. I was able to use that as a boolean and tried to do it that way. Do you have an example where you would check the state of the caps lock toggle and if it was already on you would just continue else use the method I listed above to turn it on. Thanks for your help. I will look at your link now too."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1316110757,"post_id":7435221,"comment_id":8989798,"body_markdown":"What are you trying to achieve by doing this?  It seems (whatever it is), that you are approaching it the wrong way.","body":"What are you trying to achieve by doing this?  It seems (whatever it is), that you are approaching it the wrong way."},{"owner":{"account_id":553368,"reputation":521,"user_id":918806,"accept_rate":80,"display_name":"Mike George"},"score":2,"creation_date":1316113720,"post_id":7435221,"comment_id":8990614,"body_markdown":"Im actually just doing a fun project for AP Computer science and I just want the lights to flash on the keyboard in certain sequences and in order to get the best effect all the keys have to start by either being toggled on or off.","body":"Im actually just doing a fun project for AP Computer science and I just want the lights to flash on the keyboard in certain sequences and in order to get the best effect all the keys have to start by either being toggled on or off."}],"answers":[{"comments":[{"owner":{"account_id":553368,"reputation":521,"user_id":918806,"accept_rate":80,"display_name":"Mike George"},"score":0,"creation_date":1316113824,"post_id":7435344,"comment_id":8990642,"body_markdown":"Ok, I tried it that way and with it being true it would shut it off if it was on and turn it on if it was off. Weird...","body":"Ok, I tried it that way and with it being true it would shut it off if it was on and turn it on if it was off. Weird..."},{"owner":{"account_id":553368,"reputation":521,"user_id":918806,"accept_rate":80,"display_name":"Mike George"},"score":0,"creation_date":1316114133,"post_id":7435344,"comment_id":8990740,"body_markdown":"oh. wait maybe if I take the boolean.TRUE out and just put the , true instead","body":"oh. wait maybe if I take the boolean.TRUE out and just put the , true instead"},{"owner":{"account_id":118337,"reputation":170832,"user_id":309308,"accept_rate":74,"display_name":"Michael Mrozek"},"score":1,"creation_date":1316114362,"post_id":7435344,"comment_id":8990815,"body_markdown":"@Mike It shouldn&#39;t matter; the function takes a `boolean`, so passing a `Boolean` just forces java to unbox it","body":"@Mike It shouldn&#39;t matter; the function takes a <code>boolean</code>, so passing a <code>Boolean</code> just forces java to unbox it"}],"tags":[],"owner":{"account_id":118337,"reputation":170832,"user_id":309308,"accept_rate":74,"display_name":"Michael Mrozek"},"comment_count":3,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1663473430,"creation_date":1316109431,"answer_id":7435344,"question_id":7435221,"body_markdown":"You can use [`getLockingKeyState`](https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/Toolkit.html#getLockingKeyState(int)) to check if Caps Lock is currently set:\r\n\r\n    boolean isOn = Toolkit.getDefaultToolkit().getLockingKeyState(KeyEvent.VK_CAPS_LOCK);\r\n\r\nHowever, it&#39;s unnecessary -- `setLockingKeyState` doesn&#39;t toggle the state of the key, it sets it. If you pass it `true` it will set the key state to on regardless of the original state:\r\n\r\n\r\n    Toolkit.getDefaultToolkit().setLockingKeyState(KeyEvent.VK_CAPS_LOCK, true);\r\n","title":"How can I get the Caps Lock state, and set it to on, if it isn&#39;t already?","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/Toolkit.html#getLockingKeyState(int)\" rel=\"nofollow noreferrer\"><code>getLockingKeyState</code></a> to check if Caps Lock is currently set:</p>\n<pre><code>boolean isOn = Toolkit.getDefaultToolkit().getLockingKeyState(KeyEvent.VK_CAPS_LOCK);\n</code></pre>\n<p>However, it's unnecessary -- <code>setLockingKeyState</code> doesn't toggle the state of the key, it sets it. If you pass it <code>true</code> it will set the key state to on regardless of the original state:</p>\n<pre><code>Toolkit.getDefaultToolkit().setLockingKeyState(KeyEvent.VK_CAPS_LOCK, true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19989616,"reputation":7,"user_id":14650956,"display_name":"KDDZ - SF Engineer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612249873,"creation_date":1612249873,"answer_id":66005092,"question_id":7435221,"body_markdown":"    /*\r\n     * To change this license header, choose License Headers in Project Properties.\r\n     * To change this template file, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n\r\n    package javaapplication52;\r\n\r\n    import java.awt.Toolkit;\r\n    import java.awt.event.KeyAdapter;\r\n    import java.awt.event.KeyEvent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JTextField;\r\n\r\n    /**\r\n     *\r\n     * @author DSF Inc - Admin\r\n     */\r\n    public class JavaApplication52 extends JFrame {\r\n\r\n        JavaApplication52() {\r\n            setLayout(null);\r\n\r\n        \r\n            JTextField t = new  JTextField();\r\n            t.setBounds(0,0,300,20);\r\n            add(t);\r\n        \r\n            t.addKeyListener(new KeyAdapter() {\r\n                @Override\r\n                public void keyPressed(KeyEvent e) {\r\n                    boolean isOn = Toolkit.getDefaultToolkit().getLockingKeyState(KeyEvent.VK_CAPS_LOCK);\r\n\r\n                    if (isOn == true) {\r\n                        System.err.println(&quot;ON&quot;);\r\n                    } else {\r\n                        System.err.println(&quot;OFF&quot;);\r\n                    }\r\n                }\r\n            });\r\n\r\n            setSize(300, 400);\r\n            setVisible(true);\r\n            setResizable(false);\r\n            setLocationRelativeTo(null);\r\n            setDefaultCloseOperation(DO_NOTHING_ON_CLOSE);\r\n        }\r\n\r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            JavaApplication52 fr = new JavaApplication52();\r\n        }\r\n    }\r\n","title":"How can I get the Caps Lock state, and set it to on, if it isn&#39;t already?","body":"<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\n\npackage javaapplication52;\n\nimport java.awt.Toolkit;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport javax.swing.JFrame;\nimport javax.swing.JTextField;\n\n/**\n *\n * @author DSF Inc - Admin\n */\npublic class JavaApplication52 extends JFrame {\n\n    JavaApplication52() {\n        setLayout(null);\n\n    \n        JTextField t = new  JTextField();\n        t.setBounds(0,0,300,20);\n        add(t);\n    \n        t.addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyPressed(KeyEvent e) {\n                boolean isOn = Toolkit.getDefaultToolkit().getLockingKeyState(KeyEvent.VK_CAPS_LOCK);\n\n                if (isOn == true) {\n                    System.err.println(&quot;ON&quot;);\n                } else {\n                    System.err.println(&quot;OFF&quot;);\n                }\n            }\n        });\n\n        setSize(300, 400);\n        setVisible(true);\n        setResizable(false);\n        setLocationRelativeTo(null);\n        setDefaultCloseOperation(DO_NOTHING_ON_CLOSE);\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        JavaApplication52 fr = new JavaApplication52();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24396872,"reputation":1,"user_id":18326138,"display_name":"Erd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665850998,"creation_date":1665760244,"answer_id":74071305,"question_id":7435221,"body_markdown":"``` lang-java\r\nToolkit toolkit = Toolkit.getDefaultToolkit();\r\n\r\nrobik.keyPress(KeyEvent.VK_SPACE); // PRESS ANY KEY // Any key needs to be pressed\r\nToolkit.getDefaultToolkit().setLockingKeyState(KeyEvent.VK_CAPS_LOCK, true);\r\nrobik.keyRelease(KeyEvent.VK_SPACE);\r\n```","title":"How can I get the Caps Lock state, and set it to on, if it isn&#39;t already?","body":"<pre class=\"lang-java prettyprint-override\"><code>Toolkit toolkit = Toolkit.getDefaultToolkit();\n\nrobik.keyPress(KeyEvent.VK_SPACE); // PRESS ANY KEY // Any key needs to be pressed\nToolkit.getDefaultToolkit().setLockingKeyState(KeyEvent.VK_CAPS_LOCK, true);\nrobik.keyRelease(KeyEvent.VK_SPACE);\n</code></pre>\n"}],"owner":{"account_id":553368,"reputation":521,"user_id":918806,"accept_rate":80,"display_name":"Mike George"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20666,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":7435344,"answer_count":3,"score":10,"last_activity_date":1665850998,"creation_date":1316108852,"question_id":7435221,"body_markdown":"I would like a specific example on how to turn caps lock on *if* it is off.\r\n\r\nI know how to toggle the key, I have been using this:\r\n\r\n    toolkit.setLockingKeyState(KeyEvent.VK_CAPS_LOCK, Boolean.TRUE);\r\n\r\nThat will change the state of the key whether it is on or off.\r\nBut I want to make sure it is on at the beginning of the application.\r\n\r\n(The final goal is having the keyboard LEDs flash in certain sequences, which works better if I have a certain starting state.)","title":"How can I get the Caps Lock state, and set it to on, if it isn&#39;t already?","body":"<p>I would like a specific example on how to turn caps lock on <em>if</em> it is off.</p>\n\n<p>I know how to toggle the key, I have been using this:</p>\n\n<pre><code>toolkit.setLockingKeyState(KeyEvent.VK_CAPS_LOCK, Boolean.TRUE);\n</code></pre>\n\n<p>That will change the state of the key whether it is on or off.\nBut I want to make sure it is on at the beginning of the application.</p>\n\n<p>(The final goal is having the keyboard LEDs flash in certain sequences, which works better if I have a certain starting state.)</p>\n"},{"tags":["java","spring","spring-boot","maven"],"answers":[{"comments":[{"owner":{"account_id":22265531,"reputation":3,"user_id":16496388,"display_name":"Florian"},"score":0,"creation_date":1665844437,"post_id":74079983,"comment_id":130796226,"body_markdown":"Thank you. However, what about the case where AClassFromTheDependency is an interface and I do not wish to override the implementation?","body":"Thank you. However, what about the case where AClassFromTheDependency is an interface and I do not wish to override the implementation?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1665844631,"post_id":74079983,"comment_id":130796272,"body_markdown":"@Florian The return type of the method annotated with `@Bean` would be the interface target interface, and in the return statement you have to provide a particular implementation.","body":"@Florian The return type of the method annotated with <code>@Bean</code> would be the interface target interface, and in the return statement you have to provide a particular implementation."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665842098,"creation_date":1665841497,"answer_id":74079983,"question_id":74079918,"body_markdown":"In order to create a bean defined in a third party library (any other class that is not your custom one, like standard classes from the JDK) you can create a method annotated with `@Bean` inside your configuration class.\r\n\r\n```\r\n@Configuration\r\npublic class MyConfig {\r\n    @Bean\r\n    AClassFromTheDependency aClassFromTheDependency() {\r\n        \r\n        return AClassFromTheDependency.getInstance();\r\n    }\r\n}\r\n```\r\n\r\n**Note**\r\n\r\n* That&#39;s not the best practice to search components in each and every package of your project.\r\n\r\n* You can&#39;t place annotation on the third party classes, hence such problem can&#39;t be resolved via `@ComponentScan`.","title":"Consider defining a bean of type &#39;[3rd party dependency]&#39; in your configuration","body":"<p>In order to create a bean defined in a third party library (any other class that is not your custom one, like standard classes from the JDK) you can create a method annotated with <code>@Bean</code> inside your configuration class.</p>\n<pre><code>@Configuration\npublic class MyConfig {\n    @Bean\n    AClassFromTheDependency aClassFromTheDependency() {\n        \n        return AClassFromTheDependency.getInstance();\n    }\n}\n</code></pre>\n<p><strong>Note</strong></p>\n<ul>\n<li><p>That's not the best practice to search components in each and every package of your project.</p>\n</li>\n<li><p>You can't place annotation on the third party classes, hence such problem can't be resolved via <code>@ComponentScan</code>.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":22265531,"reputation":3,"user_id":16496388,"display_name":"Florian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74079983,"answer_count":1,"score":0,"last_activity_date":1665850698,"creation_date":1665840935,"question_id":74079918,"body_markdown":"I have a Maven project which has approximately the following structure:\r\n\r\n```none\r\nproject\r\n|--.mvn\r\n|--target\r\n|--backend\r\n|  |--main\r\n|  |  |--src/main/java/com.project\r\n|  |  |  |--controllers\r\n|  |  |  |  |RestController.java\r\n|  |  |  |ProjectApplicationMain.java\r\n|  |  |--src/main/resources\r\n|  |  |  |application.yaml\r\n|  |  |--target\r\n|  |  |pom.xml\r\n|pom.xml\r\n```\r\n\r\nDependencies are defined in the pom.xml file that is in the root directory of the whole project and pom.xml files of the sub-modules simply use \r\n\r\n    &lt;relativePath&gt;../../pom.xml&lt;/relativePath&gt;\r\n\r\nI wish to use dependencies defined in the pom.xml in the RestController.java class, but I am getting the following error when trying to compile the code:\r\n\r\n```none\r\nParameter 0 of constructor in com.project.controllers.RestController required a bean of type &#39;aClassFromTheDependency&#39; that could not be found.\r\n\r\nAction:\r\nConsider defining a bean of type &#39;aClassFromTheDependency&#39; in your configuration.\r\n```\r\n\r\nThe RestController.java class looks approximately as follows:\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class RestController {\r\n  private final AClassFromTheDependency aClassFromTheDependency;\r\n\r\n@Autowired\r\npublic RestController(AClassFromTheDependency aClassFromTheDependency) {\r\n    this.aClassFromTheDependency = aClassFromTheDependency;\r\n  }\r\n\r\n  @GetMapping(&quot;/make-request&quot;)\r\n  public ResponseDTO someApi() {\r\n    final ResponseDTO response = new ResponseDTO();\r\n    response.setResponse(aClassFromTheDependency.aMethodFromTheDependency());\r\n    return response;\r\n  }\r\n}\r\n```\r\n\r\nAdditionally, the ProjectApplicationMain.java looks like this:\r\n```java\r\n@SpringBootApplication(exclude = {SecurityAutoConfiguration.class})\r\n@EnableConfigurationProperties({\r\n  FileStorageProperties.class\r\n})\r\n@ComponentScan(basePackages = {&quot;com.project&quot;})\r\n@EnableJpaRepositories(basePackages = {&quot;com.project&quot;})\r\n@EntityScan(basePackages = {&quot;com.project&quot;})\r\n@EnableCaching\r\npublic class ProjectApplicationMain {\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(ProjectApplicationMain.class, args);\r\n  }\r\n}\r\n```\r\n\r\nAny ideas what seems to be the case here that I simply cannot create an instance of the dependency&#39;s class and use its methods?","title":"Consider defining a bean of type &#39;[3rd party dependency]&#39; in your configuration","body":"<p>I have a Maven project which has approximately the following structure:</p>\n<pre class=\"lang-none prettyprint-override\"><code>project\n|--.mvn\n|--target\n|--backend\n|  |--main\n|  |  |--src/main/java/com.project\n|  |  |  |--controllers\n|  |  |  |  |RestController.java\n|  |  |  |ProjectApplicationMain.java\n|  |  |--src/main/resources\n|  |  |  |application.yaml\n|  |  |--target\n|  |  |pom.xml\n|pom.xml\n</code></pre>\n<p>Dependencies are defined in the pom.xml file that is in the root directory of the whole project and pom.xml files of the sub-modules simply use</p>\n<pre><code>&lt;relativePath&gt;../../pom.xml&lt;/relativePath&gt;\n</code></pre>\n<p>I wish to use dependencies defined in the pom.xml in the RestController.java class, but I am getting the following error when trying to compile the code:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Parameter 0 of constructor in com.project.controllers.RestController required a bean of type 'aClassFromTheDependency' that could not be found.\n\nAction:\nConsider defining a bean of type 'aClassFromTheDependency' in your configuration.\n</code></pre>\n<p>The RestController.java class looks approximately as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class RestController {\n  private final AClassFromTheDependency aClassFromTheDependency;\n\n@Autowired\npublic RestController(AClassFromTheDependency aClassFromTheDependency) {\n    this.aClassFromTheDependency = aClassFromTheDependency;\n  }\n\n  @GetMapping(&quot;/make-request&quot;)\n  public ResponseDTO someApi() {\n    final ResponseDTO response = new ResponseDTO();\n    response.setResponse(aClassFromTheDependency.aMethodFromTheDependency());\n    return response;\n  }\n}\n</code></pre>\n<p>Additionally, the ProjectApplicationMain.java looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication(exclude = {SecurityAutoConfiguration.class})\n@EnableConfigurationProperties({\n  FileStorageProperties.class\n})\n@ComponentScan(basePackages = {&quot;com.project&quot;})\n@EnableJpaRepositories(basePackages = {&quot;com.project&quot;})\n@EntityScan(basePackages = {&quot;com.project&quot;})\n@EnableCaching\npublic class ProjectApplicationMain {\n\n  public static void main(String[] args) {\n    SpringApplication.run(ProjectApplicationMain.class, args);\n  }\n}\n</code></pre>\n<p>Any ideas what seems to be the case here that I simply cannot create an instance of the dependency's class and use its methods?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1665842793,"post_id":74080092,"comment_id":130795842,"body_markdown":"Is this the database you own? And is there indeed no password?","body":"Is this the database you own? And is there indeed no password?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1665850432,"post_id":74080092,"comment_id":130797465,"body_markdown":"PHPMyAdmin is not involved here, that is just a PHP-based query tool for MySQL. You are probably specifying the wrong username and/or password (e.g. your password is empty, which is unlikely to be the case).","body":"PHPMyAdmin is not involved here, that is just a PHP-based query tool for MySQL. You are probably specifying the wrong username and/or password (e.g. your password is empty, which is unlikely to be the case)."}],"owner":{"account_id":26632208,"reputation":1,"user_id":20249235,"display_name":"Rareş-Horia Panait"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1665850549,"answer_count":0,"score":0,"last_activity_date":1665850402,"creation_date":1665842507,"question_id":74080092,"body_markdown":"I&#39;m getting permission denied error:\r\n\r\n&gt; java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: NO).\r\n\r\nI do not know why.\r\n\r\nThis is my code:\r\n\r\n    try{\r\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n       \r\n        con1=DriverManager.getConnection(&quot;jdbc:mysql://localhost/schoolmanagementdb&quot;,&quot;root&quot;,&quot;&quot;);   \r\n        insert=con1.prepareStatement(&quot;insert into schoolmanagementtbl(name,mobile,course)values(?,?,?)&quot;);\r\n        insert.setString(1,name);\r\n        insert.setString(2,mobile);\r\n        insert.setString(3,course);\r\n        insert.executeUpdate();\r\n\r\n        JOptionPane.showMessageDialog(this,&quot;Record Addeddd&quot;);\r\n    }\r\n    catch(ClassNotFoundException ex){\r\n        Logger.getLogger(form1.class.getName()).log(Level.SEVERE,null,ex);\r\n    }\r\n    catch(SQLException ex){\r\n        Logger.getLogger(form1.class.getName()).log(Level.SEVERE,null,ex);\r\n    }\r\n","title":"Why is permission to MySQL denied?","body":"<p>I'm getting permission denied error:</p>\n<blockquote>\n<p>java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO).</p>\n</blockquote>\n<p>I do not know why.</p>\n<p>This is my code:</p>\n<pre><code>try{\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n   \n    con1=DriverManager.getConnection(&quot;jdbc:mysql://localhost/schoolmanagementdb&quot;,&quot;root&quot;,&quot;&quot;);   \n    insert=con1.prepareStatement(&quot;insert into schoolmanagementtbl(name,mobile,course)values(?,?,?)&quot;);\n    insert.setString(1,name);\n    insert.setString(2,mobile);\n    insert.setString(3,course);\n    insert.executeUpdate();\n\n    JOptionPane.showMessageDialog(this,&quot;Record Addeddd&quot;);\n}\ncatch(ClassNotFoundException ex){\n    Logger.getLogger(form1.class.getName()).log(Level.SEVERE,null,ex);\n}\ncatch(SQLException ex){\n    Logger.getLogger(form1.class.getName()).log(Level.SEVERE,null,ex);\n}\n</code></pre>\n"},{"tags":["java","arrays","loops","switch-statement"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1665815132,"post_id":74077143,"comment_id":130790937,"body_markdown":"You need to show the code you&#39;ve written, and ask a specific question. Read [How do I ask and answer homework questions?](https://meta.stackoverflow.com/q/334822)","body":"You need to show the code you&#39;ve written, and ask a specific question. Read <a href=\"https://meta.stackoverflow.com/q/334822\">How do I ask and answer homework questions?</a>"},{"owner":{"account_id":26265026,"reputation":1,"user_id":19935723,"display_name":"sgraham"},"score":0,"creation_date":1665815811,"post_id":74077143,"comment_id":130791031,"body_markdown":"Should I delete this one and start a new one, or just add to it?","body":"Should I delete this one and start a new one, or just add to it?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665817410,"post_id":74077143,"comment_id":130791236,"body_markdown":"1) `for(int i=0; i&lt;=10; i++)` will loop with `i` having the values `0`, `1`, `2`, ... `10`  - that are 11 numbers - if you need only `10`, you must change the limits (start or end); 2) I would use some `List` instead of an array - they have variable length and it is easier to add/delete elements from lists; 3) we can;t see the whole code, but `switch (randomNumber) { case 0: ... question[0]` can be changed to `question[randomNumber]` (no `switch` needed)","body":"1) <code>for(int i=0; i&lt;=10; i++)</code> will loop with <code>i</code> having the values <code>0</code>, <code>1</code>, <code>2</code>, ... <code>10</code>  - that are 11 numbers - if you need only <code>10</code>, you must change the limits (start or end); 2) I would use some <code>List</code> instead of an array - they have variable length and it is easier to add/delete elements from lists; 3) we can;t see the whole code, but <code>switch (randomNumber) { case 0: ... question[0]</code> can be changed to <code>question[randomNumber]</code> (no <code>switch</code> needed)"},{"owner":{"account_id":26265026,"reputation":1,"user_id":19935723,"display_name":"sgraham"},"score":0,"creation_date":1665818837,"post_id":74077143,"comment_id":130791449,"body_markdown":"Thanks! That fixed it to only generate 10 questions. I am required to use an array and switch.","body":"Thanks! That fixed it to only generate 10 questions. I am required to use an array and switch."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665910620,"post_id":74077143,"comment_id":130805834,"body_markdown":"are you sure it is meant to have a `switch` with 20 labels and have that much code repeated 20 times? Poor developer that has to maintain such code... I suggest you at least remove all duplicated code (the `switch` would only set a variable with the question text and the expected answer, all comparison and counting would be done only once after it)","body":"are you sure it is meant to have a <code>switch</code> with 20 labels and have that much code repeated 20 times? Poor developer that has to maintain such code... I suggest you at least remove all duplicated code (the <code>switch</code> would only set a variable with the question text and the expected answer, all comparison and counting would be done only once after it)"}],"answers":[{"tags":[],"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665850385,"creation_date":1665850385,"answer_id":74081082,"question_id":74077143,"body_markdown":"If the intent is to display questions in a random order only once, then what you could do is shuffle the indexes to be presented in a queue structure.\r\n\r\nThe following method creates a list of the indexes from 0 to count - 1, shuffles them and returns a [Queue][1] that when [poll()][2] is called will return the next index to offer up. Keep calling this until `null` is returned for no more questions.\r\n\r\n```java\r\nimport java.util.ArrayDeque;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.stream.IntStream;\r\nimport static java.util.stream.Collectors.toList;\r\n\r\nprivate Queue&lt;Integer&gt; questionOrder(int count) {\r\n    List&lt;Integer&gt; indexes = IntStream.range(0, count)\r\n        .mapToObj(n -&gt; n)\r\n        .sorted()\r\n        .collect(toList());\r\n\r\n    Collections.shuffle(indexes);\r\n\r\n    return new ArrayDeque&lt;&gt;(indexes);\r\n}\r\n```\r\n\r\nYou could then use this as:\r\n\r\n```java\r\nprivate void askQuestions(String[] questions) {\r\n    Queue&lt;Integer&gt; order = questionOrder(questions.length);\r\n    System.out.println(order);\r\n    Integer index;\r\n    while ((index = order.poll()) != null) {\r\n        String question = questions[index];\r\n        System.out.println(question);\r\n        // do your presentation logic.\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Queue.html\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Queue.html#poll()","title":"How do I store previous used questions from ArrayA in ArrayB so that they can&#39;t be used again?","body":"<p>If the intent is to display questions in a random order only once, then what you could do is shuffle the indexes to be presented in a queue structure.</p>\n<p>The following method creates a list of the indexes from 0 to count - 1, shuffles them and returns a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Queue.html\" rel=\"nofollow noreferrer\">Queue</a> that when <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Queue.html#poll()\" rel=\"nofollow noreferrer\">poll()</a> is called will return the next index to offer up. Keep calling this until <code>null</code> is returned for no more questions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayDeque;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.stream.IntStream;\nimport static java.util.stream.Collectors.toList;\n\nprivate Queue&lt;Integer&gt; questionOrder(int count) {\n    List&lt;Integer&gt; indexes = IntStream.range(0, count)\n        .mapToObj(n -&gt; n)\n        .sorted()\n        .collect(toList());\n\n    Collections.shuffle(indexes);\n\n    return new ArrayDeque&lt;&gt;(indexes);\n}\n</code></pre>\n<p>You could then use this as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void askQuestions(String[] questions) {\n    Queue&lt;Integer&gt; order = questionOrder(questions.length);\n    System.out.println(order);\n    Integer index;\n    while ((index = order.poll()) != null) {\n        String question = questions[index];\n        System.out.println(question);\n        // do your presentation logic.\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26265026,"reputation":1,"user_id":19935723,"display_name":"sgraham"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665850385,"creation_date":1665814498,"question_id":74077143,"body_markdown":"\r\n\r\n\r\n\r\n\r\n \r\nWhere and how do I take the already used questions and store them in a new array of 10 so the questions are not used again?\r\n\r\nI also have the issue that it shoots out 11 questions before stopping. \r\n\r\nI hope this enough code to give enough context. I have 359 lines of code, so not sure how much is needed to help. \r\n  \r\n\r\n  \r\n\r\n    public static void main(String[] args) {//Beginning MAIN method braces\r\n        \r\n        String firstName;\r\n        String lastName;\r\n        String major;\r\n        String level;\r\n        int correctCounter = 0;\r\n        int incorrectCounter = 0;\r\n        \r\n       \r\n        Scanner input =  new Scanner(System.in);\r\n        \r\n        \r\n        System.out.println(&quot;Please enter the following information:&quot;);\r\n        System.out.print(&quot;First name: &quot;);\r\n            firstName = input.next();\r\n          \r\n        System.out.print(&quot;Last name: &quot;);\r\n            lastName = input.next();\r\n            \r\n        System.out.print(&quot;Your Major: &quot;);\r\n            major = input.next();\r\n            \r\n        System.out.print(&quot;College Level(Freshman, Sophmore, Junior, Senior): &quot;);\r\n            level = input.next();\r\n        System.out.println();\r\n            \r\n      \r\n            \r\n      \r\n      \r\n\r\n\r\n //A string Array of 20 questions to be passed to the method\r\n      String[] questions = new String[20];\r\n      \r\n      \r\n      questions[0] = &quot;True/False: Cost is a potential disadvantage of teamwork?&quot;;\r\n      questions[1] = &quot;Ability is NOT a major aspect of culture that affects. True or False&quot;\r\n              + &quot; communication.&quot;;\r\n      questions[2] = &quot;Which one is NOT a common technology used in meetings? \\n&quot;\r\n              + &quot;A. Workgroup messaging\\n&quot;\r\n              + &quot;B. Cellphones\\n&quot;\r\n              + &quot;C. Teleconferencing\\n&quot;\r\n              + &quot;D. Videoconferencing&quot;;\r\n      questions[3] = &quot;What is the first step in the listening process?\\n&quot;\r\n              + &quot;A. Evaluating\\n&quot;\r\n              + &quot;B. Remembering\\n&quot;\r\n              + &quot;C. Responding\\n&quot;\r\n              + &quot;D. Receiving\\n&quot;\r\n              + &quot;E. Decoding&quot;;\r\n      questions[4] = &quot;______ is the process of transferring information and &quot;\r\n              + &quot;meaning betweem senders and receivers using one or more&quot;\r\n              + &quot;written, oral, visual, or digital media. &quot;;\r\n      questions[5] = &quot;______ are the accepted principles of conduct that govern&quot;\r\n              + &quot;behavior within a society. &quot;;\r\n      questions[6] = &quot;The listening process involves how many steps?&quot;;\r\n      questions[7] =&quot;iTranslate translates more than __ languages and features &quot;\r\n              + &quot;voice input and output.&quot;;\r\n      questions[8] = &quot;What is 1/4 (one-fourth) in decimal form?&quot;;\r\n      questions[9] = &quot;What is the normal temperature for an adult, in `F?&quot;;\r\n      questions[10] =  &quot;A kite is stuck in the branches of a tree. If the &quot;\r\n      + &quot;kite&#39;s 90 foot string makes an angle of 22 degrees to the ground,&quot;\r\n      + &quot;calculate the distance in feet between the kite and the ground.&quot;;\r\n      questions[11] = &quot;If y=cos x, then what is the maximum value of y?&quot;;\r\n      questions[12] = &quot;What is 6^3&quot;;\r\n      questions[13] = &quot;What is 3^6?&quot;;\r\n      questions[14] = &quot;Round 672.4 to the nearest whole number.&quot;;\r\n      questions[15] = &quot; Round 14.6 to the nearest whole number.&quot;;\r\n      questions[16] = &quot;What is the max value of 15 32 10 99 87&quot;;\r\n      questions[17] = &quot;What is the min value of 15 32 10 99 87&quot;;\r\n      questions[18] = &quot;Groupthink occurs when peer preasure causes individual &quot;\r\n              + &quot;team members to withhold contrary _____ and to go along with &quot;\r\n              + &quot;decisions they don&#39;t really believe in. &quot;;\r\n      questions[19] = &quot;Most people want to avoid letting others down, and &quot;\r\n              + &quot;participating in teams creates a built-in sense of _______&quot;\r\n              + &quot;to others. &quot;;\r\n      \r\n      \r\n      returning(questions, correctCounter, incorrectCounter);\r\n      \r\n      \r\n       //Method call for TESTREPORT      \r\n      report(firstName, lastName, major, level, correctCounter, incorrectCounter); \r\n     \r\n          \r\n    }//Main end\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    public static double returning(String[] questions, int correctCounter, int incorrectCounter){//Beginning RETURN method start\r\n        \r\n        Scanner input =  new Scanner(System.in);\r\n        \r\n        //Answers to the 20 questions stored in variables\r\n        String answer0 = &quot;True&quot;; //Boolean answer\r\n        String answer1 = &quot;False&quot;;//Boolean answer\r\n        char answer2 = &#39;B&#39;;//char answer\r\n        char answer3 = &#39;D&#39;;//char answer\r\n        String answer4 = &quot;Communication&quot;;//fill in the answer\r\n        String answer5 = &quot;Ethics&quot;;//fill in the answer\r\n        int answer6 = 5; //int answer\r\n        int answer7 = 80;//int answer\r\n        double answer8 = .25;//double answer\r\n        double answer9 = 98.6;//double answer\r\n        double answer10 = 33.71; //trigonometric question\r\n        double answer11 = 1; //trigonometric question\r\n        int answer12 = 216; //exponent question\r\n        int answer13 = 729; //exponent question\r\n        int answer14 = 672; //rounding question\r\n        int answer15 = 15; //rounding question\r\n        double answer16 = 99; //max value question\r\n        double answer17 = 10; //min value question\r\n        String answer18 = &quot;opinions&quot;; //free question\r\n        String answer19 = &quot;accountability&quot;;//free question\r\n        \r\n        \r\n      \r\n       \r\n       int correctCount = 0;\r\n       int incorrectCount =0;\r\n       \r\n       \r\n       for(int i=0; i&lt;10; i++){//Beginning FOR loop for switch statement\r\n         correctCount++;\r\n         incorrectCount++;\r\n         \r\n            //Random Number generator \r\n            int randomNumber = 0 + (int)(Math.random() * 20);\r\n           \r\n          \r\n            //Switch statement\r\n            switch (randomNumber){\r\n                case 0 : System.out.println(questions[0]); \r\n                        String q0 = input.nextLine();\r\n                        if (q0.equalsIgnoreCase(answer0)){\r\n                         correctCount++;\r\n                        }\r\n                        else {\r\n                            incorrectCount++;\r\n                        }\r\n                        break;\r\n                case 1 : System.out.println(questions[1]);\r\n                        String q1 = input.nextLine();\r\n                        if (q1.equalsIgnoreCase(answer1)){\r\n                           correctCount++;\r\n                        }\r\n                        else {\r\n                            incorrectCount++;\r\n                        }\r\n                        break;\r\n                case 2 : System.out.println(questions[2]);\r\n                        String q2 = input.nextLine();\r\n                        if (q2.equals(answer2)){\r\n                            correctCount++;\r\n                        }\r\n                        else {\r\n                            incorrectCount++;\r\n                        }\r\n                        break;\r\n                case 3 : System.out.println(questions[3]);\r\n                        String q3 = input.nextLine();\r\n                        if (q3.equals(answer3)){\r\n                            correctCount++;\r\n                        }\r\n                        else {\r\n                            incorrectCount++;\r\n                        }\r\n                        break;\r\n                case 4 : System.out.println(questions[4]);\r\n                         String q4 = input.nextLine();\r\n                         if (q4.equalsIgnoreCase(answer4)){\r\n                            correctCount++;\r\n                        }\r\n                         else {\r\n                             incorrectCount++; \r\n                        }\r\n                        break;\r\n                case 5 : System.out.println(questions[5]);\r\n                         String q5 = input.nextLine();\r\n                         if (q5.equalsIgnoreCase(answer5)){\r\n                             correctCount++;\r\n                         }\r\n                         else {\r\n                             incorrectCount++;\r\n                         }\r\n                         break;\r\n                case 6 : System.out.println(questions[6]);\r\n                         String q6 = input.nextLine();\r\n                         if (q6.equals(answer6)) {\r\n                             correctCount++;\r\n                         }\r\n                         else {\r\n                             incorrectCount++;\r\n                         }\r\n                         break;\r\n                case 7 : System.out.println(questions[7]);\r\n                         String q7 = input.nextLine();\r\n                         if (q7.equals(answer7)) {\r\n                             correctCount++;\r\n                         }\r\n                         else {\r\n                             incorrectCount++;\r\n                         }  \r\n                         break;\r\n                case 8 : System.out.println(questions[8]);\r\n                         String q8 = input.nextLine();\r\n                         if (q8.equals(answer8)) {\r\n                             correctCount++;\r\n                         } \r\n                         else {\r\n                             incorrectCount++;\r\n                             \r\n                         }\r\n                         break;\r\n                case 9 : System.out.println(questions[9]);\r\n                         String q9 = input.nextLine();\r\n                         if (q9.equals(answer9)) {\r\n                             correctCount++;\r\n                         }\r\n                         else {\r\n                             incorrectCount++;\r\n                         }\r\n                         break;\r\n                case 10: System.out.println(questions[10]);\r\n                         String q10 = input.nextLine();\r\n                         if (q10.equals(answer10)) {\r\n                             correctCount++;\r\n                         }                \r\n                         else {\r\n                             incorrectCount++;\r\n                         }  \r\n                        break;\r\n                case 11: System.out.println(questions[11]);\r\n                         String q11 = input.nextLine();\r\n                         if (q11.equals(answer11)) {\r\n                                correctCount++;\r\n                         }                \r\n                         else {\r\n                             incorrectCount++;\r\n                         }  \r\n                        break;\r\n                case 12: System.out.println(questions[12]);\r\n                         String q12 = input.nextLine();\r\n                         if (q12.equals(answer12)){\r\n                             correctCount++;\r\n                         }                \r\n                         else {\r\n                             incorrectCount++;\r\n                         }  \r\n                        break;\r\n                case 13: System.out.println(questions[13]);\r\n                         String q13 = input.nextLine();\r\n                         if (q13.equals(answer13)) {\r\n                                correctCount++;\r\n                         }                \r\n                         else {\r\n                             incorrectCount++;\r\n                         }  \r\n                         break;\r\n                 case 14: System.out.println(questions[14]);\r\n                         String q14 = input.nextLine();\r\n                         if (q14.equals(answer14)){\r\n                             correctCount++;\r\n                         }                \r\n                         else {\r\n                             incorrectCount++;\r\n                         }  \r\n                        break;\r\n                case 15: System.out.println(questions[15]);\r\n                         String q15 = input.nextLine();\r\n                         if (q15.equals(answer15)) {\r\n                                correctCount++;\r\n                         }                \r\n                         else {\r\n                             incorrectCount++;\r\n                         }  \r\n                        break;\r\n                case 16: System.out.println(questions[16]);\r\n                         String q16 = input.nextLine();\r\n                         if (q16.equals(answer16)){\r\n                             correctCount++;\r\n                         }                \r\n                         else {\r\n                             incorrectCount++;\r\n                         }  \r\n                        break;\r\n                case 17: System.out.println(questions[17]);\r\n                         String q17 = input.nextLine();\r\n                         if (q17.equals(answer17)) {\r\n                                correctCount++;\r\n                         }                \r\n                         else {\r\n                             incorrectCount++;\r\n                         }  \r\n                        break;\r\n                case 18: System.out.println(questions[18]);\r\n                         String q18 = input.nextLine();\r\n                         if (q18.equalsIgnoreCase(answer18)){\r\n                             correctCount++;\r\n                         }                \r\n                         else {\r\n                             incorrectCount++;\r\n                         }  \r\n                        break;        \r\n                 case 19: System.out.println(questions[19]);\r\n                         String q19 = input.nextLine();\r\n                         if (q19.equalsIgnoreCase(answer19)) {\r\n                                correctCount++;\r\n                         }                \r\n                         else {\r\n                             incorrectCount++;\r\n                         }  \r\n                        break;\r\n                 default : System.out.println(&quot;Error&quot;);\r\n                        \r\n            }//End SWITCH statment\r\n            \r\n        }//End FOR loop for switch statement\r\n       \r\n       \r\n    return correctCount + incorrectCount;\r\n    \r\n   \r\n       \r\n \r\n    }//End RETURN method braces\r\n\r\n\r\n\r\n\r\n    public static void report(String firstName, String lastName, String major, \r\n            String level, int correctCount, int incorrectCount){//Beginning TESTREPORT method braces\r\n        \r\n        double percentCorrect = (correctCount/10);\r\n        \r\n        \r\n        \r\n        \r\n        //print students input information, number of correct and incorrect +\r\n        //questions and %correct\r\n        System.out.println(&quot;Name: &quot;+ firstName + &quot; &quot; + lastName);\r\n        System.out.println(&quot;Major: &quot; + major);\r\n        System.out.println(&quot;College Level: &quot; + level);\r\n        System.out.println(&quot;Questions answered correctly: &quot; + correctCount);\r\n        System.out.println(&quot;Questions answered incorrectly: &quot; + incorrectCount);\r\n        System.out.println(&quot;Percentage correct: &quot; + percentCorrect);\r\n\r\n\r\n    }//End TESTREPORT method braces  \r\n   \r\n   \r\n   \r\n}//End CLASS method braces\r\n\r\n\r\n","title":"How do I store previous used questions from ArrayA in ArrayB so that they can&#39;t be used again?","body":"<p>Where and how do I take the already used questions and store them in a new array of 10 so the questions are not used again?</p>\n<p>I also have the issue that it shoots out 11 questions before stopping.</p>\n<p>I hope this enough code to give enough context. I have 359 lines of code, so not sure how much is needed to help.</p>\n<pre><code>public static void main(String[] args) {//Beginning MAIN method braces\n    \n    String firstName;\n    String lastName;\n    String major;\n    String level;\n    int correctCounter = 0;\n    int incorrectCounter = 0;\n    \n   \n    Scanner input =  new Scanner(System.in);\n    \n    \n    System.out.println(&quot;Please enter the following information:&quot;);\n    System.out.print(&quot;First name: &quot;);\n        firstName = input.next();\n      \n    System.out.print(&quot;Last name: &quot;);\n        lastName = input.next();\n        \n    System.out.print(&quot;Your Major: &quot;);\n        major = input.next();\n        \n    System.out.print(&quot;College Level(Freshman, Sophmore, Junior, Senior): &quot;);\n        level = input.next();\n    System.out.println();\n        \n  \n        \n  \n  \n</code></pre>\n<p>//A string Array of 20 questions to be passed to the method\nString[] questions = new String[20];</p>\n<pre><code>  questions[0] = &quot;True/False: Cost is a potential disadvantage of teamwork?&quot;;\n  questions[1] = &quot;Ability is NOT a major aspect of culture that affects. True or False&quot;\n          + &quot; communication.&quot;;\n  questions[2] = &quot;Which one is NOT a common technology used in meetings? \\n&quot;\n          + &quot;A. Workgroup messaging\\n&quot;\n          + &quot;B. Cellphones\\n&quot;\n          + &quot;C. Teleconferencing\\n&quot;\n          + &quot;D. Videoconferencing&quot;;\n  questions[3] = &quot;What is the first step in the listening process?\\n&quot;\n          + &quot;A. Evaluating\\n&quot;\n          + &quot;B. Remembering\\n&quot;\n          + &quot;C. Responding\\n&quot;\n          + &quot;D. Receiving\\n&quot;\n          + &quot;E. Decoding&quot;;\n  questions[4] = &quot;______ is the process of transferring information and &quot;\n          + &quot;meaning betweem senders and receivers using one or more&quot;\n          + &quot;written, oral, visual, or digital media. &quot;;\n  questions[5] = &quot;______ are the accepted principles of conduct that govern&quot;\n          + &quot;behavior within a society. &quot;;\n  questions[6] = &quot;The listening process involves how many steps?&quot;;\n  questions[7] =&quot;iTranslate translates more than __ languages and features &quot;\n          + &quot;voice input and output.&quot;;\n  questions[8] = &quot;What is 1/4 (one-fourth) in decimal form?&quot;;\n  questions[9] = &quot;What is the normal temperature for an adult, in `F?&quot;;\n  questions[10] =  &quot;A kite is stuck in the branches of a tree. If the &quot;\n  + &quot;kite's 90 foot string makes an angle of 22 degrees to the ground,&quot;\n  + &quot;calculate the distance in feet between the kite and the ground.&quot;;\n  questions[11] = &quot;If y=cos x, then what is the maximum value of y?&quot;;\n  questions[12] = &quot;What is 6^3&quot;;\n  questions[13] = &quot;What is 3^6?&quot;;\n  questions[14] = &quot;Round 672.4 to the nearest whole number.&quot;;\n  questions[15] = &quot; Round 14.6 to the nearest whole number.&quot;;\n  questions[16] = &quot;What is the max value of 15 32 10 99 87&quot;;\n  questions[17] = &quot;What is the min value of 15 32 10 99 87&quot;;\n  questions[18] = &quot;Groupthink occurs when peer preasure causes individual &quot;\n          + &quot;team members to withhold contrary _____ and to go along with &quot;\n          + &quot;decisions they don't really believe in. &quot;;\n  questions[19] = &quot;Most people want to avoid letting others down, and &quot;\n          + &quot;participating in teams creates a built-in sense of _______&quot;\n          + &quot;to others. &quot;;\n  \n  \n  returning(questions, correctCounter, incorrectCounter);\n  \n  \n   //Method call for TESTREPORT      \n  report(firstName, lastName, major, level, correctCounter, incorrectCounter); \n \n      \n}//Main end\n\n\n\n\n\n\npublic static double returning(String[] questions, int correctCounter, int incorrectCounter){//Beginning RETURN method start\n    \n    Scanner input =  new Scanner(System.in);\n    \n    //Answers to the 20 questions stored in variables\n    String answer0 = &quot;True&quot;; //Boolean answer\n    String answer1 = &quot;False&quot;;//Boolean answer\n    char answer2 = 'B';//char answer\n    char answer3 = 'D';//char answer\n    String answer4 = &quot;Communication&quot;;//fill in the answer\n    String answer5 = &quot;Ethics&quot;;//fill in the answer\n    int answer6 = 5; //int answer\n    int answer7 = 80;//int answer\n    double answer8 = .25;//double answer\n    double answer9 = 98.6;//double answer\n    double answer10 = 33.71; //trigonometric question\n    double answer11 = 1; //trigonometric question\n    int answer12 = 216; //exponent question\n    int answer13 = 729; //exponent question\n    int answer14 = 672; //rounding question\n    int answer15 = 15; //rounding question\n    double answer16 = 99; //max value question\n    double answer17 = 10; //min value question\n    String answer18 = &quot;opinions&quot;; //free question\n    String answer19 = &quot;accountability&quot;;//free question\n    \n    \n  \n   \n   int correctCount = 0;\n   int incorrectCount =0;\n   \n   \n   for(int i=0; i&lt;10; i++){//Beginning FOR loop for switch statement\n     correctCount++;\n     incorrectCount++;\n     \n        //Random Number generator \n        int randomNumber = 0 + (int)(Math.random() * 20);\n       \n      \n        //Switch statement\n        switch (randomNumber){\n            case 0 : System.out.println(questions[0]); \n                    String q0 = input.nextLine();\n                    if (q0.equalsIgnoreCase(answer0)){\n                     correctCount++;\n                    }\n                    else {\n                        incorrectCount++;\n                    }\n                    break;\n            case 1 : System.out.println(questions[1]);\n                    String q1 = input.nextLine();\n                    if (q1.equalsIgnoreCase(answer1)){\n                       correctCount++;\n                    }\n                    else {\n                        incorrectCount++;\n                    }\n                    break;\n            case 2 : System.out.println(questions[2]);\n                    String q2 = input.nextLine();\n                    if (q2.equals(answer2)){\n                        correctCount++;\n                    }\n                    else {\n                        incorrectCount++;\n                    }\n                    break;\n            case 3 : System.out.println(questions[3]);\n                    String q3 = input.nextLine();\n                    if (q3.equals(answer3)){\n                        correctCount++;\n                    }\n                    else {\n                        incorrectCount++;\n                    }\n                    break;\n            case 4 : System.out.println(questions[4]);\n                     String q4 = input.nextLine();\n                     if (q4.equalsIgnoreCase(answer4)){\n                        correctCount++;\n                    }\n                     else {\n                         incorrectCount++; \n                    }\n                    break;\n            case 5 : System.out.println(questions[5]);\n                     String q5 = input.nextLine();\n                     if (q5.equalsIgnoreCase(answer5)){\n                         correctCount++;\n                     }\n                     else {\n                         incorrectCount++;\n                     }\n                     break;\n            case 6 : System.out.println(questions[6]);\n                     String q6 = input.nextLine();\n                     if (q6.equals(answer6)) {\n                         correctCount++;\n                     }\n                     else {\n                         incorrectCount++;\n                     }\n                     break;\n            case 7 : System.out.println(questions[7]);\n                     String q7 = input.nextLine();\n                     if (q7.equals(answer7)) {\n                         correctCount++;\n                     }\n                     else {\n                         incorrectCount++;\n                     }  \n                     break;\n            case 8 : System.out.println(questions[8]);\n                     String q8 = input.nextLine();\n                     if (q8.equals(answer8)) {\n                         correctCount++;\n                     } \n                     else {\n                         incorrectCount++;\n                         \n                     }\n                     break;\n            case 9 : System.out.println(questions[9]);\n                     String q9 = input.nextLine();\n                     if (q9.equals(answer9)) {\n                         correctCount++;\n                     }\n                     else {\n                         incorrectCount++;\n                     }\n                     break;\n            case 10: System.out.println(questions[10]);\n                     String q10 = input.nextLine();\n                     if (q10.equals(answer10)) {\n                         correctCount++;\n                     }                \n                     else {\n                         incorrectCount++;\n                     }  \n                    break;\n            case 11: System.out.println(questions[11]);\n                     String q11 = input.nextLine();\n                     if (q11.equals(answer11)) {\n                            correctCount++;\n                     }                \n                     else {\n                         incorrectCount++;\n                     }  \n                    break;\n            case 12: System.out.println(questions[12]);\n                     String q12 = input.nextLine();\n                     if (q12.equals(answer12)){\n                         correctCount++;\n                     }                \n                     else {\n                         incorrectCount++;\n                     }  \n                    break;\n            case 13: System.out.println(questions[13]);\n                     String q13 = input.nextLine();\n                     if (q13.equals(answer13)) {\n                            correctCount++;\n                     }                \n                     else {\n                         incorrectCount++;\n                     }  \n                     break;\n             case 14: System.out.println(questions[14]);\n                     String q14 = input.nextLine();\n                     if (q14.equals(answer14)){\n                         correctCount++;\n                     }                \n                     else {\n                         incorrectCount++;\n                     }  \n                    break;\n            case 15: System.out.println(questions[15]);\n                     String q15 = input.nextLine();\n                     if (q15.equals(answer15)) {\n                            correctCount++;\n                     }                \n                     else {\n                         incorrectCount++;\n                     }  \n                    break;\n            case 16: System.out.println(questions[16]);\n                     String q16 = input.nextLine();\n                     if (q16.equals(answer16)){\n                         correctCount++;\n                     }                \n                     else {\n                         incorrectCount++;\n                     }  \n                    break;\n            case 17: System.out.println(questions[17]);\n                     String q17 = input.nextLine();\n                     if (q17.equals(answer17)) {\n                            correctCount++;\n                     }                \n                     else {\n                         incorrectCount++;\n                     }  \n                    break;\n            case 18: System.out.println(questions[18]);\n                     String q18 = input.nextLine();\n                     if (q18.equalsIgnoreCase(answer18)){\n                         correctCount++;\n                     }                \n                     else {\n                         incorrectCount++;\n                     }  \n                    break;        \n             case 19: System.out.println(questions[19]);\n                     String q19 = input.nextLine();\n                     if (q19.equalsIgnoreCase(answer19)) {\n                            correctCount++;\n                     }                \n                     else {\n                         incorrectCount++;\n                     }  \n                    break;\n             default : System.out.println(&quot;Error&quot;);\n                    \n        }//End SWITCH statment\n        \n    }//End FOR loop for switch statement\n   \n   \nreturn correctCount + incorrectCount;\n\n\n   \n\n}//End RETURN method braces\n\n\n\n\npublic static void report(String firstName, String lastName, String major, \n        String level, int correctCount, int incorrectCount){//Beginning TESTREPORT method braces\n    \n    double percentCorrect = (correctCount/10);\n    \n    \n    \n    \n    //print students input information, number of correct and incorrect +\n    //questions and %correct\n    System.out.println(&quot;Name: &quot;+ firstName + &quot; &quot; + lastName);\n    System.out.println(&quot;Major: &quot; + major);\n    System.out.println(&quot;College Level: &quot; + level);\n    System.out.println(&quot;Questions answered correctly: &quot; + correctCount);\n    System.out.println(&quot;Questions answered incorrectly: &quot; + incorrectCount);\n    System.out.println(&quot;Percentage correct: &quot; + percentCorrect);\n\n\n}//End TESTREPORT method braces  \n</code></pre>\n<p>}//End CLASS method braces</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":5,"creation_date":1411098400,"post_id":25926032,"comment_id":40585075,"body_markdown":"Otherwise serializing would be by default, which would be recursive, and for a large list would easily blow the stack.","body":"Otherwise serializing would be by default, which would be recursive, and for a large list would easily blow the stack."}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1411098272,"creation_date":1411098272,"answer_id":25926032,"question_id":25926012,"body_markdown":"You&#39;ll notice `LinkedList` has `writeObject` and `readObject` methods. These write/read the size of the list and write/read each object in the list.\r\n\r\nNote that these methods (but also the fields) are private so the implementation may change. Don&#39;t depend on it. Depend on the interfaces.","title":"As all the member variables of java LinkedList is transient, what will be the use of implementing Serializable?","body":"<p>You'll notice <code>LinkedList</code> has <code>writeObject</code> and <code>readObject</code> methods. These write/read the size of the list and write/read each object in the list.</p>\n\n<p>Note that these methods (but also the fields) are private so the implementation may change. Don't depend on it. Depend on the interfaces.</p>\n"},{"tags":[],"owner":{"account_id":1363814,"reputation":5827,"user_id":1300669,"accept_rate":91,"display_name":"RP-"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665850277,"creation_date":1411098298,"answer_id":25926035,"question_id":25926012,"body_markdown":"Have a look at `readObject()` and `writeObject()`. It will serialize entries of the List not the list itself, and reconstructs it from the entries.","title":"As all the member variables of java LinkedList is transient, what will be the use of implementing Serializable?","body":"<p>Have a look at <code>readObject()</code> and <code>writeObject()</code>. It will serialize entries of the List not the list itself, and reconstructs it from the entries.</p>\n"}],"owner":{"account_id":4295089,"reputation":138,"user_id":3510364,"display_name":"user3510364"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1665850277,"creation_date":1411098085,"question_id":25926012,"body_markdown":"1) In LinkedList implementation all the 3 member varaibles size, first, last are transient, then what is the use of implementing serializable? \r\n\r\n2) What will be persisted when we try to serialize a LinkedList?\r\n","title":"As all the member variables of java LinkedList is transient, what will be the use of implementing Serializable?","body":"<p>1) In LinkedList implementation all the 3 member varaibles size, first, last are transient, then what is the use of implementing serializable? </p>\n\n<p>2) What will be persisted when we try to serialize a LinkedList?</p>\n"},{"tags":["java","android","dagger-2"],"comments":[{"owner":{"account_id":2060791,"reputation":34122,"user_id":1837367,"accept_rate":100,"display_name":"David Medenjak"},"score":0,"creation_date":1503125417,"post_id":45766360,"comment_id":78495382,"body_markdown":"There&#39;s a _lot_ of different ways to setup Dagger, how to use components, etc. We can&#39;t do this for you and a minimal sample highlighting _how_ would probably be useless to you. You should try to read up on the official guide, some tutorials, and only ask here when you encounter a specific problem or error that you can&#39;t fix.","body":"There&#39;s a <i>lot</i> of different ways to setup Dagger, how to use components, etc. We can&#39;t do this for you and a minimal sample highlighting <i>how</i> would probably be useless to you. You should try to read up on the official guide, some tutorials, and only ask here when you encounter a specific problem or error that you can&#39;t fix."}],"answers":[{"tags":[],"owner":{"account_id":1419650,"reputation":1621,"user_id":1344550,"accept_rate":51,"display_name":"linker85"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665850138,"creation_date":1503280082,"answer_id":45788394,"question_id":45766360,"body_markdown":"Here is how you can use exoPlayer with dagger2, you are welcomed:\r\n\r\nModule:\r\n\r\n    import android.content.Context;\r\n    import android.net.Uri;\r\n    import android.os.Handler;\r\n    \r\n    import com.google.android.exoplayer2.DefaultLoadControl;\r\n    import com.google.android.exoplayer2.ExoPlayerFactory;\r\n    import com.google.android.exoplayer2.LoadControl;\r\n    import com.google.android.exoplayer2.SimpleExoPlayer;\r\n    import com.google.android.exoplayer2.extractor.DefaultExtractorsFactory;\r\n    import com.google.android.exoplayer2.source.ExtractorMediaSource;\r\n    import com.google.android.exoplayer2.source.MediaSource;\r\n    import com.google.android.exoplayer2.trackselection.AdaptiveVideoTrackSelection;\r\n    import com.google.android.exoplayer2.trackselection.DefaultTrackSelector;\r\n    import com.google.android.exoplayer2.trackselection.TrackSelection;\r\n    import com.google.android.exoplayer2.trackselection.TrackSelector;\r\n    import com.google.android.exoplayer2.upstream.DataSource;\r\n    import com.google.android.exoplayer2.upstream.DefaultBandwidthMeter;\r\n    import com.google.android.exoplayer2.upstream.DefaultDataSourceFactory;\r\n    import com.google.android.exoplayer2.upstream.DefaultHttpDataSourceFactory;\r\n    import com.google.android.exoplayer2.upstream.HttpDataSource;\r\n    import com.google.android.exoplayer2.util.Util;\r\n    \r\n    import dagger.Module;\r\n    import dagger.Provides;\r\n    \r\n    @Module\r\n    public class ExoPlayerModule {\r\n        private final Context context;\r\n        private String videoUri;\r\n    \r\n        public ExoPlayerModule (Context context, String videoUri) {\r\n            this.context  = context;\r\n            this.videoUri = videoUri;\r\n        }\r\n    \r\n        @Provides //scope is not necessary for parameters stored within the module\r\n        public Context context() {\r\n            return context;\r\n        }\r\n    \r\n        @Provides\r\n        public Handler provideMoviesClient() {\r\n            Handler handler = new Handler();\r\n            return handler;\r\n        }\r\n    \r\n        @Provides\r\n        public DefaultBandwidthMeter providesDefaultBandwidthMeter() {\r\n            DefaultBandwidthMeter bandwidthMeter = new DefaultBandwidthMeter();\r\n            return bandwidthMeter;\r\n        }\r\n    \r\n        // Create player\r\n    \r\n        @Provides\r\n        public TrackSelection.Factory providesVideoTrackSelection(DefaultBandwidthMeter bandwidthMeter) {\r\n            TrackSelection.Factory videoTrackSelectionFactory = new AdaptiveVideoTrackSelection.Factory(bandwidthMeter);\r\n            return videoTrackSelectionFactory;\r\n        }\r\n    \r\n        @Provides\r\n        public TrackSelector providesTrackSelector(TrackSelection.Factory videoTrackSelectionFactory) {\r\n            TrackSelector trackSelector = new DefaultTrackSelector(videoTrackSelectionFactory);\r\n            return trackSelector;\r\n        }\r\n    \r\n        @Provides\r\n        public LoadControl providesLoadControl() {\r\n            LoadControl loadControl = new DefaultLoadControl();\r\n            return loadControl;\r\n        }\r\n    \r\n        @Provides\r\n        public SimpleExoPlayer providesExoPlayer(\r\n                Context context, TrackSelector trackSelector, LoadControl loadControl) {\r\n            SimpleExoPlayer player = ExoPlayerFactory.newSimpleInstance(context, trackSelector, loadControl);\r\n            return player;\r\n        }\r\n    \r\n        // Prepare player\r\n        @Provides\r\n        public String providesUserAgent(Context context) {\r\n            return Util.getUserAgent(context, &quot;AppName&quot;);\r\n        }\r\n    \r\n        @Provides\r\n        public HttpDataSource.Factory providesHttpDataSource(\r\n                String userAgent, DefaultBandwidthMeter bandwidthMeter) {\r\n            return new DefaultHttpDataSourceFactory(userAgent, bandwidthMeter);\r\n        }\r\n    \r\n        @Provides\r\n        public DataSource.Factory providesDataSource(\r\n                Context context, DefaultBandwidthMeter bandwidthMeter, HttpDataSource.Factory httpDataSource) {\r\n            return new DefaultDataSourceFactory(context, bandwidthMeter, httpDataSource);\r\n        }\r\n    \r\n        @Provides\r\n        public MediaSource providesMediaSource(DataSource.Factory dataSourceFactory, Handler mainHandler) {\r\n            Uri uri = Uri.parse(videoUri);\r\n            return new ExtractorMediaSource(uri, dataSourceFactory, new DefaultExtractorsFactory(), mainHandler, null);\r\n        }\r\n    \r\n    }\r\n\r\nHere is the component:\r\n\r\n    @Module\r\n    public class ApplicationModule {\r\n        private MvvmApplication application;\r\n    \r\n        public ApplicationModule(MvvmApplication application) {\r\n            this.application = application;\r\n        }\r\n    }\r\n\r\nAnd finally the activity:\r\n\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    \r\n    import com.example.movies.R;\r\n    import com.example.movies.dependencyinjection.DaggerPlayerActivityComponent;\r\n    import com.example.movies.dependencyinjection.PlayerActivityComponent;\r\n    import com.example.movies.dependencyinjection.module.ExoPlayerModule;\r\n    import com.google.android.exoplayer2.LoadControl;\r\n    import com.google.android.exoplayer2.SimpleExoPlayer;\r\n    import com.google.android.exoplayer2.source.MediaSource;\r\n    import com.google.android.exoplayer2.trackselection.TrackSelection;\r\n    import com.google.android.exoplayer2.trackselection.TrackSelector;\r\n    import com.google.android.exoplayer2.ui.SimpleExoPlayerView;\r\n    import com.google.android.exoplayer2.upstream.DataSource;\r\n    import com.google.android.exoplayer2.upstream.DefaultBandwidthMeter;\r\n    import com.google.android.exoplayer2.upstream.HttpDataSource;\r\n    \r\n    import org.androidannotations.annotations.AfterViews;\r\n    import org.androidannotations.annotations.EActivity;\r\n    import org.androidannotations.annotations.ViewById;\r\n    \r\n    import javax.inject.Inject;\r\n    \r\n    @EActivity(R.layout.activity_player)\r\n    public class PlayerActivity extends AppCompatActivity {\r\n    \r\n        private PlayerActivityComponent component;\r\n    \r\n        @Inject\r\n        Handler handler;\r\n    \r\n        @Inject\r\n        DefaultBandwidthMeter bandwidthMeter;\r\n    \r\n        @ViewById(R.id.mainSimpleExoPlayer)\r\n        SimpleExoPlayerView simpleExoPlayerView;\r\n    \r\n        // Create player\r\n        @Inject\r\n        TrackSelection.Factory videoTrackSelectionFactory;\r\n        @Inject\r\n        TrackSelector trackSelector;\r\n        @Inject\r\n        LoadControl loadControl;\r\n        @Inject\r\n        SimpleExoPlayer player;\r\n    \r\n        // Prepare player\r\n        @Inject\r\n        String userAgent;\r\n        @Inject\r\n        HttpDataSource.Factory httpDataSourceFactory;\r\n        @Inject\r\n        DataSource.Factory dataSourceFactory;\r\n        @Inject\r\n        MediaSource videoSource;\r\n    \r\n        // Not injectable\r\n        public Uri uri;\r\n    \r\n        private static final String VIDEO_URI =\r\n                &quot;http://techslides.com/demos/sample-videos/small.mp4&quot;;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            component =\r\n                    DaggerPlayerActivityComponent\r\n                            .builder()\r\n                            .exoPlayerModule(new ExoPlayerModule(PlayerActivity.this, VIDEO_URI))\r\n                            .build();\r\n    \r\n            component.inject(this);\r\n        }\r\n    \r\n        @AfterViews\r\n        void init() {\r\n            attachPlayerView();\r\n            preparePlayer();\r\n        }\r\n    \r\n        // Set player to SimpleExoPlayerView\r\n        public void attachPlayerView() {\r\n            simpleExoPlayerView.setPlayer(player);\r\n        }\r\n    \r\n        public void preparePlayer() {\r\n            player.prepare(videoSource);\r\n        }\r\n    \r\n        // Activity onStop, player must be release because of memory saving\r\n        @Override\r\n        public void onStop(){\r\n            super.onStop();\r\n            player.release();\r\n        }\r\n    }","title":"How to use Dagger2 to inject exoPlayer","body":"<p>Here is how you can use exoPlayer with dagger2, you are welcomed:</p>\n<p>Module:</p>\n<pre><code>import android.content.Context;\nimport android.net.Uri;\nimport android.os.Handler;\n\nimport com.google.android.exoplayer2.DefaultLoadControl;\nimport com.google.android.exoplayer2.ExoPlayerFactory;\nimport com.google.android.exoplayer2.LoadControl;\nimport com.google.android.exoplayer2.SimpleExoPlayer;\nimport com.google.android.exoplayer2.extractor.DefaultExtractorsFactory;\nimport com.google.android.exoplayer2.source.ExtractorMediaSource;\nimport com.google.android.exoplayer2.source.MediaSource;\nimport com.google.android.exoplayer2.trackselection.AdaptiveVideoTrackSelection;\nimport com.google.android.exoplayer2.trackselection.DefaultTrackSelector;\nimport com.google.android.exoplayer2.trackselection.TrackSelection;\nimport com.google.android.exoplayer2.trackselection.TrackSelector;\nimport com.google.android.exoplayer2.upstream.DataSource;\nimport com.google.android.exoplayer2.upstream.DefaultBandwidthMeter;\nimport com.google.android.exoplayer2.upstream.DefaultDataSourceFactory;\nimport com.google.android.exoplayer2.upstream.DefaultHttpDataSourceFactory;\nimport com.google.android.exoplayer2.upstream.HttpDataSource;\nimport com.google.android.exoplayer2.util.Util;\n\nimport dagger.Module;\nimport dagger.Provides;\n\n@Module\npublic class ExoPlayerModule {\n    private final Context context;\n    private String videoUri;\n\n    public ExoPlayerModule (Context context, String videoUri) {\n        this.context  = context;\n        this.videoUri = videoUri;\n    }\n\n    @Provides //scope is not necessary for parameters stored within the module\n    public Context context() {\n        return context;\n    }\n\n    @Provides\n    public Handler provideMoviesClient() {\n        Handler handler = new Handler();\n        return handler;\n    }\n\n    @Provides\n    public DefaultBandwidthMeter providesDefaultBandwidthMeter() {\n        DefaultBandwidthMeter bandwidthMeter = new DefaultBandwidthMeter();\n        return bandwidthMeter;\n    }\n\n    // Create player\n\n    @Provides\n    public TrackSelection.Factory providesVideoTrackSelection(DefaultBandwidthMeter bandwidthMeter) {\n        TrackSelection.Factory videoTrackSelectionFactory = new AdaptiveVideoTrackSelection.Factory(bandwidthMeter);\n        return videoTrackSelectionFactory;\n    }\n\n    @Provides\n    public TrackSelector providesTrackSelector(TrackSelection.Factory videoTrackSelectionFactory) {\n        TrackSelector trackSelector = new DefaultTrackSelector(videoTrackSelectionFactory);\n        return trackSelector;\n    }\n\n    @Provides\n    public LoadControl providesLoadControl() {\n        LoadControl loadControl = new DefaultLoadControl();\n        return loadControl;\n    }\n\n    @Provides\n    public SimpleExoPlayer providesExoPlayer(\n            Context context, TrackSelector trackSelector, LoadControl loadControl) {\n        SimpleExoPlayer player = ExoPlayerFactory.newSimpleInstance(context, trackSelector, loadControl);\n        return player;\n    }\n\n    // Prepare player\n    @Provides\n    public String providesUserAgent(Context context) {\n        return Util.getUserAgent(context, &quot;AppName&quot;);\n    }\n\n    @Provides\n    public HttpDataSource.Factory providesHttpDataSource(\n            String userAgent, DefaultBandwidthMeter bandwidthMeter) {\n        return new DefaultHttpDataSourceFactory(userAgent, bandwidthMeter);\n    }\n\n    @Provides\n    public DataSource.Factory providesDataSource(\n            Context context, DefaultBandwidthMeter bandwidthMeter, HttpDataSource.Factory httpDataSource) {\n        return new DefaultDataSourceFactory(context, bandwidthMeter, httpDataSource);\n    }\n\n    @Provides\n    public MediaSource providesMediaSource(DataSource.Factory dataSourceFactory, Handler mainHandler) {\n        Uri uri = Uri.parse(videoUri);\n        return new ExtractorMediaSource(uri, dataSourceFactory, new DefaultExtractorsFactory(), mainHandler, null);\n    }\n\n}\n</code></pre>\n<p>Here is the component:</p>\n<pre><code>@Module\npublic class ApplicationModule {\n    private MvvmApplication application;\n\n    public ApplicationModule(MvvmApplication application) {\n        this.application = application;\n    }\n}\n</code></pre>\n<p>And finally the activity:</p>\n<pre><code>import android.net.Uri;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.support.v7.app.AppCompatActivity;\n\nimport com.example.movies.R;\nimport com.example.movies.dependencyinjection.DaggerPlayerActivityComponent;\nimport com.example.movies.dependencyinjection.PlayerActivityComponent;\nimport com.example.movies.dependencyinjection.module.ExoPlayerModule;\nimport com.google.android.exoplayer2.LoadControl;\nimport com.google.android.exoplayer2.SimpleExoPlayer;\nimport com.google.android.exoplayer2.source.MediaSource;\nimport com.google.android.exoplayer2.trackselection.TrackSelection;\nimport com.google.android.exoplayer2.trackselection.TrackSelector;\nimport com.google.android.exoplayer2.ui.SimpleExoPlayerView;\nimport com.google.android.exoplayer2.upstream.DataSource;\nimport com.google.android.exoplayer2.upstream.DefaultBandwidthMeter;\nimport com.google.android.exoplayer2.upstream.HttpDataSource;\n\nimport org.androidannotations.annotations.AfterViews;\nimport org.androidannotations.annotations.EActivity;\nimport org.androidannotations.annotations.ViewById;\n\nimport javax.inject.Inject;\n\n@EActivity(R.layout.activity_player)\npublic class PlayerActivity extends AppCompatActivity {\n\n    private PlayerActivityComponent component;\n\n    @Inject\n    Handler handler;\n\n    @Inject\n    DefaultBandwidthMeter bandwidthMeter;\n\n    @ViewById(R.id.mainSimpleExoPlayer)\n    SimpleExoPlayerView simpleExoPlayerView;\n\n    // Create player\n    @Inject\n    TrackSelection.Factory videoTrackSelectionFactory;\n    @Inject\n    TrackSelector trackSelector;\n    @Inject\n    LoadControl loadControl;\n    @Inject\n    SimpleExoPlayer player;\n\n    // Prepare player\n    @Inject\n    String userAgent;\n    @Inject\n    HttpDataSource.Factory httpDataSourceFactory;\n    @Inject\n    DataSource.Factory dataSourceFactory;\n    @Inject\n    MediaSource videoSource;\n\n    // Not injectable\n    public Uri uri;\n\n    private static final String VIDEO_URI =\n            &quot;http://techslides.com/demos/sample-videos/small.mp4&quot;;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        component =\n                DaggerPlayerActivityComponent\n                        .builder()\n                        .exoPlayerModule(new ExoPlayerModule(PlayerActivity.this, VIDEO_URI))\n                        .build();\n\n        component.inject(this);\n    }\n\n    @AfterViews\n    void init() {\n        attachPlayerView();\n        preparePlayer();\n    }\n\n    // Set player to SimpleExoPlayerView\n    public void attachPlayerView() {\n        simpleExoPlayerView.setPlayer(player);\n    }\n\n    public void preparePlayer() {\n        player.prepare(videoSource);\n    }\n\n    // Activity onStop, player must be release because of memory saving\n    @Override\n    public void onStop(){\n        super.onStop();\n        player.release();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1419650,"reputation":1621,"user_id":1344550,"accept_rate":51,"display_name":"linker85"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":831,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1665850138,"creation_date":1503100244,"question_id":45766360,"body_markdown":"I got an android app which I want to implement the exoplayer with dagger2.\r\nCurrently I&#180;m following this example for exoPlayer:\r\n[Simple exoPlayer example][1]\r\n\r\n\r\n  [1]: https://github.com/beto036/ExoplayerExample/blob/master/app/src/main/java/com/example/admin/exoplayerexample/MainActivity.java\r\n\r\nFor \r\n\r\n    private SimpleExoPlayerView simpleExoPlayerView;\r\n    simpleExoPlayerView = (SimpleExoPlayerView)findViewById(R.id.mainSimpleExoPlayer);\r\n\r\nI plan on using ButterKnife.\r\n\r\nFor\r\n\r\n    private SimpleExoPlayer player;\r\n    player = ExoPlayerFactory.newSimpleInstance(this,trackSelector,loadControl);\r\n\r\n    private TrackSelector trackSelector;\r\n    trackSelector = new DefaultTrackSelector(videoTrackSelectionFactory);\r\n\r\n    private TrackSelection.Factory videoTrackSelectionFactory;\r\n    videoTrackSelectionFactory = new AdaptiveVideoTrackSelection.Factory(bandwidthMeter);\r\n\r\n    private DataSource.Factory dataSourceFactory;\r\n    dataSourceFactory = buildDataSourceFactory(bandwidthMeter);\r\n\r\n    private MediaSource videoSource;\r\n\r\n    videoSource = new ExtractorMediaSource(uri, dataSourceFactory, new DefaultExtractorsFactory(),mainHandler,null);\r\n\r\n    // Build Data Source Factory using DefaultBandwidthMeter and HttpDataSource.Factory\r\n    private DataSource.Factory buildDataSourceFactory(DefaultBandwidthMeter bandwidthMeter){\r\n        return new DefaultDataSourceFactory(this, bandwidthMeter, buildHttpDataSourceFactory(bandwidthMeter));\r\n    }\r\n\r\n    // Build Http Data Source Factory using DefaultBandwidthMeter\r\n    private HttpDataSource.Factory buildHttpDataSourceFactory(DefaultBandwidthMeter bandwidthMeter){\r\n        return new DefaultHttpDataSourceFactory(userAgent, bandwidthMeter);\r\n    }\r\n\r\nHow can I use Dagger to inject those variables into my activity?\r\nThanks in advance.\r\n\r\nGreetings","title":"How to use Dagger2 to inject exoPlayer","body":"<p>I got an android app which I want to implement the exoplayer with dagger2.\nCurrently I´m following this example for exoPlayer:\n<a href=\"https://github.com/beto036/ExoplayerExample/blob/master/app/src/main/java/com/example/admin/exoplayerexample/MainActivity.java\" rel=\"nofollow noreferrer\">Simple exoPlayer example</a></p>\n\n<p>For </p>\n\n<pre><code>private SimpleExoPlayerView simpleExoPlayerView;\nsimpleExoPlayerView = (SimpleExoPlayerView)findViewById(R.id.mainSimpleExoPlayer);\n</code></pre>\n\n<p>I plan on using ButterKnife.</p>\n\n<p>For</p>\n\n<pre><code>private SimpleExoPlayer player;\nplayer = ExoPlayerFactory.newSimpleInstance(this,trackSelector,loadControl);\n\nprivate TrackSelector trackSelector;\ntrackSelector = new DefaultTrackSelector(videoTrackSelectionFactory);\n\nprivate TrackSelection.Factory videoTrackSelectionFactory;\nvideoTrackSelectionFactory = new AdaptiveVideoTrackSelection.Factory(bandwidthMeter);\n\nprivate DataSource.Factory dataSourceFactory;\ndataSourceFactory = buildDataSourceFactory(bandwidthMeter);\n\nprivate MediaSource videoSource;\n\nvideoSource = new ExtractorMediaSource(uri, dataSourceFactory, new DefaultExtractorsFactory(),mainHandler,null);\n\n// Build Data Source Factory using DefaultBandwidthMeter and HttpDataSource.Factory\nprivate DataSource.Factory buildDataSourceFactory(DefaultBandwidthMeter bandwidthMeter){\n    return new DefaultDataSourceFactory(this, bandwidthMeter, buildHttpDataSourceFactory(bandwidthMeter));\n}\n\n// Build Http Data Source Factory using DefaultBandwidthMeter\nprivate HttpDataSource.Factory buildHttpDataSourceFactory(DefaultBandwidthMeter bandwidthMeter){\n    return new DefaultHttpDataSourceFactory(userAgent, bandwidthMeter);\n}\n</code></pre>\n\n<p>How can I use Dagger to inject those variables into my activity?\nThanks in advance.</p>\n\n<p>Greetings</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9264,"page":959,"page_size":100}
