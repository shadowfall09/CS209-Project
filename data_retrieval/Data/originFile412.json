{"items":[{"tags":["java","mocking","mockito"],"comments":[{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1684958820,"post_id":76326907,"comment_id":134595398,"body_markdown":"the method  senderHeaders.getHeaders(subject) is private. You can not mock it with mockito. If you want to mock it then use reflection or powermockito. Another option is to change private to protected or don&#39;t mock it and pass the real value which will not cause an exception(use subject which will pass all  getHeaders() method).","body":"the method  senderHeaders.getHeaders(subject) is private. You can not mock it with mockito. If you want to mock it then use reflection or powermockito. Another option is to change private to protected or don&#39;t mock it and pass the real value which will not cause an exception(use subject which will pass all  getHeaders() method)."},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1684964687,"post_id":76326907,"comment_id":134596357,"body_markdown":"that was a typo. Even when I set it as public, I get the same errors","body":"that was a typo. Even when I set it as public, I get the same errors"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1684982105,"post_id":76326907,"comment_id":134598094,"body_markdown":"I don&#39;t see where you create your `BSending` instance. Please create a minimal, runnable example which reproduces the problem.","body":"I don&#39;t see where you create your <code>BSending</code> instance. Please create a minimal, runnable example which reproduces the problem."},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1684983970,"post_id":76326907,"comment_id":134598216,"body_markdown":"I edited the `BSendingTest` to include it","body":"I edited the <code>BSendingTest</code> to include it"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1684984858,"post_id":76326907,"comment_id":134598299,"body_markdown":"I wouldn&#39;t expect `@InjectMocks` to pass `subject` to the constructor -- try creating your `BSending` instance explicitly.","body":"I wouldn&#39;t expect <code>@InjectMocks</code> to pass <code>subject</code> to the constructor -- try creating your <code>BSending</code> instance explicitly."},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1684985663,"post_id":76326907,"comment_id":134598368,"body_markdown":"I get the same error even creating the instance explicitly. I created another code that is hopefully easier to understand but gives similar error: https://pastebin.com/WmEMztaT","body":"I get the same error even creating the instance explicitly. I created another code that is hopefully easier to understand but gives similar error: <a href=\"https://pastebin.com/WmEMztaT\" rel=\"nofollow noreferrer\">pastebin.com/WmEMztaT</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1684986292,"post_id":76326907,"comment_id":134598436,"body_markdown":"Please create a minimal, *complete*, *runnable* example which reproduces the problem.","body":"Please create a minimal, <i>complete</i>, <i>runnable</i> example which reproduces the problem."},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1684991535,"post_id":76326907,"comment_id":134598914,"body_markdown":"I updated the pastebin so its minimal complete and runnable","body":"I updated the pastebin so its minimal complete and runnable"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1684992360,"post_id":76326907,"comment_id":134599008,"body_markdown":"That paste is 403 for me. And your code should be in your question, anyway.","body":"That paste is 403 for me. And your code should be in your question, anyway."},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1684993078,"post_id":76326907,"comment_id":134599088,"body_markdown":"I pasted the updated code in EDIT2","body":"I pasted the updated code in EDIT2"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1684993348,"post_id":76326907,"comment_id":134599134,"body_markdown":"See https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java/513839#513839","body":"See <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java/513839#513839\" title=\"how do i compare strings in java\">stackoverflow.com/questions/513832/&hellip;</a>"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1684993517,"post_id":76326907,"comment_id":134599156,"body_markdown":"`@InjectMocks` does not inject string instances. How would it know which string to use?","body":"<code>@InjectMocks</code> does not inject string instances. How would it know which string to use?"},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1684993797,"post_id":76326907,"comment_id":134599196,"body_markdown":"I updated it to use `equals()` instead of `==` in `printSenderLetters()` but I get the same error","body":"I updated it to use <code>equals()</code> instead of <code>==</code> in <code>printSenderLetters()</code> but I get the same error"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1684993855,"post_id":76326907,"comment_id":134599208,"body_markdown":"@user5739619 your new, updated code never uses `senderHeaders` (except for setting up the stubs). Where do you expect those method calls to happen? `Sender` is not using the headers, nor is `ATask`.","body":"@user5739619 your new, updated code never uses <code>senderHeaders</code> (except for setting up the stubs). Where do you expect those method calls to happen? <code>Sender</code> is not using the headers, nor is <code>ATask</code>."},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1684993984,"post_id":76326907,"comment_id":134599219,"body_markdown":"sorry that was a typo. Should be `senderPrint`. I updated the code","body":"sorry that was a typo. Should be <code>senderPrint</code>. I updated the code"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1684994159,"post_id":76326907,"comment_id":134599251,"body_markdown":"@user5739619 `sender` is a mock object. Mock objects don&#39;t have an implementation. `printSenderLetters` does nothing (has an empty implementation). The mock object doesn&#39;t even know that the real object depends on a `SenderPrinter`. So Mockito.verify is right in telling you that the methods never were invoked – they weren&#39;t. If you want to test integration of several components, use the real components and don&#39;t mock them (and then try to tell them to do the things the real components did)","body":"@user5739619 <code>sender</code> is a mock object. Mock objects don&#39;t have an implementation. <code>printSenderLetters</code> does nothing (has an empty implementation). The mock object doesn&#39;t even know that the real object depends on a <code>SenderPrinter</code>. So Mockito.verify is right in telling you that the methods never were invoked – they weren&#39;t. If you want to test integration of several components, use the real components and don&#39;t mock them (and then try to tell them to do the things the real components did)"},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1684997998,"post_id":76326907,"comment_id":134599869,"body_markdown":"It works if I set `sender`, `aTask`, `senderPrint` as spys. But how can I make it work while keeping them as mocks?","body":"It works if I set <code>sender</code>, <code>aTask</code>, <code>senderPrint</code> as spys. But how can I make it work while keeping them as mocks?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1685008680,"post_id":76326907,"comment_id":134602033,"body_markdown":"@user5739619 mocks, by definition, are _not_ your real classes. Mocks are bodyless and only do what you tell them. They don&#39;t have dependencies/collaborators and they do not call any other classes. Either you want to mock your collaborators or you want to use your real ones. If you are only interested in verification of method calls, `Mock.spy`/`@Spy` is the way to go. You can still stub/overwrite methods of a Mockito spy.","body":"@user5739619 mocks, by definition, are <i>not</i> your real classes. Mocks are bodyless and only do what you tell them. They don&#39;t have dependencies/collaborators and they do not call any other classes. Either you want to mock your collaborators or you want to use your real ones. If you are only interested in verification of method calls, <code>Mock.spy</code>/<code>@Spy</code> is the way to go. You can still stub/overwrite methods of a Mockito spy."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1685013163,"post_id":76326907,"comment_id":134602955,"body_markdown":"Additionally, your `captor` variable (in the last example) isn&#39;t used anywhere to capture anything. It is created, then its value is queried (which will be null).","body":"Additionally, your <code>captor</code> variable (in the last example) isn&#39;t used anywhere to capture anything. It is created, then its value is queried (which will be null)."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1685028096,"post_id":76326907,"comment_id":134606935,"body_markdown":"If you&#39;re writing a unit test of `BSending` with a mock `Sender`, why are you mocking `SenderHeaders`? `BSending` doesn&#39;t use it. There is no reason to mock it in `BSendingTest`.","body":"If you&#39;re writing a unit test of <code>BSending</code> with a mock <code>Sender</code>, why are you mocking <code>SenderHeaders</code>? <code>BSending</code> doesn&#39;t use it. There is no reason to mock it in <code>BSendingTest</code>."}],"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684993966,"creation_date":1684957261,"question_id":76326907,"body_markdown":"I have the following\r\n\r\n    public class SenderHeaders {\r\n        public Map&lt;String, Object&gt; getHeaders(String subject) {\r\n            Map&lt;String, Object&gt; headers = new HashMap&lt;&gt;();\r\n            ...\r\n            return headers;\r\n        }\r\n    }\r\n\r\n    public class Sender {\r\n      private SenderHeaders senderHeaders;\r\n\r\n      public Sender(SenderHeaders senderHeaders) {\r\n        this.senderHeaders = senderHeaders;\r\n      }\r\n\r\n      public void sendFirstAndSecondDocuments(ATask aTask, Optional&lt;ATask&gt; secondTask, String subject) {\r\n        Map&lt;String, Object&gt; headers = senderHeaders.getHeaders(subject);\r\n        sendDocument(new Document(aTask, headers));\r\n        if (secondTask.isPresent()) {\r\n            sendDocument(new Document(secondTask.get(), senderHeaders.getHeaders(subject)));\r\n        }\r\n      }\r\n\r\n\r\n      public void sendDocument(Document&lt;ATask&gt; Document) {\r\n            ...\r\n      }\r\n      ....\r\n    }\r\n\r\n\r\n    public class BSending {\r\n        ...\r\n        private final String subject;\r\n        ...\r\n        @Autowired\r\n        public BSending(Sender sender, AMapper aMapper, String subject) {\r\n            ...\r\n            this.subject = subject;\r\n        }\r\n\r\n        public void sendTask(CTask cTask) {\r\n            final var aTask = getATask(cTask);\r\n            final var secondTask = getSecondTask(cTask);\r\n\r\n            aSender.sendFirstAndSecondDocuments(aTask, secondTask, subject);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    public class BSendingTest {\r\n        @Mock private Sender aSender;\r\n        @Mock ATask aTask;\r\n        @Mock ATask secondTask;\r\n        @Mock Map&lt;String, Object&gt; headers;\r\n        static final String subject = &quot;subject&quot;;\r\n        @Mock private SenderHeaders senderHeaders;\r\n        @InjectMocks private BSending bSending;\r\n        ...\r\n\r\n\r\n        @Test\r\n        void test() {\r\n            ...\r\n            when(senderHeaders.getHeaders(subject)).thenReturn(headers);\r\n\r\n            doCallRealMethod().when(aSender).sendFirstAndSecondDocuments(aTask, Optional.empty(), subject);\r\n\r\n            ArgumentCaptor&lt;Document&lt;ATask&gt;&gt; documentCaptor = ArgumentCaptor.forClass(Document.class);\r\n            bSending.sendTask(cTask);\r\n\r\n            verify(aSender, times(1)).sendFirstAndSecondDocuments(aEvent, Optional.empty(), subject);\r\n\r\n            verify(aSender, times(1)).sendDocument(documentCaptor.capture());\r\n            final var actual = documentCaptor.getValue();\r\n            assertEquals(aTask, actual.get(0).getBody());\r\n            ..\r\n        }\r\n    }\r\n\r\nI got this error\r\n\r\n    strict stubbing argument mismatch\r\n    this invocation of &#39;sendFirstAndSecondDocuments&#39; method:\r\n    aSender.sendFirstAndSecondDocuments(\r\n    aEvent,\r\n    Optional.empty,\r\n    null)\r\n\r\n    has following stubbing(s) with different arguments:\r\n    aSender.sendFirstAndSecondDocuments(\r\n    aEvent,\r\n    Optional.empty,\r\n    &quot;subject&quot;)\r\n\r\nwhy is it being null when I passed in `subject`?\r\n\r\nI also noticed when I was debugging and hit `Map&lt;String, Object&gt; headers = senderHeaders.getHeaders(subject);` inside of \r\n`sendFirstAndSecondDocuments` I noticed it said `senderHeaders = &#39;this&#39; is not available`\r\n\r\nwhen I replace `subject` with `null` for the `doCallRealMethod` and `verify` for `sendFirstAndSecondDocuments`\r\nI then get\r\n\r\n    nullPointerException: cannot invoke getHeaders(String) because &lt;local5&gt;.senderHeaders is null\r\n\r\nI don&#39;t understand this because I already mocked `senderHeaders` and have `when(senderHeaders.getHeaders(subject)).thenReturn(headers);`\r\n\r\nCan I get help with this?\r\n\r\nEDIT:\r\nModified getHeaders() so its public but I still get the same errors\r\n\r\nEDIT2: \r\nI created another code that is hopefully easier to understand but gives similar error:\r\n\r\n\r\n    public class SenderPrint {\r\n        public void printTask(ATask aTask) {\r\n            System.out.println(&quot;printLetters: &quot; + aTask.getLetters());\r\n        }\r\n\r\n        public void confirmTask(ATask aTask) {\r\n            System.out.println(&quot;confirmLetters: &quot; + aTask.getLetters());\r\n        }\r\n    }\r\n\r\n    public class Sender {\r\n        private SenderPrint senderPrint;\r\n\r\n        public Sender(SenderPrint senderPrint) {\r\n            this.senderPrint = senderPrint;\r\n        }\r\n\r\n        public void printSenderLetters(ATask aTask) {\r\n            senderPrint.printTask(aTask);\r\n            senderPrint.confirmTask(aTask);\r\n            if (aTask.getLetters() == &quot;subject&quot;) {\r\n                senderPrint.printTask(aTask);\r\n            }\r\n        }\r\n    }\r\n\r\n    public class ATask {\r\n        private String letters;\r\n        public String getLetters() {\r\n            return this.letters;\r\n        }\r\n        public void setLetters(String letters) {\r\n            this.letters = letters;\r\n        }\r\n    }\r\n\r\n\r\n    public class BSending {\r\n        protected final Sender sender;\r\n\r\n        public BSending(Sender sender) {\r\n            this.sender = sender;\r\n        }\r\n\r\n        public void sendTask(ATask aTask) {\r\n            sender.printSenderLetters(aTask);\r\n        }\r\n\r\n    }\r\n\r\n    public class BSendingTest {\r\n        @Mock private Sender sender;\r\n        @Mock ATask aTask;\r\n        @Mock private senderPrint senderPrint;\r\n\r\n\r\n        @Test\r\n        void test() {\r\n            BSending bSending = new BSending(sender);\r\n            doCallRealMethod().when(senderPrint).printTask(aTask);\r\n            doCallRealMethod().when(senderPrint).confirmTask(aTask);\r\n            bSending.sendTask(aTask);\r\n            verify(sender, times(1)).printSenderLetters(aTask);\r\n            verify(senderPrint, times(1)).printTask(aTask);\r\n            verify(senderPrint, times(1)).confirmTask(aTask);\r\n            ArgumentCaptor&lt;ATask&gt; captor = ArgumentCaptor.forClass(ATask.class);\r\n            final var actual = captor.getValue();\r\n        }\r\n    }\r\n\r\nGives\r\n\r\n    wanted but not invoked\r\n    senderPrint.printTask(aTask)\r\n    actually there were zero interactions with this mock","title":"@Mock Object is null when called in another class","body":"<p>I have the following</p>\n<pre><code>public class SenderHeaders {\n    public Map&lt;String, Object&gt; getHeaders(String subject) {\n        Map&lt;String, Object&gt; headers = new HashMap&lt;&gt;();\n        ...\n        return headers;\n    }\n}\n\npublic class Sender {\n  private SenderHeaders senderHeaders;\n\n  public Sender(SenderHeaders senderHeaders) {\n    this.senderHeaders = senderHeaders;\n  }\n\n  public void sendFirstAndSecondDocuments(ATask aTask, Optional&lt;ATask&gt; secondTask, String subject) {\n    Map&lt;String, Object&gt; headers = senderHeaders.getHeaders(subject);\n    sendDocument(new Document(aTask, headers));\n    if (secondTask.isPresent()) {\n        sendDocument(new Document(secondTask.get(), senderHeaders.getHeaders(subject)));\n    }\n  }\n\n\n  public void sendDocument(Document&lt;ATask&gt; Document) {\n        ...\n  }\n  ....\n}\n\n\npublic class BSending {\n    ...\n    private final String subject;\n    ...\n    @Autowired\n    public BSending(Sender sender, AMapper aMapper, String subject) {\n        ...\n        this.subject = subject;\n    }\n\n    public void sendTask(CTask cTask) {\n        final var aTask = getATask(cTask);\n        final var secondTask = getSecondTask(cTask);\n\n        aSender.sendFirstAndSecondDocuments(aTask, secondTask, subject);\n    }\n\n\n}\n\npublic class BSendingTest {\n    @Mock private Sender aSender;\n    @Mock ATask aTask;\n    @Mock ATask secondTask;\n    @Mock Map&lt;String, Object&gt; headers;\n    static final String subject = &quot;subject&quot;;\n    @Mock private SenderHeaders senderHeaders;\n    @InjectMocks private BSending bSending;\n    ...\n\n\n    @Test\n    void test() {\n        ...\n        when(senderHeaders.getHeaders(subject)).thenReturn(headers);\n\n        doCallRealMethod().when(aSender).sendFirstAndSecondDocuments(aTask, Optional.empty(), subject);\n\n        ArgumentCaptor&lt;Document&lt;ATask&gt;&gt; documentCaptor = ArgumentCaptor.forClass(Document.class);\n        bSending.sendTask(cTask);\n\n        verify(aSender, times(1)).sendFirstAndSecondDocuments(aEvent, Optional.empty(), subject);\n\n        verify(aSender, times(1)).sendDocument(documentCaptor.capture());\n        final var actual = documentCaptor.getValue();\n        assertEquals(aTask, actual.get(0).getBody());\n        ..\n    }\n}\n</code></pre>\n<p>I got this error</p>\n<pre><code>strict stubbing argument mismatch\nthis invocation of 'sendFirstAndSecondDocuments' method:\naSender.sendFirstAndSecondDocuments(\naEvent,\nOptional.empty,\nnull)\n\nhas following stubbing(s) with different arguments:\naSender.sendFirstAndSecondDocuments(\naEvent,\nOptional.empty,\n&quot;subject&quot;)\n</code></pre>\n<p>why is it being null when I passed in <code>subject</code>?</p>\n<p>I also noticed when I was debugging and hit <code>Map&lt;String, Object&gt; headers = senderHeaders.getHeaders(subject);</code> inside of\n<code>sendFirstAndSecondDocuments</code> I noticed it said <code>senderHeaders = 'this' is not available</code></p>\n<p>when I replace <code>subject</code> with <code>null</code> for the <code>doCallRealMethod</code> and <code>verify</code> for <code>sendFirstAndSecondDocuments</code>\nI then get</p>\n<pre><code>nullPointerException: cannot invoke getHeaders(String) because &lt;local5&gt;.senderHeaders is null\n</code></pre>\n<p>I don't understand this because I already mocked <code>senderHeaders</code> and have <code>when(senderHeaders.getHeaders(subject)).thenReturn(headers);</code></p>\n<p>Can I get help with this?</p>\n<p>EDIT:\nModified getHeaders() so its public but I still get the same errors</p>\n<p>EDIT2:\nI created another code that is hopefully easier to understand but gives similar error:</p>\n<pre><code>public class SenderPrint {\n    public void printTask(ATask aTask) {\n        System.out.println(&quot;printLetters: &quot; + aTask.getLetters());\n    }\n\n    public void confirmTask(ATask aTask) {\n        System.out.println(&quot;confirmLetters: &quot; + aTask.getLetters());\n    }\n}\n\npublic class Sender {\n    private SenderPrint senderPrint;\n\n    public Sender(SenderPrint senderPrint) {\n        this.senderPrint = senderPrint;\n    }\n\n    public void printSenderLetters(ATask aTask) {\n        senderPrint.printTask(aTask);\n        senderPrint.confirmTask(aTask);\n        if (aTask.getLetters() == &quot;subject&quot;) {\n            senderPrint.printTask(aTask);\n        }\n    }\n}\n\npublic class ATask {\n    private String letters;\n    public String getLetters() {\n        return this.letters;\n    }\n    public void setLetters(String letters) {\n        this.letters = letters;\n    }\n}\n\n\npublic class BSending {\n    protected final Sender sender;\n\n    public BSending(Sender sender) {\n        this.sender = sender;\n    }\n\n    public void sendTask(ATask aTask) {\n        sender.printSenderLetters(aTask);\n    }\n\n}\n\npublic class BSendingTest {\n    @Mock private Sender sender;\n    @Mock ATask aTask;\n    @Mock private senderPrint senderPrint;\n\n\n    @Test\n    void test() {\n        BSending bSending = new BSending(sender);\n        doCallRealMethod().when(senderPrint).printTask(aTask);\n        doCallRealMethod().when(senderPrint).confirmTask(aTask);\n        bSending.sendTask(aTask);\n        verify(sender, times(1)).printSenderLetters(aTask);\n        verify(senderPrint, times(1)).printTask(aTask);\n        verify(senderPrint, times(1)).confirmTask(aTask);\n        ArgumentCaptor&lt;ATask&gt; captor = ArgumentCaptor.forClass(ATask.class);\n        final var actual = captor.getValue();\n    }\n}\n</code></pre>\n<p>Gives</p>\n<pre><code>wanted but not invoked\nsenderPrint.printTask(aTask)\nactually there were zero interactions with this mock\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1684993735,"post_id":76328981,"comment_id":134599184,"body_markdown":"Because non of the other `@Enable*` annotations included `@Configuration`. This one was the odd one out. So now it is aligned with all other `@Enable*` annotations again and you yourself need to add `@Configuration` to mark a configuration class.","body":"Because non of the other <code>@Enable*</code> annotations included <code>@Configuration</code>. This one was the odd one out. So now it is aligned with all other <code>@Enable*</code> annotations again and you yourself need to add <code>@Configuration</code> to mark a configuration class."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1684993955,"creation_date":1684993955,"answer_id":76329283,"question_id":76328981,"body_markdown":"Because non of the other `@Enable*` annotations included `@Configuration`. This one was the odd one out. So now it is aligned with all other `@Enable*` annotations again and you yourself need to add `@Configuration` to mark a configuration class.\r\n\r\nSee als [this issue][1] related to the remove containing the reason why. The [PR for this][2] contains the changes. \r\n\r\n[1]: https://github.com/spring-projects/spring-security/issues/6613\r\n[2]: https://github.com/spring-projects/spring-security/pull/11653","title":"Why @Configuration annotation is removed from @EnableWebSecurity class in Spring Security 6","body":"<p>Because non of the other <code>@Enable*</code> annotations included <code>@Configuration</code>. This one was the odd one out. So now it is aligned with all other <code>@Enable*</code> annotations again and you yourself need to add <code>@Configuration</code> to mark a configuration class.</p>\n<p>See als <a href=\"https://github.com/spring-projects/spring-security/issues/6613\" rel=\"noreferrer\">this issue</a> related to the remove containing the reason why. The <a href=\"https://github.com/spring-projects/spring-security/pull/11653\" rel=\"noreferrer\">PR for this</a> contains the changes.</p>\n"}],"owner":{"account_id":8987085,"reputation":361,"user_id":6700319,"display_name":"Isuru Perera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76329283,"answer_count":1,"score":0,"last_activity_date":1684993955,"creation_date":1684989599,"question_id":76328981,"body_markdown":"I have recently migrated my Spring Boot application from `Spring Security 5` to `Spring Security 6`.\r\nUsually, we use the `@EnableWebSecurity` annotation in the configuration class to enable web security. An interesting thing I have noticed in Spring Security 6 is they have removed the @Configuration annotation from the @EnableWebSecurity class. \r\n\r\nI&#39;ve added the source code for the @EnableWebSecurity from [Spring Security 5][1] and [Spring Security 6][2] for ease of reference.\r\n\r\n    // Spring Security 5\r\n    @Retention(RUNTIME)\r\n    @Target(TYPE)\r\n    @Documented\r\n    @Import({WebSecurityConfiguration.class,org.springframework.security.config.annotation.web.configuration.SpringWebMvcImportSelector.class,org.springframework.security.config.annotation.web.configuration.OAuth2ImportSelector.class,org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.class})\r\n    @EnableGlobalAuthentication\r\n    @Configuration\r\n    public @interface EnableWebSecurity\r\n\r\n    // Spring Security 6\r\n    @Retention(RUNTIME)\r\n    @Target(TYPE)\r\n    @Documented\r\n    @Import({WebSecurityConfiguration.class,org.springframework.security.config.annotation.web.configuration.SpringWebMvcImportSelector.class,org.springframework.security.config.annotation.web.configuration.OAuth2ImportSelector.class,org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.class})\r\n    @EnableGlobalAuthentication\r\n    public @interface EnableWebSecurity\r\n\r\n\r\nWhat I&#39;m curious about is, what would be the reason behind removing the @Configuration annotation in Spring Security 6? \r\n\r\nEdit: I have seen [this issue on GitHub][3] mentioning @Configuration annotation is no longer needed for @Enable* annotations. But anyways, it&#39;s removed in Spring Security 6.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/5.7.8/api/org/springframework/security/config/annotation/web/configuration/EnableWebSecurity.html\r\n  [2]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/configuration/EnableWebSecurity.html\r\n  [3]: https://github.com/spring-projects/spring-security/issues/3014","title":"Why @Configuration annotation is removed from @EnableWebSecurity class in Spring Security 6","body":"<p>I have recently migrated my Spring Boot application from <code>Spring Security 5</code> to <code>Spring Security 6</code>.\nUsually, we use the <code>@EnableWebSecurity</code> annotation in the configuration class to enable web security. An interesting thing I have noticed in Spring Security 6 is they have removed the @Configuration annotation from the @EnableWebSecurity class.</p>\n<p>I've added the source code for the @EnableWebSecurity from <a href=\"https://docs.spring.io/spring-security/site/docs/5.7.8/api/org/springframework/security/config/annotation/web/configuration/EnableWebSecurity.html\" rel=\"nofollow noreferrer\">Spring Security 5</a> and <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/configuration/EnableWebSecurity.html\" rel=\"nofollow noreferrer\">Spring Security 6</a> for ease of reference.</p>\n<pre><code>// Spring Security 5\n@Retention(RUNTIME)\n@Target(TYPE)\n@Documented\n@Import({WebSecurityConfiguration.class,org.springframework.security.config.annotation.web.configuration.SpringWebMvcImportSelector.class,org.springframework.security.config.annotation.web.configuration.OAuth2ImportSelector.class,org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.class})\n@EnableGlobalAuthentication\n@Configuration\npublic @interface EnableWebSecurity\n\n// Spring Security 6\n@Retention(RUNTIME)\n@Target(TYPE)\n@Documented\n@Import({WebSecurityConfiguration.class,org.springframework.security.config.annotation.web.configuration.SpringWebMvcImportSelector.class,org.springframework.security.config.annotation.web.configuration.OAuth2ImportSelector.class,org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.class})\n@EnableGlobalAuthentication\npublic @interface EnableWebSecurity\n</code></pre>\n<p>What I'm curious about is, what would be the reason behind removing the @Configuration annotation in Spring Security 6?</p>\n<p>Edit: I have seen <a href=\"https://github.com/spring-projects/spring-security/issues/3014\" rel=\"nofollow noreferrer\">this issue on GitHub</a> mentioning @Configuration annotation is no longer needed for @Enable* annotations. But anyways, it's removed in Spring Security 6.</p>\n"},{"tags":["java","graalvm"],"answers":[{"tags":[],"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672129676,"creation_date":1672129676,"answer_id":74927123,"question_id":74918502,"body_markdown":"Just what the error message says -- add `--enable-preview` to your native-image invocation. The `AsyncConfiguration` class apparently uses some preview features of JDK19 such as record patterns or virtual threads (and if it doesn&#39;t, try recompiling it _without_ the `--enable-preview` flag). In this case, both `java` and `native-image` require the flag to &quot;unlock&quot; preview features.","title":"GraalVM: Preview features are not enabled for AsyncConfiguration (class file version 63.65535). Try running with &#39;--enable-preview&#39;","body":"<p>Just what the error message says -- add <code>--enable-preview</code> to your native-image invocation. The <code>AsyncConfiguration</code> class apparently uses some preview features of JDK19 such as record patterns or virtual threads (and if it doesn't, try recompiling it <em>without</em> the <code>--enable-preview</code> flag). In this case, both <code>java</code> and <code>native-image</code> require the flag to &quot;unlock&quot; preview features.</p>\n"},{"tags":[],"owner":{"account_id":26958135,"reputation":1,"user_id":20526187,"display_name":"Tyler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684993434,"creation_date":1684993434,"answer_id":76329235,"question_id":74918502,"body_markdown":"try this one\r\n```xml\r\n&lt;build&gt;\r\n    &lt;resources/&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;jvmArguments&gt;-agentlib:native-image-agent=config-merge-dir=src/main/resources/META-INF/native-image/ --enable-preview\r\n                    &lt;/jvmArguments&gt;\r\n                &lt;compilerArguments&gt;--enable-preview\r\n                    &lt;/compilerArguments&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;19&lt;/source&gt;\r\n                &lt;target&gt;19&lt;/target&gt;\r\n                &lt;compilerArgs&gt;\r\n                    &lt;arg&gt;--enable-preview&lt;/arg&gt;\r\n                &lt;/compilerArgs&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;buildArgs combine.children=&quot;append&quot;&gt;\r\n                    &lt;buildArg&gt;--enable-preview&lt;/buildArg&gt;\r\n                &lt;/buildArgs&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```","title":"GraalVM: Preview features are not enabled for AsyncConfiguration (class file version 63.65535). Try running with &#39;--enable-preview&#39;","body":"<p>try this one</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;resources/&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;jvmArguments&gt;-agentlib:native-image-agent=config-merge-dir=src/main/resources/META-INF/native-image/ --enable-preview\n                    &lt;/jvmArguments&gt;\n                &lt;compilerArguments&gt;--enable-preview\n                    &lt;/compilerArguments&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;19&lt;/source&gt;\n                &lt;target&gt;19&lt;/target&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;--enable-preview&lt;/arg&gt;\n                &lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n            &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;buildArgs combine.children=&quot;append&quot;&gt;\n                    &lt;buildArg&gt;--enable-preview&lt;/buildArg&gt;\n                &lt;/buildArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":1780274,"reputation":48,"user_id":1623197,"display_name":"Feng Ye"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684993434,"creation_date":1672043288,"question_id":74918502,"body_markdown":"Using the GraalVM Maven plug-in, I was prompted to turn on the preview feature when generating a local image (Spring Boot 3 application).\r\n\r\nenvironment:\r\n\r\nWindows 10\r\n\r\njava -version:\r\n\r\nopenjdk version &quot;19.0.1&quot; 2022-10-18\r\n\r\nOpenJDK Runtime Environment GraalVM CE 22.3.0 (build 19.0.1+10-jvmci-22.3-b08)\r\n\r\nOpenJDK 64-Bit Server VM GraalVM CE 22.3.0 (build 19.0.1+10-jvmci-22.3-b08, mixed mode, sharing)\r\n\r\ncommand: mvn -Pnative spring-boot:run\r\n\r\nException message:\r\n\r\n```\r\nCaused by: java.lang.UnsupportedClassVersionError: Preview features are not enabled for com/test/config/AsyncConfiguration (class file version 63.65535). Try running with &#39;--enable-preview&#39;\r\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013)\r\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:495)\r\n        at java.base/java.lang.Class.forName(Class.java:474)\r\n        at org.springframework.util.ClassUtils.forName(ClassUtils.java:283)\r\n        at org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:461)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1569)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1502)\r\n        ... 16 common frames omitted\r\n```\r\npom.xml\r\n\r\n```xml\r\n\r\n&lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n&lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/*.json&lt;/include&gt;\r\n                    &lt;include&gt;**/*.xml&lt;/include&gt;\r\n                    &lt;include&gt;**/*.yml&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;jvmArguments&gt;\r\n                        -agentlib:native-image-agent=config-merge-dir=src/main/resources/META-INF/native-image/\r\n                    &lt;/jvmArguments&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;19&lt;/release&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;--enable-preview&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;buildArgs&gt;\r\n                        &lt;buildArg&gt;--enable-preview&lt;/buildArg&gt;\r\n                    &lt;/buildArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n```\r\n\r\nWhat should I do about it? thank you","title":"GraalVM: Preview features are not enabled for AsyncConfiguration (class file version 63.65535). Try running with &#39;--enable-preview&#39;","body":"<p>Using the GraalVM Maven plug-in, I was prompted to turn on the preview feature when generating a local image (Spring Boot 3 application).</p>\n<p>environment:</p>\n<p>Windows 10</p>\n<p>java -version:</p>\n<p>openjdk version &quot;19.0.1&quot; 2022-10-18</p>\n<p>OpenJDK Runtime Environment GraalVM CE 22.3.0 (build 19.0.1+10-jvmci-22.3-b08)</p>\n<p>OpenJDK 64-Bit Server VM GraalVM CE 22.3.0 (build 19.0.1+10-jvmci-22.3-b08, mixed mode, sharing)</p>\n<p>command: mvn -Pnative spring-boot:run</p>\n<p>Exception message:</p>\n<pre><code>Caused by: java.lang.UnsupportedClassVersionError: Preview features are not enabled for com/test/config/AsyncConfiguration (class file version 63.65535). Try running with '--enable-preview'\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013)\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:495)\n        at java.base/java.lang.Class.forName(Class.java:474)\n        at org.springframework.util.ClassUtils.forName(ClassUtils.java:283)\n        at org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:461)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1569)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1502)\n        ... 16 common frames omitted\n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n&lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.json&lt;/include&gt;\n                    &lt;include&gt;**/*.xml&lt;/include&gt;\n                    &lt;include&gt;**/*.yml&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;jvmArguments&gt;\n                        -agentlib:native-image-agent=config-merge-dir=src/main/resources/META-INF/native-image/\n                    &lt;/jvmArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;19&lt;/release&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;--enable-preview&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n                &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;buildArgs&gt;\n                        &lt;buildArg&gt;--enable-preview&lt;/buildArg&gt;\n                    &lt;/buildArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n</code></pre>\n<p>What should I do about it? thank you</p>\n"},{"tags":["java","debugging","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1500902326,"post_id":45281396,"comment_id":77525830,"body_markdown":"Yes, it&#39;s possible, see https://stackoverflow.com/a/42392922/104891. Verify with `telnet` that you can connect to the specified host/port, the issue may be with the configuration or your network settings. For instance, `localhost` on your screenshot looks suspicious since you are connecting to a different machine (VM). Unless you have port forwarding enabled from `localhost` to the VM, it will not work.","body":"Yes, it&#39;s possible, see <a href=\"https://stackoverflow.com/a/42392922/104891\">stackoverflow.com/a/42392922/104891</a>. Verify with <code>telnet</code> that you can connect to the specified host/port, the issue may be with the configuration or your network settings. For instance, <code>localhost</code> on your screenshot looks suspicious since you are connecting to a different machine (VM). Unless you have port forwarding enabled from <code>localhost</code> to the VM, it will not work."}],"answers":[{"tags":[],"owner":{"account_id":6862510,"reputation":2494,"user_id":5276012,"display_name":"Egor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1500998309,"creation_date":1500998309,"answer_id":45308296,"question_id":45281396,"body_markdown":"Try to specify -agentlib options before everything else:\r\n\r\n    java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=9999\r\n    -showversion -server -Xmx512M -Drps.home=${RPS_HOME} \\\r\n    -Dcontainer.host=${CONTAINER_HOST} \\\r\n    -Djava.util.logging.config.file=$4 \\\r\n    -classpath ${RPS_LIBS} com.softel.rps.impl.core.SPEngine ${CONFIG}","title":"Attach IntelliJ IDEA debugger to a remote java -server running process","body":"<p>Try to specify -agentlib options before everything else:</p>\n\n<pre><code>java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=9999\n-showversion -server -Xmx512M -Drps.home=${RPS_HOME} \\\n-Dcontainer.host=${CONTAINER_HOST} \\\n-Djava.util.logging.config.file=$4 \\\n-classpath ${RPS_LIBS} com.softel.rps.impl.core.SPEngine ${CONFIG}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4602769,"reputation":27,"user_id":3733050,"display_name":"Melih"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684992811,"creation_date":1684931317,"answer_id":76323561,"question_id":45281396,"body_markdown":"Start your application with the command below:\r\n\r\n    java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005 -jar .\\your_app.jar -showversion -server\r\n\r\nand start a remote debugger from your idea (mine is the idea):\r\n \r\nEdit Configuration &gt; (+) add Remote JVM Debug with default option :)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Zv4D3.png","title":"Attach IntelliJ IDEA debugger to a remote java -server running process","body":"<p>Start your application with the command below:</p>\n<pre><code>java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005 -jar .\\your_app.jar -showversion -server\n</code></pre>\n<p>and start a remote debugger from your idea (mine is the idea):</p>\n<p>Edit Configuration &gt; (+) add Remote JVM Debug with default option :)</p>\n<p><a href=\"https://i.stack.imgur.com/Zv4D3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zv4D3.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8040103,"reputation":346,"user_id":6062061,"accept_rate":100,"display_name":"M. Stefanczuk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4741,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":45308296,"answer_count":2,"score":2,"last_activity_date":1684992811,"creation_date":1500901414,"question_id":45281396,"body_markdown":"I run Java appliaction on Ubuntu virtual machine with command:\r\n\r\n    java -showversion -server -Xmx512M -Drps.home=${RPS_HOME} \\\r\n    -Dcontainer.host=${CONTAINER_HOST} \\\r\n    -Djava.util.logging.config.file=$4 \\\r\n    -classpath ${RPS_LIBS} com.softel.rps.impl.core.SPEngine ${CONFIG} \\\r\n    -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=9999\r\n\r\nI opened port 9999 with command (an also forwarded port in VirtualBox):\r\n\r\n    sudo ufw allow 9999/tcp\r\n\r\nAnd I try to attach debugger with IntelliJ IDEA:\r\n[![IDEA debug][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/URDmn.png\r\n\r\nAnd finally i end up with error\r\n    \r\n    IOException &quot;handshake failed - connection prematurally closed&quot;\r\n\r\nIm not very well experienced in remote debugging. Can you tell me is it possible to attach debugger to java -server process?","title":"Attach IntelliJ IDEA debugger to a remote java -server running process","body":"<p>I run Java appliaction on Ubuntu virtual machine with command:</p>\n\n<pre><code>java -showversion -server -Xmx512M -Drps.home=${RPS_HOME} \\\n-Dcontainer.host=${CONTAINER_HOST} \\\n-Djava.util.logging.config.file=$4 \\\n-classpath ${RPS_LIBS} com.softel.rps.impl.core.SPEngine ${CONFIG} \\\n-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=9999\n</code></pre>\n\n<p>I opened port 9999 with command (an also forwarded port in VirtualBox):</p>\n\n<pre><code>sudo ufw allow 9999/tcp\n</code></pre>\n\n<p>And I try to attach debugger with IntelliJ IDEA:\n<a href=\"https://i.stack.imgur.com/URDmn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/URDmn.png\" alt=\"IDEA debug\"></a></p>\n\n<p>And finally i end up with error</p>\n\n<pre><code>IOException \"handshake failed - connection prematurally closed\"\n</code></pre>\n\n<p>Im not very well experienced in remote debugging. Can you tell me is it possible to attach debugger to java -server process?</p>\n"},{"tags":["java","android","permissions"],"owner":{"account_id":28675668,"reputation":1,"user_id":21957810,"display_name":"Timelabs DevApp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684992742,"creation_date":1684992742,"question_id":76329187,"body_markdown":"I am developing an app for live tracking . issue i am facing is in realme android 12 when i ask for permission it is auto denying the permission \r\n\r\n  private void checkPermission() {\r\n\r\n        String[] permissions = new String[0];\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.Q) {\r\n            permissions = new String[]{\r\n                    Manifest.permission.ACCESS_COARSE_LOCATION,\r\n                    Manifest.permission.ACCESS_BACKGROUND_LOCATION,\r\n                    Manifest.permission.ACCESS_FINE_LOCATION,\r\n                    Manifest.permission.READ_PHONE_STATE};\r\n        } else {\r\n            permissions = new String[]{\r\n                    Manifest.permission.ACCESS_COARSE_LOCATION,\r\n                    Manifest.permission.ACCESS_FINE_LOCATION,\r\n                    Manifest.permission.READ_PHONE_STATE};\r\n        }\r\n        Permissions.check(this/*context*/, permissions, null/*rationale*/, null/*options*/, new PermissionHandler() {\r\n                    @Override\r\n                    public void onGranted() {\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public boolean onBlocked(Context context, ArrayList&lt;String&gt; blockedList) {\r\n                        gotoSettings();\r\n                        return super.onBlocked(context, blockedList);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onDenied(Context context, ArrayList&lt;String&gt; deniedPermissions) {\r\n                        super.onDenied(context, deniedPermissions);\r\n                        checkPermission();\r\n                    }\r\n                }\r\n\r\n        );\r\n\r\n    }\r\n\r\ni am using implementation &#39;com.nabinbhandari.android:permissions:3.8&#39;\r\n dependency","title":"Why is Realme Android 12 auto-denying my permission requests for location and phone state?","body":"<p>I am developing an app for live tracking . issue i am facing is in realme android 12 when i ask for permission it is auto denying the permission</p>\n<p>private void checkPermission() {</p>\n<pre><code>    String[] permissions = new String[0];\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.Q) {\n        permissions = new String[]{\n                Manifest.permission.ACCESS_COARSE_LOCATION,\n                Manifest.permission.ACCESS_BACKGROUND_LOCATION,\n                Manifest.permission.ACCESS_FINE_LOCATION,\n                Manifest.permission.READ_PHONE_STATE};\n    } else {\n        permissions = new String[]{\n                Manifest.permission.ACCESS_COARSE_LOCATION,\n                Manifest.permission.ACCESS_FINE_LOCATION,\n                Manifest.permission.READ_PHONE_STATE};\n    }\n    Permissions.check(this/*context*/, permissions, null/*rationale*/, null/*options*/, new PermissionHandler() {\n                @Override\n                public void onGranted() {\n\n                }\n\n                @Override\n                public boolean onBlocked(Context context, ArrayList&lt;String&gt; blockedList) {\n                    gotoSettings();\n                    return super.onBlocked(context, blockedList);\n                }\n\n                @Override\n                public void onDenied(Context context, ArrayList&lt;String&gt; deniedPermissions) {\n                    super.onDenied(context, deniedPermissions);\n                    checkPermission();\n                }\n            }\n\n    );\n\n}\n</code></pre>\n<p>i am using implementation 'com.nabinbhandari.android:permissions:3.8'\ndependency</p>\n"},{"tags":["java","html","postgresql","playframework","playframework-2.8"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1684913671,"post_id":76321075,"comment_id":134585157,"body_markdown":"please add stacktrace","body":"please add stacktrace"},{"owner":{"account_id":16444700,"reputation":13,"user_id":11879842,"display_name":"Dinesh Babu M"},"score":0,"creation_date":1684914841,"post_id":76321075,"comment_id":134585410,"body_markdown":"STACKTRACE -&gt; https://docs.google.com/document/d/1sJdLq9Y3oruT7-iNOeB4Z5xg9wMfnUsu7Tjb36A3Nmk/edit?usp=sharing","body":"STACKTRACE -&gt; <a href=\"https://docs.google.com/document/d/1sJdLq9Y3oruT7-iNOeB4Z5xg9wMfnUsu7Tjb36A3Nmk/edit?usp=sharing\" rel=\"nofollow noreferrer\">docs.google.com/document/d/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":28661600,"reputation":16,"user_id":21946422,"display_name":"mohit khare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684914242,"creation_date":1684914242,"answer_id":76321171,"question_id":76321075,"body_markdown":"The error message indicates a NullPointerException at the line where System.out.println(user.email) is called in the save method of the Users class.\r\n\r\nThe issue seems to be that the userForm.get() method is returning null, which leads to the NullPointerException when trying to access the email property of the user object.\r\n\r\nTo debug this issue, you can check the following:\r\n\r\n1) Ensure that the form fields in the registration view (registraion.scala.html) have the correct name attributes corresponding to the properties in the Forms.User class. In your case, the form fields should have name=&quot;name&quot;, name=&quot;email&quot;, and name=&quot;password&quot;.\r\n\r\n2) Check if the form data is properly sent in the request. You can print the request headers in the save method to verify that the form data is present.\r\n\r\n    System.out.println(request.getHeaders());\r\n\r\n3) Verify that the form binding (formFactory.bindFromRequest(request)) is successful and the userForm object is populated correctly. You can print the form data to check if it contains the expected values.\r\n\r\n    System.out.println(userForm.data());\r\n\r\n\r\nIf the form data is not being properly sent or the form binding is not successful, it can result in a null value for the userForm. Make sure that the form fields are correctly named and that the form data is sent as expected.\r\n\r\nAdditionally, it&#39;s a good practice to handle error cases gracefully. Instead of directly accessing properties like user.email, consider using userForm.get(&quot;email&quot;) to retrieve the form value and handle the case when the value is null or empty.\r\n\r\nBy investigating these points, you should be able to identify the cause of the NullPointerException and resolve the issue.\r\n\r\nHope that helps.\r\n\r\n\r\n","title":"NullPointerException while Passing inputs from scala.html to Controller as form in Play framework(2.8.*) Java","body":"<p>The error message indicates a NullPointerException at the line where System.out.println(user.email) is called in the save method of the Users class.</p>\n<p>The issue seems to be that the userForm.get() method is returning null, which leads to the NullPointerException when trying to access the email property of the user object.</p>\n<p>To debug this issue, you can check the following:</p>\n<ol>\n<li><p>Ensure that the form fields in the registration view (registraion.scala.html) have the correct name attributes corresponding to the properties in the Forms.User class. In your case, the form fields should have name=&quot;name&quot;, name=&quot;email&quot;, and name=&quot;password&quot;.</p>\n</li>\n<li><p>Check if the form data is properly sent in the request. You can print the request headers in the save method to verify that the form data is present.</p>\n<p>System.out.println(request.getHeaders());</p>\n</li>\n<li><p>Verify that the form binding (formFactory.bindFromRequest(request)) is successful and the userForm object is populated correctly. You can print the form data to check if it contains the expected values.</p>\n<p>System.out.println(userForm.data());</p>\n</li>\n</ol>\n<p>If the form data is not being properly sent or the form binding is not successful, it can result in a null value for the userForm. Make sure that the form fields are correctly named and that the form data is sent as expected.</p>\n<p>Additionally, it's a good practice to handle error cases gracefully. Instead of directly accessing properties like user.email, consider using userForm.get(&quot;email&quot;) to retrieve the form value and handle the case when the value is null or empty.</p>\n<p>By investigating these points, you should be able to identify the cause of the NullPointerException and resolve the issue.</p>\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":48093,"reputation":2175,"user_id":142716,"display_name":"Raze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684990448,"creation_date":1684990448,"answer_id":76329047,"question_id":76321075,"body_markdown":"There&#39;s a critical error here which I noticed, and that&#39;s probably what is causing the issue. You are creating a nested form. The line\r\n\r\n    @helper.form(action = routes.Users.save()\r\n\r\ncreates a form tag, and you have again added a form tag right below it. Try removing the inner (explicit) `&lt;form&gt;` tag and matching `&lt;/form&gt;`. It should work.","title":"NullPointerException while Passing inputs from scala.html to Controller as form in Play framework(2.8.*) Java","body":"<p>There's a critical error here which I noticed, and that's probably what is causing the issue. You are creating a nested form. The line</p>\n<pre><code>@helper.form(action = routes.Users.save()\n</code></pre>\n<p>creates a form tag, and you have again added a form tag right below it. Try removing the inner (explicit) <code>&lt;form&gt;</code> tag and matching <code>&lt;/form&gt;</code>. It should work.</p>\n"}],"owner":{"account_id":16444700,"reputation":13,"user_id":11879842,"display_name":"Dinesh Babu M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76321171,"answer_count":2,"score":0,"last_activity_date":1684990448,"creation_date":1684913461,"question_id":76321075,"body_markdown":"I&#39;m working in creating a java web app using play framework(2.8.19). While creating registration page I&#39;m trying to pass the inputs from the registration page([scala][1].html) to the controller class where it saves the input to the Postgres table. Here I&#39;m facing null pointer exception while accessing the input fields from the controller class. Below is code for registration page and controller class and my routes file.\r\n\r\n**Routes.file**\r\n\r\n    `POST /users/ controllers.Users.save(request: Request)`\r\n\r\n\r\n**registraion.scala.html**\r\n\r\n```\r\n@(userFrom: Form[commons.Forms.User])\r\n@()(implicit request: Http.Request)\r\n&lt;!--@(userFrom: Form[commons.Forms.User]) (implicit request: RequestHeader, messagesProvider: play.i18n.MessagesProvider)--&gt;\r\n@main(&quot;User form&quot;) {\r\n    &lt;h1&gt;User form&lt;/h1&gt;\r\n    @helper.form(action = routes.Users.save()) {\r\n\r\n    &lt;form&gt;\r\n    &lt;!-- &lt;legend&gt;User (@userFrom(&quot;name&quot;).value)&lt;/legend&gt;--&gt;\r\n    &lt;!-- &lt;legend&gt;User (userFrom(&quot;email&quot;))&lt;/legend&gt;--&gt;\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n    &lt;label for=&quot;name&quot;&gt;Email address&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;name&quot; name=&quot;name&quot; placeholder=&quot;Name&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n    &lt;label for=&quot;email&quot;&gt;Email address&lt;/label&gt;\r\n    &lt;input type=&quot;email&quot; class=&quot;form-control&quot; id=&quot;email&quot; name=&quot;email&quot; placeholder=&quot;Email&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n    &lt;label for=&quot;password&quot;&gt;Password&lt;/label&gt;\r\n    &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;password&quot; name=&quot;password&quot; placeholder=&quot;Password&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;input type=&quot;submit&quot; class=&quot;btn btn-primary&quot; value=&quot;Save&quot;&gt;\r\n    &lt;a class=&quot;btn&quot; href=&quot;@routes.Authentication.login()&quot;&gt;Cancel&lt;/a&gt;\r\n    &lt;/form&gt;\r\n\r\n    }\r\n}\r\n```\r\n**Users.java(Controller)**\r\n\r\n```\r\npublic class Users extends Controller {\r\n    private IUserDao iuserDao;\r\n    private final Form&lt;Forms.User&gt; formFactory;\r\n    private final play.i18n.MessagesApi messagesApi;\r\n\r\n    @Inject\r\n    public Users(FormFactory formFactory, MessagesApi messagesApi) {\r\n        this.formFactory = formFactory.form(Forms.User.class);\r\n        this.messagesApi = messagesApi;\r\n    }\r\n\r\n    public Result save(Http.Request request) {\r\n        Messages messages = this.messagesApi.preferred(request);\r\n        System.out.println(&quot;calling here&quot;);\r\n        System.out.println(request.getHeaders());\r\n        Form&lt;Forms.User&gt; userForm = formFactory.bindFromRequest(request);\r\n\r\n        if (userForm.hasErrors()) {\r\n            return badRequest(registration.render(userForm));\r\n        }\r\n\r\n        Forms.User user = userForm.get(); \r\n        System.out.println(user.email); //** &lt;====== Facing error in this line =====&gt;**\r\n        models.AppUser searchResult = (AppUser) iuserDao.findByEmail(user.email);\r\n        if (searchResult != null) {\r\n            return badRequest(registration.render(userForm));\r\n        }\r\n\r\n        iuserDao.create(user);\r\n        return redirect(routes.Authentication.login());\r\n    }\r\n}\r\n```\r\n\r\n**Here the Form User class is**\r\n\r\n```\r\npublic class Forms {\r\n\r\n    public static class User {\r\n        public String name;\r\n        public String email;\r\n        public String password;\r\n    }\r\n}\r\n```\r\nSnapshot of error is here.\r\n\r\n[ERROR](https://i.stack.imgur.com/Ypv9W.png)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6Ds1A.png","title":"NullPointerException while Passing inputs from scala.html to Controller as form in Play framework(2.8.*) Java","body":"<p>I'm working in creating a java web app using play framework(2.8.19). While creating registration page I'm trying to pass the inputs from the registration page(<a href=\"https://i.stack.imgur.com/6Ds1A.png\" rel=\"nofollow noreferrer\">scala</a>.html) to the controller class where it saves the input to the Postgres table. Here I'm facing null pointer exception while accessing the input fields from the controller class. Below is code for registration page and controller class and my routes file.</p>\n<p><strong>Routes.file</strong></p>\n<pre><code>`POST /users/ controllers.Users.save(request: Request)`\n</code></pre>\n<p><strong>registraion.scala.html</strong></p>\n<pre><code>@(userFrom: Form[commons.Forms.User])\n@()(implicit request: Http.Request)\n&lt;!--@(userFrom: Form[commons.Forms.User]) (implicit request: RequestHeader, messagesProvider: play.i18n.MessagesProvider)--&gt;\n@main(&quot;User form&quot;) {\n    &lt;h1&gt;User form&lt;/h1&gt;\n    @helper.form(action = routes.Users.save()) {\n\n    &lt;form&gt;\n    &lt;!-- &lt;legend&gt;User (@userFrom(&quot;name&quot;).value)&lt;/legend&gt;--&gt;\n    &lt;!-- &lt;legend&gt;User (userFrom(&quot;email&quot;))&lt;/legend&gt;--&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n    &lt;label for=&quot;name&quot;&gt;Email address&lt;/label&gt;\n    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;name&quot; name=&quot;name&quot; placeholder=&quot;Name&quot;&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n    &lt;label for=&quot;email&quot;&gt;Email address&lt;/label&gt;\n    &lt;input type=&quot;email&quot; class=&quot;form-control&quot; id=&quot;email&quot; name=&quot;email&quot; placeholder=&quot;Email&quot;&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n    &lt;label for=&quot;password&quot;&gt;Password&lt;/label&gt;\n    &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;password&quot; name=&quot;password&quot; placeholder=&quot;Password&quot;&gt;\n    &lt;/div&gt;\n    &lt;input type=&quot;submit&quot; class=&quot;btn btn-primary&quot; value=&quot;Save&quot;&gt;\n    &lt;a class=&quot;btn&quot; href=&quot;@routes.Authentication.login()&quot;&gt;Cancel&lt;/a&gt;\n    &lt;/form&gt;\n\n    }\n}\n</code></pre>\n<p><strong>Users.java(Controller)</strong></p>\n<pre><code>public class Users extends Controller {\n    private IUserDao iuserDao;\n    private final Form&lt;Forms.User&gt; formFactory;\n    private final play.i18n.MessagesApi messagesApi;\n\n    @Inject\n    public Users(FormFactory formFactory, MessagesApi messagesApi) {\n        this.formFactory = formFactory.form(Forms.User.class);\n        this.messagesApi = messagesApi;\n    }\n\n    public Result save(Http.Request request) {\n        Messages messages = this.messagesApi.preferred(request);\n        System.out.println(&quot;calling here&quot;);\n        System.out.println(request.getHeaders());\n        Form&lt;Forms.User&gt; userForm = formFactory.bindFromRequest(request);\n\n        if (userForm.hasErrors()) {\n            return badRequest(registration.render(userForm));\n        }\n\n        Forms.User user = userForm.get(); \n        System.out.println(user.email); //** &lt;====== Facing error in this line =====&gt;**\n        models.AppUser searchResult = (AppUser) iuserDao.findByEmail(user.email);\n        if (searchResult != null) {\n            return badRequest(registration.render(userForm));\n        }\n\n        iuserDao.create(user);\n        return redirect(routes.Authentication.login());\n    }\n}\n</code></pre>\n<p><strong>Here the Form User class is</strong></p>\n<pre><code>public class Forms {\n\n    public static class User {\n        public String name;\n        public String email;\n        public String password;\n    }\n}\n</code></pre>\n<p>Snapshot of error is here.</p>\n<p><a href=\"https://i.stack.imgur.com/Ypv9W.png\" rel=\"nofollow noreferrer\">ERROR</a></p>\n"},{"tags":["java","json","spring","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684988537,"creation_date":1684988537,"answer_id":76328925,"question_id":76328817,"body_markdown":"The only way I am aware of this is to create a custom class implementing `Page&lt;T&gt;`. You can achieve it for the sake of simplicity by extending `PageImpl&lt;T&gt;` which implements all the methods for you.\r\n\r\nLet the custom class ignore the getter to the `custom` field using `@JsonIgnore` and introduce your own one instead.\r\n\r\n```java\r\npublic class CustomPage&lt;T&gt; extends PageImpl&lt;T&gt; implements Page&lt;T&gt; {\r\n\r\n\tpublic CustomPage(List&lt;T&gt; content) {\r\n\t\tsuper(content);\r\n\t}\r\n\r\n\tpublic List&lt;T&gt; getData() {\r\n\t\treturn super.getContent();\r\n\t}\r\n\r\n\t@Override\r\n\t@JsonIgnore\r\n\tpublic List&lt;T&gt; getContent() {\r\n\t\treturn super.getContent();\r\n\t}\r\n}\r\n```\r\nNow define a simple simple GET mapping:\r\n\r\n```\r\n@GetMapping(&quot;/report-authors&quot;)\r\npublic Page&lt;String&gt; getSth() {\r\n    return new CustomPage&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;));\r\n}\r\n```\r\nAnd test it out to see that `content` is replaced by `data`:\r\n```\r\ncurl -XGET http://localhost:8080/report-authors\r\n```\r\n&gt; ```\r\n&gt; {\r\n&gt;\t&quot;pageable&quot;: &quot;INSTANCE&quot;,\r\n&gt;\t&quot;data&quot;: [\r\n&gt;\t\t&quot;A&quot;,\r\n&gt;\t\t&quot;B&quot;,\r\n&gt;\t\t&quot;C&quot;\r\n&gt;\t],\r\n&gt;\t&quot;totalPages&quot;: 1,\r\n&gt;\t&quot;totalElements&quot;: 3,\r\n&gt;\t&quot;size&quot;: 3,\r\n&gt;\t&quot;number&quot;: 0,\r\n&gt;\t&quot;sort&quot;: {\r\n&gt;\t\t&quot;empty&quot;: true,\r\n&gt;\t\t&quot;unsorted&quot;: true,\r\n&gt;\t\t&quot;sorted&quot;: false\r\n&gt;\t},\r\n&gt;\t&quot;numberOfElements&quot;: 3,\r\n&gt;\t&quot;first&quot;: true,\r\n&gt;\t&quot;last&quot;: true,\r\n&gt;\t&quot;empty&quot;: false\r\n&gt; }\r\n&gt; ```","title":"Custom field name for json for a Pageable response, &quot;content&quot;-&gt;&quot;data&quot;","body":"<p>The only way I am aware of this is to create a custom class implementing <code>Page&lt;T&gt;</code>. You can achieve it for the sake of simplicity by extending <code>PageImpl&lt;T&gt;</code> which implements all the methods for you.</p>\n<p>Let the custom class ignore the getter to the <code>custom</code> field using <code>@JsonIgnore</code> and introduce your own one instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomPage&lt;T&gt; extends PageImpl&lt;T&gt; implements Page&lt;T&gt; {\n\n    public CustomPage(List&lt;T&gt; content) {\n        super(content);\n    }\n\n    public List&lt;T&gt; getData() {\n        return super.getContent();\n    }\n\n    @Override\n    @JsonIgnore\n    public List&lt;T&gt; getContent() {\n        return super.getContent();\n    }\n}\n</code></pre>\n<p>Now define a simple simple GET mapping:</p>\n<pre><code>@GetMapping(&quot;/report-authors&quot;)\npublic Page&lt;String&gt; getSth() {\n    return new CustomPage&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;));\n}\n</code></pre>\n<p>And test it out to see that <code>content</code> is replaced by <code>data</code>:</p>\n<pre><code>curl -XGET http://localhost:8080/report-authors\n</code></pre>\n<blockquote>\n<pre><code>{\n  &quot;pageable&quot;: &quot;INSTANCE&quot;,\n  &quot;data&quot;: [\n      &quot;A&quot;,\n      &quot;B&quot;,\n      &quot;C&quot;\n  ],\n  &quot;totalPages&quot;: 1,\n  &quot;totalElements&quot;: 3,\n  &quot;size&quot;: 3,\n  &quot;number&quot;: 0,\n  &quot;sort&quot;: {\n      &quot;empty&quot;: true,\n      &quot;unsorted&quot;: true,\n      &quot;sorted&quot;: false\n  },\n  &quot;numberOfElements&quot;: 3,\n  &quot;first&quot;: true,\n  &quot;last&quot;: true,\n  &quot;empty&quot;: false\n}\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":8252988,"reputation":1070,"user_id":6206976,"display_name":"Maxwell Cheng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684988695,"creation_date":1684986810,"question_id":76328817,"body_markdown":"In my controller, it looks like below:\r\n\r\n```java\r\n@GetMapping(&quot;/report-authors&quot;)&lt;br&gt;\r\n@ResponseBody public Page&lt;MyObject&gt; getSth(){ ... }\r\n```\r\n\r\nThe response JSON is:\r\n\r\n&gt; ```\r\n&gt; {\r\n&gt;\t&quot;content&quot;: [\r\n&gt;\t\t&lt;MyObject&gt;\r\n&gt;\t],\r\n&gt;\t&quot;pageable&quot;: {\r\n&gt;\t\t...\r\n&gt;\t},\r\n&gt;\t&quot;last&quot;: false,\r\n&gt;\t&quot;total_pages&quot;: 163,\r\n&gt;\t&quot;total_elements&quot;: 3246,\r\n&gt;\t&quot;size&quot;: 20,\r\n&gt;\t&quot;number&quot;: 0,\r\n&gt;\t&quot;sort&quot;: {\r\n&gt;\t\t&quot;empty&quot;: false,\r\n&gt;\t\t&quot;sorted&quot;: true,\r\n&gt;\t\t&quot;unsorted&quot;: false\r\n&gt;\t},\r\n&gt;\t&quot;number_of_elements&quot;: 20,\r\n&gt;\t&quot;first&quot;: true,\r\n&gt;\t&quot;empty&quot;: false\r\n&gt;}\r\n&gt;```\r\n\r\nThe question is: How can I change the name of `content` in the response to, say, `data`? The JSON I want to look like this:\r\n\r\n&gt; ```\r\n&gt;{\r\n&gt;\t&quot;data&quot;: [\r\n&gt;       &lt;MyObject&gt;\r\n&gt;   ],\r\n&gt;\t&quot;pageable&quot;: {\r\n&gt;\t         ...     \r\n&gt;\t},\r\n&gt;\t&quot;last&quot;: false,\r\n&gt;\t&quot;total_pages&quot;: 163,\r\n&gt;\t&quot;total_elements&quot;: 3246,\r\n&gt;\t&quot;size&quot;: 20,\r\n&gt;\t&quot;number&quot;: 0,\r\n&gt;\t&quot;sort&quot;: {\r\n&gt;\t\t&quot;empty&quot;: false,\r\n&gt;\t\t&quot;sorted&quot;: true,\r\n&gt;\t\t&quot;unsorted&quot;: false\r\n&gt;\t},\r\n&gt;\t&quot;number_of_elements&quot;: 20,\r\n&gt;\t&quot;first&quot;: true,\r\n&gt;\t&quot;empty&quot;: false\r\n&gt;}\r\n&gt;```\r\n\r\n","title":"Custom field name for json for a Pageable response, &quot;content&quot;-&gt;&quot;data&quot;","body":"<p>In my controller, it looks like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/report-authors&quot;)&lt;br&gt;\n@ResponseBody public Page&lt;MyObject&gt; getSth(){ ... }\n</code></pre>\n<p>The response JSON is:</p>\n<blockquote>\n<pre><code>{\n  &quot;content&quot;: [\n      &lt;MyObject&gt;\n  ],\n  &quot;pageable&quot;: {\n      ...\n  },\n  &quot;last&quot;: false,\n  &quot;total_pages&quot;: 163,\n  &quot;total_elements&quot;: 3246,\n  &quot;size&quot;: 20,\n  &quot;number&quot;: 0,\n  &quot;sort&quot;: {\n      &quot;empty&quot;: false,\n      &quot;sorted&quot;: true,\n      &quot;unsorted&quot;: false\n  },\n  &quot;number_of_elements&quot;: 20,\n  &quot;first&quot;: true,\n  &quot;empty&quot;: false\n}\n</code></pre>\n</blockquote>\n<p>The question is: How can I change the name of <code>content</code> in the response to, say, <code>data</code>? The JSON I want to look like this:</p>\n<blockquote>\n<pre><code>{\n  &quot;data&quot;: [\n      &lt;MyObject&gt;\n  ],\n  &quot;pageable&quot;: {\n           ...     \n  },\n  &quot;last&quot;: false,\n  &quot;total_pages&quot;: 163,\n  &quot;total_elements&quot;: 3246,\n  &quot;size&quot;: 20,\n  &quot;number&quot;: 0,\n  &quot;sort&quot;: {\n      &quot;empty&quot;: false,\n      &quot;sorted&quot;: true,\n      &quot;unsorted&quot;: false\n  },\n  &quot;number_of_elements&quot;: 20,\n  &quot;first&quot;: true,\n  &quot;empty&quot;: false\n}\n</code></pre>\n</blockquote>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":25155166,"reputation":864,"user_id":19000086,"display_name":"zaid khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684988201,"creation_date":1684953268,"answer_id":76326486,"question_id":76326209,"body_markdown":"In the onBindViewHolder you can add a onClickListener to the item to and onClick the item would be removed and placed add the 0th index so it appears on the top and notifyDatasetChanged().\r\n\r\n```\r\n holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            // Handle the item click here\r\n            // Move the clicked item to the top of the list\r\n            DataReturn clickedItem = list.get(holder.getAdapterPosition());\r\n            list.remove(holder.getAdapterPosition());\r\n            list.add(0, clickedItem);\r\n\r\n            // Notify the adapter that the data has changed\r\n            notifyDataSetChanged();\r\n        }\r\n    });\r\n```\r\nAnd you can add a small pin icon as an Imageview in the item view file which would be invisible otherwise and only becomes visible when the user clicks on an item.","title":"How to pin one itemview in recyclerview that Always show that view on top of recyclerview","body":"<p>In the onBindViewHolder you can add a onClickListener to the item to and onClick the item would be removed and placed add the 0th index so it appears on the top and notifyDatasetChanged().</p>\n<pre><code> holder.itemView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            // Handle the item click here\n            // Move the clicked item to the top of the list\n            DataReturn clickedItem = list.get(holder.getAdapterPosition());\n            list.remove(holder.getAdapterPosition());\n            list.add(0, clickedItem);\n\n            // Notify the adapter that the data has changed\n            notifyDataSetChanged();\n        }\n    });\n</code></pre>\n<p>And you can add a small pin icon as an Imageview in the item view file which would be invisible otherwise and only becomes visible when the user clicks on an item.</p>\n"}],"owner":{"account_id":27935158,"reputation":90,"user_id":21332328,"display_name":"RmTomal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76326486,"answer_count":1,"score":0,"last_activity_date":1684988201,"creation_date":1684950551,"question_id":76326209,"body_markdown":"I have a recyclerview. There come data from firebase. I want to pin a item which will be show in top off all item. How can I do this.\r\n\r\nI don’t understand how can I do this,\r\n\r\nMy Adapter Code is\r\n```\r\nimport android.content.Context;\r\nimport android.content.res.Resources;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\npublic class ReportAdapter extends RecyclerView.Adapter&lt;ReportAdapter.ViewHolder&gt; {\r\n\r\n    Context context;\r\n    ArrayList&lt;DataReturn&gt; list;\r\n\r\n    public ReportAdapter(Context context, ArrayList&lt;DataReturn&gt; list) {\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n    @NonNull\r\n    @Override\r\n    public ReportAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(context).inflate(R.layout.report_user, parent, false);\r\n        return new ReportAdapter.ViewHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ReportAdapter.ViewHolder holder, int position) {\r\n        DataReturn dataReturn = list.get(position);\r\n        holder.reportId.setText(dataReturn.getFromNumber());\r\n        holder.reportName.setText(dataReturn.getName());\r\n        holder.reportRank.setText(dataReturn.getRank());\r\n        holder.reportLastVacation.setText(dataReturn.getLastVacation());\r\n        holder.reportNextVacation.setText(dataReturn.getComingEnd());\r\n        String image = dataReturn.getImage();\r\n        if (image.equals(&quot;&quot;)){\r\n            holder.circleImageView.setImageResource(R.drawable.error);\r\n        }else {\r\n            Glide.with(context).load(image).into(holder.circleImageView);\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        private CircleImageView circleImageView;\r\n        TextView reportName, reportLastVacation, reportNextVacation, reportRank,reportId;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            reportId = itemView.findViewById(R.id.item_number);\r\n            reportName = itemView.findViewById(R.id.report_name);\r\n            reportLastVacation = itemView.findViewById(R.id.report_last_vacation);\r\n            circleImageView = itemView.findViewById(R.id.report_profile_image);\r\n            reportRank = itemView.findViewById(R.id.report_rank);\r\n            reportNextVacation = itemView.findViewById(R.id.next_vacation);\r\n\r\n        }\r\n    }\r\n}\r\n```\r\nI don&#39;t get any idea how can I do this.\r\nI have the position number which will be show top of the all item.","title":"How to pin one itemview in recyclerview that Always show that view on top of recyclerview","body":"<p>I have a recyclerview. There come data from firebase. I want to pin a item which will be show in top off all item. How can I do this.</p>\n<p>I don’t understand how can I do this,</p>\n<p>My Adapter Code is</p>\n<pre><code>import android.content.Context;\nimport android.content.res.Resources;\nimport android.graphics.drawable.Drawable;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.bumptech.glide.Glide;\n\nimport java.util.ArrayList;\n\nimport de.hdodenhof.circleimageview.CircleImageView;\n\npublic class ReportAdapter extends RecyclerView.Adapter&lt;ReportAdapter.ViewHolder&gt; {\n\n    Context context;\n    ArrayList&lt;DataReturn&gt; list;\n\n    public ReportAdapter(Context context, ArrayList&lt;DataReturn&gt; list) {\n        this.context = context;\n        this.list = list;\n    }\n    @NonNull\n    @Override\n    public ReportAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(context).inflate(R.layout.report_user, parent, false);\n        return new ReportAdapter.ViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ReportAdapter.ViewHolder holder, int position) {\n        DataReturn dataReturn = list.get(position);\n        holder.reportId.setText(dataReturn.getFromNumber());\n        holder.reportName.setText(dataReturn.getName());\n        holder.reportRank.setText(dataReturn.getRank());\n        holder.reportLastVacation.setText(dataReturn.getLastVacation());\n        holder.reportNextVacation.setText(dataReturn.getComingEnd());\n        String image = dataReturn.getImage();\n        if (image.equals(&quot;&quot;)){\n            holder.circleImageView.setImageResource(R.drawable.error);\n        }else {\n            Glide.with(context).load(image).into(holder.circleImageView);\n        }\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        private CircleImageView circleImageView;\n        TextView reportName, reportLastVacation, reportNextVacation, reportRank,reportId;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            reportId = itemView.findViewById(R.id.item_number);\n            reportName = itemView.findViewById(R.id.report_name);\n            reportLastVacation = itemView.findViewById(R.id.report_last_vacation);\n            circleImageView = itemView.findViewById(R.id.report_profile_image);\n            reportRank = itemView.findViewById(R.id.report_rank);\n            reportNextVacation = itemView.findViewById(R.id.next_vacation);\n\n        }\n    }\n}\n</code></pre>\n<p>I don't get any idea how can I do this.\nI have the position number which will be show top of the all item.</p>\n"},{"tags":["java","sql","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":279943,"reputation":202411,"user_id":575376,"accept_rate":82,"display_name":"juergen d"},"score":0,"creation_date":1684987889,"post_id":76328877,"comment_id":134598575,"body_markdown":"That is not how you should design your table in SQL. SQL needs a fix design. What are you trying to do?","body":"That is not how you should design your table in SQL. SQL needs a fix design. What are you trying to do?"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1684988778,"post_id":76328877,"comment_id":134598650,"body_markdown":"If you use PostgreSQL, you can use the advantage of JSON type.","body":"If you use PostgreSQL, you can use the advantage of JSON type."},{"owner":{"account_id":28131153,"reputation":1,"user_id":21495678,"display_name":"John Asher Rayan"},"score":0,"creation_date":1684990669,"post_id":76328877,"comment_id":134598835,"body_markdown":"@juergend i have three input csv files 1st file 3 height (columns), 2nd file has 5 heights (columns), 3rd file has 10 heights (columns). each height has different values i want to save all height accordingly for different files","body":"@juergend i have three input csv files 1st file 3 height (columns), 2nd file has 5 heights (columns), 3rd file has 10 heights (columns). each height has different values i want to save all height accordingly for different files"},{"owner":{"account_id":28131153,"reputation":1,"user_id":21495678,"display_name":"John Asher Rayan"},"score":0,"creation_date":1685014146,"post_id":76328877,"comment_id":134603185,"body_markdown":"@NikolasCharalambidis is there a way to acheive something similar with sql","body":"@NikolasCharalambidis is there a way to acheive something similar with sql"}],"owner":{"account_id":28131153,"reputation":1,"user_id":21495678,"display_name":"John Asher Rayan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684987790,"creation_date":1684987790,"question_id":76328877,"body_markdown":"I am getting the number of columns (heights) to be created from an input file. And from there i have to create height 1 .... height n columns in sql. Not sure about the best practices fro creating list of columns directly on SQL database. \r\n\r\ni tried with List&lt;String&gt; as column attribute type assumming that it would create directly. SQL is not accepting list\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;precipitation&quot;)\r\npublic class Precipitation {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate int id;\r\n\r\n\t@Column(name = &quot;metric&quot;)\r\n\tprivate Metric metric;\r\n\r\n\t@Column(name=&quot;timeData&quot;)\r\n\tprivate TimeData timeData;\r\n\r\n\t@Column(name = &quot;description&quot;)\r\n\tprivate String description;\r\n\r\n\t@Column(name = &quot;unit&quot;)\r\n\tprivate String unit;\r\n\r\n\t@Column(name = &quot;isHeight&quot;)\r\n\tprivate String isHeight;\r\n\r\n\t@Column(name = &quot;heights&quot;)\r\n\tprivate List&lt;String&gt; heights;\r\n\r\n\t@Column(name = &quot;category&quot;)\r\n\tprivate String Category;`\r\n\r\n```","title":"How can I create a dynamic list of columns in SQL using Java, Spring Boot, and Hibernate?","body":"<p>I am getting the number of columns (heights) to be created from an input file. And from there i have to create height 1 .... height n columns in sql. Not sure about the best practices fro creating list of columns directly on SQL database.</p>\n<p>i tried with List as column attribute type assumming that it would create directly. SQL is not accepting list</p>\n<pre><code>@Entity\n@Table(name=&quot;precipitation&quot;)\npublic class Precipitation {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private int id;\n\n    @Column(name = &quot;metric&quot;)\n    private Metric metric;\n\n    @Column(name=&quot;timeData&quot;)\n    private TimeData timeData;\n\n    @Column(name = &quot;description&quot;)\n    private String description;\n\n    @Column(name = &quot;unit&quot;)\n    private String unit;\n\n    @Column(name = &quot;isHeight&quot;)\n    private String isHeight;\n\n    @Column(name = &quot;heights&quot;)\n    private List&lt;String&gt; heights;\n\n    @Column(name = &quot;category&quot;)\n    private String Category;`\n\n</code></pre>\n"},{"tags":["java","swing","listener","selection","jlist"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1683003517,"post_id":76151823,"comment_id":134296425,"body_markdown":"Each time `evenementsJlistValueChanged` is called, it&#39;s added ANOTHER `ListSelectionListener`.  Instead, in `evenementsJlistValueChanged`, just handle the event; ie, don&#39;t add any new listeners","body":"Each time <code>evenementsJlistValueChanged</code> is called, it&#39;s added ANOTHER <code>ListSelectionListener</code>.  Instead, in <code>evenementsJlistValueChanged</code>, just handle the event; ie, don&#39;t add any new listeners"},{"owner":{"account_id":17920917,"reputation":23,"user_id":13020799,"display_name":"Jay"},"score":0,"creation_date":1683003922,"post_id":76151823,"comment_id":134296463,"body_markdown":"@MadProgrammer thank you, this worked.\n\nI removed my other listener and adjusted my if clause accordingly.\n\nI&#39;ve done very simple Swing apps manually, but this one was more complex so I figured I would use the design tool and this is another ball game.","body":"@MadProgrammer thank you, this worked.  I removed my other listener and adjusted my if clause accordingly.  I&#39;ve done very simple Swing apps manually, but this one was more complex so I figured I would use the design tool and this is another ball game."},{"owner":{"account_id":17920917,"reputation":23,"user_id":13020799,"display_name":"Jay"},"score":0,"creation_date":1683091861,"post_id":76151823,"comment_id":134311445,"body_markdown":"@MadProgrammer just wanted to shout you out on this post : https://stackoverflow.com/questions/13102246/remove-the-selection-from-a-jlist-in-java-swing\n\nNot only did it solve my problem, but also got me into reading stacktraces and using them to solve a full cascade of other logic issues I had. I have come across many of your posts on Swing and they have been invaluable. Cheers.","body":"@MadProgrammer just wanted to shout you out on this post : <a href=\"https://stackoverflow.com/questions/13102246/remove-the-selection-from-a-jlist-in-java-swing\" title=\"remove the selection from a jlist in java swing\">stackoverflow.com/questions/13102246/&hellip;</a>  Not only did it solve my problem, but also got me into reading stacktraces and using them to solve a full cascade of other logic issues I had. I have come across many of your posts on Swing and they have been invaluable. Cheers."}],"answers":[{"tags":[],"owner":{"account_id":17920917,"reputation":23,"user_id":13020799,"display_name":"Jay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683004244,"creation_date":1683004244,"answer_id":76151872,"question_id":76151823,"body_markdown":"I&#39;m gonna go ahead and answer my own question, using the solution from @madprogrammer, who doesn&#39;t seem to be so mad after all.\r\n\r\n\r\nNetbeans auto generated the listener, so I didn&#39;t need another one.\r\n\r\nI changed my handler code to this in order to solve the problem : \r\n\r\n    private void evenementsJlistValueChanged(javax.swing.event.ListSelectionEvent evt) {                                             \r\n        // TODO add your handling code here:\r\n         if(!evt.getValueIsAdjusting()){\r\n            selectRssEvnt(evenementsJlist.getSelectedIndex());\r\n         }\r\n    }       ","title":"Every time I click on a Jlist item, the listener is invoked an increasing number of times even though my code only runs if(!e.getValueIsAdjusting())","body":"<p>I'm gonna go ahead and answer my own question, using the solution from @madprogrammer, who doesn't seem to be so mad after all.</p>\n<p>Netbeans auto generated the listener, so I didn't need another one.</p>\n<p>I changed my handler code to this in order to solve the problem :</p>\n<pre><code>private void evenementsJlistValueChanged(javax.swing.event.ListSelectionEvent evt) {                                             \n    // TODO add your handling code here:\n     if(!evt.getValueIsAdjusting()){\n        selectRssEvnt(evenementsJlist.getSelectedIndex());\n     }\n}       \n</code></pre>\n"}],"owner":{"account_id":17920917,"reputation":23,"user_id":13020799,"display_name":"Jay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76151872,"answer_count":1,"score":-1,"last_activity_date":1684987681,"creation_date":1683003256,"question_id":76151823,"body_markdown":"I&#39;m using Netbeans to create a jlist using the design tool, so there is auto generated code in there.\r\n\r\nI have seen a lot of people getting their listener invoked twice, which was corrected for them by adding the if statement below :\r\n\r\n        if(!e.getValueIsAdjusting()){//CODE TO RUN}\r\n\r\n\r\nHowever for me, when I click on the items they get fetched more times with each click. \r\n\r\nOUTPUT (index in jlist and object at that index in my Arraylist of objects) : \r\n\r\n    3\r\n    com.mycompany.rss.EvenementRssClasse@2c3a9a08\r\n    0\r\n    com.mycompany.rss.EvenementRssClasse@45fdde8e\r\n    0\r\n    com.mycompany.rss.EvenementRssClasse@45fdde8e\r\n    0\r\n    com.mycompany.rss.EvenementRssClasse@45fdde8e\r\n    1\r\n    com.mycompany.rss.EvenementRssClasse@2cefc4c2\r\n    1\r\n    com.mycompany.rss.EvenementRssClasse@2cefc4c2\r\n    1\r\n    com.mycompany.rss.EvenementRssClasse@2cefc4c2\r\n    1\r\n    com.mycompany.rss.EvenementRssClasse@2cefc4c2\r\n    1\r\n    com.mycompany.rss.EvenementRssClasse@2cefc4c2\r\n\r\n\r\nAnd so on. First click is a single fetch. Second click is 3 fetches, third click is five, etc.\r\n\r\n\r\n\r\nThis is the auto-generated declaration of that Jlist in netbeans : \r\n\r\n        evenementsJlist = new javax.swing.JList&lt;&gt;();\r\n\r\n\r\nAuto-generated definition :\r\n\r\n        evenementsJlist.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);\r\n        evenementsJlist.addListSelectionListener(new javax.swing.event.ListSelectionListener() {\r\n            public void valueChanged(javax.swing.event.ListSelectionEvent evt) {\r\n                evenementsJlistValueChanged(evt);\r\n            }\r\n        });\r\n        evenementsScrollPane.setViewportView(evenementsJlist);\r\n\r\n\r\n\r\nThis is my selection handler code : \r\n\r\n    private void evenementsJlistValueChanged(javax.swing.event.ListSelectionEvent evt) {                                             \r\n        // TODO add your handling code here:\r\n        evenementsJlist.addListSelectionListener(new ListSelectionListener(){\r\n            \r\n            @Override\r\n            public void valueChanged(ListSelectionEvent e){\r\n                if(!e.getValueIsAdjusting()){  \r\n                    //This is where I call my function to get the index of the selected event\r\n                    selectRssEvnt(evenementsJlist.getSelectedIndex());\r\n                }\r\n            }\r\n        });\r\n    }           \r\n\r\n\r\nMy selectRssEvt function. I just want to print out the received index, and then use it to print out the reference to that object in my arrayList of RSS events to validate. : \r\n\r\n    private void selectRssEvnt(int selIndex){\r\n        System.out.println(selIndex);\r\n        System.out.println(listeDesEvenementsRss.get(selIndex));\r\n    }\r\n\r\n\r\nI have tested selecting my items with the keyboard arrows and they also get printed an increasing number of times.\r\n\r\nI&#39;m using a laptop and a touch pad to make my selections, which I assume would be the same as mouseclick DOWN and mouseclick RELEASE.\r\n\r\n\r\nI have searched quite a lot for this and read all the similar questions, but it remains that apart from ListSelectionMode issues or the popular missing if(!e.getValueIsAdjusting()){} I have not been able to find any solution for this issue of increasing number of calls to the listener with each selection made.","title":"Every time I click on a Jlist item, the listener is invoked an increasing number of times even though my code only runs if(!e.getValueIsAdjusting())","body":"<p>I'm using Netbeans to create a jlist using the design tool, so there is auto generated code in there.</p>\n<p>I have seen a lot of people getting their listener invoked twice, which was corrected for them by adding the if statement below :</p>\n<pre><code>    if(!e.getValueIsAdjusting()){//CODE TO RUN}\n</code></pre>\n<p>However for me, when I click on the items they get fetched more times with each click.</p>\n<p>OUTPUT (index in jlist and object at that index in my Arraylist of objects) :</p>\n<pre><code>3\ncom.mycompany.rss.EvenementRssClasse@2c3a9a08\n0\ncom.mycompany.rss.EvenementRssClasse@45fdde8e\n0\ncom.mycompany.rss.EvenementRssClasse@45fdde8e\n0\ncom.mycompany.rss.EvenementRssClasse@45fdde8e\n1\ncom.mycompany.rss.EvenementRssClasse@2cefc4c2\n1\ncom.mycompany.rss.EvenementRssClasse@2cefc4c2\n1\ncom.mycompany.rss.EvenementRssClasse@2cefc4c2\n1\ncom.mycompany.rss.EvenementRssClasse@2cefc4c2\n1\ncom.mycompany.rss.EvenementRssClasse@2cefc4c2\n</code></pre>\n<p>And so on. First click is a single fetch. Second click is 3 fetches, third click is five, etc.</p>\n<p>This is the auto-generated declaration of that Jlist in netbeans :</p>\n<pre><code>    evenementsJlist = new javax.swing.JList&lt;&gt;();\n</code></pre>\n<p>Auto-generated definition :</p>\n<pre><code>    evenementsJlist.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);\n    evenementsJlist.addListSelectionListener(new javax.swing.event.ListSelectionListener() {\n        public void valueChanged(javax.swing.event.ListSelectionEvent evt) {\n            evenementsJlistValueChanged(evt);\n        }\n    });\n    evenementsScrollPane.setViewportView(evenementsJlist);\n</code></pre>\n<p>This is my selection handler code :</p>\n<pre><code>private void evenementsJlistValueChanged(javax.swing.event.ListSelectionEvent evt) {                                             \n    // TODO add your handling code here:\n    evenementsJlist.addListSelectionListener(new ListSelectionListener(){\n        \n        @Override\n        public void valueChanged(ListSelectionEvent e){\n            if(!e.getValueIsAdjusting()){  \n                //This is where I call my function to get the index of the selected event\n                selectRssEvnt(evenementsJlist.getSelectedIndex());\n            }\n        }\n    });\n}           \n</code></pre>\n<p>My selectRssEvt function. I just want to print out the received index, and then use it to print out the reference to that object in my arrayList of RSS events to validate. :</p>\n<pre><code>private void selectRssEvnt(int selIndex){\n    System.out.println(selIndex);\n    System.out.println(listeDesEvenementsRss.get(selIndex));\n}\n</code></pre>\n<p>I have tested selecting my items with the keyboard arrows and they also get printed an increasing number of times.</p>\n<p>I'm using a laptop and a touch pad to make my selections, which I assume would be the same as mouseclick DOWN and mouseclick RELEASE.</p>\n<p>I have searched quite a lot for this and read all the similar questions, but it remains that apart from ListSelectionMode issues or the popular missing if(!e.getValueIsAdjusting()){} I have not been able to find any solution for this issue of increasing number of calls to the listener with each selection made.</p>\n"},{"tags":["java","spring","spring-boot","ehcache","ehcache-2"],"comments":[{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":0,"creation_date":1572435826,"post_id":58624495,"comment_id":103556857,"body_markdown":"are you packaging both projects separately ?","body":"are you packaging both projects separately ?"},{"owner":{"account_id":5134668,"reputation":679,"user_id":4113809,"accept_rate":50,"display_name":"Bharathiraja S"},"score":0,"creation_date":1572436293,"post_id":58624495,"comment_id":103557097,"body_markdown":"@ShaileshChandra - No, While building Web project it will build Service and create single web.ear file.","body":"@ShaileshChandra - No, While building Web project it will build Service and create single web.ear file."},{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":0,"creation_date":1572436628,"post_id":58624495,"comment_id":103557278,"body_markdown":"this URL will help you , https://stackoverflow.com/questions/41985344/using-multiple-cache-implementations-with-spring-cache , though this URL used different type of cache but have enough information to configure","body":"this URL will help you , <a href=\"https://stackoverflow.com/questions/41985344/using-multiple-cache-implementations-with-spring-cache\" title=\"using multiple cache implementations with spring cache\">stackoverflow.com/questions/41985344/&hellip;</a> , though this URL used different type of cache but have enough information to configure"}],"answers":[{"tags":[],"owner":{"account_id":19359805,"reputation":1,"user_id":14155280,"display_name":"Shaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684987347,"creation_date":1684877751,"answer_id":76318803,"question_id":58624495,"body_markdown":"I had to do this as we have two ehcache configuration files, one in the main service and another in an included library.\r\nI created two cache managers in different ways as Spring doesn&#39;t allow two `EhCacheManagerFactoryBean` in the context and the config location is set soon after bean creation, so it cannot be updated.\r\n\r\nOne cache manager was created with the EhCacheManagerFactoryBean approach as shown in the above post, with a bean qualifier. And the other using `Cachemanager.create`\r\n\r\nHere is a code snippet showing the above two methods of creation:\r\n```  \r\n@Bean(&quot;ehCacheManager1&quot;)\r\nfun EhCacheCacheManager ehCacheCacheManager1(ehCacheManagerFactoryBean: CacheManager): EhCacheCacheManager =\r\n    EhCacheCacheManager(ehCacheManagerFactoryBean)\r\n\r\n@Bean(&quot;ehCacheManager2&quot;)\r\n@Primary\r\nfun ehCacheManager2(): EhCacheCacheManager {\r\n  val configLocation = cacheProperties().resolveConfigLocation(ClassPathResource(&quot;ehcache.xml&quot;))\r\n  return EhCacheCacheManager(CacheManager.create(configLocation.url))\r\n}\r\n\r\n@Bean\r\nfun cacheProperties() = CacheProperties()\r\n\r\n","title":"To have 2 ehcache.xml in web and service project","body":"<p>I had to do this as we have two ehcache configuration files, one in the main service and another in an included library.\nI created two cache managers in different ways as Spring doesn't allow two <code>EhCacheManagerFactoryBean</code> in the context and the config location is set soon after bean creation, so it cannot be updated.</p>\n<p>One cache manager was created with the EhCacheManagerFactoryBean approach as shown in the above post, with a bean qualifier. And the other using <code>Cachemanager.create</code></p>\n<p>Here is a code snippet showing the above two methods of creation:</p>\n<pre><code>@Bean(&quot;ehCacheManager1&quot;)\nfun EhCacheCacheManager ehCacheCacheManager1(ehCacheManagerFactoryBean: CacheManager): EhCacheCacheManager =\n    EhCacheCacheManager(ehCacheManagerFactoryBean)\n\n@Bean(&quot;ehCacheManager2&quot;)\n@Primary\nfun ehCacheManager2(): EhCacheCacheManager {\n  val configLocation = cacheProperties().resolveConfigLocation(ClassPathResource(&quot;ehcache.xml&quot;))\n  return EhCacheCacheManager(CacheManager.create(configLocation.url))\n}\n\n@Bean\nfun cacheProperties() = CacheProperties()\n\n</code></pre>\n"}],"owner":{"account_id":5134668,"reputation":679,"user_id":4113809,"accept_rate":50,"display_name":"Bharathiraja S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684987347,"creation_date":1572435277,"question_id":58624495,"body_markdown":"I have a services project and web project. I need to have eh-cache in both projects.\r\n\r\nHere some time service project work via batch as well. So we need a separate cache in web and service project.\r\n\r\nAt this point, my web project also uses eh-cache for its own purposes. I am not much experienced with eh-cache and I fear that the two projects might clash when deployed together. I also did not find relevant information on eh-cache site.\r\n\r\nCan you provide me some information how to best configure the two projects, so that I can achieve the above requirements?\r\n\r\n**Web Project:**\r\n\r\n    @Bean\r\n\tpublic EhCacheCacheManager ehCacheCacheManager() {\r\n\t\tnet.sf.ehcache.CacheManager cacheManager = ehCacheManagerFactoryBean().getObject();\r\n\t\treturn new EhCacheCacheManager(cacheManager);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic EhCacheManagerFactoryBean ehCacheManagerFactoryBean() {\r\n\t\tEhCacheManagerFactoryBean cacheManagerFactoryBean = new EhCacheManagerFactoryBean();\r\n\t\tcacheManagerFactoryBean.setConfigLocation(new ClassPathResource(&quot;ehcache.xml&quot;));\r\n\t\tcacheManagerFactoryBean.setShared(true);\r\n\t\treturn cacheManagerFactoryBean;\r\n\t}\r\n\r\n**Service Project:**\r\n\r\n    @Bean\r\n\tpublic IServiceCacheManager cacheManager() {\r\n\t\treturn new ServiceCacheManager();\r\n\t}\r\n\r\n    public ServiceCacheManager() {\r\n\t\tEhCacheManagerFactoryBean factory = new EhCacheManagerFactoryBean();\r\n        factory.setConfigLocation(new ClassPathResource(&quot;service-ehcache.xml&quot;));\r\n        factory.setShared(true);\r\n        factory.afterPropertiesSet();\r\n        setCacheManager(factory.getObject());\r\n\t}\r\n\t\r\n\tpublic ServiceCacheManager(net.sf.ehcache.CacheManager cacheManager) {\r\n\t\tsuper(cacheManager);\r\n\t}\r\n\r\nAlso, I have tried to given bean name as well. Like below.\r\n\r\n    @Bean(name=&quot;WebCacheManager&quot;)\r\n    \tpublic EhCacheCacheManager ehCacheCacheManager() {\r\n    \t\tnet.sf.ehcache.CacheManager cacheManager = ehCacheManagerFactoryBean().getObject();\r\n    \t\treturn new EhCacheCacheManager(cacheManager);\r\n    \t}\r\n\r\n\r\n    @Bean(name=&quot;ServiceCacheManager&quot;)\r\n    \tpublic ServiceCacheManager cacheManager() {\r\n    \t\treturn new CBAEngineCacheManager();\r\n    \t}\r\n\r\nAbove configuration also not worked.\r\n\r\nThanks!\r\nBharathi","title":"To have 2 ehcache.xml in web and service project","body":"<p>I have a services project and web project. I need to have eh-cache in both projects.</p>\n\n<p>Here some time service project work via batch as well. So we need a separate cache in web and service project.</p>\n\n<p>At this point, my web project also uses eh-cache for its own purposes. I am not much experienced with eh-cache and I fear that the two projects might clash when deployed together. I also did not find relevant information on eh-cache site.</p>\n\n<p>Can you provide me some information how to best configure the two projects, so that I can achieve the above requirements?</p>\n\n<p><strong>Web Project:</strong></p>\n\n<pre><code>@Bean\npublic EhCacheCacheManager ehCacheCacheManager() {\n    net.sf.ehcache.CacheManager cacheManager = ehCacheManagerFactoryBean().getObject();\n    return new EhCacheCacheManager(cacheManager);\n}\n\n@Bean\npublic EhCacheManagerFactoryBean ehCacheManagerFactoryBean() {\n    EhCacheManagerFactoryBean cacheManagerFactoryBean = new EhCacheManagerFactoryBean();\n    cacheManagerFactoryBean.setConfigLocation(new ClassPathResource(\"ehcache.xml\"));\n    cacheManagerFactoryBean.setShared(true);\n    return cacheManagerFactoryBean;\n}\n</code></pre>\n\n<p><strong>Service Project:</strong></p>\n\n<pre><code>@Bean\npublic IServiceCacheManager cacheManager() {\n    return new ServiceCacheManager();\n}\n\npublic ServiceCacheManager() {\n    EhCacheManagerFactoryBean factory = new EhCacheManagerFactoryBean();\n    factory.setConfigLocation(new ClassPathResource(\"service-ehcache.xml\"));\n    factory.setShared(true);\n    factory.afterPropertiesSet();\n    setCacheManager(factory.getObject());\n}\n\npublic ServiceCacheManager(net.sf.ehcache.CacheManager cacheManager) {\n    super(cacheManager);\n}\n</code></pre>\n\n<p>Also, I have tried to given bean name as well. Like below.</p>\n\n<pre><code>@Bean(name=\"WebCacheManager\")\n    public EhCacheCacheManager ehCacheCacheManager() {\n        net.sf.ehcache.CacheManager cacheManager = ehCacheManagerFactoryBean().getObject();\n        return new EhCacheCacheManager(cacheManager);\n    }\n\n\n@Bean(name=\"ServiceCacheManager\")\n    public ServiceCacheManager cacheManager() {\n        return new CBAEngineCacheManager();\n    }\n</code></pre>\n\n<p>Above configuration also not worked.</p>\n\n<p>Thanks!\nBharathi</p>\n"},{"tags":["java","hashmap","sub-array"],"comments":[{"owner":{"account_id":18284632,"reputation":2738,"user_id":13312820,"display_name":"Most Noble Rabbit"},"score":0,"creation_date":1621780528,"post_id":67657732,"comment_id":119593384,"body_markdown":"Are you willing to accept alternatives?","body":"Are you willing to accept alternatives?"},{"owner":{"account_id":20688299,"reputation":38,"user_id":15190249,"display_name":"Mayank Srivastava"},"score":0,"creation_date":1621976367,"post_id":67657732,"comment_id":119656066,"body_markdown":"Yes.. Please help","body":"Yes.. Please help"},{"owner":{"account_id":18284632,"reputation":2738,"user_id":13312820,"display_name":"Most Noble Rabbit"},"score":0,"creation_date":1621977174,"post_id":67657732,"comment_id":119656280,"body_markdown":"Can you provide more details?\nAre integers positive only?\nPlease provide an example of input and it&#39;s expected output","body":"Can you provide more details? Are integers positive only? Please provide an example of input and it&#39;s expected output"}],"answers":[{"tags":[],"owner":{"account_id":21380812,"reputation":109,"user_id":15746762,"display_name":"Shashwat Shukla"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1623916464,"creation_date":1623916464,"answer_id":68015151,"question_id":67657732,"body_markdown":"You can use this approach and run this code, It may pass the hidden test case.\r\n\r\n    #include &lt;bits/stdc++.h&gt;\r\n    using namespace std;\r\n    int maxValue(int arr[], int n) {\r\n       unordered_map&lt;int, int&gt; startIndex, endIndex;\r\n       int sumArr[n];\r\n       sumArr[0] = arr[0];\r\n       for (int i = 1; i &lt; n; i++) {\r\n          sumArr[i] = sumArr[i − 1] + arr[i];\r\n          if (startIndex[arr[i]] == 0)\r\n             startIndex[arr[i]] = i;\r\n          endIndex[arr[i]] = i;\r\n       }\r\n       int maxSum = 0;\r\n       for (int i = 0; i &lt; n; i++) {\r\n          int left = startIndex[arr[i]];\r\n          int right = endIndex[arr[i]];\r\n          maxSum = max(maxSum, sumArr[right] − sumArr[left − 1]);\r\n       }\r\n       return maxSum;\r\n    }\r\n    int main() {\r\n       int arr[] = { 2, 1, 3, 5, 6, 2, 4, 3 };\r\n       int n = sizeof(arr) / sizeof(arr[0]); \r\n       cout&lt;&lt;&quot;The maximum sum subarray such that start and end values are same is &quot;&lt;&lt;maxValue(arr, n);\r\n       return 0;\r\n    }","title":"Maximum sum subarray which have same start and end values","body":"<p>You can use this approach and run this code, It may pass the hidden test case.</p>\n<pre><code>#include &lt;bits/stdc++.h&gt;\nusing namespace std;\nint maxValue(int arr[], int n) {\n   unordered_map&lt;int, int&gt; startIndex, endIndex;\n   int sumArr[n];\n   sumArr[0] = arr[0];\n   for (int i = 1; i &lt; n; i++) {\n      sumArr[i] = sumArr[i − 1] + arr[i];\n      if (startIndex[arr[i]] == 0)\n         startIndex[arr[i]] = i;\n      endIndex[arr[i]] = i;\n   }\n   int maxSum = 0;\n   for (int i = 0; i &lt; n; i++) {\n      int left = startIndex[arr[i]];\n      int right = endIndex[arr[i]];\n      maxSum = max(maxSum, sumArr[right] − sumArr[left − 1]);\n   }\n   return maxSum;\n}\nint main() {\n   int arr[] = { 2, 1, 3, 5, 6, 2, 4, 3 };\n   int n = sizeof(arr) / sizeof(arr[0]); \n   cout&lt;&lt;&quot;The maximum sum subarray such that start and end values are same is &quot;&lt;&lt;maxValue(arr, n);\n   return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user21954329"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684986136,"creation_date":1684986136,"answer_id":76328780,"question_id":67657732,"body_markdown":"logic used to store last HaspMap in your code is storing the first occurrence modified code:( use this for instead of 2 and 3 for loop )\r\n\r\n    for(int i=0; i&lt;arr.size(); i++) {\r\n            if(first.get(arr.get(i)) == -1)\r\n                first.replace(arr.get(i), I);\r\n            last.replace(arr.get(i), i);\r\n    }","title":"Maximum sum subarray which have same start and end values","body":"<p>logic used to store last HaspMap in your code is storing the first occurrence modified code:( use this for instead of 2 and 3 for loop )</p>\n<pre><code>for(int i=0; i&lt;arr.size(); i++) {\n        if(first.get(arr.get(i)) == -1)\n            first.replace(arr.get(i), I);\n        last.replace(arr.get(i), i);\n}\n</code></pre>\n"}],"owner":{"account_id":20688299,"reputation":38,"user_id":15190249,"display_name":"Mayank Srivastava"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":806,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":68015151,"answer_count":2,"score":-1,"last_activity_date":1684986136,"creation_date":1621758634,"question_id":67657732,"body_markdown":"My approach is to calculate the first and last occurrence of every element in HashMap. And then maintain a prefix sum of the array. Then calculating the sum on the basis of first and last occurrence. My code is running fine in sample test cases. But getting failed in hidden one.\r\n\r\n```java\r\npublic static int maximumSum(ArrayList&lt;Integer&gt;arr) {\r\n\r\n    LinkedHashMap&lt;Integer, Integer&gt; first = new LinkedHashMap&lt;&gt;();\r\n    LinkedHashMap&lt;Integer, Integer&gt; last = new LinkedHashMap&lt;&gt;();\r\n    ArrayList&lt;Integer&gt; preSum = new ArrayList&lt;&gt;();\r\n    int curSum = 0;\r\n    int maxSum = 0;\r\n    \r\n    preSum.add(arr.get(0));\r\n    \r\n    for(int x : arr) {\r\n        first.put(x, -1);\r\n        last.put(x, -1);\r\n    }\r\n    \r\n    for(int i=0; i&lt;arr.size(); i++) {\r\n        if(first.get(arr.get(i)) == -1)\r\n            first.replace(arr.get(i), i);\r\n    }\r\n    for(int i=arr.size()-1; i&gt;=0; i--) {\r\n        if(last.get(arr.get(i)) == -1)\r\n            last.replace(arr.get(i), i);\r\n    }\r\n    \r\n    for(int i=1; i&lt;arr.size(); i++)\r\n        preSum.add(arr.get(i)+preSum.get(i-1));\r\n        \r\n    for(Map.Entry&lt;Integer, Integer&gt; e : first.entrySet()) {\r\n        curSum = 0;\r\n        \r\n        int f = e.getValue();\r\n        int l = last.get(e.getKey());\r\n        \r\n        if(f == 0 || l == 0)\r\n            curSum = preSum.get(l);\r\n        else\r\n            curSum = preSum.get(l)-preSum.get(f-1);\r\n\r\n        if(curSum &gt; maxSum)\r\n            maxSum = curSum;\r\n    }\r\n    \r\n    return maxSum;\r\n    \r\n}\r\n```","title":"Maximum sum subarray which have same start and end values","body":"<p>My approach is to calculate the first and last occurrence of every element in HashMap. And then maintain a prefix sum of the array. Then calculating the sum on the basis of first and last occurrence. My code is running fine in sample test cases. But getting failed in hidden one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int maximumSum(ArrayList&lt;Integer&gt;arr) {\n\n    LinkedHashMap&lt;Integer, Integer&gt; first = new LinkedHashMap&lt;&gt;();\n    LinkedHashMap&lt;Integer, Integer&gt; last = new LinkedHashMap&lt;&gt;();\n    ArrayList&lt;Integer&gt; preSum = new ArrayList&lt;&gt;();\n    int curSum = 0;\n    int maxSum = 0;\n    \n    preSum.add(arr.get(0));\n    \n    for(int x : arr) {\n        first.put(x, -1);\n        last.put(x, -1);\n    }\n    \n    for(int i=0; i&lt;arr.size(); i++) {\n        if(first.get(arr.get(i)) == -1)\n            first.replace(arr.get(i), i);\n    }\n    for(int i=arr.size()-1; i&gt;=0; i--) {\n        if(last.get(arr.get(i)) == -1)\n            last.replace(arr.get(i), i);\n    }\n    \n    for(int i=1; i&lt;arr.size(); i++)\n        preSum.add(arr.get(i)+preSum.get(i-1));\n        \n    for(Map.Entry&lt;Integer, Integer&gt; e : first.entrySet()) {\n        curSum = 0;\n        \n        int f = e.getValue();\n        int l = last.get(e.getKey());\n        \n        if(f == 0 || l == 0)\n            curSum = preSum.get(l);\n        else\n            curSum = preSum.get(l)-preSum.get(f-1);\n\n        if(curSum &gt; maxSum)\n            maxSum = curSum;\n    }\n    \n    return maxSum;\n    \n}\n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa","querydsl","blaze-persistence"],"comments":[{"owner":{"account_id":22844684,"reputation":3,"user_id":16991182,"display_name":"pterogum"},"score":1,"creation_date":1684997911,"post_id":76328730,"comment_id":134599843,"body_markdown":"to be more precise, the syntax error is related to the nested union in the union-all. It seems my version of Mysql does not support nested unions. If I simply remove the parenthesis and tweak the select part a bit, the sql will work functionally.","body":"to be more precise, the syntax error is related to the nested union in the union-all. It seems my version of Mysql does not support nested unions. If I simply remove the parenthesis and tweak the select part a bit, the sql will work functionally."}],"owner":{"account_id":22844684,"reputation":3,"user_id":16991182,"display_name":"pterogum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684985226,"creation_date":1684985226,"question_id":76328730,"body_markdown":"I run in to a syntax problem where a union cannot be inside a union-all block when I attempt to use blaze persistence with queryDsl integration.\r\n\r\nI am trying to union the result of two tables into one. Here is my original code:\r\n\r\n``` java\r\nblazeJPAQueryFactory\r\n                .select(\r\n                        QLikeRecordCte.likeRecordCte.id,\r\n                        QLikeRecordCte.likeRecordCte.createTime,\r\n                        QLikeRecordCte.likeRecordCte.userId,\r\n                        QLikeRecordCte.likeRecordCte.actionId\r\n                )\r\n                .from(\r\n                        JPQLNextExpressions.select(QLikeRecordCte.likeRecordCte)\r\n                                .union(\r\n                                        JPQLNextExpressions.select(QLikeRecordCte.likeRecordCte)\r\n                                                .from(QTopicCommentLikeRecordEntity.topicCommentLikeRecordEntity)\r\n                                                .bind(QLikeRecordCte.likeRecordCte.id, QTopicCommentLikeRecordEntity.topicCommentLikeRecordEntity.id)\r\n                                                .bind(QLikeRecordCte.likeRecordCte.userId, QTopicCommentLikeRecordEntity.topicCommentLikeRecordEntity.userId)\r\n                                                .bind(QLikeRecordCte.likeRecordCte.createTime, QTopicCommentLikeRecordEntity.topicCommentLikeRecordEntity.createTime)\r\n                                                .bind(QLikeRecordCte.likeRecordCte.actionId, QTopicCommentLikeRecordEntity.topicCommentLikeRecordEntity.commentId),\r\n                                        JPQLNextExpressions.select(QLikeRecordCte.likeRecordCte)\r\n                                                .from(QTopicTitleLikeRecordEntity.topicTitleLikeRecordEntity)\r\n                                                .bind(QLikeRecordCte.likeRecordCte.id, QTopicTitleLikeRecordEntity.topicTitleLikeRecordEntity.id)\r\n                                                .bind(QLikeRecordCte.likeRecordCte.userId, QTopicTitleLikeRecordEntity.topicTitleLikeRecordEntity.userId)\r\n                                                .bind(QLikeRecordCte.likeRecordCte.createTime, QTopicTitleLikeRecordEntity.topicTitleLikeRecordEntity.createTime)\r\n                                                .bind(QLikeRecordCte.likeRecordCte.actionId, QTopicTitleLikeRecordEntity.topicTitleLikeRecordEntity.titleId)\r\n\r\n                                )\r\n                        ,\r\n                        QLikeRecordCte.likeRecordCte\r\n                ).fetch()\r\n```\r\n\r\nrun this code and hibernate produces the following sql:\r\n\r\n``` sql\r\nselect\r\n\tlikerecord0_.id as id1_0_,\r\n\tlikerecord0_.action_id as action_i2_0_,\r\n\tlikerecord0_.create_time as create_t3_0_,\r\n\tlikerecord0_.user_id as user_id4_0_\r\nfrom\r\n\t(\r\n\tselect\r\n\t\tnull id,\r\n\t\tnull user_id,\r\n\t\tnull create_time,\r\n\t\tnull action_id\r\n\tfrom\r\n\t\tdual\r\n\twhere\r\n\t\t1 = 0\r\nunion all (\r\n\tselect\r\n\t\ttopiccomme0_.id as col_0_0_,\r\n\t\ttopiccomme0_.user_id as col_1_0_,\r\n\t\ttopiccomme0_.create_time as col_2_0_,\r\n\t\ttopiccomme0_.comment_id as col_3_0_\r\n\tfrom\r\n\t\tt_topic_comment_like_record topiccomme0_\r\n\twhere\r\n\t\t( topiccomme0_.del_flag = 0)\r\nunion\r\n\tselect\r\n\t\ttopictitle0_.id as col_0_0_,\r\n\t\ttopictitle0_.user_id as col_1_0_,\r\n\t\ttopictitle0_.create_time as col_2_0_,\r\n\t\ttopictitle0_.title_id as col_3_0_\r\n\tfrom\r\n\t\tt_topic_title_like_record topictitle0_\r\n\twhere\r\n\t\t( topictitle0_.del_flag = 0))) likerecord0_\r\n```\r\n(you can ignore the `del_flag = 0` part as it does not influence the result)\r\n\r\nsince there is a union inside the union-all block, I get a sql error `heck the manual that corresponds to your MySQL server version for the right syntax to use near &#39;union`\r\n\r\nwell the produced sql is at least conceptually clear and it would work if I just remove the whole &#39;select from dual and union all&#39; part. I don&#39;t know why blaze have to wrap it with an union-all though.\r\n\r\nAnyway I want the generated hibernate sql to be like this or at least close to the form of this:\r\n\r\n``` sql\r\nselect\r\n\tlike_record.id,\r\n\tlike_record.create_time,\r\n\tlike_record.user_id,\r\n\tlike_record.action_id\r\nfrom (\r\n\tselect\r\n\t\tt1.id as id,\r\n\t\tt1.user_id as user_id,\r\n\t\tt1.create_time as create_time,\r\n\t\tt1.comment_id as action_id\r\n\tfrom\r\n\t\tt_topic_comment_like_record t1\r\nunion\r\n\tselect\r\n\t\tt2.id as id,\r\n\t\tt2.user_id as user_id,\r\n\t\tt2.create_time as create_time,\r\n\t\tt2.title_id as action_id\r\n\tfrom\r\n\t\tt_topic_title_like_record t2\r\n) like_record\r\n```\r\n\r\nPlease anyone tell me why the error occur and how to fix it. Any help is appreciated.","title":"Blaze Persistent CTE union subqueries in combination of queryDSL lead to syntax errors","body":"<p>I run in to a syntax problem where a union cannot be inside a union-all block when I attempt to use blaze persistence with queryDsl integration.</p>\n<p>I am trying to union the result of two tables into one. Here is my original code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>blazeJPAQueryFactory\n                .select(\n                        QLikeRecordCte.likeRecordCte.id,\n                        QLikeRecordCte.likeRecordCte.createTime,\n                        QLikeRecordCte.likeRecordCte.userId,\n                        QLikeRecordCte.likeRecordCte.actionId\n                )\n                .from(\n                        JPQLNextExpressions.select(QLikeRecordCte.likeRecordCte)\n                                .union(\n                                        JPQLNextExpressions.select(QLikeRecordCte.likeRecordCte)\n                                                .from(QTopicCommentLikeRecordEntity.topicCommentLikeRecordEntity)\n                                                .bind(QLikeRecordCte.likeRecordCte.id, QTopicCommentLikeRecordEntity.topicCommentLikeRecordEntity.id)\n                                                .bind(QLikeRecordCte.likeRecordCte.userId, QTopicCommentLikeRecordEntity.topicCommentLikeRecordEntity.userId)\n                                                .bind(QLikeRecordCte.likeRecordCte.createTime, QTopicCommentLikeRecordEntity.topicCommentLikeRecordEntity.createTime)\n                                                .bind(QLikeRecordCte.likeRecordCte.actionId, QTopicCommentLikeRecordEntity.topicCommentLikeRecordEntity.commentId),\n                                        JPQLNextExpressions.select(QLikeRecordCte.likeRecordCte)\n                                                .from(QTopicTitleLikeRecordEntity.topicTitleLikeRecordEntity)\n                                                .bind(QLikeRecordCte.likeRecordCte.id, QTopicTitleLikeRecordEntity.topicTitleLikeRecordEntity.id)\n                                                .bind(QLikeRecordCte.likeRecordCte.userId, QTopicTitleLikeRecordEntity.topicTitleLikeRecordEntity.userId)\n                                                .bind(QLikeRecordCte.likeRecordCte.createTime, QTopicTitleLikeRecordEntity.topicTitleLikeRecordEntity.createTime)\n                                                .bind(QLikeRecordCte.likeRecordCte.actionId, QTopicTitleLikeRecordEntity.topicTitleLikeRecordEntity.titleId)\n\n                                )\n                        ,\n                        QLikeRecordCte.likeRecordCte\n                ).fetch()\n</code></pre>\n<p>run this code and hibernate produces the following sql:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select\n    likerecord0_.id as id1_0_,\n    likerecord0_.action_id as action_i2_0_,\n    likerecord0_.create_time as create_t3_0_,\n    likerecord0_.user_id as user_id4_0_\nfrom\n    (\n    select\n        null id,\n        null user_id,\n        null create_time,\n        null action_id\n    from\n        dual\n    where\n        1 = 0\nunion all (\n    select\n        topiccomme0_.id as col_0_0_,\n        topiccomme0_.user_id as col_1_0_,\n        topiccomme0_.create_time as col_2_0_,\n        topiccomme0_.comment_id as col_3_0_\n    from\n        t_topic_comment_like_record topiccomme0_\n    where\n        ( topiccomme0_.del_flag = 0)\nunion\n    select\n        topictitle0_.id as col_0_0_,\n        topictitle0_.user_id as col_1_0_,\n        topictitle0_.create_time as col_2_0_,\n        topictitle0_.title_id as col_3_0_\n    from\n        t_topic_title_like_record topictitle0_\n    where\n        ( topictitle0_.del_flag = 0))) likerecord0_\n</code></pre>\n<p>(you can ignore the <code>del_flag = 0</code> part as it does not influence the result)</p>\n<p>since there is a union inside the union-all block, I get a sql error <code>heck the manual that corresponds to your MySQL server version for the right syntax to use near 'union</code></p>\n<p>well the produced sql is at least conceptually clear and it would work if I just remove the whole 'select from dual and union all' part. I don't know why blaze have to wrap it with an union-all though.</p>\n<p>Anyway I want the generated hibernate sql to be like this or at least close to the form of this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select\n    like_record.id,\n    like_record.create_time,\n    like_record.user_id,\n    like_record.action_id\nfrom (\n    select\n        t1.id as id,\n        t1.user_id as user_id,\n        t1.create_time as create_time,\n        t1.comment_id as action_id\n    from\n        t_topic_comment_like_record t1\nunion\n    select\n        t2.id as id,\n        t2.user_id as user_id,\n        t2.create_time as create_time,\n        t2.title_id as action_id\n    from\n        t_topic_title_like_record t2\n) like_record\n</code></pre>\n<p>Please anyone tell me why the error occur and how to fix it. Any help is appreciated.</p>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1684971559,"post_id":76317883,"comment_id":134597127,"body_markdown":"What&#39;s the error that the compiler is showing?","body":"What&#39;s the error that the compiler is showing?"},{"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":0,"creation_date":1684975035,"post_id":76317883,"comment_id":134597479,"body_markdown":"Its 2 compiler errors, one for `getKey()` and the other for `getValue()`, but it is the same error for both: `Cannot resolve method &#39;getKey&#39; in &#39;Object&#39;`.","body":"Its 2 compiler errors, one for <code>getKey()</code> and the other for <code>getValue()</code>, but it is the same error for both: <code>Cannot resolve method &#39;getKey&#39; in &#39;Object&#39;</code>."}],"answers":[{"tags":[],"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684984860,"creation_date":1684984860,"answer_id":76328702,"question_id":76317883,"body_markdown":"The problem is when you are doing \r\n\r\n```java\r\nArrays.asList(\r\n  dfMap         // Map&lt;String,String&gt;\r\n    .entrySet() // Set&lt;Map.Entry&lt;String,String&gt;&gt;\r\n    .toArray()  // Object[]\r\n)\r\n```\r\n\r\nSo, when try to do \r\n\r\n```java\r\nsparkContext.parallelize(Arrays.asList(dfMap.entrySet().toArray()))\r\n``` \r\n\r\nThe return of that call is `JavaRDD&lt;Object&gt;`. That&#39;s why the compiler is showing `Cannot resolve method &#39;getKey&#39; in &#39;Object&#39;`, because when you call `map`, it infers that the lambda parameter is an `Object`.\r\n\r\nNot sure what you are exactly trying to do with this piece of code. The method `entrySet()` will return a `Set` of `Map.Entry` which represent a key-value pair. If you just need to convert that to a `List` of key-value pair, you should replace\r\n\r\n```java\r\nArrays.asList(dfMap.entrySet().toArray())\r\n```\r\n\r\nfor \r\n\r\n```java\r\nnew ArrayList&lt;&gt;(dfMap.entrySet())\r\n```","title":"Parallelizing over a Map in Spark SQL&#39;s Java API","body":"<p>The problem is when you are doing</p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.asList(\n  dfMap         // Map&lt;String,String&gt;\n    .entrySet() // Set&lt;Map.Entry&lt;String,String&gt;&gt;\n    .toArray()  // Object[]\n)\n</code></pre>\n<p>So, when try to do</p>\n<pre class=\"lang-java prettyprint-override\"><code>sparkContext.parallelize(Arrays.asList(dfMap.entrySet().toArray()))\n</code></pre>\n<p>The return of that call is <code>JavaRDD&lt;Object&gt;</code>. That's why the compiler is showing <code>Cannot resolve method 'getKey' in 'Object'</code>, because when you call <code>map</code>, it infers that the lambda parameter is an <code>Object</code>.</p>\n<p>Not sure what you are exactly trying to do with this piece of code. The method <code>entrySet()</code> will return a <code>Set</code> of <code>Map.Entry</code> which represent a key-value pair. If you just need to convert that to a <code>List</code> of key-value pair, you should replace</p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.asList(dfMap.entrySet().toArray())\n</code></pre>\n<p>for</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ArrayList&lt;&gt;(dfMap.entrySet())\n</code></pre>\n"}],"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76328702,"answer_count":1,"score":1,"last_activity_date":1684984860,"creation_date":1684868526,"question_id":76317883,"body_markdown":"Java 11 here using Spark SQL&#39;s **Java API** (not Scala!). I am trying to convert a `Map&lt;String,String&gt;` into a `Dataset&lt;Row&gt;` that have 2 String columns. My best attempt is:\r\n```\r\npublic Dataset&lt;Row&gt; createKeyValueDataFrame(Map&lt;String,String&gt; dfMap, String keyColName, String valueColName) {\r\n\r\n    JavaSparkContext sparkContext = new JavaSparkContext(sparkSession.sparkContext());\r\n\r\n    JavaRDD&lt;Row&gt; rdd = sparkContext.parallelize(Arrays.asList(dfMap.entrySet().toArray()))\r\n        .map(entry -&gt; RowFactory.create(entry.getKey(), entry.getValue()));\r\n\r\n    StructType schema = new StructType()\r\n        .add(keyColName, DataTypes.StringType)\r\n        .add(valueColName, DataTypes.StringType);\r\n\r\n    return sparkSession.createDataFrame(rdd, schema);\r\n\r\n}\r\n```\r\n\r\nHowever I&#39;m getting compiler errors on `entry.getKey()` and `entry.getValue()`. Can anyone spot why I&#39;m getting these errors and help me figure out what the fix is? Thanks in advance!","title":"Parallelizing over a Map in Spark SQL&#39;s Java API","body":"<p>Java 11 here using Spark SQL's <strong>Java API</strong> (not Scala!). I am trying to convert a <code>Map&lt;String,String&gt;</code> into a <code>Dataset&lt;Row&gt;</code> that have 2 String columns. My best attempt is:</p>\n<pre><code>public Dataset&lt;Row&gt; createKeyValueDataFrame(Map&lt;String,String&gt; dfMap, String keyColName, String valueColName) {\n\n    JavaSparkContext sparkContext = new JavaSparkContext(sparkSession.sparkContext());\n\n    JavaRDD&lt;Row&gt; rdd = sparkContext.parallelize(Arrays.asList(dfMap.entrySet().toArray()))\n        .map(entry -&gt; RowFactory.create(entry.getKey(), entry.getValue()));\n\n    StructType schema = new StructType()\n        .add(keyColName, DataTypes.StringType)\n        .add(valueColName, DataTypes.StringType);\n\n    return sparkSession.createDataFrame(rdd, schema);\n\n}\n</code></pre>\n<p>However I'm getting compiler errors on <code>entry.getKey()</code> and <code>entry.getValue()</code>. Can anyone spot why I'm getting these errors and help me figure out what the fix is? Thanks in advance!</p>\n"},{"tags":["java","spring-boot","validation"],"comments":[{"owner":{"account_id":7840591,"reputation":198,"user_id":5927289,"display_name":"Mario Petrovic"},"score":0,"creation_date":1684773959,"post_id":76308168,"comment_id":134562611,"body_markdown":"you can check here, it is simular problem with jsonIgnore https://stackoverflow.com/questions/19894955/spring-jsonignore-not-working","body":"you can check here, it is simular problem with jsonIgnore <a href=\"https://stackoverflow.com/questions/19894955/spring-jsonignore-not-working\" title=\"spring jsonignore not working\">stackoverflow.com/questions/19894955/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14306417,"reputation":9,"user_id":10334175,"display_name":"Masoud.Najafi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684774453,"creation_date":1684774453,"answer_id":76308386,"question_id":76308168,"body_markdown":"Maybe its better to have another DTO to map requested object(here SampleApiDto) to what data layer wants.","title":"How to implement static validation for a generated ID?","body":"<p>Maybe its better to have another DTO to map requested object(here SampleApiDto) to what data layer wants.</p>\n"},{"tags":[],"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684791753,"creation_date":1684791753,"answer_id":76310079,"question_id":76308168,"body_markdown":"You can utilize Bean Validation capabilities with validation groups to achieve your desired outcome. A validation group is a concept in Java Bean Validation that allows you to group validation constraints and apply them selectively based on different scenarios or use cases.\r\n\r\nFirst, you need to define validation group marker interface:\r\n```java\r\ninterface OnCreate {}\r\n```\r\n\r\nThen you should add validation to your `id` field (I&#39;ve changed a type from primitive to Long wrapper). We suppose that the client should not send `id`, so the field should be null: \r\n```java\r\n@Null(groups = OnCreate.class)\r\nprivate Long id;\r\n```\r\n\r\nFinally, in your controller, you should specify the validation group in desired endpoint:\r\n```java\r\n\r\n@PostMapping(&quot;/sample&quot;)\r\npublic ResponseEntity&lt;?&gt; createSample(@Validated(OnCreate.class) @RequestBody SampleApiDto dto, BindingResult result) {\r\n    if (result.hasErrors()) {\r\n        // Handle validation errors\r\n        return ResponseEntity.badRequest().body(&quot;Validation error&quot;);\r\n    }\r\n        \r\n    // Process the payload and return appropriate response\r\n    // ...\r\n}\r\n```\r\n\r\nYou can read more here:\r\n\r\nhttps://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html#validationapi-validatorapi-groups\r\n\r\nhttps://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html#constraintdeclarationvalidationprocess-groupsequence\r\n\r\nAnd make sure your spring application is configured properly to use bean validation:\r\n\r\nhttps://docs.spring.io/spring-framework/reference/core/validation/beanvalidation.html#validation-beanvalidation-overview","title":"How to implement static validation for a generated ID?","body":"<p>You can utilize Bean Validation capabilities with validation groups to achieve your desired outcome. A validation group is a concept in Java Bean Validation that allows you to group validation constraints and apply them selectively based on different scenarios or use cases.</p>\n<p>First, you need to define validation group marker interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface OnCreate {}\n</code></pre>\n<p>Then you should add validation to your <code>id</code> field (I've changed a type from primitive to Long wrapper). We suppose that the client should not send <code>id</code>, so the field should be null:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Null(groups = OnCreate.class)\nprivate Long id;\n</code></pre>\n<p>Finally, in your controller, you should specify the validation group in desired endpoint:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@PostMapping(&quot;/sample&quot;)\npublic ResponseEntity&lt;?&gt; createSample(@Validated(OnCreate.class) @RequestBody SampleApiDto dto, BindingResult result) {\n    if (result.hasErrors()) {\n        // Handle validation errors\n        return ResponseEntity.badRequest().body(&quot;Validation error&quot;);\n    }\n        \n    // Process the payload and return appropriate response\n    // ...\n}\n</code></pre>\n<p>You can read more here:</p>\n<p><a href=\"https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html#validationapi-validatorapi-groups\" rel=\"nofollow noreferrer\">https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html#validationapi-validatorapi-groups</a></p>\n<p><a href=\"https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html#constraintdeclarationvalidationprocess-groupsequence\" rel=\"nofollow noreferrer\">https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html#constraintdeclarationvalidationprocess-groupsequence</a></p>\n<p>And make sure your spring application is configured properly to use bean validation:</p>\n<p><a href=\"https://docs.spring.io/spring-framework/reference/core/validation/beanvalidation.html#validation-beanvalidation-overview\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/reference/core/validation/beanvalidation.html#validation-beanvalidation-overview</a></p>\n"},{"tags":[],"owner":{"account_id":15237833,"reputation":37,"user_id":10994988,"display_name":"winston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684984784,"creation_date":1684984784,"answer_id":76328695,"question_id":76308168,"body_markdown":"If you want to ignore this field when deserializing, you should add @ JsonIgnore to the setter method\r\n","title":"How to implement static validation for a generated ID?","body":"<p>If you want to ignore this field when deserializing, you should add @ JsonIgnore to the setter method</p>\n"}],"owner":{"account_id":19015121,"reputation":162,"user_id":16180016,"display_name":"zakpruitt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1684984784,"creation_date":1684772466,"question_id":76308168,"body_markdown":"I am trying to implement a static validation that prevents a value from being passed into a JSON payload to POST and PUT endpoints. \r\n\r\nFor example, I have this DTO:\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class SampleApiDto {\r\n    \r\n    private long id;\r\n\r\n    private String description;\r\n\r\n    private String columnName;\r\n\r\n    private String code;\r\n}\r\n```\r\n\r\n`id` is a generated value on our data service side. Right now, if you provide a payload like this:\r\n```\r\n{\r\n    &quot;id&quot;: 123,\r\n    &quot;description&quot;: &quot;test10&quot;,\r\n    &quot;columnName&quot;: &quot;test&quot;,\r\n    &quot;code&quot;: &quot;1&quot;\r\n}\r\n```\r\nit throws a detached entity error and returns 500. Ideally, I would like it to return a 400 error with a static validation that `id` is present in the payload. Due to the size of our codebase, we do not want to implement if statements in the controller. We would rather this be an annotation, even if it were a custom annotation. \r\n\r\nI have tried using `@Null` and `@JsonIgnore` on the getter method, and these did not work both ways. The ID should be accessible afterwards in the DTO object from the data service.\r\n\r\nThanks so much!","title":"How to implement static validation for a generated ID?","body":"<p>I am trying to implement a static validation that prevents a value from being passed into a JSON payload to POST and PUT endpoints.</p>\n<p>For example, I have this DTO:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class SampleApiDto {\n    \n    private long id;\n\n    private String description;\n\n    private String columnName;\n\n    private String code;\n}\n</code></pre>\n<p><code>id</code> is a generated value on our data service side. Right now, if you provide a payload like this:</p>\n<pre><code>{\n    &quot;id&quot;: 123,\n    &quot;description&quot;: &quot;test10&quot;,\n    &quot;columnName&quot;: &quot;test&quot;,\n    &quot;code&quot;: &quot;1&quot;\n}\n</code></pre>\n<p>it throws a detached entity error and returns 500. Ideally, I would like it to return a 400 error with a static validation that <code>id</code> is present in the payload. Due to the size of our codebase, we do not want to implement if statements in the controller. We would rather this be an annotation, even if it were a custom annotation.</p>\n<p>I have tried using <code>@Null</code> and <code>@JsonIgnore</code> on the getter method, and these did not work both ways. The ID should be accessible afterwards in the DTO object from the data service.</p>\n<p>Thanks so much!</p>\n"},{"tags":["java","spring","caching","ehcache","spring-cache"],"comments":[{"owner":{"account_id":149002,"reputation":2739,"user_id":361172,"accept_rate":20,"display_name":"James Selvakumar"},"score":0,"creation_date":1478572541,"post_id":40460488,"comment_id":68200593,"body_markdown":"Raised this as an [issue](https://jira.spring.io/browse/SPR-14884) in Spring project.","body":"Raised this as an <a href=\"https://jira.spring.io/browse/SPR-14884\" rel=\"nofollow noreferrer\">issue</a> in Spring project."}],"answers":[{"tags":[],"owner":{"account_id":9949,"reputation":13854,"user_id":18591,"display_name":"Louis Jacomet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478639508,"creation_date":1478639508,"answer_id":40496485,"question_id":40460488,"body_markdown":"If you want multiple `CacheManagers` in single Spring context, you will have to define multiple beans and add qualifiers to them to be able to differentiate them based on some context.\r\n\r\nSo there is nothing specific to caching here, it is the classical multiple beans of the same type in Spring.","title":"Single Spring based ehcache manager for multiple ehcache.xml files in a multi module project","body":"<p>If you want multiple <code>CacheManagers</code> in single Spring context, you will have to define multiple beans and add qualifiers to them to be able to differentiate them based on some context.</p>\n\n<p>So there is nothing specific to caching here, it is the classical multiple beans of the same type in Spring.</p>\n"},{"tags":[],"owner":{"account_id":149002,"reputation":2739,"user_id":361172,"accept_rate":20,"display_name":"James Selvakumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1597138486,"creation_date":1597138486,"answer_id":63355491,"question_id":40460488,"body_markdown":"In the end, we moved away from ehcache.xml and started using Java based configuration for our caches which solved this problem.","title":"Single Spring based ehcache manager for multiple ehcache.xml files in a multi module project","body":"<p>In the end, we moved away from ehcache.xml and started using Java based configuration for our caches which solved this problem.</p>\n"},{"tags":[],"owner":{"account_id":19359805,"reputation":1,"user_id":14155280,"display_name":"Shaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684984594,"creation_date":1684984594,"answer_id":76328683,"question_id":40460488,"body_markdown":"Did this by creating the cache managers in different ways as spring doesn&#39;t allow two EhCacheManagerFactoryBean in the context and the configlocation is set soon after bean creation, so cannot be updated.\r\n\r\n```  \r\n@Bean(&quot;ehCacheManager1&quot;)\r\nfun EhCacheCacheManager ehCacheCacheManager1(ehCacheManagerFactoryBean: CacheManager): EhCacheCacheManager =\r\n    EhCacheCacheManager(ehCacheManagerFactoryBean)\r\n\r\n@Bean(&quot;ehCacheManagerFactoryBean&quot;)\r\npublic EhCacheManagerFactoryBean ehCacheManagerFactoryBean() {\r\n  EhCacheManagerFactoryBean cacheManagerFactoryBean = new EhCacheManagerFactoryBean();\r\n  cacheManagerFactoryBean.setConfigLocation(new ClassPathResource(&quot;ehcache1.xml&quot;));\r\n  cacheManagerFactoryBean.setShared(true);\r\n  return cacheManagerFactoryBean;\r\n}\r\n\r\n@Bean(&quot;ehCacheManager2&quot;)\r\n@Primary\r\nfun ehCacheManager2(): EhCacheCacheManager {\r\n  val configLocation = cacheProperties().resolveConfigLocation(ClassPathResource(&quot;ehcache.xml&quot;))\r\n  return EhCacheCacheManager(CacheManager.create(configLocation.url))\r\n}\r\n\r\n@Bean\r\nfun cacheProperties() = CacheProperties()\r\n\r\n","title":"Single Spring based ehcache manager for multiple ehcache.xml files in a multi module project","body":"<p>Did this by creating the cache managers in different ways as spring doesn't allow two EhCacheManagerFactoryBean in the context and the configlocation is set soon after bean creation, so cannot be updated.</p>\n<pre><code>@Bean(&quot;ehCacheManager1&quot;)\nfun EhCacheCacheManager ehCacheCacheManager1(ehCacheManagerFactoryBean: CacheManager): EhCacheCacheManager =\n    EhCacheCacheManager(ehCacheManagerFactoryBean)\n\n@Bean(&quot;ehCacheManagerFactoryBean&quot;)\npublic EhCacheManagerFactoryBean ehCacheManagerFactoryBean() {\n  EhCacheManagerFactoryBean cacheManagerFactoryBean = new EhCacheManagerFactoryBean();\n  cacheManagerFactoryBean.setConfigLocation(new ClassPathResource(&quot;ehcache1.xml&quot;));\n  cacheManagerFactoryBean.setShared(true);\n  return cacheManagerFactoryBean;\n}\n\n@Bean(&quot;ehCacheManager2&quot;)\n@Primary\nfun ehCacheManager2(): EhCacheCacheManager {\n  val configLocation = cacheProperties().resolveConfigLocation(ClassPathResource(&quot;ehcache.xml&quot;))\n  return EhCacheCacheManager(CacheManager.create(configLocation.url))\n}\n\n@Bean\nfun cacheProperties() = CacheProperties()\n\n</code></pre>\n"}],"owner":{"account_id":149002,"reputation":2739,"user_id":361172,"accept_rate":20,"display_name":"James Selvakumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63355491,"answer_count":3,"score":1,"last_activity_date":1684984594,"creation_date":1478506206,"question_id":40460488,"body_markdown":"I have a multi module project with all the modules defining their cache configurations in their own ehcache.xml. \r\nThis use case is addressed by the now unmaintained &quot;ehcache-spring-annotations&quot; project through a configuration like this:\r\n\r\n        &lt;ehcache:annotation-driven cache-manager=&quot;ehCacheManager&quot; create-missing-caches=&quot;true&quot;/&gt;\r\n\r\n        &lt;bean id=&quot;ehCacheManager&quot; class=&quot;net.sf.itcb.addons.cachemanager.ItcbEhCacheManagerFactoryBean&quot;&gt;\r\n          &lt;property name=&quot;configLocations&quot; value=&quot;classpath*:ehcache.xml&quot;/&gt;\r\n          &lt;property name=&quot;shared&quot; value=&quot;true&quot;/&gt;\r\n        &lt;/bean&gt;\r\n\r\nI tried something similar in Spring&#39;s Cache Abstraction.\r\n        \r\n        &lt;cache:annotation-driven/&gt;\r\n\r\n        &lt;bean id=&quot;cacheManager&quot;\r\n          class=&quot;org.springframework.cache.ehcache.EhCacheCacheManager&quot; \r\n          p:cache-manager-ref=&quot;ehcache&quot;/&gt;\r\n\r\n        &lt;bean id=&quot;ehcache&quot;\r\n          class=&quot;org.springframework.cache.ehcache.EhCacheManagerFactoryBean&quot;      \r\n          p:config-location=&quot;classpath*:ehcache.xml&quot;/&gt;\r\n\r\nHowever, I ran into this exception:\r\n\r\n    Caused by: java.io.FileNotFoundException: \r\n      class path resource [classpath*:ehcache.xml] cannot be opened because\r\n      it does not exist\r\n\r\nCan someone please explain what is the correct way to configure Spring&#39;s Cache Abstraction for EhCache in a multi module project?","title":"Single Spring based ehcache manager for multiple ehcache.xml files in a multi module project","body":"<p>I have a multi module project with all the modules defining their cache configurations in their own ehcache.xml. \nThis use case is addressed by the now unmaintained \"ehcache-spring-annotations\" project through a configuration like this:</p>\n\n<pre><code>    &lt;ehcache:annotation-driven cache-manager=\"ehCacheManager\" create-missing-caches=\"true\"/&gt;\n\n    &lt;bean id=\"ehCacheManager\" class=\"net.sf.itcb.addons.cachemanager.ItcbEhCacheManagerFactoryBean\"&gt;\n      &lt;property name=\"configLocations\" value=\"classpath*:ehcache.xml\"/&gt;\n      &lt;property name=\"shared\" value=\"true\"/&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>I tried something similar in Spring's Cache Abstraction.</p>\n\n<pre><code>    &lt;cache:annotation-driven/&gt;\n\n    &lt;bean id=\"cacheManager\"\n      class=\"org.springframework.cache.ehcache.EhCacheCacheManager\" \n      p:cache-manager-ref=\"ehcache\"/&gt;\n\n    &lt;bean id=\"ehcache\"\n      class=\"org.springframework.cache.ehcache.EhCacheManagerFactoryBean\"      \n      p:config-location=\"classpath*:ehcache.xml\"/&gt;\n</code></pre>\n\n<p>However, I ran into this exception:</p>\n\n<pre><code>Caused by: java.io.FileNotFoundException: \n  class path resource [classpath*:ehcache.xml] cannot be opened because\n  it does not exist\n</code></pre>\n\n<p>Can someone please explain what is the correct way to configure Spring's Cache Abstraction for EhCache in a multi module project?</p>\n"},{"tags":["java","spring","spring-boot","transactions"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1684994143,"post_id":76328481,"comment_id":134599250,"body_markdown":"You are updating the master and reading from the slave. Those are different connections and thus transactions (regardless the fact you have a single `@Transactional`).","body":"You are updating the master and reading from the slave. Those are different connections and thus transactions (regardless the fact you have a single <code>@Transactional</code>)."},{"owner":{"account_id":10222317,"reputation":349,"user_id":7546132,"display_name":"phaen"},"score":0,"creation_date":1684997724,"post_id":76328481,"comment_id":134599805,"body_markdown":"Note: The &quot;weird&quot; behaviour on lower stages is due to the same url (same connection) used - based on the flush behaviour the data written have been propagated (flushed) and can be read or not.\n\ne: manually flushing it before reading or set it to auto will result in &quot;correct&quot; reads.","body":"Note: The &quot;weird&quot; behaviour on lower stages is due to the same url (same connection) used - based on the flush behaviour the data written have been propagated (flushed) and can be read or not.  e: manually flushing it before reading or set it to auto will result in &quot;correct&quot; reads."},{"owner":{"account_id":9335902,"reputation":21,"user_id":6930100,"display_name":"Manish Kumar"},"score":0,"creation_date":1690803817,"post_id":76328481,"comment_id":135399237,"body_markdown":"@phaen data will be propagated once it is commited right then it should never be read on lower environments as well.","body":"@phaen data will be propagated once it is commited right then it should never be read on lower environments as well."},{"owner":{"account_id":9335902,"reputation":21,"user_id":6930100,"display_name":"Manish Kumar"},"score":0,"creation_date":1690804308,"post_id":76328481,"comment_id":135399332,"body_markdown":"@M.Deinum thanks for explaining the production part can you also please share what is the expected behaviour at lower env where we are creating two beans (master and slave ) which is eventually poiting to the same DB server.","body":"@M.Deinum thanks for explaining the production part can you also please share what is the expected behaviour at lower env where we are creating two beans (master and slave ) which is eventually poiting to the same DB server."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690804880,"post_id":76328481,"comment_id":135399439,"body_markdown":"You cannot read it as it is different datasources, different transactions, different connections. THere is no commit between your update and read as all is in a single transaction. Next to that it will take time to sync the data between master and slave so there is no garantuee it will be directly in sync.","body":"You cannot read it as it is different datasources, different transactions, different connections. THere is no commit between your update and read as all is in a single transaction. Next to that it will take time to sync the data between master and slave so there is no garantuee it will be directly in sync."},{"owner":{"account_id":9335902,"reputation":21,"user_id":6930100,"display_name":"Manish Kumar"},"score":0,"creation_date":1690805127,"post_id":76328481,"comment_id":135399509,"body_markdown":"@M.Deinum there is no data replication on lower env as it is poiiting to same db only the datasources are pointing to same urls (only for production data syncing is reqd as they have different dasources).\n(for lower env only i am talking)Even if they are pointing to the same DB server they will be having different connections for master and slave and because transactions are connection specific they are seggregated, is my undersatnding correct??","body":"@M.Deinum there is no data replication on lower env as it is poiiting to same db only the datasources are pointing to same urls (only for production data syncing is reqd as they have different dasources). (for lower env only i am talking)Even if they are pointing to the same DB server they will be having different connections for master and slave and because transactions are connection specific they are seggregated, is my undersatnding correct??"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690805221,"post_id":76328481,"comment_id":135399527,"body_markdown":"Reading is an art... As stated those are still different datasources, different connections and thus different transactions. It doesn&#39;t matter if they are the actual same database, you cannot see uncommitted data from one transaction in another one. That is the whole point of transactions, no matter if they are physically on the same machine or half a world apart.","body":"Reading is an art... As stated those are still different datasources, different connections and thus different transactions. It doesn&#39;t matter if they are the actual same database, you cannot see uncommitted data from one transaction in another one. That is the whole point of transactions, no matter if they are physically on the same machine or half a world apart."},{"owner":{"account_id":9335902,"reputation":21,"user_id":6930100,"display_name":"Manish Kumar"},"score":0,"creation_date":1690805319,"post_id":76328481,"comment_id":135399549,"body_markdown":"@M.Deinum thanks got it!!","body":"@M.Deinum thanks got it!!"}],"owner":{"account_id":9335902,"reputation":21,"user_id":6930100,"display_name":"Manish Kumar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684984264,"creation_date":1684981108,"question_id":76328481,"body_markdown":"I am facing a unpredictable outcome when i am inserting data and fetching within the same transaction but in my usecase we have to two different beans one for writing and and for reading data from DB. On production these masterBean(to write) and slaveBean(to read data) are pointing to different urls and on lower environments they are poiting to same urls. We are using Hikari for connection pooling.\r\n\r\n    @Bean(&quot;dsSlave&quot;)\r\n    @ConfigurationProperties(prefix = &quot;spring.datasource.slave&quot;)\r\n    public DataSource slaveDataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Primary\r\n    @Bean(&quot;dsMaster&quot;)\r\n    @ConfigurationProperties(prefix = &quot;spring.datasource.master&quot;)\r\n    public DataSource masterDataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Bean(&quot;jdbcTemplateSlave&quot;)\r\n    public JdbcTemplate slaveJdbcTemplate() {\r\n        return new JdbcTemplate(slaveDataSource());\r\n    }\r\n\r\n    @Primary\r\n    @Bean(&quot;jdbcTemplateMaster&quot;)\r\n    public JdbcTemplate masterJdbcTemplate() {\r\n        return new JdbcTemplate(masterDataSource());\r\n    }\r\n\r\nWhat i am doing is (a pseudo code ) : \r\n\r\n    @Transactional\r\n    someMethod() {\r\n    jdbcTemplateMaster.update(&quot;some data&quot;);\r\n    jdbcTemplateSlave.query(&quot;somedata&quot;);\r\n    }\r\n\r\nOn production i am not able to fetch data that is committed within the same transaction but on lower environment sometimes i am able to fetch data and sometimes i am not.\r\n\r\nany explanation would be appreciated.","title":"Connection Management using @Transactional with Spring JDBCTemplate","body":"<p>I am facing a unpredictable outcome when i am inserting data and fetching within the same transaction but in my usecase we have to two different beans one for writing and and for reading data from DB. On production these masterBean(to write) and slaveBean(to read data) are pointing to different urls and on lower environments they are poiting to same urls. We are using Hikari for connection pooling.</p>\n<pre><code>@Bean(&quot;dsSlave&quot;)\n@ConfigurationProperties(prefix = &quot;spring.datasource.slave&quot;)\npublic DataSource slaveDataSource() {\n    return DataSourceBuilder.create().build();\n}\n\n@Primary\n@Bean(&quot;dsMaster&quot;)\n@ConfigurationProperties(prefix = &quot;spring.datasource.master&quot;)\npublic DataSource masterDataSource() {\n    return DataSourceBuilder.create().build();\n}\n\n@Bean(&quot;jdbcTemplateSlave&quot;)\npublic JdbcTemplate slaveJdbcTemplate() {\n    return new JdbcTemplate(slaveDataSource());\n}\n\n@Primary\n@Bean(&quot;jdbcTemplateMaster&quot;)\npublic JdbcTemplate masterJdbcTemplate() {\n    return new JdbcTemplate(masterDataSource());\n}\n</code></pre>\n<p>What i am doing is (a pseudo code ) :</p>\n<pre><code>@Transactional\nsomeMethod() {\njdbcTemplateMaster.update(&quot;some data&quot;);\njdbcTemplateSlave.query(&quot;somedata&quot;);\n}\n</code></pre>\n<p>On production i am not able to fetch data that is committed within the same transaction but on lower environment sometimes i am able to fetch data and sometimes i am not.</p>\n<p>any explanation would be appreciated.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1684983720,"post_id":76328634,"comment_id":134598202,"body_markdown":"Perhaps you want to use `BigInteger` or `BigDecimal` as part of JDK. Do you have a specific reason why you need to use your own implementation (homework, learning...)?","body":"Perhaps you want to use <code>BigInteger</code> or <code>BigDecimal</code> as part of JDK. Do you have a specific reason why you need to use your own implementation (homework, learning...)?"},{"owner":{"account_id":22115156,"reputation":27,"user_id":16369375,"display_name":"julio11"},"score":0,"creation_date":1684983892,"post_id":76328634,"comment_id":134598212,"body_markdown":"It&#39;s for homework and the template was provided, so I am tied to HugeInteger unfortunately and that has me completely stumped.","body":"It&#39;s for homework and the template was provided, so I am tied to HugeInteger unfortunately and that has me completely stumped."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1684984053,"post_id":76328634,"comment_id":134598223,"body_markdown":"&#39;the issue&#39; - what issue? A compiler error? Paste it. A runtime error? Paste the stack trace. An answer you did not expect? Paste that answer and paste what you wanted to see.","body":"&#39;the issue&#39; - what issue? A compiler error? Paste it. A runtime error? Paste the stack trace. An answer you did not expect? Paste that answer and paste what you wanted to see."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1684984262,"post_id":76328634,"comment_id":134598235,"body_markdown":"`new h3.add` isn&#39;t legal java and I&#39;m having a hard time understanding what you think that might have done. `new HugeInteger()` is. But `add` is a static method. You presumably want `HugeInteger h3 = HugeInteger.add(h, h2);` instead of the two lines (`HugeInteger h3 = ...` and `HugeINteger hall = ...`. That is probably not the only error in this code. Write less, test more.","body":"<code>new h3.add</code> isn&#39;t legal java and I&#39;m having a hard time understanding what you think that might have done. <code>new HugeInteger()</code> is. But <code>add</code> is a static method. You presumably want <code>HugeInteger h3 = HugeInteger.add(h, h2);</code> instead of the two lines (<code>HugeInteger h3 = ...</code> and <code>HugeINteger hall = ...</code>. That is probably not the only error in this code. Write less, test more."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1684984358,"post_id":76328634,"comment_id":134598249,"body_markdown":"Please read https://stackoverflow.com/help/how-to-ask","body":"Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1684985890,"post_id":76328634,"comment_id":134598397,"body_markdown":"What is the task you&#39;re looking to accomplish with `hall = new h3.add(h,h2)`?  Should `hall` be the sum of `h` and `h2`?","body":"What is the task you&#39;re looking to accomplish with <code>hall = new h3.add(h,h2)</code>?  Should <code>hall</code> be the sum of <code>h</code> and <code>h2</code>?"},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":1,"creation_date":1685020640,"post_id":76328634,"comment_id":134604901,"body_markdown":"There is no need to define `HugeInteger h3 = new HugeInteger()` at all.  `HugeInteger.add()` is a static method. So, it can be called directly without an object.   And yes, `HugeInteger hall = new h3.add(h,h2)` is totally invalid - source of compilation error. ```HugeInteger hall = HugeInteger.add(h, h2);``` is enough. Deleting those 2 lines and replacing those with just this one line resolves the compilation error.","body":"There is no need to define <code>HugeInteger h3 = new HugeInteger()</code> at all.  <code>HugeInteger.add()</code> is a static method. So, it can be called directly without an object.   And yes, <code>HugeInteger hall = new h3.add(h,h2)</code> is totally invalid - source of compilation error. <code>HugeInteger hall = HugeInteger.add(h, h2);</code> is enough. Deleting those 2 lines and replacing those with just this one line resolves the compilation error."},{"owner":{"account_id":22115156,"reputation":27,"user_id":16369375,"display_name":"julio11"},"score":0,"creation_date":1685068773,"post_id":76328634,"comment_id":134612905,"body_markdown":"@Reilas yes, that is the intent of the hall, but I get an error saying that it is never read.","body":"@Reilas yes, that is the intent of the hall, but I get an error saying that it is never read."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1685069125,"post_id":76328634,"comment_id":134612933,"body_markdown":"@julio11, you don&#39;t need the `new` keyword.  That&#39;s only for instantiation.  In this case, the instantiation was within the `add` method, at `hugeInt3 = new HugeInteger()`.  [Creating Objects (The Java™ Tutorials &gt; Learning the Java Language &gt; Classes and Objects)](https://docs.oracle.com/javase/tutorial/java/javaOO/objectcreation.html).","body":"@julio11, you don&#39;t need the <code>new</code> keyword.  That&#39;s only for instantiation.  In this case, the instantiation was within the <code>add</code> method, at <code>hugeInt3 = new HugeInteger()</code>.  <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/objectcreation.html\" rel=\"nofollow noreferrer\">Creating Objects (The Java™ Tutorials &gt; Learning the Java Language &gt; Classes and Objects)</a>."}],"owner":{"account_id":22115156,"reputation":27,"user_id":16369375,"display_name":"julio11"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684983587,"creation_date":1684983587,"question_id":76328634,"body_markdown":"I am working a challenge and I keep getting errors when I run the compiler. I&#39;m newer to java and I can&#39;t see what is wrong. I am not looking for an answer, but more of clarification on where I need to be looking. \r\n\r\nI am to create a class HugeInteger which uses a 40-element array of digits to\r\nstore integers as large as 40 digits each. Provide methods parse, toString, add and subtract. Method\r\nparse should receive a String, extract each digit using method charAt and place the integer\r\nequivalent of each digit into the integer array. For comparing HugeInteger objects, provide the following\r\nmethods: isEqualTo, isNotEqualTo, isGreaterThan, isLessThan, isGreaterThanOrEqualTo\r\nand isLessThanOrEqualTo. Each of these is a predicate method that returns true if the relationship\r\nholds between the two HugeInteger objects and returns false if the relationship does not hold. Provide\r\na predicate method isZero.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\npublic class HugeInteger{\r\n  private int[] intArray;\r\n  private int numDigits;  // stores the number of digits in intArray\r\n  //static String ss;\r\n\r\n  public HugeInteger(String s){\r\n    intArray = new int[40];\r\n    numDigits = 0;\r\n    parse(s);// call parse(s)\r\n  }\r\n\r\n  public HugeInteger( ){\r\n    intArray = new int[40];\r\n    numDigits = 0;\r\n    \r\n  }\r\n  \r\n  public void parse(String s){\r\n     // Add each digit to the arrays\r\n     // update numDigits\r\n     for (int i = 0; i &lt; s.length(); i++){\r\n         intArray[i] = s.charAt(i) - &#39;0&#39;;\r\n         System.out.print(intArray[i] + &quot;&quot;);\r\n         numDigits++;\r\n         System.out.print(intArray[i] + &quot;&quot; + numDigits);\r\n      }\r\n  }\r\n\r\n  public static HugeInteger add(HugeInteger hugeInt1, HugeInteger hugeInt2){\r\n     // Create hugeInt3\r\n     // Loop \r\n     //    Add digits from hugeInt1 and hugeInt2, \r\n     //    Store in corresponding hugeInt3\r\n     // End\r\n     //\r\n     // return hugeInt3  \r\n      HugeInteger hugeInt3 = new HugeInteger();\r\n      for (int i = 0; i &lt; hugeInt3.intArray.length; i++){\r\n      hugeInt3.intArray[i] = hugeInt1.intArray[i] + hugeInt2.intArray[i];\r\n  }\r\n      String data = hugeInt3.intArray.toString();\r\n      for (int j = 0; j &lt; data.length(); j++)\r\n          System.out.println(hugeInt3.intArray[j]);\r\n      return hugeInt3;\r\n  }\r\n\r\n  public static HugeInteger subtract(HugeInteger hugeInt1, HugeInteger hugeInt2){\r\n     // Create hugeInt3\r\n     // Loop \r\n     //    Subtract hugeInt2 digit from  hugeInt1, \r\n     //    Store in corresponding hugeInt3\r\n     // End\r\n     //\r\n     // return hugeInt3  \r\n      HugeInteger hugeInt4 = new HugeInteger();\r\n      for (int i = 0; i &lt; hugeInt1.intArray.length; i++){\r\n          if (hugeInt1.intArray[i] &gt; hugeInt2.intArray[i])\r\n              hugeInt4.intArray[i] = hugeInt1.intArray[i] - hugeInt2.intArray[i];\r\n          else\r\n              hugeInt4.intArray[i] = hugeInt2.intArray[i] - hugeInt1.intArray[i];\r\n      }\r\n      \r\n      String data = hugeInt4.intArray.toString();\r\n      for (int j = 0; j &lt; data.length(); j++)\r\n          System.out.println(hugeInt4.intArray[j]);\r\n      return hugeInt4;\r\n\r\n  }\r\n\r\n  public static boolean isEqualTo(HugeInteger hugeInt1, HugeInteger hugeInt2){\r\n    // return true if the value represented by \r\n    // elements of hugeInt1.intArray is equal to\r\n    // value represented by elements of hughInt2.intArray\r\n      for (int i = 0; i &lt; hugeInt2.intArray.length; i++)\r\n          System.out.println(hugeInt2.intArray[i]);\r\n      int count = 0;\r\n      \r\n      for (int i = 0; i &lt; hugeInt2.numDigits; i++){\r\n          int a1= hugeInt1.intArray[i];\r\n          int a2 = hugeInt2.intArray[i];\r\n          System.out.println(a1 + &quot; &quot; + a2);\r\n          if (a1 != a2){\r\n              System.out.println(hugeInt2.intArray[i]);\r\n          count++;\r\n      }\r\n      }\r\n      \r\n      System.out.println(&quot;count&quot; + count);\r\n      return count &lt;= 0;\r\n  }\r\n\r\n  public static boolean isNotEqualTo(HugeInteger hugeInt1, HugeInteger hugeInt2){\r\n    // return true if the value represented by \r\n    // elements of hugeInt1.intArray is not equal to\r\n    // value represented by elements of hughInt2.intArray\r\n      \r\n      for (int i = 0; i &lt; hugeInt2.intArray.length; i++)\r\n          System.out.println(hugeInt2.intArray[i]);\r\n      int count = 0;\r\n      \r\n      for (int i = 0; i &lt; hugeInt2.numDigits; i++){\r\n      int a1 = hugeInt1.intArray[i];\r\n      int a2 = hugeInt2.intArray[i];\r\n      System.out.println(a1 + &quot; &quot; + a2);\r\n      if (a1 != a2){\r\n          System.out.println(hugeInt2.intArray[i]);\r\n          count++;\r\n      }\r\n  }\r\n      System.out.println(&quot;count&quot; + count);\r\n      return count &gt; 0;\r\n  }\r\n\r\n  public static boolean isGreaterThan(HugeInteger hugeInt1, HugeInteger hugeInt2){\r\n    // return true if the value represented by \r\n    // elements of hugeInt1.intArray is greater than \r\n    // value represented by elements of hughInt2.intArray\r\n      int sum1 = 0;\r\n      int sum2 = 0;\r\n      for (int i = 0; i &lt; hugeInt1.intArray.length; i++){\r\n          sum1 += hugeInt1.intArray[i];\r\n          sum2 += hugeInt1.intArray[i];\r\n      }\r\n      \r\n      return sum1 &gt; sum2;\r\n      \r\n  }\r\n\r\n  public static boolean isLessThan(HugeInteger hugeInt1, HugeInteger hugeInt2){\r\n    // return true if the value represented by \r\n    // elements of hugeInt1.intArray is less than\r\n    // value represented by elements of hughInt2.intArray\r\n      \r\n      int sum1 = 0;\r\n      int sum2 = 0;\r\n      for (int i = 0; i &lt; hugeInt1.intArray.length; i++){\r\n          sum1 += hugeInt1.intArray[i];\r\n          sum2 += hugeInt1.intArray[i];\r\n      }\r\n      return sum1 &gt;= sum2;\r\n  }\r\n\r\n  public static boolean isGreaterThanOrEqualTo(HugeInteger hugeInt1, HugeInteger hugeInt2){\r\n    // return true if the value represented by \r\n    // elements of hugeInt1.intArray is greater than or equal to\r\n    // value represented by elements of hughInt2.intArray\r\n      int sum1 = 0;\r\n      int sum2 = 0;\r\n      for (int i = 0; i &lt; hugeInt1.intArray.length; i++){\r\n          sum1 += hugeInt1.intArray[i];\r\n          sum2 += hugeInt1.intArray[i];\r\n      }\r\n      return sum1 &gt;= sum2;\r\n  }\r\n\r\n  public static boolean isZero(HugeInteger hugeInt1 ){\r\n    // return true if the value represented by \r\n    // elements of hugeInt1.intArray is 0 \r\n      int count = 0;\r\n              for (int i = 0; i &lt; hugeInt1.intArray.length; i++){\r\n                  if (hugeInt1.intArray[i]==0)\r\n                      count++;\r\n              }\r\n              \r\n      return count &gt; 0;\r\n  }\r\n\r\n  public String toString( ){\r\n     // return string representation of this object\r\n     return toString();\r\n  }\r\n  \r\n  public static void main(String[] args){\r\n      HugeInteger h = new HugeInteger(&quot;abc&quot;);\r\n      HugeInteger h2 = new HugeInteger(&quot;xyz&quot;);\r\n      HugeInteger h3 = new HugeInteger();\r\n      HugeInteger hall = new h3.add(h,h2);\r\n      boolean b = HugeInteger.isNotEqualTo(h,h2);\r\n      System.out.println(b);\r\n      boolean iszero = HugeInteger.isZero(h);\r\n      System.out.println(iszero);\r\n      System.out.println(HugeInteger.isEqualTo(h,h2));\r\n      System.out.println(HugeInteger.isNotEqualTo(h,h2));\r\n      System.out.println(HugeInteger.isGreaterThan(h,h2));\r\n      System.out.println(HugeInteger.isGreaterThanOrEqualTo(h,h2));\r\n      System.out.println(HugeInteger.isLessThan(h,h2));\r\n      \r\n     }      \r\n}\r\n```\r\n\r\nI think the issue comes up when I test it, more specifically here: HugeInteger hall = new h3.add(h,h2); ","title":"HugeInteger using 40-element array of digits","body":"<p>I am working a challenge and I keep getting errors when I run the compiler. I'm newer to java and I can't see what is wrong. I am not looking for an answer, but more of clarification on where I need to be looking.</p>\n<p>I am to create a class HugeInteger which uses a 40-element array of digits to\nstore integers as large as 40 digits each. Provide methods parse, toString, add and subtract. Method\nparse should receive a String, extract each digit using method charAt and place the integer\nequivalent of each digit into the integer array. For comparing HugeInteger objects, provide the following\nmethods: isEqualTo, isNotEqualTo, isGreaterThan, isLessThan, isGreaterThanOrEqualTo\nand isLessThanOrEqualTo. Each of these is a predicate method that returns true if the relationship\nholds between the two HugeInteger objects and returns false if the relationship does not hold. Provide\na predicate method isZero.</p>\n<pre><code>public class HugeInteger{\n  private int[] intArray;\n  private int numDigits;  // stores the number of digits in intArray\n  //static String ss;\n\n  public HugeInteger(String s){\n    intArray = new int[40];\n    numDigits = 0;\n    parse(s);// call parse(s)\n  }\n\n  public HugeInteger( ){\n    intArray = new int[40];\n    numDigits = 0;\n    \n  }\n  \n  public void parse(String s){\n     // Add each digit to the arrays\n     // update numDigits\n     for (int i = 0; i &lt; s.length(); i++){\n         intArray[i] = s.charAt(i) - '0';\n         System.out.print(intArray[i] + &quot;&quot;);\n         numDigits++;\n         System.out.print(intArray[i] + &quot;&quot; + numDigits);\n      }\n  }\n\n  public static HugeInteger add(HugeInteger hugeInt1, HugeInteger hugeInt2){\n     // Create hugeInt3\n     // Loop \n     //    Add digits from hugeInt1 and hugeInt2, \n     //    Store in corresponding hugeInt3\n     // End\n     //\n     // return hugeInt3  \n      HugeInteger hugeInt3 = new HugeInteger();\n      for (int i = 0; i &lt; hugeInt3.intArray.length; i++){\n      hugeInt3.intArray[i] = hugeInt1.intArray[i] + hugeInt2.intArray[i];\n  }\n      String data = hugeInt3.intArray.toString();\n      for (int j = 0; j &lt; data.length(); j++)\n          System.out.println(hugeInt3.intArray[j]);\n      return hugeInt3;\n  }\n\n  public static HugeInteger subtract(HugeInteger hugeInt1, HugeInteger hugeInt2){\n     // Create hugeInt3\n     // Loop \n     //    Subtract hugeInt2 digit from  hugeInt1, \n     //    Store in corresponding hugeInt3\n     // End\n     //\n     // return hugeInt3  \n      HugeInteger hugeInt4 = new HugeInteger();\n      for (int i = 0; i &lt; hugeInt1.intArray.length; i++){\n          if (hugeInt1.intArray[i] &gt; hugeInt2.intArray[i])\n              hugeInt4.intArray[i] = hugeInt1.intArray[i] - hugeInt2.intArray[i];\n          else\n              hugeInt4.intArray[i] = hugeInt2.intArray[i] - hugeInt1.intArray[i];\n      }\n      \n      String data = hugeInt4.intArray.toString();\n      for (int j = 0; j &lt; data.length(); j++)\n          System.out.println(hugeInt4.intArray[j]);\n      return hugeInt4;\n\n  }\n\n  public static boolean isEqualTo(HugeInteger hugeInt1, HugeInteger hugeInt2){\n    // return true if the value represented by \n    // elements of hugeInt1.intArray is equal to\n    // value represented by elements of hughInt2.intArray\n      for (int i = 0; i &lt; hugeInt2.intArray.length; i++)\n          System.out.println(hugeInt2.intArray[i]);\n      int count = 0;\n      \n      for (int i = 0; i &lt; hugeInt2.numDigits; i++){\n          int a1= hugeInt1.intArray[i];\n          int a2 = hugeInt2.intArray[i];\n          System.out.println(a1 + &quot; &quot; + a2);\n          if (a1 != a2){\n              System.out.println(hugeInt2.intArray[i]);\n          count++;\n      }\n      }\n      \n      System.out.println(&quot;count&quot; + count);\n      return count &lt;= 0;\n  }\n\n  public static boolean isNotEqualTo(HugeInteger hugeInt1, HugeInteger hugeInt2){\n    // return true if the value represented by \n    // elements of hugeInt1.intArray is not equal to\n    // value represented by elements of hughInt2.intArray\n      \n      for (int i = 0; i &lt; hugeInt2.intArray.length; i++)\n          System.out.println(hugeInt2.intArray[i]);\n      int count = 0;\n      \n      for (int i = 0; i &lt; hugeInt2.numDigits; i++){\n      int a1 = hugeInt1.intArray[i];\n      int a2 = hugeInt2.intArray[i];\n      System.out.println(a1 + &quot; &quot; + a2);\n      if (a1 != a2){\n          System.out.println(hugeInt2.intArray[i]);\n          count++;\n      }\n  }\n      System.out.println(&quot;count&quot; + count);\n      return count &gt; 0;\n  }\n\n  public static boolean isGreaterThan(HugeInteger hugeInt1, HugeInteger hugeInt2){\n    // return true if the value represented by \n    // elements of hugeInt1.intArray is greater than \n    // value represented by elements of hughInt2.intArray\n      int sum1 = 0;\n      int sum2 = 0;\n      for (int i = 0; i &lt; hugeInt1.intArray.length; i++){\n          sum1 += hugeInt1.intArray[i];\n          sum2 += hugeInt1.intArray[i];\n      }\n      \n      return sum1 &gt; sum2;\n      \n  }\n\n  public static boolean isLessThan(HugeInteger hugeInt1, HugeInteger hugeInt2){\n    // return true if the value represented by \n    // elements of hugeInt1.intArray is less than\n    // value represented by elements of hughInt2.intArray\n      \n      int sum1 = 0;\n      int sum2 = 0;\n      for (int i = 0; i &lt; hugeInt1.intArray.length; i++){\n          sum1 += hugeInt1.intArray[i];\n          sum2 += hugeInt1.intArray[i];\n      }\n      return sum1 &gt;= sum2;\n  }\n\n  public static boolean isGreaterThanOrEqualTo(HugeInteger hugeInt1, HugeInteger hugeInt2){\n    // return true if the value represented by \n    // elements of hugeInt1.intArray is greater than or equal to\n    // value represented by elements of hughInt2.intArray\n      int sum1 = 0;\n      int sum2 = 0;\n      for (int i = 0; i &lt; hugeInt1.intArray.length; i++){\n          sum1 += hugeInt1.intArray[i];\n          sum2 += hugeInt1.intArray[i];\n      }\n      return sum1 &gt;= sum2;\n  }\n\n  public static boolean isZero(HugeInteger hugeInt1 ){\n    // return true if the value represented by \n    // elements of hugeInt1.intArray is 0 \n      int count = 0;\n              for (int i = 0; i &lt; hugeInt1.intArray.length; i++){\n                  if (hugeInt1.intArray[i]==0)\n                      count++;\n              }\n              \n      return count &gt; 0;\n  }\n\n  public String toString( ){\n     // return string representation of this object\n     return toString();\n  }\n  \n  public static void main(String[] args){\n      HugeInteger h = new HugeInteger(&quot;abc&quot;);\n      HugeInteger h2 = new HugeInteger(&quot;xyz&quot;);\n      HugeInteger h3 = new HugeInteger();\n      HugeInteger hall = new h3.add(h,h2);\n      boolean b = HugeInteger.isNotEqualTo(h,h2);\n      System.out.println(b);\n      boolean iszero = HugeInteger.isZero(h);\n      System.out.println(iszero);\n      System.out.println(HugeInteger.isEqualTo(h,h2));\n      System.out.println(HugeInteger.isNotEqualTo(h,h2));\n      System.out.println(HugeInteger.isGreaterThan(h,h2));\n      System.out.println(HugeInteger.isGreaterThanOrEqualTo(h,h2));\n      System.out.println(HugeInteger.isLessThan(h,h2));\n      \n     }      \n}\n</code></pre>\n<p>I think the issue comes up when I test it, more specifically here: HugeInteger hall = new h3.add(h,h2);</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":3875089,"reputation":1150,"user_id":3209348,"display_name":"DirkyJerky"},"score":0,"creation_date":1401719140,"post_id":23996762,"comment_id":36980987,"body_markdown":"Dupe of http://stackoverflow.com/questions/4972954/how-to-disable-loggers-of-a-class-or-of-whole-package","body":"Dupe of <a href=\"http://stackoverflow.com/questions/4972954/how-to-disable-loggers-of-a-class-or-of-whole-package\" title=\"how to disable loggers of a class or of whole package\">stackoverflow.com/questions/4972954/&hellip;</a>"},{"owner":{"account_id":314877,"reputation":399,"user_id":630324,"accept_rate":75,"display_name":"Malhelo"},"score":1,"creation_date":1401719234,"post_id":23996762,"comment_id":36981061,"body_markdown":"Not a dupe, I am working with log4j**2**","body":"Not a dupe, I am working with log4j<b>2</b>"}],"answers":[{"tags":[],"owner":{"account_id":4459712,"reputation":433,"user_id":3628980,"display_name":"Mark Carpenter"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1401719266,"creation_date":1401719266,"answer_id":23996905,"question_id":23996762,"body_markdown":"An example of turning off logging in log4j 1.x was to add the following xml tag into log4j.xml. The category name is the package path to the root of the library you want to ignore logging from. For example to ignore log4j logging from the apache tiles library you would use the following:\r\n\r\n    &lt;category name=&quot;org.apache.tiles&quot;&gt;\r\n       &lt;priority value = &quot;off&quot; /&gt;\r\n    &lt;/category&gt;    ","title":"Disable log output from libraries","body":"<p>An example of turning off logging in log4j 1.x was to add the following xml tag into log4j.xml. The category name is the package path to the root of the library you want to ignore logging from. For example to ignore log4j logging from the apache tiles library you would use the following:</p>\n\n<pre><code>&lt;category name=\"org.apache.tiles\"&gt;\n   &lt;priority value = \"off\" /&gt;\n&lt;/category&gt;    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7618549,"reputation":1394,"user_id":5777189,"display_name":"BabyishTank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684983292,"creation_date":1684983292,"answer_id":76328612,"question_id":23996762,"body_markdown":"I am using log4j on spring boot, this is my log4j2-spring.xml. \r\nI disabled org.apache.poi with this syntax\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration&gt;\r\n\r\n   ...\r\n\r\n    &lt;Loggers&gt;\r\n\r\n        &lt;Logger name=&quot;org.apache.poi&quot; level=&quot;off&quot;/&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef&gt;\r\n                &lt;ref&gt;${CONSOLE}&lt;/ref&gt;\r\n            &lt;/AppenderRef&gt;\r\n            &lt;AppenderRef&gt;\r\n                &lt;ref&gt;${SPLUNK}&lt;/ref&gt;\r\n            &lt;/AppenderRef&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n\r\n&lt;/Configuration&gt;\r\n```","title":"Disable log output from libraries","body":"<p>I am using log4j on spring boot, this is my log4j2-spring.xml.\nI disabled org.apache.poi with this syntax</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n\n   ...\n\n    &lt;Loggers&gt;\n\n        &lt;Logger name=&quot;org.apache.poi&quot; level=&quot;off&quot;/&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef&gt;\n                &lt;ref&gt;${CONSOLE}&lt;/ref&gt;\n            &lt;/AppenderRef&gt;\n            &lt;AppenderRef&gt;\n                &lt;ref&gt;${SPLUNK}&lt;/ref&gt;\n            &lt;/AppenderRef&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n\n&lt;/Configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":314877,"reputation":399,"user_id":630324,"accept_rate":75,"display_name":"Malhelo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5780,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":23996905,"answer_count":2,"score":2,"last_activity_date":1684983292,"creation_date":1401718778,"question_id":23996762,"body_markdown":"In a java program, I am using **log4j2** for my (debug) output. When using a third party libary, I would like to disable the log output from these libraries. How can I do that?\r\n\r\nActually this seems quite simple to me but I could not find a solution for it. I can&#39;t be the only one looking for this?","title":"Disable log output from libraries","body":"<p>In a java program, I am using <strong>log4j2</strong> for my (debug) output. When using a third party libary, I would like to disable the log output from these libraries. How can I do that?</p>\n\n<p>Actually this seems quite simple to me but I could not find a solution for it. I can't be the only one looking for this?</p>\n"},{"tags":["java","visual-studio-code","terminal","runtime-error","enoent"],"comments":[{"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"score":0,"creation_date":1684993155,"post_id":76328599,"comment_id":134599099,"body_markdown":"Does it works if you switch to pre-release version of [Language support for java](https://marketplace.visualstudio.com/items?itemName=redhat.java)?","body":"Does it works if you switch to pre-release version of <a href=\"https://marketplace.visualstudio.com/items?itemName=redhat.java\" rel=\"nofollow noreferrer\">Language support for java</a>?"}],"owner":{"account_id":28674545,"reputation":1,"user_id":21956896,"display_name":"Zion-Faith Akakpo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":746,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684983058,"creation_date":1684983058,"question_id":76328599,"body_markdown":"I am a student attempting to learn Java. I downloaded Visual studio code and it was working well until now. This is what shows when I try to run a program:\r\n\r\n\\[Error - 10:04:09 PM\\] Language Support for Java (Syntax Server) client: couldn&#39;t create connection to server.\r\nLaunching server using command c:\\\\Users\\\\myname.vscode\\\\extensions\\\\redhat.java-1.18.0-win32-x64\\\\jre\\\\17.0.7-win32-x86_64\\\\bin\\\\java failed. Error: spawn c:\\\\Users\\\\myname.vscode\\\\extensions\\\\redhat.java-1.18.0-win32-x64\\\\jre\\\\17.0.7-win32-x86_64\\\\bin\\\\java ENOENT\r\n\r\nIt first gives me the message: &quot;Language Support for Java (Syntax Server) client: couldn&#39;t create connection to server.&quot;\r\n\r\nI don&#39;t understand what this means. I found a post saying that I had to install the latest version of Language support for java and I did that. I even deleted visual studio code and redownload and it is still the same. I followed the command line: c:\\\\Users\\\\myname.vscode\\\\extensions\\\\redhat.java-1.18.0-win32-x64\\\\jre\\\\17.0.7-win32-x86_64\\\\bin\\\\java up until bin but I didn&#39;t find a file with just java. The closes thing I found was java.exe is that the same thing?  I also found java.dll. I don&#39;t know what happened I just need for my code to run.\r\n\r\nI found a post saying that I had to install the latest version of Language support for java and I did that. I even deleted visual studio code because I thought that if I  did something deleting the app then redownloading it would undo what I did. It did not work and it is still the same.","title":"Why does Visual Studio Code send me: Language Support for Java (Syntax Server) client: couldn&#39;t create connection to server","body":"<p>I am a student attempting to learn Java. I downloaded Visual studio code and it was working well until now. This is what shows when I try to run a program:</p>\n<p>[Error - 10:04:09 PM] Language Support for Java (Syntax Server) client: couldn't create connection to server.\nLaunching server using command c:\\Users\\myname.vscode\\extensions\\redhat.java-1.18.0-win32-x64\\jre\\17.0.7-win32-x86_64\\bin\\java failed. Error: spawn c:\\Users\\myname.vscode\\extensions\\redhat.java-1.18.0-win32-x64\\jre\\17.0.7-win32-x86_64\\bin\\java ENOENT</p>\n<p>It first gives me the message: &quot;Language Support for Java (Syntax Server) client: couldn't create connection to server.&quot;</p>\n<p>I don't understand what this means. I found a post saying that I had to install the latest version of Language support for java and I did that. I even deleted visual studio code and redownload and it is still the same. I followed the command line: c:\\Users\\myname.vscode\\extensions\\redhat.java-1.18.0-win32-x64\\jre\\17.0.7-win32-x86_64\\bin\\java up until bin but I didn't find a file with just java. The closes thing I found was java.exe is that the same thing?  I also found java.dll. I don't know what happened I just need for my code to run.</p>\n<p>I found a post saying that I had to install the latest version of Language support for java and I did that. I even deleted visual studio code because I thought that if I  did something deleting the app then redownloading it would undo what I did. It did not work and it is still the same.</p>\n"},{"tags":["java","maven","visual-studio-code","tomcat9"],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684981349,"creation_date":1684981349,"answer_id":76328491,"question_id":76322906,"body_markdown":"#### The following methods are for your reference:\r\n\r\n 1. [**Depoly**][1] extension may be useful, install it.\r\n\r\n    [![enter image description here][2]][2]\r\n\r\n 2. Here is a simple maven project as an example.\r\n\r\n    [![enter image description here][3]][3]\r\n\r\n 3. `compile` project in **MAVEN** panel\r\n\r\n    [![enter image description here][4]][4]\r\n\r\n 4. After downloading the extension, add the following configuration in ***settings.json***.\r\n\r\n    ```\r\n        &quot;deploy&quot;: {\r\n            &quot;packages&quot;: [\r\n                {\r\n                    &quot;name&quot;: &quot;frontend&quot;,\r\n                    &quot;description&quot;: &quot;All files in webapp&quot;,\r\n                    &quot;files&quot;: [\r\n                        &quot;src/main/webapp/*&quot;,\r\n                        &quot;src/main/webapp/*/*&quot;,\r\n                        &quot;src/main/webapp/*.*&quot;,\r\n                        &quot;src/main/webapp/*/*.*&quot;,\r\n                        &quot;src/main/webapp/*/*/*.*&quot;,\r\n                        &quot;src/main/webapp/*/*/*/*.*&quot;,\r\n                        &quot;src/main/webapp/*/*/*/*/*.*&quot;,\r\n                        &quot;src/main/webapp/*/*/*/*/*&quot;,\r\n                        &quot;src/main/webapp/*/*/*/*/*/*.*&quot;,\r\n                    ],\r\n                    &quot;exclude&quot;: [\r\n                        &quot;src/main/webapp/test/*&quot;\r\n                    ],\r\n                    &quot;deployOnSave&quot;: true,\r\n                    &quot;useTargetList&quot;: true,\r\n                    &quot;button&quot;: {\r\n                        &quot;text&quot;: &quot;Deploy&quot;,\r\n                        &quot;tooltip&quot;: &quot;Click here to deploy frontend to hotsite&quot;,\r\n                        &quot;targets&quot;: [ &quot;HOTSITE&quot; ]\r\n                    },\r\n                }\r\n            ],\r\n            &quot;targets&quot;: [\r\n                {\r\n                    &quot;type&quot;: &quot;local&quot;,\r\n                    &quot;name&quot;: &quot;HOTSITE&quot;,\r\n                    &quot;description&quot;: &quot;A local folder&quot;,\r\n                    &quot;dir&quot;: &quot;target/DETE/&quot;,\r\n                    &quot;mappings&quot;: [\r\n                        {\r\n                            &quot;source&quot;: &quot;src/main/webapp&quot;,\r\n                            &quot;isRegEx&quot;: false,\r\n                            &quot;target&quot;: &quot;/&quot;\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        }\r\n    ```\r\n\r\n 5. After the addition is complete, click the `Deploy` button that appears in the status bar below.\r\n\r\n    [![enter image description here][5]][5]\r\n\r\n 6. Right-click on the tomcat server and select `Add Deployment`\r\n\r\n    [![enter image description here][6]][6]\r\n\r\n 7. Select `Exploded`\r\n\r\n    [![enter image description here][7]][7]\r\n\r\n 8. Select the **DETE** folder generated by just clicking `Deploy` in the explorer\r\n\r\n    [![enter image description here][8]][8]\r\n\r\n 9. Type `http://localhost:8080/DETE` in the browser address bar and press Enter\r\n\r\n    [![enter image description here][9]][9]\r\n\r\n    *Or right-click on tomcat and select `Server Actions...` --&gt; `Show in Browser...` --&gt; `http://localhost:8080/DETE`*\r\n\r\n 10. Modify `.jsp` to add a line of content\r\n   [![enter image description here][11]][11]\r\n\r\n 11. Refreshing the page shows the changed content.\r\n   [![enter image description here][12]][12]\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=mkloubert.vs-deploy\r\n  [2]: https://i.stack.imgur.com/fEQjM.png\r\n  [3]: https://i.stack.imgur.com/gzCMX.png\r\n  [4]: https://i.stack.imgur.com/jBaVX.png\r\n  [5]: https://i.stack.imgur.com/Yelc6.png\r\n  [6]: https://i.stack.imgur.com/MHBjr.png\r\n  [7]: https://i.stack.imgur.com/5okoR.png\r\n  [8]: https://i.stack.imgur.com/c2whq.png\r\n  [9]: https://i.stack.imgur.com/MifGe.png\r\n  [11]: https://i.stack.imgur.com/sfeHL.png\r\n  [12]: https://i.stack.imgur.com/f2Rqw.png","title":"Using VSCODE, adoption of on-the-fly changes made to a dependent Java project by another project deployed on Tomcat","body":"<h4>The following methods are for your reference:</h4>\n<ol>\n<li><p><a href=\"https://marketplace.visualstudio.com/items?itemName=mkloubert.vs-deploy\" rel=\"nofollow noreferrer\"><strong>Depoly</strong></a> extension may be useful, install it.</p>\n<p><a href=\"https://i.stack.imgur.com/fEQjM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fEQjM.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Here is a simple maven project as an example.</p>\n<p><a href=\"https://i.stack.imgur.com/gzCMX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gzCMX.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p><code>compile</code> project in <strong>MAVEN</strong> panel</p>\n<p><a href=\"https://i.stack.imgur.com/jBaVX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jBaVX.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>After downloading the extension, add the following configuration in <em><strong>settings.json</strong></em>.</p>\n<pre><code>    &quot;deploy&quot;: {\n        &quot;packages&quot;: [\n            {\n                &quot;name&quot;: &quot;frontend&quot;,\n                &quot;description&quot;: &quot;All files in webapp&quot;,\n                &quot;files&quot;: [\n                    &quot;src/main/webapp/*&quot;,\n                    &quot;src/main/webapp/*/*&quot;,\n                    &quot;src/main/webapp/*.*&quot;,\n                    &quot;src/main/webapp/*/*.*&quot;,\n                    &quot;src/main/webapp/*/*/*.*&quot;,\n                    &quot;src/main/webapp/*/*/*/*.*&quot;,\n                    &quot;src/main/webapp/*/*/*/*/*.*&quot;,\n                    &quot;src/main/webapp/*/*/*/*/*&quot;,\n                    &quot;src/main/webapp/*/*/*/*/*/*.*&quot;,\n                ],\n                &quot;exclude&quot;: [\n                    &quot;src/main/webapp/test/*&quot;\n                ],\n                &quot;deployOnSave&quot;: true,\n                &quot;useTargetList&quot;: true,\n                &quot;button&quot;: {\n                    &quot;text&quot;: &quot;Deploy&quot;,\n                    &quot;tooltip&quot;: &quot;Click here to deploy frontend to hotsite&quot;,\n                    &quot;targets&quot;: [ &quot;HOTSITE&quot; ]\n                },\n            }\n        ],\n        &quot;targets&quot;: [\n            {\n                &quot;type&quot;: &quot;local&quot;,\n                &quot;name&quot;: &quot;HOTSITE&quot;,\n                &quot;description&quot;: &quot;A local folder&quot;,\n                &quot;dir&quot;: &quot;target/DETE/&quot;,\n                &quot;mappings&quot;: [\n                    {\n                        &quot;source&quot;: &quot;src/main/webapp&quot;,\n                        &quot;isRegEx&quot;: false,\n                        &quot;target&quot;: &quot;/&quot;\n                    }\n                ]\n            }\n        ]\n    }\n</code></pre>\n</li>\n<li><p>After the addition is complete, click the <code>Deploy</code> button that appears in the status bar below.</p>\n<p><a href=\"https://i.stack.imgur.com/Yelc6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yelc6.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Right-click on the tomcat server and select <code>Add Deployment</code></p>\n<p><a href=\"https://i.stack.imgur.com/MHBjr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MHBjr.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Select <code>Exploded</code></p>\n<p><a href=\"https://i.stack.imgur.com/5okoR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5okoR.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Select the <strong>DETE</strong> folder generated by just clicking <code>Deploy</code> in the explorer</p>\n<p><a href=\"https://i.stack.imgur.com/c2whq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c2whq.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Type <code>http://localhost:8080/DETE</code> in the browser address bar and press Enter</p>\n<p><a href=\"https://i.stack.imgur.com/MifGe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MifGe.png\" alt=\"enter image description here\" /></a></p>\n<p><em>Or right-click on tomcat and select <code>Server Actions...</code> --&gt; <code>Show in Browser...</code> --&gt; <code>http://localhost:8080/DETE</code></em></p>\n</li>\n<li><p>Modify <code>.jsp</code> to add a line of content\n<a href=\"https://i.stack.imgur.com/sfeHL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sfeHL.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Refreshing the page shows the changed content.\n<a href=\"https://i.stack.imgur.com/f2Rqw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f2Rqw.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1684981349,"creation_date":1684926603,"question_id":76322906,"body_markdown":"Working in **VSCODE**, I have a **Java web project** called **aapp**, which depends on another **standalone Java project** called **aapp_restapi**. \r\n\r\nBoth are **mavenized**. But **I don&#39;t use Spring Boot**.\r\n\r\nWhat configurations can I carry out so that the **changes** I make to the Java sources of the standalone **aapp_restapi** project are taken into account **on the fly** by the **aapp** web project?\r\n\r\nSpecifically, since I don&#39;t use Spring Boot, is there a way to do it from the ***VSCODE configuration*** (*settings.json*), or from **Maven** (*pom.xml*)?\r\n\r\nIdeally by getting the **Tomcat server** to automatically restart (or without the need to restart) taking the changes into account.","title":"Using VSCODE, adoption of on-the-fly changes made to a dependent Java project by another project deployed on Tomcat","body":"<p>Working in <strong>VSCODE</strong>, I have a <strong>Java web project</strong> called <strong>aapp</strong>, which depends on another <strong>standalone Java project</strong> called <strong>aapp_restapi</strong>.</p>\n<p>Both are <strong>mavenized</strong>. But <strong>I don't use Spring Boot</strong>.</p>\n<p>What configurations can I carry out so that the <strong>changes</strong> I make to the Java sources of the standalone <strong>aapp_restapi</strong> project are taken into account <strong>on the fly</strong> by the <strong>aapp</strong> web project?</p>\n<p>Specifically, since I don't use Spring Boot, is there a way to do it from the <em><strong>VSCODE configuration</strong></em> (<em>settings.json</em>), or from <strong>Maven</strong> (<em>pom.xml</em>)?</p>\n<p>Ideally by getting the <strong>Tomcat server</strong> to automatically restart (or without the need to restart) taking the changes into account.</p>\n"},{"tags":["java","algorithm","function"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1474431792,"post_id":39607480,"comment_id":66523086,"body_markdown":"`Given a string ... find the longest substring` ... so are there two strings in this problem, or only one?","body":"<code>Given a string ... find the longest substring</code> ... so are there two strings in this problem, or only one?"},{"owner":{"account_id":4146553,"reputation":32805,"user_id":5743988,"accept_rate":67,"display_name":"4castle"},"score":1,"creation_date":1474431817,"post_id":39607480,"comment_id":66523089,"body_markdown":"For finding if a character is a vowel, you can use [this](http://stackoverflow.com/a/19161184/5743988) for simpler code.","body":"For finding if a character is a vowel, you can use <a href=\"http://stackoverflow.com/a/19161184/5743988\">this</a> for simpler code."},{"owner":{"account_id":4146553,"reputation":32805,"user_id":5743988,"accept_rate":67,"display_name":"4castle"},"score":2,"creation_date":1474431960,"post_id":39607480,"comment_id":66523120,"body_markdown":"@TimBiegeleisen I&#39;m pretty sure there is only 1 string? The task is to find the longest substring where `consonantCount == vowelCount`.","body":"@TimBiegeleisen I&#39;m pretty sure there is only 1 string? The task is to find the longest substring where <code>consonantCount == vowelCount</code>."},{"owner":{"account_id":4146553,"reputation":32805,"user_id":5743988,"accept_rate":67,"display_name":"4castle"},"score":1,"creation_date":1474433121,"post_id":39607480,"comment_id":66523433,"body_markdown":"Is it safe for you to assume all non-vowels are consonants? What if there are spaces, or numbers?","body":"Is it safe for you to assume all non-vowels are consonants? What if there are spaces, or numbers?"},{"owner":{"account_id":107038,"reputation":133820,"user_id":284795,"accept_rate":79,"display_name":"Colonel Panic"},"score":0,"creation_date":1474553087,"post_id":39607480,"comment_id":66585979,"body_markdown":"Your question would be clearer with an example.","body":"Your question would be clearer with an example."}],"answers":[{"tags":[],"owner":{"account_id":4146553,"reputation":32805,"user_id":5743988,"accept_rate":67,"display_name":"4castle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474465147,"creation_date":1474432747,"answer_id":39607669,"question_id":39607480,"body_markdown":"To find the longest substring where the number of consonants and vowels are equal, start finding substrings at the largest length, and steadily decrease the length needed until you find a substring that matches the criteria.\r\n\r\nThis will allow you to short-circuit the operation.\r\n\r\n    public static String findLongestSubstring(String str) {\r\n        for (int len = str.length(); len &gt;= 2; len--) {\r\n            for (int i = 0; i &lt;= str.length() - len; i++) {\r\n                String substr = str.substring(i, i + len);\r\n                int vowels = countVowels(substr);\r\n                int consonants = len - vowels;\r\n                if (vowels == consonants) {\r\n                    return substr;\r\n                }\r\n            }\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    private static int countVowels(String str) {\r\n        return str.replaceAll(&quot;[^AEIOUaeiou]+&quot;, &quot;&quot;).length(); \r\n    }","title":"Given a string, find the longest substring with the same number of vowels and consonants?","body":"<p>To find the longest substring where the number of consonants and vowels are equal, start finding substrings at the largest length, and steadily decrease the length needed until you find a substring that matches the criteria.</p>\n\n<p>This will allow you to short-circuit the operation.</p>\n\n<pre><code>public static String findLongestSubstring(String str) {\n    for (int len = str.length(); len &gt;= 2; len--) {\n        for (int i = 0; i &lt;= str.length() - len; i++) {\n            String substr = str.substring(i, i + len);\n            int vowels = countVowels(substr);\n            int consonants = len - vowels;\n            if (vowels == consonants) {\n                return substr;\n            }\n        }\n    }\n    return \"\";\n}\n\nprivate static int countVowels(String str) {\n    return str.replaceAll(\"[^AEIOUaeiou]+\", \"\").length(); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3076222,"reputation":712,"user_id":2605461,"display_name":"mv200580"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474432825,"creation_date":1474432825,"answer_id":39607688,"question_id":39607480,"body_markdown":"I think this could be decision for your task (for not too long input string):\r\n\r\n    import org.junit.Test;\r\n    \r\n    /**\r\n     * Created by smv on 19/09/16.\r\n     */\r\n    public class MainTest {\r\n    \r\n        public static boolean isVowel(char c) {\r\n            return &quot;AEIOUaeiou&quot;.indexOf(c) != -1;\r\n        }\r\n    \r\n        public int getVowelCount(String str) {\r\n            int res = 0;\r\n            for(int i=0; i &lt; str.length(); i++){\r\n                if(isVowel(str.charAt(i))) {\r\n                    res++;\r\n                }\r\n            }\r\n            return res;\r\n        }\r\n    \r\n        public int getConsonantCount(String str) {\r\n            int res = 0;\r\n            for(int i=0; i &lt; str.length(); i++){\r\n                if(!isVowel(str.charAt(i))) {\r\n                    res++;\r\n                }\r\n            }\r\n            return res;\r\n        }\r\n    \r\n        @Test\r\n        public void run() throws Exception {\r\n            String string = &quot;aasdaasggsertcwevwertwe&quot;;\r\n            int lengthOfString = string.length();\r\n            String maxSub = &quot;&quot;;\r\n            int maxSubLength = 0;\r\n    \r\n            // find all substrings of given string\r\n            for( int c = 0 ; c &lt; lengthOfString ; c++ )\r\n            {\r\n                for( int i = 1 ; i &lt;= lengthOfString - c ; i++ )\r\n                {\r\n                    String sub = string.substring(c, c+i);\r\n                    \r\n                    // comparing count vowels and consonants \r\n                    if (getVowelCount(sub) == getConsonantCount(sub)) {\r\n                        if (sub.length() &gt; maxSubLength) {\r\n                            maxSub = sub;\r\n                            maxSubLength = sub.length();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(maxSub);\r\n        }\r\n    }\r\n\r\n","title":"Given a string, find the longest substring with the same number of vowels and consonants?","body":"<p>I think this could be decision for your task (for not too long input string):</p>\n\n<pre><code>import org.junit.Test;\n\n/**\n * Created by smv on 19/09/16.\n */\npublic class MainTest {\n\n    public static boolean isVowel(char c) {\n        return \"AEIOUaeiou\".indexOf(c) != -1;\n    }\n\n    public int getVowelCount(String str) {\n        int res = 0;\n        for(int i=0; i &lt; str.length(); i++){\n            if(isVowel(str.charAt(i))) {\n                res++;\n            }\n        }\n        return res;\n    }\n\n    public int getConsonantCount(String str) {\n        int res = 0;\n        for(int i=0; i &lt; str.length(); i++){\n            if(!isVowel(str.charAt(i))) {\n                res++;\n            }\n        }\n        return res;\n    }\n\n    @Test\n    public void run() throws Exception {\n        String string = \"aasdaasggsertcwevwertwe\";\n        int lengthOfString = string.length();\n        String maxSub = \"\";\n        int maxSubLength = 0;\n\n        // find all substrings of given string\n        for( int c = 0 ; c &lt; lengthOfString ; c++ )\n        {\n            for( int i = 1 ; i &lt;= lengthOfString - c ; i++ )\n            {\n                String sub = string.substring(c, c+i);\n\n                // comparing count vowels and consonants \n                if (getVowelCount(sub) == getConsonantCount(sub)) {\n                    if (sub.length() &gt; maxSubLength) {\n                        maxSub = sub;\n                        maxSubLength = sub.length();\n                    }\n                }\n            }\n        }\n        System.out.println(maxSub);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474441832,"creation_date":1474432875,"answer_id":39607701,"question_id":39607480,"body_markdown":"Here is an updated version of my original answer which runs in `O(n^2)` time.  It achieves this by employing a trick, namely keeping track of a single variable (called &#39;net&#39;) which tracks the _difference_ between the number of vowels and consonants.  When this number is zero, a given substring is balanced.\r\n\r\nIt takes `O(n^2)` to iterate over every possible substring in the worst case, but it doesn&#39;t take any additional time check each substring for strings and vowels, because it keeps the `net` up to date with each new step to choose a substring.  Hence, it reduces the complexity from `O(n^3)` to `O(n^2)`.\r\n\r\n    public String findLongestSubstring(String input) {\r\n        String longest = &quot;&quot;;\r\n\r\n        for (int window = inputz.length(); window &gt;=2; --window) {\r\n            String substr = input.substring(0, window);\r\n            String consonants = input.substring(0, window).toLowerCase()\r\n                    .replaceAll(&quot;[aeiou]&quot;, &quot;&quot;);\r\n            int vowelCount = input.substring(0, window).length() - consonants.length();\r\n            int consonantCount = consonants.length();\r\n\r\n            int net = vowelCount - consonantCount;\r\n\r\n            for (int i=window; i &lt;= input.length(); ++i) {\r\n                if (net == 0) {\r\n                    longest = input.substring(i-window, i);\r\n                    return longest;\r\n                }\r\n\r\n                // no-op for last window\r\n                if (i == input.length()) break;\r\n\r\n                // update tally by removing high character\r\n                if (&quot;aeiou&quot;.indexOf(input.charAt(i)) != -1) {\r\n                    ++net;\r\n                }\r\n                else {\r\n                    --net;\r\n                }\r\n                // update tally by adding low character\r\n                if (&quot;aeiou&quot;.indexOf(input.charAt(i-window)) != -1) {\r\n                    --net;\r\n                }\r\n                else {\r\n                    ++net;\r\n                }\r\n            }\r\n        }\r\n\r\n        return longest;\r\n    }","title":"Given a string, find the longest substring with the same number of vowels and consonants?","body":"<p>Here is an updated version of my original answer which runs in <code>O(n^2)</code> time.  It achieves this by employing a trick, namely keeping track of a single variable (called 'net') which tracks the <em>difference</em> between the number of vowels and consonants.  When this number is zero, a given substring is balanced.</p>\n\n<p>It takes <code>O(n^2)</code> to iterate over every possible substring in the worst case, but it doesn't take any additional time check each substring for strings and vowels, because it keeps the <code>net</code> up to date with each new step to choose a substring.  Hence, it reduces the complexity from <code>O(n^3)</code> to <code>O(n^2)</code>.</p>\n\n<pre><code>public String findLongestSubstring(String input) {\n    String longest = \"\";\n\n    for (int window = inputz.length(); window &gt;=2; --window) {\n        String substr = input.substring(0, window);\n        String consonants = input.substring(0, window).toLowerCase()\n                .replaceAll(\"[aeiou]\", \"\");\n        int vowelCount = input.substring(0, window).length() - consonants.length();\n        int consonantCount = consonants.length();\n\n        int net = vowelCount - consonantCount;\n\n        for (int i=window; i &lt;= input.length(); ++i) {\n            if (net == 0) {\n                longest = input.substring(i-window, i);\n                return longest;\n            }\n\n            // no-op for last window\n            if (i == input.length()) break;\n\n            // update tally by removing high character\n            if (\"aeiou\".indexOf(input.charAt(i)) != -1) {\n                ++net;\n            }\n            else {\n                --net;\n            }\n            // update tally by adding low character\n            if (\"aeiou\".indexOf(input.charAt(i-window)) != -1) {\n                --net;\n            }\n            else {\n                ++net;\n            }\n        }\n    }\n\n    return longest;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8962132,"reputation":11,"user_id":6684354,"display_name":"user6684354"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474436515,"creation_date":1474436515,"answer_id":39608350,"question_id":39607480,"body_markdown":"Well the requirements are very vague here of course. It does not mention if numbers or other keys are included in the input. I assumed a starting index of zero since counts are equal at that point. \r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n\t\tString string = new String(scanner.next());\r\n\t\tint lengthOfString = string.length();\r\n\t\tint vowelCount = 0;\r\n\t\tint consCount = 0;\r\n\t\tint maxIndex = -1;\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; lengthOfString; i++) \r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Char: &quot; + string.charAt(i));\r\n\t\t\t\r\n\t\t\tif(string.charAt(i) == &#39;u&#39; || string.charAt(i) == &#39;e&#39; || string.charAt(i) == &#39;i&#39;\r\n\t\t\t\t|| string.charAt(i) == &#39;o&#39; || string.charAt(i) == &#39;a&#39;) \r\n\t\t\t{\r\n\t\t\t\tvowelCount++;\r\n\t\t\t} \r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tconsCount++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(vowelCount == consCount)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;count equal with: &quot; + string.substring(0, (i + 1)));\r\n\t\t\t\tmaxIndex = i + 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif(maxIndex &gt; 0)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Longest sub string with equal count of vowels and consonants is: &quot; \r\n\t\t\t\t+ string.substring(0, maxIndex));\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;No substring existed with equal count of vowels and consonants.&quot;);\r\n\t\t}","title":"Given a string, find the longest substring with the same number of vowels and consonants?","body":"<p>Well the requirements are very vague here of course. It does not mention if numbers or other keys are included in the input. I assumed a starting index of zero since counts are equal at that point. </p>\n\n<pre><code>    Scanner scanner = new Scanner(System.in);\n    String string = new String(scanner.next());\n    int lengthOfString = string.length();\n    int vowelCount = 0;\n    int consCount = 0;\n    int maxIndex = -1;\n\n    for(int i = 0; i &lt; lengthOfString; i++) \n    {\n        System.out.println(\"Char: \" + string.charAt(i));\n\n        if(string.charAt(i) == 'u' || string.charAt(i) == 'e' || string.charAt(i) == 'i'\n            || string.charAt(i) == 'o' || string.charAt(i) == 'a') \n        {\n            vowelCount++;\n        } \n        else \n        {\n            consCount++;\n        }\n\n        if(vowelCount == consCount)\n        {\n            System.out.println(\"count equal with: \" + string.substring(0, (i + 1)));\n            maxIndex = i + 1;\n        }\n    }\n\n    if(maxIndex &gt; 0)\n    {\n        System.out.println(\"Longest sub string with equal count of vowels and consonants is: \" \n            + string.substring(0, maxIndex));\n    }\n    else\n    {\n        System.out.println(\"No substring existed with equal count of vowels and consonants.\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20180,"reputation":50570,"user_id":47984,"accept_rate":67,"display_name":"j_random_hacker"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1474465214,"creation_date":1474464704,"answer_id":39618050,"question_id":39607480,"body_markdown":"This can be solved in **O(n) time and space** using the &quot;net&quot; values computed by [this answer](https://stackoverflow.com/a/39607701/47984) in combination with the following observation:\r\n\r\n* A substring s[i .. j] has the same number of consonants and vowels if and only if net[1 .. i-1] = net[1 .. j], where net[i .. j] is the sum of the &quot;net&quot; values (1 for a vowel, -1 for a consonant) for each character between positions i and j, inclusive.\r\n\r\nTo see this, observe that the condition that tells us that a substring s[i .. j] is the kind we&#39;re looking for is that\r\n\r\n    net[i .. j] = 0.\r\n\r\nAdding net[1 .. i-1] to both sides of this equation gives\r\n\r\n    net[1 .. i-1] + net[i .. j] = net[1 .. i-1]\r\n\r\nwith the LHS then simplifying to just\r\n\r\n    net[1 .. j] = net[1 .. i-1]\r\n\r\nAlgorithm\r\n---\r\nThat means that we can create a table containing two entries (first position seen and last position seen) for each possible distinct value that we could get as we calculate a running sum of net values.  This running total could range as low as -n (if every character is a consonant) or as high as n (if every character is a vowel), so there are at most 2n+1 distinct such sums in total, so we&#39;ll need that many rows in our table.  We then march through the string from left to right calculating a running total net value, and updating the pair in the table that corresponds to the current running total, noticing whenever this update produces a new, maximum-length substring.  In pseudocode, with zero-based array indices and using separate arrays to hold the elements in each pair:\r\n\r\n1. Create 2 arrays of length 2n+1, first[] and last[], initially containing all -2s, except for first[n] which is -1.  (Need to use -2 as a sentinel since -1 is actually a valid value!)\r\n2. Set bestFirst = bestLast = bestLen = -1.\r\n3. Set the running total t = n.  (n &quot;means&quot; 0; using this bias just means we can use the running total directly as a nonnegative-valued index into the arrays without having to repeatedly add an offset to it.)\r\n4. For i from 0 to n-1:\r\n    * If s[i] is a vowel, increment t, otherwise decrement t.\r\n    * If first[t] is -2:\r\n        * Set first[t] = i.\r\n    * Otherwise:\r\n        * Set last[t] = i.\r\n        * If last[t] - first[t] &gt; bestLen:\r\n            * Set bestLen = last[t] - first[t].\r\n            * Set bestFirst = first[t] + 1.\r\n            * Set bestLast = last[t].\r\n\r\nA maximum-length range will be returned in (bestFirst, bestLast), or if no such range exists, these variables will both be -1.\r\n\r\nI remember seeing this solution, or one very similar to it, somewhere on SO a while back -- if anyone can find it, I&#39;ll gladly link to it.\r\n","title":"Given a string, find the longest substring with the same number of vowels and consonants?","body":"<p>This can be solved in <strong>O(n) time and space</strong> using the \"net\" values computed by <a href=\"https://stackoverflow.com/a/39607701/47984\">this answer</a> in combination with the following observation:</p>\n\n<ul>\n<li>A substring s[i .. j] has the same number of consonants and vowels if and only if net[1 .. i-1] = net[1 .. j], where net[i .. j] is the sum of the \"net\" values (1 for a vowel, -1 for a consonant) for each character between positions i and j, inclusive.</li>\n</ul>\n\n<p>To see this, observe that the condition that tells us that a substring s[i .. j] is the kind we're looking for is that</p>\n\n<pre><code>net[i .. j] = 0.\n</code></pre>\n\n<p>Adding net[1 .. i-1] to both sides of this equation gives</p>\n\n<pre><code>net[1 .. i-1] + net[i .. j] = net[1 .. i-1]\n</code></pre>\n\n<p>with the LHS then simplifying to just</p>\n\n<pre><code>net[1 .. j] = net[1 .. i-1]\n</code></pre>\n\n<h2>Algorithm</h2>\n\n<p>That means that we can create a table containing two entries (first position seen and last position seen) for each possible distinct value that we could get as we calculate a running sum of net values.  This running total could range as low as -n (if every character is a consonant) or as high as n (if every character is a vowel), so there are at most 2n+1 distinct such sums in total, so we'll need that many rows in our table.  We then march through the string from left to right calculating a running total net value, and updating the pair in the table that corresponds to the current running total, noticing whenever this update produces a new, maximum-length substring.  In pseudocode, with zero-based array indices and using separate arrays to hold the elements in each pair:</p>\n\n<ol>\n<li>Create 2 arrays of length 2n+1, first[] and last[], initially containing all -2s, except for first[n] which is -1.  (Need to use -2 as a sentinel since -1 is actually a valid value!)</li>\n<li>Set bestFirst = bestLast = bestLen = -1.</li>\n<li>Set the running total t = n.  (n \"means\" 0; using this bias just means we can use the running total directly as a nonnegative-valued index into the arrays without having to repeatedly add an offset to it.)</li>\n<li>For i from 0 to n-1:\n\n<ul>\n<li>If s[i] is a vowel, increment t, otherwise decrement t.</li>\n<li>If first[t] is -2:\n\n<ul>\n<li>Set first[t] = i.</li>\n</ul></li>\n<li>Otherwise:\n\n<ul>\n<li>Set last[t] = i.</li>\n<li>If last[t] - first[t] > bestLen:\n\n<ul>\n<li>Set bestLen = last[t] - first[t].</li>\n<li>Set bestFirst = first[t] + 1.</li>\n<li>Set bestLast = last[t].</li>\n</ul></li>\n</ul></li>\n</ul></li>\n</ol>\n\n<p>A maximum-length range will be returned in (bestFirst, bestLast), or if no such range exists, these variables will both be -1.</p>\n\n<p>I remember seeing this solution, or one very similar to it, somewhere on SO a while back -- if anyone can find it, I'll gladly link to it.</p>\n"},{"tags":[],"owner":{"account_id":10381575,"reputation":1,"user_id":14573900,"display_name":"thisaislan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684980852,"creation_date":1684980852,"answer_id":76328463,"question_id":39607480,"body_markdown":"I wrote in C# (my bad, sorry), but I think you can get the idea:\r\n\r\n    public string Foo(string stg)\r\n    {\t\r\n        var result = &quot;&quot;;\r\n        var sum = 0;\r\n        var dictionary = new Dictionary&lt;int, int&gt;();\r\n\r\n        for (var index = 0; index &lt; stg.Length; index++)\r\n        {\r\n            if (&quot;AEIOUaeiou&quot;.Contains((stg[index].ToString()))) { sum += 1; }\r\n            else { sum -= 1; }\r\n\r\n            if (sum == 0)\r\n            {\r\n                result = stg.Substring(0, index + 1);\r\n            }\r\n\r\n            if (dictionary.ContainsKey(sum))\r\n            {\r\n                if (result.Length &lt; index - dictionary[sum])\r\n                {\r\n                    result = stg.Substring(dictionary[sum], index - dictionary[sum] + 1);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                dictionary.Add(sum, index);\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }","title":"Given a string, find the longest substring with the same number of vowels and consonants?","body":"<p>I wrote in C# (my bad, sorry), but I think you can get the idea:</p>\n<pre><code>public string Foo(string stg)\n{   \n    var result = &quot;&quot;;\n    var sum = 0;\n    var dictionary = new Dictionary&lt;int, int&gt;();\n\n    for (var index = 0; index &lt; stg.Length; index++)\n    {\n        if (&quot;AEIOUaeiou&quot;.Contains((stg[index].ToString()))) { sum += 1; }\n        else { sum -= 1; }\n\n        if (sum == 0)\n        {\n            result = stg.Substring(0, index + 1);\n        }\n\n        if (dictionary.ContainsKey(sum))\n        {\n            if (result.Length &lt; index - dictionary[sum])\n            {\n                result = stg.Substring(dictionary[sum], index - dictionary[sum] + 1);\n            }\n        }\n        else\n        {\n            dictionary.Add(sum, index);\n        }\n    }\n\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":9229983,"reputation":63,"user_id":6856398,"accept_rate":40,"display_name":"YOGIYO"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3493,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":6,"score":5,"last_activity_date":1684980852,"creation_date":1474431516,"question_id":39607480,"body_markdown":"&gt;Given a string, find the longest substring with the same number of vowels and consonants.\r\n\r\n**CLARIFICATION:** I am unsure, whether we can generate a new string, or the substring has to be part of the original string? So far I have this,\r\n\r\n**Code Snippet :**\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        String string = new String(scanner.next());\r\n        int lengthOfString = string.length();\r\n        int vowelCount = 0;\r\n        int consCount = 0;\r\n\r\n        for (int i = 0; i &lt; lengthOfString; i++) {\r\n            if (string.charAt(i) == &#39;u&#39; || string.charAt(i) == &#39;e&#39;  || string.charAt(i) == &#39;i&#39;\r\n                    || string.charAt(i) == &#39;o&#39; || string.charAt(i) == &#39;a&#39; ) {\r\n                vowelCount++;\r\n\r\n\r\n            } else {\r\n\r\n                consCount++;\r\n            }\r\n\r\n        }\r\n\r\n        System.out.println(vowelCount);\r\n\r\n**EDIT** I got the count working, but how do I create a substring?","title":"Given a string, find the longest substring with the same number of vowels and consonants?","body":"<blockquote>\n  <p>Given a string, find the longest substring with the same number of vowels and consonants.</p>\n</blockquote>\n\n<p><strong>CLARIFICATION:</strong> I am unsure, whether we can generate a new string, or the substring has to be part of the original string? So far I have this,</p>\n\n<p><strong>Code Snippet :</strong></p>\n\n<pre><code>    Scanner scanner = new Scanner(System.in);\n    String string = new String(scanner.next());\n    int lengthOfString = string.length();\n    int vowelCount = 0;\n    int consCount = 0;\n\n    for (int i = 0; i &lt; lengthOfString; i++) {\n        if (string.charAt(i) == 'u' || string.charAt(i) == 'e'  || string.charAt(i) == 'i'\n                || string.charAt(i) == 'o' || string.charAt(i) == 'a' ) {\n            vowelCount++;\n\n\n        } else {\n\n            consCount++;\n        }\n\n    }\n\n    System.out.println(vowelCount);\n</code></pre>\n\n<p><strong>EDIT</strong> I got the count working, but how do I create a substring?</p>\n"},{"tags":["java","performance","web-services","memory","operating-system"],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1349814087,"creation_date":1349814087,"answer_id":12807826,"question_id":12807797,"body_markdown":"You can always call `Runtime.getRuntime().freeMemory()`.\r\n\r\nThe other half of the problem, getting the cost of objects, seems more problematic to me.\r\n\r\nI think a better solution would be figuring out how to cluster and scale your web services so they can gracefully accept 150% of rated load without denying new connections.  Sounds like a sizing exercise would get you a better solution than a code hack.\r\n","title":"Java get available memory","body":"<p>You can always call <code>Runtime.getRuntime().freeMemory()</code>.</p>\n\n<p>The other half of the problem, getting the cost of objects, seems more problematic to me.</p>\n\n<p>I think a better solution would be figuring out how to cluster and scale your web services so they can gracefully accept 150% of rated load without denying new connections.  Sounds like a sizing exercise would get you a better solution than a code hack.</p>\n"},{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1366812336,"creation_date":1349814107,"answer_id":12807830,"question_id":12807797,"body_markdown":"`Runtime.getRuntime().freeMemory()` is a way to get [free memory for JVM][1] at that moment while runtime. Is it good way (or) not it depends completely on your application.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Runtime.html","title":"Java get available memory","body":"<p><code>Runtime.getRuntime().freeMemory()</code> is a way to get <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Runtime.html\" rel=\"nofollow\">free memory for JVM</a> at that moment while runtime. Is it good way (or) not it depends completely on your application.</p>\n"},{"tags":[],"owner":{"account_id":1818503,"reputation":301,"user_id":1653104,"display_name":"Ryan Anderson"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1349814158,"creation_date":1349814158,"answer_id":12807844,"question_id":12807797,"body_markdown":"    long freeMemory = Runtime.getRuntime().freeMemory();","title":"Java get available memory","body":"<pre><code>long freeMemory = Runtime.getRuntime().freeMemory();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1786761,"reputation":1788,"user_id":1708550,"display_name":"Blitzkoder"},"down_vote_count":4,"up_vote_count":122,"is_accepted":true,"score":118,"last_activity_date":1458961059,"creation_date":1349814165,"answer_id":12807848,"question_id":12807797,"body_markdown":"[This sample by William Brendel may be of some use.][1]\r\n\r\nEDIT: I originally provided this sample (linking to William Brendel&#39;s answer on another topic). The creator of that topic (Steve M) wanted to create a multi-platform Java application. Specifically, the user was trying to find a means by which to assess the running machine&#39;s resources (disk space, CPU and memory usage).\r\n\r\nThis is an inline transcript of the answer given in that topic. However, it has been pointed out on this topic that it is not the ideal solution, despite my answer being marked as accepted.\r\n\r\n    public class Main {\r\n      public static void main(String[] args) {\r\n      /* Total number of processors or cores available to the JVM */\r\n      System.out.println(&quot;Available processors (cores): &quot; + \r\n      Runtime.getRuntime().availableProcessors());\r\n\r\n      /* Total amount of free memory available to the JVM */\r\n      System.out.println(&quot;Free memory (bytes): &quot; + \r\n      Runtime.getRuntime().freeMemory());\r\n\r\n      /* This will return Long.MAX_VALUE if there is no preset limit */\r\n      long maxMemory = Runtime.getRuntime().maxMemory();\r\n      /* Maximum amount of memory the JVM will attempt to use */\r\n      System.out.println(&quot;Maximum memory (bytes): &quot; + \r\n      (maxMemory == Long.MAX_VALUE ? &quot;no limit&quot; : maxMemory));\r\n\r\n      /* Total memory currently in use by the JVM */\r\n      System.out.println(&quot;Total memory (bytes): &quot; + \r\n      Runtime.getRuntime().totalMemory());\r\n\r\n      /* Get a list of all filesystem roots on this system */\r\n      File[] roots = File.listRoots();\r\n\r\n      /* For each filesystem root, print some info */\r\n      for (File root : roots) {\r\n        System.out.println(&quot;File system root: &quot; + root.getAbsolutePath());\r\n        System.out.println(&quot;Total space (bytes): &quot; + root.getTotalSpace());\r\n        System.out.println(&quot;Free space (bytes): &quot; + root.getFreeSpace());\r\n        System.out.println(&quot;Usable space (bytes): &quot; + root.getUsableSpace());\r\n      }\r\n     }\r\n    }\r\n\r\nUser Christian Fries points out that it is wrong to assume that `Runtime.getRuntime().freeMemory()` gives you the amount of memory which may be allocated until an out-of-memory error occurs. \r\n\r\nFrom the [documentation][2], the signature return of `Runtime.getRuntime().freeMemory()` is as such:\r\n\r\n***Returns:** an approximation to the total amount of memory currently available for future allocated objects, measured in bytes.*\r\n\r\n\r\nHowever, user Christian Fries claims this function may be misinterpreted. He claims that the approximate amount of memory which may be allocated until an out-of-memory error occurs (the free memory) is likely to be given by:\r\n\r\n    long presumableFreeMemory = Runtime.getRuntime().maxMemory() - allocatedMemory;\r\n\r\nWith `allocatedMemory` being given by:\r\n\r\n    long allocatedMemory = \r\n      (Runtime.getRuntime().totalMemory()-Runtime.getRuntime().freeMemory());\r\n\r\nThe key here is a discrepancy between the concept of free memory. One thing is the memory that the operating system provides the Java Virtual Machine. Another is the total amount of bytes comprising the chunks of blocks of memory actually being used by the Java Virtual Machine itself. \r\n\r\nConsidering that memory given to Java applications is managed in blocks by the Java Virtual Machine, the amount of *free memory* available to the Java Virtual Machine may not exactly match the memory available for a Java application.\r\n\r\nSpecifically, Christian Fries denotes the usage of the `-mx` or `-Xmx` flags to set the maximum amount of memory available to the Java Virtual Machine. He notes the following function differences:\r\n\r\n    /* Returns the maximum amount of memory available to \r\n       the Java Virtual Machine set by the &#39;-mx&#39; or &#39;-Xmx&#39; flags. */\r\n    Runtime.getRuntime().maxMemory();\r\n\r\n    /* Returns the total memory allocated from the system \r\n       (which can at most reach the maximum memory value \r\n       returned by the previous function). */\r\n    Runtime.getRuntime().totalMemory();\r\n\r\n    /* Returns the free memory *within* the total memory \r\n       returned by the previous function. */\r\n    Runtime.getRuntime().freeMemory();\r\n\r\nChristian concludes his answer by stating that `Runtime.getRuntime().freeMemory()` in fact returns what may be called presumable free memory; even if a future memory allocation does not exceed the value returned by that function, if the Java Virtual Machine has not yet received the actual chunk of memory assigned by the host system, a [`java.lang.OutOfMemoryError`][3] may still be produced.\r\n\r\nIn the end, the proper method to use will have a varying degree of dependence on the specifics of your application.\r\n\r\nI provide another link which may be useful. It is a question made by user Richard Dormand and answered by stones333 [about determining the default Java heap size used.][4]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25552/using-java-to-get-os-level-system-information\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#freeMemory--\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/OutOfMemoryError.html\r\n  [4]: https://stackoverflow.com/questions/4667483/how-is-the-default-java-heap-size-determined","title":"Java get available memory","body":"<p><a href=\"https://stackoverflow.com/questions/25552/using-java-to-get-os-level-system-information\">This sample by William Brendel may be of some use.</a></p>\n\n<p>EDIT: I originally provided this sample (linking to William Brendel's answer on another topic). The creator of that topic (Steve M) wanted to create a multi-platform Java application. Specifically, the user was trying to find a means by which to assess the running machine's resources (disk space, CPU and memory usage).</p>\n\n<p>This is an inline transcript of the answer given in that topic. However, it has been pointed out on this topic that it is not the ideal solution, despite my answer being marked as accepted.</p>\n\n<pre><code>public class Main {\n  public static void main(String[] args) {\n  /* Total number of processors or cores available to the JVM */\n  System.out.println(\"Available processors (cores): \" + \n  Runtime.getRuntime().availableProcessors());\n\n  /* Total amount of free memory available to the JVM */\n  System.out.println(\"Free memory (bytes): \" + \n  Runtime.getRuntime().freeMemory());\n\n  /* This will return Long.MAX_VALUE if there is no preset limit */\n  long maxMemory = Runtime.getRuntime().maxMemory();\n  /* Maximum amount of memory the JVM will attempt to use */\n  System.out.println(\"Maximum memory (bytes): \" + \n  (maxMemory == Long.MAX_VALUE ? \"no limit\" : maxMemory));\n\n  /* Total memory currently in use by the JVM */\n  System.out.println(\"Total memory (bytes): \" + \n  Runtime.getRuntime().totalMemory());\n\n  /* Get a list of all filesystem roots on this system */\n  File[] roots = File.listRoots();\n\n  /* For each filesystem root, print some info */\n  for (File root : roots) {\n    System.out.println(\"File system root: \" + root.getAbsolutePath());\n    System.out.println(\"Total space (bytes): \" + root.getTotalSpace());\n    System.out.println(\"Free space (bytes): \" + root.getFreeSpace());\n    System.out.println(\"Usable space (bytes): \" + root.getUsableSpace());\n  }\n }\n}\n</code></pre>\n\n<p>User Christian Fries points out that it is wrong to assume that <code>Runtime.getRuntime().freeMemory()</code> gives you the amount of memory which may be allocated until an out-of-memory error occurs. </p>\n\n<p>From the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#freeMemory--\" rel=\"noreferrer\">documentation</a>, the signature return of <code>Runtime.getRuntime().freeMemory()</code> is as such:</p>\n\n<p><strong><em>Returns:</strong> an approximation to the total amount of memory currently available for future allocated objects, measured in bytes.</em></p>\n\n<p>However, user Christian Fries claims this function may be misinterpreted. He claims that the approximate amount of memory which may be allocated until an out-of-memory error occurs (the free memory) is likely to be given by:</p>\n\n<pre><code>long presumableFreeMemory = Runtime.getRuntime().maxMemory() - allocatedMemory;\n</code></pre>\n\n<p>With <code>allocatedMemory</code> being given by:</p>\n\n<pre><code>long allocatedMemory = \n  (Runtime.getRuntime().totalMemory()-Runtime.getRuntime().freeMemory());\n</code></pre>\n\n<p>The key here is a discrepancy between the concept of free memory. One thing is the memory that the operating system provides the Java Virtual Machine. Another is the total amount of bytes comprising the chunks of blocks of memory actually being used by the Java Virtual Machine itself. </p>\n\n<p>Considering that memory given to Java applications is managed in blocks by the Java Virtual Machine, the amount of <em>free memory</em> available to the Java Virtual Machine may not exactly match the memory available for a Java application.</p>\n\n<p>Specifically, Christian Fries denotes the usage of the <code>-mx</code> or <code>-Xmx</code> flags to set the maximum amount of memory available to the Java Virtual Machine. He notes the following function differences:</p>\n\n<pre><code>/* Returns the maximum amount of memory available to \n   the Java Virtual Machine set by the '-mx' or '-Xmx' flags. */\nRuntime.getRuntime().maxMemory();\n\n/* Returns the total memory allocated from the system \n   (which can at most reach the maximum memory value \n   returned by the previous function). */\nRuntime.getRuntime().totalMemory();\n\n/* Returns the free memory *within* the total memory \n   returned by the previous function. */\nRuntime.getRuntime().freeMemory();\n</code></pre>\n\n<p>Christian concludes his answer by stating that <code>Runtime.getRuntime().freeMemory()</code> in fact returns what may be called presumable free memory; even if a future memory allocation does not exceed the value returned by that function, if the Java Virtual Machine has not yet received the actual chunk of memory assigned by the host system, a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/OutOfMemoryError.html\" rel=\"noreferrer\"><code>java.lang.OutOfMemoryError</code></a> may still be produced.</p>\n\n<p>In the end, the proper method to use will have a varying degree of dependence on the specifics of your application.</p>\n\n<p>I provide another link which may be useful. It is a question made by user Richard Dormand and answered by stones333 <a href=\"https://stackoverflow.com/questions/4667483/how-is-the-default-java-heap-size-determined\">about determining the default Java heap size used.</a></p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1349814322,"creation_date":1349814322,"answer_id":12807877,"question_id":12807797,"body_markdown":"In addition to the other answer, I would like to note that doing that is not necessarily a good idea, since you might have a cache in your app that uses [SoftReferences][1]. \r\n\r\nSuch a cache would release memory as soon as the JVM reaches its memory limits. Allocating memory, even if there&#39;s not enough free memory, would first cause memory to be released by the soft references, and make it available for the allocation.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/ref/SoftReference.html","title":"Java get available memory","body":"<p>In addition to the other answer, I would like to note that doing that is not necessarily a good idea, since you might have a cache in your app that uses <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/ref/SoftReference.html\">SoftReferences</a>. </p>\n\n<p>Such a cache would release memory as soon as the JVM reaches its memory limits. Allocating memory, even if there's not enough free memory, would first cause memory to be released by the soft references, and make it available for the allocation.</p>\n"},{"tags":[],"owner":{"account_id":1824055,"reputation":7962,"user_id":1657364,"display_name":"Guido Simone"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1349824263,"creation_date":1349824263,"answer_id":12809738,"question_id":12807797,"body_markdown":"In addition to using the Runtime methods, you can get some additional memory info using\r\n\r\n    MemoryMXBean memBean = ManagementFactory.getMemoryMXBean();\r\n    MemoryUsage heap = memBean.getHeapMemoryUsage();\r\n    MemoryUsage nonheap = memBean.getNonHeapMemoryUsage();\r\n\r\nEach [MemoryUsage](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/management/MemoryUsage.html) provides init, used, committed and max values.  This might be useful if create a memory monitor thread which polls memory and logs it, providing you with a history of memory usage over time.  Sometimes it&#39;s helpful to see the memory usage over time leading up to the errors.\r\n\r\nIf you really want to take this to an extreme, create a heap dump thread.  Monitor your memory usage over time and when it exceeds certain thresholds do the following (this works on JBoss 5.0 - your mileage may vary):\r\n\r\n    // init code\r\n    MBeanServer server = ManagementFactory.getPlatformMBeanServer();\r\n    HotSpotDiagnosticMXBean diagBean = ManagementFactory.newPlatformMXBeanProxy(server, &quot;com.sun.management:type=HotSpotDiagnostic&quot;, HotSpotDiagnosticMXBean.class); \r\n\r\n    // loop code\r\n    // add some code to figure if we have passed some threshold, then\r\n\r\n    File heapFile = new File(outputDir, &quot;heap-&quot; + curThreshold + &quot;.hprof&quot;);\r\n    log.info(&quot;Dumping heap file &quot; + heapFile.getAbsolutePath());\r\n    diagBean.dumpHeap(heapFile.getAbsolutePath(), true);\r\n\r\nLater you can review these heap dump files with the eclipse [memory analyzer](http://www.eclipse.org/mat/) or similar tools to check for memory leaks etc.","title":"Java get available memory","body":"<p>In addition to using the Runtime methods, you can get some additional memory info using</p>\n\n<pre><code>MemoryMXBean memBean = ManagementFactory.getMemoryMXBean();\nMemoryUsage heap = memBean.getHeapMemoryUsage();\nMemoryUsage nonheap = memBean.getNonHeapMemoryUsage();\n</code></pre>\n\n<p>Each <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/management/MemoryUsage.html\">MemoryUsage</a> provides init, used, committed and max values.  This might be useful if create a memory monitor thread which polls memory and logs it, providing you with a history of memory usage over time.  Sometimes it's helpful to see the memory usage over time leading up to the errors.</p>\n\n<p>If you really want to take this to an extreme, create a heap dump thread.  Monitor your memory usage over time and when it exceeds certain thresholds do the following (this works on JBoss 5.0 - your mileage may vary):</p>\n\n<pre><code>// init code\nMBeanServer server = ManagementFactory.getPlatformMBeanServer();\nHotSpotDiagnosticMXBean diagBean = ManagementFactory.newPlatformMXBeanProxy(server, \"com.sun.management:type=HotSpotDiagnostic\", HotSpotDiagnosticMXBean.class); \n\n// loop code\n// add some code to figure if we have passed some threshold, then\n\nFile heapFile = new File(outputDir, \"heap-\" + curThreshold + \".hprof\");\nlog.info(\"Dumping heap file \" + heapFile.getAbsolutePath());\ndiagBean.dumpHeap(heapFile.getAbsolutePath(), true);\n</code></pre>\n\n<p>Later you can review these heap dump files with the eclipse <a href=\"http://www.eclipse.org/mat/\">memory analyzer</a> or similar tools to check for memory leaks etc.</p>\n"},{"tags":[],"owner":{"account_id":82244,"reputation":16374,"user_id":231397,"accept_rate":24,"display_name":"Christian Fries"},"down_vote_count":0,"up_vote_count":82,"is_accepted":false,"score":82,"last_activity_date":1649802224,"creation_date":1377114189,"answer_id":18366283,"question_id":12807797,"body_markdown":"Note: All the answers so far, even the accepted one, seem to answer the question by saying that `Runtime.getRuntime().freeMemory()` gives you the amount of memory which may be allocated until an out-of-memory error occurs. However: this is wrong.\r\n\r\nThe *approximate* amount of memory which may be allocated until an out-of-memory error occurs, i.e., the free memory is likely\r\n\r\n    Runtime runtime           = Runtime.getRuntime();\r\n    long presumableFreeMemory = runtime.maxMemory() - allocatedMemory;\r\n\r\nwhere\r\n\r\n    long allocatedMemory      = runtime.totalMemory() - runtime.freeMemory();\r\n\r\n*Explanation:*\r\nIf you launch the JVM via an -mx parameter (or -Xmx) you specify the maximum amount available to the JVM. `Runtime.getRuntime().maxMemory()` will give you this amount. From this amount of system memory the JVM will allocate memory in chunks, say for example blocks of 64 mb. At start, the JVM will only allocate such a chunk from the system and not the full amount. `Runtime.getRuntime().totalMemory()` gives the total memory allocated from the system, while `Runtime.getRuntime().freeMemory()` gives you the free memory *within* the total memory allocated.\r\n\r\nHence:\r\n\r\n    long definitelyFreeMemory = Runtime.getRuntime().freeMemory();\r\n\r\nis the free memory already reserved by the JVM, but it is likely just a small amount. And you will likely get `presumableFreeMemory`. Of course, you may get an out-of-memory exception even if you tried to allocate an amount smaller than `presumableFreeMemory`. This may happen if the JVM does not get the next memory chunk from the system. However, on most systems this will never happen and the system will rather start swapping - a situation you like to avoid. W.r.t. to the original question: if -mx is set to a reasonable value, then `presumableFreeMemory` is a good indicator for the free memory.","title":"Java get available memory","body":"<p>Note: All the answers so far, even the accepted one, seem to answer the question by saying that <code>Runtime.getRuntime().freeMemory()</code> gives you the amount of memory which may be allocated until an out-of-memory error occurs. However: this is wrong.</p>\n<p>The <em>approximate</em> amount of memory which may be allocated until an out-of-memory error occurs, i.e., the free memory is likely</p>\n<pre><code>Runtime runtime           = Runtime.getRuntime();\nlong presumableFreeMemory = runtime.maxMemory() - allocatedMemory;\n</code></pre>\n<p>where</p>\n<pre><code>long allocatedMemory      = runtime.totalMemory() - runtime.freeMemory();\n</code></pre>\n<p><em>Explanation:</em>\nIf you launch the JVM via an -mx parameter (or -Xmx) you specify the maximum amount available to the JVM. <code>Runtime.getRuntime().maxMemory()</code> will give you this amount. From this amount of system memory the JVM will allocate memory in chunks, say for example blocks of 64 mb. At start, the JVM will only allocate such a chunk from the system and not the full amount. <code>Runtime.getRuntime().totalMemory()</code> gives the total memory allocated from the system, while <code>Runtime.getRuntime().freeMemory()</code> gives you the free memory <em>within</em> the total memory allocated.</p>\n<p>Hence:</p>\n<pre><code>long definitelyFreeMemory = Runtime.getRuntime().freeMemory();\n</code></pre>\n<p>is the free memory already reserved by the JVM, but it is likely just a small amount. And you will likely get <code>presumableFreeMemory</code>. Of course, you may get an out-of-memory exception even if you tried to allocate an amount smaller than <code>presumableFreeMemory</code>. This may happen if the JVM does not get the next memory chunk from the system. However, on most systems this will never happen and the system will rather start swapping - a situation you like to avoid. W.r.t. to the original question: if -mx is set to a reasonable value, then <code>presumableFreeMemory</code> is a good indicator for the free memory.</p>\n"},{"tags":[],"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1557340726,"creation_date":1460311406,"answer_id":36533471,"question_id":12807797,"body_markdown":"To get the OS-wide available memory, add [`OSHI`][1] by using the following maven dependency: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.oshi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;oshi-core&lt;/artifactId&gt;\r\n        &lt;version&gt;LATEST&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen in Java, use the following code:\r\n\r\n    SystemInfo si = new SystemInfo();\r\n    HardwareAbstractionLayer hal = si.getHardware();\r\n    long availableMemory = hal.getMemory().getAvailable();\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.github.dblock/oshi-core","title":"Java get available memory","body":"<p>To get the OS-wide available memory, add <a href=\"https://mvnrepository.com/artifact/com.github.dblock/oshi-core\" rel=\"noreferrer\"><code>OSHI</code></a> by using the following maven dependency: </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.oshi&lt;/groupId&gt;\n    &lt;artifactId&gt;oshi-core&lt;/artifactId&gt;\n    &lt;version&gt;LATEST&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then in Java, use the following code:</p>\n\n<pre><code>SystemInfo si = new SystemInfo();\nHardwareAbstractionLayer hal = si.getHardware();\nlong availableMemory = hal.getMemory().getAvailable();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3837093,"reputation":3599,"user_id":3181159,"accept_rate":87,"display_name":"krishna Prasad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577875277,"creation_date":1577875277,"answer_id":59551787,"question_id":12807797,"body_markdown":"To get the physical machine **total**, **used** and **free memory** information, we can also get it by using java `Runtime.exec()` with command argument `free -m` and then interpreting it as below:\r\n\r\n\tRuntime runtime = Runtime.getRuntime();\r\n\r\n    BufferedReader br = new BufferedReader(\r\n        new InputStreamReader(runtime.exec(&quot;free -m&quot;).getInputStream()));\r\n\r\n    String line;\r\n    String memLine = &quot;&quot;;\r\n    int index = 0;\r\n    while ((line = br.readLine()) != null) {\r\n      if (index == 1) {\r\n        memLine = line;\r\n      }\r\n      index++;\r\n    }\r\n\t//                  total        used        free      shared  buff/cache   available\r\n\t//    Mem:          15933        3153        9683         310        3097       12148\r\n\t//    Swap:          3814           0        3814\r\n\r\n    List&lt;String&gt; memInfoList = Arrays.asList(memLine.split(&quot;\\\\s+&quot;));\r\n    int totalSystemMemory = Integer.parseInt(memInfoList.get(1));\r\n    int totalSystemUsedMemory = Integer.parseInt(memInfoList.get(2));\r\n    int totalSystemFreeMemory = Integer.parseInt(memInfoList.get(3));\r\n\r\n    System.out.println(&quot;Total system memory in mb: &quot; + totalSystemMemory);\r\n    System.out.println(&quot;Total system used memory in mb: &quot; + totalSystemUsedMemory);\r\n    System.out.println(&quot;Total system free memory in mb: &quot;   + totalSystemFreeMemory);\r\n","title":"Java get available memory","body":"<p>To get the physical machine <strong>total</strong>, <strong>used</strong> and <strong>free memory</strong> information, we can also get it by using java <code>Runtime.exec()</code> with command argument <code>free -m</code> and then interpreting it as below:</p>\n\n<pre><code>Runtime runtime = Runtime.getRuntime();\n\nBufferedReader br = new BufferedReader(\n    new InputStreamReader(runtime.exec(\"free -m\").getInputStream()));\n\nString line;\nString memLine = \"\";\nint index = 0;\nwhile ((line = br.readLine()) != null) {\n  if (index == 1) {\n    memLine = line;\n  }\n  index++;\n}\n//                  total        used        free      shared  buff/cache   available\n//    Mem:          15933        3153        9683         310        3097       12148\n//    Swap:          3814           0        3814\n\nList&lt;String&gt; memInfoList = Arrays.asList(memLine.split(\"\\\\s+\"));\nint totalSystemMemory = Integer.parseInt(memInfoList.get(1));\nint totalSystemUsedMemory = Integer.parseInt(memInfoList.get(2));\nint totalSystemFreeMemory = Integer.parseInt(memInfoList.get(3));\n\nSystem.out.println(\"Total system memory in mb: \" + totalSystemMemory);\nSystem.out.println(\"Total system used memory in mb: \" + totalSystemUsedMemory);\nSystem.out.println(\"Total system free memory in mb: \"   + totalSystemFreeMemory);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17976446,"reputation":111,"user_id":13063887,"display_name":"light"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684979959,"creation_date":1684374925,"answer_id":76277247,"question_id":12807797,"body_markdown":"If you don&#39;t wana browse harangue, there is a diagram to explain the meaning of \r\n- `Runtime.getRuntime().maxMemory()`\r\n- `Runtime.getRuntime().totalMemory()`\r\n- `Runtime.getRuntime().freeMemory()`\r\n\r\n```txt\r\n  ┌──────────────────max────────────────────────┐\r\n  ┌─────────┬─────────┬─────────────────────────┐\r\n  │allocated│  free   │  potential free space   │\r\n  └─────────┴─────────┴─────────────────────────┘\r\n  └───────total───────┘\r\n```\r\n\r\nand the corresponding code to solve your question:\r\n\r\n```java\r\nlong total = Runtime.getRuntime().totalMemory();\r\nlong free = Runtime.getRuntime().freeMemory();\r\n\r\nlong allocated = total - free;        \r\nlong actualFree = max - allocated;\r\n```","title":"Java get available memory","body":"<p>If you don't wana browse harangue, there is a diagram to explain the meaning of</p>\n<ul>\n<li><code>Runtime.getRuntime().maxMemory()</code></li>\n<li><code>Runtime.getRuntime().totalMemory()</code></li>\n<li><code>Runtime.getRuntime().freeMemory()</code></li>\n</ul>\n<pre><code>  ┌──────────────────max────────────────────────┐\n  ┌─────────┬─────────┬─────────────────────────┐\n  │allocated│  free   │  potential free space   │\n  └─────────┴─────────┴─────────────────────────┘\n  └───────total───────┘\n</code></pre>\n<p>and the corresponding code to solve your question:</p>\n<pre class=\"lang-java prettyprint-override\"><code>long total = Runtime.getRuntime().totalMemory();\nlong free = Runtime.getRuntime().freeMemory();\n\nlong allocated = total - free;        \nlong actualFree = max - allocated;\n</code></pre>\n"}],"owner":{"account_id":466443,"reputation":15302,"user_id":871202,"accept_rate":76,"display_name":"Li Haoyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111792,"favorite_count":0,"down_vote_count":0,"up_vote_count":96,"accepted_answer_id":12807848,"answer_count":10,"score":96,"last_activity_date":1684979959,"creation_date":1349813954,"question_id":12807797,"body_markdown":"Is there any good way to get the remaining memory available to the JVM at run time? The use case of this would be to have web services which fail gracefully when they are nearing their memory limits by refusing new connections with a nice error message &quot;too many people using this, try again later&quot;, rather than dying abruptly with an OutOfMemory error.\r\n\r\nNote this has nothing to do with calculating/estimating the cost of each object beforehand. In principle I could estimate how much memory my objects take and refuse new connections based on that estimate, but that seems kind of hacky/fragile.\r\n\r\n","title":"Java get available memory","body":"<p>Is there any good way to get the remaining memory available to the JVM at run time? The use case of this would be to have web services which fail gracefully when they are nearing their memory limits by refusing new connections with a nice error message \"too many people using this, try again later\", rather than dying abruptly with an OutOfMemory error.</p>\n\n<p>Note this has nothing to do with calculating/estimating the cost of each object beforehand. In principle I could estimate how much memory my objects take and refuse new connections based on that estimate, but that seems kind of hacky/fragile.</p>\n"},{"tags":["java","autohotkey","jacob"],"comments":[{"owner":{"account_id":4915933,"reputation":67612,"user_id":3959875,"display_name":"wOxxOm"},"score":2,"creation_date":1448464322,"post_id":33919919,"comment_id":55601022,"body_markdown":"If the OS is 64 bit then the `x86` dll, which is 32bit, should be in `c:\\windows\\syswow64`","body":"If the OS is 64 bit then the <code>x86</code> dll, which is 32bit, should be in <code>c:\\windows\\syswow64</code>"},{"owner":{"account_id":4248728,"reputation":220,"user_id":3476534,"display_name":"user3476534"},"score":0,"creation_date":1448464629,"post_id":33919919,"comment_id":55601235,"body_markdown":"Ok, that worked also. Will have to keep this info for later. Thanks so much!","body":"Ok, that worked also. Will have to keep this info for later. Thanks so much!"},{"owner":{"account_id":4248728,"reputation":220,"user_id":3476534,"display_name":"user3476534"},"score":0,"creation_date":1448466009,"post_id":33919919,"comment_id":55602255,"body_markdown":"Got a &quot;Can&#39;t get object clsid from progid&quot; when doing that, but I&#39;ll open a new question (have to wait 90 minutes).","body":"Got a &quot;Can&#39;t get object clsid from progid&quot; when doing that, but I&#39;ll open a new question (have to wait 90 minutes)."}],"answers":[{"tags":[],"owner":{"account_id":4248728,"reputation":220,"user_id":3476534,"display_name":"user3476534"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1448464063,"creation_date":1448464063,"answer_id":33919920,"question_id":33919919,"body_markdown":"Well, copied it into the &quot;C:\\Program Files (x86)\\Java\\jre1.8.0_65\\bin&quot; folder and it worked. Apparently it only looks there for the jacob dll&#39;s.","title":"Jacob.jar cannot find jacob-1.18-x86.dll","body":"<p>Well, copied it into the \"C:\\Program Files (x86)\\Java\\jre1.8.0_65\\bin\" folder and it worked. Apparently it only looks there for the jacob dll's.</p>\n"},{"tags":[],"owner":{"account_id":19084936,"reputation":1,"user_id":13936413,"display_name":"user13936413"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594830594,"creation_date":1594824470,"answer_id":62917636,"question_id":33919919,"body_markdown":"Copied ```jacob-1.19-x64.dll``` file under application using jre8 folder like, ```&quot;C:\\Program Files (x86)\\Java\\jre1.8.0_65\\bin&quot;``` and it worked for me.","title":"Jacob.jar cannot find jacob-1.18-x86.dll","body":"<p>Copied <code>jacob-1.19-x64.dll</code> file under application using jre8 folder like, <code>&quot;C:\\Program Files (x86)\\Java\\jre1.8.0_65\\bin&quot;</code> and it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":28674782,"reputation":1,"user_id":21957085,"display_name":"yun lin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684979944,"creation_date":1684979944,"answer_id":76328416,"question_id":33919919,"body_markdown":"D:\\Program Files\\Java\\jdk1.8.0_231\\bin\r\nit&#39;s work","title":"Jacob.jar cannot find jacob-1.18-x86.dll","body":"<p>D:\\Program Files\\Java\\jdk1.8.0_231\\bin\nit's work</p>\n"}],"owner":{"account_id":4248728,"reputation":220,"user_id":3476534,"display_name":"user3476534"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18399,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":33919920,"answer_count":3,"score":2,"last_activity_date":1684979944,"creation_date":1448464063,"question_id":33919919,"body_markdown":"I am trying to write Java code that uses autohotkey, specifically the autoitx4java implementation. I have the imports\r\n```\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\nimport autoitx4java.AutoItX;\r\n```\r\nAs well as have added Jacob.jar, AutoItX4Java.jar and sqljdbc4.jar in the build path (sql jdbc is for other parts of the code). It doesn&#39;t compile because of an unsatisfied link error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no jacob-1.18-x86 in java.library.path\r\n\tat java.lang.ClassLoader.loadLibrary(Unknown Source)\r\n\tat java.lang.Runtime.loadLibrary0(Unknown Source)\r\n\tat java.lang.System.loadLibrary(Unknown Source)\r\n\tat com.jacob.com.LibraryLoader.loadJacobLibrary(LibraryLoader.java:184)\r\n\tat com.jacob.com.JacobObject.&lt;clinit&gt;(JacobObject.java:110)\r\n\tat autoitx4java.AutoItX.&lt;init&gt;(AutoItX.java:181)\r\n\tat MainTest.login(MainTest.java:126)\r\n\tat MainTest.setadmin(MainTest.java:181)\r\n\tat MainTest.runbasic(MainTest.java:21)\r\n\tat MainTest.main(MainTest.java:15)\r\n```\r\n\r\nI have the `jacob-1.18-x86.dll` in the system32 folder (windows 8.1 is the OS) as well as `jacob-1.18-x64.dll` and `jacob-1.18-M3-x64.dll`, just in case it wanted to use the 64 bit dll. I tried adding `C:/Windows/System32` to the `jacob.jar` &quot;Native library location&quot; (using eclipse) from some website, but that didn&#39;t work. Some other site suggested putting the dll in the `C:\\Program Files\\Java\\jre7\\bin` folder, so I did that, but it still throws the error. This code used to work on a different machine, but now it won&#39;t compile because of the unsatisfied link. I can&#39;t figure out where to put the jacob-1.18-x86 to get it to find it.","title":"Jacob.jar cannot find jacob-1.18-x86.dll","body":"<p>I am trying to write Java code that uses autohotkey, specifically the autoitx4java implementation. I have the imports</p>\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Date;\nimport autoitx4java.AutoItX;\n</code></pre>\n<p>As well as have added Jacob.jar, AutoItX4Java.jar and sqljdbc4.jar in the build path (sql jdbc is for other parts of the code). It doesn't compile because of an unsatisfied link error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no jacob-1.18-x86 in java.library.path\n    at java.lang.ClassLoader.loadLibrary(Unknown Source)\n    at java.lang.Runtime.loadLibrary0(Unknown Source)\n    at java.lang.System.loadLibrary(Unknown Source)\n    at com.jacob.com.LibraryLoader.loadJacobLibrary(LibraryLoader.java:184)\n    at com.jacob.com.JacobObject.&lt;clinit&gt;(JacobObject.java:110)\n    at autoitx4java.AutoItX.&lt;init&gt;(AutoItX.java:181)\n    at MainTest.login(MainTest.java:126)\n    at MainTest.setadmin(MainTest.java:181)\n    at MainTest.runbasic(MainTest.java:21)\n    at MainTest.main(MainTest.java:15)\n</code></pre>\n<p>I have the <code>jacob-1.18-x86.dll</code> in the system32 folder (windows 8.1 is the OS) as well as <code>jacob-1.18-x64.dll</code> and <code>jacob-1.18-M3-x64.dll</code>, just in case it wanted to use the 64 bit dll. I tried adding <code>C:/Windows/System32</code> to the <code>jacob.jar</code> &quot;Native library location&quot; (using eclipse) from some website, but that didn't work. Some other site suggested putting the dll in the <code>C:\\Program Files\\Java\\jre7\\bin</code> folder, so I did that, but it still throws the error. This code used to work on a different machine, but now it won't compile because of the unsatisfied link. I can't figure out where to put the jacob-1.18-x86 to get it to find it.</p>\n"},{"tags":["javascript","java","c#","kotlin","hubic-api"],"owner":{"account_id":28674331,"reputation":1,"user_id":21956717,"display_name":"YOORD ANDERSON"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684975637,"creation_date":1684975637,"question_id":76328223,"body_markdown":"It asks me to update LocationRequest.Builder, but I change it and I still get an error\r\n[enter image description here](https://i.stack.imgur.com/NY7Bv.png)\r\n\r\nI tried the LocationRequest.Builder method, but it keeps getting an error\r\n\r\n```\r\nval locationRequest= LocationRequest.create().apply{\r\n            interval =0\r\n            fastestInterval=0\r\n            priority = Priority.PRIORITY_HIGH_ACCURACY\r\n            smallestDisplacement = if ()\r\n        }\r\n```\r\n\r\nWhich code would I replace it with, it&#39;s for andriod studio kotlin","title":"Kotlin error: &#39;LocationRequest.create()&#39; not working despite updating LocationRequest.Builder","body":"<p>It asks me to update LocationRequest.Builder, but I change it and I still get an error\n<a href=\"https://i.stack.imgur.com/NY7Bv.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried the LocationRequest.Builder method, but it keeps getting an error</p>\n<pre><code>val locationRequest= LocationRequest.create().apply{\n            interval =0\n            fastestInterval=0\n            priority = Priority.PRIORITY_HIGH_ACCURACY\n            smallestDisplacement = if ()\n        }\n</code></pre>\n<p>Which code would I replace it with, it's for andriod studio kotlin</p>\n"},{"tags":["java","spring-boot","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684931574,"creation_date":1684931574,"answer_id":76323592,"question_id":76321286,"body_markdown":"### Why is `auditFields.clear()` necessary\r\n\r\nThis points to a bigger problem in your design. The lifecycle of your `VisitListener` probably isn&#39;t per query rendering, but per `Configuration`, meaning your various queries share the same instance. This means that `clear()` seems to &quot;fix&quot; the issue, but in fact hides a much bigger concurrency problem.\r\n\r\nEither, you should use a `VisitListenerProvider` that instantiates new `VisitListener` instances every time, or put your context in the `VisitContext`, instead, whose lifecycle is that of a single rendering traversal.\r\n\r\n### Why does it only work on the last row\r\n\r\nThe (very historic) `InsertQuery` and `UpdateQuery` APIs only allow for appending data to the last row. To add a new row, `InsertQuery.newRecord()` is called. From then on, there&#39;s no public API in `InsertQuery` to append values to previous rows.\r\n\r\nThis isn&#39;t the case for batch queries, which are multiple queries, not multiple rows per query.\r\n\r\nThe newer (as of jOOQ 3.18 still experimental) [model API][1] will allow you to access all the rows in the `VALUES` clause. It will also allow for writing much simpler SQL transformation logic that doesn&#39;t need the `VisitListener` SPI.\r\n\r\n### A note on alternatives\r\n\r\nPlease note that jOOQ has:\r\n\r\n- An [out of the box audit column feature][2] for simple audit use-cases\r\n- [Client side computed column support][3] for more complex computed column use-cases\r\n\r\nIt will be *much* easier to just work with that, or, alternatively, use a trigger to fill those column values.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/model-api/\r\n  [2]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-audit/\r\n  [3]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-computed/","title":"How to properly add values to StoreQuery for every row in VisitListener in jOOQ?","body":"<h3>Why is <code>auditFields.clear()</code> necessary</h3>\n<p>This points to a bigger problem in your design. The lifecycle of your <code>VisitListener</code> probably isn't per query rendering, but per <code>Configuration</code>, meaning your various queries share the same instance. This means that <code>clear()</code> seems to &quot;fix&quot; the issue, but in fact hides a much bigger concurrency problem.</p>\n<p>Either, you should use a <code>VisitListenerProvider</code> that instantiates new <code>VisitListener</code> instances every time, or put your context in the <code>VisitContext</code>, instead, whose lifecycle is that of a single rendering traversal.</p>\n<h3>Why does it only work on the last row</h3>\n<p>The (very historic) <code>InsertQuery</code> and <code>UpdateQuery</code> APIs only allow for appending data to the last row. To add a new row, <code>InsertQuery.newRecord()</code> is called. From then on, there's no public API in <code>InsertQuery</code> to append values to previous rows.</p>\n<p>This isn't the case for batch queries, which are multiple queries, not multiple rows per query.</p>\n<p>The newer (as of jOOQ 3.18 still experimental) <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/model-api/\" rel=\"nofollow noreferrer\">model API</a> will allow you to access all the rows in the <code>VALUES</code> clause. It will also allow for writing much simpler SQL transformation logic that doesn't need the <code>VisitListener</code> SPI.</p>\n<h3>A note on alternatives</h3>\n<p>Please note that jOOQ has:</p>\n<ul>\n<li>An <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-audit/\" rel=\"nofollow noreferrer\">out of the box audit column feature</a> for simple audit use-cases</li>\n<li><a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-computed/\" rel=\"nofollow noreferrer\">Client side computed column support</a> for more complex computed column use-cases</li>\n</ul>\n<p>It will be <em>much</em> easier to just work with that, or, alternatively, use a trigger to fill those column values.</p>\n"}],"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76323592,"answer_count":1,"score":2,"last_activity_date":1684974267,"creation_date":1684915098,"question_id":76321286,"body_markdown":"I am trying to set audit fields for each insert or update queries only if a table has audit fields. After lots of trials and errors I came up with this logic using `VisitListener`:\r\n```java\r\n\r\npublic class AuditVisitListener implements VisitListener {\r\n\r\n    private static final Field&lt;Timestamp&gt; createdAt = field(&quot;created_at&quot;, Timestamp.class);\r\n    private static final Field&lt;String&gt; createdBy = field(&quot;created_by&quot;, String.class);\r\n    private static final Field&lt;Timestamp&gt; updatedAt = field(&quot;updated_at&quot;, Timestamp.class);\r\n    private static final Field&lt;String&gt; updatedBy = field(&quot;updated_by&quot;, String.class);\r\n    private Set&lt;Field&lt;?&gt;&gt; auditFields = new HashSet&lt;&gt;();\r\n\r\n    private UserContextHolder userContextHolder;\r\n\r\n    public AuditVisitListener(UserContextHolder userContextHolder) {\r\n        this.userContextHolder = userContextHolder;\r\n    }\r\n\r\n    @Override\r\n    public void visitStart(VisitContext context) {\r\n        QueryPart topLevelQuery = context.context().topLevel();\r\n        if(topLevelQuery instanceof SelectQuery&lt;?&gt;) {\r\n            // No need to process further since we don&#39;t set audit fields for select queries\r\n            return;\r\n        }\r\n        collectAuditFields(context.queryParts());\r\n        if(topLevelQuery instanceof InsertQuery&lt;?&gt; insertQuery) {\r\n            addAuditFieldsForInsert(insertQuery);\r\n        }\r\n        if(topLevelQuery instanceof UpdateQuery&lt;?&gt; updateQuery) {\r\n            addAuditFieldsForUpdate(updateQuery);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void visitEnd(VisitContext context) {\r\n        // Without this line, audit fields are added\r\n        // even if there is no audit fields in a table. \r\n        auditFields.clear();\r\n    }\r\n\r\n    private void collectAuditFields(QueryPart[] queryParts) {\r\n        for(QueryPart queryPart : queryParts) {\r\n           if(queryPart instanceof Table&lt;?&gt; table) {\r\n               if(table.field(createdAt) != null){\r\n                   auditFields.add(createdAt);\r\n               }\r\n               if(table.field(createdBy) != null) {\r\n                  auditFields.add(createdBy);\r\n               }\r\n               if(table.field(updatedAt) != null) {\r\n                  auditFields.add(updatedAt);\r\n               }\r\n               if(table.field(updatedBy) != null) {\r\n                   auditFields.add(updatedBy);\r\n               }\r\n           }\r\n        }\r\n    }\r\n\r\n    private void addAuditFieldsForInsert(StoreQuery&lt;?&gt; storeQuery) {\r\n        if(auditFields.contains(createdAt)) {\r\n            storeQuery.addValue(createdAt, now());\r\n        }\r\n        if(auditFields.contains(createdBy)) {\r\n            storeQuery.addValue(createdBy, userId());\r\n        }\r\n        addAuditFieldsForUpdate(storeQuery);\r\n    }\r\n\r\n    private void addAuditFieldsForUpdate(StoreQuery&lt;?&gt; storeQuery) {\r\n        if(auditFields.contains(updatedAt)) {\r\n            storeQuery.addValue(updatedAt, now());\r\n        }\r\n        if(auditFields.contains(updatedBy)) {\r\n            storeQuery.addValue(updatedBy, userId());\r\n        }\r\n    }\r\n\r\n    private String userId() {\r\n        return userContextHolder.getUserId()\r\n                .orElseThrow(() -&gt; new BusinessException(ErrorCode.EMPTY_USER_CONTEXT));\r\n    }\r\n\r\n}\r\n```\r\nFirst problem is without `auditFields.clear()`, audit fields are added even if there is no audit fields in a table. Why does it happen?\r\nSecond problem is it works for single row inserts but when insert statement has multiple rows it sets audit fields only to the last row. For example this insert statement:\r\n\r\n```java\r\n    ctx.insertInto(BRAND, BRAND.NAME_EN, BRAND.NAME_KR, BRAND.STATUS)\r\n            .values(&quot;Heinz&quot;, &quot;하인즈&quot;, (short)1)\r\n            .values(&quot;Hunts&quot;, &quot;헌츠&quot;, (short)1)\r\n            .execute();\r\n```\r\nproduces this query:\r\n```sql\r\ninsert into `pms`.`brand` (`name_en`, `name_kr`, `status`, created_at, created_by, updated_at, updated_by) \r\nvalues (&#39;Heinz&#39;, &#39;하인즈&#39;, 1, null, null, null, null),\r\n       (&#39;Hunts&#39;, &#39;헌츠&#39;, 1, current_timestamp(), &#39;test@test.com&#39;, current_timestamp(), &#39;test@test.com&#39;)\r\n```\r\nHowever, if I insert multiple rows a batch insert it again works:\r\n\r\n```java\r\n    BrandRecord heinz = ctx.newRecord(BRAND);\r\n    heinz.setNameEn(&quot;Heinz&quot;);\r\n    heinz.setNameKr(&quot;하인즈&quot;);\r\n    heinz.setStatus((short)1);\r\n\r\n    BrandRecord hunts = ctx.newRecord(BRAND);\r\n    hunts.setNameEn(&quot;Hunts&quot;);\r\n    hunts.setNameKr(&quot;헌츠&quot;);\r\n    hunts.setStatus((short)1);\r\n\r\n    ctx.batchInsert(heinz, hunts).execute();\r\n```\r\nHow to set audit fields for multirow insert or update statements?\r\n\r\nFor reference, `AuditVisitListener` is configured using `VisitListenerProvider`:\r\n\r\n```java\r\n@Configuration\r\npublic class JooqConfig {\r\n\r\n    @Bean\r\n    public DefaultConfigurationCustomizer customizer(UserContextHolder userContextHolder) {\r\n        return configuration -&gt; {\r\n            configuration.setVisitListenerProvider(() -&gt; new AuditVisitListener(userContextHolder));\r\n        };\r\n    }\r\n\r\n}\r\n```\r\njOOQ: 3.18 &lt;br /&gt; \r\nJava: 17 &lt;br /&gt; \r\nSpring Boot: 3.0.5 &lt;br /&gt;  \r\n","title":"How to properly add values to StoreQuery for every row in VisitListener in jOOQ?","body":"<p>I am trying to set audit fields for each insert or update queries only if a table has audit fields. After lots of trials and errors I came up with this logic using <code>VisitListener</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class AuditVisitListener implements VisitListener {\n\n    private static final Field&lt;Timestamp&gt; createdAt = field(&quot;created_at&quot;, Timestamp.class);\n    private static final Field&lt;String&gt; createdBy = field(&quot;created_by&quot;, String.class);\n    private static final Field&lt;Timestamp&gt; updatedAt = field(&quot;updated_at&quot;, Timestamp.class);\n    private static final Field&lt;String&gt; updatedBy = field(&quot;updated_by&quot;, String.class);\n    private Set&lt;Field&lt;?&gt;&gt; auditFields = new HashSet&lt;&gt;();\n\n    private UserContextHolder userContextHolder;\n\n    public AuditVisitListener(UserContextHolder userContextHolder) {\n        this.userContextHolder = userContextHolder;\n    }\n\n    @Override\n    public void visitStart(VisitContext context) {\n        QueryPart topLevelQuery = context.context().topLevel();\n        if(topLevelQuery instanceof SelectQuery&lt;?&gt;) {\n            // No need to process further since we don't set audit fields for select queries\n            return;\n        }\n        collectAuditFields(context.queryParts());\n        if(topLevelQuery instanceof InsertQuery&lt;?&gt; insertQuery) {\n            addAuditFieldsForInsert(insertQuery);\n        }\n        if(topLevelQuery instanceof UpdateQuery&lt;?&gt; updateQuery) {\n            addAuditFieldsForUpdate(updateQuery);\n        }\n    }\n\n    @Override\n    public void visitEnd(VisitContext context) {\n        // Without this line, audit fields are added\n        // even if there is no audit fields in a table. \n        auditFields.clear();\n    }\n\n    private void collectAuditFields(QueryPart[] queryParts) {\n        for(QueryPart queryPart : queryParts) {\n           if(queryPart instanceof Table&lt;?&gt; table) {\n               if(table.field(createdAt) != null){\n                   auditFields.add(createdAt);\n               }\n               if(table.field(createdBy) != null) {\n                  auditFields.add(createdBy);\n               }\n               if(table.field(updatedAt) != null) {\n                  auditFields.add(updatedAt);\n               }\n               if(table.field(updatedBy) != null) {\n                   auditFields.add(updatedBy);\n               }\n           }\n        }\n    }\n\n    private void addAuditFieldsForInsert(StoreQuery&lt;?&gt; storeQuery) {\n        if(auditFields.contains(createdAt)) {\n            storeQuery.addValue(createdAt, now());\n        }\n        if(auditFields.contains(createdBy)) {\n            storeQuery.addValue(createdBy, userId());\n        }\n        addAuditFieldsForUpdate(storeQuery);\n    }\n\n    private void addAuditFieldsForUpdate(StoreQuery&lt;?&gt; storeQuery) {\n        if(auditFields.contains(updatedAt)) {\n            storeQuery.addValue(updatedAt, now());\n        }\n        if(auditFields.contains(updatedBy)) {\n            storeQuery.addValue(updatedBy, userId());\n        }\n    }\n\n    private String userId() {\n        return userContextHolder.getUserId()\n                .orElseThrow(() -&gt; new BusinessException(ErrorCode.EMPTY_USER_CONTEXT));\n    }\n\n}\n</code></pre>\n<p>First problem is without <code>auditFields.clear()</code>, audit fields are added even if there is no audit fields in a table. Why does it happen?\nSecond problem is it works for single row inserts but when insert statement has multiple rows it sets audit fields only to the last row. For example this insert statement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    ctx.insertInto(BRAND, BRAND.NAME_EN, BRAND.NAME_KR, BRAND.STATUS)\n            .values(&quot;Heinz&quot;, &quot;하인즈&quot;, (short)1)\n            .values(&quot;Hunts&quot;, &quot;헌츠&quot;, (short)1)\n            .execute();\n</code></pre>\n<p>produces this query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>insert into `pms`.`brand` (`name_en`, `name_kr`, `status`, created_at, created_by, updated_at, updated_by) \nvalues ('Heinz', '하인즈', 1, null, null, null, null),\n       ('Hunts', '헌츠', 1, current_timestamp(), 'test@test.com', current_timestamp(), 'test@test.com')\n</code></pre>\n<p>However, if I insert multiple rows a batch insert it again works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    BrandRecord heinz = ctx.newRecord(BRAND);\n    heinz.setNameEn(&quot;Heinz&quot;);\n    heinz.setNameKr(&quot;하인즈&quot;);\n    heinz.setStatus((short)1);\n\n    BrandRecord hunts = ctx.newRecord(BRAND);\n    hunts.setNameEn(&quot;Hunts&quot;);\n    hunts.setNameKr(&quot;헌츠&quot;);\n    hunts.setStatus((short)1);\n\n    ctx.batchInsert(heinz, hunts).execute();\n</code></pre>\n<p>How to set audit fields for multirow insert or update statements?</p>\n<p>For reference, <code>AuditVisitListener</code> is configured using <code>VisitListenerProvider</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class JooqConfig {\n\n    @Bean\n    public DefaultConfigurationCustomizer customizer(UserContextHolder userContextHolder) {\n        return configuration -&gt; {\n            configuration.setVisitListenerProvider(() -&gt; new AuditVisitListener(userContextHolder));\n        };\n    }\n\n}\n</code></pre>\n<p>jOOQ: 3.18 <br />\nJava: 17 <br />\nSpring Boot: 3.0.5 <br /></p>\n"},{"tags":["java","javafx","fxml","scenebuilder"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1684973610,"creation_date":1428140145,"answer_id":29444845,"question_id":29444698,"body_markdown":"**Updated guide for SceneBuilder 19**\r\n\r\nFor an example of creating a custom component library  and importing it into SceneBuilder 19 (with sample code and screenshots) see:\r\n\r\n * [Importing a library into SceneBuilder](https://stackoverflow.com/a/76317530/1155209)\r\n\r\nMany of the points in this answer as regards creating custom components still apply to later SceneBuilder versions, but there are new alternatives for finding and importing JAR files (the use of some of which are demonstrated in the linked answer above).\r\n\r\n----\r\n\r\n**How to Import a Component from a JAR into SceneBuilder**\r\n\r\nYou can put your component in a Jar and import it into SceneBuilder.  You don&#39;t need to create an FXML file for your component to add it to SceneBuilder Library Panel.  \r\n\r\nSee the [Adding Custom Components to the Library](https://docs.oracle.com/javase/8/scene-builder-2/user-guide/library-panel.htm) section of the JavaFX user guide.\r\n\r\n&gt; **To import custom GUI components from a JAR or FXML file:**\r\n&gt; \r\n&gt; 1. Select **Import JAR/FXML** file command from the Library panel&#39;s menu, or\r\n&gt; drag the JAR or FXML file directly from your system&#39;s native file\r\n&gt; manager (Explorer or Finder) and drop it into the Library panel\r\n&gt; \r\n&gt; 2. In the Open dialog window, navigate to the location of the JAR or FXML\r\n&gt; file that you want to import. The Import Dialog, similar to what is\r\n&gt; shown in [Figure 8-4][1], is displayed. The JAR file&#39;s contents are\r\n&gt; inspected and all the Java classes that are determined as being\r\n&gt; suitable custom components are displayed in the dialog window. The\r\n&gt; FXML file&#39;s contents are parsed to make sure that the component being\r\n&gt; added is valid and self-contained.\r\n&gt; \r\n&gt; 3. From the Import dialog window, select or unselect items from the list\r\n&gt; of items that you are able to import.\r\n&gt; \r\n&gt; 4. Click **Import Components.** Imported items are added to the Custom\r\n&gt; section of the Library panel. They can be used immediately and they\r\n&gt; persist in the Library even after Scene Builder is restarted\r\n\r\nNote, SceneBuilder also supports importing of FXML based components rather than just straight code components.  This answer only discusses importing of code only components which do not contain FXML. \r\n\r\n**Sample Imported Component Usage**\r\n\r\nHere is a custom search field component that I imported into SceneBuilder using the method outlined above.\r\n\r\n![search sample][2]\r\n\r\nThe top search panel is in the Scene Builder design pane, the bottom search panel is the result of using the Scene Builder preview function and searching for happiness.\r\n\r\n**Sample SceneBuilder Generated Code**\r\n\r\nThe fxml file which was generated by SceneBuilder based on the design is included here.  Note, this was just a test scene I created with SceneBuilder to test the already imported component - it was not part of the component import process itself.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.text.*?&gt;\r\n    &lt;?import org.jewelsea.*?&gt;\r\n    &lt;?import javafx.geometry.*?&gt;\r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import java.lang.*?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n    \r\n    \r\n    &lt;VBox maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; spacing=&quot;10.0&quot; xmlns=&quot;http://javafx.com/javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;Label text=&quot;Search Field Import Test&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font size=&quot;16.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n          &lt;SearchField /&gt;\r\n       &lt;/children&gt;\r\n       &lt;padding&gt;\r\n          &lt;Insets bottom=&quot;10.0&quot; left=&quot;10.0&quot; right=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\r\n       &lt;/padding&gt;\r\n    &lt;/VBox&gt;\r\n\r\n**Sample (importable) Component Code**\r\n\r\nThe code for the search box which was imported is:\r\n\r\n    package org.jewelsea;\r\n    \r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.layout.VBox;\r\n    \r\n    public class SearchField extends StackPane {\r\n        private final TextField textField;\r\n        private final Button searchButton;\r\n        private final Label searchResults;\r\n    \r\n        public SearchField() {\r\n            textField = new TextField();\r\n            textField.setPromptText(\r\n                    &quot;Search Text&quot;\r\n            );\r\n    \r\n            searchButton = new Button(&quot;Search&quot;);\r\n    \r\n            searchResults = new Label();\r\n    \r\n            VBox layout = new VBox(\r\n                    20,\r\n                    new HBox(\r\n                            10,\r\n                            textField,\r\n                            searchButton\r\n                    ),\r\n                    searchResults\r\n            );\r\n            layout.setPadding(new Insets(10));\r\n    \r\n            searchButton.setOnAction(event -&gt;\r\n                    searchResults.setText(\r\n                            &quot;Search result for &quot; + textField.getText()\r\n                    )\r\n            );\r\n    \r\n            getChildren().setAll(\r\n                    layout\r\n            );\r\n        }\r\n    }\r\n\r\n**Component Pre-requisites**\r\n\r\nIn order for the process to work, there are a few things you need to ensure:\r\n\r\n 1. Your component class extends Node.\r\n 2. Your component class has a no argument constructor.\r\n 3. Your component class and no argument constructor are public.\r\n 4. Your component class is in a package (e.g. org.jewelsea) - it can&#39;t have no package set.\r\n 5. Your component class is packaged in a JAR file which has been imported into SceneBuilder as described above.\r\n 6. Your JAR is compiled with a JDK version no higher than SceneBuilder uses and relies on a JavaFX version no higher than SceneBuilder uses.  \r\n\r\n    * For example, SceneBuilder 19 runs on JDK 17 and uses JavaFX 19, so your JAR must be compiled to target a Java runtime no higher than 17 and rely on a JavaFX version no higher than 19.\r\n\r\n**Troubleshooting**\r\n\r\nIf you are having issues importing the JAR, after you have attempted a JAR import, you can use the JAR analysis function documented below to help troubleshoot (which might help or might just provide some cryptic information to confuse you more).\r\n\r\n![jar file analysis][3]\r\n\r\nAlso, from this answer:\r\n\r\n * https://stackoverflow.com/questions/69155183/javafx-scene-builder-16-not-loading-custom-control-properly-no-errors\r\n\r\n&gt; Try to launch Scene Builder from command line, you should see the output of the library imports, including possible exceptions from your custom control when you add it.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/scene-builder-2/user-guide/library-panel.htm#CIHGEIAJ\r\n  [2]: http://i.stack.imgur.com/gZ0wx.png\r\n  [3]: http://i.stack.imgur.com/MQZry.png","title":"How to create an FXML file for an already created new component in java than add it to scene builder?","body":"<p><strong>Updated guide for SceneBuilder 19</strong></p>\n<p>For an example of creating a custom component library  and importing it into SceneBuilder 19 (with sample code and screenshots) see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/76317530/1155209\">Importing a library into SceneBuilder</a></li>\n</ul>\n<p>Many of the points in this answer as regards creating custom components still apply to later SceneBuilder versions, but there are new alternatives for finding and importing JAR files (the use of some of which are demonstrated in the linked answer above).</p>\n<hr />\n<p><strong>How to Import a Component from a JAR into SceneBuilder</strong></p>\n<p>You can put your component in a Jar and import it into SceneBuilder.  You don't need to create an FXML file for your component to add it to SceneBuilder Library Panel.</p>\n<p>See the <a href=\"https://docs.oracle.com/javase/8/scene-builder-2/user-guide/library-panel.htm\" rel=\"nofollow noreferrer\">Adding Custom Components to the Library</a> section of the JavaFX user guide.</p>\n<blockquote>\n<p><strong>To import custom GUI components from a JAR or FXML file:</strong></p>\n<ol>\n<li><p>Select <strong>Import JAR/FXML</strong> file command from the Library panel's menu, or\ndrag the JAR or FXML file directly from your system's native file\nmanager (Explorer or Finder) and drop it into the Library panel</p>\n</li>\n<li><p>In the Open dialog window, navigate to the location of the JAR or FXML\nfile that you want to import. The Import Dialog, similar to what is\nshown in <a href=\"https://docs.oracle.com/javase/8/scene-builder-2/user-guide/library-panel.htm#CIHGEIAJ\" rel=\"nofollow noreferrer\">Figure 8-4</a>, is displayed. The JAR file's contents are\ninspected and all the Java classes that are determined as being\nsuitable custom components are displayed in the dialog window. The\nFXML file's contents are parsed to make sure that the component being\nadded is valid and self-contained.</p>\n</li>\n<li><p>From the Import dialog window, select or unselect items from the list\nof items that you are able to import.</p>\n</li>\n<li><p>Click <strong>Import Components.</strong> Imported items are added to the Custom\nsection of the Library panel. They can be used immediately and they\npersist in the Library even after Scene Builder is restarted</p>\n</li>\n</ol>\n</blockquote>\n<p>Note, SceneBuilder also supports importing of FXML based components rather than just straight code components.  This answer only discusses importing of code only components which do not contain FXML.</p>\n<p><strong>Sample Imported Component Usage</strong></p>\n<p>Here is a custom search field component that I imported into SceneBuilder using the method outlined above.</p>\n<p><img src=\"https://i.stack.imgur.com/gZ0wx.png\" alt=\"search sample\" /></p>\n<p>The top search panel is in the Scene Builder design pane, the bottom search panel is the result of using the Scene Builder preview function and searching for happiness.</p>\n<p><strong>Sample SceneBuilder Generated Code</strong></p>\n<p>The fxml file which was generated by SceneBuilder based on the design is included here.  Note, this was just a test scene I created with SceneBuilder to test the already imported component - it was not part of the component import process itself.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.text.*?&gt;\n&lt;?import org.jewelsea.*?&gt;\n&lt;?import javafx.geometry.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import java.lang.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n\n&lt;VBox maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; spacing=&quot;10.0&quot; xmlns=&quot;http://javafx.com/javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n   &lt;children&gt;\n      &lt;Label text=&quot;Search Field Import Test&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;16.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;SearchField /&gt;\n   &lt;/children&gt;\n   &lt;padding&gt;\n      &lt;Insets bottom=&quot;10.0&quot; left=&quot;10.0&quot; right=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\n   &lt;/padding&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p><strong>Sample (importable) Component Code</strong></p>\n<p>The code for the search box which was imported is:</p>\n<pre><code>package org.jewelsea;\n\nimport javafx.geometry.Insets;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.layout.VBox;\n\npublic class SearchField extends StackPane {\n    private final TextField textField;\n    private final Button searchButton;\n    private final Label searchResults;\n\n    public SearchField() {\n        textField = new TextField();\n        textField.setPromptText(\n                &quot;Search Text&quot;\n        );\n\n        searchButton = new Button(&quot;Search&quot;);\n\n        searchResults = new Label();\n\n        VBox layout = new VBox(\n                20,\n                new HBox(\n                        10,\n                        textField,\n                        searchButton\n                ),\n                searchResults\n        );\n        layout.setPadding(new Insets(10));\n\n        searchButton.setOnAction(event -&gt;\n                searchResults.setText(\n                        &quot;Search result for &quot; + textField.getText()\n                )\n        );\n\n        getChildren().setAll(\n                layout\n        );\n    }\n}\n</code></pre>\n<p><strong>Component Pre-requisites</strong></p>\n<p>In order for the process to work, there are a few things you need to ensure:</p>\n<ol>\n<li><p>Your component class extends Node.</p>\n</li>\n<li><p>Your component class has a no argument constructor.</p>\n</li>\n<li><p>Your component class and no argument constructor are public.</p>\n</li>\n<li><p>Your component class is in a package (e.g. org.jewelsea) - it can't have no package set.</p>\n</li>\n<li><p>Your component class is packaged in a JAR file which has been imported into SceneBuilder as described above.</p>\n</li>\n<li><p>Your JAR is compiled with a JDK version no higher than SceneBuilder uses and relies on a JavaFX version no higher than SceneBuilder uses.</p>\n<ul>\n<li>For example, SceneBuilder 19 runs on JDK 17 and uses JavaFX 19, so your JAR must be compiled to target a Java runtime no higher than 17 and rely on a JavaFX version no higher than 19.</li>\n</ul>\n</li>\n</ol>\n<p><strong>Troubleshooting</strong></p>\n<p>If you are having issues importing the JAR, after you have attempted a JAR import, you can use the JAR analysis function documented below to help troubleshoot (which might help or might just provide some cryptic information to confuse you more).</p>\n<p><img src=\"https://i.stack.imgur.com/MQZry.png\" alt=\"jar file analysis\" /></p>\n<p>Also, from this answer:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/69155183/javafx-scene-builder-16-not-loading-custom-control-properly-no-errors\">JavaFX - Scene Builder 16 not loading Custom Control properly (no errors)</a></li>\n</ul>\n<blockquote>\n<p>Try to launch Scene Builder from command line, you should see the output of the library imports, including possible exceptions from your custom control when you add it.</p>\n</blockquote>\n"}],"owner":{"account_id":6016998,"reputation":143,"user_id":4725469,"display_name":"ben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5888,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":29444845,"answer_count":1,"score":9,"last_activity_date":1684973610,"creation_date":1428139043,"question_id":29444698,"body_markdown":"I&#39;m new to javaFX. I created a customized Search box (extends TextField) in java, check image: \r\n\r\n![enter image description here][1]\r\n\r\nI tested it with a test class and it&#39;s working.\r\n\r\nI want to know now if it&#39;s possible to create its FXML file than add this component to scene builder ? how to do it ? Thanks in advance.\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/vB8jD.png","title":"How to create an FXML file for an already created new component in java than add it to scene builder?","body":"<p>I'm new to javaFX. I created a customized Search box (extends TextField) in java, check image: </p>\n\n<p><img src=\"https://i.stack.imgur.com/vB8jD.png\" alt=\"enter image description here\"></p>\n\n<p>I tested it with a test class and it's working.</p>\n\n<p>I want to know now if it's possible to create its FXML file than add this component to scene builder ? how to do it ? Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1684929757,"post_id":76323246,"comment_id":134588788,"body_markdown":"`Y` is *week-based-year*, use `u` (*year*) or `y` (*year-of-era*)…","body":"<code>Y</code> is <i>week-based-year</i>, use <code>u</code> (<i>year</i>) or <code>y</code> (<i>year-of-era</i>)…"}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1684973036,"creation_date":1684929505,"answer_id":76323270,"question_id":76323246,"body_markdown":"Your pattern is not correct instead, try this:\r\n\r\n    final String pattern = &quot;MM/dd/uuuu&quot;; // or &quot;MM/dd/yyyy&quot; \r\n\r\nFormatting patterns are [case-sensitive][1]. The &quot;yyyy&quot; represents the year, while &quot;YYYY&quot; represents the week-based year. So you need to use `yyyy` or much better `uuuu` to solve your issue.\r\n\r\n---\r\n\r\n- https://stackoverflow.com/questions/41177442/uuuu-versus-yyyy-in-datetimeformatter-formatting-pattern-codes-in-java \r\n- https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Case_sensitivity","title":"Unable to obtain LocalDate from TemporalAccessor","body":"<p>Your pattern is not correct instead, try this:</p>\n<pre><code>final String pattern = &quot;MM/dd/uuuu&quot;; // or &quot;MM/dd/yyyy&quot; \n</code></pre>\n<p>Formatting patterns are <a href=\"https://en.wikipedia.org/wiki/Case_sensitivity\" rel=\"nofollow noreferrer\">case-sensitive</a>. The &quot;yyyy&quot; represents the year, while &quot;YYYY&quot; represents the week-based year. So you need to use <code>yyyy</code> or much better <code>uuuu</code> to solve your issue.</p>\n<hr />\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/41177442/uuuu-versus-yyyy-in-datetimeformatter-formatting-pattern-codes-in-java\">`uuuu` versus `yyyy` in `DateTimeFormatter` formatting pattern codes in Java?</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html</a></li>\n</ul>\n"}],"owner":{"account_id":12706527,"reputation":999,"user_id":9231614,"display_name":"kris82pl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76323270,"answer_count":1,"score":1,"last_activity_date":1684973036,"creation_date":1684929350,"question_id":76323246,"body_markdown":"I have following code\r\n\r\n    final String pattern = &quot;MM/dd/YYYY&quot;;\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(pattern);\r\n    LocalDate localDate = LocalDate.parse(date, formatter);\r\n\r\nand while trying to parse `String date = &quot;05/29/2003&quot;` \r\nI receive an exception:\r\n\r\n    Caused by: java.time.DateTimeException: Unable to obtain LocalDate from TemporalAccessor: {WeekBasedYear[WeekFields[SUNDAY,1]]=2023, DayOfMonth=29, MonthOfYear=5},ISO of type java.time.format.Parsed\r\n\r\nWhat is the reason ?\r\n","title":"Unable to obtain LocalDate from TemporalAccessor","body":"<p>I have following code</p>\n<pre><code>final String pattern = &quot;MM/dd/YYYY&quot;;\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(pattern);\nLocalDate localDate = LocalDate.parse(date, formatter);\n</code></pre>\n<p>and while trying to parse <code>String date = &quot;05/29/2003&quot;</code>\nI receive an exception:</p>\n<pre><code>Caused by: java.time.DateTimeException: Unable to obtain LocalDate from TemporalAccessor: {WeekBasedYear[WeekFields[SUNDAY,1]]=2023, DayOfMonth=29, MonthOfYear=5},ISO of type java.time.format.Parsed\n</code></pre>\n<p>What is the reason ?</p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1684971599,"post_id":76328008,"comment_id":134597134,"body_markdown":"Use layouts in a smarter way. FlowLayout is very limited in what it can do, and in how it works. Consider giving EventSchedulerGUI a BorderLayout and placing your schedule panel in the center position, the room panel elsewhere, perhaps in the PAGE_END  position.","body":"Use layouts in a smarter way. FlowLayout is very limited in what it can do, and in how it works. Consider giving EventSchedulerGUI a BorderLayout and placing your schedule panel in the center position, the room panel elsewhere, perhaps in the PAGE_END  position."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1684972277,"post_id":76328008,"comment_id":134597202,"body_markdown":"Your `SchedulePanel` should be defining acceptable sizing hints (starting with `preferredSize`), it&#39;s then up to the layout mangers to figure out how to accomodate this.","body":"Your <code>SchedulePanel</code> should be defining acceptable sizing hints (starting with <code>preferredSize</code>), it&#39;s then up to the layout mangers to figure out how to accomodate this."},{"owner":{"account_id":28674266,"reputation":3,"user_id":21956653,"display_name":"Ronald Wingate"},"score":0,"creation_date":1684972543,"post_id":76328008,"comment_id":134597235,"body_markdown":"Thanks for the advice. I&#39;ve already tried using the BorderLayout, but after experimenting with some other layouts I found that the GridLayout functioned a little better in my program. I would still like to understand why the Border and Flow layouts didn&#39;t work.","body":"Thanks for the advice. I&#39;ve already tried using the BorderLayout, but after experimenting with some other layouts I found that the GridLayout functioned a little better in my program. I would still like to understand why the Border and Flow layouts didn&#39;t work."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684973080,"post_id":76328008,"comment_id":134597295,"body_markdown":"Define &quot;fully visible&quot;.","body":"Define &quot;fully visible&quot;."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1684980187,"post_id":76328008,"comment_id":134597934,"body_markdown":"*I would still like to understand why the Border and Flow layouts didn&#39;t work.* - Read the Swing tutorial on [Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html) to understand the rules of each layout. 1) the FlowLayout respects the preferred size of a component. You didn&#39;t specify a preferred size so the default size of (10, 10) is used because by default a FlowLayout has a gap of 5 pixels between components added to the panel. 2) The BorderLayout only allows one components to be added to the CENTER which is the default if you don&#39;t specify a constraint.","body":"<i>I would still like to understand why the Border and Flow layouts didn&#39;t work.</i> - Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Layout Managers</a> to understand the rules of each layout. 1) the FlowLayout respects the preferred size of a component. You didn&#39;t specify a preferred size so the default size of (10, 10) is used because by default a FlowLayout has a gap of 5 pixels between components added to the panel. 2) The BorderLayout only allows one components to be added to the CENTER which is the default if you don&#39;t specify a constraint."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1684973018,"creation_date":1684972497,"answer_id":76328065,"question_id":76328008,"body_markdown":"Your component should be defining it&#39;s acceptable sizing hints, these are then used by the layout managers to make decisions about how best to layout your component.\r\n\r\nAs a starting point, you should override `getPreferredSize`, for example...\r\n\r\n    public class SchedulePanel extends JPanel {\r\n\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        static final int originX = 0;\r\n        static final int originY = 0;\r\n        static final int cellSide = 50;\r\n\r\n        static final int cols = 5;\r\n        static final int rows = 5;\r\n\r\n        public SchedulePanel() {\r\n            setMinimumSize(new Dimension(cols * cellSide, rows * cellSide));\r\n            setBackground(Color.LIGHT_GRAY);\r\n        }\r\n\r\n        @Override\r\n        public Dimension getPreferredSize() {\r\n            // I generally prefer to calculate this based on the\r\n            // needs of the component and it&#39;s data, but you get the\r\n            // idea\r\n            return new Dimension(400, 400);\r\n        }\r\n\r\n        @Override\r\n        public Dimension getMinimumSize() {\r\n            return new Dimension(400, 400);\r\n        }\r\n\r\n        @Override\r\n        public void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            // this for loop draws horizontal lines that separate the rows in\r\n            // the\r\n            // grid\r\n            for (int i = 0; i &lt; rows; i++) {\r\n                g.drawLine(originX, originY + (i * cellSide),\r\n                        originX + (cols * cellSide), originY + (i * cellSide));\r\n            }\r\n            // this for loop draws vertical lines that separate the columns in\r\n            // the\r\n            // grid\r\n            for (int i = 0; i &lt; cols; i++) {\r\n                g.drawLine(originX + (i * cellSide), originY,\r\n                        originX + (i * cellSide), originY + (rows * cellSide));\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n# Why `override` instead of calling `setXxxSize`?\r\n\r\nBecause it&#39;s the component&#39;s responsibility to make these determinations, not the callers.  It&#39;s the callers responsibility to figure out how to accomodate them.\r\n\r\nAlso, you don&#39;t want someone coming along and modifying the sizing hints, that just messes everything up.","title":"How do I program a JPanel such that the graphics are always visible?","body":"<p>Your component should be defining it's acceptable sizing hints, these are then used by the layout managers to make decisions about how best to layout your component.</p>\n<p>As a starting point, you should override <code>getPreferredSize</code>, for example...</p>\n<pre><code>public class SchedulePanel extends JPanel {\n\n    private static final long serialVersionUID = 1L;\n\n    static final int originX = 0;\n    static final int originY = 0;\n    static final int cellSide = 50;\n\n    static final int cols = 5;\n    static final int rows = 5;\n\n    public SchedulePanel() {\n        setMinimumSize(new Dimension(cols * cellSide, rows * cellSide));\n        setBackground(Color.LIGHT_GRAY);\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        // I generally prefer to calculate this based on the\n        // needs of the component and it's data, but you get the\n        // idea\n        return new Dimension(400, 400);\n    }\n\n    @Override\n    public Dimension getMinimumSize() {\n        return new Dimension(400, 400);\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        // this for loop draws horizontal lines that separate the rows in\n        // the\n        // grid\n        for (int i = 0; i &lt; rows; i++) {\n            g.drawLine(originX, originY + (i * cellSide),\n                    originX + (cols * cellSide), originY + (i * cellSide));\n        }\n        // this for loop draws vertical lines that separate the columns in\n        // the\n        // grid\n        for (int i = 0; i &lt; cols; i++) {\n            g.drawLine(originX + (i * cellSide), originY,\n                    originX + (i * cellSide), originY + (rows * cellSide));\n        }\n\n    }\n}\n</code></pre>\n<h1>Why <code>override</code> instead of calling <code>setXxxSize</code>?</h1>\n<p>Because it's the component's responsibility to make these determinations, not the callers.  It's the callers responsibility to figure out how to accomodate them.</p>\n<p>Also, you don't want someone coming along and modifying the sizing hints, that just messes everything up.</p>\n"}],"owner":{"account_id":28674266,"reputation":3,"user_id":21956653,"display_name":"Ronald Wingate"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76328065,"answer_count":1,"score":-1,"last_activity_date":1684973018,"creation_date":1684971338,"question_id":76328008,"body_markdown":"JPanel graphics are not fully visible [tag:swing]\r\n\r\nI am attempting to program an event scheduling system. I have coded a SchedulePanel class that contains a grid that I drew directly onto the panel.\r\n```\r\npublic class SchedulePanel extends JPanel {\r\n\r\n\t\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t\tstatic final int originX = 0;\r\n\t\tstatic final int originY = 0;\r\n\t\tstatic final int cellSide = 50;\r\n\r\n\t\tstatic final int cols = 5;\r\n\t\tstatic final int rows = 5;\r\n\r\n\t\tpublic SchedulePanel() {\r\n\t\t\tsetMinimumSize(new Dimension(cols * cellSide, rows * cellSide));\r\n\t\t\tsetBackground(Color.LIGHT_GRAY);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void paintComponent(Graphics g) {\r\n\t\t\tsuper.paintComponent(g);\r\n\t\t\t// this for loop draws horizontal lines that separate the rows in\r\n\t\t\t// the\r\n\t\t\t// grid\r\n\t\t\tfor (int i = 0; i &lt; rows; i++) {\r\n\t\t\t\tg.drawLine(originX, originY + (i * cellSide),\r\n\t\t\t\t\t\toriginX + (cols * cellSide), originY + (i * cellSide));\r\n\t\t\t}\r\n\t\t\t// this for loop draws vertical lines that separate the columns in\r\n\t\t\t// the\r\n\t\t\t// grid\r\n\t\t\tfor (int i = 0; i &lt; cols; i++) {\r\n\t\t\t\tg.drawLine(originX + (i * cellSide), originY,\r\n\t\t\t\t\t\toriginX + (i * cellSide), originY + (rows * cellSide));\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n```\r\nWhen I add this panel to the main panel containig another component I can only see the top right corner of the grid. How do I make it so that all of my graphics are visible?\r\n\r\n```\r\npublic class EventSchedulerGUI extends JPanel {\r\n\r\n\tRoomPanel roomPanel;\r\n\tSchedulePanel schedulePanel;\r\n\tJList&lt;Room&gt; roomList;\r\n\r\n\tpublic EventSchedulerGUI() {\r\n\t\tFlowLayout layout = new FlowLayout();\r\n\t\tsetLayout(layout);\r\n\t\troomPanel = new RoomPanel();\r\n\r\n\t\tschedulePanel = new SchedulePanel();\r\n\t\tschedulePanel.setMinimumSize(new Dimension(400, 400));\r\n\r\n\t\tadd(roomPanel);\r\n\t\tadd(schedulePanel);\r\n\r\n\t}\r\n```\r\n","title":"How do I program a JPanel such that the graphics are always visible?","body":"<p>JPanel graphics are not fully visible <a href=\"/questions/tagged/swing\" class=\"post-tag\" title=\"show questions tagged &#39;swing&#39;\" aria-label=\"show questions tagged &#39;swing&#39;\" rel=\"tag\" aria-labelledby=\"tag-swing-tooltip-container\">swing</a></p>\n<p>I am attempting to program an event scheduling system. I have coded a SchedulePanel class that contains a grid that I drew directly onto the panel.</p>\n<pre><code>public class SchedulePanel extends JPanel {\n\n        private static final long serialVersionUID = 1L;\n\n        static final int originX = 0;\n        static final int originY = 0;\n        static final int cellSide = 50;\n\n        static final int cols = 5;\n        static final int rows = 5;\n\n        public SchedulePanel() {\n            setMinimumSize(new Dimension(cols * cellSide, rows * cellSide));\n            setBackground(Color.LIGHT_GRAY);\n        }\n\n        @Override\n        public void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            // this for loop draws horizontal lines that separate the rows in\n            // the\n            // grid\n            for (int i = 0; i &lt; rows; i++) {\n                g.drawLine(originX, originY + (i * cellSide),\n                        originX + (cols * cellSide), originY + (i * cellSide));\n            }\n            // this for loop draws vertical lines that separate the columns in\n            // the\n            // grid\n            for (int i = 0; i &lt; cols; i++) {\n                g.drawLine(originX + (i * cellSide), originY,\n                        originX + (i * cellSide), originY + (rows * cellSide));\n            }\n\n        }\n    }\n</code></pre>\n<p>When I add this panel to the main panel containig another component I can only see the top right corner of the grid. How do I make it so that all of my graphics are visible?</p>\n<pre><code>public class EventSchedulerGUI extends JPanel {\n\n    RoomPanel roomPanel;\n    SchedulePanel schedulePanel;\n    JList&lt;Room&gt; roomList;\n\n    public EventSchedulerGUI() {\n        FlowLayout layout = new FlowLayout();\n        setLayout(layout);\n        roomPanel = new RoomPanel();\n\n        schedulePanel = new SchedulePanel();\n        schedulePanel.setMinimumSize(new Dimension(400, 400));\n\n        add(roomPanel);\n        add(schedulePanel);\n\n    }\n</code></pre>\n"},{"tags":["java","class","enums","interface"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1684942297,"post_id":76325063,"comment_id":134592100,"body_markdown":"What do you mean by tied to an enum? Can `TYPE1` have `TypeObj2` for example?","body":"What do you mean by tied to an enum? Can <code>TYPE1</code> have <code>TypeObj2</code> for example?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684942713,"post_id":76325063,"comment_id":134592189,"body_markdown":"It is very unclear what you are trying to achieve. Does this question about using generics with enum help? https://stackoverflow.com/a/11490505/721855","body":"It is very unclear what you are trying to achieve. Does this question about using generics with enum help? <a href=\"https://stackoverflow.com/a/11490505/721855\">stackoverflow.com/a/11490505/721855</a>"},{"owner":{"account_id":10020543,"reputation":91,"user_id":7410381,"display_name":"Pandey"},"score":0,"creation_date":1684943937,"post_id":76325063,"comment_id":134592476,"body_markdown":"@davidalayachew no TYPE1 would only have TypeObj1","body":"@davidalayachew no TYPE1 would only have TypeObj1"},{"owner":{"account_id":10020543,"reputation":91,"user_id":7410381,"display_name":"Pandey"},"score":0,"creation_date":1684944086,"post_id":76325063,"comment_id":134592510,"body_markdown":"@aled I wanted to know if the approach I am using is correct or not. I would like to instantiate object of class implementing TypeInterface in Enum constructor. Is this right practice?","body":"@aled I wanted to know if the approach I am using is correct or not. I would like to instantiate object of class implementing TypeInterface in Enum constructor. Is this right practice?"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1684944311,"post_id":76325063,"comment_id":134592563,"body_markdown":"Then my next question, you said that `TYPE1` can only interact with `TypeObj1`. Is this something that you want ***enforced*** by the compiler? Or do you just want to map the relationship and see if there is a better way to do it?","body":"Then my next question, you said that <code>TYPE1</code> can only interact with <code>TypeObj1</code>. Is this something that you want <b><i>enforced</i></b> by the compiler? Or do you just want to map the relationship and see if there is a better way to do it?"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684943344,"creation_date":1684943344,"answer_id":76325340,"question_id":76325063,"body_markdown":"Create a constructor for your `enum`, which matches the arguments you&#39;re specifying.  \r\nThere is no access-modifier; and `private` is redundant.\r\n\r\n[Enum Types (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Classes and Objects)](https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html).\r\n\r\n```java\r\npublic enum Type {\r\n    TYPE1(&quot;type_name_1&quot;, new TypeObj1()),\r\n    TYPE2(&quot;type_name_2&quot;, new TypeObj2());\r\n\r\n    final TypeInterface typeObj;\r\n    final String value;\r\n    \r\n    Type(String value, TypeInterface typeObj) {\r\n        this.value = value;\r\n        this.typeObj = typeObj;\r\n    }\r\n}\r\n```","title":"How to instantiate an object tied to java enum","body":"<p>Create a constructor for your <code>enum</code>, which matches the arguments you're specifying.<br />\nThere is no access-modifier; and <code>private</code> is redundant.</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">Enum Types (The Java™ Tutorials &gt; Learning the Java Language &gt; Classes and Objects)</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Type {\n    TYPE1(&quot;type_name_1&quot;, new TypeObj1()),\n    TYPE2(&quot;type_name_2&quot;, new TypeObj2());\n\n    final TypeInterface typeObj;\n    final String value;\n    \n    Type(String value, TypeInterface typeObj) {\n        this.value = value;\n        this.typeObj = typeObj;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684972656,"creation_date":1684944011,"answer_id":76325431,"question_id":76325063,"body_markdown":"Yes, you are headed in the right direction. \r\n\r\nYou’ll need a constructor to assign the passed objects to your member fields. \r\n\r\nMake your member fields `final` to prevent their reassignment to another object reference. \r\n\r\n```java\r\npublic enum Type {\r\n  // Enum objects.\r\n  TYPE1(&quot;type_name_1&quot;, new TypeObj1()), \r\n  TYPE2(&quot;type_name_2&quot;, new TypeObj2());\r\n\r\n  // Member fields.\r\n  final TypeInterface typeObj;\r\n  final String value;\r\n\r\n  // Constructor.\r\n  Type( final String value , final TypeInterface typeInterface ) {\r\n    this.typeObj = typeInterface ;\r\n    this.value = value ;\r\n  }\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nTip: This kind of thought exercise is more clear and productive if you devise a simple but semi-realistic scenario rather than your amorphous “TypeInterface” and “value”. \r\n\r\n```java\r\npublic enum Pet {\r\n  // Enum objects.\r\n  FLUFFY( &quot;tuxedo&quot; , new Cat() ), \r\n  ROVER( &quot;chocolate Lab&quot; , new Dog() );\r\n  \r\n  // Member fields.\r\n  final Animal animal;\r\n  final String description;\r\n\r\n  // Constructor.\r\n  Type( final String desc , final Animal animal ) {\r\n    this.animal = animal ;\r\n    this.description = desc ;\r\n  }\r\n}\r\n```\r\n\r\n","title":"How to instantiate an object tied to java enum","body":"<p>Yes, you are headed in the right direction.</p>\n<p>You’ll need a constructor to assign the passed objects to your member fields.</p>\n<p>Make your member fields <code>final</code> to prevent their reassignment to another object reference.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Type {\n  // Enum objects.\n  TYPE1(&quot;type_name_1&quot;, new TypeObj1()), \n  TYPE2(&quot;type_name_2&quot;, new TypeObj2());\n\n  // Member fields.\n  final TypeInterface typeObj;\n  final String value;\n\n  // Constructor.\n  Type( final String value , final TypeInterface typeInterface ) {\n    this.typeObj = typeInterface ;\n    this.value = value ;\n  }\n}\n</code></pre>\n<hr />\n<p>Tip: This kind of thought exercise is more clear and productive if you devise a simple but semi-realistic scenario rather than your amorphous “TypeInterface” and “value”.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Pet {\n  // Enum objects.\n  FLUFFY( &quot;tuxedo&quot; , new Cat() ), \n  ROVER( &quot;chocolate Lab&quot; , new Dog() );\n  \n  // Member fields.\n  final Animal animal;\n  final String description;\n\n  // Constructor.\n  Type( final String desc , final Animal animal ) {\n    this.animal = animal ;\n    this.description = desc ;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":10020543,"reputation":91,"user_id":7410381,"display_name":"Pandey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76325431,"answer_count":2,"score":3,"last_activity_date":1684972656,"creation_date":1684941434,"question_id":76325063,"body_markdown":"I want to instantiate object for an enum. For example:\r\n\r\n```\r\npublic enum Type {\r\n\r\n  TYPE1(&quot;type_name_1&quot;, new TypeObj1()), \r\n  TYPE2(&quot;type_name_2&quot;, new TypeObj2());\r\n\r\n  TypeInterface typeObj;\r\n  String value;\r\n}\r\n```\r\n\r\n```\r\npublic class TypeObj1 implements TypeInterface {\r\n  ...\r\n}\r\n```\r\n\r\n```\r\npublic class TypeObj2 implements TypeInterface {\r\n  ...\r\n}\r\n```\r\n\r\n\r\nIs this a correct way to do it? I want a single object of TypeInterface attached to enum. Please suggest alternatives.","title":"How to instantiate an object tied to java enum","body":"<p>I want to instantiate object for an enum. For example:</p>\n<pre><code>public enum Type {\n\n  TYPE1(&quot;type_name_1&quot;, new TypeObj1()), \n  TYPE2(&quot;type_name_2&quot;, new TypeObj2());\n\n  TypeInterface typeObj;\n  String value;\n}\n</code></pre>\n<pre><code>public class TypeObj1 implements TypeInterface {\n  ...\n}\n</code></pre>\n<pre><code>public class TypeObj2 implements TypeInterface {\n  ...\n}\n</code></pre>\n<p>Is this a correct way to do it? I want a single object of TypeInterface attached to enum. Please suggest alternatives.</p>\n"},{"tags":["java","database","time-series","griddb"],"owner":{"account_id":28439666,"reputation":71,"user_id":21759222,"display_name":"John Woods"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684972358,"creation_date":1684972358,"question_id":76328059,"body_markdown":"```java\r\nimport java.sql.*;\r\n\r\npublic class GridDBConnectionTest {\r\n    public static void main(String[] args) {\r\n        try {\r\n            Class.forName(&quot;com.toshiba.mwcloud.gs.sql.Driver&quot;);\r\n            Connection conn = DriverManager.getConnection(&quot;jdbc:gs://localhost:10001/my_container&quot;);\r\n            System.out.println(&quot;Connected to GridDB database.&quot;);\r\n            conn.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI am trying to establish a connection to a GridDB time series database from my Ubuntu machine using JDBC. However, when running the above code, I encounter an error and the connection fails. The error message I receive is: &quot;java.lang.ClassNotFoundException: com.toshiba.mwcloud.gs.sql.Driver&quot;. I have already added the necessary GridDB JDBC driver to the classpath. What could be causing this error and how can I successfully connect to the GridDB database using JDBC?","title":"Error connecting to GridDB time series database from Ubuntu using JDBC","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.sql.*;\n\npublic class GridDBConnectionTest {\n    public static void main(String[] args) {\n        try {\n            Class.forName(&quot;com.toshiba.mwcloud.gs.sql.Driver&quot;);\n            Connection conn = DriverManager.getConnection(&quot;jdbc:gs://localhost:10001/my_container&quot;);\n            System.out.println(&quot;Connected to GridDB database.&quot;);\n            conn.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I am trying to establish a connection to a GridDB time series database from my Ubuntu machine using JDBC. However, when running the above code, I encounter an error and the connection fails. The error message I receive is: &quot;java.lang.ClassNotFoundException: com.toshiba.mwcloud.gs.sql.Driver&quot;. I have already added the necessary GridDB JDBC driver to the classpath. What could be causing this error and how can I successfully connect to the GridDB database using JDBC?</p>\n"},{"tags":["java","intellij-idea","javafx","fxml","scenebuilder"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1642025715,"post_id":70688999,"comment_id":124966319,"body_markdown":"The fastest way to create FXML files is in SceneBuilder. There&#39;s no tool I know of for converting Java-based UI to FXML. You would just have to re-do all the view in FXML one way or another if you want to use SceneBuilder.","body":"The fastest way to create FXML files is in SceneBuilder. There&#39;s no tool I know of for converting Java-based UI to FXML. You would just have to re-do all the view in FXML one way or another if you want to use SceneBuilder."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684972305,"creation_date":1642028945,"answer_id":70689553,"question_id":70688999,"body_markdown":"**Update**\r\n\r\nFor an example of creating a custom component library and importing it into SceneBuilder (with sample code and screenshots) see:\r\n\r\n * [Importing a library into SceneBuilder](https://stackoverflow.com/a/76317530/1155209)\r\n\r\n----\r\n\r\nCreate your FXML files and edit them in SceneBuilder.  \r\n\r\nAs James_D notes in comments:\r\n\r\n&gt; There&#39;s no tool I know of for converting Java-based UI to FXML. You would just have to re-do all the view in FXML one way or another if you want to use SceneBuilder.\r\n\r\nYou can also edit the FXML text directly in your IDE for small simple changes, but, in general for large projects with a lot of FXML files, it will probably be better to do most of the editing or at least the initial FXML creation using SceneBuilder.  \r\n\r\nSearch the web for a good tutorial on FXML if you need one.\r\n\r\nAs you are using Idea, to get started use the [JavaFX new project wizard](https://www.jetbrains.com/help/idea/javafx.html) and slowly copy in, then port over parts of your existing application from your existing project as you replace the view logic.\r\n\r\nIdea (or at least some recent version of it that I have tried) does have the ability to use [SceneBuilder embedded in the IDE, though I have found that functionality is a bit flaky](https://stackoverflow.com/questions/56416318/intellijs-integrated-scene-builder-for-javafx-not-working-in-oracles-jdk-12), so I don&#39;t advise using that at this time.\r\n\r\nHowever, you can also configure the IDE to link to and use an external SceneBuilder installation, which works fine.  Follow the instructions at:\r\n\r\n * [Open files in Scene Builder](https://www.jetbrains.com/help/idea/opening-fxml-files-in-javafx-scene-builder.html#open-in-scene-builder) from Idea.\r\n\r\nStand-alone SceneBuilder is available for free from Gluon:\r\n\r\n * [SceneBuilder download](https://gluonhq.com/products/scene-builder/#download).\r\n\r\nUse a build tool like maven, following the [maven standard directory layout](https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html) for file placement.\r\n\r\nFollow the standards and conventions for resource lookup outlined in the:\r\n\r\n * [Eden coding resource guide](https://edencoding.com/where-to-put-resource-files-in-javafx/).\r\n\r\nYou don&#39;t need to fully convert all view logic from Java code to FXML, you can have an application which mixes the two paradigms and that can work well, just choose what works best for your application components.","title":"Convert/import existing javafx project into SceneBuilder","body":"<p><strong>Update</strong></p>\n<p>For an example of creating a custom component library and importing it into SceneBuilder (with sample code and screenshots) see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/76317530/1155209\">Importing a library into SceneBuilder</a></li>\n</ul>\n<hr />\n<p>Create your FXML files and edit them in SceneBuilder.</p>\n<p>As James_D notes in comments:</p>\n<blockquote>\n<p>There's no tool I know of for converting Java-based UI to FXML. You would just have to re-do all the view in FXML one way or another if you want to use SceneBuilder.</p>\n</blockquote>\n<p>You can also edit the FXML text directly in your IDE for small simple changes, but, in general for large projects with a lot of FXML files, it will probably be better to do most of the editing or at least the initial FXML creation using SceneBuilder.</p>\n<p>Search the web for a good tutorial on FXML if you need one.</p>\n<p>As you are using Idea, to get started use the <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">JavaFX new project wizard</a> and slowly copy in, then port over parts of your existing application from your existing project as you replace the view logic.</p>\n<p>Idea (or at least some recent version of it that I have tried) does have the ability to use <a href=\"https://stackoverflow.com/questions/56416318/intellijs-integrated-scene-builder-for-javafx-not-working-in-oracles-jdk-12\">SceneBuilder embedded in the IDE, though I have found that functionality is a bit flaky</a>, so I don't advise using that at this time.</p>\n<p>However, you can also configure the IDE to link to and use an external SceneBuilder installation, which works fine.  Follow the instructions at:</p>\n<ul>\n<li><a href=\"https://www.jetbrains.com/help/idea/opening-fxml-files-in-javafx-scene-builder.html#open-in-scene-builder\" rel=\"nofollow noreferrer\">Open files in Scene Builder</a> from Idea.</li>\n</ul>\n<p>Stand-alone SceneBuilder is available for free from Gluon:</p>\n<ul>\n<li><a href=\"https://gluonhq.com/products/scene-builder/#download\" rel=\"nofollow noreferrer\">SceneBuilder download</a>.</li>\n</ul>\n<p>Use a build tool like maven, following the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">maven standard directory layout</a> for file placement.</p>\n<p>Follow the standards and conventions for resource lookup outlined in the:</p>\n<ul>\n<li><a href=\"https://edencoding.com/where-to-put-resource-files-in-javafx/\" rel=\"nofollow noreferrer\">Eden coding resource guide</a>.</li>\n</ul>\n<p>You don't need to fully convert all view logic from Java code to FXML, you can have an application which mixes the two paradigms and that can work well, just choose what works best for your application components.</p>\n"}],"owner":{"account_id":16848325,"reputation":73,"user_id":12182000,"display_name":"Ashman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":672,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70689553,"answer_count":1,"score":-1,"last_activity_date":1684972305,"creation_date":1642025135,"question_id":70688999,"body_markdown":"I have a javafx project already in Intellij but doing the view/gui stuff is just kinda tedious. I found scenebuilder and would like to use it for my existing project, but dont know how to &quot;import&quot; it. I understood that I need fxml files, but dont know where to create them etc.\r\nCan anyone help me? Thanks!","title":"Convert/import existing javafx project into SceneBuilder","body":"<p>I have a javafx project already in Intellij but doing the view/gui stuff is just kinda tedious. I found scenebuilder and would like to use it for my existing project, but dont know how to &quot;import&quot; it. I understood that I need fxml files, but dont know where to create them etc.\nCan anyone help me? Thanks!</p>\n"},{"tags":["java","random"],"comments":[{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1447853423,"post_id":33781369,"comment_id":55329099,"body_markdown":"No, there is no difference between the two. I believe the first one is more *verbose* to the developer.","body":"No, there is no difference between the two. I believe the first one is more <i>verbose</i> to the developer."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":7,"creation_date":1447853445,"post_id":33781369,"comment_id":55329116,"body_markdown":"No, no semantic difference at all. However, there may be some meaning to seeing it as `12*4+2` rather than just `50`. For example, `86400` looks like a strange, meaningless number - but `24 * 60 * 60` is (more) obviously the number of seconds in a day.","body":"No, no semantic difference at all. However, there may be some meaning to seeing it as <code>12*4+2</code> rather than just <code>50</code>. For example, <code>86400</code> looks like a strange, meaningless number - but <code>24 * 60 * 60</code> is (more) obviously the number of seconds in a day."},{"owner":{"account_id":7320637,"reputation":1,"user_id":5576785,"display_name":"ShortRouter"},"score":1,"creation_date":1447853642,"post_id":33781369,"comment_id":55329275,"body_markdown":"Wow, that went quick! Thanks a lot, this is supposed to generate card-IDs from a 12*4 color and 2 black cards. I suppose I have to give each generated number a meaning.","body":"Wow, that went quick! Thanks a lot, this is supposed to generate card-IDs from a 12*4 color and 2 black cards. I suppose I have to give each generated number a meaning."}],"answers":[{"tags":[],"owner":{"account_id":2764833,"reputation":232372,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1447853476,"creation_date":1447853476,"answer_id":33781421,"question_id":33781369,"body_markdown":"`12 * 4 + 2` is a compile-time evaluable *constant expression*.\r\n\r\nIt&#39;s exactly equivalent to `50`, but the former might be adopted for readability.\r\n\r\n`random#nextInt(n)` draws a uniformly distributed random integer in [0, n).","title":"Meaning of random.nextInt(12*4+2)","body":"<p><code>12 * 4 + 2</code> is a compile-time evaluable <em>constant expression</em>.</p>\n\n<p>It's exactly equivalent to <code>50</code>, but the former might be adopted for readability.</p>\n\n<p><code>random#nextInt(n)</code> draws a uniformly distributed random integer in [0, n).</p>\n"},{"tags":[],"owner":{"account_id":4392851,"reputation":11471,"user_id":3580745,"accept_rate":81,"display_name":"ThomasThiebaud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447853551,"creation_date":1447853551,"answer_id":33781447,"question_id":33781369,"body_markdown":"From the [documentation](https://docs.oracle.com/javase/6/docs/api/java/util/Random.html) of `random.nextInt()`\r\n\r\n&gt; Returns a pseudorandom, uniformly distributed int value between 0 (inclusive) and the specified value (exclusive), drawn from this random number generator&#39;s sequence.\r\n\r\nThere is no difference between this two expressions\r\n\r\n    int r = random.nextInt(12*4+2)\r\n    random.nextInt(50)\r\n\r\nSince \r\n\r\n    int r = random.nextInt(12*4+2)\r\n\r\nwill be evaluated as\r\n\r\n    int tmp = 12*4+2;\r\n    int r = random.nextInt(tmp);\r\n","title":"Meaning of random.nextInt(12*4+2)","body":"<p>From the <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/Random.html\" rel=\"nofollow\">documentation</a> of <code>random.nextInt()</code></p>\n\n<blockquote>\n  <p>Returns a pseudorandom, uniformly distributed int value between 0 (inclusive) and the specified value (exclusive), drawn from this random number generator's sequence.</p>\n</blockquote>\n\n<p>There is no difference between this two expressions</p>\n\n<pre><code>int r = random.nextInt(12*4+2)\nrandom.nextInt(50)\n</code></pre>\n\n<p>Since </p>\n\n<pre><code>int r = random.nextInt(12*4+2)\n</code></pre>\n\n<p>will be evaluated as</p>\n\n<pre><code>int tmp = 12*4+2;\nint r = random.nextInt(tmp);\n</code></pre>\n"}],"owner":{"account_id":7320637,"reputation":1,"user_id":5576785,"display_name":"ShortRouter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684969308,"creation_date":1447853332,"question_id":33781369,"body_markdown":"so once again we were given code bites we should use and this one I don&#39;t really get the sense of:\r\n\r\n    int r = random.nextInt(12*4+2)\r\n\r\nIs there any difference to \r\n`random.nextInt(50)` ? I&#39;m a bit confused...","title":"Meaning of random.nextInt(12*4+2)","body":"<p>so once again we were given code bites we should use and this one I don't really get the sense of:</p>\n<pre><code>int r = random.nextInt(12*4+2)\n</code></pre>\n<p>Is there any difference to\n<code>random.nextInt(50)</code> ? I'm a bit confused...</p>\n"},{"tags":["java","list","linked-list"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1443864413,"post_id":32920907,"comment_id":53668970,"body_markdown":"Unless you have an array with the nodes, you&#39;ll need that while loop to find the correct position. But this code is not enough to help you - we don&#39;t know what `getFirst` does, whether the list is single-link or double-link. You need to add the `ValueNode` and at least `setNext()` and any methods and variables referenced in this code or any of the code that it depends on.","body":"Unless you have an array with the nodes, you&#39;ll need that while loop to find the correct position. But this code is not enough to help you - we don&#39;t know what <code>getFirst</code> does, whether the list is single-link or double-link. You need to add the <code>ValueNode</code> and at least <code>setNext()</code> and any methods and variables referenced in this code or any of the code that it depends on."},{"owner":{"account_id":7057073,"reputation":43,"user_id":5403942,"display_name":"thechamp"},"score":0,"creation_date":1443869673,"post_id":32920907,"comment_id":53670320,"body_markdown":"getFirst just returns the first node in the list... and it is a SLL .. but the last node should point to the first node to make it circularly..","body":"getFirst just returns the first node in the list... and it is a SLL .. but the last node should point to the first node to make it circularly.."}],"answers":[{"tags":[],"owner":{"account_id":7030496,"reputation":298,"user_id":5386393,"display_name":"Afsin Buyuksarac"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1443866001,"creation_date":1443866001,"answer_id":32921189,"question_id":32920907,"body_markdown":"Distinguish making a node with value and setting next node operations. \r\n\r\nYour data structure can be like this:\r\n\r\n    class Node {\r\n       int val;\r\n       Node next;\r\n       Node previous;\r\n    \r\n      //setters and getters and constructors\r\n    \r\n    }\r\n\r\n1) For all new values should have a node\r\n\r\n    Node createNode(int val) {\r\n        Node newNode = new Node(val);\r\n        newNode.next = null;\r\n        newNode.previous = null;\r\n        return newNode; \r\n    }  \r\n\r\n2) Locate newNode starting from root or hold a current node set it next\r\n\r\n     currentNode.setNext(Node newNode);\r\n     //iterate the currenNode with newNode\r\n     currentNode = newNode;\r\n    \r\n     ...\r\n    \r\n     // implement the setNext and mark current as previous for newNode\r\n     void setNextNode(Node newNode) {\r\n          this.next = newNode;\r\n          newNode.setPrevious(this); \r\n     }\r\n     \r\n","title":"How to set next value in a Circularly Linked List in Java?","body":"<p>Distinguish making a node with value and setting next node operations. </p>\n\n<p>Your data structure can be like this:</p>\n\n<pre><code>class Node {\n   int val;\n   Node next;\n   Node previous;\n\n  //setters and getters and constructors\n\n}\n</code></pre>\n\n<p>1) For all new values should have a node</p>\n\n<pre><code>Node createNode(int val) {\n    Node newNode = new Node(val);\n    newNode.next = null;\n    newNode.previous = null;\n    return newNode; \n}  \n</code></pre>\n\n<p>2) Locate newNode starting from root or hold a current node set it next</p>\n\n<pre><code> currentNode.setNext(Node newNode);\n //iterate the currenNode with newNode\n currentNode = newNode;\n\n ...\n\n // implement the setNext and mark current as previous for newNode\n void setNextNode(Node newNode) {\n      this.next = newNode;\n      newNode.setPrevious(this); \n }\n</code></pre>\n"}],"owner":{"account_id":7057073,"reputation":43,"user_id":5403942,"display_name":"thechamp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1463,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":32921189,"answer_count":1,"score":-1,"last_activity_date":1684969272,"creation_date":1443863918,"question_id":32920907,"body_markdown":"This is what I have so far: \r\n\r\n    public void insert(int position, ValueNode value) {\r\n      if (position == 1) {\r\n        this.nextInRow = value;\r\n      }\r\n      ValueNode current = this.getFirst();\r\n      if (position &gt; 1) {\r\n        current.setNext(current.next);\r\n      }\r\n    \tvalue.setNextInRow(current.getNext());\r\n    }\r\n\r\nThe headnode is being set properly with the first if statement. In this list we already know the position, so I&#39;m thinking we don&#39;t need a while loop since we know where to put the new node. \r\n\r\nI create a temp node called current to hold the next node pointer, but right now it sets the pointer to null. My problem is I don&#39;t know where to point the next node pointer to. Any help would be very much appreciated. ","title":"How to set next value in a Circularly Linked List in Java?","body":"<p>This is what I have so far: </p>\n\n<pre><code>public void insert(int position, ValueNode value) {\n  if (position == 1) {\n    this.nextInRow = value;\n  }\n  ValueNode current = this.getFirst();\n  if (position &gt; 1) {\n    current.setNext(current.next);\n  }\n    value.setNextInRow(current.getNext());\n}\n</code></pre>\n\n<p>The headnode is being set properly with the first if statement. In this list we already know the position, so I'm thinking we don't need a while loop since we know where to put the new node. </p>\n\n<p>I create a temp node called current to hold the next node pointer, but right now it sets the pointer to null. My problem is I don't know where to point the next node pointer to. Any help would be very much appreciated. </p>\n"},{"tags":["java","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1435620685,"creation_date":1435620685,"answer_id":31127225,"question_id":31127201,"body_markdown":"Because `input.nextInt();` will only consume an `int`, there is still pending characters in the buffer (that are not an `int`) in the catch block. If you don&#39;t read them with `nextLine()` then you enter an infinite loop as it checks for an `int`, doesn&#39;t find one, throws an `Exception` and then checks for an `int`.\r\n\r\nYou could do\r\n\r\n    catch (InputMismatchException ex) {\r\n        System.out.println(&quot;Try again. (&quot; + \r\n          &quot;Incorrect input: an integer is required) &quot; +\r\n          input.nextLine() + &quot; is not an int&quot;); \r\n    }","title":"How is nextLine() discarding input in this code?","body":"<p>Because <code>input.nextInt();</code> will only consume an <code>int</code>, there is still pending characters in the buffer (that are not an <code>int</code>) in the catch block. If you don't read them with <code>nextLine()</code> then you enter an infinite loop as it checks for an <code>int</code>, doesn't find one, throws an <code>Exception</code> and then checks for an <code>int</code>.</p>\n\n<p>You could do</p>\n\n<pre><code>catch (InputMismatchException ex) {\n    System.out.println(\"Try again. (\" + \n      \"Incorrect input: an integer is required) \" +\n      input.nextLine() + \" is not an int\"); \n}\n</code></pre>\n"}],"owner":{"account_id":6522721,"reputation":861,"user_id":5046433,"accept_rate":93,"display_name":"Wololo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":700,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":31127225,"answer_count":1,"score":0,"last_activity_date":1684969246,"creation_date":1435620564,"question_id":31127201,"body_markdown":"If I remove input.nextLine() from the catch block, an infinite loop starts. The coment says that input.nextLine() is discarding input. How exactly is it doing this?\r\n\r\n    import java.util.*;\r\n\r\n    public class InputMismatchExceptionDemo {\r\n    public static void main(String[] args) {\r\n    Scanner input = new Scanner(System.in);\r\n    boolean continueInput = true;\r\n\r\n    do {\r\n      try {\r\n        System.out.print(&quot;Enter an integer: &quot;);\r\n        int number = input.nextInt();\r\n  \r\n        // Display the result\r\n        System.out.println(\r\n          &quot;The number entered is &quot; + number);\r\n        \r\n        continueInput = false;\r\n      } \r\n      catch (InputMismatchException ex) {\r\n        System.out.println(&quot;Try again. (&quot; + \r\n          &quot;Incorrect input: an integer is required)&quot;);\r\n        input.nextLine(); // discard input \r\n      }\r\n    } while (continueInput);\r\n    }\r\n    }\r\n\r\nOne more thing.. The code listed below, on the other hand, works perfectly without including any input.nextLine() statement. Why?\r\n\r\n\r\n    import java.util.*;\r\n\r\n    public class InputMismatchExceptionDemo {\r\n    public static void main(String[] args) {\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.println(&quot;Enter four inputs::&quot;);\r\n    int a = input.nextInt();\r\n    int b = input.nextInt();\r\n    int c = input.nextInt();\r\n    int d = input.nextInt();\r\n    int[] x = {a,b,c,d};\r\n    for(int i = 0; i&lt;x.length; i++)\r\n    \tSystem.out.println(x[i]);\r\n    }\r\n    }","title":"How is nextLine() discarding input in this code?","body":"<p>If I remove input.nextLine() from the catch block, an infinite loop starts. The coment says that input.nextLine() is discarding input. How exactly is it doing this?</p>\n\n<pre><code>import java.util.*;\n\npublic class InputMismatchExceptionDemo {\npublic static void main(String[] args) {\nScanner input = new Scanner(System.in);\nboolean continueInput = true;\n\ndo {\n  try {\n    System.out.print(\"Enter an integer: \");\n    int number = input.nextInt();\n\n    // Display the result\n    System.out.println(\n      \"The number entered is \" + number);\n\n    continueInput = false;\n  } \n  catch (InputMismatchException ex) {\n    System.out.println(\"Try again. (\" + \n      \"Incorrect input: an integer is required)\");\n    input.nextLine(); // discard input \n  }\n} while (continueInput);\n}\n}\n</code></pre>\n\n<p>One more thing.. The code listed below, on the other hand, works perfectly without including any input.nextLine() statement. Why?</p>\n\n<pre><code>import java.util.*;\n\npublic class InputMismatchExceptionDemo {\npublic static void main(String[] args) {\nScanner input = new Scanner(System.in);\nSystem.out.println(\"Enter four inputs::\");\nint a = input.nextInt();\nint b = input.nextInt();\nint c = input.nextInt();\nint d = input.nextInt();\nint[] x = {a,b,c,d};\nfor(int i = 0; i&lt;x.length; i++)\n    System.out.println(x[i]);\n}\n}\n</code></pre>\n"},{"tags":["java","java.util.scanner","user-input","java-io"],"comments":[{"owner":{"account_id":7446797,"reputation":2165,"user_id":5662691,"display_name":"Sameer Mirji"},"score":0,"creation_date":1454478714,"post_id":35168933,"comment_id":58056768,"body_markdown":"Refrain from posting text as images. Stick to posting in text format for output/code/data.","body":"Refrain from posting text as images. Stick to posting in text format for output/code/data."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684975101,"post_id":35168933,"comment_id":134597490,"body_markdown":"`&#39;&#39;` (two single quotes) is an empty character literal, and `&quot;` (one double quote) is an unclosed string literal. Neither is valid Java. Presumably you mean `&quot;&quot;` (two double quotes), but that won&#39;t work as a terminator in `Scanner.next()`.","body":"<code>&#39;&#39;</code> (two single quotes) is an empty character literal, and <code>&quot;</code> (one double quote) is an unclosed string literal. Neither is valid Java. Presumably you mean <code>&quot;&quot;</code> (two double quotes), but that won&#39;t work as a terminator in <code>Scanner.next()</code>."}],"answers":[{"tags":[],"owner":{"account_id":7737658,"reputation":2769,"user_id":5858704,"display_name":"MartinS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1454478809,"creation_date":1454476725,"answer_id":35169054,"question_id":35168933,"body_markdown":"You can use a Set to store numbers you already got and then redraw until you get a number that is not in the Set.\r\n\r\n    System.out.println(&quot;Thank you! The numbers selected were: &quot;);\r\n    Set&lt;Integer&gt; numbers = new HashSet&lt;&gt;();\r\n    for(int i = 0; i &lt; times; i++) {\r\n      lotNum = 0;\r\n      for(int j = 0; j &lt; game; j++) {\r\n        do {\r\n          randNum = (new java.util.Random()).nextInt(10);\r\n        } while (numbers.contains(randNum));\r\n        numbers.add(randNum);\r\n        lotNum = (lotNum * 10) + randNum;\r\n        System.out.print(randNum);\r\n        sum += randNum;\r\n      }\r\n      numbers.clear();\r\n      System.out.println();\r\n    }\r\n\r\nI am not sure in what scope you want the numbers to be unique so maybe you have to pull the creation of the set inside the outer loop - or just call number.clear() when you want to reset it.","title":"java: input.next no longer accepting user input","body":"<p>You can use a Set to store numbers you already got and then redraw until you get a number that is not in the Set.</p>\n\n<pre><code>System.out.println(\"Thank you! The numbers selected were: \");\nSet&lt;Integer&gt; numbers = new HashSet&lt;&gt;();\nfor(int i = 0; i &lt; times; i++) {\n  lotNum = 0;\n  for(int j = 0; j &lt; game; j++) {\n    do {\n      randNum = (new java.util.Random()).nextInt(10);\n    } while (numbers.contains(randNum));\n    numbers.add(randNum);\n    lotNum = (lotNum * 10) + randNum;\n    System.out.print(randNum);\n    sum += randNum;\n  }\n  numbers.clear();\n  System.out.println();\n}\n</code></pre>\n\n<p>I am not sure in what scope you want the numbers to be unique so maybe you have to pull the creation of the set inside the outer loop - or just call number.clear() when you want to reset it.</p>\n"},{"tags":[],"owner":{"account_id":7764491,"reputation":67,"user_id":5876076,"accept_rate":40,"display_name":"3monkeys1gorilla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454564258,"creation_date":1454564258,"answer_id":35193277,"question_id":35168933,"body_markdown":"so i finally fixed it and got it to work exactly the way i wanted\r\nsee below:\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n    public class JesseSabatinihw2 {\r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n            char lottoGameSelection; // user inputs whether or not they want to play the Lottery Game\r\n            int game; // user input of game 3, 4, or 5 as integer\r\n            int times; // user input of times game is played as integer\r\n            int randNum; // random number generator creates an integer\r\n            int lotNum; //lottery number generated as an integer\r\n            int sum = 0; // initializing the sum of all integers as 0 to start with\r\n\r\n            System.out.println(&quot;Do you wish to make lottery game selections? Press Y or y for yes and N or n for no.&quot;);\r\n            char a = input.next().trim().charAt(0);\r\n            if(a == &#39;Y&#39; || a == &#39;y&#39;) {       \r\n                System.out.println(&quot;Which lottery game do you want to play!&quot;);\r\n                System.out.println(&quot;Enter 3 for Pick 3&quot;);\r\n                System.out.println(&quot;Enter 4 for Pick 4&quot;);\r\n                System.out.println(&quot;Enter 5 for Pick 5&quot;);\r\n                game = input.nextInt();\r\n\r\n                System.out.print(&quot;How many games would you like to play? &quot;);\r\n                times = input.nextInt();\r\n                System.out.println(&quot;Thank you! The numbers selected were: &quot;);\r\n                // generates random lottery number specific to the chosen game 3, 4, or 5 numbers per games specified by user input\r\n                Set&lt;Integer&gt; numbers = new HashSet&lt;&gt;();\r\n                for(int i = 0; i &lt; times; i++) {\r\n                    lotNum = 0;\r\n                    for(int j = 0; j &lt; game; j++) {\r\n                        do {\r\n                            randNum = (new java.util.Random()).nextInt(10); // calls on the java.util.Random class to randomly select number for game\r\n                        // prevents the generation of duplicate numbers per game\r\n                        } while (numbers.contains(randNum));\r\n                        numbers.add(randNum);\r\n                        lotNum = (lotNum * 10) + randNum; // selects random integers 0 - 9\r\n                        System.out.print(randNum); // prints randomly generated number\r\n                        sum += randNum; // adds all random numbers generated\r\n                    }\r\n                    numbers.clear(); // refreshes the number generator preventing duplication of numbers and preventing the code to stop if all int 0-9 are used previously\r\n                    System.out.println(); // prints each game on it&#39;s own line\r\n                }\r\n                System.out.println(&quot;Sum of the numbers of all games: &quot; + sum); //prints the total of all randomly generated lottery numbers\r\n            } else {\r\n                 if (a == &#39;N&#39; || a == &#39;n&#39;); {\r\n                    System.exit(0);\r\n                }\r\n            }\r\n        }\r\n    }","title":"java: input.next no longer accepting user input","body":"<p>so i finally fixed it and got it to work exactly the way i wanted\nsee below:</p>\n\n<pre><code>import java.util.*;\nimport java.io.*;\npublic class JesseSabatinihw2 {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        char lottoGameSelection; // user inputs whether or not they want to play the Lottery Game\n        int game; // user input of game 3, 4, or 5 as integer\n        int times; // user input of times game is played as integer\n        int randNum; // random number generator creates an integer\n        int lotNum; //lottery number generated as an integer\n        int sum = 0; // initializing the sum of all integers as 0 to start with\n\n        System.out.println(\"Do you wish to make lottery game selections? Press Y or y for yes and N or n for no.\");\n        char a = input.next().trim().charAt(0);\n        if(a == 'Y' || a == 'y') {       \n            System.out.println(\"Which lottery game do you want to play!\");\n            System.out.println(\"Enter 3 for Pick 3\");\n            System.out.println(\"Enter 4 for Pick 4\");\n            System.out.println(\"Enter 5 for Pick 5\");\n            game = input.nextInt();\n\n            System.out.print(\"How many games would you like to play? \");\n            times = input.nextInt();\n            System.out.println(\"Thank you! The numbers selected were: \");\n            // generates random lottery number specific to the chosen game 3, 4, or 5 numbers per games specified by user input\n            Set&lt;Integer&gt; numbers = new HashSet&lt;&gt;();\n            for(int i = 0; i &lt; times; i++) {\n                lotNum = 0;\n                for(int j = 0; j &lt; game; j++) {\n                    do {\n                        randNum = (new java.util.Random()).nextInt(10); // calls on the java.util.Random class to randomly select number for game\n                    // prevents the generation of duplicate numbers per game\n                    } while (numbers.contains(randNum));\n                    numbers.add(randNum);\n                    lotNum = (lotNum * 10) + randNum; // selects random integers 0 - 9\n                    System.out.print(randNum); // prints randomly generated number\n                    sum += randNum; // adds all random numbers generated\n                }\n                numbers.clear(); // refreshes the number generator preventing duplication of numbers and preventing the code to stop if all int 0-9 are used previously\n                System.out.println(); // prints each game on it's own line\n            }\n            System.out.println(\"Sum of the numbers of all games: \" + sum); //prints the total of all randomly generated lottery numbers\n        } else {\n             if (a == 'N' || a == 'n'); {\n                System.exit(0);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7764491,"reputation":67,"user_id":5876076,"accept_rate":40,"display_name":"3monkeys1gorilla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":35169054,"answer_count":2,"score":-2,"last_activity_date":1684969235,"creation_date":1454476194,"question_id":35168933,"body_markdown":"i fixed most of the new issues but now im getting an empty character literal and unclosed character literal error on line:    char a = input.next(&#39;&#39;);\r\n\r\nBelow is my new code but im not entirely sure how to fix this error.\r\n \r\n    import java.util.*;\r\n    import java.io.BufferedReader;\r\n    public class JesseSabatinihw {\r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n    \t\tchar lottoGameSelection; // user inputs whether or not they want to play the Lottery Game\r\n            int game; // user input of game 3, 4, or 5 as integer\r\n            int times; // user input of times game is played as integer\r\n            int randNum; // random number generator creates an integer\r\n            int lotNum; //lottery number generated as an integer\r\n            int sum = 0; // initializing the sum of all integers as 0 to start with\r\n\t\t\r\n\t\t    System.out.println(&quot;Do you wish to make lottery game selections?&quot;);\r\n\t\t    char a = input.next(&#39;&#39;);\r\n\t\t    if(a == &#39;Y&#39; || a ==&#39;y&#39;) {\t\t\r\n\t\t\t    System.out.println(&quot;Which lottery game do you want to play!&quot;);\r\n\t\t\t    System.out.println(&quot;Enter 3 for Pick 3&quot;);\r\n\t\t\t    System.out.println(&quot;Enter 4 for Pick 4&quot;);\r\n\t\t\t    System.out.println(&quot;Enter 5 for Pick 5&quot;);\r\n\t\t\t    game = input.nextInt();\r\n\r\n\t\t\t    System.out.print(&quot;How many games would you like to play? &quot;);\r\n\t\t\t    times = input.nextInt();\r\n\t\t\t    System.out.println(&quot;Thank you! The numbers selected were: &quot;);\r\n\t\t\t    // generates random lottery number specific to the chosen game 3, 4, or 5 numbers per games specified by user input\r\n\t\t\t    Set&lt;Integer&gt; numbers = new HashSet&lt;&gt;();\r\n\t\t\t    for(int i = 0; i &lt; times; i++) {\r\n\t\t\t\t    lotNum = 0;\r\n\t\t\t\t    for(int j = 0; j &lt; game; j++) {\r\n\t\t\t\t\t    do {\r\n\t\t\t\t\t\t    randNum = (new java.util.Random()).nextInt(10); // calls on the java.util.Random class to randomly select number for game\r\n\t\t\t\t\t    // prevents the generation of duplicate numbers per game\r\n\t\t\t\t\t    } while (numbers.contains(randNum));\r\n\t\t\t\t\t    numbers.add(randNum);\r\n\t\t\t\t\t    lotNum = (lotNum * 10) + randNum; // selects random integers 0 - 9\r\n\t\t\t\t\t    System.out.print(randNum); // prints randomly generated number\r\n\t\t\t\t\t    sum += randNum; // adds all random numbers generated\r\n\t\t\t\t    }\r\n\t\t\t\t    numbers.clear(); // refreshes the number generator preventing duplication of numbers and preventing the code to stop if all int 0-9 are used previously\r\n\t\t\t\t    System.out.println(); // prints each game on it&#39;s own line\r\n\t\t\t    }\r\n\t\t\t    System.out.println(&quot;Sum of the numbers of all games: &quot; + sum); //prints the total of all randomly generated lottery numbers\r\n\t\t    } else {\r\n\t\t\t    if (a == &#39;N&#39; || a == &#39;n&#39;); {\r\n\t\t\t\t    System.exit(0);\r\n\t\t\t    }\r\n\t\t    }\r\n\t    }\r\n    }","title":"java: input.next no longer accepting user input","body":"<p>i fixed most of the new issues but now im getting an empty character literal and unclosed character literal error on line:    char a = input.next('');</p>\n\n<p>Below is my new code but im not entirely sure how to fix this error.</p>\n\n<pre><code>import java.util.*;\nimport java.io.BufferedReader;\npublic class JesseSabatinihw {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        char lottoGameSelection; // user inputs whether or not they want to play the Lottery Game\n        int game; // user input of game 3, 4, or 5 as integer\n        int times; // user input of times game is played as integer\n        int randNum; // random number generator creates an integer\n        int lotNum; //lottery number generated as an integer\n        int sum = 0; // initializing the sum of all integers as 0 to start with\n\n        System.out.println(\"Do you wish to make lottery game selections?\");\n        char a = input.next('');\n        if(a == 'Y' || a =='y') {       \n            System.out.println(\"Which lottery game do you want to play!\");\n            System.out.println(\"Enter 3 for Pick 3\");\n            System.out.println(\"Enter 4 for Pick 4\");\n            System.out.println(\"Enter 5 for Pick 5\");\n            game = input.nextInt();\n\n            System.out.print(\"How many games would you like to play? \");\n            times = input.nextInt();\n            System.out.println(\"Thank you! The numbers selected were: \");\n            // generates random lottery number specific to the chosen game 3, 4, or 5 numbers per games specified by user input\n            Set&lt;Integer&gt; numbers = new HashSet&lt;&gt;();\n            for(int i = 0; i &lt; times; i++) {\n                lotNum = 0;\n                for(int j = 0; j &lt; game; j++) {\n                    do {\n                        randNum = (new java.util.Random()).nextInt(10); // calls on the java.util.Random class to randomly select number for game\n                    // prevents the generation of duplicate numbers per game\n                    } while (numbers.contains(randNum));\n                    numbers.add(randNum);\n                    lotNum = (lotNum * 10) + randNum; // selects random integers 0 - 9\n                    System.out.print(randNum); // prints randomly generated number\n                    sum += randNum; // adds all random numbers generated\n                }\n                numbers.clear(); // refreshes the number generator preventing duplication of numbers and preventing the code to stop if all int 0-9 are used previously\n                System.out.println(); // prints each game on it's own line\n            }\n            System.out.println(\"Sum of the numbers of all games: \" + sum); //prints the total of all randomly generated lottery numbers\n        } else {\n            if (a == 'N' || a == 'n'); {\n                System.exit(0);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","arraylist","iterator"],"comments":[{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":3,"creation_date":1367006230,"post_id":16244205,"comment_id":23240012,"body_markdown":"Love your subtil infinite loop in `getNextCard()` !","body":"Love your subtil infinite loop in <code>getNextCard()</code> !"},{"owner":{"account_id":82638,"reputation":1773,"user_id":232196,"accept_rate":94,"display_name":"Dan"},"score":0,"creation_date":1367006278,"post_id":16244205,"comment_id":23240032,"body_markdown":"looks like you&#39;re getting a new iterator each time","body":"looks like you&#39;re getting a new iterator each time"}],"answers":[{"tags":[],"owner":{"account_id":971666,"reputation":8005,"user_id":994125,"display_name":"Laf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1367007275,"creation_date":1367006277,"answer_id":16244265,"question_id":16244205,"body_markdown":"You always get the first card because you are creating a new iterator each time you call the `getNextCard ()` method. The line\r\n\r\n    next = cards.listIterator().next();\r\n    \r\nwill always create a new iterator. What you want to do would look like (assuming you want to create a new `ListIterator` instance each time you have reached the last card of the deck):\r\n\r\n    private ListIterator&lt;Card&gt; myIterator = null;\r\n    \r\n    public Card getNextCard() {\r\n        if (myIterator == null || !myIterator.hasNext ()) {\r\n            myIterator = cards.listIterator ();\r\n        }\r\n    \r\n        return myIterator.next(); \r\n    }","title":"Using next() to call next iteration of ArrayList","body":"<p>You always get the first card because you are creating a new iterator each time you call the <code>getNextCard ()</code> method. The line</p>\n\n<pre><code>next = cards.listIterator().next();\n</code></pre>\n\n<p>will always create a new iterator. What you want to do would look like (assuming you want to create a new <code>ListIterator</code> instance each time you have reached the last card of the deck):</p>\n\n<pre><code>private ListIterator&lt;Card&gt; myIterator = null;\n\npublic Card getNextCard() {\n    if (myIterator == null || !myIterator.hasNext ()) {\n        myIterator = cards.listIterator ();\n    }\n\n    return myIterator.next(); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1367006279,"creation_date":1367006279,"answer_id":16244266,"question_id":16244205,"body_markdown":"You need to save the iterator returned by `cards.listIterator()`.\r\n\r\nYour code creates a new one each time, meaning you always get the first element.","title":"Using next() to call next iteration of ArrayList","body":"<p>You need to save the iterator returned by <code>cards.listIterator()</code>.</p>\n\n<p>Your code creates a new one each time, meaning you always get the first element.</p>\n"},{"tags":[],"owner":{"account_id":1300353,"reputation":512,"user_id":1250418,"accept_rate":75,"display_name":"mdierker"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1367006918,"creation_date":1367006918,"answer_id":16244419,"question_id":16244205,"body_markdown":"In your `getNextCard()` method, you&#39;re creating an iterator every time it&#39;s called. Iterators always start at index 0 (although there is a `listIterator(index)` method), but you shouldn&#39;t need it.\r\n\r\n**Option 1:** Keep track of the iterator, and use the same iterator each time. However, this has an important shortcoming not pointed out by anyone else yet. From the Javadoc:\r\n\r\n&gt; The iterators returned by this class&#39;s `iterator` and `listIterator` methods are fail-fast: if the list is structurally modified at any time after the iterator is created, in any way except through the iterator&#39;s own remove or add methods, the iterator will throw a `ConcurrentModificationException`. \r\n\r\nTranslation: If you modify the list in any way outside of the iterator (say, by adding a card to the end of the list), then your iterator breaks. This leads us to option 2:\r\n\r\n**Option 2:** Keep a counter of the index you returned last, and simply return that each time. Something like:\r\n\r\n    public class Deck {\r\n\r\n    public ArrayList&lt;Card&gt; cards = new ArrayList&lt;&gt;();\r\n    Card next;\r\n    int currentCardIndex = -1;\r\n\r\n    /* The initialization stuff you have above */\r\n\r\n    public Card getNextCard() {\r\n\r\n        currentCardIndex++;\r\n\r\n        // If we&#39;re at the end, go back to the beginning\r\n        if (currentCardIndex &gt;= cards.size()) {\r\n            currentCardIndex = 0;\r\n        }\r\n\r\n        return (next = cards.get(currentCardIndex));\r\n    }\r\n\r\nAnd finally **Option 3: (not advised)**: If you really wanted to, you could catch the `ConcurrentModificationException` and generate a new iterator at that point, but there&#39;s not really a reason to unless you need some iterator-specific feature. (The `get()` call is just as fast as an interator - both are constant time).","title":"Using next() to call next iteration of ArrayList","body":"<p>In your <code>getNextCard()</code> method, you're creating an iterator every time it's called. Iterators always start at index 0 (although there is a <code>listIterator(index)</code> method), but you shouldn't need it.</p>\n\n<p><strong>Option 1:</strong> Keep track of the iterator, and use the same iterator each time. However, this has an important shortcoming not pointed out by anyone else yet. From the Javadoc:</p>\n\n<blockquote>\n  <p>The iterators returned by this class's <code>iterator</code> and <code>listIterator</code> methods are fail-fast: if the list is structurally modified at any time after the iterator is created, in any way except through the iterator's own remove or add methods, the iterator will throw a <code>ConcurrentModificationException</code>. </p>\n</blockquote>\n\n<p>Translation: If you modify the list in any way outside of the iterator (say, by adding a card to the end of the list), then your iterator breaks. This leads us to option 2:</p>\n\n<p><strong>Option 2:</strong> Keep a counter of the index you returned last, and simply return that each time. Something like:</p>\n\n<pre><code>public class Deck {\n\npublic ArrayList&lt;Card&gt; cards = new ArrayList&lt;&gt;();\nCard next;\nint currentCardIndex = -1;\n\n/* The initialization stuff you have above */\n\npublic Card getNextCard() {\n\n    currentCardIndex++;\n\n    // If we're at the end, go back to the beginning\n    if (currentCardIndex &gt;= cards.size()) {\n        currentCardIndex = 0;\n    }\n\n    return (next = cards.get(currentCardIndex));\n}\n</code></pre>\n\n<p>And finally <strong>Option 3: (not advised)</strong>: If you really wanted to, you could catch the <code>ConcurrentModificationException</code> and generate a new iterator at that point, but there's not really a reason to unless you need some iterator-specific feature. (The <code>get()</code> call is just as fast as an interator - both are constant time).</p>\n"}],"owner":{"account_id":2660765,"reputation":53,"user_id":2300517,"accept_rate":50,"display_name":"ivanthemeh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19131,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":16244419,"answer_count":3,"score":2,"last_activity_date":1684969193,"creation_date":1367006031,"question_id":16244205,"body_markdown":"Having a little bit of trouble with the iterator next(). Can&#39;t seem to get it to work properly. I&#39;ve been working on this code for a while so I was thinking another set of eyes would help.\r\n\r\nThis is my deck class with creates a list of Card objects, I&#39;m trying to make a method to grab the next Card in the list starting with the first one:\r\n \r\n    package blackjack;\r\n    \r\n    import blackjack.Card.Rank;\r\n    import blackjack.Card.Suit;\r\n    import java.util.*;\r\n\r\n    public class Deck {\r\n    \r\n    public ArrayList&lt;Card&gt; cards = new ArrayList&lt;&gt;();\r\n    int i;\r\n    Card next;\r\n    \r\n    public Deck() {\r\n        initializeDeck();\r\n        \r\n    }\r\n    \r\n    public void printDeck() {\r\n        for (Card c: cards)\r\n            System.out.println(c);\r\n    }\r\n    \r\n    private void initializeDeck() {\r\n        for (Suit suit : Suit.values()) {\r\n            for (Rank rank : Rank.values()) {\r\n                cards.add(new Card(rank, suit));\r\n            }\r\n        }\r\n    }\r\n    \r\n    public Card getNextCard() {\r\n        if (cards.listIterator().hasNext() != true) {\r\n            getNextCard();\r\n        }\r\n        else {\r\n            next = cards.listIterator().next();\r\n        }\r\n          return next; \r\n    }\r\n    }\r\n    \r\nThis is my main class where I call the getNextCard() and what I&#39;m thinking it should do is print the first and then the next Card in the list but what it&#39;s doing is printing the first Card twice.\r\n\r\n    package blackjack;\r\n\r\n    import java.util.*;\r\n\r\n    public class BlackJack {\r\n    \r\n    public static void main(String[] args) {\r\n        Deck deck = new Deck();\r\n        System.out.println(deck.getNextCard());\r\n        System.out.println(deck.getNextCard());\r\n        }\r\n        \r\n    }\r\n\r\nThanks in advance for any help!\r\n\r\n\r\n    \r\n     ","title":"Using next() to call next iteration of ArrayList","body":"<p>Having a little bit of trouble with the iterator next(). Can't seem to get it to work properly. I've been working on this code for a while so I was thinking another set of eyes would help.</p>\n\n<p>This is my deck class with creates a list of Card objects, I'm trying to make a method to grab the next Card in the list starting with the first one:</p>\n\n<pre><code>package blackjack;\n\nimport blackjack.Card.Rank;\nimport blackjack.Card.Suit;\nimport java.util.*;\n\npublic class Deck {\n\npublic ArrayList&lt;Card&gt; cards = new ArrayList&lt;&gt;();\nint i;\nCard next;\n\npublic Deck() {\n    initializeDeck();\n\n}\n\npublic void printDeck() {\n    for (Card c: cards)\n        System.out.println(c);\n}\n\nprivate void initializeDeck() {\n    for (Suit suit : Suit.values()) {\n        for (Rank rank : Rank.values()) {\n            cards.add(new Card(rank, suit));\n        }\n    }\n}\n\npublic Card getNextCard() {\n    if (cards.listIterator().hasNext() != true) {\n        getNextCard();\n    }\n    else {\n        next = cards.listIterator().next();\n    }\n      return next; \n}\n}\n</code></pre>\n\n<p>This is my main class where I call the getNextCard() and what I'm thinking it should do is print the first and then the next Card in the list but what it's doing is printing the first Card twice.</p>\n\n<pre><code>package blackjack;\n\nimport java.util.*;\n\npublic class BlackJack {\n\npublic static void main(String[] args) {\n    Deck deck = new Deck();\n    System.out.println(deck.getNextCard());\n    System.out.println(deck.getNextCard());\n    }\n\n}\n</code></pre>\n\n<p>Thanks in advance for any help!</p>\n"},{"tags":["java","eclipse","debugging","breakpoints"],"answers":[{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1354906604,"creation_date":1354906604,"answer_id":13769284,"question_id":13769195,"body_markdown":"I believe that the class is compiled without debug information and/or the byte code is obfuscated. ","title":"Why I can&#39;t set a breakpoint in some of the Java source file (readonly source of plugin jar) in eclipse?","body":"<p>I believe that the class is compiled without debug information and/or the byte code is obfuscated. </p>\n"},{"tags":[],"owner":{"account_id":2853315,"reputation":1,"user_id":2450028,"display_name":"user2450028"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1386795689,"creation_date":1370313955,"answer_id":16909047,"question_id":13769195,"body_markdown":"1. Download java source code from open source website, the file&#39;s form is `XXX.zip`, not `XXX.jar`.\r\n2. Build path --&gt;c onfigure build path, enter the page, choose libraries, and open a jar file, find &quot;Source attachment&quot;, and choose it, you can find a button is named &quot;Edit&quot; on the right, click it, and type the `xxx.zip` what you downloaded path into it.\r\n3. back to your debug page, continue your work\r\n\r\nGood luck! I hope my answer can help you.","title":"Why I can&#39;t set a breakpoint in some of the Java source file (readonly source of plugin jar) in eclipse?","body":"<ol>\n<li>Download java source code from open source website, the file's form is <code>XXX.zip</code>, not <code>XXX.jar</code>.</li>\n<li>Build path -->c onfigure build path, enter the page, choose libraries, and open a jar file, find \"Source attachment\", and choose it, you can find a button is named \"Edit\" on the right, click it, and type the <code>xxx.zip</code> what you downloaded path into it.</li>\n<li>back to your debug page, continue your work</li>\n</ol>\n\n<p>Good luck! I hope my answer can help you.</p>\n"},{"tags":[],"owner":{"account_id":6645241,"reputation":102,"user_id":5129601,"display_name":"Djinn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684968546,"creation_date":1684968546,"answer_id":76327862,"question_id":13769195,"body_markdown":"I had the same kind of problem today, but figured it out.\r\nI was debugging my project like I normally do, as a Remote Java Application. In the Debug Configuration&#39;s Source Lookup Path, I had added the folder containing the source code of a JAR referenced by my project - this lets Eclipse know where to find the source code when debugging classes in the JAR.\r\n\r\nIn the Eclipse Project Explorer under &quot;Referenced Libraries&quot;, I expanded the JAR to the class I wanted to debug and double-clicked it. This opens a source window for the class. Note that this window&#39;s tab shows the file with extension &quot;.class&quot; and a &quot;010&quot; file icon.  You can set breakpoints in this window.\r\n\r\nWhen one of the breakpoints is hit, Eclipse opens another source window for the same class! Both windows show the same source code content but they have different functionality.  This window&#39;s tab shows the file with extension &quot;.java&quot; and a hollow &quot;J&quot; file icon. Per the &lt;a href=&quot;https://help.eclipse.org/latest/index.jsp?topic=/org.eclipse.jdt.doc.user/reference/ref-icons.htm&quot;&gt;Eclipse Help&lt;/a&gt;, this file icon indicates &quot;Java file which is not on a build path&quot;. This is the window where you can step through the code. But setting a breakpoint in this window does not work. When I try to set a breakpoint here, no error is shown but the breakpoint simply isn&#39;t added.  I have to instead set the breakpoints in the &quot;.class&quot; window.\r\n\r\nIn the screenshots that were posted for this question, one can see the different file icons. The file selected in the first screenshot has a &quot;010&quot; file icon indicating it is the class file. The file selected in the 2nd screenshot has the hollow &quot;J&quot; file icon.\r\n\r\nAnother way to distinguish the two windows is when you hover the mouse over the tabs - the .class file window shows the class name without an extension, and the other window shows the file name with the full path and &quot;.java&quot; extension.","title":"Why I can&#39;t set a breakpoint in some of the Java source file (readonly source of plugin jar) in eclipse?","body":"<p>I had the same kind of problem today, but figured it out.\nI was debugging my project like I normally do, as a Remote Java Application. In the Debug Configuration's Source Lookup Path, I had added the folder containing the source code of a JAR referenced by my project - this lets Eclipse know where to find the source code when debugging classes in the JAR.</p>\n<p>In the Eclipse Project Explorer under &quot;Referenced Libraries&quot;, I expanded the JAR to the class I wanted to debug and double-clicked it. This opens a source window for the class. Note that this window's tab shows the file with extension &quot;.class&quot; and a &quot;010&quot; file icon.  You can set breakpoints in this window.</p>\n<p>When one of the breakpoints is hit, Eclipse opens another source window for the same class! Both windows show the same source code content but they have different functionality.  This window's tab shows the file with extension &quot;.java&quot; and a hollow &quot;J&quot; file icon. Per the <a href=\"https://help.eclipse.org/latest/index.jsp?topic=/org.eclipse.jdt.doc.user/reference/ref-icons.htm\" rel=\"nofollow noreferrer\">Eclipse Help</a>, this file icon indicates &quot;Java file which is not on a build path&quot;. This is the window where you can step through the code. But setting a breakpoint in this window does not work. When I try to set a breakpoint here, no error is shown but the breakpoint simply isn't added.  I have to instead set the breakpoints in the &quot;.class&quot; window.</p>\n<p>In the screenshots that were posted for this question, one can see the different file icons. The file selected in the first screenshot has a &quot;010&quot; file icon indicating it is the class file. The file selected in the 2nd screenshot has the hollow &quot;J&quot; file icon.</p>\n<p>Another way to distinguish the two windows is when you hover the mouse over the tabs - the .class file window shows the class name without an extension, and the other window shows the file name with the full path and &quot;.java&quot; extension.</p>\n"}],"owner":{"account_id":95531,"reputation":184355,"user_id":260127,"accept_rate":93,"display_name":"prosseek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5253,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1684968546,"creation_date":1354906246,"question_id":13769195,"body_markdown":"I&#39;m tracing into eclipse LTK plugin. I could set a breakpoint in some of the readonly java source for LTK. (for example ProcessorBasedRefactoring.java)\n\n![enter image description here][1]\n\nHowever, I couldn&#39;t set a breakpoint in some source files. (for example JavaRenameProcessor).\n\n![enter image description here][2]\n\nWhen I tried to set a method breakpoint, I got &quot;Cannot create method breakpoint, method signature not available.&quot; error message. \n\nWhat might be wrong? Why I can&#39;t set a breakpoint in some of the (binary) Java source file? \n![enter image description here][3]\n\n## ADDED:\nFor a simple workaround to this issue, I just set a breakpoint wherever possible, and then open the java source to click a line. Then, I can use command-R so that eclipse executes up to the line that I point to. \n\n## ADDED2:\nThe breakpoint was there, but eclipse doesn&#39;t show it. \n\n![enter image description here][4]\n\nThe other thing that I noticed was that the java file, just disappears from the IDE when I restart the debugger. And even when I reopen it in eclipse. \n![enter image description here][5]\n\nI got this error message - &quot;zip file closed&quot;. \n![enter image description here][6]\n\nAnd then I can see the source code only when I trace into the method that the java source contains. \n\n  [1]: http://i.stack.imgur.com/2eAUw.png\n  [2]: http://i.stack.imgur.com/42Iut.png\n  [3]: http://i.stack.imgur.com/aNKJI.png\n  [4]: http://i.stack.imgur.com/fdHLF.jpg\n  [5]: http://i.stack.imgur.com/Z5yiv.png\n  [6]: http://i.stack.imgur.com/ErScm.png","title":"Why I can&#39;t set a breakpoint in some of the Java source file (readonly source of plugin jar) in eclipse?","body":"<p>I'm tracing into eclipse LTK plugin. I could set a breakpoint in some of the readonly java source for LTK. (for example ProcessorBasedRefactoring.java)</p>\n<p><img src=\"https://i.stack.imgur.com/2eAUw.png\" alt=\"enter image description here\" /></p>\n<p>However, I couldn't set a breakpoint in some source files. (for example JavaRenameProcessor).</p>\n<p><img src=\"https://i.stack.imgur.com/42Iut.png\" alt=\"enter image description here\" /></p>\n<p>When I tried to set a method breakpoint, I got &quot;Cannot create method breakpoint, method signature not available.&quot; error message.</p>\n<p>What might be wrong? Why I can't set a breakpoint in some of the (binary) Java source file?\n<img src=\"https://i.stack.imgur.com/aNKJI.png\" alt=\"enter image description here\" /></p>\n<h2>ADDED:</h2>\n<p>For a simple workaround to this issue, I just set a breakpoint wherever possible, and then open the java source to click a line. Then, I can use command-R so that eclipse executes up to the line that I point to.</p>\n<h2>ADDED2:</h2>\n<p>The breakpoint was there, but eclipse doesn't show it.</p>\n<p><img src=\"https://i.stack.imgur.com/fdHLF.jpg\" alt=\"enter image description here\" /></p>\n<p>The other thing that I noticed was that the java file, just disappears from the IDE when I restart the debugger. And even when I reopen it in eclipse.\n<img src=\"https://i.stack.imgur.com/Z5yiv.png\" alt=\"enter image description here\" /></p>\n<p>I got this error message - &quot;zip file closed&quot;.\n<img src=\"https://i.stack.imgur.com/ErScm.png\" alt=\"enter image description here\" /></p>\n<p>And then I can see the source code only when I trace into the method that the java source contains.</p>\n"},{"tags":["java","spring","spring-boot","application.properties"],"comments":[{"owner":{"account_id":6365827,"reputation":3652,"user_id":4939853,"accept_rate":69,"display_name":"Oreste Viron"},"score":0,"creation_date":1534836612,"post_id":51943584,"comment_id":90836844,"body_markdown":"Have you checked the value of ${spring.profiles.active} ?","body":"Have you checked the value of ${spring.profiles.active} ?"},{"owner":{"account_id":460364,"reputation":1532,"user_id":861403,"accept_rate":100,"display_name":"MystyxMac"},"score":0,"creation_date":1534836706,"post_id":51943584,"comment_id":90836898,"body_markdown":"Check the answer from question: https://stackoverflow.com/questions/32196451/environment-specific-application-properties-file-in-spring-boot-application","body":"Check the answer from question: <a href=\"https://stackoverflow.com/questions/32196451/environment-specific-application-properties-file-in-spring-boot-application\" title=\"environment specific application properties file in spring boot application\">stackoverflow.com/questions/32196451/&hellip;</a>"},{"owner":{"account_id":1987167,"reputation":982,"user_id":1782056,"accept_rate":57,"display_name":"Abdul"},"score":0,"creation_date":1534837675,"post_id":51943584,"comment_id":90837416,"body_markdown":"-Dspring.profiles.active=TEST while starting your application pass the parameter","body":"-Dspring.profiles.active=TEST while starting your application pass the parameter"},{"owner":{"account_id":2669455,"reputation":185,"user_id":2307155,"accept_rate":60,"display_name":"user2307155"},"score":0,"creation_date":1534842853,"post_id":51943584,"comment_id":90840067,"body_markdown":"@OresteViron in application.properties i had defined spring.profiles.active=TEST","body":"@OresteViron in application.properties i had defined spring.profiles.active=TEST"},{"owner":{"account_id":2669455,"reputation":185,"user_id":2307155,"accept_rate":60,"display_name":"user2307155"},"score":0,"creation_date":1534843002,"post_id":51943584,"comment_id":90840152,"body_markdown":"@Abdul how can i pass -Dspring.profiles.active=TEST i am deploying my application to jboss i am not running from command line could you please tell me where can i give the parameter","body":"@Abdul how can i pass -Dspring.profiles.active=TEST i am deploying my application to jboss i am not running from command line could you please tell me where can i give the parameter"},{"owner":{"account_id":6365827,"reputation":3652,"user_id":4939853,"accept_rate":69,"display_name":"Oreste Viron"},"score":0,"creation_date":1534843113,"post_id":51943584,"comment_id":90840213,"body_markdown":"Try to log the value of ${spring.profiles.active}. I suspect there is more than one active profile. So it doesn&#39;t load the right config file.","body":"Try to log the value of ${spring.profiles.active}. I suspect there is more than one active profile. So it doesn&#39;t load the right config file."},{"owner":{"account_id":2669455,"reputation":185,"user_id":2307155,"accept_rate":60,"display_name":"user2307155"},"score":0,"creation_date":1534844713,"post_id":51943584,"comment_id":90841115,"body_markdown":"@OresteViron i tried logging the parameter it is showing only TEST as active profile. I also tried replacing spring.profiles.active with test.profile(i had added one test.profile=TEST in application.properties file). still i am seeing the same error","body":"@OresteViron i tried logging the parameter it is showing only TEST as active profile. I also tried replacing spring.profiles.active with test.profile(i had added one test.profile=TEST in application.properties file). still i am seeing the same error"},{"owner":{"account_id":2669455,"reputation":185,"user_id":2307155,"accept_rate":60,"display_name":"user2307155"},"score":0,"creation_date":1534851927,"post_id":51943584,"comment_id":90845323,"body_markdown":"while building i am not seeing this issue i could see only when i running the code it propbably while running it is unable to read the value","body":"while building i am not seeing this issue i could see only when i running the code it propbably while running it is unable to read the value"}],"answers":[{"tags":[],"owner":{"account_id":14141246,"reputation":592,"user_id":10215959,"display_name":"Mahdi Rajabi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534837239,"creation_date":1534836601,"answer_id":51943664,"question_id":51943584,"body_markdown":"You can not use properties like `${spring.profiles.active}` inside string value of Type annotation in spring. such properties would be injected into annotations like `@Value` which are for properties or methods.  ","title":"Could not resolve placeholder &#39;spring.profiles.active&#39; in value &quot;classpath:/ldap-${spring.profiles.active}.properties&quot;","body":"<p>You can not use properties like <code>${spring.profiles.active}</code> inside string value of Type annotation in spring. such properties would be injected into annotations like <code>@Value</code> which are for properties or methods.  </p>\n"},{"tags":[],"owner":{"account_id":2322061,"reputation":328,"user_id":2069806,"display_name":"KevinLH"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534838540,"creation_date":1534838540,"answer_id":51944213,"question_id":51943584,"body_markdown":"The value behind `spring.profiles.active` is actually an array. So even if the value was correctly expanded, there would be corner cases when it wouldn&#39;t work the way you want.\r\n\r\nIt&#39;d be nice if the paths configured via `@PropertySource` would work the same way the `application.properties|yml` does, but that is not the case at the moment (there is [an active issue on GitHub](https://github.com/spring-projects/spring-boot/issues/12822) about that). So alternatives have to be considered:\r\n\r\n 1. The simplest alternative would be to use the conventional files names `application.properties|yml` and `application-{profile}.properties|yml`. I do not see any good reason not to do it, but I do not know your project requirements so...\r\n 2. A bit more complicated, get the configured profiles using Java code, and configure the Spring environment programmatically. [See this SO answer for more details](https://stackoverflow.com/a/13309949/2069806).\r\n","title":"Could not resolve placeholder &#39;spring.profiles.active&#39; in value &quot;classpath:/ldap-${spring.profiles.active}.properties&quot;","body":"<p>The value behind <code>spring.profiles.active</code> is actually an array. So even if the value was correctly expanded, there would be corner cases when it wouldn't work the way you want.</p>\n\n<p>It'd be nice if the paths configured via <code>@PropertySource</code> would work the same way the <code>application.properties|yml</code> does, but that is not the case at the moment (there is <a href=\"https://github.com/spring-projects/spring-boot/issues/12822\" rel=\"nofollow noreferrer\">an active issue on GitHub</a> about that). So alternatives have to be considered:</p>\n\n<ol>\n<li>The simplest alternative would be to use the conventional files names <code>application.properties|yml</code> and <code>application-{profile}.properties|yml</code>. I do not see any good reason not to do it, but I do not know your project requirements so...</li>\n<li>A bit more complicated, get the configured profiles using Java code, and configure the Spring environment programmatically. <a href=\"https://stackoverflow.com/a/13309949/2069806\">See this SO answer for more details</a>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8091203,"reputation":2621,"user_id":6097074,"accept_rate":83,"display_name":"ankit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643942885,"creation_date":1643942885,"answer_id":70980872,"question_id":51943584,"body_markdown":"If you are running on local machine, then Just change property file name application-default.property for temporary immediate work.\r\n\r\nFor permanent solution you have to check that your project is running on docker or not:\r\n\r\nif running on docker then use below command:\r\n\r\n1. `mvn clean package -DskipTests=true &amp;&amp; sudo docker build`\r\n2. `sudo docker run -d -e spring.profiles.active=&quot;local&quot; -e &lt;other key and value of  bootstrap.property file&gt;`\r\n\r\nelse if running on cloud server then follow below steps:\r\n\r\n 1. in bootstrap.property file put `spring.profiles.active=local`\r\n 2. rename application file to `application-local.properties`\r\n\r\nyou can also refer:  `2.3.3. Profile Specific Files` part at [configuration document][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files.profile-specific","title":"Could not resolve placeholder &#39;spring.profiles.active&#39; in value &quot;classpath:/ldap-${spring.profiles.active}.properties&quot;","body":"<p>If you are running on local machine, then Just change property file name application-default.property for temporary immediate work.</p>\n<p>For permanent solution you have to check that your project is running on docker or not:</p>\n<p>if running on docker then use below command:</p>\n<ol>\n<li><code>mvn clean package -DskipTests=true &amp;&amp; sudo docker build</code></li>\n<li><code>sudo docker run -d -e spring.profiles.active=&quot;local&quot; -e &lt;other key and value of  bootstrap.property file&gt;</code></li>\n</ol>\n<p>else if running on cloud server then follow below steps:</p>\n<ol>\n<li>in bootstrap.property file put <code>spring.profiles.active=local</code></li>\n<li>rename application file to <code>application-local.properties</code></li>\n</ol>\n<p>you can also refer:  <code>2.3.3. Profile Specific Files</code> part at <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files.profile-specific\" rel=\"nofollow noreferrer\">configuration document</a></p>\n"},{"tags":[],"owner":{"account_id":4078402,"reputation":175,"user_id":3349427,"accept_rate":50,"display_name":"sergio.nava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684967683,"creation_date":1684967683,"answer_id":76327805,"question_id":51943584,"body_markdown":"I had the same problem while trying to test my Spring Boot application, this was my solution, taken from https://www.baeldung.com/spring-profiles#2-using-springprofilesactive\r\n\r\n  \r\n```\r\npublic class AppConfig {\r\n  @Value(&quot;${spring.profiles.active:test}&quot;)\r\n  private String activeProfile;\r\n}\r\n```\r\n```\r\n@SpringBootTest\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class TestingWebApplicationTest {\r\n  @Test\r\n  public void contextLoads() {\r\n  }\r\n}\r\n```","title":"Could not resolve placeholder &#39;spring.profiles.active&#39; in value &quot;classpath:/ldap-${spring.profiles.active}.properties&quot;","body":"<p>I had the same problem while trying to test my Spring Boot application, this was my solution, taken from <a href=\"https://www.baeldung.com/spring-profiles#2-using-springprofilesactive\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-profiles#2-using-springprofilesactive</a></p>\n<pre><code>public class AppConfig {\n  @Value(&quot;${spring.profiles.active:test}&quot;)\n  private String activeProfile;\n}\n</code></pre>\n<pre><code>@SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\npublic class TestingWebApplicationTest {\n  @Test\n  public void contextLoads() {\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2669455,"reputation":185,"user_id":2307155,"accept_rate":60,"display_name":"user2307155"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29300,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1684967683,"creation_date":1534836292,"question_id":51943584,"body_markdown":"I am trying read ldap properties from a `ldap-TEST.properties` file\r\nand trying to bind it to a java config class.for that i had specified\r\n`@PropertSource` and defined a static Bean for  propertysourcesplaceholderconfigurer.\r\nstill i am getting the Could not resolve placeholder `spring.profiles.active` in value **classpath:/ldap-${spring.profiles.active}.properties** below are project files please help me\r\n\r\n\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:/ldap-${spring.profiles.active}.properties&quot;)\r\n    public class LdapConfig { \r\n     @Autowired\r\n\t Environment env;\r\n\t@Bean\r\n\tpublic LdapContextSource contextSource() {\r\n\t\tLdapContextSource contextSource = new LdapContextSource();\r\n\t\tcontextSource.setUrl(env.getRequiredProperty(&quot;ldap.url&quot;));\r\n\t\tcontextSource.setBase(env.getRequiredProperty(&quot;ldap.base&quot;));\r\n\t\tcontextSource.setUserDn(env.getRequiredProperty(&quot;ldap.userDn&quot;));\r\n\t\tcontextSource.setPassword(env.getRequiredProperty(&quot;ldap.password&quot;));\r\n\t\tcontextSource.afterPropertiesSet();\r\n\t\treturn contextSource;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic LdapTemplate ldapTemplate() {\r\n\t\treturn new LdapTemplate(contextSource());\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\r\n\t    return new PropertySourcesPlaceholderConfigurer();\r\n\t}\r\n}\r\n\r\n\r\n\r\n    //ldap-TEST.properties file\r\n    ldap.base=dc=example,dc=com\r\n    ldap.password=password\r\n    ldap.port=839\r\n    ldap.userDn=cn=read-only-admin,dc=example,dc=com\r\n    ldap.url=ldap://ldap.forumsys.com:389\r\n\r\nmy main application\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n\t\r\n\t    public static void main(String[] args) {\r\n\t\t   SpringApplication.run(Application.class, args);\r\n\t }\r\n   }\r\n\r\n\r\n  ","title":"Could not resolve placeholder &#39;spring.profiles.active&#39; in value &quot;classpath:/ldap-${spring.profiles.active}.properties&quot;","body":"<p>I am trying read ldap properties from a <code>ldap-TEST.properties</code> file\nand trying to bind it to a java config class.for that i had specified\n<code>@PropertSource</code> and defined a static Bean for  propertysourcesplaceholderconfigurer.\nstill i am getting the Could not resolve placeholder <code>spring.profiles.active</code> in value <strong>classpath:/ldap-${spring.profiles.active}.properties</strong> below are project files please help me</p>\n<pre><code>@Configuration\n@PropertySource(&quot;classpath:/ldap-${spring.profiles.active}.properties&quot;)\npublic class LdapConfig { \n @Autowired\n Environment env;\n@Bean\npublic LdapContextSource contextSource() {\n    LdapContextSource contextSource = new LdapContextSource();\n    contextSource.setUrl(env.getRequiredProperty(&quot;ldap.url&quot;));\n    contextSource.setBase(env.getRequiredProperty(&quot;ldap.base&quot;));\n    contextSource.setUserDn(env.getRequiredProperty(&quot;ldap.userDn&quot;));\n    contextSource.setPassword(env.getRequiredProperty(&quot;ldap.password&quot;));\n    contextSource.afterPropertiesSet();\n    return contextSource;\n}\n\n@Bean\npublic LdapTemplate ldapTemplate() {\n    return new LdapTemplate(contextSource());\n}\n\n@Bean\npublic static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\n    return new PropertySourcesPlaceholderConfigurer();\n}\n</code></pre>\n<p>}</p>\n<pre><code>//ldap-TEST.properties file\nldap.base=dc=example,dc=com\nldap.password=password\nldap.port=839\nldap.userDn=cn=read-only-admin,dc=example,dc=com\nldap.url=ldap://ldap.forumsys.com:389\n</code></pre>\n<p>my main application</p>\n<pre><code>@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n       SpringApplication.run(Application.class, args);\n }\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","spring-boot","amazon-sqs","spring-messaging"],"answers":[{"tags":[],"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684967007,"creation_date":1684967007,"answer_id":76327760,"question_id":76267683,"body_markdown":"Not sure why, but once I switch the position of the  PayloadMethodArgumentResolver(myConverter(mapper)) and HeaderMethodArgumentResolver(null, null) in the list. The code start to work. Any one knows the reason? Please comment.","title":"SqsListener Header take message body instead message attribute","body":"<p>Not sure why, but once I switch the position of the  PayloadMethodArgumentResolver(myConverter(mapper)) and HeaderMethodArgumentResolver(null, null) in the list. The code start to work. Any one knows the reason? Please comment.</p>\n"}],"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684967007,"creation_date":1684279538,"question_id":76267683,"body_markdown":"I have code below to receive message and an attribute from the AWS SQS. The message body is as expected. However, the attribute &quot;sourceId&quot; is always taking the message body json as value. \r\n\r\n    @SqsListener(value = &quot;my_queue&quot;, deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS)\r\n    public void receive(MyEvent event, @Header(&quot;srcId&quot;) String srcId){\r\n        log.error(&quot;abc -&gt; &quot; + srcId);\r\n        ......\r\n    }\r\n\r\nBelow is what&#39;s in my configuration file\r\n\r\n    @Bean\r\n    public QueueMessagingTemplate queueMessagingTemplate(\r\n            AmazonSQSAsync amazonSQSAsync) {\r\n        return new QueueMessagingTemplate(amazonSQSAsync);\r\n    }\r\n    \r\n    @Bean\r\n    public QueueMessageHandlerFactory queueMessageHandlerFactory(\r\n            final ObjectMapper mapper, final AmazonSQSAsync amazonSQSAsync){\r\n    \r\n        final QueueMessageHandlerFactory factory = new QueueMessageHandlerFactory();\r\n        factory.setAmazonSqs(amazonSQSAsync);\r\n        factory.setArgumentResolvers(Arrays.asList(\r\n                        new PayloadMethodArgumentResolver(myConverter(mapper)),\r\n                        new HeaderMethodArgumentResolver(null, null)\r\n        ));\r\n        return factory;\r\n    }\r\n    \r\n    private MessageConverter myConverter(final ObjectMapper mapper){\r\n    \r\n        final MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n        converter.setObjectMapper(mapper);\r\n        return converter;\r\n    }   \r\n\r\nWhen I send the below aws cli comand\r\n\r\n    aws --endpoint-url=http://localhost:4566 sqs send-message  --queue-url http://localhost:4566/000000000000/my_queue  --message-body &#39;{ &quot;id&quot;: &quot;d8b636dc-dab3-73b9-50ed-606bdd92ba89&quot;, &quot;status&quot;: &quot;DISABLED&quot;}&#39;  --message-attributes &#39;{ &quot;srcId&quot;:{&quot;DataType&quot;:&quot;String&quot;,&quot;StringValue&quot;:&quot;val1&quot;}}&#39;\r\n\r\nThe logging from the code is as below, while I expect &quot;abc -&gt; val1&quot;\r\n\r\n    2023-05-16 16:09:23 2023-05-16 23:09:23.095 ERROR  --- c.c.messaging.SqsListeners       : abc -&gt; { &quot;id&quot;: &quot;d8b636dc-dab3-73b9-50ed-606bdd92ba89&quot;,&quot;status&quot;: &quot;DISABLED&quot;}\r\n\r\n\r\nPlease help!! Thanks.\r\n","title":"SqsListener Header take message body instead message attribute","body":"<p>I have code below to receive message and an attribute from the AWS SQS. The message body is as expected. However, the attribute &quot;sourceId&quot; is always taking the message body json as value.</p>\n<pre><code>@SqsListener(value = &quot;my_queue&quot;, deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS)\npublic void receive(MyEvent event, @Header(&quot;srcId&quot;) String srcId){\n    log.error(&quot;abc -&gt; &quot; + srcId);\n    ......\n}\n</code></pre>\n<p>Below is what's in my configuration file</p>\n<pre><code>@Bean\npublic QueueMessagingTemplate queueMessagingTemplate(\n        AmazonSQSAsync amazonSQSAsync) {\n    return new QueueMessagingTemplate(amazonSQSAsync);\n}\n\n@Bean\npublic QueueMessageHandlerFactory queueMessageHandlerFactory(\n        final ObjectMapper mapper, final AmazonSQSAsync amazonSQSAsync){\n\n    final QueueMessageHandlerFactory factory = new QueueMessageHandlerFactory();\n    factory.setAmazonSqs(amazonSQSAsync);\n    factory.setArgumentResolvers(Arrays.asList(\n                    new PayloadMethodArgumentResolver(myConverter(mapper)),\n                    new HeaderMethodArgumentResolver(null, null)\n    ));\n    return factory;\n}\n\nprivate MessageConverter myConverter(final ObjectMapper mapper){\n\n    final MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n    converter.setObjectMapper(mapper);\n    return converter;\n}   \n</code></pre>\n<p>When I send the below aws cli comand</p>\n<pre><code>aws --endpoint-url=http://localhost:4566 sqs send-message  --queue-url http://localhost:4566/000000000000/my_queue  --message-body '{ &quot;id&quot;: &quot;d8b636dc-dab3-73b9-50ed-606bdd92ba89&quot;, &quot;status&quot;: &quot;DISABLED&quot;}'  --message-attributes '{ &quot;srcId&quot;:{&quot;DataType&quot;:&quot;String&quot;,&quot;StringValue&quot;:&quot;val1&quot;}}'\n</code></pre>\n<p>The logging from the code is as below, while I expect &quot;abc -&gt; val1&quot;</p>\n<pre><code>2023-05-16 16:09:23 2023-05-16 23:09:23.095 ERROR  --- c.c.messaging.SqsListeners       : abc -&gt; { &quot;id&quot;: &quot;d8b636dc-dab3-73b9-50ed-606bdd92ba89&quot;,&quot;status&quot;: &quot;DISABLED&quot;}\n</code></pre>\n<p>Please help!! Thanks.</p>\n"},{"tags":["java","html","maven","selenium-webdriver","web-scraping"],"owner":{"account_id":28104898,"reputation":1,"user_id":21473662,"display_name":"Michael Sirakovich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684964694,"creation_date":1684964515,"question_id":76327589,"body_markdown":"I am doing now WhatsApp web scraping project using selenium in Java (only for educational purposes) ,and I am facing with a problem when I try to detect the double blue v mark after the double grey v mark.\r\nThe problem is that the message log shows a status message that the message got read by the target user even if it does not entered the conversation . It is strange because the method just ignores the third wait command while it differs between the  blue v mark and the regular one. \r\nAny help will be appreciated, thanks in advance!  \r\n\r\nHere is the essential code :\r\n\r\n private void checkMessageStatus() {\r\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(30));\r\n\r\n        try {\r\n            // Check if the message got one check mark (message delivered to the server)\r\n            wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(Constants.SINGLE_V_XPATH)));\r\n            SwingUtilities.invokeLater(() -&gt; {\r\n                messageLog.append(&quot;The message got one V.\\n&quot;);\r\n                messageLog.setCaretPosition(messageLog.getDocument().getLength());\r\n                messageLog.repaint();\r\n            });\r\n\r\n            // Check if the message got two check marks (message delivered to the recipient&#39;s phone)\r\n            wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(Constants.DOUBLE_V_XPATH)));\r\n            SwingUtilities.invokeLater(() -&gt; {\r\n                messageLog.append(&quot;The message got double V.\\n&quot;);\r\n                messageLog.setCaretPosition(messageLog.getDocument().getLength());\r\n                messageLog.repaint();\r\n            });\r\n\r\n            wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(Constants.DOUBLE_BLUE_V_XPATH)));\r\n            SwingUtilities.invokeLater(() -&gt; {\r\n                messageLog.append(&quot;The message got double blue V.\\n&quot;);\r\n                messageLog.setCaretPosition(messageLog.getDocument().getLength());\r\n                messageLog.repaint();\r\n            });\r\n\r\n            // Delay the execution of the next block of code\r\n            ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor();\r\n            scheduledExecutorService.schedule(() -&gt; {\r\n                // Close the browser\r\n                // driver.quit();\r\n            }, 5, TimeUnit.SECONDS);\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\nHere is the essential constants that represent the xPaths :\r\n public static final String SINGLE_V_XPATH = &quot;(//span[@data-icon=&#39;msg-check&#39;])[last()]&quot;;\r\n    public static final String DOUBLE_V_XPATH = &quot;(//span[@data-icon=&#39;msg-dblcheck&#39;])[last()]&quot;;\r\n    public static final String DOUBLE_BLUE_V_XPATH = &quot;(//span[@class=&#39;S7n_s&#39;])[last()]&quot;;\r\n","title":"How to detect double blue v mark over a regular double v mark in WhatsApp web site?","body":"<p>I am doing now WhatsApp web scraping project using selenium in Java (only for educational purposes) ,and I am facing with a problem when I try to detect the double blue v mark after the double grey v mark.\nThe problem is that the message log shows a status message that the message got read by the target user even if it does not entered the conversation . It is strange because the method just ignores the third wait command while it differs between the  blue v mark and the regular one.\nAny help will be appreciated, thanks in advance!</p>\n<p>Here is the essential code :</p>\n<p>private void checkMessageStatus() {\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(30));</p>\n<pre><code>    try {\n        // Check if the message got one check mark (message delivered to the server)\n        wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(Constants.SINGLE_V_XPATH)));\n        SwingUtilities.invokeLater(() -&gt; {\n            messageLog.append(&quot;The message got one V.\\n&quot;);\n            messageLog.setCaretPosition(messageLog.getDocument().getLength());\n            messageLog.repaint();\n        });\n\n        // Check if the message got two check marks (message delivered to the recipient's phone)\n        wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(Constants.DOUBLE_V_XPATH)));\n        SwingUtilities.invokeLater(() -&gt; {\n            messageLog.append(&quot;The message got double V.\\n&quot;);\n            messageLog.setCaretPosition(messageLog.getDocument().getLength());\n            messageLog.repaint();\n        });\n\n        wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(Constants.DOUBLE_BLUE_V_XPATH)));\n        SwingUtilities.invokeLater(() -&gt; {\n            messageLog.append(&quot;The message got double blue V.\\n&quot;);\n            messageLog.setCaretPosition(messageLog.getDocument().getLength());\n            messageLog.repaint();\n        });\n\n        // Delay the execution of the next block of code\n        ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor();\n        scheduledExecutorService.schedule(() -&gt; {\n            // Close the browser\n            // driver.quit();\n        }, 5, TimeUnit.SECONDS);\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Here is the essential constants that represent the xPaths :\npublic static final String SINGLE_V_XPATH = &quot;(//span[@data-icon='msg-check'])[last()]&quot;;\npublic static final String DOUBLE_V_XPATH = &quot;(//span[@data-icon='msg-dblcheck'])[last()]&quot;;\npublic static final String DOUBLE_BLUE_V_XPATH = &quot;(//span[@class='S7n_s'])[last()]&quot;;</p>\n"},{"tags":["java","maven-2","checkstyle"],"answers":[{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":2,"up_vote_count":57,"is_accepted":true,"score":55,"last_activity_date":1389176887,"creation_date":1267529426,"answer_id":2362753,"question_id":2362652,"body_markdown":"If this question is about Maven 2, then the property is [`excludes`][1] and takes a comma-separated list of Ant patterns. So either pass this on the command line:\r\n\r\n    -Dexcludes=**/generated/**/*\r\n\r\nOr set it up in the plugin configuration:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n       &lt;configuration&gt;\r\n           &lt;excludes&gt;**/generated/**/*&lt;/excludes&gt;\r\n       &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAnother option would be to use [a suppression filter][2]. \r\n\r\nFor example you could use the `SuppressionCommentFilter` to *suppress audit events between a comment containing `CHECKSTYLE:OFF` and a comment containing `CHECKSTYLE:ON`* (then just add these comments to the classes or parts of the code you don&#39;t want to check).\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-checkstyle-plugin/check-mojo.html#excludes\r\n  [2]: http://maven.apache.org/plugins/maven-checkstyle-plugin/examples/suppressions-filter.html","title":"Excluding classes in Maven Checkstyle plugin reports","body":"<p>If this question is about Maven 2, then the property is <a href=\"http://maven.apache.org/plugins/maven-checkstyle-plugin/check-mojo.html#excludes\" rel=\"noreferrer\"><code>excludes</code></a> and takes a comma-separated list of Ant patterns. So either pass this on the command line:</p>\n\n<pre><code>-Dexcludes=**/generated/**/*\n</code></pre>\n\n<p>Or set it up in the plugin configuration:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n   &lt;configuration&gt;\n       &lt;excludes&gt;**/generated/**/*&lt;/excludes&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Another option would be to use <a href=\"http://maven.apache.org/plugins/maven-checkstyle-plugin/examples/suppressions-filter.html\" rel=\"noreferrer\">a suppression filter</a>. </p>\n\n<p>For example you could use the <code>SuppressionCommentFilter</code> to <em>suppress audit events between a comment containing <code>CHECKSTYLE:OFF</code> and a comment containing <code>CHECKSTYLE:ON</code></em> (then just add these comments to the classes or parts of the code you don't want to check).</p>\n"},{"tags":[],"owner":{"account_id":31759,"reputation":2444,"user_id":87476,"accept_rate":83,"display_name":"Christer Fahlgren"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1389176856,"creation_date":1332283755,"answer_id":9796210,"question_id":2362652,"body_markdown":"Additionally, if you want to exclude **multiple** independent folders, you can add multiple independent paths comma separated like this\r\n\r\n&lt;!-- language: xml --&gt;\r\n    \r\n    &lt;excludes&gt;org/log4j/*,com/acme/**/*,com/companyb/*&lt;/excludes&gt;\r\n","title":"Excluding classes in Maven Checkstyle plugin reports","body":"<p>Additionally, if you want to exclude <strong>multiple</strong> independent folders, you can add multiple independent paths comma separated like this</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;excludes&gt;org/log4j/*,com/acme/**/*,com/companyb/*&lt;/excludes&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":309636,"reputation":2999,"user_id":622192,"accept_rate":100,"display_name":"drew"},"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1630342636,"creation_date":1432331945,"answer_id":30406454,"question_id":2362652,"body_markdown":"If, like me, you arrived here searching for a way to exclude *generated* sources from checkstyle, do this:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;2.15&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;sourceDirectory&gt;${project.build.sourceDirectory}&lt;/sourceDirectory&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nBy default, the [`checkstyle:checkstyle`][1] goal of the checkstyle plugin uses `${project.compileSourceRoots}`, which apparently includes generated source directories. \r\n\r\nIf you change it to `${project.build.sourceDirectory}`, it will use only the source directory, not any generated source directories.\r\n\r\nNote that while `&lt;sourceDirectory&gt;` is deprecated, the alternative, `&lt;sourceDirectories&gt;`, does not appear to work.\r\n\r\nEdit: In comments, @Cyrusmith, @Ben, and @Olivier Callioux report that as of 2017, `&lt;sourceDirectories&gt;` works; I cannot confirm.\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-checkstyle-plugin/checkstyle-mojo.html","title":"Excluding classes in Maven Checkstyle plugin reports","body":"<p>If, like me, you arrived here searching for a way to exclude <em>generated</em> sources from checkstyle, do this:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.15&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;sourceDirectory&gt;${project.build.sourceDirectory}&lt;/sourceDirectory&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>By default, the <a href=\"https://maven.apache.org/plugins/maven-checkstyle-plugin/checkstyle-mojo.html\" rel=\"noreferrer\"><code>checkstyle:checkstyle</code></a> goal of the checkstyle plugin uses <code>${project.compileSourceRoots}</code>, which apparently includes generated source directories.</p>\n<p>If you change it to <code>${project.build.sourceDirectory}</code>, it will use only the source directory, not any generated source directories.</p>\n<p>Note that while <code>&lt;sourceDirectory&gt;</code> is deprecated, the alternative, <code>&lt;sourceDirectories&gt;</code>, does not appear to work.</p>\n<p>Edit: In comments, @Cyrusmith, @Ben, and @Olivier Callioux report that as of 2017, <code>&lt;sourceDirectories&gt;</code> works; I cannot confirm.</p>\n"},{"tags":[],"owner":{"account_id":1964307,"reputation":3683,"user_id":1764947,"display_name":"fl0w"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1591697149,"creation_date":1591697149,"answer_id":62280002,"question_id":2362652,"body_markdown":"The answers above didn&#39;t work for me as I&#39;m running code generation in maven which also adds the target/generated as a source dir.\r\n\r\nThe following solution works:\r\nYou have to use an explicit checkstyle-suppressions.xml config file and activate it from your configuration:\r\n\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\r\n          &lt;suppressionsLocation&gt;checkstyle-suppressions.xml&lt;/suppressionsLocation&gt;\r\n       [...]\r\n\r\nThe suppressions file for excluding the target folder looks like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE suppressions PUBLIC\r\n      &quot;-//Checkstyle//DTD SuppressionFilter Configuration 1.2//EN&quot;\r\n      &quot;https://checkstyle.org/dtds/suppressions_1_2.dtd&quot;&gt;\r\n    \r\n    &lt;suppressions&gt;\r\n      &lt;suppress files=&quot;[/\\\\]target[/\\\\]&quot; checks=&quot;.*&quot; /&gt;\r\n    &lt;/suppressions&gt;","title":"Excluding classes in Maven Checkstyle plugin reports","body":"<p>The answers above didn't work for me as I'm running code generation in maven which also adds the target/generated as a source dir.</p>\n\n<p>The following solution works:\nYou have to use an explicit checkstyle-suppressions.xml config file and activate it from your configuration:</p>\n\n<pre><code>&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\n      &lt;suppressionsLocation&gt;checkstyle-suppressions.xml&lt;/suppressionsLocation&gt;\n   [...]\n</code></pre>\n\n<p>The suppressions file for excluding the target folder looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;!DOCTYPE suppressions PUBLIC\n  \"-//Checkstyle//DTD SuppressionFilter Configuration 1.2//EN\"\n  \"https://checkstyle.org/dtds/suppressions_1_2.dtd\"&gt;\n\n&lt;suppressions&gt;\n  &lt;suppress files=\"[/\\\\]target[/\\\\]\" checks=\".*\" /&gt;\n&lt;/suppressions&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":79489,"reputation":1968,"user_id":225341,"display_name":"Victor Ionescu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683621696,"creation_date":1665735675,"answer_id":74066358,"question_id":2362652,"body_markdown":"I&#39;m using maven 3 and excludes does not seem to work. What worked was the sourceDirectories trick:\r\n\r\n                &lt;configuration&gt;\r\n                    &lt;sourceDirectories&gt;\r\n                        &lt;sourceDirectory&gt;${project.build.sourceDirectory}&lt;/sourceDirectory&gt;\r\n                    &lt;/sourceDirectories&gt;\r\n                &lt;/configuration&gt;","title":"Excluding classes in Maven Checkstyle plugin reports","body":"<p>I'm using maven 3 and excludes does not seem to work. What worked was the sourceDirectories trick:</p>\n<pre><code>            &lt;configuration&gt;\n                &lt;sourceDirectories&gt;\n                    &lt;sourceDirectory&gt;${project.build.sourceDirectory}&lt;/sourceDirectory&gt;\n                &lt;/sourceDirectories&gt;\n            &lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11736850,"reputation":100,"user_id":10045137,"display_name":"Kalana Dananjaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684963597,"creation_date":1684963597,"answer_id":76327502,"question_id":2362652,"body_markdown":"I&#39;m using maven 3 and both excludes and sourceDirectory did not work for some reason. Adding an alternative for anybody who is facing the same issue. \r\n\r\nSetup a custom checkstyle suppression as shown below.\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${checkstyle.maven.plugin.version}&lt;/version&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${com.puppycrawl.tools.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;validate&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;validate&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;configLocation&gt;\r\n\t\t\t\t\t\t\t\tsrc/main/resources/customized_google_checks.xml\r\n\t\t\t\t\t\t\t&lt;/configLocation&gt;\r\n\t\t\t\t\t\t\t&lt;suppressionsLocation&gt;\r\n\t\t\t\t\t\t\t\tsrc/main/resources/customized_suppressions.xml\r\n\t\t\t\t\t\t\t&lt;/suppressionsLocation&gt;\r\n\t\t\t\t\t\t\t&lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\r\n\t\t\t\t\t\t\t&lt;failsOnError&gt;true&lt;/failsOnError&gt;\r\n\t\t\t\t\t\t\t&lt;failOnViolation&gt;false&lt;/failOnViolation&gt;\r\n\t\t\t\t\t\t\t&lt;violationSeverity&gt;warning&lt;/violationSeverity&gt;\r\n\t\t\t\t\t\t\t&lt;includeTestSourceDirectory&gt;false&lt;/includeTestSourceDirectory&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;check&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\n\r\nUse the following in the suppression file to exclude specific files.\r\n\r\n```\r\n\r\n&lt;!DOCTYPE suppressions PUBLIC\r\n        &quot;-//Puppy Crawl//DTD Suppressions 1.1//EN&quot;\r\n        &quot;http://www.puppycrawl.com/dtds/suppressions_1_1.dtd&quot;&gt;\r\n\r\n&lt;!--&lt;!DOCTYPE module PUBLIC--&gt;\r\n&lt;!--        &quot;-//Checkstyle//DTD Checkstyle Configuration 1.3//EN&quot;--&gt;\r\n&lt;!--        &quot;https://checkstyle.org/dtds/configuration_1_3.dtd&quot;&gt;--&gt;\r\n\r\n&lt;suppressions&gt;\r\n    &lt;suppress checks=&quot;.*&quot; files=&quot;.ESAPI.properties&quot; /&gt;\r\n\r\n&lt;/suppressions&gt;","title":"Excluding classes in Maven Checkstyle plugin reports","body":"<p>I'm using maven 3 and both excludes and sourceDirectory did not work for some reason. Adding an alternative for anybody who is facing the same issue.</p>\n<p>Setup a custom checkstyle suppression as shown below.</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${checkstyle.maven.plugin.version}&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\n                        &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\n                        &lt;version&gt;${com.puppycrawl.tools.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;validate&lt;/id&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;configLocation&gt;\n                                src/main/resources/customized_google_checks.xml\n                            &lt;/configLocation&gt;\n                            &lt;suppressionsLocation&gt;\n                                src/main/resources/customized_suppressions.xml\n                            &lt;/suppressionsLocation&gt;\n                            &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\n                            &lt;failsOnError&gt;true&lt;/failsOnError&gt;\n                            &lt;failOnViolation&gt;false&lt;/failOnViolation&gt;\n                            &lt;violationSeverity&gt;warning&lt;/violationSeverity&gt;\n                            &lt;includeTestSourceDirectory&gt;false&lt;/includeTestSourceDirectory&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Use the following in the suppression file to exclude specific files.</p>\n<pre><code>\n&lt;!DOCTYPE suppressions PUBLIC\n        &quot;-//Puppy Crawl//DTD Suppressions 1.1//EN&quot;\n        &quot;http://www.puppycrawl.com/dtds/suppressions_1_1.dtd&quot;&gt;\n\n&lt;!--&lt;!DOCTYPE module PUBLIC--&gt;\n&lt;!--        &quot;-//Checkstyle//DTD Checkstyle Configuration 1.3//EN&quot;--&gt;\n&lt;!--        &quot;https://checkstyle.org/dtds/configuration_1_3.dtd&quot;&gt;--&gt;\n\n&lt;suppressions&gt;\n    &lt;suppress checks=&quot;.*&quot; files=&quot;.ESAPI.properties&quot; /&gt;\n\n&lt;/suppressions&gt;\n</code></pre>\n"}],"owner":{"account_id":1789,"reputation":7779,"user_id":2455,"accept_rate":82,"display_name":"Andrew Harmel-Law"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50520,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":2362753,"answer_count":6,"score":50,"last_activity_date":1684963597,"creation_date":1267528255,"question_id":2362652,"body_markdown":"I have a Maven 2 project and I want to configure my Checkstyle report plugin so that only some of my classes are analysed.  I have found the `maven.checkstyle.excludes` property, but despite passing this as a command line parameter (using `-D=maven.checkstyle.excludes=...`) I can&#39;t get it to work.  I can&#39;t find anything on the Plugin documentation page.  Ideally I want to be able to set this in the `&lt;configuration&gt;` section of my POM. ","title":"Excluding classes in Maven Checkstyle plugin reports","body":"<p>I have a Maven 2 project and I want to configure my Checkstyle report plugin so that only some of my classes are analysed.  I have found the <code>maven.checkstyle.excludes</code> property, but despite passing this as a command line parameter (using <code>-D=maven.checkstyle.excludes=...</code>) I can't get it to work.  I can't find anything on the Plugin documentation page.  Ideally I want to be able to set this in the <code>&lt;configuration&gt;</code> section of my POM. </p>\n"},{"tags":["java","android","date","time"],"comments":[{"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"score":1,"creation_date":1357045417,"post_id":14110621,"comment_id":19525975,"body_markdown":"The duration class is useful for this in Android : http://stackoverflow.com/a/12739537/693752","body":"The duration class is useful for this in Android : <a href=\"http://stackoverflow.com/a/12739537/693752\">stackoverflow.com/a/12739537/693752</a>"}],"answers":[{"tags":[],"owner":{"account_id":304968,"reputation":56727,"user_id":614807,"accept_rate":73,"display_name":"Chirag"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1579594893,"creation_date":1357044898,"answer_id":14110653,"question_id":14110621,"body_markdown":"Try below code.\r\n\r\n// suppose time format is into **(&quot;hh:mm a&quot;)**  format\r\n\r\n    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;hh:mm a&quot;);\r\n    \r\n    date1 = simpleDateFormat.parse(&quot;08:00 AM&quot;);\r\n    date2 = simpleDateFormat.parse(&quot;04:00 PM&quot;);\r\n    \r\n    long difference = date2.getTime() - date1.getTime(); \r\n    days = (int) (difference / (1000*60*60*24));  \r\n    hours = (int) ((difference - (1000*60*60*24*days)) / (1000*60*60)); \r\n    min = (int) (difference - (1000*60*60*24*days) - (1000*60*60*hours)) / (1000*60);\r\n    hours = (hours &lt; 0 ? -hours : hours);\r\n    Log.i(&quot;======= Hours&quot;,&quot; :: &quot;+hours);\r\n\r\n**Output** - Hours :: 8","title":"Calculate Difference between two times in Android","body":"<p>Try below code.</p>\n\n<p>// suppose time format is into <strong>(\"hh:mm a\")</strong>  format</p>\n\n<pre><code>SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"hh:mm a\");\n\ndate1 = simpleDateFormat.parse(\"08:00 AM\");\ndate2 = simpleDateFormat.parse(\"04:00 PM\");\n\nlong difference = date2.getTime() - date1.getTime(); \ndays = (int) (difference / (1000*60*60*24));  \nhours = (int) ((difference - (1000*60*60*24*days)) / (1000*60*60)); \nmin = (int) (difference - (1000*60*60*24*days) - (1000*60*60*hours)) / (1000*60);\nhours = (hours &lt; 0 ? -hours : hours);\nLog.i(\"======= Hours\",\" :: \"+hours);\n</code></pre>\n\n<p><strong>Output</strong> - Hours :: 8</p>\n"},{"tags":[],"owner":{"account_id":1247339,"reputation":11852,"user_id":1208510,"accept_rate":98,"display_name":"Rahul Baradia"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1357045856,"creation_date":1357045369,"answer_id":14110696,"question_id":14110621,"body_markdown":"Have a look at [DateFormat][1], you can use it to parse your strings with the parse(String source) method and the you can easily manipulate the two Dates object to obtain what you want.\r\n\r\n    DateFormat df = DateFormat.getInstance();\r\n    Date date1 = df.parse(string1);\r\n    Date date2 = df.parse(string2);\r\n    long difference = date1.getTime() - date2.getTime();\r\n\r\n    days = (int) (difference / (1000*60*60*24));  \r\n    hours = (int) ((difference - (1000*60*60*24*days)) / (1000*60*60)); \r\n    min = (int) (difference - (1000*60*60*24*days) - (1000*60*60*hours)) / (1000*60);\r\n    \r\n    String diffHours = df.format(hours);\r\n    \r\nFor date difference\r\n   \r\n    Date myDate = new Date(difference);\r\n\r\nThe to show the Date :\r\n\r\n    String diff = df.format(myDate);\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/text/DateFormat.html","title":"Calculate Difference between two times in Android","body":"<p>Have a look at <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/text/DateFormat.html\" rel=\"nofollow\">DateFormat</a>, you can use it to parse your strings with the parse(String source) method and the you can easily manipulate the two Dates object to obtain what you want.</p>\n\n<pre><code>DateFormat df = DateFormat.getInstance();\nDate date1 = df.parse(string1);\nDate date2 = df.parse(string2);\nlong difference = date1.getTime() - date2.getTime();\n\ndays = (int) (difference / (1000*60*60*24));  \nhours = (int) ((difference - (1000*60*60*24*days)) / (1000*60*60)); \nmin = (int) (difference - (1000*60*60*24*days) - (1000*60*60*hours)) / (1000*60);\n\nString diffHours = df.format(hours);\n</code></pre>\n\n<p>For date difference</p>\n\n<pre><code>Date myDate = new Date(difference);\n</code></pre>\n\n<p>The to show the Date :</p>\n\n<pre><code>String diff = df.format(myDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4129918,"reputation":59,"user_id":3388127,"display_name":"Sheenzz"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1406895047,"creation_date":1396089002,"answer_id":22729853,"question_id":14110621,"body_markdown":" Please try this....\r\n\r\n    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n\r\n\t\ttry {\r\n\t\t\tdate1 = simpleDateFormat.parse(&quot;08:00 AM&quot;);\r\n\t\t} catch (ParseException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tdate2 = simpleDateFormat.parse(&quot;04:00 PM&quot;);\r\n\t\t} catch (ParseException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\tlong difference = date2.getTime() - date1.getTime();\r\n\t\tint days = (int) (difference / (1000 * 60 * 60 * 24));\r\n\t\tint hours = (int) ((difference - (1000 * 60 * 60 * 24 * days)) / (1000 * 60 * 60));\r\n\t\tint min = (int) (difference - (1000 * 60 * 60 * 24 * days) - (1000 * 60 * 60 * hours))\r\n\t\t\t\t/ (1000 * 60);\r\n\t\thours = (hours &lt; 0 ? -hours : hours);\r\n\t\tLog.i(&quot;======= Hours&quot;, &quot; :: &quot; + hours);","title":"Calculate Difference between two times in Android","body":"<p>Please try this....</p>\n\n<pre><code>SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"HH:mm\");\n\n    try {\n        date1 = simpleDateFormat.parse(\"08:00 AM\");\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n\n    try {\n        date2 = simpleDateFormat.parse(\"04:00 PM\");\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n\n    long difference = date2.getTime() - date1.getTime();\n    int days = (int) (difference / (1000 * 60 * 60 * 24));\n    int hours = (int) ((difference - (1000 * 60 * 60 * 24 * days)) / (1000 * 60 * 60));\n    int min = (int) (difference - (1000 * 60 * 60 * 24 * days) - (1000 * 60 * 60 * hours))\n            / (1000 * 60);\n    hours = (hours &lt; 0 ? -hours : hours);\n    Log.i(\"======= Hours\", \" :: \" + hours);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":940357,"reputation":1777,"user_id":968532,"accept_rate":50,"display_name":"Kalpesh"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1438262936,"creation_date":1438262936,"answer_id":31725170,"question_id":14110621,"body_markdown":"Note: Corrected code as below which provide by Chirag Raval because in code which Chirag provided had some issues when we try to find time from 22:00 to 07:00.\r\n\r\n    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n\tDate startDate = simpleDateFormat.parse(&quot;22:00&quot;);\r\n\tDate endDate = simpleDateFormat.parse(&quot;07:00&quot;);\r\n\r\n\tlong difference = endDate.getTime() - startDate.getTime(); \r\n\tif(difference&lt;0)\r\n\t{\r\n\t\tDate dateMax = simpleDateFormat.parse(&quot;24:00&quot;);\r\n\t\tDate dateMin = simpleDateFormat.parse(&quot;00:00&quot;);\r\n\t\tdifference=(dateMax.getTime() -startDate.getTime() )+(endDate.getTime()-dateMin.getTime());\r\n\t}\r\n\tint days = (int) (difference / (1000*60*60*24));  \r\n\tint hours = (int) ((difference - (1000*60*60*24*days)) / (1000*60*60)); \r\n\tint min = (int) (difference - (1000*60*60*24*days) - (1000*60*60*hours)) / (1000*60);\r\n\tLog.i(&quot;log_tag&quot;,&quot;Hours: &quot;+hours+&quot;, Mins: &quot;+min); \r\n    \r\nResult will be: Hours: 9, Mins: 0","title":"Calculate Difference between two times in Android","body":"<p>Note: Corrected code as below which provide by Chirag Raval because in code which Chirag provided had some issues when we try to find time from 22:00 to 07:00.</p>\n\n<pre><code>SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"HH:mm\");\nDate startDate = simpleDateFormat.parse(\"22:00\");\nDate endDate = simpleDateFormat.parse(\"07:00\");\n\nlong difference = endDate.getTime() - startDate.getTime(); \nif(difference&lt;0)\n{\n    Date dateMax = simpleDateFormat.parse(\"24:00\");\n    Date dateMin = simpleDateFormat.parse(\"00:00\");\n    difference=(dateMax.getTime() -startDate.getTime() )+(endDate.getTime()-dateMin.getTime());\n}\nint days = (int) (difference / (1000*60*60*24));  \nint hours = (int) ((difference - (1000*60*60*24*days)) / (1000*60*60)); \nint min = (int) (difference - (1000*60*60*24*days) - (1000*60*60*hours)) / (1000*60);\nLog.i(\"log_tag\",\"Hours: \"+hours+\", Mins: \"+min); \n</code></pre>\n\n<p>Result will be: Hours: 9, Mins: 0</p>\n"},{"tags":[],"owner":{"account_id":7497972,"reputation":1364,"user_id":5697474,"display_name":"Syed Danish Haider"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1500016994,"creation_date":1500012219,"answer_id":45095749,"question_id":14110621,"body_markdown":"    Try simple piece of code using For 24 hour time\r\n    StartTime = &quot;10:00&quot;;\r\n    EndTime = &quot;13:00&quot;;\r\n    here starthour=10 and end hour=13 \r\n    if(TextUtils.isEmpty(txtDate.getText().toString())||TextUtils.isEmpty(txtDate1.getText().toString())||TextUtils.isEmpty(txtTime.getText().toString())||TextUtils.isEmpty(txtTime1.getText().toString()))\r\n        {\r\n            Toast.makeText(getApplicationContext(), &quot;Date/Time fields cannot be blank&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        else {\r\n            if (starthour &gt; endhour) {\r\n                Toast.makeText(getApplicationContext(), &quot;Start Time Should Be Less Than End Time&quot;, Toast.LENGTH_SHORT).show();\r\n            } else if (starthour == endhour) {\r\n                if (startmin &gt; endmin) {\r\n                    Toast.makeText(getApplicationContext(), &quot;Start Time Should Be Less Than End Time&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else{\r\n                    tvalid = &quot;True&quot;;\r\n                }\r\n            } else {\r\n                // Toast.makeText(getApplicationContext(),&quot;Sucess&quot;+(endhour-starthour)+(endmin-startmin),Toast.LENGTH_SHORT).show();\r\n                tvalid = &quot;True&quot;;\r\n            }\r\n        }\r\n    same for date also","title":"Calculate Difference between two times in Android","body":"<pre><code>Try simple piece of code using For 24 hour time\nStartTime = \"10:00\";\nEndTime = \"13:00\";\nhere starthour=10 and end hour=13 \nif(TextUtils.isEmpty(txtDate.getText().toString())||TextUtils.isEmpty(txtDate1.getText().toString())||TextUtils.isEmpty(txtTime.getText().toString())||TextUtils.isEmpty(txtTime1.getText().toString()))\n    {\n        Toast.makeText(getApplicationContext(), \"Date/Time fields cannot be blank\", Toast.LENGTH_SHORT).show();\n    }\n    else {\n        if (starthour &gt; endhour) {\n            Toast.makeText(getApplicationContext(), \"Start Time Should Be Less Than End Time\", Toast.LENGTH_SHORT).show();\n        } else if (starthour == endhour) {\n            if (startmin &gt; endmin) {\n                Toast.makeText(getApplicationContext(), \"Start Time Should Be Less Than End Time\", Toast.LENGTH_SHORT).show();\n            }\n            else{\n                tvalid = \"True\";\n            }\n        } else {\n            // Toast.makeText(getApplicationContext(),\"Sucess\"+(endhour-starthour)+(endmin-startmin),Toast.LENGTH_SHORT).show();\n            tvalid = \"True\";\n        }\n    }\nsame for date also\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5253207,"reputation":246,"user_id":4196777,"display_name":"Hitesh sapra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546076621,"creation_date":1546062142,"answer_id":53967017,"question_id":14110621,"body_markdown":"    String mStrDifferenceTime =compareTwoTimeAMPM(&quot;11:06 PM&quot;,&quot;05:07 AM&quot;);\r\n    Log.e(&quot;App---Time &quot;, mStrDifferenceTime+&quot; Minutes&quot;);\r\n\r\n    public static String getCurrentDateUsingCalendar() {\r\n        Date mDate = new Date();  // to get the date\r\n        @SuppressLint(&quot;SimpleDateFormat&quot;) SimpleDateFormat mSimpleDateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;); // getting date in this format\r\n        return mSimpleDateFormat.format(mDate.getTime());\r\n    }\r\n\r\n    public static String getNextDateUsingCalendar() {\r\n        Calendar mCalendar = Calendar.getInstance();\r\n        mCalendar.add(Calendar.DAY_OF_YEAR, 1);\r\n        Date mStrTomorrow = mCalendar.getTime();\r\n        @SuppressLint(&quot;SimpleDateFormat&quot;) DateFormat mDateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n        return mDateFormat.format(mStrTomorrow);\r\n\r\n    }\r\n\r\n    public static String compareTwoTimeAMPM(String mStrStartTime, String mStrEndTime) {\r\n        String mStrCompareStartTime[] = mStrStartTime.split(&quot; &quot;);\r\n        String mStrCompareEndTime[] = mStrEndTime.split(&quot; &quot;);\r\n        int mIStartTime = Integer.parseInt(mStrCompareStartTime[0].replace(&quot;:&quot;, &quot;&quot;));\r\n        int mIEndTime = Integer.parseInt(mStrCompareEndTime[0].replace(&quot;:&quot;, &quot;&quot;));\r\n        String mStrToday = &quot;&quot;;\r\n        String mStrTomorrow = &quot;&quot;;\r\n        if (mIStartTime &lt; mIEndTime &amp;&amp; mStrCompareStartTime[1].equals(&quot;PM&quot;) &amp;&amp; mStrCompareEndTime[1].equals(&quot;PM&quot;)) {\r\n            mStrToday = getCurrentDateUsingCalendar();\r\n            mStrTomorrow = getCurrentDateUsingCalendar();\r\n        } else if (mIStartTime &lt; mIEndTime &amp;&amp; mStrCompareStartTime[1].equals(&quot;AM&quot;) &amp;&amp; mStrCompareEndTime[1].equals(&quot;AM&quot;)) {\r\n            mStrToday = getCurrentDateUsingCalendar();\r\n            mStrTomorrow = getCurrentDateUsingCalendar();\r\n        } else if (mIStartTime &gt; mIEndTime &amp;&amp; mStrCompareStartTime[1].equals(&quot;PM&quot;) &amp;&amp; mStrCompareEndTime[1].equals(&quot;PM&quot;)) {\r\n            String mStrTime12[] = mStrCompareStartTime[0].split(&quot;:&quot;);\r\n            if (mStrTime12[0].equals(&quot;12&quot;)) {\r\n                mStrToday = getNextDateUsingCalendar();\r\n                mStrTomorrow = getNextDateUsingCalendar();\r\n            } else {\r\n                mStrToday = getCurrentDateUsingCalendar();\r\n                mStrTomorrow = getNextDateUsingCalendar();\r\n            }\r\n        } else if (mIStartTime &gt; mIEndTime &amp;&amp; mStrCompareStartTime[1].equals(&quot;AM&quot;) &amp;&amp; mStrCompareEndTime[1].equals(&quot;AM&quot;)) {\r\n            String mStrTime12[] = mStrCompareStartTime[0].split(&quot;:&quot;);\r\n            if (mStrTime12[0].equals(&quot;12&quot;)) {\r\n                mStrToday = getNextDateUsingCalendar();\r\n                mStrTomorrow = getNextDateUsingCalendar();\r\n            } else {\r\n                mStrToday = getCurrentDateUsingCalendar();\r\n                mStrTomorrow = getNextDateUsingCalendar();\r\n            }\r\n        } else if (mStrCompareStartTime[1].equals(&quot;PM&quot;) &amp;&amp; mStrCompareEndTime[1].equals(&quot;AM&quot;)) {\r\n            mStrToday = getCurrentDateUsingCalendar();\r\n            mStrTomorrow = getNextDateUsingCalendar();\r\n        } else if (mStrCompareStartTime[1].equals(&quot;AM&quot;) &amp;&amp; mStrCompareEndTime[1].equals(&quot;PM&quot;)) {\r\n            mStrToday = getCurrentDateUsingCalendar();\r\n            mStrTomorrow = getCurrentDateUsingCalendar();\r\n        }\r\n        @SuppressLint(&quot;SimpleDateFormat&quot;) SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm aa&quot;);\r\n        String mStrDifference = &quot;&quot;;\r\n        try {\r\n            Date date1 = simpleDateFormat.parse(mStrToday + &quot; &quot; + mStrStartTime);\r\n            Date date2 = simpleDateFormat.parse(mStrTomorrow + &quot; &quot; + mStrEndTime);\r\n            mStrDifference = differenceDatesAndTime(date1, date2);\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return mStrDifference;\r\n\r\n    }\r\n\r\n\r\n    public static String differenceDatesAndTime(Date mDateStart, Date mDateEnd) {\r\n\r\n        long different = mDateEnd.getTime() - mDateStart.getTime();\r\n        long secondsInMilli = 1000;\r\n        long minutesInMilli = secondsInMilli * 60;\r\n        long hoursInMilli = minutesInMilli * 60;\r\n        long daysInMilli = hoursInMilli * 24;\r\n\r\n        long elapsedDays = different / daysInMilli;\r\n        different = different % daysInMilli;\r\n\r\n        long elapsedHours = different / hoursInMilli;\r\n        different = different % hoursInMilli;\r\n\r\n        long elapsedMinutes = different / minutesInMilli;\r\n\r\n        long minutes = elapsedHours * 60 + elapsedMinutes;\r\n        long result = elapsedDays * 24 * 60 + minutes;\r\n        if (0 &gt; result) {\r\n            result = result + 720;  //result is minus then add 12*60 minutes\r\n        }\r\n\r\n        return result + &quot;&quot;;\r\n    }\r\n    \r\n\r\nMy output is E/App---Time: 361 Minutes","title":"Calculate Difference between two times in Android","body":"<pre><code>String mStrDifferenceTime =compareTwoTimeAMPM(\"11:06 PM\",\"05:07 AM\");\nLog.e(\"App---Time \", mStrDifferenceTime+\" Minutes\");\n\npublic static String getCurrentDateUsingCalendar() {\n    Date mDate = new Date();  // to get the date\n    @SuppressLint(\"SimpleDateFormat\") SimpleDateFormat mSimpleDateFormat = new SimpleDateFormat(\"dd-MM-yyyy\"); // getting date in this format\n    return mSimpleDateFormat.format(mDate.getTime());\n}\n\npublic static String getNextDateUsingCalendar() {\n    Calendar mCalendar = Calendar.getInstance();\n    mCalendar.add(Calendar.DAY_OF_YEAR, 1);\n    Date mStrTomorrow = mCalendar.getTime();\n    @SuppressLint(\"SimpleDateFormat\") DateFormat mDateFormat = new SimpleDateFormat(\"dd-MM-yyyy\");\n    return mDateFormat.format(mStrTomorrow);\n\n}\n\npublic static String compareTwoTimeAMPM(String mStrStartTime, String mStrEndTime) {\n    String mStrCompareStartTime[] = mStrStartTime.split(\" \");\n    String mStrCompareEndTime[] = mStrEndTime.split(\" \");\n    int mIStartTime = Integer.parseInt(mStrCompareStartTime[0].replace(\":\", \"\"));\n    int mIEndTime = Integer.parseInt(mStrCompareEndTime[0].replace(\":\", \"\"));\n    String mStrToday = \"\";\n    String mStrTomorrow = \"\";\n    if (mIStartTime &lt; mIEndTime &amp;&amp; mStrCompareStartTime[1].equals(\"PM\") &amp;&amp; mStrCompareEndTime[1].equals(\"PM\")) {\n        mStrToday = getCurrentDateUsingCalendar();\n        mStrTomorrow = getCurrentDateUsingCalendar();\n    } else if (mIStartTime &lt; mIEndTime &amp;&amp; mStrCompareStartTime[1].equals(\"AM\") &amp;&amp; mStrCompareEndTime[1].equals(\"AM\")) {\n        mStrToday = getCurrentDateUsingCalendar();\n        mStrTomorrow = getCurrentDateUsingCalendar();\n    } else if (mIStartTime &gt; mIEndTime &amp;&amp; mStrCompareStartTime[1].equals(\"PM\") &amp;&amp; mStrCompareEndTime[1].equals(\"PM\")) {\n        String mStrTime12[] = mStrCompareStartTime[0].split(\":\");\n        if (mStrTime12[0].equals(\"12\")) {\n            mStrToday = getNextDateUsingCalendar();\n            mStrTomorrow = getNextDateUsingCalendar();\n        } else {\n            mStrToday = getCurrentDateUsingCalendar();\n            mStrTomorrow = getNextDateUsingCalendar();\n        }\n    } else if (mIStartTime &gt; mIEndTime &amp;&amp; mStrCompareStartTime[1].equals(\"AM\") &amp;&amp; mStrCompareEndTime[1].equals(\"AM\")) {\n        String mStrTime12[] = mStrCompareStartTime[0].split(\":\");\n        if (mStrTime12[0].equals(\"12\")) {\n            mStrToday = getNextDateUsingCalendar();\n            mStrTomorrow = getNextDateUsingCalendar();\n        } else {\n            mStrToday = getCurrentDateUsingCalendar();\n            mStrTomorrow = getNextDateUsingCalendar();\n        }\n    } else if (mStrCompareStartTime[1].equals(\"PM\") &amp;&amp; mStrCompareEndTime[1].equals(\"AM\")) {\n        mStrToday = getCurrentDateUsingCalendar();\n        mStrTomorrow = getNextDateUsingCalendar();\n    } else if (mStrCompareStartTime[1].equals(\"AM\") &amp;&amp; mStrCompareEndTime[1].equals(\"PM\")) {\n        mStrToday = getCurrentDateUsingCalendar();\n        mStrTomorrow = getCurrentDateUsingCalendar();\n    }\n    @SuppressLint(\"SimpleDateFormat\") SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"dd-MM-yyyy hh:mm aa\");\n    String mStrDifference = \"\";\n    try {\n        Date date1 = simpleDateFormat.parse(mStrToday + \" \" + mStrStartTime);\n        Date date2 = simpleDateFormat.parse(mStrTomorrow + \" \" + mStrEndTime);\n        mStrDifference = differenceDatesAndTime(date1, date2);\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n\n    return mStrDifference;\n\n}\n\n\npublic static String differenceDatesAndTime(Date mDateStart, Date mDateEnd) {\n\n    long different = mDateEnd.getTime() - mDateStart.getTime();\n    long secondsInMilli = 1000;\n    long minutesInMilli = secondsInMilli * 60;\n    long hoursInMilli = minutesInMilli * 60;\n    long daysInMilli = hoursInMilli * 24;\n\n    long elapsedDays = different / daysInMilli;\n    different = different % daysInMilli;\n\n    long elapsedHours = different / hoursInMilli;\n    different = different % hoursInMilli;\n\n    long elapsedMinutes = different / minutesInMilli;\n\n    long minutes = elapsedHours * 60 + elapsedMinutes;\n    long result = elapsedDays * 24 * 60 + minutes;\n    if (0 &gt; result) {\n        result = result + 720;  //result is minus then add 12*60 minutes\n    }\n\n    return result + \"\";\n}\n</code></pre>\n\n<p>My output is E/App---Time: 361 Minutes</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1559465872,"creation_date":1559465872,"answer_id":56413601,"question_id":14110621,"body_markdown":"I should like to contribute the modern answer.\r\n\r\n## java.time and ThreeTenABP\r\n\r\n\t\tDateTimeFormatter timeFormatter = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;, Locale.ENGLISH);\r\n\t\t\r\n\t\tString startTime = &quot;08:00 AM&quot;;\r\n\t\tString endTime = &quot;04:00 PM&quot;;\r\n\r\n\t\tLocalTime start = LocalTime.parse(startTime, timeFormatter);\r\n\t\tLocalTime end = LocalTime.parse(endTime, timeFormatter);\r\n\t\t\r\n\t\tDuration diff = Duration.between(start, end);\r\n\t\t\r\n\t\tlong hours = diff.toHours();\r\n\t\tlong minutes = diff.minusHours(hours).toMinutes();\r\n\t\tString totalTimeString = String.format(&quot;%02d:%02d&quot;, hours, minutes);\r\n\t\tSystem.out.println(&quot;TotalTime in Hours and Mins Format is &quot; + totalTimeString);\r\n\r\nThe output from this snippet is:\r\n\r\n&gt; TotalTime in Hours and Mins Format is 08:00\r\n\r\n(Tested on Java 1.7.0_67 with ThreeTen Backport.)\r\n\r\nThe datetime classes used in the other answers — `SimpleDateFormat`, `Date`, `DateFormat` and `Calendar` — are all long outdated and poorly designed. Possibly worse, one answer is parsing and calculating “by hand”, without aid from any library classes. That is complicated and error-prone and never recommended. Instead I am using java.time, the modern Java date and time API. It is so much nicer to work with.\r\n\r\n## Question: Can I use java.time on Android?\r\n\r\nYes, java.time works nicely on older and newer Android devices. It just requires at least **Java 6**.\r\n\r\n - In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.\r\n - In Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).\r\n - On (older) Android use the Android edition of ThreeTen Backport. It’s called ThreeTenABP. And make sure you import the date and time classes from `org.threeten.bp` with subpackages: `org.threeten.bp.Duration`, `org.threeten.bp.LocalTime` and `org.threeten.bp.format.DateTimeFormatter`.\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - [Java Specification Request (JSR) 310](https://jcp.org/en/jsr/detail?id=310), where `java.time` was first described.\r\n - [ThreeTen Backport project](http://www.threeten.org/threetenbp/), the backport of `java.time` to Java 6 and 7 (ThreeTen for JSR-310).\r\n - [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP), Android edition of ThreeTen Backport\r\n - [Question: How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project), with a very thorough explanation.\r\n","title":"Calculate Difference between two times in Android","body":"<p>I should like to contribute the modern answer.</p>\n\n<h2>java.time and ThreeTenABP</h2>\n\n<pre><code>    DateTimeFormatter timeFormatter = DateTimeFormatter.ofPattern(\"hh:mm a\", Locale.ENGLISH);\n\n    String startTime = \"08:00 AM\";\n    String endTime = \"04:00 PM\";\n\n    LocalTime start = LocalTime.parse(startTime, timeFormatter);\n    LocalTime end = LocalTime.parse(endTime, timeFormatter);\n\n    Duration diff = Duration.between(start, end);\n\n    long hours = diff.toHours();\n    long minutes = diff.minusHours(hours).toMinutes();\n    String totalTimeString = String.format(\"%02d:%02d\", hours, minutes);\n    System.out.println(\"TotalTime in Hours and Mins Format is \" + totalTimeString);\n</code></pre>\n\n<p>The output from this snippet is:</p>\n\n<blockquote>\n  <p>TotalTime in Hours and Mins Format is 08:00</p>\n</blockquote>\n\n<p>(Tested on Java 1.7.0_67 with ThreeTen Backport.)</p>\n\n<p>The datetime classes used in the other answers — <code>SimpleDateFormat</code>, <code>Date</code>, <code>DateFormat</code> and <code>Calendar</code> — are all long outdated and poorly designed. Possibly worse, one answer is parsing and calculating “by hand”, without aid from any library classes. That is complicated and error-prone and never recommended. Instead I am using java.time, the modern Java date and time API. It is so much nicer to work with.</p>\n\n<h2>Question: Can I use java.time on Android?</h2>\n\n<p>Yes, java.time works nicely on older and newer Android devices. It just requires at least <strong>Java 6</strong>.</p>\n\n<ul>\n<li>In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.</li>\n<li>In Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).</li>\n<li>On (older) Android use the Android edition of ThreeTen Backport. It’s called ThreeTenABP. And make sure you import the date and time classes from <code>org.threeten.bp</code> with subpackages: <code>org.threeten.bp.Duration</code>, <code>org.threeten.bp.LocalTime</code> and <code>org.threeten.bp.format.DateTimeFormatter</code>.</li>\n</ul>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">Java Specification Request (JSR) 310</a>, where <code>java.time</code> was first described.</li>\n<li><a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport project</a>, the backport of <code>java.time</code> to Java 6 and 7 (ThreeTen for JSR-310).</li>\n<li><a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>, Android edition of ThreeTen Backport</li>\n<li><a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">Question: How to use ThreeTenABP in Android Project</a>, with a very thorough explanation.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17657117,"reputation":56,"user_id":12816445,"display_name":"Sreyans Bohara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684963240,"creation_date":1684963240,"answer_id":76327474,"question_id":14110621,"body_markdown":"You can use extension function in Kotlin like this:\r\n\r\n    fun Long.toTimeAgo(): String {\r\n        val time = this\r\n        val now = System.currentTimeMillis()\r\n    \r\n        // convert back to second\r\n        val diff = (now - time) / 1000\r\n    \r\n        return diff.toString()\r\n    }\r\n\r\nTo get the result in social format, one can modify the code as:\r\n\r\n    fun Long.toTimeAgo(): String {\r\n        val time = this\r\n        val now = System.currentTimeMillis()\r\n\r\n        // convert back to second\r\n        val diff = (now - time) / 1000\r\n\r\n        return when {\r\n            diff &lt; MINUTE -&gt; &quot;Just now&quot;\r\n            diff &lt; 2 * MINUTE -&gt; &quot;a minute ago&quot;\r\n            diff &lt; 60 * MINUTE -&gt; &quot;${diff / MINUTE} minutes ago&quot;\r\n            diff &lt; 2 * HOUR -&gt; &quot;an hour ago&quot;\r\n            diff &lt; 24 * HOUR -&gt; &quot;${diff / HOUR} hours ago&quot;\r\n            diff &lt; 2 * DAY -&gt; &quot;a day ago&quot;\r\n            diff &lt; 30 * DAY -&gt; &quot;${diff / DAY} days ago&quot;\r\n            diff &lt; 2 * MONTH -&gt; &quot;a month ago&quot;\r\n            diff &lt; 12 * MONTH -&gt; &quot;${diff / MONTH} months ago&quot;\r\n            diff &lt; 2 * YEAR -&gt; &quot;a year ago&quot;\r\n            else -&gt; &quot;${diff / YEAR} years ago&quot;\r\n        }\r\n    }\r\n\r\nAnd now in the code to get the time difference from a date in string, one can use:\r\n\r\n        val date = SimpleDateFormat(&#39;your date pattern&#39;).parse(dateString)\r\n        val timeString = date.time.toTimeAgo()\r\n","title":"Calculate Difference between two times in Android","body":"<p>You can use extension function in Kotlin like this:</p>\n<pre><code>fun Long.toTimeAgo(): String {\n    val time = this\n    val now = System.currentTimeMillis()\n\n    // convert back to second\n    val diff = (now - time) / 1000\n\n    return diff.toString()\n}\n</code></pre>\n<p>To get the result in social format, one can modify the code as:</p>\n<pre><code>fun Long.toTimeAgo(): String {\n    val time = this\n    val now = System.currentTimeMillis()\n\n    // convert back to second\n    val diff = (now - time) / 1000\n\n    return when {\n        diff &lt; MINUTE -&gt; &quot;Just now&quot;\n        diff &lt; 2 * MINUTE -&gt; &quot;a minute ago&quot;\n        diff &lt; 60 * MINUTE -&gt; &quot;${diff / MINUTE} minutes ago&quot;\n        diff &lt; 2 * HOUR -&gt; &quot;an hour ago&quot;\n        diff &lt; 24 * HOUR -&gt; &quot;${diff / HOUR} hours ago&quot;\n        diff &lt; 2 * DAY -&gt; &quot;a day ago&quot;\n        diff &lt; 30 * DAY -&gt; &quot;${diff / DAY} days ago&quot;\n        diff &lt; 2 * MONTH -&gt; &quot;a month ago&quot;\n        diff &lt; 12 * MONTH -&gt; &quot;${diff / MONTH} months ago&quot;\n        diff &lt; 2 * YEAR -&gt; &quot;a year ago&quot;\n        else -&gt; &quot;${diff / YEAR} years ago&quot;\n    }\n}\n</code></pre>\n<p>And now in the code to get the time difference from a date in string, one can use:</p>\n<pre><code>    val date = SimpleDateFormat('your date pattern').parse(dateString)\n    val timeString = date.time.toTimeAgo()\n</code></pre>\n"}],"owner":{"account_id":2049430,"reputation":735,"user_id":1828730,"accept_rate":94,"display_name":"Munazza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52958,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":14110653,"answer_count":8,"score":16,"last_activity_date":1684963240,"creation_date":1357044657,"question_id":14110621,"body_markdown":"I have two string variables such as StartTime and EndTime. I need to Calculate the TotalTime by subtracting the EndTime with StartTime.\r\n\r\nThe Format of StartTime and EndTime is as like follows:\r\n\r\n    StartTime = &quot;08:00 AM&quot;;\r\n    EndTime = &quot;04:00 PM&quot;;\r\n\r\nTotalTime in Hours and Mins Format. How to calculate this in Android?","title":"Calculate Difference between two times in Android","body":"<p>I have two string variables such as StartTime and EndTime. I need to Calculate the TotalTime by subtracting the EndTime with StartTime.</p>\n\n<p>The Format of StartTime and EndTime is as like follows:</p>\n\n<pre><code>StartTime = \"08:00 AM\";\nEndTime = \"04:00 PM\";\n</code></pre>\n\n<p>TotalTime in Hours and Mins Format. How to calculate this in Android?</p>\n"},{"tags":["java","maven","maven-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1685000228,"post_id":76327364,"comment_id":134600326,"body_markdown":"Why do you need to retrieve the server URL from Maven settings?","body":"Why do you need to retrieve the server URL from Maven settings?"},{"owner":{"account_id":3570177,"reputation":199,"user_id":3085387,"display_name":"Prabagaran Sellamuthu"},"score":0,"creation_date":1685090220,"post_id":76327364,"comment_id":134615702,"body_markdown":"I need to retrive server/repositories url based on that, I need supply additional headers for only some repo,","body":"I need to retrive server/repositories url based on that, I need supply additional headers for only some repo,"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1685093017,"post_id":76327364,"comment_id":134616291,"body_markdown":"Additional headers? Sounds a bit strange ... also I would recommend to use a repository manager which could handle such things... furthermore the question is if you have those URL&#39;s and when should be a change happen? Are you change the source code of Maven? If so I would recommend to use more recent versions of Maven etc. Or are you workgin within a plugin? Can you give much more detailed information what exactly you are trying to do?","body":"Additional headers? Sounds a bit strange ... also I would recommend to use a repository manager which could handle such things... furthermore the question is if you have those URL&#39;s and when should be a change happen? Are you change the source code of Maven? If so I would recommend to use more recent versions of Maven etc. Or are you workgin within a plugin? Can you give much more detailed information what exactly you are trying to do?"},{"owner":{"account_id":3570177,"reputation":199,"user_id":3085387,"display_name":"Prabagaran Sellamuthu"},"score":0,"creation_date":1685351835,"post_id":76327364,"comment_id":134644054,"body_markdown":"I am working on the maven extension, I want to add a few HTTP headers to specify repository calls","body":"I am working on the maven extension, I want to add a few HTTP headers to specify repository calls"}],"owner":{"account_id":3570177,"reputation":199,"user_id":3085387,"display_name":"Prabagaran Sellamuthu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684961937,"creation_date":1684961937,"question_id":76327364,"body_markdown":"I&#39;m working on a project where I need to retrieve the server URL from the Maven settings file. However, the URL is not directly available in the Server class of Maven. I&#39;ve tried accessing the Server objects from the settings but couldn&#39;t find a method to retrieve the URL. I&#39;ve checked the official documentation [link to the documentation] but it doesn&#39;t provide a direct solution for this.\r\n\r\nHere&#39;s a snippet of my code:\r\n\r\n\r\n        Settings settings = settingsBuildingResult.getEffectiveSettings();\r\n        \r\n        for (Server server : settings.getServers()) {\r\n            if (serverId.equals(server.getId())) {\r\n                // do something\r\n            }\r\n        }\r\n\r\nI need to access the server URL to perform further operations. Is there any workaround or alternative approach to retrieve the server URL from the Maven settings when it&#39;s not available in the Server class? Any help would be greatly appreciated.\r\n\r\nServer Class\r\nhttps://maven.apache.org/ref/3.5.2/maven-settings/apidocs/org/apache/maven/settings/Server.html\r\n","title":"how to get url from setting.xml via SettingsBuildingResult event","body":"<p>I'm working on a project where I need to retrieve the server URL from the Maven settings file. However, the URL is not directly available in the Server class of Maven. I've tried accessing the Server objects from the settings but couldn't find a method to retrieve the URL. I've checked the official documentation [link to the documentation] but it doesn't provide a direct solution for this.</p>\n<p>Here's a snippet of my code:</p>\n<pre><code>    Settings settings = settingsBuildingResult.getEffectiveSettings();\n    \n    for (Server server : settings.getServers()) {\n        if (serverId.equals(server.getId())) {\n            // do something\n        }\n    }\n</code></pre>\n<p>I need to access the server URL to perform further operations. Is there any workaround or alternative approach to retrieve the server URL from the Maven settings when it's not available in the Server class? Any help would be greatly appreciated.</p>\n<p>Server Class\n<a href=\"https://maven.apache.org/ref/3.5.2/maven-settings/apidocs/org/apache/maven/settings/Server.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/ref/3.5.2/maven-settings/apidocs/org/apache/maven/settings/Server.html</a></p>\n"},{"tags":["java","spring","oracle","hibernate","jdbc"],"comments":[{"owner":{"account_id":2860791,"reputation":1601,"user_id":2456113,"accept_rate":96,"display_name":"kulatamicuda"},"score":0,"creation_date":1680467553,"post_id":75903951,"comment_id":133899561,"body_markdown":"Probably yes. Have you tried switching to another connection pool like HikariCP?","body":"Probably yes. Have you tried switching to another connection pool like HikariCP?"}],"answers":[{"tags":[],"owner":{"account_id":28230400,"reputation":11,"user_id":21579701,"display_name":"Valentin Cunci"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680772000,"creation_date":1680772000,"answer_id":75947733,"question_id":75903951,"body_markdown":"We had the exact same issue this week with ou server (java 17, spring boot, ...) and with a SQL Server database.\r\n\r\nIt was resolved by disabling TLS 1.3, but we have yet to investigate further to find the root cause (would be nice to have TLS 1.3 enabled again).\r\n\r\nSeems related to this : https://jira.atlassian.com/browse/JRASERVER-70169","title":"100% CPU with Tomcat Pool","body":"<p>We had the exact same issue this week with ou server (java 17, spring boot, ...) and with a SQL Server database.</p>\n<p>It was resolved by disabling TLS 1.3, but we have yet to investigate further to find the root cause (would be nice to have TLS 1.3 enabled again).</p>\n<p>Seems related to this : <a href=\"https://jira.atlassian.com/browse/JRASERVER-70169\" rel=\"nofollow noreferrer\">https://jira.atlassian.com/browse/JRASERVER-70169</a></p>\n"},{"tags":[],"owner":{"account_id":28276736,"reputation":101,"user_id":21619092,"display_name":"Steffen S."},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1681993225,"creation_date":1681228091,"answer_id":75987810,"question_id":75903951,"body_markdown":"Same issue here running Wildfly AS 24.0.1.Final. The problem started with updating from OpenJDK 11.0.17 to 11.0.18 (while running a standard OS update). The stacktraces of the I/O threads causing the CPU load are the same:\r\n\r\n    java.lang.Thread.State: RUNNABLE\r\n    at sun.security.ssl.SSLEngineImpl.writeRecord(java.base@11.0.18/SSLEngineImpl.java:271)\r\n    at sun.security.ssl.SSLEngineImpl.wrap(java.base@11.0.18/SSLEngineImpl.java:136)\r\n    - eliminated &lt;0x0000000740f3c8b8&gt; (a sun.security.ssl.SSLEngineImpl)\r\n    at sun.security.ssl.SSLEngineImpl.wrap(java.base@11.0.18/SSLEngineImpl.java:116)\r\n    - locked &lt;0x0000000740f3c8b8&gt; (a sun.security.ssl.SSLEngineImpl)\r\n    at javax.net.ssl.SSLEngine.wrap(java.base@11.0.18/SSLEngine.java:482)\r\n    …\r\n\r\nThe problem occurs when using the 11.0.18 packages of OpenJDK in RHEL 7.9:\r\n\r\n    java-11-openjdk-11.0.18.0.10-1.el7_9.x86_64.rpm\r\n    java-11-openjdk-headless-11.0.18.0.10-1.el7_9.x86_64.rpm\r\n    java-11-openjdk-devel-11.0.18.0.10-1.el7_9.x86_64.rpm\r\n\r\n**Workaround**: Downgrading to OpenJDK 11.0.17. On RedHat Linux, you can proceed this way and avoid updating the Java package automatically:\r\n\r\n    yum downgrade java-11-openjdk-11.0.17.0.8-2.el7_9.x86_64 java-11-openjdk-headless-11.0.17.0.8-2.el7_9.x86_64 java-11-openjdk-devel-11.0.17.0.8-2.el7_9.x86_64\r\n    yum install yum-plugin-versionlock\r\n    yum versionlock java-11-openjdk-*\r\n\r\nThe root cause is still unknown, maybe this is related to https://bugs.openjdk.org/browse/JDK-8273553, but I was not able to confirm this.\r\n\r\n**Update**:\r\nIn my case, this seems to be a confirmed bug in Undertow: https://issues.redhat.com/browse/UNDERTOW-2239. It is related to JDK 1.8.0_361+, 11.0.18+ or 17.0.6+ (see Oracle support document 2934851.1). So sticking to JDK 11.0.17 (or deactivating SSL) appears to be the only option right now.","title":"100% CPU with Tomcat Pool","body":"<p>Same issue here running Wildfly AS 24.0.1.Final. The problem started with updating from OpenJDK 11.0.17 to 11.0.18 (while running a standard OS update). The stacktraces of the I/O threads causing the CPU load are the same:</p>\n<pre><code>java.lang.Thread.State: RUNNABLE\nat sun.security.ssl.SSLEngineImpl.writeRecord(java.base@11.0.18/SSLEngineImpl.java:271)\nat sun.security.ssl.SSLEngineImpl.wrap(java.base@11.0.18/SSLEngineImpl.java:136)\n- eliminated &lt;0x0000000740f3c8b8&gt; (a sun.security.ssl.SSLEngineImpl)\nat sun.security.ssl.SSLEngineImpl.wrap(java.base@11.0.18/SSLEngineImpl.java:116)\n- locked &lt;0x0000000740f3c8b8&gt; (a sun.security.ssl.SSLEngineImpl)\nat javax.net.ssl.SSLEngine.wrap(java.base@11.0.18/SSLEngine.java:482)\n…\n</code></pre>\n<p>The problem occurs when using the 11.0.18 packages of OpenJDK in RHEL 7.9:</p>\n<pre><code>java-11-openjdk-11.0.18.0.10-1.el7_9.x86_64.rpm\njava-11-openjdk-headless-11.0.18.0.10-1.el7_9.x86_64.rpm\njava-11-openjdk-devel-11.0.18.0.10-1.el7_9.x86_64.rpm\n</code></pre>\n<p><strong>Workaround</strong>: Downgrading to OpenJDK 11.0.17. On RedHat Linux, you can proceed this way and avoid updating the Java package automatically:</p>\n<pre><code>yum downgrade java-11-openjdk-11.0.17.0.8-2.el7_9.x86_64 java-11-openjdk-headless-11.0.17.0.8-2.el7_9.x86_64 java-11-openjdk-devel-11.0.17.0.8-2.el7_9.x86_64\nyum install yum-plugin-versionlock\nyum versionlock java-11-openjdk-*\n</code></pre>\n<p>The root cause is still unknown, maybe this is related to <a href=\"https://bugs.openjdk.org/browse/JDK-8273553\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8273553</a>, but I was not able to confirm this.</p>\n<p><strong>Update</strong>:\nIn my case, this seems to be a confirmed bug in Undertow: <a href=\"https://issues.redhat.com/browse/UNDERTOW-2239\" rel=\"nofollow noreferrer\">https://issues.redhat.com/browse/UNDERTOW-2239</a>. It is related to JDK 1.8.0_361+, 11.0.18+ or 17.0.6+ (see Oracle support document 2934851.1). So sticking to JDK 11.0.17 (or deactivating SSL) appears to be the only option right now.</p>\n"}],"owner":{"account_id":1029199,"reputation":130,"user_id":1037868,"display_name":"Dev Jadeja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":932,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1684961813,"creation_date":1680315313,"question_id":75903951,"body_markdown":"Below is thread is causing 100% CPU usage randomly, and it only resolves when nodes are restarted, Need help identifying the root cause, My guess is related to some loop which causes CPU SPIKE\r\n\r\n\r\n```\r\nstackTrace:\r\njava.lang.Thread.State: RUNNABLE\\\r\nat javax.net.ssl.SSLEngineResult.&lt;init&gt;(java.base@11.0.18/SSLEngineResult.java:196)\\\r\nat sun.security.ssl.SSLEngineImpl.writeRecord(java.base@11.0.18/SSLEngineImpl.java:164)\\\r\nat sun.security.ssl.SSLEngineImpl.wrap(java.base@11.0.18/SSLEngineImpl.java:136)\\\r\n- eliminated &lt;0x00000000c5c5ebb8&gt; (a sun.security.ssl.SSLEngineImpl)\\\r\nat sun.security.ssl.SSLEngineImpl.wrap(java.base@11.0.18/SSLEngineImpl.java:116)\\\r\n- locked &lt;0x00000000c5c5ebb8&gt; (a sun.security.ssl.SSLEngineImpl)\\\r\nat javax.net.ssl.SSLEngine.wrap(java.base@11.0.18/SSLEngine.java:482)\\\r\nat oracle.net.nt.SSLSocketChannel.shutdown(SSLSocketChannel.java:381)\\\r\n- locked &lt;0x00000000c5c5e868&gt; (a oracle.net.nt.SSLSocketChannel)\\\r\nat oracle.net.nt.SSLSocketChannel.write(SSLSocketChannel.java:242)\\\r\nat oracle.net.ns.NIOPacket.writeToSocketChannel(NIOPacket.java:302)\\\r\nat oracle.net.ns.NIONSDataChannel.writeDataToSocketChannel(NIONSDataChannel.java:173)\\\r\nat oracle.net.ns.NIONSDataChannel.writeDataToSocketChannel(NIONSDataChannel.java:124)\\\r\nat oracle.jdbc.driver.T4CMAREngineNIO.flush(T4CMAREngineNIO.java:727)\\\r\nat oracle.jdbc.driver.T4CMAREngineNIO.prepareForUnmarshall(T4CMAREngineNIO.java:733)\\\r\nat oracle.jdbc.driver.T4CMAREngineNIO.unmarshalUB1(T4CMAREngineNIO.java:413)\\\r\nat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:485)\\\r\nat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:252)\\\r\nat oracle.jdbc.driver.T4C7Ocommoncall.doOCOMMIT(T4C7Ocommoncall.java:72)\\\r\nat oracle.jdbc.driver.T4CConnection.doCommit(T4CConnection.java:961)\\\r\n- eliminated &lt;0x00000000c5c59900&gt; (a oracle.jdbc.driver.T4CConnection)\\\r\nat oracle.jdbc.driver.PhysicalConnection.commit(PhysicalConnection.java:1937)\\\r\n- locked &lt;0x00000000c5c59900&gt; (a oracle.jdbc.driver.T4CConnection)\\\r\nat oracle.jdbc.driver.PhysicalConnection.commit(PhysicalConnection.java:1942)\\\r\nat jdk.internal.reflect.GeneratedMethodAccessor55.invoke(Unknown Source)\\\r\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(java.base@11.0.18/DelegatingMethodAccessorImpl.java:43)\\\r\nat java.lang.reflect.Method.invoke(java.base@11.0.18/Method.java:566)\\\r\nat org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:131)\\\r\nat org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:109)\\\r\nat org.apache.tomcat.jdbc.pool.interceptor.AbstractCreateStatementInterceptor.invoke(AbstractCreateStatementInterceptor.java:79)\\\r\nat org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:109)\\\r\nat org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81)\\\r\nat com.sun.proxy.$Proxy81.commit(Unknown Source)\\\r\nat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:86)\\\r\nat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:282)\\\r\nat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\\\r\nat io.dropwizard.hibernate.SessionFactoryHealthCheck.lambda$check$0(SessionFactoryHealthCheck.java:56)\\\r\nat io.dropwizard.hibernate.SessionFactoryHealthCheck$$Lambda$797/0x0000000840b16440.call(Unknown Source)\\\r\nat java.util.concurrent.FutureTask.run(java.base@11.0.18/FutureTask.java:264)\\\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@11.0.18/ThreadPoolExecutor.java:1128)\\\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@11.0.18/ThreadPoolExecutor.java:628)\\\r\nat com.codahale.metrics.InstrumentedThreadFactory$InstrumentedRunnable.run(InstrumentedThreadFactory.java:66)\\\r\nat java.lang.Thread.run(java.base@11.0.18/Thread.java:834)\\\r\nLocked ownable synchronizers:\\\r\n- &lt;0x00000000c2c9c570&gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)\\\r\n```\r\n\r\n","title":"100% CPU with Tomcat Pool","body":"<p>Below is thread is causing 100% CPU usage randomly, and it only resolves when nodes are restarted, Need help identifying the root cause, My guess is related to some loop which causes CPU SPIKE</p>\n<pre><code>stackTrace:\njava.lang.Thread.State: RUNNABLE\\\nat javax.net.ssl.SSLEngineResult.&lt;init&gt;(java.base@11.0.18/SSLEngineResult.java:196)\\\nat sun.security.ssl.SSLEngineImpl.writeRecord(java.base@11.0.18/SSLEngineImpl.java:164)\\\nat sun.security.ssl.SSLEngineImpl.wrap(java.base@11.0.18/SSLEngineImpl.java:136)\\\n- eliminated &lt;0x00000000c5c5ebb8&gt; (a sun.security.ssl.SSLEngineImpl)\\\nat sun.security.ssl.SSLEngineImpl.wrap(java.base@11.0.18/SSLEngineImpl.java:116)\\\n- locked &lt;0x00000000c5c5ebb8&gt; (a sun.security.ssl.SSLEngineImpl)\\\nat javax.net.ssl.SSLEngine.wrap(java.base@11.0.18/SSLEngine.java:482)\\\nat oracle.net.nt.SSLSocketChannel.shutdown(SSLSocketChannel.java:381)\\\n- locked &lt;0x00000000c5c5e868&gt; (a oracle.net.nt.SSLSocketChannel)\\\nat oracle.net.nt.SSLSocketChannel.write(SSLSocketChannel.java:242)\\\nat oracle.net.ns.NIOPacket.writeToSocketChannel(NIOPacket.java:302)\\\nat oracle.net.ns.NIONSDataChannel.writeDataToSocketChannel(NIONSDataChannel.java:173)\\\nat oracle.net.ns.NIONSDataChannel.writeDataToSocketChannel(NIONSDataChannel.java:124)\\\nat oracle.jdbc.driver.T4CMAREngineNIO.flush(T4CMAREngineNIO.java:727)\\\nat oracle.jdbc.driver.T4CMAREngineNIO.prepareForUnmarshall(T4CMAREngineNIO.java:733)\\\nat oracle.jdbc.driver.T4CMAREngineNIO.unmarshalUB1(T4CMAREngineNIO.java:413)\\\nat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:485)\\\nat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:252)\\\nat oracle.jdbc.driver.T4C7Ocommoncall.doOCOMMIT(T4C7Ocommoncall.java:72)\\\nat oracle.jdbc.driver.T4CConnection.doCommit(T4CConnection.java:961)\\\n- eliminated &lt;0x00000000c5c59900&gt; (a oracle.jdbc.driver.T4CConnection)\\\nat oracle.jdbc.driver.PhysicalConnection.commit(PhysicalConnection.java:1937)\\\n- locked &lt;0x00000000c5c59900&gt; (a oracle.jdbc.driver.T4CConnection)\\\nat oracle.jdbc.driver.PhysicalConnection.commit(PhysicalConnection.java:1942)\\\nat jdk.internal.reflect.GeneratedMethodAccessor55.invoke(Unknown Source)\\\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(java.base@11.0.18/DelegatingMethodAccessorImpl.java:43)\\\nat java.lang.reflect.Method.invoke(java.base@11.0.18/Method.java:566)\\\nat org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:131)\\\nat org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:109)\\\nat org.apache.tomcat.jdbc.pool.interceptor.AbstractCreateStatementInterceptor.invoke(AbstractCreateStatementInterceptor.java:79)\\\nat org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:109)\\\nat org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81)\\\nat com.sun.proxy.$Proxy81.commit(Unknown Source)\\\nat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:86)\\\nat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:282)\\\nat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\\\nat io.dropwizard.hibernate.SessionFactoryHealthCheck.lambda$check$0(SessionFactoryHealthCheck.java:56)\\\nat io.dropwizard.hibernate.SessionFactoryHealthCheck$$Lambda$797/0x0000000840b16440.call(Unknown Source)\\\nat java.util.concurrent.FutureTask.run(java.base@11.0.18/FutureTask.java:264)\\\nat java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@11.0.18/ThreadPoolExecutor.java:1128)\\\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@11.0.18/ThreadPoolExecutor.java:628)\\\nat com.codahale.metrics.InstrumentedThreadFactory$InstrumentedRunnable.run(InstrumentedThreadFactory.java:66)\\\nat java.lang.Thread.run(java.base@11.0.18/Thread.java:834)\\\nLocked ownable synchronizers:\\\n- &lt;0x00000000c2c9c570&gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)\\\n</code></pre>\n"},{"tags":["java","eclipse","character-encoding","french"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1684960508,"post_id":76327178,"comment_id":134595682,"body_markdown":"It&#39;s under _Run Configurations &gt; Common &gt; Console Encoding_.  Switch to &quot;UTF-8&quot; option.","body":"It&#39;s under <i>Run Configurations &gt; Common &gt; Console Encoding</i>.  Switch to &quot;UTF-8&quot; option."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1684962814,"post_id":76327178,"comment_id":134596086,"body_markdown":"Also make sure the **Console font**, set on the **Colors and Fonts** preference page, supports those characters.","body":"Also make sure the <b>Console font</b>, set on the <b>Colors and Fonts</b> preference page, supports those characters."},{"owner":{"account_id":21808321,"reputation":13,"user_id":16106235,"display_name":"Alberto"},"score":0,"creation_date":1684976733,"post_id":76327178,"comment_id":134597655,"body_markdown":"Hi Reilas, Your solution Worked. It worked with ISO-8859-1 but not with UTF-8. Thanks You.","body":"Hi Reilas, Your solution Worked. It worked with ISO-8859-1 but not with UTF-8. Thanks You."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684961347,"creation_date":1684960827,"answer_id":76327263,"question_id":76327178,"body_markdown":"You&#39;ll need to switch to _&quot;UTF-8&quot;_.\r\n\r\n[Common Tab (Help - Eclipse Platform)](https://help.eclipse.org/latest/topic/org.eclipse.jdt.doc.user/reference/ref-launchconfiguration-commontab.htm?resultof=%22%72%75%6e%22%20%22%63%6f%6e%66%69%67%75%72%61%74%69%6f%6e%22%20%22%63%6f%6e%66%69%67%75%72%22%20%22%65%6e%63%6f%64%69%6e%67%22%20%22%65%6e%63%6f%64%22%20).\r\n\r\n&gt; _Encoding_\r\n&gt;  \r\n&gt; Sets the encoding for the console allocated for this launch. If __Default__ is selected the launch will inherit the current Text file encoding setting from the [Workspace preference page](https://help.eclipse.org/latest/topic/org.eclipse.platform.doc.user/reference/ref-9.htm). Or a different encoding can be selected for this launch.","title":"The Java Eclipse Console dont show the correct French characteres","body":"<p>You'll need to switch to <em>&quot;UTF-8&quot;</em>.</p>\n<p><a href=\"https://help.eclipse.org/latest/topic/org.eclipse.jdt.doc.user/reference/ref-launchconfiguration-commontab.htm?resultof=%22%72%75%6e%22%20%22%63%6f%6e%66%69%67%75%72%61%74%69%6f%6e%22%20%22%63%6f%6e%66%69%67%75%72%22%20%22%65%6e%63%6f%64%69%6e%67%22%20%22%65%6e%63%6f%64%22%20\" rel=\"nofollow noreferrer\">Common Tab (Help - Eclipse Platform)</a>.</p>\n<blockquote>\n<p><em>Encoding</em></p>\n<p>Sets the encoding for the console allocated for this launch. If <strong>Default</strong> is selected the launch will inherit the current Text file encoding setting from the <a href=\"https://help.eclipse.org/latest/topic/org.eclipse.platform.doc.user/reference/ref-9.htm\" rel=\"nofollow noreferrer\">Workspace preference page</a>. Or a different encoding can be selected for this launch.</p>\n</blockquote>\n"}],"owner":{"account_id":21808321,"reputation":13,"user_id":16106235,"display_name":"Alberto"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76327263,"answer_count":1,"score":0,"last_activity_date":1684961347,"creation_date":1684959891,"question_id":76327178,"body_markdown":"I’m using Eclipse IDE 2022-09 (4.25.0) and when I print a French text like P&#233;rineau, the console return P�rineau.\r\n\r\nexample:\r\n\r\n    String str = &quot;P&#233;rineau&quot;;\r\n\tSystem.out.println(str);\r\n\r\nconsole:\r\n\r\n    P�rineau\r\n\r\nIs there something that I can do to have a good output?\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"The Java Eclipse Console dont show the correct French characteres","body":"<p>I’m using Eclipse IDE 2022-09 (4.25.0) and when I print a French text like Périneau, the console return P�rineau.</p>\n<p>example:</p>\n<pre><code>String str = &quot;Périneau&quot;;\nSystem.out.println(str);\n</code></pre>\n<p>console:</p>\n<pre><code>P�rineau\n</code></pre>\n<p>Is there something that I can do to have a good output?</p>\n"},{"tags":["java","docker","google-chrome","automated-tests","selenoid"],"owner":{"account_id":28673486,"reputation":1,"user_id":21956037,"display_name":"Vladislav Matkovsky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684960805,"creation_date":1684960805,"question_id":76327261,"body_markdown":"Can&#39;t work in 113th version of Chrome in Selenoid image with HTTP-protocol\r\n\r\nHi all!\r\nI have UI Automation Java project, which work on local Docker Containers with Selenoid and Chrome browser, and have a problem with Selenoid Chrome image version 113.\r\nI have a local server with some pictures, which I use in my local site. When I try to open local URL with this picture, I get a an error ERR_CONNECTION_REFUSED, because links opened in HTTPS protocol, but I expect open this URL in HTTP protocol. \r\nAs I understand, in new version of Chrome add some option which make redirect to HTTPS protocol by default. \r\nI found in Internet some fix, as add new argument in Chrome options \r\n`chromeOptions.addArguments(&quot;disable-features=RedirectToHttps&quot;);`\r\nBut its not work.\r\n\r\nAll tests in 112-th version working correctly. \r\nI will be grateful for your help. ","title":"Selenoid Chrome 113th version is redirecting local URLs to HTTPS, how can I open them in HTTP protocol?","body":"<p>Can't work in 113th version of Chrome in Selenoid image with HTTP-protocol</p>\n<p>Hi all!\nI have UI Automation Java project, which work on local Docker Containers with Selenoid and Chrome browser, and have a problem with Selenoid Chrome image version 113.\nI have a local server with some pictures, which I use in my local site. When I try to open local URL with this picture, I get a an error ERR_CONNECTION_REFUSED, because links opened in HTTPS protocol, but I expect open this URL in HTTP protocol.\nAs I understand, in new version of Chrome add some option which make redirect to HTTPS protocol by default.\nI found in Internet some fix, as add new argument in Chrome options\n<code>chromeOptions.addArguments(&quot;disable-features=RedirectToHttps&quot;);</code>\nBut its not work.</p>\n<p>All tests in 112-th version working correctly.\nI will be grateful for your help.</p>\n"},{"tags":["java","swing","jtextarea","rounded-corners"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1450761962,"post_id":34408943,"comment_id":56559487,"body_markdown":"Did you add the text area to a JScrollPane? Maybe you are seeing the Border of the scroll pane. Post a proper [SSCCE](http://sscce.org/) that demonstrates the problem.","body":"Did you add the text area to a JScrollPane? Maybe you are seeing the Border of the scroll pane. Post a proper <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a> that demonstrates the problem."},{"owner":{"account_id":4554821,"reputation":113,"user_id":3698838,"display_name":"Hanif NR"},"score":0,"creation_date":1450762476,"post_id":34408943,"comment_id":56559623,"body_markdown":"No i just want it has rounded corners","body":"No i just want it has rounded corners"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1450763711,"post_id":34408943,"comment_id":56560016,"body_markdown":"*&quot;i just want it has rounded corners&quot;* Just post a [mcve] or SSCCE.  Voting to close.","body":"<i>&quot;i just want it has rounded corners&quot;</i> Just post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or SSCCE.  Voting to close."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1450763990,"post_id":34408943,"comment_id":56560126,"body_markdown":"Duplicate of [Border with rounded corners &amp; transparency](http://stackoverflow.com/q/15025092/418556).  (Someone else will need to close it, given I added, then retracted a prior close vote, I cannot close it.)","body":"Duplicate of <a href=\"http://stackoverflow.com/q/15025092/418556\">Border with rounded corners &amp; transparency</a>.  (Someone else will need to close it, given I added, then retracted a prior close vote, I cannot close it.)"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1450764792,"creation_date":1450764185,"answer_id":34409411,"question_id":34408943,"body_markdown":"Start by having a look at [How to Use Borders](http://docs.oracle.com/javase/tutorial/uiswing/components/border.html)\r\n\r\nThis is a very simple example:\r\n\r\n\tpublic class RoundBorder implements Border {\r\n\r\n\t\tprivate int radius;\r\n\r\n\t\tpublic RoundBorder(int radius) {\r\n\t\t\tthis.radius = radius;\r\n\t\t}\r\n\r\n\t\tpublic int getRadius() {\r\n\t\t\treturn radius;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void paintBorder(Component c, Graphics g, int x, int y, int width, int height) {\r\n\t\t\tGraphics2D g2d = (Graphics2D) g.create();\r\n\t\t\tg2d.draw(new RoundRectangle2D.Double(x, y, width - 1, height - 1, getRadius(), getRadius()));\r\n\t\t\tg2d.dispose();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Insets getBorderInsets(Component c) {\r\n\t\t\tint value = getRadius() / 2;\r\n\t\t\treturn new Insets(value, value, value, value);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic boolean isBorderOpaque() {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\r\n[![Rounded Border][1]][1]\r\n\r\n\r\n\timport java.awt.Component;\r\n\timport java.awt.EventQueue;\r\n\timport java.awt.Graphics;\r\n\timport java.awt.Graphics2D;\r\n\timport java.awt.GridBagConstraints;\r\n\timport java.awt.GridBagLayout;\r\n\timport java.awt.Insets;\r\n\timport java.awt.geom.RoundRectangle2D;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JPanel;\r\n\timport javax.swing.JScrollPane;\r\n\timport javax.swing.JTextArea;\r\n\timport javax.swing.UIManager;\r\n\timport javax.swing.UnsupportedLookAndFeelException;\r\n\timport javax.swing.border.Border;\r\n\r\n\tpublic class Example {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew Example();\r\n\t\t}\r\n\r\n\t\tpublic Example() {\r\n\t\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n\t\t\t\t\t} catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tJFrame frame = new JFrame(&quot;Testing&quot;);\r\n\t\t\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\t\tframe.add(new TestPane());\r\n\t\t\t\t\tframe.pack();\r\n\t\t\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tpublic class TestPane extends JPanel {\r\n\r\n\t\t\tpublic TestPane() {\r\n\t\t\t\tsetLayout(new GridBagLayout());\r\n\t\t\t\tGridBagConstraints gbc = new GridBagConstraints();\r\n\t\t\t\tgbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\r\n\t\t\t\tJTextArea ta = new JTextArea(10, 20);\r\n\t\t\t\tta.setBorder(new RoundBorder(20));\r\n\r\n\t\t\t\tJScrollPane sp = new JScrollPane(new JTextArea(10, 20));\r\n\t\t\t\tsp.setBorder(new RoundBorder(20));\r\n\r\n\t\t\t\tadd(ta, gbc);\r\n\t\t\t\tadd(sp, gbc);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tpublic class RoundBorder implements Border {\r\n\r\n\t\t\tprivate int radius;\r\n\r\n\t\t\tpublic RoundBorder(int radius) {\r\n\t\t\t\tthis.radius = radius;\r\n\t\t\t}\r\n\r\n\t\t\tpublic int getRadius() {\r\n\t\t\t\treturn radius;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void paintBorder(Component c, Graphics g, int x, int y, int width, int height) {\r\n\t\t\t\tGraphics2D g2d = (Graphics2D) g.create();\r\n\t\t\t\tg2d.draw(new RoundRectangle2D.Double(x, y, width - 1, height - 1, getRadius(), getRadius()));\r\n\t\t\t\tg2d.dispose();\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Insets getBorderInsets(Component c) {\r\n\t\t\t\tint value = getRadius() / 2;\r\n\t\t\t\treturn new Insets(value, value, value, value);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic boolean isBorderOpaque() {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\nProblems, the border is painted &quot;within&quot; the component fill area, meaning that the corners will be the same color as the fill area. There&#39;s no way around it using `Border`.\r\n\r\nThe trick would be to create a second component, onto which you could paint the border (via the `paintComponent`, filling the area within the border the same color as the text area) and then add the component into that.\r\n\r\n**Updated**\r\n\r\nBased on you code example, you&#39;re not overriding `getInsets`, which is going to be very important, the other thing is, it appears that your `JTextArea` is within a `JScrollPane`...\r\n\r\n[![Comparison][2]][2]\r\n\r\n\tpublic class BPosTextArea extends JTextArea {\r\n\r\n\t\tprivate int radius;\r\n\r\n\t\tpublic BPosTextArea() {\r\n\t\t\tsuper(10, 20);\r\n\t\t\tsetOpaque(false);\r\n\t\t\tsetBorder(null);\r\n\t\t\tsetRadius(20);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void paintComponent(Graphics g) {\r\n\t\t\tGraphics2D g2 = (Graphics2D) g.create();\r\n\t\t\tg2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\t\tg2.setColor(getBackground());\r\n\t\t\tg2.fillRoundRect(0, 0, getWidth() - 1, getHeight() - 1, getRadius(), getRadius());\r\n\t\t\tsuper.paintComponent(g);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void paintBorder(Graphics g) {\r\n\t\t\tGraphics2D g2 = (Graphics2D) g.create();\r\n\t\t\tg2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\t\tg2.setColor(new Color(102, 102, 102));\r\n\t\t\tg2.drawRoundRect(0, 0, getWidth() - 1, getHeight() - 1, getRadius(), getRadius());\r\n\t\t}\r\n\r\n\t\tpublic void setRadius(int radius) {\r\n\t\t\tthis.radius = radius;\r\n\t\t\trepaint();\r\n\t\t}\r\n\r\n\t\tpublic int getRadius() {\r\n\t\t\treturn radius;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic Insets getInsets() {\r\n\t\t\tint value = getRadius() / 2;\r\n\t\t\treturn new Insets(value, value, value, value);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/oZ70J.png\r\n  [2]: http://i.stack.imgur.com/F8wfH.png\r\n\r\nA solution is to set the `border` to `null` for the `JScrollPane`","title":"JTextArea Rounded Corners","body":"<p>Start by having a look at <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/border.html\" rel=\"noreferrer\">How to Use Borders</a></p>\n\n<p>This is a very simple example:</p>\n\n<pre><code>public class RoundBorder implements Border {\n\n    private int radius;\n\n    public RoundBorder(int radius) {\n        this.radius = radius;\n    }\n\n    public int getRadius() {\n        return radius;\n    }\n\n    @Override\n    public void paintBorder(Component c, Graphics g, int x, int y, int width, int height) {\n        Graphics2D g2d = (Graphics2D) g.create();\n        g2d.draw(new RoundRectangle2D.Double(x, y, width - 1, height - 1, getRadius(), getRadius()));\n        g2d.dispose();\n    }\n\n    @Override\n    public Insets getBorderInsets(Component c) {\n        int value = getRadius() / 2;\n        return new Insets(value, value, value, value);\n    }\n\n    @Override\n    public boolean isBorderOpaque() {\n        return false;\n    }\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/oZ70J.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oZ70J.png\" alt=\"Rounded Border\"></a></p>\n\n<pre><code>import java.awt.Component;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.geom.RoundRectangle2D;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\nimport javax.swing.border.Border;\n\npublic class Example {\n\n    public static void main(String[] args) {\n        new Example();\n    }\n\n    public Example() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JFrame frame = new JFrame(\"Testing\");\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n            JTextArea ta = new JTextArea(10, 20);\n            ta.setBorder(new RoundBorder(20));\n\n            JScrollPane sp = new JScrollPane(new JTextArea(10, 20));\n            sp.setBorder(new RoundBorder(20));\n\n            add(ta, gbc);\n            add(sp, gbc);\n        }\n\n    }\n\n    public class RoundBorder implements Border {\n\n        private int radius;\n\n        public RoundBorder(int radius) {\n            this.radius = radius;\n        }\n\n        public int getRadius() {\n            return radius;\n        }\n\n        @Override\n        public void paintBorder(Component c, Graphics g, int x, int y, int width, int height) {\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.draw(new RoundRectangle2D.Double(x, y, width - 1, height - 1, getRadius(), getRadius()));\n            g2d.dispose();\n        }\n\n        @Override\n        public Insets getBorderInsets(Component c) {\n            int value = getRadius() / 2;\n            return new Insets(value, value, value, value);\n        }\n\n        @Override\n        public boolean isBorderOpaque() {\n            return false;\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Problems, the border is painted \"within\" the component fill area, meaning that the corners will be the same color as the fill area. There's no way around it using <code>Border</code>.</p>\n\n<p>The trick would be to create a second component, onto which you could paint the border (via the <code>paintComponent</code>, filling the area within the border the same color as the text area) and then add the component into that.</p>\n\n<p><strong>Updated</strong></p>\n\n<p>Based on you code example, you're not overriding <code>getInsets</code>, which is going to be very important, the other thing is, it appears that your <code>JTextArea</code> is within a <code>JScrollPane</code>...</p>\n\n<p><a href=\"https://i.stack.imgur.com/F8wfH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/F8wfH.png\" alt=\"Comparison\"></a></p>\n\n<pre><code>public class BPosTextArea extends JTextArea {\n\n    private int radius;\n\n    public BPosTextArea() {\n        super(10, 20);\n        setOpaque(false);\n        setBorder(null);\n        setRadius(20);\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        Graphics2D g2 = (Graphics2D) g.create();\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        g2.setColor(getBackground());\n        g2.fillRoundRect(0, 0, getWidth() - 1, getHeight() - 1, getRadius(), getRadius());\n        super.paintComponent(g);\n    }\n\n    @Override\n    protected void paintBorder(Graphics g) {\n        Graphics2D g2 = (Graphics2D) g.create();\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        g2.setColor(new Color(102, 102, 102));\n        g2.drawRoundRect(0, 0, getWidth() - 1, getHeight() - 1, getRadius(), getRadius());\n    }\n\n    public void setRadius(int radius) {\n        this.radius = radius;\n        repaint();\n    }\n\n    public int getRadius() {\n        return radius;\n    }\n\n    @Override\n    public Insets getInsets() {\n        int value = getRadius() / 2;\n        return new Insets(value, value, value, value);\n    }\n\n}\n</code></pre>\n\n<p>A solution is to set the <code>border</code> to <code>null</code> for the <code>JScrollPane</code></p>\n"},{"tags":[],"owner":{"account_id":28672425,"reputation":1,"user_id":21955202,"display_name":"Codigo Patito"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684960109,"creation_date":1684947813,"answer_id":76325891,"question_id":34408943,"body_markdown":"Your code is fine, the detail is that JTextArea is linked to a JScrollPane which is adding that border to your TextArea, I corrected it this way. You must check what scrollpane is linked to once identified in the constructor of your class you must add this.\r\n\r\n     jScrollPane.setBorder(BorderFactory.createEmptyBorder(0,0,0,0));\r\n\r\nand your textarea will look like this:\r\n\r\n![example][1]\r\n\r\nYou can give more style to your scroll but that is already separate.\r\n\r\n  [1]: https://i.stack.imgur.com/NXtev.png","title":"JTextArea Rounded Corners","body":"<p>Your code is fine, the detail is that JTextArea is linked to a JScrollPane which is adding that border to your TextArea, I corrected it this way. You must check what scrollpane is linked to once identified in the constructor of your class you must add this.</p>\n<pre><code> jScrollPane.setBorder(BorderFactory.createEmptyBorder(0,0,0,0));\n</code></pre>\n<p>and your textarea will look like this:</p>\n<p><img src=\"https://i.stack.imgur.com/NXtev.png\" alt=\"example\" /></p>\n<p>You can give more style to your scroll but that is already separate.</p>\n"}],"owner":{"account_id":4554821,"reputation":113,"user_id":3698838,"display_name":"Hanif NR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2131,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":34409411,"answer_count":2,"score":4,"last_activity_date":1684960109,"creation_date":1450761709,"question_id":34408943,"body_markdown":"I want to make JTextArea has a rounded corners, and i did this code :\r\n\r\n    public BPosTxtArea() {\r\n        super();\r\n        setOpaque(false);\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        Graphics2D g2 = (Graphics2D) g.create();\r\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n        g2.setColor(getBackground());\r\n        g2.fillRoundRect(0, 0, getWidth() - 1, getHeight() - 1, 15, 15);\r\n        super.paintComponent(g);\r\n    }\r\n\r\n    @Override\r\n    protected void paintBorder(Graphics g) {\r\n        Graphics2D g2 = (Graphics2D) g.create();\r\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n        g2.setColor(new Color(102, 102, 102));\r\n        g2.drawRoundRect(0, 0, getWidth() - 1, getHeight() - 1, 15, 15);\r\n    }\r\n\r\nbut it still has a square border outside like picture bellow :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/PfbB5.png\r\n\r\nCan anyone help me?","title":"JTextArea Rounded Corners","body":"<p>I want to make JTextArea has a rounded corners, and i did this code :</p>\n\n<pre><code>public BPosTxtArea() {\n    super();\n    setOpaque(false);\n}\n\n@Override\nprotected void paintComponent(Graphics g) {\n    Graphics2D g2 = (Graphics2D) g.create();\n    g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n    g2.setColor(getBackground());\n    g2.fillRoundRect(0, 0, getWidth() - 1, getHeight() - 1, 15, 15);\n    super.paintComponent(g);\n}\n\n@Override\nprotected void paintBorder(Graphics g) {\n    Graphics2D g2 = (Graphics2D) g.create();\n    g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n    g2.setColor(new Color(102, 102, 102));\n    g2.drawRoundRect(0, 0, getWidth() - 1, getHeight() - 1, 15, 15);\n}\n</code></pre>\n\n<p>but it still has a square border outside like picture bellow :</p>\n\n<p><a href=\"https://i.stack.imgur.com/PfbB5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PfbB5.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can anyone help me?</p>\n"},{"tags":["java","sql","spring-boot","date"],"owner":{"account_id":28671743,"reputation":1,"user_id":21954672,"display_name":"Vidushi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684945793,"answer_count":0,"score":0,"last_activity_date":1684959793,"creation_date":1684942532,"question_id":76325224,"body_markdown":"I have an Oracle DB Table called Details. It has columns end_date and status.\r\nStatus Could be Active, Expired etc\r\nend_date are dates in format `YYYY-MM-DD+HH24:MI` in varchar datatype.\r\n\r\nIn a Springboot Java application I need to define a method `findAllByFnlColltnDtBeforeNow()` in my `DetailsRepository` Interface which extends `CrudRepository`\r\n\r\n`findAllByFnlColltnDtBeforeNow()` need to find all records which have\r\n \r\n1. status= ACTIVE, \r\n2. end_date is not null and \r\n3. end_date &lt; Sysdate\r\n\r\n\r\nThe query is\r\n\r\n    @Query(value =&quot;SELECT * FROM DETAILS WHERE UPPER(status)=&#39;ACTIVE&#39; AND TRUNC(TO_DATE(end_date, &#39;YYYY-MM-DD+HH24:MI&#39;)) = TRUNC(SYSDATE)-1&quot;,nativeQuery = true)\r\n    List&lt;Entity&gt; findAllByFnlColltnDtBeforeNow();\r\n\r\nThe given query works directly in SQLDevloper (OracleDB ), but gives following error when written in Springboot Application\r\n\r\n     SQL Error: 1841, SQLState: 22008\r\n     ORA-01841: (full) year must be between -4713 and +9999, and not be 0\r\n\r\nThis issue occured as soon as i introduced null value in end_date. The query worked directly in SQLDevloper.\r\n\r\nI tried using condition &quot;and end_date is not null&quot; but it still shows same issue\r\n\r\nWhy is the given Query working in SQLDevloper, but throwing error when calling findAllByFnlColltnDtBeforeNow() method? Also How to resolve this?\r\n\r\n\r\n\r\n","title":"How can I fix the ORA-01841 error when running a SQL query with null values in end_date in a Springboot Java application using OracleDB?","body":"<p>I have an Oracle DB Table called Details. It has columns end_date and status.\nStatus Could be Active, Expired etc\nend_date are dates in format <code>YYYY-MM-DD+HH24:MI</code> in varchar datatype.</p>\n<p>In a Springboot Java application I need to define a method <code>findAllByFnlColltnDtBeforeNow()</code> in my <code>DetailsRepository</code> Interface which extends <code>CrudRepository</code></p>\n<p><code>findAllByFnlColltnDtBeforeNow()</code> need to find all records which have</p>\n<ol>\n<li>status= ACTIVE,</li>\n<li>end_date is not null and</li>\n<li>end_date &lt; Sysdate</li>\n</ol>\n<p>The query is</p>\n<pre><code>@Query(value =&quot;SELECT * FROM DETAILS WHERE UPPER(status)='ACTIVE' AND TRUNC(TO_DATE(end_date, 'YYYY-MM-DD+HH24:MI')) = TRUNC(SYSDATE)-1&quot;,nativeQuery = true)\nList&lt;Entity&gt; findAllByFnlColltnDtBeforeNow();\n</code></pre>\n<p>The given query works directly in SQLDevloper (OracleDB ), but gives following error when written in Springboot Application</p>\n<pre><code> SQL Error: 1841, SQLState: 22008\n ORA-01841: (full) year must be between -4713 and +9999, and not be 0\n</code></pre>\n<p>This issue occured as soon as i introduced null value in end_date. The query worked directly in SQLDevloper.</p>\n<p>I tried using condition &quot;and end_date is not null&quot; but it still shows same issue</p>\n<p>Why is the given Query working in SQLDevloper, but throwing error when calling findAllByFnlColltnDtBeforeNow() method? Also How to resolve this?</p>\n"},{"tags":["java","spring-boot","maven","swagger-ui","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":0,"creation_date":1619601332,"post_id":67297184,"comment_id":118951958,"body_markdown":"Have you tried using the Swagger-specific `@ApiParam` annotation in addition to the Spring annotations?","body":"Have you tried using the Swagger-specific <code>@ApiParam</code> annotation in addition to the Spring annotations?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1619601685,"post_id":67297184,"comment_id":118952099,"body_markdown":"`@Parameter` isn&#39;t a spring annotation, so not sure how that should be handled. You should be using `@RequestParam` which is a Spring MVC annotation.","body":"<code>@Parameter</code> isn&#39;t a spring annotation, so not sure how that should be handled. You should be using <code>@RequestParam</code> which is a Spring MVC annotation."},{"owner":{"account_id":8944604,"reputation":110,"user_id":6672520,"display_name":"Bashir Zamani"},"score":1,"creation_date":1619602348,"post_id":67297184,"comment_id":118952390,"body_markdown":"thank you . my problem is with annotation @Parameter that belongs to io.swagger.v3.oas.annotations.Parameter. by default should be required = false, but as in swagger-ui screen shot shows, labeled with * required!","body":"thank you . my problem is with annotation @Parameter that belongs to io.swagger.v3.oas.annotations.Parameter. by default should be required = false, but as in swagger-ui screen shot shows, labeled with * required!"},{"owner":{"account_id":8944604,"reputation":110,"user_id":6672520,"display_name":"Bashir Zamani"},"score":0,"creation_date":1619602686,"post_id":67297184,"comment_id":118952553,"body_markdown":"dear @user991710.@ApiParam belongs to springfox-swagger , i use springdoc-openapi-ui.","body":"dear @user991710.@ApiParam belongs to springfox-swagger , i use springdoc-openapi-ui."},{"owner":{"account_id":8944604,"reputation":110,"user_id":6672520,"display_name":"Bashir Zamani"},"score":0,"creation_date":1619604293,"post_id":67297184,"comment_id":118953306,"body_markdown":"thanks m-deinum  problem resolved by add @RequestParam.","body":"thanks m-deinum  problem resolved by add @RequestParam."}],"answers":[{"tags":[],"owner":{"account_id":8796832,"reputation":306,"user_id":6574475,"display_name":"Milad Amery"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1654903541,"creation_date":1619604375,"answer_id":67298107,"question_id":67297184,"body_markdown":"I don&#39;t know how much of swagger annotations Springdoc-openapi supports but according to its own example at [PetApiDemo][1] in */findByStatus* or */findByTags* endpoints you can see by applying `@RequestParam(required = false)` which is a Spring Annotation! a parameter has become optional.\r\n\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    default ResponseEntity&lt;List&lt;Pet&gt;&gt; findPetsByStatus(\r\n            @Parameter(\r\n                    explode = Explode.TRUE, \r\n                    name = &quot;status&quot;, \r\n                    in = ParameterIn.QUERY, \r\n                    description = &quot;Status values that need to be considered for filter&quot;, \r\n                    style = ParameterStyle.FORM, \r\n                    schema = @Schema(\r\n                            type = &quot;string&quot;, defaultValue = &quot;available&quot;, \r\n                            allowableValues = {&quot;available&quot;, &quot;pending&quot;, &quot;sold&quot;}\r\n                    )\r\n            )\r\n            @Valid @RequestParam(value = &quot;status&quot;, required = false)\r\n            List&lt;String&gt; status) {\r\n        return getDelegate().findPetsByStatus(status);\r\n    }\r\n\r\n  [1]: https://github.com/springdoc/springdoc-openapi-demos/blob/master/springdoc-openapi-spring-boot-2-webmvc/src/main/java/org/springdoc/demo/app2/api/PetApi.java","title":"@Parameter(required = false) not working in swagger open api v3","body":"<p>I don't know how much of swagger annotations Springdoc-openapi supports but according to its own example at <a href=\"https://github.com/springdoc/springdoc-openapi-demos/blob/master/springdoc-openapi-spring-boot-2-webmvc/src/main/java/org/springdoc/demo/app2/api/PetApi.java\" rel=\"noreferrer\">PetApiDemo</a> in <em>/findByStatus</em> or <em>/findByTags</em> endpoints you can see by applying <code>@RequestParam(required = false)</code> which is a Spring Annotation! a parameter has become optional.</p>\n<pre><code>import org.springframework.web.bind.annotation.RequestParam;\ndefault ResponseEntity&lt;List&lt;Pet&gt;&gt; findPetsByStatus(\n        @Parameter(\n                explode = Explode.TRUE, \n                name = &quot;status&quot;, \n                in = ParameterIn.QUERY, \n                description = &quot;Status values that need to be considered for filter&quot;, \n                style = ParameterStyle.FORM, \n                schema = @Schema(\n                        type = &quot;string&quot;, defaultValue = &quot;available&quot;, \n                        allowableValues = {&quot;available&quot;, &quot;pending&quot;, &quot;sold&quot;}\n                )\n        )\n        @Valid @RequestParam(value = &quot;status&quot;, required = false)\n        List&lt;String&gt; status) {\n    return getDelegate().findPetsByStatus(status);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28289644,"reputation":11,"user_id":21629989,"display_name":"Anton Lukyanau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681345118,"creation_date":1681345118,"answer_id":76000747,"question_id":67297184,"body_markdown":"I had the same problem. My solution is add jakarta.annotation.@Nullable for non required parameters.\r\n\r\n    public ResponseEntity&lt;?&gt; getAllByMonthAndYear(\r\n            @Nullable @RequestParam(&quot;month&quot;) Integer month,\r\n            @Nullable @RequestParam(&quot;year&quot;) Integer year\r\n    ) {...","title":"@Parameter(required = false) not working in swagger open api v3","body":"<p>I had the same problem. My solution is add jakarta.annotation.@Nullable for non required parameters.</p>\n<pre><code>public ResponseEntity&lt;?&gt; getAllByMonthAndYear(\n        @Nullable @RequestParam(&quot;month&quot;) Integer month,\n        @Nullable @RequestParam(&quot;year&quot;) Integer year\n) {...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24993045,"reputation":31,"user_id":18854025,"display_name":"Silas Caimi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684959777,"creation_date":1684939723,"answer_id":76324788,"question_id":67297184,"body_markdown":"I analyzed the options reported above and came to the following conclusions\r\n\r\nBoth `@RequestParam(required = false)` and `@Nullable` result in the same behavior in the swagger documentation by removing the ***required**, however the behavior is different in the application:\r\n\r\n* Using `@RequestParam(required = false)` makes the method more descriptive but if the object is not passed it will be null.\r\nThis requires handling to avoid NullpointerException\r\n\r\n* When using `@Nullable`, if the object is not passed, an instance of the object is still received with all attributes as null, in this case not requiring treatment\r\n\r\nIn my case I chose to use `@Nullable` in the interface to keep the default behavior","title":"@Parameter(required = false) not working in swagger open api v3","body":"<p>I analyzed the options reported above and came to the following conclusions</p>\n<p>Both <code>@RequestParam(required = false)</code> and <code>@Nullable</code> result in the same behavior in the swagger documentation by removing the *<strong>required</strong>, however the behavior is different in the application:</p>\n<ul>\n<li><p>Using <code>@RequestParam(required = false)</code> makes the method more descriptive but if the object is not passed it will be null.\nThis requires handling to avoid NullpointerException</p>\n</li>\n<li><p>When using <code>@Nullable</code>, if the object is not passed, an instance of the object is still received with all attributes as null, in this case not requiring treatment</p>\n</li>\n</ul>\n<p>In my case I chose to use <code>@Nullable</code> in the interface to keep the default behavior</p>\n"}],"owner":{"account_id":8944604,"reputation":110,"user_id":6672520,"display_name":"Bashir Zamani"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15790,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":67298107,"answer_count":3,"score":7,"last_activity_date":1684959777,"creation_date":1619600966,"question_id":67297184,"body_markdown":"my project is java spring boot 2 with maven . I use springdoc-openapi-ui dependency. problem is \r\n@Parameter(required = false) not working on my api params. \r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kOT7k.png\r\n  [2]: https://i.stack.imgur.com/Op5xO.png","title":"@Parameter(required = false) not working in swagger open api v3","body":"<p>my project is java spring boot 2 with maven . I use springdoc-openapi-ui dependency. problem is\n@Parameter(required = false) not working on my api params.\n<a href=\"https://i.stack.imgur.com/kOT7k.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kOT7k.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Op5xO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Op5xO.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"score":1,"creation_date":1684945252,"post_id":76325255,"comment_id":134592735,"body_markdown":"That should be possible. You could use the dialect as lookup key and assign the specific key to the specific data source. I&#39;ll try to add a corresponding answer","body":"That should be possible. You could use the dialect as lookup key and assign the specific key to the specific data source. I&#39;ll try to add a corresponding answer"}],"answers":[{"tags":[],"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684959617,"creation_date":1684959617,"answer_id":76327147,"question_id":76325255,"body_markdown":"First you need to provide an implementation of  `AbstractRoutingDataSource`\r\n\r\n    public class DialectSpecificSourceRouting extends AbstractRoutingDataSource {\r\n        @Override\r\n        protected Object determineCurrentLookupKey() {\r\n            return Features.currentDialect();\r\n        }\r\n    }\r\n\r\nThis class will be taken into account when trying to lookup the specific lookup key. The `Features` is just a static class which give access to the configured dialect. You can also implement it another way. \r\n\r\nNext you need to build your datasources. For this you need some kind of configuration class where you can set each dialect to a specific data source configuration. Following is a minimal example:\r\n\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    @ConfigurationProperties(prefix = &quot;foo&quot;)\r\n    public class MultiDialectConfiguration {\r\n    \r\n        public Set&lt;String&gt; dialects;\r\n    \r\n        public void setDialects(Set&lt;String&gt; dialects) {\r\n           this.dialects = dialects;\r\n        }\r\n        private Map&lt;String, DataSource&gt; dataSourceMap;\r\n    \r\n        public Map&lt;String, DataSource&gt; getDataSourceMap() {\r\n            return dataSourceMap;\r\n        }\r\n    \r\n        @PostConstruct\r\n        public void postConstruct() {\r\n            this.dataSourceMap = this.dialects.stream()\r\n                    .collect(Collectors.toMap(Function.identity(), this::createDialectSpecificDataSource);\r\n        }\r\n    \r\n        private DataSource createDialectSpecificDataSource(String dialect) {\r\n    \r\n            HikariConfig dialectSpecificConfig = new HikariConfig();\r\n            dialectSpecificConfig.setJdbcUrl(&quot;urlfromConfig&quot;);\r\n            dialectSpecificConfig.setUsername(&quot;usernamefromConfig&quot;);\r\n            dialectSpecificConfig.setPassword(&quot;passwordfromconfig&quot;);\r\n            dialectSpecificConfig.setPoolName(String.format(&quot;%s-db-pool&quot;, dialect);\r\n            dialectSpecificConfig.setDriverClassName(&quot;YOUR&quot;);\r\n            dialectSpecificConfig.setMaximumPoolSize(10);\r\n            dialectSpecificConfig.setLeakDetectionThreshold(10);\r\n    \r\n    \r\n            return new HikariDataSource(dialectSpecificConfig);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nThis class contains a map which holds the dialect as Key and the specific DataSource as value. Sure, you need to provide the configuration properties from e.g. the `application.properties` file using own prefixes. \r\n\r\n\r\nLast step we need to provide our `DataSource` `Bean` using the previously configured DataSource map. \r\n\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    public class DialectSpecificDataSource {\r\n        private final MultiDialectConfiguration multiDialectConfiguration;\r\n    \r\n        @Bean\r\n        public DataSource dataSource() {\r\n            final DialectSpecificSourceRouting dialectSpecificDataSourceRouting = new DialectSpecificSourceRouting();\r\n            final Map&lt;Object, Object&gt; targetDataSources = multiDialectConfiguration.getDataSourceMap()\r\n                    .entrySet()\r\n                    .stream()\r\n                    .collect(Collectors.toUnmodifiableMap(Map.Entry::getKey, Map.Entry::getValue));\r\n    \r\n            dialectSpecificDataSourceRouting.setTargetDataSources(targetDataSources);\r\n            return dialectSpecificDataSourceRouting;\r\n        }\r\n    }\r\n\r\n\r\nThat should be a way to implement your requirements. \r\n\r\nThis way round it is also possible to implement a multi tenancy application using different databases in the background. \r\n\r\n\r\n","title":"Spring Boot - dynamically choose datasource with different SQL flavours based on a feature toggle","body":"<p>First you need to provide an implementation of  <code>AbstractRoutingDataSource</code></p>\n<pre><code>public class DialectSpecificSourceRouting extends AbstractRoutingDataSource {\n    @Override\n    protected Object determineCurrentLookupKey() {\n        return Features.currentDialect();\n    }\n}\n</code></pre>\n<p>This class will be taken into account when trying to lookup the specific lookup key. The <code>Features</code> is just a static class which give access to the configured dialect. You can also implement it another way.</p>\n<p>Next you need to build your datasources. For this you need some kind of configuration class where you can set each dialect to a specific data source configuration. Following is a minimal example:</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\n@ConfigurationProperties(prefix = &quot;foo&quot;)\npublic class MultiDialectConfiguration {\n\n    public Set&lt;String&gt; dialects;\n\n    public void setDialects(Set&lt;String&gt; dialects) {\n       this.dialects = dialects;\n    }\n    private Map&lt;String, DataSource&gt; dataSourceMap;\n\n    public Map&lt;String, DataSource&gt; getDataSourceMap() {\n        return dataSourceMap;\n    }\n\n    @PostConstruct\n    public void postConstruct() {\n        this.dataSourceMap = this.dialects.stream()\n                .collect(Collectors.toMap(Function.identity(), this::createDialectSpecificDataSource);\n    }\n\n    private DataSource createDialectSpecificDataSource(String dialect) {\n\n        HikariConfig dialectSpecificConfig = new HikariConfig();\n        dialectSpecificConfig.setJdbcUrl(&quot;urlfromConfig&quot;);\n        dialectSpecificConfig.setUsername(&quot;usernamefromConfig&quot;);\n        dialectSpecificConfig.setPassword(&quot;passwordfromconfig&quot;);\n        dialectSpecificConfig.setPoolName(String.format(&quot;%s-db-pool&quot;, dialect);\n        dialectSpecificConfig.setDriverClassName(&quot;YOUR&quot;);\n        dialectSpecificConfig.setMaximumPoolSize(10);\n        dialectSpecificConfig.setLeakDetectionThreshold(10);\n\n\n        return new HikariDataSource(dialectSpecificConfig);\n    }\n\n\n}\n</code></pre>\n<p>This class contains a map which holds the dialect as Key and the specific DataSource as value. Sure, you need to provide the configuration properties from e.g. the <code>application.properties</code> file using own prefixes.</p>\n<p>Last step we need to provide our <code>DataSource</code> <code>Bean</code> using the previously configured DataSource map.</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class DialectSpecificDataSource {\n    private final MultiDialectConfiguration multiDialectConfiguration;\n\n    @Bean\n    public DataSource dataSource() {\n        final DialectSpecificSourceRouting dialectSpecificDataSourceRouting = new DialectSpecificSourceRouting();\n        final Map&lt;Object, Object&gt; targetDataSources = multiDialectConfiguration.getDataSourceMap()\n                .entrySet()\n                .stream()\n                .collect(Collectors.toUnmodifiableMap(Map.Entry::getKey, Map.Entry::getValue));\n\n        dialectSpecificDataSourceRouting.setTargetDataSources(targetDataSources);\n        return dialectSpecificDataSourceRouting;\n    }\n}\n</code></pre>\n<p>That should be a way to implement your requirements.</p>\n<p>This way round it is also possible to implement a multi tenancy application using different databases in the background.</p>\n"}],"owner":{"account_id":6727,"reputation":26865,"user_id":11439,"accept_rate":70,"display_name":"sumek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684959617,"creation_date":1684942749,"question_id":76325255,"body_markdown":"I have a number of existing Spring Boot applications that use either Crud or Jpa repositories. I&#39;m working on migrating them from SQL Server to Postgres. I&#39;d like to be able to dynamically swap the used datasource at runtime based on a value of a feature toggle. I&#39;ve been looking at [AbstractRoutingDatasource][1]. It seems that the lookup key could be a value provided by my feature toggle system. It would be different from the usual case, but feels it would work. I&#39;m still not sure though how would I use it with the repositories and if it allowed me to swap the dialect of the generated SQL\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-abstract-routing-data-source","title":"Spring Boot - dynamically choose datasource with different SQL flavours based on a feature toggle","body":"<p>I have a number of existing Spring Boot applications that use either Crud or Jpa repositories. I'm working on migrating them from SQL Server to Postgres. I'd like to be able to dynamically swap the used datasource at runtime based on a value of a feature toggle. I've been looking at <a href=\"https://www.baeldung.com/spring-abstract-routing-data-source\" rel=\"nofollow noreferrer\">AbstractRoutingDatasource</a>. It seems that the lookup key could be a value provided by my feature toggle system. It would be different from the usual case, but feels it would work. I'm still not sure though how would I use it with the repositories and if it allowed me to swap the dialect of the generated SQL</p>\n"},{"tags":["java","android","audio","apk","android-tv"],"answers":[{"tags":[],"owner":{"account_id":20485405,"reputation":371,"user_id":15032680,"display_name":"Guillaume P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684959604,"creation_date":1684959604,"answer_id":76327145,"question_id":75558739,"body_markdown":"You can use different approach to catch volume change by listening to the android.media.VOLUME_CHANGED_ACTION broadcast.","title":"Android studio VOLUME UP/DOWN/MUTE event didn&#39;t triggered","body":"<p>You can use different approach to catch volume change by listening to the android.media.VOLUME_CHANGED_ACTION broadcast.</p>\n"}],"owner":{"account_id":19098080,"reputation":1,"user_id":13946939,"display_name":"andro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684959604,"creation_date":1677254474,"question_id":75558739,"body_markdown":"i&#39;m trying to capture the Volume UP/ Down and Muted remote&#39;s events on an Android Studio Activity in a WebView (without any player active). \r\n\r\n\r\n\r\n\r\nI already tryed to Override onKeyDown, OnKeyLongPress and dispatchKeyEvent but I&#39;m able to capture all remote&#39;s button except the audio buttons.\r\n\r\nExample:\r\n\r\n    @SuppressLint(&quot;RestrictedApi&quot;)\r\n    @Override\r\n    public boolean dispatchKeyEvent(KeyEvent event) {\r\n        int action = event.getAction();\r\n        int keyCode = event.getKeyCode();\r\n        switch (keyCode) {\r\n            case KeyEvent.KEYCODE_VOLUME_UP:\r\n                if (action == KeyEvent.ACTION_DOWN) {\r\n                    //todo\r\n                }\r\n                return true;\r\n            case KeyEvent.KEYCODE_VOLUME_DOWN:\r\n                if (action == KeyEvent.ACTION_DOWN) {\r\n                    //todo\r\n                }\r\n                return true;\r\n            default:\r\n                return super.dispatchKeyEvent(event);\r\n        }\r\n    }\r\n\r\nThe function is triggered by all buttons except audio buttons.\r\nCould anyone help me?\r\n\r\nThank you","title":"Android studio VOLUME UP/DOWN/MUTE event didn&#39;t triggered","body":"<p>i'm trying to capture the Volume UP/ Down and Muted remote's events on an Android Studio Activity in a WebView (without any player active).</p>\n<p>I already tryed to Override onKeyDown, OnKeyLongPress and dispatchKeyEvent but I'm able to capture all remote's button except the audio buttons.</p>\n<p>Example:</p>\n<pre><code>@SuppressLint(&quot;RestrictedApi&quot;)\n@Override\npublic boolean dispatchKeyEvent(KeyEvent event) {\n    int action = event.getAction();\n    int keyCode = event.getKeyCode();\n    switch (keyCode) {\n        case KeyEvent.KEYCODE_VOLUME_UP:\n            if (action == KeyEvent.ACTION_DOWN) {\n                //todo\n            }\n            return true;\n        case KeyEvent.KEYCODE_VOLUME_DOWN:\n            if (action == KeyEvent.ACTION_DOWN) {\n                //todo\n            }\n            return true;\n        default:\n            return super.dispatchKeyEvent(event);\n    }\n}\n</code></pre>\n<p>The function is triggered by all buttons except audio buttons.\nCould anyone help me?</p>\n<p>Thank you</p>\n"},{"tags":["java","concurrency","queue"],"comments":[{"owner":{"account_id":677225,"reputation":6228,"user_id":676877,"display_name":"Brett Okken"},"score":0,"creation_date":1470259704,"post_id":38753916,"comment_id":64881675,"body_markdown":"It is not clear to me what you are asking. What does the fact that `size` is not a constant time operation have to do with checking whether the `add` method returns the correct value?","body":"It is not clear to me what you are asking. What does the fact that <code>size</code> is not a constant time operation have to do with checking whether the <code>add</code> method returns the correct value?"}],"answers":[{"tags":[],"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1470261047,"creation_date":1470261047,"answer_id":38754226,"question_id":38753916,"body_markdown":"It is true that your `ConcurrentSkipListSet.add(element)` can return `true` or `false` depending on whether the set is being simultaneously modified by another thread using iterator, which here is **[weakly consistent][1]**, or by bulk methods (i.e. `xxxAll()`) which are not atomic.\r\n\r\nPlease mind however that `add()` and `remove()` methods are thread safe, so as long as you modify your set using **only** these you will be fine.\r\n\r\nIt will be down to your specific application what to do about it. If the element was not there, but got added, that&#39;s good. Is it so bad if the element was there in the first place and therefore not added?\r\n\r\nYou can devise a class containing (or perhaps extending) `ConcurrentSkipListSet` with very controlled API preventing any of the problematic operations or making them thread safe by using locks.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28915215/iterator-type-in-java-weakly-consistent","title":"Is there a foolproof sanity check for a dynamic queue set","body":"<p>It is true that your <code>ConcurrentSkipListSet.add(element)</code> can return <code>true</code> or <code>false</code> depending on whether the set is being simultaneously modified by another thread using iterator, which here is <strong><a href=\"https://stackoverflow.com/questions/28915215/iterator-type-in-java-weakly-consistent\">weakly consistent</a></strong>, or by bulk methods (i.e. <code>xxxAll()</code>) which are not atomic.</p>\n\n<p>Please mind however that <code>add()</code> and <code>remove()</code> methods are thread safe, so as long as you modify your set using <strong>only</strong> these you will be fine.</p>\n\n<p>It will be down to your specific application what to do about it. If the element was not there, but got added, that's good. Is it so bad if the element was there in the first place and therefore not added?</p>\n\n<p>You can devise a class containing (or perhaps extending) <code>ConcurrentSkipListSet</code> with very controlled API preventing any of the problematic operations or making them thread safe by using locks.</p>\n"}],"owner":{"account_id":3506506,"reputation":499,"user_id":2931946,"accept_rate":62,"display_name":"Ayush"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38754226,"answer_count":1,"score":0,"last_activity_date":1684959584,"creation_date":1470259563,"question_id":38753916,"body_markdown":"I have an object QueueSet made from [ConcurrentSkipListSet][1] in Java\r\n\r\n&gt; Beware that, unlike in most collections, the size method is not a constant-time operation. Because of the asynchronous nature of these sets, determining the current number of elements requires a traversal of the elements, and so may report inaccurate results if this collection is modified during traversal. Additionally, the bulk operations addAll, removeAll, retainAll, containsAll, equals, and toArray are not guaranteed to be performed atomically. For example, an iterator operating concurrently with an addAll operation might view only some of the added elements.\r\n\r\n**Problem**: There is flawed sanity check on this `if(!activeQueueSet.add(queue))` but as you can see from the documentation its a O(n) operation i.e. the whole set is traversed which somehow misinterprets the state of the list quite a lot of times. I&#39;m looking for a foolproof sanity check on this.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListSet.html","title":"Is there a foolproof sanity check for a dynamic queue set","body":"<p>I have an object QueueSet made from <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListSet.html\" rel=\"nofollow noreferrer\">ConcurrentSkipListSet</a> in Java</p>\n<blockquote>\n<p>Beware that, unlike in most collections, the size method is not a constant-time operation. Because of the asynchronous nature of these sets, determining the current number of elements requires a traversal of the elements, and so may report inaccurate results if this collection is modified during traversal. Additionally, the bulk operations addAll, removeAll, retainAll, containsAll, equals, and toArray are not guaranteed to be performed atomically. For example, an iterator operating concurrently with an addAll operation might view only some of the added elements.</p>\n</blockquote>\n<p><strong>Problem</strong>: There is flawed sanity check on this <code>if(!activeQueueSet.add(queue))</code> but as you can see from the documentation its a O(n) operation i.e. the whole set is traversed which somehow misinterprets the state of the list quite a lot of times. I'm looking for a foolproof sanity check on this.</p>\n"},{"tags":["java","audioinputstream","java-audio"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1684966947,"post_id":76326971,"comment_id":134596652,"body_markdown":"If you are running on the command line, you can dump all the threads to see which ones aren’t exiting.  Type Ctrl-Break in Windows, Ctrl-\\ (backslash) in other operating systems.","body":"If you are running on the command line, you can dump all the threads to see which ones aren’t exiting.  Type Ctrl-Break in Windows, Ctrl-\\ (backslash) in other operating systems."}],"answers":[{"tags":[],"owner":{"account_id":27313298,"reputation":29,"user_id":21749640,"display_name":"user21749640"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684959513,"creation_date":1684959513,"answer_id":76327138,"question_id":76326971,"body_markdown":"Gonna leave this up in case someone else has a similar issue OR if someone responds with a better solution, but I found that putting System.exit(0); at the end of main() (after the While loop exits) fixes it. I don&#39;t know how good this is because I don&#39;t know how safe it is to exit here, but unless someone responds otherwise I&#39;ll use this.","title":"Thread not finishing - Sound Event Dispatcher Java","body":"<p>Gonna leave this up in case someone else has a similar issue OR if someone responds with a better solution, but I found that putting System.exit(0); at the end of main() (after the While loop exits) fixes it. I don't know how good this is because I don't know how safe it is to exit here, but unless someone responds otherwise I'll use this.</p>\n"}],"owner":{"account_id":27313298,"reputation":29,"user_id":21749640,"display_name":"user21749640"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684975530,"answer_count":1,"score":0,"last_activity_date":1684959513,"creation_date":1684957938,"question_id":76326971,"body_markdown":"I am creating a game in Java and I am trying to implement music playing but I am running into issues ending the program.\r\n\r\nThe primary hierarchy of my program is 3 classes I have written; InputHandler, GameState, and Map. The InputHandler contains a GameState object, and a GameState object contains a Map (the player&#39;s current location) as well as a Graph structure of Maps which is the world map. \r\n\r\nEvery Map object also contains a File which is their music track, and also an AudioInputStream and a Clip to play this track. I have not implemented multiple locations as of yet, so only one Map is created at startup, and for testing I am just manually calling the .play() method I have written on the Map object, although obviously I plan to change this so it is called whenever the location is changed.\r\n\r\nHere is some of my code (irrelevant parts cut out) so you might be able to understand the structure better.\r\n```\r\npublic class Map {\r\n\r\nprivate File track;\r\nprivate AudioInputStream as;\r\nprivate Clip clip;\r\n\r\npublic Map(...) throws UnsupportedAudioFileException, IOException, LineUnavailableException {\r\n\r\n                --construction stuff here--\r\n\r\n\t\tas = AudioSystem.getAudioInputStream(track);\r\n\t\tclip = AudioSystem.getClip();\r\n\t\tclip.open(as);\r\n\t}\r\n\r\n\tpublic void playTrack() {\r\n\t\tclip.start();\r\n\t}\r\n\r\n\tpublic void stopTrack() {\r\n\t\tclip.stop();\r\n\t}\r\n\t\r\n\tpublic void closeMusicLine() {\r\n\t\ttry {\r\n\t\t\tclip.close();\r\n\t\t\tas.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n\r\npublic class GameState { \r\n\r\n\tprivate Map location;\r\n\r\n\tpublic GameState(Map startingLocation) {\r\n\t\tlocation = startingLocation;\r\n\t}\r\n\r\n\tpublic void stopMusic() {\r\n\t\tlocation.stopTrack();\r\n\t}\r\n\t\r\n\tpublic void closeMusicLine() {\r\n\t\tlocation.closeMusicLine();\r\n\t}\r\n\r\npublic class InputHandler { \r\n\r\n\tprivate GameState state;\r\n\r\n\tpublic InputHandler(GameState state) { \r\n\t\tthis.state = state;\r\n\t}\r\n\r\n\tpublic String handle(String input) {\r\n\r\n\t\tif (...) { \r\n\t\t\t--stuff for handling inputs etc--\r\n\t\t} else if (leadingCommand.equals(&quot;exit&quot;)) {\r\n\t\t\tstate.stopMusic();\r\n\t\t\tstate.closeMusicLine();\r\n\t\t\toutput = &quot;Bye!\\n&quot;;\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\t}\r\n\r\n}\r\n\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tMap m = null;\r\n\t\ttry {\r\n\t\t\tm =  new Map(...);\r\n\t\t\t//m.playTrack();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tGameState g = new GameState(m);\r\n\t\tInputHandler ioHandler = new InputHandler(g);\r\n\t\tScanner in = new Scanner(System.in);\r\n\r\n\t\twhile (ioHandler.acceptingInput()) {\r\n\t\t\tSystem.out.println(ioHandler.handle(in.nextLine()));\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nI tried running my program to start, and I was very happy to hear my music playing without any trouble on the first time. The issue came when I issued the &#39;exit&#39; command ingame. I was met with the usual &quot;Bye!&quot; that I should expect, but the program simple hanged. This lasted 15 seconds before out popped an error saying 2 threads refused to finish even after interrupt.\r\n\r\n It was at this point that I added the closeMusicLine() method, as I have learned in school you should close InputStreams and other things after you&#39;re done to prevent data corruption. Unfortunately, this didn&#39;t work, although it did reduce the number of threads from 2 to 1. Even after I commented out the call to playTrack() in Main, I still had this issue, despite the fact that the music wasn&#39;t even playing anymore.\r\n\r\nThis is about as far as I know. I usually only like to work with code that I fully understand, to avoid stuff like this, but I really don&#39;t know much about audio playback in Java and I&#39;m mostly copying code I found online. ","title":"Thread not finishing - Sound Event Dispatcher Java","body":"<p>I am creating a game in Java and I am trying to implement music playing but I am running into issues ending the program.</p>\n<p>The primary hierarchy of my program is 3 classes I have written; InputHandler, GameState, and Map. The InputHandler contains a GameState object, and a GameState object contains a Map (the player's current location) as well as a Graph structure of Maps which is the world map.</p>\n<p>Every Map object also contains a File which is their music track, and also an AudioInputStream and a Clip to play this track. I have not implemented multiple locations as of yet, so only one Map is created at startup, and for testing I am just manually calling the .play() method I have written on the Map object, although obviously I plan to change this so it is called whenever the location is changed.</p>\n<p>Here is some of my code (irrelevant parts cut out) so you might be able to understand the structure better.</p>\n<pre><code>public class Map {\n\nprivate File track;\nprivate AudioInputStream as;\nprivate Clip clip;\n\npublic Map(...) throws UnsupportedAudioFileException, IOException, LineUnavailableException {\n\n                --construction stuff here--\n\n        as = AudioSystem.getAudioInputStream(track);\n        clip = AudioSystem.getClip();\n        clip.open(as);\n    }\n\n    public void playTrack() {\n        clip.start();\n    }\n\n    public void stopTrack() {\n        clip.stop();\n    }\n    \n    public void closeMusicLine() {\n        try {\n            clip.close();\n            as.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\npublic class GameState { \n\n    private Map location;\n\n    public GameState(Map startingLocation) {\n        location = startingLocation;\n    }\n\n    public void stopMusic() {\n        location.stopTrack();\n    }\n    \n    public void closeMusicLine() {\n        location.closeMusicLine();\n    }\n\npublic class InputHandler { \n\n    private GameState state;\n\n    public InputHandler(GameState state) { \n        this.state = state;\n    }\n\n    public String handle(String input) {\n\n        if (...) { \n            --stuff for handling inputs etc--\n        } else if (leadingCommand.equals(&quot;exit&quot;)) {\n            state.stopMusic();\n            state.closeMusicLine();\n            output = &quot;Bye!\\n&quot;;\n        }\n\n        return output;\n    }\n\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Map m = null;\n        try {\n            m =  new Map(...);\n            //m.playTrack();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        GameState g = new GameState(m);\n        InputHandler ioHandler = new InputHandler(g);\n        Scanner in = new Scanner(System.in);\n\n        while (ioHandler.acceptingInput()) {\n            System.out.println(ioHandler.handle(in.nextLine()));\n        }\n\n    }\n\n}\n</code></pre>\n<p>I tried running my program to start, and I was very happy to hear my music playing without any trouble on the first time. The issue came when I issued the 'exit' command ingame. I was met with the usual &quot;Bye!&quot; that I should expect, but the program simple hanged. This lasted 15 seconds before out popped an error saying 2 threads refused to finish even after interrupt.</p>\n<p>It was at this point that I added the closeMusicLine() method, as I have learned in school you should close InputStreams and other things after you're done to prevent data corruption. Unfortunately, this didn't work, although it did reduce the number of threads from 2 to 1. Even after I commented out the call to playTrack() in Main, I still had this issue, despite the fact that the music wasn't even playing anymore.</p>\n<p>This is about as far as I know. I usually only like to work with code that I fully understand, to avoid stuff like this, but I really don't know much about audio playback in Java and I'm mostly copying code I found online.</p>\n"},{"tags":["java","android","sketchware"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684992917,"post_id":76327120,"comment_id":134599069,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28673523,"reputation":1,"user_id":21956062,"display_name":"Rawad Allabouch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684959345,"creation_date":1684959345,"question_id":76327120,"body_markdown":"I am developing an Android app using Sketchware and I want to add a feature where tourists can access the app and see guides available in their local area. I would like to display a list of guides based on the user&#39;s current location.\r\n\r\nI have already implemented the user&#39;s location retrieval using the relevant APIs in Sketchware, but I&#39;m unsure how to proceed with displaying the nearby guides and filtering them based on language skills and availability.\r\n\r\nI did nothing yet but the app&#39;s UI","title":"How can I display a list of local guides in my Sketchware Android app based on user location?","body":"<p>I am developing an Android app using Sketchware and I want to add a feature where tourists can access the app and see guides available in their local area. I would like to display a list of guides based on the user's current location.</p>\n<p>I have already implemented the user's location retrieval using the relevant APIs in Sketchware, but I'm unsure how to proceed with displaying the nearby guides and filtering them based on language skills and availability.</p>\n<p>I did nothing yet but the app's UI</p>\n"},{"tags":["java","json","jackson","deserialization"],"answers":[{"tags":[],"owner":{"account_id":1338993,"reputation":3939,"user_id":1696044,"accept_rate":86,"display_name":"Erik Gillespie"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1403012407,"creation_date":1403012407,"answer_id":24265399,"question_id":24263904,"body_markdown":"This feels like something `@JsonTypeInfo` and `@JsonSubTypes` should be used for but I&#39;ve picked through the docs and none of the properties that can be supplied quite seem to match what you&#39;re describing.\r\n\r\nYou could write a custom deserializer that uses `@JsonSubTypes`&#39; &quot;name&quot; and &quot;value&quot; properties in a non-standard way to accomplish what you want. The deserializer and `@JsonSubTypes` would be supplied on your base class and the deserializer would use the &quot;name&quot; values to check for the presence of a property and if it exists, then deserialize the JSON into the class supplied in the &quot;value&quot; property. Your classes would then look something like this:\r\n\r\n    @JsonDeserialize(using = PropertyPresentDeserializer.class)\r\n    @JsonSubTypes({\r\n            @Type(name = &quot;stringA&quot;, value = SubClassA.class),\r\n            @Type(name = &quot;stringB&quot;, value = SubClassB.class)\r\n    })\r\n    public abstract class Parent {\r\n        private Long id;\r\n        ...\r\n    }\r\n\r\n    public class SubClassA extends Parent {\r\n        private String stringA;\r\n        private Integer intA;\r\n        ...\r\n    }\r\n\r\n    public class SubClassB extends Parent {\r\n        private String stringB;\r\n        private Integer intB;\r\n        ...\r\n    }\r\n","title":"Deserializing polymorphic types with Jackson based on the presence of a unique property","body":"<p>This feels like something <code>@JsonTypeInfo</code> and <code>@JsonSubTypes</code> should be used for but I've picked through the docs and none of the properties that can be supplied quite seem to match what you're describing.</p>\n\n<p>You could write a custom deserializer that uses <code>@JsonSubTypes</code>' \"name\" and \"value\" properties in a non-standard way to accomplish what you want. The deserializer and <code>@JsonSubTypes</code> would be supplied on your base class and the deserializer would use the \"name\" values to check for the presence of a property and if it exists, then deserialize the JSON into the class supplied in the \"value\" property. Your classes would then look something like this:</p>\n\n<pre><code>@JsonDeserialize(using = PropertyPresentDeserializer.class)\n@JsonSubTypes({\n        @Type(name = \"stringA\", value = SubClassA.class),\n        @Type(name = \"stringB\", value = SubClassB.class)\n})\npublic abstract class Parent {\n    private Long id;\n    ...\n}\n\npublic class SubClassA extends Parent {\n    private String stringA;\n    private Integer intA;\n    ...\n}\n\npublic class SubClassB extends Parent {\n    private String stringB;\n    private Integer intB;\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1637782149,"creation_date":1403039154,"answer_id":24273269,"question_id":24263904,"body_markdown":"**EDIT** (2021-07-15) -- obsolete, see [M. Justin&#39;s answer](https://stackoverflow.com/a/66167492/5730279) for the current state of things.\r\n\r\n(original answer below)\r\n\r\n&gt; No. Such a feature has been requested -- it could be called &quot;type inference&quot;, or &quot;implied type&quot; -- but no one has come up with a workable general proposal for how this should work yet. It is easy to think of ways to support specific solutions to specific cases, but figuring out general solution is more difficult.\r\n","title":"Deserializing polymorphic types with Jackson based on the presence of a unique property","body":"<p><strong>EDIT</strong> (2021-07-15) -- obsolete, see <a href=\"https://stackoverflow.com/a/66167492/5730279\">M. Justin's answer</a> for the current state of things.</p>\n<p>(original answer below)</p>\n<blockquote>\n<p>No. Such a feature has been requested -- it could be called &quot;type inference&quot;, or &quot;implied type&quot; -- but no one has come up with a workable general proposal for how this should work yet. It is easy to think of ways to support specific solutions to specific cases, but figuring out general solution is more difficult.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2749598,"reputation":1428,"user_id":2369266,"accept_rate":25,"display_name":"Nicholas Ng"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1456318002,"creation_date":1456309971,"answer_id":35599623,"question_id":24263904,"body_markdown":"My app requires me to preserve old structure, so I found a way to support polymorphism without changing data. Here&#39;s what I do:\r\n\r\n\r\n 1. Extend JsonDeserializer\r\n 2. Convert to Tree and read field, then return Subclass object\r\n\r\n    \r\n    \r\n        @Override public Object deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n            JsonNode jsonNode = p.readValueAsTree(); \r\n            Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; ite = jsonNode.fields();\r\n            boolean isSubclass = false;\r\n            while (ite.hasNext()) {\r\n                Map.Entry&lt;String, JsonNode&gt; entry = ite.next();\r\n                // **Check if it contains field name unique to subclass**\r\n                if (entry.getKey().equalsIgnoreCase(&quot;Field-Unique-to-Subclass&quot;)) {\r\n                    isSubclass = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (isSubclass) {\r\n                return mapper.treeToValue(jsonNode, SubClass.class);\r\n            } else {\r\n                // process other classes\r\n            }\r\n        }","title":"Deserializing polymorphic types with Jackson based on the presence of a unique property","body":"<p>My app requires me to preserve old structure, so I found a way to support polymorphism without changing data. Here's what I do:</p>\n\n<ol>\n<li>Extend JsonDeserializer</li>\n<li><p>Convert to Tree and read field, then return Subclass object</p>\n\n<pre><code>@Override public Object deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n    JsonNode jsonNode = p.readValueAsTree(); \n    Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; ite = jsonNode.fields();\n    boolean isSubclass = false;\n    while (ite.hasNext()) {\n        Map.Entry&lt;String, JsonNode&gt; entry = ite.next();\n        // **Check if it contains field name unique to subclass**\n        if (entry.getKey().equalsIgnoreCase(\"Field-Unique-to-Subclass\")) {\n            isSubclass = true;\n            break;\n        }\n    }\n    if (isSubclass) {\n        return mapper.treeToValue(jsonNode, SubClass.class);\n    } else {\n        // process other classes\n    }\n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1019866,"reputation":9990,"user_id":1030527,"accept_rate":86,"display_name":"bernie"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1598773915,"creation_date":1524622521,"answer_id":50013090,"question_id":24263904,"body_markdown":"Here&#39;s a solution I&#39;ve come up with that expands a bit on Erik Gillespie&#39;s. It does exactly what you asked for and it worked for me.\r\n\r\nUsing Jackson 2.9\r\n\r\n\t@JsonDeserialize(using = CustomDeserializer.class)\r\n\tpublic abstract class BaseClass {\r\n\r\n\t\tprivate String commonProp;\r\n\t}\r\n\r\n\t// Important to override the base class&#39; usage of CustomDeserializer which produces an infinite loop\r\n\t@JsonDeserialize(using = JsonDeserializer.None.class)\r\n\tpublic class ClassA extends BaseClass {\r\n\t\t\r\n\t\tprivate String classAProp;\r\n\t}\r\n\r\n\t@JsonDeserialize(using = JsonDeserializer.None.class)\r\n\tpublic class ClassB extends BaseClass {\r\n\t\t\r\n\t\tprivate String classBProp;\r\n\t}\r\n\r\n\tpublic class CustomDeserializer extends StdDeserializer&lt;BaseClass&gt; {\r\n\r\n\t\tprotected CustomDeserializer() {\r\n\t\t\tsuper(BaseClass.class);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic BaseClass deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n\t\t\tTreeNode node = p.readValueAsTree();\r\n\t\t\t\r\n\t\t\t// Select the concrete class based on the existence of a property\r\n\t\t\tif (node.get(&quot;classAProp&quot;) != null) {\r\n\t\t\t\treturn p.getCodec().treeToValue(node, ClassA.class);\r\n\t\t\t}\r\n\t\t\treturn p.getCodec().treeToValue(node, ClassB.class);\r\n\t\t}\r\n\t}\r\n\r\n\t// Example usage\r\n\tString json = ...\r\n\tObjectMapper mapper = ...\r\n\tBaseClass instance = mapper.readValue(json, BaseClass.class);\r\n\r\nIf you want to get fancier, you can expand `CustomDeserializer` to include a `Map&lt;String, Class&lt;?&gt;&gt;` that maps a property name that, when present, maps to a specific class. Such an approach is presented in this [article][1].\r\n\r\n# Update\r\nJackson 2.12.0 gets [Polymorphic subtype deduction from available fields][2] which adds `@JsonTypeInfo(use = DEDUCTION)`!\r\n\r\n&gt; AsDeductionTypeDeserializer implements inferential deduction of a subtype from the fields. As a POC not intended for merging, tere&#39;s an amount of cut&#39;n&#39;paste code etc but I thought a functional PR would be the best basis for discussion of something I write out of interest.\r\n&gt;\r\n&gt; It works by fingerprinting the full set of possible fields of each subtype on registration. On deserialisation, available fields are compared to those fingerprints until only one candidate remains. It specifically only looks at immediate-child field names as is immediate-child values are covered by existing mechanisms and deeper analysis is a much more imposing ML task not really part of Jackson&#39;s remit.\r\n\r\n\r\nBy the way, there&#39;s a (now closed) Github issue requesting this here: https://github.com/FasterXML/jackson-databind/issues/1627\r\n\r\n\r\n  [1]: http://programmerbruce.blogspot.ca/2011/05/deserialize-json-with-jackson-into.html\r\n  [2]: https://github.com/FasterXML/jackson-databind/pull/2813","title":"Deserializing polymorphic types with Jackson based on the presence of a unique property","body":"<p>Here's a solution I've come up with that expands a bit on Erik Gillespie's. It does exactly what you asked for and it worked for me.</p>\n<p>Using Jackson 2.9</p>\n<pre><code>@JsonDeserialize(using = CustomDeserializer.class)\npublic abstract class BaseClass {\n\n    private String commonProp;\n}\n\n// Important to override the base class' usage of CustomDeserializer which produces an infinite loop\n@JsonDeserialize(using = JsonDeserializer.None.class)\npublic class ClassA extends BaseClass {\n    \n    private String classAProp;\n}\n\n@JsonDeserialize(using = JsonDeserializer.None.class)\npublic class ClassB extends BaseClass {\n    \n    private String classBProp;\n}\n\npublic class CustomDeserializer extends StdDeserializer&lt;BaseClass&gt; {\n\n    protected CustomDeserializer() {\n        super(BaseClass.class);\n    }\n\n    @Override\n    public BaseClass deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        TreeNode node = p.readValueAsTree();\n        \n        // Select the concrete class based on the existence of a property\n        if (node.get(&quot;classAProp&quot;) != null) {\n            return p.getCodec().treeToValue(node, ClassA.class);\n        }\n        return p.getCodec().treeToValue(node, ClassB.class);\n    }\n}\n\n// Example usage\nString json = ...\nObjectMapper mapper = ...\nBaseClass instance = mapper.readValue(json, BaseClass.class);\n</code></pre>\n<p>If you want to get fancier, you can expand <code>CustomDeserializer</code> to include a <code>Map&lt;String, Class&lt;?&gt;&gt;</code> that maps a property name that, when present, maps to a specific class. Such an approach is presented in this <a href=\"http://programmerbruce.blogspot.ca/2011/05/deserialize-json-with-jackson-into.html\" rel=\"noreferrer\">article</a>.</p>\n<h1>Update</h1>\n<p>Jackson 2.12.0 gets <a href=\"https://github.com/FasterXML/jackson-databind/pull/2813\" rel=\"noreferrer\">Polymorphic subtype deduction from available fields</a> which adds <code>@JsonTypeInfo(use = DEDUCTION)</code>!</p>\n<blockquote>\n<p>AsDeductionTypeDeserializer implements inferential deduction of a subtype from the fields. As a POC not intended for merging, tere's an amount of cut'n'paste code etc but I thought a functional PR would be the best basis for discussion of something I write out of interest.</p>\n<p>It works by fingerprinting the full set of possible fields of each subtype on registration. On deserialisation, available fields are compared to those fingerprints until only one candidate remains. It specifically only looks at immediate-child field names as is immediate-child values are covered by existing mechanisms and deeper analysis is a much more imposing ML task not really part of Jackson's remit.</p>\n</blockquote>\n<p>By the way, there's a (now closed) Github issue requesting this here: <a href=\"https://github.com/FasterXML/jackson-databind/issues/1627\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-databind/issues/1627</a></p>\n"},{"tags":[],"owner":{"account_id":300561,"reputation":6020,"user_id":607767,"accept_rate":89,"display_name":"Lovro Pandžić"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1599632576,"creation_date":1553500736,"answer_id":55333395,"question_id":24263904,"body_markdown":"As other have pointed out, there&#39;s no consensus on [how it should work so it hasn&#39;t been implemented](https://github.com/FasterXML/jackson-databind/issues/1627).\r\n\r\nIf you have classes Foo, Bar and their parent FooBar solution seems pretty obvious when you have JSONs like:\r\n\r\n```\r\n{\r\n  &quot;foo&quot;:&lt;value&gt;\r\n}\r\n```\r\n\r\nor \r\n\r\n```\r\n{\r\n  &quot;bar&quot;:&lt;value&gt;\r\n}\r\n```\r\n\r\nbut there&#39;s no common answer to what happens when you get\r\n\r\n```\r\n{\r\n  &quot;foo&quot;:&lt;value&gt;,\r\n  &quot;bar&quot;:&lt;value&gt;\r\n}\r\n```\r\n\r\nAt first glance last example seems like an obvious case of 400 Bad Request but there are many different approaches in practice:\r\n\r\n1. Handle it as 400 Bad Request\r\n2. Precedence by type/field (for example if field error exists it has higher precedence than some other field foo)\r\n3. More complex cases of 2.\r\n\r\nMy current solution which works for most cases and tries to leverage as much of existing Jackson infrastructure as possible is (you only need 1 deserializer per hierarchy):\r\n\r\n```\r\npublic class PresentPropertyPolymorphicDeserializer&lt;T&gt; extends StdDeserializer&lt;T&gt; {\r\n\r\n    private final Map&lt;String, Class&lt;?&gt;&gt; propertyNameToType;\r\n\r\n    public PresentPropertyPolymorphicDeserializer(Class&lt;T&gt; vc) {\r\n        super(vc);\r\n        this.propertyNameToType = Arrays.stream(vc.getAnnotation(JsonSubTypes.class).value())\r\n                                        .collect(Collectors.toMap(Type::name, Type::value,\r\n                                                                  (a, b) -&gt; a, LinkedHashMap::new)); // LinkedHashMap to support precedence case by definition order\r\n    }\r\n\r\n    @Override\r\n    public T deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n        ObjectMapper objectMapper = (ObjectMapper) p.getCodec();\r\n        ObjectNode object = objectMapper.readTree(p);\r\n        for (String propertyName : propertyNameToType.keySet()) {\r\n            if (object.has(propertyName)) {\r\n                return deserialize(objectMapper, propertyName, object);\r\n            }\r\n        }\r\n\r\n        throw new IllegalArgumentException(&quot;could not infer to which class to deserialize &quot; + object);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private T deserialize(ObjectMapper objectMapper,\r\n                          String propertyName,\r\n                          ObjectNode object) throws IOException {\r\n        return (T) objectMapper.treeToValue(object, propertyNameToType.get(propertyName));\r\n    }\r\n}\r\n```\r\n\r\nExample usage:\r\n\r\n```\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = Foo.class, name = &quot;foo&quot;),\r\n        @JsonSubTypes.Type(value = Bar.class, name = &quot;bar&quot;),\r\n})\r\ninterface FooBar {\r\n}\r\n```\r\n\r\n```\r\n@AllArgsConstructor(onConstructor_ = @JsonCreator)\r\n@Value\r\nstatic class Foo implements FooBar {\r\n    private final String foo;\r\n}\r\n```\r\n\r\n```\r\n@AllArgsConstructor(onConstructor_ = @JsonCreator)\r\n@Value\r\nstatic class Bar implements FooBar {\r\n    private final String bar;\r\n}\r\n```\r\n\r\nJackson configuration\r\n```\r\nSimpleModule module = new SimpleModule();\r\nmodule.addDeserializer(FooBar.class, new PresentPropertyPolymorphicDeserializer&lt;&gt;(FooBar.class));\r\nobjectMapper.registerModule(module);\r\n```\r\n\r\nor if you&#39;re using Spring Boot:\r\n\r\n```\r\n@JsonComponent\r\npublic class FooBarDeserializer extends PresentPropertyPolymorphicDeserializer&lt;FooBar&gt; {\r\n\r\n    public FooBarDeserializer() {\r\n        super(FooBar.class);\r\n    }\r\n}\r\n```\r\n\r\nTests:\r\n```\r\n    @Test\r\n    void shouldDeserializeFoo() throws IOException {\r\n        // given\r\n        var json = &quot;{\\&quot;foo\\&quot;:\\&quot;foo\\&quot;}&quot;;\r\n\r\n        // when\r\n        var actual = objectMapper.readValue(json, FooBar.class);\r\n\r\n        // then\r\n        then(actual).isEqualTo(new Foo(&quot;foo&quot;));\r\n    }\r\n\r\n    @Test\r\n    void shouldDeserializeBar() throws IOException {\r\n        // given\r\n        var json = &quot;{\\&quot;bar\\&quot;:\\&quot;bar\\&quot;}&quot;;\r\n\r\n        // when\r\n        var actual = objectMapper.readValue(json, FooBar.class);\r\n\r\n        // then\r\n        then(actual).isEqualTo(new Bar(&quot;bar&quot;));\r\n\r\n    }\r\n\r\n    @Test\r\n    void shouldDeserializeUsingAnnotationDefinitionPrecedenceOrder() throws IOException {\r\n        // given\r\n        var json = &quot;{\\&quot;bar\\&quot;:\\&quot;\\&quot;, \\&quot;foo\\&quot;: \\&quot;foo\\&quot;}&quot;;\r\n\r\n        // when\r\n        var actual = objectMapper.readValue(json, FooBar.class);\r\n\r\n        // then\r\n        then(actual).isEqualTo(new Foo(&quot;foo&quot;));\r\n    }\r\n```\r\n\r\nEDIT: I&#39;ve added support for this case and more in this [project](https://github.com/infobip/infobip-jackson-extension).","title":"Deserializing polymorphic types with Jackson based on the presence of a unique property","body":"<p>As other have pointed out, there's no consensus on <a href=\"https://github.com/FasterXML/jackson-databind/issues/1627\" rel=\"noreferrer\">how it should work so it hasn't been implemented</a>.</p>\n<p>If you have classes Foo, Bar and their parent FooBar solution seems pretty obvious when you have JSONs like:</p>\n<pre><code>{\n  &quot;foo&quot;:&lt;value&gt;\n}\n</code></pre>\n<p>or</p>\n<pre><code>{\n  &quot;bar&quot;:&lt;value&gt;\n}\n</code></pre>\n<p>but there's no common answer to what happens when you get</p>\n<pre><code>{\n  &quot;foo&quot;:&lt;value&gt;,\n  &quot;bar&quot;:&lt;value&gt;\n}\n</code></pre>\n<p>At first glance last example seems like an obvious case of 400 Bad Request but there are many different approaches in practice:</p>\n<ol>\n<li>Handle it as 400 Bad Request</li>\n<li>Precedence by type/field (for example if field error exists it has higher precedence than some other field foo)</li>\n<li>More complex cases of 2.</li>\n</ol>\n<p>My current solution which works for most cases and tries to leverage as much of existing Jackson infrastructure as possible is (you only need 1 deserializer per hierarchy):</p>\n<pre><code>public class PresentPropertyPolymorphicDeserializer&lt;T&gt; extends StdDeserializer&lt;T&gt; {\n\n    private final Map&lt;String, Class&lt;?&gt;&gt; propertyNameToType;\n\n    public PresentPropertyPolymorphicDeserializer(Class&lt;T&gt; vc) {\n        super(vc);\n        this.propertyNameToType = Arrays.stream(vc.getAnnotation(JsonSubTypes.class).value())\n                                        .collect(Collectors.toMap(Type::name, Type::value,\n                                                                  (a, b) -&gt; a, LinkedHashMap::new)); // LinkedHashMap to support precedence case by definition order\n    }\n\n    @Override\n    public T deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n        ObjectMapper objectMapper = (ObjectMapper) p.getCodec();\n        ObjectNode object = objectMapper.readTree(p);\n        for (String propertyName : propertyNameToType.keySet()) {\n            if (object.has(propertyName)) {\n                return deserialize(objectMapper, propertyName, object);\n            }\n        }\n\n        throw new IllegalArgumentException(&quot;could not infer to which class to deserialize &quot; + object);\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    private T deserialize(ObjectMapper objectMapper,\n                          String propertyName,\n                          ObjectNode object) throws IOException {\n        return (T) objectMapper.treeToValue(object, propertyNameToType.get(propertyName));\n    }\n}\n</code></pre>\n<p>Example usage:</p>\n<pre><code>@JsonSubTypes({\n        @JsonSubTypes.Type(value = Foo.class, name = &quot;foo&quot;),\n        @JsonSubTypes.Type(value = Bar.class, name = &quot;bar&quot;),\n})\ninterface FooBar {\n}\n</code></pre>\n<pre><code>@AllArgsConstructor(onConstructor_ = @JsonCreator)\n@Value\nstatic class Foo implements FooBar {\n    private final String foo;\n}\n</code></pre>\n<pre><code>@AllArgsConstructor(onConstructor_ = @JsonCreator)\n@Value\nstatic class Bar implements FooBar {\n    private final String bar;\n}\n</code></pre>\n<p>Jackson configuration</p>\n<pre><code>SimpleModule module = new SimpleModule();\nmodule.addDeserializer(FooBar.class, new PresentPropertyPolymorphicDeserializer&lt;&gt;(FooBar.class));\nobjectMapper.registerModule(module);\n</code></pre>\n<p>or if you're using Spring Boot:</p>\n<pre><code>@JsonComponent\npublic class FooBarDeserializer extends PresentPropertyPolymorphicDeserializer&lt;FooBar&gt; {\n\n    public FooBarDeserializer() {\n        super(FooBar.class);\n    }\n}\n</code></pre>\n<p>Tests:</p>\n<pre><code>    @Test\n    void shouldDeserializeFoo() throws IOException {\n        // given\n        var json = &quot;{\\&quot;foo\\&quot;:\\&quot;foo\\&quot;}&quot;;\n\n        // when\n        var actual = objectMapper.readValue(json, FooBar.class);\n\n        // then\n        then(actual).isEqualTo(new Foo(&quot;foo&quot;));\n    }\n\n    @Test\n    void shouldDeserializeBar() throws IOException {\n        // given\n        var json = &quot;{\\&quot;bar\\&quot;:\\&quot;bar\\&quot;}&quot;;\n\n        // when\n        var actual = objectMapper.readValue(json, FooBar.class);\n\n        // then\n        then(actual).isEqualTo(new Bar(&quot;bar&quot;));\n\n    }\n\n    @Test\n    void shouldDeserializeUsingAnnotationDefinitionPrecedenceOrder() throws IOException {\n        // given\n        var json = &quot;{\\&quot;bar\\&quot;:\\&quot;\\&quot;, \\&quot;foo\\&quot;: \\&quot;foo\\&quot;}&quot;;\n\n        // when\n        var actual = objectMapper.readValue(json, FooBar.class);\n\n        // then\n        then(actual).isEqualTo(new Foo(&quot;foo&quot;));\n    }\n</code></pre>\n<p>EDIT: I've added support for this case and more in this <a href=\"https://github.com/infobip/infobip-jackson-extension\" rel=\"noreferrer\">project</a>.</p>\n"},{"tags":[],"owner":{"account_id":2222583,"reputation":21731,"user_id":1961634,"accept_rate":81,"display_name":"Dariusz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608541559,"creation_date":1608541559,"answer_id":65390038,"question_id":24263904,"body_markdown":"Handling polymorphism is either model-bound or requires lots of code with various custom deserializers. I&#39;m a co-author of a [JSON Dynamic Deserialization Library](https://github.com/Pretius/pretius-jddl/) that allows for model-independent json deserialization library. The solution to OP&#39;s problem can be found below. Note that the rules are declared in a very brief manner.\r\n\r\n```\r\npublic class SOAnswer1 {\r\n\r\n    @ToString @Getter @Setter\r\n    @AllArgsConstructor @NoArgsConstructor\r\n    public static abstract class Parent {\r\n        private Long id;\r\n    }\r\n\r\n    @ToString(callSuper = true) @Getter @Setter\r\n    @AllArgsConstructor @NoArgsConstructor\r\n    public static class SubClassA extends Parent {\r\n        private String stringA;\r\n        private Integer intA;\r\n    }\r\n\r\n    @ToString(callSuper = true) @Getter @Setter\r\n    @AllArgsConstructor @NoArgsConstructor\r\n    public static class SubClassB extends Parent {\r\n        private String stringB;\r\n        private Integer intB;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String json = &quot;[{&quot;\r\n                + &quot;    \\&quot;id\\&quot;: 151243,&quot;\r\n                + &quot;    \\&quot;stringA\\&quot;: \\&quot;my special string\\&quot;,&quot;\r\n                + &quot;    \\&quot;intA\\&quot;: 1337&quot;\r\n                + &quot;},&quot;\r\n                + &quot;{&quot;\r\n                + &quot;    \\&quot;id\\&quot;: 734561,&quot;\r\n                + &quot;    \\&quot;stringB\\&quot;: \\&quot;use the Force\\&quot;,&quot;\r\n                + &quot;    \\&quot;intB\\&quot;: 451&quot;\r\n                + &quot;}]&quot;;\r\n        \r\n        // create a deserializer instance\r\n        DynamicObjectDeserializer deserializer = new DynamicObjectDeserializer();\r\n        \r\n        // runtime-configure deserialization rules\r\n        deserializer.addRule(DeserializationRuleFactory.newRule(1, \r\n                (e) -&gt; e.getJsonNode().has(&quot;stringA&quot;),\r\n                DeserializationActionFactory.objectToType(SubClassA.class)));\r\n        \r\n        deserializer.addRule(DeserializationRuleFactory.newRule(1, \r\n                (e) -&gt; e.getJsonNode().has(&quot;stringB&quot;),\r\n                DeserializationActionFactory.objectToType(SubClassB.class)));\r\n        \r\n        List&lt;Parent&gt; deserializedObjects = deserializer.deserializeArray(json, Parent.class);\r\n        \r\n        for (Parent obj : deserializedObjects) {\r\n            System.out.println(&quot;Deserialized Class: &quot; + obj.getClass().getSimpleName()+&quot;;\\t value: &quot;+obj.toString());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\noutput:\r\n\r\n```\r\nDeserialized Class: SubClassA;\t value: SOAnswer1.SubClassA(super=SOAnswer1.Parent(id=151243), stringA=my special string, intA=1337)\r\nDeserialized Class: SubClassB;\t value: SOAnswer1.SubClassB(super=SOAnswer1.Parent(id=734561), stringB=use the Force, intB=451)\r\n\r\n```\r\n\r\nMaven depenendency for pretius-jddl (check newest version at [maven.org/jddl](https://search.maven.org/artifact/com.pretius/jddl):\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.pretius&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jddl&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Deserializing polymorphic types with Jackson based on the presence of a unique property","body":"<p>Handling polymorphism is either model-bound or requires lots of code with various custom deserializers. I'm a co-author of a <a href=\"https://github.com/Pretius/pretius-jddl/\" rel=\"nofollow noreferrer\">JSON Dynamic Deserialization Library</a> that allows for model-independent json deserialization library. The solution to OP's problem can be found below. Note that the rules are declared in a very brief manner.</p>\n<pre><code>public class SOAnswer1 {\n\n    @ToString @Getter @Setter\n    @AllArgsConstructor @NoArgsConstructor\n    public static abstract class Parent {\n        private Long id;\n    }\n\n    @ToString(callSuper = true) @Getter @Setter\n    @AllArgsConstructor @NoArgsConstructor\n    public static class SubClassA extends Parent {\n        private String stringA;\n        private Integer intA;\n    }\n\n    @ToString(callSuper = true) @Getter @Setter\n    @AllArgsConstructor @NoArgsConstructor\n    public static class SubClassB extends Parent {\n        private String stringB;\n        private Integer intB;\n    }\n\n    public static void main(String[] args) {\n        String json = &quot;[{&quot;\n                + &quot;    \\&quot;id\\&quot;: 151243,&quot;\n                + &quot;    \\&quot;stringA\\&quot;: \\&quot;my special string\\&quot;,&quot;\n                + &quot;    \\&quot;intA\\&quot;: 1337&quot;\n                + &quot;},&quot;\n                + &quot;{&quot;\n                + &quot;    \\&quot;id\\&quot;: 734561,&quot;\n                + &quot;    \\&quot;stringB\\&quot;: \\&quot;use the Force\\&quot;,&quot;\n                + &quot;    \\&quot;intB\\&quot;: 451&quot;\n                + &quot;}]&quot;;\n        \n        // create a deserializer instance\n        DynamicObjectDeserializer deserializer = new DynamicObjectDeserializer();\n        \n        // runtime-configure deserialization rules\n        deserializer.addRule(DeserializationRuleFactory.newRule(1, \n                (e) -&gt; e.getJsonNode().has(&quot;stringA&quot;),\n                DeserializationActionFactory.objectToType(SubClassA.class)));\n        \n        deserializer.addRule(DeserializationRuleFactory.newRule(1, \n                (e) -&gt; e.getJsonNode().has(&quot;stringB&quot;),\n                DeserializationActionFactory.objectToType(SubClassB.class)));\n        \n        List&lt;Parent&gt; deserializedObjects = deserializer.deserializeArray(json, Parent.class);\n        \n        for (Parent obj : deserializedObjects) {\n            System.out.println(&quot;Deserialized Class: &quot; + obj.getClass().getSimpleName()+&quot;;\\t value: &quot;+obj.toString());\n        }\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>Deserialized Class: SubClassA;   value: SOAnswer1.SubClassA(super=SOAnswer1.Parent(id=151243), stringA=my special string, intA=1337)\nDeserialized Class: SubClassB;   value: SOAnswer1.SubClassB(super=SOAnswer1.Parent(id=734561), stringB=use the Force, intB=451)\n\n</code></pre>\n<p>Maven depenendency for pretius-jddl (check newest version at <a href=\"https://search.maven.org/artifact/com.pretius/jddl\" rel=\"nofollow noreferrer\">maven.org/jddl</a>:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.pretius&lt;/groupId&gt;\n  &lt;artifactId&gt;jddl&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1613112793,"creation_date":1613112793,"answer_id":66167492,"question_id":24263904,"body_markdown":"This functionality has been added to Jackson 2.12 using &quot;[deduction-based polymorphism](https://cowtowncoder.medium.com/jackson-2-12-most-wanted-1-5-deduction-based-polymorphism-c7fb51db7818)&quot;.  To apply it to your case, just use `@JsonTypeInfo(use=Id.DEDUCTION)` alongside the full list of supported subtypes provided by `@JsonSubTypes`:\r\n\r\n```lang-java\r\n@JsonTypeInfo(use=Id.DEDUCTION)\r\n@JsonSubTypes({@Type(SubClassA.class), @Type(SubClassB.class)})\r\npublic abstract class Parent {\r\n    private Long id;\r\n    ...\r\n}\r\n```\r\n\r\nThis feature was implemented per [jackson-databind#43](https://github.com/FasterXML/jackson-databind/issues/43), and is summarized in the [2.12 release notes](https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.12#polymorphic-type-by-deduction-field-existence):\r\n\r\n&gt; It basically allows omitting of actual Type Id field or value, as long as the subtype can be deduced (`@JsonTypeInfo(use=DEDUCTION)`) from existence of fields. That is, every subtype has a distinct set of fields they included, and so during deserialization type can be uniquely and reliably detected.\r\n\r\nA slightly longer explanation is given in the [Jackson 2.12 Most Wanted (1/5):\r\nDeduction-Based Polymorphism](https://cowtowncoder.medium.com/jackson-2-12-most-wanted-1-5-deduction-based-polymorphism-c7fb51db7818) article written by the Jackson creator.","title":"Deserializing polymorphic types with Jackson based on the presence of a unique property","body":"<p>This functionality has been added to Jackson 2.12 using &quot;<a href=\"https://cowtowncoder.medium.com/jackson-2-12-most-wanted-1-5-deduction-based-polymorphism-c7fb51db7818\" rel=\"noreferrer\">deduction-based polymorphism</a>&quot;.  To apply it to your case, just use <code>@JsonTypeInfo(use=Id.DEDUCTION)</code> alongside the full list of supported subtypes provided by <code>@JsonSubTypes</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonTypeInfo(use=Id.DEDUCTION)\n@JsonSubTypes({@Type(SubClassA.class), @Type(SubClassB.class)})\npublic abstract class Parent {\n    private Long id;\n    ...\n}\n</code></pre>\n<p>This feature was implemented per <a href=\"https://github.com/FasterXML/jackson-databind/issues/43\" rel=\"noreferrer\">jackson-databind#43</a>, and is summarized in the <a href=\"https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.12#polymorphic-type-by-deduction-field-existence\" rel=\"noreferrer\">2.12 release notes</a>:</p>\n<blockquote>\n<p>It basically allows omitting of actual Type Id field or value, as long as the subtype can be deduced (<code>@JsonTypeInfo(use=DEDUCTION)</code>) from existence of fields. That is, every subtype has a distinct set of fields they included, and so during deserialization type can be uniquely and reliably detected.</p>\n</blockquote>\n<p>A slightly longer explanation is given in the <a href=\"https://cowtowncoder.medium.com/jackson-2-12-most-wanted-1-5-deduction-based-polymorphism-c7fb51db7818\" rel=\"noreferrer\">Jackson 2.12 Most Wanted (1/5):\nDeduction-Based Polymorphism</a> article written by the Jackson creator.</p>\n"},{"tags":[],"owner":{"account_id":13343717,"reputation":995,"user_id":9631158,"display_name":"sujithramanathan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684958783,"creation_date":1684936746,"answer_id":76324346,"question_id":24263904,"body_markdown":"Have seen couple of answers above but i would like to add mine since this was used in production for last 2 years.\r\n\r\nWe have a EventTypes of Speed, Location for a vehicle. &lt;br&gt;\r\nDynamic binding could be achieved with @JsonTypeInfo\r\n\r\n```\r\n@JsonTypeInfo(\r\n        use = JsonTypeInfo.Id.NAME,\r\n        include = JsonTypeInfo.As.PROPERTY,\r\n        property = &quot;eventId&quot;)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = SpeedEvent.class, name = &quot;10&quot;),\r\n        @JsonSubTypes.Type(value = LocationEvent.class, name = &quot;11&quot;)\r\n})\r\npublic interface EventDetails {\r\n}\r\n```\r\n\r\n```\r\npublic class Event {\r\n\r\n    private int eventId;\r\n    private long ts;\r\n    private EventDetails eventDetails;\r\n\r\n    public int getEventId() {\r\n        return eventId;\r\n    }\r\n\r\n    public void setEventId(int eventId) {\r\n        this.eventId = eventId;\r\n    }\r\n\r\n    public long getTs() {\r\n        return ts;\r\n    }\r\n\r\n    public void setTs(long ts) {\r\n        this.ts = ts;\r\n    }\r\n\r\n    public EventDetails getEventDetails() {\r\n        return eventDetails;\r\n    }\r\n\r\n    public void setEventDetails(EventDetails eventDetails) {\r\n        this.eventDetails = eventDetails;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class SpeedEvent implements EventDetails {\r\n\r\n    private int eventId;\r\n    private int speed;\r\n\r\n    public int getEventId() {\r\n        return eventId;\r\n    }\r\n\r\n    public void setEventId(int eventId) {\r\n        this.eventId = eventId;\r\n    }\r\n\r\n    public int getSpeed() {\r\n        return speed;\r\n    }\r\n\r\n    public void setSpeed(int speed) {\r\n        this.speed = speed;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class LocationEvent implements EventDetails {\r\n\r\n    private int eventId;\r\n    private double latitude;\r\n    private double longitude;\r\n\r\n    public int getEventId() {\r\n        return eventId;\r\n    }\r\n\r\n    public void setEventId(int eventId) {\r\n        this.eventId = eventId;\r\n    }\r\n\r\n    public double getLatitude() {\r\n        return latitude;\r\n    }\r\n\r\n    public void setLatitude(double latitude) {\r\n        this.latitude = latitude;\r\n    }\r\n\r\n    public double getLongitude() {\r\n        return longitude;\r\n    }\r\n\r\n    public void setLongitude(double longitude) {\r\n        this.longitude = longitude;\r\n    }\r\n}\r\n```\r\n\r\nSample Output:- &lt;br&gt;\r\n&lt;b&gt;Speed Event&lt;/b&gt;\r\n```\r\n{\r\n\t&quot;eventId&quot;: 10,\r\n\t&quot;ts&quot;: 1684937053366,\r\n\t&quot;eventDetails&quot;: {\r\n\t\t&quot;eventId&quot;: &quot;10&quot;,\r\n\t\t&quot;speed&quot;: 50\r\n\t}\r\n}\r\n```\r\n&lt;b&gt;Location Event&lt;/b&gt;\r\n```\r\n{\r\n\t&quot;eventId&quot;: 11,\r\n\t&quot;ts&quot;: 1684937172450,\r\n\t&quot;eventDetails&quot;: {\r\n\t\t&quot;eventId&quot;: &quot;11&quot;,\r\n\t\t&quot;latitude&quot;: 41.40338,\r\n\t\t&quot;longitude&quot;: 2.17403\r\n\t}\r\n}\r\n```","title":"Deserializing polymorphic types with Jackson based on the presence of a unique property","body":"<p>Have seen couple of answers above but i would like to add mine since this was used in production for last 2 years.</p>\n<p>We have a EventTypes of Speed, Location for a vehicle. <br>\nDynamic binding could be achieved with @JsonTypeInfo</p>\n<pre><code>@JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        include = JsonTypeInfo.As.PROPERTY,\n        property = &quot;eventId&quot;)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = SpeedEvent.class, name = &quot;10&quot;),\n        @JsonSubTypes.Type(value = LocationEvent.class, name = &quot;11&quot;)\n})\npublic interface EventDetails {\n}\n</code></pre>\n<pre><code>public class Event {\n\n    private int eventId;\n    private long ts;\n    private EventDetails eventDetails;\n\n    public int getEventId() {\n        return eventId;\n    }\n\n    public void setEventId(int eventId) {\n        this.eventId = eventId;\n    }\n\n    public long getTs() {\n        return ts;\n    }\n\n    public void setTs(long ts) {\n        this.ts = ts;\n    }\n\n    public EventDetails getEventDetails() {\n        return eventDetails;\n    }\n\n    public void setEventDetails(EventDetails eventDetails) {\n        this.eventDetails = eventDetails;\n    }\n}\n</code></pre>\n<pre><code>public class SpeedEvent implements EventDetails {\n\n    private int eventId;\n    private int speed;\n\n    public int getEventId() {\n        return eventId;\n    }\n\n    public void setEventId(int eventId) {\n        this.eventId = eventId;\n    }\n\n    public int getSpeed() {\n        return speed;\n    }\n\n    public void setSpeed(int speed) {\n        this.speed = speed;\n    }\n}\n</code></pre>\n<pre><code>public class LocationEvent implements EventDetails {\n\n    private int eventId;\n    private double latitude;\n    private double longitude;\n\n    public int getEventId() {\n        return eventId;\n    }\n\n    public void setEventId(int eventId) {\n        this.eventId = eventId;\n    }\n\n    public double getLatitude() {\n        return latitude;\n    }\n\n    public void setLatitude(double latitude) {\n        this.latitude = latitude;\n    }\n\n    public double getLongitude() {\n        return longitude;\n    }\n\n    public void setLongitude(double longitude) {\n        this.longitude = longitude;\n    }\n}\n</code></pre>\n<p>Sample Output:- <br>\n<b>Speed Event</b></p>\n<pre><code>{\n    &quot;eventId&quot;: 10,\n    &quot;ts&quot;: 1684937053366,\n    &quot;eventDetails&quot;: {\n        &quot;eventId&quot;: &quot;10&quot;,\n        &quot;speed&quot;: 50\n    }\n}\n</code></pre>\n<p><b>Location Event</b></p>\n<pre><code>{\n    &quot;eventId&quot;: 11,\n    &quot;ts&quot;: 1684937172450,\n    &quot;eventDetails&quot;: {\n        &quot;eventId&quot;: &quot;11&quot;,\n        &quot;latitude&quot;: 41.40338,\n        &quot;longitude&quot;: 2.17403\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1952668,"reputation":7464,"user_id":1756430,"accept_rate":88,"display_name":"Sam Berry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59720,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":24265399,"answer_count":8,"score":62,"last_activity_date":1684958783,"creation_date":1403008318,"question_id":24263904,"body_markdown":"If I have a class structure like so:\r\n   \r\n```lang-java\r\npublic abstract class Parent {\r\n    private Long id;\r\n    ...\r\n}\r\n\r\npublic class SubClassA extends Parent {\r\n    private String stringA;\r\n    private Integer intA;\r\n    ...\r\n}\r\n\r\npublic class SubClassB extends Parent {\r\n    private String stringB;\r\n    private Integer intB;\r\n    ...\r\n}\r\n```\r\n\r\nIs there an alternative way to deserialize different then `@JsonTypeInfo`?  Using this annotation on my parent class:\r\n\r\n```lang-java\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;objectType&quot;)\r\n```\r\n\r\nI would rather not have to force clients of my API to include `&quot;objectType&quot;: &quot;SubClassA&quot;` to deserialize a `Parent` subclass.\r\n\r\nInstead of using `@JsonTypeInfo`, does Jackson provide a way to annotate a subclass and distinguish it from other subclasses via a unique property?  In my example above, this would be something like, &quot;If a JSON object has `&quot;stringA&quot;: ...` deserialize it as `SubClassA`, if it has `&quot;stringB&quot;: ...` deserialize it as `SubClassB`&quot;.","title":"Deserializing polymorphic types with Jackson based on the presence of a unique property","body":"<p>If I have a class structure like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Parent {\n    private Long id;\n    ...\n}\n\npublic class SubClassA extends Parent {\n    private String stringA;\n    private Integer intA;\n    ...\n}\n\npublic class SubClassB extends Parent {\n    private String stringB;\n    private Integer intB;\n    ...\n}\n</code></pre>\n<p>Is there an alternative way to deserialize different then <code>@JsonTypeInfo</code>?  Using this annotation on my parent class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;objectType&quot;)\n</code></pre>\n<p>I would rather not have to force clients of my API to include <code>&quot;objectType&quot;: &quot;SubClassA&quot;</code> to deserialize a <code>Parent</code> subclass.</p>\n<p>Instead of using <code>@JsonTypeInfo</code>, does Jackson provide a way to annotate a subclass and distinguish it from other subclasses via a unique property?  In my example above, this would be something like, &quot;If a JSON object has <code>&quot;stringA&quot;: ...</code> deserialize it as <code>SubClassA</code>, if it has <code>&quot;stringB&quot;: ...</code> deserialize it as <code>SubClassB</code>&quot;.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660312917,"creation_date":1660312917,"answer_id":73335363,"question_id":73333582,"body_markdown":"The code you have allows the client to detect whether it is connected to the Firebase Realtime Database backend. As you&#39;ve discovered, this code does not allow you to update the database once the client disconnects - as at that point there&#39;s no way for it to write to the database anymore.\r\n\r\nTo detect such disconnect events, Firebase has [`onDisconnect` handlers](https://firebase.google.com/docs/database/android/offline-capabilities#section-presence). With this, you register a write operation with the server while you are connection, which the server then executes once it detects that the client is gone.\r\n\r\nThe documentation even contains an example of a complete [presence system](https://firebase.google.com/docs/database/android/offline-capabilities#section-sample) built with `.info/connected` and `onDisconnect`. I recommend using that as the basis for your own use-case too, as it handles some edge-cases you may not immediately think of yourself.","title":"How to signal to the database that I have lost the connection - Java","body":"<p>The code you have allows the client to detect whether it is connected to the Firebase Realtime Database backend. As you've discovered, this code does not allow you to update the database once the client disconnects - as at that point there's no way for it to write to the database anymore.</p>\n<p>To detect such disconnect events, Firebase has <a href=\"https://firebase.google.com/docs/database/android/offline-capabilities#section-presence\" rel=\"nofollow noreferrer\"><code>onDisconnect</code> handlers</a>. With this, you register a write operation with the server while you are connection, which the server then executes once it detects that the client is gone.</p>\n<p>The documentation even contains an example of a complete <a href=\"https://firebase.google.com/docs/database/android/offline-capabilities#section-sample\" rel=\"nofollow noreferrer\">presence system</a> built with <code>.info/connected</code> and <code>onDisconnect</code>. I recommend using that as the basis for your own use-case too, as it handles some edge-cases you may not immediately think of yourself.</p>\n"}],"owner":{"account_id":25932092,"reputation":5,"user_id":19652986,"display_name":"SuperMen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73335363,"answer_count":1,"score":0,"last_activity_date":1684958485,"creation_date":1660304404,"question_id":73333582,"body_markdown":"How can i make that if player1 loses connection, firebase will get signal, i just need to know how to make firebase get notification that player1 lost connection for example\r\n\r\n[![image][1]][1]\r\n\r\nI use this to check if there is a connection and with this you can do all this, but from here I will not be able to transfer the sign to Firebase that I have lost the connection, because in order to transfer it you need to have a connection:\r\n```\r\nDatabaseReference connectedRef = FirebaseDatabase.getInstance().getReference(&quot;.info/connected&quot;);\r\nconnectedRef.addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(DataSnapshot snapshot) {\r\n        boolean connected = snapshot.getValue(Boolean.class);\r\n        if (connected) {\r\n                System.out.println(&quot;connected&quot;);\r\n        } else {\r\n                Toast.makeText(DuelGame.this, &quot;У вас отсутствует подключение к интернету!&quot;, Toast.LENGTH_SHORT).show();\r\n                System.out.println(&quot;not connected&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(DatabaseError error) {\r\n        System.err.println(&quot;Listener was cancelled&quot;);\r\n    }\r\n});\r\n```\r\nOnce again I will explain more simply. I need Firebase to check if people are online or not, if not then some actions are enabled.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SxgG4.png","title":"How to signal to the database that I have lost the connection - Java","body":"<p>How can i make that if player1 loses connection, firebase will get signal, i just need to know how to make firebase get notification that player1 lost connection for example</p>\n<p><a href=\"https://i.stack.imgur.com/SxgG4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SxgG4.png\" alt=\"image\" /></a></p>\n<p>I use this to check if there is a connection and with this you can do all this, but from here I will not be able to transfer the sign to Firebase that I have lost the connection, because in order to transfer it you need to have a connection:</p>\n<pre><code>DatabaseReference connectedRef = FirebaseDatabase.getInstance().getReference(&quot;.info/connected&quot;);\nconnectedRef.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot snapshot) {\n        boolean connected = snapshot.getValue(Boolean.class);\n        if (connected) {\n                System.out.println(&quot;connected&quot;);\n        } else {\n                Toast.makeText(DuelGame.this, &quot;У вас отсутствует подключение к интернету!&quot;, Toast.LENGTH_SHORT).show();\n                System.out.println(&quot;not connected&quot;);\n        }\n    }\n\n    @Override\n    public void onCancelled(DatabaseError error) {\n        System.err.println(&quot;Listener was cancelled&quot;);\n    }\n});\n</code></pre>\n<p>Once again I will explain more simply. I need Firebase to check if people are online or not, if not then some actions are enabled.</p>\n"},{"tags":["java","android","kotlin","webview"],"owner":{"account_id":3777935,"reputation":631,"user_id":3138195,"display_name":"viv3k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684957646,"creation_date":1684935697,"question_id":76324195,"body_markdown":"I have a media player application, which plays FM radio or songs. The problem statement now is to add a section where users can play simple H5 (html) games in a webview. The issue I&#39;m facing is that some of these games have music/audio within them. \r\n\r\nI don&#39;t want the webview to play any sounds on launch which will overlap with the FM/songs which are playing. Have no control over the H5 games&#39; code and have tried injecting javascript which finds all the audio elements using `getElementsByTagName` and tries to mute them. Unfortunately, it is not working for the games. Please do suggest any feasible approach here.","title":"Mute conflicting webview audio programatically","body":"<p>I have a media player application, which plays FM radio or songs. The problem statement now is to add a section where users can play simple H5 (html) games in a webview. The issue I'm facing is that some of these games have music/audio within them.</p>\n<p>I don't want the webview to play any sounds on launch which will overlap with the FM/songs which are playing. Have no control over the H5 games' code and have tried injecting javascript which finds all the audio elements using <code>getElementsByTagName</code> and tries to mute them. Unfortunately, it is not working for the games. Please do suggest any feasible approach here.</p>\n"},{"tags":["java","long-integer","string-parsing","fastutil"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1684958777,"post_id":76326766,"comment_id":134595383,"body_markdown":"I downloaded it and played around with it, and the ReferenceOpenHashSet seems extremely broken. Simple things don&#39;t work, like creating a set of String, adding &quot;Hash&quot; to it, and then contains(&quot;Hash&quot;) returns false. Long has a cache, so Long.valueOf(long) will return the same object for small values, but create a new object for larger values. Boxing works similarly. I&#39;d suggest using a regular HashSet or TreeSet.","body":"I downloaded it and played around with it, and the ReferenceOpenHashSet seems extremely broken. Simple things don&#39;t work, like creating a set of String, adding &quot;Hash&quot; to it, and then contains(&quot;Hash&quot;) returns false. Long has a cache, so Long.valueOf(long) will return the same object for small values, but create a new object for larger values. Boxing works similarly. I&#39;d suggest using a regular HashSet or TreeSet."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1684958882,"post_id":76326766,"comment_id":134595412,"body_markdown":"More generally, I suppose you&#39;re using this FastUtil because it&#39;s supposed to be faster than the regular Java collections classes, but is it really faster and is it well tested?","body":"More generally, I suppose you&#39;re using this FastUtil because it&#39;s supposed to be faster than the regular Java collections classes, but is it really faster and is it well tested?"},{"owner":{"account_id":420683,"reputation":10207,"user_id":798502,"accept_rate":86,"display_name":"seinecle"},"score":0,"creation_date":1684959033,"post_id":76326766,"comment_id":134595447,"body_markdown":"FastUtil is a classic, widely adopted solution to handle very large collections with a minimal memory footprint. I didn&#39;t know it had these issues ...","body":"FastUtil is a classic, widely adopted solution to handle very large collections with a minimal memory footprint. I didn&#39;t know it had these issues ..."},{"owner":{"account_id":420683,"reputation":10207,"user_id":798502,"accept_rate":86,"display_name":"seinecle"},"score":0,"creation_date":1684959111,"post_id":76326766,"comment_id":134595459,"body_markdown":"My collections will contains 20 million keys so I need to consider FastUtil or a similar solution.","body":"My collections will contains 20 million keys so I need to consider FastUtil or a similar solution."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1684959413,"post_id":76326766,"comment_id":134595515,"body_markdown":"Does the Set need to be from FastUtil, or just the Map? Are there 20 million authors on each journal?","body":"Does the Set need to be from FastUtil, or just the Map? Are there 20 million authors on each journal?"},{"owner":{"account_id":420683,"reputation":10207,"user_id":798502,"accept_rate":86,"display_name":"seinecle"},"score":1,"creation_date":1684959684,"post_id":76326766,"comment_id":134595560,"body_markdown":"200,000 keys, not 20 million, my bad. The Sets will contain 10 to a couple thousand Long values. Following your remarks, I&#39;ll consider Eclipse Collections which handles primitives too.","body":"200,000 keys, not 20 million, my bad. The Sets will contain 10 to a couple thousand Long values. Following your remarks, I&#39;ll consider Eclipse Collections which handles primitives too."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1684960680,"post_id":76326766,"comment_id":134595715,"body_markdown":"I looked up the source to ReferenceOpenHashSet and it looks like it uses System.identityHashCode(), which means two objects that are equal and have the same hashCode wouldn&#39;t be the same to it. I think that&#39;s what the &quot;Reference&quot; in its name means. The documentation doesn&#39;t make that clear, though. :(","body":"I looked up the source to ReferenceOpenHashSet and it looks like it uses System.identityHashCode(), which means two objects that are equal and have the same hashCode wouldn&#39;t be the same to it. I think that&#39;s what the &quot;Reference&quot; in its name means. The documentation doesn&#39;t make that clear, though. :("}],"owner":{"account_id":420683,"reputation":10207,"user_id":798502,"accept_rate":86,"display_name":"seinecle"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684956441,"creation_date":1684955855,"question_id":76326766,"body_markdown":"Minimum reproducible example below, with the dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;it.unimi.dsi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;fastutil&lt;/artifactId&gt;\r\n        &lt;version&gt;8.5.12&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe issue with the code below is that it works with short numerical values, and it doesn&#39;t with bigger values &#128533;. \r\n\r\n    package net.clementlevallois.functions.mapsofscience;\r\n    \r\n    import it.unimi.dsi.fastutil.longs.Long2ObjectOpenHashMap;\r\n    import it.unimi.dsi.fastutil.objects.ReferenceOpenHashSet;\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    import java.util.stream.Collectors;\r\n    \r\n    /**\r\n     *\r\n     * @author LEVALLOIS\r\n     */\r\n    public class JournalSimilaritiesComputer {\r\n    \r\n        static Long2ObjectOpenHashMap&lt;ReferenceOpenHashSet&lt;Long&gt;&gt; journal2AuthorsMap = new Long2ObjectOpenHashMap&lt;&gt;();\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            JournalSimilaritiesComputer computer = new JournalSimilaritiesComputer();\r\n            computer.loadDataToMap();\r\n            System.out.println(&quot;number of entries in the map: &quot; + journal2AuthorsMap.size());\r\n            computer.doubleLoopingThroughJournalIds();\r\n        }\r\n    \r\n        private void loadDataToMap() throws IOException {\r\n            \r\n            /*\r\n            The goal is to:\r\n            - load lines\r\n            - split them on |\r\n            - the left side is an entity, the right side is thing to measure similarity on.\r\n            - in the examples below, we would expect 2 lines to be similar because they have the same value on the right side\r\n            - but weirdly, the second example fails to detect the similarity. Help!\r\n            */\r\n            \r\n            List&lt;String&gt; lines = List.of(&quot;1|0&quot;,&quot;2|0&quot;); // DETECTION OF SIMILARITY WORKS\r\n            lines = List.of(&quot;4210168784|3089954349&quot;,&quot;198793727|3089954349&quot;); // DETECTION OF SIMILARITY FAILS\r\n            \r\n            lines.stream().forEach(line -&gt; {\r\n                processLine(line);\r\n            });\r\n        }\r\n    \r\n        private void doubleLoopingThroughJournalIds() {        \r\n            journal2AuthorsMap.keySet().longStream().forEach(journalIdA -&gt; {\r\n                        ReferenceOpenHashSet&lt;Long&gt; authorsOfJournalA = journal2AuthorsMap.get(journalIdA);\r\n    \r\n                journal2AuthorsMap.keySet().longStream().forEach(journalIdB -&gt; {\r\n                    if (journalIdA == journalIdB) {\r\n                        return;\r\n                    }\r\n                    ReferenceOpenHashSet&lt;Long&gt; authorsOfJournalB = journal2AuthorsMap.get(journalIdB);\r\n                    Integer similarity = computeSimilarities(authorsOfJournalA, authorsOfJournalB);\r\n                    if (similarity &gt; 0) {\r\n                        String sim = journalIdA + &quot;,&quot; + journalIdB + &quot;,&quot; + similarity;\r\n                        System.out.println(&quot;similarity detected! -&gt; &quot; + sim);\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    \r\n        private Integer computeSimilarities(ReferenceOpenHashSet&lt;Long&gt; authorsOfJournalA, ReferenceOpenHashSet&lt;Long&gt; authorsOfJournalB) {\r\n            \r\n            \r\n            for (Long entry: authorsOfJournalA){\r\n                if (authorsOfJournalB.contains(entry)){\r\n                    System.out.println(&quot;stop&quot;); // never reached with example with long values\r\n                    System.out.println(&quot;stop&quot;); \r\n                }\r\n            }\r\n            Set&lt;Long&gt; commonElements = authorsOfJournalA.parallelStream()\r\n                    .filter(authorsOfJournalB::contains)\r\n                    .collect(Collectors.toSet());\r\n            return commonElements.size(); // is zero with example with long values, should be equal to 1!\r\n        }\r\n    \r\n        private void processLine(String line) {\r\n            String fields[] = line.split(&quot;\\\\|&quot;);\r\n            if (fields.length &lt; 2) {\r\n                return;\r\n            }\r\n            String journalId = fields[0];\r\n            long journalIdAsLong = Long.parseLong(journalId);\r\n            String authorIdsAsLine = fields[1];\r\n            String authorIds[] = authorIdsAsLine.split(&quot;,&quot;);\r\n            ReferenceOpenHashSet&lt;Long&gt; setOfCurrentAuthors = new ReferenceOpenHashSet();\r\n            ReferenceOpenHashSet&lt;Long&gt; setOfAuthorsForThisJournal = journal2AuthorsMap.getOrDefault(journalIdAsLong, setOfCurrentAuthors);\r\n            for (String authorId : authorIds) {\r\n                try {\r\n                    long authorIdLong = Long.parseLong(authorId);\r\n                    setOfAuthorsForThisJournal.add(authorIdLong);\r\n                } catch (NumberFormatException e) {\r\n                    System.out.println(&quot;error with author id, not  long: &quot; + authorId);\r\n                }\r\n            }\r\n            journal2AuthorsMap.put(journalIdAsLong, setOfAuthorsForThisJournal);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"FastUtil - operation on Set fails with Long type","body":"<p>Minimum reproducible example below, with the dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;it.unimi.dsi&lt;/groupId&gt;\n    &lt;artifactId&gt;fastutil&lt;/artifactId&gt;\n    &lt;version&gt;8.5.12&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The issue with the code below is that it works with short numerical values, and it doesn't with bigger values 😕.</p>\n<pre><code>package net.clementlevallois.functions.mapsofscience;\n\nimport it.unimi.dsi.fastutil.longs.Long2ObjectOpenHashMap;\nimport it.unimi.dsi.fastutil.objects.ReferenceOpenHashSet;\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\n/**\n *\n * @author LEVALLOIS\n */\npublic class JournalSimilaritiesComputer {\n\n    static Long2ObjectOpenHashMap&lt;ReferenceOpenHashSet&lt;Long&gt;&gt; journal2AuthorsMap = new Long2ObjectOpenHashMap&lt;&gt;();\n\n    public static void main(String[] args) throws IOException {\n        JournalSimilaritiesComputer computer = new JournalSimilaritiesComputer();\n        computer.loadDataToMap();\n        System.out.println(&quot;number of entries in the map: &quot; + journal2AuthorsMap.size());\n        computer.doubleLoopingThroughJournalIds();\n    }\n\n    private void loadDataToMap() throws IOException {\n        \n        /*\n        The goal is to:\n        - load lines\n        - split them on |\n        - the left side is an entity, the right side is thing to measure similarity on.\n        - in the examples below, we would expect 2 lines to be similar because they have the same value on the right side\n        - but weirdly, the second example fails to detect the similarity. Help!\n        */\n        \n        List&lt;String&gt; lines = List.of(&quot;1|0&quot;,&quot;2|0&quot;); // DETECTION OF SIMILARITY WORKS\n        lines = List.of(&quot;4210168784|3089954349&quot;,&quot;198793727|3089954349&quot;); // DETECTION OF SIMILARITY FAILS\n        \n        lines.stream().forEach(line -&gt; {\n            processLine(line);\n        });\n    }\n\n    private void doubleLoopingThroughJournalIds() {        \n        journal2AuthorsMap.keySet().longStream().forEach(journalIdA -&gt; {\n                    ReferenceOpenHashSet&lt;Long&gt; authorsOfJournalA = journal2AuthorsMap.get(journalIdA);\n\n            journal2AuthorsMap.keySet().longStream().forEach(journalIdB -&gt; {\n                if (journalIdA == journalIdB) {\n                    return;\n                }\n                ReferenceOpenHashSet&lt;Long&gt; authorsOfJournalB = journal2AuthorsMap.get(journalIdB);\n                Integer similarity = computeSimilarities(authorsOfJournalA, authorsOfJournalB);\n                if (similarity &gt; 0) {\n                    String sim = journalIdA + &quot;,&quot; + journalIdB + &quot;,&quot; + similarity;\n                    System.out.println(&quot;similarity detected! -&gt; &quot; + sim);\n                }\n            });\n        });\n    }\n\n    private Integer computeSimilarities(ReferenceOpenHashSet&lt;Long&gt; authorsOfJournalA, ReferenceOpenHashSet&lt;Long&gt; authorsOfJournalB) {\n        \n        \n        for (Long entry: authorsOfJournalA){\n            if (authorsOfJournalB.contains(entry)){\n                System.out.println(&quot;stop&quot;); // never reached with example with long values\n                System.out.println(&quot;stop&quot;); \n            }\n        }\n        Set&lt;Long&gt; commonElements = authorsOfJournalA.parallelStream()\n                .filter(authorsOfJournalB::contains)\n                .collect(Collectors.toSet());\n        return commonElements.size(); // is zero with example with long values, should be equal to 1!\n    }\n\n    private void processLine(String line) {\n        String fields[] = line.split(&quot;\\\\|&quot;);\n        if (fields.length &lt; 2) {\n            return;\n        }\n        String journalId = fields[0];\n        long journalIdAsLong = Long.parseLong(journalId);\n        String authorIdsAsLine = fields[1];\n        String authorIds[] = authorIdsAsLine.split(&quot;,&quot;);\n        ReferenceOpenHashSet&lt;Long&gt; setOfCurrentAuthors = new ReferenceOpenHashSet();\n        ReferenceOpenHashSet&lt;Long&gt; setOfAuthorsForThisJournal = journal2AuthorsMap.getOrDefault(journalIdAsLong, setOfCurrentAuthors);\n        for (String authorId : authorIds) {\n            try {\n                long authorIdLong = Long.parseLong(authorId);\n                setOfAuthorsForThisJournal.add(authorIdLong);\n            } catch (NumberFormatException e) {\n                System.out.println(&quot;error with author id, not  long: &quot; + authorId);\n            }\n        }\n        journal2AuthorsMap.put(journalIdAsLong, setOfAuthorsForThisJournal);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":15589290,"reputation":63,"user_id":11246856,"display_name":"medi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684956393,"creation_date":1684956393,"answer_id":76326821,"question_id":76322184,"body_markdown":"problem solved by changing versions to those \r\n\r\n    &lt;scala.version&gt;2.12&lt;/scala.version&gt; \r\n    &lt;spark.version&gt;3.2.0&lt;/spark.version&gt;","title":"method fit ALSModel not found","body":"<p>problem solved by changing versions to those</p>\n<pre><code>&lt;scala.version&gt;2.12&lt;/scala.version&gt; \n&lt;spark.version&gt;3.2.0&lt;/spark.version&gt;\n</code></pre>\n"}],"owner":{"account_id":15589290,"reputation":63,"user_id":11246856,"display_name":"medi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684956393,"creation_date":1684921660,"question_id":76322184,"body_markdown":"i&#39;m new to spark, i want to read data from database and recommand product to a specific user.\r\ni found the following code \r\n\r\n    public class CollaborativeFiltering {\r\n    public static void main(String[] args) {\r\n        // Step 1: Set up Spark environment\r\n        SparkSession spark = SparkSession.builder()\r\n                .appName(&quot;CollaborativeFiltering&quot;)\r\n                .master(&quot;local[*]&quot;)\r\n                .getOrCreate();\r\n\r\n        // Step 2: Configure database connection and load ratings data into DataFrame\r\n        String url = &quot;jdbc:mysql://localhost:3306/your_database&quot;; // Replace with your database URL\r\n        String table = &quot;ratings&quot;; // Replace with your table name\r\n        String user = &quot;your_username&quot;; // Replace with your database username\r\n        String password = &quot;your_password&quot;; // Replace with your database password\r\n        \r\n        DataFrameReader reader = spark.read().format(&quot;jdbc&quot;);\r\n        Dataset&lt;Row&gt; ratingsDF = reader.option(&quot;url&quot;, url)\r\n                .option(&quot;dbtable&quot;, table)\r\n                .option(&quot;user&quot;, user)\r\n                .option(&quot;password&quot;, password)\r\n                .load();\r\n\r\n        // Step 3: Prepare data for collaborative filtering\r\n        Dataset&lt;Row&gt; preparedData = ratingsDF.withColumnRenamed(&quot;user_id&quot;, &quot;userId&quot;)\r\n                .withColumnRenamed(&quot;product_id&quot;, &quot;itemId&quot;);\r\n\r\n        // Step 4: Build collaborative filtering model\r\n        ALS als = new ALS();\r\n\r\n        // Set the required parameters\r\n        als.setUserCol(&quot;userId&quot;);\r\n        als.setItemCol(&quot;itemId&quot;);\r\n        als.setRatingCol(&quot;rating&quot;);\r\n\r\n        // Set additional optional parameters\r\n        als.setRank(10); // Set the number of latent factors\r\n        als.setMaxIter(10); // Set the maximum number of iterations\r\n        als.setRegParam(0.01); // Set the regularization parameter\r\n\r\n        ALSModel model = als.fit(preparedData);\r\n\r\n        // Step 5: Generate recommendations for a specific user\r\n        int userId = 123; // Replace with the desired user ID\r\n        Dataset&lt;Row&gt; userRecommendations = model.recommendForUserSubset(spark.createDataset(Collections.singletonList(userId), Encoders.INT), 5); // Get top 5 recommendations\r\n\r\n        // Print the recommendations\r\n        userRecommendations.show(false);\r\n        \r\n        // Stop the Spark session\r\n        spark.stop();\r\n    }}\r\n\r\n\r\nbut the methods setMaxIter , setRegParam and fit are not founds.\r\nany help please.\r\nPS : i&#39;m using spark version 3.3.0 and scala version 2.13, i&#39;ve tried other versions but it&#39;s always the same problem.","title":"method fit ALSModel not found","body":"<p>i'm new to spark, i want to read data from database and recommand product to a specific user.\ni found the following code</p>\n<pre><code>public class CollaborativeFiltering {\npublic static void main(String[] args) {\n    // Step 1: Set up Spark environment\n    SparkSession spark = SparkSession.builder()\n            .appName(&quot;CollaborativeFiltering&quot;)\n            .master(&quot;local[*]&quot;)\n            .getOrCreate();\n\n    // Step 2: Configure database connection and load ratings data into DataFrame\n    String url = &quot;jdbc:mysql://localhost:3306/your_database&quot;; // Replace with your database URL\n    String table = &quot;ratings&quot;; // Replace with your table name\n    String user = &quot;your_username&quot;; // Replace with your database username\n    String password = &quot;your_password&quot;; // Replace with your database password\n    \n    DataFrameReader reader = spark.read().format(&quot;jdbc&quot;);\n    Dataset&lt;Row&gt; ratingsDF = reader.option(&quot;url&quot;, url)\n            .option(&quot;dbtable&quot;, table)\n            .option(&quot;user&quot;, user)\n            .option(&quot;password&quot;, password)\n            .load();\n\n    // Step 3: Prepare data for collaborative filtering\n    Dataset&lt;Row&gt; preparedData = ratingsDF.withColumnRenamed(&quot;user_id&quot;, &quot;userId&quot;)\n            .withColumnRenamed(&quot;product_id&quot;, &quot;itemId&quot;);\n\n    // Step 4: Build collaborative filtering model\n    ALS als = new ALS();\n\n    // Set the required parameters\n    als.setUserCol(&quot;userId&quot;);\n    als.setItemCol(&quot;itemId&quot;);\n    als.setRatingCol(&quot;rating&quot;);\n\n    // Set additional optional parameters\n    als.setRank(10); // Set the number of latent factors\n    als.setMaxIter(10); // Set the maximum number of iterations\n    als.setRegParam(0.01); // Set the regularization parameter\n\n    ALSModel model = als.fit(preparedData);\n\n    // Step 5: Generate recommendations for a specific user\n    int userId = 123; // Replace with the desired user ID\n    Dataset&lt;Row&gt; userRecommendations = model.recommendForUserSubset(spark.createDataset(Collections.singletonList(userId), Encoders.INT), 5); // Get top 5 recommendations\n\n    // Print the recommendations\n    userRecommendations.show(false);\n    \n    // Stop the Spark session\n    spark.stop();\n}}\n</code></pre>\n<p>but the methods setMaxIter , setRegParam and fit are not founds.\nany help please.\nPS : i'm using spark version 3.3.0 and scala version 2.13, i've tried other versions but it's always the same problem.</p>\n"},{"tags":["java","sql","postgresql","jdbc"],"comments":[{"owner":{"account_id":12130316,"reputation":87,"user_id":9753684,"display_name":"David Hash"},"score":0,"creation_date":1684075078,"post_id":76247995,"comment_id":134460392,"body_markdown":"You can use the &#39;%&#39; symbol to represent a wild card to replace the &#39;ANY&#39; you are using. You will not be able to use the &#39;%&#39; in the order by clause. I would recommend creating a Stored Procedure to do this type of logic. By using the stored procedure you can separate out each statement based on inputs.","body":"You can use the &#39;%&#39; symbol to represent a wild card to replace the &#39;ANY&#39; you are using. You will not be able to use the &#39;%&#39; in the order by clause. I would recommend creating a Stored Procedure to do this type of logic. By using the stored procedure you can separate out each statement based on inputs."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1684075127,"post_id":76247995,"comment_id":134460399,"body_markdown":"Various frameworks exist for this kind of thing; they are fairly complicated though. Not all &#39;filter this for me&#39; things are based on `=` (for example, for numbers and dates you might want to search for `5-9`, i.e. `BETWEEN 5 AND 9` in SQL-speak. For strings, `LIKE &#39;foo%&#39;` is common (starts-with), or even `varcharCol ~ &#39;^someRegexp$&#39;`. Given that it&#39;s far more complicated - you see why those frameworks tend to also be.","body":"Various frameworks exist for this kind of thing; they are fairly complicated though. Not all &#39;filter this for me&#39; things are based on <code>=</code> (for example, for numbers and dates you might want to search for <code>5-9</code>, i.e. <code>BETWEEN 5 AND 9</code> in SQL-speak. For strings, <code>LIKE &#39;foo%&#39;</code> is common (starts-with), or even <code>varcharCol ~ &#39;^someRegexp$&#39;</code>. Given that it&#39;s far more complicated - you see why those frameworks tend to also be."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1684075203,"post_id":76247995,"comment_id":134460409,"body_markdown":"You have to use PreparedStatements or your code has a security leak. If you want to write this framework-esque thing yourself, you can construct the SQL, and a list of values to pass along to the preparedstatement separately, as you go - using a `StringBuilder` and a `List&lt;Object&gt;`.","body":"You have to use PreparedStatements or your code has a security leak. If you want to write this framework-esque thing yourself, you can construct the SQL, and a list of values to pass along to the preparedstatement separately, as you go - using a <code>StringBuilder</code> and a <code>List&lt;Object&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":6124082,"reputation":2803,"user_id":4776689,"accept_rate":61,"display_name":"P_M"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1684956300,"creation_date":1684075263,"answer_id":76248055,"question_id":76247995,"body_markdown":"String concatenation to build SQL query is not a good solution. You are correct. Instead you can use IS NULL check for every of your filtering attribute in SQL call. \r\n\r\n    SELECT * FROM listings\r\n    WHERE\r\n        (title_param IS NULL OR listings.listing_title = title_param)\r\n        AND (description_param IS NULL OR listings.listing_description = description_param)\r\n\r\nThis SQL call will check if filter parameters values provided (title_param, description_param) and if they not (they are null in this case) then it will not use them as a filtering condition.\r\n\r\nJava code would look something like:\r\n\r\n    String query = &quot;SELECT * FROM listings WHERE (? IS NULL OR listings.listing_title = ?) AND (? IS NULL OR listings.listing_description = ?);&quot;;\r\n    \r\n    stmt = conn.prepareStatement(query);\r\n    stmt.setString(1, titleParam);\r\n    stmt.setString(2, titleParam);\r\n    stmt.setString(3, descriptionParam);\r\n    stmt.setString(4, descriptionParam);\r\n    \r\n    ResultSet rs = stmt.executeQuery();\r\n\r\nNote **PreparedStatement** used here, but not popular-used **Statement**. This makes the code to be safe against SQL injection attacks. Also note building SQL queries with String concatenation is usually bad practice as it leads to bloated code, which way harder to test.\r\n\r\n**Update.** Note if you use same technique: &quot;param IS NULL&quot; check but your param is a Collection or Array, this solution will likely fail and may be database - engine dependent. It is likely you will have to make a dynamic SQL statement in this case.","title":"Creating variable sql statements possibly with empty values?","body":"<p>String concatenation to build SQL query is not a good solution. You are correct. Instead you can use IS NULL check for every of your filtering attribute in SQL call.</p>\n<pre><code>SELECT * FROM listings\nWHERE\n    (title_param IS NULL OR listings.listing_title = title_param)\n    AND (description_param IS NULL OR listings.listing_description = description_param)\n</code></pre>\n<p>This SQL call will check if filter parameters values provided (title_param, description_param) and if they not (they are null in this case) then it will not use them as a filtering condition.</p>\n<p>Java code would look something like:</p>\n<pre><code>String query = &quot;SELECT * FROM listings WHERE (? IS NULL OR listings.listing_title = ?) AND (? IS NULL OR listings.listing_description = ?);&quot;;\n\nstmt = conn.prepareStatement(query);\nstmt.setString(1, titleParam);\nstmt.setString(2, titleParam);\nstmt.setString(3, descriptionParam);\nstmt.setString(4, descriptionParam);\n\nResultSet rs = stmt.executeQuery();\n</code></pre>\n<p>Note <strong>PreparedStatement</strong> used here, but not popular-used <strong>Statement</strong>. This makes the code to be safe against SQL injection attacks. Also note building SQL queries with String concatenation is usually bad practice as it leads to bloated code, which way harder to test.</p>\n<p><strong>Update.</strong> Note if you use same technique: &quot;param IS NULL&quot; check but your param is a Collection or Array, this solution will likely fail and may be database - engine dependent. It is likely you will have to make a dynamic SQL statement in this case.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684079631,"creation_date":1684079631,"answer_id":76248387,"question_id":76247995,"body_markdown":"As I said in the comments, &#39;filter some db rows&#39; is way more complicated than exact string matches. You may want to filter on specifically &#39;anything in the year X&#39;, matching X against a TIMESTAMP column. Or &#39;anything where the name STARTS WITH &quot;foo&quot;&#39;, and so on.\r\n\r\nSo, first, we abstract the notion of &#39;the nature of the value I want to filter on&#39;:\r\n\r\n```\r\ninterface FilterValue {\r\n void apply(String colName, StringBuilder query, List&lt;Object&gt; params);\r\n}\r\n\r\n@lombok.Value\r\nclass ExactStringMatch implements FilterValue {\r\n  private final String match;\r\n\r\n  @Override\r\n  public void apply(String colName, StringBuilder query, List&lt;Object&gt; params) {\r\n    query.append(&quot;AND &quot;).append(colName).append(&quot; = ? &quot;);\r\n    params.add(match);\r\n  }\r\n}\r\n\r\n@lombok.Value\r\nclass DateBoundedMatch implements FilterValue {\r\n  private final LocalDate lower, upper;\r\n\r\n  @Override\r\n  public void apply(String colName, StringBuilder query, List&lt;Object&gt; params) {\r\n    query.append(&quot;AND &quot;).append(colName).append(&quot; BETWEEN ? AND ? &quot;);\r\n    params.add(lower);\r\n    params.add(upper);\r\n  }\r\n}\r\n\r\n// Not sure you need this, but just to show how\r\n// flexible such a system can be:\r\n@lombok.Value\r\nclass DummyMatch FilterValue {\r\n  @Override\r\n  public void apply(String colName, StringBuilder query, List&lt;Object&gt; params) {} // do nothing - intentionally\r\n}\r\n```\r\n\r\nYou can think of tens of other ones - regexp match, string-starts-with,\r\nand so on. Writing these should be fairly simple here.\r\n\r\nNext, we write a system that turns a map of column-to-filtervalue and makes a query out of it:\r\n\r\n```\r\nvoid query(Map&lt;String, FilterValue&gt; filters) throws SQLException {\r\n  try (Connection con = getConnection()) {\r\n    var q = new StringBuilder();\r\n    q.append(&quot;SELECT * FROM myTable WHERE true &quot;);\r\n    var args = new ArrayList&lt;Object&gt;();\r\n    for (var e : filters.entrySet()) {\r\n      e.getValue().apply(e.getKey(), q, args);\r\n    }\r\n    try (PreparedStatement ps = con.prepareStatement(q.toString())) {\r\n      for (int i = 0; i &lt; args.size(); i++) {\r\n        applyArg(ps, i + 1, args.get(i));\r\n      }\r\n      try (ResultSet rs = ps.executeQuery()) {\r\n        // process here\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nvoid applyArg(PreparedStatement ps, int index, Object arg) throws SQLException {\r\n  switch (arg) {\r\n    case Integer i -&gt; ps.setInt(index, i.intValue());\r\n    case String s -&gt; ps.setString(index, s);\r\n    // lots more types go here\r\n    default -&gt; throw new IllegalArgumentException(&quot;Cannot put set type into PreparedStatement: &quot; + arg.getClass());\r\n  }\r\n}\r\n```\r\n\r\n\r\nYou&#39;re now writing a little library which will soon balloon into a much bigger library, and at some point you&#39;re going to regret not just going with an existing solution that did all this - look into [JOOQ](https://jooq.org) or [JDBI](https://jdbi.org) which do lots of this stuff for you and more.\r\n","title":"Creating variable sql statements possibly with empty values?","body":"<p>As I said in the comments, 'filter some db rows' is way more complicated than exact string matches. You may want to filter on specifically 'anything in the year X', matching X against a TIMESTAMP column. Or 'anything where the name STARTS WITH &quot;foo&quot;', and so on.</p>\n<p>So, first, we abstract the notion of 'the nature of the value I want to filter on':</p>\n<pre><code>interface FilterValue {\n void apply(String colName, StringBuilder query, List&lt;Object&gt; params);\n}\n\n@lombok.Value\nclass ExactStringMatch implements FilterValue {\n  private final String match;\n\n  @Override\n  public void apply(String colName, StringBuilder query, List&lt;Object&gt; params) {\n    query.append(&quot;AND &quot;).append(colName).append(&quot; = ? &quot;);\n    params.add(match);\n  }\n}\n\n@lombok.Value\nclass DateBoundedMatch implements FilterValue {\n  private final LocalDate lower, upper;\n\n  @Override\n  public void apply(String colName, StringBuilder query, List&lt;Object&gt; params) {\n    query.append(&quot;AND &quot;).append(colName).append(&quot; BETWEEN ? AND ? &quot;);\n    params.add(lower);\n    params.add(upper);\n  }\n}\n\n// Not sure you need this, but just to show how\n// flexible such a system can be:\n@lombok.Value\nclass DummyMatch FilterValue {\n  @Override\n  public void apply(String colName, StringBuilder query, List&lt;Object&gt; params) {} // do nothing - intentionally\n}\n</code></pre>\n<p>You can think of tens of other ones - regexp match, string-starts-with,\nand so on. Writing these should be fairly simple here.</p>\n<p>Next, we write a system that turns a map of column-to-filtervalue and makes a query out of it:</p>\n<pre><code>void query(Map&lt;String, FilterValue&gt; filters) throws SQLException {\n  try (Connection con = getConnection()) {\n    var q = new StringBuilder();\n    q.append(&quot;SELECT * FROM myTable WHERE true &quot;);\n    var args = new ArrayList&lt;Object&gt;();\n    for (var e : filters.entrySet()) {\n      e.getValue().apply(e.getKey(), q, args);\n    }\n    try (PreparedStatement ps = con.prepareStatement(q.toString())) {\n      for (int i = 0; i &lt; args.size(); i++) {\n        applyArg(ps, i + 1, args.get(i));\n      }\n      try (ResultSet rs = ps.executeQuery()) {\n        // process here\n      }\n    }\n  }\n}\n\nvoid applyArg(PreparedStatement ps, int index, Object arg) throws SQLException {\n  switch (arg) {\n    case Integer i -&gt; ps.setInt(index, i.intValue());\n    case String s -&gt; ps.setString(index, s);\n    // lots more types go here\n    default -&gt; throw new IllegalArgumentException(&quot;Cannot put set type into PreparedStatement: &quot; + arg.getClass());\n  }\n}\n</code></pre>\n<p>You're now writing a little library which will soon balloon into a much bigger library, and at some point you're going to regret not just going with an existing solution that did all this - look into <a href=\"https://jooq.org\" rel=\"nofollow noreferrer\">JOOQ</a> or <a href=\"https://jdbi.org\" rel=\"nofollow noreferrer\">JDBI</a> which do lots of this stuff for you and more.</p>\n"}],"owner":{"account_id":21201999,"reputation":23,"user_id":15592452,"display_name":"atesteyimateste"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76248055,"answer_count":2,"score":0,"last_activity_date":1684956300,"creation_date":1684074625,"question_id":76247995,"body_markdown":"I tried researching about this but couldn&#39;t find any answer probably because I don&#39;t really know how to tell what I&#39;m looking for properly. \r\n\r\nI am using JDBC driver of Java to create a PreparedStatement for Postgresql. \r\n\r\nI have a table `listings` with columns like `listing_title`, `listing_desription`, `listing_location` etc.\r\n\r\nI am working on a findListings() method that will work with varied filters, declared with variables like `String title`, `String description` etc. Those variables might be `null` and in those cases I don&#39;t want to use filter for those rows in the sql statement. \r\n\r\nFor this, I right now have a very long spagetti of if-else statements that check for filters continously to put `WHERE .... = ...` and `AND` statements and concatenate strings to get a statement.\r\n\r\nI wonder if there is an easier way, a way like putting all possible filters to the statement beforehand and not using them with a keyword like `ANY` (I know ANY keyword doesnt help, just using it as an example in this case)\r\n\r\nA possible statement would be: `SELECT * FROM listings WHERE listing_title = &#39;title&#39;, listing description = ANY, ORDER BY ANY`\r\n\r\nIs there a keyword for this? Thanks a lot\r\n\r\nI used many if else statements to concatenate strings to make the statement, I am looking for an easier to do way.","title":"Creating variable sql statements possibly with empty values?","body":"<p>I tried researching about this but couldn't find any answer probably because I don't really know how to tell what I'm looking for properly.</p>\n<p>I am using JDBC driver of Java to create a PreparedStatement for Postgresql.</p>\n<p>I have a table <code>listings</code> with columns like <code>listing_title</code>, <code>listing_desription</code>, <code>listing_location</code> etc.</p>\n<p>I am working on a findListings() method that will work with varied filters, declared with variables like <code>String title</code>, <code>String description</code> etc. Those variables might be <code>null</code> and in those cases I don't want to use filter for those rows in the sql statement.</p>\n<p>For this, I right now have a very long spagetti of if-else statements that check for filters continously to put <code>WHERE .... = ...</code> and <code>AND</code> statements and concatenate strings to get a statement.</p>\n<p>I wonder if there is an easier way, a way like putting all possible filters to the statement beforehand and not using them with a keyword like <code>ANY</code> (I know ANY keyword doesnt help, just using it as an example in this case)</p>\n<p>A possible statement would be: <code>SELECT * FROM listings WHERE listing_title = 'title', listing description = ANY, ORDER BY ANY</code></p>\n<p>Is there a keyword for this? Thanks a lot</p>\n<p>I used many if else statements to concatenate strings to make the statement, I am looking for an easier to do way.</p>\n"},{"tags":["java","javassist","java-17"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1632210026,"post_id":69264559,"comment_id":122424300,"body_markdown":"The official API for adding a class to an existing context is [`MethodHandles.Lookup.defineClass(…)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineClass(byte%5B%5D)). So you need either, a Javassist function that settles on that method, or call `toBytecode()` on the `CtClass` and create the appropriate lookup object yourself.","body":"The official API for adding a class to an existing context is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineClass(byte%5B%5D)\" rel=\"nofollow noreferrer\"><code>MethodHandles.Lookup.defineClass(…)</code></a>. So you need either, a Javassist function that settles on that method, or call <code>toBytecode()</code> on the <code>CtClass</code> and create the appropriate lookup object yourself."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1684955286,"creation_date":1632208085,"answer_id":69264737,"question_id":69264559,"body_markdown":"This seems to be a well known problem with Javassist and JDK 16 and later (https://github.com/jboss-javassist/javassist/issues/369).\r\n\r\nThe solution mentioned in the ticket is to no longer use `CtClass.toClass()`: \r\n\r\n&gt; Please do not use `ctClass.toClass()` anymore, try to [use] `ctClass.toClass(neigborClass)` as replacement.","title":"Javassist with JDK 17","body":"<p>This seems to be a well known problem with Javassist and JDK 16 and later (<a href=\"https://github.com/jboss-javassist/javassist/issues/369\" rel=\"nofollow noreferrer\">https://github.com/jboss-javassist/javassist/issues/369</a>).</p>\n<p>The solution mentioned in the ticket is to no longer use <code>CtClass.toClass()</code>:</p>\n<blockquote>\n<p>Please do not use <code>ctClass.toClass()</code> anymore, try to [use] <code>ctClass.toClass(neigborClass)</code> as replacement.</p>\n</blockquote>\n"}],"owner":{"account_id":1041528,"reputation":3262,"user_id":1047469,"display_name":"marthursson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2739,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69264737,"answer_count":1,"score":4,"last_activity_date":1684955286,"creation_date":1632207191,"question_id":69264559,"body_markdown":"Javassist (version 3.28.0-GA) stopped working after upgrading from JDK 11 to 17.\r\n\r\nCalling `CtClass#toClass` renders the following error:\r\n\r\n      ...\r\n      Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @63e31ee\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n\tat javassist.util.proxy.SecurityActions.setAccessible(SecurityActions.java:159)\r\n\tat javassist.util.proxy.DefineClassHelper$JavaOther.defineClass(DefineClassHelper.java:213)\r\n\tat javassist.util.proxy.DefineClassHelper$Java11.defineClass(DefineClassHelper.java:52)\r\n\tat javassist.util.proxy.DefineClassHelper.toClass(DefineClassHelper.java:260)\r\n\tat javassist.ClassPool.toClass(ClassPool.java:1240)\r\n\tat javassist.CtClass.toClass(CtClass.java:1392)\r\n\r\nAnyone know of a workaround? ","title":"Javassist with JDK 17","body":"<p>Javassist (version 3.28.0-GA) stopped working after upgrading from JDK 11 to 17.</p>\n<p>Calling <code>CtClass#toClass</code> renders the following error:</p>\n<pre><code>  ...\n  Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @63e31ee\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\nat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\nat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\nat javassist.util.proxy.SecurityActions.setAccessible(SecurityActions.java:159)\nat javassist.util.proxy.DefineClassHelper$JavaOther.defineClass(DefineClassHelper.java:213)\nat javassist.util.proxy.DefineClassHelper$Java11.defineClass(DefineClassHelper.java:52)\nat javassist.util.proxy.DefineClassHelper.toClass(DefineClassHelper.java:260)\nat javassist.ClassPool.toClass(ClassPool.java:1240)\nat javassist.CtClass.toClass(CtClass.java:1392)\n</code></pre>\n<p>Anyone know of a workaround?</p>\n"},{"tags":["java","android","database","sqlite","button"],"comments":[{"owner":{"account_id":6852,"reputation":175273,"user_id":11654,"display_name":"CL."},"score":0,"creation_date":1481977975,"post_id":41197073,"comment_id":69596584,"body_markdown":"Query results are unsorted unless you use ORDER BY. And this is not how the [Cursor methods](http://developer.android.com/reference/android/database/Cursor.html) work.","body":"Query results are unsorted unless you use ORDER BY. And this is not how the <a href=\"http://developer.android.com/reference/android/database/Cursor.html\" rel=\"nofollow noreferrer\">Cursor methods</a> work."},{"owner":{"account_id":7281513,"reputation":1,"user_id":5551103,"display_name":"mtbrown4ayl"},"score":0,"creation_date":1481979867,"post_id":41197073,"comment_id":69597086,"body_markdown":"Sorry for my ignorance but I&#39;m rather new to android. But are you saying I simply need to add an Order by Desc to the statement and it should work? I have 3 entries and it brings up the first and last if asked I added move to first or last but I can&#39;t seem to be scroll thru the entries.","body":"Sorry for my ignorance but I&#39;m rather new to android. But are you saying I simply need to add an Order by Desc to the statement and it should work? I have 3 entries and it brings up the first and last if asked I added move to first or last but I can&#39;t seem to be scroll thru the entries."}],"answers":[{"tags":[],"owner":{"account_id":7281513,"reputation":1,"user_id":5551103,"display_name":"mtbrown4ayl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488384625,"creation_date":1488384625,"answer_id":42536631,"question_id":41197073,"body_markdown":"I had to add this separate method to keep cursor open while scrolling to the next entry:\r\n\r\n        final Button nextBtn = (Button) findViewById(R.id.btnNext);\r\n            nextBtn.setOnClickListener(new View.OnClickListener() {\r\n                public void onClick(View v) {\r\n                    if (editText6.getText().toString().trim().length() == 0) {\r\n                        Toast ToastMessage1 = Toast.makeText(getApplicationContext(), &quot;Please&quot; +\r\n                                &quot; Enter Meter Number\\nThen Press Lookup Meter&quot;, Toast.LENGTH_LONG);\r\n                        ToastMessage1.setGravity(Gravity.CENTER | Gravity.CENTER_HORIZONTAL, 0, 0);\r\n                        View toastView1 = ToastMessage1.getView();\r\n                        toastView1.setBackgroundResource(R.drawable.shape9);\r\n                        ToastMessage1.show();\r\n                    } else {\r\n                        if (c.getPosition() &gt;= 1) {\r\n                            c.moveToPrevious();\r\n                            idNumber.setText(c.getString(0));\r\n                            //Must maintain this order listed below in order for clear field on focus to work properly.\r\n                            editText6.setText(c.getString(1));\r\n                            editText5.setText(c.getString(6));\r\n                            editText4.setText(c.getString(5));\r\n                            editText3.setText(c.getString(4));\r\n                            editText2.setText(c.getString(3));\r\n                            editText.setText(c.getString(2));\r\n                            //To here-list order.\r\n                            date.setText(c.getString(7));\r\n                            status.setText(c.getString(8));\r\n                            etAddress.setText(c.getString(9));\r\n                        }\r\n                        if (c.getPosition() == 0) {\r\n                            c.close();\r\n                            Toast ToastMessage = Toast.makeText(getApplicationContext(), &quot;      Last Entry Recorded      &quot;, Toast.LENGTH_LONG);\r\n                            ToastMessage.setGravity(Gravity.CENTER | Gravity.CENTER_HORIZONTAL, 0, 0);\r\n                            View toastView = ToastMessage.getView();\r\n                            toastView.setBackgroundResource(R.drawable.shape9);\r\n                            ToastMessage.show();\r\n                        }\r\n                        final Button clearBtn = (Button) findViewById(R.id.btnClear);\r\n                        clearBtn.setOnClickListener(new View.OnClickListener() {\r\n                            public void onClick(View v2) {\r\n                                if (v2 == clearBtn) {\r\n                                    c.close();\r\n                                    clearText();\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            });","title":"Sqlite Next button in android","body":"<p>I had to add this separate method to keep cursor open while scrolling to the next entry:</p>\n\n<pre><code>    final Button nextBtn = (Button) findViewById(R.id.btnNext);\n        nextBtn.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n                if (editText6.getText().toString().trim().length() == 0) {\n                    Toast ToastMessage1 = Toast.makeText(getApplicationContext(), \"Please\" +\n                            \" Enter Meter Number\\nThen Press Lookup Meter\", Toast.LENGTH_LONG);\n                    ToastMessage1.setGravity(Gravity.CENTER | Gravity.CENTER_HORIZONTAL, 0, 0);\n                    View toastView1 = ToastMessage1.getView();\n                    toastView1.setBackgroundResource(R.drawable.shape9);\n                    ToastMessage1.show();\n                } else {\n                    if (c.getPosition() &gt;= 1) {\n                        c.moveToPrevious();\n                        idNumber.setText(c.getString(0));\n                        //Must maintain this order listed below in order for clear field on focus to work properly.\n                        editText6.setText(c.getString(1));\n                        editText5.setText(c.getString(6));\n                        editText4.setText(c.getString(5));\n                        editText3.setText(c.getString(4));\n                        editText2.setText(c.getString(3));\n                        editText.setText(c.getString(2));\n                        //To here-list order.\n                        date.setText(c.getString(7));\n                        status.setText(c.getString(8));\n                        etAddress.setText(c.getString(9));\n                    }\n                    if (c.getPosition() == 0) {\n                        c.close();\n                        Toast ToastMessage = Toast.makeText(getApplicationContext(), \"      Last Entry Recorded      \", Toast.LENGTH_LONG);\n                        ToastMessage.setGravity(Gravity.CENTER | Gravity.CENTER_HORIZONTAL, 0, 0);\n                        View toastView = ToastMessage.getView();\n                        toastView.setBackgroundResource(R.drawable.shape9);\n                        ToastMessage.show();\n                    }\n                    final Button clearBtn = (Button) findViewById(R.id.btnClear);\n                    clearBtn.setOnClickListener(new View.OnClickListener() {\n                        public void onClick(View v2) {\n                            if (v2 == clearBtn) {\n                                c.close();\n                                clearText();\n                            }\n                        }\n                    });\n                }\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":7281513,"reputation":1,"user_id":5551103,"display_name":"mtbrown4ayl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684953703,"creation_date":1481966035,"question_id":41197073,"body_markdown":"I am trying to code a &quot;next&quot; button for my Sqlite db. The way I want it to work is upon entering a number it one of the entries from the db if pressed again it brings up the entry on the list for the same given number entered. However I cant get it to bring up the next entry. So far my button code looks like this. However I have tried countless way to configure it with no luck. Please help. Thanks in advance!!!\r\n\r\n    public void onClick(View view) {\r\n        if (view == btnNext) {\r\n\r\n            Cursor c = db.rawQuery(&quot;SELECT * FROM number WHERE meter=&#39;&quot; + editText6.getText() + &quot;&#39;&quot;, null);\r\n            if (editText6.getText().toString().trim().length() &gt;= 0) {\r\n                c.getPosition();\r\n                c.moveToPosition(+1);\r\n                idNumber.setText(c.getString(0));\r\n                editText5.setText(c.getString(6));\r\n                editText4.setText(c.getString(5));\r\n                editText3.setText(c.getString(4));\r\n                editText2.setText(c.getString(3));\r\n                editText.setText(c.getString(2));\r\n                textView4.setText(c.getString(7));\r\n                status.setText(c.getString(8));\r\n                while (c.moveToNext()) ;\r\n            }\r\n        }","title":"Sqlite Next button in android","body":"<p>I am trying to code a \"next\" button for my Sqlite db. The way I want it to work is upon entering a number it one of the entries from the db if pressed again it brings up the entry on the list for the same given number entered. However I cant get it to bring up the next entry. So far my button code looks like this. However I have tried countless way to configure it with no luck. Please help. Thanks in advance!!!</p>\n\n<pre><code>public void onClick(View view) {\n    if (view == btnNext) {\n\n        Cursor c = db.rawQuery(\"SELECT * FROM number WHERE meter='\" + editText6.getText() + \"'\", null);\n        if (editText6.getText().toString().trim().length() &gt;= 0) {\n            c.getPosition();\n            c.moveToPosition(+1);\n            idNumber.setText(c.getString(0));\n            editText5.setText(c.getString(6));\n            editText4.setText(c.getString(5));\n            editText3.setText(c.getString(4));\n            editText2.setText(c.getString(3));\n            editText.setText(c.getString(2));\n            textView4.setText(c.getString(7));\n            status.setText(c.getString(8));\n            while (c.moveToNext()) ;\n        }\n    }\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1684926926,"post_id":76322343,"comment_id":134588154,"body_markdown":"just add a listener to it, that checks the content, and based on that, calls a setSize and whatever else you need","body":"just add a listener to it, that checks the content, and based on that, calls a setSize and whatever else you need"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1684946799,"post_id":76322343,"comment_id":134593070,"body_markdown":"@Stultuske  _calls a setSize_ no, never ;)","body":"@Stultuske  <i>calls a setSize</i> no, never ;)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1684947544,"post_id":76322343,"comment_id":134593246,"body_markdown":"why? Sounds like a flawed ui to start with: sizes should be stable (not erratically changing while typing), so this smells like an xy-problem. first step is to define the _real_ goal. If you _really_ need dynamically changing width (don&#39;t forget to think about when exactly it should change and what should happen with boundary cases like empty text and reaching screen width, f.i.), use semantic API like prefColumnCount","body":"why? Sounds like a flawed ui to start with: sizes should be stable (not erratically changing while typing), so this smells like an xy-problem. first step is to define the <i>real</i> goal. If you <i>really</i> need dynamically changing width (don&#39;t forget to think about when exactly it should change and what should happen with boundary cases like empty text and reaching screen width, f.i.), use semantic API like prefColumnCount"},{"owner":{"account_id":23885509,"reputation":112,"user_id":17933837,"display_name":"Caedmon"},"score":0,"creation_date":1684961532,"post_id":76322343,"comment_id":134595856,"body_markdown":"@kleopatra It seems odd but it&#39;s pretty necessary to my UI. Its for a fractal renderer where the input length can vary greatly. For example &quot;0. 323 + 1.34i&quot; is a valid input, but &quot;0. 323385932352562 - 0.000323420003025i&quot; is also a valid input where every digit drastically changes the rendered image.  These text fields overlay the rendered image in a window, meaning I&#39;d like them to be as small as possible, but able to grow in length. I thought there might be a very simple way to do this, but it&#39;s still worth it to take a more complicated approach.","body":"@kleopatra It seems odd but it&#39;s pretty necessary to my UI. Its for a fractal renderer where the input length can vary greatly. For example &quot;0. 323 + 1.34i&quot; is a valid input, but &quot;0. 323385932352562 - 0.000323420003025i&quot; is also a valid input where every digit drastically changes the rendered image.  These text fields overlay the rendered image in a window, meaning I&#39;d like them to be as small as possible, but able to grow in length. I thought there might be a very simple way to do this, but it&#39;s still worth it to take a more complicated approach."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1684953368,"creation_date":1684952012,"answer_id":76326370,"question_id":76322343,"body_markdown":"The easiest approach is to bind the column count to the text length, but it won’t look very accurate, since a TextField uses its column count to account for the widest characters of the font:\r\n\r\n    iterations.prefColumnCountProperty().bind(\r\n        Bindings.max(2, iterations.lengthProperty()));\r\n\r\n(Looks pretty good if you only type `W` characters.)\r\n\r\nA better-looking, but more complicated, solution is to use the TextField’s skin to figure out the proper size:\r\n\r\n    import javafx.application.Application;\r\n    import javafx.application.Platform;\r\n    import javafx.geometry.Insets;\r\n    import javafx.stage.Stage;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.control.skin.TextFieldSkin;\r\n    import javafx.scene.layout.HBox;\r\n\r\n    public class GrowingTextField\r\n    extends Application {\r\n        private double margin = -1;\r\n        private double minWidth = -1;\r\n\r\n        @Override\r\n        public void start(Stage stage) {\r\n            TextField iterations = new TextField(&quot; &quot;);\r\n            iterations.setPrefColumnCount(2);\r\n            iterations.skinProperty().addListener((o, old, skin) -&gt; {\r\n                if (skin != null &amp;&amp; margin &lt; 0) {\r\n                    TextFieldSkin textFieldSkin = (TextFieldSkin) skin;\r\n                    Platform.runLater(() -&gt; {\r\n                        margin = textFieldSkin.getCharacterBounds(0).getMinX();\r\n                        minWidth = iterations.prefWidth(0);\r\n                        Platform.runLater(() -&gt; iterations.setText(&quot;&quot;));\r\n                    });\r\n                }\r\n            });\r\n\r\n            iterations.textProperty().addListener((o, oldText, text) -&gt; {\r\n                double width;\r\n                if (text.length() &lt;= iterations.getPrefColumnCount()) {\r\n                    width = minWidth;\r\n                } else {\r\n                    TextFieldSkin skin = (TextFieldSkin) iterations.getSkin();\r\n                    double left = skin.getCharacterBounds(0).getMinX();\r\n                    double right = skin.getCharacterBounds(\r\n                        text.offsetByCodePoints(text.length(), -1)).getMaxX();\r\n                    width = right - left + margin * 2;\r\n                }\r\n                Platform.runLater(() -&gt; iterations.setPrefWidth(width));\r\n            });\r\n\r\n            HBox pane = new HBox(iterations);\r\n            pane.setPadding(new Insets(12));\r\n\r\n            stage.setScene(new Scene(pane, 800, 150));\r\n            stage.setTitle(&quot;Growing TextField&quot;);\r\n            stage.show();\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n\r\n----------\r\n**Output**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n----------\r\n\r\n\r\nI do question why one would need this.  Why not just give the TextField a large column count to start with, like a web browser’s URL field?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q1FVA.gif","title":"How do I have a javafx TextField width grow dynamically?","body":"<p>The easiest approach is to bind the column count to the text length, but it won’t look very accurate, since a TextField uses its column count to account for the widest characters of the font:</p>\n<pre><code>iterations.prefColumnCountProperty().bind(\n    Bindings.max(2, iterations.lengthProperty()));\n</code></pre>\n<p>(Looks pretty good if you only type <code>W</code> characters.)</p>\n<p>A better-looking, but more complicated, solution is to use the TextField’s skin to figure out the proper size:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.geometry.Insets;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.skin.TextFieldSkin;\nimport javafx.scene.layout.HBox;\n\npublic class GrowingTextField\nextends Application {\n    private double margin = -1;\n    private double minWidth = -1;\n\n    @Override\n    public void start(Stage stage) {\n        TextField iterations = new TextField(&quot; &quot;);\n        iterations.setPrefColumnCount(2);\n        iterations.skinProperty().addListener((o, old, skin) -&gt; {\n            if (skin != null &amp;&amp; margin &lt; 0) {\n                TextFieldSkin textFieldSkin = (TextFieldSkin) skin;\n                Platform.runLater(() -&gt; {\n                    margin = textFieldSkin.getCharacterBounds(0).getMinX();\n                    minWidth = iterations.prefWidth(0);\n                    Platform.runLater(() -&gt; iterations.setText(&quot;&quot;));\n                });\n            }\n        });\n\n        iterations.textProperty().addListener((o, oldText, text) -&gt; {\n            double width;\n            if (text.length() &lt;= iterations.getPrefColumnCount()) {\n                width = minWidth;\n            } else {\n                TextFieldSkin skin = (TextFieldSkin) iterations.getSkin();\n                double left = skin.getCharacterBounds(0).getMinX();\n                double right = skin.getCharacterBounds(\n                    text.offsetByCodePoints(text.length(), -1)).getMaxX();\n                width = right - left + margin * 2;\n            }\n            Platform.runLater(() -&gt; iterations.setPrefWidth(width));\n        });\n\n        HBox pane = new HBox(iterations);\n        pane.setPadding(new Insets(12));\n\n        stage.setScene(new Scene(pane, 800, 150));\n        stage.setTitle(&quot;Growing TextField&quot;);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<hr />\n<p><strong>Output</strong></p>\n<p><a href=\"https://i.stack.imgur.com/Q1FVA.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q1FVA.gif\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>I do question why one would need this.  Why not just give the TextField a large column count to start with, like a web browser’s URL field?</p>\n"}],"owner":{"account_id":23885509,"reputation":112,"user_id":17933837,"display_name":"Caedmon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76326370,"answer_count":1,"score":-1,"last_activity_date":1684953368,"creation_date":1684922719,"question_id":76322343,"body_markdown":"This seems like a simple question, but I can&#39;t seem to find any online answers. I have a TextField with some initialized text within it, and I want to find a way to grow the TextField width as the user types in the box. For example, with this code: \r\n\r\n    TextField iterations = new TextField(&quot;1000&quot;);\r\n    iterations.setPrefWidth(50);\r\n\r\nThe width is 50, but if the user typed &quot;1000000&quot; into the box I&#39;d want the width to dynamically adjust to be just wide enough. Is there a simple solution for this, or would I need to do something overkill like adding EventHandlers to constantly adjust the width?","title":"How do I have a javafx TextField width grow dynamically?","body":"<p>This seems like a simple question, but I can't seem to find any online answers. I have a TextField with some initialized text within it, and I want to find a way to grow the TextField width as the user types in the box. For example, with this code:</p>\n<pre><code>TextField iterations = new TextField(&quot;1000&quot;);\niterations.setPrefWidth(50);\n</code></pre>\n<p>The width is 50, but if the user typed &quot;1000000&quot; into the box I'd want the width to dynamically adjust to be just wide enough. Is there a simple solution for this, or would I need to do something overkill like adding EventHandlers to constantly adjust the width?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1684946559,"post_id":76325737,"comment_id":134593014,"body_markdown":"Do you want to read it exactly from `System.in`, or from the keyboard in a console application, or from the keyboard in a GUI application?","body":"Do you want to read it exactly from <code>System.in</code>, or from the keyboard in a console application, or from the keyboard in a GUI application?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1684946638,"post_id":76325737,"comment_id":134593042,"body_markdown":"https://stackoverflow.com/q/4531560/438992, https://stackoverflow.com/q/4608854/438992","body":"<a href=\"https://stackoverflow.com/q/4531560/438992\">stackoverflow.com/q/4531560/438992</a>, <a href=\"https://stackoverflow.com/q/4608854/438992\">stackoverflow.com/q/4608854/438992</a>"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1684946912,"post_id":76325737,"comment_id":134593095,"body_markdown":"Does this answer your question? [How to read a single char from the console in Java (as the user types it)?](https://stackoverflow.com/questions/1066318/how-to-read-a-single-char-from-the-console-in-java-as-the-user-types-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1066318/how-to-read-a-single-char-from-the-console-in-java-as-the-user-types-it\">How to read a single char from the console in Java (as the user types it)?</a>"},{"owner":{"account_id":7893976,"reputation":4473,"user_id":5963279,"accept_rate":73,"display_name":"Thomas Cook"},"score":0,"creation_date":1684951751,"post_id":76325737,"comment_id":134594133,"body_markdown":"Hello, sorry for the slow reply. I don&#39;t think so, I am writing a java swing app","body":"Hello, sorry for the slow reply. I don&#39;t think so, I am writing a java swing app"},{"owner":{"account_id":7893976,"reputation":4473,"user_id":5963279,"accept_rate":73,"display_name":"Thomas Cook"},"score":0,"creation_date":1684951803,"post_id":76325737,"comment_id":134594140,"body_markdown":"Ah wait...yea writing JNI bindings around curses, that could work, but quite a pain!","body":"Ah wait...yea writing JNI bindings around curses, that could work, but quite a pain!"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1684953180,"post_id":76325737,"comment_id":134594380,"body_markdown":"If you’re writing a Swing application, you probably want to get key events when the application window has focus, not from the terminal console, right?","body":"If you’re writing a Swing application, you probably want to get key events when the application window has focus, not from the terminal console, right?"}],"answers":[{"tags":[],"owner":{"account_id":11084453,"reputation":211,"user_id":8138689,"display_name":"Satyajit Bhatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684953338,"creation_date":1684953338,"answer_id":76326496,"question_id":76325737,"body_markdown":"Try below example\r\n\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    \r\n    public class KeyboardInputExample {\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Press any key (&#39;q&#39; to quit):&quot;);\r\n            startKeyboardInput();\r\n        }\r\n    \r\n        public static void startKeyboardInput() {\r\n            KeyListener keyListener = new KeyListener() {\r\n                @Override\r\n                public void keyTyped(KeyEvent e) {\r\n                    // Not used in this example\r\n                }\r\n    \r\n                @Override\r\n                public void keyPressed(KeyEvent e) {\r\n                    char keyChar = e.getKeyChar();\r\n                    int keyCode = e.getKeyCode();\r\n    \r\n                    System.out.println(&quot;Key Pressed: &quot; + keyChar + &quot; (KeyCode: &quot; + keyCode + &quot;)&quot;);\r\n    \r\n                    if (keyChar == &#39;q&#39;) {\r\n                        stopKeyboardInput();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void keyReleased(KeyEvent e) {\r\n                    // Not used in this example\r\n                }\r\n            };\r\n    \r\n            // Add the key listener to the console input stream\r\n            System.in.addKeyListener(keyListener);\r\n    \r\n            // Loop indefinitely to keep the program running until &#39;q&#39; is pressed\r\n            while (true) {\r\n                // Delay to prevent high CPU usage\r\n                try {\r\n                    Thread.sleep(100);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void stopKeyboardInput() {\r\n            System.out.println(&quot;Keyboard input stopped.&quot;);\r\n            System.exit(0);\r\n        }\r\n    }","title":"Read keyboard presses one key at a time Java","body":"<p>Try below example</p>\n<pre><code>import java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\npublic class KeyboardInputExample {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Press any key ('q' to quit):&quot;);\n        startKeyboardInput();\n    }\n\n    public static void startKeyboardInput() {\n        KeyListener keyListener = new KeyListener() {\n            @Override\n            public void keyTyped(KeyEvent e) {\n                // Not used in this example\n            }\n\n            @Override\n            public void keyPressed(KeyEvent e) {\n                char keyChar = e.getKeyChar();\n                int keyCode = e.getKeyCode();\n\n                System.out.println(&quot;Key Pressed: &quot; + keyChar + &quot; (KeyCode: &quot; + keyCode + &quot;)&quot;);\n\n                if (keyChar == 'q') {\n                    stopKeyboardInput();\n                }\n            }\n\n            @Override\n            public void keyReleased(KeyEvent e) {\n                // Not used in this example\n            }\n        };\n\n        // Add the key listener to the console input stream\n        System.in.addKeyListener(keyListener);\n\n        // Loop indefinitely to keep the program running until 'q' is pressed\n        while (true) {\n            // Delay to prevent high CPU usage\n            try {\n                Thread.sleep(100);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    public static void stopKeyboardInput() {\n        System.out.println(&quot;Keyboard input stopped.&quot;);\n        System.exit(0);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7893976,"reputation":4473,"user_id":5963279,"accept_rate":73,"display_name":"Thomas Cook"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1684953338,"creation_date":1684946340,"question_id":76325737,"body_markdown":"How can I read keyboard presses one key at a time from System.in in Java without the user pressing enter to submit a line?\r\n\r\nI have tried searching stack overflow already and haven&#39;t found anything... is this because Java is primarily a modern, GUI focused language and assumes that we will want to get input via events?","title":"Read keyboard presses one key at a time Java","body":"<p>How can I read keyboard presses one key at a time from System.in in Java without the user pressing enter to submit a line?</p>\n<p>I have tried searching stack overflow already and haven't found anything... is this because Java is primarily a modern, GUI focused language and assumes that we will want to get input via events?</p>\n"},{"tags":["java","spring","postgresql","spring-boot","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684994407,"post_id":76326482,"comment_id":134599277,"body_markdown":"Your annotations are on the field not the properties (getter/setters) so your `@ SequenceGenerator ` is ignored. Ditch the property and place the annotation on your entity class instead.","body":"Your annotations are on the field not the properties (getter/setters) so your <code>@ SequenceGenerator </code> is ignored. Ditch the property and place the annotation on your entity class instead."}],"owner":{"account_id":27967732,"reputation":1,"user_id":21358206,"display_name":"Santiago Scally"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684953239,"creation_date":1684953239,"question_id":76326482,"body_markdown":"ive got this problem. Whenever i want to use JPA Repository to save an entity o to retrieve one, ive got problems with the database connection. This is currently the exception when i want to save a new entity: `org.hibernate.exception.SQLGrammarException: could not extract ResultSet [ERROR: relation &quot;id_generator&quot; does not exist\r\n  Position: 16] [n/a]`\r\n\r\nIm also using postgresql\r\n\r\nand this are my clases\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;bpm_actions&quot;)\r\n@SQLDelete(sql=&quot;UPDATE bpm_actions SET deleted = &#39;1&#39; WHERE act_id = ? and version = ?&quot;)\r\n@Where(clause=&quot;deleted is null&quot;)\r\n@AttributeOverride(name = &quot;id&quot;, column = @Column(name = &quot;act_id&quot;))\r\npublic class Action extends BaseEntity implements Serializable {\r\n    // Implementar la l&#243;gica de la clase aqu&#237;\r\n\r\n    @Override\r\n    @SequenceGenerator(name=&quot;id_generator&quot;, sequenceName=&quot;bpm_actions_seq&quot;, allocationSize=1)\r\n    public Integer getId() {\r\n        return this.id;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n\r\n@Data\r\n@MappedSuperclass\r\npublic abstract class BaseEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(generator=&quot;id_generator&quot;, strategy=GenerationType.SEQUENCE)\r\n    @Column(name = &quot;id&quot;, unique=true, nullable=false)\r\n    protected Integer \tid;\r\n\r\n    @Column(name=&quot;DELETED&quot;, nullable=true, length=1)\r\n    protected String \tdeleted;\r\n\r\n\r\n\r\n    public void extractMutableValues(Object newObject) {\r\n        BaseEntity other = (this.getClass().cast(newObject));\r\n        this.setVersion(other.getVersion());\r\n    }\r\n\r\n}\r\n```\r\n\r\nim using spring boot 3.0.5\r\n\r\nAlso whenever i want to retrieve a record, i get a null object, when i know for a fact that there is a record to retrieve\r\n\r\n","title":"Why am I encountering org.hibernate.exception.SQLGrammarException when I save or retrieve an entity through JPA Repository?","body":"<p>ive got this problem. Whenever i want to use JPA Repository to save an entity o to retrieve one, ive got problems with the database connection. This is currently the exception when i want to save a new entity: <code>org.hibernate.exception.SQLGrammarException: could not extract ResultSet [ERROR: relation &quot;id_generator&quot; does not exist Position: 16] [n/a]</code></p>\n<p>Im also using postgresql</p>\n<p>and this are my clases</p>\n<pre><code>@Entity\n@Table(name = &quot;bpm_actions&quot;)\n@SQLDelete(sql=&quot;UPDATE bpm_actions SET deleted = '1' WHERE act_id = ? and version = ?&quot;)\n@Where(clause=&quot;deleted is null&quot;)\n@AttributeOverride(name = &quot;id&quot;, column = @Column(name = &quot;act_id&quot;))\npublic class Action extends BaseEntity implements Serializable {\n    // Implementar la lógica de la clase aquí\n\n    @Override\n    @SequenceGenerator(name=&quot;id_generator&quot;, sequenceName=&quot;bpm_actions_seq&quot;, allocationSize=1)\n    public Integer getId() {\n        return this.id;\n    }\n}\n\n</code></pre>\n<pre><code>\n@Data\n@MappedSuperclass\npublic abstract class BaseEntity {\n\n    @Id\n    @GeneratedValue(generator=&quot;id_generator&quot;, strategy=GenerationType.SEQUENCE)\n    @Column(name = &quot;id&quot;, unique=true, nullable=false)\n    protected Integer   id;\n\n    @Column(name=&quot;DELETED&quot;, nullable=true, length=1)\n    protected String    deleted;\n\n\n\n    public void extractMutableValues(Object newObject) {\n        BaseEntity other = (this.getClass().cast(newObject));\n        this.setVersion(other.getVersion());\n    }\n\n}\n</code></pre>\n<p>im using spring boot 3.0.5</p>\n<p>Also whenever i want to retrieve a record, i get a null object, when i know for a fact that there is a record to retrieve</p>\n"},{"tags":["java","docker","selenium-webdriver","dockerfile","remotewebdriver"],"comments":[{"owner":{"account_id":13055830,"reputation":173,"user_id":9434729,"display_name":"Jelmen"},"score":0,"creation_date":1684909877,"post_id":76319115,"comment_id":134584425,"body_markdown":"The host `chrome` in `http://chrome:4444/wd/hub` cloud not be found. Can you check in the running docker container, that the host is reachable?","body":"The host <code>chrome</code> in <code>http:&#47;&#47;chrome:4444&#47;wd&#47;hub</code> cloud not be found. Can you check in the running docker container, that the host is reachable?"},{"owner":{"account_id":20139426,"reputation":74,"user_id":14769635,"display_name":"samaritan"},"score":0,"creation_date":1684942780,"post_id":76319115,"comment_id":134592206,"body_markdown":"@Jelmen no not reachable .İ follow the documentation i am not sure about the reason not onyl chrome but also localhost dont work","body":"@Jelmen no not reachable .İ follow the documentation i am not sure about the reason not onyl chrome but also localhost dont work"}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684953046,"creation_date":1684953046,"answer_id":76326462,"question_id":76319115,"body_markdown":"You are trying to access driver service using `http://chrome:4444/wd/hub` but actually in your example there is no any point where you assign a hostname to your container.\r\n\r\nWith `docker run` you can use `-h` flag, so that your command would be:\r\n\r\n```\r\ndocker run -h chrome -it  -p 4444:4444 -p 7900:7900 basicscrapping \r\n```\r\n\r\n**Or** in your code change `remoteUrl = new URL(&quot;http://chrome:4444/wd/hub&quot;);` to `remoteUrl = new URL(&quot;http://localhost:4444/wd/hub&quot;); `","title":"Java Selenium Inside Docker image(Selenium/standalone base image)","body":"<p>You are trying to access driver service using <code>http://chrome:4444/wd/hub</code> but actually in your example there is no any point where you assign a hostname to your container.</p>\n<p>With <code>docker run</code> you can use <code>-h</code> flag, so that your command would be:</p>\n<pre><code>docker run -h chrome -it  -p 4444:4444 -p 7900:7900 basicscrapping \n</code></pre>\n<p><strong>Or</strong> in your code change <code>remoteUrl = new URL(&quot;http://chrome:4444/wd/hub&quot;);</code> to <code>remoteUrl = new URL(&quot;http://localhost:4444/wd/hub&quot;); </code></p>\n"}],"owner":{"account_id":20139426,"reputation":74,"user_id":14769635,"display_name":"samaritan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76326462,"answer_count":1,"score":0,"last_activity_date":1684953046,"creation_date":1684882598,"question_id":76319115,"body_markdown":"I use selenium/standalone-chrome base image \r\nmy Dockerfile is as below.\r\n \r\n\r\n    # Use the selenium/standalone-chrome base image\r\n    FROM  selenium/standalone-chrome:96.0.4664.45\r\n    \r\n    USER root\r\n    \r\n    # Install OpenJDK 11\r\n    RUN apt-get update &amp;&amp; apt-get install -y openjdk-11-jdk\r\n    \r\n    USER seluser\r\n    \r\n    # Set the working directory\r\n    WORKDIR /app\r\n    \r\n    # Copy the Java source code\r\n    COPY src /app/src\r\n    COPY test /app/test\r\n    \r\n    # Copy the Selenium WebDriver JAR file\r\n    COPY lib/selenium-server-4.1.2.jar /app/lib/selenium-server-4.1.2.jar\r\n    \r\n    # Compile the Java code\r\n    RUN javac -cp &quot;.:/app/lib/*&quot; -d /app/classes /app/src/main/*.java /app/test/systemTests/*.java\r\n    \r\n    # Set the entrypoint command to run the Java application\r\n    CMD [&quot;java&quot;, &quot;-cp&quot;, &quot;.:/app/lib/*:/app/classes&quot;, &quot;main.MainClass&quot;]\r\n//little example from the project \r\n\r\n    package main;\r\n    public class MainClass {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            System.out.println(&quot;Enter your choice (1 for Instagram, 2 for Facebook):&quot;);\r\n            int choice = scanner.nextInt();\r\n            if (choice == 1) {\r\n                InstagramTester instagramTester = new InstagramTester();\r\n                instagramTester.testOpenClose();\r\n            } else if (choice == 2) {\r\n                FacebookTester facebookTester = new FacebookTester();\r\n                facebookTester.testOpenClose();\r\n            } else {\r\n                System.out.println(&quot;Invalid choice. Please enter 1 or 2.&quot;);\r\n            }\r\n    \r\n            scanner.close();\r\n        }\r\n    }\r\n\r\n    package systemTests;\r\n    \r\n    public class InstagramTester {\r\n        private WebDriver driver;\r\n    \r\n        public InstagramTester() {\r\n        \t ChromeOptions chromeOptions = new ChromeOptions();\r\n             chromeOptions.addArguments(&quot;--no-sandbox&quot;);\r\n             chromeOptions.addArguments(&quot;--window-size=1920,1080&quot;);\r\n             URL remoteUrl;\r\n             try {\r\n            \t \r\n            \t remoteUrl = new URL(&quot;http://chrome:4444/wd/hub&quot;); \r\n             } catch (MalformedURLException e) {\r\n                 System.err.println(&quot;Invalid Selenium Grid URL: &quot; + e.getMessage());\r\n                 return;\r\n             }\r\n    \r\n              this.driver = new RemoteWebDriver(remoteUrl, chromeOptions);\r\n        }\r\n    \r\n        public void testOpenClose() {\r\n            driver.get(&quot;https://www.instagram.com/&quot;);\r\n            System.out.println(&quot;Page Title: &quot; + driver.getTitle());\r\n            closeBrowser();\r\n        }\r\n    \r\n        public void closeBrowser() {\r\n            // Close the browser\r\n            driver.quit();\r\n        }\r\n    }\r\n\r\n    inside lib i got selenium-server-4.1.2.jar\r\n    \r\n       i first use :docker build -t basicscrapping .\r\n\r\n    \r\n    after image  built \r\n    \r\n     i enter :docker run -it  -p 4444:4444 -p 7900:7900 basicscrapping   \r\n       i enter 1 as input and after couple of minute \r\n I got these errors :\r\n Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\r\n            Caused by: java.io.UncheckedIOException: java.net.UnknownHostException: chrome\r\n            .\r\n            .\r\n            Caused by: java.net.UnknownHostException: chrome\r\n        Any help is appreciated.(i dont use aby built tool like maven -gradle etc for project requirements)\r\n\r\n\r\n","title":"Java Selenium Inside Docker image(Selenium/standalone base image)","body":"<p>I use selenium/standalone-chrome base image\nmy Dockerfile is as below.</p>\n<pre><code># Use the selenium/standalone-chrome base image\nFROM  selenium/standalone-chrome:96.0.4664.45\n\nUSER root\n\n# Install OpenJDK 11\nRUN apt-get update &amp;&amp; apt-get install -y openjdk-11-jdk\n\nUSER seluser\n\n# Set the working directory\nWORKDIR /app\n\n# Copy the Java source code\nCOPY src /app/src\nCOPY test /app/test\n\n# Copy the Selenium WebDriver JAR file\nCOPY lib/selenium-server-4.1.2.jar /app/lib/selenium-server-4.1.2.jar\n\n# Compile the Java code\nRUN javac -cp &quot;.:/app/lib/*&quot; -d /app/classes /app/src/main/*.java /app/test/systemTests/*.java\n\n# Set the entrypoint command to run the Java application\nCMD [&quot;java&quot;, &quot;-cp&quot;, &quot;.:/app/lib/*:/app/classes&quot;, &quot;main.MainClass&quot;]\n</code></pre>\n<p>//little example from the project</p>\n<pre><code>package main;\npublic class MainClass {\n    public static void main(String[] args) {\n        \n        Scanner scanner = new Scanner(System.in);\n\n        System.out.println(&quot;Enter your choice (1 for Instagram, 2 for Facebook):&quot;);\n        int choice = scanner.nextInt();\n        if (choice == 1) {\n            InstagramTester instagramTester = new InstagramTester();\n            instagramTester.testOpenClose();\n        } else if (choice == 2) {\n            FacebookTester facebookTester = new FacebookTester();\n            facebookTester.testOpenClose();\n        } else {\n            System.out.println(&quot;Invalid choice. Please enter 1 or 2.&quot;);\n        }\n\n        scanner.close();\n    }\n}\n\npackage systemTests;\n\npublic class InstagramTester {\n    private WebDriver driver;\n\n    public InstagramTester() {\n         ChromeOptions chromeOptions = new ChromeOptions();\n         chromeOptions.addArguments(&quot;--no-sandbox&quot;);\n         chromeOptions.addArguments(&quot;--window-size=1920,1080&quot;);\n         URL remoteUrl;\n         try {\n             \n             remoteUrl = new URL(&quot;http://chrome:4444/wd/hub&quot;); \n         } catch (MalformedURLException e) {\n             System.err.println(&quot;Invalid Selenium Grid URL: &quot; + e.getMessage());\n             return;\n         }\n\n          this.driver = new RemoteWebDriver(remoteUrl, chromeOptions);\n    }\n\n    public void testOpenClose() {\n        driver.get(&quot;https://www.instagram.com/&quot;);\n        System.out.println(&quot;Page Title: &quot; + driver.getTitle());\n        closeBrowser();\n    }\n\n    public void closeBrowser() {\n        // Close the browser\n        driver.quit();\n    }\n}\n\ninside lib i got selenium-server-4.1.2.jar\n\n   i first use :docker build -t basicscrapping .\n\n\nafter image  built \n\n i enter :docker run -it  -p 4444:4444 -p 7900:7900 basicscrapping   \n   i enter 1 as input and after couple of minute \n</code></pre>\n<p>I got these errors :\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\nCaused by: java.io.UncheckedIOException: java.net.UnknownHostException: chrome\n.\n.\nCaused by: java.net.UnknownHostException: chrome\nAny help is appreciated.(i dont use aby built tool like maven -gradle etc for project requirements)</p>\n"},{"tags":["java","algorithm","control-theory","pid-controller"],"comments":[{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":1,"creation_date":1506842276,"post_id":46508556,"comment_id":79974317,"body_markdown":"maybe it is just me but I do not see any question. What exactly is the problem?","body":"maybe it is just me but I do not see any question. What exactly is the problem?"},{"owner":{"account_id":9788551,"reputation":1,"user_id":7359285,"display_name":"Archishmaan P"},"score":0,"creation_date":1506872811,"post_id":46508556,"comment_id":79982247,"body_markdown":"i want to know how to improve it","body":"i want to know how to improve it"}],"owner":{"account_id":9788551,"reputation":1,"user_id":7359285,"display_name":"Archishmaan P"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684952973,"creation_date":1506822900,"question_id":46508556,"body_markdown":"I currently have a PID algorithm to control my robots turns in an autonomous state. My robot has encoders, on each motor, which there are four of, and also a BNO055IMU. Furthermore each motor is a never rest 40 motor from Andymark, and unfortunately I am stuck with encoders that do 3 pulses. I would like to improve the accuracy of my turns either by using a different algorithm or improving my current one.\r\n\r\nMy Current Turning Code:\r\n\r\n     public void turn(int angle, Direction DIRECTION, double timeOut, int sleepTime, double kp, double ki, double kd) {\r\n        double targetAngle = imu.adjustAngle(imu.getHeading() + (DIRECTION.value * angle));\r\n        double acceptableError = 0.5;\r\n        double currentError = 1;\r\n        double prevError = 0;\r\n        double integral = 0;\r\n        double newPower;\r\n        double previousTime = 0;\r\n        timeoutClock.reset();\r\n        while (opModeIsActive() &amp;&amp; (imu.adjustAngle(Math.abs(currentError)) &gt; acceptableError)\r\n                &amp;&amp; !timeoutClock.elapsedTime(timeOut, MasqClock.Resolution.SECONDS)) {\r\n            double tChange = System.nanoTime() - previousTime;\r\n            previousTime = System.nanoTime();\r\n            tChange = tChange / 1e9;\r\n            double imuVAL = imu.getHeading();\r\n            currentError = imu.adjustAngle(targetAngle - imuVAL);\r\n            integral += currentError * ID;\r\n            double errorkp = currentError * kp;\r\n            double integralki = integral * ki * tChange;\r\n            double dervitive = (currentError - prevError) / tChange;\r\n            double dervitivekd = dervitive * kd;\r\n            newPower = (errorkp + integralki + dervitivekd);\r\n            newPower *= color;\r\n            if (Math.abs(newPower) &gt; 1.0) {newPower /= newPower;}\r\n            driveTrain.setPower(newPower, -newPower);\r\n            prevError = currentError;\r\n            DashBoard.getDash().create(&quot;TargetAngle&quot;, targetAngle);\r\n            DashBoard.getDash().create(&quot;Heading&quot;, imuVAL);\r\n            DashBoard.getDash().create(&quot;AngleLeftToCover&quot;, currentError);\r\n            DashBoard.getDash().update();\r\n        }\r\n        driveTrain.setPower(0,0);\r\n        sleep(sleepTime);\r\n    }\r\n\r\nNOTES:\r\nwhen driveTrain.setPower(x,y); is called the left parameter is the power set to the left side and the right parameter sets the right side.\r\n\r\nDirection is an enum that stores wither -1, or 1 to switch between left and right turns.\r\n\r\nDashboard.getDash.create is solely to keep a log on what is going on.\r\n\r\nimu.adjustAngle does the following:\r\n\r\n        public double adjustAngle(double angle) {\r\n        while (angle &gt; 180)  angle -= 360;\r\n        while (angle &lt;= -180) angle += 360;\r\n        return angle;\r\n    }\r\n\r\n\r\nimu.getHeading() is self explanatory it gets the yaw of the robot.\r\n\r\nMy current values for pid constants. (They work pretty well.)\r\n\r\n`KP_TURN = 0.005,\r\nKI_TURN = 0.0002,\r\nKD_TURN = 0,\r\nID = 1;`","title":"Robot Turning Using PID","body":"<p>I currently have a PID algorithm to control my robots turns in an autonomous state. My robot has encoders, on each motor, which there are four of, and also a BNO055IMU. Furthermore each motor is a never rest 40 motor from Andymark, and unfortunately I am stuck with encoders that do 3 pulses. I would like to improve the accuracy of my turns either by using a different algorithm or improving my current one.</p>\n\n<p>My Current Turning Code:</p>\n\n<pre><code> public void turn(int angle, Direction DIRECTION, double timeOut, int sleepTime, double kp, double ki, double kd) {\n    double targetAngle = imu.adjustAngle(imu.getHeading() + (DIRECTION.value * angle));\n    double acceptableError = 0.5;\n    double currentError = 1;\n    double prevError = 0;\n    double integral = 0;\n    double newPower;\n    double previousTime = 0;\n    timeoutClock.reset();\n    while (opModeIsActive() &amp;&amp; (imu.adjustAngle(Math.abs(currentError)) &gt; acceptableError)\n            &amp;&amp; !timeoutClock.elapsedTime(timeOut, MasqClock.Resolution.SECONDS)) {\n        double tChange = System.nanoTime() - previousTime;\n        previousTime = System.nanoTime();\n        tChange = tChange / 1e9;\n        double imuVAL = imu.getHeading();\n        currentError = imu.adjustAngle(targetAngle - imuVAL);\n        integral += currentError * ID;\n        double errorkp = currentError * kp;\n        double integralki = integral * ki * tChange;\n        double dervitive = (currentError - prevError) / tChange;\n        double dervitivekd = dervitive * kd;\n        newPower = (errorkp + integralki + dervitivekd);\n        newPower *= color;\n        if (Math.abs(newPower) &gt; 1.0) {newPower /= newPower;}\n        driveTrain.setPower(newPower, -newPower);\n        prevError = currentError;\n        DashBoard.getDash().create(\"TargetAngle\", targetAngle);\n        DashBoard.getDash().create(\"Heading\", imuVAL);\n        DashBoard.getDash().create(\"AngleLeftToCover\", currentError);\n        DashBoard.getDash().update();\n    }\n    driveTrain.setPower(0,0);\n    sleep(sleepTime);\n}\n</code></pre>\n\n<p>NOTES:\nwhen driveTrain.setPower(x,y); is called the left parameter is the power set to the left side and the right parameter sets the right side.</p>\n\n<p>Direction is an enum that stores wither -1, or 1 to switch between left and right turns.</p>\n\n<p>Dashboard.getDash.create is solely to keep a log on what is going on.</p>\n\n<p>imu.adjustAngle does the following:</p>\n\n<pre><code>    public double adjustAngle(double angle) {\n    while (angle &gt; 180)  angle -= 360;\n    while (angle &lt;= -180) angle += 360;\n    return angle;\n}\n</code></pre>\n\n<p>imu.getHeading() is self explanatory it gets the yaw of the robot.</p>\n\n<p>My current values for pid constants. (They work pretty well.)</p>\n\n<p><code>KP_TURN = 0.005,\nKI_TURN = 0.0002,\nKD_TURN = 0,\nID = 1;</code></p>\n"},{"tags":["java","mongodb","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":9874198,"reputation":489,"user_id":8632023,"display_name":"Daniel Zin"},"score":0,"creation_date":1685281444,"post_id":76326430,"comment_id":134636953,"body_markdown":"Probably cp1.setConsecutive(consecutive) returns a publisher, which you don&#39;t subscribe","body":"Probably cp1.setConsecutive(consecutive) returns a publisher, which you don&#39;t subscribe"}],"owner":{"account_id":3663199,"reputation":29,"user_id":3052434,"display_name":"Student369"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684952738,"creation_date":1684952738,"question_id":76326430,"body_markdown":"Good morning, I&#39;m taking a reactive programming course with Webflux. I wanted to modify the provided example by adding a field called &#39;consecutivo&#39; (consecutive). I noticed that MongoDB doesn&#39;t have built-in consecutive values, so I need to generate them using a collection to store the last consecutive value.\r\n\r\nI have two collections: &#39;products&#39; (products) and &#39;products_counter&#39; (product counter).\r\n\r\nIn the first collection, I store some simple data about products, and in the second collection, I store the consecutive value.\r\n\r\nI&#39;m working with Webflux using Reactor.\r\n\r\nI have the following code inside a &#39;run&#39; method, which is for testing purposes. That&#39;s why I&#39;m deleting and recreating the collections every time the application starts.\r\n```\r\nmongoTemplate.dropCollection(&quot;products_counter&quot;).subscribe();\r\n        ProductsCounter cp0 = new ProductsCounter ();\r\n        cp0.setConsecutive(0L);\r\n        mongoTemplate.insert(cp0, &quot;products_counter&quot;).subscribe();\r\n\r\n        mongoTemplate.dropCollection(&quot;products&quot;)\r\n                .thenMany(Flux.just(new Product(&quot;TV Panasonic Screen LCD&quot;, 459.89),\r\n                        new Product(&quot;Sony Camera HD Digital&quot;, 177.89),\r\n                        new Product(&quot;Apple iPod&quot;, 46.89),\r\n                        new Product(&quot;Sony Notebook&quot;, 846.89)))\r\n                .flatMap(p -&gt; {\r\n                    return counterDao.findAll()\r\n                            .take(1)\r\n                            .singleOrEmpty()\r\n                            .flatMap(cp1 -&gt; {\r\n                                Long consecutive = cp1.getConsecutive();\r\n                                p.setCreateAt(new Date());\r\n                                consecutive = consecutive + 1;\r\n                                p.setConsecutive(consecutive);\r\n                                cp1.setConsecutive(consecutive);\r\n                                return counterDao.save(cp1)\r\n                                        .then(productDao.save(p))\r\n                                        .thenReturn(p);\r\n                            });\r\n                })\r\n                .subscribe(savedProduct -&gt; {\r\n                    log.info(&quot;Id: &quot; + savedProduct.getId() + &quot; Product: &quot; + savedProduct.getName() + &quot; Consecutive: &quot; + savedProduct.getConsecutive());\r\n                }); \r\n```\r\nThe above code creates both collections for me, but when I view the products, they all have consecutive number 1, and I also notice that it&#39;s the same value in the &#39;products_counter&#39; collection.\r\n\r\nHere is the output from the log at the end:\r\n\r\n2023-05-24T09:17:57.918-05:00 INFO 8328 --- [ntLoopGroup-3-6] c.e.webflux.app.WebfluxApplication : Id: 646e1c955e0e0f2f68e2a120 Product: TV Panasonic Screen LCD Consecutive: 1 2023-05-24T09:17:57.975-05:00 INFO 8328 --- [ntLoopGroup-3-3] c.e.webflux.app.WebfluxApplication : Id: 646e1c955e0e0f2f68e2a121 Product: Apple iPod Consecutive: 1 2023-05-24T09:17:57.985-05:00 INFO 8328 --- [ntLoopGroup-3-4] c.e.webflux.app.WebfluxApplication : Id: 646e1c955e0e0f2f68e2a122 Product: Sony Notebook Consecutive: 1 2023-05-24T09:17:57.988-05:00 INFO 8328 --- [ntLoopGroup-3-5] c.e.webflux.app.WebfluxApplication : Id: 646e1c955e0e0f2f68e2a123 Product: Sony Camera HD Digital Consecutive: 1\r\n\r\nWhat am I doing wrong?\r\n\r\nI&#39;m tryng to generate consecutive fields in mongodb in my products collection.","title":"Why doesn&#39;t it generate the consecutive numbers in MongoDB fields with Project Reactor?","body":"<p>Good morning, I'm taking a reactive programming course with Webflux. I wanted to modify the provided example by adding a field called 'consecutivo' (consecutive). I noticed that MongoDB doesn't have built-in consecutive values, so I need to generate them using a collection to store the last consecutive value.</p>\n<p>I have two collections: 'products' (products) and 'products_counter' (product counter).</p>\n<p>In the first collection, I store some simple data about products, and in the second collection, I store the consecutive value.</p>\n<p>I'm working with Webflux using Reactor.</p>\n<p>I have the following code inside a 'run' method, which is for testing purposes. That's why I'm deleting and recreating the collections every time the application starts.</p>\n<pre><code>mongoTemplate.dropCollection(&quot;products_counter&quot;).subscribe();\n        ProductsCounter cp0 = new ProductsCounter ();\n        cp0.setConsecutive(0L);\n        mongoTemplate.insert(cp0, &quot;products_counter&quot;).subscribe();\n\n        mongoTemplate.dropCollection(&quot;products&quot;)\n                .thenMany(Flux.just(new Product(&quot;TV Panasonic Screen LCD&quot;, 459.89),\n                        new Product(&quot;Sony Camera HD Digital&quot;, 177.89),\n                        new Product(&quot;Apple iPod&quot;, 46.89),\n                        new Product(&quot;Sony Notebook&quot;, 846.89)))\n                .flatMap(p -&gt; {\n                    return counterDao.findAll()\n                            .take(1)\n                            .singleOrEmpty()\n                            .flatMap(cp1 -&gt; {\n                                Long consecutive = cp1.getConsecutive();\n                                p.setCreateAt(new Date());\n                                consecutive = consecutive + 1;\n                                p.setConsecutive(consecutive);\n                                cp1.setConsecutive(consecutive);\n                                return counterDao.save(cp1)\n                                        .then(productDao.save(p))\n                                        .thenReturn(p);\n                            });\n                })\n                .subscribe(savedProduct -&gt; {\n                    log.info(&quot;Id: &quot; + savedProduct.getId() + &quot; Product: &quot; + savedProduct.getName() + &quot; Consecutive: &quot; + savedProduct.getConsecutive());\n                }); \n</code></pre>\n<p>The above code creates both collections for me, but when I view the products, they all have consecutive number 1, and I also notice that it's the same value in the 'products_counter' collection.</p>\n<p>Here is the output from the log at the end:</p>\n<p>2023-05-24T09:17:57.918-05:00 INFO 8328 --- [ntLoopGroup-3-6] c.e.webflux.app.WebfluxApplication : Id: 646e1c955e0e0f2f68e2a120 Product: TV Panasonic Screen LCD Consecutive: 1 2023-05-24T09:17:57.975-05:00 INFO 8328 --- [ntLoopGroup-3-3] c.e.webflux.app.WebfluxApplication : Id: 646e1c955e0e0f2f68e2a121 Product: Apple iPod Consecutive: 1 2023-05-24T09:17:57.985-05:00 INFO 8328 --- [ntLoopGroup-3-4] c.e.webflux.app.WebfluxApplication : Id: 646e1c955e0e0f2f68e2a122 Product: Sony Notebook Consecutive: 1 2023-05-24T09:17:57.988-05:00 INFO 8328 --- [ntLoopGroup-3-5] c.e.webflux.app.WebfluxApplication : Id: 646e1c955e0e0f2f68e2a123 Product: Sony Camera HD Digital Consecutive: 1</p>\n<p>What am I doing wrong?</p>\n<p>I'm tryng to generate consecutive fields in mongodb in my products collection.</p>\n"},{"tags":["java","swing","graphics","awt"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1684948864,"post_id":76325944,"comment_id":134593530,"body_markdown":"I think you want: [`Graphics.setClip()`](https://docs.oracle.com/javase/8/docs/api/java/awt/Graphics.html#setClip-int-int-int-int-). Example: `gr.setClip(x, y, width, height);`","body":"I think you want: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Graphics.html#setClip-int-int-int-int-\" rel=\"nofollow noreferrer\"><code>Graphics.setClip()</code></a>. Example: <code>gr.setClip(x, y, width, height);</code>"}],"answers":[{"tags":[],"owner":{"account_id":27390039,"reputation":36,"user_id":20893184,"display_name":"Anonymous Agent"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684952671,"creation_date":1684952671,"answer_id":76326425,"question_id":76325944,"body_markdown":"Before the `for` loop, you could add\r\n``` lang-java\r\ng2d.setClip(x, y, width, height);\r\n```\r\nThis makes any drawings you make outside of that boundary to be omitted and not be shown on the screen, which means that only the lines inside the rectangle will actually be printed out on the screen. When the `for` loop has finished, you could then change the clip to the whole screen to allow for any other drawings that you may want to add.","title":"How do I ensure my diagonal lines stay contained within a rectangle?","body":"<p>Before the <code>for</code> loop, you could add</p>\n<pre class=\"lang-java prettyprint-override\"><code>g2d.setClip(x, y, width, height);\n</code></pre>\n<p>This makes any drawings you make outside of that boundary to be omitted and not be shown on the screen, which means that only the lines inside the rectangle will actually be printed out on the screen. When the <code>for</code> loop has finished, you could then change the clip to the whole screen to allow for any other drawings that you may want to add.</p>\n"}],"owner":{"account_id":26502980,"reputation":31,"user_id":20139605,"display_name":"Mahmoud Ibrahim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76326425,"answer_count":1,"score":-2,"last_activity_date":1684952671,"creation_date":1684948362,"question_id":76325944,"body_markdown":"I&#39;m trying to draw some lines to cross a rectangle diagonally but the issue is that the lines get out of the rectangle boundaries, look at this image to understand what I mean:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/QOi1P.png)](https://i.stack.imgur.com/QOi1P.png)\r\n\r\nhere is the code used:\r\n\r\n```\r\n    @Override\r\n    public void paint(Graphics gr) {\r\n        super.paint(gr);\r\n\r\n        gr.setColor(Color.blue);\r\n        int x = 100, y = 100, width = 100, height = 300;\r\n        gr.fillRect(x, y, width, height);\r\n\r\n        gr.setColor(Color.red);\r\n\r\n        // set stroke\r\n        Graphics2D g2d = (Graphics2D) gr;\r\n        g2d.setStroke(new BasicStroke(0.75f));\r\n\r\n        float unitHeight = 50f; // line space\r\n        int lines = (int) Math.ceil(height / unitHeight);\r\n        int lineOffset = width / 5;\r\n\r\n        for (int i = 1; i &lt;= lines; ++i) {\r\n            g2d.drawLine(x + lineOffset, y, x, y + lineOffset);\r\n            g2d.drawLine(x + width - lineOffset, y + height, x + width, y + height - lineOffset);\r\n            int cellWidth = width / 3;\r\n            lineOffset += cellWidth;\r\n        }\r\n    }\r\n```\r\nI&#39;m using Java Swing and AWT libraries to implement the solution, however I would use this for Android actually.\r\n\r\n\r\nI tried some solutions but I counldn&#39;t manage to fully solve the problem, one of these tries was to check if the line starting point coordinates are exceeding the rectangle boundaries but couldn&#39;t set the point to the right position after that. I also tried to find the point where the line intersects with the rectangle boundary using straight line equation but still couldn&#39;t find the appropriate solution.\r\n\r\nso basicly how to draw the lines inside the rectangle? also I don&#39;t have the option to draw over the lines outside the the rectangle to make them disappear, just in case someone thinks to do so.","title":"How do I ensure my diagonal lines stay contained within a rectangle?","body":"<p>I'm trying to draw some lines to cross a rectangle diagonally but the issue is that the lines get out of the rectangle boundaries, look at this image to understand what I mean:</p>\n<p><a href=\"https://i.stack.imgur.com/QOi1P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QOi1P.png\" alt=\"enter image description here\" /></a></p>\n<p>here is the code used:</p>\n<pre><code>    @Override\n    public void paint(Graphics gr) {\n        super.paint(gr);\n\n        gr.setColor(Color.blue);\n        int x = 100, y = 100, width = 100, height = 300;\n        gr.fillRect(x, y, width, height);\n\n        gr.setColor(Color.red);\n\n        // set stroke\n        Graphics2D g2d = (Graphics2D) gr;\n        g2d.setStroke(new BasicStroke(0.75f));\n\n        float unitHeight = 50f; // line space\n        int lines = (int) Math.ceil(height / unitHeight);\n        int lineOffset = width / 5;\n\n        for (int i = 1; i &lt;= lines; ++i) {\n            g2d.drawLine(x + lineOffset, y, x, y + lineOffset);\n            g2d.drawLine(x + width - lineOffset, y + height, x + width, y + height - lineOffset);\n            int cellWidth = width / 3;\n            lineOffset += cellWidth;\n        }\n    }\n</code></pre>\n<p>I'm using Java Swing and AWT libraries to implement the solution, however I would use this for Android actually.</p>\n<p>I tried some solutions but I counldn't manage to fully solve the problem, one of these tries was to check if the line starting point coordinates are exceeding the rectangle boundaries but couldn't set the point to the right position after that. I also tried to find the point where the line intersects with the rectangle boundary using straight line equation but still couldn't find the appropriate solution.</p>\n<p>so basicly how to draw the lines inside the rectangle? also I don't have the option to draw over the lines outside the the rectangle to make them disappear, just in case someone thinks to do so.</p>\n"},{"tags":["java","multithreading","asynchronous","pid-controller"],"answers":[{"tags":[],"owner":{"account_id":57077,"reputation":39235,"user_id":170974,"accept_rate":70,"display_name":"tangens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1256462889,"creation_date":1256462889,"answer_id":1620459,"question_id":1620343,"body_markdown":"You already implemented a `run()` method for `PIDController` so you should also implement the `Runnable` interface:\r\n\r\n    class PIDController implements Runnable {\r\n        ....\r\n    }\r\n\r\nNow you can start your PIDController asynchonous, by calling:\r\n\r\n    pidControllerThread = new Thread( pidController );\r\n    pidControllerThread.start();\r\n\r\nFor synchronization (if needed) you should have a look at the sun [concurrency guide][1].\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/guide/concurrency/","title":"How can I implement a multi-threaded PID controller in Java?","body":"<p>You already implemented a <code>run()</code> method for <code>PIDController</code> so you should also implement the <code>Runnable</code> interface:</p>\n\n<pre><code>class PIDController implements Runnable {\n    ....\n}\n</code></pre>\n\n<p>Now you can start your PIDController asynchonous, by calling:</p>\n\n<pre><code>pidControllerThread = new Thread( pidController );\npidControllerThread.start();\n</code></pre>\n\n<p>For synchronization (if needed) you should have a look at the sun <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/concurrency/\" rel=\"nofollow noreferrer\">concurrency guide</a>.</p>\n"},{"tags":[],"owner":{"account_id":5117884,"reputation":1,"user_id":4102423,"display_name":"grwww"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432779874,"creation_date":1432779874,"answer_id":30496183,"question_id":1620343,"body_markdown":"By far, the best mechanism for attaching threads to anything is to separate the object which does the work from the object which is the thread.  The Runnable interface can be attractive, because it allows people to pass the object to a Thread constructor or Executor, and run it.  However, if you have lifecycle management requirements for your object which are out side of &quot;running to completion&quot;, such as pausing, then you will find it more appropriate in most cases, to manage the Thread within your object so that you know which thread is running (yes you can set an instance object to Thread.currentThread() on entry to run, but...).\r\n\r\nSo, I think what you have is a good start.  You need to add the use of some locking to help yourself manage pause() and other thread control.\r\n\r\n&lt;pre&gt;\r\n\r\n    public class PIDController {\r\n        private final Object myLock = new Object();\r\n        private final ControllerMethods ctrl;\r\n        private volatile Thread thread;\r\n        private volatile Runner runner;\r\n        private int pidInterval = 700;\r\n        private final double setPoint, kp, ki, kd;\r\n    \r\n        public PIDController( double setPoint, double kp, double ki, double kd, ControllerMethods inst ) {\r\n            this.ctrl = inst;\r\n            this.setPoint = setPoint;\r\n            this.kp = kp;\r\n            this.ki = ki;\r\n            this.kd = kd;\r\n        }\r\n    \r\n        public void pause() {\r\n            synchronized( myLock ) {\r\n                if( runner.paused ) {\r\n                    throw new IllegalOperationException(this+&quot;: already paused&quot;);\r\n                }\r\n                runner.paused = true;\r\n            }\r\n        }\r\n    \r\n        public void resume() {\r\n            synchronized( myLock ) {\r\n                if( !runner.paused ) {\r\n                    throw new IllegalOperationException(this+&quot;: already resumed&quot;);\r\n                }\r\n                runner.paused = false;\r\n            }\r\n        }\r\n    \r\n        public bool isRunning() {\r\n            return running;\r\n        }\r\n    \r\n        public void start() {\r\n            if( thread != null ) {\r\n                throw new IllegalOperationException( this+&quot;: already running&quot;);\r\n            }\r\n            myThread = new Thread( runner = new Runner() );\r\n            myThread.start();\r\n        }\r\n    \r\n        public void stop() {\r\n            if( runner == null ) {\r\n                throw new IllegalOperationException( this+&quot;: PID is not running&quot;);\r\n            }\r\n            runner.running = false;\r\n            if( runner.paused )\r\n                resume();\r\n            runner = null;\r\n        }\r\n    \r\n    \r\n        // It is important, anytime that you implement a stoppable Runnable, that\r\n        // you include the &quot;running&quot; flag as a member of an innner instance class like\r\n        // this so that when you ask this instance to stop, you can immediately restart\r\n        // another instance and not have the two threads observing the same &quot;running&quot; flag\r\n        private class Runner implements Runnable {\r\n            volatile bool running = false, bool paused;\r\n            public void run() {\r\n                running = true;\r\n                while( running ) {\r\n                    // do this at the top of the loop so that a wake from\r\n                    // pause will check running, before recomputing.\r\n                    reComputePID();\r\n    \r\n                    // Use the double check idiom to \r\n                    if( paused ) {\r\n                        synchronized( myLock ) {\r\n                            while( paused ) {\r\n                                myLock.wait();\r\n                            }\r\n                        }\r\n                    }\r\n                    Thread.sleep( pidInterval );\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void reComputePID() {\r\n            ...\r\n        }\r\n    }\r\n\r\n&lt;/pre&gt;","title":"How can I implement a multi-threaded PID controller in Java?","body":"<p>By far, the best mechanism for attaching threads to anything is to separate the object which does the work from the object which is the thread.  The Runnable interface can be attractive, because it allows people to pass the object to a Thread constructor or Executor, and run it.  However, if you have lifecycle management requirements for your object which are out side of \"running to completion\", such as pausing, then you will find it more appropriate in most cases, to manage the Thread within your object so that you know which thread is running (yes you can set an instance object to Thread.currentThread() on entry to run, but...).</p>\n\n<p>So, I think what you have is a good start.  You need to add the use of some locking to help yourself manage pause() and other thread control.</p>\n\n<pre>\n\n    public class PIDController {\n        private final Object myLock = new Object();\n        private final ControllerMethods ctrl;\n        private volatile Thread thread;\n        private volatile Runner runner;\n        private int pidInterval = 700;\n        private final double setPoint, kp, ki, kd;\n\n        public PIDController( double setPoint, double kp, double ki, double kd, ControllerMethods inst ) {\n            this.ctrl = inst;\n            this.setPoint = setPoint;\n            this.kp = kp;\n            this.ki = ki;\n            this.kd = kd;\n        }\n\n        public void pause() {\n            synchronized( myLock ) {\n                if( runner.paused ) {\n                    throw new IllegalOperationException(this+\": already paused\");\n                }\n                runner.paused = true;\n            }\n        }\n\n        public void resume() {\n            synchronized( myLock ) {\n                if( !runner.paused ) {\n                    throw new IllegalOperationException(this+\": already resumed\");\n                }\n                runner.paused = false;\n            }\n        }\n\n        public bool isRunning() {\n            return running;\n        }\n\n        public void start() {\n            if( thread != null ) {\n                throw new IllegalOperationException( this+\": already running\");\n            }\n            myThread = new Thread( runner = new Runner() );\n            myThread.start();\n        }\n\n        public void stop() {\n            if( runner == null ) {\n                throw new IllegalOperationException( this+\": PID is not running\");\n            }\n            runner.running = false;\n            if( runner.paused )\n                resume();\n            runner = null;\n        }\n\n\n        // It is important, anytime that you implement a stoppable Runnable, that\n        // you include the \"running\" flag as a member of an innner instance class like\n        // this so that when you ask this instance to stop, you can immediately restart\n        // another instance and not have the two threads observing the same \"running\" flag\n        private class Runner implements Runnable {\n            volatile bool running = false, bool paused;\n            public void run() {\n                running = true;\n                while( running ) {\n                    // do this at the top of the loop so that a wake from\n                    // pause will check running, before recomputing.\n                    reComputePID();\n\n                    // Use the double check idiom to \n                    if( paused ) {\n                        synchronized( myLock ) {\n                            while( paused ) {\n                                myLock.wait();\n                            }\n                        }\n                    }\n                    Thread.sleep( pidInterval );\n                }\n            }\n        }\n\n        public void reComputePID() {\n            ...\n        }\n    }\n\n</pre>\n"}],"owner":{"account_id":36018,"reputation":95910,"user_id":102441,"accept_rate":76,"display_name":"Eric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2834,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":1620459,"answer_count":2,"score":1,"last_activity_date":1684952443,"creation_date":1256458967,"question_id":1620343,"body_markdown":"I&#39;m kinda new to Java, so haven&#39;t yet fully grasped the concept of multithreading.I would like to create a PIDController class that allows me to do this:\r\n\r\n    ControllerMethods methods = new ControllerMethods()\r\n                                {\r\n                                \tpublic long getError(long setpoint)\r\n                                \t{\r\n                                \t\t//get an input\r\n                                \t}\r\n                                \tpublic void setOutput(long value)\r\n                                \t{\r\n                                \t\t//do something\r\n                                \t}\r\n                                \tpublic void isComplete(long setpoint)\r\n                                \t{\r\n                                \t\treturn getError() == 0;\r\n                                \t}\r\n                                };\r\n    \r\n    PIDController motorPID = new PIDController(setpoint, kp, ki, kd, methods);\r\n    \r\n    motorPID.run();\r\n    //runs the PID controller to completion (methods.isComplete() == true)\r\n    \r\n    motorPID.run(false);\r\n    //starts the PID controller in a separate thread, allowing\r\n    //continual monitoring in the current thread\r\n    \r\n    while(motorPID.isRunning())\r\n    {\r\n    \t//do something else\r\n    \tif(condition1)\r\n    \t\tmotorPID.pause();\r\n    \t\t//pause the PID controller, preventing the integral from increasing\r\n    \telse if(condition2)\r\n    \t\tmotorPID.stop();\r\n    }\r\n\r\nI&#39;ve worked out how to calculate the standard PID argorithms, but I can&#39;t work out how to provide the asynchronous functionality.\r\n\r\nCan anybody tell me how I can achieve a similar API?","title":"How can I implement a multi-threaded PID controller in Java?","body":"<p>I'm kinda new to Java, so haven't yet fully grasped the concept of multithreading.I would like to create a PIDController class that allows me to do this:</p>\n\n<pre><code>ControllerMethods methods = new ControllerMethods()\n                            {\n                                public long getError(long setpoint)\n                                {\n                                    //get an input\n                                }\n                                public void setOutput(long value)\n                                {\n                                    //do something\n                                }\n                                public void isComplete(long setpoint)\n                                {\n                                    return getError() == 0;\n                                }\n                            };\n\nPIDController motorPID = new PIDController(setpoint, kp, ki, kd, methods);\n\nmotorPID.run();\n//runs the PID controller to completion (methods.isComplete() == true)\n\nmotorPID.run(false);\n//starts the PID controller in a separate thread, allowing\n//continual monitoring in the current thread\n\nwhile(motorPID.isRunning())\n{\n    //do something else\n    if(condition1)\n        motorPID.pause();\n        //pause the PID controller, preventing the integral from increasing\n    else if(condition2)\n        motorPID.stop();\n}\n</code></pre>\n\n<p>I've worked out how to calculate the standard PID argorithms, but I can't work out how to provide the asynchronous functionality.</p>\n\n<p>Can anybody tell me how I can achieve a similar API?</p>\n"},{"tags":["java","android","api","file-upload","retrofit2"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1684945346,"post_id":76325402,"comment_id":134592760,"body_markdown":"Before upload use file.exists() and file.canRead().","body":"Before upload use file.exists() and file.canRead()."}],"answers":[{"tags":[],"owner":{"account_id":17307723,"reputation":75,"user_id":12536083,"display_name":"Shahid Iqbal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684952316,"creation_date":1684952316,"answer_id":76326399,"question_id":76325402,"body_markdown":"First Create a Utility Class as Below\r\n\r\n    import android.content.Context;\r\n    import android.net.Uri;\r\n    import android.provider.OpenableColumns;\r\n    import android.text.format.Formatter;\r\n    \r\n    import androidx.annotation.Keep;\r\n    \r\n    // Created by Shahid Iqbal on 10/9/2022.\r\n    \r\n    public class FileInfo {\r\n        @Keep\r\n        public static class FileDetail {\r\n            private String fileName;\r\n            private String fileType;\r\n            private String fileExtension;\r\n            private String fileSize;\r\n    \r\n            public FileDetail(String fileName, String fileType, String fileExtension, String fileSize) {\r\n                this.fileName = fileName;\r\n                this.fileType = fileType;\r\n                this.fileExtension = fileExtension;\r\n                this.fileSize = fileSize;\r\n            }\r\n    \r\n            public String getFileName() {\r\n                return fileName;\r\n            }\r\n    \r\n            public String getFileType() {\r\n                return fileType;\r\n            }\r\n    \r\n            public String getFileExtension() {\r\n                return fileExtension;\r\n            }\r\n    \r\n            public String getFileSize() {\r\n                return fileSize;\r\n            }\r\n        }\r\n    \r\n        public static FileDetail getFileInfo(Context context, Uri uri) {\r\n            try (android.database.Cursor cursor = context.getContentResolver().query(uri, null, null, null, null)) {\r\n                if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n                    int nameIndex = cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME);\r\n                    int sizeIndex = cursor.getColumnIndex(OpenableColumns.SIZE);\r\n    \r\n                    String fileName = cursor.getString(nameIndex);\r\n                    String fileType = context.getContentResolver().getType(uri).toString();\r\n                    String fileExtension = fileName.substring(fileName.lastIndexOf(&quot;.&quot;) + 1);\r\n                    String fileSize = Formatter.formatFileSize(context, cursor.getLong(sizeIndex));\r\n    \r\n                    return new FileDetail(fileName.substring(0, fileName.lastIndexOf(&quot;.&quot;)), fileType, fileExtension, fileSize);\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\nAnd then in your api call area do as following \r\n\r\n\r\n     @SuppressLint(&quot;Recycle&quot;)\r\n        private MultipartBody.Part createRequestBody(Uri uri, String name, Context context) {\r\n            if (uri != null) {\r\n                Uri.FileColumns fileInfo = uri.getFileInfo(context);\r\n                String fileName = fileInfo.fileName + &quot;.&quot; + fileInfo.fileExtension;\r\n                File file = new File(context.getCacheDir(), fileName);\r\n    \r\n                try {\r\n                    OutputStream outputStream = new FileOutputStream(file);\r\n                    InputStream inputStream = context.getContentResolver().openInputStream(uri);\r\n    \r\n                    if (inputStream != null) {\r\n                        copyStream(inputStream, outputStream);\r\n                        inputStream.close();\r\n                    }\r\n    \r\n                    outputStream.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n                MediaType mediaType = MediaType.parse(fileInfo.fileType);\r\n                RequestBody requestBody = RequestBody.create(mediaType, file);\r\n                return MultipartBody.Part.createFormData(name, file.getName(), requestBody);\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        private void copyStream(InputStream input, OutputStream output) throws IOException {\r\n            byte[] buffer = new byte[4 * 1024];\r\n            int bytesRead;\r\n            while ((bytesRead = input.read(buffer)) != -1) {\r\n                output.write(buffer, 0, bytesRead);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Uploading photo to db using retrofit passing File type but it throws error no file path foung in log","body":"<p>First Create a Utility Class as Below</p>\n<pre><code>import android.content.Context;\nimport android.net.Uri;\nimport android.provider.OpenableColumns;\nimport android.text.format.Formatter;\n\nimport androidx.annotation.Keep;\n\n// Created by Shahid Iqbal on 10/9/2022.\n\npublic class FileInfo {\n    @Keep\n    public static class FileDetail {\n        private String fileName;\n        private String fileType;\n        private String fileExtension;\n        private String fileSize;\n\n        public FileDetail(String fileName, String fileType, String fileExtension, String fileSize) {\n            this.fileName = fileName;\n            this.fileType = fileType;\n            this.fileExtension = fileExtension;\n            this.fileSize = fileSize;\n        }\n\n        public String getFileName() {\n            return fileName;\n        }\n\n        public String getFileType() {\n            return fileType;\n        }\n\n        public String getFileExtension() {\n            return fileExtension;\n        }\n\n        public String getFileSize() {\n            return fileSize;\n        }\n    }\n\n    public static FileDetail getFileInfo(Context context, Uri uri) {\n        try (android.database.Cursor cursor = context.getContentResolver().query(uri, null, null, null, null)) {\n            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n                int nameIndex = cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME);\n                int sizeIndex = cursor.getColumnIndex(OpenableColumns.SIZE);\n\n                String fileName = cursor.getString(nameIndex);\n                String fileType = context.getContentResolver().getType(uri).toString();\n                String fileExtension = fileName.substring(fileName.lastIndexOf(&quot;.&quot;) + 1);\n                String fileSize = Formatter.formatFileSize(context, cursor.getLong(sizeIndex));\n\n                return new FileDetail(fileName.substring(0, fileName.lastIndexOf(&quot;.&quot;)), fileType, fileExtension, fileSize);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n}\n</code></pre>\n<p>And then in your api call area do as following</p>\n<pre><code> @SuppressLint(&quot;Recycle&quot;)\n    private MultipartBody.Part createRequestBody(Uri uri, String name, Context context) {\n        if (uri != null) {\n            Uri.FileColumns fileInfo = uri.getFileInfo(context);\n            String fileName = fileInfo.fileName + &quot;.&quot; + fileInfo.fileExtension;\n            File file = new File(context.getCacheDir(), fileName);\n\n            try {\n                OutputStream outputStream = new FileOutputStream(file);\n                InputStream inputStream = context.getContentResolver().openInputStream(uri);\n\n                if (inputStream != null) {\n                    copyStream(inputStream, outputStream);\n                    inputStream.close();\n                }\n\n                outputStream.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            MediaType mediaType = MediaType.parse(fileInfo.fileType);\n            RequestBody requestBody = RequestBody.create(mediaType, file);\n            return MultipartBody.Part.createFormData(name, file.getName(), requestBody);\n        } else {\n            return null;\n        }\n    }\n\n    private void copyStream(InputStream input, OutputStream output) throws IOException {\n        byte[] buffer = new byte[4 * 1024];\n        int bytesRead;\n        while ((bytesRead = input.read(buffer)) != -1) {\n            output.write(buffer, 0, bytesRead);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11159525,"reputation":33,"user_id":8190154,"display_name":"dev-daru"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684952316,"creation_date":1684943805,"question_id":76325402,"body_markdown":"This is my api call in the fragment class where I deal with profile data, it displays the image on button click but doesn&#39;t upload the image to database.\r\n```\r\npublic void uploadImage(File file){\r\n        // Create a request body with File(file)\r\n        RequestBody requestBody = RequestBody.create(MediaType.parse(&quot;image/*&quot;), file);\r\n\r\n        // Create a MultipartBody.Part from the request body\r\n        MultipartBody.Part photo = MultipartBody.Part.createFormData(&quot;photo&quot;, file.getName(), requestBody);\r\n        Log.i(&quot;TAG&quot;, &quot;uploadImage: file name &quot; + file.getName());\r\n\r\n        // Api call\r\n        Call&lt;ResponseBody&gt; req = Client.getInstance(Consts.BASE_URL_PASSENGER_AUTH).getRoute().uploadProfilePhoto(photo, session.getToken(), session.getPassenger().getPassengerId());\r\n        Log.i(&quot;TAG&quot;, &quot;uploadImage: enqueueing &quot; + photo + &quot; &quot; + session.getPassenger().getPassengerId());\r\n        req.enqueue(new Callback&lt;ResponseBody&gt;() {\r\n          @Override\r\n          public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\r\n              if (response.isSuccessful()) {\r\n                  Log.i(&quot;TAG&quot;, &quot;onResponse: image uploaded&quot; );\r\n                  Log.i(&quot;TAG&quot;, &quot;onResponse: success file name &quot; + photo);\r\n              }\r\n          }\r\n\r\n         @Override\r\n          public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\r\n             Log.i(&quot;TAG&quot;, &quot;onFailure: &quot; + t.getLocalizedMessage());\r\n         }\r\n        });\r\n    }\r\n```\r\n\r\nI have logged the onResponse and onFailure calls, and it goes to the onFailure call and says,\r\n&gt;12006-12006 TAG                     com.example.sts_passenger            I  onFailure: /storage/emulated/0/Screenshot_20230523-073140_WhatsApp.jpg: open failed: ENOENT (No such file or directory)\r\n\r\nApi Handler, I am using in-built ResponseBody class for Call\r\n```\r\n@Multipart\r\n    @POST(Consts.ENDPOINT_UPLOAD_PROFILE_PIC)\r\n    Call&lt;ResponseBody&gt; uploadProfilePhoto(\r\n            @Part MultipartBody.Part photo,\r\n            @Header(&quot;Authorization&quot;) String userSessionToken,\r\n            @Path(&quot;passenger_id&quot;) Integer passengerId);\r\n```","title":"Uploading photo to db using retrofit passing File type but it throws error no file path foung in log","body":"<p>This is my api call in the fragment class where I deal with profile data, it displays the image on button click but doesn't upload the image to database.</p>\n<pre><code>public void uploadImage(File file){\n        // Create a request body with File(file)\n        RequestBody requestBody = RequestBody.create(MediaType.parse(&quot;image/*&quot;), file);\n\n        // Create a MultipartBody.Part from the request body\n        MultipartBody.Part photo = MultipartBody.Part.createFormData(&quot;photo&quot;, file.getName(), requestBody);\n        Log.i(&quot;TAG&quot;, &quot;uploadImage: file name &quot; + file.getName());\n\n        // Api call\n        Call&lt;ResponseBody&gt; req = Client.getInstance(Consts.BASE_URL_PASSENGER_AUTH).getRoute().uploadProfilePhoto(photo, session.getToken(), session.getPassenger().getPassengerId());\n        Log.i(&quot;TAG&quot;, &quot;uploadImage: enqueueing &quot; + photo + &quot; &quot; + session.getPassenger().getPassengerId());\n        req.enqueue(new Callback&lt;ResponseBody&gt;() {\n          @Override\n          public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\n              if (response.isSuccessful()) {\n                  Log.i(&quot;TAG&quot;, &quot;onResponse: image uploaded&quot; );\n                  Log.i(&quot;TAG&quot;, &quot;onResponse: success file name &quot; + photo);\n              }\n          }\n\n         @Override\n          public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\n             Log.i(&quot;TAG&quot;, &quot;onFailure: &quot; + t.getLocalizedMessage());\n         }\n        });\n    }\n</code></pre>\n<p>I have logged the onResponse and onFailure calls, and it goes to the onFailure call and says,</p>\n<blockquote>\n<p>12006-12006 TAG                     com.example.sts_passenger            I  onFailure: /storage/emulated/0/Screenshot_20230523-073140_WhatsApp.jpg: open failed: ENOENT (No such file or directory)</p>\n</blockquote>\n<p>Api Handler, I am using in-built ResponseBody class for Call</p>\n<pre><code>@Multipart\n    @POST(Consts.ENDPOINT_UPLOAD_PROFILE_PIC)\n    Call&lt;ResponseBody&gt; uploadProfilePhoto(\n            @Part MultipartBody.Part photo,\n            @Header(&quot;Authorization&quot;) String userSessionToken,\n            @Path(&quot;passenger_id&quot;) Integer passengerId);\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud","spring-websocket","spring-cloud-gateway"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1684948409,"post_id":76325820,"comment_id":134593434,"body_markdown":"you should add the `import`s of your Java code snippet - maybe you have some wrong imports there for classes of the same basename?","body":"you should add the <code>import</code>s of your Java code snippet - maybe you have some wrong imports there for classes of the same basename?"},{"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"score":0,"creation_date":1684948976,"post_id":76325820,"comment_id":134593547,"body_markdown":"@cyberbrain updated question, added imports","body":"@cyberbrain updated question, added imports"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1684950210,"post_id":76325820,"comment_id":134593815,"body_markdown":"Hmm, doesn&#39;t look as if the error is there. But good that we could check it.","body":"Hmm, doesn&#39;t look as if the error is there. But good that we could check it."},{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1684950983,"post_id":76325820,"comment_id":134593975,"body_markdown":"is it possible for you to share the code snippet of WebSocketMessageHandler?","body":"is it possible for you to share the code snippet of WebSocketMessageHandler?"},{"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"score":0,"creation_date":1684951015,"post_id":76325820,"comment_id":134593983,"body_markdown":"@cyberbrain I probably found the reason(updated question), but dont know how to proceed. Could you have a look?","body":"@cyberbrain I probably found the reason(updated question), but dont know how to proceed. Could you have a look?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1684951143,"post_id":76325820,"comment_id":134594012,"body_markdown":"Try excluding dependencies from the websocket dependency that have the class try to be cast.","body":"Try excluding dependencies from the websocket dependency that have the class try to be cast."},{"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"score":0,"creation_date":1684951837,"post_id":76325820,"comment_id":134594145,"body_markdown":"@VasanthSubramanian added Handler&#39;s code","body":"@VasanthSubramanian added Handler&#39;s code"},{"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"score":0,"creation_date":1684952297,"post_id":76325820,"comment_id":134594233,"body_markdown":"@Bohemian excluded starter-web dependency. now I&#39;m getting another error which refers to class not found exception(probably websocket lib cant find some web starter classes)","body":"@Bohemian excluded starter-web dependency. now I&#39;m getting another error which refers to class not found exception(probably websocket lib cant find some web starter classes)"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1684958932,"post_id":76325820,"comment_id":134595420,"body_markdown":"If you can produce a dependency graph or similar, you could try to more fine-grained either exclude dependencies OR do not include spring-boot-starter-websocket as a whole, but just those libs it depends on, that you need. You also can check where the `org.apache.catalina.connector.ResponseFacade` comes from (it is probably a part of Tomcat) and if you can get rid of it or do some configuration to not use it.","body":"If you can produce a dependency graph or similar, you could try to more fine-grained either exclude dependencies OR do not include spring-boot-starter-websocket as a whole, but just those libs it depends on, that you need. You also can check where the <code>org.apache.catalina.connector.ResponseFacade</code> comes from (it is probably a part of Tomcat) and if you can get rid of it or do some configuration to not use it."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1684962558,"post_id":76325820,"comment_id":134596048,"body_markdown":"@sam I didn&#39;t mean exclude starter-web. Keep starter-web, but inside that dependency add an `&lt;exclusions&gt;` element to exclude the library being dragged in that has the class being used (you&#39;ll have to figure out which library yourself). See [maven exclusion doc](https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html#how-to-use-dependency-exclusions) for how to code the XML.","body":"@sam I didn&#39;t mean exclude starter-web. Keep starter-web, but inside that dependency add an <code>&lt;exclusions&gt;</code> element to exclude the library being dragged in that has the class being used (you&#39;ll have to figure out which library yourself). See <a href=\"https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html#how-to-use-dependency-exclusions\" rel=\"nofollow noreferrer\">maven exclusion doc</a> for how to code the XML."}],"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684951803,"creation_date":1684947097,"question_id":76325820,"body_markdown":"I&#39;m building sandbox project with simple microservices where I have Eureka service, gateway service and one more service which needs to use websockets.\r\nhere is config of gateway:\r\n\r\n``` lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.6&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.iauto&lt;/groupId&gt;\r\n    &lt;artifactId&gt;apigateway&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;apigateway&lt;/name&gt;\r\n    &lt;description&gt;gateway for requests services&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.0&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nand properties file:\r\n\r\n``` lang-yaml\r\nserver:\r\n  port: 8080\r\n\r\nspring:\r\n  application:\r\n    name: api-gateway\r\n  cloud:\r\n    gateway:\r\n      discovery:\r\n        locator:\r\n          enabled: true\r\n          lowerCaseServiceId: true\r\n\r\neureka:\r\n  client:\r\n    serviceUrl:\r\n      defaultZone: http://localhost:8761/eureka\r\n```\r\n\r\nHere is configs of websocket-based microservice:\r\n\r\n``` lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.6&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.iauto&lt;/groupId&gt;\r\n    &lt;artifactId&gt;requests&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;requests&lt;/name&gt;\r\n    &lt;description&gt;requests service with client offers and chats&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.0&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Spring Boot Dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Spring Cloud Dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- WebSocket Dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sockjs-client&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n            &lt;artifactId&gt;stomp-websocket&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--        testing--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--        utils--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\napp props:\r\n\r\n``` lang-yaml\r\nserver:\r\n  port: 8082\r\n  error:\r\n    includeBindingErrors: always\r\n    include-message: always\r\n\r\nspring:\r\n  main:\r\n    web-application-type: reactive\r\n  application:\r\n    name: requests-service\r\neureka:\r\n  client:\r\n    registerWithEureka: true\r\n    fetchRegistry: true\r\n    serviceUrl:\r\n      defaultZone: http://localhost:8761/eureka/\r\n```\r\n\r\nhere are websockets and route configs:\r\n\r\n``` lang-java\r\nimport org.springframework.cloud.gateway.route.RouteLocator;\r\nimport org.springframework.cloud.gateway.route.builder.RouteLocatorBuilder;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class GatewayConfig {\r\n    @Bean\r\n    public RouteLocator customRouteLocator(RouteLocatorBuilder builder) {\r\n        return builder.routes()\r\n                .route(&quot;requests-service&quot;, r -&gt; r.path(&quot;/api/v1/**&quot;)\r\n                        .uri(&quot;lb://requests-service&quot;))\r\n                .build();\r\n    }\r\n}\r\n```\r\n  \r\n``` lang-java\r\nimport com.iauto.requests.controller.WebSocketMessageHandler;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.socket.WebSocketHandler;\r\nimport org.springframework.web.socket.config.annotation.*;\r\n\r\n@Configuration\r\n@EnableWebSocket\r\npublic class WebSocketConfig implements WebSocketConfigurer {\r\n    @Override\r\n    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\r\n        registry.addHandler(webSocketHandler(), &quot;/api/v1/request_chat/{sessionId}/{clientId}&quot;)\r\n                .setAllowedOrigins(&quot;*&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public WebSocketHandler webSocketHandler() {\r\n        return new WebSocketMessageHandler();\r\n    }\r\n}\r\n```\r\n\r\n``` lang-java\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.iauto.requests.dto.RequestDTO;\r\nimport com.iauto.requests.entity.ChatSession;\r\nimport com.iauto.requests.service.RequestService;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.socket.WebSocketSession;\r\nimport org.springframework.web.socket.TextMessage;\r\nimport org.springframework.web.socket.handler.TextWebSocketHandler;\r\n\r\nimport java.util.Map;\r\nimport java.util.concurrent.ConcurrentHashMap;\r\n\r\n\r\n@Controller\r\npublic class WebSocketMessageHandler extends TextWebSocketHandler {\r\n\r\n    private RequestService requestService;\r\n    private Map&lt;String, ChatSession&gt; chatSessions;\r\n\r\n    public WebSocketMessageHandler(RequestService requestService) {\r\n        this.requestService = requestService;\r\n        this.chatSessions = new ConcurrentHashMap&lt;&gt;();\r\n    }\r\n\r\n    public WebSocketMessageHandler() {}\r\n\r\n    @Override\r\n    protected void handleTextMessage(WebSocketSession session, TextMessage message) throws Exception {\r\n        // Handle incoming WebSocket messages\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        RequestDTO requestDTO = objectMapper.readValue(message.getPayload(), RequestDTO.class);\r\n\r\n        String path = session.getUri().getPath();\r\n        String[] pathSegments = path.split(&quot;/&quot;);\r\n        String sessionId = pathSegments[pathSegments.length - 2];\r\n        String clientId = pathSegments[pathSegments.length - 1];\r\n\r\n        requestDTO.setSessionId(sessionId);\r\n        requestDTO.setClientId(clientId);\r\n\r\n        RequestDTO savedRequestDTO = requestService.processMessage(requestDTO);\r\n\r\n        ChatSession chatSession = chatSessions.computeIfAbsent(sessionId, ChatSession::new);\r\n        chatSession.broadcast(savedRequestDTO);\r\n    }\r\n}\r\n```\r\n\r\nWhen I try to send message to: `ws://localhost:8080/requests-service/api/v1/request_chat/1/1`\r\n\r\nIn gateway service I get: \r\n\r\n``` lang-none\r\nWebSocketClientHandshakeException: Invalid handshake response getStatus: 500\r\n```\r\nin requests-service I get error: \r\n\r\n``` lang-none\r\nClassCastException: class org.apache.catalina.connector.ResponseFacade cannot be cast to class reactor.netty.http.server.HttpServerResponse (org.apache.catalina.connector.ResponseFacade and reactor.netty.http.server.HttpServerResponse are in unnamed module of loader &#39;app&#39;)\r\n    \tat org.springframework.web.reactive.socket.server.upgrade.ReactorNettyRequestUpgradeStrategy.upgrade(ReactorNettyRequestUpgradeStrategy.java:163) ~[spring-webflux-6.0.8.jar:6.0.8]\r\n    \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException\r\n```\r\n\r\nHow this error can be fixed? It seems like I have both approaches in application - reactive and non-reactive and they conflict with each other, but I&#39;m confused and this is unclear. \r\n\r\nUPDATE: I probably understood, where is the problem. If I comment line `web-application-type: reactive` , then service fails to start with error: `Spring MVC found on classpath, which is incompatible with Spring Cloud Gateway`\r\nI checked dependencies and found out, that `spring-boot-starter-websocket` dependency relies on `spring-boot-starter-web`. when flag &#39;reactive&#39; is active this cause that `ClassCastException` problem. And here I dont know how to proceed - I need cloed and websockets in my app","title":"Why appear ClassCast exception?","body":"<p>I'm building sandbox project with simple microservices where I have Eureka service, gateway service and one more service which needs to use websockets.\nhere is config of gateway:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.iauto&lt;/groupId&gt;\n    &lt;artifactId&gt;apigateway&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;apigateway&lt;/name&gt;\n    &lt;description&gt;gateway for requests services&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.0&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and properties file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  port: 8080\n\nspring:\n  application:\n    name: api-gateway\n  cloud:\n    gateway:\n      discovery:\n        locator:\n          enabled: true\n          lowerCaseServiceId: true\n\neureka:\n  client:\n    serviceUrl:\n      defaultZone: http://localhost:8761/eureka\n</code></pre>\n<p>Here is configs of websocket-based microservice:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.iauto&lt;/groupId&gt;\n    &lt;artifactId&gt;requests&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;requests&lt;/name&gt;\n    &lt;description&gt;requests service with client offers and chats&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.0&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!-- Spring Boot Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring Cloud Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- WebSocket Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;sockjs-client&lt;/artifactId&gt;\n            &lt;version&gt;1.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;stomp-websocket&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--        testing--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--        utils--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\n            &lt;version&gt;6.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>app props:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  port: 8082\n  error:\n    includeBindingErrors: always\n    include-message: always\n\nspring:\n  main:\n    web-application-type: reactive\n  application:\n    name: requests-service\neureka:\n  client:\n    registerWithEureka: true\n    fetchRegistry: true\n    serviceUrl:\n      defaultZone: http://localhost:8761/eureka/\n</code></pre>\n<p>here are websockets and route configs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.cloud.gateway.route.RouteLocator;\nimport org.springframework.cloud.gateway.route.builder.RouteLocatorBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class GatewayConfig {\n    @Bean\n    public RouteLocator customRouteLocator(RouteLocatorBuilder builder) {\n        return builder.routes()\n                .route(&quot;requests-service&quot;, r -&gt; r.path(&quot;/api/v1/**&quot;)\n                        .uri(&quot;lb://requests-service&quot;))\n                .build();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import com.iauto.requests.controller.WebSocketMessageHandler;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.socket.WebSocketHandler;\nimport org.springframework.web.socket.config.annotation.*;\n\n@Configuration\n@EnableWebSocket\npublic class WebSocketConfig implements WebSocketConfigurer {\n    @Override\n    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\n        registry.addHandler(webSocketHandler(), &quot;/api/v1/request_chat/{sessionId}/{clientId}&quot;)\n                .setAllowedOrigins(&quot;*&quot;);\n    }\n\n    @Bean\n    public WebSocketHandler webSocketHandler() {\n        return new WebSocketMessageHandler();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.iauto.requests.dto.RequestDTO;\nimport com.iauto.requests.entity.ChatSession;\nimport com.iauto.requests.service.RequestService;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.socket.WebSocketSession;\nimport org.springframework.web.socket.TextMessage;\nimport org.springframework.web.socket.handler.TextWebSocketHandler;\n\nimport java.util.Map;\nimport java.util.concurrent.ConcurrentHashMap;\n\n\n@Controller\npublic class WebSocketMessageHandler extends TextWebSocketHandler {\n\n    private RequestService requestService;\n    private Map&lt;String, ChatSession&gt; chatSessions;\n\n    public WebSocketMessageHandler(RequestService requestService) {\n        this.requestService = requestService;\n        this.chatSessions = new ConcurrentHashMap&lt;&gt;();\n    }\n\n    public WebSocketMessageHandler() {}\n\n    @Override\n    protected void handleTextMessage(WebSocketSession session, TextMessage message) throws Exception {\n        // Handle incoming WebSocket messages\n        ObjectMapper objectMapper = new ObjectMapper();\n        RequestDTO requestDTO = objectMapper.readValue(message.getPayload(), RequestDTO.class);\n\n        String path = session.getUri().getPath();\n        String[] pathSegments = path.split(&quot;/&quot;);\n        String sessionId = pathSegments[pathSegments.length - 2];\n        String clientId = pathSegments[pathSegments.length - 1];\n\n        requestDTO.setSessionId(sessionId);\n        requestDTO.setClientId(clientId);\n\n        RequestDTO savedRequestDTO = requestService.processMessage(requestDTO);\n\n        ChatSession chatSession = chatSessions.computeIfAbsent(sessionId, ChatSession::new);\n        chatSession.broadcast(savedRequestDTO);\n    }\n}\n</code></pre>\n<p>When I try to send message to: <code>ws://localhost:8080/requests-service/api/v1/request_chat/1/1</code></p>\n<p>In gateway service I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>WebSocketClientHandshakeException: Invalid handshake response getStatus: 500\n</code></pre>\n<p>in requests-service I get error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ClassCastException: class org.apache.catalina.connector.ResponseFacade cannot be cast to class reactor.netty.http.server.HttpServerResponse (org.apache.catalina.connector.ResponseFacade and reactor.netty.http.server.HttpServerResponse are in unnamed module of loader 'app')\n        at org.springframework.web.reactive.socket.server.upgrade.ReactorNettyRequestUpgradeStrategy.upgrade(ReactorNettyRequestUpgradeStrategy.java:163) ~[spring-webflux-6.0.8.jar:6.0.8]\n        Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException\n</code></pre>\n<p>How this error can be fixed? It seems like I have both approaches in application - reactive and non-reactive and they conflict with each other, but I'm confused and this is unclear.</p>\n<p>UPDATE: I probably understood, where is the problem. If I comment line <code>web-application-type: reactive</code> , then service fails to start with error: <code>Spring MVC found on classpath, which is incompatible with Spring Cloud Gateway</code>\nI checked dependencies and found out, that <code>spring-boot-starter-websocket</code> dependency relies on <code>spring-boot-starter-web</code>. when flag 'reactive' is active this cause that <code>ClassCastException</code> problem. And here I dont know how to proceed - I need cloed and websockets in my app</p>\n"},{"tags":["java","spring-boot","spring-boot-security"],"answers":[{"tags":[],"owner":{"account_id":26695768,"reputation":59,"user_id":20303657,"display_name":"Dev-ohene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684951660,"creation_date":1684951660,"answer_id":76326337,"question_id":76326112,"body_markdown":"That is true. `antMatchers()` method is deprecated. Could you try creating two custom request matchers(for endpoint 1 and 2). You can then use those matchers in two separate configuration classes(any class name of choice) where you’d define your specificity for each endpoint. This might help you trigger your filters for the right endpoints. \r\n\r\n   \r\n\r\n\r\n```\r\n// Custom request matchers for endpoint paths\r\nprivate static final RequestMatcher ENDPOINT_1_MATCHER = new AntPathRequestMatcher(&quot;/endpoint1/**&quot;);\r\nprivate static final RequestMatcher ENDPOINT_2_MATCHER = new AntPathRequestMatcher(&quot;/endpoint2/**&quot;);\r\n\r\n// Configuration for endpoint 1\r\n@Configuration\r\npublic static class Endpoint1SecurityFilter extends WebSecurityConfigurerAdapter {\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.requestMatchers()\r\n                .requestMatcher(ENDPOINT_1_MATCHER)\r\n                .and()\r\n                .authorizeRequests()\r\n                .anyRequest()\r\n                .authenticated();\r\n    }\r\n}\r\n\r\n// endpoint 2 configuration\r\n@Configuration\r\npublic static class Endpoint2SecurityFilter extends WebSecurityConfigurerAdapter {\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.requestMatchers()\r\n                .requestMatcher(ENDPOINT_2_MATCHER)\r\n                .and()\r\n                .authorizeRequests()\r\n                .anyRequest()\r\n                .authenticated();\r\n    }\r\n} ```\r\n\r\n\r\nPS: I  honestly don’t feel it is necessary to explicitly configure the absence of filters for endpoint3 since it doesn’t require any filters.\r\n\r\nOpen to better suggestions here!","title":"How to configure custom security filters to trigger only for specific endpoints in a Spring Boot application with Spring Security?","body":"<p>That is true. <code>antMatchers()</code> method is deprecated. Could you try creating two custom request matchers(for endpoint 1 and 2). You can then use those matchers in two separate configuration classes(any class name of choice) where you’d define your specificity for each endpoint. This might help you trigger your filters for the right endpoints.</p>\n<pre><code>// Custom request matchers for endpoint paths\nprivate static final RequestMatcher ENDPOINT_1_MATCHER = new AntPathRequestMatcher(&quot;/endpoint1/**&quot;);\nprivate static final RequestMatcher ENDPOINT_2_MATCHER = new AntPathRequestMatcher(&quot;/endpoint2/**&quot;);\n\n// Configuration for endpoint 1\n@Configuration\npublic static class Endpoint1SecurityFilter extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.requestMatchers()\n                .requestMatcher(ENDPOINT_1_MATCHER)\n                .and()\n                .authorizeRequests()\n                .anyRequest()\n                .authenticated();\n    }\n}\n\n// endpoint 2 configuration\n@Configuration\npublic static class Endpoint2SecurityFilter extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.requestMatchers()\n                .requestMatcher(ENDPOINT_2_MATCHER)\n                .and()\n                .authorizeRequests()\n                .anyRequest()\n                .authenticated();\n    }\n} ```\n\n\nPS: I  honestly don’t feel it is necessary to explicitly configure the absence of filters for endpoint3 since it doesn’t require any filters.\n\nOpen to better suggestions here!\n</code></pre>\n"}],"owner":{"account_id":22292559,"reputation":3,"user_id":16519120,"display_name":"hajjoujti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684951660,"creation_date":1684949756,"question_id":76326112,"body_markdown":"I have a spring boot 3 application with spring security 6. I am having a hard time to understand how security filters work.\r\nI have for the moment 3 exposed endpoint `/endpoint1`, `/endpoint2` and `/endpoint3`. I also have 2 filters `Filter1.java` and `Filter2.java`.\r\nI want to configure my Security in a way that `Filter1` only gets triggered when `/endpoint1` is called, `Filter2` only when `/endpoint2` gets called, and for `/endpoint3` no filter at all.\r\n\r\nThe outcome I am getting is that both filters are getting triggered when calling any of the endpoints.\r\n\r\nThis is my `SecurityFilterChain` configure method:\r\n\r\n```java\r\n@Bean\r\n    public SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n        http.csrf()\r\n                .disable()\r\n                .cors()\r\n                .and()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(PathRequest.toStaticResources().atCommonLocations())\r\n                .permitAll()\r\n                .requestMatchers(new AntPathRequestMatcher(&quot;/endpoin3/**&quot;))\r\n                .permitAll()\r\n                .requestMatchers(new AntPathRequestMatcher(&quot;/error/**&quot;))\r\n                .permitAll()\r\n                .requestMatchers(new AntPathRequestMatcher(&quot;/endpoint1/**&quot;))\r\n                .authenticated()\r\n                .requestMatchers(new AntPathRequestMatcher(&quot;/endpoint2/**&quot;))\r\n                .authenticated()\r\n                .anyRequest()\r\n                .denyAll()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .addFilterBefore(\r\n                        new Filter1(),\r\n                        UsernamePasswordAuthenticationFilter.class)\r\n                .addFilterBefore(\r\n                        new Filter2(),\r\n                        UsernamePasswordAuthenticationFilter.class)\r\n                .logout()\r\n                .logoutSuccessHandler((request, response, authentication) -&gt; SecurityContextHolder.clearContext());\r\n        return http.build();\r\n    }\r\n```\r\n\r\n\r\nI tried to do the following but it did make any difference:\r\n\r\n```java\r\n@Bean\r\n    public SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n        http.csrf()\r\n                .disable()\r\n                .cors()\r\n                .and()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(PathRequest.toStaticResources().atCommonLocations())\r\n                .permitAll()\r\n                .requestMatchers(new AntPathRequestMatcher(&quot;/endpoin3/**&quot;))\r\n                .permitAll()\r\n                .requestMatchers(new AntPathRequestMatcher(&quot;/error/**&quot;))\r\n                .permitAll()\r\n                .and()\r\n                .authorizeHttpRequests(authorize -&gt; authorize\r\n                        .requestMatchers(new AntPathRequestMatcher(&quot;/endpoint1/**&quot;))\r\n                        .authenticated()\r\n                        .and()\r\n                        .addFilterBefore(\r\n                                new Filter1(),\r\n                                UsernamePasswordAuthenticationFilter.class))\r\n                .authorizeHttpRequests(authorize -&gt; authorize\r\n                        .requestMatchers(new AntPathRequestMatcher(&quot;/endpoint2/**&quot;))\r\n                        .authenticated()\r\n                        .and()\r\n                        .addFilterBefore(\r\n                                new Filter2(),\r\n                                UsernamePasswordAuthenticationFilter.class))\r\n                .authorizeHttpRequests()\r\n                .anyRequest()\r\n                .denyAll()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .logout()\r\n                .logoutSuccessHandler((request, response, authentication) -&gt; SecurityContextHolder.clearContext());\r\n        return http.build();\r\n    }\r\n    }\r\n```\r\n\r\nI have searched to find an answer to my issue but only found found solutions for `Spring boot 2` using `antMatchers()` methods but it is depricated in `Spring Boot 3` because of `Spring security 6`.\r\nI also tried to create multiple `SecurityFilterChain`s with `@Bean` and `@Order` annotations on top of them but the filters stoped being triggered on all endpoints.","title":"How to configure custom security filters to trigger only for specific endpoints in a Spring Boot application with Spring Security?","body":"<p>I have a spring boot 3 application with spring security 6. I am having a hard time to understand how security filters work.\nI have for the moment 3 exposed endpoint <code>/endpoint1</code>, <code>/endpoint2</code> and <code>/endpoint3</code>. I also have 2 filters <code>Filter1.java</code> and <code>Filter2.java</code>.\nI want to configure my Security in a way that <code>Filter1</code> only gets triggered when <code>/endpoint1</code> is called, <code>Filter2</code> only when <code>/endpoint2</code> gets called, and for <code>/endpoint3</code> no filter at all.</p>\n<p>The outcome I am getting is that both filters are getting triggered when calling any of the endpoints.</p>\n<p>This is my <code>SecurityFilterChain</code> configure method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n    public SecurityFilterChain configure(HttpSecurity http) throws Exception {\n        http.csrf()\n                .disable()\n                .cors()\n                .and()\n                .authorizeHttpRequests()\n                .requestMatchers(PathRequest.toStaticResources().atCommonLocations())\n                .permitAll()\n                .requestMatchers(new AntPathRequestMatcher(&quot;/endpoin3/**&quot;))\n                .permitAll()\n                .requestMatchers(new AntPathRequestMatcher(&quot;/error/**&quot;))\n                .permitAll()\n                .requestMatchers(new AntPathRequestMatcher(&quot;/endpoint1/**&quot;))\n                .authenticated()\n                .requestMatchers(new AntPathRequestMatcher(&quot;/endpoint2/**&quot;))\n                .authenticated()\n                .anyRequest()\n                .denyAll()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .addFilterBefore(\n                        new Filter1(),\n                        UsernamePasswordAuthenticationFilter.class)\n                .addFilterBefore(\n                        new Filter2(),\n                        UsernamePasswordAuthenticationFilter.class)\n                .logout()\n                .logoutSuccessHandler((request, response, authentication) -&gt; SecurityContextHolder.clearContext());\n        return http.build();\n    }\n</code></pre>\n<p>I tried to do the following but it did make any difference:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n    public SecurityFilterChain configure(HttpSecurity http) throws Exception {\n        http.csrf()\n                .disable()\n                .cors()\n                .and()\n                .authorizeHttpRequests()\n                .requestMatchers(PathRequest.toStaticResources().atCommonLocations())\n                .permitAll()\n                .requestMatchers(new AntPathRequestMatcher(&quot;/endpoin3/**&quot;))\n                .permitAll()\n                .requestMatchers(new AntPathRequestMatcher(&quot;/error/**&quot;))\n                .permitAll()\n                .and()\n                .authorizeHttpRequests(authorize -&gt; authorize\n                        .requestMatchers(new AntPathRequestMatcher(&quot;/endpoint1/**&quot;))\n                        .authenticated()\n                        .and()\n                        .addFilterBefore(\n                                new Filter1(),\n                                UsernamePasswordAuthenticationFilter.class))\n                .authorizeHttpRequests(authorize -&gt; authorize\n                        .requestMatchers(new AntPathRequestMatcher(&quot;/endpoint2/**&quot;))\n                        .authenticated()\n                        .and()\n                        .addFilterBefore(\n                                new Filter2(),\n                                UsernamePasswordAuthenticationFilter.class))\n                .authorizeHttpRequests()\n                .anyRequest()\n                .denyAll()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .logout()\n                .logoutSuccessHandler((request, response, authentication) -&gt; SecurityContextHolder.clearContext());\n        return http.build();\n    }\n    }\n</code></pre>\n<p>I have searched to find an answer to my issue but only found found solutions for <code>Spring boot 2</code> using <code>antMatchers()</code> methods but it is depricated in <code>Spring Boot 3</code> because of <code>Spring security 6</code>.\nI also tried to create multiple <code>SecurityFilterChain</code>s with <code>@Bean</code> and <code>@Order</code> annotations on top of them but the filters stoped being triggered on all endpoints.</p>\n"},{"tags":["java","android","xml","android-studio","kotlin"],"comments":[{"owner":{"account_id":218586,"reputation":1710,"user_id":474986,"accept_rate":79,"display_name":"ruben"},"score":0,"creation_date":1604689853,"post_id":64720315,"comment_id":114433561,"body_markdown":"what&#39;s your `minSdkVersion` in `build.gradle` file ?","body":"what&#39;s your <code>minSdkVersion</code> in <code>build.gradle</code> file ?"},{"owner":{"account_id":19915254,"reputation":7,"user_id":14592401,"display_name":"The noob developer"},"score":0,"creation_date":1604690265,"post_id":64720315,"comment_id":114433692,"body_markdown":"Where will I find that?","body":"Where will I find that?"}],"answers":[{"tags":[],"owner":{"account_id":13816113,"reputation":63,"user_id":9972675,"display_name":"Mohsen Naderzadeh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1604692127,"creation_date":1604691191,"answer_id":64720608,"question_id":64720315,"body_markdown":"You should change your Minsdkversion. for this follow the below:\r\n\r\n 1.First, from the Project section that is available on the left side of the android studio, click on Gradle Scripts.\r\n\r\n 2. Second, Open build.gradle file that is related to the app module.\r\n\r\n3. at default configs section you can find Minsdkversion, change it to an SDK after 17 or more, and after that sync project.\r\n\r\n","title":"Unable to create an empty activity in Android Studio","body":"<p>You should change your Minsdkversion. for this follow the below:</p>\n<p>1.First, from the Project section that is available on the left side of the android studio, click on Gradle Scripts.</p>\n<ol start=\"2\">\n<li><p>Second, Open build.gradle file that is related to the app module.</p>\n</li>\n<li><p>at default configs section you can find Minsdkversion, change it to an SDK after 17 or more, and after that sync project.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12972218,"reputation":693,"user_id":9377539,"display_name":"K_mns"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604712944,"creation_date":1604710365,"answer_id":64723404,"question_id":64720315,"body_markdown":"From build.gadle:app add minSdkVersion 17\r\n\r\nminSdkVersion 11 (build.Gradle:app)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nminSdkVersion 17 (build.Gradle:app)\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CwhL2.png\r\n  [2]: https://i.stack.imgur.com/6oysO.png","title":"Unable to create an empty activity in Android Studio","body":"<p>From build.gadle:app add minSdkVersion 17</p>\n<p>minSdkVersion 11 (build.Gradle:app)</p>\n<p><a href=\"https://i.stack.imgur.com/CwhL2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CwhL2.png\" alt=\"enter image description here\" /></a></p>\n<p>minSdkVersion 17 (build.Gradle:app)</p>\n<p><a href=\"https://i.stack.imgur.com/6oysO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6oysO.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19915254,"reputation":7,"user_id":14592401,"display_name":"The noob developer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64720608,"answer_count":2,"score":0,"last_activity_date":1684951643,"creation_date":1604689609,"question_id":64720315,"body_markdown":"I&#39;m unable to create an empty activity for the Miwok app. The options are inactive. I&#39;m a complete beginner \r\n\r\n[![The problem][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/udZJ9.png","title":"Unable to create an empty activity in Android Studio","body":"<p>I'm unable to create an empty activity for the Miwok app. The options are inactive. I'm a complete beginner</p>\n<p><a href=\"https://i.stack.imgur.com/udZJ9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/udZJ9.png\" alt=\"The problem\" /></a></p>\n"},{"tags":["java","multithreading","executorservice","countdownlatch","forkjoinpool"],"comments":[{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":3,"creation_date":1437644389,"post_id":31582548,"comment_id":51119735,"body_markdown":"`CountDownLatch` is a versatile low-level synchronization primitive, it can be used to synchronize any kind of operations, whereas `ForkJoin` is a higher level abstraction, specifically made for recursive divide/conquer processing.","body":"<code>CountDownLatch</code> is a versatile low-level synchronization primitive, it can be used to synchronize any kind of operations, whereas <code>ForkJoin</code> is a higher level abstraction, specifically made for recursive divide/conquer processing."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":5,"creation_date":1437687285,"post_id":31582548,"comment_id":51148621,"body_markdown":"`CountDownLatch` is not a framework.  Biziclop called it &quot;versatile&quot;.  I call it simple as dirt.  You can construct one with an initial integer value, you can decrement the value, you can get the value, and you can wait for the value to reach zero (i.e., because of being decremented by other threads).  That&#39;s _all_ it does.","body":"<code>CountDownLatch</code> is not a framework.  Biziclop called it &quot;versatile&quot;.  I call it simple as dirt.  You can construct one with an initial integer value, you can decrement the value, you can get the value, and you can wait for the value to reach zero (i.e., because of being decremented by other threads).  That&#39;s <i>all</i> it does."}],"answers":[{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1684951443,"creation_date":1447045293,"answer_id":33602810,"question_id":31582548,"body_markdown":"After research on various multi threading frameworks , I have found answer to question from various *oracle documentation pages* \r\n\r\n[ExecutorService][1]\r\n\r\nIt is simple and easy to use with limited control.\r\n\r\nI prefer this one when number of `Callable/Runnable` tasks are small in number and piling of tasks in unbounded queue does not cause pile-up in memory &amp; degrade the performance of the system. \r\n\r\nIt hides low level details of `ThreadPoolExecutor`. It does not allow playing with other parameters ( `Bounded Queue, Rejection Handler` etc. to fine tune the performance) as in `ThreadPoolExectuor`.  \r\n\r\n[ThreadPoolExecutor][2]\r\n\r\n    ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, \r\n    TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory,\r\n    RejectedExecutionHandler handler)\r\n\r\n\r\nIt provides more control to you. Apart from setting minimum and maximum threads, you can set queue size and make `BlockingQueue` is bounded.\r\n\r\nIf your application is constrained by number of pending Runnable/Callable tasks, you will use bounded queue by setting the max capacity. Once the queue reaches maximum capacity, you can define RejectionHandler. Java provides four types of Rejection Handler [policies][3].\r\n\r\n \r\n[CountDownLatch][4]\r\n\r\n`CountDownLatch` : This framework allows a java thread to wait until other set of threads completes their tasks.\r\n\r\n\r\n[ForkJoinPool][5]\r\n\r\nThe `ForkJoinPool` is similar to the Java ExecutorService but with one difference. \r\n\r\n&gt; This enables efficient processing when most tasks spawn other subtasks (as do most ForkJoinTasks), as well as when many small tasks are submitted to the pool from external clients\r\n\r\n        public ForkJoinPool(int parallelism,\r\n                ForkJoinPool.ForkJoinWorkerThreadFactory factory,\r\n                Thread.UncaughtExceptionHandler handler,\r\n                boolean asyncMode)\r\n   \r\nRegarding main query:\r\n\r\n*You can use `ExecutorService.invokeAll()` or `CountDownLatch` framework or `ForkJoinPool` . *All these frameworks are complimentary to each other varying of granularity to control the execution of tasks from high level to low level*.* \r\n\r\n\r\nHave a look at related SE questions:\r\n\r\nhttps://stackoverflow.com/questions/3984076/what-are-the-advantages-of-using-an-executorservice\r\n\r\nhttps://stackoverflow.com/questions/21156599/javas-fork-join-vs-executorservice-when-to-use-which/34922218#34922218\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CountDownLatch.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html","title":"java Fork/Join pool, ExecutorService and CountDownLatch","body":"<p>After research on various multi threading frameworks , I have found answer to question from various <em>oracle documentation pages</em></p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">ExecutorService</a></p>\n<p>It is simple and easy to use with limited control.</p>\n<p>I prefer this one when number of <code>Callable/Runnable</code> tasks are small in number and piling of tasks in unbounded queue does not cause pile-up in memory &amp; degrade the performance of the system.</p>\n<p>It hides low level details of <code>ThreadPoolExecutor</code>. It does not allow playing with other parameters ( <code>Bounded Queue, Rejection Handler</code> etc. to fine tune the performance) as in <code>ThreadPoolExectuor</code>.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">ThreadPoolExecutor</a></p>\n<pre><code>ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, \nTimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory,\nRejectedExecutionHandler handler)\n</code></pre>\n<p>It provides more control to you. Apart from setting minimum and maximum threads, you can set queue size and make <code>BlockingQueue</code> is bounded.</p>\n<p>If your application is constrained by number of pending Runnable/Callable tasks, you will use bounded queue by setting the max capacity. Once the queue reaches maximum capacity, you can define RejectionHandler. Java provides four types of Rejection Handler <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">policies</a>.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow noreferrer\">CountDownLatch</a></p>\n<p><code>CountDownLatch</code> : This framework allows a java thread to wait until other set of threads completes their tasks.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html\" rel=\"nofollow noreferrer\">ForkJoinPool</a></p>\n<p>The <code>ForkJoinPool</code> is similar to the Java ExecutorService but with one difference.</p>\n<blockquote>\n<p>This enables efficient processing when most tasks spawn other subtasks (as do most ForkJoinTasks), as well as when many small tasks are submitted to the pool from external clients</p>\n</blockquote>\n<pre><code>    public ForkJoinPool(int parallelism,\n            ForkJoinPool.ForkJoinWorkerThreadFactory factory,\n            Thread.UncaughtExceptionHandler handler,\n            boolean asyncMode)\n</code></pre>\n<p>Regarding main query:</p>\n<p><em>You can use <code>ExecutorService.invokeAll()</code> or <code>CountDownLatch</code> framework or <code>ForkJoinPool</code> . <em>All these frameworks are complimentary to each other varying of granularity to control the execution of tasks from high level to low level</em>.</em></p>\n<p>Have a look at related SE questions:</p>\n<p><a href=\"https://stackoverflow.com/questions/3984076/what-are-the-advantages-of-using-an-executorservice\">What are the advantages of using an ExecutorService?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/21156599/javas-fork-join-vs-executorservice-when-to-use-which/34922218#34922218\">Java&#39;s Fork/Join vs ExecutorService - when to use which?</a></p>\n"}],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5758,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":33602810,"answer_count":1,"score":2,"last_activity_date":1684951443,"creation_date":1437641651,"question_id":31582548,"body_markdown":"We have three different multi threading techniques in java - ***Fork/Join pool, Executor Service &amp; CountDownLatch***\r\n\r\n**Fork/Join pool** (http://www.javacodegeeks.com/2011/02/java-forkjoin-parallel-programming.html)\r\n\r\nThe Fork/Join framework is designed to make divide-and-conquer algorithms easy to parallelize. That type of algorithms is perfect for problems that can be divided into two or more sub-problems of the same type. They use recursion to break down the problem to simple tasks until these become simple enough to be solved directly. The solutions to the sub-problems are then combined to give a solution to the original problem\r\n\r\n**ExecutorService** is an interface that extends Executor class and represents an asynchronous execution. It provides us mechanisms to manage the end and detect progress of the asynchronous tasks.\r\n\r\n*invokeAll()* : Executes the given tasks, returning a list of Futures holding their status and results when all complete. Future.isDone() is true for each element of the returned list. \r\n\r\n**CountDownLatch**:(http://examples.javacodegeeks.com/core-java/util/concurrent/countdownlatch-concurrent/java-util-concurrent-countdownlatch-example/)\r\n\r\nCountDownLatch is used in synchronisation to allow one or more threads to wait until a set of operations being performed in other threads completes.\r\n\r\n**My assumption:** \r\n\r\nIn both these alternatives, final result will be known only after completion of all tasks/threads. \r\n\r\n***Are these three alternatives complimentary or supplementary to each other***? \r\n\r\n","title":"java Fork/Join pool, ExecutorService and CountDownLatch","body":"<p>We have three different multi threading techniques in java - <strong><em>Fork/Join pool, Executor Service &amp; CountDownLatch</em></strong></p>\n\n<p><strong>Fork/Join pool</strong> (<a href=\"http://www.javacodegeeks.com/2011/02/java-forkjoin-parallel-programming.html\" rel=\"nofollow\">http://www.javacodegeeks.com/2011/02/java-forkjoin-parallel-programming.html</a>)</p>\n\n<p>The Fork/Join framework is designed to make divide-and-conquer algorithms easy to parallelize. That type of algorithms is perfect for problems that can be divided into two or more sub-problems of the same type. They use recursion to break down the problem to simple tasks until these become simple enough to be solved directly. The solutions to the sub-problems are then combined to give a solution to the original problem</p>\n\n<p><strong>ExecutorService</strong> is an interface that extends Executor class and represents an asynchronous execution. It provides us mechanisms to manage the end and detect progress of the asynchronous tasks.</p>\n\n<p><em>invokeAll()</em> : Executes the given tasks, returning a list of Futures holding their status and results when all complete. Future.isDone() is true for each element of the returned list. </p>\n\n<p><strong>CountDownLatch</strong>:(<a href=\"http://examples.javacodegeeks.com/core-java/util/concurrent/countdownlatch-concurrent/java-util-concurrent-countdownlatch-example/\" rel=\"nofollow\">http://examples.javacodegeeks.com/core-java/util/concurrent/countdownlatch-concurrent/java-util-concurrent-countdownlatch-example/</a>)</p>\n\n<p>CountDownLatch is used in synchronisation to allow one or more threads to wait until a set of operations being performed in other threads completes.</p>\n\n<p><strong>My assumption:</strong> </p>\n\n<p>In both these alternatives, final result will be known only after completion of all tasks/threads. </p>\n\n<p><strong><em>Are these three alternatives complimentary or supplementary to each other</em></strong>? </p>\n"},{"tags":["java","api","rest","spring-mvc"],"comments":[{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":0,"creation_date":1684947787,"post_id":76325849,"comment_id":134593308,"body_markdown":"Don&#39;t post images of codes. Put the actual code in your question. As far as I can see, the data you&#39;re looking for is wrapped in a root `user` object in the retrieved JSON. This is why your deserialization is not working as expected. You have some options to deal with it.","body":"Don&#39;t post images of codes. Put the actual code in your question. As far as I can see, the data you&#39;re looking for is wrapped in a root <code>user</code> object in the retrieved JSON. This is why your deserialization is not working as expected. You have some options to deal with it."},{"owner":{"account_id":28527925,"reputation":11,"user_id":21835755,"display_name":"sebbington"},"score":0,"creation_date":1684950603,"post_id":76325849,"comment_id":134593891,"body_markdown":"@Matheus I&#39;ve changed the images to code. I&#39;ve fixed it by using JsonNode to retrieve the user object, then using ObjectMapper to map that to my Profile automatically.","body":"@Matheus I&#39;ve changed the images to code. I&#39;ve fixed it by using JsonNode to retrieve the user object, then using ObjectMapper to map that to my Profile automatically."},{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":0,"creation_date":1684951375,"post_id":76325849,"comment_id":134594063,"body_markdown":"I&#39;ve posted a answer, check to see if this helps you solve the problem.","body":"I&#39;ve posted a answer, check to see if this helps you solve the problem."}],"answers":[{"tags":[],"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684951346,"creation_date":1684951346,"answer_id":76326292,"question_id":76325849,"body_markdown":"Your JSON has a root element named `user`. You&#39;re trying to deserialize assuming that there&#39;s no root element. That&#39;s why it is not working, Jackson tries to find the fields of the `Profile` class on the root, but it never finds any of them, because they are wrapped into another object.\r\n\r\nFirst, configure your `ObjectMapper` this way (preferably put this code in a `@Configuration` annotated class:\r\n\r\n    @Bean\r\n    public ObjectMapper objectMapper(ObjectMapper objectMapper) {\r\n        objectMapper.configure(DeserializationFeature.UNWRAP_ROOT_VALUE, true);\r\n        \r\n        return objectMapper;\r\n    }\r\n\r\nThis will tell object mapper to allow deserialization with root value.\r\n\r\nNow, annotate your `Profile` class with `@JsonRootName`:\r\n\r\n    @JsonRootName(value = &quot;user&quot;)\r\n    public class Profile {\r\n        // ...\r\n    }\r\n\r\n\r\nThis way, on deserialization, Jackson will unwrap your value before deserializing the JSON into a `Profile` object.\r\n","title":"Why is ResponseEntity&lt;Foo&gt; geting a different result to ResponseEntity&lt;String&gt;?","body":"<p>Your JSON has a root element named <code>user</code>. You're trying to deserialize assuming that there's no root element. That's why it is not working, Jackson tries to find the fields of the <code>Profile</code> class on the root, but it never finds any of them, because they are wrapped into another object.</p>\n<p>First, configure your <code>ObjectMapper</code> this way (preferably put this code in a <code>@Configuration</code> annotated class:</p>\n<pre><code>@Bean\npublic ObjectMapper objectMapper(ObjectMapper objectMapper) {\n    objectMapper.configure(DeserializationFeature.UNWRAP_ROOT_VALUE, true);\n    \n    return objectMapper;\n}\n</code></pre>\n<p>This will tell object mapper to allow deserialization with root value.</p>\n<p>Now, annotate your <code>Profile</code> class with <code>@JsonRootName</code>:</p>\n<pre><code>@JsonRootName(value = &quot;user&quot;)\npublic class Profile {\n    // ...\n}\n</code></pre>\n<p>This way, on deserialization, Jackson will unwrap your value before deserializing the JSON into a <code>Profile</code> object.</p>\n"}],"owner":{"account_id":28527925,"reputation":11,"user_id":21835755,"display_name":"sebbington"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76326292,"answer_count":1,"score":0,"last_activity_date":1684951346,"creation_date":1684947364,"question_id":76325849,"body_markdown":"For my Java Spring Boot Application (v2.7.12), I am performing a GET request using `restTemplate.exchange()` which passes in my correct `url`, `HttpEntity` with the correct headers, and response type `Profile.class`. \r\n\r\nIt assigns this to `ResponseEntity&lt;Profile&gt; response`\r\n\r\n    ResponseEntity&lt;Profile&gt; response = restTemplate.exchange(url, HttpMethod.GET, httpEntity, Profile.class);\r\n\r\nNow,\r\nwhen I assign it to a String type: `ResponseEntity&lt;String&gt; response` instead of Profile, the `response.getBody()` returns the correct json body, with the correct data: `name: random`\r\n\r\n    &lt;200,{&quot;user&quot;:{&quot;username=&#39;instagram&#39;, full_name=&#39;instagram&#39;}\r\n\r\nHowever, \r\nwhen I assign it to a Profile type: `ResponseEntity&lt;Profile&gt; response`, it returns the correct json body, but with invalid data: `name: null`\r\n\r\n    &lt;200,{&quot;user&quot;:{&quot;username=&#39;null&#39;, full_name=&#39;null&#39;}\r\n\r\n\r\nWhat I want to do is assign the exact API attributes to my Profile model class, without needing to parse JSON myself for the HTML type.\r\n```\r\n    @JsonIgnoreProperties(ignoreUnknown = false)\r\npublic class Profile {\r\n    @JsonProperty(&quot;username&quot;)\r\n    private String username;\r\n    @JsonProperty(&quot;full_name&quot;)\r\n    private String full_name;\r\n    @JsonProperty(&quot;is_private&quot;)\r\n    private boolean is_private;\r\n    @JsonProperty(&quot;status&quot;)\r\n    private String status;\r\n    @JsonProperty(&quot;profile_pic_url&quot;)\r\n    private String profile_pic_url;\r\n    @JsonProperty(&quot;follower_count&quot;)\r\n    private int follower_count;\r\n    @JsonProperty(&quot;following_count&quot;)\r\n    private int following_count;\r\n    @JsonProperty(&quot;biography&quot;)\r\n    private String biography;\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n```\r\nThis is my restTemplate:\r\n```\r\n@Controller\r\npublic class WebController {\r\n\r\n    @Bean\r\n    public RestTemplate restTemplate(RestTemplateBuilder builder){\r\n        return builder.build();\r\n    }\r\n```\r\n\r\n\r\n\r\nI know this issue has an easy workaround. I have tried using Jackson API to parse JSON from the String type response body, but I wish this to be Plan B.\r\n\r\nI have tried changing the URL formatting, and it makes no difference.\r\nThe headers are fine.\r\nThe API itself is not wrong.\r\n\r\n    Profile profile = restTemplate.getForObject(uri, Profile.class)\r\n\r\nI tried using `.getForObject` which worked before, but I needed to pass in headers, and it can&#39;t do that.","title":"Why is ResponseEntity&lt;Foo&gt; geting a different result to ResponseEntity&lt;String&gt;?","body":"<p>For my Java Spring Boot Application (v2.7.12), I am performing a GET request using <code>restTemplate.exchange()</code> which passes in my correct <code>url</code>, <code>HttpEntity</code> with the correct headers, and response type <code>Profile.class</code>.</p>\n<p>It assigns this to <code>ResponseEntity&lt;Profile&gt; response</code></p>\n<pre><code>ResponseEntity&lt;Profile&gt; response = restTemplate.exchange(url, HttpMethod.GET, httpEntity, Profile.class);\n</code></pre>\n<p>Now,\nwhen I assign it to a String type: <code>ResponseEntity&lt;String&gt; response</code> instead of Profile, the <code>response.getBody()</code> returns the correct json body, with the correct data: <code>name: random</code></p>\n<pre><code>&lt;200,{&quot;user&quot;:{&quot;username='instagram', full_name='instagram'}\n</code></pre>\n<p>However,\nwhen I assign it to a Profile type: <code>ResponseEntity&lt;Profile&gt; response</code>, it returns the correct json body, but with invalid data: <code>name: null</code></p>\n<pre><code>&lt;200,{&quot;user&quot;:{&quot;username='null', full_name='null'}\n</code></pre>\n<p>What I want to do is assign the exact API attributes to my Profile model class, without needing to parse JSON myself for the HTML type.</p>\n<pre><code>    @JsonIgnoreProperties(ignoreUnknown = false)\npublic class Profile {\n    @JsonProperty(&quot;username&quot;)\n    private String username;\n    @JsonProperty(&quot;full_name&quot;)\n    private String full_name;\n    @JsonProperty(&quot;is_private&quot;)\n    private boolean is_private;\n    @JsonProperty(&quot;status&quot;)\n    private String status;\n    @JsonProperty(&quot;profile_pic_url&quot;)\n    private String profile_pic_url;\n    @JsonProperty(&quot;follower_count&quot;)\n    private int follower_count;\n    @JsonProperty(&quot;following_count&quot;)\n    private int following_count;\n    @JsonProperty(&quot;biography&quot;)\n    private String biography;\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n</code></pre>\n<p>This is my restTemplate:</p>\n<pre><code>@Controller\npublic class WebController {\n\n    @Bean\n    public RestTemplate restTemplate(RestTemplateBuilder builder){\n        return builder.build();\n    }\n</code></pre>\n<p>I know this issue has an easy workaround. I have tried using Jackson API to parse JSON from the String type response body, but I wish this to be Plan B.</p>\n<p>I have tried changing the URL formatting, and it makes no difference.\nThe headers are fine.\nThe API itself is not wrong.</p>\n<pre><code>Profile profile = restTemplate.getForObject(uri, Profile.class)\n</code></pre>\n<p>I tried using <code>.getForObject</code> which worked before, but I needed to pass in headers, and it can't do that.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1684948081,"post_id":76325835,"comment_id":134593371,"body_markdown":"There&#39;s no server running at 127.0.0.1:9090?","body":"There&#39;s no server running at 127.0.0.1:9090?"}],"answers":[{"tags":[],"owner":{"account_id":16324126,"reputation":37,"user_id":11789113,"display_name":"M&#225;rcio Dalfr&#233;"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1684950433,"creation_date":1684947690,"answer_id":76325880,"question_id":76325835,"body_markdown":"Check the service port of your service, maybe you are trying to connect through the wrong port. The most common port for Spring applications is 8080","title":"What could be causing &#39;connect ECONNREFUSED 127.0.0.1:9090&#39; error in Postman while testing a Java project?","body":"<p>Check the service port of your service, maybe you are trying to connect through the wrong port. The most common port for Spring applications is 8080</p>\n"}],"owner":{"account_id":28672376,"reputation":1,"user_id":21955165,"display_name":"Vaibhav Shejul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1684951289,"creation_date":1684947233,"question_id":76325835,"body_markdown":"[enter image description here](https://i.stack.imgur.com/aB16B.png)\r\n\r\n I&#39;m trying to running my project and am using a postman for testing purpose but am trying to send a request it&#39;s give me an error Error: connect ECONNREFUSED 127.0.0.1:9090. I&#39;m tried to solve this error","title":"What could be causing &#39;connect ECONNREFUSED 127.0.0.1:9090&#39; error in Postman while testing a Java project?","body":"<p><a href=\"https://i.stack.imgur.com/aB16B.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I'm trying to running my project and am using a postman for testing purpose but am trying to send a request it's give me an error Error: connect ECONNREFUSED 127.0.0.1:9090. I'm tried to solve this error</p>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":416171,"reputation":31417,"user_id":791406,"accept_rate":69,"display_name":"raffian"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1371653409,"creation_date":1371653409,"answer_id":17194417,"question_id":17194268,"body_markdown":"Use `MongoClient` for Java, all the info you need is here...\r\n\r\nhttp://docs.mongodb.org/ecosystem/tutorial/getting-started-with-java-driver/","title":"MongoDB: check connection to DB","body":"<p>Use <code>MongoClient</code> for Java, all the info you need is here...</p>\n\n<p><a href=\"http://docs.mongodb.org/ecosystem/tutorial/getting-started-with-java-driver/\" rel=\"nofollow\">http://docs.mongodb.org/ecosystem/tutorial/getting-started-with-java-driver/</a></p>\n"},{"tags":[],"owner":{"account_id":198265,"reputation":1097,"user_id":442827,"accept_rate":62,"display_name":"ninehundreds"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1371653795,"creation_date":1371653538,"answer_id":17194476,"question_id":17194268,"body_markdown":"If I understand your question correctly you want to get state returned via a web service call. You can write a function that invokes `db.serverStatus()` and have it return the data. Check out the documentation here:\r\n\r\n[Monitoring for MongoDB][1]\r\n\r\n\r\n  [1]: http://docs.mongodb.org/manual/administration/monitoring/","title":"MongoDB: check connection to DB","body":"<p>If I understand your question correctly you want to get state returned via a web service call. You can write a function that invokes <code>db.serverStatus()</code> and have it return the data. Check out the documentation here:</p>\n\n<p><a href=\"http://docs.mongodb.org/manual/administration/monitoring/\" rel=\"nofollow\">Monitoring for MongoDB</a></p>\n"},{"tags":[],"owner":{"account_id":2205706,"reputation":3110,"user_id":1964277,"accept_rate":65,"display_name":"rupweb"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1447766712,"creation_date":1447766712,"answer_id":33758102,"question_id":17194268,"body_markdown":"I use this:\r\n\r\n    Builder o = MongoClientOptions.builder().connectTimeout(3000);  \r\n    MongoClient mongo = new MongoClient(new ServerAddress(&quot;192.168.0.1&quot;, 3001), o.build());    \r\n    \r\n    try {\r\n      mongo.getAddress();\r\n    } catch (Exception e) {\r\n      System.out.println(&quot;Mongo is down&quot;);\r\n      mongo.close();\r\n      return;\r\n    }\r\n \r\n\r\n","title":"MongoDB: check connection to DB","body":"<p>I use this:</p>\n\n<pre><code>Builder o = MongoClientOptions.builder().connectTimeout(3000);  \nMongoClient mongo = new MongoClient(new ServerAddress(\"192.168.0.1\", 3001), o.build());    \n\ntry {\n  mongo.getAddress();\n} catch (Exception e) {\n  System.out.println(\"Mongo is down\");\n  mongo.close();\n  return;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3494520,"reputation":1114,"user_id":2923205,"display_name":"Md Samiul Alim Sakib"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1472826862,"creation_date":1472826862,"answer_id":39294943,"question_id":17194268,"body_markdown":"In Java MongoDriver 3.3.0 use ServerMonitorListener to determine whether server is up and connected or not.\r\nHere is the example code,\r\n\r\n    public class ServerConnection implements ServerMonitorListener {\r\n        private MongoClient client;\r\n    \r\n        public ServerConnection(){\r\n            try {\r\n                MongoClientOptions clientOptions = new MongoClientOptions.Builder()\r\n                    .addServerMonitorListener(this)\r\n                    .build();\r\n\r\n                client = new MongoClient(new ServerAddress(&quot;localhost&quot;, 27017), clientOptions);\r\n            } catch (Exception ex) {\r\n\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void serverHearbeatStarted(ServerHeartbeatStartedEvent serverHeartbeatStartedEvent) {\r\n            // Ping Started\r\n        }\r\n\r\n        @Override\r\n        public void serverHeartbeatSucceeded(ServerHeartbeatSucceededEvent serverHeartbeatSucceededEvent) {\r\n            // Ping Succeed, Connected to server\r\n        }\r\n\r\n        @Override\r\n        public void serverHeartbeatFailed(ServerHeartbeatFailedEvent serverHeartbeatFailedEvent) {\r\n            // Ping failed, server down or connection lost\r\n        }\r\n    }","title":"MongoDB: check connection to DB","body":"<p>In Java MongoDriver 3.3.0 use ServerMonitorListener to determine whether server is up and connected or not.\nHere is the example code,</p>\n\n<pre><code>public class ServerConnection implements ServerMonitorListener {\n    private MongoClient client;\n\n    public ServerConnection(){\n        try {\n            MongoClientOptions clientOptions = new MongoClientOptions.Builder()\n                .addServerMonitorListener(this)\n                .build();\n\n            client = new MongoClient(new ServerAddress(\"localhost\", 27017), clientOptions);\n        } catch (Exception ex) {\n\n        }\n    }\n\n    @Override\n    public void serverHearbeatStarted(ServerHeartbeatStartedEvent serverHeartbeatStartedEvent) {\n        // Ping Started\n    }\n\n    @Override\n    public void serverHeartbeatSucceeded(ServerHeartbeatSucceededEvent serverHeartbeatSucceededEvent) {\n        // Ping Succeed, Connected to server\n    }\n\n    @Override\n    public void serverHeartbeatFailed(ServerHeartbeatFailedEvent serverHeartbeatFailedEvent) {\n        // Ping failed, server down or connection lost\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2394954,"reputation":4617,"user_id":2093934,"accept_rate":67,"display_name":"gifpif"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1684950335,"creation_date":1479545031,"answer_id":40690891,"question_id":17194268,"body_markdown":"The [ping][1] command is a no-op used to test whether a server is responding to commands. This command will return immediately even if the server is write-locked:\r\n\r\n```java\r\ntry {\r\n\tDBObject ping = new BasicDBObject(&quot;ping&quot;, &quot;1&quot;);\r\n\tmongoTemplate.getDb().getMongo().getDB(&quot;DATABASE NAME&quot;).command(ping);\r\n} catch (Exception exp) {\r\n\t// MongoDb is down..\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/manual/reference/command/ping/","title":"MongoDB: check connection to DB","body":"<p>The <a href=\"https://www.mongodb.com/docs/manual/reference/command/ping/\" rel=\"nofollow noreferrer\">ping</a> command is a no-op used to test whether a server is responding to commands. This command will return immediately even if the server is write-locked:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    DBObject ping = new BasicDBObject(&quot;ping&quot;, &quot;1&quot;);\n    mongoTemplate.getDb().getMongo().getDB(&quot;DATABASE NAME&quot;).command(ping);\n} catch (Exception exp) {\n    // MongoDb is down..\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12268142,"reputation":589,"user_id":8954109,"display_name":"plswork04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684822252,"creation_date":1684822252,"answer_id":76311707,"question_id":17194268,"body_markdown":"Answering: How do I check that my `MongoClient` connected to my db?\r\n\r\nAs has already been pointed out, the [getting started documentation][1] uses the [ping][2] command.\r\n\r\nPackaged as a function:\r\n```java\r\n/**\r\n * Try to detect if the given MongoDatabase successfully connected to a Mongo\r\n * instance.\r\n * \r\n * Will block up to the client&#39;s socket settings timeout, e.g. 30000 ms.\r\n * \r\n * Returning true indicates that future uses of the given client will probably\r\n * succeed,\r\n * but the connection is not guaranteed as connection state may change.\r\n * \r\n * @param database\r\n * @return the present connection state\r\n */\r\nstatic boolean isConnected(MongoDatabase database) {\r\n\tBson command = new BsonDocument(&quot;ping&quot;, new BsonInt64(1));\r\n\ttry {\r\n\t\tdatabase.runCommand(command);\r\n\t} catch (MongoTimeoutException e) {\r\n\t\treturn false;\r\n\t}\r\n\treturn true;\r\n\r\n}\r\n\r\n/**\r\n * Try to detect if the given MongoClient successfully connected to a Mongodb\r\n * instance.\r\n * \r\n * Will block up to the client&#39;s socket settings timeout, e.g. 30000 ms.\r\n * \r\n * Returning true indicates that future uses of the given client will probably\r\n * succeed,\r\n * but the connection is not guaranteed as connection state may change.\r\n * \r\n * @param mongoClient\r\n * @return the present connection state\r\n */\r\nstatic boolean isConnected(MongoClient mongoClient) {\r\n\treturn isConnected(mongoClient.getDatabase(&quot;admin&quot;));\r\n}\r\n```\r\n\r\n`mongoClient.listDatabaseNames().first();` would also work, but that would just run the [listDatabases][3] command against the admin database. So manually writing the ping command is slightly better.\r\n\r\nAfter running a command, [`mongoClient.getClusterDescription()`][4] will return a meaningful result, but it does not block or wait, so calling it right after creating a MongoClient instance will not return an actionable response.\r\n\r\nIf you need more control, look at the [answer][5] using [ServerMonitorListener][6].\r\n\r\nThis answer is valid as of/for `&#39;org.mongodb:mongodb-driver-sync:4.9.1&#39;`\r\n\r\n  [1]: https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/connection/connect/\r\n  [2]: https://www.mongodb.com/docs/manual/reference/command/ping/\r\n  [3]: https://www.mongodb.com/docs/manual/reference/command/listDatabases/\r\n  [4]: https://mongodb.github.io/mongo-java-driver/4.7/apidocs/mongodb-driver-legacy/com/mongodb/MongoClient.html#getClusterDescription()\r\n  [5]: https://stackoverflow.com/a/39294943/8954109\r\n  [6]: http://mongodb.github.io/mongo-java-driver/4.7/apidocs/mongodb-driver-core/com/mongodb/event/ServerMonitorListener.html","title":"MongoDB: check connection to DB","body":"<p>Answering: How do I check that my <code>MongoClient</code> connected to my db?</p>\n<p>As has already been pointed out, the <a href=\"https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/connection/connect/\" rel=\"nofollow noreferrer\">getting started documentation</a> uses the <a href=\"https://www.mongodb.com/docs/manual/reference/command/ping/\" rel=\"nofollow noreferrer\">ping</a> command.</p>\n<p>Packaged as a function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Try to detect if the given MongoDatabase successfully connected to a Mongo\n * instance.\n * \n * Will block up to the client's socket settings timeout, e.g. 30000 ms.\n * \n * Returning true indicates that future uses of the given client will probably\n * succeed,\n * but the connection is not guaranteed as connection state may change.\n * \n * @param database\n * @return the present connection state\n */\nstatic boolean isConnected(MongoDatabase database) {\n    Bson command = new BsonDocument(&quot;ping&quot;, new BsonInt64(1));\n    try {\n        database.runCommand(command);\n    } catch (MongoTimeoutException e) {\n        return false;\n    }\n    return true;\n\n}\n\n/**\n * Try to detect if the given MongoClient successfully connected to a Mongodb\n * instance.\n * \n * Will block up to the client's socket settings timeout, e.g. 30000 ms.\n * \n * Returning true indicates that future uses of the given client will probably\n * succeed,\n * but the connection is not guaranteed as connection state may change.\n * \n * @param mongoClient\n * @return the present connection state\n */\nstatic boolean isConnected(MongoClient mongoClient) {\n    return isConnected(mongoClient.getDatabase(&quot;admin&quot;));\n}\n</code></pre>\n<p><code>mongoClient.listDatabaseNames().first();</code> would also work, but that would just run the <a href=\"https://www.mongodb.com/docs/manual/reference/command/listDatabases/\" rel=\"nofollow noreferrer\">listDatabases</a> command against the admin database. So manually writing the ping command is slightly better.</p>\n<p>After running a command, <a href=\"https://mongodb.github.io/mongo-java-driver/4.7/apidocs/mongodb-driver-legacy/com/mongodb/MongoClient.html#getClusterDescription()\" rel=\"nofollow noreferrer\"><code>mongoClient.getClusterDescription()</code></a> will return a meaningful result, but it does not block or wait, so calling it right after creating a MongoClient instance will not return an actionable response.</p>\n<p>If you need more control, look at the <a href=\"https://stackoverflow.com/a/39294943/8954109\">answer</a> using <a href=\"http://mongodb.github.io/mongo-java-driver/4.7/apidocs/mongodb-driver-core/com/mongodb/event/ServerMonitorListener.html\" rel=\"nofollow noreferrer\">ServerMonitorListener</a>.</p>\n<p>This answer is valid as of/for <code>'org.mongodb:mongodb-driver-sync:4.9.1'</code></p>\n"}],"owner":{"account_id":2750665,"reputation":1430,"user_id":2370136,"accept_rate":81,"display_name":"Lugaru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39196,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":33758102,"answer_count":6,"score":10,"last_activity_date":1684950335,"creation_date":1371653011,"question_id":17194268,"body_markdown":"I&#39;m looking for best way to check connection to Mongo DB.\r\nSituation: client makes request (api) to server. And server returns status of all databases.\r\n\r\nWhat the best way to do it?","title":"MongoDB: check connection to DB","body":"<p>I'm looking for best way to check connection to Mongo DB.\nSituation: client makes request (api) to server. And server returns status of all databases.</p>\n\n<p>What the best way to do it?</p>\n"},{"tags":["java","android","permissions","overlay","homescreen"],"owner":{"account_id":16912551,"reputation":11,"user_id":21955376,"display_name":"K Rachel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684949886,"creation_date":1684949886,"question_id":76326126,"body_markdown":"I want to display the permission dialog without going back to my Activity [[enter image description here](https://i.stack.imgur.com/77LlG.jpg)](https://i.stack.imgur.com/iF5eT.jpg)\r\n\r\nI tried asking AI but it said that I cannot display it I develop an app that captures screenshot\r\n\r\n\r\nhere&#39;s the permission code\r\n\r\n\r\n```\r\n\r\n\r\npublic void requestRecordingPermission() {\r\n\r\n        new Thread(new Runnable() {\r\n\r\n            @Override\r\n\r\n            public void run() {\r\n\r\n                mediaProjectionManager = (MediaProjectionManager) getSystemService(Context.MEDIA_PROJECTION_SERVICE);\r\n\r\n                Intent screenShot = mediaProjectionManager.createScreenCaptureIntent();\r\n\r\n                startActivityForResult(screenShot, 30);\r\n\r\n              \r\n\r\n            }\r\n\r\n        }).start();\r\n\r\n    }\r\n\r\n\r\n```\r\n\r\nhere&#39;s my Activity result\r\n\r\n`\r\n\r\n        if (requestCode == 30 &amp;&amp; resultCode == RESULT_OK) {\r\n\r\n            mediaProjection = mediaProjectionManager.getMediaProjection(resultCode, data);\r\n\r\n        }`\r\n","title":"How to display permission dialog without going back to app","body":"<p>I want to display the permission dialog without going back to my Activity [<a href=\"https://i.stack.imgur.com/77LlG.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/iF5eT.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/iF5eT.jpg</a>)</p>\n<p>I tried asking AI but it said that I cannot display it I develop an app that captures screenshot</p>\n<p>here's the permission code</p>\n<pre><code>\n\npublic void requestRecordingPermission() {\n\n        new Thread(new Runnable() {\n\n            @Override\n\n            public void run() {\n\n                mediaProjectionManager = (MediaProjectionManager) getSystemService(Context.MEDIA_PROJECTION_SERVICE);\n\n                Intent screenShot = mediaProjectionManager.createScreenCaptureIntent();\n\n                startActivityForResult(screenShot, 30);\n\n              \n\n            }\n\n        }).start();\n\n    }\n\n\n</code></pre>\n<p>here's my Activity result</p>\n<p>`</p>\n<pre><code>    if (requestCode == 30 &amp;&amp; resultCode == RESULT_OK) {\n\n        mediaProjection = mediaProjectionManager.getMediaProjection(resultCode, data);\n\n    }`\n</code></pre>\n"},{"tags":["java","if-statement","boolean"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1684859497,"post_id":76316864,"comment_id":134577770,"body_markdown":"Does this answer your question? [String.equals() with multiple conditions (and one action on result)](https://stackoverflow.com/questions/10208052/string-equals-with-multiple-conditions-and-one-action-on-result)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10208052/string-equals-with-multiple-conditions-and-one-action-on-result\">String.equals() with multiple conditions (and one action on result)</a>"}],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684859391,"creation_date":1684859391,"answer_id":76316892,"question_id":76316864,"body_markdown":"In java you can not use `&#39;||&#39;` directly inside parentheses to compare.\r\nyou can do it only this way.\r\n\r\n    if (!(pProvince.equals(&quot;Alberta&quot;) || pProvince.equals(&quot;British Columbia&quot;) || pProvince.equals(&quot;Manitoba&quot;) || pProvince.equals(&quot;New Brunswick&quot;) || pProvince.equals(&quot;Newfoundland And Labrador&quot;) || pProvince.equals(&quot;Nova Scotia&quot;) || pProvince.equals(&quot;Ontario&quot;) || pProvince.equals(&quot;Prince Edward Island&quot;) || pProvince.equals(&quot;Quebec&quot;) || pProvince.equals(&quot;Saskatchewan&quot;) || pProvince.equals(&quot;Northern Territories&quot;) || pProvince.equals(&quot;Nunavut&quot;) || pProvince.equals(&quot;Yukon&quot;))) {\r\n        // do stuff\r\n    } else {\r\n        // do other stuff\r\n    }\r\n\r\nwhich is not readable. I suggest you create a List of strings and then check if value contains like:\r\n\r\n    List&lt;String&gt; provinces = Arrays.asList(\r\n        &quot;Alberta&quot;, &quot;British Columbia&quot;, &quot;Manitoba&quot;, &quot;New Brunswick&quot;, &quot;Newfoundland And Labrador&quot;,\r\n        &quot;Nova Scotia&quot;, &quot;Ontario&quot;, &quot;Prince Edward Island&quot;, &quot;Quebec&quot;, &quot;Saskatchewan&quot;,\r\n        &quot;Northern Territories&quot;, &quot;Nunavut&quot;, &quot;Yukon&quot;\r\n    );\r\n    \r\n    if (!provinces.contains(pProvince)) {\r\n        // do stuff\r\n    } else {\r\n        // do other stuff\r\n    }\r\n\r\n","title":"How to make if statement true if variable doesn&#39;t match a list of values in Java?","body":"<p>In java you can not use <code>'||'</code> directly inside parentheses to compare.\nyou can do it only this way.</p>\n<pre><code>if (!(pProvince.equals(&quot;Alberta&quot;) || pProvince.equals(&quot;British Columbia&quot;) || pProvince.equals(&quot;Manitoba&quot;) || pProvince.equals(&quot;New Brunswick&quot;) || pProvince.equals(&quot;Newfoundland And Labrador&quot;) || pProvince.equals(&quot;Nova Scotia&quot;) || pProvince.equals(&quot;Ontario&quot;) || pProvince.equals(&quot;Prince Edward Island&quot;) || pProvince.equals(&quot;Quebec&quot;) || pProvince.equals(&quot;Saskatchewan&quot;) || pProvince.equals(&quot;Northern Territories&quot;) || pProvince.equals(&quot;Nunavut&quot;) || pProvince.equals(&quot;Yukon&quot;))) {\n    // do stuff\n} else {\n    // do other stuff\n}\n</code></pre>\n<p>which is not readable. I suggest you create a List of strings and then check if value contains like:</p>\n<pre><code>List&lt;String&gt; provinces = Arrays.asList(\n    &quot;Alberta&quot;, &quot;British Columbia&quot;, &quot;Manitoba&quot;, &quot;New Brunswick&quot;, &quot;Newfoundland And Labrador&quot;,\n    &quot;Nova Scotia&quot;, &quot;Ontario&quot;, &quot;Prince Edward Island&quot;, &quot;Quebec&quot;, &quot;Saskatchewan&quot;,\n    &quot;Northern Territories&quot;, &quot;Nunavut&quot;, &quot;Yukon&quot;\n);\n\nif (!provinces.contains(pProvince)) {\n    // do stuff\n} else {\n    // do other stuff\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684860278,"creation_date":1684859458,"answer_id":76316901,"question_id":76316864,"body_markdown":"Instead of this, use collection. Declare Set&lt;String&gt; and then add all these values to it. Use set.contains for comparison\r\n```\r\n\r\nSet&lt;String&gt; provinces=new HashSet&lt;&gt;();\r\n\r\nprovinces.add(&quot;Alberta&quot;);\r\nprovinces.add(&quot;British Columbia&quot;);\r\n\r\nif(provinces.contains(pProvince)) {\r\n//Matched\r\n}\r\n```\r\n\r\nThis solution will give you result in O(1) ","title":"How to make if statement true if variable doesn&#39;t match a list of values in Java?","body":"<p>Instead of this, use collection. Declare Set and then add all these values to it. Use set.contains for comparison</p>\n<pre><code>\nSet&lt;String&gt; provinces=new HashSet&lt;&gt;();\n\nprovinces.add(&quot;Alberta&quot;);\nprovinces.add(&quot;British Columbia&quot;);\n\nif(provinces.contains(pProvince)) {\n//Matched\n}\n</code></pre>\n<p>This solution will give you result in O(1)</p>\n"},{"tags":[],"owner":{"account_id":28659336,"reputation":1,"user_id":21944576,"display_name":"Mand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684949789,"creation_date":1684859871,"answer_id":76316952,"question_id":76316864,"body_markdown":"You could try: \r\n`pProvince.equals(&quot;Alberta&quot;)` then you get a `true` or `false` as result, but its only for one. You can use a string array for all the names and you can check all the names step by step with a &quot;for next loop&quot;","title":"How to make if statement true if variable doesn&#39;t match a list of values in Java?","body":"<p>You could try:\n<code>pProvince.equals(&quot;Alberta&quot;)</code> then you get a <code>true</code> or <code>false</code> as result, but its only for one. You can use a string array for all the names and you can check all the names step by step with a &quot;for next loop&quot;</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684915236,"creation_date":1684860178,"answer_id":76316996,"question_id":76316864,"body_markdown":"&gt; don&#39;t be afraid to lecture me on how to use boolean operators properly \r\n\r\n\\&lt;cracks knuckles\\&gt;\r\n\r\nThe most basic thing to know is that boolean operators take **boolean operands** (an operand is an argument you pass to an operator).\r\n\r\nSo, in `!A`, the operand `A` has to be something whose type is `boolean` (or `Boolean`); and in `A || B`, both operands `A` and `B` have to be things whose type is `boolean` (or `Boolean`).\r\n\r\nIn `&quot;Alberta&quot; || &quot;BC&quot;`, you&#39;re trying to give the `||` boolean operator _string_ operands. This is what it&#39;s complaining about.\r\n\r\nYou need to create a boolean expressions based on the string, e.g. \r\n\r\n```\r\npProvince.equals(&quot;Alberta&quot;)  // this is either true or false.\r\n```\r\n\r\nor\r\n\r\n```\r\npProvince.equals(&quot;BC&quot;)  // again, either true or false.\r\n```\r\n\r\nand _then_ combine those that with a boolean operator, e.g.\r\n\r\n    pProvince.equals(&quot;BC&quot;) || pProvince.equals(&quot;Alberta&quot;)  // still either true or false\r\n\r\nand _then_, if you want, use other binary operators such as `!`, e.g.\r\n\r\n    !(pProvince.equals(&quot;BC&quot;) || pProvince.equals(&quot;Alberta&quot;))  // even now! either true or false\r\n\r\n---\r\n\r\nHowever, there are other, better ways of checking a string against multiple strings.\r\n\r\nIn this case, I would create a set of strings:\r\n\r\n```\r\nSet&lt;String&gt; provinces = Set.of(&quot;Alberta&quot;, &quot;BC&quot;);\r\n```\r\n\r\nand then check using `provinces.contains(pProvince)`. Actually, you could use any kind of `Collection` instead of a `Set`, e.g. a `List`. However, `Set` is the most appropriate if all you&#39;re doing is invoking `contains`, because that can be done more efficiently for implementations of `Set` such as a `HashSet` (O(1) time) or `TreeSet` (O(log N) time).\r\n\r\nAnother way could be to use a `switch` statement:\r\n\r\n```\r\nswitch (pProvince) {\r\n  case &quot;Alberta&quot;:\r\n  case &quot;BC&quot;:\r\n  // ... other provinces\r\n    //do other stuff\r\n    break;\r\n\r\n  default:\r\n    //do stuff\r\n}\r\n```\r\n\r\nAnother option could be to use regular expressions.","title":"How to make if statement true if variable doesn&#39;t match a list of values in Java?","body":"<blockquote>\n<p>don't be afraid to lecture me on how to use boolean operators properly</p>\n</blockquote>\n<p>&lt;cracks knuckles&gt;</p>\n<p>The most basic thing to know is that boolean operators take <strong>boolean operands</strong> (an operand is an argument you pass to an operator).</p>\n<p>So, in <code>!A</code>, the operand <code>A</code> has to be something whose type is <code>boolean</code> (or <code>Boolean</code>); and in <code>A || B</code>, both operands <code>A</code> and <code>B</code> have to be things whose type is <code>boolean</code> (or <code>Boolean</code>).</p>\n<p>In <code>&quot;Alberta&quot; || &quot;BC&quot;</code>, you're trying to give the <code>||</code> boolean operator <em>string</em> operands. This is what it's complaining about.</p>\n<p>You need to create a boolean expressions based on the string, e.g.</p>\n<pre><code>pProvince.equals(&quot;Alberta&quot;)  // this is either true or false.\n</code></pre>\n<p>or</p>\n<pre><code>pProvince.equals(&quot;BC&quot;)  // again, either true or false.\n</code></pre>\n<p>and <em>then</em> combine those that with a boolean operator, e.g.</p>\n<pre><code>pProvince.equals(&quot;BC&quot;) || pProvince.equals(&quot;Alberta&quot;)  // still either true or false\n</code></pre>\n<p>and <em>then</em>, if you want, use other binary operators such as <code>!</code>, e.g.</p>\n<pre><code>!(pProvince.equals(&quot;BC&quot;) || pProvince.equals(&quot;Alberta&quot;))  // even now! either true or false\n</code></pre>\n<hr />\n<p>However, there are other, better ways of checking a string against multiple strings.</p>\n<p>In this case, I would create a set of strings:</p>\n<pre><code>Set&lt;String&gt; provinces = Set.of(&quot;Alberta&quot;, &quot;BC&quot;);\n</code></pre>\n<p>and then check using <code>provinces.contains(pProvince)</code>. Actually, you could use any kind of <code>Collection</code> instead of a <code>Set</code>, e.g. a <code>List</code>. However, <code>Set</code> is the most appropriate if all you're doing is invoking <code>contains</code>, because that can be done more efficiently for implementations of <code>Set</code> such as a <code>HashSet</code> (O(1) time) or <code>TreeSet</code> (O(log N) time).</p>\n<p>Another way could be to use a <code>switch</code> statement:</p>\n<pre><code>switch (pProvince) {\n  case &quot;Alberta&quot;:\n  case &quot;BC&quot;:\n  // ... other provinces\n    //do other stuff\n    break;\n\n  default:\n    //do stuff\n}\n</code></pre>\n<p>Another option could be to use regular expressions.</p>\n"},{"tags":[],"owner":{"account_id":27617116,"reputation":1,"user_id":21078954,"display_name":"manisha l"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1684860360,"creation_date":1684860360,"answer_id":76317017,"question_id":76316864,"body_markdown":"The error message you&#39;re seeing suggests that the operands used with the &#39;**||**&#39; (logical OR) operator in your if statement are not valid. In Java, the &#39;**||**&#39; operator expects Boolean values (**true** or **false**) as operands, rather than strings. To perform string matching in an if statement, you can use the &#39;**==**&#39; operator with brackets &#39;**( ... )**&#39; and the &#39;**=**&#39; operator for pattern matching. Here&#39;s an example of how you can check if a variable exactly matches any of the specified strings:\r\n\r\n**Code:**\r\n\r\nvariable=&quot;example&quot;\r\n\r\n    if ( variable == &quot;string1&quot; || variable == &quot;string2&quot; || variable == &quot;string3&quot; ){ \r\n      //do stuff\r\n    }else{\r\n      //do stuff}\r\n\r\nReplace &quot;**string1**&quot;, &quot;**string2**&quot;, and &quot;**string3**&quot; with the strings you want to match against your variable.\r\n\r\n","title":"How to make if statement true if variable doesn&#39;t match a list of values in Java?","body":"<p>The error message you're seeing suggests that the operands used with the '<strong>||</strong>' (logical OR) operator in your if statement are not valid. In Java, the '<strong>||</strong>' operator expects Boolean values (<strong>true</strong> or <strong>false</strong>) as operands, rather than strings. To perform string matching in an if statement, you can use the '<strong>==</strong>' operator with brackets '<strong>( ... )</strong>' and the '<strong>=</strong>' operator for pattern matching. Here's an example of how you can check if a variable exactly matches any of the specified strings:</p>\n<p><strong>Code:</strong></p>\n<p>variable=&quot;example&quot;</p>\n<pre><code>if ( variable == &quot;string1&quot; || variable == &quot;string2&quot; || variable == &quot;string3&quot; ){ \n  //do stuff\n}else{\n  //do stuff}\n</code></pre>\n<p>Replace &quot;<strong>string1</strong>&quot;, &quot;<strong>string2</strong>&quot;, and &quot;<strong>string3</strong>&quot; with the strings you want to match against your variable.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684867742,"creation_date":1684867742,"answer_id":76317808,"question_id":76316864,"body_markdown":"In Java, to compare `String` values, use the `String.equals` method.\r\n\r\n```java\r\nboolean value = pProvince.equals(&quot;Alberta&quot;);\r\n```\r\n\r\nSince you&#39;re looking to match a set of values, there are a few approaches for this.\r\n\r\nYou can create a method which will return a boolean if the argument matches a set of values within an array.\r\n\r\n```java\r\nboolean matches(String string) {\r\n    String[] strings = {\r\n        &quot;Alberta&quot;, &quot;British Columbia&quot;, &quot;Manitoba&quot;, &quot;New Brunswick&quot;,\r\n        &quot;Newfoundland And Labrador&quot;, &quot;Nova Scotia&quot;, &quot;Ontario&quot;,\r\n        &quot;Prince Edward Island&quot;, &quot;Quebec&quot;, &quot;Saskatchewan&quot;,\r\n        &quot;Northern Territories&quot;, &quot;Nunavut&quot;, &quot;Yukon&quot;\r\n    };\r\n    for (String value : strings) \r\n        if (value.equals(string)) return true;\r\n    return false;\r\n}\r\n```\r\n\r\nAnother approach, if you&#39;re familiar with regular expressions, is the `String.matches` method, which takes a regular expression pattern as the parameter.\r\n\r\n```java\r\nboolean matches(String string) {\r\n    String regex = \r\n        &quot;Alberta|British Columbia|Manitoba|New Brunswick|&quot; +\r\n        &quot;Newfoundland And Labrador|Nova Scotia|Ontario|&quot; +\r\n        &quot;Prince Edward Island|Quebec|Saskatchewan|&quot; +\r\n        &quot;Northern Territories|Nunavut|Yukon&quot;;\r\n    return string.matches(regex);\r\n}\r\n```","title":"How to make if statement true if variable doesn&#39;t match a list of values in Java?","body":"<p>In Java, to compare <code>String</code> values, use the <code>String.equals</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean value = pProvince.equals(&quot;Alberta&quot;);\n</code></pre>\n<p>Since you're looking to match a set of values, there are a few approaches for this.</p>\n<p>You can create a method which will return a boolean if the argument matches a set of values within an array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean matches(String string) {\n    String[] strings = {\n        &quot;Alberta&quot;, &quot;British Columbia&quot;, &quot;Manitoba&quot;, &quot;New Brunswick&quot;,\n        &quot;Newfoundland And Labrador&quot;, &quot;Nova Scotia&quot;, &quot;Ontario&quot;,\n        &quot;Prince Edward Island&quot;, &quot;Quebec&quot;, &quot;Saskatchewan&quot;,\n        &quot;Northern Territories&quot;, &quot;Nunavut&quot;, &quot;Yukon&quot;\n    };\n    for (String value : strings) \n        if (value.equals(string)) return true;\n    return false;\n}\n</code></pre>\n<p>Another approach, if you're familiar with regular expressions, is the <code>String.matches</code> method, which takes a regular expression pattern as the parameter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean matches(String string) {\n    String regex = \n        &quot;Alberta|British Columbia|Manitoba|New Brunswick|&quot; +\n        &quot;Newfoundland And Labrador|Nova Scotia|Ontario|&quot; +\n        &quot;Prince Edward Island|Quebec|Saskatchewan|&quot; +\n        &quot;Northern Territories|Nunavut|Yukon&quot;;\n    return string.matches(regex);\n}\n</code></pre>\n"}],"owner":{"account_id":28429587,"reputation":1,"user_id":21750423,"display_name":"MilliwaysBartender"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1684949789,"creation_date":1684859131,"question_id":76316864,"body_markdown":"I&#39;m trying to create a boolean condition for an if statement where it&#39;s true if the variable exactly matches any of the following strings, but I keep getting this error:\r\n\r\n`error: bad operand types for binary operator &#39;||&#39;`\r\n\r\nMy code at the moment is:\r\n\r\n```\r\nif(pProvince != (&quot;Alberta&quot;||&quot;British Columbia&quot;||&quot;Manitoba&quot;||&quot;New Brunswick&quot;||&quot;Newfoundland And Labrador&quot;||&quot;Nova Scotia&quot;||&quot;Ontario&quot;||&quot;Prince Edward Island&quot;||&quot;Quebec&quot;||&quot;Saskatchewan&quot;||&quot;Northern Territories&quot;||&quot;Nunavut&quot;||&quot;Yukon&quot;)){\r\n    //do stuff\r\n}else{\r\n    //do other stuff\r\n}\r\n```\r\n\r\nAny suggestions? I&#39;m fairly new to java programming so don&#39;t be afraid to lecture me on how to use boolean operators properly.","title":"How to make if statement true if variable doesn&#39;t match a list of values in Java?","body":"<p>I'm trying to create a boolean condition for an if statement where it's true if the variable exactly matches any of the following strings, but I keep getting this error:</p>\n<p><code>error: bad operand types for binary operator '||'</code></p>\n<p>My code at the moment is:</p>\n<pre><code>if(pProvince != (&quot;Alberta&quot;||&quot;British Columbia&quot;||&quot;Manitoba&quot;||&quot;New Brunswick&quot;||&quot;Newfoundland And Labrador&quot;||&quot;Nova Scotia&quot;||&quot;Ontario&quot;||&quot;Prince Edward Island&quot;||&quot;Quebec&quot;||&quot;Saskatchewan&quot;||&quot;Northern Territories&quot;||&quot;Nunavut&quot;||&quot;Yukon&quot;)){\n    //do stuff\n}else{\n    //do other stuff\n}\n</code></pre>\n<p>Any suggestions? I'm fairly new to java programming so don't be afraid to lecture me on how to use boolean operators properly.</p>\n"},{"tags":["java","selenium-webdriver","testing"],"comments":[{"owner":{"account_id":4944314,"reputation":149,"user_id":3980164,"display_name":"Slev Florin"},"score":0,"creation_date":1627403875,"post_id":12967541,"comment_id":121145415,"body_markdown":"I recommend using this library, which solves the intermittent StaleElementReference exception and brings some enhancements to Selenium page Object model and Page Factory features:\nhttps://github.com/fslev/selenium-jutils#retry-on-error","body":"I recommend using this library, which solves the intermittent StaleElementReference exception and brings some enhancements to Selenium page Object model and Page Factory features: <a href=\"https://github.com/fslev/selenium-jutils#retry-on-error\" rel=\"nofollow noreferrer\">github.com/fslev/selenium-jutils#retry-on-error</a>"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":1,"creation_date":1633899588,"post_id":12967541,"comment_id":122877095,"body_markdown":"@SlevFlorin That library uses `PageFactory` which the Selenium creator that wrote it said not to use.","body":"@SlevFlorin That library uses <code>PageFactory</code> which the Selenium creator that wrote it said not to use."},{"owner":{"account_id":10300389,"reputation":386,"user_id":7599292,"display_name":"3r1c"},"score":0,"creation_date":1654091843,"post_id":12967541,"comment_id":128009468,"body_markdown":"In c# there is a method called StalenessOf(IWebElement element) inside the ExpectedConditions class which can be used. Don&#39;t know if the class also implements the method in java","body":"In c# there is a method called StalenessOf(IWebElement element) inside the ExpectedConditions class which can be used. Don&#39;t know if the class also implements the method in java"},{"owner":{"account_id":4944314,"reputation":149,"user_id":3980164,"display_name":"Slev Florin"},"score":0,"creation_date":1665686909,"post_id":12967541,"comment_id":130763371,"body_markdown":"@JeffC could you please provide more details about where and why creator said not to use it ? Some doc link ? The official doc is here: https://github.com/SeleniumHQ/selenium/wiki/PageFactory and there is no note refering to what you said","body":"@JeffC could you please provide more details about where and why creator said not to use it ? Some doc link ? The official doc is here: <a href=\"https://github.com/SeleniumHQ/selenium/wiki/PageFactory\" rel=\"nofollow noreferrer\">github.com/SeleniumHQ/selenium/wiki/PageFactory</a> and there is no note refering to what you said"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1665756441,"post_id":12967541,"comment_id":130779079,"body_markdown":"@SlevFlorin This is a video of Simon Stewart, the creator of WebDriver, Selenium Project lead, and creator of PageFactory at seleniumconf a few years ago stating not to use PageFactory. https://youtu.be/gyfUpOysIF8?t=1518. I started the section a little early to give context but at 27:27 he specifically states, &quot;Don&#39;t use page factory.&quot;","body":"@SlevFlorin This is a video of Simon Stewart, the creator of WebDriver, Selenium Project lead, and creator of PageFactory at seleniumconf a few years ago stating not to use PageFactory. <a href=\"https://youtu.be/gyfUpOysIF8?t=1518\" rel=\"nofollow noreferrer\">youtu.be/gyfUpOysIF8?t=1518</a>. I started the section a little early to give context but at 27:27 he specifically states, &quot;Don&#39;t use page factory.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":84127,"reputation":51105,"user_id":235354,"display_name":"jspcal"},"down_vote_count":3,"up_vote_count":126,"is_accepted":true,"score":123,"last_activity_date":1519335992,"creation_date":1350622479,"answer_id":12967602,"question_id":12967541,"body_markdown":"This can happen if a DOM operation happening on the page is temporarily causing the element to be inaccessible. To allow for those cases, you can try to access the element several times in a loop before finally throwing an exception.\r\n\r\nTry [this excellent solution from darrelgrainger.blogspot.com](http://darrellgrainger.blogspot.com/2012/06/staleelementexception.html):\r\n\r\n    public boolean retryingFindClick(By by) {\r\n        boolean result = false;\r\n        int attempts = 0;\r\n        while(attempts &lt; 2) {\r\n            try {\r\n                driver.findElement(by).click();\r\n                result = true;\r\n                break;\r\n            } catch(StaleElementException e) {\r\n            }\r\n            attempts++;\r\n        }\r\n        return result;\r\n    }\r\n\r\n","title":"How to avoid &quot;StaleElementReferenceException&quot; in Selenium?","body":"<p>This can happen if a DOM operation happening on the page is temporarily causing the element to be inaccessible. To allow for those cases, you can try to access the element several times in a loop before finally throwing an exception.</p>\n\n<p>Try <a href=\"http://darrellgrainger.blogspot.com/2012/06/staleelementexception.html\" rel=\"noreferrer\">this excellent solution from darrelgrainger.blogspot.com</a>:</p>\n\n<pre><code>public boolean retryingFindClick(By by) {\n    boolean result = false;\n    int attempts = 0;\n    while(attempts &lt; 2) {\n        try {\n            driver.findElement(by).click();\n            result = true;\n            break;\n        } catch(StaleElementException e) {\n        }\n        attempts++;\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":946044,"reputation":1680,"user_id":973298,"display_name":"Jim Holmes"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1350678594,"creation_date":1350678594,"answer_id":12982001,"question_id":12967541,"body_markdown":"Generally this is due to the DOM being updated and you trying to access an updated/new element -- but the DOM&#39;s refreshed so it&#39;s an invalid reference you have..\r\n\r\nGet around this by first using an explicit wait on the element to ensure the update is complete, then grab a fresh reference to the element again.\r\n\r\nHere&#39;s some psuedo code to illustrate (Adapted from some C# code I use for **EXACTLY** this issue):\r\n\r\n    WebDriverWait wait = new WebDriverWait(browser, TimeSpan.FromSeconds(10));\r\n    IWebElement aRow = browser.FindElement(By.XPath(SOME XPATH HERE);\r\n    IWebElement editLink = aRow.FindElement(By.LinkText(&quot;Edit&quot;));\r\n    \r\n    //this Click causes an AJAX call\r\n    editLink.Click();\r\n    \r\n    //must first wait for the call to complete\r\n    wait.Until(ExpectedConditions.ElementExists(By.XPath(SOME XPATH HERE));\r\n    \r\n    //you&#39;ve lost the reference to the row; you must grab it again.\r\n    aRow = browser.FindElement(By.XPath(SOME XPATH HERE);\r\n    \r\n    //now proceed with asserts or other actions.\r\n\r\n\r\nHope this helps!","title":"How to avoid &quot;StaleElementReferenceException&quot; in Selenium?","body":"<p>Generally this is due to the DOM being updated and you trying to access an updated/new element -- but the DOM's refreshed so it's an invalid reference you have..</p>\n\n<p>Get around this by first using an explicit wait on the element to ensure the update is complete, then grab a fresh reference to the element again.</p>\n\n<p>Here's some psuedo code to illustrate (Adapted from some C# code I use for <strong>EXACTLY</strong> this issue):</p>\n\n<pre><code>WebDriverWait wait = new WebDriverWait(browser, TimeSpan.FromSeconds(10));\nIWebElement aRow = browser.FindElement(By.XPath(SOME XPATH HERE);\nIWebElement editLink = aRow.FindElement(By.LinkText(\"Edit\"));\n\n//this Click causes an AJAX call\neditLink.Click();\n\n//must first wait for the call to complete\nwait.Until(ExpectedConditions.ElementExists(By.XPath(SOME XPATH HERE));\n\n//you've lost the reference to the row; you must grab it again.\naRow = browser.FindElement(By.XPath(SOME XPATH HERE);\n\n//now proceed with asserts or other actions.\n</code></pre>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":16140,"reputation":1292,"user_id":34859,"accept_rate":86,"display_name":"Kenny"},"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1408872864,"creation_date":1408872864,"answer_id":25470347,"question_id":12967541,"body_markdown":"I was having this issue intermittently. Unbeknownst to me, BackboneJS was running on the page and replacing the element I was trying to click. My code looked like this.\r\n\r\n    driver.findElement(By.id(&quot;checkoutLink&quot;)).click();\r\n\r\nWhich is of course functionally the same as this.\r\n\r\n    WebElement checkoutLink = driver.findElement(By.id(&quot;checkoutLink&quot;));\r\n    checkoutLink.click();\r\n\r\nWhat would occasionally happen was the javascript would replace the checkoutLink element in between finding and clicking it, ie.\r\n\r\n    WebElement checkoutLink = driver.findElement(By.id(&quot;checkoutLink&quot;));\r\n    // javascript replaces checkoutLink\r\n    checkoutLink.click();\r\n\r\nWhich rightfully led to a StaleElementReferenceException when trying to click the link. I couldn&#39;t find any reliable way to tell WebDriver to wait until the javascript had finished running, so here&#39;s how I eventually solved it.\r\n\r\n    new WebDriverWait(driver, timeout)\r\n        .ignoring(StaleElementReferenceException.class)\r\n        .until(new Predicate&lt;WebDriver&gt;() {\r\n            @Override\r\n            public boolean apply(@Nullable WebDriver driver) {\r\n                driver.findElement(By.id(&quot;checkoutLink&quot;)).click();\r\n                return true;\r\n            }\r\n        });\r\n\r\nThis code will continually try to click the link, ignoring StaleElementReferenceExceptions until either the click succeeds or the timeout is reached. I like this solution because it saves you having to write any retry logic, and uses only the built-in constructs of WebDriver.","title":"How to avoid &quot;StaleElementReferenceException&quot; in Selenium?","body":"<p>I was having this issue intermittently. Unbeknownst to me, BackboneJS was running on the page and replacing the element I was trying to click. My code looked like this.</p>\n\n<pre><code>driver.findElement(By.id(\"checkoutLink\")).click();\n</code></pre>\n\n<p>Which is of course functionally the same as this.</p>\n\n<pre><code>WebElement checkoutLink = driver.findElement(By.id(\"checkoutLink\"));\ncheckoutLink.click();\n</code></pre>\n\n<p>What would occasionally happen was the javascript would replace the checkoutLink element in between finding and clicking it, ie.</p>\n\n<pre><code>WebElement checkoutLink = driver.findElement(By.id(\"checkoutLink\"));\n// javascript replaces checkoutLink\ncheckoutLink.click();\n</code></pre>\n\n<p>Which rightfully led to a StaleElementReferenceException when trying to click the link. I couldn't find any reliable way to tell WebDriver to wait until the javascript had finished running, so here's how I eventually solved it.</p>\n\n<pre><code>new WebDriverWait(driver, timeout)\n    .ignoring(StaleElementReferenceException.class)\n    .until(new Predicate&lt;WebDriver&gt;() {\n        @Override\n        public boolean apply(@Nullable WebDriver driver) {\n            driver.findElement(By.id(\"checkoutLink\")).click();\n            return true;\n        }\n    });\n</code></pre>\n\n<p>This code will continually try to click the link, ignoring StaleElementReferenceExceptions until either the click succeeds or the timeout is reached. I like this solution because it saves you having to write any retry logic, and uses only the built-in constructs of WebDriver.</p>\n"},{"tags":[],"owner":{"account_id":7120614,"reputation":5,"user_id":5445381,"display_name":"lockedan"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1454077727,"creation_date":1444829841,"answer_id":33126897,"question_id":12967541,"body_markdown":"Maybe it was added more recently, but other answers fail to mention Selenium&#39;s implicit wait feature, which does all the above for you, and is built into Selenium.\r\n\r\n`driver.manage().timeouts().implicitlyWait(10,TimeUnit.SECONDS);`\r\n\r\nThis will retry `findElement()` calls until the element has been found, or for 10 seconds.\r\n\r\nSource - http://www.seleniumhq.org/docs/04_webdriver_advanced.jsp","title":"How to avoid &quot;StaleElementReferenceException&quot; in Selenium?","body":"<p>Maybe it was added more recently, but other answers fail to mention Selenium's implicit wait feature, which does all the above for you, and is built into Selenium.</p>\n\n<p><code>driver.manage().timeouts().implicitlyWait(10,TimeUnit.SECONDS);</code></p>\n\n<p>This will retry <code>findElement()</code> calls until the element has been found, or for 10 seconds.</p>\n\n<p>Source - <a href=\"http://www.seleniumhq.org/docs/04_webdriver_advanced.jsp\" rel=\"nofollow\">http://www.seleniumhq.org/docs/04_webdriver_advanced.jsp</a></p>\n"},{"tags":[],"owner":{"account_id":6969149,"reputation":5128,"user_id":5346096,"display_name":"George Kargakis"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1455620460,"creation_date":1455619693,"answer_id":35430470,"question_id":12967541,"body_markdown":"A solution in C# would be:\r\n\r\nHelper class:\r\n\r\n&lt;!-- language: c# --&gt;\r\n\r\n    internal class DriverHelper\r\n    {\r\n\r\n        private IWebDriver Driver { get; set; }\r\n        private WebDriverWait Wait { get; set; }\r\n\r\n        public DriverHelper(string driverUrl, int timeoutInSeconds)\r\n        {\r\n            Driver = new ChromeDriver();\r\n            Driver.Url = driverUrl;\r\n            Wait = new WebDriverWait(Driver, TimeSpan.FromSeconds(timeoutInSeconds));\r\n        }\r\n\r\n        internal bool ClickElement(string cssSelector)\r\n        {\r\n            //Find the element\r\n            IWebElement element = Wait.Until(d=&gt;ExpectedConditions.ElementIsVisible(By.CssSelector(cssSelector)))(Driver);\r\n            return Wait.Until(c =&gt; ClickElement(element, cssSelector));\r\n        }\r\n\r\n        private bool ClickElement(IWebElement element, string cssSelector)\r\n        {\r\n            try\r\n            {\r\n                //Check if element is still included in the dom\r\n                //If the element has changed a the OpenQA.Selenium.StaleElementReferenceException is thrown.\r\n                bool isDisplayed = element.Displayed;\r\n\r\n                element.Click();\r\n                return true;\r\n            }\r\n            catch (StaleElementReferenceException)\r\n            {\r\n                //wait until the element is visible again\r\n                element = Wait.Until(d =&gt; ExpectedConditions.ElementIsVisible(By.CssSelector(cssSelector)))(Driver);\r\n                return ClickElement(element, cssSelector);\r\n            }\r\n            catch (Exception)\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\nInvocation:\r\n\r\n            DriverHelper driverHelper = new DriverHelper(&quot;http://www.seleniumhq.org/docs/04_webdriver_advanced.jsp&quot;, 10);\r\n            driverHelper.ClickElement(&quot;input[value=&#39;csharp&#39;]:first-child&quot;);\r\n\r\nSimilarly can be used for Java.","title":"How to avoid &quot;StaleElementReferenceException&quot; in Selenium?","body":"<p>A solution in C# would be:</p>\n\n<p>Helper class:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>internal class DriverHelper\n{\n\n    private IWebDriver Driver { get; set; }\n    private WebDriverWait Wait { get; set; }\n\n    public DriverHelper(string driverUrl, int timeoutInSeconds)\n    {\n        Driver = new ChromeDriver();\n        Driver.Url = driverUrl;\n        Wait = new WebDriverWait(Driver, TimeSpan.FromSeconds(timeoutInSeconds));\n    }\n\n    internal bool ClickElement(string cssSelector)\n    {\n        //Find the element\n        IWebElement element = Wait.Until(d=&gt;ExpectedConditions.ElementIsVisible(By.CssSelector(cssSelector)))(Driver);\n        return Wait.Until(c =&gt; ClickElement(element, cssSelector));\n    }\n\n    private bool ClickElement(IWebElement element, string cssSelector)\n    {\n        try\n        {\n            //Check if element is still included in the dom\n            //If the element has changed a the OpenQA.Selenium.StaleElementReferenceException is thrown.\n            bool isDisplayed = element.Displayed;\n\n            element.Click();\n            return true;\n        }\n        catch (StaleElementReferenceException)\n        {\n            //wait until the element is visible again\n            element = Wait.Until(d =&gt; ExpectedConditions.ElementIsVisible(By.CssSelector(cssSelector)))(Driver);\n            return ClickElement(element, cssSelector);\n        }\n        catch (Exception)\n        {\n            return false;\n        }\n    }\n}\n</code></pre>\n\n<p>Invocation:</p>\n\n<pre><code>        DriverHelper driverHelper = new DriverHelper(\"http://www.seleniumhq.org/docs/04_webdriver_advanced.jsp\", 10);\n        driverHelper.ClickElement(\"input[value='csharp']:first-child\");\n</code></pre>\n\n<p>Similarly can be used for Java.</p>\n"},{"tags":[],"owner":{"account_id":4820123,"reputation":879,"user_id":3891027,"display_name":"Christian.D"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1477578794,"creation_date":1477578794,"answer_id":40287383,"question_id":12967541,"body_markdown":"The reason why the `StaleElementReferenceException` occurs has been laid out already: updates to the DOM between finding and doing something with the element.\r\n\r\nFor the click-Problem I&#39;ve recently used a solution like this:\r\n\r\n    public void clickOn(By locator, WebDriver driver, int timeout)\r\n    {\r\n        final WebDriverWait wait = new WebDriverWait(driver, timeout);\r\n        wait.until(ExpectedConditions.refreshed(\r\n            ExpectedConditions.elementToBeClickable(locator)));\r\n        driver.findElement(locator).click();\r\n    }\r\n\r\nThe crucial part is the &quot;chaining&quot; of Selenium&#39;s own `ExpectedConditions` via the `ExpectedConditions.refreshed()`. This actually waits and checks if the element in question has been refreshed during the specified timeout and additionally waits for the element to become clickable.\r\n\r\nHave a look at the [documentation for the refreshed method][1].\r\n\r\n\r\n  [1]: https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#refreshed-org.openqa.selenium.support.ui.ExpectedCondition-","title":"How to avoid &quot;StaleElementReferenceException&quot; in Selenium?","body":"<p>The reason why the <code>StaleElementReferenceException</code> occurs has been laid out already: updates to the DOM between finding and doing something with the element.</p>\n\n<p>For the click-Problem I've recently used a solution like this:</p>\n\n<pre><code>public void clickOn(By locator, WebDriver driver, int timeout)\n{\n    final WebDriverWait wait = new WebDriverWait(driver, timeout);\n    wait.until(ExpectedConditions.refreshed(\n        ExpectedConditions.elementToBeClickable(locator)));\n    driver.findElement(locator).click();\n}\n</code></pre>\n\n<p>The crucial part is the \"chaining\" of Selenium's own <code>ExpectedConditions</code> via the <code>ExpectedConditions.refreshed()</code>. This actually waits and checks if the element in question has been refreshed during the specified timeout and additionally waits for the element to become clickable.</p>\n\n<p>Have a look at the <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#refreshed-org.openqa.selenium.support.ui.ExpectedCondition-\" rel=\"noreferrer\">documentation for the refreshed method</a>.</p>\n"},{"tags":[],"owner":{"account_id":1358031,"reputation":1289,"user_id":1296019,"accept_rate":87,"display_name":"cocorossello"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1545037790,"creation_date":1483694418,"answer_id":41502474,"question_id":12967541,"body_markdown":"Kenny&#39;s solution is good, however it can be written in a more elegant way\r\n\r\n    new WebDriverWait(driver, timeout)\r\n            .ignoring(StaleElementReferenceException.class)\r\n            .until((WebDriver d) -&gt; {\r\n                d.findElement(By.id(&quot;checkoutLink&quot;)).click();\r\n                return true;\r\n            });\r\n\r\nOr also:\r\n\r\n\r\n    new WebDriverWait(driver, timeout).ignoring(StaleElementReferenceException.class).until(ExpectedConditions.elementToBeClickable(By.id(&quot;checkoutLink&quot;)));\r\n    driver.findElement(By.id(&quot;checkoutLink&quot;)).click();\r\n        \r\nBut anyway, best solution is to rely on Selenide library, it handles this kind of things and more. (instead of element references it handles proxies so you never have to deal with stale elements, which can be quite difficult). [Selenide][1]\r\n\r\n\r\n  [1]: https://selenide.org/","title":"How to avoid &quot;StaleElementReferenceException&quot; in Selenium?","body":"<p>Kenny's solution is good, however it can be written in a more elegant way</p>\n\n<pre><code>new WebDriverWait(driver, timeout)\n        .ignoring(StaleElementReferenceException.class)\n        .until((WebDriver d) -&gt; {\n            d.findElement(By.id(\"checkoutLink\")).click();\n            return true;\n        });\n</code></pre>\n\n<p>Or also:</p>\n\n<pre><code>new WebDriverWait(driver, timeout).ignoring(StaleElementReferenceException.class).until(ExpectedConditions.elementToBeClickable(By.id(\"checkoutLink\")));\ndriver.findElement(By.id(\"checkoutLink\")).click();\n</code></pre>\n\n<p>But anyway, best solution is to rely on Selenide library, it handles this kind of things and more. (instead of element references it handles proxies so you never have to deal with stale elements, which can be quite difficult). <a href=\"https://selenide.org/\" rel=\"noreferrer\">Selenide</a></p>\n"},{"tags":[],"owner":{"account_id":469468,"reputation":1078,"user_id":876060,"accept_rate":38,"display_name":"cezarypiatek"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1506847631,"creation_date":1506847631,"answer_id":46510704,"question_id":12967541,"body_markdown":"In my project I introduced a notion of StableWebElement. It is a wrapper for WebElement which is able to detect if element is Stale and find a new reference to the original element. I have added a helper methods to locating elements which return StableWebElement instead of WebElement and the problem with StaleElementReference disappeared.\r\n\r\n    public static IStableWebElement FindStableElement(this ISearchContext context, By by)\r\n    {\r\n        var element = context.FindElement(by);\r\n        return new StableWebElement(context, element, by, SearchApproachType.First);\r\n    } \r\n\r\n\r\nThe code in C# is available on my project&#39;s page but it could be easily ported to java https://github.com/cezarypiatek/Tellurium/blob/master/Src/MvcPages/SeleniumUtils/StableWebElement.cs","title":"How to avoid &quot;StaleElementReferenceException&quot; in Selenium?","body":"<p>In my project I introduced a notion of StableWebElement. It is a wrapper for WebElement which is able to detect if element is Stale and find a new reference to the original element. I have added a helper methods to locating elements which return StableWebElement instead of WebElement and the problem with StaleElementReference disappeared.</p>\n\n<pre><code>public static IStableWebElement FindStableElement(this ISearchContext context, By by)\n{\n    var element = context.FindElement(by);\n    return new StableWebElement(context, element, by, SearchApproachType.First);\n} \n</code></pre>\n\n<p>The code in C# is available on my project's page but it could be easily ported to java <a href=\"https://github.com/cezarypiatek/Tellurium/blob/master/Src/MvcPages/SeleniumUtils/StableWebElement.cs\" rel=\"noreferrer\">https://github.com/cezarypiatek/Tellurium/blob/master/Src/MvcPages/SeleniumUtils/StableWebElement.cs</a></p>\n"},{"tags":[],"owner":{"account_id":7342610,"reputation":1994,"user_id":5591519,"display_name":"Shivam Bharadwaj"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1622706018,"creation_date":1519037290,"answer_id":48864452,"question_id":12967541,"body_markdown":"This works for me using C#\r\n\r\n    public Boolean RetryingFindClick(IWebElement webElement)\r\n        {\r\n            Boolean result = false;\r\n            int attempts = 0;\r\n            while (attempts &lt; 2)\r\n            {\r\n                try\r\n                {\r\n                    webElement.Click();\r\n                    result = true;\r\n                    break;\r\n                }\r\n                catch (StaleElementReferenceException e)\r\n                {\r\n                    Logging.Text(e.Message);\r\n                }\r\n                attempts++;\r\n            }\r\n            return result;\r\n        }","title":"How to avoid &quot;StaleElementReferenceException&quot; in Selenium?","body":"<p>This works for me using C#</p>\n<pre><code>public Boolean RetryingFindClick(IWebElement webElement)\n    {\n        Boolean result = false;\n        int attempts = 0;\n        while (attempts &lt; 2)\n        {\n            try\n            {\n                webElement.Click();\n                result = true;\n                break;\n            }\n            catch (StaleElementReferenceException e)\n            {\n                Logging.Text(e.Message);\n            }\n            attempts++;\n        }\n        return result;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5404044,"reputation":861,"user_id":4303068,"accept_rate":74,"display_name":"vaibhavcool20"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1545223640,"creation_date":1544890293,"answer_id":53794936,"question_id":12967541,"body_markdown":"Kenny&#39;s solution is deprecated use this, i&#39;m using actions class to double click but you can do anything.\r\n\r\n    \r\n\r\n\r\n\r\n    new FluentWait&lt;&gt;(driver).withTimeout(30, TimeUnit.SECONDS).pollingEvery(5, TimeUnit.SECONDS)\r\n        \t\t\t\t.ignoring(StaleElementReferenceException.class)\r\n                        .until(new Function() {\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic Object apply(Object arg0) {\r\n    \t\t\t\t\t\tWebElement e = driver.findelement(By.xpath(locatorKey));\r\n    \t\t\t\t\t\tActions action = new Actions(driver);\r\n    \t\t\t\t\t\taction.moveToElement(e).doubleClick().perform();\r\n    \t\t\t\t\t\treturn true;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});","title":"How to avoid &quot;StaleElementReferenceException&quot; in Selenium?","body":"<p>Kenny's solution is deprecated use this, i'm using actions class to double click but you can do anything.</p>\n\n<pre><code>new FluentWait&lt;&gt;(driver).withTimeout(30, TimeUnit.SECONDS).pollingEvery(5, TimeUnit.SECONDS)\n                    .ignoring(StaleElementReferenceException.class)\n                    .until(new Function() {\n\n                    @Override\n                    public Object apply(Object arg0) {\n                        WebElement e = driver.findelement(By.xpath(locatorKey));\n                        Actions action = new Actions(driver);\n                        action.moveToElement(e).doubleClick().perform();\n                        return true;\n                    }\n                });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":937336,"reputation":54163,"user_id":966023,"accept_rate":65,"display_name":"pguardiario"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633907128,"creation_date":1546478848,"answer_id":54015247,"question_id":12967541,"body_markdown":"The problem is by the time you pass the element from Javascript to Java back to Javascript it can have left the DOM.&lt;br&gt;\r\nTry doing the whole thing in Javascript:\r\n\r\n    driver.executeScript(&quot;document.querySelector(&#39;#my_id&#39;)?.click()&quot;) ","title":"How to avoid &quot;StaleElementReferenceException&quot; in Selenium?","body":"<p>The problem is by the time you pass the element from Javascript to Java back to Javascript it can have left the DOM.<br>\nTry doing the whole thing in Javascript:</p>\n<pre><code>driver.executeScript(&quot;document.querySelector('#my_id')?.click()&quot;) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14097190,"reputation":21,"user_id":10183602,"display_name":"CodingGirl1"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1550156241,"creation_date":1550151938,"answer_id":54691897,"question_id":12967541,"body_markdown":"Try this\r\n\r\n    while (true) { // loops forever until break\r\n        try { // checks code for exceptions\r\n            WebElement ele=\r\n            (WebElement)wait.until(ExpectedConditions.elementToBeClickable((By.xpath(Xpath))));  \r\n            break; // if no exceptions breaks out of loop\r\n        } \r\n        catch (org.openqa.selenium.StaleElementReferenceException e1) { \r\n            Thread.sleep(3000); // you can set your value here maybe 2 secs\r\n            continue; // continues to loop if exception is found\r\n        }\r\n    }","title":"How to avoid &quot;StaleElementReferenceException&quot; in Selenium?","body":"<p>Try this</p>\n\n<pre><code>while (true) { // loops forever until break\n    try { // checks code for exceptions\n        WebElement ele=\n        (WebElement)wait.until(ExpectedConditions.elementToBeClickable((By.xpath(Xpath))));  \n        break; // if no exceptions breaks out of loop\n    } \n    catch (org.openqa.selenium.StaleElementReferenceException e1) { \n        Thread.sleep(3000); // you can set your value here maybe 2 secs\n        continue; // continues to loop if exception is found\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12242688,"reputation":2142,"user_id":10854998,"display_name":"Gryu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566478910,"creation_date":1566478910,"answer_id":57609975,"question_id":12967541,"body_markdown":"I&#39;ve found solution [here][1]. In my case element becomes inaccessible in case of leaving current window, tab or page and coming back again. \r\n\r\n.ignoring(StaleElement...), .refreshed(...) and elementToBeClicable(...) did not help and I was getting exception on `act.doubleClick(element).build().perform();` string.\r\n\r\n**Using function in my main test class:**\r\n\r\n    openForm(someXpath);\r\n\r\n**My BaseTest function:**\r\n\r\n    int defaultTime = 15;\r\n\r\n    boolean openForm(String myXpath) throws Exception {\r\n        int count = 0;\r\n        boolean clicked = false;\r\n        while (count &lt; 4 || !clicked) {\r\n            try {\r\n                WebElement element = getWebElClickable(myXpath,defaultTime);\r\n                act.doubleClick(element).build().perform();\r\n                clicked = true;\r\n                print(&quot;Element have been clicked!&quot;);\r\n                break;\r\n            } catch (StaleElementReferenceException sere) {\r\n                sere.toString();\r\n                print(&quot;Trying to recover from: &quot;+sere.getMessage());\r\n                count=count+1;\r\n            }\r\n        }\r\n\r\n**My BaseClass function:**\r\n\r\n    protected WebElement getWebElClickable(String xpath, int waitSeconds) {\r\n            wait = new WebDriverWait(driver, waitSeconds);\r\n            return wait.ignoring(StaleElementReferenceException.class).until(\r\n                    ExpectedConditions.refreshed(ExpectedConditions.elementToBeClickable(By.xpath(xpath))));\r\n        }\r\n\r\n\r\n  [1]: http://qaru.site/questions/164824/selenium-webdriver-staleelementreferenceexception","title":"How to avoid &quot;StaleElementReferenceException&quot; in Selenium?","body":"<p>I've found solution <a href=\"http://qaru.site/questions/164824/selenium-webdriver-staleelementreferenceexception\" rel=\"nofollow noreferrer\">here</a>. In my case element becomes inaccessible in case of leaving current window, tab or page and coming back again. </p>\n\n<p>.ignoring(StaleElement...), .refreshed(...) and elementToBeClicable(...) did not help and I was getting exception on <code>act.doubleClick(element).build().perform();</code> string.</p>\n\n<p><strong>Using function in my main test class:</strong></p>\n\n<pre><code>openForm(someXpath);\n</code></pre>\n\n<p><strong>My BaseTest function:</strong></p>\n\n<pre><code>int defaultTime = 15;\n\nboolean openForm(String myXpath) throws Exception {\n    int count = 0;\n    boolean clicked = false;\n    while (count &lt; 4 || !clicked) {\n        try {\n            WebElement element = getWebElClickable(myXpath,defaultTime);\n            act.doubleClick(element).build().perform();\n            clicked = true;\n            print(\"Element have been clicked!\");\n            break;\n        } catch (StaleElementReferenceException sere) {\n            sere.toString();\n            print(\"Trying to recover from: \"+sere.getMessage());\n            count=count+1;\n        }\n    }\n</code></pre>\n\n<p><strong>My BaseClass function:</strong></p>\n\n<pre><code>protected WebElement getWebElClickable(String xpath, int waitSeconds) {\n        wait = new WebDriverWait(driver, waitSeconds);\n        return wait.ignoring(StaleElementReferenceException.class).until(\n                ExpectedConditions.refreshed(ExpectedConditions.elementToBeClickable(By.xpath(xpath))));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9199256,"reputation":2701,"user_id":6836871,"accept_rate":50,"display_name":"hardfork"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1570443493,"creation_date":1570443493,"answer_id":58267584,"question_id":12967541,"body_markdown":"There could be a potential problem that leads to the StaleElementReferenceException that no one mentioned so far (in regard to actions). \r\n\r\nI explain it in Javascript, but it&#39;s the same in Java.\r\n\r\nThis won&#39;t work:\r\n\r\n    let actions = driver.actions({ bridge: true })\r\n    let a = await driver.findElement(By.css(&#39;#a&#39;))\r\n    await actions.click(a).perform() // this leads to a DOM change, #b will be removed and added again to the DOM.\r\n    let b = await driver.findElement(By.css(&#39;#b&#39;))\r\n    await actions.click(b).perform()\r\n\r\nBut instantiating the actions again will solve it:\r\n\r\n    let actions = driver.actions({ bridge: true })\r\n    let a = await driver.findElement(By.css(&#39;#a&#39;))\r\n    await actions.click(a).perform()  // this leads to a DOM change, #b will be removed and added again to the DOM.\r\n    actions = driver.actions({ bridge: true }) // new\r\n    let b = await driver.findElement(By.css(&#39;#b&#39;))\r\n    await actions.click(b).perform()","title":"How to avoid &quot;StaleElementReferenceException&quot; in Selenium?","body":"<p>There could be a potential problem that leads to the StaleElementReferenceException that no one mentioned so far (in regard to actions). </p>\n\n<p>I explain it in Javascript, but it's the same in Java.</p>\n\n<p>This won't work:</p>\n\n<pre><code>let actions = driver.actions({ bridge: true })\nlet a = await driver.findElement(By.css('#a'))\nawait actions.click(a).perform() // this leads to a DOM change, #b will be removed and added again to the DOM.\nlet b = await driver.findElement(By.css('#b'))\nawait actions.click(b).perform()\n</code></pre>\n\n<p>But instantiating the actions again will solve it:</p>\n\n<pre><code>let actions = driver.actions({ bridge: true })\nlet a = await driver.findElement(By.css('#a'))\nawait actions.click(a).perform()  // this leads to a DOM change, #b will be removed and added again to the DOM.\nactions = driver.actions({ bridge: true }) // new\nlet b = await driver.findElement(By.css('#b'))\nawait actions.click(b).perform()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":110909,"reputation":45713,"user_id":293280,"accept_rate":77,"display_name":"Joshua Pinter"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1684949774,"creation_date":1576188472,"answer_id":59313389,"question_id":12967541,"body_markdown":"### Clean `findByAndroidId` method that gracefully handles `StaleElementReference`.\r\nThis is heavily based off of [jspcal&#39;s answer][1] but I had to modify that answer to get it working cleanly with our setup and so I wanted to add it here in case it&#39;s helpful to others.\r\n\r\n    // This loops gracefully handles StateElementReference errors and retries up to 10 times. These can occur when an element, like a modal or notification, is no longer available.\r\n    export async function findByAndroidId( id, { assert = wd.asserters.isDisplayed, timeout = 10000, interval = 100 } = {} ) {\r\n      MAX_ATTEMPTS = 10;\r\n      let attempt = 0;\r\n\r\n      while( attempt &lt; MAX_ATTEMPTS ) {\r\n        try {\r\n          return await this.waitForElementById( `android:id/${ id }`, assert, timeout, interval );\r\n        }\r\n        catch ( error ) {\r\n          if ( error.message.includes( &quot;StaleElementReference&quot; ) )\r\n            attempt++;\r\n          else\r\n            throw error; // Re-throws the error so the test fails as normal if the assertion fails.\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/12967602/293280","title":"How to avoid &quot;StaleElementReferenceException&quot; in Selenium?","body":"<h3>Clean <code>findByAndroidId</code> method that gracefully handles <code>StaleElementReference</code>.</h3>\n<p>This is heavily based off of <a href=\"https://stackoverflow.com/a/12967602/293280\">jspcal's answer</a> but I had to modify that answer to get it working cleanly with our setup and so I wanted to add it here in case it's helpful to others.</p>\n<pre><code>// This loops gracefully handles StateElementReference errors and retries up to 10 times. These can occur when an element, like a modal or notification, is no longer available.\nexport async function findByAndroidId( id, { assert = wd.asserters.isDisplayed, timeout = 10000, interval = 100 } = {} ) {\n  MAX_ATTEMPTS = 10;\n  let attempt = 0;\n\n  while( attempt &lt; MAX_ATTEMPTS ) {\n    try {\n      return await this.waitForElementById( `android:id/${ id }`, assert, timeout, interval );\n    }\n    catch ( error ) {\n      if ( error.message.includes( &quot;StaleElementReference&quot; ) )\n        attempt++;\n      else\n        throw error; // Re-throws the error so the test fails as normal if the assertion fails.\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10711301,"reputation":233,"user_id":7883438,"display_name":"Rakesh Singh Chouhan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1596031830,"creation_date":1596031830,"answer_id":63155585,"question_id":12967541,"body_markdown":"Usually StaleElementReferenceException when element we try to access has appeared but other elements may affect the position of element we are intrested in hence when we try to click or getText or try to do some action on WebElement we get exception which usually says element not attached with DOM.\r\n\r\nSolution I tried is as follows:\r\n```\r\n protected void clickOnElement(By by) {\r\n        try {\r\n            waitForElementToBeClickableBy(by).click();\r\n        } catch (StaleElementReferenceException e) {\r\n            for (int attempts = 1; attempts &lt; 100; attempts++) {\r\n                try {\r\n                    waitFor(500);\r\n                    logger.info(&quot;Stale element found retrying:&quot; + attempts);\r\n                    waitForElementToBeClickableBy(by).click();\r\n                    break;\r\n                } catch (StaleElementReferenceException e1) {\r\n                    logger.info(&quot;Stale element found retrying:&quot; + attempts);\r\n                }\r\n            }\r\n        }\r\n\r\nprotected WebElement waitForElementToBeClickableBy(By by) {\r\n        WebDriverWait wait = new WebDriverWait(getDriver(), 10);\r\n        return wait.until(ExpectedConditions.elementToBeClickable(by));\r\n    }\r\n```\r\n\r\nIn above code I first try to wait and then click on element if exception occurs then I catch it and try to loop it as there is a possibility that still all elements may not be loaded and again exception can occur.\r\n","title":"How to avoid &quot;StaleElementReferenceException&quot; in Selenium?","body":"<p>Usually StaleElementReferenceException when element we try to access has appeared but other elements may affect the position of element we are intrested in hence when we try to click or getText or try to do some action on WebElement we get exception which usually says element not attached with DOM.</p>\n<p>Solution I tried is as follows:</p>\n<pre><code> protected void clickOnElement(By by) {\n        try {\n            waitForElementToBeClickableBy(by).click();\n        } catch (StaleElementReferenceException e) {\n            for (int attempts = 1; attempts &lt; 100; attempts++) {\n                try {\n                    waitFor(500);\n                    logger.info(&quot;Stale element found retrying:&quot; + attempts);\n                    waitForElementToBeClickableBy(by).click();\n                    break;\n                } catch (StaleElementReferenceException e1) {\n                    logger.info(&quot;Stale element found retrying:&quot; + attempts);\n                }\n            }\n        }\n\nprotected WebElement waitForElementToBeClickableBy(By by) {\n        WebDriverWait wait = new WebDriverWait(getDriver(), 10);\n        return wait.until(ExpectedConditions.elementToBeClickable(by));\n    }\n</code></pre>\n<p>In above code I first try to wait and then click on element if exception occurs then I catch it and try to loop it as there is a possibility that still all elements may not be loaded and again exception can occur.</p>\n"},{"tags":[],"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675605701,"creation_date":1675344069,"answer_id":75323808,"question_id":12967541,"body_markdown":"## Create a wrapper function (Java) ##\r\n\r\nAs an alternative to the accepted answer, my approach is similar in that it catches the exception and makes a few attempts, but it&#39;s more generic, so you can throw any kinds of actions at it as long as they are wrapped in a void function. \r\n\r\nPlease feel free to copy and use this code:\r\n\r\n````\r\npublic void doPreventingStaleElement(Runnable function)\r\n{\r\n\tint maxRetries = 3;\t// maximum number of retries \r\n\tint retries = 0;\r\n\tboolean stale;\r\n\t\r\n\t// try/catch block attempts to fix a stale element\r\n\tdo  {\r\n\t\ttry {\r\n\t\t\tfunction.run();\r\n\t\t\tstale = false;\r\n\t\t}\r\n\t\tcatch (StaleElementReferenceException eStale) {\r\n\t\t\tstale = true;\r\n\t\t\t// Work-around for stale element reference when getting the first page\r\n\t\t\tif (retries &lt; maxRetries) {\r\n\t\t\t\tretries++;\r\n\t\t\t\tSystem.out.println(function.getClass().getSimpleName() + &quot; failed due to stale element reference, retry=&quot; + retries);\r\n\t\t\t\t try {\r\n\t\t\t\t\t // Exponential increase of wait time - 1, 4, 9, 16, 25 seconds\r\n\t\t             Thread.sleep(1000 * (int) Math.pow(retries,2));\r\n\t\t         } catch (final InterruptedException e) {\r\n\t\t        \t Thread.currentThread().interrupt();\r\n\t\t         }\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(function.getClass().getSimpleName() + &quot; failed due to stale element reference, too many retries&quot;);\r\n\t\t\t\teStale.printStackTrace();\r\n\t\t\t\tthrow(eStale);\r\n\t\t\t}\r\n\t\t}\r\n\t\t \r\n\t} while (stale &amp;&amp; retries &lt; maxRetries);\r\n\t\r\n\treturn;\r\n}\r\n\r\n````\r\nNote that it will still throw a StaleElementReferenceException after _maxRetries_ attempts.\r\n\r\n## Example of usage ##\r\n\r\nAs an example I want to do this:\r\n````\r\nfinal List&lt;WebElement&gt; buttons = getDriver().findElements(By.xpath(&quot;//button[@testid=&#39;dismiss-me&#39;]&quot;));\r\nfor (final WebElement closeButton : buttons) {\r\n    closeButton.click();\r\n}\r\n````\r\nor this:\r\n````\r\ndriver.findElement(By.id(&quot;login-form-username&quot;)).sendKeys(getUser());\r\ndriver.findElement(By.id(&quot;login-form-password&quot;)).sendKeys(getPassword());\r\ndriver.findElement(By.id(&quot;login-form-submit&quot;)).click();\r\n````\r\nThen I wrap them in void functions\r\n\r\n````\r\nprivate void clickButtons() {\r\n\r\n    final List&lt;WebElement&gt; buttons = getDriver().findElements(By.xpath(&quot;//button[@testid=&#39;dismiss-me&#39;]&quot;));\r\n    for (final WebElement closeButton : buttons) {\r\n        closeButton.click();\r\n    }\r\n}\r\n\r\nprivate void performLogin() {\r\n    driver.findElement(By.id(&quot;login-form-username&quot;)).sendKeys(getUser());\r\n    driver.findElement(By.id(&quot;login-form-password&quot;)).sendKeys(getPassword());\r\n    driver.findElement(By.id(&quot;login-form-submit&quot;)).click();\r\n}\r\n````\r\n\r\nand so I can just\r\n\r\n````\r\ndoPreventingStaleElement(whateverObject::clickButtons);\r\ndoPreventingStaleElement(whateverObject::performLogin);\r\n````\r\n","title":"How to avoid &quot;StaleElementReferenceException&quot; in Selenium?","body":"<h2>Create a wrapper function (Java)</h2>\n<p>As an alternative to the accepted answer, my approach is similar in that it catches the exception and makes a few attempts, but it's more generic, so you can throw any kinds of actions at it as long as they are wrapped in a void function.</p>\n<p>Please feel free to copy and use this code:</p>\n<pre><code>public void doPreventingStaleElement(Runnable function)\n{\n    int maxRetries = 3; // maximum number of retries \n    int retries = 0;\n    boolean stale;\n    \n    // try/catch block attempts to fix a stale element\n    do  {\n        try {\n            function.run();\n            stale = false;\n        }\n        catch (StaleElementReferenceException eStale) {\n            stale = true;\n            // Work-around for stale element reference when getting the first page\n            if (retries &lt; maxRetries) {\n                retries++;\n                System.out.println(function.getClass().getSimpleName() + &quot; failed due to stale element reference, retry=&quot; + retries);\n                 try {\n                     // Exponential increase of wait time - 1, 4, 9, 16, 25 seconds\n                     Thread.sleep(1000 * (int) Math.pow(retries,2));\n                 } catch (final InterruptedException e) {\n                     Thread.currentThread().interrupt();\n                 }\n            }\n            else {\n                System.out.println(function.getClass().getSimpleName() + &quot; failed due to stale element reference, too many retries&quot;);\n                eStale.printStackTrace();\n                throw(eStale);\n            }\n        }\n         \n    } while (stale &amp;&amp; retries &lt; maxRetries);\n    \n    return;\n}\n\n</code></pre>\n<p>Note that it will still throw a StaleElementReferenceException after <em>maxRetries</em> attempts.</p>\n<h2>Example of usage</h2>\n<p>As an example I want to do this:</p>\n<pre><code>final List&lt;WebElement&gt; buttons = getDriver().findElements(By.xpath(&quot;//button[@testid='dismiss-me']&quot;));\nfor (final WebElement closeButton : buttons) {\n    closeButton.click();\n}\n</code></pre>\n<p>or this:</p>\n<pre><code>driver.findElement(By.id(&quot;login-form-username&quot;)).sendKeys(getUser());\ndriver.findElement(By.id(&quot;login-form-password&quot;)).sendKeys(getPassword());\ndriver.findElement(By.id(&quot;login-form-submit&quot;)).click();\n</code></pre>\n<p>Then I wrap them in void functions</p>\n<pre><code>private void clickButtons() {\n\n    final List&lt;WebElement&gt; buttons = getDriver().findElements(By.xpath(&quot;//button[@testid='dismiss-me']&quot;));\n    for (final WebElement closeButton : buttons) {\n        closeButton.click();\n    }\n}\n\nprivate void performLogin() {\n    driver.findElement(By.id(&quot;login-form-username&quot;)).sendKeys(getUser());\n    driver.findElement(By.id(&quot;login-form-password&quot;)).sendKeys(getPassword());\n    driver.findElement(By.id(&quot;login-form-submit&quot;)).click();\n}\n</code></pre>\n<p>and so I can just</p>\n<pre><code>doPreventingStaleElement(whateverObject::clickButtons);\ndoPreventingStaleElement(whateverObject::performLogin);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675510158,"creation_date":1675433461,"answer_id":75336887,"question_id":12967541,"body_markdown":"[**StaleElementReferenceException**](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/StaleElementReferenceException.html)\r\n------------------------------------\r\n_StaleElementReferenceException_ indicates that the reference to an element is now _`stale`_ i.e. the element no longer appears within the [HTML DOM](https://www.w3schools.com/js/js_htmldom.asp) of the page.\r\n\r\n\r\n----------\r\n\r\n\r\nDetails\r\n-------\r\nEvery [DOM Tree](https://javascript.info/dom-nodes) element is identified by the [WebDriver](https://stackoverflow.com/a/48080871/7429447) by a unique identifying reference, known as a [WebElement](https://stackoverflow.com/a/52805139/7429447). The web element reference is a UUID used to execute commands targeting specific elements, such as getting an element&#39;s tag name or retrieving a property off an element.\r\n\r\nWhen an element is no longer attached to the DOM, i.e. it has been removed from the document or the document has changed, it is said to be got **stale**. Staleness occurs for example when you have a web element reference and the document it was retrieved from navigates and due to navigation, all web element references to the previous document will be discarded along with the document. This will cause any subsequent interaction with the web element to fail with the stale element reference error.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nThe best approach to avoid [_**StaleElementReferenceException**_](https://stackoverflow.com/a/44844879/7429447) is to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447) before invoking click as follows:\r\n\r\n\tnew WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;elementCssSelector&quot;))).click();\r\n\r\nNote: You have to import the following:\r\n\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    import org.openqa.selenium.By;","title":"How to avoid &quot;StaleElementReferenceException&quot; in Selenium?","body":"<h2><a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/StaleElementReferenceException.html\" rel=\"nofollow noreferrer\"><strong>StaleElementReferenceException</strong></a></h2>\n<p><em>StaleElementReferenceException</em> indicates that the reference to an element is now <em><code>stale</code></em> i.e. the element no longer appears within the <a href=\"https://www.w3schools.com/js/js_htmldom.asp\" rel=\"nofollow noreferrer\">HTML DOM</a> of the page.</p>\n<hr />\n<h2>Details</h2>\n<p>Every <a href=\"https://javascript.info/dom-nodes\" rel=\"nofollow noreferrer\">DOM Tree</a> element is identified by the <a href=\"https://stackoverflow.com/a/48080871/7429447\">WebDriver</a> by a unique identifying reference, known as a <a href=\"https://stackoverflow.com/a/52805139/7429447\">WebElement</a>. The web element reference is a UUID used to execute commands targeting specific elements, such as getting an element's tag name or retrieving a property off an element.</p>\n<p>When an element is no longer attached to the DOM, i.e. it has been removed from the document or the document has changed, it is said to be got <strong>stale</strong>. Staleness occurs for example when you have a web element reference and the document it was retrieved from navigates and due to navigation, all web element references to the previous document will be discarded along with the document. This will cause any subsequent interaction with the web element to fail with the stale element reference error.</p>\n<hr />\n<h2>Solution</h2>\n<p>The best approach to avoid <a href=\"https://stackoverflow.com/a/44844879/7429447\"><em><strong>StaleElementReferenceException</strong></em></a> is to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a> before invoking click as follows:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;elementCssSelector&quot;))).click();\n</code></pre>\n<p>Note: You have to import the following:</p>\n<pre><code>import org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.openqa.selenium.By;\n</code></pre>\n"}],"owner":{"account_id":1927261,"reputation":2149,"user_id":1737407,"accept_rate":82,"display_name":"hoang nguyen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334083,"favorite_count":0,"down_vote_count":0,"up_vote_count":137,"accepted_answer_id":12967602,"answer_count":18,"score":137,"last_activity_date":1684949774,"creation_date":1350621930,"question_id":12967541,"body_markdown":"I am implementing a lot of Selenium tests using Java - sometimes, my tests fail due to a [`StaleElementReferenceException`](https://developer.mozilla.org/en-US/docs/Web/WebDriver/Errors/StaleElementReference). \r\n\r\nCould you suggest some approaches to making the tests more stable?\r\n","title":"How to avoid &quot;StaleElementReferenceException&quot; in Selenium?","body":"<p>I am implementing a lot of Selenium tests using Java - sometimes, my tests fail due to a <a href=\"https://developer.mozilla.org/en-US/docs/Web/WebDriver/Errors/StaleElementReference\" rel=\"noreferrer\"><code>StaleElementReferenceException</code></a>.</p>\n<p>Could you suggest some approaches to making the tests more stable?</p>\n"},{"tags":["java","iphone","ios","xcode","xcode4.3"],"answers":[{"tags":[],"owner":{"account_id":1668570,"reputation":263,"user_id":1535491,"display_name":"Sisi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1347448090,"creation_date":1347448090,"answer_id":12386791,"question_id":12386624,"body_markdown":"You can customize your UIImageView. For example, MyImageView. Set its delegate to your main ScrollView and add `UITapGestureRecognizer` and TapDetecting Delegate methods.\r\nYou can implement in the MyImageView:\r\n\r\n    - (void)handleSingleTap:(UIGestureRecognizer *)gestureRecognizer {\r\n    // single tap \r\n    if ([_delegate respondsToSelector:@selector(myImageViewWasSingleTapped:)])\r\n        [_delegate myImageViewWasSingleTapped:self];\r\n    }\r\n\r\nthen in your main ScrollView(delegate of MyImageView):\r\n\r\n    - (void)myImageViewWasSingleTapped:(MyImageView *)miv {\r\n        AnotherViewController *asv = [[AnotherViewController alloc] initWithImage: miv];\r\n        [self.navigationController pushViewController: asv animated:YES];\r\n        [asv release];\r\n    }\r\n\r\n","title":"Xcode image link ImageView into next View Controller","body":"<p>You can customize your UIImageView. For example, MyImageView. Set its delegate to your main ScrollView and add <code>UITapGestureRecognizer</code> and TapDetecting Delegate methods.\nYou can implement in the MyImageView:</p>\n\n<pre><code>- (void)handleSingleTap:(UIGestureRecognizer *)gestureRecognizer {\n// single tap \nif ([_delegate respondsToSelector:@selector(myImageViewWasSingleTapped:)])\n    [_delegate myImageViewWasSingleTapped:self];\n}\n</code></pre>\n\n<p>then in your main ScrollView(delegate of MyImageView):</p>\n\n<pre><code>- (void)myImageViewWasSingleTapped:(MyImageView *)miv {\n    AnotherViewController *asv = [[AnotherViewController alloc] initWithImage: miv];\n    [self.navigationController pushViewController: asv animated:YES];\n    [asv release];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":379754,"reputation":1545,"user_id":733332,"accept_rate":98,"display_name":"Jack Nutkins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684949623,"creation_date":1347448323,"answer_id":12386838,"question_id":12386624,"body_markdown":"Firstly, you need to add a gesture recogniser to your view with something like:\r\n\r\n    UITapGestureRecognizer *singleTapGestureRecognizer = [[UITapGestureRecognizer alloc]\r\n                                                              initWithTarget:self\r\n                                                              action:@selector(flipView:)];\r\n        [singleTapGestureRecognizer setNumberOfTapsRequired:1];\r\n        [self.view addGestureRecognizer:singleTapGestureRecognizer];\r\n\r\nYou then need to implement the &#39;flipView&#39; method:\r\n\r\n    - (void)flipView:(UIPanGestureRecognizer *)recognizer {\r\n        [self performSegueWithIdentifier:@&quot;textView&quot; sender:self];\r\n    }\r\n\r\nAs you can see in my case, when the method is triggered I perform a segue (see below):\r\n\r\n    - (void) prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {\r\n        if ([segue.identifier isEqualToString:@&quot;textView&quot;])\r\n        {\r\n            //---Pass text to view\r\n            CGRect visibleRect;\r\n            visibleRect.origin = scrollView.contentOffset;\r\n            visibleRect.size = scrollView.bounds.size;\r\n            \r\n            int number;\r\n            \r\n            if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad) {\r\n                number = visibleRect.origin.x / 768;\r\n            }\r\n            else {\r\n                number = visibleRect.origin.x / 320;\r\n            }\r\n    \r\n            TextViewController *textViewController = segue.destinationViewController;\r\n            AppDelegate *appDelegate = [[UIApplication sharedApplication] delegate];\r\n            textViewController.text = [appDelegate.textArray objectAtIndex:number];\r\n        }\r\n    }\r\n\r\nThe &#39;number&#39; variable is used to decide which image has been clicked, I divide the visible rects origin by the width of the screen in pixels to calculate which image has been pressed and therefore what data to send to my new view.\r\n\r\nIn your case, you would use the Y coordinate to perform a calculation to decide which colour has been pressed, possibly something like:\r\n\r\n    int number;\r\n                \r\n                if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad) {\r\n                    number = visibleRect.origin.y / &lt;height of each image on iPad in pixels&gt;;\r\n                }\r\n                else {\r\n                    number = visibleRect.origin.y / &lt;height of each image on iPhone in pixels&gt;;\r\n                }\r\n\r\nAlternatively, you could use a UITableView and just populate the cells with the appropriate colour and then display the new view based on which cell was pressed.\r\n\r\n**EDIT**\r\nUse a UITableView, and populate each cell with your image using custom tableview cells.  This is a much easier approach than what you are suggesting.\r\n\r\nSee these links:\r\nhttps://stackoverflow.com/questions/4999017/adding-images-to-uitableview\r\n\r\nIf using iOS 5 - \r\nhttp://kurrytran.blogspot.co.uk/2011/10/ios-5-storyboard-uitableview-tutorial.html\r\nif not -\r\nhttp://www.iosdevnotes.com/2011/10/uitableview-tutorial/\r\n\r\nYou are overcomplicating this task massively, follow the above tutorials and you&#39;ll be done in no time.","title":"Xcode image link ImageView into next View Controller","body":"<p>Firstly, you need to add a gesture recogniser to your view with something like:</p>\n<pre><code>UITapGestureRecognizer *singleTapGestureRecognizer = [[UITapGestureRecognizer alloc]\n                                                          initWithTarget:self\n                                                          action:@selector(flipView:)];\n    [singleTapGestureRecognizer setNumberOfTapsRequired:1];\n    [self.view addGestureRecognizer:singleTapGestureRecognizer];\n</code></pre>\n<p>You then need to implement the 'flipView' method:</p>\n<pre><code>- (void)flipView:(UIPanGestureRecognizer *)recognizer {\n    [self performSegueWithIdentifier:@&quot;textView&quot; sender:self];\n}\n</code></pre>\n<p>As you can see in my case, when the method is triggered I perform a segue (see below):</p>\n<pre><code>- (void) prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {\n    if ([segue.identifier isEqualToString:@&quot;textView&quot;])\n    {\n        //---Pass text to view\n        CGRect visibleRect;\n        visibleRect.origin = scrollView.contentOffset;\n        visibleRect.size = scrollView.bounds.size;\n        \n        int number;\n        \n        if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad) {\n            number = visibleRect.origin.x / 768;\n        }\n        else {\n            number = visibleRect.origin.x / 320;\n        }\n\n        TextViewController *textViewController = segue.destinationViewController;\n        AppDelegate *appDelegate = [[UIApplication sharedApplication] delegate];\n        textViewController.text = [appDelegate.textArray objectAtIndex:number];\n    }\n}\n</code></pre>\n<p>The 'number' variable is used to decide which image has been clicked, I divide the visible rects origin by the width of the screen in pixels to calculate which image has been pressed and therefore what data to send to my new view.</p>\n<p>In your case, you would use the Y coordinate to perform a calculation to decide which colour has been pressed, possibly something like:</p>\n<pre><code>int number;\n            \n            if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad) {\n                number = visibleRect.origin.y / &lt;height of each image on iPad in pixels&gt;;\n            }\n            else {\n                number = visibleRect.origin.y / &lt;height of each image on iPhone in pixels&gt;;\n            }\n</code></pre>\n<p>Alternatively, you could use a UITableView and just populate the cells with the appropriate colour and then display the new view based on which cell was pressed.</p>\n<p><strong>EDIT</strong>\nUse a UITableView, and populate each cell with your image using custom tableview cells.  This is a much easier approach than what you are suggesting.</p>\n<p>See these links:\n<a href=\"https://stackoverflow.com/questions/4999017/adding-images-to-uitableview\">adding images to UItableView</a></p>\n<p>If using iOS 5 -\n<a href=\"http://kurrytran.blogspot.co.uk/2011/10/ios-5-storyboard-uitableview-tutorial.html\" rel=\"nofollow noreferrer\">http://kurrytran.blogspot.co.uk/2011/10/ios-5-storyboard-uitableview-tutorial.html</a>\nif not -\n<a href=\"http://www.iosdevnotes.com/2011/10/uitableview-tutorial/\" rel=\"nofollow noreferrer\">http://www.iosdevnotes.com/2011/10/uitableview-tutorial/</a></p>\n<p>You are overcomplicating this task massively, follow the above tutorials and you'll be done in no time.</p>\n"},{"tags":[],"owner":{"account_id":1540402,"reputation":96,"user_id":1435220,"display_name":"palpoms"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1347449749,"creation_date":1347449749,"answer_id":12387276,"question_id":12386624,"body_markdown":"You can use a button instead of a UIImageView, and set the button&#39;s image to your image. Your loop in viewDidLoad would be like this:\r\n\r\n    // load all the images from our bundle and add them to the scroll view\r\n    NSUInteger i;\r\n    for (i = 1; i &lt;= kNumImages; i++)\r\n    {\r\n        NSString *imageName = [NSString  stringWithFormat:@&quot;Artwork_iPhone_Decors_Scrollview_%d.png&quot;, i];\r\n        UIImage *image = [UIImage imageNamed:imageName];\r\n        UIButton *imageButton = [[UIButton alloc] init];\r\n        [imageButton setImage:image forState:UIControlStateNormal];\r\n        [imageButton addTarget:self action:@selector(pushNextViewController:) forControlEvents:UIControlEventTouchUpInside];\r\n        \r\n        // setup each frame to a default height and width, it will be properly placed when we call &quot;updateScrollList&quot;\r\n        CGRect rect = CGRectMake(0, 0, kScrollObjWidth, kScrollObjHeight);\r\n        imageButton.frame = rect;\r\n        imageButton.tag = i;  // tag our images for later use when we place them in serial fashion\r\n        [scrollViewDecors addSubview:imageButton];\r\n        // Release imageButton unless you&#39;re using ARC\r\n    }\r\n\r\nAnd then you&#39;d need to define an action for imageButton, in this case I called it pushNextViewController:\r\n\r\n    - (void)pushNextViewController:(id)sender\r\n    {\r\n        UIViewController *yourNextViewController = // initialise your next view controller here\r\n        [self.navigationController pushViewController:yourNextViewController animated:YES];\r\n    }\r\n\r\n","title":"Xcode image link ImageView into next View Controller","body":"<p>You can use a button instead of a UIImageView, and set the button's image to your image. Your loop in viewDidLoad would be like this:</p>\n\n<pre><code>// load all the images from our bundle and add them to the scroll view\nNSUInteger i;\nfor (i = 1; i &lt;= kNumImages; i++)\n{\n    NSString *imageName = [NSString  stringWithFormat:@\"Artwork_iPhone_Decors_Scrollview_%d.png\", i];\n    UIImage *image = [UIImage imageNamed:imageName];\n    UIButton *imageButton = [[UIButton alloc] init];\n    [imageButton setImage:image forState:UIControlStateNormal];\n    [imageButton addTarget:self action:@selector(pushNextViewController:) forControlEvents:UIControlEventTouchUpInside];\n\n    // setup each frame to a default height and width, it will be properly placed when we call \"updateScrollList\"\n    CGRect rect = CGRectMake(0, 0, kScrollObjWidth, kScrollObjHeight);\n    imageButton.frame = rect;\n    imageButton.tag = i;  // tag our images for later use when we place them in serial fashion\n    [scrollViewDecors addSubview:imageButton];\n    // Release imageButton unless you're using ARC\n}\n</code></pre>\n\n<p>And then you'd need to define an action for imageButton, in this case I called it pushNextViewController:</p>\n\n<pre><code>- (void)pushNextViewController:(id)sender\n{\n    UIViewController *yourNextViewController = // initialise your next view controller here\n    [self.navigationController pushViewController:yourNextViewController animated:YES];\n}\n</code></pre>\n"}],"owner":{"account_id":1227580,"reputation":985,"user_id":1192863,"accept_rate":67,"display_name":"Blake Loizides"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2687,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":12386838,"answer_count":3,"score":1,"last_activity_date":1684949623,"creation_date":1347447355,"question_id":12386624,"body_markdown":"I have made a Xcode project for a tabbed application that displays images of color swatches in a Scrollview. How do I link One of the images in my scrollview to go to the next View Controller? Below is my code and pictures. So when you click on one of the images or swatch color in the scrollview it links to the New Controller.\r\n\r\nI have multiple images that scroll down the page of the iPhone, Do I have to loop the images cause there are 24 images. I was able to make one button and link it to the next scene with the interface builder, But I can fit 5 images on the screen.. \r\n\r\nDecorsViewController_iPhone.h\r\n    \r\n     #import &lt;UIKit/UIKit.h&gt;\r\n\r\n     @interface DecorsViewController_iPhone : UIViewController\r\n\r\n     {\r\n\tIBOutlet UIScrollView *scrollViewDecors;\r\n     }\r\n\r\n    @property (nonatomic, retain) UIView *scrollViewDecors;\r\n\r\n    @end\r\n\r\nDecorsViewController_iPhone.m\r\n                  \r\n    #import &quot;DecorsViewController_iPhone.h&quot;\r\n\r\n    @interface DecorsViewController_iPhone ()\r\n\r\n    @end\r\n\r\n    @implementation DecorsViewController_iPhone\r\n\r\n\r\n    @synthesize scrollViewDecors;\r\n\r\n\r\n    const CGFloat kScrollObjHeight\t= 81.5;\r\n    const CGFloat kScrollObjWidth\t= 320.0;\r\n    const NSUInteger kNumImages\t\t= 24;\r\n\r\n\r\n    - (void)layoutScrollImages\r\n    {\r\n\tUIImageView *view = nil;\r\n\tNSArray *subviews = [scrollViewDecors subviews];\r\n    \r\n\t// reposition all image subviews in a horizontal serial fashion\r\n\tCGFloat curXLoc = 0;\r\n    CGFloat curYLoc = 0;\r\n    CGFloat curYSpace = 1;\r\n    \r\n\tfor (view in subviews)\r\n\t{\r\n\t\tif ([view isKindOfClass:[UIImageView class]] &amp;&amp; view.tag &gt; 0)\r\n\t\t{\r\n\t\t\tCGRect frame = view.frame;\r\n\t\t\tframe.origin = CGPointMake(curXLoc, curYLoc);\r\n\t\t\tview.frame = frame;\r\n            \r\n            curYLoc += (curYSpace + kScrollObjHeight);\r\n\t\t}\r\n\t}\r\n\t\r\n\t// set the content size so it can be scrollable\r\n        [scrollViewDecors setContentSize:CGSizeMake(([scrollViewDecors bounds].size.width), (kNumImages * kScrollObjHeight))]; // Vertical Option\r\n     }\r\n\r\n    - (void)viewDidLoad\r\n    {\r\n\tself.view.backgroundColor = [UIColor viewFlipsideBackgroundColor];\r\n    \r\n\t// 1. setup the scrollview for multiple images and add it to the view controller\r\n\t//\r\n\t// note: the following can be done in Interface Builder, but we show this in code for clarity\r\n\t[scrollViewDecors setBackgroundColor:[UIColor blackColor]];\r\n\t[scrollViewDecors setCanCancelContentTouches:NO];\r\n\tscrollViewDecors.indicatorStyle = UIScrollViewIndicatorStyleWhite;\r\n\tscrollViewDecors.clipsToBounds = YES;\t\t// default is NO, we want to restrict drawing within our scrollview\r\n\tscrollViewDecors.scrollEnabled = YES;\r\n\t\r\n\t// pagingEnabled property default is NO, if set the scroller will stop or snap at each photo\r\n\t// if you want free-flowing scroll, don&#39;t set this property.\r\n\t// scrollView1.pagingEnabled = YES;\r\n\t\r\n\t// load all the images from our bundle and add them to the scroll view\r\n\tNSUInteger i;\r\n\tfor (i = 1; i &lt;= kNumImages; i++)\r\n\t{\r\n        \r\n        \r\n\t\tNSString *imageName = [NSString  stringWithFormat:@&quot;Artwork_iPhone_Decors_Scrollview_%d.png&quot;, i];\r\n\t\tUIImage *image = [UIImage imageNamed:imageName];\r\n\t\tUIImageView *imageView = [[UIImageView alloc] initWithImage:image];\r\n        \r\n\t\t// setup each frame to a default height and width, it will be properly placed when we call &quot;updateScrollList&quot;\r\n\t\tCGRect rect = imageView.frame;\r\n\t\trect.size.height = kScrollObjHeight;\r\n\t\trect.size.width = kScrollObjWidth;\r\n\t\timageView.frame = rect;\r\n\t\timageView.tag = i;\t// tag our images for later use when we place them in serial fashion\r\n\t\t[scrollViewDecors addSubview:imageView];\r\n\t\t//[imageView release];\r\n\t}\r\n\t\r\n\t[self layoutScrollImages];\t// now place the photos in serial layout within the scrollview\r\n\t\r\n    }\r\n\r\n    //- (void)dealloc\r\n    //{\t\r\n    //\t[scrollViewDecors release];\r\n    //\t\r\n    //\t[super dealloc];\r\n    //}\r\n\r\n    //- (void)viewDidLoad\r\n    //{\r\n    // [super viewDidLoad];\r\n    //\t// Do any additional setup after loading the view, typically from a nib.\r\n    //}\r\n\r\n    - (void)viewDidUnload\r\n    {\r\n    [super viewDidUnload];\r\n    // Release any retained subviews of the main view.\r\n    }\r\n\r\n    - (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation\r\n    {\r\n    if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone) {\r\n        return (interfaceOrientation != UIInterfaceOrientationPortraitUpsideDown);\r\n    } else {\r\n        return YES;\r\n    }\r\n    }\r\n\r\n    @end\r\n\r\n![enter image description here][1]\r\n\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/U0tMn.png\r\n  [2]: http://i.stack.imgur.com/FXt2g.png","title":"Xcode image link ImageView into next View Controller","body":"<p>I have made a Xcode project for a tabbed application that displays images of color swatches in a Scrollview. How do I link One of the images in my scrollview to go to the next View Controller? Below is my code and pictures. So when you click on one of the images or swatch color in the scrollview it links to the New Controller.</p>\n\n<p>I have multiple images that scroll down the page of the iPhone, Do I have to loop the images cause there are 24 images. I was able to make one button and link it to the next scene with the interface builder, But I can fit 5 images on the screen.. </p>\n\n<p>DecorsViewController_iPhone.h</p>\n\n<pre><code> #import &lt;UIKit/UIKit.h&gt;\n\n @interface DecorsViewController_iPhone : UIViewController\n\n {\nIBOutlet UIScrollView *scrollViewDecors;\n }\n\n@property (nonatomic, retain) UIView *scrollViewDecors;\n\n@end\n</code></pre>\n\n<p>DecorsViewController_iPhone.m</p>\n\n<pre><code>#import \"DecorsViewController_iPhone.h\"\n\n@interface DecorsViewController_iPhone ()\n\n@end\n\n@implementation DecorsViewController_iPhone\n\n\n@synthesize scrollViewDecors;\n\n\nconst CGFloat kScrollObjHeight  = 81.5;\nconst CGFloat kScrollObjWidth   = 320.0;\nconst NSUInteger kNumImages     = 24;\n\n\n- (void)layoutScrollImages\n{\nUIImageView *view = nil;\nNSArray *subviews = [scrollViewDecors subviews];\n\n// reposition all image subviews in a horizontal serial fashion\nCGFloat curXLoc = 0;\nCGFloat curYLoc = 0;\nCGFloat curYSpace = 1;\n\nfor (view in subviews)\n{\n    if ([view isKindOfClass:[UIImageView class]] &amp;&amp; view.tag &gt; 0)\n    {\n        CGRect frame = view.frame;\n        frame.origin = CGPointMake(curXLoc, curYLoc);\n        view.frame = frame;\n\n        curYLoc += (curYSpace + kScrollObjHeight);\n    }\n}\n\n// set the content size so it can be scrollable\n    [scrollViewDecors setContentSize:CGSizeMake(([scrollViewDecors bounds].size.width), (kNumImages * kScrollObjHeight))]; // Vertical Option\n }\n\n- (void)viewDidLoad\n{\nself.view.backgroundColor = [UIColor viewFlipsideBackgroundColor];\n\n// 1. setup the scrollview for multiple images and add it to the view controller\n//\n// note: the following can be done in Interface Builder, but we show this in code for clarity\n[scrollViewDecors setBackgroundColor:[UIColor blackColor]];\n[scrollViewDecors setCanCancelContentTouches:NO];\nscrollViewDecors.indicatorStyle = UIScrollViewIndicatorStyleWhite;\nscrollViewDecors.clipsToBounds = YES;       // default is NO, we want to restrict drawing within our scrollview\nscrollViewDecors.scrollEnabled = YES;\n\n// pagingEnabled property default is NO, if set the scroller will stop or snap at each photo\n// if you want free-flowing scroll, don't set this property.\n// scrollView1.pagingEnabled = YES;\n\n// load all the images from our bundle and add them to the scroll view\nNSUInteger i;\nfor (i = 1; i &lt;= kNumImages; i++)\n{\n\n\n    NSString *imageName = [NSString  stringWithFormat:@\"Artwork_iPhone_Decors_Scrollview_%d.png\", i];\n    UIImage *image = [UIImage imageNamed:imageName];\n    UIImageView *imageView = [[UIImageView alloc] initWithImage:image];\n\n    // setup each frame to a default height and width, it will be properly placed when we call \"updateScrollList\"\n    CGRect rect = imageView.frame;\n    rect.size.height = kScrollObjHeight;\n    rect.size.width = kScrollObjWidth;\n    imageView.frame = rect;\n    imageView.tag = i;  // tag our images for later use when we place them in serial fashion\n    [scrollViewDecors addSubview:imageView];\n    //[imageView release];\n}\n\n[self layoutScrollImages];  // now place the photos in serial layout within the scrollview\n\n}\n\n//- (void)dealloc\n//{ \n//  [scrollViewDecors release];\n//  \n//  [super dealloc];\n//}\n\n//- (void)viewDidLoad\n//{\n// [super viewDidLoad];\n//  // Do any additional setup after loading the view, typically from a nib.\n//}\n\n- (void)viewDidUnload\n{\n[super viewDidUnload];\n// Release any retained subviews of the main view.\n}\n\n- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation\n{\nif ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone) {\n    return (interfaceOrientation != UIInterfaceOrientationPortraitUpsideDown);\n} else {\n    return YES;\n}\n}\n\n@end\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/U0tMn.png\" alt=\"enter image description here\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/FXt2g.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","testng"],"comments":[{"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"score":0,"creation_date":1684936125,"post_id":76324163,"comment_id":134590523,"body_markdown":"i rephrased my question to no longer be opinion based","body":"i rephrased my question to no longer be opinion based"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684949559,"creation_date":1684949559,"answer_id":76326084,"question_id":76324163,"body_markdown":"I am not an expert especially with TestNG but regularly write unit tests in Java.\r\n\r\nI recommend to remove the visibility keyword completely from the test methods for improved readability (making them package private or default visible).\r\n\r\n``` lang-java\r\n@Test\r\nvoid testMyStuff() {}\r\n```\r\n\r\nIf TestNG allows for this, it simply will reduce the number of characters you visually have to read to understand the code. The visibility does not add anything useful to the information you need for a test method. You also will save time typing it.","title":"Is there some reason to make TestNG @Test annotated methods public versus private?","body":"<p>I am not an expert especially with TestNG but regularly write unit tests in Java.</p>\n<p>I recommend to remove the visibility keyword completely from the test methods for improved readability (making them package private or default visible).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid testMyStuff() {}\n</code></pre>\n<p>If TestNG allows for this, it simply will reduce the number of characters you visually have to read to understand the code. The visibility does not add anything useful to the information you need for a test method. You also will save time typing it.</p>\n"}],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76326084,"answer_count":1,"score":1,"last_activity_date":1684949559,"creation_date":1684935477,"question_id":76324163,"body_markdown":"Is there some reason to make TestNG @Test annotated methods public versus private?\r\n\r\nI want to be consistent but not sure which one to use. \r\n\r\n```\r\n@Test\r\nprivate void testMyStuff() {}\r\n```\r\n\r\nor\r\n\r\n\r\n```\r\n@Test\r\npublic void testMyStuff() {}\r\n```\r\n\r\nor other?","title":"Is there some reason to make TestNG @Test annotated methods public versus private?","body":"<p>Is there some reason to make TestNG @Test annotated methods public versus private?</p>\n<p>I want to be consistent but not sure which one to use.</p>\n<pre><code>@Test\nprivate void testMyStuff() {}\n</code></pre>\n<p>or</p>\n<pre><code>@Test\npublic void testMyStuff() {}\n</code></pre>\n<p>or other?</p>\n"},{"tags":["java","email","servlets"],"comments":[{"owner":{"account_id":91170,"reputation":6162,"user_id":250517,"accept_rate":75,"display_name":"Grzegorz Grzybek"},"score":1,"creation_date":1339663252,"post_id":11029444,"comment_id":14421375,"body_markdown":"ping is not a proof that you can send an email. Try `telnet usdc2spam2.slingmedia.com 9000`. Or if you (Win7) don&#39;t have `telnet`, use e.g. [Putty](http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html)","body":"ping is not a proof that you can send an email. Try <code>telnet usdc2spam2.slingmedia.com 9000</code>. Or if you (Win7) don&#39;t have <code>telnet</code>, use e.g. <a href=\"http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html\" rel=\"nofollow noreferrer\">Putty</a>"},{"owner":{"account_id":80298,"reputation":34530,"user_id":227140,"accept_rate":80,"display_name":"beny23"},"score":1,"creation_date":1339663278,"post_id":11029444,"comment_id":14421389,"body_markdown":"What happens when you try `telnet usdc2spam2.slingmedia.com 9000`?  I suspect that you&#39;re specifying the wrong port in the `mail.smtp.port` property.","body":"What happens when you try <code>telnet usdc2spam2.slingmedia.com 9000</code>?  I suspect that you&#39;re specifying the wrong port in the <code>mail.smtp.port</code> property."}],"answers":[{"tags":[],"owner":{"account_id":129863,"reputation":6504,"user_id":328725,"accept_rate":66,"display_name":"posdef"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1339663300,"creation_date":1339663300,"answer_id":11029553,"question_id":11029444,"body_markdown":"What causes your problem is right there in the stack trace:\r\n\r\n    java.net.ConnectException: Connection refused: connect\r\n\r\ndo you need a password to connect to the SMTP server? Are you sure you are using the right settings (as in port number)? Are you behind a proxy or a firewall? Can you use those settings in a regular mail program (e.g. Thunderbird) and send mails?","title":"javax.mail.MessagingException: Could not connect to SMTP host?","body":"<p>What causes your problem is right there in the stack trace:</p>\n\n<pre><code>java.net.ConnectException: Connection refused: connect\n</code></pre>\n\n<p>do you need a password to connect to the SMTP server? Are you sure you are using the right settings (as in port number)? Are you behind a proxy or a firewall? Can you use those settings in a regular mail program (e.g. Thunderbird) and send mails?</p>\n"},{"tags":[],"owner":{"account_id":1548869,"reputation":231,"user_id":1441734,"accept_rate":0,"display_name":"Warner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1339678849,"creation_date":1339663490,"answer_id":11029608,"question_id":11029444,"body_markdown":"Try to add port 9000 to your inbound rules in your windows firewall.","title":"javax.mail.MessagingException: Could not connect to SMTP host?","body":"<p>Try to add port 9000 to your inbound rules in your windows firewall.</p>\n"},{"tags":[],"owner":{"account_id":269597,"reputation":14829,"user_id":559026,"accept_rate":93,"display_name":"Hardik Mishra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1339673868,"creation_date":1339672078,"answer_id":11031808,"question_id":11029444,"body_markdown":"This exception usually occurs when there is no service listening on the port you are trying to connect to.\r\n\r\nTry to connect using `putty` or `telnet`. I can bet you will get the same error.\r\n\r\nVerify these things:\r\n\r\n  - Host name and port you&#39;re trying to connect to,\r\n  - The server is listening correctly, and\r\n  - There&#39;s no firewall blocking the connection.\r\n","title":"javax.mail.MessagingException: Could not connect to SMTP host?","body":"<p>This exception usually occurs when there is no service listening on the port you are trying to connect to.</p>\n\n<p>Try to connect using <code>putty</code> or <code>telnet</code>. I can bet you will get the same error.</p>\n\n<p>Verify these things:</p>\n\n<ul>\n<li>Host name and port you're trying to connect to,</li>\n<li>The server is listening correctly, and</li>\n<li>There's no firewall blocking the connection.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":485524,"reputation":4470,"user_id":1277859,"accept_rate":75,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1339675871,"creation_date":1339673975,"answer_id":11032290,"question_id":11029444,"body_markdown":"This is these two lines which was casting me the problem :\r\n\r\n  \r\n\r\n    m_properties.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;465&quot;);\r\n      m_properties.put(&quot;mail.smtp.socketFactory.class&quot;,&quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n\r\nand added this line : \r\n\r\n  \r\n\r\n    m_properties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\r\nAfter removing and adding the above lines of code it worked fine.\r\n\r\n","title":"javax.mail.MessagingException: Could not connect to SMTP host?","body":"<p>This is these two lines which was casting me the problem :</p>\n\n<pre><code>m_properties.put(\"mail.smtp.socketFactory.port\", \"465\");\n  m_properties.put(\"mail.smtp.socketFactory.class\",\"javax.net.ssl.SSLSocketFactory\");\n</code></pre>\n\n<p>and added this line : </p>\n\n<pre><code>m_properties.put(\"mail.smtp.starttls.enable\", \"true\");\n</code></pre>\n\n<p>After removing and adding the above lines of code it worked fine.</p>\n"},{"tags":[],"owner":{"account_id":25865043,"reputation":39,"user_id":19596877,"display_name":"Bilal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684949428,"creation_date":1684949066,"answer_id":76326014,"question_id":11029444,"body_markdown":"        Properties props = new Properties();\r\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n        props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n        props.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n\r\nThis might work\r\n","title":"javax.mail.MessagingException: Could not connect to SMTP host?","body":"<pre><code>    Properties props = new Properties();\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n    props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n    props.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n</code></pre>\n<p>This might work</p>\n"}],"owner":{"account_id":485524,"reputation":4470,"user_id":1277859,"accept_rate":75,"display_name":"Joe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106753,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":11032290,"answer_count":5,"score":9,"last_activity_date":1684949428,"creation_date":1339662875,"question_id":11029444,"body_markdown":"following is my code to send mail:\r\n\r\n    import java.util.Properties;\r\n    import javax.mail.Authenticator;\r\n    import javax.mail.Message;\r\n    import javax.mail.Message.RecipientType;\r\n    import javax.mail.MessagingException;\r\n    import javax.mail.PasswordAuthentication;\r\n    import javax.mail.Session;\r\n    import javax.mail.Transport;\r\n    import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeMessage;\r\n    public class SendMail {\r\n        public void sendMail(String m_from,String m_to,String m_subject,String m_body){\r\n          try {\r\n        \t    Session m_Session;\r\n        \t    Message m_simpleMessage;\r\n        \t    InternetAddress m_fromAddress;\r\n        \t    InternetAddress m_toAddress;\r\n        \t    Properties m_properties;\r\n    \r\n        \t    m_properties     = new Properties();\r\n                m_properties.put(&quot;mail.smtp.host&quot;, &quot;usdc2spam2.slingmedia.com&quot;); \r\n                m_properties.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;465&quot;);\r\n                m_properties.put(&quot;mail.smtp.socketFactory.class&quot;,&quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n                m_properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n                m_properties.put(&quot;mail.smtp.port&quot;, &quot;9000&quot;);\r\n    \r\n                m_Session=Session.getDefaultInstance(m_properties,new Authenticator() {\r\n                    protected PasswordAuthentication getPasswordAuthentication() {\r\n                        return new PasswordAuthentication(&quot;aaaaa&quot;,&quot;bbbbb@1&quot;); // username and the password\r\n                    }\r\n                });\r\n                \r\n                m_simpleMessage  =   new MimeMessage(m_Session);\r\n                m_fromAddress    =   new InternetAddress(m_from);\r\n                m_toAddress      =   new InternetAddress(m_to);\r\n    \r\n                m_simpleMessage.setFrom(m_fromAddress);\r\n                m_simpleMessage.setRecipient(RecipientType.TO, m_toAddress);\r\n                m_simpleMessage.setSubject(m_subject);\r\n               \r\n                m_simpleMessage.setContent(m_body, &quot;text/html&quot;);\r\n    \t\t     \r\n                //m_simpleMessage.setContent(m_body,&quot;text/plain&quot;);\r\n    \r\n                Transport.send(m_simpleMessage);\r\n            } catch (MessagingException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n        public static void main(String[] args) {\r\n          SendMail send_mail    =   new SendMail();\r\n          String empName = &quot;xxxxx&quot;;\r\n          String title =&quot;&lt;b&gt;Hi !&quot;+empName+&quot;&lt;/b&gt;&quot;;\r\n          send_mail.sendMail(&quot;123erft@slingmedia.com&quot;, &quot;abz@gmail.com&quot;, &quot;Please apply for leave for the following dates&quot;, title+&quot;&lt;br&gt;by&lt;br&gt;&lt;b&gt;HR&lt;b&gt;&quot;);\r\n        }\r\n    }\r\nbut when i run the  code it gives me the following exception.\r\n\r\n    javax.mail.MessagingException: Could not connect to SMTP host: usdc2spam2.slingmedia.com, port: 9000;\r\n      nested exception is:\r\n    \tjava.net.ConnectException: Connection refused: connect\r\n    \tat com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1934)\r\n    \tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:638)\r\n    \tat javax.mail.Service.connect(Service.java:317)\r\n    \tat javax.mail.Service.connect(Service.java:176)\r\n    \tat javax.mail.Service.connect(Service.java:125)\r\n    \tat javax.mail.Transport.send0(Transport.java:194)\r\n    \tat javax.mail.Transport.send(Transport.java:124)\r\n    \tat samples.SendMail.sendMail(SendMail.java:46)\r\n    \tat samples.SendMail.main(SendMail.java:55)\r\n    Caused by: java.net.ConnectException: Connection refused: connect\r\n    \tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n    \tat java.net.PlainSocketImpl.doConnect(Unknown Source)\r\n    \tat java.net.PlainSocketImpl.connectToAddress(Unknown Source)\r\n    \tat java.net.PlainSocketImpl.connect(Unknown Source)\r\n    \tat java.net.SocksSocketImpl.connect(Unknown Source)\r\n    \tat java.net.Socket.connect(Unknown Source)\r\n    \tat java.net.Socket.connect(Unknown Source)\r\n    \tat com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:288)\r\n    \tat com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:231)\r\n    \tat com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1900)\r\n\r\nwhen i ping this `usdc2spam2.slingmedia.com` it gives me reply without any problem. I am using `windows 7`\r\n\r\nPlease help me to resolve this.","title":"javax.mail.MessagingException: Could not connect to SMTP host?","body":"<p>following is my code to send mail:</p>\n\n<pre><code>import java.util.Properties;\nimport javax.mail.Authenticator;\nimport javax.mail.Message;\nimport javax.mail.Message.RecipientType;\nimport javax.mail.MessagingException;\nimport javax.mail.PasswordAuthentication;\nimport javax.mail.Session;\nimport javax.mail.Transport;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\npublic class SendMail {\n    public void sendMail(String m_from,String m_to,String m_subject,String m_body){\n      try {\n            Session m_Session;\n            Message m_simpleMessage;\n            InternetAddress m_fromAddress;\n            InternetAddress m_toAddress;\n            Properties m_properties;\n\n            m_properties     = new Properties();\n            m_properties.put(\"mail.smtp.host\", \"usdc2spam2.slingmedia.com\"); \n            m_properties.put(\"mail.smtp.socketFactory.port\", \"465\");\n            m_properties.put(\"mail.smtp.socketFactory.class\",\"javax.net.ssl.SSLSocketFactory\");\n            m_properties.put(\"mail.smtp.auth\", \"true\");\n            m_properties.put(\"mail.smtp.port\", \"9000\");\n\n            m_Session=Session.getDefaultInstance(m_properties,new Authenticator() {\n                protected PasswordAuthentication getPasswordAuthentication() {\n                    return new PasswordAuthentication(\"aaaaa\",\"bbbbb@1\"); // username and the password\n                }\n            });\n\n            m_simpleMessage  =   new MimeMessage(m_Session);\n            m_fromAddress    =   new InternetAddress(m_from);\n            m_toAddress      =   new InternetAddress(m_to);\n\n            m_simpleMessage.setFrom(m_fromAddress);\n            m_simpleMessage.setRecipient(RecipientType.TO, m_toAddress);\n            m_simpleMessage.setSubject(m_subject);\n\n            m_simpleMessage.setContent(m_body, \"text/html\");\n\n            //m_simpleMessage.setContent(m_body,\"text/plain\");\n\n            Transport.send(m_simpleMessage);\n        } catch (MessagingException ex) {\n            ex.printStackTrace();\n        }\n    }\n    public static void main(String[] args) {\n      SendMail send_mail    =   new SendMail();\n      String empName = \"xxxxx\";\n      String title =\"&lt;b&gt;Hi !\"+empName+\"&lt;/b&gt;\";\n      send_mail.sendMail(\"123erft@slingmedia.com\", \"abz@gmail.com\", \"Please apply for leave for the following dates\", title+\"&lt;br&gt;by&lt;br&gt;&lt;b&gt;HR&lt;b&gt;\");\n    }\n}\n</code></pre>\n\n<p>but when i run the  code it gives me the following exception.</p>\n\n<pre><code>javax.mail.MessagingException: Could not connect to SMTP host: usdc2spam2.slingmedia.com, port: 9000;\n  nested exception is:\n    java.net.ConnectException: Connection refused: connect\n    at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1934)\n    at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:638)\n    at javax.mail.Service.connect(Service.java:317)\n    at javax.mail.Service.connect(Service.java:176)\n    at javax.mail.Service.connect(Service.java:125)\n    at javax.mail.Transport.send0(Transport.java:194)\n    at javax.mail.Transport.send(Transport.java:124)\n    at samples.SendMail.sendMail(SendMail.java:46)\n    at samples.SendMail.main(SendMail.java:55)\nCaused by: java.net.ConnectException: Connection refused: connect\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.net.PlainSocketImpl.doConnect(Unknown Source)\n    at java.net.PlainSocketImpl.connectToAddress(Unknown Source)\n    at java.net.PlainSocketImpl.connect(Unknown Source)\n    at java.net.SocksSocketImpl.connect(Unknown Source)\n    at java.net.Socket.connect(Unknown Source)\n    at java.net.Socket.connect(Unknown Source)\n    at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:288)\n    at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:231)\n    at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1900)\n</code></pre>\n\n<p>when i ping this <code>usdc2spam2.slingmedia.com</code> it gives me reply without any problem. I am using <code>windows 7</code></p>\n\n<p>Please help me to resolve this.</p>\n"},{"tags":["java","object","inheritance"],"comments":[{"owner":{"display_name":"user10992464"},"score":2,"creation_date":1613389392,"post_id":66207357,"comment_id":117051464,"body_markdown":"You can use both this.brand (which is the same as brand()) and super.brand() if the method is not overridden in your class. If you override it, the this.brand() points to the new method, while the super.brand() calls the original.","body":"You can use both this.brand (which is the same as brand()) and super.brand() if the method is not overridden in your class. If you override it, the this.brand() points to the new method, while the super.brand() calls the original."}],"answers":[{"tags":[],"owner":{"account_id":10594861,"reputation":343,"user_id":7803975,"display_name":"Ihan Dilnath"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1684949245,"creation_date":1613389873,"answer_id":66207538,"question_id":66207357,"body_markdown":"Consider this code snippet,\r\n\r\n    class Vehicle {\r\n        public void brand(){\r\n            System.out.println(&quot;This is a vehicle&quot;);\r\n        }\r\n    }\r\n    \r\n    class Airplane extends Vehicle {\r\n        public void brand() {\r\n            System.out.println(&quot;This is an airplane&quot;);\r\n        }\r\n    \r\n        public void anotherMethodInAirplane() {\r\n            this.brand();\r\n            super.brand();\r\n        }\r\n    }\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Airplane airplane = new Airplane();\r\n            airplane.anotherMethodInAirplane();\r\n        }\r\n    }\r\n\r\n\r\nIf you were to execute this, you would see that this.brand() prints &quot;This is an airplane&quot; first and then super.brand() prints &quot;This is a vehicle&quot;. \r\n\r\nSo,\r\n\r\n 1. If you call super.someMethod(), it will always call the method in your superclass.\r\n 2. If you call this.someMethod() and someMethod() has been overridden by your subclass (Airplane in this example) then that will be called. \r\n 3. However, if someMethod() is not overridden in your subclass, then the super class implementation of someMethod() will be executed by default\r\n","title":"Simple question about Inheritance in Java","body":"<p>Consider this code snippet,</p>\n<pre><code>class Vehicle {\n    public void brand(){\n        System.out.println(&quot;This is a vehicle&quot;);\n    }\n}\n\nclass Airplane extends Vehicle {\n    public void brand() {\n        System.out.println(&quot;This is an airplane&quot;);\n    }\n\n    public void anotherMethodInAirplane() {\n        this.brand();\n        super.brand();\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Airplane airplane = new Airplane();\n        airplane.anotherMethodInAirplane();\n    }\n}\n</code></pre>\n<p>If you were to execute this, you would see that this.brand() prints &quot;This is an airplane&quot; first and then super.brand() prints &quot;This is a vehicle&quot;.</p>\n<p>So,</p>\n<ol>\n<li>If you call super.someMethod(), it will always call the method in your superclass.</li>\n<li>If you call this.someMethod() and someMethod() has been overridden by your subclass (Airplane in this example) then that will be called.</li>\n<li>However, if someMethod() is not overridden in your subclass, then the super class implementation of someMethod() will be executed by default</li>\n</ol>\n"}],"owner":{"account_id":19306689,"reputation":69,"user_id":14113346,"display_name":"Roux"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66207538,"answer_count":1,"score":0,"last_activity_date":1684949245,"creation_date":1613389121,"question_id":66207357,"body_markdown":"I have a question about inheritance.\r\nIf I wanna call a method from the parent class in the child class, should I either use `super.method()` or `this.method()`? In the programs I&#39;m programming, they both work so I&#39;m using both of them but I don&#39;t really think that this is the right way.\r\n\r\nFor instance, let&#39;s say I have a class called &quot;Vehicle&quot; and another which we will call &quot;Airplane&quot;. Let&#39;s say I have a brand() method in Vehicle. Should I either use `this.brand()` or `super.brand()`?","title":"Simple question about Inheritance in Java","body":"<p>I have a question about inheritance.\nIf I wanna call a method from the parent class in the child class, should I either use <code>super.method()</code> or <code>this.method()</code>? In the programs I'm programming, they both work so I'm using both of them but I don't really think that this is the right way.</p>\n<p>For instance, let's say I have a class called &quot;Vehicle&quot; and another which we will call &quot;Airplane&quot;. Let's say I have a brand() method in Vehicle. Should I either use <code>this.brand()</code> or <code>super.brand()</code>?</p>\n"},{"tags":["java","hibernate","jpa","orm"],"comments":[{"owner":{"account_id":6550845,"reputation":1029,"user_id":5065316,"accept_rate":43,"display_name":"Leo"},"score":0,"creation_date":1465876372,"post_id":37780811,"comment_id":63070486,"body_markdown":"It is so weird, but when I set Hibernate version to  4.1.9.Final my code works well: *****  *****\nFetch Count=0\nSecond Level Hit Count=0\nSecond Level Miss Count=0\nSecond Level Put Count=0\nComplete! May be it is bug in version hibernate version higher 4.1.9?","body":"It is so weird, but when I set Hibernate version to  4.1.9.Final my code works well: *****  ***** Fetch Count=0 Second Level Hit Count=0 Second Level Miss Count=0 Second Level Put Count=0 Complete! May be it is bug in version hibernate version higher 4.1.9?"},{"owner":{"account_id":6095096,"reputation":31,"user_id":4756165,"display_name":"DevMario"},"score":0,"creation_date":1522072263,"post_id":37780811,"comment_id":85989658,"body_markdown":"That solution helped me with this error. I hope you too. https://stackoverflow.com/questions/24693853/can-not-set-java-lang-integer-field-to-java-lang-integer","body":"That solution helped me with this error. I hope you too. <a href=\"https://stackoverflow.com/questions/24693853/can-not-set-java-lang-integer-field-to-java-lang-integer\" title=\"can not set java lang integer field to java lang integer\">stackoverflow.com/questions/24693853/&hellip;</a>"},{"owner":{"account_id":1333658,"reputation":114,"user_id":1276926,"display_name":"Romain Ciaccafava"},"score":2,"creation_date":1526635983,"post_id":37780811,"comment_id":87831689,"body_markdown":"In case it helps, I had the same error in a Spring Boot 2 + Hibernate 5 application. This error was caused by the spring devtools starter. If think this is kinda linked with the live reload.","body":"In case it helps, I had the same error in a Spring Boot 2 + Hibernate 5 application. This error was caused by the spring devtools starter. If think this is kinda linked with the live reload."}],"answers":[{"tags":[],"owner":{"account_id":9315829,"reputation":21,"user_id":6916219,"display_name":"AlexankrKotov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1475505676,"creation_date":1475505676,"answer_id":39834272,"question_id":37780811,"body_markdown":"It is bug in version 5.0 and 5.1.0\r\nhttps://hibernate.atlassian.net/browse/HHH-10618","title":"Hibernate: Error accessing field [private java.lang.Integer ] by reflection for persistent property","body":"<p>It is bug in version 5.0 and 5.1.0\n<a href=\"https://hibernate.atlassian.net/browse/HHH-10618\" rel=\"nofollow\">https://hibernate.atlassian.net/browse/HHH-10618</a></p>\n"},{"tags":[],"owner":{"account_id":5178423,"reputation":441,"user_id":4144805,"display_name":"Anas Lachheb"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1475513757,"creation_date":1475513757,"answer_id":39836660,"question_id":37780811,"body_markdown":"I advice you to keep working with hibernate version 4.X.X instead of the version 5 because it&#39;s not 100% stable (**more the 2000 issues**).\r\n\r\nhttps://hibernate.atlassian.net/projects/HHH/issues/HHH-11144?filter=allopenissues\r\n\r\nGood luck\r\n\r\n","title":"Hibernate: Error accessing field [private java.lang.Integer ] by reflection for persistent property","body":"<p>I advice you to keep working with hibernate version 4.X.X instead of the version 5 because it's not 100% stable (<strong>more the 2000 issues</strong>).</p>\n\n<p><a href=\"https://hibernate.atlassian.net/projects/HHH/issues/HHH-11144?filter=allopenissues\" rel=\"nofollow\">https://hibernate.atlassian.net/projects/HHH/issues/HHH-11144?filter=allopenissues</a></p>\n\n<p>Good luck</p>\n"},{"tags":[],"owner":{"account_id":5071338,"reputation":935,"user_id":4070021,"accept_rate":65,"display_name":"onderbewustzijn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1495111952,"creation_date":1495111952,"answer_id":44048323,"question_id":37780811,"body_markdown":"I am working with EAP7, which contains Hibernate Core {5.0.9.Final-redhat-1}\r\n\r\nI have two entities:\r\n\r\n    @Entity\r\n    @Data\r\n    @EqualsAndHashCode(callSuper = true, doNotUseGetters = true)\r\n    @ToString(callSuper = true, doNotUseGetters = true)\r\n    public class Keuze extends MainTable {\r\n    \r\n\t@NonNull\r\n\tString naam;\r\n    \r\n\t@Tolerate\r\n\tpublic Keuze() {\r\n\t}\r\n    \r\n    }\r\n\r\n\r\nand\r\n\r\n    @Entity\r\n    @Data\r\n    @EqualsAndHashCode(callSuper = true, doNotUseGetters = true, exclude = {&quot;gegeven&quot;, &quot;werkJaar&quot;, &quot;keuze&quot;, &quot;keuzes&quot; })\r\n    @ToString(callSuper = true, doNotUseGetters = true, exclude = { &quot;gegeven&quot;, &quot;werkJaar&quot;, &quot;keuze&quot;, &quot;keuzes&quot; })\r\n    public class Waarde extends MainTable {\r\n    \r\n\t@NonNull\r\n\t@ManyToOne(optional = false, fetch = FetchType.LAZY)\r\n\tGegeven gegeven;\r\n    \r\n\t@NonNull\r\n\t@ManyToOne(optional = false, fetch = FetchType.LAZY)\r\n\tWerkJaar werkJaar;\r\n    \r\n\tString alfanumeriek;\r\n    \r\n\tInteger numeriek;\r\n    \r\n\tBigDecimal valuta;\r\n    \r\n\t@Lob\r\n\tString tekst;\r\n    \r\n\tBoolean polair;\r\n    \r\n\t@OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\r\n\tKeuze keuze;\r\n    \r\n\t@ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.MERGE)\r\n\tSet&lt;Keuze&gt; keuzes;\r\n    \r\n\t@Tolerate\r\n\tpublic Waarde() {\r\n\t}\r\n    \r\n    }\r\n\r\nThey both extend from this class:\r\n\r\n    @MappedSuperclass\r\n    @Data\r\n    @Cacheable\r\n    public abstract class MainTable {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    Long id;\r\n    \r\n    @Version\r\n    Long version;\r\n    \r\n    }\r\n\r\nWhen calling merge upon Waarde, it throws following error:\r\n\r\n    Caused by: org.hibernate.property.access.spi.PropertyAccessException: Error accessing field [java.lang.Long vo.cjsm.monitoring.data.schema.dynamic.main.MainTable.id] by reflection for persistent property [vo.cjsm.monitoring.data.schema.dynamic.field.Keuze#id] : Keuze(super=MainTable(id=1, version=0), naam=Leesmotivatie)\r\n    at org.hibernate.property.access.spi.GetterFieldImpl.get(GetterFieldImpl.java:43)\r\n    at org.hibernate.tuple.entity.AbstractEntityTuplizer.getIdentifier(AbstractEntityTuplizer.java:223)\r\n    at org.hibernate.persister.entity.AbstractEntityPersister.getIdentifier(AbstractEntityPersister.java:4601)\r\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:148)\r\n    at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:850)\r\n    at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:832)\r\n    at org.hibernate.engine.spi.CascadingActions$6.cascade(CascadingActions.java:260)\r\n    at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:398)\r\n    at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:323)\r\n    at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:162)\r\n    at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:431)\r\n    at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:363)\r\n    at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:326)\r\n    at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:162)\r\n    at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:111)\r\n    at org.hibernate.event.internal.DefaultMergeEventListener.cascadeOnMerge(DefaultMergeEventListener.java:468)\r\n    at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:327)\r\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:170)\r\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:69)\r\n    at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:840)\r\n    at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:822)\r\n    at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:827)\r\n    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.merge(AbstractEntityManagerImpl.java:1161)\r\n    ... 149 more\r\n    Caused by: java.lang.IllegalArgumentException: Can not set java.lang.Long field vo.cjsm.monitoring.data.schema.dynamic.main.MainTable.id to java.lang.String\r\n    at sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167)\r\n    at sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171)\r\n    at sun.reflect.UnsafeFieldAccessorImpl.ensureObj(UnsafeFieldAccessorImpl.java:58)\r\n    at sun.reflect.UnsafeObjectFieldAccessorImpl.get(UnsafeObjectFieldAccessorImpl.java:36)\r\n    at java.lang.reflect.Field.get(Field.java:393)\r\n    at org.hibernate.property.access.spi.GetterFieldImpl.get(GetterFieldImpl.java:39)\r\n    ... 171 more\r\n\r\nBy removing the ToString line of Lombok and adding my own implementation of toString by overriding the default one, the error message disappeared and the code was working back!\r\n\r\nNow the entity looks like this:\r\n\r\n    @Entity\r\n    @Data\r\n    @EqualsAndHashCode(callSuper = true, doNotUseGetters = true)\r\n    public class Keuze extends MainTable {\r\n    \r\n    @NonNull\r\n    String naam;\r\n    \r\n    @Tolerate\r\n    public Keuze() {\r\n    }\r\n    \r\n    @Override\r\n    public String toString() {\r\n    \r\n    \treturn getId().toString();\r\n    }\r\n    \r\n    }\r\n\r\nSo somehow, for an unknown reason the toString method has effect on how hibernate merges the code... Don&#39;t ask me how :-) It just seems to work. I tried everything else on the web with no luck!\r\n\r\nHope this helps for somebody else!","title":"Hibernate: Error accessing field [private java.lang.Integer ] by reflection for persistent property","body":"<p>I am working with EAP7, which contains Hibernate Core {5.0.9.Final-redhat-1}</p>\n\n<p>I have two entities:</p>\n\n<pre><code>@Entity\n@Data\n@EqualsAndHashCode(callSuper = true, doNotUseGetters = true)\n@ToString(callSuper = true, doNotUseGetters = true)\npublic class Keuze extends MainTable {\n\n@NonNull\nString naam;\n\n@Tolerate\npublic Keuze() {\n}\n\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Entity\n@Data\n@EqualsAndHashCode(callSuper = true, doNotUseGetters = true, exclude = {\"gegeven\", \"werkJaar\", \"keuze\", \"keuzes\" })\n@ToString(callSuper = true, doNotUseGetters = true, exclude = { \"gegeven\", \"werkJaar\", \"keuze\", \"keuzes\" })\npublic class Waarde extends MainTable {\n\n@NonNull\n@ManyToOne(optional = false, fetch = FetchType.LAZY)\nGegeven gegeven;\n\n@NonNull\n@ManyToOne(optional = false, fetch = FetchType.LAZY)\nWerkJaar werkJaar;\n\nString alfanumeriek;\n\nInteger numeriek;\n\nBigDecimal valuta;\n\n@Lob\nString tekst;\n\nBoolean polair;\n\n@OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\nKeuze keuze;\n\n@ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.MERGE)\nSet&lt;Keuze&gt; keuzes;\n\n@Tolerate\npublic Waarde() {\n}\n\n}\n</code></pre>\n\n<p>They both extend from this class:</p>\n\n<pre><code>@MappedSuperclass\n@Data\n@Cacheable\npublic abstract class MainTable {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nLong id;\n\n@Version\nLong version;\n\n}\n</code></pre>\n\n<p>When calling merge upon Waarde, it throws following error:</p>\n\n<pre><code>Caused by: org.hibernate.property.access.spi.PropertyAccessException: Error accessing field [java.lang.Long vo.cjsm.monitoring.data.schema.dynamic.main.MainTable.id] by reflection for persistent property [vo.cjsm.monitoring.data.schema.dynamic.field.Keuze#id] : Keuze(super=MainTable(id=1, version=0), naam=Leesmotivatie)\nat org.hibernate.property.access.spi.GetterFieldImpl.get(GetterFieldImpl.java:43)\nat org.hibernate.tuple.entity.AbstractEntityTuplizer.getIdentifier(AbstractEntityTuplizer.java:223)\nat org.hibernate.persister.entity.AbstractEntityPersister.getIdentifier(AbstractEntityPersister.java:4601)\nat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:148)\nat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:850)\nat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:832)\nat org.hibernate.engine.spi.CascadingActions$6.cascade(CascadingActions.java:260)\nat org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:398)\nat org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:323)\nat org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:162)\nat org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:431)\nat org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:363)\nat org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:326)\nat org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:162)\nat org.hibernate.engine.internal.Cascade.cascade(Cascade.java:111)\nat org.hibernate.event.internal.DefaultMergeEventListener.cascadeOnMerge(DefaultMergeEventListener.java:468)\nat org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:327)\nat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:170)\nat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:69)\nat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:840)\nat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:822)\nat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:827)\nat org.hibernate.jpa.spi.AbstractEntityManagerImpl.merge(AbstractEntityManagerImpl.java:1161)\n... 149 more\nCaused by: java.lang.IllegalArgumentException: Can not set java.lang.Long field vo.cjsm.monitoring.data.schema.dynamic.main.MainTable.id to java.lang.String\nat sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167)\nat sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171)\nat sun.reflect.UnsafeFieldAccessorImpl.ensureObj(UnsafeFieldAccessorImpl.java:58)\nat sun.reflect.UnsafeObjectFieldAccessorImpl.get(UnsafeObjectFieldAccessorImpl.java:36)\nat java.lang.reflect.Field.get(Field.java:393)\nat org.hibernate.property.access.spi.GetterFieldImpl.get(GetterFieldImpl.java:39)\n... 171 more\n</code></pre>\n\n<p>By removing the ToString line of Lombok and adding my own implementation of toString by overriding the default one, the error message disappeared and the code was working back!</p>\n\n<p>Now the entity looks like this:</p>\n\n<pre><code>@Entity\n@Data\n@EqualsAndHashCode(callSuper = true, doNotUseGetters = true)\npublic class Keuze extends MainTable {\n\n@NonNull\nString naam;\n\n@Tolerate\npublic Keuze() {\n}\n\n@Override\npublic String toString() {\n\n    return getId().toString();\n}\n\n}\n</code></pre>\n\n<p>So somehow, for an unknown reason the toString method has effect on how hibernate merges the code... Don't ask me how :-) It just seems to work. I tried everything else on the web with no luck!</p>\n\n<p>Hope this helps for somebody else!</p>\n"},{"tags":[],"owner":{"account_id":1186995,"reputation":4443,"user_id":1160762,"accept_rate":70,"display_name":"Alex Arvanitidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523327067,"creation_date":1523327067,"answer_id":49744348,"question_id":37780811,"body_markdown":"In my case the problem was that in my model the setter was auto-generated as \r\n\r\n    public void setComments(List comments){\r\n    }\r\n\r\nwithout a type. Fixed it by setting it to `List&lt;Comment&gt; comments`","title":"Hibernate: Error accessing field [private java.lang.Integer ] by reflection for persistent property","body":"<p>In my case the problem was that in my model the setter was auto-generated as </p>\n\n<pre><code>public void setComments(List comments){\n}\n</code></pre>\n\n<p>without a type. Fixed it by setting it to <code>List&lt;Comment&gt; comments</code></p>\n"},{"tags":[],"owner":{"account_id":11306353,"reputation":11,"user_id":8290840,"display_name":"R. Cohen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583439284,"creation_date":1583439284,"answer_id":60553281,"question_id":37780811,"body_markdown":"I hit this same error after upgrading from Hibernate 4 to 5. At this time the hibernate bug doesn&#39;t seem to be fixed in any version up to 5.3.  In my case this error happeneds while lazily fetching a collection of entity A which had an eager one-to-many relationship to B using a property from A which is not the primary key (I know, not a good relational model). It might actually be a more complicated edge case than just this, but I don&#39;t have time right now to reproduce this in a minimal test case).  \r\n\r\nIn tracing through the hibernate code it appears that hibernate gets confused while trying to bind parameters for the query for B, and when it thinks its trying to get the foreign key, the property from object A, it, in fact, already has the property value. The code is treating the value as if it is the object A and ends up with the reflection error shown above.  \r\n\r\nI was able to get past this error by changing the one-to-many relationship to B to lazy. I hope this helps someone else.","title":"Hibernate: Error accessing field [private java.lang.Integer ] by reflection for persistent property","body":"<p>I hit this same error after upgrading from Hibernate 4 to 5. At this time the hibernate bug doesn't seem to be fixed in any version up to 5.3.  In my case this error happeneds while lazily fetching a collection of entity A which had an eager one-to-many relationship to B using a property from A which is not the primary key (I know, not a good relational model). It might actually be a more complicated edge case than just this, but I don't have time right now to reproduce this in a minimal test case).  </p>\n\n<p>In tracing through the hibernate code it appears that hibernate gets confused while trying to bind parameters for the query for B, and when it thinks its trying to get the foreign key, the property from object A, it, in fact, already has the property value. The code is treating the value as if it is the object A and ends up with the reflection error shown above.  </p>\n\n<p>I was able to get past this error by changing the one-to-many relationship to B to lazy. I hope this helps someone else.</p>\n"},{"tags":[],"owner":{"account_id":5704563,"reputation":1278,"user_id":4508555,"accept_rate":80,"display_name":"Joniras"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684949100,"creation_date":1684949100,"answer_id":76326019,"question_id":37780811,"body_markdown":"In my case it was not a bug but pure developer-error:\r\n\r\n```lang-java\r\n@OneToMany(mappedBy = &quot;tableCollection&quot;, targetEntity = Diagram.class)\r\n// had to be replaced with \r\n@OneToMany(mappedBy = &quot;tableCollection&quot;, targetEntity = Table.class)\r\n```\r\n\r\n i had the targetEntity wrong and therefore got a cryptic error.\r\n\r\nMaybe it saves some hours someone.","title":"Hibernate: Error accessing field [private java.lang.Integer ] by reflection for persistent property","body":"<p>In my case it was not a bug but pure developer-error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(mappedBy = &quot;tableCollection&quot;, targetEntity = Diagram.class)\n// had to be replaced with \n@OneToMany(mappedBy = &quot;tableCollection&quot;, targetEntity = Table.class)\n</code></pre>\n<p>i had the targetEntity wrong and therefore got a cryptic error.</p>\n<p>Maybe it saves some hours someone.</p>\n"}],"owner":{"account_id":6550845,"reputation":1029,"user_id":5065316,"accept_rate":43,"display_name":"Leo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28550,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":6,"score":15,"last_activity_date":1684949100,"creation_date":1465782434,"question_id":37780811,"body_markdown":"I have strange issue when I try to get entities property:\r\n\r\n\tHibernate: \r\n\t    select\r\n\t        tarifklsk0_.ID as ID1_12_0_,\r\n\t        tarifklsk0_.FK_TARIF as FK_TARIF2_12_0_,\r\n\t        tarifservp1_.FK_TARIF as FK_TARIF2_11_1_,\r\n\t        tarifservp1_.ID as ID1_11_1_,\r\n\t        tarifservp1_.ID as ID1_11_2_,\r\n\t        tarifservp1_.FK_TARIF as FK_TARIF2_11_2_,\r\n\t        tarifservp1_.N1 as N3_11_2_ \r\n\t    from\r\n\t        TR.TARIFXKLSK tarifklsk0_ \r\n\t    left outer join\r\n\t        TR.TARIF_SERV_PROP tarifservp1_ \r\n\t            on tarifklsk0_.FK_TARIF=tarifservp1_.FK_TARIF \r\n\t    where\r\n\t        tarifklsk0_.ID=?\r\n\tJun 13, 2016 7:38:26 AM org.hibernate.event.internal.DefaultLoadEventListener doOnLoad\r\n\tINFO: HHH000327: Error performing load command : org.hibernate.property.access.spi.PropertyAccessException: Error accessing field [private java.lang.Integer TarifKlsk.fkTarif] by reflection for persistent property [TarifKlsk#fkTarif] : 1027303\r\n\tException in thread &quot;main&quot; org.hibernate.property.access.spi.PropertyAccessException: Error accessing field [private java.lang.Integer TarifKlsk.fkTarif] by reflection for persistent property [TarifKlsk#fkTarif] : 1027303\r\n\t\tat org.hibernate.property.access.spi.GetterFieldImpl.get(GetterFieldImpl.java:43)\r\n\t\t....skipped...\r\n\tCaused by: java.lang.IllegalArgumentException: Can not set java.lang.Integer field TarifKlsk.fkTarif to java.lang.Integer\r\n\t\tat sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167)\r\n\t\tat sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171)\t\t\r\n\r\nMy entities:\r\n\r\n*TarifKlsk*\r\n\t\r\n\t\r\n\timport java.util.HashSet;\r\n\timport java.util.Set;\r\n\t\r\n\timport javax.persistence.Column;\r\n\timport javax.persistence.Entity;\r\n\timport javax.persistence.FetchType;\r\n\timport javax.persistence.GeneratedValue;\r\n\timport javax.persistence.GenerationType;\r\n\timport javax.persistence.Id;\r\n\timport javax.persistence.JoinColumn;\r\n\timport javax.persistence.OneToMany;\r\n\timport javax.persistence.Table;\r\n\t\r\n\timport org.hibernate.annotations.BatchSize;\r\n\t\r\n\t@SuppressWarnings(&quot;serial&quot;)\r\n\t@Entity\r\n\t@Table(name = &quot;TARIFXKLSK&quot;, schema=&quot;TR&quot;)\r\n\tpublic class TarifKlsk implements java.io.Serializable {\r\n\t\r\n\t\t@Id\r\n\t    @GeneratedValue(strategy = GenerationType.AUTO)\r\n\t    @Column(name = &quot;ID&quot;, updatable = false, nullable = false)\r\n\t\tprivate Integer id;\r\n\t\r\n\t\t@OneToMany(fetch = FetchType.EAGER)\r\n\t\t@JoinColumn(name=&quot;FK_TARIF&quot;, referencedColumnName=&quot;FK_TARIF&quot;)\r\n\t\t@BatchSize(size = 50)\r\n\t\tprivate Set&lt;TarifServProp&gt; tarifservprop = new HashSet&lt;TarifServProp&gt;(0);\r\n\t\t\r\n\t    @Column(name = &quot;FK_TARIF&quot;, updatable = false, nullable = false)\r\n\t\tprivate Integer fkTarif;\r\n\t\r\n\t    public Integer getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\t\r\n\t\tpublic void setId(Integer id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\t\r\n\t\tpublic Set&lt;TarifServProp&gt; getTarifservprop() {\r\n\t\t\treturn tarifservprop;\r\n\t\t}\r\n\t\r\n\t\tpublic void setTarifservprop(Set&lt;TarifServProp&gt; tarifservprop) {\r\n\t\t\tthis.tarifservprop = tarifservprop;\r\n\t\t}\r\n\t\r\n\t\tpublic Integer getFkTarif() {\r\n\t\t\treturn fkTarif;\r\n\t\t}\r\n\t\r\n\t\tpublic void setFkTarif(Integer fkTarif) {\r\n\t\t\tthis.fkTarif = fkTarif;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\r\n*TarifServProp*\r\n\t\r\n\timport javax.persistence.Column;\r\n\timport javax.persistence.Entity;\r\n\timport javax.persistence.GeneratedValue;\r\n\timport javax.persistence.GenerationType;\r\n\timport javax.persistence.Id;\r\n\timport javax.persistence.Table;\r\n\t\r\n\t@SuppressWarnings(&quot;serial&quot;)\r\n\t@Entity\r\n\t@Table(name = &quot;TARIF_SERV_PROP&quot;, schema=&quot;TR&quot;)\r\n\tpublic class TarifServProp implements java.io.Serializable {\r\n\t\r\n\t\t@Id\r\n\t    @GeneratedValue(strategy = GenerationType.AUTO)\r\n\t    @Column(name = &quot;ID&quot;, updatable = false, nullable = false)\r\n\t\tprivate Integer id;\r\n\t\r\n\t    @Column(name = &quot;FK_TARIF&quot;, updatable = false, nullable = false)\r\n\t\tprivate Integer fkTarif;\r\n\t\r\n\t\tpublic Integer getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\t\r\n\t    @Column(name = &quot;N1&quot;, updatable = false, nullable = false)\r\n\t\tprivate Integer n1;\r\n\t\r\n\t\tpublic void setId(Integer id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\t\r\n\t\tpublic Integer getFkTarif() {\r\n\t\t\treturn fkTarif;\r\n\t\t}\r\n\t\r\n\t\tpublic void setFkTarif(Integer fkTarif) {\r\n\t\t\tthis.fkTarif = fkTarif;\r\n\t\t}\r\n\t\r\n\t\tpublic Integer getN1() {\r\n\t\t\treturn n1;\r\n\t\t}\r\n\t\r\n\t\tpublic void setN1(Integer n1) {\r\n\t\t\tthis.n1 = n1;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\nMy test module:\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSessionFactory sf = HibernateUtil.getSessionFactory();\r\n\t\t\tSession sess = sf.openSession();\r\n\t\t\tsess.beginTransaction();\r\n\t\t\t\r\n\t  \t    TarifKlsk k2=sess.get(TarifKlsk.class, 1027303);\r\n\t\t\tfor (TarifServProp t : k2.getTarifservprop()) {\r\n\t\t\t\t System.out.println(&quot;Tar=&quot;+t.getN1());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;End init&quot;);\r\n\r\nWhat am I doing wrong? I&#39;ve checked  all fields of these entities and all of them named properly....\r\n\r\n**Updt**\r\n*My POM.xml*\r\n\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t    &lt;groupId&gt;com.journaldev.hibernate&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;HibernateEHCacheExample&lt;/artifactId&gt;\r\n\t    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t    &lt;description&gt;Hibernate Secondary Level Cache Example using EHCache implementation&lt;/description&gt;\r\n\t \r\n\t    &lt;dependencies&gt;\r\n\t        &lt;!-- Hibernate Core API --&gt;\r\n\t        &lt;dependency&gt;\r\n\t            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t            &lt;version&gt;5.1.0.Final&lt;/version&gt;\r\n\t        &lt;/dependency&gt;\r\n\t        &lt;!-- EHCache Core APIs --&gt;\r\n\t\t\t&lt;!-- http://mvnrepository.com/artifact/net.sf.ehcache/ehcache-core --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;ehcache-core&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;2.6.11&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t\t&lt;!-- http://mvnrepository.com/artifact/org.hibernate/hibernate-ehcache --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;5.2.0.Final&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t        &lt;!-- EHCache uses slf4j for logging --&gt;\r\n\t        &lt;dependency&gt;\r\n\t            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n\t            &lt;version&gt;1.7.5&lt;/version&gt;\r\n\t        &lt;/dependency&gt;\r\n\t    &lt;/dependencies&gt;\r\n\t&lt;/project&gt;\r\n\r\n**Upd2**\r\n\r\nI&#39;ve found out that my child entity doesn&#39;t contain records with fk_tarif corresponding to the fk_tarif from master... but I think it doesn&#39;t matter, why is error exists?  ","title":"Hibernate: Error accessing field [private java.lang.Integer ] by reflection for persistent property","body":"<p>I have strange issue when I try to get entities property:</p>\n\n<pre><code>Hibernate: \n    select\n        tarifklsk0_.ID as ID1_12_0_,\n        tarifklsk0_.FK_TARIF as FK_TARIF2_12_0_,\n        tarifservp1_.FK_TARIF as FK_TARIF2_11_1_,\n        tarifservp1_.ID as ID1_11_1_,\n        tarifservp1_.ID as ID1_11_2_,\n        tarifservp1_.FK_TARIF as FK_TARIF2_11_2_,\n        tarifservp1_.N1 as N3_11_2_ \n    from\n        TR.TARIFXKLSK tarifklsk0_ \n    left outer join\n        TR.TARIF_SERV_PROP tarifservp1_ \n            on tarifklsk0_.FK_TARIF=tarifservp1_.FK_TARIF \n    where\n        tarifklsk0_.ID=?\nJun 13, 2016 7:38:26 AM org.hibernate.event.internal.DefaultLoadEventListener doOnLoad\nINFO: HHH000327: Error performing load command : org.hibernate.property.access.spi.PropertyAccessException: Error accessing field [private java.lang.Integer TarifKlsk.fkTarif] by reflection for persistent property [TarifKlsk#fkTarif] : 1027303\nException in thread \"main\" org.hibernate.property.access.spi.PropertyAccessException: Error accessing field [private java.lang.Integer TarifKlsk.fkTarif] by reflection for persistent property [TarifKlsk#fkTarif] : 1027303\n    at org.hibernate.property.access.spi.GetterFieldImpl.get(GetterFieldImpl.java:43)\n    ....skipped...\nCaused by: java.lang.IllegalArgumentException: Can not set java.lang.Integer field TarifKlsk.fkTarif to java.lang.Integer\n    at sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167)\n    at sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171)       \n</code></pre>\n\n<p>My entities:</p>\n\n<p><em>TarifKlsk</em></p>\n\n<pre><code>import java.util.HashSet;\nimport java.util.Set;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.OneToMany;\nimport javax.persistence.Table;\n\nimport org.hibernate.annotations.BatchSize;\n\n@SuppressWarnings(\"serial\")\n@Entity\n@Table(name = \"TARIFXKLSK\", schema=\"TR\")\npublic class TarifKlsk implements java.io.Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = \"ID\", updatable = false, nullable = false)\n    private Integer id;\n\n    @OneToMany(fetch = FetchType.EAGER)\n    @JoinColumn(name=\"FK_TARIF\", referencedColumnName=\"FK_TARIF\")\n    @BatchSize(size = 50)\n    private Set&lt;TarifServProp&gt; tarifservprop = new HashSet&lt;TarifServProp&gt;(0);\n\n    @Column(name = \"FK_TARIF\", updatable = false, nullable = false)\n    private Integer fkTarif;\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public Set&lt;TarifServProp&gt; getTarifservprop() {\n        return tarifservprop;\n    }\n\n    public void setTarifservprop(Set&lt;TarifServProp&gt; tarifservprop) {\n        this.tarifservprop = tarifservprop;\n    }\n\n    public Integer getFkTarif() {\n        return fkTarif;\n    }\n\n    public void setFkTarif(Integer fkTarif) {\n        this.fkTarif = fkTarif;\n    }\n\n}\n</code></pre>\n\n<p><em>TarifServProp</em></p>\n\n<pre><code>import javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@SuppressWarnings(\"serial\")\n@Entity\n@Table(name = \"TARIF_SERV_PROP\", schema=\"TR\")\npublic class TarifServProp implements java.io.Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = \"ID\", updatable = false, nullable = false)\n    private Integer id;\n\n    @Column(name = \"FK_TARIF\", updatable = false, nullable = false)\n    private Integer fkTarif;\n\n    public Integer getId() {\n        return id;\n    }\n\n    @Column(name = \"N1\", updatable = false, nullable = false)\n    private Integer n1;\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public Integer getFkTarif() {\n        return fkTarif;\n    }\n\n    public void setFkTarif(Integer fkTarif) {\n        this.fkTarif = fkTarif;\n    }\n\n    public Integer getN1() {\n        return n1;\n    }\n\n    public void setN1(Integer n1) {\n        this.n1 = n1;\n    }\n\n}\n</code></pre>\n\n<p>My test module:</p>\n\n<pre><code>    public static void main(String[] args) {\n        SessionFactory sf = HibernateUtil.getSessionFactory();\n        Session sess = sf.openSession();\n        sess.beginTransaction();\n\n        TarifKlsk k2=sess.get(TarifKlsk.class, 1027303);\n        for (TarifServProp t : k2.getTarifservprop()) {\n             System.out.println(\"Tar=\"+t.getN1());\n        }\n\n        System.out.println(\"End init\");\n</code></pre>\n\n<p>What am I doing wrong? I've checked  all fields of these entities and all of them named properly....</p>\n\n<p><strong>Updt</strong>\n<em>My POM.xml</em></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.journaldev.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;HibernateEHCacheExample&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;description&gt;Hibernate Secondary Level Cache Example using EHCache implementation&lt;/description&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Hibernate Core API --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- EHCache Core APIs --&gt;\n        &lt;!-- http://mvnrepository.com/artifact/net.sf.ehcache/ehcache-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\n            &lt;artifactId&gt;ehcache-core&lt;/artifactId&gt;\n            &lt;version&gt;2.6.11&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- http://mvnrepository.com/artifact/org.hibernate/hibernate-ehcache --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\n            &lt;version&gt;5.2.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- EHCache uses slf4j for logging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p><strong>Upd2</strong></p>\n\n<p>I've found out that my child entity doesn't contain records with fk_tarif corresponding to the fk_tarif from master... but I think it doesn't matter, why is error exists?  </p>\n"},{"tags":["java","javafx","javafx-8"],"answers":[{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1444724272,"creation_date":1444723899,"answer_id":33097426,"question_id":33094981,"body_markdown":"Another way would be to use [java.awt.Desktop][1]\r\n\r\nTry (untested):\r\n\r\n    URI uri = ...;\r\n    if (Desktop.isDesktopSupported()){\r\n        Desktop desktop = Desktop.getDesktop();\r\n        if (desktop.isSupported(Desktop.Action.BROWSE)){\r\n            desktop.browse(uri);\r\n        }\r\n    }\r\n\r\nNote however that this will introduce a dependency to the AWT stack. This is probably not an issue if you&#39;re working with the full JRE, but it might become an issue if you want to work with a tailored JRE (Java SE 9 &amp; Jigsaw) or if you want to run your application on mobile device ([javafxports][2]).\r\n\r\nThere is an open issue to [support Desktop in JavaFX][3] in the future.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/awt/Desktop.html\r\n  [2]: http://gluonhq.com/open-source/javafxports/\r\n  [3]: https://bugs.openjdk.java.net/browse/JDK-8091107","title":"JavaFx 8: open a link in a browser without reference to Application","body":"<p>Another way would be to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Desktop.html\" rel=\"nofollow\">java.awt.Desktop</a></p>\n\n<p>Try (untested):</p>\n\n<pre><code>URI uri = ...;\nif (Desktop.isDesktopSupported()){\n    Desktop desktop = Desktop.getDesktop();\n    if (desktop.isSupported(Desktop.Action.BROWSE)){\n        desktop.browse(uri);\n    }\n}\n</code></pre>\n\n<p>Note however that this will introduce a dependency to the AWT stack. This is probably not an issue if you're working with the full JRE, but it might become an issue if you want to work with a tailored JRE (Java SE 9 &amp; Jigsaw) or if you want to run your application on mobile device (<a href=\"http://gluonhq.com/open-source/javafxports/\" rel=\"nofollow\">javafxports</a>).</p>\n\n<p>There is an open issue to <a href=\"https://bugs.openjdk.java.net/browse/JDK-8091107\" rel=\"nofollow\">support Desktop in JavaFX</a> in the future.</p>\n"},{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1444739680,"creation_date":1444734107,"answer_id":33100968,"question_id":33094981,"body_markdown":"**Solution 1:** Pass a reference to the `HostServices` down through your application.\r\n\r\nThis is probably similar to the &quot;quite painful&quot; approach you are anticipating. But basically you would do something like:\r\n\r\n    public void start(Stage primaryStage) throws Exception {\r\n    \r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;main.fxml&quot;));\r\n        Parent root = loader.load();\r\n        MainController controller = loader.getController();\r\n        controller.setHostServices(getHostServices());\r\n        primaryStage.setScene(new Scene(root));\r\n        primaryStage.show();\r\n    \r\n    }\r\n\r\nand then in `MainController`:\r\n\r\n    public class MainController {\r\n    \r\n        private HostServices hostServices ;\r\n    \r\n        public HostServices getHostServices() {\r\n            return hostServices ;\r\n        }\r\n    \r\n        public void setHostServices(HostServices hostServices) {\r\n            this.hostServices = hostServices ;\r\n        }\r\n    \r\n        @FXML\r\n        private void showDialog() {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;dialog.fxml&quot;));\r\n            Parent dialogRoot = loader.load();\r\n            DialogController dialogController = loader.getController();\r\n            dialogController.setHostServices(hostServices);\r\n            Stage dialog = new Stage();\r\n            dialog.setScene(new Scene(dialogRoot));\r\n            dialog.show();\r\n        }\r\n    }\r\n\r\nand of course `DialogController` looks like:\r\n\r\n    public class DialogController {\r\n\r\n        @FXML\r\n        private Hyperlink hyperlink ;\r\n    \r\n        private HostServices hostServices ;\r\n    \r\n        public HostServices getHostServices() {\r\n            return hostServices ;\r\n        }\r\n    \r\n        public void setHostServices(HostServices hostServices) {\r\n            this.hostServices = hostServices ;\r\n        }\r\n    \r\n        @FXML\r\n        private void openURL() {\r\n            hostServices.openDocument(hyperlink.getText());\r\n        }\r\n    }\r\n\r\n---\r\n\r\n**Solution 2:** Use a controller factory to push the host services to the controllers.\r\n\r\nThis is a cleaner version of the above. Instead of getting the controllers and calling a method to initialize them, you configure the creation of them via a [`controllerFactory`](http://docs.oracle.com/javase/8/javafx/api/javafx/fxml/FXMLLoader.html#setControllerFactory-javafx.util.Callback-) and create controllers by passing a `HostServices` object to the controller&#39;s constructor, if it has a suitable constructor:\r\n\r\n    public class HostServicesControllerFactory implements Callback&lt;Class&lt;?&gt;,Object&gt; {\r\n    \r\n        private final HostServices hostServices ;\r\n    \r\n        public HostServicesControllerFactory(HostServices hostServices) {\r\n            this.hostServices = hostServices ;\r\n        }\r\n    \r\n        @Override\r\n        public Object call(Class&lt;?&gt; type) {\r\n            try {\r\n                for (Constructor&lt;?&gt; c : type.getConstructors()) {\r\n                    if (c.getParameterCount() == 1 &amp;&amp; c.getParameterTypes()[0] == HostServices.class) {\r\n                        return c.newInstance(hostServices) ;\r\n                    }\r\n                }\r\n                return type.newInstance();\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\nNow use the controller factory when you load the FXML:\r\n\r\n    public void start(Stage primaryStage) throws Exception {\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;main.fxml&quot;));\r\n        loader.setControllerFactory(new HostServicesControllerFactory(getHostServices()));\r\n        Parent root = loader.load();\r\n        primaryStage.setScene(new Scene(root));\r\n        primaryStage.show();\r\n    }\r\n\r\nand define your controllers to take `HostServices` as a constructor parameter:\r\n\r\n    public class MainController {\r\n    \r\n        private final HostServices hostServices ;\r\n    \r\n        public MainController(HostServices hostServices) {\r\n            this.hostServices = hostServices ;\r\n        }\r\n    \r\n        @FXML\r\n        private void showDialog() {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;dialog.fxml&quot;));\r\n            loader.setControllerFactory(new HostServicesControllerFactory(hostServices));\r\n            Parent dialogRoot = loader.load();\r\n            Stage dialog = new Stage();\r\n            dialog.setScene(new Scene(dialogRoot));\r\n            dialog.show();\r\n        }    \r\n    }\r\n\r\nand of course\r\n\r\n    public class DialogController {\r\n    \r\n        @FXML\r\n        private Hyperlink hyperlink ;\r\n    \r\n        private final HostServices hostServices ;\r\n    \r\n        public DialogController(HostServices hostServices) {\r\n            this.hostServices = hostServices ;\r\n        }\r\n    \r\n        @FXML\r\n        private void openURL() {\r\n            hostServices.openDocument(hyperlink.getText());\r\n        }\r\n    }\r\n\r\n---\r\n\r\n**Solution 3:** *This is a miserably ugly solution, and I strongly recommend against using it.* I just wanted to include it so I could express that without offending someone else when they posted it. Store the host services in a static field.\r\n\r\n    public class MainApp extends Application {\r\n    \r\n        private static HostServices hostServices ;\r\n    \r\n        public static HostServices getHostServices() {\r\n            return hostServices ;\r\n        }\r\n    \r\n        public void start(Stage primaryStage) throws Exception {\r\n    \r\n            hostServices = getHostServices();\r\n    \r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;main.fxml&quot;));\r\n            primaryStage.setScene(new Scene(root));\r\n            primaryStage.show();\r\n        }\r\n    }\r\n\r\nThen you just do\r\n\r\n    MainApp.getHostServices().showDocument(hyperlink.getText());\r\n\r\nanywhere you need. One of the problems here is that you introduce a dependency on your application type for all controllers that need access to the host services.\r\n\r\n---\r\n\r\n**Solution 4** Define a singleton `HostServicesProvider`. This is better than solution 3, but still not a good solution imo.\r\n\r\n    public enum HostServicesProvider {\r\n    \r\n        INSTANCE ;\r\n    \r\n        private HostServices hostServices ;\r\n        public void init(HostServices hostServices) {\r\n            if (this.hostServices != null) {\r\n                throw new IllegalStateException(&quot;Host services already initialized&quot;);\r\n            }\r\n            this.hostServices = hostServices ;\r\n        }\r\n        public HostServices getHostServices() {\r\n            if (hostServices == null) {\r\n                throw new IllegalStateException(&quot;Host services not initialized&quot;);\r\n            }\r\n            return hostServices ;\r\n        }\r\n    }\r\n\r\nNow you just need\r\n\r\n    public void start(Stage primaryStage) throws Exception {\r\n        HostServicesProvider.INSTANCE.init(getHostServices());\r\n        // just load and show main app...\r\n    }\r\n\r\nand\r\n\r\n    public class DialogController {\r\n    \r\n        @FXML\r\n        private Hyperlink hyperlink ;\r\n    \r\n        @FXML\r\n        private void openURL() {\r\n            HostServicesProvider.INSTANCE.getHostServices().showDocument(hyperlink.getText());\r\n        }\r\n    }\r\n\r\n---\r\n\r\n**Solution 5** Use a dependency injection framework. This probably doesn&#39;t apply to your current use case, but might give you an idea how powerful these (relatively simple) frameworks can be.\r\n\r\nFor example, if you are using [afterburner.fx](http://afterburner.adam-bien.com/), you just need to do\r\n\r\n    Injector.setModelOrService(HostServices.class, getHostServices());\r\n\r\nin your application `start()` or `init()` method, and then\r\n\r\n    public class DialogPresenter {\r\n    \r\n        @Inject\r\n        private HostServices hostServices ;\r\n    \r\n        @FXML\r\n        private Hyperlink hyperlink ;\r\n    \r\n        @FXML\r\n        private void showURL() {\r\n            hostServices.showDocument(hyperlink.getText());\r\n        }\r\n    }\r\n\r\nAn example using Spring is [here](https://github.com/james-d/SpringFXExample).","title":"JavaFx 8: open a link in a browser without reference to Application","body":"<p><strong>Solution 1:</strong> Pass a reference to the <code>HostServices</code> down through your application.</p>\n\n<p>This is probably similar to the \"quite painful\" approach you are anticipating. But basically you would do something like:</p>\n\n<pre><code>public void start(Stage primaryStage) throws Exception {\n\n    FXMLLoader loader = new FXMLLoader(getClass().getResource(\"main.fxml\"));\n    Parent root = loader.load();\n    MainController controller = loader.getController();\n    controller.setHostServices(getHostServices());\n    primaryStage.setScene(new Scene(root));\n    primaryStage.show();\n\n}\n</code></pre>\n\n<p>and then in <code>MainController</code>:</p>\n\n<pre><code>public class MainController {\n\n    private HostServices hostServices ;\n\n    public HostServices getHostServices() {\n        return hostServices ;\n    }\n\n    public void setHostServices(HostServices hostServices) {\n        this.hostServices = hostServices ;\n    }\n\n    @FXML\n    private void showDialog() {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(\"dialog.fxml\"));\n        Parent dialogRoot = loader.load();\n        DialogController dialogController = loader.getController();\n        dialogController.setHostServices(hostServices);\n        Stage dialog = new Stage();\n        dialog.setScene(new Scene(dialogRoot));\n        dialog.show();\n    }\n}\n</code></pre>\n\n<p>and of course <code>DialogController</code> looks like:</p>\n\n<pre><code>public class DialogController {\n\n    @FXML\n    private Hyperlink hyperlink ;\n\n    private HostServices hostServices ;\n\n    public HostServices getHostServices() {\n        return hostServices ;\n    }\n\n    public void setHostServices(HostServices hostServices) {\n        this.hostServices = hostServices ;\n    }\n\n    @FXML\n    private void openURL() {\n        hostServices.openDocument(hyperlink.getText());\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Solution 2:</strong> Use a controller factory to push the host services to the controllers.</p>\n\n<p>This is a cleaner version of the above. Instead of getting the controllers and calling a method to initialize them, you configure the creation of them via a <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/fxml/FXMLLoader.html#setControllerFactory-javafx.util.Callback-\"><code>controllerFactory</code></a> and create controllers by passing a <code>HostServices</code> object to the controller's constructor, if it has a suitable constructor:</p>\n\n<pre><code>public class HostServicesControllerFactory implements Callback&lt;Class&lt;?&gt;,Object&gt; {\n\n    private final HostServices hostServices ;\n\n    public HostServicesControllerFactory(HostServices hostServices) {\n        this.hostServices = hostServices ;\n    }\n\n    @Override\n    public Object call(Class&lt;?&gt; type) {\n        try {\n            for (Constructor&lt;?&gt; c : type.getConstructors()) {\n                if (c.getParameterCount() == 1 &amp;&amp; c.getParameterTypes()[0] == HostServices.class) {\n                    return c.newInstance(hostServices) ;\n                }\n            }\n            return type.newInstance();\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n\n<p>Now use the controller factory when you load the FXML:</p>\n\n<pre><code>public void start(Stage primaryStage) throws Exception {\n    FXMLLoader loader = new FXMLLoader(getClass().getResource(\"main.fxml\"));\n    loader.setControllerFactory(new HostServicesControllerFactory(getHostServices()));\n    Parent root = loader.load();\n    primaryStage.setScene(new Scene(root));\n    primaryStage.show();\n}\n</code></pre>\n\n<p>and define your controllers to take <code>HostServices</code> as a constructor parameter:</p>\n\n<pre><code>public class MainController {\n\n    private final HostServices hostServices ;\n\n    public MainController(HostServices hostServices) {\n        this.hostServices = hostServices ;\n    }\n\n    @FXML\n    private void showDialog() {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(\"dialog.fxml\"));\n        loader.setControllerFactory(new HostServicesControllerFactory(hostServices));\n        Parent dialogRoot = loader.load();\n        Stage dialog = new Stage();\n        dialog.setScene(new Scene(dialogRoot));\n        dialog.show();\n    }    \n}\n</code></pre>\n\n<p>and of course</p>\n\n<pre><code>public class DialogController {\n\n    @FXML\n    private Hyperlink hyperlink ;\n\n    private final HostServices hostServices ;\n\n    public DialogController(HostServices hostServices) {\n        this.hostServices = hostServices ;\n    }\n\n    @FXML\n    private void openURL() {\n        hostServices.openDocument(hyperlink.getText());\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Solution 3:</strong> <em>This is a miserably ugly solution, and I strongly recommend against using it.</em> I just wanted to include it so I could express that without offending someone else when they posted it. Store the host services in a static field.</p>\n\n<pre><code>public class MainApp extends Application {\n\n    private static HostServices hostServices ;\n\n    public static HostServices getHostServices() {\n        return hostServices ;\n    }\n\n    public void start(Stage primaryStage) throws Exception {\n\n        hostServices = getHostServices();\n\n        Parent root = FXMLLoader.load(getClass().getResource(\"main.fxml\"));\n        primaryStage.setScene(new Scene(root));\n        primaryStage.show();\n    }\n}\n</code></pre>\n\n<p>Then you just do</p>\n\n<pre><code>MainApp.getHostServices().showDocument(hyperlink.getText());\n</code></pre>\n\n<p>anywhere you need. One of the problems here is that you introduce a dependency on your application type for all controllers that need access to the host services.</p>\n\n<hr>\n\n<p><strong>Solution 4</strong> Define a singleton <code>HostServicesProvider</code>. This is better than solution 3, but still not a good solution imo.</p>\n\n<pre><code>public enum HostServicesProvider {\n\n    INSTANCE ;\n\n    private HostServices hostServices ;\n    public void init(HostServices hostServices) {\n        if (this.hostServices != null) {\n            throw new IllegalStateException(\"Host services already initialized\");\n        }\n        this.hostServices = hostServices ;\n    }\n    public HostServices getHostServices() {\n        if (hostServices == null) {\n            throw new IllegalStateException(\"Host services not initialized\");\n        }\n        return hostServices ;\n    }\n}\n</code></pre>\n\n<p>Now you just need</p>\n\n<pre><code>public void start(Stage primaryStage) throws Exception {\n    HostServicesProvider.INSTANCE.init(getHostServices());\n    // just load and show main app...\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public class DialogController {\n\n    @FXML\n    private Hyperlink hyperlink ;\n\n    @FXML\n    private void openURL() {\n        HostServicesProvider.INSTANCE.getHostServices().showDocument(hyperlink.getText());\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Solution 5</strong> Use a dependency injection framework. This probably doesn't apply to your current use case, but might give you an idea how powerful these (relatively simple) frameworks can be.</p>\n\n<p>For example, if you are using <a href=\"http://afterburner.adam-bien.com/\">afterburner.fx</a>, you just need to do</p>\n\n<pre><code>Injector.setModelOrService(HostServices.class, getHostServices());\n</code></pre>\n\n<p>in your application <code>start()</code> or <code>init()</code> method, and then</p>\n\n<pre><code>public class DialogPresenter {\n\n    @Inject\n    private HostServices hostServices ;\n\n    @FXML\n    private Hyperlink hyperlink ;\n\n    @FXML\n    private void showURL() {\n        hostServices.showDocument(hyperlink.getText());\n    }\n}\n</code></pre>\n\n<p>An example using Spring is <a href=\"https://github.com/james-d/SpringFXExample\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":7294219,"reputation":81,"user_id":5559661,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1449674491,"creation_date":1449673539,"answer_id":34182115,"question_id":33094981,"body_markdown":"If you want to open a url when you click on a button inside your app and you are using an fxml controller file then you can do the following...\r\n\r\nFirst in your Main Application Startup file get a pointer to the HostServices object and add it to your stage such as...\r\n\r\n    stage.getProperties().put(&quot;hostServices&quot;, this.getHostServices());\r\n\r\nThen in your fxml controller file get the hostServices object from the stage object and then execute the showDocument() method.\r\n\r\n    HostServices hostServices = (HostServices)this.getStage().getProperties().get(&quot;hostServices&quot;);\r\n    hostServices.showDocument(&quot;http://stackoverflow.com/&quot;);\r\n\r\nI have a method in my contoller class called getStage()...\r\n\r\n    /**\r\n     * @return the stage from my mainAnchor1 node.\r\n     */\r\n    public Stage getStage() {\r\n        if(this.stage==null)\r\n            this.stage = (Stage) this.mainAnchor1.getScene().getWindow();\r\n        return stage;\r\n    }","title":"JavaFx 8: open a link in a browser without reference to Application","body":"<p>If you want to open a url when you click on a button inside your app and you are using an fxml controller file then you can do the following...</p>\n\n<p>First in your Main Application Startup file get a pointer to the HostServices object and add it to your stage such as...</p>\n\n<pre><code>stage.getProperties().put(\"hostServices\", this.getHostServices());\n</code></pre>\n\n<p>Then in your fxml controller file get the hostServices object from the stage object and then execute the showDocument() method.</p>\n\n<pre><code>HostServices hostServices = (HostServices)this.getStage().getProperties().get(\"hostServices\");\nhostServices.showDocument(\"http://stackoverflow.com/\");\n</code></pre>\n\n<p>I have a method in my contoller class called getStage()...</p>\n\n<pre><code>/**\n * @return the stage from my mainAnchor1 node.\n */\npublic Stage getStage() {\n    if(this.stage==null)\n        this.stage = (Stage) this.mainAnchor1.getScene().getWindow();\n    return stage;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684948873,"creation_date":1663716909,"answer_id":73793604,"question_id":33094981,"body_markdown":"While pursuing a more sustainable solution, consider either of these interim approaches:\r\n\r\n1. Let the class _extend_ [`Application`][1], giving it access to an instance of `HostServices`. It won&#39;t be the parent application&#39;s instance, but it may suffice.\r\n\r\n        class MyController extends Application … {\r\n            HostServices hostServices = this.getHostServices();\r\n        }\r\n\r\n2. Let the class _contain_ an [`Application`][1] from which it can obtain an instance of `HostServices`. Again, it won&#39;t be the parent application&#39;s instance.\r\n\r\n        class MyController extends Application … {\r\n            HostServices hostServices = new ServiceApp().getHostServices();\r\n\r\n            private static class ServiceApp extends Application {\r\n                @Override\r\n                public void start(Stage stage) throws Exception {}\r\n            }\r\n        }\r\n\r\nIn this complete [example][2], an early [version][3] of a controller simply extended `Application`. A later [version][4] of the same controller implements a suitable interface to effect the first solution outlined [here][5]. A more recent [version][6] uses a controller factory to provide the reference as shown in the second solution seen [here][5].\r\n\r\nWhy bother? Conceptually, [`HostServices`][7] should be unique to each `Application` instance. This implies the [singleton pattern][8], suggested [here][9] and in the fourth solution outlined [here][5]. Indeed, `HostServices` is `final`, and the [source][10] delegates to a private class seen [here][11], which references the application.\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html\r\n  [2]: https://github.com/trashgod/modular\r\n  [3]: https://github.com/trashgod/modular/blob/721230a885f886a3221f7533768182a0fc983fbd/src/main/java/org/example/AboutController.java\r\n  [4]: https://github.com/trashgod/modular/blob/feca6061a8e97a893244415ce04fb4fc786d4573/src/main/java/org/example/AboutController.java\r\n  [5]: https://stackoverflow.com/a/33100968/230513\r\n  [6]: https://github.com/trashgod/modular/blob/08e739c931391a02868e5486e85eba21b158208a/src/main/java/org/example/AboutController.java\r\n  [7]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/HostServices.html\r\n  [8]: https://en.wikipedia.org/wiki/Singleton_pattern\r\n  [9]: https://stackoverflow.com/a/5724953/230513\r\n  [10]: https://github.com/openjdk/jfx/blob/86b854dc367fb32743810716da5583f7d59208f8/modules/javafx.graphics/src/main/java/javafx/application/HostServices.java\r\n  [11]: https://github.com/openjdk/jfx/blob/28e86841412dce99b92b8d75b798a63312aa25cd/modules/javafx.graphics/src/main/java/com/sun/javafx/application/HostServicesDelegate.java","title":"JavaFx 8: open a link in a browser without reference to Application","body":"<p>While pursuing a more sustainable solution, consider either of these interim approaches:</p>\n<ol>\n<li><p>Let the class <em>extend</em> <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html\" rel=\"nofollow noreferrer\"><code>Application</code></a>, giving it access to an instance of <code>HostServices</code>. It won't be the parent application's instance, but it may suffice.</p>\n<pre><code> class MyController extends Application … {\n     HostServices hostServices = this.getHostServices();\n }\n</code></pre>\n</li>\n<li><p>Let the class <em>contain</em> an <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html\" rel=\"nofollow noreferrer\"><code>Application</code></a> from which it can obtain an instance of <code>HostServices</code>. Again, it won't be the parent application's instance.</p>\n<pre><code> class MyController extends Application … {\n     HostServices hostServices = new ServiceApp().getHostServices();\n\n     private static class ServiceApp extends Application {\n         @Override\n         public void start(Stage stage) throws Exception {}\n     }\n }\n</code></pre>\n</li>\n</ol>\n<p>In this complete <a href=\"https://github.com/trashgod/modular\" rel=\"nofollow noreferrer\">example</a>, an early <a href=\"https://github.com/trashgod/modular/blob/721230a885f886a3221f7533768182a0fc983fbd/src/main/java/org/example/AboutController.java\" rel=\"nofollow noreferrer\">version</a> of a controller simply extended <code>Application</code>. A later <a href=\"https://github.com/trashgod/modular/blob/feca6061a8e97a893244415ce04fb4fc786d4573/src/main/java/org/example/AboutController.java\" rel=\"nofollow noreferrer\">version</a> of the same controller implements a suitable interface to effect the first solution outlined <a href=\"https://stackoverflow.com/a/33100968/230513\">here</a>. A more recent <a href=\"https://github.com/trashgod/modular/blob/08e739c931391a02868e5486e85eba21b158208a/src/main/java/org/example/AboutController.java\" rel=\"nofollow noreferrer\">version</a> uses a controller factory to provide the reference as shown in the second solution seen <a href=\"https://stackoverflow.com/a/33100968/230513\">here</a>.</p>\n<p>Why bother? Conceptually, <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/HostServices.html\" rel=\"nofollow noreferrer\"><code>HostServices</code></a> should be unique to each <code>Application</code> instance. This implies the <a href=\"https://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow noreferrer\">singleton pattern</a>, suggested <a href=\"https://stackoverflow.com/a/5724953/230513\">here</a> and in the fourth solution outlined <a href=\"https://stackoverflow.com/a/33100968/230513\">here</a>. Indeed, <code>HostServices</code> is <code>final</code>, and the <a href=\"https://github.com/openjdk/jfx/blob/86b854dc367fb32743810716da5583f7d59208f8/modules/javafx.graphics/src/main/java/javafx/application/HostServices.java\" rel=\"nofollow noreferrer\">source</a> delegates to a private class seen <a href=\"https://github.com/openjdk/jfx/blob/28e86841412dce99b92b8d75b798a63312aa25cd/modules/javafx.graphics/src/main/java/com/sun/javafx/application/HostServicesDelegate.java\" rel=\"nofollow noreferrer\">here</a>, which references the application.</p>\n"}],"owner":{"account_id":13308,"reputation":6657,"user_id":26633,"accept_rate":61,"display_name":"Ben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13625,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":33100968,"answer_count":4,"score":14,"last_activity_date":1684948873,"creation_date":1444715084,"question_id":33094981,"body_markdown":"Have got a Hyperlink.  When clicked I want a link to be opened in an external browser.\r\n\r\nThe usual method cited on the web seems to be:\r\n\r\n    final Hyperlink hyperlink = new Hyperlink(&quot;http://www.google.com&quot;);\r\n    hyperlink.setOnAction(t -&gt; {\r\n        application.getHostServices().showDocument(hyperlink.getText());\r\n    });\r\n\r\nHowever I don&#39;t have a reference to `Application`.  The link is opened from Dialog, which is opened from a Controller, which is opened via an fxml file, so getting a reference to the Application object would be quite painful.\r\n\r\nDoes anyone know an easy way of doing this?\r\n\r\nCheers\r\n\r\n","title":"JavaFx 8: open a link in a browser without reference to Application","body":"<p>Have got a Hyperlink.  When clicked I want a link to be opened in an external browser.</p>\n\n<p>The usual method cited on the web seems to be:</p>\n\n<pre><code>final Hyperlink hyperlink = new Hyperlink(\"http://www.google.com\");\nhyperlink.setOnAction(t -&gt; {\n    application.getHostServices().showDocument(hyperlink.getText());\n});\n</code></pre>\n\n<p>However I don't have a reference to <code>Application</code>.  The link is opened from Dialog, which is opened from a Controller, which is opened via an fxml file, so getting a reference to the Application object would be quite painful.</p>\n\n<p>Does anyone know an easy way of doing this?</p>\n\n<p>Cheers</p>\n"},{"tags":["java","android","android-app-quick-setting"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684985018,"post_id":76325967,"comment_id":134598312,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28672414,"reputation":11,"user_id":21955193,"display_name":"x w"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1684948555,"creation_date":1684948555,"question_id":76325967,"body_markdown":"I am trying to create a custom quick setting tile, I want to implement it so that it has an arrow next to it. When clicked on the arrow, a box pops up showing selection，but it&#39;s not a dialog\r\n\r\n\r\n[It looks something like this](https://i.stack.imgur.com/WghEO.jpg)\r\n\r\n\r\n[When I click on it, it&#39;s going to look like this](https://i.stack.imgur.com/KuJJa.jpg)","title":"I need a custom quick setting tile, similar to the wifi selection feature","body":"<p>I am trying to create a custom quick setting tile, I want to implement it so that it has an arrow next to it. When clicked on the arrow, a box pops up showing selection，but it's not a dialog</p>\n<p><a href=\"https://i.stack.imgur.com/WghEO.jpg\" rel=\"nofollow noreferrer\">It looks something like this</a></p>\n<p><a href=\"https://i.stack.imgur.com/KuJJa.jpg\" rel=\"nofollow noreferrer\">When I click on it, it's going to look like this</a></p>\n"},{"tags":["java","linux","bash","jar","sh"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1662983894,"post_id":73688675,"comment_id":130124941,"body_markdown":"I think that you can use `jshell` to do this. Check out its documentation: https://docs.oracle.com/javase/9/jshell/introduction-jshell.htm#JSHEL-GUID-630F27C8-1195-4989-9F6B-2C51D46F52C8","body":"I think that you can use <code>jshell</code> to do this. Check out its documentation: <a href=\"https://docs.oracle.com/javase/9/jshell/introduction-jshell.htm#JSHEL-GUID-630F27C8-1195-4989-9F6B-2C51D46F52C8\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/9/jshell/&hellip;</a>"},{"owner":{"account_id":25518885,"reputation":11,"user_id":19309213,"display_name":"emal"},"score":0,"creation_date":1663962603,"post_id":73688675,"comment_id":130371165,"body_markdown":"thank you, i&#39;ve looked and read about it but i chose another solution.","body":"thank you, i&#39;ve looked and read about it but i chose another solution."}],"answers":[{"tags":[],"owner":{"account_id":25518885,"reputation":11,"user_id":19309213,"display_name":"emal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1684948085,"creation_date":1663962911,"answer_id":73832409,"question_id":73688675,"body_markdown":"I created a module of runners and in this module I created a lot of main classes. Each main class runs a static function as mentioned above.\r\nThen I called the desirable main from the bash function with the `java` command.","title":"Calling static jave method from .sh file","body":"<p>I created a module of runners and in this module I created a lot of main classes. Each main class runs a static function as mentioned above.\nThen I called the desirable main from the bash function with the <code>java</code> command.</p>\n"}],"owner":{"account_id":25518885,"reputation":11,"user_id":19309213,"display_name":"emal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73832409,"answer_count":1,"score":-2,"last_activity_date":1684948148,"creation_date":1662982675,"question_id":73688675,"body_markdown":"I have a jar files that holds a lot of classes, in each class there are static methods that I have to call from a shell script.\r\n\r\nI have a function class for each module, this class aggregates all the methods in the module.\r\n\r\nExample:\r\n\r\n```\r\npublic class Functions{\r\n    public static String e1(){return e1.e1();}\r\n    public static Integer e2(){return e2.e2();}\r\n}\r\n```\r\n\r\n```\r\npublic class e1{\r\n    public static String e1(){\r\n        //do something\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class e2{\r\n    public static Integer e2(){\r\n        //do something\r\n    }\r\n}\r\n```\r\n\r\nI want to call the functions in the Function class from sh file:\r\n\r\n```\r\nresult=$jar.Functions.e1()\r\n```\r\n\r\nI read that this is the only solution:\r\n\r\n&gt; The only java method you can call from a shell script is the main method\r\nof a class, by starting that class with a java command line execution.\r\n\r\nIs this correct?","title":"Calling static jave method from .sh file","body":"<p>I have a jar files that holds a lot of classes, in each class there are static methods that I have to call from a shell script.</p>\n<p>I have a function class for each module, this class aggregates all the methods in the module.</p>\n<p>Example:</p>\n<pre><code>public class Functions{\n    public static String e1(){return e1.e1();}\n    public static Integer e2(){return e2.e2();}\n}\n</code></pre>\n<pre><code>public class e1{\n    public static String e1(){\n        //do something\n    }\n}\n</code></pre>\n<pre><code>public class e2{\n    public static Integer e2(){\n        //do something\n    }\n}\n</code></pre>\n<p>I want to call the functions in the Function class from sh file:</p>\n<pre><code>result=$jar.Functions.e1()\n</code></pre>\n<p>I read that this is the only solution:</p>\n<blockquote>\n<p>The only java method you can call from a shell script is the main method\nof a class, by starting that class with a java command line execution.</p>\n</blockquote>\n<p>Is this correct?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1684818885,"post_id":76311418,"comment_id":134568353,"body_markdown":"What is &quot;it&quot;, what command do you run? what error do you get?","body":"What is &quot;it&quot;, what command do you run? what error do you get?"},{"owner":{"account_id":143734,"reputation":751,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1684821173,"post_id":76311418,"comment_id":134568661,"body_markdown":"&quot;it&quot; refers to build.gradle file for the separate application","body":"&quot;it&quot; refers to build.gradle file for the separate application"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684841931,"post_id":76311418,"comment_id":134573227,"body_markdown":"Why do you share the dependency in Maven format if you asking about Gradle? Share how it is defined in your Gradle script.","body":"Why do you share the dependency in Maven format if you asking about Gradle? Share how it is defined in your Gradle script."},{"owner":{"account_id":143734,"reputation":751,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1684943637,"post_id":76311418,"comment_id":134592391,"body_markdown":"@aled hope its clear, fingers crossed","body":"@aled hope its clear, fingers crossed"},{"owner":{"account_id":143734,"reputation":751,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1684944045,"post_id":76311418,"comment_id":134592502,"body_markdown":"@tgdavies there is no error, its just duplicate definition of dependecy which I would prefer to avoid. Hope its clear","body":"@tgdavies there is no error, its just duplicate definition of dependecy which I would prefer to avoid. Hope its clear"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1684944048,"post_id":76311418,"comment_id":134592503,"body_markdown":"So, you are working on `library-a` that depends on/uses `dependency-z`, and in your project, when adding `library-a`, Graddle also asks for `dependency-z`, right? And you ask how to add `library-a` without adding `dependency-z`. Is that correct?","body":"So, you are working on <code>library-a</code> that depends on/uses <code>dependency-z</code>, and in your project, when adding <code>library-a</code>, Graddle also asks for <code>dependency-z</code>, right? And you ask how to add <code>library-a</code> without adding <code>dependency-z</code>. Is that correct?"},{"owner":{"account_id":143734,"reputation":751,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1684944098,"post_id":76311418,"comment_id":134592512,"body_markdown":"@JettoMart&#237;nez yes","body":"@JettoMart&#237;nez yes"},{"owner":{"account_id":10467026,"reputation":534,"user_id":7716142,"display_name":"minh tri Vo"},"score":1,"creation_date":1684946128,"post_id":76311418,"comment_id":134592924,"body_markdown":"Just replace `implementation` with `api` ?","body":"Just replace <code>implementation</code> with <code>api</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684948078,"creation_date":1684948078,"answer_id":76325917,"question_id":76311418,"body_markdown":"You should add the dependency of that application again with an explicit version. Gradle will then either resolve that two version of the common dependency into one, or it will fail.\r\n\r\n(See the [Declaring dependencies](https://docs.gradle.org/current/userguide/dependency_resolution.html) in the Gradle user guide for more details.)\r\n\r\nYou can also specify ranges of acceptable versions of your dependencies with `[`, `(`, `)` and `]` for &quot;from including&quot;, &quot;from excluding&quot;, &quot;to excluding&quot;, &quot;to including&quot;. See [Declaring Versions and Ranges](https://docs.gradle.org/current/userguide/single_versions.html) for details there.\r\n\r\nThe explicit version specification for both parts is important for the lifetime of your application development because if that commonly used library changes in a way that makes it incompatible, you do not have to rely on the compiler failing to compiler either your own lib or your own application, but you will get a dependency resolution error from Gradle if things &quot;run out of bounds&quot;, and can then decide for a manual resolution of that problem.\r\n\r\nUsually with two simple version numbers for the same dependency, Gradle just includes the higher version into the build result.","title":"How to reuse library dependencies without redeclaring in the referenced java application","body":"<p>You should add the dependency of that application again with an explicit version. Gradle will then either resolve that two version of the common dependency into one, or it will fail.</p>\n<p>(See the <a href=\"https://docs.gradle.org/current/userguide/dependency_resolution.html\" rel=\"nofollow noreferrer\">Declaring dependencies</a> in the Gradle user guide for more details.)</p>\n<p>You can also specify ranges of acceptable versions of your dependencies with <code>[</code>, <code>(</code>, <code>)</code> and <code>]</code> for &quot;from including&quot;, &quot;from excluding&quot;, &quot;to excluding&quot;, &quot;to including&quot;. See <a href=\"https://docs.gradle.org/current/userguide/single_versions.html\" rel=\"nofollow noreferrer\">Declaring Versions and Ranges</a> for details there.</p>\n<p>The explicit version specification for both parts is important for the lifetime of your application development because if that commonly used library changes in a way that makes it incompatible, you do not have to rely on the compiler failing to compiler either your own lib or your own application, but you will get a dependency resolution error from Gradle if things &quot;run out of bounds&quot;, and can then decide for a manual resolution of that problem.</p>\n<p>Usually with two simple version numbers for the same dependency, Gradle just includes the higher version into the build result.</p>\n"}],"owner":{"account_id":143734,"reputation":751,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1684948078,"creation_date":1684818247,"question_id":76311418,"body_markdown":"We built a java library com.company.aws-s3:1.0.0 using the following dependency\r\n\r\n    implementation &#39;com.amazonaws:aws-java-sdk:1.12.472&#39;\r\n\r\nI would like to incorporate com.company.aws-s3:1.0.0 into a separate application, but build.gradle expects me to declare com.amazonaws.aws-java-sdk dependency for interfaces which we have in com.company.aws-s3:1.0.0. \r\n\r\nIs there a way to avoid redeclaring the com.amazonaws.aws-java-sdk dependency since its already declared in com.company.aws-s3:1.0.0 library.\r\n\r\nEDIT1: I don&#39;t want to redeclare the library as I have to mention the same versions in the application as well on the com.company.aws-s3/build.gradle file. I just want to remove the dependency on the application\r\n","title":"How to reuse library dependencies without redeclaring in the referenced java application","body":"<p>We built a java library com.company.aws-s3:1.0.0 using the following dependency</p>\n<pre><code>implementation 'com.amazonaws:aws-java-sdk:1.12.472'\n</code></pre>\n<p>I would like to incorporate com.company.aws-s3:1.0.0 into a separate application, but build.gradle expects me to declare com.amazonaws.aws-java-sdk dependency for interfaces which we have in com.company.aws-s3:1.0.0.</p>\n<p>Is there a way to avoid redeclaring the com.amazonaws.aws-java-sdk dependency since its already declared in com.company.aws-s3:1.0.0 library.</p>\n<p>EDIT1: I don't want to redeclare the library as I have to mention the same versions in the application as well on the com.company.aws-s3/build.gradle file. I just want to remove the dependency on the application</p>\n"},{"tags":["java","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1684955713,"post_id":76325890,"comment_id":134594832,"body_markdown":"this could very well be a bug. do you think you can contribute code or follow this process: https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue","body":"this could very well be a bug. do you think you can contribute code or follow this process: <a href=\"https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue</a>"},{"owner":{"account_id":28672324,"reputation":11,"user_id":21955128,"display_name":"Aaron Purnomo Murniadi"},"score":0,"creation_date":1685088451,"post_id":76325890,"comment_id":134615303,"body_markdown":"Sorry, It turns out to be my own mistake. Let me explain.","body":"Sorry, It turns out to be my own mistake. Let me explain."},{"owner":{"account_id":28672324,"reputation":11,"user_id":21955128,"display_name":"Aaron Purnomo Murniadi"},"score":0,"creation_date":1685089682,"post_id":76325890,"comment_id":134615582,"body_markdown":"My TestRunner class above is actually a class extending another BaseTestRunner class *and* triggering that BaseTestRunner inside TestRunner. So I was actually running the test two times :(","body":"My TestRunner class above is actually a class extending another BaseTestRunner class <i>and</i> triggering that BaseTestRunner inside TestRunner. So I was actually running the test two times :("},{"owner":{"account_id":28672324,"reputation":11,"user_id":21955128,"display_name":"Aaron Purnomo Murniadi"},"score":0,"creation_date":1685089734,"post_id":76325890,"comment_id":134615593,"body_markdown":"Btw, I&#39;m new here, is there a way to mark my question as Answered/Solved/Invalid?","body":"Btw, I&#39;m new here, is there a way to mark my question as Answered/Solved/Invalid?"},{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1685096889,"post_id":76325890,"comment_id":134617131,"body_markdown":"you can add an answer yourself to the question. after a period of 2 days I think you can mark it as &quot;accepted&quot; yourself","body":"you can add an answer yourself to the question. after a period of 2 days I think you can mark it as &quot;accepted&quot; yourself"}],"owner":{"account_id":28672324,"reputation":11,"user_id":21955128,"display_name":"Aaron Purnomo Murniadi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684948001,"creation_date":1684947812,"question_id":76325890,"body_markdown":"below is a snippet of my TestRunner.java, using Karate 1.4.0\r\n\r\n    ...\r\n      @Test\r\n      public void testParallel() {\r\n        Results results = Runner.path(&quot;classpath:&quot;)\r\n            .tags(&quot;~@ignore&quot;)\r\n            .outputCucumberJson(true)\r\n            .outputJunitXml(true)\r\n            .hook(new KarateHook())\r\n            .hook(new AnotherHook())\r\n            .parallel(4);\r\n\r\n        generateReport(results.getReportDir());\r\n\r\n        Assertions.assertThat(results.getFailCount())\r\n        .withFailMessage(String.format(&quot;There are %s failing scenarios.&quot;, results.getFailCount()))\r\n        .isZero();\r\n            \r\n      }\r\n    ...\r\n\r\nAs you can see, I am using two hooks from different classes. The insides of `KarateHook()` and `AnotherHook()` looks like this (not the full content, hopefully enough to give context, can provide more if needed):\r\n\r\nKarateHook.java :\r\n\r\n    ...\r\n      @Override\r\n      public void afterScenario(ScenarioRuntime sr) {\r\n        LOGGER.info(&quot;THIS IS DEFAULT afterScenario HOOK&quot;)\r\n      }\r\n    ...\r\n\r\nAnotherHook.java :\r\n\r\n    ...\r\n      @Override\r\n      public void afterScenario(ScenarioRuntime sr) {\r\n        LOGGER.info(&quot;THIS IS THE OTHER afterScenario HOOK&quot;)\r\n      }\r\n    ...\r\n\r\nMy expectation when running the test with single `Scenario A` is:\r\n    \r\n    &lt;Scenario A ran and success&gt;\r\n    - THIS IS DEFAULT afterScenario HOOK\r\n    - THIS IS THE OTHER afterScenario HOOK\r\n\r\nInstead, I got this:\r\n\r\n    &lt;Scenario A ran and success&gt;\r\n    - THIS IS DEFAULT afterScenario HOOK\r\n    &lt;Scenario A ran AGAIN and success&gt;\r\n    - THIS IS THE OTHER afterScenario HOOK\r\n\r\n\r\nI have tried to use `.hooks` instead of `.hook`:\r\n\r\n    @Test\r\n    public void testParallel() {\r\n      List&lt;RuntimeHook&gt; karateHooks = new ArrayList&lt;&gt;();\r\n      karateHooks.add(new KarateHook());\r\n      karateHooks.add(new AnotherHook());\r\n      Results results = Runner.path(&quot;classpath:&quot;)\r\n          .tags(&quot;~@ignore&quot;)\r\n          .outputCucumberJson(true)\r\n          .outputJunitXml(true)\r\n          .hooks(karateHooks)\r\n          .parallel(4);\r\n\r\nBut the behavior is the same :(\r\n\r\nWhat is the proper way to achieve what I expected above?\r\n\r\nAny help is very appreciated!","title":"How to assign multiple hook classes in TestRunner for Karate DSL?","body":"<p>below is a snippet of my TestRunner.java, using Karate 1.4.0</p>\n<pre><code>...\n  @Test\n  public void testParallel() {\n    Results results = Runner.path(&quot;classpath:&quot;)\n        .tags(&quot;~@ignore&quot;)\n        .outputCucumberJson(true)\n        .outputJunitXml(true)\n        .hook(new KarateHook())\n        .hook(new AnotherHook())\n        .parallel(4);\n\n    generateReport(results.getReportDir());\n\n    Assertions.assertThat(results.getFailCount())\n    .withFailMessage(String.format(&quot;There are %s failing scenarios.&quot;, results.getFailCount()))\n    .isZero();\n        \n  }\n...\n</code></pre>\n<p>As you can see, I am using two hooks from different classes. The insides of <code>KarateHook()</code> and <code>AnotherHook()</code> looks like this (not the full content, hopefully enough to give context, can provide more if needed):</p>\n<p>KarateHook.java :</p>\n<pre><code>...\n  @Override\n  public void afterScenario(ScenarioRuntime sr) {\n    LOGGER.info(&quot;THIS IS DEFAULT afterScenario HOOK&quot;)\n  }\n...\n</code></pre>\n<p>AnotherHook.java :</p>\n<pre><code>...\n  @Override\n  public void afterScenario(ScenarioRuntime sr) {\n    LOGGER.info(&quot;THIS IS THE OTHER afterScenario HOOK&quot;)\n  }\n...\n</code></pre>\n<p>My expectation when running the test with single <code>Scenario A</code> is:</p>\n<pre><code>&lt;Scenario A ran and success&gt;\n- THIS IS DEFAULT afterScenario HOOK\n- THIS IS THE OTHER afterScenario HOOK\n</code></pre>\n<p>Instead, I got this:</p>\n<pre><code>&lt;Scenario A ran and success&gt;\n- THIS IS DEFAULT afterScenario HOOK\n&lt;Scenario A ran AGAIN and success&gt;\n- THIS IS THE OTHER afterScenario HOOK\n</code></pre>\n<p>I have tried to use <code>.hooks</code> instead of <code>.hook</code>:</p>\n<pre><code>@Test\npublic void testParallel() {\n  List&lt;RuntimeHook&gt; karateHooks = new ArrayList&lt;&gt;();\n  karateHooks.add(new KarateHook());\n  karateHooks.add(new AnotherHook());\n  Results results = Runner.path(&quot;classpath:&quot;)\n      .tags(&quot;~@ignore&quot;)\n      .outputCucumberJson(true)\n      .outputJunitXml(true)\n      .hooks(karateHooks)\n      .parallel(4);\n</code></pre>\n<p>But the behavior is the same :(</p>\n<p>What is the proper way to achieve what I expected above?</p>\n<p>Any help is very appreciated!</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":2521234,"reputation":20496,"user_id":2191572,"accept_rate":69,"display_name":"MonkeyZeus"},"score":0,"creation_date":1656090025,"post_id":72747114,"comment_id":128494921,"body_markdown":"Are you extracting or validating?","body":"Are you extracting or validating?"},{"owner":{"account_id":21009405,"reputation":654,"user_id":15438360,"display_name":"Muhammad Khuzaima Umair"},"score":2,"creation_date":1656090384,"post_id":72747114,"comment_id":128495022,"body_markdown":"If you are just validating, you can simply use `Files.exists(path)`. Note: it just checks if path exist (does not guarrantee that it is possible). You can either try creating a directory there and removing. If it does not gives error. the path is valid.","body":"If you are just validating, you can simply use <code>Files.exists(path)</code>. Note: it just checks if path exist (does not guarrantee that it is possible). You can either try creating a directory there and removing. If it does not gives error. the path is valid."},{"owner":{"account_id":21009405,"reputation":654,"user_id":15438360,"display_name":"Muhammad Khuzaima Umair"},"score":0,"creation_date":1656090465,"post_id":72747114,"comment_id":128495037,"body_markdown":"Can you please figure out why the path &quot;C:/a/b/c/d&quot;  is invalid?","body":"Can you please figure out why the path &quot;C:/a/b/c/d&quot;  is invalid?"},{"owner":{"account_id":24054643,"reputation":85,"user_id":18032631,"display_name":"icarus"},"score":0,"creation_date":1656093707,"post_id":72747114,"comment_id":128496014,"body_markdown":"@MonkeyZeus its a method that accepts String path and boolean toWin(if we need to convert unix path to windows). \n\n/////////// What i need to do --&gt;\nMethod signature:\n\npublic static String convertPath(String path, boolean toWin)\nConvert path to Unix\\Windows path depending on a boolean parameter.\n\nUnix path may start with ~ or /. Every subdirectory must end with / character except the last one. . and .. refer to current directory and parent directory. Filename doesn&#39;t necessarily have the extension.\n// i managed to solve it, but cant come up with a regex to validate path","body":"@MonkeyZeus its a method that accepts String path and boolean toWin(if we need to convert unix path to windows).   /////////// What i need to do --&gt; Method signature:  public static String convertPath(String path, boolean toWin) Convert path to Unix\\Windows path depending on a boolean parameter.  Unix path may start with ~ or /. Every subdirectory must end with / character except the last one. . and .. refer to current directory and parent directory. Filename doesn&#39;t necessarily have the extension. // i managed to solve it, but cant come up with a regex to validate path"},{"owner":{"account_id":24054643,"reputation":85,"user_id":18032631,"display_name":"icarus"},"score":0,"creation_date":1656093970,"post_id":72747114,"comment_id":128496081,"body_markdown":"@MuhammadKhuzaimaUmair thanks. It&#39;s something new for me!\nHowever i need to check String path, not file(","body":"@MuhammadKhuzaimaUmair thanks. It&#39;s something new for me! However i need to check String path, not file("},{"owner":{"account_id":21009405,"reputation":654,"user_id":15438360,"display_name":"Muhammad Khuzaima Umair"},"score":0,"creation_date":1656105459,"post_id":72747114,"comment_id":128498853,"body_markdown":"@icarus it also validates the directory (not only files). the parameter `path` here is type of `String`","body":"@icarus it also validates the directory (not only files). the parameter <code>path</code> here is type of <code>String</code>"},{"owner":{"account_id":24054643,"reputation":85,"user_id":18032631,"display_name":"icarus"},"score":0,"creation_date":1656106773,"post_id":72747114,"comment_id":128499157,"body_markdown":"@MuhammadKhuzaimaUmair yeah, i got it. But i need to solve the problem using regex(","body":"@MuhammadKhuzaimaUmair yeah, i got it. But i need to solve the problem using regex("},{"owner":{"account_id":11301259,"reputation":18357,"user_id":8291949,"accept_rate":100,"display_name":"wp78de"},"score":0,"creation_date":1685485765,"post_id":72747114,"comment_id":134666230,"body_markdown":"Was my answer helpful to you? Consider voting.","body":"Was my answer helpful to you? Consider voting."}],"answers":[{"tags":[],"owner":{"account_id":11301259,"reputation":18357,"user_id":8291949,"accept_rate":100,"display_name":"wp78de"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684946731,"creation_date":1684946731,"answer_id":76325786,"question_id":72747114,"body_markdown":"Try it like this:\r\n\r\n     (?=(?:.*~){2,}).*$        #More than one ~\r\n    |(?=.*~)^(?!~).+$          #~ is not at the start\r\n    |(?=.*~)(?=.*\\\\).+$        #~ mixed with \\ (~ in Windows path)\r\n    |(?=(?:.*[Cc]:){2,}).*$    #More than one C:\r\n    |(?=.*[Cc]:)^(?![Cc]:).+$  #C: is not at the start\r\n    |(?=.*[Cc]:)(?=.*\\/).*$    #C: OR \\ mixed with /\r\n    |(?=.*\\\\)(?=.*\\/).*$       #\\ mixed with /\r\n\r\n[Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/xGJmWQ/1","title":"Java Regex for file path validation","body":"<p>Try it like this:</p>\n<pre><code> (?=(?:.*~){2,}).*$        #More than one ~\n|(?=.*~)^(?!~).+$          #~ is not at the start\n|(?=.*~)(?=.*\\\\).+$        #~ mixed with \\ (~ in Windows path)\n|(?=(?:.*[Cc]:){2,}).*$    #More than one C:\n|(?=.*[Cc]:)^(?![Cc]:).+$  #C: is not at the start\n|(?=.*[Cc]:)(?=.*\\/).*$    #C: OR \\ mixed with /\n|(?=.*\\\\)(?=.*\\/).*$       #\\ mixed with /\n</code></pre>\n<p><a href=\"https://regex101.com/r/xGJmWQ/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}],"owner":{"account_id":24054643,"reputation":85,"user_id":18032631,"display_name":"icarus"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684946731,"creation_date":1656089146,"question_id":72747114,"body_markdown":"I need to come up with a regex according to these rules.\r\nIt is guaranteed that path is either a correct path, or it has some of the following errors:\r\n\r\nMore than one ~\r\n\r\n~ is not at the start\r\n\r\n~ mixed with \\ (~ in Windows path)\r\n\r\nMore than one C:\r\n\r\nC: is not at the start\r\n\r\nC: mixed with / (C: in Unix path)\r\n\r\n\\ mixed with /\r\n\r\nIllegal paths example:\r\n\r\n/folder1/folder2\\folder3\r\n\r\nC:\\User/root\r\n\r\n/dev/~/\r\n\r\nC:/a/b/c/d\r\n\r\n~\\folder\r\n\r\n~/~\r\n\r\n~~\r\n\r\nC:\\Folder\\Subfolder\\C:\\\r\n\r\nSo far i used &quot;([A-Z|a-z]:|~|/|\\\\\\\\[^*|\\&quot;&lt;&gt;?\\\\n]*)|(\\\\\\\\\\\\\\\\.*?\\\\\\\\.*)&quot; and &quot;([a-zA-Z]:)?(\\\\\\\\[a-zA-Z0-9_.-]+)+\\\\\\\\?&quot;\r\n\r\n\r\nits a method that accepts String path and boolean toWin(if we need to convert unix path to windows). /////////// What i need to do --&gt; Method signature: public static String convertPath(String path, boolean toWin) Convert path to Unix\\Windows path depending on a boolean parameter. Unix path may start with ~ or /. Every subdirectory must end with / character except the last one. . and .. refer to current directory and parent directory. Filename doesn&#39;t necessarily have the extension. // i managed to solve it, but cant come up with a regex to validate path\r\n\r\n\r\nI would really appreciate some help. Thanks.","title":"Java Regex for file path validation","body":"<p>I need to come up with a regex according to these rules.\nIt is guaranteed that path is either a correct path, or it has some of the following errors:</p>\n<p>More than one ~</p>\n<p>~ is not at the start</p>\n<p>~ mixed with \\ (~ in Windows path)</p>\n<p>More than one C:</p>\n<p>C: is not at the start</p>\n<p>C: mixed with / (C: in Unix path)</p>\n<p>\\ mixed with /</p>\n<p>Illegal paths example:</p>\n<p>/folder1/folder2\\folder3</p>\n<p>C:\\User/root</p>\n<p>/dev/~/</p>\n<p>C:/a/b/c/d</p>\n<p>~\\folder</p>\n<p>~/~</p>\n<p>~~</p>\n<p>C:\\Folder\\Subfolder\\C:\\</p>\n<p>So far i used &quot;([A-Z|a-z]:|~|/|\\\\[^<em>|&quot;&lt;&gt;?\\n]</em>)|(\\\\\\\\.<em>?\\\\.</em>)&quot; and &quot;([a-zA-Z]:)?(\\\\[a-zA-Z0-9_.-]+)+\\\\?&quot;</p>\n<p>its a method that accepts String path and boolean toWin(if we need to convert unix path to windows). /////////// What i need to do --&gt; Method signature: public static String convertPath(String path, boolean toWin) Convert path to Unix\\Windows path depending on a boolean parameter. Unix path may start with ~ or /. Every subdirectory must end with / character except the last one. . and .. refer to current directory and parent directory. Filename doesn't necessarily have the extension. // i managed to solve it, but cant come up with a regex to validate path</p>\n<p>I would really appreciate some help. Thanks.</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","amazon-sqs","aws-java-sdk"],"comments":[{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1684947016,"post_id":76325774,"comment_id":134593113,"body_markdown":"A third way is that you externalize your configuration. AWS Lambda allows you to configure environment variables, which you can then read from your code. With an IaC (infrastructure as code) tool, you can create both queue and lambda, and link them together.","body":"A third way is that you externalize your configuration. AWS Lambda allows you to configure environment variables, which you can then read from your code. With an IaC (infrastructure as code) tool, you can create both queue and lambda, and link them together."}],"owner":{"account_id":22723505,"reputation":1,"user_id":16887662,"display_name":"Abhishek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684946656,"creation_date":1684946656,"question_id":76325774,"body_markdown":"Let’s say we want to send the message to SQS (from Lambda/any service.)\r\n\r\nWith the help of `sqsUrl` and the `message`  , SQS client can send the message to the SQS corresponding to `sqsUrl`.\r\n\r\n```\r\n// A simple SQS messaging code: \r\n\r\nSendMessageRequest messageRequest = new SendMessageRequest().withMessageBody(message).withQueueUrl(sqsUrl);\r\n\r\nthis.sqsClient.sendMessage(messageRequest);\r\n\r\n```\r\n\r\n\r\n\r\n\r\nNow there are two ways to get the `sqsUrl`:\r\n\r\n**A. We can simply hardcode the static url string in the code.**\r\n\r\nPros:\r\n\r\na. No API call, hence less latency.\r\n\r\nb. Simple to write and less line of code. Will have to define just the `sqsUrl` for each sqs in Configuration.\r\n\r\nc. Many services in Amazon use this only, probably to save latency.\r\n\r\nCons:\r\n\r\na. If AWS changes the url structure in future, then the code will break. And we have to go change the url in code. But slim chance of happening this. They will make sure of compatibility.\r\n\r\nb. Kind of hardcoding, not a good coding practice. (My opinion)\r\n\r\n**B. Other way is to **programatically** create the `sqsUrl` using `getQueueUrl` api, which accepts `sqsName` and `awsAccountId` (optional, only required if sqs’s account is different than caller’s account.)**\r\n\r\nPros:\r\n\r\na. If we want to send the message to some random team’s sqs, but they didn’t provide the `sqsUrl`. They just provided the name of sqs and account id. In that case, generating url programatically can help.\r\n\r\nb. If AWS changes the url structure in future, the code will require no changes, and things will work as it is.\r\n\r\nc.There must be some reason why SQS provided getQueueUrl api, to avoid directly using url/arn. (*Yet to find any documentation where AWS recommends using this.* )\r\n\r\nCons:\r\n\r\na. Extra dependency on an api `getQueueUrl`, extra latency of ~200 ms. But should not be a concern when this much latency doesn’t matter. For ex: Offline systems, Postprocessing scenario, etc. \r\n\r\nb. More line of codes. Will have to define `sqsName` and `accountId` for each sqs in Configuration.\r\n\r\n\r\n\r\n","title":"Use `getQueueUrl` to generate sqsUrl using sqsName and awsAccountId or simply hardcode the sqsUrl string. What is the recommendation?","body":"<p>Let’s say we want to send the message to SQS (from Lambda/any service.)</p>\n<p>With the help of <code>sqsUrl</code> and the <code>message</code>  , SQS client can send the message to the SQS corresponding to <code>sqsUrl</code>.</p>\n<pre><code>// A simple SQS messaging code: \n\nSendMessageRequest messageRequest = new SendMessageRequest().withMessageBody(message).withQueueUrl(sqsUrl);\n\nthis.sqsClient.sendMessage(messageRequest);\n\n</code></pre>\n<p>Now there are two ways to get the <code>sqsUrl</code>:</p>\n<p><strong>A. We can simply hardcode the static url string in the code.</strong></p>\n<p>Pros:</p>\n<p>a. No API call, hence less latency.</p>\n<p>b. Simple to write and less line of code. Will have to define just the <code>sqsUrl</code> for each sqs in Configuration.</p>\n<p>c. Many services in Amazon use this only, probably to save latency.</p>\n<p>Cons:</p>\n<p>a. If AWS changes the url structure in future, then the code will break. And we have to go change the url in code. But slim chance of happening this. They will make sure of compatibility.</p>\n<p>b. Kind of hardcoding, not a good coding practice. (My opinion)</p>\n<p><strong>B. Other way is to <strong>programatically</strong> create the <code>sqsUrl</code> using <code>getQueueUrl</code> api, which accepts <code>sqsName</code> and <code>awsAccountId</code> (optional, only required if sqs’s account is different than caller’s account.)</strong></p>\n<p>Pros:</p>\n<p>a. If we want to send the message to some random team’s sqs, but they didn’t provide the <code>sqsUrl</code>. They just provided the name of sqs and account id. In that case, generating url programatically can help.</p>\n<p>b. If AWS changes the url structure in future, the code will require no changes, and things will work as it is.</p>\n<p>c.There must be some reason why SQS provided getQueueUrl api, to avoid directly using url/arn. (<em>Yet to find any documentation where AWS recommends using this.</em> )</p>\n<p>Cons:</p>\n<p>a. Extra dependency on an api <code>getQueueUrl</code>, extra latency of ~200 ms. But should not be a concern when this much latency doesn’t matter. For ex: Offline systems, Postprocessing scenario, etc.</p>\n<p>b. More line of codes. Will have to define <code>sqsName</code> and <code>accountId</code> for each sqs in Configuration.</p>\n"},{"tags":["java","spring","spring-integration","spring-el","spring-integration-sftp"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684946650,"creation_date":1684946650,"answer_id":76325771,"question_id":76325467,"body_markdown":"The `headers[&#39;file_remoteDirectory&#39;]` expression references to the request message which is definitely doesn&#39;t have that info because it is a plain message:\r\n\r\n    toFtpFlow.lsGetAndRmFiles(&quot;/remote_directory/&quot;);\r\n\r\nTry to modify your `local-directory-expression` to this:\r\n\r\n    local-directory-expression=&quot;&#39;C:/temp/&#39; + #remoteDirectory&quot;\r\n\r\nWhere that `remoteDirectory` SpEL variable is populated for the path of the remote sub-dir against every file retrieved:\r\n\r\n\tprivate File generateLocalDirectory(Message&lt;?&gt; message, String remoteDirectory) {\r\n\t\tEvaluationContext evaluationContext = ExpressionUtils.createStandardEvaluationContext(getBeanFactory());\r\n\t\tif (remoteDirectory != null) {\r\n\t\t\tevaluationContext.setVariable(&quot;remoteDirectory&quot;, remoteDirectory);\r\n\t\t}\r\n\t\tFile localDir = ExpressionUtils.expressionToFile(this.localDirectoryExpression, evaluationContext, message,\r\n\t\t\t\t&quot;Local Directory&quot;);\r\n\t\tif (!localDir.exists()) {\r\n\t\t\tAssert.isTrue(localDir.mkdirs(), () -&gt; &quot;Failed to make local directory: &quot; + localDir);\r\n\t\t}\r\n\t\treturn localDir;\r\n\t}","title":"Spring Integration SFTP (xml) Outbound Gateway - copy folderstructure from remote directory to local directory using SPEL Expression and java","body":"<p>The <code>headers['file_remoteDirectory']</code> expression references to the request message which is definitely doesn't have that info because it is a plain message:</p>\n<pre><code>toFtpFlow.lsGetAndRmFiles(&quot;/remote_directory/&quot;);\n</code></pre>\n<p>Try to modify your <code>local-directory-expression</code> to this:</p>\n<pre><code>local-directory-expression=&quot;'C:/temp/' + #remoteDirectory&quot;\n</code></pre>\n<p>Where that <code>remoteDirectory</code> SpEL variable is populated for the path of the remote sub-dir against every file retrieved:</p>\n<pre><code>private File generateLocalDirectory(Message&lt;?&gt; message, String remoteDirectory) {\n    EvaluationContext evaluationContext = ExpressionUtils.createStandardEvaluationContext(getBeanFactory());\n    if (remoteDirectory != null) {\n        evaluationContext.setVariable(&quot;remoteDirectory&quot;, remoteDirectory);\n    }\n    File localDir = ExpressionUtils.expressionToFile(this.localDirectoryExpression, evaluationContext, message,\n            &quot;Local Directory&quot;);\n    if (!localDir.exists()) {\n        Assert.isTrue(localDir.mkdirs(), () -&gt; &quot;Failed to make local directory: &quot; + localDir);\n    }\n    return localDir;\n}\n</code></pre>\n"}],"owner":{"account_id":17204995,"reputation":61,"user_id":12455768,"display_name":"terrinizer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76325771,"answer_count":1,"score":0,"last_activity_date":1684946650,"creation_date":1684944265,"question_id":76325467,"body_markdown":"I am totally new to Spring Integration and a beginner in Spring. It is a miracle that I got so far but I already can copy my files recursively into a local folder. I based my app on this sample application from Spring:\r\n\r\n[https://github.com/spring-projects/spring-integration-samples/blob/main/basic/sftp/src/test/resources/META-INF/spring/integration/SftpOutboundGatewaySample-context.xml][1]\r\n\r\nNow I want to keep the same subdirectories as in the remote folder.\r\n\r\nI am using Spring 4.1.9 Release, because of legacy code. These are my dependencies.\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-integration-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.9.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-integration-sftp&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.9.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nThis is a simple App class with main method which loads the applicationcontext.\r\n\r\n    @Component\r\n    public class App {\r\n    \r\n        public static void main(String[] args) {\r\n            ConfigurableApplicationContext ctx = new ClassPathXmlApplicationContext(\r\n                    &quot;classpath:SftpOutboundGateway-context-test.xml&quot;);\r\n            ToSftpFlowGateway toFtpFlow = ctx.getBean(ToSftpFlowGateway.class);\r\n    \r\n            toFtpFlow.lsGetAndRmFiles(&quot;/remote_directory/&quot;);\r\n            \r\n        }\r\n    }\r\n\r\nThis is the interface, and the bean is made in the xml config underneath\r\n\r\n    public interface ToSftpFlowGateway\r\n    {\r\n        List&lt;Boolean&gt; lsGetAndRmFiles(String dir);\r\n    }\r\n\r\nThis is the xml spring config. It has a reference to web.xml where the sessionfactory is made. Here I use the outbound-gateway\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:int=&quot;http://www.springframework.org/schema/integration&quot;\r\n           xmlns:int-sftp=&quot;http://www.springframework.org/schema/integration/sftp&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/integration\r\n                               http://www.springframework.org/schema/integration/spring-integration-4.1.xsd\r\n    \t\t                   http://www.springframework.org/schema/beans\r\n    \t\t                   https://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\t                   http://www.springframework.org/schema/integration/sftp \r\n    \t\t                   https://www.springframework.org/schema/integration/sftp/spring-integration-sftp-4.1.xsd&quot;&gt;\r\n    \r\n        &lt;import resource=&quot;web.xml&quot;/&gt;\r\n        \r\n    \r\n        &lt;int:gateway id=&quot;gw&quot; \r\n                     service-interface=&quot;ToSftpFlowGateway&quot;\r\n                     default-request-channel=&quot;receiveChannel&quot;\r\n        /&gt;\r\n    \r\n        &lt;int-sftp:outbound-gateway id=&quot;gateway1&quot; \r\n                                  auto-startup=&quot;true&quot;\r\n                                  session-factory=&quot;sftpSessionFactory&quot;\r\n                                  request-channel=&quot;receiveChannel&quot;\r\n                                  command=&quot;mget&quot;\r\n                                  local-directory-expression=&quot;&#39;C:/temp/&#39; + headers[&#39;file_remoteDirectory&#39;]&quot;\r\n                                  auto-create-local-directory=&quot;true&quot;\r\n                                  rename-expression=&quot;&quot; \r\n                                  command-options=&quot;-R&quot; \r\n                                  mode=&quot;IGNORE&quot;\r\n                                  expression=&quot;payload&quot;\r\n                                  reply-channel=&quot;loggingChannel&quot; \r\n        &gt;\r\n            &lt;int:poller fixed-rate=&quot;1&quot;/&gt;\r\n        &lt;/int-sftp:outbound-gateway&gt;\r\n        \r\n        &lt;int:channel id=&quot;receiveChannel&quot;&gt;\r\n            &lt;int:queue/&gt;\r\n        &lt;/int:channel&gt;\r\n    \r\n        &lt;int:logging-channel-adapter id=&quot;loggingChannel&quot; log-full-message=&quot;true&quot; logger-name=&quot;tapInbound&quot;\r\n                                     level=&quot;INFO&quot; /&gt;\r\n        \r\n    &lt;/beans&gt;\r\n\r\nI want to know why my subdirectories are null. I want my subdirectories to be C:/temp/in and C:/temp/out as the following picture.\r\n\r\n\r\n[![sftp_remote_directory][2]][2]\r\n\r\n\r\nNow i get the following output as logging:\r\n\r\n    INFO: GenericMessage [payload=[C:\\temp\\null\\file.txt, C:\\temp\\null\\file2.txt, C:\\temp\\null\\file3.txt], headers={replyChannel=org.springframework.messaging.core.GenericMessagingTemplate$TemporaryReplyChannel@534a53da, errorChannel=org.springframework.messaging.core.GenericMessagingTemplate$TemporaryReplyChannel@534a53da, id=f012840c-184e-203e-1a90-754beb8796d1, file_remoteDirectory=/remote_directory/, file_remoteFile=, timestamp=1684943419215}]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-integration-samples/blob/main/basic/sftp/src/test/resources/META-INF/spring/integration/SftpOutboundGatewaySample-context.xml\r\n  [2]: https://i.stack.imgur.com/Z0WCo.png\r\n\r\nThis is probably wrong\r\n\r\n    local-directory-expression=&quot;&#39;C:/temp/&#39; + headers[&#39;file_remoteDirectory&#39;]&quot;\r\n\r\nSpring documentation says the following, but I don&#39;t understand:\r\n\r\n&gt; Typically, you would use the #remoteDirectory variable in the\r\n&gt; local-directory-expression so that the remote directory structure is\r\n&gt; retained locally.","title":"Spring Integration SFTP (xml) Outbound Gateway - copy folderstructure from remote directory to local directory using SPEL Expression and java","body":"<p>I am totally new to Spring Integration and a beginner in Spring. It is a miracle that I got so far but I already can copy my files recursively into a local folder. I based my app on this sample application from Spring:</p>\n<p><a href=\"https://github.com/spring-projects/spring-integration-samples/blob/main/basic/sftp/src/test/resources/META-INF/spring/integration/SftpOutboundGatewaySample-context.xml\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-integration-samples/blob/main/basic/sftp/src/test/resources/META-INF/spring/integration/SftpOutboundGatewaySample-context.xml</a></p>\n<p>Now I want to keep the same subdirectories as in the remote folder.</p>\n<p>I am using Spring 4.1.9 Release, because of legacy code. These are my dependencies.</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-integration-core&lt;/artifactId&gt;\n        &lt;version&gt;4.1.9.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-integration-sftp&lt;/artifactId&gt;\n        &lt;version&gt;4.1.9.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>This is a simple App class with main method which loads the applicationcontext.</p>\n<pre><code>@Component\npublic class App {\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext ctx = new ClassPathXmlApplicationContext(\n                &quot;classpath:SftpOutboundGateway-context-test.xml&quot;);\n        ToSftpFlowGateway toFtpFlow = ctx.getBean(ToSftpFlowGateway.class);\n\n        toFtpFlow.lsGetAndRmFiles(&quot;/remote_directory/&quot;);\n        \n    }\n}\n</code></pre>\n<p>This is the interface, and the bean is made in the xml config underneath</p>\n<pre><code>public interface ToSftpFlowGateway\n{\n    List&lt;Boolean&gt; lsGetAndRmFiles(String dir);\n}\n</code></pre>\n<p>This is the xml spring config. It has a reference to web.xml where the sessionfactory is made. Here I use the outbound-gateway</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:int=&quot;http://www.springframework.org/schema/integration&quot;\n       xmlns:int-sftp=&quot;http://www.springframework.org/schema/integration/sftp&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/integration\n                           http://www.springframework.org/schema/integration/spring-integration-4.1.xsd\n                           http://www.springframework.org/schema/beans\n                           https://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/integration/sftp \n                           https://www.springframework.org/schema/integration/sftp/spring-integration-sftp-4.1.xsd&quot;&gt;\n\n    &lt;import resource=&quot;web.xml&quot;/&gt;\n    \n\n    &lt;int:gateway id=&quot;gw&quot; \n                 service-interface=&quot;ToSftpFlowGateway&quot;\n                 default-request-channel=&quot;receiveChannel&quot;\n    /&gt;\n\n    &lt;int-sftp:outbound-gateway id=&quot;gateway1&quot; \n                              auto-startup=&quot;true&quot;\n                              session-factory=&quot;sftpSessionFactory&quot;\n                              request-channel=&quot;receiveChannel&quot;\n                              command=&quot;mget&quot;\n                              local-directory-expression=&quot;'C:/temp/' + headers['file_remoteDirectory']&quot;\n                              auto-create-local-directory=&quot;true&quot;\n                              rename-expression=&quot;&quot; \n                              command-options=&quot;-R&quot; \n                              mode=&quot;IGNORE&quot;\n                              expression=&quot;payload&quot;\n                              reply-channel=&quot;loggingChannel&quot; \n    &gt;\n        &lt;int:poller fixed-rate=&quot;1&quot;/&gt;\n    &lt;/int-sftp:outbound-gateway&gt;\n    \n    &lt;int:channel id=&quot;receiveChannel&quot;&gt;\n        &lt;int:queue/&gt;\n    &lt;/int:channel&gt;\n\n    &lt;int:logging-channel-adapter id=&quot;loggingChannel&quot; log-full-message=&quot;true&quot; logger-name=&quot;tapInbound&quot;\n                                 level=&quot;INFO&quot; /&gt;\n    \n&lt;/beans&gt;\n</code></pre>\n<p>I want to know why my subdirectories are null. I want my subdirectories to be C:/temp/in and C:/temp/out as the following picture.</p>\n<p><a href=\"https://i.stack.imgur.com/Z0WCo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z0WCo.png\" alt=\"sftp_remote_directory\" /></a></p>\n<p>Now i get the following output as logging:</p>\n<pre><code>INFO: GenericMessage [payload=[C:\\temp\\null\\file.txt, C:\\temp\\null\\file2.txt, C:\\temp\\null\\file3.txt], headers={replyChannel=org.springframework.messaging.core.GenericMessagingTemplate$TemporaryReplyChannel@534a53da, errorChannel=org.springframework.messaging.core.GenericMessagingTemplate$TemporaryReplyChannel@534a53da, id=f012840c-184e-203e-1a90-754beb8796d1, file_remoteDirectory=/remote_directory/, file_remoteFile=, timestamp=1684943419215}]\n</code></pre>\n<p>This is probably wrong</p>\n<pre><code>local-directory-expression=&quot;'C:/temp/' + headers['file_remoteDirectory']&quot;\n</code></pre>\n<p>Spring documentation says the following, but I don't understand:</p>\n<blockquote>\n<p>Typically, you would use the #remoteDirectory variable in the\nlocal-directory-expression so that the remote directory structure is\nretained locally.</p>\n</blockquote>\n"},{"tags":["java","spring","mapstruct","spring-repositories"],"owner":{"account_id":9554426,"reputation":141,"user_id":7097438,"display_name":"Zybrion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684946622,"creation_date":1649945629,"question_id":71873064,"body_markdown":"in version 2.5.x of Spring-Boot a method of the JPARepository has been deprecated in favor of another one [(see here, section &quot;Spring Data JPA&quot;)][1]\r\n\r\n\r\n```\r\nDeprecated: MyObject getOne(Id id);\r\nNew one:    MyObject getById(Id id);\r\n```\r\n\r\nMapstruct (1.4.2.Final) now throws the error of ```Ambiguous mapping method``` because it cannot differentiate which one to use because the signature is identical on both.\r\n\r\nI used the ```@Mapper(componentModel = &quot;spring&quot;, uses = {MyObjectRepository.class, ...}```\r\nwhich in turn used to use the ```getOne(Id id)``` method while generating the implementation of the Mapper. But now faces the issue of ambigous mapping method.\r\n\r\nWhat is the correct solution to tackle this problem?\r\n\r\nI have tried the following which solve the problems but are really **not ideal**:\r\n\r\n - use an ```expression(java(myObjectRepository.getById(myDto.getId()))``` but this is not type safe at all and alot of hassle to implement.\r\n - Override the ```MyObject getById(Id id)``` in the repository and use ```@Named``` and specify the name in the mapstruct ```@Mapping``` method in the ```qualifiedByName```.\r\n\r\nIs there a way to exclude ```@Deprecated``` methods from beeing used in the generation process? (See [here][2] for another reference)\r\n\r\nOr any other suggestions on how to fix this issue?\r\n\r\nThank you!\r\n\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.5-Release-Notes#spring-data-jpa=\r\n  [2]: https://github.com/mapstruct/mapstruct/issues/1151","title":"Mapstruct ambiguous mapping methods - Spring 2.5.x","body":"<p>in version 2.5.x of Spring-Boot a method of the JPARepository has been deprecated in favor of another one <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.5-Release-Notes#spring-data-jpa=\" rel=\"nofollow noreferrer\">(see here, section &quot;Spring Data JPA&quot;)</a></p>\n<pre><code>Deprecated: MyObject getOne(Id id);\nNew one:    MyObject getById(Id id);\n</code></pre>\n<p>Mapstruct (1.4.2.Final) now throws the error of <code>Ambiguous mapping method</code> because it cannot differentiate which one to use because the signature is identical on both.</p>\n<p>I used the <code>@Mapper(componentModel = &quot;spring&quot;, uses = {MyObjectRepository.class, ...}</code>\nwhich in turn used to use the <code>getOne(Id id)</code> method while generating the implementation of the Mapper. But now faces the issue of ambigous mapping method.</p>\n<p>What is the correct solution to tackle this problem?</p>\n<p>I have tried the following which solve the problems but are really <strong>not ideal</strong>:</p>\n<ul>\n<li>use an <code>expression(java(myObjectRepository.getById(myDto.getId()))</code> but this is not type safe at all and alot of hassle to implement.</li>\n<li>Override the <code>MyObject getById(Id id)</code> in the repository and use <code>@Named</code> and specify the name in the mapstruct <code>@Mapping</code> method in the <code>qualifiedByName</code>.</li>\n</ul>\n<p>Is there a way to exclude <code>@Deprecated</code> methods from beeing used in the generation process? (See <a href=\"https://github.com/mapstruct/mapstruct/issues/1151\" rel=\"nofollow noreferrer\">here</a> for another reference)</p>\n<p>Or any other suggestions on how to fix this issue?</p>\n<p>Thank you!</p>\n"},{"tags":["java","android","runtime","android-permissions"],"answers":[{"tags":[],"owner":{"account_id":14338249,"reputation":3000,"user_id":10357086,"display_name":"Dev4Life"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684737547,"creation_date":1684737547,"answer_id":76303562,"question_id":76262369,"body_markdown":"`Settings.canDrawOverlays(currentAct)` is a way to check if you can get draw overlay permission or not. In Go devices, it&#39;ll always return false as it uses excessive memory, so you simply cannot allow that permission in Go devices.\r\n\r\nAnd for some special use cases, permission will be granted automatically regardless of an android version of the device. Explained here in detail as you mentioned - [Overlay permission changes][1]\r\n\r\n\r\n  [1]: https://developer.android.com/about/versions/11/privacy/permissions#system_alert_autogrant","title":"DRAW OVER OTHER app permission - condition to find &#39;this feature not available&#39; devices","body":"<p><code>Settings.canDrawOverlays(currentAct)</code> is a way to check if you can get draw overlay permission or not. In Go devices, it'll always return false as it uses excessive memory, so you simply cannot allow that permission in Go devices.</p>\n<p>And for some special use cases, permission will be granted automatically regardless of an android version of the device. Explained here in detail as you mentioned - <a href=\"https://developer.android.com/about/versions/11/privacy/permissions#system_alert_autogrant\" rel=\"nofollow noreferrer\">Overlay permission changes</a></p>\n"}],"owner":{"account_id":8725221,"reputation":578,"user_id":6527039,"accept_rate":80,"display_name":"Liya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684946528,"creation_date":1684235658,"question_id":76262369,"body_markdown":"Hi I am working on a taxi driver application , in which I need to keep the driver online and app in background , I asked MANAGE_OVERLAY_PERMISSION as runtime permission . but in some devices (in Go edition , android 11) it shows &#39;feature not available&#39; alert . I have read the [developer doc][1] and could find the reason . **now my requirement is to ask MANAGE_OVERLAY_PERMISSION  runtime permission alert to the devices which support this feature** . **Which condition should I use to differentiate it?**\r\n\r\n Here is my code . \r\n\r\n \r\n\r\n    *if (//TODO Condition to check whether this feature is available on device?) {*  \r\n                             if (!Settings.canDrawOverlays(currentAct)) {\r\n                                 checkForOverlay(activity); //asking permission for popup\r\n                             }\r\n\r\n                    }\r\n\r\nAlso I read draw over permission removed for Version Q and higher it will be granted to apps automatically [here][2] , but it is not granting automatically.\r\n\r\nI tried `activityManager.isLowRamDevice()` , but I dont think it is right solution. \r\n\r\nhow can I resolve these issues. \r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/about/versions/10/behavior-changes-all#sysalert-go\r\n  [2]: https://developer.android.com/about/versions/11/privacy/permissions#system_alert_autogrant","title":"DRAW OVER OTHER app permission - condition to find &#39;this feature not available&#39; devices","body":"<p>Hi I am working on a taxi driver application , in which I need to keep the driver online and app in background , I asked MANAGE_OVERLAY_PERMISSION as runtime permission . but in some devices (in Go edition , android 11) it shows 'feature not available' alert . I have read the <a href=\"https://developer.android.com/about/versions/10/behavior-changes-all#sysalert-go\" rel=\"nofollow noreferrer\">developer doc</a> and could find the reason . <strong>now my requirement is to ask MANAGE_OVERLAY_PERMISSION  runtime permission alert to the devices which support this feature</strong> . <strong>Which condition should I use to differentiate it?</strong></p>\n<p>Here is my code .</p>\n<pre><code>*if (//TODO Condition to check whether this feature is available on device?) {*  \n                         if (!Settings.canDrawOverlays(currentAct)) {\n                             checkForOverlay(activity); //asking permission for popup\n                         }\n\n                }\n</code></pre>\n<p>Also I read draw over permission removed for Version Q and higher it will be granted to apps automatically <a href=\"https://developer.android.com/about/versions/11/privacy/permissions#system_alert_autogrant\" rel=\"nofollow noreferrer\">here</a> , but it is not granting automatically.</p>\n<p>I tried <code>activityManager.isLowRamDevice()</code> , but I dont think it is right solution.</p>\n<p>how can I resolve these issues.</p>\n"},{"tags":["java","spring-boot","google-cloud-pubsub","testcontainers","google-cloud-pubsub-emulator"],"answers":[{"tags":[],"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684946221,"creation_date":1684946221,"answer_id":76325725,"question_id":76318081,"body_markdown":"It came up that the PubSub emulator requires its own test publisher which can be created as a bean in configuration. Example:\r\n\r\n```\r\n@Configuration\r\npublic class PubSubConfig {\r\n   @Value(&quot;${gcp.pubsub.topic.name}&quot;)\r\n   private String topicName;\r\n\r\n   @Value(&quot;${gcp.project.id}&quot;)\r\n   private String projected;\r\n   \r\n   @Value(&quot;${spring.cloud.gcp.pubsub.emulator-host}&quot;)\r\n   private String host;\r\n   \r\n   private static final CredentialsProvider CREDENTIALS_PROVIDER = NoCredentialsProvider.create();\r\n\r\n   @Bean\r\n   public SubscriberStub testSubscriber(\r\n         FixedTransportChannelProvider fixedTransportChannelProvider) throws IOException {\r\n      return GrpcSubscriberStub.create(SubscriberStubSettings.newBuilder()\r\n                                                             .setTransportChannelProvider(fixedTransportChannelProvider)\r\n                                                             .setCredentialsProvider(CREDENTIALS_PROVIDER)\r\n                                                             .build());\r\n   }\r\n\r\n   @Primary\r\n   @Bean\r\n   public Publisher testPublisher(FixedTransportChannelProvider fixedTransportChannelProvider) throws IOException {\r\n      return Publisher.newBuilder(ProjectTopicName.of(projectId, topicName))\r\n                      .setChannelProvider(fixedTransportChannelProvider)\r\n                      .setCredentialsProvider(NoCredentialsProvider.create())\r\n                      .build();\r\n   }\r\n\r\n   @Bean\r\n   public TopicAdminClient getTopicAdminClient(\r\n         FixedTransportChannelProvider fixedTransportChannelProvider) throws IOException {\r\n      return TopicAdminClient.create(TopicAdminSettings.newBuilder()\r\n                                                       .setTransportChannelProvider(fixedTransportChannelProvider)\r\n                                                       .setCredentialsProvider(CREDENTIALS_PROVIDER)\r\n                                                       .build());\r\n   }\r\n\r\n   @Primary\r\n   @Bean\r\n   public FixedTransportChannelProvider getChannelProvider() {\r\n      var channel = ManagedChannelBuilder.forTarget(host)\r\n                                         .usePlaintext()\r\n                                         .build();\r\n      return FixedTransportChannelProvider.create(GrpcTransportChannel.create(channel));\r\n   }\r\n\r\n   @Bean\r\n   public SubscriptionAdminClient createSubscriptionAdmin(FixedTransportChannelProvider fixedTransportChannelProvider) throws IOException {\r\n      return SubscriptionAdminClient.create(SubscriptionAdminSettings.newBuilder()\r\n                                                                     .setCredentialsProvider(\r\n                                                                           NoCredentialsProvider.create())\r\n                                                                     .setTransportChannelProvider(\r\n                                                                           fixedTransportChannelProvider)\r\n                                                                     .build());\r\n   }\r\n\r\n}\r\n``` ","title":"Testing GCP PubSub with Testcontainer PubSub emulator","body":"<p>It came up that the PubSub emulator requires its own test publisher which can be created as a bean in configuration. Example:</p>\n<pre><code>@Configuration\npublic class PubSubConfig {\n   @Value(&quot;${gcp.pubsub.topic.name}&quot;)\n   private String topicName;\n\n   @Value(&quot;${gcp.project.id}&quot;)\n   private String projected;\n   \n   @Value(&quot;${spring.cloud.gcp.pubsub.emulator-host}&quot;)\n   private String host;\n   \n   private static final CredentialsProvider CREDENTIALS_PROVIDER = NoCredentialsProvider.create();\n\n   @Bean\n   public SubscriberStub testSubscriber(\n         FixedTransportChannelProvider fixedTransportChannelProvider) throws IOException {\n      return GrpcSubscriberStub.create(SubscriberStubSettings.newBuilder()\n                                                             .setTransportChannelProvider(fixedTransportChannelProvider)\n                                                             .setCredentialsProvider(CREDENTIALS_PROVIDER)\n                                                             .build());\n   }\n\n   @Primary\n   @Bean\n   public Publisher testPublisher(FixedTransportChannelProvider fixedTransportChannelProvider) throws IOException {\n      return Publisher.newBuilder(ProjectTopicName.of(projectId, topicName))\n                      .setChannelProvider(fixedTransportChannelProvider)\n                      .setCredentialsProvider(NoCredentialsProvider.create())\n                      .build();\n   }\n\n   @Bean\n   public TopicAdminClient getTopicAdminClient(\n         FixedTransportChannelProvider fixedTransportChannelProvider) throws IOException {\n      return TopicAdminClient.create(TopicAdminSettings.newBuilder()\n                                                       .setTransportChannelProvider(fixedTransportChannelProvider)\n                                                       .setCredentialsProvider(CREDENTIALS_PROVIDER)\n                                                       .build());\n   }\n\n   @Primary\n   @Bean\n   public FixedTransportChannelProvider getChannelProvider() {\n      var channel = ManagedChannelBuilder.forTarget(host)\n                                         .usePlaintext()\n                                         .build();\n      return FixedTransportChannelProvider.create(GrpcTransportChannel.create(channel));\n   }\n\n   @Bean\n   public SubscriptionAdminClient createSubscriptionAdmin(FixedTransportChannelProvider fixedTransportChannelProvider) throws IOException {\n      return SubscriptionAdminClient.create(SubscriptionAdminSettings.newBuilder()\n                                                                     .setCredentialsProvider(\n                                                                           NoCredentialsProvider.create())\n                                                                     .setTransportChannelProvider(\n                                                                           fixedTransportChannelProvider)\n                                                                     .build());\n   }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":781,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76325725,"answer_count":1,"score":0,"last_activity_date":1684946221,"creation_date":1684870424,"question_id":76318081,"body_markdown":"I&#39;m trying to create an integration test with PubSub emulator based on the example from this [GitHub][1] repo which looks like\r\n\r\n```\r\n@SpringBootTest\r\n@Testcontainers\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class PubSubIntegrationTests {\r\n  private static final String PROJECT_ID = &quot;test-project&quot;;\r\n\r\n  @Container\r\n  private static final PubSubEmulatorContainer pubsubEmulator =\r\n      new PubSubEmulatorContainer(\r\n          DockerImageName.parse(&quot;gcr.io/google.com/cloudsdktool/cloud-sdk:367.0.0-emulators&quot;));\r\n\r\n  @DynamicPropertySource\r\n  static void emulatorProperties(DynamicPropertyRegistry registry) {\r\n    registry.add(&quot;spring.cloud.gcp.pubsub.emulator-host&quot;, pubsubEmulator::getEmulatorEndpoint);\r\n  }\r\n\r\n  @BeforeAll\r\n  static void setup() throws Exception {\r\n    ManagedChannel channel =\r\n        ManagedChannelBuilder.forTarget(&quot;dns:///&quot; + pubsubEmulator.getEmulatorEndpoint())\r\n            .usePlaintext()\r\n            .build();\r\n    TransportChannelProvider channelProvider =\r\n        FixedTransportChannelProvider.create(GrpcTransportChannel.create(channel));\r\n\r\n    TopicAdminClient topicAdminClient =\r\n        TopicAdminClient.create(\r\n            TopicAdminSettings.newBuilder()\r\n                .setCredentialsProvider(NoCredentialsProvider.create())\r\n                .setTransportChannelProvider(channelProvider)\r\n                .build());\r\n\r\n    SubscriptionAdminClient subscriptionAdminClient =\r\n        SubscriptionAdminClient.create(\r\n            SubscriptionAdminSettings.newBuilder()\r\n                .setTransportChannelProvider(channelProvider)\r\n                .setCredentialsProvider(NoCredentialsProvider.create())\r\n                .build());\r\n\r\n    PubSubAdmin admin =\r\n        new PubSubAdmin(() -&gt; PROJECT_ID, topicAdminClient, subscriptionAdminClient);\r\n\r\n    admin.createTopic(&quot;test-topic&quot;);\r\n    admin.createSubscription(&quot;test-subscription&quot;, &quot;test-topic&quot;);\r\n\r\n    admin.close();\r\n    channel.shutdown();\r\n  }\r\n\r\n  // By default, autoconfiguration will initialize application default credentials.\r\n  // For testing purposes, don&#39;t use any credentials. Bootstrap w/ NoCredentialsProvider.\r\n  @TestConfiguration\r\n  static class PubSubEmulatorConfiguration {\r\n    @Bean\r\n    CredentialsProvider googleCredentials() {\r\n      return NoCredentialsProvider.create();\r\n    }\r\n  }\r\n\r\n  @Autowired PubSubSender sender;\r\n\r\n  @Autowired PubSubSubscriberTemplate subscriberTemplate;\r\n  @Autowired PubSubPublisherTemplate publisherTemplate;\r\n\r\n  @Test\r\n  void testSend() throws ExecutionException, InterruptedException {\r\n    ListenableFuture&lt;String&gt; future = sender.send(&quot;hello!&quot;);\r\n\r\n    List&lt;AcknowledgeablePubsubMessage&gt; msgs =\r\n        await().until(() -&gt; subscriberTemplate.pull(&quot;test-subscription&quot;, 10, true), not(empty()));\r\n\r\n    assertEquals(1, msgs.size());\r\n    assertEquals(future.get(), msgs.get(0).getPubsubMessage().getMessageId());\r\n    assertEquals(&quot;hello!&quot;, msgs.get(0).getPubsubMessage().getData().toStringUtf8());\r\n\r\n    for (AcknowledgeablePubsubMessage msg : msgs) {\r\n      msg.ack();\r\n    }\r\n  }\r\n\r\n  @Test\r\n  void testWorker() throws ExecutionException, InterruptedException {\r\n    ListenableFuture&lt;String&gt; future = publisherTemplate.publish(&quot;test-topic&quot;, &quot;hi!&quot;);\r\n\r\n    List&lt;PubsubMessage&gt; messages = Collections.synchronizedList(new LinkedList&lt;&gt;());\r\n    PubSubWorker worker =\r\n        new PubSubWorker(\r\n            &quot;test-subscription&quot;,\r\n            subscriberTemplate,\r\n            (msg) -&gt; {\r\n              messages.add(msg);\r\n            });\r\n    worker.start();\r\n\r\n    await().until(() -&gt; messages, not(empty()));\r\n    assertEquals(1, messages.size());\r\n    assertEquals(future.get(), messages.get(0).getMessageId());\r\n    assertEquals(&quot;hi!&quot;, messages.get(0).getData().toStringUtf8());\r\n\r\n    worker.stop();\r\n  }\r\n\r\n  @AfterEach\r\n  void teardown() {\r\n    // Drain any messages that are still in the subscription so that they don&#39;t interfere with\r\n    // subsequent tests.\r\n    await().until(() -&gt; subscriberTemplate.pullAndAck(&quot;test-subscription&quot;, 1000, true), hasSize(0));\r\n  }\r\n}\r\n```\r\n\r\nall works fine for the above example but when I want to test my implementation as follows\r\n\r\n```\r\n    @Autowired\r\n    private FunctionCatalog catalog;\r\n\r\n    @Test\r\n    void testSendB() throws ExecutionException, InterruptedException {\r\n        Consumer&lt;PubSubMessage&gt; function = catalog.lookup(MyFunction.class, FUNCTION_DEFINITION);\r\n        var pubSubMessage = new PubSubMessage();\r\n        pubSubMessage.setData(Base64.getEncoder().encodeToString(EMPTY_MESSAGE.getBytes()));\r\n        function.accept(pubSubMessage);\r\n\r\n        List&lt;AcknowledgeablePubsubMessage&gt; msgs =\r\n                await().until(() -&gt; subscriberTemplate.pull(&quot;test-subscription&quot;, 10, true), not(empty()));\r\n\r\n        assertEquals(1, msgs.size());\r\n        assertEquals(future.get(), msgs.get(0).getPubsubMessage().getMessageId());\r\n        assertEquals(&quot;hello!&quot;, msgs.get(0).getPubsubMessage().getData().toStringUtf8());\r\n\r\n        for (AcknowledgeablePubsubMessage msg : msgs) {\r\n            msg.ack();\r\n        }\r\n    }\r\n```\r\n\r\nit will throw error:\r\n\r\n```\r\njava.lang.RuntimeException: java.util.concurrent.ExecutionException: com.google.api.gax.rpc.NotFoundException: io.grpc.StatusRuntimeException: NOT_FOUND: Resource not found (resource=test-topic).\r\n```\r\n\r\nwhere my service implementation uses `Publisher` instead of `PubSubPublisherTemplate` from the example:\r\n\r\n\r\n```\r\n    private final Publisher publisher;\r\n\r\n    public void publishMessage(String message) {\r\n        var byteStr = ByteString.copyFrom(message, StandardCharsets.UTF_8);\r\n        var pubsubApiMessage = getPubsubApiMessage(byteStr);\r\n\r\n        try {\r\n            publish(pubsubApiMessage);\r\n        } catch (Exception e) {\r\n            log.error(&quot;Error during event publishing: &quot; + e.getMessage(), e);\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private void publish(PubsubMessage pubsubApiMessage) throws Exception {\r\n        publisher.publish(pubsubApiMessage).get();\r\n    }\r\n\r\n    private PubsubMessage getPubsubApiMessage(ByteString byteStr) {\r\n        return PubsubMessage.newBuilder()\r\n                            .setData(byteStr)\r\n                            .build();\r\n    }\r\n```\r\n\r\nand works fine when deployed to GCP but not in this case of integration test using PubSub emulator.\r\n\r\n\r\n  [1]: https://github.com/ddobrin/testcontainers-gcloud-examples/blob/main/springboot-gcp/pubsub-example/src/test/java/com/example/springboot/pubsub/PubSubIntegrationTests.java","title":"Testing GCP PubSub with Testcontainer PubSub emulator","body":"<p>I'm trying to create an integration test with PubSub emulator based on the example from this <a href=\"https://github.com/ddobrin/testcontainers-gcloud-examples/blob/main/springboot-gcp/pubsub-example/src/test/java/com/example/springboot/pubsub/PubSubIntegrationTests.java\" rel=\"nofollow noreferrer\">GitHub</a> repo which looks like</p>\n<pre><code>@SpringBootTest\n@Testcontainers\n@ActiveProfiles(&quot;test&quot;)\npublic class PubSubIntegrationTests {\n  private static final String PROJECT_ID = &quot;test-project&quot;;\n\n  @Container\n  private static final PubSubEmulatorContainer pubsubEmulator =\n      new PubSubEmulatorContainer(\n          DockerImageName.parse(&quot;gcr.io/google.com/cloudsdktool/cloud-sdk:367.0.0-emulators&quot;));\n\n  @DynamicPropertySource\n  static void emulatorProperties(DynamicPropertyRegistry registry) {\n    registry.add(&quot;spring.cloud.gcp.pubsub.emulator-host&quot;, pubsubEmulator::getEmulatorEndpoint);\n  }\n\n  @BeforeAll\n  static void setup() throws Exception {\n    ManagedChannel channel =\n        ManagedChannelBuilder.forTarget(&quot;dns:///&quot; + pubsubEmulator.getEmulatorEndpoint())\n            .usePlaintext()\n            .build();\n    TransportChannelProvider channelProvider =\n        FixedTransportChannelProvider.create(GrpcTransportChannel.create(channel));\n\n    TopicAdminClient topicAdminClient =\n        TopicAdminClient.create(\n            TopicAdminSettings.newBuilder()\n                .setCredentialsProvider(NoCredentialsProvider.create())\n                .setTransportChannelProvider(channelProvider)\n                .build());\n\n    SubscriptionAdminClient subscriptionAdminClient =\n        SubscriptionAdminClient.create(\n            SubscriptionAdminSettings.newBuilder()\n                .setTransportChannelProvider(channelProvider)\n                .setCredentialsProvider(NoCredentialsProvider.create())\n                .build());\n\n    PubSubAdmin admin =\n        new PubSubAdmin(() -&gt; PROJECT_ID, topicAdminClient, subscriptionAdminClient);\n\n    admin.createTopic(&quot;test-topic&quot;);\n    admin.createSubscription(&quot;test-subscription&quot;, &quot;test-topic&quot;);\n\n    admin.close();\n    channel.shutdown();\n  }\n\n  // By default, autoconfiguration will initialize application default credentials.\n  // For testing purposes, don't use any credentials. Bootstrap w/ NoCredentialsProvider.\n  @TestConfiguration\n  static class PubSubEmulatorConfiguration {\n    @Bean\n    CredentialsProvider googleCredentials() {\n      return NoCredentialsProvider.create();\n    }\n  }\n\n  @Autowired PubSubSender sender;\n\n  @Autowired PubSubSubscriberTemplate subscriberTemplate;\n  @Autowired PubSubPublisherTemplate publisherTemplate;\n\n  @Test\n  void testSend() throws ExecutionException, InterruptedException {\n    ListenableFuture&lt;String&gt; future = sender.send(&quot;hello!&quot;);\n\n    List&lt;AcknowledgeablePubsubMessage&gt; msgs =\n        await().until(() -&gt; subscriberTemplate.pull(&quot;test-subscription&quot;, 10, true), not(empty()));\n\n    assertEquals(1, msgs.size());\n    assertEquals(future.get(), msgs.get(0).getPubsubMessage().getMessageId());\n    assertEquals(&quot;hello!&quot;, msgs.get(0).getPubsubMessage().getData().toStringUtf8());\n\n    for (AcknowledgeablePubsubMessage msg : msgs) {\n      msg.ack();\n    }\n  }\n\n  @Test\n  void testWorker() throws ExecutionException, InterruptedException {\n    ListenableFuture&lt;String&gt; future = publisherTemplate.publish(&quot;test-topic&quot;, &quot;hi!&quot;);\n\n    List&lt;PubsubMessage&gt; messages = Collections.synchronizedList(new LinkedList&lt;&gt;());\n    PubSubWorker worker =\n        new PubSubWorker(\n            &quot;test-subscription&quot;,\n            subscriberTemplate,\n            (msg) -&gt; {\n              messages.add(msg);\n            });\n    worker.start();\n\n    await().until(() -&gt; messages, not(empty()));\n    assertEquals(1, messages.size());\n    assertEquals(future.get(), messages.get(0).getMessageId());\n    assertEquals(&quot;hi!&quot;, messages.get(0).getData().toStringUtf8());\n\n    worker.stop();\n  }\n\n  @AfterEach\n  void teardown() {\n    // Drain any messages that are still in the subscription so that they don't interfere with\n    // subsequent tests.\n    await().until(() -&gt; subscriberTemplate.pullAndAck(&quot;test-subscription&quot;, 1000, true), hasSize(0));\n  }\n}\n</code></pre>\n<p>all works fine for the above example but when I want to test my implementation as follows</p>\n<pre><code>    @Autowired\n    private FunctionCatalog catalog;\n\n    @Test\n    void testSendB() throws ExecutionException, InterruptedException {\n        Consumer&lt;PubSubMessage&gt; function = catalog.lookup(MyFunction.class, FUNCTION_DEFINITION);\n        var pubSubMessage = new PubSubMessage();\n        pubSubMessage.setData(Base64.getEncoder().encodeToString(EMPTY_MESSAGE.getBytes()));\n        function.accept(pubSubMessage);\n\n        List&lt;AcknowledgeablePubsubMessage&gt; msgs =\n                await().until(() -&gt; subscriberTemplate.pull(&quot;test-subscription&quot;, 10, true), not(empty()));\n\n        assertEquals(1, msgs.size());\n        assertEquals(future.get(), msgs.get(0).getPubsubMessage().getMessageId());\n        assertEquals(&quot;hello!&quot;, msgs.get(0).getPubsubMessage().getData().toStringUtf8());\n\n        for (AcknowledgeablePubsubMessage msg : msgs) {\n            msg.ack();\n        }\n    }\n</code></pre>\n<p>it will throw error:</p>\n<pre><code>java.lang.RuntimeException: java.util.concurrent.ExecutionException: com.google.api.gax.rpc.NotFoundException: io.grpc.StatusRuntimeException: NOT_FOUND: Resource not found (resource=test-topic).\n</code></pre>\n<p>where my service implementation uses <code>Publisher</code> instead of <code>PubSubPublisherTemplate</code> from the example:</p>\n<pre><code>    private final Publisher publisher;\n\n    public void publishMessage(String message) {\n        var byteStr = ByteString.copyFrom(message, StandardCharsets.UTF_8);\n        var pubsubApiMessage = getPubsubApiMessage(byteStr);\n\n        try {\n            publish(pubsubApiMessage);\n        } catch (Exception e) {\n            log.error(&quot;Error during event publishing: &quot; + e.getMessage(), e);\n            throw new RuntimeException(e);\n        }\n    }\n\n    private void publish(PubsubMessage pubsubApiMessage) throws Exception {\n        publisher.publish(pubsubApiMessage).get();\n    }\n\n    private PubsubMessage getPubsubApiMessage(ByteString byteStr) {\n        return PubsubMessage.newBuilder()\n                            .setData(byteStr)\n                            .build();\n    }\n</code></pre>\n<p>and works fine when deployed to GCP but not in this case of integration test using PubSub emulator.</p>\n"},{"tags":["java","intellij-idea","main-method"],"answers":[{"tags":[],"owner":{"account_id":944791,"reputation":4875,"user_id":972240,"accept_rate":100,"display_name":"gevorg"},"down_vote_count":3,"up_vote_count":92,"is_accepted":true,"score":89,"last_activity_date":1462569792,"creation_date":1462569792,"answer_id":37081639,"question_id":37081574,"body_markdown":"Right click on **src** directory and select option **Mark Directory As** &gt; **Sources Root**.","title":"Intellij doesn&#39;t show run button","body":"<p>Right click on <strong>src</strong> directory and select option <strong>Mark Directory As</strong> > <strong>Sources Root</strong>.</p>\n"},{"tags":[],"owner":{"account_id":3881996,"reputation":308,"user_id":3214249,"accept_rate":55,"display_name":"Zmiter"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1575592469,"creation_date":1575592469,"answer_id":59205235,"question_id":37081574,"body_markdown":"In my case **Run**/**Debug** buttons disappeared for all projects after updating from IDEA 2019.2 to 2019.3. Tried checking Sources Root, Invalidate Caches, Run/Debug configurations etc - no luck. Only restoring Run/Debug action group helped:\r\n\r\nRight click on main toolbar (where the button disappeared) &gt; Customize Menus and Toolbars... &gt; select Run/Debug &gt; Restore Run/Debug.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/85Bc0.png","title":"Intellij doesn&#39;t show run button","body":"<p>In my case <strong>Run</strong>/<strong>Debug</strong> buttons disappeared for all projects after updating from IDEA 2019.2 to 2019.3. Tried checking Sources Root, Invalidate Caches, Run/Debug configurations etc - no luck. Only restoring Run/Debug action group helped:</p>\n\n<p>Right click on main toolbar (where the button disappeared) > Customize Menus and Toolbars... > select Run/Debug > Restore Run/Debug.</p>\n\n<p><a href=\"https://i.stack.imgur.com/85Bc0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/85Bc0.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5371360,"reputation":350,"user_id":4279793,"display_name":"Tkim"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1593788091,"creation_date":1593788091,"answer_id":62717942,"question_id":37081574,"body_markdown":"I got the same problem with intellij 2019.3 and 2020.1 and found the solution here : https://youtrack.jetbrains.com/issue/IDEA-228180.\r\n\r\nBasically, in the IDE the buttons run/debug and the error detection in the code were missing. \r\n\r\nThe fix was to disable the plugin &#39;Gradle&#39; (I don&#39;t need it anyway) : \r\nSettings &gt; Plugins &gt; Gradle and click disable and apply.\r\nAfter restarting your IDE it should work","title":"Intellij doesn&#39;t show run button","body":"<p>I got the same problem with intellij 2019.3 and 2020.1 and found the solution here : <a href=\"https://youtrack.jetbrains.com/issue/IDEA-228180\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-228180</a>.</p>\n<p>Basically, in the IDE the buttons run/debug and the error detection in the code were missing.</p>\n<p>The fix was to disable the plugin 'Gradle' (I don't need it anyway) :\nSettings &gt; Plugins &gt; Gradle and click disable and apply.\nAfter restarting your IDE it should work</p>\n"},{"tags":[],"owner":{"account_id":2770364,"reputation":1493,"user_id":8390382,"display_name":"lainatnavi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597765303,"creation_date":1597765303,"answer_id":63472063,"question_id":37081574,"body_markdown":"Another reason could be the Highlighting Level set to None, it should be set at least to Syntax.","title":"Intellij doesn&#39;t show run button","body":"<p>Another reason could be the Highlighting Level set to None, it should be set at least to Syntax.</p>\n"},{"tags":[],"owner":{"account_id":3404868,"reputation":3924,"user_id":2856202,"accept_rate":50,"display_name":"daparic"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1601374515,"creation_date":1601374515,"answer_id":64117515,"question_id":37081574,"body_markdown":"There is an Intellij bug that will result to an intermittent disappearance of that little tiny green run button on the left side of the source code (on same column where the red circle breakpoints are). Yes, you can right-click on the mouse and can do the run via the menu, **BUT** we love that tiny green button so bring it back!! From time to time, i see this green friend and then suddenly it vanish mysteriously and comes back again. I did all, such as `rm -rf .idea` and other weird stuff, but no explanation has ever been achieved to explain the vanishing green button and it&#39;s sudden re-appearance intermittently.\r\n\r\nI am drafting this answer, because all of the above answers seems to claim that there is a logical explanation of the intermittent disappearance of our little green friend and that a sequence of steps exists to make our little green friend re-appear, when in fact, there is no such steps and we just have to accept this is a bug to save the remaining hairs in our scalp.","title":"Intellij doesn&#39;t show run button","body":"<p>There is an Intellij bug that will result to an intermittent disappearance of that little tiny green run button on the left side of the source code (on same column where the red circle breakpoints are). Yes, you can right-click on the mouse and can do the run via the menu, <strong>BUT</strong> we love that tiny green button so bring it back!! From time to time, i see this green friend and then suddenly it vanish mysteriously and comes back again. I did all, such as <code>rm -rf .idea</code> and other weird stuff, but no explanation has ever been achieved to explain the vanishing green button and it's sudden re-appearance intermittently.</p>\n<p>I am drafting this answer, because all of the above answers seems to claim that there is a logical explanation of the intermittent disappearance of our little green friend and that a sequence of steps exists to make our little green friend re-appear, when in fact, there is no such steps and we just have to accept this is a bug to save the remaining hairs in our scalp.</p>\n"},{"tags":[],"owner":{"account_id":20245621,"reputation":1,"user_id":14848173,"display_name":"anonymous123"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1608279423,"creation_date":1608268744,"answer_id":65352131,"question_id":37081574,"body_markdown":"I also applied all these methods but it still didn&#39;t work so I stopped my window firewall and allowed access for this application. I don&#39;t know how it worked out for me but it just got displayed on top of my screen that window defender firewall has stopped some of this app&#39;s features and there was an option to allow so I clicked on it and it now works just fine.","title":"Intellij doesn&#39;t show run button","body":"<p>I also applied all these methods but it still didn't work so I stopped my window firewall and allowed access for this application. I don't know how it worked out for me but it just got displayed on top of my screen that window defender firewall has stopped some of this app's features and there was an option to allow so I clicked on it and it now works just fine.</p>\n"},{"tags":[],"owner":{"account_id":21099052,"reputation":1,"user_id":15509360,"display_name":"Kai Wang"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1628810874,"creation_date":1628794674,"answer_id":68762866,"question_id":37081574,"body_markdown":"Reinstall the IDE, it solved my problem.","title":"Intellij doesn&#39;t show run button","body":"<p>Reinstall the IDE, it solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":9795395,"reputation":11,"user_id":8044407,"display_name":"VitalyR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633983418,"creation_date":1633982993,"answer_id":69531952,"question_id":37081574,"body_markdown":"First, make the folder as source root.\r\n\r\nSecond, make sure you set the project’s sdk correctly. For example, if you set the sdk correctly then `import java.util.Scanner` can be analyzed by IDEA. \r\n\r\nTip: \r\n1. try not setting the SDK to IDEA’s bundled JDK. I set the project’s SDK to JDK 11 bundled by IDEA at first then found it couldn’t resolve `import java.util.Scanner`. Setting to JDK 16 which is installed by the OS’s package manager solved this problem, then the “run” button showed up.\r\n\r\n2. If IDEA can index a java file then the file icon will show with a small “c”, indicating a java class. If not, the file icon will show with a small “j”, as this problem’s image shows, indicating a java file which IDEA doesn’t index.","title":"Intellij doesn&#39;t show run button","body":"<p>First, make the folder as source root.</p>\n<p>Second, make sure you set the project’s sdk correctly. For example, if you set the sdk correctly then <code>import java.util.Scanner</code> can be analyzed by IDEA.</p>\n<p>Tip:</p>\n<ol>\n<li><p>try not setting the SDK to IDEA’s bundled JDK. I set the project’s SDK to JDK 11 bundled by IDEA at first then found it couldn’t resolve <code>import java.util.Scanner</code>. Setting to JDK 16 which is installed by the OS’s package manager solved this problem, then the “run” button showed up.</p>\n</li>\n<li><p>If IDEA can index a java file then the file icon will show with a small “c”, indicating a java class. If not, the file icon will show with a small “j”, as this problem’s image shows, indicating a java file which IDEA doesn’t index.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11281211,"reputation":1194,"user_id":8273551,"display_name":"Slycreator"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635832885,"creation_date":1635832885,"answer_id":69805976,"question_id":37081574,"body_markdown":"I had this issue when building a microservice with SpringBoot.\r\nI added a new microservice into the root folder and I could not run it.I am using Maven.\r\n\r\n Step:\r\n- Open pom.xml\r\n- right click and select &quot;Add as maven project&quot;\r\nIt should resolve it immediately but you can reload the IDE if it does not update immediately.\r\n\r\n","title":"Intellij doesn&#39;t show run button","body":"<p>I had this issue when building a microservice with SpringBoot.\nI added a new microservice into the root folder and I could not run it.I am using Maven.</p>\n<p>Step:</p>\n<ul>\n<li>Open pom.xml</li>\n<li>right click and select &quot;Add as maven project&quot;\nIt should resolve it immediately but you can reload the IDE if it does not update immediately.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4508992,"reputation":1563,"user_id":3665662,"display_name":"amer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651141672,"creation_date":1651141672,"answer_id":72042079,"question_id":37081574,"body_markdown":"IDE: **Idea 2021.2.3** \r\n\r\nBuild tool: **Gradle**\r\n\r\nI removed the `.idea` and reimported the project from the Gradle source. Worked fine after.","title":"Intellij doesn&#39;t show run button","body":"<p>IDE: <strong>Idea 2021.2.3</strong></p>\n<p>Build tool: <strong>Gradle</strong></p>\n<p>I removed the <code>.idea</code> and reimported the project from the Gradle source. Worked fine after.</p>\n"},{"tags":[],"owner":{"account_id":1917319,"reputation":428,"user_id":1729649,"display_name":"Sukh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675028941,"creation_date":1675028941,"answer_id":75278629,"question_id":37081574,"body_markdown":"In my case there was a plugin (springboot helper) which I had to disable.","title":"Intellij doesn&#39;t show run button","body":"<p>In my case there was a plugin (springboot helper) which I had to disable.</p>\n"},{"tags":[],"owner":{"account_id":18434019,"reputation":11,"user_id":13428401,"display_name":"Altaha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679016047,"creation_date":1679016047,"answer_id":75762985,"question_id":37081574,"body_markdown":"I face similar issue. Later i found out that it&#39;s happened because i install a plugin called ZK (Zul Framework). After i disable that plugin, the button reappear and everything works fine.\r\n\r\nYou can try to disable some plugin on your intellij by click file &gt; settings &gt; plugins &gt; installed &gt; choose a plugin that you consider make this issue &gt; disable &gt; apply &gt; ok &gt; restart your intellij.\r\n\r\n[![open settings][1]][1]\r\n\r\n\r\n[![disable plugin][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fmZqS.png\r\n  [2]: https://i.stack.imgur.com/aURql.png","title":"Intellij doesn&#39;t show run button","body":"<p>I face similar issue. Later i found out that it's happened because i install a plugin called ZK (Zul Framework). After i disable that plugin, the button reappear and everything works fine.</p>\n<p>You can try to disable some plugin on your intellij by click file &gt; settings &gt; plugins &gt; installed &gt; choose a plugin that you consider make this issue &gt; disable &gt; apply &gt; ok &gt; restart your intellij.</p>\n<p><a href=\"https://i.stack.imgur.com/fmZqS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fmZqS.png\" alt=\"open settings\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/aURql.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aURql.png\" alt=\"disable plugin\" /></a></p>\n"}],"owner":{"account_id":2431702,"reputation":2709,"user_id":2122457,"accept_rate":83,"display_name":"Ugnius Malūkas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77624,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":37081639,"answer_count":12,"score":31,"last_activity_date":1684945862,"creation_date":1462569486,"question_id":37081574,"body_markdown":"Intellij doesn&#39;t show run button even if that file is in *src* folder.\r\n\r\n[![no run button][1]][1]\r\n\r\n  [1]: http://i.stack.imgur.com/9O0lP.png\r\n\r\nMaybe do you know what to do?\r\n\r\nP. s. It&#39;s strange because that file used to show run button but after recloning git repository it just doesn&#39;t show any more.","title":"Intellij doesn&#39;t show run button","body":"<p>Intellij doesn't show run button even if that file is in <em>src</em> folder.</p>\n\n<p><a href=\"https://i.stack.imgur.com/9O0lP.png\"><img src=\"https://i.stack.imgur.com/9O0lP.png\" alt=\"no run button\"></a></p>\n\n<p>Maybe do you know what to do?</p>\n\n<p>P. s. It's strange because that file used to show run button but after recloning git repository it just doesn't show any more.</p>\n"},{"tags":["java","junit5","archunit"],"owner":{"account_id":1124885,"reputation":787,"user_id":1112408,"display_name":"vboerchers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684945844,"creation_date":1684178477,"question_id":76257350,"body_markdown":"I want to customize a shared ArchUnit library containing a bunch of ArchRules by excluding some optional rules on the using side. The library looks like this\r\n``` java\r\n@AnalyzeClasses(packages = &quot;com.acme&quot;)\r\nclass ArchUnitTestLibrary {\r\n    @ArchTag(&quot;optional&quot;)\r\n    @ArchTest\r\n    static final ArchRule optional_rule = classes().that()....;\r\n\r\n    @ArchTest\r\n    static final ArchRule mandatory_rule = classes().that()....;\r\n}\r\n```\r\n\r\nand the using specific tests look like this:\r\n``` java\r\n@AnalyzeClasses(packages = &quot;com.acme&quot;)\r\nclass ArchUnitTest {\r\n    @ArchTest\r\n    static final ArchTests includedRules = ArchTests.in(ArchUnitTestLibrary.class);\r\n}\r\n```\r\n\r\nIs it possible to exclude the rules tagged with &quot;optional&quot; programmatically? I know that I could instruct the maven runner to exclude tags but I would prefer to keep the integration and execution simple for the users of the library.","title":"How to filter ArchUnit rules by ArchTag programatically?","body":"<p>I want to customize a shared ArchUnit library containing a bunch of ArchRules by excluding some optional rules on the using side. The library looks like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AnalyzeClasses(packages = &quot;com.acme&quot;)\nclass ArchUnitTestLibrary {\n    @ArchTag(&quot;optional&quot;)\n    @ArchTest\n    static final ArchRule optional_rule = classes().that()....;\n\n    @ArchTest\n    static final ArchRule mandatory_rule = classes().that()....;\n}\n</code></pre>\n<p>and the using specific tests look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AnalyzeClasses(packages = &quot;com.acme&quot;)\nclass ArchUnitTest {\n    @ArchTest\n    static final ArchTests includedRules = ArchTests.in(ArchUnitTestLibrary.class);\n}\n</code></pre>\n<p>Is it possible to exclude the rules tagged with &quot;optional&quot; programmatically? I know that I could instruct the maven runner to exclude tags but I would prefer to keep the integration and execution simple for the users of the library.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9580,"page":412,"page_size":100}
